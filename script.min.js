const _0x4414d4=_0xbc6d;(function(_0x5b4be7,_0x2052b9){const _0x121ab6=_0xbc6d,_0x9a183=_0x5b4be7();while(!![]){try{const _0x31caf8=parseInt(_0x121ab6(0x38d))/0x1+-parseInt(_0x121ab6(0x51a))/0x2+-parseInt(_0x121ab6(0x782))/0x3+-parseInt(_0x121ab6(0x702))/0x4*(parseInt(_0x121ab6(0x6a6))/0x5)+-parseInt(_0x121ab6(0x82b))/0x6+-parseInt(_0x121ab6(0x5a3))/0x7*(-parseInt(_0x121ab6(0x745))/0x8)+parseInt(_0x121ab6(0x5af))/0x9;if(_0x31caf8===_0x2052b9)break;else _0x9a183['push'](_0x9a183['shift']());}catch(_0x128a7c){_0x9a183['push'](_0x9a183['shift']());}}}(_0x58bd,0xea1b0));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x3ecc7d=_0xbc6d;if(_0x3ecc7d(0xab4)in navigator)try{wakeLock=await navigator[_0x3ecc7d(0xab4)]['request'](_0x3ecc7d(0x27b)),console[_0x3ecc7d(0xaf0)](_0x3ecc7d(0x5e0)),wakeLock[_0x3ecc7d(0x7bb)](_0x3ecc7d(0x9da),()=>{const _0x53b6b1=_0x3ecc7d;console[_0x53b6b1(0xaf0)](_0x53b6b1(0x615));});}catch(_0x17c887){console[_0x3ecc7d(0xb95)](_0x3ecc7d(0x87c)+_0x17c887[_0x3ecc7d(0x815)]+',\x20'+_0x17c887['message']);}else console[_0x3ecc7d(0xa14)](_0x3ecc7d(0xb48));},releaseWakeLock=async()=>{const _0x507b07=_0xbc6d;wakeLock!==null&&(await wakeLock[_0x507b07(0x9da)](),wakeLock=null,console[_0x507b07(0xaf0)](_0x507b07(0x7e1)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0xb7c08e=_0xbc6d;if(dimTimer)clearTimeout(dimTimer);document[_0xb7c08e(0xab6)][_0xb7c08e(0xbeb)][_0xb7c08e(0x303)](_0xb7c08e(0x2fb)),dimTimer=setTimeout(()=>{const _0x4133fa=_0xb7c08e;document[_0x4133fa(0xab6)]['classList'][_0x4133fa(0x7bd)](_0x4133fa(0x2fb)),console[_0x4133fa(0xaf0)](_0x4133fa(0x900));},inactivityTime);}function stopDimTimer(){const _0x43152b=_0xbc6d;if(dimTimer)clearTimeout(dimTimer);document[_0x43152b(0xab6)][_0x43152b(0xbeb)][_0x43152b(0x303)](_0x43152b(0x2fb)),window[_0x43152b(0x3ee)](_0x43152b(0x38c),resetDimTimer),window[_0x43152b(0x3ee)]('mousedown',resetDimTimer),window[_0x43152b(0x3ee)](_0x43152b(0x4dd),resetDimTimer),window[_0x43152b(0x3ee)]('keydown',resetDimTimer),console[_0x43152b(0xaf0)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x1fea01,_0x11fd6b=![]){const _0x34becc=_0xbc6d,_0x2ace2a=allQuizzes[_0x34becc(0xbc5)](_0x407a2f=>_0x407a2f['id']===_0x1fea01)||allQuizzesGlobal[_0x34becc(0xbc5)](_0x564070=>_0x564070['id']===_0x1fea01);if(!_0x2ace2a){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x2ace2a);const _0xb3f2e3=Math[_0x34becc(0x688)](0x3e8+Math[_0x34becc(0xc29)]()*0x2328)['toString']();try{const _0x2c0e49=await addDoc(collection(db,_0x34becc(0x763)+appId+_0x34becc(0x98b)),{'quizId':_0x2ace2a['id'],'projectId':_0x2ace2a[_0x34becc(0x661)],'status':'lobby','pin':_0xb3f2e3,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x11fd6b});currentTeamQuizId=_0x2c0e49['id'],showView(_0x34becc(0x70c)),renderAdminTeamQuizDashboard(_0xb3f2e3,_0x2ace2a[_0x34becc(0x78b)]),listenForTeamQuizUpdates();}catch(_0x594b53){console[_0x34becc(0xb95)]('Error\x20starting\x20team\x20quiz:',_0x594b53),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x1cacf9,_0x526ae4,_0x57b25e=_0x4414d4(0x56e)){const _0x2edf05=_0x4414d4,_0xdf438=_0x57b25e==='group'?_0x2edf05(0xbc6):'Team\x20Quiz';liveGameView[_0x2edf05(0x61b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0xdf438+':\x20'+_0x526ae4+_0x2edf05(0xaff)+_0x1cacf9+_0x2edf05(0x713),document[_0x2edf05(0x651)](_0x2edf05(0x8d6))[_0x2edf05(0x7bb)](_0x2edf05(0x530),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?',async()=>{const _0x5ce306=_0xbc6d;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x5ce306(0x763)+appId+_0x5ce306(0x98b),currentTeamQuizId)),showView(_0x5ce306(0x2bf));});});}function listenForTeamQuizUpdates(){const _0x8c3779=_0x4414d4;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x475ed4=doc(db,_0x8c3779(0x763)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x475ed4,_0x20dcde=>{const _0xf0c781=_0x8c3779;if(!_0x20dcde[_0xf0c781(0x523)]()){sessionStorage['removeItem'](_0xf0c781(0x546));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0xf0c781(0xb54));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0xf0c781(0x512)?showView(_0xf0c781(0x2bf)):showView(_0xf0c781(0x1e0));return;}const _0x2350e7=_0x20dcde[_0xf0c781(0x213)]();if(currentMode==='admin'){if(_0x2350e7[_0xf0c781(0x540)]===_0xf0c781(0x19a)&&_0x2350e7['status']!==_0xf0c781(0xa20)&&_0x2350e7[_0xf0c781(0x7f9)]!==_0xf0c781(0x8d5)){const _0x1ad318=Object[_0xf0c781(0x329)](_0x2350e7[_0xf0c781(0x760)]||{});if(_0x1ad318[_0xf0c781(0x9fa)]>0x0){const _0x3feaea=_0x1ad318[_0xf0c781(0xb68)](_0x63646=>_0x63646[_0xf0c781(0xb55)]===!![]);_0x3feaea&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x2350e7);}else{if(_0x2350e7[_0xf0c781(0x7f9)]===_0xf0c781(0xa20)||_0x2350e7['status']==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x2350e7['mode']==='group'){const _0x2b667d=_0x2350e7[_0xf0c781(0x760)][userId];(!_0x2b667d||!_0x2b667d[_0xf0c781(0xb55)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x49476b){const _0x58c846=_0x4414d4;console['log'](_0x58c846(0x5b9));const _0x48d81e=doc(db,'artifacts/'+appId+_0x58c846(0x98b),_0x49476b);try{const _0x544d12=await getDoc(_0x48d81e);if(_0x544d12[_0x58c846(0x523)]()){const _0x43ae02=_0x544d12[_0x58c846(0x213)]();_0x43ae02['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x43ae02);}await updateDoc(_0x48d81e,{'status':_0x58c846(0xa20)});}catch(_0x263f39){console[_0x58c846(0xb95)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x263f39);}}function updateAdminTeamDashboard(_0x1d3c70){const _0xd0ad93=_0x4414d4,_0x36f9b3=document[_0xd0ad93(0x651)]('team-player-status-grid');if(!_0x36f9b3)return;const _0x114732=_0x1d3c70[_0xd0ad93(0x540)]||_0xd0ad93(0x56e),_0x5d2fc9=currentQuizData[_0xd0ad93(0x132)]['length'];if(_0x114732==='group'){const _0x39ba3c=Object[_0xd0ad93(0x329)](_0x1d3c70[_0xd0ad93(0x760)]||{});if(_0x39ba3c['length']===0x0){_0x36f9b3[_0xd0ad93(0x61b)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x30bc9e=[..._0x39ba3c]['sort']((_0x1e4634,_0x52d0bb)=>_0x52d0bb[_0xd0ad93(0x288)]-_0x1e4634[_0xd0ad93(0x288)]),_0x3b086b=_0x30bc9e[_0xd0ad93(0xb6a)]((_0x464a0a,_0xafef15)=>{const _0x58a5c6=_0xd0ad93,_0x53b9e5=_0x464a0a[_0x58a5c6(0xc15)]?.[_0x58a5c6(0x9fa)]||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0xafef15+0x1)+_0x58a5c6(0x28c)+_0x464a0a['members'][_0x58a5c6(0x254)](',\x20')+_0x58a5c6(0x96d)+_0x53b9e5+'/'+_0x5d2fc9+_0x58a5c6(0x89f)+_0x464a0a[_0x58a5c6(0x288)]+_0x58a5c6(0x490);})[_0xd0ad93(0x254)](''),_0x39267c=currentQuizData[_0xd0ad93(0x132)]['map']((_0x2e2cc4,_0x243c64)=>{const _0x516376=_0xd0ad93;let _0x11e813=0x0,_0x5d275e=0x0;_0x39ba3c[_0x516376(0x15f)](_0xdfff78=>{const _0x40919a=_0x516376,_0x1e7a7c=_0xdfff78['answers']?.[_0x40919a(0xbc5)](_0x26152a=>_0x26152a[_0x40919a(0x1e1)]===_0x243c64);if(_0x1e7a7c){_0x5d275e++;if(_0x1e7a7c[_0x40919a(0x2c8)])_0x11e813++;}});const _0x57a31b=_0x5d275e>0x0&&_0x5d275e===_0x39ba3c[_0x516376(0x9fa)],_0x2d129b=_0x57a31b?'bg-green-200\x20text-green-900\x20font-bold':'bg-black/10',_0x395554=_0x57a31b?_0x516376(0x5fd):'';return _0x516376(0x9e6)+_0x2d129b+_0x516376(0x804)+(_0x243c64+0x1)+_0x516376(0x135)+_0x395554+_0x516376(0xb99)+_0x11e813+'/'+_0x39ba3c['length']+_0x516376(0xbee);})[_0xd0ad93(0x254)]('');_0x36f9b3[_0xd0ad93(0x61b)]=_0xd0ad93(0xa1f)+_0x3b086b+_0xd0ad93(0x692)+_0x39267c+_0xd0ad93(0x50b);return;}const _0x39a058=_0x1d3c70[_0xd0ad93(0x9cb)]||{},_0x358182=Object[_0xd0ad93(0x84e)](_0x39a058);if(_0x358182[_0xd0ad93(0x9fa)]===0x0){_0x36f9b3['innerHTML']=_0xd0ad93(0x91c);return;}const _0x59c3c6=_0x358182[_0xd0ad93(0xb6a)](_0x338f04=>({'name':_0x338f04,'score':_0x39a058[_0x338f04][_0xd0ad93(0x288)]||0x0}))['sort']((_0x175911,_0x4a450c)=>_0x4a450c['score']-_0x175911[_0xd0ad93(0x288)]),_0x3db90b=_0x59c3c6[_0xd0ad93(0xb6a)](_0x326e48=>{const _0x3954fb=_0xd0ad93,_0x433b2a=_0x39a058[_0x326e48[_0x3954fb(0x815)]]?.[_0x3954fb(0xc15)]?.[_0x3954fb(0x9fa)]||0x0,_0x3e8979=Math[_0x3954fb(0x608)](_0x5d2fc9/_0x358182['length']);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x326e48[_0x3954fb(0x815)]+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x433b2a+'/'+_0x3e8979+_0x3954fb(0x522)+_0x326e48[_0x3954fb(0x288)]+_0x3954fb(0x70e);})[_0xd0ad93(0x254)](''),_0x7405f0=_0x358182['reduce']((_0x314b38,_0x2aa1b4)=>_0x314b38+(_0x39a058[_0x2aa1b4][_0xd0ad93(0xc15)]?.[_0xd0ad93(0x9fa)]||0x0),0x0),_0x2273ce=currentQuizData[_0xd0ad93(0x132)]['map']((_0x40ea3a,_0x13944d)=>{const _0x2da8c2=_0xd0ad93;let _0x1b819a=null,_0x4422f8=null;for(const _0x153045 of _0x358182){const _0x1cbdf3=_0x39a058[_0x153045][_0x2da8c2(0xc15)]?.[_0x2da8c2(0xbc5)](_0x1a094f=>_0x1a094f[_0x2da8c2(0x1e1)]===_0x13944d);if(_0x1cbdf3){_0x1b819a=_0x1cbdf3,_0x4422f8=_0x153045;break;}}const _0x540e1f=!!_0x1b819a,_0x3cbb3b=_0x540e1f&&_0x1b819a['isCorrect'],_0x4ff2d8=(Math[_0x2da8c2(0x688)](_0x13944d/_0x358182[_0x2da8c2(0x9fa)])+0x1)*_0x358182[_0x2da8c2(0x9fa)],_0x3788c0=_0x7405f0>=_0x4ff2d8,_0x45872c=_0x3788c0?_0x2da8c2(0xad4):'bg-black/10',_0x4f992f=_0x3788c0?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0xdf130b='รอ...';return _0x540e1f&&(_0xdf130b=_0x4422f8+_0x2da8c2(0x33d)+(_0x3cbb3b?_0x2da8c2(0x890):_0x2da8c2(0x7b5))),_0x2da8c2(0x9e6)+_0x45872c+_0x2da8c2(0x804)+(_0x13944d+0x1)+_0x2da8c2(0x135)+_0x4f992f+_0x2da8c2(0x32a)+_0xdf130b+_0x2da8c2(0x548);})[_0xd0ad93(0x254)]('');_0x36f9b3[_0xd0ad93(0x61b)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x3db90b+_0xd0ad93(0x7ae)+_0x2273ce+_0xd0ad93(0x50b);}async function handleJoinTeamQuiz(){const _0x8fb6c=_0x4414d4,_0x5e43ed=prompt(_0x8fb6c(0x7e7));if(!_0x5e43ed||_0x5e43ed[_0x8fb6c(0x4fe)]()[_0x8fb6c(0x9fa)]!==0x4){showMessage(_0x8fb6c(0xc27));return;}try{const _0xd3ba03=collection(db,'artifacts/'+appId+_0x8fb6c(0x98b)),_0x24a916=query(_0xd3ba03,where('pin','==',_0x5e43ed[_0x8fb6c(0x4fe)]()),where('status','==','lobby')),_0x201fd5=await getDocs(_0x24a916);if(_0x201fd5['empty']){showMessage(_0x8fb6c(0x5ff));return;}const _0x3b2a0b=_0x201fd5['docs'][0x0];currentTeamQuizId=_0x3b2a0b['id'];const _0x59938d=_0x3b2a0b[_0x8fb6c(0x213)](),_0x298596=doc(db,_0x8fb6c(0x763)+appId+_0x8fb6c(0x714),_0x59938d[_0x8fb6c(0x661)]),_0x3861dc=doc(db,_0x8fb6c(0x763)+appId+_0x8fb6c(0x2cd),_0x59938d[_0x8fb6c(0x8c6)]),[_0x4afd51,_0x2af670]=await Promise[_0x8fb6c(0x7a2)]([getDoc(_0x298596),getDoc(_0x3861dc)]);if(!_0x4afd51['exists']()||!_0x2af670[_0x8fb6c(0x523)]())throw new Error(_0x8fb6c(0xa7c));currentQuizData=getShuffledQuiz({'id':_0x2af670['id'],..._0x2af670[_0x8fb6c(0x213)]()});const _0x6b3d52=_0x4afd51[_0x8fb6c(0x213)]();showTeamPlayerSelection(_0x6b3d52[_0x8fb6c(0xb29)],currentQuizData[_0x8fb6c(0x78b)]);}catch(_0x381828){console['error'](_0x8fb6c(0xbd3),_0x381828),showMessage(_0x8fb6c(0x750)+_0x381828['message']);}}async function handleJoinGroupActivity(){const _0x45c9bd=_0x4414d4,_0x3da79a=prompt(_0x45c9bd(0x6b1));if(!_0x3da79a||_0x3da79a[_0x45c9bd(0x4fe)]()[_0x45c9bd(0x9fa)]!==0x4){showMessage(_0x45c9bd(0x7ce));return;}const _0x2d0041=_0x3da79a[_0x45c9bd(0x4fe)]();showMessage(_0x45c9bd(0x395));try{const _0x18c876=collection(db,_0x45c9bd(0x763)+appId+_0x45c9bd(0x98b)),_0x34c588=query(_0x18c876,where('pin','==',_0x2d0041),where('status','==',_0x45c9bd(0xb4f))),_0x991e77=await getDocs(_0x34c588);if(!_0x991e77[_0x45c9bd(0x606)]){console['log']('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x991e77['docs'][0x0]);return;}const _0x2df160=collection(db,_0x45c9bd(0x763)+appId+_0x45c9bd(0x683)),_0x35f315=query(_0x2df160,where(_0x45c9bd(0x1a3),'==',_0x2d0041),where(_0x45c9bd(0x7f9),'==',_0x45c9bd(0xb4f))),_0x2ebf07=await getDocs(_0x35f315);if(!_0x2ebf07[_0x45c9bd(0x606)]){console[_0x45c9bd(0xaf0)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x2ebf07['docs'][0x0]);return;}showMessage(_0x45c9bd(0x860));}catch(_0x1829a8){console[_0x45c9bd(0xb95)](_0x45c9bd(0x729),_0x1829a8),showMessage(_0x45c9bd(0x43a)+_0x1829a8['message']);}}async function proceedWithTeamQuizJoin(_0x6273f7){const _0x1f19c5=_0x4414d4;currentTeamQuizId=_0x6273f7['id'];const _0x1aeb7e=_0x6273f7['data'](),_0x56a6be=doc(db,_0x1f19c5(0x763)+appId+'/public/data/projects',_0x1aeb7e['projectId']),_0x1014de=doc(db,_0x1f19c5(0x763)+appId+'/public/data/quizzes',_0x1aeb7e[_0x1f19c5(0x8c6)]),[_0x1e5c4e,_0x53a0cf]=await Promise[_0x1f19c5(0x7a2)]([getDoc(_0x56a6be),getDoc(_0x1014de)]);if(!_0x1e5c4e['exists']()||!_0x53a0cf[_0x1f19c5(0x523)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x53a0cf['id'],..._0x53a0cf[_0x1f19c5(0x213)]()}),showTeamPlayerSelection(_0x1e5c4e[_0x1f19c5(0x213)]()['students'],currentQuizData[_0x1f19c5(0x78b)],_0x1aeb7e[_0x1f19c5(0x540)]||_0x1f19c5(0x56e)),messageModal[_0x1f19c5(0xbeb)]['add']('hidden');}async function proceedWithSyncQuizJoin(_0x58127f){const _0x3701dd=_0x4414d4;currentLiveGameId=_0x58127f['id'];const _0x41934a=_0x58127f[_0x3701dd(0x213)](),_0x597c5b=doc(db,_0x3701dd(0x763)+appId+_0x3701dd(0x2cd),_0x41934a[_0x3701dd(0x8c6)]),_0x1d8742=await getDoc(_0x597c5b);if(!_0x1d8742['exists']())throw new Error(_0x3701dd(0xb80));const _0x4a7be2=_0x1d8742[_0x3701dd(0x213)](),_0x40e15d=doc(db,_0x3701dd(0x763)+appId+_0x3701dd(0x714),_0x4a7be2[_0x3701dd(0x661)]),_0x22d03e=await getDoc(_0x40e15d);if(!_0x22d03e[_0x3701dd(0x523)]())throw new Error(_0x3701dd(0x95d));currentQuizData=_0x41934a['shuffledQuiz'],showView(_0x3701dd(0x747)),showTeamPlayerSelection(_0x22d03e[_0x3701dd(0x213)]()[_0x3701dd(0xb29)],_0x4a7be2[_0x3701dd(0x78b)],_0x3701dd(0x619)),document['getElementById'](_0x3701dd(0xa8d))[_0x3701dd(0x901)]=confirmAndJoinSyncGame,messageModal[_0x3701dd(0xbeb)][_0x3701dd(0x7bd)](_0x3701dd(0x6ca));}function getCleanApplicationHTML(){const _0x3b50bc=_0x4414d4,_0x42e023=document[_0x3b50bc(0x651)]('applicationContent');if(!_0x42e023)return'';const _0x49a268=_0x42e023[_0x3b50bc(0x9b7)](!![]);return _0x49a268[_0x3b50bc(0x514)](_0x3b50bc(0x180))[_0x3b50bc(0x15f)](_0x43485b=>{const _0x55c705=_0x3b50bc;_0x43485b['classList'][_0x55c705(0x303)](_0x55c705(0xa3d),_0x55c705(0x322)),_0x43485b[_0x55c705(0x993)]=![];}),_0x49a268[_0x3b50bc(0x61b)];}function showTeamPlayerSelection(_0x4ff507,_0x334cd1,_0x17b993='team'){const _0x4eda48=_0x4414d4;studentInitialView['classList'][_0x4eda48(0x7bd)](_0x4eda48(0x6ca)),studentJoinGameView[_0x4eda48(0xbeb)]['add'](_0x4eda48(0x6ca)),document[_0x4eda48(0x651)](_0x4eda48(0x65e))[_0x4eda48(0xbeb)][_0x4eda48(0x303)](_0x4eda48(0x6ca));let _0x4b39ca=_0x4eda48(0x89a);if(_0x17b993===_0x4eda48(0x19a))_0x4b39ca='Group\x20Mode';else _0x17b993===_0x4eda48(0x619)&&(_0x4b39ca=_0x4eda48(0xac4));document[_0x4eda48(0x651)](_0x4eda48(0x434))['textContent']=_0x4b39ca+':\x20'+_0x334cd1;const _0x2870eb=document[_0x4eda48(0x651)](_0x4eda48(0xb7a));if(!_0x4ff507||_0x4ff507[_0x4eda48(0x9fa)]===0x0){_0x2870eb[_0x4eda48(0x61b)]='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document[_0x4eda48(0x651)](_0x4eda48(0xa8d))[_0x4eda48(0x993)]=!![];return;}_0x2870eb['innerHTML']=_0x4ff507[_0x4eda48(0xb6a)](_0x1d1700=>_0x4eda48(0x67f)+_0x1d1700+_0x4eda48(0x6bb)+_0x1d1700+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x4eda48(0x254)](''),document[_0x4eda48(0x651)](_0x4eda48(0xa8d))[_0x4eda48(0x993)]=![];}async function confirmAndStartTeamQuiz(){const _0x45cb05=_0x4414d4,_0x3a33a2=Array[_0x45cb05(0x65a)](document[_0x45cb05(0x514)](_0x45cb05(0x97a)))[_0x45cb05(0xb6a)](_0x58c46f=>_0x58c46f['value']);if(_0x3a33a2[_0x45cb05(0x9fa)]===0x0){showMessage(_0x45cb05(0x4f5));return;}localTeamPlayers=_0x3a33a2,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x2d0a36=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x5e2758=await getDoc(_0x2d0a36);if(!_0x5e2758[_0x45cb05(0x523)]())throw new Error(_0x45cb05(0x3c1));const _0x1246f1=_0x5e2758['data']();if(_0x1246f1[_0x45cb05(0x540)]==='group'){const _0xe76cc8={[_0x45cb05(0x211)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x2d0a36,_0xe76cc8);}else{const _0x553dec=_0x1246f1['responses']||{};localTeamPlayers['forEach'](_0xe7b9b=>{!_0x553dec[_0xe7b9b]&&(_0x553dec[_0xe7b9b]={'score':0x0,'answers':[]});}),await updateDoc(_0x2d0a36,{'responses':_0x553dec});}document[_0x45cb05(0x651)](_0x45cb05(0x65e))[_0x45cb05(0xbeb)][_0x45cb05(0x7bd)](_0x45cb05(0x6ca)),renderTeamQuizQuestion();const _0x425f78={'gameId':currentTeamQuizId,'mode':_0x1246f1[_0x45cb05(0x540)]||_0x45cb05(0x56e),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x45cb05(0x343)]('activeGameSession',JSON[_0x45cb05(0x177)](_0x425f78)),listenForTeamQuizUpdates();}catch(_0x27745){console[_0x45cb05(0xb95)](_0x45cb05(0x958),_0x27745),showMessage(_0x45cb05(0x390));}}async function renderTeamQuizQuestion(){const _0x4908ef=_0x4414d4;if(localQuestionIndex>=currentQuizData[_0x4908ef(0x132)][_0x4908ef(0x9fa)]){displayTeamQuizFinalResults();return;}const _0x42181b=currentQuizData['questions'][localQuestionIndex],_0x5cde9b=localTeamPlayers[localPlayerIndex],_0x50a92a=_0x42181b[_0x4908ef(0xc2f)]||currentQuizData[_0x4908ef(0x76d)];let _0x5b706b=_0x42181b[_0x4908ef(0x610)]||_0x42181b[_0x4908ef(0x364)],_0x3b9db5='';switch(_0x50a92a){case'multiple_choice':case'fill_in_with_choices':_0x3b9db5=_0x42181b[_0x4908ef(0xb4a)][_0x4908ef(0xb6a)]((_0x5e2613,_0x3cb6d7)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x3cb6d7+_0x4908ef(0x793)+_0x3cb6d7+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x3cb6d7+'\x22>'+_0x5e2613+_0x4908ef(0xb10))[_0x4908ef(0x254)]('');break;case'true_false':_0x3b9db5=_0x4908ef(0x536);break;case'short_answer':case _0x4908ef(0x55c):_0x3b9db5=_0x4908ef(0xa7b);break;case _0x4908ef(0x572):_0x3b9db5=_0x4908ef(0x7dc)+_0x42181b[_0x4908ef(0x67e)][_0x4908ef(0xb6a)](_0x42292d=>_0x4908ef(0x6ef)+_0x42292d+'\x22>'+_0x42292d+'</option>')[_0x4908ef(0x254)]('')+_0x4908ef(0xc12);break;default:_0x3b9db5=_0x4908ef(0xa33);break;}studentQuizArea[_0x4908ef(0x61b)]=_0x4908ef(0x1e8)+(localQuestionIndex+0x1)+_0x4908ef(0x8b5)+currentQuizData[_0x4908ef(0x132)]['length']+_0x4908ef(0x305)+_0x5cde9b+_0x4908ef(0x5c1)+(localQuestionIndex+0x1)+'.\x20'+_0x5b706b+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x42181b['imageCode']?_0x4908ef(0x984)+_0x42181b[_0x4908ef(0x1ea)]+_0x4908ef(0x8ff):'')+_0x4908ef(0x80c)+_0x3b9db5+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x4908ef(0xbeb)][_0x4908ef(0x303)](_0x4908ef(0x6ca));if(window['MathJax'])MathJax[_0x4908ef(0x1f8)]([studentQuizArea]);document[_0x4908ef(0x651)](_0x4908ef(0x9cf))[_0x4908ef(0x7bb)](_0x4908ef(0x530),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x378dfb=_0x4414d4,_0x1552ba=currentQuizData[_0x378dfb(0x132)][localQuestionIndex],_0x27d803=_0x1552ba[_0x378dfb(0xc2f)]||currentQuizData[_0x378dfb(0x76d)];let _0x37a390=null,_0x2234a0=![];if(_0x27d803==='short_answer'||_0x27d803===_0x378dfb(0x55c)){const _0x4f2e8e=document[_0x378dfb(0x2d5)](_0x378dfb(0x5ae));if(!_0x4f2e8e||!_0x4f2e8e[_0x378dfb(0x3b7)][_0x378dfb(0x4fe)]()){showMessage(_0x378dfb(0x320));return;}_0x37a390=_0x4f2e8e[_0x378dfb(0x3b7)]['trim'](),_0x2234a0=await gradeShortAnswer(_0x37a390,_0x1552ba);}else{const _0x4d06b4=document[_0x378dfb(0x2d5)](_0x378dfb(0x850));if(!_0x4d06b4||_0x4d06b4[_0x378dfb(0x3b7)]===''){showMessage(_0x378dfb(0xb4c));return;}_0x37a390=_0x4d06b4['value'];switch(_0x27d803){case'true_false':_0x2234a0=_0x37a390===_0x378dfb(0x7a0)===_0x1552ba[_0x378dfb(0x294)];break;case _0x378dfb(0x572):_0x2234a0=_0x37a390===_0x1552ba[_0x378dfb(0x3dc)];break;default:_0x2234a0=parseInt(_0x37a390)===_0x1552ba[_0x378dfb(0x74c)];break;}}const _0x4b7608={'questionIndex':localQuestionIndex,'isCorrect':_0x2234a0},_0x2074fc=userId,_0x2f7a71={[_0x378dfb(0x211)+_0x2074fc+'.answers']:arrayUnion(_0x4b7608)};_0x2234a0&&(_0x2f7a71[_0x378dfb(0x211)+_0x2074fc+_0x378dfb(0x586)]=increment(0x1));try{await updateDoc(doc(db,_0x378dfb(0x763)+appId+_0x378dfb(0x98b),currentTeamQuizId),_0x2f7a71),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x378dfb(0x132)][_0x378dfb(0x9fa)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0xa825ef){console[_0x378dfb(0xb95)](_0x378dfb(0x45c),_0xa825ef),showMessage(_0x378dfb(0x63d));}}async function handleTeamAnswerSubmit(){const _0x229501=_0x4414d4,_0x2c9dc0=await getDoc(doc(db,_0x229501(0x763)+appId+_0x229501(0x98b),currentTeamQuizId));if(!_0x2c9dc0[_0x229501(0x523)]())return;const _0x1901c3=_0x2c9dc0[_0x229501(0x213)]();if(_0x1901c3[_0x229501(0x540)]===_0x229501(0x19a)){handleGroupAnswerSubmit();return;}const _0xcf8b09=localTeamPlayers[localPlayerIndex],_0x20cc44=currentQuizData['questions'][localQuestionIndex],_0x533366=_0x20cc44['questionType']||currentQuizData[_0x229501(0x76d)];let _0x3476c1=null,_0x2b995d=![];if(_0x533366===_0x229501(0x808)||_0x533366==='fill_in_no_choices'){const _0x401779=document['querySelector'](_0x229501(0x5ae));if(!_0x401779||!_0x401779['value'][_0x229501(0x4fe)]()){showMessage(_0x229501(0x348));return;}_0x3476c1=_0x401779['value'][_0x229501(0x4fe)](),_0x2b995d=await gradeShortAnswer(_0x3476c1,_0x20cc44);}else{const _0x9383c5=document['querySelector']('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x9383c5||_0x9383c5[_0x229501(0x3b7)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x3476c1=_0x9383c5[_0x229501(0x3b7)];switch(_0x533366){case _0x229501(0x26d):_0x2b995d=_0x3476c1===_0x229501(0x7a0)===_0x20cc44[_0x229501(0x294)];break;case _0x229501(0x572):_0x2b995d=_0x3476c1===_0x20cc44[_0x229501(0x3dc)];break;default:_0x2b995d=parseInt(_0x3476c1)===_0x20cc44[_0x229501(0x74c)];break;}}const _0x18076b={'questionIndex':localQuestionIndex,'isCorrect':_0x2b995d,'answerValue':_0x3476c1},_0x40b8a1={[_0x229501(0xa6b)+_0xcf8b09+'.answers']:arrayUnion(_0x18076b)};_0x2b995d&&(_0x40b8a1[_0x229501(0xa6b)+_0xcf8b09+_0x229501(0x586)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x40b8a1),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x229501(0x9fa)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x3fff52){console['error'](_0x229501(0x976),_0x3fff52),showMessage(_0x229501(0x63d));}}async function displayTeamQuizFinalResults(){const _0x4c5e82=_0x4414d4;studentQuizArea[_0x4c5e82(0xbeb)][_0x4c5e82(0x7bd)](_0x4c5e82(0x6ca)),studentResultArea[_0x4c5e82(0xbeb)][_0x4c5e82(0x303)](_0x4c5e82(0x6ca));const _0x5f0095=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x3c6db6=await getDoc(_0x5f0095);if(!_0x3c6db6['exists']()){studentResultArea[_0x4c5e82(0x61b)]=_0x4c5e82(0x66f);return;}const _0x4461e7=_0x3c6db6[_0x4c5e82(0x213)]();let _0x3e57e5=[];const _0x540bbe=_0x4461e7[_0x4c5e82(0x540)]||_0x4c5e82(0x56e);if(_0x540bbe==='group'){const _0x2f1da2=_0x4461e7[_0x4c5e82(0x760)][userId];_0x2f1da2?_0x3e57e5=[{'name':_0x4c5e82(0x481)+localTeamPlayers[_0x4c5e82(0x254)](',\x20'),'score':_0x2f1da2['score']||0x0}]:_0x3e57e5=[{'name':_0x4c5e82(0x583),'score':'N/A'}];}else _0x3e57e5=localTeamPlayers[_0x4c5e82(0xb6a)](_0x37080f=>({'name':_0x37080f,'score':_0x4461e7[_0x4c5e82(0x9cb)][_0x37080f]?.[_0x4c5e82(0x288)]||0x0}))[_0x4c5e82(0xa7e)]((_0xab891d,_0x4a9025)=>_0x4a9025[_0x4c5e82(0x288)]-_0xab891d['score']);studentResultArea[_0x4c5e82(0x61b)]=_0x4c5e82(0x95b)+_0x3e57e5[_0x4c5e82(0xb6a)](_0x223ea4=>_0x4c5e82(0x30b)+_0x223ea4[_0x4c5e82(0x815)]+_0x4c5e82(0x35d)+_0x223ea4['score']+_0x4c5e82(0x5e2))['join']('')+_0x4c5e82(0x94e),sessionStorage[_0x4c5e82(0x9b2)](_0x4c5e82(0x546)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x24ec9d=_0x4c5e82;deleteDoc(doc(db,_0x24ec9d(0x763)+appId+_0x24ec9d(0x98b),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x4414d4(0x1be)};const allMathTopics=[{'category':_0x4414d4(0x422),'name':_0x4414d4(0x4cb)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x306)},{'category':_0x4414d4(0x422),'name':'การปัดเศษและประมาณค่า'},{'category':_0x4414d4(0x422),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':'จำนวนและการดำเนินการ','name':'การบวก'},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x3fe)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0xbe4)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x888)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x813)},{'category':_0x4414d4(0x422),'name':'จำนวนเต็มลบ'},{'category':_0x4414d4(0x422),'name':'ศูนย์'},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x53e)},{'category':'จำนวนและการดำเนินการ','name':_0x4414d4(0x61d)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x653)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x375)},{'category':'จำนวนและการดำเนินการ','name':_0x4414d4(0x9ea)},{'category':'จำนวนและการดำเนินการ','name':'อัตราส่วนและสัดส่วน'},{'category':_0x4414d4(0x422),'name':_0x4414d4(0xac6)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x310)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x991)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x1dc)},{'category':_0x4414d4(0x422),'name':'การคูณเศษส่วน'},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x5c2)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x232)},{'category':_0x4414d4(0x422),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x4414d4(0x422),'name':_0x4414d4(0xa5d)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x6c5)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x131)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x2d9)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x24e)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0xba4)},{'category':'จำนวนและการดำเนินการ','name':_0x4414d4(0x1b2)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0x7f5)},{'category':'จำนวนและการดำเนินการ','name':_0x4414d4(0x3ef)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0xa59)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0xc2c)},{'category':_0x4414d4(0x422),'name':_0x4414d4(0xac5)},{'category':_0x4414d4(0x8e3),'name':_0x4414d4(0x169)},{'category':'การวัด','name':_0x4414d4(0x426)},{'category':_0x4414d4(0x8e3),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x4414d4(0x8e3),'name':_0x4414d4(0x3bc)},{'category':_0x4414d4(0x8e3),'name':_0x4414d4(0x691)},{'category':_0x4414d4(0x8e3),'name':_0x4414d4(0x1db)},{'category':_0x4414d4(0x8e3),'name':_0x4414d4(0x47c)},{'category':_0x4414d4(0x8e3),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x4414d4(0x8e3),'name':_0x4414d4(0x45f)},{'category':_0x4414d4(0x8e3),'name':_0x4414d4(0xbfd)},{'category':_0x4414d4(0x8e3),'name':_0x4414d4(0x3f7)},{'category':_0x4414d4(0x8e3),'name':'มุมและการวัดมุม'},{'category':_0x4414d4(0x8e3),'name':_0x4414d4(0x524)},{'category':_0x4414d4(0x8e3),'name':_0x4414d4(0x934)},{'category':_0x4414d4(0x5e9),'name':_0x4414d4(0x4ad)},{'category':_0x4414d4(0x5e9),'name':_0x4414d4(0x1b6)},{'category':_0x4414d4(0x5e9),'name':_0x4414d4(0x4c2)},{'category':_0x4414d4(0x5e9),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x4414d4(0x5e9),'name':_0x4414d4(0xbd5)},{'category':_0x4414d4(0x5e9),'name':'ความคล้ายของรูป'},{'category':_0x4414d4(0x5e9),'name':_0x4414d4(0x1a7)},{'category':_0x4414d4(0x5e9),'name':_0x4414d4(0x492)},{'category':_0x4414d4(0x5e9),'name':_0x4414d4(0x985)},{'category':_0x4414d4(0x5e9),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x4414d4(0x5e9),'name':_0x4414d4(0x324)},{'category':_0x4414d4(0x5e9),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':_0x4414d4(0xb1d)},{'category':_0x4414d4(0x5e9),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x4414d4(0x5e9),'name':_0x4414d4(0x3e8)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0xaab)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0xb22)},{'category':_0x4414d4(0x14e),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x883)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0xbb9)},{'category':_0x4414d4(0x14e),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0xadb)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x802)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x4d0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4414d4(0x545)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x849)},{'category':_0x4414d4(0x14e),'name':'สมการยกกำลัง'},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x39f)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x360)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4414d4(0xb2d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4414d4(0x93a)},{'category':_0x4414d4(0x14e),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x456)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x2b9)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0xb72)},{'category':'พีชคณิตและฟังก์ชัน','name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4414d4(0x408)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x4e3)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x3e9)},{'category':_0x4414d4(0x14e),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4414d4(0x923)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x36f)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x39a)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x1b4)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x82e)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x527)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x63b)},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0x488)},{'category':_0x4414d4(0x14e),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x4414d4(0x14e),'name':_0x4414d4(0xa26)},{'category':_0x4414d4(0x81d),'name':_0x4414d4(0x614)},{'category':'เรขาคณิตวิเคราะห์','name':'ความชันและเส้นตรง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x4414d4(0x911)},{'category':_0x4414d4(0x81d),'name':_0x4414d4(0x6c3)},{'category':_0x4414d4(0x81d),'name':_0x4414d4(0x1de)},{'category':'เรขาคณิตวิเคราะห์','name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x4414d4(0x81d),'name':_0x4414d4(0x1c2)},{'category':_0x4414d4(0x81d),'name':_0x4414d4(0xa99)},{'category':'เรขาคณิตวิเคราะห์','name':_0x4414d4(0x52c)},{'category':'ตรีโกณมิติ','name':_0x4414d4(0x765)},{'category':'ตรีโกณมิติ','name':_0x4414d4(0x6b6)},{'category':_0x4414d4(0x410),'name':_0x4414d4(0x854)},{'category':_0x4414d4(0x410),'name':_0x4414d4(0x719)},{'category':_0x4414d4(0x410),'name':_0x4414d4(0x2fd)},{'category':'ตรีโกณมิติ','name':'กฎของโคไซน์'},{'category':'ตรีโกณมิติ','name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x4414d4(0x410),'name':'การแปลงรูปอัตลักษณ์'},{'category':_0x4414d4(0x410),'name':'สมการตรีโกณมิติ'},{'category':'ตรีโกณมิติ','name':_0x4414d4(0x727)},{'category':_0x4414d4(0x410),'name':_0x4414d4(0x8fd)},{'category':_0x4414d4(0x6d2),'name':_0x4414d4(0x5be)},{'category':'สถิติและความน่าจะเป็น','name':_0x4414d4(0xb37)},{'category':_0x4414d4(0x6d2),'name':'ตารางความถี่'},{'category':_0x4414d4(0x6d2),'name':_0x4414d4(0x12e)},{'category':'สถิติและความน่าจะเป็น','name':_0x4414d4(0x4a3)},{'category':_0x4414d4(0x6d2),'name':_0x4414d4(0x384)},{'category':_0x4414d4(0x6d2),'name':_0x4414d4(0x518)},{'category':_0x4414d4(0x6d2),'name':'มัธยฐาน'},{'category':_0x4414d4(0x6d2),'name':_0x4414d4(0xbe9)},{'category':_0x4414d4(0x6d2),'name':'พิสัย'},{'category':_0x4414d4(0x6d2),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x4414d4(0x6d2),'name':'ความแปรปรวน'},{'category':_0x4414d4(0x6d2),'name':_0x4414d4(0xb7e)},{'category':_0x4414d4(0x6d2),'name':_0x4414d4(0x389)},{'category':'สถิติและความน่าจะเป็น','name':_0x4414d4(0x983)},{'category':_0x4414d4(0x6d2),'name':_0x4414d4(0xa66)},{'category':_0x4414d4(0x6d2),'name':_0x4414d4(0xade)},{'category':_0x4414d4(0x6d2),'name':_0x4414d4(0x77e)},{'category':'สถิติและความน่าจะเป็น','name':_0x4414d4(0x49a)},{'category':_0x4414d4(0x6d2),'name':_0x4414d4(0x28b)},{'category':_0x4414d4(0x6d2),'name':_0x4414d4(0x990)},{'category':'สถิติและความน่าจะเป็น','name':_0x4414d4(0x574)},{'category':'สถิติและความน่าจะเป็น','name':_0x4414d4(0xb70)},{'category':_0x4414d4(0x6d2),'name':_0x4414d4(0x8c4)},{'category':_0x4414d4(0x1f2),'name':_0x4414d4(0x6cd)},{'category':_0x4414d4(0x1f2),'name':_0x4414d4(0xacd)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4414d4(0x657)},{'category':_0x4414d4(0x1f2),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':'แคลคูลัสเบื้องต้น','name':_0x4414d4(0xa38)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x4414d4(0x1f2),'name':'ความชันเส้นสัมผัส'},{'category':_0x4414d4(0x1f2),'name':_0x4414d4(0x7ac)},{'category':_0x4414d4(0x1f2),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x4414d4(0x1f2),'name':_0x4414d4(0x992)},{'category':_0x4414d4(0x1f2),'name':'ปริพันธ์จำกัด'},{'category':_0x4414d4(0x1f2),'name':_0x4414d4(0x13d)},{'category':_0x4414d4(0x1f2),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x4414d4(0x358),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x4414d4(0x358),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x4414d4(0x358),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x4414d4(0x358),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x4414d4(0x358),'name':_0x4414d4(0x154)},{'category':_0x4414d4(0x358),'name':_0x4414d4(0x3bb)},{'category':_0x4414d4(0xa0f),'name':_0x4414d4(0x41b)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4414d4(0x9a2)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4414d4(0x5a2)},{'category':'คณิตการเงิน/บูรณาการ','name':'ค่าเสื่อมราคา'},{'category':_0x4414d4(0xa0f),'name':_0x4414d4(0x7f1)},{'category':_0x4414d4(0x168),'name':_0x4414d4(0x596)},{'category':_0x4414d4(0x168),'name':'รูปแบบการให้เหตุผล'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x4414d4(0x44d)}];function renderTopicCheckboxes(){const _0x1660e4=_0x4414d4,_0x29bc41=document[_0x1660e4(0x651)](_0x1660e4(0x4d1));if(!_0x29bc41)return;const _0x5db4c9=allMathTopics,_0x11d26e=customMathTopics[_0x1660e4(0xb6a)](_0x5f2e45=>({'id':_0x5f2e45['id'],'category':_0x1660e4(0xb8c),'name':_0x5f2e45['name']})),_0xfa667=[..._0x5db4c9,..._0x11d26e],_0x4560ad=_0xfa667[_0x1660e4(0x6d8)]((_0x5b3cfb,_0x2c46a7)=>{const _0x430622=_0x1660e4;return!_0x5b3cfb[_0x2c46a7[_0x430622(0x4c9)]]&&(_0x5b3cfb[_0x2c46a7[_0x430622(0x4c9)]]=[]),_0x5b3cfb[_0x2c46a7['category']][_0x430622(0x464)](_0x2c46a7),_0x5b3cfb;},{});let _0xb97429='';const _0x131c36=[_0x1660e4(0xb8c),...Object['keys'](_0x4560ad)[_0x1660e4(0x7c4)](_0x4b2c9b=>_0x4b2c9b!==_0x1660e4(0xb8c))];for(const _0xa125aa of _0x131c36){if(_0x4560ad[_0xa125aa]){const _0x470483=_0xa125aa===_0x1660e4(0xb8c),_0x936f36=_0x470483?_0x1660e4(0x98d):_0x1660e4(0xabe),_0x5598b5=_0x470483?_0x1660e4(0x627):_0x1660e4(0xba1);_0xb97429+=_0x1660e4(0xb0d),_0xb97429+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x5598b5+_0x1660e4(0xc07)+_0x936f36+_0x1660e4(0xa40)+_0xa125aa+_0x1660e4(0x630),_0x4560ad[_0xa125aa][_0x1660e4(0x15f)](_0x2c6618=>{const _0x51e52e=_0x1660e4,_0x20ed29=!!_0x2c6618['id'],_0x44d493=_0x20ed29?_0x51e52e(0x5b0)+_0x2c6618['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2c6618['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2c6618['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2c6618['id']+_0x51e52e(0xa80):'';_0xb97429+=_0x51e52e(0x393)+(_0x2c6618['id']||'')+_0x51e52e(0x4e6)+_0x2c6618[_0x51e52e(0x815)]+_0x51e52e(0x936)+_0x2c6618[_0x51e52e(0x815)]+_0x51e52e(0x8d7)+(_0x20ed29?_0x51e52e(0x957)+_0x2c6618[_0x51e52e(0x815)]+'\x22>':'')+_0x51e52e(0xa60)+_0x44d493+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xb97429+=_0x1660e4(0x8ff);}}_0x29bc41[_0x1660e4(0x61b)]=_0xb97429||_0x1660e4(0x7a7),_0x29bc41[_0x1660e4(0x3ee)](_0x1660e4(0x761),updateSelectedTopicsCount),_0x29bc41[_0x1660e4(0x7bb)](_0x1660e4(0x761),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x5f1417,_0x2ffd98){const _0x5dbdd8=_0x4414d4;if(!_0x5f1417||!_0x2ffd98[_0x5dbdd8(0x4fe)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x12607d=doc(db,_0x5dbdd8(0x763)+appId+_0x5dbdd8(0xbf1),_0x5f1417);await updateDoc(_0x12607d,{'name':_0x2ffd98[_0x5dbdd8(0x4fe)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x16d95f){console[_0x5dbdd8(0xb95)](_0x5dbdd8(0x8e0),_0x16d95f),showMessage(_0x5dbdd8(0x445));}}function toggleTopicEditMode(_0x5365d3,_0x1d3822){const _0x29587d=_0x4414d4;if(!_0x5365d3)return;const _0x47deed=_0x5365d3['querySelector']('.topic-name-display'),_0xd87f51=_0x5365d3['querySelector'](_0x29587d(0x585)),_0xc98c08=_0x5365d3[_0x29587d(0x2d5)](_0x29587d(0x450)),_0xe33f1=_0x5365d3[_0x29587d(0x2d5)]('.topic-actions-edit');_0x47deed['classList'][_0x29587d(0xb9b)](_0x29587d(0x6ca),_0x1d3822),_0xd87f51[_0x29587d(0xbeb)][_0x29587d(0xb9b)](_0x29587d(0x6ca),!_0x1d3822),_0xc98c08['classList'][_0x29587d(0xb9b)](_0x29587d(0x6ca),_0x1d3822),_0xe33f1[_0x29587d(0xbeb)][_0x29587d(0xb9b)](_0x29587d(0x6ca),!_0x1d3822),_0x1d3822&&(_0xd87f51[_0x29587d(0xa87)](),_0xd87f51[_0x29587d(0x576)]());}async function handleStartLiveRace(_0x24f7e4){const _0x3bcc8d=_0x4414d4;let _0x85e64b=allQuizzes['find'](_0x69c645=>_0x69c645['id']===_0x24f7e4);if(!_0x85e64b){const _0xc8a23a=doc(db,_0x3bcc8d(0x763)+appId+'/public/data/quizzes',_0x24f7e4),_0x25ba5c=await getDoc(_0xc8a23a);if(!_0x25ba5c[_0x3bcc8d(0x523)]()){showMessage(_0x3bcc8d(0xb80));return;}_0x85e64b={'id':_0x25ba5c['id'],..._0x25ba5c[_0x3bcc8d(0x213)]()};}const _0x1030eb=getShuffledQuiz(_0x85e64b);currentQuizData=_0x1030eb;const _0x17e400=_0x85e64b[_0x3bcc8d(0x661)]||currentProjectId||null,_0xedc22f=Math[_0x3bcc8d(0x688)](0x3e8+Math[_0x3bcc8d(0xc29)]()*0x2328)['toString']();currentLiveGamePin=_0xedc22f;try{const _0x1732c2=await addDoc(collection(db,_0x3bcc8d(0x763)+appId+_0x3bcc8d(0x994)),{'quizId':_0x24f7e4,'projectId':_0x17e400,'status':_0x3bcc8d(0xb4f),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0xedc22f,'createdAt':serverTimestamp(),'shuffledQuiz':_0x1030eb});currentLiveGameId=_0x1732c2['id'],showAdminLobbyView(_0xedc22f,_0x85e64b[_0x3bcc8d(0x78b)]),listenForLiveGameUpdates();}catch(_0x24aeb9){console['error'](_0x3bcc8d(0x2d7),_0x24aeb9),showMessage(_0x3bcc8d(0x99c));}}function updateSelectedTopicsCount(){const _0x3c142b=_0x4414d4,_0x41731d=document['getElementById'](_0x3c142b(0x4d1)),_0xb0b413=_0x41731d['querySelectorAll'](_0x3c142b(0x70b))[_0x3c142b(0x9fa)],_0x455f21=document[_0x3c142b(0x651)]('selected-topics-count');_0xb0b413>0x0?_0x455f21[_0x3c142b(0xc23)]=_0x3c142b(0x867)+_0xb0b413+_0x3c142b(0xaaa):_0x455f21[_0x3c142b(0xc23)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x4414d4(0x1e0),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x4414d4(0x69c),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x4414d4(0x710),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x4414d4(0x13f),scratchpadPenColor=_0x4414d4(0x7fb),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x412c89,_0x1f94b3){const _0x1aca33=_0x4414d4;return Math['sqrt'](Math[_0x1aca33(0xb42)](_0x412c89['x']-_0x1f94b3['x'],0x2)+Math[_0x1aca33(0xb42)](_0x412c89['y']-_0x1f94b3['y'],0x2));}function getMidpoint(_0x5526e8,_0x4df5ec){return{'x':(_0x5526e8['x']+_0x4df5ec['x'])/0x2,'y':(_0x5526e8['y']+_0x4df5ec['y'])/0x2};}function getTransformedPoint(_0xabfb80,_0x4734e4){return{'x':(_0xabfb80-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4734e4-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x3394de=_0x4414d4;if(!scratchpadCtx)return;const _0x441a87=scratchpadCtx[_0x3394de(0x60a)],_0x50e8fb=window['devicePixelRatio']||0x1,_0x120f71=document[_0x3394de(0x651)](_0x3394de(0x300));_0x120f71&&(_0x120f71[_0x3394de(0x5ce)]['transformOrigin']=_0x3394de(0x9a3),_0x120f71[_0x3394de(0x5ce)][_0x3394de(0x1d3)]=_0x3394de(0x81a)+scratchpadOffset['x']+_0x3394de(0x7cb)+scratchpadOffset['y']+_0x3394de(0x421)+scratchpadScale+')'),scratchpadCtx[_0x3394de(0xad2)](),scratchpadCtx[_0x3394de(0xb15)](_0x50e8fb,0x0,0x0,_0x50e8fb,0x0,0x0),scratchpadCtx[_0x3394de(0x700)](0x0,0x0,_0x441a87[_0x3394de(0x74f)],_0x441a87['height']),scratchpadCtx['restore'](),scratchpadCtx['save'](),scratchpadCtx[_0x3394de(0x41e)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x3394de(0xc18)](scratchpadScale,scratchpadScale),strokes[_0x3394de(0x15f)](_0x282cd7=>{drawStroke(_0x282cd7);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x3394de(0x6be)]();}function renderGroupModeQuestion(){const _0xabc71b=_0x4414d4;if(localQuestionIndex>=currentQuizData[_0xabc71b(0x132)][_0xabc71b(0x9fa)]){displayTeamQuizFinalResults();return;}const _0x18091b=currentQuizData['questions'][localQuestionIndex],_0x3f1b4c=_0x18091b['questionType']||currentQuizData[_0xabc71b(0x76d)];let _0x562ac9=_0x18091b[_0xabc71b(0x610)]||_0x18091b[_0xabc71b(0x364)],_0x4bf107='';switch(_0x3f1b4c){case'multiple_choice':case _0xabc71b(0x8a2):_0x4bf107=_0x18091b['options'][_0xabc71b(0xb6a)]((_0x2fdd98,_0x36a5de)=>_0xabc71b(0x642)+_0x36a5de+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x36a5de+_0xabc71b(0xae8)+_0x36a5de+'\x22>'+_0x2fdd98+_0xabc71b(0xb10))[_0xabc71b(0x254)]('');break;case _0xabc71b(0x26d):_0x4bf107=_0xabc71b(0x536);break;case _0xabc71b(0x808):case'fill_in_no_choices':_0x4bf107=_0xabc71b(0x72e);break;case _0xabc71b(0x572):_0x4bf107='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x18091b[_0xabc71b(0x67e)][_0xabc71b(0xb6a)](_0x5e1c04=>_0xabc71b(0x6ef)+_0x5e1c04+'\x22>'+_0x5e1c04+_0xabc71b(0x433))[_0xabc71b(0x254)]('')+_0xabc71b(0xc12);break;default:_0x4bf107=_0xabc71b(0xa33);break;}studentQuizArea['innerHTML']=_0xabc71b(0x1e8)+(localQuestionIndex+0x1)+_0xabc71b(0x8b5)+currentQuizData[_0xabc71b(0x132)][_0xabc71b(0x9fa)]+_0xabc71b(0x15e)+localTeamPlayers[_0xabc71b(0x254)](',\x20')+_0xabc71b(0x5c1)+(localQuestionIndex+0x1)+'.\x20'+_0x562ac9+_0xabc71b(0xacf)+(_0x18091b['imageCode']?_0xabc71b(0x984)+_0x18091b['imageCode']+_0xabc71b(0x8ff):'')+_0xabc71b(0x80c)+_0x4bf107+_0xabc71b(0x165),studentQuizArea[_0xabc71b(0xbeb)]['remove'](_0xabc71b(0x6ca));if(window[_0xabc71b(0x858)])MathJax[_0xabc71b(0x1f8)]([studentQuizArea]);document['getElementById'](_0xabc71b(0xa0d))[_0xabc71b(0x7bb)](_0xabc71b(0x530),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x331cdb,_0x48e2e5=null,_0xf275f2,_0x305576=null,_0xc8ee77=![]){const _0x38365d=_0x4414d4,_0x428735=document[_0x38365d(0x651)](_0x38365d(0x565));_0x428735&&_0x428735[_0x38365d(0x45d)]({'behavior':'smooth','block':_0x38365d(0x6fa)}),generateQuiz(_0x331cdb,_0x48e2e5,null,null,!![],_0xf275f2,_0x305576,_0xc8ee77);}function handleGenerateAndShowLesson(_0x4eed6d,_0x649bfa){const _0x1ebbd1=_0x4414d4,_0x3daa71=document[_0x1ebbd1(0x651)](_0x1ebbd1(0x9ac)),_0x245d1a=document[_0x1ebbd1(0x651)]('lesson-view-title'),_0x316a2c=document[_0x1ebbd1(0x651)]('lesson-loader'),_0xd24722=document[_0x1ebbd1(0x651)](_0x1ebbd1(0x5f0));[_0x1ebbd1(0x41d),'memoryContent',_0x1ebbd1(0x3fa),_0x1ebbd1(0x89d)][_0x1ebbd1(0x15f)](_0x503228=>{const _0x413962=_0x1ebbd1,_0x54d4d2=document['getElementById'](_0x503228)[_0x413962(0x4fc)];_0x54d4d2&&(_0x54d4d2[_0x413962(0x5ce)][_0x413962(0x4ba)]='block');}),_0x245d1a[_0x1ebbd1(0xc23)]=_0x1ebbd1(0x740)+_0x4eed6d,_0xd24722[_0x1ebbd1(0xbeb)][_0x1ebbd1(0x7bd)]('hidden'),_0x316a2c[_0x1ebbd1(0xbeb)][_0x1ebbd1(0x303)]('hidden'),_0x3daa71[_0x1ebbd1(0xbeb)][_0x1ebbd1(0x303)](_0x1ebbd1(0x6ca)),generateLesson(_0x4eed6d,_0x649bfa)[_0x1ebbd1(0xabb)](_0x354d4f=>{const _0x1976dc=_0x1ebbd1;console[_0x1976dc(0xb95)](_0x1976dc(0x836),_0x354d4f),showMessage(_0x1976dc(0x5dc)),_0x3daa71[_0x1976dc(0xbeb)][_0x1976dc(0x7bd)]('hidden');});}function handlePointerDown(_0x15461d){const _0x569dca=_0x4414d4;_0x15461d[_0x569dca(0x4a8)]();const _0xf57daa=scratchpadCtx[_0x569dca(0x60a)],_0x1655c1=_0xf57daa[_0x569dca(0x4c5)](),_0x3d7616=_0x15461d['pointerType']||(_0x15461d[_0x569dca(0xc34)]?_0x569dca(0xa9f):_0x569dca(0x72f));if(_0x3d7616==='pen'||_0x3d7616==='mouse'){if(_0x15461d[_0x569dca(0x381)]===_0x569dca(0x72f)&&_0x15461d[_0x569dca(0x5da)]!==0x0){_0x15461d[_0x569dca(0x5da)]===0x1&&(isMousePanning=!![],panStart={'x':_0x15461d[_0x569dca(0xc09)],'y':_0x15461d[_0x569dca(0x63c)]},_0xf57daa[_0x569dca(0x5ce)][_0x569dca(0x225)]=_0x569dca(0xa3b));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x17b608=getTransformedPoint(_0x15461d[_0x569dca(0xc09)]-_0x1655c1[_0x569dca(0x62f)],_0x15461d[_0x569dca(0x63c)]-_0x1655c1[_0x569dca(0x912)]);let _0x470419={'tool':activeTool,'points':[_0x17b608]};if(activeTool===_0x569dca(0x75d))_0x470419['color']=scratchpadHighlighterColor,_0x470419[_0x569dca(0xc0e)]=scratchpadHighlighterSize;else activeTool===_0x569dca(0x1f0)?(_0x470419[_0x569dca(0x256)]=scratchpadPenColor,_0x470419['size']=scratchpadPenSize):(_0x470419[_0x569dca(0x256)]=scratchpadPenColor,_0x470419[_0x569dca(0xc0e)]=scratchpadPenSize);currentStroke=_0x470419;}else _0x15461d[_0x569dca(0xc34)]&&(_0x15461d[_0x569dca(0xc34)][_0x569dca(0x9fa)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x15461d[_0x569dca(0xc34)][0x0][_0x569dca(0xc09)],'y':_0x15461d['touches'][0x0][_0x569dca(0x63c)]},{'x':_0x15461d['touches'][0x1][_0x569dca(0xc09)],'y':_0x15461d[_0x569dca(0xc34)][0x1][_0x569dca(0x63c)]}),initialPinchDistance=getDistance({'x':_0x15461d[_0x569dca(0xc34)][0x0][_0x569dca(0xc09)],'y':_0x15461d[_0x569dca(0xc34)][0x0][_0x569dca(0x63c)]},{'x':_0x15461d[_0x569dca(0xc34)][0x1][_0x569dca(0xc09)],'y':_0x15461d[_0x569dca(0xc34)][0x1][_0x569dca(0x63c)]})));}function animateTrail(){const _0x2b4e54=_0x4414d4,_0x2bff7c=Date[_0x2b4e54(0xbcc)]();let _0x375ae6=![];for(let _0x5fd38=strokes[_0x2b4e54(0x9fa)]-0x1;_0x5fd38>=0x0;_0x5fd38--){const _0x15f53e=strokes[_0x5fd38];if(_0x15f53e[_0x2b4e54(0x8b9)]===_0x2b4e54(0x1f0)&&_0x15f53e[_0x2b4e54(0x6db)]){const _0x41f643=_0x2bff7c-_0x15f53e[_0x2b4e54(0x6db)];_0x41f643>=TRAIL_DURATION?strokes[_0x2b4e54(0xb17)](_0x5fd38,0x1):(_0x15f53e[_0x2b4e54(0xadc)]=0x1-_0x41f643/TRAIL_DURATION,_0x375ae6=!![]);}}redrawScratchpad(),_0x375ae6?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x4e60ad){const _0x45987c=_0x4414d4;if(!_0x4e60ad||_0x4e60ad['points'][_0x45987c(0x9fa)]<0x1)return;scratchpadCtx[_0x45987c(0xad2)](),scratchpadCtx[_0x45987c(0x326)]=_0x45987c(0xac0),scratchpadCtx[_0x45987c(0x5a0)]=_0x45987c(0xac0);if(_0x4e60ad[_0x45987c(0x8b9)]==='trail'){const _0x180497=_0x4e60ad[_0x45987c(0xc0e)]/scratchpadScale;scratchpadCtx[_0x45987c(0x5f7)]=_0x4e60ad[_0x45987c(0xadc)]??0x1,scratchpadCtx[_0x45987c(0x880)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x45987c(0x84b)]=_0x180497*0x3,scratchpadCtx[_0x45987c(0x18c)]=_0x45987c(0x830),scratchpadCtx[_0x45987c(0x4a9)]=_0x180497*2.5,scratchpadCtx[_0x45987c(0xaa3)](),scratchpadCtx[_0x45987c(0x462)](_0x4e60ad[_0x45987c(0x4d8)][0x0]['x'],_0x4e60ad['points'][0x0]['y']);for(let _0x51f177=0x1;_0x51f177<_0x4e60ad[_0x45987c(0x4d8)][_0x45987c(0x9fa)]-0x1;_0x51f177++){const _0x4d144a=getMidpoint(_0x4e60ad[_0x45987c(0x4d8)][_0x51f177],_0x4e60ad[_0x45987c(0x4d8)][_0x51f177+0x1]);scratchpadCtx[_0x45987c(0x22f)](_0x4e60ad['points'][_0x51f177]['x'],_0x4e60ad[_0x45987c(0x4d8)][_0x51f177]['y'],_0x4d144a['x'],_0x4d144a['y']);}scratchpadCtx[_0x45987c(0x6a8)](),scratchpadCtx['shadowColor']=_0x45987c(0x8c9),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x45987c(0x18c)]=_0x45987c(0x4be),scratchpadCtx['lineWidth']=_0x180497,scratchpadCtx[_0x45987c(0x6a8)](),scratchpadCtx[_0x45987c(0xbdc)]();}else{if(_0x4e60ad[_0x45987c(0x8b9)]==='highlighter'){scratchpadCtx[_0x45987c(0x49f)]=_0x45987c(0xc35),scratchpadCtx['strokeStyle']=_0x4e60ad['color'],scratchpadCtx[_0x45987c(0x4a9)]=_0x4e60ad['size'],scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x4e60ad['points'][0x0]['x'],_0x4e60ad[_0x45987c(0x4d8)][0x0]['y']);for(let _0x45ac14=0x1;_0x45ac14<_0x4e60ad[_0x45987c(0x4d8)]['length']-0x1;_0x45ac14++){const _0x51ec8d=getMidpoint(_0x4e60ad[_0x45987c(0x4d8)][_0x45ac14],_0x4e60ad[_0x45987c(0x4d8)][_0x45ac14+0x1]);scratchpadCtx['quadraticCurveTo'](_0x4e60ad[_0x45987c(0x4d8)][_0x45ac14]['x'],_0x4e60ad['points'][_0x45ac14]['y'],_0x51ec8d['x'],_0x51ec8d['y']);}scratchpadCtx[_0x45987c(0x6a8)](),scratchpadCtx[_0x45987c(0xbdc)]();}else{scratchpadCtx[_0x45987c(0x49f)]=_0x4e60ad[_0x45987c(0x8b9)]===_0x45987c(0x19d)?_0x45987c(0x313):'source-over',scratchpadCtx['strokeStyle']=_0x4e60ad['color'],scratchpadCtx['lineWidth']=_0x4e60ad[_0x45987c(0xc0e)],scratchpadCtx[_0x45987c(0xaa3)](),scratchpadCtx[_0x45987c(0x462)](_0x4e60ad['points'][0x0]['x'],_0x4e60ad['points'][0x0]['y']);for(let _0x374797=0x1;_0x374797<_0x4e60ad[_0x45987c(0x4d8)][_0x45987c(0x9fa)]-0x1;_0x374797++){const _0x3afa82=getMidpoint(_0x4e60ad['points'][_0x374797],_0x4e60ad[_0x45987c(0x4d8)][_0x374797+0x1]);scratchpadCtx[_0x45987c(0x22f)](_0x4e60ad[_0x45987c(0x4d8)][_0x374797]['x'],_0x4e60ad[_0x45987c(0x4d8)][_0x374797]['y'],_0x3afa82['x'],_0x3afa82['y']);}scratchpadCtx[_0x45987c(0x6a8)](),scratchpadCtx[_0x45987c(0xbdc)]();}}scratchpadCtx[_0x45987c(0x6be)]();}function handlePointerMove(_0x1f78cb){const _0x1337a0=_0x4414d4;_0x1f78cb[_0x1337a0(0x4a8)]();const _0x2b9b1d=scratchpadCtx[_0x1337a0(0x60a)],_0x5a0539=_0x2b9b1d[_0x1337a0(0x4c5)]();if(_0x1f78cb[_0x1337a0(0xc34)]){if(_0x1f78cb[_0x1337a0(0xc34)][_0x1337a0(0x9fa)]===0x1&&isDrawingOnScratchpad){const _0x50337a=getTransformedPoint(_0x1f78cb[_0x1337a0(0xc34)][0x0][_0x1337a0(0xc09)]-_0x5a0539['left'],_0x1f78cb[_0x1337a0(0xc34)][0x0]['clientY']-_0x5a0539[_0x1337a0(0x912)]);currentStroke[_0x1337a0(0x4d8)][_0x1337a0(0x464)](_0x50337a),redrawScratchpad();}else{if(_0x1f78cb[_0x1337a0(0xc34)][_0x1337a0(0x9fa)]===0x2&&isPanning){const _0x4afa81=getDistance({'x':_0x1f78cb['touches'][0x0][_0x1337a0(0xc09)],'y':_0x1f78cb[_0x1337a0(0xc34)][0x0][_0x1337a0(0x63c)]},{'x':_0x1f78cb[_0x1337a0(0xc34)][0x1][_0x1337a0(0xc09)],'y':_0x1f78cb['touches'][0x1][_0x1337a0(0x63c)]}),_0xf97fe8=getMidpoint({'x':_0x1f78cb[_0x1337a0(0xc34)][0x0]['clientX'],'y':_0x1f78cb[_0x1337a0(0xc34)][0x0]['clientY']},{'x':_0x1f78cb[_0x1337a0(0xc34)][0x1][_0x1337a0(0xc09)],'y':_0x1f78cb[_0x1337a0(0xc34)][0x1][_0x1337a0(0x63c)]}),_0x4d1909=_0x4afa81/ initialPinchDistance,_0x438f14=Math[_0x1337a0(0x470)](Math['max'](scratchpadScale*_0x4d1909,MIN_SCALE),MAX_SCALE),_0x3cfaef=_0xf97fe8['x']-panStart['x'],_0x5be9b5=_0xf97fe8['y']-panStart['y'];scratchpadOffset['x']=_0xf97fe8['x']-(_0xf97fe8['x']-scratchpadOffset['x'])*(_0x438f14/scratchpadScale),scratchpadOffset['y']=_0xf97fe8['y']-(_0xf97fe8['y']-scratchpadOffset['y'])*(_0x438f14/scratchpadScale),scratchpadOffset['x']+=_0x3cfaef,scratchpadOffset['y']+=_0x5be9b5,scratchpadScale=_0x438f14,initialPinchDistance=_0x4afa81,panStart=_0xf97fe8,redrawScratchpad();}}}else{if(isMousePanning){const _0x55e630=_0x1f78cb[_0x1337a0(0xc09)]-panStart['x'],_0x12e7ec=_0x1f78cb['clientY']-panStart['y'];scratchpadOffset['x']+=_0x55e630,scratchpadOffset['y']+=_0x12e7ec,panStart={'x':_0x1f78cb[_0x1337a0(0xc09)],'y':_0x1f78cb[_0x1337a0(0x63c)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x13c2b3=getTransformedPoint(_0x1f78cb[_0x1337a0(0xc09)]-_0x5a0539['left'],_0x1f78cb['clientY']-_0x5a0539['top']);currentStroke[_0x1337a0(0x4d8)][_0x1337a0(0x464)](_0x13c2b3),redrawScratchpad();}}}}function handlePointerUp(_0x25f835){const _0x512e73=_0x4414d4;_0x25f835[_0x512e73(0x4a8)]();const _0x2fd53b=scratchpadCtx[_0x512e73(0x60a)];isMousePanning&&(isMousePanning=![],_0x2fd53b[_0x512e73(0x5ce)][_0x512e73(0x225)]=_0x512e73(0x16d)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x512e73(0x4d8)][_0x512e73(0x9fa)]>0x1&&(strokes[_0x512e73(0x464)](currentStroke),currentStroke[_0x512e73(0x8b9)]===_0x512e73(0x1f0)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x59d78a=_0x512e73,_0x25993a=strokes['filter'](_0x174f5a=>_0x174f5a[_0x59d78a(0x8b9)]===_0x59d78a(0x1f0)&&!_0x174f5a[_0x59d78a(0x6db)]);if(_0x25993a[_0x59d78a(0x9fa)]>0x0){const _0xdd084e=Date[_0x59d78a(0xbcc)]();_0x25993a['forEach'](_0x1423f2=>_0x1423f2['fadeStartTime']=_0xdd084e),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x55d4ce){const _0x43cbda=_0x4414d4;_0x55d4ce[_0x43cbda(0x4a8)]();const _0x4d7131=_0x55d4ce[_0x43cbda(0xa49)]*-0.005,_0x53e0f7=Math[_0x43cbda(0x470)](Math[_0x43cbda(0x682)](scratchpadScale+_0x4d7131,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x55d4ce[_0x43cbda(0xc09)]-(_0x55d4ce['clientX']-scratchpadOffset['x'])*(_0x53e0f7/scratchpadScale),scratchpadOffset['y']=_0x55d4ce['clientY']-(_0x55d4ce['clientY']-scratchpadOffset['y'])*(_0x53e0f7/scratchpadScale),scratchpadScale=_0x53e0f7,redrawScratchpad();}function undo(){const _0x9703d8=_0x4414d4;strokes[_0x9703d8(0x9fa)]>0x0&&(redoStrokes[_0x9703d8(0x464)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x1efe71=_0x4414d4;redoStrokes[_0x1efe71(0x9fa)]>0x0&&(strokes['push'](redoStrokes[_0x1efe71(0x9e7)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x3db61f=_0x4414d4;document['getElementById']('undo-btn')['disabled']=strokes['length']===0x0,document[_0x3db61f(0x651)](_0x3db61f(0x4c8))[_0x3db61f(0x993)]=redoStrokes[_0x3db61f(0x9fa)]===0x0;}function openScratchpad(_0x3288c5,_0x51314a){const _0xb03555=_0x4414d4,_0x480c2f=document[_0xb03555(0x651)](_0xb03555(0x8ae)),_0x5e1ed3=document[_0xb03555(0x651)](_0xb03555(0x335)),_0x2eb1a8=document['getElementById'](_0xb03555(0x5ec)),_0x51bdfb=document['getElementById'](_0xb03555(0x4ee));_0x5e1ed3['innerHTML']=_0x3288c5[_0xb03555(0x610)]||_0x3288c5[_0xb03555(0x364)],_0x2eb1a8[_0xb03555(0x61b)]=_0x51314a[_0xb03555(0xb6a)]((_0x28a79d,_0x350266)=>_0xb03555(0x537)+String[_0xb03555(0x9ab)](0x41+_0x350266)+'.\x20'+_0x28a79d+'</div>')[_0xb03555(0x254)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x480c2f[_0xb03555(0xbeb)][_0xb03555(0x303)](_0xb03555(0x6ca)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0xb03555(0x858)])MathJax[_0xb03555(0x1f8)]([_0x5e1ed3,_0x2eb1a8]);}function openBlueprintQuizSettings(){const _0xfdf90d=_0x4414d4,_0x51c5fd=document[_0xfdf90d(0x651)]('blueprint-settings-modal'),_0x27d25e=blueprintPageSettings||(currentProjectData?currentProjectData[_0xfdf90d(0xb21)]:{})||{};document[_0xfdf90d(0x651)]('bp-modal-quiz-type-select')[_0xfdf90d(0x3b7)]=_0x27d25e[_0xfdf90d(0x76d)]||document['getElementById'](_0xfdf90d(0xa39))[_0xfdf90d(0x3b7)],document[_0xfdf90d(0x651)](_0xfdf90d(0x43d))[_0xfdf90d(0x61b)]=document[_0xfdf90d(0x651)](_0xfdf90d(0x819))['innerHTML'],document[_0xfdf90d(0x651)](_0xfdf90d(0x43d))['value']=_0x27d25e[_0xfdf90d(0x15c)]||document[_0xfdf90d(0x651)]('difficulty-level-select')[_0xfdf90d(0x3b7)],document[_0xfdf90d(0x651)](_0xfdf90d(0x940))['innerHTML']=document[_0xfdf90d(0x651)](_0xfdf90d(0x751))[_0xfdf90d(0x61b)],document[_0xfdf90d(0x651)](_0xfdf90d(0x940))[_0xfdf90d(0x3b7)]=_0x27d25e[_0xfdf90d(0x4fb)]||document[_0xfdf90d(0x651)](_0xfdf90d(0x751))[_0xfdf90d(0x3b7)],document[_0xfdf90d(0x651)](_0xfdf90d(0x304))[_0xfdf90d(0x3b7)]=_0x27d25e[_0xfdf90d(0x53d)]||document['getElementById'](_0xfdf90d(0x383))[_0xfdf90d(0x3b7)],document[_0xfdf90d(0x651)]('bp-modal-passing-score-input')[_0xfdf90d(0x3b7)]=_0x27d25e['passingScore']||document[_0xfdf90d(0x651)](_0xfdf90d(0x6ad))['value'],document[_0xfdf90d(0x651)](_0xfdf90d(0x409))[_0xfdf90d(0x3b7)]=_0x27d25e[_0xfdf90d(0xa7d)]||document['getElementById'](_0xfdf90d(0x1a2))[_0xfdf90d(0x3b7)],document[_0xfdf90d(0x651)](_0xfdf90d(0xbbb))[_0xfdf90d(0x3b7)]=_0x27d25e[_0xfdf90d(0x5b5)]||document[_0xfdf90d(0x651)](_0xfdf90d(0xaa8))[_0xfdf90d(0x3b7)],document['getElementById']('bp-modal-include-images-checkbox')['checked']=_0x27d25e[_0xfdf90d(0x4af)]||document['getElementById'](_0xfdf90d(0x3cf))[_0xfdf90d(0x173)],_0x51c5fd[_0xfdf90d(0xbeb)][_0xfdf90d(0x303)](_0xfdf90d(0x6ca));}function handleSaveBlueprintPageSettings(){const _0x127509=_0x4414d4;blueprintPageSettings={'quizType':document[_0x127509(0x651)](_0x127509(0x3d8))[_0x127509(0x3b7)],'difficultyValue':document[_0x127509(0x651)](_0x127509(0x43d))[_0x127509(0x3b7)],'complexityValue':document[_0x127509(0x651)](_0x127509(0x940))[_0x127509(0x3b7)],'numQuestions':document['getElementById'](_0x127509(0x304))['value'],'passingScore':document['getElementById']('bp-modal-passing-score-input')[_0x127509(0x3b7)],'numChoices':document[_0x127509(0x651)]('bp-modal-num-choices')['value'],'shuffle':document[_0x127509(0x651)](_0x127509(0xbbb))[_0x127509(0x3b7)],'includeImages':document[_0x127509(0x651)](_0x127509(0x600))['checked']},showMessage(_0x127509(0x935)),document[_0x127509(0x651)](_0x127509(0x33c))['classList']['add']('hidden');}function listenForParallelTestShortcuts(){const _0x5b2e86=_0x4414d4,_0x346228=doc(db,_0x5b2e86(0x7d1),'parallelTestShortcutsConfig');onSnapshot(_0x346228,_0x1ca13a=>{const _0x3f83a4=_0x5b2e86;let _0x125205=[];_0x1ca13a[_0x3f83a4(0x523)]()&&_0x1ca13a['data']()[_0x3f83a4(0x6ba)]&&(_0x125205=_0x1ca13a[_0x3f83a4(0x213)]()[_0x3f83a4(0x6ba)]),!_0x125205['find'](_0x11a60a=>_0x11a60a['id']==='parallel-default-1')&&_0x125205[_0x3f83a4(0x350)]({'id':_0x3f83a4(0x261),'name':_0x3f83a4(0x766),'url':'','isDefault':!![]}),!_0x125205[_0x3f83a4(0xbc5)](_0x1665fd=>_0x1665fd['id']===_0x3f83a4(0x9d5))&&_0x125205[_0x3f83a4(0x350)]({'id':_0x3f83a4(0x9d5),'name':_0x3f83a4(0x5c6),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x125205,renderParallelTestShortcuts();});}function renderParallelTestShortcuts(){const _0x540379=_0x4414d4,_0x2f453d=document[_0x540379(0x651)](_0x540379(0xb93)),_0x34e81a=document[_0x540379(0x651)](_0x540379(0x902)),_0x2e9c06=document[_0x540379(0x651)](_0x540379(0x6f0));if(_0x2e9c06)_0x2e9c06['classList'][_0x540379(0x7bd)](_0x540379(0x6ca));if(!_0x2f453d||!_0x34e81a)return;const _0x484066=parallelTestShortcuts[_0x540379(0xb31)](0x0,0x4),_0x2dc279=parallelTestShortcuts[_0x540379(0xb31)](0x4);_0x2f453d[_0x540379(0x61b)]=_0x484066[_0x540379(0xb6a)](_0x21d2ed=>{const _0x492379=_0x540379,_0x3150b5=_0x21d2ed['url']&&_0x21d2ed['url'][_0x492379(0x4fe)]()!=='',_0x4d0d1e=_0x3150b5?_0x492379(0x2ab):_0x492379(0x988),_0x3aa6cf=_0x3150b5?'🔁':'🔗',_0xd01661=!_0x21d2ed[_0x492379(0x245)]?_0x492379(0x77b)+_0x21d2ed['id']+_0x492379(0xb98):'';return _0x492379(0x34c)+_0x21d2ed['id']+_0x492379(0x5f4)+_0x4d0d1e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x3aa6cf+'\x20'+_0x21d2ed[_0x492379(0x815)]+_0x492379(0x67c)+_0x21d2ed['id']+_0x492379(0x30d)+_0xd01661+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x540379(0x254)](''),_0x2dc279[_0x540379(0x9fa)]>0x0&&(_0x2f453d[_0x540379(0x61b)]+=_0x540379(0x4ae)),_0x2dc279['length']>0x0?_0x34e81a['innerHTML']=_0x2dc279[_0x540379(0xb6a)](_0x2c0a0f=>_0x540379(0x86a)+(_0x2c0a0f['url']?'🔁':'🔗')+'\x20'+_0x2c0a0f[_0x540379(0x815)]+_0x540379(0x9d4)+_0x2c0a0f['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2c0a0f['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2c0a0f['isDefault']?_0x540379(0x77b)+_0x2c0a0f['id']+_0x540379(0xb16):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''):_0x34e81a['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openParallelTestShortcutEditor(_0x28a93d=null){const _0x4d09d0=_0x4414d4,_0x580b41=document[_0x4d09d0(0x651)](_0x4d09d0(0xaf4)),_0x4d82f3=document['getElementById'](_0x4d09d0(0x569)),_0x18c2d9=document[_0x4d09d0(0x651)](_0x4d09d0(0x2b8)),_0x1a2ba2=document[_0x4d09d0(0x651)](_0x4d09d0(0x650)),_0x161d4a=document[_0x4d09d0(0x651)](_0x4d09d0(0x905));if(_0x28a93d){const _0x379307=parallelTestShortcuts[_0x4d09d0(0xbc5)](_0x32506b=>_0x32506b['id']===_0x28a93d);if(!_0x379307)return;_0x4d82f3['textContent']=_0x4d09d0(0x21e),_0x18c2d9['value']=_0x379307['id'],_0x1a2ba2['value']=_0x379307['name'],_0x161d4a[_0x4d09d0(0x3b7)]=_0x379307[_0x4d09d0(0x7de)]||'';}else _0x4d82f3[_0x4d09d0(0xc23)]=_0x4d09d0(0x521),_0x18c2d9[_0x4d09d0(0x3b7)]='',_0x1a2ba2['value']='',_0x161d4a['value']='';_0x580b41[_0x4d09d0(0xbeb)][_0x4d09d0(0x303)]('hidden');}async function saveParallelTestShortcutChanges(){const _0x4615d1=_0x4414d4,_0x998339=document[_0x4615d1(0x651)](_0x4615d1(0x2b8))[_0x4615d1(0x3b7)],_0xe23bdf=document[_0x4615d1(0x651)]('parallel-shortcut-name-input')['value'][_0x4615d1(0x4fe)](),_0x58741c=document[_0x4615d1(0x651)](_0x4615d1(0x905))[_0x4615d1(0x3b7)]['trim']();if(!_0xe23bdf){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x47ff29={'id':_0x998339||_0x4615d1(0xbc3)+Date[_0x4615d1(0xbcc)](),'name':_0xe23bdf,'url':_0x58741c,'isDefault':_0x998339[_0x4615d1(0x972)](_0x4615d1(0xb11))};let _0x10c98e;_0x998339?_0x10c98e=parallelTestShortcuts[_0x4615d1(0xb6a)](_0x1b1680=>_0x1b1680['id']===_0x998339?_0x47ff29:_0x1b1680):_0x10c98e=[...parallelTestShortcuts,_0x47ff29];try{const _0xff49ff=doc(db,_0x4615d1(0x7d1),_0x4615d1(0x686));await setDoc(_0xff49ff,{'shortcuts':_0x10c98e},{'merge':!![]}),document[_0x4615d1(0x651)](_0x4615d1(0xaf4))[_0x4615d1(0xbeb)][_0x4615d1(0x7bd)](_0x4615d1(0x6ca));}catch(_0x4a0e0c){console['error']('Error\x20saving\x20parallel\x20shortcut:',_0x4a0e0c),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleParallelTestShortcutClick(_0x2a9d33){const _0x1ccb74=_0x4414d4,_0x46b184=parallelTestShortcuts['find'](_0x4c8f5c=>_0x4c8f5c['id']===_0x2a9d33);if(!_0x46b184)return;if(!_0x46b184[_0x1ccb74(0x7de)]||_0x46b184[_0x1ccb74(0x7de)][_0x1ccb74(0x4fe)]()===''){openParallelTestShortcutEditor(_0x2a9d33);return;}const _0x507c51=document[_0x1ccb74(0x651)](_0x1ccb74(0x59e)),_0x425e63=document[_0x1ccb74(0x651)](_0x1ccb74(0xa53));document[_0x1ccb74(0x651)]('quiz-generation-area')[_0x1ccb74(0xbeb)][_0x1ccb74(0x303)](_0x1ccb74(0x6ca)),document[_0x1ccb74(0x651)](_0x1ccb74(0x9d3))[_0x1ccb74(0x61b)]='',_0x507c51['classList'][_0x1ccb74(0x303)]('hidden'),_0x425e63[_0x1ccb74(0xc23)]=_0x1ccb74(0xb2a);try{const _0x5f1256=new URL(_0x46b184[_0x1ccb74(0x7de)])[_0x1ccb74(0x703)],_0x79e2f9=_0x5f1256[_0x1ccb74(0x25f)](_0x5f1256[_0x1ccb74(0x734)]('/')+0x1)||(_0x46b184[_0x1ccb74(0x7de)][_0x1ccb74(0x6ed)](_0x1ccb74(0x533))?_0x1ccb74(0x2de):_0x1ccb74(0x24f)),_0x134afe=await fetchFileFromUrl(_0x46b184[_0x1ccb74(0x7de)],_0x79e2f9);await handleGenerateParallelTest(_0x134afe);}catch(_0x3547ae){console[_0x1ccb74(0xb95)]('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x3547ae),showMessage(_0x1ccb74(0x750)+_0x3547ae['message']),_0x507c51[_0x1ccb74(0xbeb)]['add'](_0x1ccb74(0x6ca));}}function initializeScratchpadCanvas(){const _0x25756d=_0x4414d4,_0x477027=document[_0x25756d(0x651)](_0x25756d(0x80a)),_0x2c0083=document[_0x25756d(0x2d5)]('.scratchpad-content-wrapper');if(!_0x477027||!_0x2c0083)return;scratchpadCtx=_0x477027[_0x25756d(0x31e)]('2d',{'willReadFrequently':!![]});const _0x3ac09a=window[_0x25756d(0x43c)]||0x1,_0x4bc81d=_0x2c0083[_0x25756d(0x4c5)]();_0x477027[_0x25756d(0x74f)]=_0x4bc81d[_0x25756d(0x74f)]*_0x3ac09a,_0x477027[_0x25756d(0x99b)]=_0x4bc81d[_0x25756d(0x99b)]*_0x3ac09a,_0x477027[_0x25756d(0x5ce)]['width']=_0x4bc81d[_0x25756d(0x74f)]+'px',_0x477027[_0x25756d(0x5ce)]['height']=_0x4bc81d[_0x25756d(0x99b)]+'px',scratchpadCtx[_0x25756d(0xc18)](_0x3ac09a,_0x3ac09a),scratchpadCtx['lineJoin']=_0x25756d(0xac0),scratchpadCtx[_0x25756d(0x5a0)]='round',_0x477027[_0x25756d(0x3ee)](_0x25756d(0xa74),handlePointerDown),_0x477027[_0x25756d(0x3ee)](_0x25756d(0x50e),handlePointerMove),_0x477027[_0x25756d(0x3ee)]('pointerup',handlePointerUp),_0x477027[_0x25756d(0x3ee)](_0x25756d(0xb36),handlePointerUp),_0x477027[_0x25756d(0x3ee)](_0x25756d(0x7f2),handleWheel),_0x477027[_0x25756d(0x3ee)]('touchstart',handlePointerDown),_0x477027[_0x25756d(0x3ee)](_0x25756d(0x204),handlePointerMove),_0x477027[_0x25756d(0x3ee)](_0x25756d(0x629),handlePointerUp),_0x477027[_0x25756d(0x7bb)](_0x25756d(0xa74),handlePointerDown),_0x477027[_0x25756d(0x7bb)](_0x25756d(0x50e),handlePointerMove),_0x477027['addEventListener'](_0x25756d(0x449),handlePointerUp),_0x477027[_0x25756d(0x7bb)](_0x25756d(0xb36),handlePointerUp),_0x477027[_0x25756d(0x7bb)](_0x25756d(0x7f2),handleWheel,{'passive':![]}),_0x477027[_0x25756d(0x7bb)](_0x25756d(0x4dd),handlePointerDown,{'passive':![]}),_0x477027[_0x25756d(0x7bb)](_0x25756d(0x204),handlePointerMove,{'passive':![]}),_0x477027['addEventListener'](_0x25756d(0x629),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x2129b0=_0x4414d4,_0x514780=document['getElementById'](_0x2129b0(0x8ae)),_0x552dab=document['getElementById'](_0x2129b0(0x4ee));_0x552dab[_0x2129b0(0x61b)]=_0x2129b0(0x344)+scratchpadHighlighterSize+_0x2129b0(0x764);const _0x23a127=document[_0x2129b0(0x651)](_0x2129b0(0x829)),_0x58af07=document[_0x2129b0(0x651)]('eraser-tool-btn'),_0xdb7465=document[_0x2129b0(0x651)](_0x2129b0(0x494)),_0x5d42d1=document[_0x2129b0(0x651)](_0x2129b0(0x895)),_0x4b3365=document[_0x2129b0(0x651)](_0x2129b0(0xa89)),_0x1b11c4=document[_0x2129b0(0x651)](_0x2129b0(0x2e1)),_0x30a99c=[_0x23a127,_0x58af07,_0xdb7465,_0x5d42d1];document[_0x2129b0(0x651)]('scratchpad-close-btn')[_0x2129b0(0x7bb)](_0x2129b0(0x530),()=>_0x514780[_0x2129b0(0xbeb)][_0x2129b0(0x7bd)](_0x2129b0(0x6ca))),document['getElementById'](_0x2129b0(0x1e9))[_0x2129b0(0x7bb)](_0x2129b0(0x530),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x2129b0(0x651)](_0x2129b0(0x28a))['addEventListener']('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x2129b0(0x9ca))[_0x2129b0(0x7bb)](_0x2129b0(0x530),undo),document[_0x2129b0(0x651)](_0x2129b0(0x4c8))[_0x2129b0(0x7bb)](_0x2129b0(0x530),redo);const _0x24c492=_0x489194=>{const _0x1dfa02=_0x2129b0;_0x30a99c[_0x1dfa02(0x15f)](_0x32a0cc=>_0x32a0cc[_0x1dfa02(0xbeb)][_0x1dfa02(0x303)](_0x1dfa02(0x712))),_0x489194[_0x1dfa02(0xbeb)][_0x1dfa02(0x7bd)]('active');const _0x5392b3=_0x489194===_0x5d42d1;_0x4b3365['classList']['toggle']('hidden',_0x5392b3),_0x1b11c4[_0x1dfa02(0xbeb)][_0x1dfa02(0xb9b)]('hidden',!_0x5392b3);};_0x23a127['addEventListener'](_0x2129b0(0x530),()=>{const _0x2e74aa=_0x2129b0;activeTool=_0x2e74aa(0x13f),_0x24c492(_0x23a127);}),_0x58af07[_0x2129b0(0x7bb)](_0x2129b0(0x530),()=>{activeTool='eraser',_0x24c492(_0x58af07);}),_0xdb7465[_0x2129b0(0x7bb)](_0x2129b0(0x530),()=>{const _0x18c6a5=_0x2129b0;activeTool=_0x18c6a5(0x1f0),_0x24c492(_0xdb7465);}),_0x5d42d1[_0x2129b0(0x7bb)](_0x2129b0(0x530),()=>{const _0x5bf741=_0x2129b0;activeTool=_0x5bf741(0x75d),_0x24c492(_0x5d42d1);}),_0x4b3365[_0x2129b0(0x514)](_0x2129b0(0x2b5))[_0x2129b0(0x15f)](_0x501390=>{const _0x1daef5=_0x2129b0;_0x501390[_0x1daef5(0x7bb)](_0x1daef5(0x530),_0x3cade0=>{const _0x48b1a9=_0x1daef5;scratchpadPenSize=parseInt(_0x3cade0['target'][_0x48b1a9(0x3b5)][_0x48b1a9(0xc0e)],0xa),_0x4b3365[_0x48b1a9(0x514)]('.pen-size-btn')['forEach'](_0x5498bf=>_0x5498bf['classList'][_0x48b1a9(0x303)](_0x48b1a9(0x712))),_0x3cade0[_0x48b1a9(0x8d0)][_0x48b1a9(0xbeb)]['add'](_0x48b1a9(0x712));});}),_0x4b3365[_0x2129b0(0x514)](_0x2129b0(0xa8e))[_0x2129b0(0x15f)](_0x513752=>{const _0x3cb30f=_0x2129b0;_0x513752[_0x3cb30f(0x7bb)](_0x3cb30f(0x530),_0x29baf2=>{const _0x417e4c=_0x3cb30f;scratchpadPenColor=_0x29baf2['target'][_0x417e4c(0x3b5)][_0x417e4c(0x256)],_0x4b3365[_0x417e4c(0x514)](_0x417e4c(0xa8e))[_0x417e4c(0x15f)](_0x4170b0=>_0x4170b0[_0x417e4c(0xbeb)][_0x417e4c(0x303)]('active')),_0x29baf2[_0x417e4c(0x8d0)][_0x417e4c(0xbeb)]['add'](_0x417e4c(0x712));});}),_0x1b11c4['querySelectorAll'](_0x2129b0(0x1aa))[_0x2129b0(0x15f)](_0x54ed97=>{const _0x29b435=_0x2129b0;_0x54ed97[_0x29b435(0x7bb)](_0x29b435(0x530),_0x152a39=>{const _0x4fd5d5=_0x29b435;scratchpadHighlighterColor=_0x152a39[_0x4fd5d5(0x8d0)]['dataset'][_0x4fd5d5(0x256)],_0x1b11c4['querySelectorAll'](_0x4fd5d5(0x1aa))[_0x4fd5d5(0x15f)](_0x35ba9f=>_0x35ba9f[_0x4fd5d5(0xbeb)][_0x4fd5d5(0x303)](_0x4fd5d5(0x712))),_0x152a39['target'][_0x4fd5d5(0xbeb)][_0x4fd5d5(0x7bd)](_0x4fd5d5(0x712));});});const _0x59c53e=document[_0x2129b0(0x651)](_0x2129b0(0x8e1)),_0x46ba16=document[_0x2129b0(0x651)]('highlighter-size-value');_0x59c53e['addEventListener'](_0x2129b0(0xbec),_0x5026c3=>{const _0x10413a=_0x2129b0,_0x1309ba=parseInt(_0x5026c3[_0x10413a(0x8d0)][_0x10413a(0x3b7)],0xa);scratchpadHighlighterSize=_0x1309ba,_0x46ba16[_0x10413a(0xc23)]=_0x1309ba;}),window['addEventListener']('resize',()=>{const _0x56d8f9=_0x2129b0;!_0x514780[_0x56d8f9(0xbeb)][_0x56d8f9(0xa28)](_0x56d8f9(0x6ca))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x4414d4(0x8e8),'name':'คะแนนเต็ม','description':_0x4414d4(0x1d0),'icon':_0x4414d4(0x9af)},'QUICK_THINKER':{'id':_0x4414d4(0x59d),'name':_0x4414d4(0x722),'description':_0x4414d4(0x8a0),'icon':_0x4414d4(0x448)},'ON_FIRE':{'id':_0x4414d4(0xbb3),'name':_0x4414d4(0xabd),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x4414d4(0x66c),'name':_0x4414d4(0x1a8),'description':_0x4414d4(0xa6c),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':'comeback_king','name':_0x4414d4(0x44c),'description':_0x4414d4(0xc0a),'icon':_0x4414d4(0x404)},'SPECIALIST':{'id':_0x4414d4(0x262),'name':_0x4414d4(0xafd),'description':_0x4414d4(0x5d1),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':'perseverance','name':_0x4414d4(0x979),'description':_0x4414d4(0x12a),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x4414d4(0x56b),'authDomain':_0x4414d4(0x6f2),'projectId':_0x4414d4(0x56f),'storageBucket':_0x4414d4(0x6c2),'messagingSenderId':_0x4414d4(0x1e5),'appId':_0x4414d4(0x28e),'measurementId':_0x4414d4(0x128)},appId=typeof __app_id!==_0x4414d4(0x730)?__app_id:_0x4414d4(0x362),adminView=document[_0x4414d4(0x651)](_0x4414d4(0x6df)),studentView=document[_0x4414d4(0x651)](_0x4414d4(0x7ad)),projectDashboardView=document[_0x4414d4(0x651)](_0x4414d4(0x95a)),projectDetailView=document['getElementById'](_0x4414d4(0xa6e)),quizResultsView=document[_0x4414d4(0x651)](_0x4414d4(0x9fb)),projectList=document['getElementById'](_0x4414d4(0x635)),noProjectsMsg=document[_0x4414d4(0x651)](_0x4414d4(0x73c)),projectTitle=document['getElementById'](_0x4414d4(0x552)),projectIdDisplay=document[_0x4414d4(0x651)](_0x4414d4(0x62a)),studentList=document['getElementById'](_0x4414d4(0x6f9)),messageModal=document[_0x4414d4(0x651)](_0x4414d4(0x3b2)),modalMessage=document[_0x4414d4(0x651)](_0x4414d4(0x455)),createProjectModal=document[_0x4414d4(0x651)](_0x4414d4(0x7c6)),adminPasswordModal=document['getElementById'](_0x4414d4(0x672)),confirmationModal=document[_0x4414d4(0x651)]('confirmation-modal'),userIdDisplay=document['getElementById'](_0x4414d4(0x646)),topicTab=document['getElementById']('topic-tab'),textTab=document['getElementById']('text-tab'),topicInputArea=document[_0x4414d4(0x651)]('topic-input-area'),textInputArea=document[_0x4414d4(0x651)](_0x4414d4(0x5ca)),manageTab=document[_0x4414d4(0x651)]('manage-tab'),resultsTab=document['getElementById'](_0x4414d4(0x968)),leaderboardTab=document['getElementById'](_0x4414d4(0x834)),manageTabContent=document[_0x4414d4(0x651)](_0x4414d4(0x59c)),resultsTabContent=document[_0x4414d4(0x651)](_0x4414d4(0xb09)),leaderboardTabContent=document['getElementById']('leaderboard-tab-content'),projectQuizzesList=document[_0x4414d4(0x651)](_0x4414d4(0x1b7)),fileTab=document['getElementById'](_0x4414d4(0x1eb)),fileInputArea=document[_0x4414d4(0x651)](_0x4414d4(0x7c2)),fileUploadInput=document[_0x4414d4(0x651)](_0x4414d4(0x899)),worksheetTab=document['getElementById'](_0x4414d4(0x95c)),worksheetInputArea=document[_0x4414d4(0x651)](_0x4414d4(0x7c8)),generateWorksheetBtn=document[_0x4414d4(0x651)](_0x4414d4(0x340)),studentInitialView=document[_0x4414d4(0x651)]('student-initial-view'),studentNameSelectionView=document[_0x4414d4(0x651)](_0x4414d4(0x94a)),studentQuizArea=document[_0x4414d4(0x651)](_0x4414d4(0x4df)),studentResultArea=document[_0x4414d4(0x651)](_0x4414d4(0xb94)),studentReadingArea=document[_0x4414d4(0x651)](_0x4414d4(0x297)),loadQuizBtn=document[_0x4414d4(0x651)](_0x4414d4(0x6c7)),startQuizBtn=document['getElementById'](_0x4414d4(0x323)),studentJoinGameView=document[_0x4414d4(0x651)](_0x4414d4(0x228)),presentationModal=document[_0x4414d4(0x651)]('presentation-modal'),renameQuizModal=document[_0x4414d4(0x651)](_0x4414d4(0xa30)),moveQuizModal=document[_0x4414d4(0x651)]('move-quiz-modal'),quizSettingsModal=document['getElementById'](_0x4414d4(0xae4)),quizStatusModal=document[_0x4414d4(0x651)]('quiz-status-modal'),liveGameView=document['getElementById'](_0x4414d4(0x520));function handleFixLessonLatex(){const _0x4d1fff=_0x4414d4,_0x58c635=document[_0x4d1fff(0x651)]('lesson-view-content');if(!_0x58c635){showMessage(_0x4d1fff(0xad0));return;}const _0x588b48=_0x58c635['querySelectorAll']([_0x4d1fff(0xaa4),'.ai-content\x20li',_0x4d1fff(0x486),_0x4d1fff(0x14a),'.ai-content\x20h3']['join'](','));let _0x549845=0x0;const _0x9cdd6c=_0x4fb20d=>_0x4fb20d['textContent']||'',_0x10ac42=(_0x5cab17,_0x55deae)=>{const _0xef9a06=_0x4d1fff;if(_0x5cab17[_0xef9a06(0x2d5)]&&_0x5cab17[_0xef9a06(0x2d5)](_0xef9a06(0x30f)))return;_0x5cab17[_0xef9a06(0xc23)]=_0x55deae;},_0x5edfef=_0x5055cb=>_0x5055cb[_0x4d1fff(0xa71)](/\u00A0/g,'\x20')[_0x4d1fff(0xa71)](/\u200B/g,'')[_0x4d1fff(0xa71)](/\r\n?/g,'\x0a'),_0x237722=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x3e700c=_0x89bc5d=>{const _0x5d4e15=_0x4d1fff;let _0x124980=_0x89bc5d['trim']();const _0x289d45=['frac',_0x5d4e15(0x2f6),_0x5d4e15(0x5a9),_0x5d4e15(0x4bd),_0x5d4e15(0x7b0),_0x5d4e15(0x9d2),_0x5d4e15(0xbd2),'div','leq',_0x5d4e15(0xa17),'le','ge',_0x5d4e15(0x6b4),'pm',_0x5d4e15(0x476),_0x5d4e15(0x562),_0x5d4e15(0x4b2),'tan','log','ln',_0x5d4e15(0x146),_0x5d4e15(0x42b),'binom','left',_0x5d4e15(0x506),'overline','underline','circ',_0x5d4e15(0xba0)];_0x289d45[_0x5d4e15(0x15f)](_0x4489a2=>{const _0x200265=_0x5d4e15;_0x124980=_0x124980['replace'](new RegExp(_0x200265(0x3d9)+_0x4489a2+'\x5cb','g'),(_0x2d6e15,_0xf95149)=>_0xf95149+'\x5c'+_0x4489a2);});const _0x2cabce=[[/×/g,_0x5d4e15(0x233)],[/·/g,_0x5d4e15(0xad6)],[/÷/g,_0x5d4e15(0x2f4)],[/≤/g,_0x5d4e15(0xb6c)],[/≥/g,'\x5cge'],[/≠/g,_0x5d4e15(0x660)],[/±/g,_0x5d4e15(0x9c4)],[/∑/g,'\x5csum'],[/−/g,'-']];return _0x2cabce['forEach'](([_0x497ea8,_0x4a0f73])=>{const _0x4df07c=_0x5d4e15;_0x124980=_0x124980[_0x4df07c(0xa71)](_0x497ea8,_0x4a0f73);}),_0x124980=_0x124980[_0x5d4e15(0xa71)](/√\s*([A-Za-z0-9]+)/g,_0x5d4e15(0x76e)),_0x124980=_0x124980[_0x5d4e15(0xa71)](/(\d+)\s*%/g,_0x5d4e15(0x9cd)),_0x124980;},_0x3ecdd2=_0x5e22ea=>{const _0x27de3f=_0x4d1fff;if(/\$|\\\(|\\\[/['test'](_0x5e22ea))return _0x5e22ea;if(!_0x237722[_0x27de3f(0x579)](_0x5e22ea))return _0x5e22ea;const _0xd7e280=_0x5e22ea['match'](/^\s*/)[0x0],_0x248c30=_0x5e22ea[_0x27de3f(0xc08)](/\s*$/)[0x0],_0xc70fcf=_0x5e22ea[_0x27de3f(0x4fe)]();return _0xd7e280+'$'+_0x3e700c(_0xc70fcf)+'$'+_0x248c30;};_0x588b48[_0x4d1fff(0x15f)](_0x1e0bc6=>{const _0x2a5173=_0x4d1fff,_0x2a83e1=_0x9cdd6c(_0x1e0bc6);let _0x1e67ae=_0x5edfef(_0x2a83e1);_0x1e67ae=_0x1e67ae['replace'](/\$([^$]*?)\$/g,(_0x3bdc0a,_0x341e71)=>'$'+_0x3e700c(_0x341e71)+'$');const _0xd8f7c=_0x1e67ae[_0x2a5173(0x54a)](/(\s+)/),_0xdb9f49=_0xd8f7c[_0x2a5173(0xb6a)](_0x4445c8=>{if(/\s+/['test'](_0x4445c8))return _0x4445c8;return _0x3ecdd2(_0x4445c8);});_0x1e67ae=_0xdb9f49['join'](''),_0x1e67ae!==_0x2a83e1&&(_0x10ac42(_0x1e0bc6,_0x1e67ae),_0x549845++);});if(_0x549845>0x0){showMessage(_0x4d1fff(0x3f6)+_0x549845+'\x20จุดเรียบร้อยแล้ว');try{window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x4d1fff(0x1f8)]([_0x58c635]);}catch(_0x3e0f38){console[_0x4d1fff(0xb95)]('MathJax\x20re-render\x20failed:',_0x3e0f38);}}else showMessage(_0x4d1fff(0xbf2));}function handleAutoFixLatex(){const _0xf6b60f=_0x4414d4,_0x4bac38=document[_0xf6b60f(0x651)](_0xf6b60f(0x655))||document,_0x55d1da=_0x4bac38[_0xf6b60f(0x514)](_0xf6b60f(0x81c));let _0x35d6f5=0x0;const _0x3e1c82=_0x1d2bbf=>_0xf6b60f(0x3b7)in _0x1d2bbf?String(_0x1d2bbf[_0xf6b60f(0x3b7)]):_0x1d2bbf['innerText']!==undefined?_0x1d2bbf['innerText']:_0x1d2bbf['textContent']||'',_0x1dbb82=(_0x38b543,_0x12556d)=>{const _0x85991f=_0xf6b60f;if(_0x85991f(0x3b7)in _0x38b543){_0x38b543[_0x85991f(0x3b7)]=_0x12556d;return;}if(_0x38b543[_0x85991f(0x2d5)]&&_0x38b543[_0x85991f(0x2d5)](_0x85991f(0x30f)))return;if(_0x38b543[_0x85991f(0x64a)]!==undefined)_0x38b543[_0x85991f(0x64a)]=_0x12556d;else _0x38b543[_0x85991f(0xc23)]=_0x12556d;},_0x476bb0=_0x1d4363=>_0x1d4363[_0xf6b60f(0xa71)](/\u00A0/g,'\x20')[_0xf6b60f(0xa71)](/\u200B/g,'')[_0xf6b60f(0xa71)](/\r\n?/g,'\x0a'),_0x311307=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x3218b2=_0x4abf97=>{const _0x3bc97e=_0xf6b60f;let _0x113fff=_0x4abf97[_0x3bc97e(0x4fe)]();_0x113fff=_0x113fff[_0x3bc97e(0xa71)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x3bc97e(0x557)),_0x113fff=_0x113fff[_0x3bc97e(0xa71)](/\bfrac(\d)(\d)/g,_0x3bc97e(0x557));const _0x5ed128=[_0x3bc97e(0x250),_0x3bc97e(0x4bd),_0x3bc97e(0x9d2),_0x3bc97e(0xbd2),_0x3bc97e(0x7a9),'leq',_0x3bc97e(0xa17),_0x3bc97e(0x6b4),'pm','sin',_0x3bc97e(0x4b2),_0x3bc97e(0x704),_0x3bc97e(0xaf0),'ln'];_0x5ed128[_0x3bc97e(0x15f)](_0x53f7c0=>{const _0x25ef39=_0x3bc97e;_0x113fff=_0x113fff[_0x25ef39(0xa71)](new RegExp(_0x25ef39(0x3d9)+_0x53f7c0+'\x5cb','g'),(_0x1d9ded,_0x40fa49)=>_0x40fa49+'\x5c'+_0x53f7c0);});const _0x78dda7=[[/×/g,_0x3bc97e(0x233)],[/·/g,_0x3bc97e(0xad6)],[/÷/g,'\x5cdiv'],[/≤/g,_0x3bc97e(0xb6c)],[/≥/g,_0x3bc97e(0x82d)],[/≠/g,_0x3bc97e(0x660)],[/±/g,_0x3bc97e(0x9c4)]];return _0x78dda7[_0x3bc97e(0x15f)](([_0x5946b7,_0x42f236])=>{const _0x582135=_0x3bc97e;_0x113fff=_0x113fff[_0x582135(0xa71)](_0x5946b7,_0x42f236);}),_0x113fff;},_0x4a0962=_0x1a1bbb=>{const _0x385612=_0xf6b60f;if(/\$|\\\(|\\\[/['test'](_0x1a1bbb))return _0x1a1bbb;if(!_0x311307[_0x385612(0x579)](_0x1a1bbb))return _0x1a1bbb;const _0x99361d=_0x1a1bbb[_0x385612(0xc08)](/^\s*/)[0x0],_0x3b066a=_0x1a1bbb['match'](/\s*$/)[0x0],_0x174c0b=_0x1a1bbb[_0x385612(0x4fe)]();return _0x99361d+'$'+_0x3218b2(_0x174c0b)+'$'+_0x3b066a;};_0x55d1da[_0xf6b60f(0x15f)](_0x2ee78b=>{const _0x4d6ce4=_0xf6b60f,_0x5c566e=_0x3e1c82(_0x2ee78b);let _0xff4e05=_0x476bb0(_0x5c566e);_0xff4e05=_0xff4e05[_0x4d6ce4(0xa71)](/\$([^$]*?)\$/g,(_0x3c9d38,_0x4b049a)=>'$'+_0x3218b2(_0x4b049a)+'$');const _0x357708=_0xff4e05[_0x4d6ce4(0x54a)](/(\s+)/),_0x421721=_0x357708[_0x4d6ce4(0xb6a)](_0x1c7169=>/\s+/[_0x4d6ce4(0x579)](_0x1c7169)?_0x1c7169:_0x4a0962(_0x1c7169));_0xff4e05=_0x421721[_0x4d6ce4(0x254)](''),_0xff4e05!==_0x5c566e&&(_0x1dbb82(_0x2ee78b,_0xff4e05),_0x35d6f5++);});if(_0x35d6f5>0x0){showMessage(_0xf6b60f(0x97e)+_0x35d6f5+_0xf6b60f(0x96f));try{if(window[_0xf6b60f(0x858)]&&MathJax[_0xf6b60f(0x1f8)])MathJax[_0xf6b60f(0x1f8)]();}catch(_0x2e7cbe){}}else showMessage(_0xf6b60f(0x5d6));}async function listenForCustomMathTopics(){const _0x3ee081=_0x4414d4,_0x5ad9ea=collection(db,'artifacts/'+appId+_0x3ee081(0xbf1));onSnapshot(_0x5ad9ea,_0x43b9f8=>{const _0x12798d=_0x3ee081;customMathTopics=_0x43b9f8[_0x12798d(0x599)][_0x12798d(0xb6a)](_0xeac61f=>({'id':_0xeac61f['id'],..._0xeac61f[_0x12798d(0x213)]()})),renderTopicCheckboxes();},_0x35995c=>{console['error']('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x35995c);});}function handleSelectAllTopics(){const _0x3afdc1=_0x4414d4,_0x7bdbd5=document[_0x3afdc1(0x651)](_0x3afdc1(0x4d1)),_0x398293=_0x7bdbd5['querySelectorAll'](_0x3afdc1(0xb03));_0x398293['forEach'](_0x3bc52d=>{const _0xa27c57=_0x3afdc1;_0x3bc52d[_0xa27c57(0x173)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x11c1bc=_0x4414d4,_0x2709ee=document[_0x11c1bc(0x651)](_0x11c1bc(0x4d1)),_0x1887e1=_0x2709ee[_0x11c1bc(0x514)](_0x11c1bc(0xb03));_0x1887e1[_0x11c1bc(0x15f)](_0x1e8329=>{_0x1e8329['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0xf67888){const _0x54dbc7=_0x4414d4;if(!_0xf67888)return;try{const _0xc6c65a=doc(db,'artifacts/'+appId+'/public/data/customMathTopics',_0xf67888);await deleteDoc(_0xc6c65a),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x4bb799){console[_0x54dbc7(0xb95)]('Error\x20deleting\x20custom\x20topic:',_0x4bb799),showMessage(_0x54dbc7(0x158));}}async function handleAddCustomMathTopic(){const _0x136afc=_0x4414d4,_0x1f3d3d=document[_0x136afc(0x651)](_0x136afc(0x2b7)),_0xac9261=_0x1f3d3d[_0x136afc(0x3b7)]['trim']();if(!_0xac9261){showMessage(_0x136afc(0x963));return;}if(!userId){showMessage(_0x136afc(0xa5a));return;}try{const _0x1c9083=collection(db,_0x136afc(0x763)+appId+_0x136afc(0xbf1));await addDoc(_0x1c9083,{'name':_0xac9261,'createdAt':serverTimestamp()}),_0x1f3d3d['value']='',showMessage(_0x136afc(0x197)+_0xac9261+_0x136afc(0x8e4));}catch(_0x84d38c){console[_0x136afc(0xb95)](_0x136afc(0x85b),_0x84d38c),showMessage(_0x136afc(0x1b9));}}async function handleUpdateOldQuizzes(){const _0x3f0e41=_0x4414d4;showConfirmation(_0x3f0e41(0x818),async()=>{const _0x5afd8f=_0x3f0e41,_0x1dfd31=document[_0x5afd8f(0x651)](_0x5afd8f(0x59e)),_0x241a9f=document[_0x5afd8f(0x651)](_0x5afd8f(0xa53)),_0x43efb0=_0x241a9f[_0x5afd8f(0xc23)];_0x1dfd31['classList'][_0x5afd8f(0x303)](_0x5afd8f(0x6ca)),_0x241a9f[_0x5afd8f(0xc23)]=_0x5afd8f(0xaa5);try{const _0x576b68=collection(db,_0x5afd8f(0x763)+appId+_0x5afd8f(0x2cd)),_0x125758=await getDocs(_0x576b68);if(_0x125758[_0x5afd8f(0x606)]){showMessage(_0x5afd8f(0xb6b));return;}const _0x9640dd=writeBatch(db);let _0x59fc7f=0x0;_0x125758[_0x5afd8f(0x15f)](_0xe402d3=>{const _0x478af5=_0x5afd8f,_0x334780=_0xe402d3['data'](),_0x57a228=_0xe402d3['id'];if(_0x334780['questions']&&_0x334780[_0x478af5(0x132)][_0x478af5(0x9fa)]>0x0&&!_0x334780[_0x478af5(0x132)][0x0][_0x478af5(0x8d4)]('id')){console[_0x478af5(0xaf0)](_0x478af5(0x639)+_0x57a228+'\x20('+_0x334780[_0x478af5(0x78b)]+')'),_0x59fc7f++;const _0x48d888=_0x334780[_0x478af5(0x132)]['map']((_0x5db536,_0x3d9015)=>{const _0x12dc2e=_0x478af5;return{..._0x5db536,'id':_0x5db536['id']||'q_'+Date[_0x12dc2e(0xbcc)]()+'_'+_0x57a228+'_'+_0x3d9015};}),_0x65c868=doc(db,_0x478af5(0x763)+appId+_0x478af5(0x2cd),_0x57a228);_0x9640dd['update'](_0x65c868,{'questions':_0x48d888});}}),_0x59fc7f>0x0?(_0x241a9f[_0x5afd8f(0xc23)]=_0x5afd8f(0x913)+_0x59fc7f+_0x5afd8f(0x5bd),await _0x9640dd[_0x5afd8f(0x56c)](),showMessage(_0x5afd8f(0x72a)+_0x59fc7f+'\x20รายการสำเร็จ!')):showMessage(_0x5afd8f(0x5fb));}catch(_0x43ce88){console[_0x5afd8f(0xb95)](_0x5afd8f(0x284),_0x43ce88),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x43ce88[_0x5afd8f(0xaea)]);}finally{_0x1dfd31[_0x5afd8f(0xbeb)][_0x5afd8f(0x7bd)](_0x5afd8f(0x6ca)),_0x241a9f[_0x5afd8f(0xc23)]=_0x43efb0;}});}async function handleBulkUpdateQuizSettings(){const _0x41584d=_0x4414d4,_0x57fc82={'shuffle':document['getElementById'](_0x41584d(0xbef))['value'],'resultsDisplay':document[_0x41584d(0x651)](_0x41584d(0xb8d))[_0x41584d(0x3b7)],'loopUntilPass':document[_0x41584d(0x651)]('bulk-loop-until-pass-checkbox')['checked'],'isConfidenceScoringEnabled':document[_0x41584d(0x651)](_0x41584d(0x249))[_0x41584d(0x173)],'confidenceMode':document[_0x41584d(0x651)](_0x41584d(0x49e))[_0x41584d(0x3b7)]};try{showMessage(_0x41584d(0x28f));const _0x2e97b3=await getDocs(collection(db,_0x41584d(0x763)+appId+'/public/data/quizzes')),_0x57a411=_0x2e97b3[_0x41584d(0x599)][_0x41584d(0xb6a)](_0x129b1e=>({'id':_0x129b1e['id'],'data':_0x129b1e['data']()})),_0x46a46d=_0x57a411[_0x41584d(0x9fa)];showConfirmation(_0x41584d(0xa50)+_0x46a46d+_0x41584d(0xb87),async()=>{const _0x235cab=_0x41584d,_0x21d563=document[_0x235cab(0x651)](_0x235cab(0x35f));_0x21d563[_0x235cab(0x993)]=!![],_0x21d563[_0x235cab(0x61b)]=_0x235cab(0x797);try{const _0x385372=writeBatch(db);_0x57a411[_0x235cab(0x15f)](_0x353fd7=>{const _0x5e6580=_0x235cab,_0x23a917=doc(db,_0x5e6580(0x763)+appId+_0x5e6580(0x2cd),_0x353fd7['id']),_0x4154d9={..._0x353fd7[_0x5e6580(0x213)][_0x5e6580(0xb21)]||{},..._0x57fc82};_0x385372['update'](_0x23a917,{'settings':_0x4154d9});}),await _0x385372[_0x235cab(0x56c)](),document['getElementById'](_0x235cab(0x605))[_0x235cab(0xbeb)][_0x235cab(0x7bd)](_0x235cab(0x6ca)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x46a46d+_0x235cab(0x5b2));}catch(_0x3d0bc8){console['error'](_0x235cab(0x677),_0x3d0bc8),showMessage(_0x235cab(0xa1a));}finally{_0x21d563[_0x235cab(0x993)]=![],_0x21d563[_0x235cab(0x61b)]=_0x235cab(0x58a);}});}catch(_0x47cec6){console['error'](_0x41584d(0x392),_0x47cec6),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x5a47cd=_0x4414d4,_0x23e2f8=document['getElementById'](_0x5a47cd(0x552)),_0x2aedc4=document[_0x5a47cd(0x651)](_0x5a47cd(0x218)),_0x3f20a2=_0x23e2f8[_0x5a47cd(0xc23)][_0x5a47cd(0x4fe)]();if(!_0x3f20a2||!currentProjectId){showMessage(_0x5a47cd(0x853)),_0x23e2f8[_0x5a47cd(0xc23)]=currentProjectData[_0x5a47cd(0x68c)];return;}_0x2aedc4[_0x5a47cd(0x993)]=!![],_0x2aedc4[_0x5a47cd(0x61b)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x22d787=doc(db,_0x5a47cd(0x763)+appId+_0x5a47cd(0x714),currentProjectId);await updateDoc(_0x22d787,{'projectName':_0x3f20a2}),currentProjectData&&(currentProjectData['projectName']=_0x3f20a2),showMessage(_0x5a47cd(0x7f7));}catch(_0x5826d4){console[_0x5a47cd(0xb95)](_0x5a47cd(0x92b),_0x5826d4),showMessage(_0x5a47cd(0x1c4)),_0x23e2f8[_0x5a47cd(0xc23)]=currentProjectData[_0x5a47cd(0x68c)];}finally{_0x2aedc4[_0x5a47cd(0xbeb)][_0x5a47cd(0x7bd)]('hidden'),_0x2aedc4[_0x5a47cd(0x993)]=![],_0x2aedc4[_0x5a47cd(0x61b)]=_0x5a47cd(0x43b);}}function handleGeneratePracticeTest(_0x160b3d,_0x1d0ccb){const _0x291cf4=_0x4414d4,_0x44f4b9=document[_0x291cf4(0x651)](_0x291cf4(0x9ac)),_0xc08051=document[_0x291cf4(0x651)](_0x291cf4(0xa05)),_0x54f062=document[_0x291cf4(0x651)](_0x291cf4(0x3e4)),_0x532417=document[_0x291cf4(0x651)](_0x291cf4(0x5f0));_0xc08051[_0x291cf4(0xc23)]=_0x291cf4(0x425)+_0x160b3d,_0x532417[_0x291cf4(0xbeb)][_0x291cf4(0x7bd)](_0x291cf4(0x6ca)),_0x54f062[_0x291cf4(0xbeb)][_0x291cf4(0x303)](_0x291cf4(0x6ca)),_0x44f4b9[_0x291cf4(0xbeb)][_0x291cf4(0x303)](_0x291cf4(0x6ca)),generatePracticeTest(_0x160b3d,_0x1d0ccb)['catch'](_0xec2ac8=>{const _0x6127a2=_0x291cf4;console['error'](_0x6127a2(0xb46),_0xec2ac8),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0x44f4b9['classList'][_0x6127a2(0x7bd)](_0x6127a2(0x6ca));});}async function generatePracticeTest(_0x5cbf42,_0xe76603){const _0x263416=_0x4414d4;[_0x263416(0x41d),_0x263416(0xac9),_0x263416(0x3fa),_0x263416(0x89d)][_0x263416(0x15f)](_0x29442b=>{const _0xb10659=_0x263416,_0x13e07f=document[_0xb10659(0x651)](_0x29442b)['parentElement'];_0x13e07f&&(_0x13e07f[_0xb10659(0x5ce)][_0xb10659(0x4ba)]=_0xb10659(0xb35));});try{const _0x1af58e=_0x263416(0x724),_0x502f53='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0xe76603+_0x263416(0x87a)+_0x5cbf42+_0x263416(0xafc),_0x2dc194=await callGemini(_0x502f53,!![]),_0x4d4059=document[_0x263416(0x651)](_0x263416(0xa05)),_0x1d19f6=document[_0x263416(0x651)](_0x263416(0x3e4)),_0x30cd42=document['getElementById']('lesson-sections-container'),_0x1c41fb=document[_0x263416(0x651)]('applicationContent')[_0x263416(0x4fc)];_0x4d4059[_0x263416(0x64a)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x5cbf42['replace'](/•\s/g,'')+_0x263416(0x96a)+_0xe76603+')',currentApplicationData=JSON[_0x263416(0x607)](_0x2dc194);const _0x2c3a30=document[_0x263416(0x651)](_0x263416(0x3fa));_0x2c3a30[_0x263416(0x61b)]=currentApplicationData['map']((_0x1a0927,_0x594992)=>_0x263416(0x160)+(_0x594992+0x1)+'.\x20'+marked[_0x263416(0x153)](_0x1a0927[_0x263416(0x96c)])+_0x263416(0x8d8)+_0x594992+_0x263416(0x9b1)+_0x1a0927[_0x263416(0xb4a)][_0x263416(0xb6a)]((_0x322b3e,_0x375325)=>_0x263416(0x1ad)+_0x594992+',\x20'+_0x375325+_0x263416(0x280)+String['fromCharCode'](0x61+_0x375325)+'.\x20'+marked['parseInline'](_0x322b3e)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x263416(0x254)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x263416(0x254)](''),window[_0x263416(0x858)]&&MathJax[_0x263416(0x1f8)]([_0x2c3a30]),_0x1c41fb&&(_0x1c41fb[_0x263416(0x5ce)][_0x263416(0x4ba)]=_0x263416(0xb62)),_0x1d19f6[_0x263416(0xbeb)][_0x263416(0x7bd)]('hidden'),_0x30cd42['classList'][_0x263416(0x303)](_0x263416(0x6ca));}catch(_0x3cea42){console[_0x263416(0xb95)](_0x3cea42);throw _0x3cea42;}}async function callGemini(_0x36ca1d,_0x195097=![]){const _0x5b493e=_0x4414d4,_0x4b8910=_0x5b493e(0x4dc),_0x2de54f=_0x5b493e(0x2cf)+_0x4b8910,_0x3bdf1f={'contents':[{'parts':[{'text':_0x36ca1d}]}]};_0x195097&&(_0x3bdf1f['generationConfig']={'responseMimeType':_0x5b493e(0xbd4)},_0x36ca1d[_0x5b493e(0x6ed)](_0x5b493e(0x9ce))?_0x3bdf1f[_0x5b493e(0x328)][_0x5b493e(0xb9d)]={'type':_0x5b493e(0x7d7),'properties':{'gradeLevel':{'type':_0x5b493e(0x616)},'curriculum':{'type':_0x5b493e(0x4d4),'items':{'type':_0x5b493e(0x7d7),'properties':{'sara':{'type':_0x5b493e(0x616)},'mainTopics':{'type':_0x5b493e(0x4d4),'items':{'type':_0x5b493e(0x7d7),'properties':{'topicName':{'type':_0x5b493e(0x616)},'subTopics':{'type':_0x5b493e(0x4d4),'items':{'type':_0x5b493e(0x616)}}},'required':['topicName',_0x5b493e(0x711)]}}},'required':[_0x5b493e(0x839),_0x5b493e(0x26b)]}}},'required':[_0x5b493e(0x63a),'curriculum']}:_0x3bdf1f[_0x5b493e(0x328)][_0x5b493e(0xb9d)]={'type':_0x5b493e(0x4d4),'items':{'type':_0x5b493e(0x7d7),'properties':{'question':{'type':_0x5b493e(0x616)},'options':{'type':_0x5b493e(0x4d4),'items':{'type':_0x5b493e(0x616)}},'answer':{'type':_0x5b493e(0x345)}},'required':[_0x5b493e(0x96c),'options','answer']}});try{const _0x2a23e2=await fetch(_0x2de54f,{'method':'POST','headers':{'Content-Type':_0x5b493e(0xbd4)},'body':JSON[_0x5b493e(0x177)](_0x3bdf1f)});if(!_0x2a23e2['ok']){const _0x1a6f18=await _0x2a23e2['text']();console['error']('API\x20Error\x20Body:',_0x1a6f18);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x2a23e2[_0x5b493e(0x7f9)]);}const _0x43890c=await _0x2a23e2[_0x5b493e(0xb45)]();if(_0x43890c[_0x5b493e(0x206)]&&_0x43890c[_0x5b493e(0x206)][0x0][_0x5b493e(0x32c)]&&_0x43890c[_0x5b493e(0x206)][0x0][_0x5b493e(0x32c)][_0x5b493e(0x538)][0x0])return _0x43890c[_0x5b493e(0x206)][0x0][_0x5b493e(0x32c)][_0x5b493e(0x538)][0x0][_0x5b493e(0x7b0)];else{console[_0x5b493e(0xb95)](_0x5b493e(0x472),_0x43890c);if(_0x43890c[_0x5b493e(0x206)]&&_0x43890c[_0x5b493e(0x206)][0x0][_0x5b493e(0x61a)]===_0x5b493e(0x663))return JSON[_0x5b493e(0x177)]({'error':_0x5b493e(0x8bd)});throw new Error(_0x5b493e(0x918));}}catch(_0x45d39f){console[_0x5b493e(0xb95)]('Error\x20calling\x20Gemini\x20API:',_0x45d39f);throw _0x45d39f;}}async function generateLesson(_0x161dc8=null,_0x310886=null){const _0x35d04a=_0x4414d4,_0x8008ad=_0x161dc8,_0x57b709=_0x310886||_0x35d04a(0x1f3),_0x33af8d=document[_0x35d04a(0x651)]('lesson-loader'),_0x2dcb73=document[_0x35d04a(0x651)]('lesson-loader-text');_0x2dcb73[_0x35d04a(0xc23)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x8008ad+_0x35d04a(0x891);try{const _0x47c4b3=_0x35d04a(0xac7),_0x212d20='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x57b709+_0x35d04a(0x87a)+_0x8008ad+'\x27\x20สำหรับส่วน\x20\x27POINT\x27\x20'+_0x47c4b3+_0x35d04a(0x7f6),_0x119cc5=_0x35d04a(0x96b)+_0x8008ad+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x57b709+_0x35d04a(0x2a8)+_0x47c4b3+_0x35d04a(0x50f),_0x4847c3='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x57b709+'\x27\x20ในหัวข้อ\x20\x27'+_0x8008ad+_0x35d04a(0x7b9),_0x3ae888=_0x35d04a(0x2b3)+_0x8008ad+_0x35d04a(0x987)+_0x57b709+_0x35d04a(0x9c0)+_0x47c4b3+_0x35d04a(0xb01),[_0x3dd1fe,_0x2eea2d,_0x3d9d2b,_0x46ca94]=await Promise['all']([callGemini(_0x212d20),callGemini(_0x119cc5),callGemini(_0x4847c3,!![]),callGemini(_0x3ae888)]),_0x1af40e=document[_0x35d04a(0x651)]('lesson-view-title'),_0x2f7b17=document[_0x35d04a(0x651)](_0x35d04a(0x5f0));_0x1af40e[_0x35d04a(0x64a)]=_0x35d04a(0x178)+_0x8008ad['replace'](/•\s/g,'')+_0x35d04a(0x96a)+_0x57b709+')',[_0x35d04a(0x41d),'memoryContent',_0x35d04a(0x89d)][_0x35d04a(0x15f)](_0x2bb600=>{const _0x25b887=_0x35d04a;document[_0x25b887(0x651)](_0x2bb600)[_0x25b887(0x61b)]='';}),document[_0x35d04a(0x651)](_0x35d04a(0x41d))[_0x35d04a(0x61b)]=marked['parse'](_0x3dd1fe),document[_0x35d04a(0x651)](_0x35d04a(0xac9))[_0x35d04a(0x61b)]=marked['parse'](_0x2eea2d),document[_0x35d04a(0x651)](_0x35d04a(0x89d))[_0x35d04a(0x61b)]=marked['parse'](_0x46ca94),currentApplicationData=JSON[_0x35d04a(0x607)](_0x3d9d2b);const _0x380df3=document[_0x35d04a(0x651)](_0x35d04a(0x3fa));_0x380df3['innerHTML']=currentApplicationData[_0x35d04a(0xb6a)]((_0x2b3eed,_0x322832)=>_0x35d04a(0x160)+(_0x322832+0x1)+'.\x20'+marked['parseInline'](_0x2b3eed['question'])+_0x35d04a(0x8d8)+_0x322832+_0x35d04a(0x9b1)+_0x2b3eed[_0x35d04a(0xb4a)][_0x35d04a(0xb6a)]((_0x58af12,_0x4be0fe)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x322832+',\x20'+_0x4be0fe+_0x35d04a(0x280)+String['fromCharCode'](0x61+_0x4be0fe)+'.\x20'+marked[_0x35d04a(0x153)](_0x58af12)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x35d04a(0x254)]('')+_0x35d04a(0x4c4))['join'](''),window[_0x35d04a(0x858)]&&MathJax[_0x35d04a(0x1f8)]([_0x2f7b17]),_0x33af8d[_0x35d04a(0xbeb)][_0x35d04a(0x7bd)](_0x35d04a(0x6ca)),_0x2f7b17[_0x35d04a(0xbeb)][_0x35d04a(0x303)](_0x35d04a(0x6ca));}catch(_0x297bed){console[_0x35d04a(0xb95)](_0x297bed);throw _0x297bed;}finally{}}function checkAnswer(_0x2a9bcb,_0x3523c1){const _0x370be1=_0x4414d4,_0x484e5b=currentApplicationData[_0x2a9bcb],_0x1c4678=document[_0x370be1(0x651)]('q'+_0x2a9bcb+'-options'),_0x1a84c7=_0x1c4678[_0x370be1(0x46a)](_0x370be1(0x5da));for(let _0x4ed9a7 of _0x1a84c7){_0x4ed9a7[_0x370be1(0x993)]=!![];}_0x3523c1===_0x484e5b[_0x370be1(0x821)]?_0x1a84c7[_0x3523c1][_0x370be1(0xbeb)][_0x370be1(0x7bd)](_0x370be1(0xa3d)):(_0x1a84c7[_0x3523c1][_0x370be1(0xbeb)][_0x370be1(0x7bd)]('incorrect'),_0x1a84c7[_0x484e5b[_0x370be1(0x821)]]['classList'][_0x370be1(0x7bd)](_0x370be1(0xa3d)));}window[_0x4414d4(0x21d)]=handleGenerateAndShowLesson,window[_0x4414d4(0x89e)]=checkAnswer,window[_0x4414d4(0x82f)]=handleGeneratePracticeTest,window[_0x4414d4(0x94c)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x452738=_0x4414d4;try{const _0x290857=initializeApp(firebaseConfig);db=getFirestore(_0x290857),auth=getAuth(_0x290857),setupAuthListener(),setupEventListeners(),showView(_0x452738(0x1e0)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x585252){console[_0x452738(0xb95)](_0x452738(0x567),_0x585252),showMessage(_0x452738(0x952));}}async function handleVerifyAnswersInEditor(){const _0x2a14ac=_0x4414d4,_0x2a845f=document['getElementById'](_0x2a14ac(0x9b4));if(!_0x2a845f)return;const _0x3ff479=document['getElementById'](_0x2a14ac(0xb04));_0x3ff479[_0x2a14ac(0x993)]=!![],_0x3ff479['innerHTML']=_0x2a14ac(0x6c1);try{const _0x18eec2=_0x2a845f[_0x2a14ac(0x514)]('.question-editor-item'),_0xfd4b46=Array[_0x2a14ac(0x65a)](_0x18eec2)[_0x2a14ac(0xb6a)]((_0x4c4d16,_0x2277af)=>{const _0x3ac387=_0x2a14ac,_0x936fb6=_0x4c4d16[_0x3ac387(0x3b5)][_0x3ac387(0xa00)],_0x3e8344=_0x4c4d16['querySelector']('textarea')[_0x3ac387(0x3b7)];let _0x5a0f52=null,_0x4d3e09='';switch(_0x936fb6){case _0x3ac387(0x2c6):const _0x5ad900=_0x4c4d16[_0x3ac387(0x514)](_0x3ac387(0x95e));_0x5a0f52=Array[_0x3ac387(0x65a)](_0x5ad900)['map'](_0x2726e0=>_0x2726e0[_0x3ac387(0x3b7)]);const _0x437f7e=_0x4c4d16[_0x3ac387(0x2d5)](_0x3ac387(0x251));_0x437f7e&&(_0x4d3e09=_0x5a0f52[parseInt(_0x437f7e[_0x3ac387(0x3b7)])]);break;case'short_answer':_0x4d3e09=_0x4c4d16[_0x3ac387(0x2d5)]('.ideal-answer-input')[_0x3ac387(0x3b7)];break;case _0x3ac387(0x26d):const _0x11900f=_0x4c4d16[_0x3ac387(0x2d5)](_0x3ac387(0x251));_0x4d3e09=_0x11900f?_0x11900f[_0x3ac387(0x3b7)]:'';break;case'matching_item':_0x4d3e09=_0x4c4d16[_0x3ac387(0x2d5)](_0x3ac387(0x756))['value'];break;}return{'question':_0x3e8344,'options':_0x5a0f52,'proposedAnswer':_0x4d3e09};}),_0x47216c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON['stringify'](_0xfd4b46)+_0x2a14ac(0x547),_0x2ae2c7={'type':'ARRAY','items':{'type':_0x2a14ac(0x7d7),'properties':{'questionIndex':{'type':_0x2a14ac(0x345)},'isCorrect':{'type':_0x2a14ac(0x4d7)},'justification':{'type':_0x2a14ac(0x616)},'suggestedAnswer':{'type':_0x2a14ac(0x616)}},'required':[_0x2a14ac(0x1e1),_0x2a14ac(0x2c8),_0x2a14ac(0x516)]}},_0x180e6e=await callAnalysisApi(_0x47216c,{'type':_0x2a14ac(0x7d7),'properties':{'result':_0x2ae2c7},'required':[_0x2a14ac(0x986)]});displayVerificationResultsInEditor(_0x180e6e[_0x2a14ac(0x986)]);}catch(_0x382c5c){console[_0x2a14ac(0xb95)](_0x2a14ac(0x2e0),_0x382c5c),showMessage(_0x2a14ac(0xbab));}finally{_0x3ff479['disabled']=![],_0x3ff479[_0x2a14ac(0x61b)]=_0x2a14ac(0x391);}}function displayVerificationResultsInEditor(_0x362388){const _0x19ae80=_0x4414d4;_0x362388[_0x19ae80(0x15f)](_0x383f3f=>{const _0x3ef1d5=_0x19ae80,_0xa90388=document[_0x3ef1d5(0x2d5)](_0x3ef1d5(0x9ff)+_0x383f3f[_0x3ef1d5(0x1e1)]+'\x22]');if(!_0xa90388)return;const _0x50cb1a=_0xa90388[_0x3ef1d5(0x2d5)](_0x3ef1d5(0x4ea));if(_0x50cb1a)_0x50cb1a[_0x3ef1d5(0x303)]();let _0x27c393='';if(_0x383f3f[_0x3ef1d5(0x2c8)])_0x27c393='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{const _0x1d4f53=_0x383f3f[_0x3ef1d5(0x948)]?_0x3ef1d5(0x4ff):'';_0x27c393=_0x3ef1d5(0x8de)+_0x1d4f53+_0x3ef1d5(0x53a)+_0x383f3f[_0x3ef1d5(0x516)]+_0x3ef1d5(0x307)+(_0x383f3f[_0x3ef1d5(0x948)]?_0x3ef1d5(0x8fb)+_0x383f3f[_0x3ef1d5(0x948)]+'</p>':'')+_0x3ef1d5(0x7bf);}_0xa90388[_0x3ef1d5(0x252)]('beforeend',_0x27c393);if(!_0x383f3f[_0x3ef1d5(0x2c8)]&&_0x383f3f['suggestedAnswer']){const _0x11e0b1=_0xa90388[_0x3ef1d5(0x3b5)][_0x3ef1d5(0xa00)],_0x4e2078=_0x3b37e1=>{const _0x2c1ac7=_0x3ef1d5;if(!_0x3b37e1)return;_0x3b37e1[_0x2c1ac7(0xbeb)]['add'](_0x2c1ac7(0x61e),_0x2c1ac7(0xaed),_0x2c1ac7(0x367)),setTimeout(()=>{const _0x440882=_0x2c1ac7;_0x3b37e1[_0x440882(0xbeb)][_0x440882(0x303)](_0x440882(0x61e));},0x9c4);};if(_0x11e0b1===_0x3ef1d5(0x2c6)){const _0x4e10a9=Array[_0x3ef1d5(0x65a)](_0xa90388[_0x3ef1d5(0x514)](_0x3ef1d5(0x95e))),_0x1e9719=_0x4e10a9[_0x3ef1d5(0x500)](_0x20e50d=>_0x20e50d[_0x3ef1d5(0x3b7)][_0x3ef1d5(0x4fe)]()[_0x3ef1d5(0x939)]()===_0x383f3f[_0x3ef1d5(0x948)]['trim']()[_0x3ef1d5(0x939)]());if(_0x1e9719!==-0x1){const _0x1f185e=_0xa90388[_0x3ef1d5(0x2d5)](_0x3ef1d5(0xa9e)+_0x1e9719+'\x22]');_0x1f185e&&(_0x1f185e['checked']=!![],_0x4e2078(_0x1f185e['closest']('div')));}}else{if(_0x11e0b1===_0x3ef1d5(0x808)||_0x11e0b1===_0x3ef1d5(0x572)){const _0x5dfe73=_0xa90388[_0x3ef1d5(0x2d5)](_0x3ef1d5(0x17c));_0x5dfe73&&(_0x5dfe73[_0x3ef1d5(0x3b7)]=_0x383f3f[_0x3ef1d5(0x948)],_0x4e2078(_0x5dfe73));}else{if(_0x11e0b1===_0x3ef1d5(0x26d)){const _0x4912ce=_0x383f3f[_0x3ef1d5(0x948)][_0x3ef1d5(0x4fe)]()[_0x3ef1d5(0x939)](),_0xda7519=_0xa90388[_0x3ef1d5(0x2d5)]('input[type=\x22radio\x22][value=\x22'+_0x4912ce+'\x22]');_0xda7519&&(_0xda7519[_0x3ef1d5(0x173)]=!![],_0x4e2078(_0xda7519[_0x3ef1d5(0xb9a)](_0x3ef1d5(0x7a9))));}}}}}),showMessage(_0x19ae80(0x309));}async function handleVerifyAnswers(){const _0x4703e3=_0x4414d4;if(!currentQuizData||!currentQuizData[_0x4703e3(0x132)]){showMessage(_0x4703e3(0x5d3));return;}const _0x1f00f7=document[_0x4703e3(0x651)]('verify-answers-btn');_0x1f00f7[_0x4703e3(0x993)]=!![],_0x1f00f7['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x3e6666=currentQuizData['questions'][_0x4703e3(0xb6a)]((_0xeaa788,_0x138ef3)=>{const _0xa31c21=_0x4703e3;let _0x1e8494='';const _0x2212b1=_0xeaa788[_0xa31c21(0xc2f)]||currentQuizData[_0xa31c21(0x76d)];switch(_0x2212b1){case _0xa31c21(0x2c6):_0x1e8494=_0xeaa788[_0xa31c21(0xb4a)][_0xeaa788[_0xa31c21(0x74c)]];break;case _0xa31c21(0x808):_0x1e8494=_0xeaa788[_0xa31c21(0xb5f)];break;case _0xa31c21(0x26d):_0x1e8494=_0xeaa788[_0xa31c21(0x294)][_0xa31c21(0x332)]();break;case _0xa31c21(0x572):_0x1e8494=_0xeaa788[_0xa31c21(0x3dc)];break;}return{'question':_0xeaa788[_0xa31c21(0x610)]||_0xeaa788[_0xa31c21(0x364)],'options':_0xeaa788[_0xa31c21(0xb4a)]||null,'proposedAnswer':_0x1e8494};}),_0x3110ef=_0x4703e3(0xbf3)+JSON['stringify'](_0x3e6666)+_0x4703e3(0x50a),_0x3d9273={'type':_0x4703e3(0x4d4),'items':{'type':_0x4703e3(0x7d7),'properties':{'questionIndex':{'type':_0x4703e3(0x345)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x4703e3(0x616)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x4703e3(0x1e1),_0x4703e3(0x2c8),'justification']}},_0x1fc6c8=await callAnalysisApi(_0x3110ef,{'type':'OBJECT','properties':{'result':_0x3d9273},'required':[_0x4703e3(0x986)]});displayVerificationResults(_0x1fc6c8[_0x4703e3(0x986)]);}catch(_0x48eb80){console[_0x4703e3(0xb95)](_0x4703e3(0x736),_0x48eb80),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x1f00f7['disabled']=![],_0x1f00f7[_0x4703e3(0x61b)]=_0x4703e3(0x6f5);}}function displayVerificationResults(_0xe35989){_0xe35989['forEach'](_0x29dd0e=>{const _0x5116cd=_0xbc6d,_0x469c37=document[_0x5116cd(0x2d5)]('div[data-question-index=\x22'+_0x29dd0e[_0x5116cd(0x1e1)]+'\x22]');if(_0x469c37){const _0x3a471e=_0x469c37[_0x5116cd(0x2d5)](_0x5116cd(0xa2c));if(_0x3a471e)_0x3a471e[_0x5116cd(0x303)]();let _0x12f935='';_0x29dd0e['isCorrect']?_0x12f935=_0x5116cd(0x6dd):_0x12f935=_0x5116cd(0xaf9)+_0x29dd0e['justification']+_0x5116cd(0x162)+(_0x29dd0e[_0x5116cd(0x948)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x29dd0e[_0x5116cd(0x948)]+_0x5116cd(0x630):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x469c37['insertAdjacentHTML'](_0x5116cd(0x45e),_0x12f935);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x2667ea,_0x26b8fe){const _0x367f4e=_0x4414d4,_0x1c6cf1=String(_0x2667ea)['replace'](',','.')[_0x367f4e(0xa71)](/[^\d.-]/g,'')['trim'](),_0x13f721=String(_0x26b8fe)['replace'](',','.')['replace'](/[^\d.-]/g,'')[_0x367f4e(0x4fe)]();if(_0x1c6cf1===''||_0x13f721==='')return![];const _0x1ef172=parseFloat(_0x1c6cf1),_0x2e99bc=parseFloat(_0x13f721);if(isNaN(_0x1ef172)||isNaN(_0x2e99bc))return![];return Math[_0x367f4e(0x34b)](_0x1ef172-_0x2e99bc)<0.001;}function isPotentiallyNumeric(_0x5cdd2e){const _0x42ea3a=_0x4414d4;if(typeof _0x5cdd2e!==_0x42ea3a(0x8ca)&&typeof _0x5cdd2e!==_0x42ea3a(0x643))return![];const _0x28708a=String(_0x5cdd2e)[_0x42ea3a(0xa71)](',','.')[_0x42ea3a(0x4fe)]();return _0x28708a!==''&&!isNaN(parseFloat(_0x28708a))&&isFinite(_0x28708a);}async function gradeShortAnswer(_0x37d996,_0x3bf5bd){const _0x574d24=_0x4414d4,_0x324ce8=_0x3bf5bd[_0x574d24(0xb5f)],_0x4b0c7e=String(_0x37d996)['replace'](/\$/g,'')[_0x574d24(0x4fe)](),_0x2d1d99=String(_0x324ce8)['replace'](/\$/g,'')['trim']();if(_0x4b0c7e[_0x574d24(0x939)]()===_0x2d1d99[_0x574d24(0x939)]())return!![];if(isPotentiallyNumeric(_0x4b0c7e)&&isPotentiallyNumeric(_0x2d1d99)){if(compareNumericalAnswers(_0x4b0c7e,_0x2d1d99))return!![];}return console[_0x574d24(0xaf0)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x37d996,_0x324ce8);}async function revealAnswerForAdmin(_0x4ac43e,_0x14d4b2){const _0x3b8279=_0x4414d4,_0x2c2afa=doc(db,'artifacts/'+appId+_0x3b8279(0x994),currentLiveGameId);await updateDoc(_0x2c2afa,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x3c9512){const _0x321e50=_0x4414d4,_0x555418=Object[_0x321e50(0x329)](_0x3c9512[_0x321e50(0xb76)]||{})[_0x321e50(0x7c4)](_0x46d9d6=>_0x46d9d6[_0x321e50(0x7f9)]===_0x321e50(0x712));_0x555418[_0x321e50(0xa7e)]((_0xfa4e18,_0x3f9e81)=>_0x3f9e81[_0x321e50(0x288)]-_0xfa4e18['score']);const _0x24be01=_0x555418[_0x321e50(0xb31)](0x0,0x5),_0x5e8475=_0x321e50(0x539)+_0x24be01['map']((_0x347a23,_0x5cbf66)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x5cbf66+0x1)+'.\x20'+(_0x347a23['name']||Object[_0x321e50(0x84e)](_0x3c9512[_0x321e50(0xb76)])[_0x321e50(0xbc5)](_0x3262a6=>_0x3c9512['players'][_0x3262a6]===_0x347a23))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x347a23[_0x321e50(0x288)]+_0x321e50(0x149))['join']('')+_0x321e50(0x6c6)+(_0x3c9512[_0x321e50(0x5db)]+0x1===currentQuizData[_0x321e50(0x132)][_0x321e50(0x9fa)]?_0x321e50(0xb7c):'ข้อต่อไป')+_0x321e50(0x152);liveGameView[_0x321e50(0x61b)]=_0x5e8475,document[_0x321e50(0x651)](_0x321e50(0x54f))[_0x321e50(0x7bb)]('click',async()=>{const _0x56c3b3=_0x321e50,_0x171ed3=doc(db,_0x56c3b3(0x763)+appId+_0x56c3b3(0x994),currentLiveGameId),_0x1e3226=_0x3c9512[_0x56c3b3(0x5db)]+0x1;if(_0x1e3226<currentQuizData['questions']['length']){const _0x2f2eb3={'currentQuestionIndex':_0x1e3226,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x56c3b3(0x7f0)};Object[_0x56c3b3(0x84e)](_0x3c9512[_0x56c3b3(0xb76)])[_0x56c3b3(0x15f)](_0x1f6b3c=>{_0x2f2eb3['players.'+_0x1f6b3c+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x171ed3,_0x2f2eb3);}else await updateDoc(_0x171ed3,{'status':_0x56c3b3(0xa20)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x108ffa=>{const _0x170695=_0xbc6d;if(_0x108ffa){userId=_0x108ffa['uid'],userIdDisplay['textContent']=userId;const _0x375f3a=await loadUserPreferences();_0x375f3a[_0x170695(0x5cc)]&&(document[_0x170695(0x651)]('project-sort-select')[_0x170695(0x3b7)]=_0x375f3a[_0x170695(0x5cc)]);globalDashboardSettings['projectView']=_0x375f3a[_0x170695(0xc13)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x32fcfc,_0x52a50f){const _0xdad738=_0x4414d4;if(!userId)return;try{const _0xf35322=doc(db,_0xdad738(0x763)+appId+_0xdad738(0xb8a)+userId+_0xdad738(0x16a)),_0x2dea50={};_0x2dea50[_0x32fcfc]=_0x52a50f,await setDoc(_0xf35322,_0x2dea50,{'merge':!![]});}catch(_0x107f4c){console[_0xdad738(0xb95)](_0xdad738(0x8bc),_0x107f4c);}}async function loadUserPreferences(){const _0xf91009=_0x4414d4;if(!userId)return{};try{const _0x803541=doc(db,_0xf91009(0x763)+appId+_0xf91009(0xb8a)+userId+_0xf91009(0x16a)),_0x4a049e=await getDoc(_0x803541);if(_0x4a049e[_0xf91009(0x523)]())return _0x4a049e[_0xf91009(0x213)]();return{};}catch(_0x7c4c9f){return console['error']('Error\x20loading\x20user\x20preferences:',_0x7c4c9f),{};}}function parseIndentedBlueprint(_0x530d9c){const _0x2c246a=_0x4414d4,_0x124943=_0x530d9c['split']('\x0a')[_0x2c246a(0x7c4)](_0x5d350d=>_0x5d350d[_0x2c246a(0x4fe)]()!==''),_0x5a29a3=[];let _0x1f66a7=null,_0x4753f4=null;return _0x124943['forEach'](_0x2991c4=>{const _0x4c236c=_0x2c246a,_0x5a7bb3=_0x2991c4[_0x4c236c(0xc08)](/^\s*/)[0x0][_0x4c236c(0x9fa)],_0x5d311b=_0x2991c4[_0x4c236c(0x4fe)]();if(_0x5a7bb3===0x0)_0x1f66a7={'sara':_0x5d311b,'mainTopics':[]},_0x5a29a3[_0x4c236c(0x464)](_0x1f66a7),_0x4753f4=null;else{if(_0x5a7bb3>0x0&&_0x5a7bb3<0x8&&_0x1f66a7)_0x4753f4={'topicName':_0x5d311b,'subTopics':[]},_0x1f66a7[_0x4c236c(0x26b)]['push'](_0x4753f4);else _0x5a7bb3>=0x8&&_0x4753f4&&_0x4753f4[_0x4c236c(0x711)][_0x4c236c(0x464)](_0x5d311b);}}),{'curriculum':_0x5a29a3};}async function handleManualBlueprintSave(){const _0x285655=_0x4414d4,_0x2d3386=document[_0x285655(0x651)](_0x285655(0x2df))[_0x285655(0x3b7)][_0x285655(0x4fe)](),_0x3056ec=document[_0x285655(0x651)](_0x285655(0x4a6))['value'][_0x285655(0x4fe)](),_0x183d3d=document[_0x285655(0x651)](_0x285655(0x5b3))[_0x285655(0x3b7)];if(!_0x2d3386||!_0x3056ec||!_0x183d3d){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x58fa8d=parseIndentedBlueprint(_0x183d3d);if(!_0x58fa8d['curriculum']||_0x58fa8d[_0x285655(0x418)][_0x285655(0x9fa)]===0x0){showMessage(_0x285655(0x363));return;}const _0x6fe027={};_0x58fa8d[_0x285655(0x418)]['forEach'](_0x2a1534=>{const _0x1bad08=_0x285655;_0x2a1534[_0x1bad08(0x26b)][_0x1bad08(0x15f)](_0x1b5e13=>{const _0x49783b=_0x1bad08;_0x1b5e13[_0x49783b(0x711)]['forEach'](_0x4fec01=>{const _0x30d40d=_0x49783b,_0x8f91b=_0x30d40d(0x9eb)+Date[_0x30d40d(0xbcc)]()+Math[_0x30d40d(0xc29)]()[_0x30d40d(0x332)](0x24)[_0x30d40d(0x2e8)](0x2,0x9);_0x6fe027[_0x8f91b]={'sara':_0x2a1534[_0x30d40d(0x839)],'mainTopic':_0x1b5e13[_0x30d40d(0x60e)],'subTopic':_0x4fec01,'status':_0x30d40d(0x542),'lessonContent':null};});});});try{const _0x570c05=collection(db,_0x285655(0x763)+appId+'/public/data/blueprintProjects');await addDoc(_0x570c05,{'projectName':_0x2d3386,'gradeLevel':_0x3056ec,'topics':_0x6fe027,'createdAt':serverTimestamp()}),showMessage(_0x285655(0x21c)+_0x2d3386+'\x22\x20สำเร็จ!'),document['getElementById'](_0x285655(0xa2a))[_0x285655(0xbeb)][_0x285655(0x7bd)](_0x285655(0x6ca));}catch(_0x48112d){console[_0x285655(0xb95)](_0x285655(0x1ff),_0x48112d),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x4e0a6d){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x1f1624=_0xbc6d;try{const _0xcefc2e=doc(db,_0x1f1624(0x763)+appId+_0x1f1624(0x78d),currentBlueprintProjectId);await updateDoc(_0xcefc2e,{[_0x1f1624(0x8df)+_0x4e0a6d+_0x1f1624(0x87e)]:[]}),showMessage(_0x1f1624(0xa5b)),openTopicQuizBank(_0x4e0a6d),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x410c4a){console[_0x1f1624(0xb95)]('Error\x20clearing\x20all\x20links:',_0x410c4a),showMessage(_0x1f1624(0x4e7));}});}function showPodiumView(_0x5c6161,_0x5cb8c8=_0x4414d4(0x5d8)){const _0x3753d2=_0x4414d4,_0x55c777=Object['entries'](_0x5c6161)[_0x3753d2(0xb6a)](([_0x30fec5,_0x589412])=>({'name':_0x30fec5,'score':_0x589412['score']||0x0,'badges':_0x589412['badges']||[],'hasPerfectScoreBonus':_0x589412['hasPerfectScoreBonus']||![]}));_0x55c777[_0x3753d2(0xa7e)]((_0xddd52a,_0x5bf3a5)=>{const _0x3bd44c=_0x3753d2,_0x36ecfc=_0x5bf3a5[_0x3bd44c(0x288)]-_0xddd52a[_0x3bd44c(0x288)];if(_0x36ecfc!==0x0)return _0x36ecfc;return(_0x5bf3a5[_0x3bd44c(0x22c)]['length']||0x0)-(_0xddd52a[_0x3bd44c(0x22c)][_0x3bd44c(0x9fa)]||0x0);});const _0xeaf0b5=_0x147c79=>{const _0x332732=_0x3753d2;if(!_0x147c79||_0x147c79[_0x332732(0x9fa)]===0x0)return'';const _0x26aa81={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x147c79['map'](_0x63d4e9=>_0x26aa81[_0x63d4e9]||'')[_0x332732(0x254)]('')+_0x332732(0x8ff);},_0x2025a7=_0x55c777['slice'](0x3),_0x42cc38=_0x2025a7[_0x3753d2(0x9fa)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2025a7['map']((_0x45dd9a,_0x464cb1)=>{const _0x9f4206=_0x3753d2,_0x3adda8=_0x45dd9a[_0x9f4206(0x7d8)]?'<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>':'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x464cb1+0x4)+_0x9f4206(0x4a2)+_0x45dd9a['name']+_0x9f4206(0x6ae)+_0x45dd9a[_0x9f4206(0x288)]+_0x9f4206(0x5cf)+_0x3adda8+_0x9f4206(0x803);})[_0x3753d2(0x254)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x39ac93=_0x3753d2(0x4db)+(_0x55c777[0x1]?_0x3753d2(0x67d)+_0x55c777[0x1]['name']+_0x3753d2(0x630)+_0xeaf0b5(_0x55c777[0x1][_0x3753d2(0x22c)])+_0x3753d2(0x235)+_0x55c777[0x1][_0x3753d2(0x288)]+'\x20คะแนน\x20'+(_0x55c777[0x1][_0x3753d2(0x7d8)]?_0x3753d2(0xa9c):'')+_0x3753d2(0x88c):_0x3753d2(0x33b))+_0x3753d2(0x5aa)+(_0x55c777[0x0]?_0x3753d2(0x74b)+_0x55c777[0x0][_0x3753d2(0x815)]+_0x3753d2(0x630)+_0xeaf0b5(_0x55c777[0x0]['badges'])+_0x3753d2(0x4f2)+_0x55c777[0x0]['score']+'\x20คะแนน\x20'+(_0x55c777[0x0][_0x3753d2(0x7d8)]?_0x3753d2(0xa9c):'')+_0x3753d2(0x397):_0x3753d2(0x33b))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x55c777[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x55c777[0x2][_0x3753d2(0x815)]+_0x3753d2(0x630)+_0xeaf0b5(_0x55c777[0x2][_0x3753d2(0x22c)])+_0x3753d2(0x235)+_0x55c777[0x2][_0x3753d2(0x288)]+_0x3753d2(0x5cf)+(_0x55c777[0x2][_0x3753d2(0x7d8)]?_0x3753d2(0xa9c):'')+_0x3753d2(0x1e2):'<div\x20class=\x22flex-1\x22></div>')+_0x3753d2(0x670)+_0x42cc38+_0x3753d2(0x625)+(currentMode===_0x3753d2(0x512)?_0x3753d2(0xa56):_0x3753d2(0xb07))+_0x3753d2(0x748);liveGameView[_0x3753d2(0x61b)]=_0x39ac93,currentMode===_0x3753d2(0x512)&&document[_0x3753d2(0x651)](_0x3753d2(0x443))[_0x3753d2(0x7bb)](_0x3753d2(0x530),async()=>{const _0x203e6c=_0x3753d2;let _0x32345e;_0x5cb8c8===_0x203e6c(0x619)?_0x32345e=doc(db,_0x203e6c(0x763)+appId+_0x203e6c(0x683),currentLiveGameId):_0x32345e=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x32345e);});}function renderSyncSummaryView(_0x67bd65,_0x43d171,_0x358b91){const _0x2ecccc=_0x4414d4,_0x4db43d=Object[_0x2ecccc(0x329)](_0x67bd65['players']||{}),_0x50a314=_0x43d171[_0x2ecccc(0xc2f)]||_0x67bd65[_0x2ecccc(0x415)]['quizType'];let _0x32925a=[];_0x50a314===_0x2ecccc(0x26d)?_0x32925a=[_0x2ecccc(0x39b),_0x2ecccc(0x708)]:_0x32925a=_0x43d171['options']||[];const _0xb97901=new Array(_0x32925a['length'])[_0x2ecccc(0xb8f)](0x0),_0x40f86b={};_0x32925a[_0x2ecccc(0x15f)]((_0x5005a8,_0x58d008)=>{_0x40f86b[_0x58d008]=[];}),Object[_0x2ecccc(0x27a)](_0x67bd65['players']||{})[_0x2ecccc(0x15f)](([_0x5556ee,_0x3761c5])=>{const _0x10fb4f=_0x2ecccc;if(_0x3761c5[_0x10fb4f(0x7f9)]!==_0x10fb4f(0x917)&&_0x3761c5[_0x10fb4f(0xa4f)]!==undefined&&_0x3761c5['lastAnswerIndex']!==null){const _0x1962fb=_0x3761c5[_0x10fb4f(0xa4f)];_0x40f86b[_0x1962fb]!==undefined&&(_0x40f86b[_0x1962fb][_0x10fb4f(0x464)](_0x5556ee),_0xb97901[_0x1962fb]++);}});let _0x17baf1='';_0x358b91?_0x17baf1=_0x2ecccc(0x497):_0x17baf1=_0x2ecccc(0x4f1);const _0x3cf93c=_0x2ecccc(0x3c9)+_0x43d171[_0x2ecccc(0x364)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb97901['map']((_0x1f3f8d,_0x299c57)=>{const _0xcd9789=_0x2ecccc,_0x29722a=_0x40f86b[_0x299c57]['length']>0x0?_0x40f86b[_0x299c57][_0xcd9789(0x254)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x23a4c2=_0xcd9789(0xb0e);return _0xcd9789(0x554)+_0x1f3f8d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x23a4c2+_0xcd9789(0x795)+_0x299c57+_0xcd9789(0x631)+_0x32925a[_0x299c57]+_0xcd9789(0x7d6)+_0x299c57+_0xcd9789(0x6d7)+_0x29722a+_0xcd9789(0xa6f);})['join']('')+_0x2ecccc(0x24b)+_0x17baf1+_0x2ecccc(0xc38);liveGameView[_0x2ecccc(0x61b)]=_0x3cf93c;if(window['MathJax'])MathJax[_0x2ecccc(0x1f8)]();_0x358b91&&(document[_0x2ecccc(0x651)](_0x2ecccc(0x5b6))[_0x2ecccc(0x7bb)]('click',async()=>{const _0x150544=_0x2ecccc,_0x22a354=doc(db,_0x150544(0x763)+appId+_0x150544(0x683),currentLiveGameId);await updateDoc(_0x22a354,{'status':'results'});}),document['getElementById'](_0x2ecccc(0x999))[_0x2ecccc(0x901)]=()=>{openScratchpad(_0x43d171,_0x32925a);});}async function handleShowStudentRankings(){const _0x57599f=_0x4414d4,_0x18f83e=document['querySelector'](_0x57599f(0x502));_0x18f83e&&(_0x18f83e[_0x57599f(0x61b)]=_0x57599f(0x5df));const _0xe7cd8=document['querySelector'](_0x57599f(0x6de));_0xe7cd8&&(_0xe7cd8[_0x57599f(0x61b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x8c6303=document['getElementById'](_0x57599f(0x29f));_0x8c6303[_0x57599f(0xbeb)][_0x57599f(0x303)](_0x57599f(0x6ca)),document['getElementById'](_0x57599f(0xbdb))['onclick']=()=>_0x8c6303['classList'][_0x57599f(0x7bd)](_0x57599f(0x6ca));const _0x586818=document[_0x57599f(0x651)]('student-quiz-leaderboard-tab'),_0x243f21=document[_0x57599f(0x651)](_0x57599f(0x951)),_0x59049f=document[_0x57599f(0x651)](_0x57599f(0x207)),_0x1f7858=document[_0x57599f(0x651)](_0x57599f(0xb25));_0x586818[_0x57599f(0x901)]=()=>{const _0x5859e6=_0x57599f;_0x586818['classList']['add'](_0x5859e6(0x712)),_0x243f21[_0x5859e6(0xbeb)][_0x5859e6(0x303)](_0x5859e6(0x712)),_0x59049f[_0x5859e6(0xbeb)]['remove']('hidden'),_0x1f7858[_0x5859e6(0xbeb)][_0x5859e6(0x7bd)](_0x5859e6(0x6ca));},_0x243f21[_0x57599f(0x901)]=()=>{const _0x37477a=_0x57599f;_0x243f21[_0x37477a(0xbeb)][_0x37477a(0x7bd)]('active'),_0x586818['classList']['remove']('active'),_0x1f7858[_0x37477a(0xbeb)][_0x37477a(0x303)](_0x37477a(0x6ca)),_0x59049f[_0x37477a(0xbeb)][_0x37477a(0x7bd)]('hidden');};try{const _0x54aa93=collection(db,'artifacts/'+appId+_0x57599f(0x2b2)+currentQuizData['id']+_0x57599f(0xa32)),_0x3f3e7d=await getDocs(_0x54aa93),_0x49ca1d=_0x3f3e7d[_0x57599f(0x599)]['map'](_0x231b68=>_0x231b68[_0x57599f(0x213)]());renderQuizLeaderboard(_0x49ca1d,currentQuizData,'student-quiz-leaderboard-table-body');const _0x16e4e1=collection(db,'artifacts/'+appId+_0x57599f(0x275)+currentQuizData[_0x57599f(0x661)]+_0x57599f(0xb63)),_0x4fc93f=await getDocs(_0x16e4e1),_0x48ff88=_0x4fc93f[_0x57599f(0x599)][_0x57599f(0xb6a)](_0x19c081=>_0x19c081[_0x57599f(0x213)]());renderLeaderboard(_0x48ff88,_0x57599f(0x92c));}catch(_0x192fc7){console[_0x57599f(0xb95)](_0x57599f(0x697),_0x192fc7),showMessage(_0x57599f(0xbf7));}}async function handleSaveToBank(_0x3c2653){const _0x5274ba=_0x4414d4,_0x235778=_0x3c2653[_0x5274ba(0x5b4)],_0x5d89d3=_0x235778[_0x5274ba(0x3b5)]['index'],_0x49e2e3=currentQuizData['questions'][_0x5d89d3];if(!userId){showMessage(_0x5274ba(0x222));return;}try{const _0x362008={..._0x49e2e3,'originalTopic':currentQuizData[_0x5274ba(0x78b)],'savedAt':serverTimestamp()},_0x247032=collection(db,'artifacts/'+appId+_0x5274ba(0xb8a)+userId+'/questionBank');await addDoc(_0x247032,_0x362008),showMessage(_0x5274ba(0x893)),_0x235778[_0x5274ba(0xbeb)]['remove'](_0x5274ba(0x483)),_0x235778[_0x5274ba(0xbeb)][_0x5274ba(0x7bd)](_0x5274ba(0x1ae)),_0x235778['disabled']=!![];}catch(_0x18d7fb){console['error']('Error\x20saving\x20to\x20question\x20bank:',_0x18d7fb),showMessage(_0x5274ba(0x1c4));}}function selectProjectAndGenerateBlueprintQuiz(_0x1e5d14,_0x9d0127=null,_0x1062bc=null,_0x18acce=![]){const _0x250f0f=_0x4414d4;cameFromBlueprint=!![];const _0x145c5b=document[_0x250f0f(0x651)](_0x250f0f(0x58b)),_0x19d167=document[_0x250f0f(0x651)](_0x250f0f(0xbe3)),_0x38f9c1=_0x145c5b[_0x250f0f(0x2d5)]('h3'),_0x3ad5fd=document[_0x250f0f(0x651)](_0x250f0f(0xbfa)),_0x27475d=document[_0x250f0f(0x651)](_0x250f0f(0xabf));_0x38f9c1[_0x250f0f(0xc23)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x3ad5fd[_0x250f0f(0xc23)]=_0x250f0f(0xa0e),_0x3ad5fd['disabled']=!![];allProjects[_0x250f0f(0x9fa)]===0x0?_0x19d167[_0x250f0f(0x61b)]=_0x250f0f(0x88e):(_0x19d167['innerHTML']=_0x250f0f(0x4ec)+allProjects[_0x250f0f(0xb6a)](_0x40ad91=>_0x250f0f(0x6ef)+_0x40ad91['id']+'\x22>'+_0x40ad91[_0x250f0f(0x68c)]+'</option>')[_0x250f0f(0x254)](''),_0x3ad5fd['disabled']=![]);_0x145c5b[_0x250f0f(0xbeb)][_0x250f0f(0x303)](_0x250f0f(0x6ca));const _0x24d3f1=async()=>{const _0xec6197=_0x250f0f,_0x3f38a5=_0x19d167[_0xec6197(0x3b7)];if(!_0x3f38a5){showMessage(_0xec6197(0xaaf));return;}_0x145c5b['classList']['add'](_0xec6197(0x6ca)),document[_0xec6197(0x651)]('blueprint-project-manager-view')[_0xec6197(0xbeb)]['add']('hidden'),await loadProjectDetails(_0x3f38a5),showView(_0xec6197(0x2bf)),handleGenerateQuizFromBlueprintTopic(_0x1e5d14,_0x9d0127,_0x3f38a5,_0x1062bc,_0x18acce),_0x43ca1c();},_0x43ca1c=()=>{const _0xaabef0=_0x250f0f;_0x38f9c1[_0xaabef0(0xc23)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x3ad5fd[_0xaabef0(0xc23)]=_0xaabef0(0x32f),_0x3ad5fd['removeEventListener']('click',_0x24d3f1),_0x27475d[_0xaabef0(0x3ee)](_0xaabef0(0x530),_0x43ca1c),_0x3ad5fd[_0xaabef0(0x7bb)]('click',confirmMoveQuiz);};_0x3ad5fd[_0x250f0f(0x3ee)](_0x250f0f(0x530),confirmMoveQuiz),_0x3ad5fd[_0x250f0f(0x7bb)](_0x250f0f(0x530),_0x24d3f1),_0x27475d[_0x250f0f(0x7bb)](_0x250f0f(0x530),_0x43ca1c);}function listenForStarredQuizzes(){const _0x1cd078=_0x4414d4;if(!userId)return;const _0x52739d=collection(db,_0x1cd078(0x763)+appId+_0x1cd078(0x2cd)),_0x35b088=query(_0x52739d,where(_0x1cd078(0xb5d),'==',!![]));onSnapshot(_0x35b088,_0x2bcb44=>{const _0x3b2cb3=_0x1cd078;starredQuizzes=_0x2bcb44[_0x3b2cb3(0x599)][_0x3b2cb3(0xb6a)](_0x392a76=>({'id':_0x392a76['id'],..._0x392a76[_0x3b2cb3(0x213)]()})),currentProjectId===_0x3b2cb3(0x706)?renderQuizzes():renderProjects();},_0x404acc=>{console['error']('Error\x20listening\x20for\x20starred\x20quizzes:',_0x404acc);});}function listenForFileShortcuts(){const _0x510f86=_0x4414d4,_0x11ed17=doc(db,_0x510f86(0x7d1),_0x510f86(0x613));onSnapshot(_0x11ed17,_0x166a5d=>{const _0x4bb432=_0x510f86;let _0x1a9ea7=[];_0x166a5d[_0x4bb432(0x523)]()&&_0x166a5d[_0x4bb432(0x213)]()[_0x4bb432(0x6ba)]&&(_0x1a9ea7=_0x166a5d['data']()['shortcuts']),!_0x1a9ea7[_0x4bb432(0xbc5)](_0x42faf7=>_0x42faf7['id']==='file-default-1')&&_0x1a9ea7[_0x4bb432(0x350)]({'id':_0x4bb432(0x550),'name':_0x4bb432(0x9c1),'url':'','isDefault':!![]}),!_0x1a9ea7[_0x4bb432(0xbc5)](_0x5d295a=>_0x5d295a['id']===_0x4bb432(0x333))&&_0x1a9ea7[_0x4bb432(0x350)]({'id':_0x4bb432(0x333),'name':_0x4bb432(0x837),'url':'','isDefault':!![]}),fileShortcuts=_0x1a9ea7,renderFileShortcuts();});}function renderFileShortcuts(){const _0x3cba32=_0x4414d4,_0x55e7e5=document['getElementById']('file-shortcut-container'),_0x49e9a4=document[_0x3cba32(0x651)](_0x3cba32(0x65b)),_0x3720a1=document['getElementById'](_0x3cba32(0x720));if(_0x3720a1)_0x3720a1['classList'][_0x3cba32(0x7bd)](_0x3cba32(0x6ca));if(!_0x55e7e5||!_0x49e9a4)return;const _0xb60101=fileShortcuts[_0x3cba32(0xb31)](0x0,0x4),_0x311868=fileShortcuts[_0x3cba32(0xb31)](0x4);_0x55e7e5['innerHTML']=_0xb60101['map'](_0x32e4c0=>{const _0xee9dbd=_0x3cba32,_0xbf2ae7=_0x32e4c0[_0xee9dbd(0x7de)]&&_0x32e4c0[_0xee9dbd(0x7de)][_0xee9dbd(0x4fe)]()!=='',_0x37e361=selectedFile&&selectedFile['shortcutId']===_0x32e4c0['id'];let _0x713e65=_0xee9dbd(0x988),_0x3f02df='🔗';if(_0x37e361)_0x713e65=_0xee9dbd(0x584),_0x3f02df='<i\x20class=\x22fas\x20fa-check-circle\x22></i>';else _0xbf2ae7&&(_0x713e65=_0xee9dbd(0x38a),_0x3f02df='📄');const _0x164594=!_0x32e4c0[_0xee9dbd(0x245)]?_0xee9dbd(0x77b)+_0x32e4c0['id']+_0xee9dbd(0x5cb):'';return _0xee9dbd(0x34c)+_0x32e4c0['id']+'\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20'+_0x713e65+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x3f02df+_0xee9dbd(0xa3a)+_0x32e4c0[_0xee9dbd(0x815)]+_0xee9dbd(0xa4b)+_0x32e4c0['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x164594+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3cba32(0x254)](''),_0x311868['length']>0x0&&(_0x55e7e5['innerHTML']+=_0x3cba32(0x24c)),_0x311868['length']>0x0?_0x49e9a4[_0x3cba32(0x61b)]=_0x311868[_0x3cba32(0xb6a)](_0x4b158f=>_0x3cba32(0x93e)+(_0x4b158f['url']?'📄':'🔗')+'\x20'+_0x4b158f[_0x3cba32(0x815)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4b158f['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4b158f['id']+_0x3cba32(0x612)+(!_0x4b158f[_0x3cba32(0x245)]?_0x3cba32(0x77b)+_0x4b158f['id']+_0x3cba32(0x485):'')+_0x3cba32(0x4c4))['join'](''):_0x49e9a4[_0x3cba32(0x61b)]=_0x3cba32(0xab5);}function openFileShortcutEditor(_0x348104=null){const _0x473b4c=_0x4414d4,_0x2ae071=document[_0x473b4c(0x651)]('file-shortcut-editor-modal'),_0x55acfd=document[_0x473b4c(0x651)](_0x473b4c(0xa9a)),_0x43be40=document[_0x473b4c(0x651)](_0x473b4c(0xa0b)),_0x2faa39=document['getElementById'](_0x473b4c(0x26f)),_0x44b8aa=document['getElementById'](_0x473b4c(0xb53));if(_0x348104){const _0x339d6c=fileShortcuts[_0x473b4c(0xbc5)](_0x37e60c=>_0x37e60c['id']===_0x348104);if(!_0x339d6c)return;_0x55acfd[_0x473b4c(0xc23)]=_0x473b4c(0x2da),_0x43be40[_0x473b4c(0x3b7)]=_0x339d6c['id'],_0x2faa39[_0x473b4c(0x3b7)]=_0x339d6c['name'],_0x44b8aa['value']=_0x339d6c[_0x473b4c(0x7de)]||'';}else _0x55acfd['textContent']=_0x473b4c(0x81f),_0x43be40[_0x473b4c(0x3b7)]='',_0x2faa39['value']='',_0x44b8aa[_0x473b4c(0x3b7)]='';_0x2ae071[_0x473b4c(0xbeb)]['remove']('hidden');}async function saveFileShortcutChanges(){const _0x36c7cf=_0x4414d4,_0x5b05cf=document[_0x36c7cf(0x651)](_0x36c7cf(0xa0b))['value'],_0x3a5959=document[_0x36c7cf(0x651)]('file-shortcut-name-input')[_0x36c7cf(0x3b7)][_0x36c7cf(0x4fe)](),_0x4853f7=document[_0x36c7cf(0x651)](_0x36c7cf(0xb53))[_0x36c7cf(0x3b7)][_0x36c7cf(0x4fe)]();if(!_0x3a5959){showMessage(_0x36c7cf(0x38e));return;}const _0x26bfb1={'id':_0x5b05cf||_0x36c7cf(0x64f)+Date[_0x36c7cf(0xbcc)](),'name':_0x3a5959,'url':_0x4853f7,'isDefault':_0x5b05cf['startsWith'](_0x36c7cf(0x820))};let _0x2999c3;_0x5b05cf?_0x2999c3=fileShortcuts[_0x36c7cf(0xb6a)](_0x56a7f0=>_0x56a7f0['id']===_0x5b05cf?_0x26bfb1:_0x56a7f0):_0x2999c3=[...fileShortcuts,_0x26bfb1];try{const _0x367060=doc(db,'globalSettings',_0x36c7cf(0x613));await setDoc(_0x367060,{'shortcuts':_0x2999c3},{'merge':!![]}),document[_0x36c7cf(0x651)]('file-shortcut-editor-modal')[_0x36c7cf(0xbeb)][_0x36c7cf(0x7bd)]('hidden');}catch(_0x28a305){console[_0x36c7cf(0xb95)]('Error\x20saving\x20file\x20shortcut:',_0x28a305),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0x1345cf){const _0x1007b1=_0x4414d4,_0x2870fe=fileShortcuts[_0x1007b1(0xbc5)](_0x2c1a5b=>_0x2c1a5b['id']===_0x1345cf);if(!_0x2870fe)return;if(!_0x2870fe[_0x1007b1(0x7de)]||_0x2870fe[_0x1007b1(0x7de)][_0x1007b1(0x4fe)]()===''){openFileShortcutEditor(_0x1345cf);return;}const _0x30237c=document['querySelector']('.file-shortcut-btn[data-id=\x22'+_0x1345cf+'\x22]');if(_0x30237c){const _0x1561bc=_0x30237c['innerHTML'];_0x30237c[_0x1007b1(0x61b)]=_0x1007b1(0x406),_0x30237c[_0x1007b1(0x993)]=!![];}document['querySelectorAll'](_0x1007b1(0x1cf))[_0x1007b1(0x15f)](_0x3477dd=>{const _0x4c7e3f=_0x1007b1;if(_0x3477dd[_0x4c7e3f(0x3b5)]['id']!==_0x1345cf)_0x3477dd['classList'][_0x4c7e3f(0x7bd)](_0x4c7e3f(0x9a6),_0x4c7e3f(0x139));});try{const _0x12f765=new URL(_0x2870fe[_0x1007b1(0x7de)])['pathname'],_0x1f4e4a=_0x12f765[_0x1007b1(0x25f)](_0x12f765[_0x1007b1(0x734)]('/')+0x1)||(_0x2870fe[_0x1007b1(0x7de)][_0x1007b1(0x6ed)](_0x1007b1(0x533))?'file.txt':_0x1007b1(0x24f)),_0xe8eec8=await fetchFileFromUrl(_0x2870fe[_0x1007b1(0x7de)],_0x1f4e4a);_0xe8eec8['shortcutId']=_0x1345cf,selectedFile=_0xe8eec8,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x1007b1(0x651)](_0x1007b1(0x7c2))[_0x1007b1(0x45d)]({'behavior':_0x1007b1(0xadf),'block':_0x1007b1(0x6fa)});}catch(_0x579c82){console[_0x1007b1(0xb95)](_0x1007b1(0x835),_0x579c82),showMessage('เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20'+_0x579c82[_0x1007b1(0xaea)]),renderFileShortcuts();}finally{document[_0x1007b1(0x514)]('.file-shortcut-btn')[_0x1007b1(0x15f)](_0x3124b0=>{const _0x45f9aa=_0x1007b1;_0x3124b0['classList'][_0x45f9aa(0x303)](_0x45f9aa(0x9a6),_0x45f9aa(0x139)),_0x3124b0[_0x45f9aa(0x993)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x6ab25b=_0x4414d4;if(allQuizzesGlobal[_0x6ab25b(0x9fa)]>0x0)return;console[_0x6ab25b(0xaf0)]('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage(_0x6ab25b(0x669));try{const _0x148fc1=await getDocs(collection(db,_0x6ab25b(0x763)+appId+_0x6ab25b(0x2cd)));allQuizzesGlobal=_0x148fc1['docs']['map'](_0x56391d=>({'id':_0x56391d['id'],..._0x56391d[_0x6ab25b(0x213)]()})),console['log'](_0x6ab25b(0x208)+allQuizzesGlobal[_0x6ab25b(0x9fa)]+_0x6ab25b(0x220)),messageModal[_0x6ab25b(0xbeb)][_0x6ab25b(0x7bd)](_0x6ab25b(0x6ca));}catch(_0x2ccf7d){console[_0x6ab25b(0xb95)](_0x6ab25b(0x1c7),_0x2ccf7d),messageModal[_0x6ab25b(0xbeb)]['add']('hidden');throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0xe53c67=_0x4414d4;if(!currentQuizData||!currentQuizData[_0xe53c67(0x132)]){showMessage(_0xe53c67(0xaf6));return;}const _0x275a00=currentQuizData,_0x347406=window[_0xe53c67(0x754)]('',_0xe53c67(0xa77)),_0x3ae3fb=_0x265f45=>String[_0xe53c67(0x9ab)](0x41+_0x265f45),_0x207bdb=_0xe53c67(0x321)+_0x275a00['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x275a00['topic']+_0xe53c67(0x977)+_0x275a00[_0xe53c67(0x132)][_0xe53c67(0xb6a)]((_0x58eddb,_0x2e65ca)=>{const _0x21ea34=_0xe53c67;let _0xf7547c='';const _0x55c7a3=_0x58eddb[_0x21ea34(0xc2f)]||_0x275a00['quizType'];switch(_0x55c7a3){case _0x21ea34(0x2c6):case _0x21ea34(0x8a2):_0xf7547c=_0x21ea34(0x1bc)+_0x58eddb['options']['map']((_0x4e2d70,_0x1b00cd)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3ae3fb(_0x1b00cd)+'.\x20'+_0x4e2d70+_0x21ea34(0x43e))['join'](_0x21ea34(0xb38))+_0x21ea34(0x8ff);break;case _0x21ea34(0x26d):_0xf7547c=_0x21ea34(0x374);break;default:_0xf7547c=_0x21ea34(0x3b9);break;}return _0x21ea34(0x873)+(_0x2e65ca+0x1)+_0x21ea34(0x8ee)+(_0x58eddb['stem']||_0x58eddb[_0x21ea34(0x364)])+_0x21ea34(0x37d)+(_0x58eddb[_0x21ea34(0x1ea)]?_0x21ea34(0x437)+_0x58eddb[_0x21ea34(0x1ea)]+_0x21ea34(0x8ff):'')+_0x21ea34(0xa84)+_0xf7547c+_0x21ea34(0x575);})[_0xe53c67(0x254)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x347406['document'][_0xe53c67(0x543)](_0x207bdb),_0x347406[_0xe53c67(0x2c2)][_0xe53c67(0x6b5)](),_0x347406[_0xe53c67(0x14d)]=function(){setTimeout(()=>{_0x347406['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x28e318=_0x4414d4;if(!currentQuizData||!currentQuizData[_0x28e318(0x132)]){showMessage(_0x28e318(0xaf6));return;}const _0x5dbd3a=currentQuizData,_0x9dbd7=window[_0x28e318(0x754)]('',_0x28e318(0xa77)),_0x96d584=_0x3a7605=>String[_0x28e318(0x9ab)](0x41+_0x3a7605),_0xdcee09=_0x28e318(0xb0b)+_0x5dbd3a[_0x28e318(0x78b)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5dbd3a[_0x28e318(0x132)][_0x28e318(0xb6a)]((_0x4464b6,_0x4f40a4)=>{const _0x4c659a=_0x28e318;let _0x274197='';const _0x45ee8f=_0x4464b6[_0x4c659a(0xc2f)]||_0x5dbd3a[_0x4c659a(0x76d)];switch(_0x45ee8f){case _0x4c659a(0x2c6):case'fill_in_with_choices':_0x274197=_0x4c659a(0x7e9)+_0x4464b6[_0x4c659a(0xb4a)]['map']((_0x1b15eb,_0x276544)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x96d584(_0x276544)+'.\x20'+_0x1b15eb+_0x4c659a(0x4bf))[_0x4c659a(0x254)]('<br>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x4c659a(0x26d):_0x274197=_0x4c659a(0x7a6);break;default:_0x274197='';break;}return _0x4c659a(0x7f3)+_0x5dbd3a[_0x4c659a(0x78b)]+_0x4c659a(0x8e6)+(_0x4f40a4+0x1)+_0x4c659a(0x46d)+(_0x4464b6[_0x4c659a(0x610)]||_0x4464b6[_0x4c659a(0x364)])+_0x4c659a(0x37d)+(_0x4464b6[_0x4c659a(0x1ea)]?_0x4c659a(0x64e)+_0x4464b6[_0x4c659a(0x1ea)]+_0x4c659a(0x8ff):'')+_0x4c659a(0xa84)+_0x274197+_0x4c659a(0x9a9);})[_0x28e318(0x254)]('')+_0x28e318(0xa31);_0x9dbd7[_0x28e318(0x2c2)][_0x28e318(0x543)](_0xdcee09),_0x9dbd7[_0x28e318(0x2c2)][_0x28e318(0x6b5)](),_0x9dbd7[_0x28e318(0x14d)]=function(){setTimeout(()=>{const _0x42913e=_0xbc6d;_0x9dbd7[_0x42913e(0xc17)]();},0x5dc);};}async function handleToggleStarQuiz(_0x2d01e0){const _0x48652e=_0x4414d4,_0x2524f8=doc(db,'artifacts/'+appId+_0x48652e(0x2cd),_0x2d01e0);try{const _0x4332c9=await getDoc(_0x2524f8);if(_0x4332c9[_0x48652e(0x523)]()){const _0x21e2ba=_0x4332c9['data']()[_0x48652e(0xb5d)]||![];await updateDoc(_0x2524f8,{'isStarred':!_0x21e2ba});}}catch(_0x12440e){console[_0x48652e(0xb95)]('Error\x20toggling\x20star\x20status:',_0x12440e),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x1d2597=_0x4414d4,_0x285321=document[_0x1d2597(0x651)](_0x1d2597(0x179));_0x285321[_0x1d2597(0x61b)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x1f5686=collection(db,_0x1d2597(0x763)+appId+_0x1d2597(0xb8a)+userId+_0x1d2597(0x801)),_0x12445c=query(_0x1f5686),_0xec03c9=await getDocs(_0x12445c);if(_0xec03c9[_0x1d2597(0x606)]){_0x285321['innerHTML']=_0x1d2597(0x799);return;}let _0xaf08da=_0xec03c9['docs']['map'](_0x11c2d1=>{const _0x314a39=_0x1d2597,_0x106504=_0x11c2d1['data'](),_0x3f7892=_0x11c2d1['id'];return _0x314a39(0xa85)+JSON[_0x314a39(0x177)](_0x106504)+_0x314a39(0x687)+(_0x106504['questionText']||_0x106504['stem'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x106504['originalTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1d2597(0x254)]('');_0x285321[_0x1d2597(0x61b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0xaf08da+_0x1d2597(0x1cb),document['getElementById'](_0x1d2597(0x373))[_0x1d2597(0x7bb)](_0x1d2597(0x530),createQuizFromBank);}catch(_0x36d8ad){console['error'](_0x1d2597(0x66a),_0x36d8ad),_0x285321[_0x1d2597(0x61b)]=_0x1d2597(0x2a6);}}async function handleExportLessonToPDF(){const _0x31fa64=_0x4414d4,_0x260843=document[_0x31fa64(0x651)](_0x31fa64(0x5f0)),_0xf917af=document['getElementById'](_0x31fa64(0xa05))[_0x31fa64(0xc23)]||'บทเรียน';if(!_0x260843){showMessage(_0x31fa64(0x24d));return;}const _0x298e80=window[_0x31fa64(0x754)]('',_0x31fa64(0xa77)),_0x47244=_0x31fa64(0x40a)+_0xf917af+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>'+_0xf917af+_0x31fa64(0x83c)+_0x260843[_0x31fa64(0x61b)]+_0x31fa64(0x845);_0x298e80['document'][_0x31fa64(0x543)](_0x47244),_0x298e80[_0x31fa64(0x2c2)]['close'](),_0x298e80[_0x31fa64(0x14d)]=function(){setTimeout(()=>{const _0x20b089=_0xbc6d;_0x298e80[_0x20b089(0xc17)]();},0x7d0);};}function showAdminLiveQuestionView(_0x37121b,_0x297936,_0x41322a){const _0x2c10c5=_0x4414d4,_0x50f86b=_0x37121b[_0x2c10c5(0xc2f)]||currentQuizData[_0x2c10c5(0x76d)];let _0x50428e='';if(_0x50f86b===_0x2c10c5(0x2c6)||_0x50f86b===_0x2c10c5(0x26d)){const _0x2937e2=_0x50f86b===_0x2c10c5(0x26d)?[_0x2c10c5(0x13a),_0x2c10c5(0x3a6)]:_0x37121b['options'],_0x112720=_0x50f86b===_0x2c10c5(0x26d)?_0x37121b['correctAnswer']?0x0:0x1:_0x37121b['correctAnswerIndex'];_0x50428e=_0x2937e2['map']((_0x363d1c,_0xc92e6e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0xc92e6e===_0x112720)+_0x2c10c5(0xacb)+_0x363d1c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2c10c5(0x254)]('');}else{if(_0x50f86b===_0x2c10c5(0x572)){const _0x10a290=_0x37121b['allResponses']||[];_0x50428e=_0x10a290[_0x2c10c5(0xb6a)](_0x2eed=>_0x2c10c5(0x79c)+(_0x2eed===_0x37121b[_0x2c10c5(0x3dc)])+_0x2c10c5(0xacb)+_0x2eed+_0x2c10c5(0x44a))[_0x2c10c5(0x254)]('');}}const _0x5a39e8=_0x37121b[_0x2c10c5(0x610)]||_0x37121b[_0x2c10c5(0x364)],_0x25b11c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x297936+0x1)+_0x2c10c5(0x8b5)+_0x41322a+_0x2c10c5(0x12f)+currentLiveGamePin+_0x2c10c5(0x7df)+_0x5a39e8+_0x2c10c5(0xc04)+_0x50428e+_0x2c10c5(0x99d);liveGameView[_0x2c10c5(0x61b)]=_0x25b11c,window[_0x2c10c5(0x858)]&&MathJax['typesetPromise']&&MathJax[_0x2c10c5(0x1f8)]([liveGameView]),document[_0x2c10c5(0x651)](_0x2c10c5(0x8b8))[_0x2c10c5(0x7bb)](_0x2c10c5(0x530),()=>revealAnswerForAdmin(_0x297936,_0x41322a)),document[_0x2c10c5(0x651)](_0x2c10c5(0x974))['addEventListener'](_0x2c10c5(0x530),async()=>{const _0x465c3b=_0x2c10c5;showConfirmation(_0x465c3b(0x644),async()=>{const _0x19d7c0=_0x465c3b,_0x31fc6b=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x31fc6b,{'status':_0x19d7c0(0xa20)});});}),document[_0x2c10c5(0x651)](_0x2c10c5(0x1e7))['addEventListener'](_0x2c10c5(0x530),()=>{const _0x5d6d2d=_0x2c10c5;document['getElementById'](_0x5d6d2d(0xbb7))[_0x5d6d2d(0xbeb)][_0x5d6d2d(0xb9b)](_0x5d6d2d(0x6ca));});}function promptForProjectBeforeGenerating(_0x528cab){const _0x33fb87=_0x4414d4,_0x40db0f=document[_0x33fb87(0x651)](_0x33fb87(0x58b)),_0x5eaba5=document[_0x33fb87(0x651)](_0x33fb87(0xbe3)),_0x2d6aaa=_0x40db0f[_0x33fb87(0x2d5)]('h3'),_0x51a35b=document[_0x33fb87(0x651)](_0x33fb87(0xbfa)),_0x4fde33=document['getElementById'](_0x33fb87(0xabf));_0x2d6aaa[_0x33fb87(0xc23)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x51a35b['textContent']='เลือกและเริ่มสร้าง',_0x51a35b['disabled']=!![];allProjects[_0x33fb87(0x9fa)]===0x0?_0x5eaba5['innerHTML']=_0x33fb87(0x88e):(_0x5eaba5[_0x33fb87(0x61b)]=_0x33fb87(0x4ec)+allProjects[_0x33fb87(0xb6a)](_0x232cd2=>_0x33fb87(0x6ef)+_0x232cd2['id']+'\x22>'+_0x232cd2[_0x33fb87(0x68c)]+'</option>')[_0x33fb87(0x254)](''),_0x51a35b[_0x33fb87(0x993)]=![]);_0x40db0f[_0x33fb87(0xbeb)][_0x33fb87(0x303)](_0x33fb87(0x6ca));const _0x19ac09=async()=>{const _0x2b8bbb=_0x33fb87,_0x9167bc=_0x5eaba5[_0x2b8bbb(0x3b7)];if(!_0x9167bc){showMessage(_0x2b8bbb(0xaaf));return;}_0x40db0f[_0x2b8bbb(0xbeb)][_0x2b8bbb(0x7bd)](_0x2b8bbb(0x6ca)),await loadProjectDetails(_0x9167bc),showView(_0x2b8bbb(0x2bf)),handleGenerateQuizFromBlueprintTopic(_0x528cab),_0x58e4d();},_0x58e4d=()=>{const _0x1ba46a=_0x33fb87;_0x2d6aaa[_0x1ba46a(0xc23)]=_0x1ba46a(0xa82),_0x51a35b[_0x1ba46a(0xc23)]=_0x1ba46a(0x32f),_0x51a35b['removeEventListener'](_0x1ba46a(0x530),_0x19ac09),_0x4fde33[_0x1ba46a(0x3ee)](_0x1ba46a(0x530),_0x58e4d),_0x51a35b[_0x1ba46a(0x7bb)](_0x1ba46a(0x530),confirmMoveQuiz);};_0x51a35b[_0x33fb87(0x3ee)](_0x33fb87(0x530),confirmMoveQuiz),_0x51a35b['addEventListener'](_0x33fb87(0x530),_0x19ac09),_0x4fde33[_0x33fb87(0x7bb)](_0x33fb87(0x530),_0x58e4d);}function showStudentLiveQuestionView(_0x52633e,_0x47194a,_0x7eb7cb){const _0x57a04f=_0x4414d4,_0x38511f=_0x52633e['questionType']||currentQuizData[_0x57a04f(0x76d)];let _0x1851df='';if(_0x38511f===_0x57a04f(0x2c6)||_0x38511f===_0x57a04f(0x26d)){const _0x40106e=_0x38511f===_0x57a04f(0x26d)?[_0x57a04f(0x13a),_0x57a04f(0x3a6)]:_0x52633e[_0x57a04f(0xb4a)];_0x1851df=_0x40106e[_0x57a04f(0xb6a)]((_0x52fc72,_0x51f090)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x51f090+_0x57a04f(0x461)+_0x52fc72+_0x57a04f(0xa76))[_0x57a04f(0x254)]('');}else{if(_0x38511f==='matching_item'){const _0x4bfed2=_0x52633e[_0x57a04f(0x67e)]||[];_0x1851df=_0x4bfed2[_0x57a04f(0xb6a)]((_0x3a9bdb,_0x2b6d91)=>_0x57a04f(0x833)+_0x2b6d91+_0x57a04f(0x461)+_0x3a9bdb+_0x57a04f(0xa76))[_0x57a04f(0x254)]('');}else _0x38511f===_0x57a04f(0x808)&&(_0x1851df='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x5c89eb=_0x52633e['stem']||_0x52633e[_0x57a04f(0x364)],_0x4d663d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x47194a+0x1)+_0x57a04f(0x8b5)+_0x7eb7cb+_0x57a04f(0x473)+_0x5c89eb+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1851df+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x4d663d;window[_0x57a04f(0x858)]&&MathJax[_0x57a04f(0x1f8)]&&MathJax[_0x57a04f(0x1f8)]([liveGameView]);const _0x2545cc=document[_0x57a04f(0x651)](_0x57a04f(0xbe5));_0x2545cc&&_0x2545cc['addEventListener'](_0x57a04f(0x530),()=>{const _0x102485=_0x57a04f,_0x33e31a=document['getElementById'](_0x102485(0x444))[_0x102485(0x3b7)];handleLiveAnswer(_0x33e31a,_0x52633e);}),document[_0x57a04f(0x651)](_0x57a04f(0x73f))[_0x57a04f(0x7bb)](_0x57a04f(0x530),_0x262e55=>{const _0x465a8a=_0x57a04f,_0x1c7b34=_0x262e55[_0x465a8a(0x8d0)][_0x465a8a(0xb9a)](_0x465a8a(0x201));if(_0x1c7b34){const _0xd8d58e=parseInt(_0x1c7b34['dataset'][_0x465a8a(0x5d7)]);handleLiveAnswer(_0xd8d58e,_0x52633e);}});}function listenForBlueprintShortcuts(){const _0x540335=_0x4414d4,_0x1d2eee=doc(db,_0x540335(0x7d1),_0x540335(0xb3b));onSnapshot(_0x1d2eee,_0x2eff00=>{const _0x5d9aeb=_0x540335;let _0x1208b3=[];_0x2eff00['exists']()&&_0x2eff00[_0x5d9aeb(0x213)]()['blueprintShortcuts']&&(_0x1208b3=_0x2eff00[_0x5d9aeb(0x213)]()[_0x5d9aeb(0x6a2)]),!_0x1208b3[_0x5d9aeb(0xbc5)](_0x1f15b4=>_0x1f15b4['id']==='default-1')&&_0x1208b3['unshift']({'id':'default-1','name':_0x5d9aeb(0x757),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x1208b3[_0x5d9aeb(0xbc5)](_0xdba336=>_0xdba336['id']===_0x5d9aeb(0xc19))&&_0x1208b3[_0x5d9aeb(0x350)]({'id':_0x5d9aeb(0xc19),'name':_0x5d9aeb(0x3b1),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x1208b3,renderBlueprintShortcuts();});}function renderBlueprintShortcuts(){const _0x30c445=_0x4414d4,_0x47c766=document[_0x30c445(0x651)](_0x30c445(0x1da)),_0x4205b6=document[_0x30c445(0x651)](_0x30c445(0x695)),_0x4bf4e4=document[_0x30c445(0x651)](_0x30c445(0x184));_0x4bf4e4&&_0x4bf4e4['classList'][_0x30c445(0x7bd)]('hidden');if(!_0x47c766||!_0x4205b6)return;const _0x3d0438=blueprintShortcuts[_0x30c445(0xb31)](0x0,0x4),_0x113460=blueprintShortcuts[_0x30c445(0xb31)](0x4);_0x47c766[_0x30c445(0x61b)]=_0x3d0438[_0x30c445(0xb6a)](_0x18926f=>{const _0x25661b=_0x30c445;let _0xc7bc23=_0x25661b(0x988),_0xca5105='🧩';if(_0x18926f[_0x25661b(0x47e)]&&_0x18926f['referenceUrl'])_0xc7bc23=_0x25661b(0x35b),_0xca5105='📗';else _0x18926f[_0x25661b(0x47e)]&&(_0xc7bc23=_0x25661b(0x38a),_0xca5105='📘');const _0x47c24a=!_0x18926f[_0x25661b(0x245)]?_0x25661b(0x77b)+_0x18926f['id']+_0x25661b(0x27e):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x18926f['id']+_0x25661b(0x762)+_0xc7bc23+_0x25661b(0x5c4)+_0xca5105+'\x20'+_0x18926f[_0x25661b(0x815)]+_0x25661b(0x67c)+_0x18926f['id']+_0x25661b(0x921)+_0x47c24a+_0x25661b(0x44a);})['join'](''),_0x113460['length']>0x0&&(_0x47c766['innerHTML']+=_0x30c445(0x4cc)),_0x113460[_0x30c445(0x9fa)]>0x0?_0x4205b6[_0x30c445(0x61b)]=_0x113460[_0x30c445(0xb6a)](_0x5c8da3=>{const _0x4bc387=_0x30c445;let _0x1e8c41='🧩';if(_0x5c8da3[_0x4bc387(0x47e)]&&_0x5c8da3['referenceUrl'])_0x1e8c41='📗';else _0x5c8da3[_0x4bc387(0x47e)]&&(_0x1e8c41='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x1e8c41+'\x20'+_0x5c8da3[_0x4bc387(0x815)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5c8da3['id']+_0x4bc387(0xbf9)+_0x5c8da3['id']+_0x4bc387(0x26e)+(!_0x5c8da3[_0x4bc387(0x245)]?_0x4bc387(0x77b)+_0x5c8da3['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x4bc387(0x8c0);})['join'](''):_0x4205b6['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x57385e){const _0x13d702=_0x4414d4,_0x4b75e5=_0x57385e[_0x13d702(0x54a)]('.')['pop']()[_0x13d702(0x939)]();switch(_0x4b75e5){case _0x13d702(0x6b9):return _0x13d702(0x83e);case _0x13d702(0x7c3):return _0x13d702(0x260);default:return'application/pdf';}}function openShortcutEditor(_0x5134f4=null){const _0x3c34b7=_0x4414d4,_0xdc25b9=document[_0x3c34b7(0x651)](_0x3c34b7(0xa4a)),_0x4d02e7=document['getElementById'](_0x3c34b7(0xa8f)),_0x4e4420=document['getElementById']('shortcut-id-input'),_0x338edd=document[_0x3c34b7(0x651)](_0x3c34b7(0x865)),_0x1804fd=document[_0x3c34b7(0x651)]('shortcut-blueprint-url-input'),_0x3b197f=document[_0x3c34b7(0x651)](_0x3c34b7(0x640));if(_0x5134f4){const _0x29c840=blueprintShortcuts[_0x3c34b7(0xbc5)](_0x5ce4fd=>_0x5ce4fd['id']===_0x5134f4);if(!_0x29c840)return;_0x4d02e7[_0x3c34b7(0xc23)]=_0x3c34b7(0xab7),_0x4e4420[_0x3c34b7(0x3b7)]=_0x29c840['id'],_0x338edd[_0x3c34b7(0x3b7)]=_0x29c840[_0x3c34b7(0x815)],_0x1804fd[_0x3c34b7(0x3b7)]=_0x29c840[_0x3c34b7(0x47e)]||'',_0x3b197f['value']=_0x29c840[_0x3c34b7(0x668)]||'';}else _0x4d02e7[_0x3c34b7(0xc23)]=_0x3c34b7(0x592),_0x4e4420[_0x3c34b7(0x3b7)]='',_0x338edd[_0x3c34b7(0x3b7)]='',_0x1804fd['value']='',_0x3b197f[_0x3c34b7(0x3b7)]='';_0xdc25b9['classList'][_0x3c34b7(0x303)](_0x3c34b7(0x6ca));}async function saveShortcutChanges(){const _0x4a3777=_0x4414d4,_0x3eb283=document[_0x4a3777(0x651)](_0x4a3777(0xaa1))['value'],_0x1d83c4=document[_0x4a3777(0x651)]('shortcut-name-input')['value'][_0x4a3777(0x4fe)](),_0x217bba=document[_0x4a3777(0x651)]('shortcut-blueprint-url-input')[_0x4a3777(0x3b7)][_0x4a3777(0x4fe)]();if(!_0x1d83c4||!_0x217bba){showMessage(_0x4a3777(0x223));return;}const _0x226802={'id':_0x3eb283||_0x4a3777(0x8f7)+Date[_0x4a3777(0xbcc)](),'name':_0x1d83c4,'blueprintUrl':_0x217bba,'referenceUrl':document[_0x4a3777(0x651)](_0x4a3777(0x640))[_0x4a3777(0x3b7)][_0x4a3777(0x4fe)](),'isDefault':_0x3eb283['startsWith'](_0x4a3777(0x2aa))};let _0x40162f;_0x3eb283?_0x40162f=blueprintShortcuts['map'](_0x4af392=>_0x4af392['id']===_0x3eb283?_0x226802:_0x4af392):_0x40162f=[...blueprintShortcuts,_0x226802];try{const _0x542b42=doc(db,'globalSettings',_0x4a3777(0xb3b));await setDoc(_0x542b42,{'blueprintShortcuts':_0x40162f},{'merge':!![]}),document[_0x4a3777(0x651)](_0x4a3777(0xa4a))[_0x4a3777(0xbeb)][_0x4a3777(0x7bd)](_0x4a3777(0x6ca));}catch(_0x3c24d6){console['error'](_0x4a3777(0x174),_0x3c24d6),showMessage(_0x4a3777(0x1c4));}}async function handleShortcutClick(_0x1d3a32){const _0x31d7d1=_0x4414d4,_0x4aa593=blueprintShortcuts['find'](_0x1bc9bf=>_0x1bc9bf['id']===_0x1d3a32);if(!_0x4aa593||!_0x4aa593[_0x31d7d1(0x47e)])return;document[_0x31d7d1(0x651)](_0x31d7d1(0xa5c))[_0x31d7d1(0xbeb)][_0x31d7d1(0x7bd)](_0x31d7d1(0x6ca)),document['getElementById'](_0x31d7d1(0x8c8))[_0x31d7d1(0x993)]=!![];const _0x240851=document['getElementById'](_0x31d7d1(0x59e)),_0x16654c=document['getElementById'](_0x31d7d1(0xa53));document['getElementById']('quiz-generation-area')['classList'][_0x31d7d1(0x303)]('hidden'),document[_0x31d7d1(0x651)](_0x31d7d1(0x9d3))[_0x31d7d1(0x61b)]='',_0x240851[_0x31d7d1(0xbeb)][_0x31d7d1(0x303)]('hidden');try{_0x16654c[_0x31d7d1(0xc23)]='กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...';const _0x12b375=await fetchFileFromUrl(_0x4aa593[_0x31d7d1(0x47e)],'blueprint.pdf');let _0xe598e3=null;if(_0x4aa593['referenceUrl']){_0x16654c['textContent']=_0x31d7d1(0x48b);const _0x24d899=_0x4aa593[_0x31d7d1(0x668)][_0x31d7d1(0x939)]()[_0x31d7d1(0x770)](_0x31d7d1(0x533))?_0x31d7d1(0x3c7):_0x31d7d1(0x549);_0xe598e3=await fetchFileFromUrl(_0x4aa593['referenceUrl'],_0x24d899);}await handleGenerateFromBlueprintWithFiles(_0x12b375,_0xe598e3);}catch(_0x18c8b2){console[_0x31d7d1(0xb95)](_0x31d7d1(0x6a3),_0x18c8b2),showMessage(_0x31d7d1(0x750)+_0x18c8b2[_0x31d7d1(0xaea)]),_0x240851[_0x31d7d1(0xbeb)][_0x31d7d1(0x7bd)](_0x31d7d1(0x6ca));}}function getDirectDownloadUrl(_0x117313){const _0x58557b=_0x4414d4,_0x51fe13=_0x117313[_0x58557b(0xc08)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x51fe13&&_0x51fe13[0x1])return _0x58557b(0x370)+_0x51fe13[0x1];return _0x117313;}async function fetchFileFromUrl(_0x2c499a,_0x367c76){const _0x519ff0=_0x4414d4,_0x35b355=getDirectDownloadUrl(_0x2c499a),_0x3ebf5e=_0x519ff0(0x82a)+encodeURIComponent(_0x35b355),_0x1145da=await fetch(_0x3ebf5e);if(!_0x1145da['ok'])throw new Error(_0x519ff0(0x88b)+_0x1145da[_0x519ff0(0x7f9)]+')');const _0x2a6d59=await _0x1145da[_0x519ff0(0x8dd)](),_0x53c747=getMimeTypeFromFilename(_0x367c76);return console[_0x519ff0(0xaf0)](_0x519ff0(0x685)+_0x367c76+_0x519ff0(0x203)+_0x53c747),new File([_0x2a6d59],_0x367c76,{'type':_0x53c747});}async function handleGenerateFromBlueprintWithFiles(_0x375c0f,_0x3151b1=null){const _0x1c78a5=_0x4414d4;if(!_0x375c0f){showMessage('ไม่พบไฟล์\x20Test\x20Blueprint');return;}const _0x4bd05e=document[_0x1c78a5(0x651)](_0x1c78a5(0x59e)),_0x59fb91=document[_0x1c78a5(0x651)]('loader-text');_0x4bd05e['classList'][_0x1c78a5(0x303)](_0x1c78a5(0x6ca)),document['getElementById'](_0x1c78a5(0x565))[_0x1c78a5(0xbeb)]['remove'](_0x1c78a5(0x6ca)),document['getElementById'](_0x1c78a5(0x9d3))[_0x1c78a5(0x61b)]='';try{_0x59fb91[_0x1c78a5(0xc23)]=_0x1c78a5(0x7c0);const _0x5629bf=await new Promise((_0x4f5cad,_0x135df9)=>{const _0x5150fd=_0x1c78a5,_0x65951d=new FileReader();_0x65951d[_0x5150fd(0x864)](_0x375c0f),_0x65951d['onload']=()=>_0x4f5cad(_0x65951d[_0x5150fd(0x986)]['split'](',')[0x1]),_0x65951d['onerror']=_0x135df9;}),_0x3c510c=[];if(_0x3151b1){_0x59fb91[_0x1c78a5(0xc23)]=_0x1c78a5(0x438);const _0xeea26a=await _0x3151b1[_0x1c78a5(0x7b0)]();_0x3c510c[_0x1c78a5(0x464)]({'text':_0x1c78a5(0x930)+_0xeea26a});}const _0x48b4f1=[{'text':_0x1c78a5(0xb81)},{'inlineData':{'mimeType':_0x375c0f[_0x1c78a5(0x5e1)],'data':_0x5629bf}},..._0x3c510c];await handleGenerateFromBlueprint(_0x48b4f1);}catch(_0x4ec3b5){console[_0x1c78a5(0xb95)](_0x1c78a5(0xa19),_0x4ec3b5),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4ec3b5[_0x1c78a5(0xaea)]),_0x4bd05e[_0x1c78a5(0xbeb)]['add'](_0x1c78a5(0x6ca));}}async function handleLiveAnswer(_0x139570,_0x1f6d42){const _0x46a8e3=_0x4414d4;document[_0x46a8e3(0x514)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x46a8e3(0x15f)](_0x2403f6=>_0x2403f6['disabled']=!![]);const _0x40953b=_0x1f6d42[_0x46a8e3(0xc2f)]||currentQuizData[_0x46a8e3(0x76d)];let _0x5f1d55=![],_0x5aea5d=_0x139570;if(_0x40953b===_0x46a8e3(0x808)){const _0x59eacf=(_0x139570||'')[_0x46a8e3(0x332)]();_0x5f1d55=await gradeShortAnswer(_0x59eacf,_0x1f6d42);}else{if(_0x40953b==='multiple_choice')_0x5f1d55=_0x139570===_0x1f6d42[_0x46a8e3(0x74c)];else{if(_0x40953b==='true_false'){const _0xb44fb9=_0x1f6d42[_0x46a8e3(0x294)];_0x5f1d55=_0x139570===0x0&&_0xb44fb9||_0x139570===0x1&&!_0xb44fb9;}else{if(_0x40953b===_0x46a8e3(0x572)){const _0x1d39fb=_0x1f6d42[_0x46a8e3(0x67e)][_0x139570];_0x5f1d55=_0x1d39fb===_0x1f6d42['correctResponse'],_0x5aea5d=_0x1d39fb;}}}}const _0x1d8e32=doc(db,_0x46a8e3(0x763)+appId+_0x46a8e3(0x994),currentLiveGameId),_0x25c9d2={};_0x25c9d2[_0x46a8e3(0x25a)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x25c9d2[_0x46a8e3(0x25a)+currentStudentName+'.lastAnswerCorrect']=_0x5f1d55,_0x25c9d2[_0x46a8e3(0x25a)+currentStudentName+'.lastAnswerIndex']=_0x40953b===_0x46a8e3(0x808)||_0x40953b==='matching_item'?null:_0x139570,_0x25c9d2['players.'+currentStudentName+_0x46a8e3(0x954)]=_0x5aea5d,_0x25c9d2[_0x46a8e3(0x25a)+currentStudentName+_0x46a8e3(0xaae)]=serverTimestamp(),_0x25c9d2['players.'+currentStudentName+'.isScored']=![],await updateDoc(_0x1d8e32,_0x25c9d2),liveGameView[_0x46a8e3(0x61b)]=_0x46a8e3(0x2ae);}function showAdminSummaryView(_0x39cd2c,_0x345525){const _0x5406d4=_0x4414d4,_0xf68657=Object[_0x5406d4(0x329)](_0x39cd2c[_0x5406d4(0xb76)]||{}),_0x2eb96c=_0x345525[_0x5406d4(0xc2f)]||currentQuizData['quizType'],_0x4bf540=_0x2eb96c===_0x5406d4(0x26d)?[_0x5406d4(0x13a),_0x5406d4(0x3a6)]:_0x345525[_0x5406d4(0xb4a)]||_0x345525[_0x5406d4(0x67e)]||[],_0x12c8d0={},_0x2d3bc3=new Array(_0x4bf540['length'])[_0x5406d4(0xb8f)](0x0);_0x4bf540['forEach']((_0x253e52,_0xf1c953)=>{_0x12c8d0[_0xf1c953]=[];}),Object['entries'](_0x39cd2c['players']||{})[_0x5406d4(0x15f)](([_0x1a7502,_0x2ebc74])=>{const _0xb5d151=_0x5406d4;if(_0x2ebc74[_0xb5d151(0x7f9)]===_0xb5d151(0x712)&&_0x2ebc74[_0xb5d151(0xa4f)]!==undefined){const _0x44b58b=_0x2ebc74[_0xb5d151(0xa4f)];_0x12c8d0[_0x44b58b]&&(_0x12c8d0[_0x44b58b][_0xb5d151(0x464)](_0x1a7502),_0x2d3bc3[_0x44b58b]++);}});const _0xe6a28f=Math[_0x5406d4(0x682)](..._0x2d3bc3,0x1),_0x33e21d=_0x5406d4(0x3ed)+(_0x345525[_0x5406d4(0x610)]||_0x345525['questionText'])+_0x5406d4(0x61c)+_0x2d3bc3['map']((_0xd78b20,_0x1be9b6)=>{const _0x5d1340=_0x5406d4,_0xbb1539=_0x12c8d0[_0x1be9b6][_0x5d1340(0x9fa)]>0x0?_0x12c8d0[_0x1be9b6][_0x5d1340(0x254)](',\x20'):_0x5d1340(0xbe8);let _0x3ec9bd=![];if(_0x2eb96c===_0x5d1340(0x2c6))_0x3ec9bd=_0x1be9b6===_0x345525[_0x5d1340(0x74c)];else{if(_0x2eb96c==='true_false'){const _0xcda8a9=_0x345525[_0x5d1340(0x294)];_0x3ec9bd=_0xcda8a9&&_0x1be9b6===0x0||!_0xcda8a9&&_0x1be9b6===0x1;}else _0x2eb96c===_0x5d1340(0x572)&&(_0x3ec9bd=_0x4bf540[_0x1be9b6]===_0x345525[_0x5d1340(0x3dc)]);}const _0x459fb1=_0x3ec9bd?_0x5d1340(0xb2b):_0x5d1340(0x623);return _0x5d1340(0x189)+_0xd78b20+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x459fb1+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x1be9b6+_0x5d1340(0x779)+_0x4bf540[_0x1be9b6]+_0x5d1340(0x7d6)+_0x1be9b6+_0x5d1340(0x6d7)+_0xbb1539+_0x5d1340(0xa6f);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x5406d4(0x61b)]=_0x33e21d;if(window[_0x5406d4(0x858)])MathJax[_0x5406d4(0x1f8)]();document[_0x5406d4(0x651)]('show-leaderboard-btn')[_0x5406d4(0x7bb)](_0x5406d4(0x530),async()=>{const _0x2a210a=_0x5406d4,_0x44b1b8=doc(db,_0x2a210a(0x763)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x44b1b8,{'questionStatus':_0x2a210a(0x4fd)});}),document['getElementById'](_0x5406d4(0x1ef))[_0x5406d4(0x7bb)](_0x5406d4(0x530),()=>{openScratchpad(_0x345525,_0x4bf540);});}function showPlayerSummaryView(_0x378835,_0x48c8f9){const _0x398ac4=_0x4414d4,_0x368bd2=Object[_0x398ac4(0x329)](_0x378835[_0x398ac4(0xb76)]||{}),_0x1bb56f=_0x378835[_0x398ac4(0xb76)][_0x48c8f9],_0x213418=_0x368bd2['filter'](_0x11df23=>_0x11df23[_0x398ac4(0x7f9)]===_0x398ac4(0x712))[_0x398ac4(0xa7e)]((_0x1ed0e5,_0x477e55)=>_0x477e55[_0x398ac4(0x288)]-_0x1ed0e5['score']),_0x37a05a=_0x213418[_0x398ac4(0x500)](_0x148e45=>_0x148e45===_0x1bb56f)+0x1,_0x3a943d=_0x1bb56f[_0x398ac4(0x3f4)]?_0x398ac4(0xaf5):_0x398ac4(0x7b5),_0x4b1e8a=_0x1bb56f[_0x398ac4(0x3f4)]?_0x398ac4(0x229):_0x398ac4(0x185),_0x29d82b=_0x1bb56f[_0x398ac4(0x59b)]||0x0,_0x53c956=_0x398ac4(0x6fd),_0x328fc8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x53c956+_0x398ac4(0x65c)+_0x4b1e8a+_0x398ac4(0x298)+_0x3a943d+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x29d82b+_0x398ac4(0xa37)+(_0x37a05a>0x0?_0x37a05a:'-')+_0x398ac4(0x827);liveGameView['innerHTML']=_0x328fc8;}function createQuizFromBank(){const _0xe1bae=_0x4414d4,_0x15bf94=document[_0xe1bae(0x514)](_0xe1bae(0x156));if(_0x15bf94[_0xe1bae(0x9fa)]===0x0){showMessage(_0xe1bae(0x955));return;}const _0x29fe76=[];_0x15bf94[_0xe1bae(0x15f)](_0x4eaebe=>{const _0x32a3d0=_0xe1bae;_0x29fe76['push'](JSON[_0x32a3d0(0x607)](_0x4eaebe[_0x32a3d0(0x3b7)]));});const _0x1cf774={'topic':_0xe1bae(0x673),'questions':_0x29fe76};displayGeneratedQuiz(_0x1cf774);}function showAdminLobbyView(_0x4f69de,_0x1d4329){const _0x1c6792=_0x4414d4;showView('live-game');const _0x2f2662=_0x1c6792(0x6b0)+_0x1d4329+_0x1c6792(0xaff)+_0x4f69de+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x1c6792(0x61b)]=_0x2f2662,document['getElementById'](_0x1c6792(0xb49))[_0x1c6792(0x7bb)]('click',async()=>{const _0x3ec578=_0x1c6792;if(!currentQuizData||!currentQuizData[_0x3ec578(0x132)]||currentQuizData[_0x3ec578(0x132)][_0x3ec578(0x9fa)]===0x0){showMessage(_0x3ec578(0x9f5));return;}try{const _0x4896f4=doc(db,_0x3ec578(0x763)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4896f4,{'status':_0x3ec578(0x96c),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x19a562=currentQuizData[_0x3ec578(0x132)][0x0],_0x1916c9=currentQuizData['questions']['length'];showAdminLiveQuestionView(_0x19a562,0x0,_0x1916c9);}catch(_0x51acbc){console[_0x3ec578(0xb95)](_0x3ec578(0xa5e),_0x51acbc),showMessage(_0x3ec578(0x519));}});}async function openGlobalLiveModal(){const _0x1b8e39=_0x4414d4;if(allQuizzesGlobal[_0x1b8e39(0x9fa)]===0x0){const _0x11aa9c=await getDocs(collection(db,_0x1b8e39(0x763)+appId+_0x1b8e39(0x2cd)));allQuizzesGlobal=_0x11aa9c[_0x1b8e39(0x599)][_0x1b8e39(0xb6a)](_0x2454a2=>({'id':_0x2454a2['id'],..._0x2454a2[_0x1b8e39(0x213)]()}));}renderGlobalQuizList(''),document[_0x1b8e39(0x651)](_0x1b8e39(0x3c0))[_0x1b8e39(0xbeb)][_0x1b8e39(0x303)](_0x1b8e39(0x6ca));}async function openQuizBankModal(){const _0x545cb0=_0x4414d4;if(allQuizzesGlobal[_0x545cb0(0x9fa)]===0x0){const _0x12b8d3=await getDocs(collection(db,_0x545cb0(0x763)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x12b8d3[_0x545cb0(0x599)][_0x545cb0(0xb6a)](_0x5dc9c4=>({'id':_0x5dc9c4['id'],..._0x5dc9c4[_0x545cb0(0x213)]()}));}renderQuizBankList(''),document[_0x545cb0(0x651)](_0x545cb0(0x1f9))[_0x545cb0(0xbeb)][_0x545cb0(0x303)](_0x545cb0(0x6ca));}function renderQuizBankList(_0x5e6e2b='',_0x504f6d=![]){const _0x47b992=_0x4414d4,_0x3e4cd8=document[_0x47b992(0x651)](_0x47b992(0x2ac)),_0x2af930=_0x5e6e2b[_0x47b992(0x939)]()[_0x47b992(0x4fe)](),_0x3c2c7b=allQuizzesGlobal[_0x47b992(0xb6a)](_0x44425f=>({..._0x44425f,'projectName':allProjects[_0x47b992(0xbc5)](_0x18f9aa=>_0x18f9aa['id']===_0x44425f[_0x47b992(0x661)])?.[_0x47b992(0x68c)]||_0x47b992(0x18a)}))['filter'](_0x5e895d=>(_0x5e895d['topic']||'')[_0x47b992(0x939)]()['includes'](_0x2af930)||(_0x5e895d[_0x47b992(0x68c)]||'')['toLowerCase']()[_0x47b992(0x6ed)](_0x2af930)||_0x5e895d['id'][_0x47b992(0x332)]()[_0x47b992(0x6ed)](_0x2af930));document['getElementById']('quiz-bank-count')[_0x47b992(0xc23)]='('+_0x3c2c7b['length']+_0x47b992(0x1f4),_0x3e4cd8[_0x47b992(0x61b)]=_0x3c2c7b[_0x47b992(0x9fa)]?_0x3c2c7b[_0x47b992(0xb6a)](_0x5f3943=>{const _0x2d15a3=_0x47b992,_0x1becda=!_0x504f6d?_0x2d15a3(0xaf7)+_0x5f3943['id']+_0x2d15a3(0xb83)+_0x5f3943['id']+_0x2d15a3(0x598)+_0x5f3943['id']+_0x2d15a3(0x3d4)+_0x5f3943['id']+_0x2d15a3(0x1d8)+_0x5f3943['id']+_0x2d15a3(0x1ed)+_0x5f3943['id']+_0x2d15a3(0x3bd)+_0x5f3943['topic']+_0x2d15a3(0x7eb):'';return _0x2d15a3(0x6d6)+_0x5f3943['id']+_0x2d15a3(0xc01)+(_0x5f3943[_0x2d15a3(0x78b)]||'(ไม่มีชื่อ)')+_0x2d15a3(0x3a1)+(_0x5f3943['questions']?.[_0x2d15a3(0x9fa)]||0x0)+_0x2d15a3(0x903)+_0x5f3943[_0x2d15a3(0x68c)]+_0x2d15a3(0x5d2)+_0x5f3943['id']+_0x2d15a3(0x475)+_0x1becda+_0x2d15a3(0x5bb);})['join'](''):_0x47b992(0x4e5),!_0x504f6d&&(_0x3e4cd8[_0x47b992(0x514)](_0x47b992(0x678))[_0x47b992(0x15f)](_0x8ee5de=>{const _0x16f5d5=_0x47b992;_0x8ee5de[_0x16f5d5(0x7bb)](_0x16f5d5(0x530),()=>{const _0x664d78=_0x16f5d5,_0x1bd825=_0x8ee5de[_0x664d78(0x3b5)]['id'];document[_0x664d78(0x651)](_0x664d78(0x1f9))[_0x664d78(0xbeb)][_0x664d78(0x7bd)](_0x664d78(0x6ca)),showQuizDetailView(_0x1bd825);});}),_0x3e4cd8[_0x47b992(0x514)](_0x47b992(0x970))[_0x47b992(0x15f)](_0x52d322=>{const _0x5b297c=_0x47b992;_0x52d322[_0x5b297c(0x7bb)](_0x5b297c(0x530),_0x4db456=>{const _0x54d670=_0x5b297c;_0x4db456['stopPropagation']();const _0x2f9473=_0x52d322[_0x54d670(0x3b5)]['id'],_0x10ff68=allQuizzesGlobal[_0x54d670(0xbc5)](_0x116620=>_0x116620['id']===_0x2f9473);_0x10ff68?(currentQuizData=_0x10ff68,document[_0x54d670(0x651)](_0x54d670(0x1f9))[_0x54d670(0xbeb)][_0x54d670(0x7bd)](_0x54d670(0x6ca)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x3e4cd8[_0x47b992(0x514)](_0x47b992(0x794))[_0x47b992(0x15f)](_0x53763b=>{const _0x16610d=_0x47b992;_0x53763b['addEventListener'](_0x16610d(0x530),_0x10fa9c=>{const _0x56d404=_0x16610d;_0x10fa9c[_0x56d404(0x34f)]();const _0x1861b7=_0x53763b[_0x56d404(0x3b5)]['id'],_0xf4bbf6=allQuizzesGlobal[_0x56d404(0xbc5)](_0x51e21f=>_0x51e21f['id']===_0x1861b7);_0xf4bbf6?(document[_0x56d404(0x651)]('quiz-bank-modal')[_0x56d404(0xbeb)][_0x56d404(0x7bd)]('hidden'),handleGenerateParallelFromBank(_0xf4bbf6)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x3e4cd8[_0x47b992(0x514)]('.quiz-bank-present-btn')[_0x47b992(0x15f)](_0x21be4e=>{const _0x4f9f4f=_0x47b992;_0x21be4e[_0x4f9f4f(0x7bb)](_0x4f9f4f(0x530),_0x565f48=>{const _0x79ec9f=_0x4f9f4f;_0x565f48[_0x79ec9f(0x34f)]();const _0x2738c4=_0x21be4e[_0x79ec9f(0x3b5)]['id'],_0x44464e=allQuizzesGlobal[_0x79ec9f(0xbc5)](_0x154f82=>_0x154f82['id']===_0x2738c4);_0x44464e?(document[_0x79ec9f(0x651)](_0x79ec9f(0x1f9))[_0x79ec9f(0xbeb)][_0x79ec9f(0x7bd)](_0x79ec9f(0x6ca)),startPresentation(_0x44464e)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x3e4cd8[_0x47b992(0x514)](_0x47b992(0xad5))[_0x47b992(0x15f)](_0x1f8325=>{const _0x59aa48=_0x47b992;_0x1f8325[_0x59aa48(0x7bb)](_0x59aa48(0x530),_0x5643e3=>{const _0x201b87=_0x59aa48;_0x5643e3[_0x201b87(0x34f)]();const _0x54a486=_0x1f8325[_0x201b87(0x3b5)]['id'];document[_0x201b87(0x651)](_0x201b87(0x1f9))['classList'][_0x201b87(0x7bd)]('hidden'),handleMoveQuiz(_0x54a486);});}),_0x3e4cd8[_0x47b992(0x514)](_0x47b992(0xba5))['forEach'](_0x400784=>{const _0x4acec0=_0x47b992;_0x400784['addEventListener'](_0x4acec0(0x530),_0x4524e7=>{const _0x3fb506=_0x4acec0;_0x4524e7[_0x3fb506(0x34f)]();const _0x2d0248=_0x400784[_0x3fb506(0x3b5)]['id'];document[_0x3fb506(0x651)]('quiz-bank-modal')[_0x3fb506(0xbeb)][_0x3fb506(0x7bd)]('hidden'),handleQuizSettings(_0x2d0248);});}),_0x3e4cd8[_0x47b992(0x514)](_0x47b992(0xc11))[_0x47b992(0x15f)](_0x386acb=>{const _0x1752bd=_0x47b992;_0x386acb[_0x1752bd(0x7bb)](_0x1752bd(0x530),_0x301181=>{const _0x40cb91=_0x1752bd;_0x301181[_0x40cb91(0x34f)]();const _0x26206d=_0x386acb['dataset']['id'],_0x5e7bb6=_0x386acb[_0x40cb91(0x3b5)][_0x40cb91(0x78b)];showConfirmation(_0x40cb91(0xa3f)+_0x5e7bb6+_0x40cb91(0x74d),()=>handleDeleteQuiz(_0x26206d));});}));}async function handleCompareResults(_0x578c9b,_0x43e058){const _0x406e16=_0x4414d4,_0x49f4e4=document['getElementById'](_0x406e16(0x4d9)),_0x140f75=document[_0x406e16(0x651)](_0x406e16(0x3e1)),_0x4d1b81=document[_0x406e16(0x651)]('comparison-individual-content');document['getElementById'](_0x406e16(0x5c8))[_0x406e16(0xbeb)][_0x406e16(0x7bd)](_0x406e16(0x712)),document[_0x406e16(0x651)](_0x406e16(0x7b2))[_0x406e16(0xbeb)][_0x406e16(0x303)](_0x406e16(0x712)),_0x140f75[_0x406e16(0xbeb)][_0x406e16(0x303)](_0x406e16(0x6ca)),_0x4d1b81['classList']['add']('hidden'),_0x140f75[_0x406e16(0x61b)]=_0x406e16(0x77a),_0x4d1b81['innerHTML']='',_0x49f4e4[_0x406e16(0xbeb)][_0x406e16(0x303)]('hidden');try{const _0x1dddd3=doc(db,_0x406e16(0x763)+appId+_0x406e16(0x2cd),_0x578c9b),_0x338456=await getDoc(_0x1dddd3);if(!_0x338456[_0x406e16(0x523)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x3c9abc=_0x338456[_0x406e16(0x213)](),_0x2c9b5a=_0x3c9abc[_0x406e16(0x132)][_0x406e16(0x9fa)],_0x10bcac=collection(db,'artifacts/'+appId+_0x406e16(0x2b2)+_0x43e058+_0x406e16(0xa32)),_0x174fc9=collection(db,_0x406e16(0x763)+appId+_0x406e16(0x2b2)+_0x578c9b+'/submissions'),[_0x349779,_0x2afd61]=await Promise['all']([getDocs(_0x10bcac),getDocs(_0x174fc9)]),_0x1e6def=_0x349779['docs']['map'](_0x482cf4=>_0x482cf4[_0x406e16(0x213)]()),_0x30183d=_0x2afd61[_0x406e16(0x599)][_0x406e16(0xb6a)](_0x27335b=>_0x27335b[_0x406e16(0x213)]()),_0x403460=_0x1e6def['map'](_0x434ed3=>_0x434ed3[_0x406e16(0xa48)]),_0x11e768=_0x30183d[_0x406e16(0xb6a)](_0x3d5160=>_0x3d5160[_0x406e16(0xa48)]),_0x1d1c1e=calculateMeanAndStdDev(_0x403460),_0x5543bf=calculateMeanAndStdDev(_0x11e768),_0x358ac5=_0x1d1c1e['mean'],_0x43c215=_0x5543bf['mean'],_0x3de738=_0x43c215-_0x358ac5;let _0x3ea720=_0x406e16(0x2dc)+_0x358ac5[_0x406e16(0x785)](0x2)+_0x406e16(0x6a9)+_0x43c215['toFixed'](0x2)+_0x406e16(0x2d8)+(_0x3de738>=0x0?_0x406e16(0xbfe):'bg-red-100')+_0x406e16(0x91b)+(_0x3de738>=0x0?_0x406e16(0xab3):_0x406e16(0x840))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x3de738>=0x0?_0x406e16(0x9d8):_0x406e16(0x281))+'\x22>'+(_0x3de738>=0x0?'+':'')+_0x3de738[_0x406e16(0x785)](0x2)+_0x406e16(0x1f6);_0x140f75[_0x406e16(0x61b)]=_0x3ea720;const _0x58603b=document[_0x406e16(0x651)](_0x406e16(0x402))[_0x406e16(0x31e)]('2d');if(chartInstances['comparison'])chartInstances[_0x406e16(0xad1)][_0x406e16(0x603)]();chartInstances[_0x406e16(0xad1)]=new Chart(_0x58603b,{'type':'bar','data':{'labels':[_0x406e16(0x8fc)],'datasets':[{'label':_0x406e16(0xa45),'data':[_0x358ac5],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x406e16(0x823),'data':[_0x43c215],'backgroundColor':_0x406e16(0xaeb)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x2c9b5a}}}});const _0x739d32=currentProjectData[_0x406e16(0xb29)]||[],_0x259e03=_0x739d32[_0x406e16(0xb6a)](_0x224dc5=>{const _0x512822=_0x406e16,_0x3b4214=_0x1e6def['find'](_0x582482=>_0x582482[_0x512822(0x637)]===_0x224dc5),_0x540dc7=_0x30183d[_0x512822(0xbc5)](_0x1f44fa=>_0x1f44fa[_0x512822(0x637)]===_0x224dc5),_0x4e7aa2=_0x3b4214?_0x3b4214[_0x512822(0xa48)]:null,_0x4ac278=_0x540dc7?_0x540dc7[_0x512822(0xa48)]:null,_0x2a9d34=_0x4e7aa2!==null&&_0x4ac278!==null?_0x4ac278-_0x4e7aa2:null,_0x1010c4=_0x4e7aa2!==null?calculateZScore(_0x4e7aa2,_0x1d1c1e[_0x512822(0x20f)],_0x1d1c1e[_0x512822(0xc22)]):null,_0x379ee5=_0x4ac278!==null?calculateZScore(_0x4ac278,_0x5543bf[_0x512822(0x20f)],_0x5543bf[_0x512822(0xc22)]):null,_0x26b609=_0x1010c4!==null?calculateTScore(_0x1010c4):null,_0x5b9455=_0x379ee5!==null?calculateTScore(_0x379ee5):null,_0x9517c0=_0x26b609!==null&&_0x5b9455!==null?_0x5b9455-_0x26b609:null;return{'name':_0x224dc5,'preScore':_0x4e7aa2,'postScore':_0x4ac278,'gain':_0x2a9d34,'preTScore':_0x26b609,'postTScore':_0x5b9455,'tGain':_0x9517c0};});renderIndividualComparisonTable(_0x259e03,_0x4d1b81);}catch(_0x26f34c){console[_0x406e16(0xb95)](_0x406e16(0x9e3),_0x26f34c),_0x140f75[_0x406e16(0x61b)]=_0x406e16(0x127);}}async function saveBlueprintProject(){const _0x1cb265=_0x4414d4;if(!extractedBlueprintData||!extractedBlueprintData[_0x1cb265(0x418)]){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x7769c4=prompt(_0x1cb265(0x8f1),_0x1cb265(0xc39));if(!_0x7769c4||_0x7769c4[_0x1cb265(0x4fe)]()==='')return;const _0x347736={};extractedBlueprintData[_0x1cb265(0x418)][_0x1cb265(0x15f)](_0x1bb907=>{const _0x11c037=_0x1cb265;_0x1bb907[_0x11c037(0x26b)]['forEach'](_0x219ebc=>{const _0x25b9c4=_0x11c037;_0x219ebc[_0x25b9c4(0x711)][_0x25b9c4(0x15f)](_0xce22a=>{const _0x398779=_0x25b9c4,_0x2a3ff4=_0x398779(0x9eb)+Date[_0x398779(0xbcc)]()+Math[_0x398779(0xc29)]()[_0x398779(0x332)](0x24)['substr'](0x2,0x9);_0x347736[_0x2a3ff4]={'sara':_0x1bb907['sara'],'mainTopic':_0x219ebc[_0x398779(0x60e)],'subTopic':_0xce22a,'status':_0x398779(0x542),'lessonContent':null};});});});try{const _0x44496c=collection(db,_0x1cb265(0x763)+appId+_0x1cb265(0x78d));await addDoc(_0x44496c,{'projectName':_0x7769c4[_0x1cb265(0x4fe)](),'gradeLevel':extractedBlueprintData[_0x1cb265(0x63a)],'topics':_0x347736,'createdAt':serverTimestamp()}),showMessage(_0x1cb265(0x21c)+_0x7769c4['trim']()+_0x1cb265(0xc1e)),document[_0x1cb265(0x651)](_0x1cb265(0xa52))['classList'][_0x1cb265(0x7bd)](_0x1cb265(0x6ca));}catch(_0x372c93){console[_0x1cb265(0xb95)](_0x1cb265(0x447),_0x372c93),showMessage(_0x1cb265(0x40b));}}async function showBlueprintProjects(){const _0x164c94=_0x4414d4,_0x5bed8a=document[_0x164c94(0x651)](_0x164c94(0xb1e)),_0x369f21=document[_0x164c94(0x651)](_0x164c94(0x4bc));_0x369f21[_0x164c94(0x61b)]=_0x164c94(0xb88),_0x5bed8a[_0x164c94(0xbeb)][_0x164c94(0x303)](_0x164c94(0x6ca));try{const _0x2586af=collection(db,_0x164c94(0x763)+appId+_0x164c94(0x78d)),_0x255d44=await getDocs(_0x2586af);if(_0x255d44['empty']){_0x369f21[_0x164c94(0x61b)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x4ab63c=_0x255d44[_0x164c94(0x599)][_0x164c94(0xb6a)](_0x3ff91e=>({'id':_0x3ff91e['id'],..._0x3ff91e['data']()}));_0x4ab63c[_0x164c94(0xa7e)]((_0x11cbbe,_0x42f99d)=>_0x11cbbe[_0x164c94(0x68c)][_0x164c94(0x3c5)](_0x42f99d[_0x164c94(0x68c)],'th')),_0x369f21[_0x164c94(0x61b)]=_0x4ab63c[_0x164c94(0xb6a)](_0x205ea1=>_0x164c94(0x3fb)+_0x205ea1[_0x164c94(0x68c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x205ea1[_0x164c94(0x63a)]+_0x164c94(0x9f8)+Object[_0x164c94(0x84e)](_0x205ea1[_0x164c94(0x6fe)])[_0x164c94(0x9fa)]+_0x164c94(0x7cf)+_0x205ea1['id']+_0x164c94(0x478)+_0x205ea1['id']+_0x164c94(0x589))[_0x164c94(0x254)]('');}catch(_0x4d1959){console[_0x164c94(0xb95)](_0x164c94(0x430),_0x4d1959),_0x369f21[_0x164c94(0x61b)]=_0x164c94(0x8f9);}}async function displayBlueprintProjectManager(_0x294cc8){const _0x5c9106=_0x4414d4;currentBlueprintProjectId=_0x294cc8,document[_0x5c9106(0x651)]('blueprint-projects-modal')[_0x5c9106(0xbeb)][_0x5c9106(0x7bd)](_0x5c9106(0x6ca)),showView(_0x5c9106(0x2fe)),projectDashboardView[_0x5c9106(0xbeb)]['add']('hidden');const _0x3a3608=document[_0x5c9106(0x651)](_0x5c9106(0x2d3));_0x3a3608[_0x5c9106(0xbeb)]['remove'](_0x5c9106(0x6ca)),document[_0x5c9106(0x651)](_0x5c9106(0x75c))[_0x5c9106(0x61b)]=_0x5c9106(0x77a);try{const _0x196fdf=doc(db,_0x5c9106(0x763)+appId+_0x5c9106(0x78d),_0x294cc8),_0x561d1e=await getDoc(_0x196fdf);if(!_0x561d1e[_0x5c9106(0x523)]())throw new Error(_0x5c9106(0x2a1));const _0x3382f0={'id':_0x561d1e['id'],..._0x561d1e[_0x5c9106(0x213)]()};document[_0x5c9106(0x651)](_0x5c9106(0x595))[_0x5c9106(0xc23)]=_0x3382f0[_0x5c9106(0x68c)],renderBlueprintTopicManager(_0x3382f0);}catch(_0x1856ae){console['error'](_0x5c9106(0x726),_0x1856ae),showMessage(_0x1856ae[_0x5c9106(0xaea)]),showView(_0x5c9106(0x2fe));}}function renderBlueprintTopicManager(_0x2bb029){const _0x40bf8b=_0x4414d4,_0x56297e=document[_0x40bf8b(0x651)](_0x40bf8b(0x75c)),_0x50a252=_0x2bb029[_0x40bf8b(0x6fe)]||{};if(Object[_0x40bf8b(0x84e)](_0x50a252)[_0x40bf8b(0x9fa)]===0x0){_0x56297e['innerHTML']=_0x40bf8b(0x665);return;}const _0x1d5a43={};for(const _0x13e81e in _0x50a252){const _0x23c373={'id':_0x13e81e,..._0x50a252[_0x13e81e]};_0x1d5a43[_0x23c373[_0x40bf8b(0x839)]]=_0x1d5a43[_0x23c373[_0x40bf8b(0x839)]]||{},_0x1d5a43[_0x23c373[_0x40bf8b(0x839)]][_0x23c373[_0x40bf8b(0x387)]]=_0x1d5a43[_0x23c373['sara']][_0x23c373[_0x40bf8b(0x387)]]||[],_0x1d5a43[_0x23c373[_0x40bf8b(0x839)]][_0x23c373['mainTopic']][_0x40bf8b(0x464)](_0x23c373);}let _0x344405='';const _0x18f3d0=Object[_0x40bf8b(0x84e)](_0x1d5a43)[_0x40bf8b(0xa7e)]((_0x3eef76,_0x535c8e)=>_0x3eef76[_0x40bf8b(0x3c5)](_0x535c8e,'th'));for(const _0x58414c of _0x18f3d0){_0x344405+=_0x40bf8b(0xb67)+_0x58414c+_0x40bf8b(0x64d);const _0x41ae6d=Object[_0x40bf8b(0x84e)](_0x1d5a43[_0x58414c])[_0x40bf8b(0xa7e)]((_0x2e9c40,_0x13d4b4)=>_0x2e9c40[_0x40bf8b(0x3c5)](_0x13d4b4,'th'));for(const _0x1c42cd of _0x41ae6d){_0x344405+=_0x40bf8b(0x6ec)+_0x1c42cd+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x1d5a43[_0x58414c][_0x1c42cd]['sort']((_0x2936a4,_0x30ebe1)=>_0x2936a4[_0x40bf8b(0x1fa)][_0x40bf8b(0x3c5)](_0x30ebe1[_0x40bf8b(0x1fa)],'th')),_0x1d5a43[_0x58414c][_0x1c42cd][_0x40bf8b(0x15f)](_0x8de5b=>{const _0x344735=_0x40bf8b,_0x5ccd80=_0x8de5b['id'],_0x227dee=_0x8de5b[_0x344735(0xa78)]||[],_0x3aaf05=_0x227dee[_0x344735(0x9fa)]>0x0,_0x15c0ef=_0x8de5b[_0x344735(0x7f9)]===_0x344735(0x733);let _0x5c65e5='';_0x3aaf05?_0x5c65e5=_0x344735(0x52a)+_0x227dee['length']+_0x344735(0x7ee):_0x5c65e5='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0x15c0ef?_0x344735(0x6a1):_0x344735(0xa70))+'\x22>'+(_0x15c0ef?_0x344735(0x17e):_0x344735(0x924))+_0x344735(0x4bf);const _0x22e827=!_0x15c0ef?_0x344735(0xad7):'',_0x172901=!_0x15c0ef?_0x344735(0xc3a):'';let _0x112370=_0x15c0ef?_0x344735(0x737):_0x344735(0x3a2);_0x344405+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x5ccd80+_0x344735(0x728)+_0x8de5b['subTopic']+_0x344735(0x4b8)+_0x5c65e5+_0x344735(0x636)+_0x22e827+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x172901+_0x344735(0x48d)+_0x112370+_0x344735(0x37b);}),_0x344405+=_0x40bf8b(0x816);}_0x344405+=_0x40bf8b(0x8ff);}_0x56297e[_0x40bf8b(0x61b)]=_0x344405;}async function openTopicQuizBank(_0x14650e){const _0xe5ac35=_0x4414d4,_0x38c849=document[_0xe5ac35(0x651)]('topic-quiz-bank-modal'),_0x18732d=document[_0xe5ac35(0x651)](_0xe5ac35(0x680)),_0x4f5f98=document[_0xe5ac35(0x651)](_0xe5ac35(0x2eb));try{await ensureGlobalQuizzesLoaded();const _0x404fb3=doc(db,_0xe5ac35(0x763)+appId+_0xe5ac35(0x78d),currentBlueprintProjectId),_0x52fa60=await getDoc(_0x404fb3);if(!_0x52fa60[_0xe5ac35(0x523)]())return;const _0x832b05=_0x52fa60[_0xe5ac35(0x213)](),_0x40f1d1=_0x832b05[_0xe5ac35(0x6fe)][_0x14650e];document[_0xe5ac35(0x651)](_0xe5ac35(0xbe0))[_0xe5ac35(0xc23)]=_0x40f1d1['subTopic'];const _0x13a682=_0x40f1d1['linkedQuizIds']||[];_0x4f5f98[_0xe5ac35(0xbeb)][_0xe5ac35(0xb9b)](_0xe5ac35(0x6ca),_0x13a682['length']===0x0),_0x4f5f98[_0xe5ac35(0x901)]=()=>handleClearAllLinksForTopic(_0x14650e);if(_0x13a682[_0xe5ac35(0x9fa)]===0x0)_0x18732d[_0xe5ac35(0x61b)]=_0xe5ac35(0x35e);else{const _0x2076e9=allQuizzesGlobal['filter'](_0x1608b3=>_0x13a682[_0xe5ac35(0x6ed)](_0x1608b3['id']));_0x18732d[_0xe5ac35(0x61b)]=_0x2076e9[_0xe5ac35(0xb6a)](_0x6140ef=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0x6140ef['id']+'\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>'+_0x6140ef[_0xe5ac35(0x78b)]+_0xe5ac35(0x57d)+_0x6140ef['id']+'\x20|\x20'+_0x6140ef[_0xe5ac35(0x132)][_0xe5ac35(0x9fa)]+_0xe5ac35(0x8ed)+_0x6140ef['id']+_0xe5ac35(0x800)+_0x6140ef['id']+'\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x6140ef['id']+_0xe5ac35(0xbbe)+_0x6140ef['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x6140ef['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x6140ef['id']+_0xe5ac35(0x359)+_0x14650e+_0xe5ac35(0xb4d)+_0x6140ef['id']+_0xe5ac35(0x493))[_0xe5ac35(0x254)]('');}document['getElementById']('add-from-global-bank-btn')[_0xe5ac35(0x901)]=()=>{openQuizSelectorForBlueprint(_0x14650e);},document['getElementById'](_0xe5ac35(0x92e))[_0xe5ac35(0x901)]=()=>_0x38c849[_0xe5ac35(0xbeb)][_0xe5ac35(0x7bd)](_0xe5ac35(0x6ca)),_0x38c849[_0xe5ac35(0xbeb)]['remove'](_0xe5ac35(0x6ca));}catch(_0x53502f){showMessage(_0x53502f[_0xe5ac35(0xaea)]);}}async function openQuizSelectorForBlueprint(_0x55a83a){const _0x5a6646=_0x4414d4,_0x46a1b8=document[_0x5a6646(0x651)](_0x5a6646(0x1f9)),_0x2c6db1=document[_0x5a6646(0x651)]('topic-quiz-bank-modal');_0x2c6db1[_0x5a6646(0xbeb)][_0x5a6646(0x7bd)](_0x5a6646(0x6ca)),document[_0x5a6646(0x651)](_0x5a6646(0x7db))?.[_0x5a6646(0x303)]();const _0x36248b=document[_0x5a6646(0x50d)]('button');_0x36248b['id']=_0x5a6646(0x7db),_0x36248b[_0x5a6646(0x388)]=_0x5a6646(0x5b1),_0x36248b[_0x5a6646(0xc23)]=_0x5a6646(0x32e),_0x36248b[_0x5a6646(0x993)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x46a1b8[_0x5a6646(0xbeb)][_0x5a6646(0x303)]('hidden'),renderQuizBankListForMultiSelect(''),document[_0x5a6646(0x651)]('bulk-quiz-settings-btn')[_0x5a6646(0x5ce)][_0x5a6646(0x4ba)]=_0x5a6646(0xb35),_0x46a1b8[_0x5a6646(0x2d5)](_0x5a6646(0x752))['appendChild'](_0x36248b);const _0x1bb41d=(_0x44f273=![])=>{const _0x381cc4=_0x5a6646;_0x46a1b8[_0x381cc4(0xbeb)][_0x381cc4(0x7bd)](_0x381cc4(0x6ca)),document[_0x381cc4(0x651)](_0x381cc4(0x4a7))[_0x381cc4(0x5ce)][_0x381cc4(0x4ba)]=_0x381cc4(0x7be),_0x36248b[_0x381cc4(0x303)](),_0x44f273&&openTopicQuizBank(_0x55a83a);};_0x36248b[_0x5a6646(0x901)]=async()=>{const _0x58b2b6=_0x5a6646,_0x41b17e=Array[_0x58b2b6(0x65a)](document[_0x58b2b6(0x514)](_0x58b2b6(0x926)))['map'](_0x9f3026=>_0x9f3026[_0x58b2b6(0x3b7)]);if(_0x41b17e[_0x58b2b6(0x9fa)]===0x0)return;try{const _0x237713=doc(db,_0x58b2b6(0x763)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x378c31=(await getDoc(_0x237713))[_0x58b2b6(0x213)](),_0x3d7905=_0x378c31[_0x58b2b6(0x6fe)][_0x55a83a][_0x58b2b6(0xa78)]||[],_0x4ab3a8=[...new Set([..._0x3d7905,..._0x41b17e])];await updateDoc(_0x237713,{[_0x58b2b6(0x8df)+_0x55a83a+_0x58b2b6(0x87e)]:_0x4ab3a8}),showMessage(_0x58b2b6(0xa11)+_0x41b17e[_0x58b2b6(0x9fa)]+_0x58b2b6(0xa81)),_0x1bb41d(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x414f6d){console[_0x58b2b6(0xb95)](_0x58b2b6(0x966),_0x414f6d);}},document[_0x5a6646(0x651)](_0x5a6646(0x7c1))[_0x5a6646(0x901)]=()=>_0x1bb41d(!![]);}catch(_0x2523dd){showMessage(_0x2523dd[_0x5a6646(0xaea)]),_0x2c6db1[_0x5a6646(0xbeb)][_0x5a6646(0x303)](_0x5a6646(0x6ca));}}function handleClearLinkedQuiz(_0x36cf29){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x34112a=_0xbc6d;try{const _0x51e5e1=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x51e5e1,{[_0x34112a(0x8df)+_0x36cf29+_0x34112a(0xb23)]:deleteField()}),showMessage(_0x34112a(0x855)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5a9b7a){console['error'](_0x34112a(0x2ed),_0x5a9b7a),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x4495a8=_0x4414d4,_0x16534b=prompt(_0x4495a8(0x68e));if(!_0x16534b||_0x16534b[_0x4495a8(0x4fe)]()==='')return;const _0x44ff79=prompt(_0x4495a8(0xbd0),_0x4495a8(0x872)),_0x40bc1c=prompt('อยู่ในหัวข้อหลักใด:',_0x4495a8(0x3bf)),_0x368397='topic_'+Date['now']()+Math['random']()['toString'](0x24)[_0x4495a8(0x2e8)](0x2,0x9),_0x58fd62={'sara':_0x44ff79,'mainTopic':_0x40bc1c,'subTopic':_0x16534b[_0x4495a8(0x4fe)](),'status':'not_generated','lessonContent':null};try{const _0x188df7=doc(db,_0x4495a8(0x763)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x188df7,{[_0x4495a8(0x8df)+_0x368397]:_0x58fd62}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x281262){console[_0x4495a8(0xb95)](_0x4495a8(0x247),_0x281262),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x23eb08){const _0x8aceb9=_0x4414d4,_0x3364b3=document[_0x8aceb9(0x2d5)](_0x8aceb9(0x41a)+_0x23eb08+'\x22]'),_0x176bf0=_0x3364b3['querySelector'](_0x8aceb9(0xbd1)),_0x27b261=_0x176bf0['textContent'],_0x3aed3a=prompt(_0x8aceb9(0xb64),_0x27b261);if(!_0x3aed3a||_0x3aed3a['trim']()===''||_0x3aed3a['trim']()===_0x27b261)return;try{const _0x1f7d8f=doc(db,_0x8aceb9(0x763)+appId+_0x8aceb9(0x78d),currentBlueprintProjectId);await updateDoc(_0x1f7d8f,{[_0x8aceb9(0x8df)+_0x23eb08+'.subTopic']:_0x3aed3a[_0x8aceb9(0x4fe)]()}),_0x176bf0['textContent']=_0x3aed3a[_0x8aceb9(0x4fe)](),showMessage(_0x8aceb9(0x6c4));}catch(_0x522cb3){console['error'](_0x8aceb9(0xbce),_0x522cb3),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x5790dc){const _0x213a98=_0x4414d4;if(!confirm(_0x213a98(0xac2)))return;try{const _0x2cea00=doc(db,_0x213a98(0x763)+appId+_0x213a98(0x78d),currentBlueprintProjectId);await updateDoc(_0x2cea00,{['topics.'+_0x5790dc]:deleteField()}),document[_0x213a98(0x2d5)]('[data-topic-id=\x22'+_0x5790dc+'\x22]')[_0x213a98(0x303)](),showMessage(_0x213a98(0x995));}catch(_0x2d2270){console['error'](_0x213a98(0x89b),_0x2d2270),showMessage(_0x213a98(0x80b));}}async function generateAndSaveLessonForBlueprint(_0x261e0d,_0x1efef8,_0x227852){handleGenerateAndShowLesson(_0x1efef8,_0x227852);const _0x26799e=setInterval(async()=>{const _0x5d17fb=_0xbc6d,_0x9ac380=document[_0x5d17fb(0x651)](_0x5d17fb(0x9ac)),_0x372c79=_0x9ac380[_0x5d17fb(0xbeb)]['contains'](_0x5d17fb(0x6ca));if(_0x372c79){clearInterval(_0x26799e);if(currentApplicationData&&currentApplicationData[_0x5d17fb(0x9fa)]>0x0){const _0x4eeb06={'point':document['getElementById']('pointContent')[_0x5d17fb(0x61b)],'memory':document[_0x5d17fb(0x651)](_0x5d17fb(0xac9))[_0x5d17fb(0x61b)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById'](_0x5d17fb(0x89d))['innerHTML']};try{const _0x49a132=doc(db,_0x5d17fb(0x763)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x49a132,{[_0x5d17fb(0x8df)+_0x261e0d+_0x5d17fb(0xbe7)]:_0x4eeb06,['topics.'+_0x261e0d+_0x5d17fb(0x94d)]:_0x5d17fb(0x733)}),console['log']('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x261e0d+_0x5d17fb(0x83a)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x370f29){console[_0x5d17fb(0xb95)](_0x5d17fb(0x64c),_0x370f29);}}}},0x3e8);}function displayHalfMarkResult(_0xe88fb2,_0x10f9a4){const _0x47820f=_0x4414d4,_0x3df511=_0xe88fb2>=_0x10f9a4/0x2,_0x4c0b77=_0x3df511?_0x47820f(0x731):_0x47820f(0xa5f),_0x5cb4b9=_0x3df511?_0x47820f(0x56d):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x2af619=_0x3df511?_0x47820f(0x4e2):_0x47820f(0x840),_0x32a76b=_0x3df511?_0x47820f(0xb3d):_0x47820f(0xb97),_0x4a4a3d=_0x3df511?_0x47820f(0xae3):_0x47820f(0x318);let _0x201b91=_0x47820f(0x4f7)+_0x4c0b77+_0x47820f(0x269)+_0x5cb4b9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x2af619+'\x20mb-2\x22>'+_0x32a76b+_0x47820f(0x76c)+_0x4a4a3d+_0x47820f(0x469);studentResultArea['innerHTML']=_0x201b91,studentResultArea[_0x47820f(0xbeb)]['remove'](_0x47820f(0x6ca)),studentQuizArea['classList'][_0x47820f(0x7bd)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3df511});}function displayPerfectScoreResult(_0x47d124,_0x4a407b){const _0x390df4=_0x4414d4,_0x50c811=_0x47d124===_0x4a407b,_0x3da6f2=_0x50c811?'bg-yellow-100':_0x390df4(0xaba),_0x5eda6e=_0x50c811?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x390df4(0x781),_0x4e3920=_0x50c811?'text-yellow-800':_0x390df4(0xb75),_0x38641c=_0x50c811?_0x390df4(0xc1f):'ยังไม่เต็มนะ',_0x393aae=_0x50c811?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x390df4(0x400);let _0x387960=_0x390df4(0x4f7)+_0x3da6f2+_0x390df4(0x269)+_0x5eda6e+_0x390df4(0x9cc)+_0x4e3920+'\x20mb-2\x22>'+_0x38641c+_0x390df4(0x76c)+_0x393aae+_0x390df4(0x469);studentResultArea[_0x390df4(0x61b)]=_0x387960,studentResultArea[_0x390df4(0xbeb)][_0x390df4(0x303)]('hidden'),studentQuizArea['classList'][_0x390df4(0x7bd)](_0x390df4(0x6ca)),setupResultScreenBackButton({'showRankings':![],'score':_0x47d124,'totalQuestions':_0x4a407b});}function renderIndividualComparisonTable(_0x38f3c8,_0x46d0a8){const _0x4a9c3=_0x4414d4;_0x38f3c8[_0x4a9c3(0xa7e)]((_0xcec26,_0x156775)=>(_0x156775['tGain']??-Infinity)-(_0xcec26['tGain']??-Infinity));let _0x3af22a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x38f3c8[_0x4a9c3(0x9fa)]===0x0?_0x3af22a+=_0x4a9c3(0x26a):_0x38f3c8[_0x4a9c3(0x15f)]((_0x1fcc67,_0x15ea7a)=>{const _0x14d5a1=_0x4a9c3;let _0x13acec='-',_0x344023='';if(_0x1fcc67[_0x14d5a1(0xbd8)]!==null){const _0x3566aa=_0x1fcc67[_0x14d5a1(0xbd8)]>0x0?_0x14d5a1(0x1ae):_0x1fcc67[_0x14d5a1(0xbd8)]<0x0?'text-red-600':_0x14d5a1(0x553),_0x3460cb=_0x1fcc67[_0x14d5a1(0xbd8)]>0x0?'+':'';_0x13acec=_0x14d5a1(0x9d1)+_0x3566aa+'\x22>'+_0x3460cb+_0x1fcc67[_0x14d5a1(0xbd8)]+_0x14d5a1(0x4bf);if(_0x1fcc67[_0x14d5a1(0xbd8)]>0x0)_0x344023=_0x14d5a1(0x949);else _0x1fcc67[_0x14d5a1(0xbd8)]<0x0?_0x344023='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x344023=_0x14d5a1(0x7b8);}let _0x5e0f33='-';if(_0x1fcc67[_0x14d5a1(0xa67)]!==null){const _0x495ca4=_0x1fcc67[_0x14d5a1(0xa67)]>0x0?_0x14d5a1(0x1ae):_0x1fcc67['tGain']<0x0?_0x14d5a1(0x2c5):_0x14d5a1(0x553),_0x2db96c=_0x1fcc67[_0x14d5a1(0xa67)]>0x0?'+':'';_0x5e0f33=_0x14d5a1(0x9d1)+_0x495ca4+'\x22>'+_0x2db96c+_0x1fcc67[_0x14d5a1(0xa67)]['toFixed'](0x2)+'</span>';}_0x3af22a+=_0x14d5a1(0x2f9)+(_0x15ea7a+0x1)+_0x14d5a1(0x885)+_0x1fcc67[_0x14d5a1(0x815)]+_0x14d5a1(0xbc8)+(_0x1fcc67[_0x14d5a1(0x541)]??'-')+_0x14d5a1(0x9d7)+(_0x1fcc67[_0x14d5a1(0x93f)]??'-')+_0x14d5a1(0xbc8)+_0x13acec+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x344023+_0x14d5a1(0x66d)+(_0x1fcc67['preTScore']?.[_0x14d5a1(0x785)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x1fcc67[_0x14d5a1(0x676)]?.[_0x14d5a1(0x785)](0x2)??'-')+_0x14d5a1(0xbc8)+_0x5e0f33+_0x14d5a1(0x147);}),_0x3af22a+=_0x4a9c3(0x357),_0x46d0a8['innerHTML']=_0x3af22a;}function handleRenameQuiz(_0x16b061,_0x4f7aaa){const _0x2a1449=_0x4414d4;actionTargetId=_0x16b061,document['getElementById'](_0x2a1449(0x8bf))[_0x2a1449(0x3b7)]=_0x4f7aaa,renameQuizModal[_0x2a1449(0xbeb)][_0x2a1449(0x303)]('hidden');}function setupComparisonModalTabs(){const _0x5a70dc=_0x4414d4,_0x2a37c9=document[_0x5a70dc(0x651)](_0x5a70dc(0x5c8)),_0x45ef7c=document[_0x5a70dc(0x651)]('comparison-individual-tab'),_0x299e2b=document[_0x5a70dc(0x651)](_0x5a70dc(0x3e1)),_0x5df1e3=document[_0x5a70dc(0x651)]('comparison-individual-content');_0x2a37c9[_0x5a70dc(0x7bb)](_0x5a70dc(0x530),()=>{const _0xe29714=_0x5a70dc;_0x2a37c9[_0xe29714(0xbeb)][_0xe29714(0x7bd)]('active'),_0x45ef7c[_0xe29714(0xbeb)]['remove'](_0xe29714(0x712)),_0x299e2b[_0xe29714(0xbeb)][_0xe29714(0x303)]('hidden'),_0x5df1e3[_0xe29714(0xbeb)][_0xe29714(0x7bd)](_0xe29714(0x6ca));}),_0x45ef7c['addEventListener'](_0x5a70dc(0x530),()=>{const _0x38da0f=_0x5a70dc;_0x45ef7c[_0x38da0f(0xbeb)][_0x38da0f(0x7bd)]('active'),_0x2a37c9['classList']['remove'](_0x38da0f(0x712)),_0x5df1e3[_0x38da0f(0xbeb)][_0x38da0f(0x303)](_0x38da0f(0x6ca)),_0x299e2b[_0x38da0f(0xbeb)][_0x38da0f(0x7bd)](_0x38da0f(0x6ca));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x29d97a=''){const _0x4e7197=_0x4414d4,_0x3fed67=document[_0x4e7197(0x651)]('global-quiz-list'),_0x4f0c1d=_0x29d97a[_0x4e7197(0x939)]()[_0x4e7197(0x4fe)](),_0x4d670f=allQuizzesGlobal[_0x4e7197(0xb6a)](_0x43f2bf=>({..._0x43f2bf,'projectName':allProjects[_0x4e7197(0xbc5)](_0x57d5c7=>_0x57d5c7['id']===_0x43f2bf['projectId'])?.[_0x4e7197(0x68c)]||_0x43f2bf[_0x4e7197(0x661)]}))[_0x4e7197(0x7c4)](_0x2dc9ef=>(_0x2dc9ef['topic']||'')[_0x4e7197(0x939)]()[_0x4e7197(0x6ed)](_0x4f0c1d)||(_0x2dc9ef[_0x4e7197(0x68c)]||'')['toLowerCase']()['includes'](_0x4f0c1d));document[_0x4e7197(0x651)](_0x4e7197(0x1a5))[_0x4e7197(0xc23)]='('+_0x4d670f[_0x4e7197(0x9fa)]+_0x4e7197(0x1f4),_0x3fed67[_0x4e7197(0x61b)]=_0x4d670f[_0x4e7197(0x9fa)]?_0x4d670f[_0x4e7197(0xb6a)](_0x152bd0=>_0x4e7197(0xa55)+_0x152bd0['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x152bd0[_0x4e7197(0x78b)]||_0x4e7197(0x5bc))+_0x4e7197(0x9e2)+(_0x152bd0['questions']?.[_0x4e7197(0x9fa)]||0x0)+_0x4e7197(0xae0)+_0x152bd0[_0x4e7197(0x68c)]+_0x4e7197(0x42e))[_0x4e7197(0x254)](''):_0x4e7197(0x9c9),selectedGlobalQuizId=null,document['getElementById'](_0x4e7197(0x427))[_0x4e7197(0x993)]=!![],_0x3fed67['querySelectorAll'](_0x4e7197(0x90e))['forEach'](_0x2a9131=>{const _0x2b9ef9=_0x4e7197;_0x2a9131[_0x2b9ef9(0x7bb)](_0x2b9ef9(0x530),()=>{const _0x59da2b=_0x2b9ef9;selectedGlobalQuizId=_0x2a9131[_0x59da2b(0x3b5)]['id'],_0x3fed67['querySelectorAll'](_0x59da2b(0x5da))[_0x59da2b(0x15f)](_0x232faf=>_0x232faf['classList'][_0x59da2b(0x303)]('bg-purple-50','ring-2',_0x59da2b(0x2e3))),_0x2a9131['classList'][_0x59da2b(0x7bd)](_0x59da2b(0x8b4),_0x59da2b(0x338),_0x59da2b(0x2e3)),document['getElementById']('confirm-global-live-btn')['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x5c7621=_0x4414d4;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x45f57d=doc(db,_0x5c7621(0x763)+appId+_0x5c7621(0x994),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x45f57d,_0x4fc15f=>{const _0x1e1e83=_0x5c7621;if(!_0x4fc15f[_0x1e1e83(0x523)]()){showMessage(_0x1e1e83(0xb08));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x1e1e83(0x512)?showView(_0x1e1e83(0x2bf)):showView(_0x1e1e83(0x1e0));return;}const _0x43c4de=_0x4fc15f['data']();_0x43c4de[_0x1e1e83(0x415)]&&(currentQuizData=_0x43c4de['shuffledQuiz']);!currentQuizData&&_0x43c4de['quizId']&&((async()=>{const _0x5766ff=_0x1e1e83;try{const _0x30e56b=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x43c4de[_0x5766ff(0x8c6)]),_0x368677=await getDoc(_0x30e56b);_0x368677['exists']()&&(currentQuizData={'id':_0x368677['id'],..._0x368677['data']()});}catch(_0x2a6ab9){console[_0x5766ff(0xb95)](_0x5766ff(0xb6e),_0x2a6ab9);}})());switch(_0x43c4de[_0x1e1e83(0x7f9)]){case _0x1e1e83(0xb4f):if(currentMode===_0x1e1e83(0x512)){const _0x58ea9f=_0x43c4de['players']?Object[_0x1e1e83(0x27a)](_0x43c4de['players']):[],_0x470b5a=_0x58ea9f[_0x1e1e83(0x7c4)](([_0x51ea17,_0x1f577a])=>_0x1f577a[_0x1e1e83(0x7f9)]===_0x1e1e83(0x712)),_0x194286=document['getElementById'](_0x1e1e83(0x79d));if(_0x194286)_0x194286[_0x1e1e83(0xc23)]=_0x470b5a[_0x1e1e83(0x9fa)];const _0x341297=document['getElementById'](_0x1e1e83(0xa90));_0x341297&&(_0x341297['innerHTML']=_0x470b5a[_0x1e1e83(0xb6a)](([_0x5c1b9d,_0x3c9dc4])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5c1b9d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x5c1b9d+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1e1e83(0x254)](''));const _0xcb3a6b=document[_0x1e1e83(0x651)](_0x1e1e83(0xb49));_0xcb3a6b&&(_0xcb3a6b['disabled']=_0x470b5a[_0x1e1e83(0x9fa)]===0x0);}else showView(_0x1e1e83(0x70c)),liveGameView['innerHTML']=_0x1e1e83(0x555)+currentStudentName+_0x1e1e83(0x2ad);break;case _0x1e1e83(0x96c):const _0x18335c=_0x43c4de[_0x1e1e83(0x5db)];if(currentQuizData&&currentQuizData['questions'][_0x18335c]){const _0x163c7c=currentQuizData[_0x1e1e83(0x132)][_0x18335c],_0x408eb7=_0x43c4de[_0x1e1e83(0x73e)]||_0x1e1e83(0x7f0);switch(_0x408eb7){case _0x1e1e83(0x58d):currentMode==='admin'?showAdminSummaryView(_0x43c4de,_0x163c7c):showPlayerSummaryView(_0x43c4de,currentStudentName);break;case _0x1e1e83(0x4fd):currentMode===_0x1e1e83(0x512)&&showTop5LeaderboardView(_0x43c4de);break;case _0x1e1e83(0x7f0):default:if(currentMode==='admin'){const _0x5f932=writeBatch(db);let _0x2617d6=![];Object['entries'](_0x43c4de[_0x1e1e83(0xb76)])[_0x1e1e83(0x15f)](([_0x293869,_0x2c6cac])=>{const _0x55e705=_0x1e1e83;if(_0x2c6cac[_0x55e705(0x7f9)]===_0x55e705(0x712)&&_0x2c6cac[_0x55e705(0x2a4)]&&!_0x2c6cac[_0x55e705(0xb19)]){_0x2617d6=!![];const _0x121bd3=_0x2c6cac[_0x55e705(0x2a4)]['toDate']()-_0x43c4de[_0x55e705(0x214)]['toDate']();let _0x42d397=0x0;if(_0x2c6cac[_0x55e705(0x3f4)]){const _0x561d8e=0x3e8,_0x3410ee=0x1f4,_0x125a7e=0x4e20;let _0x18077e=_0x121bd3/_0x125a7e;if(_0x18077e>0x1)_0x18077e=0x1;const _0x234126=Math['round'](_0x18077e*_0x3410ee);_0x42d397=_0x561d8e-_0x234126;}const _0xe43f7b=doc(db,_0x55e705(0x763)+appId+_0x55e705(0x994),currentLiveGameId);_0x5f932['update'](_0xe43f7b,{['players.'+_0x293869+_0x55e705(0x586)]:increment(_0x42d397),[_0x55e705(0x25a)+_0x293869+_0x55e705(0x9bb)]:_0x42d397,['players.'+_0x293869+'.isScored']:!![]});}});_0x2617d6&&_0x5f932['commit']()[_0x1e1e83(0xabb)](_0x753eab=>console[_0x1e1e83(0xb95)](_0x1e1e83(0x377),_0x753eab));lastRenderedAdminQuestionIndex!==_0x18335c&&(showAdminLiveQuestionView(_0x163c7c,_0x18335c,currentQuizData[_0x1e1e83(0x132)]['length']),lastRenderedAdminQuestionIndex=_0x18335c);const _0x423766=_0x43c4de[_0x1e1e83(0xb76)]||{},_0x1c0ff0=Object[_0x1e1e83(0x329)](_0x423766)[_0x1e1e83(0x7c4)](_0x5b7ede=>_0x5b7ede[_0x1e1e83(0x7f9)]===_0x1e1e83(0x712)),_0x23d177=_0x1c0ff0['length'],_0x50bdeb=_0x1c0ff0[_0x1e1e83(0x7c4)](_0x2bcb2d=>_0x2bcb2d[_0x1e1e83(0x4ab)]===!![])['length'],_0x2a31ea=document[_0x1e1e83(0x651)](_0x1e1e83(0x989));if(_0x2a31ea)_0x2a31ea[_0x1e1e83(0xc23)]=_0x50bdeb+'/'+_0x23d177;const _0x298405=document['getElementById'](_0x1e1e83(0x9a5));if(_0x298405){let _0x19c32a=Object[_0x1e1e83(0x27a)](_0x423766)[_0x1e1e83(0x7c4)](([_0x38571d,_0x150856])=>_0x150856['status']===_0x1e1e83(0x712))[_0x1e1e83(0xb6a)](([_0x3e165d,_0x4c0e09])=>{const _0x1e83c5=_0x1e1e83,_0x199347=_0x4c0e09[_0x1e83c5(0x4ab)]===!![],_0x12e783=_0x199347?_0x1e83c5(0x229):_0x1e83c5(0xa24),_0x128df0=_0x199347?_0x1e83c5(0x259):_0x1e83c5(0x454);return _0x1e83c5(0xac8)+_0x12e783+_0x1e83c5(0x648)+_0x128df0+_0x1e83c5(0x877)+_0x3e165d+_0x1e83c5(0x78f)+_0x3e165d+_0x1e83c5(0xa51);})[_0x1e1e83(0x254)]('');_0x298405[_0x1e1e83(0x61b)]=_0x19c32a||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x23d177>0x0&&_0x50bdeb===_0x23d177&&revealAnswerForAdmin(_0x18335c,currentQuizData['questions'][_0x1e1e83(0x9fa)]);}else{const _0x2ac40e=_0x43c4de[_0x1e1e83(0xb76)][currentStudentName];_0x2ac40e&&!_0x2ac40e[_0x1e1e83(0x4ab)]&&showStudentLiveQuestionView(_0x163c7c,_0x18335c,currentQuizData[_0x1e1e83(0x132)][_0x1e1e83(0x9fa)]);}break;}}break;case _0x1e1e83(0xa20):showPodiumView(_0x43c4de['players'],_0x1e1e83(0x5d8));break;}});}async function handleKickPlayer(_0x10b149){const _0x4e82e9=_0x4414d4;if(!currentLiveGameId||!_0x10b149)return;const _0x5ce0ce=doc(db,_0x4e82e9(0x763)+appId+_0x4e82e9(0x994),currentLiveGameId),_0x245282={};_0x245282[_0x4e82e9(0x25a)+_0x10b149+_0x4e82e9(0x94d)]=_0x4e82e9(0x917);try{await updateDoc(_0x5ce0ce,_0x245282);}catch(_0xaa706c){console['error'](_0x4e82e9(0x1b0)+_0x10b149+':',_0xaa706c),showMessage(_0x4e82e9(0x7d3));}}async function authenticateUser(){const _0xae5ae9=_0x4414d4;try{typeof __initial_auth_token!==_0xae5ae9(0x730)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x4982ff){console[_0xae5ae9(0xb95)](_0xae5ae9(0xbb2),_0x4982ff),showMessage(_0xae5ae9(0x314));}}function showView(_0x2de759){const _0x5dddbd=_0x4414d4;adminView[_0x5dddbd(0xbeb)]['add'](_0x5dddbd(0x6ca)),studentView['classList']['add']('hidden'),projectDashboardView['classList'][_0x5dddbd(0x7bd)]('hidden'),projectDetailView[_0x5dddbd(0xbeb)]['add'](_0x5dddbd(0x6ca)),quizResultsView[_0x5dddbd(0xbeb)]['add'](_0x5dddbd(0x6ca)),liveGameView[_0x5dddbd(0xbeb)][_0x5dddbd(0x7bd)](_0x5dddbd(0x6ca)),document[_0x5dddbd(0x651)](_0x5dddbd(0x2d3))[_0x5dddbd(0xbeb)][_0x5dddbd(0x7bd)](_0x5dddbd(0x6ca)),studentInitialView[_0x5dddbd(0xbeb)]['add'](_0x5dddbd(0x6ca)),studentJoinGameView[_0x5dddbd(0xbeb)]['add'](_0x5dddbd(0x6ca)),studentNameSelectionView['classList']['add'](_0x5dddbd(0x6ca)),studentQuizArea[_0x5dddbd(0xbeb)][_0x5dddbd(0x7bd)](_0x5dddbd(0x6ca)),studentResultArea['classList'][_0x5dddbd(0x7bd)](_0x5dddbd(0x6ca)),studentReadingArea[_0x5dddbd(0xbeb)][_0x5dddbd(0x7bd)](_0x5dddbd(0x6ca));const _0x38f8ac=document['getElementById'](_0x5dddbd(0x65e)),_0x14ef9b=document['getElementById'](_0x5dddbd(0x7ca));if(_0x38f8ac)_0x38f8ac[_0x5dddbd(0xbeb)][_0x5dddbd(0x7bd)](_0x5dddbd(0x6ca));if(_0x14ef9b)_0x14ef9b[_0x5dddbd(0xbeb)]['add'](_0x5dddbd(0x6ca));switch(_0x2de759){case'admin-dashboard':adminView['classList'][_0x5dddbd(0x303)](_0x5dddbd(0x6ca)),projectDashboardView[_0x5dddbd(0xbeb)][_0x5dddbd(0x303)](_0x5dddbd(0x6ca));break;case _0x5dddbd(0x2bf):adminView['classList'][_0x5dddbd(0x303)](_0x5dddbd(0x6ca)),projectDetailView['classList'][_0x5dddbd(0x303)](_0x5dddbd(0x6ca));break;case _0x5dddbd(0x4a4):adminView['classList'][_0x5dddbd(0x303)]('hidden'),quizResultsView[_0x5dddbd(0xbeb)][_0x5dddbd(0x303)](_0x5dddbd(0x6ca));break;case _0x5dddbd(0x1e0):studentView['classList'][_0x5dddbd(0x303)](_0x5dddbd(0x6ca)),studentInitialView['classList'][_0x5dddbd(0x303)](_0x5dddbd(0x6ca));break;case _0x5dddbd(0x70c):liveGameView[_0x5dddbd(0xbeb)][_0x5dddbd(0x303)](_0x5dddbd(0x6ca));break;case'student-team-join':studentView[_0x5dddbd(0xbeb)][_0x5dddbd(0x303)](_0x5dddbd(0x6ca));if(_0x38f8ac)_0x38f8ac[_0x5dddbd(0xbeb)][_0x5dddbd(0x303)]('hidden');break;case _0x5dddbd(0x7b1):studentView[_0x5dddbd(0xbeb)][_0x5dddbd(0x303)](_0x5dddbd(0x6ca));if(_0x14ef9b)_0x14ef9b['classList'][_0x5dddbd(0x303)](_0x5dddbd(0x6ca));break;default:studentView[_0x5dddbd(0xbeb)]['remove'](_0x5dddbd(0x6ca)),studentInitialView[_0x5dddbd(0xbeb)][_0x5dddbd(0x303)](_0x5dddbd(0x6ca));break;}}function showJoinGameView(){const _0x49e70c=_0x4414d4;studentInitialView[_0x49e70c(0xbeb)]['add'](_0x49e70c(0x6ca)),studentJoinGameView[_0x49e70c(0xbeb)][_0x49e70c(0x303)](_0x49e70c(0x6ca));}async function handleSaveVisibilitySettings(){const _0x48a459=_0x4414d4;if(!currentProjectId)return;const _0x4dbb91=doc(db,_0x48a459(0x763)+appId+_0x48a459(0x714),currentProjectId);try{await updateDoc(_0x4dbb91,{'settings.showInStudentDashboard':document[_0x48a459(0x651)](_0x48a459(0x777))['checked'],'settings.isPasscodeEnabled':document[_0x48a459(0x651)](_0x48a459(0x68b))['checked'],'settings.passcode':document[_0x48a459(0x651)](_0x48a459(0x59f))[_0x48a459(0x3b7)][_0x48a459(0x4fe)]()}),showMessage(_0x48a459(0x509));}catch(_0x444b1f){console[_0x48a459(0xb95)](_0x48a459(0x898),_0x444b1f),showMessage(_0x48a459(0x1c4));}}function setupEventListeners(){const _0x329113=_0x4414d4;document['getElementById']('parallel-shortcut-container')['addEventListener'](_0x329113(0x530),_0x3fe279=>{const _0x563a08=_0x329113,_0x9f32a6=_0x3fe279[_0x563a08(0x8d0)][_0x563a08(0xb9a)](_0x563a08(0xb43)),_0x462aa9=_0x3fe279[_0x563a08(0x8d0)]['closest'](_0x563a08(0x69a)),_0x108a68=_0x3fe279[_0x563a08(0x8d0)]['closest'](_0x563a08(0xbdd));if(_0x462aa9)openParallelTestShortcutEditor(_0x462aa9[_0x563a08(0x3b5)]['id']);else{if(_0x108a68){const _0xf1b6f3=_0x108a68[_0x563a08(0x3b5)]['id'];showConfirmation(_0x563a08(0x99e),async()=>{const _0x2439b8=_0x563a08,_0x17611e=parallelTestShortcuts[_0x2439b8(0x7c4)](_0x224e46=>_0x224e46['id']!==_0xf1b6f3),_0x275e87=doc(db,'globalSettings',_0x2439b8(0x686));await setDoc(_0x275e87,{'shortcuts':_0x17611e},{'merge':!![]});});}else _0x9f32a6&&handleParallelTestShortcutClick(_0x9f32a6[_0x563a08(0x3b5)]['id']);}}),document[_0x329113(0x651)](_0x329113(0x9c8))['addEventListener'](_0x329113(0x530),()=>openParallelTestShortcutEditor(null)),document[_0x329113(0x651)](_0x329113(0x267))[_0x329113(0x7bb)]('click',()=>{const _0x578329=_0x329113;document[_0x578329(0x651)](_0x578329(0xaf4))['classList']['add'](_0x578329(0x6ca));}),document[_0x329113(0x651)](_0x329113(0x8e7))[_0x329113(0x7bb)](_0x329113(0x530),saveParallelTestShortcutChanges),document['getElementById'](_0x329113(0x37e))[_0x329113(0x7bb)](_0x329113(0x530),_0x2bb253=>{const _0x460d02=_0x329113;_0x2bb253[_0x460d02(0x8d0)][_0x460d02(0xb9a)](_0x460d02(0x4da))&&document[_0x460d02(0x651)]('additional-parallel-shortcuts-modal')[_0x460d02(0xbeb)]['remove'](_0x460d02(0x6ca));}),document[_0x329113(0x651)](_0x329113(0x49c))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x376108=_0x329113;document[_0x376108(0x651)](_0x376108(0x2c9))[_0x376108(0xbeb)][_0x376108(0x7bd)]('hidden');}),document[_0x329113(0x651)](_0x329113(0x902))[_0x329113(0x7bb)]('click',_0x18e059=>{const _0x350907=_0x329113,_0x388e13=document[_0x350907(0x651)](_0x350907(0x2c9)),_0x463a5a=_0x18e059[_0x350907(0x8d0)][_0x350907(0xb9a)]('.use-hidden-parallel-shortcut-btn'),_0x5e7ba0=_0x18e059[_0x350907(0x8d0)][_0x350907(0xb9a)](_0x350907(0x601)),_0x8b2457=_0x18e059[_0x350907(0x8d0)][_0x350907(0xb9a)](_0x350907(0xc33));if(_0x463a5a)_0x388e13[_0x350907(0xbeb)][_0x350907(0x7bd)](_0x350907(0x6ca)),handleParallelTestShortcutClick(_0x463a5a['dataset']['id']);else{if(_0x5e7ba0)_0x388e13[_0x350907(0xbeb)][_0x350907(0x7bd)](_0x350907(0x6ca)),openParallelTestShortcutEditor(_0x5e7ba0[_0x350907(0x3b5)]['id']);else{if(_0x8b2457){const _0x28c0bc=_0x8b2457[_0x350907(0x3b5)]['id'];showConfirmation(_0x350907(0x99e),async()=>{const _0x3b05dc=_0x350907,_0x2a2c4e=parallelTestShortcuts[_0x3b05dc(0x7c4)](_0x4f3716=>_0x4f3716['id']!==_0x28c0bc),_0x4cc307=doc(db,'globalSettings','parallelTestShortcutsConfig');await setDoc(_0x4cc307,{'shortcuts':_0x2a2c4e},{'merge':!![]});});}}}}),document[_0x329113(0x651)](_0x329113(0x14c))[_0x329113(0x7bb)](_0x329113(0x530),_0xda55e2=>{const _0x39e999=_0x329113,_0x4e2af2=_0xda55e2['target'][_0x39e999(0xb9a)](_0x39e999(0x1cf)),_0x4855c8=_0xda55e2[_0x39e999(0x8d0)][_0x39e999(0xb9a)](_0x39e999(0x9dc)),_0x4da91a=_0xda55e2[_0x39e999(0x8d0)][_0x39e999(0xb9a)](_0x39e999(0x571));if(_0x4855c8)openFileShortcutEditor(_0x4855c8[_0x39e999(0x3b5)]['id']);else{if(_0x4da91a){const _0x50ba63=_0x4da91a['dataset']['id'];showConfirmation(_0x39e999(0x99e),async()=>{const _0x468202=_0x39e999,_0xb3b675=fileShortcuts[_0x468202(0x7c4)](_0x2f6686=>_0x2f6686['id']!==_0x50ba63),_0x5d9117=doc(db,'globalSettings',_0x468202(0x613));await setDoc(_0x5d9117,{'shortcuts':_0xb3b675},{'merge':!![]});});}else _0x4e2af2&&handleFileShortcutClick(_0x4e2af2[_0x39e999(0x3b5)]['id']);}}),document[_0x329113(0x651)](_0x329113(0x5ba))[_0x329113(0x7bb)](_0x329113(0x530),()=>openFileShortcutEditor(null)),document[_0x329113(0x651)](_0x329113(0x874))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0xebf4a6=_0x329113;document['getElementById'](_0xebf4a6(0x9fd))[_0xebf4a6(0xbeb)][_0xebf4a6(0x7bd)](_0xebf4a6(0x6ca));}),document['getElementById'](_0x329113(0x863))['addEventListener']('click',saveFileShortcutChanges),document[_0x329113(0x651)](_0x329113(0x7c2))[_0x329113(0x7bb)](_0x329113(0x530),_0x1cc4b8=>{const _0x29facd=_0x329113;_0x1cc4b8[_0x29facd(0x8d0)]['closest'](_0x29facd(0x3cd))&&document[_0x29facd(0x651)]('additional-file-shortcuts-modal')['classList'][_0x29facd(0x303)](_0x29facd(0x6ca));}),document[_0x329113(0x651)](_0x329113(0x7d5))[_0x329113(0x7bb)]('click',()=>{const _0x195f17=_0x329113;document['getElementById'](_0x195f17(0x758))[_0x195f17(0xbeb)][_0x195f17(0x7bd)](_0x195f17(0x6ca));}),document[_0x329113(0x651)](_0x329113(0x65b))[_0x329113(0x7bb)](_0x329113(0x530),_0x16cb5b=>{const _0x1ca32c=_0x329113,_0x2bdfe8=document[_0x1ca32c(0x651)](_0x1ca32c(0x758)),_0x26a07b=_0x16cb5b['target'][_0x1ca32c(0xb9a)](_0x1ca32c(0x5ee)),_0xa4d42e=_0x16cb5b[_0x1ca32c(0x8d0)]['closest'](_0x1ca32c(0x3b8)),_0x12d844=_0x16cb5b[_0x1ca32c(0x8d0)][_0x1ca32c(0xb9a)](_0x1ca32c(0x825));if(_0x26a07b)_0x2bdfe8[_0x1ca32c(0xbeb)][_0x1ca32c(0x7bd)](_0x1ca32c(0x6ca)),handleFileShortcutClick(_0x26a07b[_0x1ca32c(0x3b5)]['id']);else{if(_0xa4d42e)_0x2bdfe8['classList'][_0x1ca32c(0x7bd)]('hidden'),openFileShortcutEditor(_0xa4d42e['dataset']['id']);else{if(_0x12d844){const _0x4a822d=_0x12d844[_0x1ca32c(0x3b5)]['id'];showConfirmation(_0x1ca32c(0x99e),async()=>{const _0x456ff6=_0x1ca32c,_0x273cf3=fileShortcuts[_0x456ff6(0x7c4)](_0x7edda2=>_0x7edda2['id']!==_0x4a822d),_0x58946e=doc(db,'globalSettings',_0x456ff6(0x613));await setDoc(_0x58946e,{'shortcuts':_0x273cf3},{'merge':!![]});});}}}}),document[_0x329113(0x651)](_0x329113(0x378))['addEventListener']('click',_0x2a4d1=>{const _0x285062=_0x329113;_0x2a4d1[_0x285062(0x8d0)]['closest'](_0x285062(0x53c))&&document['getElementById'](_0x285062(0x2c7))[_0x285062(0xbeb)][_0x285062(0x303)](_0x285062(0x6ca));}),document[_0x329113(0x651)]('close-additional-shortcuts-btn')[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x2caa75=_0x329113;document[_0x2caa75(0x651)]('additional-shortcuts-modal')[_0x2caa75(0xbeb)][_0x2caa75(0x7bd)](_0x2caa75(0x6ca));}),document['getElementById']('additional-shortcuts-list')[_0x329113(0x7bb)](_0x329113(0x530),_0x4122d7=>{const _0x3ed166=_0x329113,_0x4ad106=_0x4122d7['target'][_0x3ed166(0xb9a)](_0x3ed166(0x74e)),_0x4791e5=_0x4122d7[_0x3ed166(0x8d0)]['closest']('.edit-hidden-shortcut-btn'),_0x1837ea=_0x4122d7[_0x3ed166(0x8d0)][_0x3ed166(0xb9a)]('.delete-hidden-shortcut-btn'),_0x1ac6bf=document[_0x3ed166(0x651)]('additional-shortcuts-modal');if(_0x4ad106)_0x1ac6bf['classList'][_0x3ed166(0x7bd)](_0x3ed166(0x6ca)),handleShortcutClick(_0x4ad106[_0x3ed166(0x3b5)]['id']);else{if(_0x4791e5)_0x1ac6bf[_0x3ed166(0xbeb)]['add'](_0x3ed166(0x6ca)),openShortcutEditor(_0x4791e5[_0x3ed166(0x3b5)]['id']);else{if(_0x1837ea){const _0x858440=_0x1837ea[_0x3ed166(0x3b5)]['id'],_0x3a5092=blueprintShortcuts[_0x3ed166(0xbc5)](_0xa4634a=>_0xa4634a['id']===_0x858440)?.[_0x3ed166(0x815)];showConfirmation(_0x3ed166(0x4b3)+_0x3a5092+'\x22?',async()=>{const _0x40a8d4=_0x3ed166,_0x275529=blueprintShortcuts[_0x40a8d4(0x7c4)](_0x308ff8=>_0x308ff8['id']!==_0x858440);try{const _0x21d18f=doc(db,'globalSettings',_0x40a8d4(0xb3b));await setDoc(_0x21d18f,{'blueprintShortcuts':_0x275529},{'merge':!![]});}catch(_0x1b8d96){console[_0x40a8d4(0xb95)](_0x40a8d4(0x13e),_0x1b8d96);}});}}}}),document[_0x329113(0x651)](_0x329113(0x1da))['addEventListener'](_0x329113(0x530),_0x2f4a0c=>{const _0x4f797c=_0x329113,_0x4c3db0=_0x2f4a0c['target'][_0x4f797c(0xb9a)](_0x4f797c(0x47d)),_0x1fe753=_0x2f4a0c[_0x4f797c(0x8d0)][_0x4f797c(0xb9a)]('.edit-shortcut-btn'),_0x28ae5e=_0x2f4a0c[_0x4f797c(0x8d0)][_0x4f797c(0xb9a)](_0x4f797c(0x9e8));if(_0x1fe753)openShortcutEditor(_0x1fe753[_0x4f797c(0x3b5)]['id']);else{if(_0x28ae5e){const _0xa998c=_0x28ae5e[_0x4f797c(0x3b5)]['id'],_0x411bad=blueprintShortcuts[_0x4f797c(0xbc5)](_0xa18b79=>_0xa18b79['id']===_0xa998c)?.[_0x4f797c(0x815)];showConfirmation(_0x4f797c(0x4b3)+_0x411bad+'\x22?',async()=>{const _0xff5c53=_0x4f797c,_0x3835a7=blueprintShortcuts['filter'](_0x2340a8=>_0x2340a8['id']!==_0xa998c);try{const _0x5d5238=doc(db,_0xff5c53(0x7d1),_0xff5c53(0xb3b));await setDoc(_0x5d5238,{'blueprintShortcuts':_0x3835a7},{'merge':!![]});}catch(_0x5e18a4){console['error']('Error\x20deleting\x20shortcut:',_0x5e18a4);}});}else _0x4c3db0&&handleShortcutClick(_0x4c3db0[_0x4f797c(0x3b5)]['id']);}}),document['getElementById'](_0x329113(0xc1a))[_0x329113(0x7bb)](_0x329113(0x530),()=>openShortcutEditor(null)),document['getElementById'](_0x329113(0x6af))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0xac96d1=_0x329113;document[_0xac96d1(0x651)]('shortcut-editor-modal')[_0xac96d1(0xbeb)][_0xac96d1(0x7bd)](_0xac96d1(0x6ca));}),document[_0x329113(0x651)]('save-shortcut-btn')[_0x329113(0x7bb)](_0x329113(0x530),saveShortcutChanges),document[_0x329113(0x651)](_0x329113(0x8c8))[_0x329113(0x7bb)](_0x329113(0x530),async()=>{const _0x146ee4=_0x329113,_0x5efdca=document['getElementById'](_0x146ee4(0x327)),_0x442a8d=document[_0x146ee4(0x651)](_0x146ee4(0x215));_0x5efdca[_0x146ee4(0x75f)]['length']>0x0?await handleGenerateFromBlueprintWithFiles(_0x5efdca[_0x146ee4(0x75f)][0x0],_0x442a8d[_0x146ee4(0x75f)][0x0]||null):showMessage('กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด');}),document[_0x329113(0x651)](_0x329113(0x591))[_0x329113(0x7bb)](_0x329113(0x530),async _0x4b7294=>{const _0x1570cd=_0x329113,_0x2181db=document['getElementById'](_0x1570cd(0x591)),_0x2a1832=_0x4b7294['target']['closest'](_0x1570cd(0x58f)),_0x36f33a=_0x4b7294[_0x1570cd(0x8d0)][_0x1570cd(0xb9a)]('.bp-unlink-quiz-btn'),_0x491ac7=_0x4b7294[_0x1570cd(0x8d0)][_0x1570cd(0xb9a)]('.bp-present-btn'),_0x11f395=_0x4b7294[_0x1570cd(0x8d0)][_0x1570cd(0xb9a)](_0x1570cd(0x18f)),_0x599b3f=_0x4b7294['target']['closest']('.bp-live-btn'),_0x5c60de=_0x4b7294[_0x1570cd(0x8d0)][_0x1570cd(0xb9a)](_0x1570cd(0x2b0));if(_0x2a1832){cameFromBlueprint=!![];const _0x23c143=_0x2a1832[_0x1570cd(0x3b5)]['quizId'];showQuizDetailView(_0x23c143),_0x2181db[_0x1570cd(0xbeb)][_0x1570cd(0x7bd)](_0x1570cd(0x6ca));}else{if(_0x36f33a){const _0x47a3cb=_0x36f33a['dataset']['topicId'],_0x91d57c=_0x36f33a[_0x1570cd(0x3b5)]['quizId'],_0x3d8494=allQuizzesGlobal[_0x1570cd(0xbc5)](_0x3228ac=>_0x3228ac['id']===_0x91d57c),_0x2897ca=_0x3d8494?_0x3d8494[_0x1570cd(0x78b)]:_0x1570cd(0xa29);showConfirmation(_0x1570cd(0x3a7)+_0x2897ca+_0x1570cd(0x1a9),async()=>{const _0x2f9cdc=_0x1570cd;try{const _0x326254=doc(db,_0x2f9cdc(0x763)+appId+_0x2f9cdc(0x78d),currentBlueprintProjectId);await updateDoc(_0x326254,{[_0x2f9cdc(0x8df)+_0x47a3cb+_0x2f9cdc(0x87e)]:arrayRemove(_0x91d57c)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x47a3cb),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1f426f){console[_0x2f9cdc(0xb95)](_0x2f9cdc(0x1ee),_0x1f426f),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0x491ac7){cameFromBlueprint=!![];const _0x1f0bf4=_0x491ac7[_0x1570cd(0x3b5)][_0x1570cd(0x8c6)],_0x108c3b=allQuizzesGlobal['find'](_0x2a0743=>_0x2a0743['id']===_0x1f0bf4);_0x108c3b&&(startPresentation(_0x108c3b),_0x2181db['classList'][_0x1570cd(0x7bd)](_0x1570cd(0x6ca)));}else{if(_0x11f395){cameFromBlueprint=!![];const _0x498234=_0x11f395[_0x1570cd(0x3b5)]['quizId'],_0xedd36f=allQuizzesGlobal[_0x1570cd(0xbc5)](_0x5e6206=>_0x5e6206['id']===_0x498234);_0xedd36f&&(currentQuizData=_0xedd36f,startAdminTest(),_0x2181db[_0x1570cd(0xbeb)][_0x1570cd(0x7bd)](_0x1570cd(0x6ca)));}else{if(_0x599b3f)cameFromBlueprint=!![],handleStartLiveRace(_0x599b3f['dataset']['quizId']),_0x2181db[_0x1570cd(0xbeb)]['add'](_0x1570cd(0x6ca));else{if(_0x5c60de){cameFromBlueprint=!![];const _0x5995ef=_0x5c60de[_0x1570cd(0x3b5)]['quizId'],_0x40945f=_0x5c60de['dataset'][_0x1570cd(0x540)],_0x56d18e=allQuizzesGlobal[_0x1570cd(0xbc5)](_0x157b58=>_0x157b58['id']===_0x5995ef);_0x56d18e&&(showGameStartConfirmationModal(_0x5995ef,_0x40945f,_0x56d18e[_0x1570cd(0x78b)]),_0x2181db[_0x1570cd(0xbeb)][_0x1570cd(0x7bd)](_0x1570cd(0x6ca)));}}}}}}}),document[_0x329113(0x651)](_0x329113(0x71a))['addEventListener'](_0x329113(0x530),()=>{const _0x43cd49=_0x329113;document['getElementById'](_0x43cd49(0xa2a))[_0x43cd49(0xbeb)][_0x43cd49(0x303)]('hidden'),document[_0x43cd49(0x651)](_0x43cd49(0x2df))[_0x43cd49(0x3b7)]='',document[_0x43cd49(0x651)](_0x43cd49(0x4a6))[_0x43cd49(0x3b7)]='',document[_0x43cd49(0x651)](_0x43cd49(0x5b3))[_0x43cd49(0x3b7)]='';}),document['getElementById']('cancel-manual-bp-btn')['addEventListener'](_0x329113(0x530),()=>{const _0x8fecdd=_0x329113;document['getElementById'](_0x8fecdd(0xa2a))[_0x8fecdd(0xbeb)]['add'](_0x8fecdd(0x6ca));}),document[_0x329113(0x651)](_0x329113(0x54c))[_0x329113(0x7bb)]('click',handleManualBlueprintSave),document[_0x329113(0x651)](_0x329113(0x8b3))[_0x329113(0x7bb)]('click',()=>document['getElementById']('blueprint-settings-modal')[_0x329113(0xbeb)][_0x329113(0x7bd)](_0x329113(0x6ca))),document[_0x329113(0x651)]('save-bp-settings-btn')[_0x329113(0x7bb)]('click',handleSaveBlueprintPageSettings),document[_0x329113(0x651)](_0x329113(0x6ea))['addEventListener'](_0x329113(0x530),openBlueprintQuizSettings),document[_0x329113(0x651)](_0x329113(0xa52))[_0x329113(0x7bb)]('click',saveBlueprintProject),document[_0x329113(0x651)](_0x329113(0x8ef))[_0x329113(0x7bb)]('click',showBlueprintProjects),document[_0x329113(0x651)](_0x329113(0x3f2))['addEventListener'](_0x329113(0x530),()=>{const _0x578ad0=_0x329113;document[_0x578ad0(0x651)](_0x578ad0(0xb1e))['classList']['add'](_0x578ad0(0x6ca));}),document[_0x329113(0x651)]('blueprint-project-list')[_0x329113(0x7bb)]('click',_0x20f02f=>{const _0x3488b8=_0x329113,_0x71f674=_0x20f02f[_0x3488b8(0x8d0)][_0x3488b8(0xb9a)]('.open-bp-project-btn'),_0x10ffc3=_0x20f02f[_0x3488b8(0x8d0)][_0x3488b8(0xb9a)](_0x3488b8(0x859));if(_0x71f674)displayBlueprintProjectManager(_0x71f674[_0x3488b8(0x3b5)]['id']);else{if(_0x10ffc3){if(confirm(_0x3488b8(0x40d))){const _0x3d10ca=doc(db,_0x3488b8(0x763)+appId+_0x3488b8(0x78d),_0x10ffc3[_0x3488b8(0x3b5)]['id']);deleteDoc(_0x3d10ca)[_0x3488b8(0x501)](()=>{const _0x15215f=_0x3488b8;showMessage(_0x15215f(0x66e)),showBlueprintProjects();});}}}}),document['getElementById']('back-to-dashboard-from-bp-btn')[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x512460=_0x329113;currentBlueprintProjectId=null,currentProjectId=null,document[_0x512460(0x651)]('blueprint-project-manager-view')[_0x512460(0xbeb)][_0x512460(0x7bd)](_0x512460(0x6ca)),showView('admin-dashboard');}),document[_0x329113(0x651)](_0x329113(0x2c0))[_0x329113(0x7bb)]('click',addTopicToProject),document[_0x329113(0x651)]('bp-topic-list-container')[_0x329113(0x7bb)](_0x329113(0x530),async _0x18ee43=>{const _0x44199a=_0x329113,_0x26a7b5=_0x18ee43[_0x44199a(0x8d0)][_0x44199a(0xb9a)](_0x44199a(0x463));if(!_0x26a7b5)return;const _0x5cbfa1=_0x26a7b5[_0x44199a(0x3b5)][_0x44199a(0xaf1)],_0x585559=_0x18ee43[_0x44199a(0x8d0)][_0x44199a(0xb9a)](_0x44199a(0x535)),_0x49e0cb=_0x18ee43[_0x44199a(0x8d0)][_0x44199a(0xb9a)](_0x44199a(0x558)),_0x42f301=_0x18ee43[_0x44199a(0x8d0)][_0x44199a(0xb9a)](_0x44199a(0x144)),_0x1b8080=_0x18ee43['target'][_0x44199a(0xb9a)](_0x44199a(0x31a)),_0xd4223c=_0x18ee43[_0x44199a(0x8d0)]['closest'](_0x44199a(0x3a8)),_0x36385c=_0x18ee43['target'][_0x44199a(0xb9a)](_0x44199a(0x684)),_0xccc9a=_0x18ee43['target'][_0x44199a(0xb9a)](_0x44199a(0xbed)),_0x24c624=_0x18ee43[_0x44199a(0x8d0)][_0x44199a(0xb9a)](_0x44199a(0x909));if(_0x1b8080)openTopicQuizBank(_0x5cbfa1);else{if(_0x585559){console[_0x44199a(0xaf0)]('Action:\x20Create\x20O-NET\x20Style\x20Quiz\x20from\x20Topic\x20Name.');const _0x3564d0=_0x26a7b5[_0x44199a(0x2d5)](_0x44199a(0xbd1))['textContent'];selectProjectAndGenerateBlueprintQuiz(_0x3564d0,null,_0x5cbfa1,!![]);}else{if(_0x49e0cb){console[_0x44199a(0xaf0)](_0x44199a(0x5a5));try{const _0x3c1342=doc(db,'artifacts/'+appId+_0x44199a(0x78d),currentBlueprintProjectId),_0x4ee672=await getDoc(_0x3c1342);if(_0x4ee672[_0x44199a(0x523)]()){const _0x4759c1=_0x4ee672[_0x44199a(0x213)](),_0x14ecd3=_0x4759c1[_0x44199a(0x6fe)][_0x5cbfa1],_0x159be3=_0x14ecd3[_0x44199a(0x982)],_0x175c97=document[_0x44199a(0x50d)](_0x44199a(0x7a9)),_0x2a2677=_0x43f9c7=>{const _0x115240=_0x44199a;if(!_0x43f9c7)return'';return _0x175c97['innerHTML']=_0x43f9c7,_0x175c97[_0x115240(0xc23)]||_0x175c97[_0x115240(0x64a)]||'';},_0x31e473=(_0x2a2677(_0x159be3[_0x44199a(0xa73)])+'\x20'+_0x2a2677(_0x159be3[_0x44199a(0x960)])+'\x20'+_0x2a2677(_0x159be3[_0x44199a(0x3f8)]))['trim']();selectProjectAndGenerateBlueprintQuiz(_0x14ecd3[_0x44199a(0x1fa)],_0x31e473,_0x5cbfa1,![]);}}catch(_0x2599eb){console[_0x44199a(0xb95)](_0x44199a(0x9a7),_0x2599eb);}}else{if(_0x42f301){console[_0x44199a(0xaf0)](_0x44199a(0x65d));const _0x2a20f5=_0x26a7b5[_0x44199a(0x2d5)](_0x44199a(0xbd1))[_0x44199a(0xc23)];selectProjectAndGenerateBlueprintQuiz(_0x2a20f5,null,_0x5cbfa1,![]);}else{if(_0xd4223c){console['log'](_0x44199a(0xa44));const _0x57710b=doc(db,_0x44199a(0x763)+appId+_0x44199a(0x78d),currentBlueprintProjectId),_0x12151a=await getDoc(_0x57710b);if(_0x12151a[_0x44199a(0x523)]()){const _0x1e01bd=_0x12151a[_0x44199a(0x213)](),_0x254d42=_0x1e01bd['topics'][_0x5cbfa1];if(_0x254d42&&_0x254d42[_0x44199a(0x982)]){document[_0x44199a(0x651)](_0x44199a(0xa05))['textContent']=_0x44199a(0x178)+_0x254d42['subTopic'],document['getElementById'](_0x44199a(0x41d))[_0x44199a(0x61b)]=_0x254d42[_0x44199a(0x982)][_0x44199a(0xa73)],document[_0x44199a(0x651)](_0x44199a(0xac9))[_0x44199a(0x61b)]=_0x254d42[_0x44199a(0x982)][_0x44199a(0x960)],document['getElementById'](_0x44199a(0x89d))[_0x44199a(0x61b)]=_0x254d42[_0x44199a(0x982)]['summary'];const _0x2fa26a=document[_0x44199a(0x651)](_0x44199a(0x3fa));_0x254d42[_0x44199a(0x982)][_0x44199a(0x6c8)]?(currentApplicationData=_0x254d42[_0x44199a(0x982)]['applicationData'],_0x2fa26a[_0x44199a(0x61b)]=currentApplicationData[_0x44199a(0xb6a)]((_0x4261cb,_0x3c2ab7)=>_0x44199a(0xa34)+(_0x3c2ab7+0x1)+'.\x20'+marked[_0x44199a(0x153)](_0x4261cb[_0x44199a(0x96c)])+_0x44199a(0x9bf)+_0x3c2ab7+_0x44199a(0xa13)+_0x4261cb[_0x44199a(0xb4a)][_0x44199a(0xb6a)]((_0x301fbc,_0x569bbd)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x3c2ab7+',\x20'+_0x569bbd+_0x44199a(0x280)+String[_0x44199a(0x9ab)](0x61+_0x569bbd)+'.\x20'+marked[_0x44199a(0x153)](_0x301fbc)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x44199a(0x254)]('')+_0x44199a(0x1ec))[_0x44199a(0x254)]('')):(currentApplicationData=[],_0x2fa26a[_0x44199a(0x61b)]=_0x254d42[_0x44199a(0x982)]['applicationHTML']||_0x254d42[_0x44199a(0x982)][_0x44199a(0x937)]),document[_0x44199a(0x651)](_0x44199a(0x3e4))[_0x44199a(0xbeb)][_0x44199a(0x7bd)](_0x44199a(0x6ca)),document[_0x44199a(0x651)]('lesson-sections-container')[_0x44199a(0xbeb)][_0x44199a(0x303)]('hidden'),document['getElementById']('lesson-view-modal')[_0x44199a(0xbeb)][_0x44199a(0x303)](_0x44199a(0x6ca)),window[_0x44199a(0x858)]&&MathJax[_0x44199a(0x1f8)]([document[_0x44199a(0x651)](_0x44199a(0x7d4))]);}else showMessage(_0x44199a(0x138));}}else{if(_0x36385c){console[_0x44199a(0xaf0)]('Action:\x20Generate\x20new\x20lesson.');const _0x274b7d=doc(db,_0x44199a(0x763)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x2a48ae=await getDoc(_0x274b7d);if(_0x2a48ae[_0x44199a(0x523)]()){const _0x24f22b=_0x2a48ae[_0x44199a(0x213)](),_0x330fa5=_0x24f22b[_0x44199a(0x6fe)][_0x5cbfa1];generateAndSaveLessonForBlueprint(_0x5cbfa1,_0x330fa5['subTopic'],_0x24f22b[_0x44199a(0x63a)]);}}else{if(_0xccc9a)editTopicInProject(_0x5cbfa1);else _0x24c624&&deleteTopicFromProject(_0x5cbfa1);}}}}}}}),document[_0x329113(0x651)]('fix-lesson-latex-btn')[_0x329113(0x7bb)]('click',handleFixLessonLatex),document[_0x329113(0x651)]('export-lesson-to-pdf-btn')[_0x329113(0x7bb)](_0x329113(0x530),handleExportLessonToPDF),document[_0x329113(0x651)](_0x329113(0x85a))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x5b9ecd=_0x329113;document[_0x5b9ecd(0x651)](_0x5b9ecd(0x9ac))[_0x5b9ecd(0xbeb)]['add']('hidden');});const _0x4175e6=document[_0x329113(0x651)](_0x329113(0x249)),_0xdff8f8=document[_0x329113(0x651)](_0x329113(0xaee));_0x4175e6['addEventListener'](_0x329113(0x761),()=>{const _0x4cfe60=_0x329113;_0xdff8f8['classList']['toggle'](_0x4cfe60(0x6ca),!_0x4175e6['checked']);});const _0x2520aa=document[_0x329113(0x651)](_0x329113(0x88f)),_0xb75edb=document['getElementById']('confidence-mode-container');_0x2520aa[_0x329113(0x7bb)](_0x329113(0x761),()=>{const _0x1b0d60=_0x329113;_0xb75edb[_0x1b0d60(0xbeb)][_0x1b0d60(0xb9b)](_0x1b0d60(0x6ca),!_0x2520aa[_0x1b0d60(0x173)]);});const _0x52ce31=document[_0x329113(0x651)]('modal-confidence-scoring-checkbox'),_0x1d6150=document[_0x329113(0x651)]('modal-confidence-mode-container');_0x52ce31[_0x329113(0x7bb)]('change',()=>{const _0xd2ede1=_0x329113;_0x1d6150[_0xd2ede1(0xbeb)][_0xd2ede1(0xb9b)]('hidden',!_0x52ce31[_0xd2ede1(0x173)]);});const _0x3ee19d=document[_0x329113(0x651)](_0x329113(0x442)),_0x167d97=async _0x39e6c0=>{const _0x5a0485=_0x329113,_0x56b973=document[_0x5a0485(0x651)]('confidence-modal'),_0x59f4f8=_0x56b973[_0x5a0485(0x3b5)]['currentMode'],_0x316704=document['getElementById'](_0x5a0485(0x380));_0x56b973[_0x5a0485(0xbeb)]['add'](_0x5a0485(0x6ca));if(_0x59f4f8===_0x5a0485(0x403)){const _0xde2e37=_0x316704[_0x5a0485(0x3b7)],_0x26892a={'answer':_0xde2e37,'wasConfident':_0x39e6c0};proceedToNextQuestion(_0x26892a);}else{if(_0x59f4f8===_0x5a0485(0x619)){const _0x1d6ca4=_0x316704[_0x5a0485(0x3b5)]['answerValue'],_0x2aaa05=JSON['parse'](_0x316704[_0x5a0485(0x3b5)][_0x5a0485(0x96c)]),_0x1d3598=JSON['parse'](_0x316704[_0x5a0485(0x3b5)][_0x5a0485(0x997)]),_0x25dd3d=_0x316704[_0x5a0485(0x3b5)]['playerName'];handleSyncAnswerSubmit(_0x1d6ca4,_0x2aaa05,_0x1d3598,_0x25dd3d,_0x39e6c0);}}_0x56b973['dataset'][_0x5a0485(0x7b6)]='';};document[_0x329113(0x651)](_0x329113(0xa01))[_0x329113(0x7bb)](_0x329113(0x530),()=>_0x167d97(!![])),document[_0x329113(0x651)](_0x329113(0x23e))['addEventListener']('click',()=>_0x167d97(![])),liveGameView['addEventListener'](_0x329113(0x530),_0x40addb=>{const _0x6698fa=_0x329113,_0x115675=_0x40addb[_0x6698fa(0x8d0)][_0x6698fa(0xb9a)]('.kick-player-btn-sync');if(_0x115675){const _0x18badb=_0x115675[_0x6698fa(0x3b5)][_0x6698fa(0x4b5)];_0x18badb&&handleKickPlayerSync(_0x18badb);}});const _0x174e47=document[_0x329113(0x651)]('confirm-game-start-btn'),_0x532de3=document['getElementById'](_0x329113(0x882));_0x532de3[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x1fccd9=_0x329113;document[_0x1fccd9(0x651)](_0x1fccd9(0x2d4))[_0x1fccd9(0xbeb)]['add'](_0x1fccd9(0x6ca));}),_0x174e47[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x287418=_0x329113,_0x40a50b=document['getElementById']('game-start-quiz-id')[_0x287418(0x3b7)],_0xd0718=document[_0x287418(0x651)](_0x287418(0x846))[_0x287418(0x3b7)],_0x4b7c9c=document[_0x287418(0x651)](_0x287418(0x238))['checked'];document['getElementById'](_0x287418(0x2d4))[_0x287418(0xbeb)][_0x287418(0x7bd)]('hidden');switch(_0xd0718){case _0x287418(0x5d8):handleStartLiveRace(_0x40a50b,_0x4b7c9c);break;case _0x287418(0x56e):handleStartTeamQuiz(_0x40a50b,_0x4b7c9c);break;case _0x287418(0x19a):handleStartGroupMode(_0x40a50b,_0x4b7c9c);break;case _0x287418(0x619):handleStartSyncMode(_0x40a50b,_0x4b7c9c);break;}}),document[_0x329113(0x651)](_0x329113(0x270))[_0x329113(0x7bb)]('click',handleJoinGroupActivity),liveGameView['addEventListener'](_0x329113(0x530),_0x3d50cc=>{const _0xae6861=_0x329113,_0x210622=_0x3d50cc[_0xae6861(0x8d0)][_0xae6861(0xb9a)](_0xae6861(0x806));document[_0xae6861(0x514)](_0xae6861(0x1d4))[_0xae6861(0x15f)](_0x298b39=>{const _0x385621=_0xae6861;(!_0x210622||_0x298b39['id']!==_0x210622[_0x385621(0x3b5)][_0x385621(0x166)])&&_0x298b39[_0x385621(0xbeb)]['remove'](_0x385621(0xa16));});if(!_0x210622)return;const _0x229d38=_0x210622[_0xae6861(0x3b5)]['tooltipTarget'],_0x5c4853=document[_0xae6861(0x651)](_0x229d38);_0x5c4853&&_0x5c4853[_0xae6861(0xbeb)][_0xae6861(0xb9b)]('visible');}),liveGameView[_0x329113(0x7bb)](_0x329113(0x530),_0x525a03=>{const _0x24f534=_0x329113;if(_0x525a03[_0x24f534(0x8d0)][_0x24f534(0xbeb)][_0x24f534(0xa28)](_0x24f534(0x1bb))){const _0x2945d9=_0x525a03['target'][_0x24f534(0x3b5)][_0x24f534(0x4b5)];_0x2945d9&&handleKickPlayer(_0x2945d9);}}),document[_0x329113(0x651)]('project-title')[_0x329113(0x7bb)](_0x329113(0xa87),()=>document[_0x329113(0x651)](_0x329113(0x218))[_0x329113(0xbeb)][_0x329113(0x303)]('hidden')),document[_0x329113(0x651)](_0x329113(0x218))[_0x329113(0x7bb)]('click',handleSaveProjectName),document[_0x329113(0x651)]('project-title')[_0x329113(0x7bb)](_0x329113(0x29e),_0x4c3b0c=>{const _0x1a0f50=_0x329113;_0x4c3b0c[_0x1a0f50(0x424)]===_0x1a0f50(0x8f3)&&(_0x4c3b0c[_0x1a0f50(0x4a8)](),_0x4c3b0c[_0x1a0f50(0x8d0)]['blur'](),handleSaveProjectName());}),document['getElementById']('bulk-quiz-settings-btn')[_0x329113(0x7bb)]('click',()=>{const _0x4e9f9c=_0x329113;document['getElementById'](_0x4e9f9c(0x605))['classList'][_0x4e9f9c(0x303)]('hidden');}),document[_0x329113(0x651)](_0x329113(0x292))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x3ba1ea=_0x329113;document['getElementById']('bulk-quiz-settings-modal')['classList'][_0x3ba1ea(0x7bd)](_0x3ba1ea(0x6ca));}),document[_0x329113(0x651)](_0x329113(0x35f))[_0x329113(0x7bb)]('click',handleBulkUpdateQuizSettings),document[_0x329113(0x651)](_0x329113(0x5ea))[_0x329113(0x7bb)](_0x329113(0x530),handleModeSwitch),document[_0x329113(0x651)](_0x329113(0x411))[_0x329113(0x7bb)]('click',handleUpdateOldQuizzes),document[_0x329113(0x651)]('reset-project-order-btn')[_0x329113(0x7bb)](_0x329113(0x530),handleResetProjectOrder),document[_0x329113(0x651)](_0x329113(0x8c3))[_0x329113(0x7bb)]('click',handleSaveVisibilitySettings),document[_0x329113(0x651)]('add-custom-math-topic-btn')[_0x329113(0x7bb)](_0x329113(0x530),handleAddCustomMathTopic),document[_0x329113(0x651)](_0x329113(0xa9d))['addEventListener']('click',handleSelectAllTopics),document[_0x329113(0x651)](_0x329113(0x2e9))[_0x329113(0x7bb)](_0x329113(0x530),handleDeselectAllTopics),document['getElementById'](_0x329113(0x15a))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x200fbd=_0x329113;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x200fbd(0x2fe));}}),document[_0x329113(0x651)](_0x329113(0xb52))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x44743b=_0x329113;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x44743b(0x2bf));}}),document[_0x329113(0x651)]('back-to-dashboard-from-results-btn')['addEventListener'](_0x329113(0x530),()=>{const _0x11737b=_0x329113;showView(_0x11737b(0x2fe));}),document[_0x329113(0x651)]('modal-close-btn')[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x592f47=_0x329113;messageModal[_0x592f47(0xbeb)][_0x592f47(0x7bd)](_0x592f47(0x6ca)),typeof modalConfirmAction===_0x592f47(0x5ef)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x329113(0x651)](_0x329113(0x5e4))[_0x329113(0x7bb)](_0x329113(0x530),()=>createProjectModal[_0x329113(0xbeb)]['remove'](_0x329113(0x6ca))),document['getElementById'](_0x329113(0x4b7))[_0x329113(0x7bb)](_0x329113(0x530),()=>createProjectModal[_0x329113(0xbeb)][_0x329113(0x7bd)](_0x329113(0x6ca))),document['getElementById'](_0x329113(0xa1c))[_0x329113(0x7bb)](_0x329113(0x530),()=>adminPasswordModal[_0x329113(0xbeb)]['add'](_0x329113(0x6ca))),document[_0x329113(0x651)](_0x329113(0x436))['addEventListener']('click',handleAdminLogin),document['getElementById'](_0x329113(0x71b))[_0x329113(0x7bb)]('keyup',_0x282e53=>{const _0x374962=_0x329113;if(_0x282e53[_0x374962(0x424)]==='Enter')handleAdminLogin();}),document[_0x329113(0x651)](_0x329113(0xa83))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x17ff62=_0x329113;confirmationModal[_0x17ff62(0xbeb)][_0x17ff62(0x7bd)]('hidden'),confirmAction=null;}),document[_0x329113(0x651)](_0x329113(0xb47))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x333037=_0x329113;confirmAction&&confirmAction(),confirmationModal['classList'][_0x333037(0x7bd)](_0x333037(0x6ca)),confirmAction=null;}),document[_0x329113(0x651)](_0x329113(0x6a0))['addEventListener'](_0x329113(0x530),()=>renameQuizModal['classList'][_0x329113(0x7bd)](_0x329113(0x6ca))),document[_0x329113(0x651)](_0x329113(0x1ca))[_0x329113(0x7bb)]('click',confirmRenameQuiz),document[_0x329113(0x651)](_0x329113(0xabf))[_0x329113(0x7bb)](_0x329113(0x530),()=>moveQuizModal[_0x329113(0xbeb)][_0x329113(0x7bd)](_0x329113(0x6ca))),document[_0x329113(0x651)](_0x329113(0xbfa))[_0x329113(0x7bb)]('click',confirmMoveQuiz),document[_0x329113(0x651)]('cancel-quiz-settings-btn')['addEventListener'](_0x329113(0x530),()=>quizSettingsModal[_0x329113(0xbeb)][_0x329113(0x7bd)](_0x329113(0x6ca))),document[_0x329113(0x651)](_0x329113(0x7ea))[_0x329113(0x7bb)](_0x329113(0x530),confirmQuizSettings),document[_0x329113(0x651)](_0x329113(0x458))[_0x329113(0x7bb)](_0x329113(0x530),()=>quizStatusModal[_0x329113(0xbeb)][_0x329113(0x7bd)](_0x329113(0x6ca))),document['getElementById'](_0x329113(0xb3c))['addEventListener'](_0x329113(0x530),confirmQuizStatus);const _0x36de3e=document[_0x329113(0x651)]('export-pdf-modal');document[_0x329113(0x651)]('cancel-export-pdf-btn')[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x717e1a=_0x329113;_0x36de3e[_0x717e1a(0xbeb)]['add'](_0x717e1a(0x6ca));}),document[_0x329113(0x651)](_0x329113(0xafa))[_0x329113(0x7bb)]('click',async()=>{const _0x22b631=_0x329113,_0xdf57fa=allQuizzes[_0x22b631(0xbc5)](_0x14851a=>_0x14851a['id']===actionTargetId);_0xdf57fa?(currentQuizData=_0xdf57fa,exportQuizAsWorksheetPDF()):showMessage(_0x22b631(0xb80)),_0x36de3e['classList'][_0x22b631(0x7bd)](_0x22b631(0x6ca));}),document[_0x329113(0x651)]('export-tutor-pdf-btn')[_0x329113(0x7bb)](_0x329113(0x530),async()=>{const _0xb2c3f3=_0x329113,_0x2b07bd=allQuizzes['find'](_0x3e1312=>_0x3e1312['id']===actionTargetId);_0x2b07bd?(currentQuizData=_0x2b07bd,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x36de3e[_0xb2c3f3(0xbeb)][_0xb2c3f3(0x7bd)](_0xb2c3f3(0x6ca));}),document[_0x329113(0x651)](_0x329113(0x8cb))[_0x329113(0x7bb)](_0x329113(0x530),openGlobalLiveModal),document[_0x329113(0x651)](_0x329113(0x302))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x301e7b=_0x329113;document[_0x301e7b(0x651)](_0x301e7b(0x3c0))[_0x301e7b(0xbeb)][_0x301e7b(0x7bd)](_0x301e7b(0x6ca)),selectedGlobalQuizId=null;}),document[_0x329113(0x651)](_0x329113(0x744))[_0x329113(0x7bb)](_0x329113(0xbec),_0x176f34=>renderGlobalQuizList(_0x176f34[_0x329113(0x8d0)][_0x329113(0x3b7)])),document['getElementById'](_0x329113(0x427))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x44addb=_0x329113,_0x4978ff=selectedGlobalQuizId;if(!_0x4978ff)return;document[_0x44addb(0x651)](_0x44addb(0x3c0))[_0x44addb(0xbeb)][_0x44addb(0x7bd)]('hidden'),handleStartLiveRace(_0x4978ff);}),document['getElementById'](_0x329113(0x3f1))[_0x329113(0x7bb)](_0x329113(0xbec),renderProjects),document[_0x329113(0x651)](_0x329113(0x2d6))[_0x329113(0x7bb)](_0x329113(0x761),async()=>{const _0x52dc6c=_0x329113,_0x17a015=document[_0x52dc6c(0x651)](_0x52dc6c(0x2d6))['value'],_0x4db273=doc(db,_0x52dc6c(0x7d1),_0x52dc6c(0xb3b));try{await setDoc(_0x4db273,{'projectSort':_0x17a015},{'merge':!![]});}catch(_0x127726){console['error']('Error\x20updating\x20sort\x20preference:',_0x127726),showMessage(_0x52dc6c(0x263));}}),document[_0x329113(0x651)](_0x329113(0xc05))[_0x329113(0x7bb)](_0x329113(0xbec),renderQuizzes),document[_0x329113(0x651)](_0x329113(0xb1c))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x4eb7cf=_0x329113;globalDashboardSettings[_0x4eb7cf(0xc13)]='grid',saveUserPreference(_0x4eb7cf(0xc13),_0x4eb7cf(0x1be)),renderProjects();}),document[_0x329113(0x651)]('list-view-btn')[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x5cea12=_0x329113;globalDashboardSettings[_0x5cea12(0xc13)]=_0x5cea12(0x3ae),saveUserPreference(_0x5cea12(0xc13),_0x5cea12(0x3ae)),renderProjects();}),manageTab[_0x329113(0x7bb)](_0x329113(0x530),()=>switchProjectTab(_0x329113(0x6a5))),resultsTab[_0x329113(0x7bb)](_0x329113(0x530),()=>switchProjectTab(_0x329113(0x3a3))),leaderboardTab[_0x329113(0x7bb)](_0x329113(0x530),()=>switchProjectTab(_0x329113(0x4fd))),document[_0x329113(0x651)](_0x329113(0x857))[_0x329113(0x7bb)]('click',()=>switchQuizDetailTab(_0x329113(0xb86))),document['getElementById']('scores-tab-btn')[_0x329113(0x7bb)](_0x329113(0x530),()=>switchQuizDetailTab('scores')),document['getElementById'](_0x329113(0x8f8))['addEventListener'](_0x329113(0x530),()=>switchQuizDetailTab(_0x329113(0x4f6))),document[_0x329113(0x651)](_0x329113(0x311))[_0x329113(0x7bb)](_0x329113(0x530),()=>switchQuizDetailTab(_0x329113(0x788))),document[_0x329113(0x651)](_0x329113(0x19b))[_0x329113(0x7bb)](_0x329113(0x530),handleAnalyzeClass),generateWorksheetBtn[_0x329113(0x7bb)](_0x329113(0x530),generateWorksheet);const _0x46ce96=document[_0x329113(0x651)](_0x329113(0x5f8)),_0x1c1b2b=document[_0x329113(0x651)](_0x329113(0x780)),_0x20c20f=document[_0x329113(0x651)](_0x329113(0x775)),_0x433c7f=document['getElementById'](_0x329113(0x378)),_0x2834a8=document['getElementById']('parallel-test-tab'),_0x504a57=document[_0x329113(0x651)](_0x329113(0x37e));topicTab[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0xcbfd98=_0x329113;topicTab[_0xcbfd98(0xbeb)]['add'](_0xcbfd98(0x712)),textTab[_0xcbfd98(0xbeb)][_0xcbfd98(0x303)]('active'),fileTab[_0xcbfd98(0xbeb)]['remove']('active'),worksheetTab[_0xcbfd98(0xbeb)][_0xcbfd98(0x303)](_0xcbfd98(0x712));if(_0x46ce96)_0x46ce96[_0xcbfd98(0xbeb)][_0xcbfd98(0x303)](_0xcbfd98(0x712));if(_0x20c20f)_0x20c20f[_0xcbfd98(0xbeb)][_0xcbfd98(0x303)](_0xcbfd98(0x712));if(_0x2834a8)_0x2834a8['classList'][_0xcbfd98(0x303)](_0xcbfd98(0x712));topicInputArea[_0xcbfd98(0xbeb)][_0xcbfd98(0x303)]('hidden'),textInputArea[_0xcbfd98(0xbeb)][_0xcbfd98(0x7bd)](_0xcbfd98(0x6ca)),fileInputArea[_0xcbfd98(0xbeb)][_0xcbfd98(0x7bd)](_0xcbfd98(0x6ca)),worksheetInputArea[_0xcbfd98(0xbeb)][_0xcbfd98(0x7bd)]('hidden');if(_0x1c1b2b)_0x1c1b2b['classList']['add']('hidden');if(_0x433c7f)_0x433c7f[_0xcbfd98(0xbeb)]['add']('hidden');if(_0x504a57)_0x504a57['classList']['add'](_0xcbfd98(0x6ca));}),textTab[_0x329113(0x7bb)]('click',()=>{const _0x5e2286=_0x329113;textTab['classList'][_0x5e2286(0x7bd)](_0x5e2286(0x712)),topicTab[_0x5e2286(0xbeb)][_0x5e2286(0x303)](_0x5e2286(0x712)),fileTab[_0x5e2286(0xbeb)][_0x5e2286(0x303)](_0x5e2286(0x712)),worksheetTab[_0x5e2286(0xbeb)][_0x5e2286(0x303)](_0x5e2286(0x712));if(_0x46ce96)_0x46ce96[_0x5e2286(0xbeb)][_0x5e2286(0x303)](_0x5e2286(0x712));if(_0x20c20f)_0x20c20f[_0x5e2286(0xbeb)][_0x5e2286(0x303)]('active');if(_0x2834a8)_0x2834a8[_0x5e2286(0xbeb)][_0x5e2286(0x303)](_0x5e2286(0x712));textInputArea[_0x5e2286(0xbeb)]['remove']('hidden'),topicInputArea[_0x5e2286(0xbeb)][_0x5e2286(0x7bd)](_0x5e2286(0x6ca)),fileInputArea['classList'][_0x5e2286(0x7bd)](_0x5e2286(0x6ca)),worksheetInputArea['classList'][_0x5e2286(0x7bd)](_0x5e2286(0x6ca));if(_0x1c1b2b)_0x1c1b2b[_0x5e2286(0xbeb)][_0x5e2286(0x7bd)](_0x5e2286(0x6ca));if(_0x433c7f)_0x433c7f[_0x5e2286(0xbeb)][_0x5e2286(0x7bd)](_0x5e2286(0x6ca));if(_0x504a57)_0x504a57[_0x5e2286(0xbeb)][_0x5e2286(0x7bd)]('hidden');}),fileTab[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x3f2d65=_0x329113;fileTab['classList'][_0x3f2d65(0x7bd)](_0x3f2d65(0x712)),topicTab['classList'][_0x3f2d65(0x303)]('active'),textTab[_0x3f2d65(0xbeb)][_0x3f2d65(0x303)](_0x3f2d65(0x712)),worksheetTab[_0x3f2d65(0xbeb)][_0x3f2d65(0x303)]('active');if(_0x46ce96)_0x46ce96['classList'][_0x3f2d65(0x303)]('active');if(_0x20c20f)_0x20c20f[_0x3f2d65(0xbeb)][_0x3f2d65(0x303)](_0x3f2d65(0x712));if(_0x2834a8)_0x2834a8['classList'][_0x3f2d65(0x303)](_0x3f2d65(0x712));fileInputArea[_0x3f2d65(0xbeb)][_0x3f2d65(0x303)](_0x3f2d65(0x6ca)),topicInputArea[_0x3f2d65(0xbeb)][_0x3f2d65(0x7bd)](_0x3f2d65(0x6ca)),textInputArea['classList'][_0x3f2d65(0x7bd)](_0x3f2d65(0x6ca)),worksheetInputArea['classList'][_0x3f2d65(0x7bd)](_0x3f2d65(0x6ca));if(_0x1c1b2b)_0x1c1b2b[_0x3f2d65(0xbeb)]['add'](_0x3f2d65(0x6ca));if(_0x433c7f)_0x433c7f['classList']['add'](_0x3f2d65(0x6ca));if(_0x504a57)_0x504a57[_0x3f2d65(0xbeb)][_0x3f2d65(0x7bd)](_0x3f2d65(0x6ca));}),worksheetTab['addEventListener'](_0x329113(0x530),()=>{const _0x4ea640=_0x329113;worksheetTab['classList'][_0x4ea640(0x7bd)](_0x4ea640(0x712)),topicTab[_0x4ea640(0xbeb)][_0x4ea640(0x303)](_0x4ea640(0x712)),textTab[_0x4ea640(0xbeb)][_0x4ea640(0x303)](_0x4ea640(0x712)),fileTab[_0x4ea640(0xbeb)]['remove'](_0x4ea640(0x712));if(_0x46ce96)_0x46ce96[_0x4ea640(0xbeb)][_0x4ea640(0x303)](_0x4ea640(0x712));if(_0x20c20f)_0x20c20f[_0x4ea640(0xbeb)][_0x4ea640(0x303)]('active');if(_0x2834a8)_0x2834a8[_0x4ea640(0xbeb)][_0x4ea640(0x303)](_0x4ea640(0x712));worksheetInputArea[_0x4ea640(0xbeb)][_0x4ea640(0x303)](_0x4ea640(0x6ca)),topicInputArea[_0x4ea640(0xbeb)][_0x4ea640(0x7bd)](_0x4ea640(0x6ca)),textInputArea[_0x4ea640(0xbeb)][_0x4ea640(0x7bd)](_0x4ea640(0x6ca)),fileInputArea[_0x4ea640(0xbeb)]['add'](_0x4ea640(0x6ca));if(_0x1c1b2b)_0x1c1b2b[_0x4ea640(0xbeb)]['add'](_0x4ea640(0x6ca));if(_0x433c7f)_0x433c7f[_0x4ea640(0xbeb)][_0x4ea640(0x7bd)]('hidden');if(_0x504a57)_0x504a57[_0x4ea640(0xbeb)][_0x4ea640(0x7bd)](_0x4ea640(0x6ca));});const _0x577229=document[_0x329113(0x651)](_0x329113(0x46c)),_0x322b36=document[_0x329113(0x651)](_0x329113(0x179));_0x577229&&_0x577229[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x33a2a5=_0x329113;topicTab[_0x33a2a5(0xbeb)]['remove'](_0x33a2a5(0x712)),textTab[_0x33a2a5(0xbeb)][_0x33a2a5(0x303)]('active'),fileTab[_0x33a2a5(0xbeb)]['remove'](_0x33a2a5(0x712)),worksheetTab[_0x33a2a5(0xbeb)][_0x33a2a5(0x303)]('active');if(_0x46ce96)_0x46ce96[_0x33a2a5(0xbeb)]['remove']('active');if(_0x20c20f)_0x20c20f['classList'][_0x33a2a5(0x303)](_0x33a2a5(0x712));if(_0x2834a8)_0x2834a8[_0x33a2a5(0xbeb)][_0x33a2a5(0x303)]('active');_0x577229[_0x33a2a5(0xbeb)][_0x33a2a5(0x7bd)](_0x33a2a5(0x712)),topicInputArea[_0x33a2a5(0xbeb)]['add']('hidden'),textInputArea[_0x33a2a5(0xbeb)][_0x33a2a5(0x7bd)]('hidden'),fileInputArea[_0x33a2a5(0xbeb)][_0x33a2a5(0x7bd)](_0x33a2a5(0x6ca)),worksheetInputArea['classList'][_0x33a2a5(0x7bd)](_0x33a2a5(0x6ca));if(_0x1c1b2b)_0x1c1b2b['classList']['add'](_0x33a2a5(0x6ca));if(_0x433c7f)_0x433c7f[_0x33a2a5(0xbeb)]['add'](_0x33a2a5(0x6ca));if(_0x504a57)_0x504a57[_0x33a2a5(0xbeb)][_0x33a2a5(0x7bd)](_0x33a2a5(0x6ca));_0x322b36[_0x33a2a5(0xbeb)][_0x33a2a5(0x303)](_0x33a2a5(0x6ca)),displayQuestionBank();});_0x46ce96&&(_0x46ce96['addEventListener'](_0x329113(0x530),()=>{const _0x58a73e=_0x329113;_0x46ce96[_0x58a73e(0xbeb)][_0x58a73e(0x7bd)](_0x58a73e(0x712)),topicTab['classList']['remove'](_0x58a73e(0x712)),textTab[_0x58a73e(0xbeb)][_0x58a73e(0x303)](_0x58a73e(0x712)),fileTab[_0x58a73e(0xbeb)][_0x58a73e(0x303)](_0x58a73e(0x712)),worksheetTab['classList'][_0x58a73e(0x303)](_0x58a73e(0x712));if(_0x20c20f)_0x20c20f[_0x58a73e(0xbeb)][_0x58a73e(0x303)](_0x58a73e(0x712));if(_0x2834a8)_0x2834a8[_0x58a73e(0xbeb)][_0x58a73e(0x303)]('active');_0x1c1b2b[_0x58a73e(0xbeb)]['remove'](_0x58a73e(0x6ca)),topicInputArea[_0x58a73e(0xbeb)]['add']('hidden'),textInputArea[_0x58a73e(0xbeb)][_0x58a73e(0x7bd)](_0x58a73e(0x6ca)),fileInputArea[_0x58a73e(0xbeb)]['add'](_0x58a73e(0x6ca)),worksheetInputArea['classList'][_0x58a73e(0x7bd)](_0x58a73e(0x6ca));if(_0x433c7f)_0x433c7f['classList']['add'](_0x58a73e(0x6ca));if(_0x504a57)_0x504a57[_0x58a73e(0xbeb)][_0x58a73e(0x7bd)](_0x58a73e(0x6ca));}),document[_0x329113(0x651)](_0x329113(0x188))['addEventListener'](_0x329113(0x530),handleGenerateFromLink));_0x20c20f&&_0x20c20f[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x32f3e0=_0x329113;_0x20c20f['classList'][_0x32f3e0(0x7bd)](_0x32f3e0(0x712)),topicTab['classList']['remove']('active'),textTab[_0x32f3e0(0xbeb)]['remove'](_0x32f3e0(0x712)),fileTab['classList'][_0x32f3e0(0x303)](_0x32f3e0(0x712)),worksheetTab[_0x32f3e0(0xbeb)]['remove'](_0x32f3e0(0x712));if(_0x46ce96)_0x46ce96['classList'][_0x32f3e0(0x303)]('active');if(_0x577229)_0x577229[_0x32f3e0(0xbeb)]['remove'](_0x32f3e0(0x712));if(_0x2834a8)_0x2834a8[_0x32f3e0(0xbeb)][_0x32f3e0(0x303)](_0x32f3e0(0x712));_0x433c7f[_0x32f3e0(0xbeb)]['remove']('hidden'),topicInputArea[_0x32f3e0(0xbeb)]['add']('hidden'),textInputArea['classList']['add'](_0x32f3e0(0x6ca)),fileInputArea['classList']['add']('hidden'),worksheetInputArea[_0x32f3e0(0xbeb)][_0x32f3e0(0x7bd)](_0x32f3e0(0x6ca));if(_0x1c1b2b)_0x1c1b2b['classList'][_0x32f3e0(0x7bd)](_0x32f3e0(0x6ca));if(_0x322b36)_0x322b36['classList'][_0x32f3e0(0x7bd)]('hidden');if(_0x504a57)_0x504a57[_0x32f3e0(0xbeb)]['add'](_0x32f3e0(0x6ca));});_0x2834a8&&_0x2834a8['addEventListener'](_0x329113(0x530),()=>{const _0x3acd7e=_0x329113;_0x2834a8[_0x3acd7e(0xbeb)][_0x3acd7e(0x7bd)](_0x3acd7e(0x712)),topicTab[_0x3acd7e(0xbeb)]['remove'](_0x3acd7e(0x712)),textTab['classList']['remove'](_0x3acd7e(0x712)),fileTab[_0x3acd7e(0xbeb)][_0x3acd7e(0x303)](_0x3acd7e(0x712)),worksheetTab['classList']['remove'](_0x3acd7e(0x712));if(_0x46ce96)_0x46ce96[_0x3acd7e(0xbeb)][_0x3acd7e(0x303)](_0x3acd7e(0x712));if(_0x20c20f)_0x20c20f[_0x3acd7e(0xbeb)][_0x3acd7e(0x303)](_0x3acd7e(0x712));if(_0x577229)_0x577229[_0x3acd7e(0xbeb)]['remove'](_0x3acd7e(0x712));_0x504a57[_0x3acd7e(0xbeb)][_0x3acd7e(0x303)]('hidden'),topicInputArea[_0x3acd7e(0xbeb)]['add'](_0x3acd7e(0x6ca)),textInputArea[_0x3acd7e(0xbeb)][_0x3acd7e(0x7bd)](_0x3acd7e(0x6ca)),fileInputArea[_0x3acd7e(0xbeb)][_0x3acd7e(0x7bd)](_0x3acd7e(0x6ca)),worksheetInputArea['classList'][_0x3acd7e(0x7bd)](_0x3acd7e(0x6ca));if(_0x1c1b2b)_0x1c1b2b[_0x3acd7e(0xbeb)]['add'](_0x3acd7e(0x6ca));if(_0x433c7f)_0x433c7f['classList'][_0x3acd7e(0x7bd)](_0x3acd7e(0x6ca));if(_0x322b36)_0x322b36['classList'][_0x3acd7e(0x7bd)](_0x3acd7e(0x6ca));});const _0x2c8206=document[_0x329113(0x651)]('blueprint-upload-input'),_0x3bac59=document[_0x329113(0x651)]('generate-from-blueprint-btn');if(_0x2c8206){const _0x28f074=document[_0x329113(0x651)](_0x329113(0x327)),_0x5bd50d=document[_0x329113(0x651)](_0x329113(0x8c8)),_0x5bd13b=document[_0x329113(0x651)](_0x329113(0xa5c)),_0x2df3b5=document[_0x329113(0x651)](_0x329113(0x809)),_0xc5a1ba=document[_0x329113(0x651)](_0x329113(0x3e0)),_0x5b29e5=document['getElementById'](_0x329113(0xa35));_0x28f074&&_0x28f074[_0x329113(0x7bb)](_0x329113(0x761),async _0x3001fe=>{const _0x6223a3=_0x329113;_0x5bd13b[_0x6223a3(0xbeb)][_0x6223a3(0x7bd)](_0x6223a3(0x6ca)),_0xc5a1ba[_0x6223a3(0xbeb)][_0x6223a3(0x7bd)](_0x6223a3(0x6ca)),_0x2df3b5[_0x6223a3(0x173)]=![],_0x5bd50d['disabled']=!![];const _0x2262f8=_0x3001fe[_0x6223a3(0x8d0)][_0x6223a3(0x75f)][0x0];if(_0x2262f8){_0x5bd50d[_0x6223a3(0x993)]=![];try{const _0x6b556=await extractTextFromPdf(_0x2262f8);await analyzeBlueprintForTopics(_0x6b556);}catch(_0x10118d){showMessage(_0x6223a3(0x440)),_0x5bd13b[_0x6223a3(0xbeb)][_0x6223a3(0x7bd)]('hidden');}}}),_0x2df3b5&&_0x2df3b5[_0x329113(0x7bb)](_0x329113(0x761),_0xd766c6=>{const _0x4d163f=_0x329113,_0x55fb6c=_0xd766c6[_0x4d163f(0x8d0)][_0x4d163f(0x173)];_0xc5a1ba[_0x4d163f(0xbeb)][_0x4d163f(0xb9b)](_0x4d163f(0x6ca),!_0x55fb6c),_0x5bd50d[_0x4d163f(0x993)]=_0x55fb6c;}),_0x5b29e5&&(_0x5b29e5&&_0x5b29e5['addEventListener'](_0x329113(0x530),_0x2f8e2c=>{const _0xa14656=_0x329113,_0x2ec5e3=_0x2f8e2c[_0xa14656(0x8d0)][_0xa14656(0xb9a)](_0xa14656(0x3e5)),_0x5698be=_0x2f8e2c[_0xa14656(0x8d0)]['closest'](_0xa14656(0x31f));if(_0x2ec5e3){const _0x2a8573=unescape(_0x2ec5e3[_0xa14656(0x3b5)]['topic']);generateQuizForSingleTopic(_0x2a8573);}else{if(_0x5698be){const _0x40812d=unescape(_0x5698be[_0xa14656(0x3b5)][_0xa14656(0x78b)]);handleGenerateTeachingContent(_0x40812d);}}}));}_0x3bac59&&_0x3bac59[_0x329113(0x7bb)](_0x329113(0x530),handleGenerateFromBlueprint);const _0x5bad9c=document[_0x329113(0x651)]('parallel-test-upload-input'),_0xfbc9fc=document[_0x329113(0x651)](_0x329113(0x8ea));_0x5bad9c&&_0x5bad9c[_0x329113(0x7bb)](_0x329113(0x761),_0x18ff77=>{const _0x449bc5=_0x329113;_0xfbc9fc[_0x449bc5(0x993)]=_0x18ff77[_0x449bc5(0x8d0)][_0x449bc5(0x75f)][_0x449bc5(0x9fa)]===0x0;});_0xfbc9fc&&_0xfbc9fc[_0x329113(0x7bb)](_0x329113(0x530),handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x329113(0x530),handleLoadQuiz),startQuizBtn[_0x329113(0x7bb)](_0x329113(0x530),async()=>{const _0x10ae83=_0x329113,_0x542645=document[_0x10ae83(0x651)](_0x10ae83(0xa6d));currentStudentName=_0x542645[_0x10ae83(0x3b7)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0xc68b9a=currentQuizData['id'],_0x2cc026=doc(db,'artifacts/'+appId+_0x10ae83(0x2b2)+_0xc68b9a+_0x10ae83(0xa32),currentStudentName),_0x42473b=await getDoc(_0x2cc026);!_0x42473b[_0x10ae83(0x523)]()?await setDoc(_0x2cc026,{'studentName':currentStudentName,'startedAt':new Date()[_0x10ae83(0x759)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x2cc026,{'startedAt':new Date()['toISOString']()});}catch(_0x5bc349){console['error'](_0x10ae83(0xad3),_0x5bc349),showMessage(_0x10ae83(0x8b6));return;}studentNameSelectionView['classList'][_0x10ae83(0x7bd)](_0x10ae83(0x6ca)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x329113(0x651)](_0x329113(0x588))['addEventListener'](_0x329113(0x530),showJoinGameView),document['getElementById']('confirm-join-game-btn')[_0x329113(0x7bb)](_0x329113(0x530),handleJoinLiveGame),document[_0x329113(0x651)](_0x329113(0x13c))[_0x329113(0x7bb)](_0x329113(0x530),()=>showView(_0x329113(0x1e0)));const _0x309938=()=>{const _0x2612c5=_0x329113,_0x2e2d74=document['getElementById']('results-quiz-title')['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x2612c5(0x939)]();return _0x2612c5(0x9b9)+(_0x2e2d74||_0x2612c5(0x1b5));},_0xcb5538=document[_0x329113(0x651)]('math-topic-search-input');_0xcb5538&&_0xcb5538['addEventListener'](_0x329113(0xbec),_0x3a16e2=>{const _0x29534f=_0x329113,_0x13cebc=_0x3a16e2[_0x29534f(0x8d0)]['value'][_0x29534f(0x939)]()[_0x29534f(0x4fe)](),_0x572a4c=document[_0x29534f(0x651)](_0x29534f(0x4d1)),_0x53870c=_0x572a4c[_0x29534f(0x514)](_0x29534f(0x491));_0x53870c[_0x29534f(0x15f)](_0x1be1ab=>{const _0x2908e2=_0x29534f;let _0x2476d5=![];const _0x5f63c5=_0x1be1ab[_0x2908e2(0x514)](_0x2908e2(0x38b));_0x5f63c5[_0x2908e2(0x15f)](_0x13e52d=>{const _0x5837d8=_0x2908e2,_0x111905=_0x13e52d['querySelector']('.topic-name-display')['textContent']['toLowerCase']();_0x111905[_0x5837d8(0x6ed)](_0x13cebc)?(_0x13e52d['style'][_0x5837d8(0x4ba)]=_0x5837d8(0x7be),_0x2476d5=!![]):_0x13e52d[_0x5837d8(0x5ce)][_0x5837d8(0x4ba)]=_0x5837d8(0xb35);}),_0x2476d5?_0x1be1ab[_0x2908e2(0x5ce)][_0x2908e2(0x4ba)]=_0x2908e2(0xb62):_0x1be1ab[_0x2908e2(0x5ce)][_0x2908e2(0x4ba)]='none';});});document[_0x329113(0x651)](_0x329113(0x647))[_0x329113(0x7bb)](_0x329113(0x530),()=>exportTableAsImage('results-table-container',_0x309938())),document[_0x329113(0x651)](_0x329113(0x638))[_0x329113(0x7bb)](_0x329113(0x530),()=>exportTableAsPDF(_0x329113(0x3e3),_0x309938())),document[_0x329113(0x651)](_0x329113(0x36d))[_0x329113(0x7bb)](_0x329113(0x530),()=>exportTableAsWord('results-table-container',_0x309938())),document[_0x329113(0x651)](_0x329113(0x844))[_0x329113(0x7bb)](_0x329113(0x530),()=>exportTableAsExcel('results-table',_0x309938()));const _0x32568e=()=>{const _0x3b95ff=_0x329113,_0x1dddc2=document[_0x3b95ff(0x651)](_0x3b95ff(0x4f3))[_0x3b95ff(0xc23)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x3b95ff(0xc0b)+(_0x1dddc2||_0x3b95ff(0x1b5));};document[_0x329113(0x651)](_0x329113(0x8ce))[_0x329113(0x7bb)](_0x329113(0x530),()=>exportTableAsImage(_0x329113(0x7a8),_0x32568e())),document['getElementById']('export-leaderboard-pdf-btn')['addEventListener'](_0x329113(0x530),()=>exportTableAsPDF(_0x329113(0x1fd),_0x32568e())),document[_0x329113(0x651)]('export-leaderboard-word-btn')[_0x329113(0x7bb)](_0x329113(0x530),()=>exportTableAsWord(_0x329113(0x7a8),_0x32568e())),document[_0x329113(0x651)]('export-leaderboard-excel-btn')[_0x329113(0x7bb)](_0x329113(0x530),()=>exportTableAsExcel('quiz-leaderboard-table',_0x32568e())),projectQuizzesList[_0x329113(0x7bb)](_0x329113(0x530),async _0x421211=>{const _0x56dbc0=_0x329113,_0xb3b9aa=_0x421211[_0x56dbc0(0x8d0)]['closest'](_0x56dbc0(0x1ab)),_0x596bff=_0x421211['target']['closest'](_0x56dbc0(0x54d)),_0x11c968=_0x421211['target'][_0x56dbc0(0xb9a)](_0x56dbc0(0x4fa)),_0x346585=_0x421211[_0x56dbc0(0x8d0)][_0x56dbc0(0xb9a)](_0x56dbc0(0x42f)),_0x2e79a7=_0x421211[_0x56dbc0(0x8d0)][_0x56dbc0(0xb9a)](_0x56dbc0(0x513)),_0x3baeb6=_0x421211[_0x56dbc0(0x8d0)][_0x56dbc0(0xb9a)](_0x56dbc0(0x41f)),_0x3f5650=_0x421211[_0x56dbc0(0x8d0)][_0x56dbc0(0xb9a)](_0x56dbc0(0xaca)),_0x396147=_0x421211[_0x56dbc0(0x8d0)][_0x56dbc0(0xb9a)](_0x56dbc0(0x5a6)),_0x556548=_0x421211[_0x56dbc0(0x8d0)][_0x56dbc0(0xb9a)](_0x56dbc0(0x9bd)),_0x1f148a=_0x421211[_0x56dbc0(0x8d0)]['closest'](_0x56dbc0(0x1ce)),_0x57b1d0=_0x421211[_0x56dbc0(0x8d0)]['closest'](_0x56dbc0(0x7e8)),_0x427344=_0x421211['target']['closest']('.move-quiz-btn'),_0xb95884=_0x421211[_0x56dbc0(0x8d0)][_0x56dbc0(0xb9a)](_0x56dbc0(0x626)),_0x67d0a2=_0x421211[_0x56dbc0(0x8d0)][_0x56dbc0(0xb9a)](_0x56dbc0(0xbca)),_0x21e1ae=_0x421211['target'][_0x56dbc0(0xb9a)](_0x56dbc0(0x8da)),_0x53196b=_0x421211['target']['closest'](_0x56dbc0(0x593)),_0x224bf7=_0x421211[_0x56dbc0(0x8d0)][_0x56dbc0(0xb9a)](_0x56dbc0(0x3da)),_0x41f3b4=_0x421211['target']['closest'](_0x56dbc0(0x824)),_0x5acdbe=_0x421211[_0x56dbc0(0x8d0)]['closest'](_0x56dbc0(0x7a1)),_0x478403=_0x421211[_0x56dbc0(0x8d0)][_0x56dbc0(0xb9a)](_0x56dbc0(0x1d9)),_0x4247c5=_0x421211[_0x56dbc0(0x8d0)][_0x56dbc0(0xb9a)]('.generate-easy-version-btn'),_0x85ebec=_0x421211[_0x56dbc0(0x8d0)]['closest'](_0x56dbc0(0x29d)),_0x5bc869=_0x421211[_0x56dbc0(0x8d0)][_0x56dbc0(0xb9a)](_0x56dbc0(0x6ff));if(_0x85ebec){const _0x4a3aef=_0x85ebec['dataset']['quizId'],_0x52678a=_0x85ebec[_0x56dbc0(0x3b5)][_0x56dbc0(0x540)],_0x4fdd8d=allQuizzes[_0x56dbc0(0xbc5)](_0x56df19=>_0x56df19['id']===_0x4a3aef);_0x4fdd8d&&showGameStartConfirmationModal(_0x4a3aef,_0x52678a,_0x4fdd8d['topic']);}else{if(_0x5bc869){const _0x57d1ec=_0x5bc869['dataset']['quizId'];handleStartLiveRace(_0x57d1ec);}else{if(_0x478403){const _0x31cee2=_0x478403[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)],_0xfe1c4e=document['getElementById']('actions-container-'+_0x31cee2);_0xfe1c4e&&_0xfe1c4e[_0x56dbc0(0xbeb)][_0x56dbc0(0xb9b)]('hidden');}else{if(_0x596bff){const _0x4d2093=_0x596bff[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)],_0x304338=allQuizzes[_0x56dbc0(0xbc5)](_0x350359=>_0x350359['id']===_0x4d2093);_0x304338&&handleGenerateParallelPostTest(_0x304338);}else{if(_0x11c968)handleCompareResults(_0x11c968[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)],_0x11c968[_0x56dbc0(0x3b5)][_0x56dbc0(0x2a9)]);else{if(_0x346585){const _0x31fec2=_0x346585[_0x56dbc0(0x3b5)]['quizId'],_0x21eb6c=allQuizzes[_0x56dbc0(0xbc5)](_0x55c923=>_0x55c923['id']===_0x31fec2);_0x21eb6c&&_0x21eb6c[_0x56dbc0(0xaad)]?(displayLessonPlan(_0x21eb6c[_0x56dbc0(0xaad)],_0x21eb6c),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x31fec2)),document[_0x56dbc0(0x651)](_0x56dbc0(0x31c))[_0x56dbc0(0x2d5)]('h3')[_0x56dbc0(0xc23)]='แผนการสอน',document[_0x56dbc0(0x651)]('confirm-delete-btn')[_0x56dbc0(0xc23)]='สร้างใหม่'):handleGenerateLessonPlan(_0x31fec2);}else{if(_0x2e79a7)handleToggleStarQuiz(_0x2e79a7[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)]);else{if(_0x3baeb6)copyTextToClipboard(_0x3baeb6[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)],_0x56dbc0(0xae2));else{if(_0x3f5650)handleOpenQuizEditor(_0x3f5650[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)]);else{if(_0x396147)handleQuizSettings(_0x396147[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)]);else{if(_0x556548)handleDuplicateQuiz(_0x556548[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)]);else{if(_0x1f148a)handleRenameQuiz(_0x1f148a['dataset'][_0x56dbc0(0x8c6)],_0x1f148a[_0x56dbc0(0x3b5)][_0x56dbc0(0x78b)]);else{if(_0x57b1d0){const _0x29d2fd=_0x57b1d0[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)],_0x5d64a6=allQuizzes['find'](_0x134b60=>_0x134b60['id']===_0x29d2fd);_0x5d64a6&&handleGenerateParallelFromBank(_0x5d64a6);}else{if(_0x427344)handleMoveQuiz(_0x427344[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)]);else{if(_0xb95884)handleManualQuizPairing(_0xb95884[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)]);else{if(_0x67d0a2)handleUnpairQuiz(_0x67d0a2[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)]);else{if(_0x21e1ae){const _0x56427d=_0x21e1ae[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)],_0x38c2a6=allQuizzes[_0x56dbc0(0xbc5)](_0x52572e=>_0x52572e['id']===_0x56427d);if(_0x38c2a6)startPresentation(_0x38c2a6);}else{if(_0x53196b){const _0x3d6b9a=_0x53196b['dataset']['quizId'],_0x541cab=allQuizzes[_0x56dbc0(0xbc5)](_0x31d354=>_0x31d354['id']===_0x3d6b9a);_0x541cab&&(currentQuizData=_0x541cab,startAdminTest());}else{if(_0x224bf7)actionTargetId=_0x224bf7[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)],document[_0x56dbc0(0x651)](_0x56dbc0(0x80f))[_0x56dbc0(0xbeb)][_0x56dbc0(0x303)](_0x56dbc0(0x6ca));else{if(_0x41f3b4)showConfirmation(_0x56dbc0(0xa3f)+_0x41f3b4[_0x56dbc0(0x3b5)][_0x56dbc0(0x78b)]+_0x56dbc0(0xa36),()=>handleDeleteQuiz(_0x41f3b4['dataset'][_0x56dbc0(0x8c6)]));else{if(_0x5acdbe)handleQuizStatus(_0x5acdbe[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)]);else{if(_0x4247c5)handleGenerateEasyVersionQuiz(_0x4247c5[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)]);else _0xb3b9aa&&showQuizDetailView(_0xb3b9aa[_0x56dbc0(0x3b5)][_0x56dbc0(0x8c6)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x329113(0x651)](_0x329113(0x196))[_0x329113(0x7bb)]('click',()=>showView('student')),document['getElementById'](_0x329113(0xa8d))[_0x329113(0x7bb)](_0x329113(0x530),confirmAndStartTeamQuiz),document[_0x329113(0x651)](_0x329113(0x1fd))[_0x329113(0x2d5)]('thead')[_0x329113(0x7bb)]('click',_0x4b1451=>{const _0x4f03e1=_0x329113,_0x2ed7bc=_0x4b1451[_0x4f03e1(0x8d0)][_0x4f03e1(0xb9a)](_0x4f03e1(0x53b));if(!_0x2ed7bc||!_0x2ed7bc['dataset'][_0x4f03e1(0xa7e)])return;const _0x2349aa=_0x2ed7bc[_0x4f03e1(0x3b5)]['sort'];if(quizLeaderboardSortBy===_0x2349aa)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x4f03e1(0x7b7)?_0x4f03e1(0x69c):'asc';else{quizLeaderboardSortBy=_0x2349aa;const _0xba3075=[_0x4f03e1(0x637)];quizLeaderboardSortOrder=_0xba3075['includes'](_0x2349aa)?_0x4f03e1(0x7b7):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document['getElementById'](_0x329113(0x53f))[_0x329113(0x7bb)]('click',closePresentation),document[_0x329113(0x651)]('prev-question-btn')[_0x329113(0x7bb)](_0x329113(0x530),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x329113(0x9e5))['addEventListener'](_0x329113(0x530),()=>{const _0x3ae80f=_0x329113;currentQuizData[_0x3ae80f(0x132)]&&currentPresentationSlide<currentQuizData['questions'][_0x3ae80f(0x9fa)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener']('fullscreenchange',()=>{const _0x27e17e=_0x329113;!document['fullscreenElement']&&(presentationModal[_0x27e17e(0x5ce)][_0x27e17e(0x4ba)]='none');}),document[_0x329113(0x651)](_0x329113(0x6ac))[_0x329113(0x7bb)]('click',handleDeleteAllStudents),studentList['addEventListener'](_0x329113(0x530),_0x518316=>{const _0x2f5efe=_0x329113,_0x274085=_0x518316[_0x2f5efe(0x8d0)][_0x2f5efe(0xb9a)]('.delete-student-btn');if(_0x274085){const _0x135733=_0x274085['dataset']['studentName'];handleDeleteStudent(_0x135733);}}),document[_0x329113(0x651)]('generate-from-file-btn')[_0x329113(0x7bb)]('click',handleGenerateFromFileClick),fileUploadInput[_0x329113(0x7bb)](_0x329113(0x761),_0x4c118d=>{const _0x502065=_0x329113,_0x19772d=_0x4c118d['target']['files'][0x0],_0x2ba001=document[_0x502065(0x651)](_0x502065(0x1fe)),_0x26dc87=document['getElementById'](_0x502065(0x6e3)),_0x4251a0=document['getElementById']('separate-by-content-from-file-checkbox');_0x19772d?(selectedFile=_0x19772d,_0x4251a0['checked']?(_0x2ba001[_0x502065(0x993)]=!![],analyzeFileForTopics(_0x19772d)):(_0x2ba001['disabled']=![],_0x26dc87[_0x502065(0xbeb)]['add'](_0x502065(0x6ca)))):(selectedFile=null,_0x2ba001['disabled']=!![],_0x26dc87['classList']['add']('hidden'));}),document[_0x329113(0x651)](_0x329113(0x98f))[_0x329113(0x7bb)](_0x329113(0x761),_0x4ebd51=>{const _0x3caa08=_0x329113,_0x338d6c=_0x4ebd51[_0x3caa08(0x8d0)]['checked'],_0x213030=document[_0x3caa08(0x651)]('generate-from-file-btn'),_0x3eb174=document[_0x3caa08(0x651)](_0x3caa08(0x6e3));_0x338d6c?(_0x213030[_0x3caa08(0x993)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x3eb174['classList'][_0x3caa08(0x303)](_0x3caa08(0x6ca)),document['getElementById']('file-topics-list')[_0x3caa08(0x61b)]=_0x3caa08(0x8a9))):(_0x3eb174[_0x3caa08(0xbeb)]['add']('hidden'),_0x213030[_0x3caa08(0x993)]=!selectedFile);}),document[_0x329113(0x651)](_0x329113(0x6e3))[_0x329113(0x7bb)](_0x329113(0x530),_0x37652d=>{const _0x3dc968=_0x329113,_0x4ed437=_0x37652d[_0x3dc968(0x8d0)][_0x3dc968(0xb9a)](_0x3dc968(0x60c)),_0x56dc9d=_0x37652d[_0x3dc968(0x8d0)][_0x3dc968(0xb9a)](_0x3dc968(0x31f));if(_0x4ed437){const _0x3cfb04=unescape(_0x4ed437[_0x3dc968(0x3b5)]['topic']);generateHybridQuizForTopic(_0x3cfb04);}else{if(_0x56dc9d){const _0x5b42cc=unescape(_0x56dc9d[_0x3dc968(0x3b5)][_0x3dc968(0x78b)]),_0x14cf6d=document[_0x3dc968(0x651)](_0x3dc968(0x819))['value'];handleGenerateAndShowLesson(_0x5b42cc,_0x14cf6d);}}}),document[_0x329113(0x651)](_0x329113(0xb7f))[_0x329113(0x7bb)](_0x329113(0x761),_0x3de4c6=>{const _0x3c9857=_0x329113,_0x357b4d=document['getElementById'](_0x3c9857(0xae9)),_0x1895a2=document['getElementById'](_0x3c9857(0x9f9)),_0x16cf76=document['getElementById']('timer-duration-input');_0x3de4c6[_0x3c9857(0x8d0)][_0x3c9857(0x3b7)]==='none'?_0x357b4d[_0x3c9857(0xbeb)][_0x3c9857(0x7bd)](_0x3c9857(0x6ca)):(_0x357b4d['classList'][_0x3c9857(0x303)](_0x3c9857(0x6ca)),_0x3de4c6[_0x3c9857(0x8d0)][_0x3c9857(0x3b7)]===_0x3c9857(0x7aa)?(_0x1895a2[_0x3c9857(0xc23)]=_0x3c9857(0xace),_0x16cf76[_0x3c9857(0x3b7)]='10'):(_0x1895a2[_0x3c9857(0xc23)]=_0x3c9857(0x690),_0x16cf76[_0x3c9857(0x3b7)]='30'));}),document['getElementById'](_0x329113(0xa39))[_0x329113(0x7bb)](_0x329113(0x761),_0x2a564f=>{const _0x3efed8=_0x329113,_0x4efd8c=document[_0x3efed8(0x651)](_0x3efed8(0x9c6)),_0x3fd842=_0x2a564f[_0x3efed8(0x8d0)][_0x3efed8(0x3b7)],_0x3796e4=document[_0x3efed8(0x2d5)]('label[for=\x22num-questions\x22]'),_0x4a185e=document['getElementById'](_0x3efed8(0x6ad)),_0x52a541=document[_0x3efed8(0x651)](_0x3efed8(0x383));_0x3fd842===_0x3efed8(0x55e)?_0x3796e4[_0x3efed8(0xc23)]=_0x3efed8(0x6c9):_0x3796e4[_0x3efed8(0xc23)]=_0x3efed8(0x18b),_0x3fd842===_0x3efed8(0x2c6)||_0x3fd842==='fill_in_with_choices'||_0x3fd842===_0x3efed8(0x19f)?_0x4efd8c[_0x3efed8(0xbeb)][_0x3efed8(0x303)](_0x3efed8(0x6ca)):_0x4efd8c[_0x3efed8(0xbeb)][_0x3efed8(0x7bd)](_0x3efed8(0x6ca)),_0x4a185e[_0x3efed8(0x682)]=_0x52a541[_0x3efed8(0x3b7)];}),document[_0x329113(0x651)]('num-questions')['addEventListener'](_0x329113(0xbec),_0x30b2d6=>{const _0x219eca=_0x329113;document[_0x219eca(0x651)]('passing-score-input')[_0x219eca(0x682)]=_0x30b2d6[_0x219eca(0x8d0)]['value'];}),document[_0x329113(0x651)](_0x329113(0x136))['addEventListener'](_0x329113(0x761),_0x1f6944=>{const _0x59f1da=_0x329113,_0x13f437=document['getElementById'](_0x59f1da(0xb3f)),_0x141ad9=document[_0x59f1da(0x651)](_0x59f1da(0x6e8)),_0x50874c=document['getElementById'](_0x59f1da(0x715));_0x1f6944[_0x59f1da(0x8d0)]['value']==='none'?_0x13f437[_0x59f1da(0xbeb)][_0x59f1da(0x7bd)](_0x59f1da(0x6ca)):(_0x13f437[_0x59f1da(0xbeb)][_0x59f1da(0x303)](_0x59f1da(0x6ca)),_0x1f6944[_0x59f1da(0x8d0)][_0x59f1da(0x3b7)]===_0x59f1da(0x7aa)?_0x141ad9[_0x59f1da(0xc23)]='ระยะเวลา\x20(นาที):':_0x141ad9[_0x59f1da(0xc23)]=_0x59f1da(0x690));}),document['getElementById'](_0x329113(0x1ba))[_0x329113(0x7bb)]('click',()=>{const _0x2087d4=_0x329113;document['getElementById']('quiz-editor-modal')[_0x2087d4(0xbeb)][_0x2087d4(0x7bd)](_0x2087d4(0x6ca));}),document[_0x329113(0x651)](_0x329113(0x72d))[_0x329113(0x7bb)]('click',()=>{const _0x57ff60=_0x329113;document[_0x57ff60(0x651)](_0x57ff60(0x9b4))[_0x57ff60(0xbeb)][_0x57ff60(0x7bd)](_0x57ff60(0x6ca));}),document[_0x329113(0x651)](_0x329113(0xb04))['addEventListener']('click',handleVerifyAnswersInEditor),document['getElementById'](_0x329113(0xa08))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x27b20f=_0x329113;document[_0x27b20f(0x651)](_0x27b20f(0x9b4))['classList'][_0x27b20f(0x7bd)](_0x27b20f(0x6ca)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x329113(0x651)]('auto-fix-latex-btn')[_0x329113(0x7bb)](_0x329113(0x530),handleAutoFixLatex);const _0x24e76a=document[_0x329113(0x651)]('quiz-editor-questions-container');_0x24e76a&&_0x24e76a[_0x329113(0x7bb)](_0x329113(0x530),_0x927f00=>{const _0x58959d=_0x329113,_0x24852c=_0x927f00['target'][_0x58959d(0xb9a)](_0x58959d(0x25b)),_0x8dd432=_0x927f00[_0x58959d(0x8d0)]['closest'](_0x58959d(0x7a4));if(_0x24852c){const _0x32ef7c=_0x24852c[_0x58959d(0xb9a)](_0x58959d(0x7fc)),_0x58b0bb=parseInt(_0x32ef7c[_0x58959d(0x3b5)][_0x58959d(0xc28)],0xa);handleRegenerateQuestionInEditor(_0x58b0bb);}else{if(_0x8dd432){const _0x291f83=_0x8dd432[_0x58959d(0xb9a)](_0x58959d(0x7fc)),_0x2e29e9=parseInt(_0x291f83[_0x58959d(0x3b5)]['qIndex'],0xa);handleAiFixFormula(_0x2e29e9);}}});document[_0x329113(0x651)](_0x329113(0x14b))[_0x329113(0x7bb)]('click',openQuizBankModal),document[_0x329113(0x651)](_0x329113(0x7c1))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x4753fc=_0x329113;document['getElementById']('quiz-bank-modal')[_0x4753fc(0xbeb)][_0x4753fc(0x7bd)](_0x4753fc(0x6ca));}),document[_0x329113(0x651)]('bank-quiz-search-input')['addEventListener'](_0x329113(0xbec),_0x30f5eb=>renderQuizBankList(_0x30f5eb[_0x329113(0x8d0)][_0x329113(0x3b7)]));const _0x2e38b4=document[_0x329113(0x651)](_0x329113(0x4d1));if(_0x2e38b4){let _0x55da08=null;_0x2e38b4[_0x329113(0x7bb)](_0x329113(0x530),_0x4e009a=>{const _0x34ff1b=_0x329113,_0x481e05=_0x4e009a['target'],_0x3c0008=_0x481e05[_0x34ff1b(0xb9a)]('.edit-custom-topic-btn'),_0x4c77f2=_0x481e05[_0x34ff1b(0xb9a)]('.delete-custom-topic-btn'),_0x5d9a0f=_0x481e05[_0x34ff1b(0xb9a)](_0x34ff1b(0x3d7)),_0x5568e1=_0x481e05[_0x34ff1b(0xb9a)](_0x34ff1b(0x805));if(_0x4c77f2){_0x4e009a[_0x34ff1b(0x4a8)]();const _0x3d4bbb=_0x4c77f2['dataset']['id'],_0x5b409d=_0x4c77f2[_0x34ff1b(0xb9a)](_0x34ff1b(0x8e2))['querySelector'](_0x34ff1b(0x9b3))[_0x34ff1b(0xc23)];showConfirmation(_0x34ff1b(0x696)+_0x5b409d+'\x22?',()=>handleDeleteCustomTopic(_0x3d4bbb));}else{if(_0x3c0008){_0x4e009a['preventDefault']();_0x55da08&&toggleTopicEditMode(_0x55da08,![]);const _0x214f86=_0x3c0008[_0x34ff1b(0xb9a)](_0x34ff1b(0x32d));_0x55da08=_0x214f86,toggleTopicEditMode(_0x214f86,!![]);}else{if(_0x5d9a0f){_0x4e009a['preventDefault']();const _0x24f3be=_0x5d9a0f[_0x34ff1b(0x3b5)]['id'],_0x3e23a2=_0x5d9a0f[_0x34ff1b(0xb9a)](_0x34ff1b(0x32d)),_0x4e3fa3=_0x3e23a2['querySelector']('.topic-name-input')[_0x34ff1b(0x3b7)];handleUpdateCustomTopic(_0x24f3be,_0x4e3fa3),_0x55da08=null;}else{if(_0x5568e1){_0x4e009a[_0x34ff1b(0x4a8)]();const _0x51419d=_0x5568e1['closest'](_0x34ff1b(0x32d));toggleTopicEditMode(_0x51419d,![]),_0x55da08=null;}}}}}),document[_0x329113(0x651)](_0x329113(0x783))['addEventListener']('click',()=>{const _0xe1fe3f=_0x329113;document[_0xe1fe3f(0x651)](_0xe1fe3f(0x76a))[_0xe1fe3f(0xbeb)][_0xe1fe3f(0x7bd)](_0xe1fe3f(0x6ca));}),document[_0x329113(0x651)](_0x329113(0x423))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x192ebd=_0x329113;document[_0x192ebd(0x651)](_0x192ebd(0x76a))[_0x192ebd(0xbeb)][_0x192ebd(0x7bd)](_0x192ebd(0x6ca));}),document[_0x329113(0x651)](_0x329113(0x965))[_0x329113(0x7bb)](_0x329113(0x530),handleExportLessonPDF);}document[_0x329113(0x651)](_0x329113(0x366))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x3be7ad=_0x329113;document[_0x3be7ad(0x651)](_0x3be7ad(0x4d9))['classList'][_0x3be7ad(0x7bd)](_0x3be7ad(0x6ca));}),document['getElementById'](_0x329113(0x81b))[_0x329113(0x7bb)](_0x329113(0x530),()=>{const _0x37c1b0=_0x329113;document[_0x37c1b0(0x651)](_0x37c1b0(0x4d9))[_0x37c1b0(0xbeb)][_0x37c1b0(0x7bd)]('hidden');}),setupComparisonModalTabs(),document[_0x329113(0xab6)][_0x329113(0x7bb)]('click',function(_0x319e22){const _0xa5b502=_0x329113;if(_0x319e22[_0xa5b502(0x8d0)][_0xa5b502(0xbeb)]['contains']('practice-topic-btn')){const _0x46895e=unescape(_0x319e22[_0xa5b502(0x8d0)][_0xa5b502(0x3b5)][_0xa5b502(0x78b)]);startSkillPractice(_0x46895e);}}),document[_0x329113(0x651)](_0x329113(0xb4b))[_0x329113(0x7bb)]('click',_0x1e26de=>{const _0x5852b6=_0x329113,_0x4fdec6=_0x1e26de[_0x5852b6(0x8d0)]['closest'](_0x5852b6(0x3b3));if(_0x4fdec6){const _0x539210=_0x4fdec6['dataset'][_0x5852b6(0x637)];handleDeleteSubmission(_0x539210);}});}async function handleStartGroupMode(_0x132b5c,_0xf5e669=![]){const _0x3cd6e8=_0x4414d4,_0x2a889a=allQuizzes[_0x3cd6e8(0xbc5)](_0x6ba624=>_0x6ba624['id']===_0x132b5c)||allQuizzesGlobal['find'](_0x5013b5=>_0x5013b5['id']===_0x132b5c);if(!_0x2a889a){showMessage(_0x3cd6e8(0xb80));return;}currentQuizData=getShuffledQuiz(_0x2a889a);const _0x46fa2c=Math[_0x3cd6e8(0x688)](0x3e8+Math[_0x3cd6e8(0xc29)]()*0x2328)[_0x3cd6e8(0x332)]();try{const _0x3026cf=await addDoc(collection(db,_0x3cd6e8(0x763)+appId+_0x3cd6e8(0x98b)),{'quizId':_0x2a889a['id'],'projectId':_0x2a889a[_0x3cd6e8(0x661)],'status':_0x3cd6e8(0xb4f),'pin':_0x46fa2c,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xf5e669});currentTeamQuizId=_0x3026cf['id'],showView(_0x3cd6e8(0x70c)),renderAdminTeamQuizDashboard(_0x46fa2c,_0x2a889a['topic'],_0x3cd6e8(0x19a)),listenForTeamQuizUpdates();}catch(_0x3a4f08){console[_0x3cd6e8(0xb95)]('Error\x20starting\x20group\x20quiz:',_0x3a4f08),showMessage(_0x3cd6e8(0x7fe));}}async function showStudentProgressView(){const _0x4b6637=_0x4414d4;studentInitialView[_0x4b6637(0xbeb)][_0x4b6637(0x7bd)](_0x4b6637(0x6ca)),document[_0x4b6637(0x651)]('student-progress-view')['classList'][_0x4b6637(0x303)](_0x4b6637(0x6ca));const _0xa87e61=document[_0x4b6637(0x651)]('progress-project-select'),_0x2b4efe=document[_0x4b6637(0x651)](_0x4b6637(0xa1d)),_0x467e34=document['getElementById'](_0x4b6637(0xb24));_0x467e34[_0x4b6637(0x61b)]=_0x4b6637(0xa54),_0x2b4efe[_0x4b6637(0x61b)]=_0x4b6637(0x944),_0x2b4efe['disabled']=!![],_0xa87e61[_0x4b6637(0x61b)]=_0x4b6637(0x5a8);if(allProjects['length']===0x0){const _0x5301c7=collection(db,'artifacts/'+appId+_0x4b6637(0x714)),_0x1e04ab=await getDocs(_0x5301c7);allProjects=_0x1e04ab[_0x4b6637(0x599)][_0x4b6637(0xb6a)](_0x1024a9=>({'id':_0x1024a9['id'],..._0x1024a9['data']()}));}const _0x3f9079=allProjects[_0x4b6637(0x7c4)](_0x356fd2=>_0x356fd2['settings']?.[_0x4b6637(0xc10)]!==![]);_0x3f9079['sort']((_0x1fade4,_0xa56762)=>_0x1fade4[_0x4b6637(0x68c)]['localeCompare'](_0xa56762['projectName'],'th')),_0xa87e61[_0x4b6637(0x61b)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x3f9079['map'](_0x52b482=>'<option\x20value=\x22'+_0x52b482['id']+'\x22>'+_0x52b482['projectName']+'</option>')['join'](''),_0xa87e61[_0x4b6637(0x544)]=()=>{const _0x63b4f1=_0x4b6637,_0x54fcdf=_0x2b4efe['value'],_0x5d1fbb=_0xa87e61[_0x63b4f1(0x3b7)];_0x2b4efe[_0x63b4f1(0x993)]=!![],_0x2b4efe[_0x63b4f1(0x61b)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x467e34[_0x63b4f1(0x61b)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x5d1fbb)return;const _0x8cae5a=allProjects[_0x63b4f1(0xbc5)](_0x1b1933=>_0x1b1933['id']===_0x5d1fbb);if(!_0x8cae5a||!_0x8cae5a[_0x63b4f1(0xb29)])return;const _0x18f427=()=>{const _0x509b22=_0x63b4f1;_0x2b4efe['innerHTML']=_0x509b22(0x944)+_0x8cae5a[_0x509b22(0xb29)][_0x509b22(0xb6a)](_0x14c414=>_0x509b22(0x6ef)+_0x14c414+'\x22>'+_0x14c414+_0x509b22(0x433))[_0x509b22(0x254)](''),_0x2b4efe['disabled']=![];const _0x4ccffd=Array[_0x509b22(0x65a)](_0x2b4efe[_0x509b22(0xb4a)])[_0x509b22(0xb6a)](_0x293997=>_0x293997[_0x509b22(0x3b7)]);if(_0x54fcdf&&_0x4ccffd[_0x509b22(0x6ed)](_0x54fcdf))_0x2b4efe['value']=_0x54fcdf,_0x2b4efe[_0x509b22(0x175)](new Event('change'));else _0x8cae5a['students']['length']===0x1&&(_0x2b4efe['value']=_0x8cae5a[_0x509b22(0xb29)][0x0],_0x2b4efe[_0x509b22(0x175)](new Event('change')));};if(_0x8cae5a['settings']?.[_0x63b4f1(0x6e5)]){if(sessionStorage[_0x63b4f1(0x7ff)](_0x63b4f1(0x190)+_0x5d1fbb)===_0x63b4f1(0x7a0)){_0x18f427();return;}const _0x39a23f=document['getElementById'](_0x63b4f1(0x528)),_0x3cd842=document[_0x63b4f1(0x651)]('confirm-passcode-btn'),_0x36ccec=document['getElementById'](_0x63b4f1(0x8c1)),_0x340b40=document[_0x63b4f1(0x651)](_0x63b4f1(0x568)),_0x3b4bdc=document[_0x63b4f1(0x651)](_0x63b4f1(0x9a4));document[_0x63b4f1(0x651)](_0x63b4f1(0x385))['textContent']=_0x63b4f1(0x2a5)+_0x8cae5a[_0x63b4f1(0x68c)],_0x340b40[_0x63b4f1(0x3b7)]='',_0x3b4bdc[_0x63b4f1(0xbeb)]['add'](_0x63b4f1(0x6ca)),_0x39a23f[_0x63b4f1(0xbeb)][_0x63b4f1(0x303)]('hidden');const _0x1c384b=()=>{const _0x2c92fd=_0x63b4f1,_0x3b7cf3=_0x340b40[_0x2c92fd(0x3b7)][_0x2c92fd(0x4fe)]();_0x3b7cf3===_0x8cae5a['settings']['passcode']?(sessionStorage[_0x2c92fd(0x343)](_0x2c92fd(0x190)+_0x5d1fbb,_0x2c92fd(0x7a0)),_0x39a23f['classList'][_0x2c92fd(0x7bd)]('hidden'),_0x18f427(),_0x3cd842['removeEventListener'](_0x2c92fd(0x530),_0x1c384b)):_0x3b4bdc['classList']['remove'](_0x2c92fd(0x6ca));};_0x3cd842[_0x63b4f1(0x901)]=_0x1c384b,_0x36ccec[_0x63b4f1(0x901)]=()=>{const _0x4f4f14=_0x63b4f1;_0x39a23f[_0x4f4f14(0xbeb)][_0x4f4f14(0x7bd)](_0x4f4f14(0x6ca)),_0xa87e61[_0x4f4f14(0x3b7)]='',_0x3cd842[_0x4f4f14(0x3ee)]('click',_0x1c384b);};}else _0x18f427();},_0x2b4efe[_0x4b6637(0x544)]=()=>{const _0x1545a9=_0x4b6637,_0xa3254b=_0xa87e61[_0x1545a9(0x3b7)],_0x2030c9=_0x2b4efe[_0x1545a9(0x3b7)];_0xa3254b&&_0x2030c9&&renderStudentProgressDashboard(_0xa3254b,_0x2030c9);};}async function confirmAndJoinSyncGame(){const _0x3e411f=_0x4414d4,_0x668dd2=Array['from'](document[_0x3e411f(0x514)](_0x3e411f(0x97a)))[_0x3e411f(0xb6a)](_0x28ff7f=>_0x28ff7f['value']);if(_0x668dd2[_0x3e411f(0x9fa)]===0x0){showMessage(_0x3e411f(0x4f5));return;}localTeamPlayers=_0x668dd2,localPlayerTurnIndex=0x0;const _0xc343a=doc(db,_0x3e411f(0x763)+appId+_0x3e411f(0x683),currentLiveGameId);try{const _0x43757e=await getDoc(_0xc343a);if(!_0x43757e[_0x3e411f(0x523)]())throw new Error(_0x3e411f(0x3c1));const _0xde5387=_0x43757e[_0x3e411f(0x213)]()[_0x3e411f(0xb76)]||{};_0x668dd2[_0x3e411f(0x15f)](_0x7ae974=>{const _0x5d92ca=_0x3e411f;!_0xde5387[_0x7ae974]&&(_0xde5387[_0x7ae974]={'name':_0x7ae974,'score':0x0,'answered':![],'status':_0x5d92ca(0x712)});}),await updateDoc(_0xc343a,{'players':_0xde5387}),document[_0x3e411f(0x651)]('student-team-selection-view')[_0x3e411f(0xbeb)]['add'](_0x3e411f(0x6ca)),currentStudentName=_0x668dd2[0x0],listenForSyncGameUpdates();const _0x440fb8={'gameId':currentLiveGameId,'mode':_0x3e411f(0x619),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x3e411f(0x546),JSON[_0x3e411f(0x177)](_0x440fb8));}catch(_0x4a2d4a){console[_0x3e411f(0xb95)](_0x3e411f(0xc0d),_0x4a2d4a),showMessage(_0x3e411f(0x390));}}async function resumeActiveGameSession(){const _0x512d46=_0x4414d4,_0x73b937=sessionStorage[_0x512d46(0x7ff)](_0x512d46(0x546));if(!_0x73b937)return;const _0x3f6b69=JSON[_0x512d46(0x607)](_0x73b937),{gameId:_0x33322b,mode:_0x20ff08,players:_0x53b0c6,turnIndex:_0x1d4ee3}=_0x3f6b69;try{let _0xf7c3a7,_0xffb4d6;_0x20ff08===_0x512d46(0x619)?_0xf7c3a7=doc(db,_0x512d46(0x763)+appId+_0x512d46(0x683),_0x33322b):_0xf7c3a7=doc(db,_0x512d46(0x763)+appId+'/public/data/teamQuizzes',_0x33322b);_0xffb4d6=await getDoc(_0xf7c3a7);if(!_0xffb4d6[_0x512d46(0x523)]()||_0xffb4d6['data']()[_0x512d46(0x7f9)]==='finished'||_0xffb4d6[_0x512d46(0x213)]()['status']===_0x512d46(0xa20)){sessionStorage[_0x512d46(0x9b2)]('activeGameSession');return;}console['log']('กำลังกลับเข้าสู่เกม\x20'+_0x20ff08+_0x512d46(0xa46)+_0x33322b+')'),localTeamPlayers=_0x53b0c6,localPlayerTurnIndex=_0x1d4ee3;if(_0x20ff08===_0x512d46(0x619))currentLiveGameId=_0x33322b,currentStudentName=_0x53b0c6[0x0],showView(_0x512d46(0x70c)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x33322b;const _0x5d1d5d=_0xffb4d6[_0x512d46(0x213)](),_0x4f8409=doc(db,_0x512d46(0x763)+appId+'/public/data/quizzes',_0x5d1d5d[_0x512d46(0x8c6)]),_0xcd3281=await getDoc(_0x4f8409);_0xcd3281[_0x512d46(0x523)]()&&(currentQuizData=getShuffledQuiz({'id':_0xcd3281['id'],..._0xcd3281['data']()}),showView(_0x512d46(0x1e0)),studentInitialView[_0x512d46(0xbeb)][_0x512d46(0x7bd)](_0x512d46(0x6ca)),renderTeamQuizQuestion());}}catch(_0x2edf7a){console[_0x512d46(0xb95)]('Failed\x20to\x20resume\x20game\x20session:',_0x2edf7a),sessionStorage[_0x512d46(0x9b2)](_0x512d46(0x546));}}function activateFileInputAreaWithLoadedFile(){const _0x5af84f=_0x4414d4,_0x57afc8=document['getElementById'](_0x5af84f(0x1fe)),_0x227f7e=document[_0x5af84f(0x651)](_0x5af84f(0x6e3)),_0x565b26=document[_0x5af84f(0x651)]('separate-by-content-from-file-checkbox');selectedFile?_0x565b26[_0x5af84f(0x173)]?(_0x57afc8['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x57afc8[_0x5af84f(0x993)]=![],_0x227f7e[_0x5af84f(0xbeb)][_0x5af84f(0x7bd)](_0x5af84f(0x6ca))):(_0x57afc8['disabled']=!![],_0x227f7e['classList'][_0x5af84f(0x7bd)](_0x5af84f(0x6ca)));}async function handleKickPlayerSync(_0x45fa8c){const _0x2cbc7c=_0x4414d4;if(!currentLiveGameId||!_0x45fa8c)return;const _0x5be9d1=doc(db,_0x2cbc7c(0x763)+appId+'/public/data/syncGames',currentLiveGameId),_0x20c84b={};_0x20c84b[_0x2cbc7c(0x25a)+_0x45fa8c+'.status']=_0x2cbc7c(0x917);try{await updateDoc(_0x5be9d1,_0x20c84b);}catch(_0x31670a){console['error'](_0x2cbc7c(0x1b0)+_0x45fa8c+'\x20from\x20sync\x20game:',_0x31670a),showMessage(_0x2cbc7c(0x7d3));}}async function renderStudentProgressDashboard(_0x18f174,_0x2ac02e){const _0x2afc7e=_0x4414d4,_0x566cb5=document[_0x2afc7e(0x651)]('student-progress-content');_0x566cb5[_0x2afc7e(0x61b)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x498c88=collection(db,_0x2afc7e(0x763)+appId+_0x2afc7e(0x2cd)),_0x166494=query(_0x498c88,where(_0x2afc7e(0x661),'==',_0x18f174)),_0x2e17f1=await getDocs(_0x166494),_0x114e3e=_0x2e17f1[_0x2afc7e(0x599)]['map'](_0x28b890=>({'id':_0x28b890['id'],..._0x28b890['data']()})),_0x94130e=_0x114e3e[_0x2afc7e(0xb6a)](_0x226b1b=>getDoc(doc(db,'artifacts/'+appId+_0x2afc7e(0x2b2)+_0x226b1b['id']+'/submissions',_0x2ac02e))),_0x3c532a=await Promise[_0x2afc7e(0x7a2)](_0x94130e),_0x132e37=_0x3c532a[_0x2afc7e(0x7c4)](_0x452e34=>_0x452e34[_0x2afc7e(0x523)]())[_0x2afc7e(0xb6a)](_0x3afedf=>({'quizId':_0x3afedf[_0x2afc7e(0x617)][_0x2afc7e(0x15b)][_0x2afc7e(0x15b)]['id'],..._0x3afedf[_0x2afc7e(0x213)]()}));if(_0x132e37[_0x2afc7e(0x9fa)]===0x0){_0x566cb5[_0x2afc7e(0x61b)]=_0x2afc7e(0x187);return;}let _0x3136c9='<div\x20class=\x22space-y-4\x22>';_0x132e37['forEach'](_0x43dba2=>{const _0x299bf2=_0x2afc7e,_0x565bd4=_0x114e3e['find'](_0x1a1a5a=>_0x1a1a5a['id']===_0x43dba2[_0x299bf2(0x8c6)]),_0x4b5fc1=_0x565bd4[_0x299bf2(0xb21)]?.['resultsDisplay']||_0x299bf2(0x3d2),_0x30b9e1=_0x565bd4[_0x299bf2(0xb21)]?.[_0x299bf2(0x1c1)]??0x0,_0xce736a=_0x43dba2[_0x299bf2(0x1a1)]>=_0x30b9e1;let _0x1ce2b9='',_0x202b92=_0x299bf2(0xbf8);switch(_0x4b5fc1){case'show_results_and_answers':case _0x299bf2(0xb1b):_0x202b92=_0xce736a?_0x299bf2(0x85d):'bg-red-50',_0x1ce2b9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0xce736a?'text-green-700':_0x299bf2(0x8cd))+'\x22>'+_0x43dba2[_0x299bf2(0x1a1)]+_0x299bf2(0x8b5)+_0x43dba2[_0x299bf2(0x511)]+_0x299bf2(0x22e)+(_0xce736a?_0x299bf2(0x6a1):'bg-red-200\x20text-red-800')+'\x22>'+(_0xce736a?'ผ่าน':_0x299bf2(0x871))+_0x299bf2(0xacf);break;case'show_pass_fail_only':_0x202b92=_0xce736a?'bg-green-50':_0x299bf2(0x3be),_0x1ce2b9=_0x299bf2(0x8ac)+(_0xce736a?_0x299bf2(0x6a1):'bg-red-200\x20text-red-800')+'\x22>'+(_0xce736a?'ผ่าน':_0x299bf2(0x871))+_0x299bf2(0xacf);break;case'manual_release':_0x202b92=_0x299bf2(0x666),_0x1ce2b9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x3136c9+=_0x299bf2(0xbcd)+_0x202b92+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x565bd4[_0x299bf2(0x78b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x43dba2[_0x299bf2(0x18d)][_0x299bf2(0x9fa)]+_0x299bf2(0xa2b)+new Date(_0x43dba2['latestSubmittedAt'])[_0x299bf2(0x2fa)](_0x299bf2(0x276))+_0x299bf2(0xbf5)+_0x1ce2b9+_0x299bf2(0x85f);}),_0x3136c9+=_0x2afc7e(0x8ff),_0x566cb5['innerHTML']=_0x3136c9;}catch(_0x32dc00){console[_0x2afc7e(0xb95)](_0x2afc7e(0x308),_0x32dc00),_0x566cb5[_0x2afc7e(0x61b)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x298580=''){const _0x17f875=_0x4414d4,_0x41f7fb=document[_0x17f875(0x651)]('bank-quiz-list'),_0x47f2ab=_0x298580[_0x17f875(0x939)]()[_0x17f875(0x4fe)](),_0x57adb6=allQuizzesGlobal[_0x17f875(0xb6a)](_0x216ad7=>({..._0x216ad7,'projectName':allProjects[_0x17f875(0xbc5)](_0x39b85f=>_0x39b85f['id']===_0x216ad7[_0x17f875(0x661)])?.[_0x17f875(0x68c)]||_0x17f875(0x18a)}))[_0x17f875(0x7c4)](_0x3b9326=>(_0x3b9326[_0x17f875(0x78b)]||'')[_0x17f875(0x939)]()[_0x17f875(0x6ed)](_0x47f2ab)||(_0x3b9326['projectName']||'')[_0x17f875(0x939)]()[_0x17f875(0x6ed)](_0x47f2ab)||_0x3b9326['id'][_0x17f875(0x332)]()['includes'](_0x47f2ab));_0x41f7fb['innerHTML']=_0x57adb6['length']?_0x57adb6[_0x17f875(0xb6a)](_0x224a09=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x224a09['id']+'\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x224a09['topic']||_0x17f875(0x5bc))+_0x17f875(0x581)+_0x224a09[_0x17f875(0x68c)]+'\x20|\x20ID:\x20'+_0x224a09['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x17f875(0x254)](''):_0x17f875(0x4e5),_0x41f7fb['onchange']=()=>{const _0x76b154=_0x17f875,_0x383c49=document[_0x76b154(0x2d5)](_0x76b154(0x926));document[_0x76b154(0x651)](_0x76b154(0x7db))[_0x76b154(0x993)]=!_0x383c49;};}function setupStudentProgressListeners(){const _0x169422=_0x4414d4;document['getElementById'](_0x169422(0x1f7))[_0x169422(0x7bb)](_0x169422(0x530),showStudentProgressView),document[_0x169422(0x651)](_0x169422(0x227))[_0x169422(0x7bb)](_0x169422(0x530),()=>{const _0x36bb0f=_0x169422;document[_0x36bb0f(0x651)](_0x36bb0f(0x7ca))[_0x36bb0f(0xbeb)]['add'](_0x36bb0f(0x6ca)),document[_0x36bb0f(0x651)]('student-initial-view')['classList'][_0x36bb0f(0x303)](_0x36bb0f(0x6ca));});}async function startSkillPractice(_0x3e49e4){const _0x150fc2=_0x4414d4;studentResultArea[_0x150fc2(0xbeb)][_0x150fc2(0x7bd)](_0x150fc2(0x6ca)),studentQuizArea[_0x150fc2(0x61b)]=_0x150fc2(0xb30),studentQuizArea[_0x150fc2(0xbeb)][_0x150fc2(0x303)](_0x150fc2(0x6ca));try{const _0x39664d=await getStandardizedTopic(_0x3e49e4);console[_0x150fc2(0xaf0)](_0x150fc2(0x4de)+_0x3e49e4+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x39664d+'\x22'),studentQuizArea[_0x150fc2(0x2d5)]('p')[_0x150fc2(0xc23)]=_0x150fc2(0xb96)+_0x39664d+_0x150fc2(0x891);const _0x5ae428=collection(db,_0x150fc2(0x763)+appId+_0x150fc2(0xb91)),_0x4ee01a=query(_0x5ae428,where(_0x150fc2(0x78b),'==',_0x39664d)),_0x25f7e8=await getDocs(_0x4ee01a);if(_0x25f7e8[_0x150fc2(0x599)][_0x150fc2(0x9fa)]>=0x3){console[_0x150fc2(0xaf0)](_0x150fc2(0x532)+_0x25f7e8[_0x150fc2(0x599)]['length']+_0x150fc2(0xba3)+_0x39664d+_0x150fc2(0x3f9));let _0x46d86b=_0x25f7e8[_0x150fc2(0x599)]['map'](_0x487013=>_0x487013[_0x150fc2(0x213)]());shuffleArray(_0x46d86b);const _0x546544={'topic':_0x39664d,'questions':_0x46d86b[_0x150fc2(0xb31)](0x0,0x3)};displaySkillPracticeDrill(_0x546544);}else{console[_0x150fc2(0xaf0)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x39664d+_0x150fc2(0x6da));const _0x51dbb4=await generatePracticeQuestions(_0x39664d);await saveDrillToPracticeBank(_0x51dbb4,_0x39664d),displaySkillPracticeDrill(_0x51dbb4);}}catch(_0x40ac48){console[_0x150fc2(0xb95)](_0x150fc2(0xbae),_0x40ac48),showMessage(_0x150fc2(0x412)),studentQuizArea[_0x150fc2(0xbeb)][_0x150fc2(0x7bd)](_0x150fc2(0x6ca)),studentResultArea[_0x150fc2(0xbeb)][_0x150fc2(0x303)](_0x150fc2(0x6ca));}}async function saveDrillToPracticeBank(_0x29a5d8,_0x211f05){const _0x2b5d4a=_0x4414d4,_0x32a899=collection(db,'artifacts/'+appId+_0x2b5d4a(0xb91)),_0x4accfe=writeBatch(db);_0x29a5d8[_0x2b5d4a(0x132)][_0x2b5d4a(0x15f)](_0x5cc410=>{const _0x3bbc14=_0x2b5d4a,_0x581239=doc(_0x32a899);_0x4accfe[_0x3bbc14(0x151)](_0x581239,{'topic':_0x211f05,'questionText':_0x5cc410[_0x3bbc14(0x364)],'options':_0x5cc410[_0x3bbc14(0xb4a)],'correctAnswerIndex':_0x5cc410['correctAnswerIndex'],'explanation':_0x5cc410[_0x3bbc14(0x27d)],'createdAt':serverTimestamp()});});try{await _0x4accfe[_0x2b5d4a(0x56c)](),console[_0x2b5d4a(0xaf0)](_0x2b5d4a(0x4ac)+_0x29a5d8[_0x2b5d4a(0x132)]['length']+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x23319a){console[_0x2b5d4a(0xb95)](_0x2b5d4a(0xa2d),_0x23319a);}}async function getStandardizedTopic(_0x13e06d){const _0xf1a5ed=_0x4414d4,_0x2fb275=_0xf1a5ed(0x1c0)+_0x13e06d+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x4c4a23={'type':_0xf1a5ed(0x7d7),'properties':{'standardTopic':{'type':_0xf1a5ed(0x616)}},'required':[_0xf1a5ed(0x6a4)]};try{const _0x29d4d9=await callAnalysisApi(_0x2fb275,_0x4c4a23);return _0x29d4d9['standardTopic'];}catch(_0x248221){return console['error'](_0xf1a5ed(0x70d),_0x248221),_0x13e06d;}}async function handleGenerateEasyVersionQuiz(_0x1a4eda){const _0x17b84e=_0x4414d4,_0xe46347=document[_0x17b84e(0x651)](_0x17b84e(0xb09)),_0x194cd5=document['getElementById'](_0x17b84e(0x1b7));_0x194cd5[_0x17b84e(0xbeb)]['add'](_0x17b84e(0x6ca));const _0x11c637=_0x17b84e(0x419);_0xe46347[_0x17b84e(0x252)](_0x17b84e(0x45e),_0x11c637);try{const _0x33953d=allQuizzes[_0x17b84e(0xbc5)](_0x3210a1=>_0x3210a1['id']===_0x1a4eda);if(!_0x33953d)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x2eb3d7=_0x17b84e(0x2f1)+JSON[_0x17b84e(0x177)](_0x33953d[_0x17b84e(0x132)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2807fd={'type':_0x17b84e(0x7d7),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':_0x17b84e(0x4d4),'items':{'type':_0x17b84e(0x616)}},'correctAnswerIndex':{'type':_0x17b84e(0x345)},'idealAnswer':{'type':_0x17b84e(0x616)},'explanation':{'type':_0x17b84e(0x616)},'imageCode':{'type':'STRING'}},'required':[_0x17b84e(0x364),_0x17b84e(0xc2f),_0x17b84e(0x27d)]},_0x144459={'type':_0x17b84e(0x7d7),'properties':{'questions':{'type':_0x17b84e(0x4d4),'items':_0x2807fd}},'required':[_0x17b84e(0x132)]},_0x598350=await callAnalysisApi(_0x2eb3d7,_0x144459);_0x598350&&_0x598350[_0x17b84e(0x132)]&&_0x598350['questions']['forEach'](_0x4d3c4b=>{const _0x39a7e3=_0x17b84e;if(_0x4d3c4b[_0x39a7e3(0x8d4)](_0x39a7e3(0x1ea))){const _0x2801e7=String(_0x4d3c4b[_0x39a7e3(0x1ea)])[_0x39a7e3(0x4fe)]();(_0x2801e7===''||_0x2801e7[_0x39a7e3(0x939)]()===_0x39a7e3(0x590)||!_0x2801e7['startsWith'](_0x39a7e3(0x90f)))&&delete _0x4d3c4b[_0x39a7e3(0x1ea)];}});if(!_0x598350||!_0x598350[_0x17b84e(0x132)]||_0x598350[_0x17b84e(0x132)][_0x17b84e(0x9fa)]===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x722a49=_0x598350['questions'][_0x17b84e(0xb6a)]((_0x1fe412,_0x87da36)=>({..._0x1fe412,'id':'q_'+Date[_0x17b84e(0xbcc)]()+'_'+_0x87da36})),_0x3f029c={'projectId':_0x33953d[_0x17b84e(0x661)],'quizType':_0x33953d[_0x17b84e(0x76d)],'settings':_0x33953d[_0x17b84e(0xb21)],'createdBy':_0x33953d['createdBy'],'status':'active','topic':_0x17b84e(0x16e)+_0x33953d[_0x17b84e(0x78b)],'questions':_0x722a49,'createdAt':new Date()[_0x17b84e(0x759)](),'quizMode':_0x17b84e(0x52e),'pairedQuizId':null};let _0x5dd413;while(!![]){_0x5dd413=Math[_0x17b84e(0x688)](0x3e8+Math[_0x17b84e(0xc29)]()*0x2328)[_0x17b84e(0x332)]();const _0x40728e=await getDoc(doc(db,'artifacts/'+appId+_0x17b84e(0x2cd),_0x5dd413));if(!_0x40728e['exists']())break;}await setDoc(doc(db,_0x17b84e(0x763)+appId+_0x17b84e(0x2cd),_0x5dd413),_0x3f029c),showMessage(_0x17b84e(0x435));}catch(_0x3bf7fd){console[_0x17b84e(0xb95)](_0x17b84e(0xc2a),_0x3bf7fd),showMessage(_0x17b84e(0x750)+_0x3bf7fd[_0x17b84e(0xaea)]);}finally{const _0x554704=document['getElementById']('temp-loader-results');_0x554704&&_0x554704['remove'](),_0x194cd5[_0x17b84e(0xbeb)]['remove']('hidden');}}async function generatePracticeQuestions(_0x18e5f8){const _0x3c1f17=_0x4414d4,_0x4891d2=_0x3c1f17(0x16b)+_0x18e5f8+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x112d7f={'type':_0x3c1f17(0x7d7),'properties':{'questionText':{'type':_0x3c1f17(0x616)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3c1f17(0x345)},'explanation':{'type':_0x3c1f17(0x616)}},'required':[_0x3c1f17(0x364),_0x3c1f17(0xb4a),'correctAnswerIndex',_0x3c1f17(0x27d)]},_0x15cffd={'type':_0x3c1f17(0x7d7),'properties':{'topic':{'type':_0x3c1f17(0x616)},'questions':{'type':'ARRAY','items':_0x112d7f}},'required':[_0x3c1f17(0x78b),_0x3c1f17(0x132)]};return await callAnalysisApi(_0x4891d2,_0x15cffd);}function displayLessonPlan(_0x5bdbb5,_0x5b131d){const _0x42ad7d=_0x4414d4,_0x32d099=_0x42ad7d(0x5d4)+_0x5b131d[_0x42ad7d(0x78b)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x5bdbb5[_0x42ad7d(0x2bb)][_0x42ad7d(0xb6a)](_0x259fa8=>_0x42ad7d(0x81e)+_0x259fa8+'</li>')[_0x42ad7d(0x254)]('')+_0x42ad7d(0x2e7)+_0x5bdbb5['teachingContent']+_0x42ad7d(0xbc2)+_0x5bdbb5[_0x42ad7d(0x23c)][_0x42ad7d(0xb6a)](_0x45d7a1=>_0x42ad7d(0x134)+_0x45d7a1[_0x42ad7d(0x96c)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x45d7a1[_0x42ad7d(0xab2)]+_0x42ad7d(0x548))[_0x42ad7d(0x254)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById'](_0x42ad7d(0x4b4))[_0x42ad7d(0xc23)]='แผนการสอน:\x20'+_0x5b131d[_0x42ad7d(0x78b)],document[_0x42ad7d(0x651)](_0x42ad7d(0xada))['innerHTML']=_0x32d099,document[_0x42ad7d(0x651)](_0x42ad7d(0x76a))[_0x42ad7d(0xbeb)][_0x42ad7d(0x303)](_0x42ad7d(0x6ca));if(window[_0x42ad7d(0x858)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x1e027a){let _0x432805=0x0;const _0x52499e=_0x1e027a['questions'],_0x37a11a=()=>{const _0x521e4f=_0xbc6d,_0x54ce48=_0x52499e[_0x432805],_0x7a8eea=_0x521e4f(0xb59)+(_0x432805+0x1)+_0x521e4f(0x8b5)+_0x52499e[_0x521e4f(0x9fa)]+_0x521e4f(0x4c1)+_0x54ce48[_0x521e4f(0x364)]+_0x521e4f(0xacc)+_0x54ce48[_0x521e4f(0xb4a)][_0x521e4f(0xb6a)]((_0xfa92e2,_0x4804e7)=>_0x521e4f(0x36e)+_0x4804e7+_0x521e4f(0x962)+_0x4804e7+_0x521e4f(0x70f)+_0x4804e7+'\x22>'+_0xfa92e2+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x521e4f(0x496);studentQuizArea[_0x521e4f(0x61b)]=_0x7a8eea;if(window[_0x521e4f(0x858)])MathJax[_0x521e4f(0x1f8)]([studentQuizArea]);document[_0x521e4f(0x651)]('hint-btn')[_0x521e4f(0x7bb)]('click',async()=>{const _0x193a12=_0x521e4f,_0x167451=await getHintForQuestion(_0x54ce48[_0x193a12(0x364)]);showMessage(_0x167451);}),document[_0x521e4f(0x651)](_0x521e4f(0x5c0))[_0x521e4f(0x7bb)](_0x521e4f(0x530),()=>{const _0x20f334=_0x521e4f,_0x4ca842=document['querySelector']('input[name=\x22drill_answer\x22]:checked');if(!_0x4ca842){showMessage(_0x20f334(0x68a));return;}const _0x501516=document[_0x20f334(0x651)](_0x20f334(0x3ff)),_0x6c205b=parseInt(_0x4ca842[_0x20f334(0x3b7)])===_0x54ce48[_0x20f334(0x74c)];_0x6c205b?(_0x501516[_0x20f334(0x388)]=_0x20f334(0x4cf),_0x501516[_0x20f334(0x61b)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x54ce48[_0x20f334(0x27d)]):(_0x501516[_0x20f334(0x388)]=_0x20f334(0x2ec),_0x501516['innerHTML']='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x54ce48[_0x20f334(0x27d)]);_0x501516[_0x20f334(0xbeb)]['remove'](_0x20f334(0x6ca));if(window[_0x20f334(0x858)])MathJax[_0x20f334(0x1f8)]([_0x501516]);document['getElementById']('check-answer-btn')['classList'][_0x20f334(0x7bd)](_0x20f334(0x6ca)),document[_0x20f334(0x651)](_0x20f334(0x2ba))[_0x20f334(0xbeb)][_0x20f334(0x7bd)]('hidden'),document[_0x20f334(0x651)](_0x20f334(0x52b))[_0x20f334(0xbeb)][_0x20f334(0x303)](_0x20f334(0x6ca));}),document[_0x521e4f(0x651)]('next-drill-btn')[_0x521e4f(0x7bb)](_0x521e4f(0x530),()=>{const _0xc4f582=_0x521e4f;_0x432805++,_0x432805<_0x52499e[_0xc4f582(0x9fa)]?_0x37a11a():(studentQuizArea['innerHTML']=_0xc4f582(0x226),document[_0xc4f582(0x651)](_0xc4f582(0x371))[_0xc4f582(0x7bb)](_0xc4f582(0x530),()=>{const _0x26496=_0xc4f582;studentQuizArea[_0x26496(0xbeb)][_0x26496(0x7bd)](_0x26496(0x6ca)),studentResultArea[_0x26496(0xbeb)][_0x26496(0x303)](_0x26496(0x6ca));}));});};_0x37a11a();}async function getHintForQuestion(_0x55637b){const _0x3ec8f4=_0x4414d4,_0x108877=_0x3ec8f4(0x611)+_0x55637b+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x4ae35c={'type':'OBJECT','properties':{'hint':{'type':'STRING'}},'required':['hint']};try{const _0xc14344=await callAnalysisApi(_0x108877,_0x4ae35c);return _0xc14344[_0x3ec8f4(0x429)];}catch(_0x1f3a76){return console[_0x3ec8f4(0xb95)](_0x3ec8f4(0xb0f),_0x1f3a76),_0x3ec8f4(0x577);}}async function extractTextFromPdf(_0x2f0351){const _0xd329b4=_0x4414d4;pdfjsLib[_0xd329b4(0x5ac)][_0xd329b4(0x950)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x14c05d=await _0x2f0351[_0xd329b4(0x347)](),_0x4ffb68=await pdfjsLib['getDocument'](_0x14c05d)['promise'],_0xfcd34e=_0x4ffb68[_0xd329b4(0x559)];let _0x4d039f='';for(let _0x36b98e=0x1;_0x36b98e<=_0xfcd34e;_0x36b98e++){const _0x19cc2b=await _0x4ffb68[_0xd329b4(0x8a7)](_0x36b98e),_0x3fd3df=await _0x19cc2b[_0xd329b4(0x645)](),_0x482db5=_0x3fd3df['items'][_0xd329b4(0xb6a)](_0x44dec0=>_0x44dec0[_0xd329b4(0x3d3)])[_0xd329b4(0x254)]('\x20');_0x4d039f+=_0x482db5+'\x0a\x0a';}return _0x4d039f;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x3ae072){const _0x569772=_0x4414d4,_0x4910c2=document[_0x569772(0x651)](_0x569772(0xa5c)),_0x20bb36=document[_0x569772(0x651)]('blueprint-topics-list'),_0x207b0d=document[_0x569772(0x651)](_0x569772(0xa52));_0x4910c2['classList']['remove'](_0x569772(0x6ca)),_0x20bb36[_0x569772(0x61b)]=_0x569772(0x17f),_0x207b0d[_0x569772(0xbeb)]['add'](_0x569772(0x6ca));try{const _0x4d9e29=_0x569772(0x84c)+_0x3ae072+_0x569772(0x200),_0x3f591b={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x569772(0x616)},'curriculum':{'type':_0x569772(0x4d4),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x569772(0x616)},'mainTopics':{'type':'ARRAY','items':{'type':_0x569772(0x7d7),'properties':{'topicName':{'type':_0x569772(0x616)},'subTopics':{'type':_0x569772(0x4d4),'items':{'type':_0x569772(0x616)}}},'required':[_0x569772(0x60e),'subTopics']}}},'required':[_0x569772(0x839),'mainTopics']}}},'required':['gradeLevel',_0x569772(0x418)]},_0x193a49=await callAnalysisApi(_0x4d9e29,_0x3f591b);if(_0x193a49&&_0x193a49['curriculum'])extractedBlueprintData=_0x193a49,renderBlueprintTopics(_0x193a49),_0x207b0d[_0x569772(0xbeb)][_0x569772(0x303)](_0x569772(0x6ca));else throw new Error(_0x569772(0x620));}catch(_0x1260ff){console['error']('Error\x20analyzing\x20blueprint\x20topics:',_0x1260ff),_0x20bb36['innerHTML']=_0x569772(0xad9);}}function renderBlueprintTopics(_0x69805a){const _0x2e874e=_0x4414d4,_0x1c2126=document[_0x2e874e(0x651)](_0x2e874e(0xa35)),_0x1c2445=_0x69805a[_0x2e874e(0x63a)],_0x55051a=_0x2e874e(0x6e7)+_0x1c2445+_0x2e874e(0x526);let _0x3441bc='';_0x69805a[_0x2e874e(0x418)][_0x2e874e(0x15f)](_0x46f6a2=>{const _0xc237df=_0x2e874e;_0x3441bc+=_0xc237df(0x20d)+_0x46f6a2[_0xc237df(0x839)]+'</h4>',_0x46f6a2[_0xc237df(0x26b)][_0xc237df(0x15f)](_0x438d76=>{const _0x2f2fce=_0xc237df;_0x3441bc+=_0x2f2fce(0xb28)+_0x438d76['topicName']+_0x2f2fce(0x5ab),_0x438d76[_0x2f2fce(0x711)]['forEach'](_0x270790=>{const _0x5730b6=_0x2f2fce;_0x3441bc+=_0x5730b6(0x62d)+_0x270790[_0x5730b6(0xa71)](/'/g,'\x5c\x27')+_0x5730b6(0x578)+_0x1c2445['replace'](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x270790+_0x5730b6(0x826)+_0x270790[_0x5730b6(0xa71)](/'/g,'\x5c\x27')+_0x5730b6(0x3ec);}),_0x3441bc+=_0x2f2fce(0x816);}),_0x3441bc+=_0xc237df(0x8ff);}),_0x1c2126['innerHTML']=_0x55051a+_0x3441bc;}async function handleGenerateTeachingContent(_0x4641fa){const _0xb7a95c=_0x4414d4,_0x422c5f=document[_0xb7a95c(0x651)](_0xb7a95c(0x76a)),_0x336dc5=document['getElementById']('lesson-plan-content');document['getElementById'](_0xb7a95c(0x4b4))[_0xb7a95c(0xc23)]=_0xb7a95c(0xb50)+_0x4641fa,_0x336dc5[_0xb7a95c(0x61b)]=_0xb7a95c(0x9aa),_0x422c5f['classList'][_0xb7a95c(0x303)]('hidden');try{const _0x56dc96=_0xb7a95c(0x183)+_0x4641fa+_0xb7a95c(0x2db),_0x232c21={'type':_0xb7a95c(0x7d7),'properties':{'keyConcepts':{'type':_0xb7a95c(0x4d4),'items':{'type':'STRING'}},'commonMistakes':{'type':_0xb7a95c(0x4d4),'items':{'type':'STRING'}},'stepByStepExamples':{'type':_0xb7a95c(0x4d4),'items':{'type':_0xb7a95c(0x7d7),'properties':{'question':{'type':_0xb7a95c(0x616)},'solution':{'type':_0xb7a95c(0x616)}},'required':['question','solution']}},'teacherTips':{'type':'ARRAY','items':{'type':'STRING'}}},'required':[_0xb7a95c(0x3d5),'commonMistakes',_0xb7a95c(0x842),_0xb7a95c(0x563)]},_0x310031=await callAnalysisApi(_0x56dc96,_0x232c21);displayTeachingContent(_0x310031,_0x4641fa);}catch(_0x558c39){console['error'](_0xb7a95c(0xc21),_0x558c39),_0x336dc5[_0xb7a95c(0x61b)]=_0xb7a95c(0x580)+_0x558c39[_0xb7a95c(0xaea)]+'</p>';}}function displayTeachingContent(_0x106985,_0x4f6edf){const _0xeab20f=_0x4414d4,_0x403801=document[_0xeab20f(0x651)]('lesson-plan-content');document[_0xeab20f(0x651)]('lesson-plan-title')[_0xeab20f(0xc23)]=_0xeab20f(0x264)+_0x4f6edf;const _0x4701ee=_0xeab20f(0x7ef)+_0x106985['keyConcepts'][_0xeab20f(0xb6a)](_0x20b718=>_0xeab20f(0x81e)+_0x20b718+_0xeab20f(0x792))['join']('')+_0xeab20f(0xc2e)+_0x106985[_0xeab20f(0xbff)][_0xeab20f(0xb6a)](_0x47dafa=>_0xeab20f(0x81e)+_0x47dafa+_0xeab20f(0x792))[_0xeab20f(0x254)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x106985[_0xeab20f(0x842)][_0xeab20f(0xb6a)](_0x3e2d7a=>_0xeab20f(0x75e)+_0x3e2d7a[_0xeab20f(0x96c)]+_0xeab20f(0x881)+_0x3e2d7a[_0xeab20f(0xab2)]+_0xeab20f(0x621))[_0xeab20f(0x254)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x106985['teacherTips'][_0xeab20f(0xb6a)](_0x3eca25=>_0xeab20f(0x81e)+_0x3eca25+_0xeab20f(0x792))[_0xeab20f(0x254)]('')+_0xeab20f(0x63e);_0x403801[_0xeab20f(0x61b)]=_0x4701ee;if(window[_0xeab20f(0x858)])MathJax[_0xeab20f(0x1f8)]([_0x403801]);}async function generateQuizForSingleTopic(_0x4ac982){const _0x4af34c=_0x4414d4;console[_0x4af34c(0xaf0)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x4ac982+'\x22');const _0x1ffc97=document['getElementById'](_0x4af34c(0x215)),_0x4d620c=_0x1ffc97[_0x4af34c(0x75f)][_0x4af34c(0x9fa)]>0x0?_0x1ffc97[_0x4af34c(0x75f)][0x0]:null;let _0x7c5805=null;if(_0x4d620c)try{const _0x3a4538=new FileReader();_0x3a4538[_0x4af34c(0x864)](_0x4d620c);const _0x442290=await new Promise((_0x100f21,_0x3905e6)=>{const _0x27662b=_0x4af34c;_0x3a4538[_0x27662b(0x14d)]=()=>_0x100f21(_0x3a4538['result'][_0x27662b(0x54a)](',')[0x1]),_0x3a4538[_0x27662b(0x283)]=_0x248eae=>_0x3905e6(_0x248eae);});_0x7c5805=[{'inlineData':{'mimeType':_0x4d620c[_0x4af34c(0x5e1)],'data':_0x442290}}];}catch(_0x64621f){console[_0x4af34c(0xb95)]('Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:',_0x64621f),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง');return;}generateQuiz(_0x4ac982,null,null,_0x7c5805,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x108d84=null){const _0x54c467=_0x4414d4,_0xf6d5c0=document[_0x54c467(0x651)](_0x54c467(0x59e)),_0x334b7a=document[_0x54c467(0x651)](_0x54c467(0xa53));let _0x21b346;if(_0x108d84)_0x21b346=_0x108d84;else{const _0x25cf0f=document[_0x54c467(0x651)](_0x54c467(0x327)),_0x4dcc69=_0x25cf0f[_0x54c467(0x75f)][0x0];if(!_0x4dcc69){showMessage(_0x54c467(0x2be));return;}_0x334b7a['textContent']=_0x54c467(0x69e);const _0x299fc2=await new Promise((_0x1bc201,_0x2601e3)=>{const _0x16c720=_0x54c467,_0xebcc2b=new FileReader();_0xebcc2b[_0x16c720(0x864)](_0x4dcc69),_0xebcc2b[_0x16c720(0x14d)]=()=>_0x1bc201(_0xebcc2b[_0x16c720(0x986)]['split'](',')[0x1]),_0xebcc2b[_0x16c720(0x283)]=_0x2601e3;});_0x21b346=[{'text':_0x54c467(0xa9b)},{'inlineData':{'mimeType':_0x4dcc69[_0x54c467(0x5e1)],'data':_0x299fc2}}];}const _0x2841b3=_0x54c467(0x3a4),_0x3d223f=_0x54c467(0x721),_0xfb89da=_0x54c467(0x8be),_0x41e5e8={'type':_0x54c467(0x7d7),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x54c467(0x2c6),'short_answer',_0x54c467(0x26d),'matching_item']},'options':{'type':'ARRAY','items':{'type':_0x54c467(0x616)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x54c467(0x616)},'correctAnswer':{'type':_0x54c467(0x4d7)},'explanation':{'type':_0x54c467(0x616)},'imageCode':{'type':'STRING'}},'required':[_0x54c467(0xc2f),_0x54c467(0x27d)]},_0x4f0d5c={'type':_0x54c467(0x7d7),'properties':{'topic':{'type':_0x54c467(0x616)},'questions':{'type':_0x54c467(0x4d4),'items':_0x41e5e8}},'required':[_0x54c467(0x78b),_0x54c467(0x132)]};_0x21b346[0x0][_0x54c467(0x7b0)]=_0xfb89da,await handleApiCall(_0x21b346,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x4f0d5c);}function proceedToNextQuestion(_0x433549){const _0x2c8e46=_0x4414d4;studentAnswersPerQuestion[_0x2c8e46(0x464)](_0x433549),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x2c8e46(0x9fa)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x5d5c61,_0x54b909){const _0x2ee8e0=_0x4414d4,_0x1bfbdb=Object[_0x2ee8e0(0x329)](_0x5d5c61[_0x2ee8e0(0xb76)]||{}),_0xf4ee35=_0x1bfbdb['length'],_0xdf969c=[..._0x1bfbdb][_0x2ee8e0(0xa7e)]((_0x4be821,_0x4273ae)=>_0x4273ae[_0x2ee8e0(0x288)]-_0x4be821['score']),_0x1c59d2=_0x5d5c61[_0x2ee8e0(0x5db)];let _0x3e2408='';const _0x55aad0=_0x5d5c61[_0x2ee8e0(0x415)][_0x2ee8e0(0x132)],_0x22a6bd=_0x55aad0[_0x1c59d2],_0x4926a5=_0x320881=>String[_0x2ee8e0(0x9ab)](0x41+_0x320881);let _0x23f5de='',_0x149f7a='';if(_0x22a6bd){const _0x3a4dd6=_0x22a6bd[_0x2ee8e0(0xc2f)]||_0x5d5c61['shuffledQuiz']['quizType'];if(_0x3a4dd6===_0x2ee8e0(0x2c6)&&_0x22a6bd['options']&&_0x22a6bd['correctAnswerIndex']!==undefined){const _0x520833=_0x22a6bd['correctAnswerIndex'];_0x23f5de=_0x22a6bd[_0x2ee8e0(0xb4a)][_0x520833],_0x149f7a=_0x4926a5(_0x520833)+'.';}else{if(_0x3a4dd6===_0x2ee8e0(0x26d)){const _0x4da571=_0x22a6bd['correctAnswer']===!![]||String(_0x22a6bd[_0x2ee8e0(0x294)])[_0x2ee8e0(0x939)]()===_0x2ee8e0(0x7a0);_0x4da571?(_0x23f5de='ใช่\x20/\x20ถูก',_0x149f7a='ก.'):(_0x23f5de='ไม่ใช่\x20/\x20ผิด',_0x149f7a='ข.');}else{if(_0x3a4dd6===_0x2ee8e0(0x572))_0x23f5de=_0x22a6bd[_0x2ee8e0(0x3dc)]||'-',_0x149f7a='';else _0x3a4dd6===_0x2ee8e0(0x808)&&(_0x23f5de=_0x22a6bd['idealAnswer']||'-',_0x149f7a='');}}}_0x23f5de&&(_0x3e2408=_0x2ee8e0(0x82c)+(_0x1c59d2+0x1)+_0x2ee8e0(0x709)+_0x149f7a+'\x20'+_0x23f5de+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20');const _0x3dec76=_0xdf969c[_0x2ee8e0(0xb6a)](_0x3aad40=>{const _0x183dd5=_0x2ee8e0;let _0x1197c3=![];if(_0x3aad40[_0x183dd5(0xc15)]&&_0x1c59d2!==-0x1){const _0x58ec5b=_0x3aad40[_0x183dd5(0xc15)]['find'](_0x30d337=>_0x30d337[_0x183dd5(0x1e1)]===_0x1c59d2);_0x58ec5b&&_0x58ec5b[_0x183dd5(0x2c8)]&&(_0x1197c3=!![]);}const _0x5bbaa9=_0x1197c3?'bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg':_0x183dd5(0x7fd);return _0x183dd5(0x633)+_0x5bbaa9+_0x183dd5(0x597)+_0x3aad40[_0x183dd5(0x815)]+_0x183dd5(0x6e9)+_0x3aad40[_0x183dd5(0x288)]+_0x183dd5(0x70e);})['join'](''),_0x5c7047=_0x55aad0[_0x2ee8e0(0xb6a)]((_0x4c07d7,_0x274829)=>{const _0x35ee78=_0x2ee8e0,_0x102e89=_0x1bfbdb[_0x35ee78(0x7c4)](_0x1b3f87=>_0x1b3f87['answers']&&_0x1b3f87[_0x35ee78(0xc15)]['find'](_0x5c0e42=>_0x5c0e42['questionIndex']===_0x274829&&_0x5c0e42['isCorrect']))[_0x35ee78(0x9fa)],_0x35ada1=_0x274829===_0x1c59d2,_0x373327=_0x35ada1?_0x35ee78(0x198):_0x35ee78(0x465);return _0x35ee78(0x22a)+_0x373327+_0x35ee78(0x50c)+(_0x274829+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x102e89+'\x20/\x20'+_0xf4ee35+_0x35ee78(0x1d6);})[_0x2ee8e0(0x254)]('');let _0x849381='',_0x53b3b2='';if(_0x54b909){const _0x5cecb9=_0x5d5c61[_0x2ee8e0(0x5db)]>=_0x55aad0[_0x2ee8e0(0x9fa)]-0x1;_0x849381='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>'+(_0x5cecb9?_0x2ee8e0(0x71d):_0x2ee8e0(0xaa9))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x53b3b2=_0x2ee8e0(0x1d5);}const _0x208dfa=_0x2ee8e0(0x372)+_0x5d5c61['shuffledQuiz'][_0x2ee8e0(0x78b)]+_0x2ee8e0(0x7e6)+_0x53b3b2+_0x2ee8e0(0x59a)+_0x3e2408+_0x2ee8e0(0x37f)+(_0x3dec76||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x2ee8e0(0x77f)+_0x5c7047+_0x2ee8e0(0xa22)+(_0x54b909?_0x2ee8e0(0x796)+_0x849381+_0x2ee8e0(0x8ff):'')+_0x2ee8e0(0xa91);liveGameView[_0x2ee8e0(0x61b)]=_0x208dfa;if(window['MathJax']){const _0x24ed10=document[_0x2ee8e0(0x651)](_0x2ee8e0(0x875));_0x24ed10&&MathJax[_0x2ee8e0(0x1f8)]([_0x24ed10]);}if(_0x54b909){document[_0x2ee8e0(0x651)](_0x2ee8e0(0x4c3))[_0x2ee8e0(0x901)]=async()=>{const _0x8a77fa=_0x2ee8e0,_0x5ce41d=doc(db,_0x8a77fa(0x763)+appId+_0x8a77fa(0x683),currentLiveGameId),_0x497e36=_0x5d5c61['currentQuestionIndex']+0x1;if(_0x497e36<_0x55aad0[_0x8a77fa(0x9fa)]){const _0x5d12fa={};Object[_0x8a77fa(0x84e)](_0x5d5c61[_0x8a77fa(0xb76)])[_0x8a77fa(0x15f)](_0x29a77f=>{const _0x529c18=_0x8a77fa;_0x5d12fa[_0x529c18(0x25a)+_0x29a77f+_0x529c18(0x1d7)]=![],_0x5d12fa[_0x529c18(0x25a)+_0x29a77f+_0x529c18(0x6d0)]=null;}),await updateDoc(_0x5ce41d,{..._0x5d12fa,'status':_0x8a77fa(0x96c),'currentQuestionIndex':_0x497e36,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x5ce41d,{'status':_0x8a77fa(0xa20)});};const _0x10e237=document[_0x2ee8e0(0x651)]('end-sync-game-btn');_0x10e237&&(_0x10e237[_0x2ee8e0(0x901)]=()=>{const _0x5a82fa=_0x2ee8e0;showConfirmation(_0x5a82fa(0x644),async()=>{const _0x4ce5da=_0x5a82fa,_0x497692=doc(db,_0x4ce5da(0x763)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x497692,{'status':_0x4ce5da(0xa20)});});});}}async function handleGenerateParallelFromBank(_0x3d2237){const _0x2ae7dc=_0x4414d4,_0x256332=document['getElementById']('results-tab-content'),_0x2a2dff=document['getElementById'](_0x2ae7dc(0x1b7));_0x2a2dff['classList']['add']('hidden');const _0x12e797=_0x2ae7dc(0x44e)+_0x3d2237['topic']+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x256332[_0x2ae7dc(0x252)](_0x2ae7dc(0x45e),_0x12e797);const _0x511c2f=document[_0x2ae7dc(0x651)]('temp-loader-text-results');try{const _0x16bd68=_0x3d2237[_0x2ae7dc(0x132)]['map']((_0x2ab101,_0x53b637)=>{const _0x52c2e1=_0x2ae7dc;let _0x5ad9fe=_0x53b637+0x1+'.\x20'+(_0x2ab101[_0x52c2e1(0x364)]||_0x2ab101[_0x52c2e1(0x610)])+'\x0a';if(_0x2ab101[_0x52c2e1(0xb4a)])_0x5ad9fe+=_0x2ab101[_0x52c2e1(0xb4a)][_0x52c2e1(0xb6a)]((_0x252d81,_0x15b0c5)=>_0x52c2e1(0x26c)+(_0x15b0c5===_0x2ab101[_0x52c2e1(0x74c)]?_0x52c2e1(0x55a):'')+'\x20'+_0x252d81)['join']('\x0a');else _0x2ab101[_0x52c2e1(0xb5f)]&&(_0x5ad9fe+=_0x52c2e1(0x217)+_0x2ab101[_0x52c2e1(0xb5f)]);return _0x5ad9fe;})['join']('\x0a\x0a');_0x511c2f[_0x2ae7dc(0xc23)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x46966d=_0x2ae7dc(0x69d)+_0x3d2237[_0x2ae7dc(0x78b)]+_0x2ae7dc(0x9ee)+_0x16bd68+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x2ae7dc(0xb3a),_0x125b63={'type':_0x2ae7dc(0x7d7),'properties':{'questionText':{'type':_0x2ae7dc(0x616)},'questionType':{'type':_0x2ae7dc(0x616),'enum':[_0x2ae7dc(0x2c6),_0x2ae7dc(0x808),_0x2ae7dc(0x26d),'matching_item']},'options':{'type':_0x2ae7dc(0x4d4),'items':{'type':_0x2ae7dc(0x616)}},'correctAnswerIndex':{'type':_0x2ae7dc(0x345)},'idealAnswer':{'type':_0x2ae7dc(0x616)},'correctAnswer':{'type':_0x2ae7dc(0x4d7)},'stem':{'type':_0x2ae7dc(0x616)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x2ae7dc(0x4d4),'items':{'type':_0x2ae7dc(0x616)}},'explanation':{'type':_0x2ae7dc(0x616)},'imageCode':{'type':_0x2ae7dc(0x616)}},'required':[_0x2ae7dc(0xc2f),'explanation']},_0x34dc91={'type':'OBJECT','properties':{'topic':{'type':_0x2ae7dc(0x616)},'questions':{'type':_0x2ae7dc(0x4d4),'items':_0x125b63}},'required':[_0x2ae7dc(0x78b),_0x2ae7dc(0x132)]},_0x121cab=await callAnalysisApi(_0x46966d,_0x34dc91),_0x54645b=_0x121cab[_0x2ae7dc(0x132)][_0x2ae7dc(0xb6a)]((_0xe637d,_0x248acc)=>({..._0xe637d,'id':'q_'+Date[_0x2ae7dc(0xbcc)]()+'_'+_0x248acc})),_0x28f558=_0x2ae7dc(0x65f)+_0x3d2237[_0x2ae7dc(0x78b)],_0x1df2a1={'topic':_0x28f558,'questions':_0x54645b,'quizType':_0x3d2237['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2ae7dc(0x759)](),'status':'active','settings':_0x3d2237[_0x2ae7dc(0xb21)],'quizMode':_0x2ae7dc(0x52e),'pairedQuizId':null,'lessonPlan':null};let _0x18702a;while(!![]){_0x18702a=Math['floor'](0x3e8+Math[_0x2ae7dc(0xc29)]()*0x2328)[_0x2ae7dc(0x332)]();const _0x1b8231=await getDoc(doc(db,'artifacts/'+appId+_0x2ae7dc(0x2cd),_0x18702a));if(!_0x1b8231[_0x2ae7dc(0x523)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x18702a),_0x1df2a1),showMessage(_0x2ae7dc(0xbe2));}catch(_0x85b758){console['error']('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x85b758),showMessage(_0x2ae7dc(0x750)+_0x85b758[_0x2ae7dc(0xaea)]);}finally{const _0x4c248c=document[_0x2ae7dc(0x651)]('temp-loader-results');_0x4c248c&&_0x4c248c['remove'](),_0x2a2dff[_0x2ae7dc(0xbeb)]['remove']('hidden');}}async function handleGenerateParallelPostTest(_0x415ef9){const _0x5e7b1b=_0x4414d4,_0x58d812=document[_0x5e7b1b(0x651)](_0x5e7b1b(0xb09)),_0x26660d=document[_0x5e7b1b(0x651)](_0x5e7b1b(0x1b7));_0x26660d[_0x5e7b1b(0xbeb)]['add'](_0x5e7b1b(0x6ca));const _0x269ac1=_0x5e7b1b(0xab1);_0x58d812[_0x5e7b1b(0x252)](_0x5e7b1b(0x45e),_0x269ac1);try{const _0xd1feb4=_0x415ef9['questions'][_0x5e7b1b(0xb6a)]((_0x2b298f,_0x278bc8)=>{const _0x3fff9e=_0x5e7b1b;let _0xb3c0f9=_0x278bc8+0x1+'.\x20'+(_0x2b298f['questionText']||_0x2b298f[_0x3fff9e(0x610)]);if(_0x2b298f['options'])_0xb3c0f9+=_0x3fff9e(0x3c8)+_0x2b298f[_0x3fff9e(0xb4a)]['join'](',\x20');return _0xb3c0f9;})[_0x5e7b1b(0x254)]('\x0a\x0a'),_0x8b97f5=_0x5e7b1b(0x342)+_0x415ef9[_0x5e7b1b(0x78b)]+_0x5e7b1b(0xab9)+_0xd1feb4+_0x5e7b1b(0xb74)+simpleMathPrompt+_0x5e7b1b(0xb3a),_0x1bd0c6={'type':_0x5e7b1b(0x7d7),'properties':{'topic':{'type':_0x5e7b1b(0x616)},'questions':{'type':'ARRAY','items':{'type':_0x5e7b1b(0x7d7),'properties':{'questionText':{'type':_0x5e7b1b(0x616)},'questionType':{'type':_0x5e7b1b(0x616)},'options':{'type':'ARRAY','items':{'type':_0x5e7b1b(0x616)}},'correctAnswerIndex':{'type':_0x5e7b1b(0x345)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5e7b1b(0x616)}},'required':['questionText',_0x5e7b1b(0x27d)]}}},'required':[_0x5e7b1b(0x78b),_0x5e7b1b(0x132)]},_0x1fbe05=await callAnalysisApi(_0x8b97f5,_0x1bd0c6),_0x3157e6=_0x415ef9[_0x5e7b1b(0x78b)][_0x5e7b1b(0xa71)](_0x5e7b1b(0x6d3),'')['trim'](),_0x4bc619=_0x5e7b1b(0x224)+_0x3157e6,_0x59eea4={..._0x1fbe05,'topic':_0x4bc619,'quizType':_0x415ef9['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5e7b1b(0x759)](),'status':_0x5e7b1b(0x712),'settings':_0x415ef9['settings'],'quizMode':_0x5e7b1b(0xa3e),'pairedQuizId':_0x415ef9['id']};let _0x2f30e5;while(!![]){_0x2f30e5=Math[_0x5e7b1b(0x688)](0x3e8+Math['random']()*0x2328)[_0x5e7b1b(0x332)]();const _0x2a8ddb=await getDoc(doc(db,_0x5e7b1b(0x763)+appId+_0x5e7b1b(0x2cd),_0x2f30e5));if(!_0x2a8ddb[_0x5e7b1b(0x523)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x5e7b1b(0x2cd),_0x2f30e5),_0x59eea4);const _0xf22ff9=doc(db,_0x5e7b1b(0x763)+appId+_0x5e7b1b(0x2cd),_0x415ef9['id']);await updateDoc(_0xf22ff9,{'pairedQuizId':_0x2f30e5}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x1593e8){console[_0x5e7b1b(0xb95)](_0x5e7b1b(0x80d),_0x1593e8),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1593e8[_0x5e7b1b(0xaea)]);}finally{const _0x54cc07=document[_0x5e7b1b(0x651)](_0x5e7b1b(0xb44));if(_0x54cc07)_0x54cc07[_0x5e7b1b(0x303)]();_0x26660d['classList'][_0x5e7b1b(0x303)](_0x5e7b1b(0x6ca));}}async function handleGenerateParallelTest(_0x5b2912=null){const _0x237d12=_0x4414d4;let _0x4b0b1b=_0x5b2912;if(!_0x4b0b1b){const _0x3d9f2f=document[_0x237d12(0x651)](_0x237d12(0x906));_0x3d9f2f['files'][_0x237d12(0x9fa)]>0x0&&(_0x4b0b1b=_0x3d9f2f[_0x237d12(0x75f)][0x0]);}if(!_0x4b0b1b){showMessage(_0x237d12(0x240));return;}const _0x46e1f6=document['getElementById'](_0x237d12(0x59e)),_0x273826=document[_0x237d12(0x651)]('loader-text'),_0x2654b2=document[_0x237d12(0x651)](_0x237d12(0x9d3)),_0x568ab4=document[_0x237d12(0x651)](_0x237d12(0x8ea));_0x568ab4['disabled']=!![],document[_0x237d12(0x651)](_0x237d12(0x565))[_0x237d12(0xbeb)]['remove'](_0x237d12(0x6ca)),_0x2654b2[_0x237d12(0x61b)]='',_0x46e1f6[_0x237d12(0xbeb)][_0x237d12(0x303)](_0x237d12(0x6ca)),_0x273826[_0x237d12(0xc23)]=_0x237d12(0x39d);const _0x120252=new FileReader();_0x120252[_0x237d12(0x864)](_0x4b0b1b),_0x120252[_0x237d12(0x14d)]=async()=>{const _0x2838c1=_0x237d12;try{const _0x562c8b=_0x120252['result'][_0x2838c1(0x54a)](',')[0x1],_0x517156=_0x4b0b1b[_0x2838c1(0x5e1)];_0x273826[_0x2838c1(0xc23)]=_0x2838c1(0x49d);const _0x5b9faa=document[_0x2838c1(0x651)](_0x2838c1(0x3cf))[_0x2838c1(0x173)],_0x1e23f3=_0x5b9faa?_0x2838c1(0x70a):'',_0x1ac308='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$.**\x0a',_0x32d383={'type':_0x2838c1(0x7d7),'properties':{'questionText':{'type':_0x2838c1(0x616)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x2838c1(0x808)]},'options':{'type':_0x2838c1(0x4d4),'items':{'type':_0x2838c1(0x616)}},'correctAnswerIndex':{'type':_0x2838c1(0x345)},'idealAnswer':{'type':_0x2838c1(0x616)},'explanation':{'type':_0x2838c1(0x616)},'imageCode':{'type':_0x2838c1(0x616)}},'required':[_0x2838c1(0x364),_0x2838c1(0xc2f),_0x2838c1(0x27d)]},_0x3616f6={'type':_0x2838c1(0x7d7),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2838c1(0x4d4),'items':_0x32d383}},'required':['topic',_0x2838c1(0x132)]},_0x3072d1=[{'text':_0x1ac308},{'inlineData':{'mimeType':_0x517156,'data':_0x562c8b}}];await handleApiCall(_0x3072d1,_0x2838c1(0xb5e),_0x3616f6);}catch(_0x33f59d){console[_0x2838c1(0xb95)](_0x2838c1(0x4bb),_0x33f59d),showMessage(_0x2838c1(0x750)+_0x33f59d[_0x2838c1(0xaea)]),_0x2654b2[_0x2838c1(0x61b)]=_0x2838c1(0x6f4);}finally{_0x46e1f6[_0x2838c1(0xbeb)]['add']('hidden'),_0x568ab4[_0x2838c1(0x993)]=![];}},_0x120252['onerror']=_0x8e1ec4=>{const _0x56f02d=_0x237d12;console[_0x56f02d(0xb95)](_0x56f02d(0x3ea),_0x8e1ec4),showMessage(_0x56f02d(0x632)),_0x46e1f6['classList'][_0x56f02d(0x7bd)](_0x56f02d(0x6ca)),_0x568ab4[_0x56f02d(0x993)]=![];};}async function handleRegenerateQuestionInEditor(_0xf07aaa){const _0x42756d=_0x4414d4;if(currentEditingQuizData===null)return;const _0xfca45c=document[_0x42756d(0x2d5)](_0x42756d(0x9ff)+_0xf07aaa+'\x22]');_0xfca45c&&(_0xfca45c['innerHTML']=_0x42756d(0x618));const _0x2cc124=currentEditingQuizData[_0x42756d(0x132)][_0xf07aaa],_0x3e16a3=currentEditingQuizData[_0x42756d(0x78b)],_0x4fffbe=_0x2cc124[_0x42756d(0xc2f)],_0xa2f94a={'type':_0x42756d(0x7d7),'properties':{'questionText':{'type':_0x42756d(0x616)},'options':{'type':'ARRAY','items':{'type':_0x42756d(0x616)}},'correctAnswerIndex':{'type':_0x42756d(0x345)},'explanation':{'type':_0x42756d(0x616)}},'required':[_0x42756d(0x364),_0x42756d(0xb4a),_0x42756d(0x74c),_0x42756d(0x27d)]},_0x102789={'type':_0x42756d(0x7d7),'properties':{'questionText':{'type':_0x42756d(0x616)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x42756d(0x616)}},'required':[_0x42756d(0x364),_0x42756d(0xb5f),'explanation']};let _0x95ed7e,_0x354c4d='';_0x4fffbe===_0x42756d(0x2c6)?(_0x95ed7e=_0xa2f94a,_0x354c4d='แบบปรนัย\x204\x20ตัวเลือก'):(_0x95ed7e=_0x102789,_0x354c4d='แบบเติมคำตอบ');const _0x29a47a=_0x42756d(0x9a0)+_0x3e16a3+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x354c4d+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x2cc124[_0x42756d(0x364)]||_0x2cc124['stem'])+_0x42756d(0x7d2)+simpleMathPrompt;try{const _0xb77ba4=await callAnalysisApi(_0x29a47a,_0x95ed7e);currentEditingQuizData[_0x42756d(0x132)][_0xf07aaa]={..._0x2cc124,..._0xb77ba4},renderQuizEditor(currentEditingQuizData);}catch(_0x2061e3){console[_0x42756d(0xb95)](_0x42756d(0x369),_0x2061e3),showMessage(_0x42756d(0x386)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x222528=_0x4414d4,_0x26820f=document[_0x222528(0x651)](_0x222528(0x5ea));currentMode===_0x222528(0x1e0)?(currentMode='admin',_0x26820f['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x26820f[_0x222528(0x66b)]='สลับไปโหมดนักเรียน',showView(_0x222528(0x2fe))):(currentMode='student',_0x26820f[_0x222528(0x61b)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x26820f[_0x222528(0x66b)]=_0x222528(0x904),showView(_0x222528(0x1e0)));}function handleAdminLogin(){const _0x110ea7=_0x4414d4,_0x130afa=document[_0x110ea7(0x651)](_0x110ea7(0x71b)),_0x3e34af=document[_0x110ea7(0x651)](_0x110ea7(0x242));if(_0x130afa[_0x110ea7(0x3b7)]===_0x110ea7(0x664)){adminPasswordModal['classList'][_0x110ea7(0x7bd)](_0x110ea7(0x6ca)),_0x130afa[_0x110ea7(0x3b7)]='',_0x3e34af['classList'][_0x110ea7(0x7bd)](_0x110ea7(0x6ca)),currentMode='admin';const _0x42063f=document[_0x110ea7(0x651)](_0x110ea7(0x5ea));_0x42063f['innerHTML']=_0x110ea7(0x931),_0x42063f[_0x110ea7(0x66b)]=_0x110ea7(0x413),showView(_0x110ea7(0x2fe));}else _0x3e34af['classList'][_0x110ea7(0x303)](_0x110ea7(0x6ca)),_0x130afa['value']='';}function switchProjectTab(_0x4ae2d4){const _0x325437=_0x4414d4;[_0x325437(0x6a5),_0x325437(0x3a3),'leaderboard']['forEach'](_0x474cd0=>{const _0x53c52e=_0x325437;document[_0x53c52e(0x651)](_0x474cd0+_0x53c52e(0x8f5))[_0x53c52e(0xbeb)]['remove'](_0x53c52e(0x712)),document[_0x53c52e(0x651)](_0x474cd0+'-tab-content')[_0x53c52e(0xbeb)][_0x53c52e(0x7bd)](_0x53c52e(0x6ca));}),document[_0x325437(0x651)](_0x4ae2d4+_0x325437(0x8f5))[_0x325437(0xbeb)][_0x325437(0x7bd)](_0x325437(0x712)),document['getElementById'](_0x4ae2d4+_0x325437(0x79a))[_0x325437(0xbeb)]['remove'](_0x325437(0x6ca));}function switchQuizDetailTab(_0x3db8dd){const _0x4e0336=_0x4414d4,_0x2ab2e0={'analytics':{'btn':'analytics-tab-btn','content':_0x4e0336(0x96e)},'scores':{'btn':'scores-tab-btn','content':_0x4e0336(0xb4b)},'leaderboard-quiz':{'btn':_0x4e0336(0x8f8),'content':_0x4e0336(0x7e5)},'behavior-log':{'btn':_0x4e0336(0x311),'content':_0x4e0336(0xb2f)}};for(const _0x501aa0 in _0x2ab2e0){document['getElementById'](_0x2ab2e0[_0x501aa0][_0x4e0336(0x3de)])[_0x4e0336(0xbeb)]['remove'](_0x4e0336(0x712)),document['getElementById'](_0x2ab2e0[_0x501aa0][_0x4e0336(0x32c)])[_0x4e0336(0xbeb)][_0x4e0336(0x7bd)]('hidden');}document['getElementById'](_0x2ab2e0[_0x3db8dd][_0x4e0336(0x3de)])[_0x4e0336(0xbeb)][_0x4e0336(0x7bd)]('active'),document[_0x4e0336(0x651)](_0x2ab2e0[_0x3db8dd][_0x4e0336(0x32c)])[_0x4e0336(0xbeb)][_0x4e0336(0x303)](_0x4e0336(0x6ca));}function showMessage(_0x4d8e3f,_0x49b4f6=null){const _0x96d95b=_0x4414d4;modalMessage[_0x96d95b(0xc23)]=_0x4d8e3f,modalConfirmAction=_0x49b4f6,messageModal[_0x96d95b(0xbeb)][_0x96d95b(0x303)](_0x96d95b(0x6ca));}function showConfirmation(_0x2056b4,_0x32eab2){const _0x1eb9f6=_0x4414d4;document[_0x1eb9f6(0x651)]('confirmation-message')[_0x1eb9f6(0xc23)]=_0x2056b4,document[_0x1eb9f6(0x651)](_0x1eb9f6(0x31c))[_0x1eb9f6(0x2d5)]('h3')[_0x1eb9f6(0xc23)]=_0x1eb9f6(0x87f),confirmAction=_0x32eab2,confirmationModal[_0x1eb9f6(0xbeb)][_0x1eb9f6(0x303)](_0x1eb9f6(0x6ca));}function listenForProjects(){const _0x21e3b9=_0x4414d4,_0x1c0217=doc(db,'globalSettings',_0x21e3b9(0xb3b));onSnapshot(_0x1c0217,_0xff17cb=>{const _0x2dfff4=_0x21e3b9;if(_0xff17cb['exists']()){const _0xff715d=_0xff17cb[_0x2dfff4(0x213)]();globalDashboardSettings[_0x2dfff4(0x3c2)]=_0xff715d[_0x2dfff4(0x3c2)]||_0x2dfff4(0xbe6),globalDashboardSettings[_0x2dfff4(0xb41)]=_0xff715d[_0x2dfff4(0xb41)]||[],globalDashboardSettings[_0x2dfff4(0x8b7)]=_0xff715d[_0x2dfff4(0x8b7)]||[];}allProjects[_0x2dfff4(0x9fa)]>0x0&&renderProjects();});const _0x5c0c33=collection(db,_0x21e3b9(0x763)+appId+_0x21e3b9(0x714));unsubscribeProjectsListener=onSnapshot(_0x5c0c33,_0x40d8a6=>{const _0x1614f9=_0x21e3b9;allProjects=_0x40d8a6['docs'][_0x1614f9(0xb6a)](_0x491174=>({'id':_0x491174['id'],..._0x491174[_0x1614f9(0x213)]()})),renderProjects();},_0x210c55=>{const _0x10fe87=_0x21e3b9;console[_0x10fe87(0xb95)](_0x10fe87(0x503),_0x210c55),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x224829,_0x4ab730){const _0xcd9a13=_0x4414d4;document['querySelectorAll'](_0xcd9a13(0xa8b))['forEach'](_0x40707a=>_0x40707a[_0xcd9a13(0x303)]());const _0x140dba=[_0xcd9a13(0x4be),'#FEE2E2',_0xcd9a13(0x87d),_0xcd9a13(0xa4d),'#DBEAFE',_0xcd9a13(0x2ff),_0xcd9a13(0x9d6),_0xcd9a13(0x2b6),_0xcd9a13(0x4d3)],_0x217814=document[_0xcd9a13(0x50d)](_0xcd9a13(0x7a9));_0x217814['className']=_0xcd9a13(0x1f1),_0x140dba[_0xcd9a13(0x15f)](_0x1c2e5b=>{const _0x25c055=_0xcd9a13,_0x42b8bf=document[_0x25c055(0x50d)](_0x25c055(0x7a9));_0x42b8bf[_0x25c055(0x388)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x42b8bf[_0x25c055(0x5ce)][_0x25c055(0x6ee)]=_0x1c2e5b,_0x42b8bf[_0x25c055(0x7bb)](_0x25c055(0x530),()=>{handleProjectColorChange(_0x4ab730,_0x1c2e5b),_0x217814['remove']();}),_0x217814[_0x25c055(0x89c)](_0x42b8bf);}),document[_0xcd9a13(0xab6)][_0xcd9a13(0x89c)](_0x217814);const _0x10d5d1=_0x224829[_0xcd9a13(0x4c5)]();_0x217814[_0xcd9a13(0x5ce)]['top']=_0x10d5d1[_0xcd9a13(0x699)]+window['scrollY']+'px',_0x217814[_0xcd9a13(0x5ce)][_0xcd9a13(0x62f)]=_0x10d5d1[_0xcd9a13(0x62f)]+window[_0xcd9a13(0xb79)]-_0x217814[_0xcd9a13(0x4ef)]/0x2+'px';}async function handleProjectColorChange(_0xf7cd31,_0x2839be){const _0x128b21=_0x4414d4,_0x39c8e9=doc(db,_0x128b21(0x763)+appId+_0x128b21(0x714),_0xf7cd31);try{await updateDoc(_0x39c8e9,{'color':_0x2839be});}catch(_0x4f831f){console['error'](_0x128b21(0x8f0),_0x4f831f),showMessage(_0x128b21(0x155));}}async function renderProjects(){const _0x571538=_0x4414d4,_0x3e1a8a=globalDashboardSettings['projectSort']||'date_desc',_0x44d322=new Set(globalDashboardSettings[_0x571538(0xb41)]||[]),_0x393be6=globalDashboardSettings[_0x571538(0xc13)]||_0x571538(0x1be),_0x2e7eeb=document['getElementById'](_0x571538(0xb1c)),_0x5d3fa6=document[_0x571538(0x651)](_0x571538(0x257));_0x2e7eeb[_0x571538(0xbeb)][_0x571538(0xb9b)](_0x571538(0x712),_0x393be6===_0x571538(0x1be)),_0x5d3fa6[_0x571538(0xbeb)][_0x571538(0xb9b)](_0x571538(0x712),_0x393be6==='list'),document[_0x571538(0x651)]('project-sort-select')[_0x571538(0x3b7)]=_0x3e1a8a;const _0x5a2338=document['getElementById'](_0x571538(0x3f1))[_0x571538(0x3b7)]['toLowerCase']();let _0x5624ac=allProjects[_0x571538(0x7c4)](_0x3bed73=>_0x3bed73[_0x571538(0x68c)][_0x571538(0x939)]()[_0x571538(0x6ed)](_0x5a2338));const _0x125941=_0x5624ac[_0x571538(0x7c4)](_0xb4752c=>_0x44d322[_0x571538(0x1ac)](_0xb4752c['id'])),_0x4dfcc4=_0x5624ac['filter'](_0x262ba5=>!_0x44d322[_0x571538(0x1ac)](_0x262ba5['id'])),_0x408f4b=(_0x1f4bed,_0x26afb9)=>{const _0x530ac2=_0x571538;switch(_0x3e1a8a){case _0x530ac2(0x8d9):return _0x1f4bed[_0x530ac2(0x68c)][_0x530ac2(0x3c5)](_0x26afb9['projectName'],'th');case'name_desc':return _0x26afb9['projectName'][_0x530ac2(0x3c5)](_0x1f4bed[_0x530ac2(0x68c)],'th');case _0x530ac2(0x8c7):return new Date(_0x1f4bed[_0x530ac2(0x28d)])-new Date(_0x26afb9[_0x530ac2(0x28d)]);default:return new Date(_0x26afb9[_0x530ac2(0x28d)])-new Date(_0x1f4bed[_0x530ac2(0x28d)]);}};_0x125941[_0x571538(0xa7e)](_0x408f4b),_0x4dfcc4['sort'](_0x408f4b);const _0x4c1b81=[..._0x125941,..._0x4dfcc4],_0x1eac2c=globalDashboardSettings['projectOrder']||[];_0x1eac2c[_0x571538(0x9fa)]>0x0&&_0x393be6===_0x571538(0x1be)&&_0x4c1b81[_0x571538(0xa7e)]((_0x5377a7,_0x2e242f)=>{const _0x452fb4=_0x571538,_0x32efae=_0x1eac2c[_0x452fb4(0x959)](_0x5377a7['id']),_0x8656d2=_0x1eac2c[_0x452fb4(0x959)](_0x2e242f['id']);if(_0x32efae===-0x1)return 0x1;if(_0x8656d2===-0x1)return-0x1;return _0x32efae-_0x8656d2;});const _0x548181={};await Promise[_0x571538(0x7a2)](_0x4c1b81[_0x571538(0xb6a)](async _0x5ba96a=>{const _0x2a7591=_0x571538,_0x7c714e=query(collection(db,'artifacts/'+appId+_0x2a7591(0x2cd)),where('projectId','==',_0x5ba96a['id'])),_0x3980a3=await getDocs(_0x7c714e);_0x548181[_0x5ba96a['id']]=_0x3980a3[_0x2a7591(0xc0e)];}));const _0x59aa35=document[_0x571538(0x651)](_0x571538(0x635));let _0x4ea525='';if(_0x393be6==='grid'){_0x59aa35[_0x571538(0x388)]=_0x571538(0x975);if(starredQuizzes[_0x571538(0x9fa)]>0x0&&_0x5a2338===''){const _0x265f38=starredQuizzes[_0x571538(0xb6a)](_0x2508d6=>{const _0x39d097=_0x571538,_0x312abd=allProjects['find'](_0xad19d0=>_0xad19d0['id']===_0x2508d6[_0x39d097(0x661)]);return{..._0x2508d6,'projectName':_0x312abd?_0x312abd['projectName']:'N/A'};});_0x4ea525+=_0x571538(0x8a8)+_0x265f38['map'](_0x1b5d78=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x1b5d78['topic']+'\x22>'+_0x1b5d78['topic']+_0x571538(0x8a4)+_0x1b5d78[_0x571538(0x68c)]+_0x571538(0x8ad)+_0x1b5d78[_0x571538(0x68c)]+_0x571538(0x1c5))[_0x571538(0x254)]('')+_0x571538(0xa8a)+starredQuizzes[_0x571538(0x9fa)]+_0x571538(0x5a4);}_0x4c1b81[_0x571538(0x15f)](_0x55915f=>{const _0x55cff7=_0x571538,_0x837318=_0x548181[_0x55915f['id']]??0x0,_0x151cb4=_0x44d322[_0x55cff7(0x1ac)](_0x55915f['id']),_0x1adc8c=_0x55915f['color']||_0x55cff7(0x4be),_0x4f29d3=parseInt(_0x1adc8c[_0x55cff7(0x25f)](0x1,0x3),0x10)*0.299+parseInt(_0x1adc8c[_0x55cff7(0x25f)](0x3,0x5),0x10)*0.587+parseInt(_0x1adc8c[_0x55cff7(0x25f)](0x5,0x7),0x10)*0.114<0xba,_0x1e1f49=_0x4f29d3?_0x55cff7(0x31b):'text-indigo-800',_0x2007ba=_0x4f29d3?_0x55cff7(0x46b):_0x55cff7(0x553);_0x4ea525+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x151cb4?_0x55cff7(0x929):_0x55cff7(0x57a))+_0x55cff7(0x195)+_0x1adc8c+';\x22\x20data-id=\x22'+_0x55915f['id']+_0x55cff7(0x772)+_0x55915f['id']+_0x55cff7(0xa64)+(_0x4f29d3?'text-gray-300\x20hover:text-white':_0x55cff7(0x5a1))+_0x55cff7(0x8f2)+_0x55915f['id']+_0x55cff7(0x289)+(_0x4f29d3?_0x55cff7(0x6b3):'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x151cb4?_0x4f29d3?_0x55cff7(0xb5a):_0x55cff7(0x14f):'')+_0x55cff7(0x8f4)+_0x55915f['id']+_0x55cff7(0x790)+_0x1e1f49+'\x20pointer-events-none\x22>'+_0x55915f['projectName']+_0x55cff7(0x8a1)+_0x2007ba+_0x55cff7(0x77d)+new Date(_0x55915f[_0x55cff7(0x28d)])[_0x55cff7(0x2fa)](_0x55cff7(0x276))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x4f29d3?_0x55cff7(0x32b):'text-gray-700')+_0x55cff7(0x2bd)+_0x837318+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x55915f['id']+_0x55cff7(0x182)+_0x55915f['projectName']+_0x55cff7(0x230)+(_0x4f29d3?_0x55cff7(0x6a7):'text-red-500\x20hover:text-red-700')+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x59aa35[_0x571538(0x388)]=_0x571538(0xc1d),starredQuizzes[_0x571538(0x9fa)]>0x0&&_0x5a2338===''&&(_0x4ea525+=_0x571538(0x7e4)+starredQuizzes[_0x571538(0x9fa)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x4ea525+=_0x571538(0x42c),_0x4c1b81[_0x571538(0x15f)](_0x4ccdda=>{const _0x449452=_0x571538,_0x3361ea=_0x548181[_0x4ccdda['id']]??0x0,_0x35b2b5=_0x44d322['has'](_0x4ccdda['id']);_0x4ea525+=_0x449452(0xb6f)+(_0x4ccdda[_0x449452(0x256)]||_0x449452(0x4d3))+_0x449452(0x961)+_0x4ccdda['id']+_0x449452(0x938)+_0x4ccdda[_0x449452(0x68c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x3361ea+_0x449452(0x4d5)+new Date(_0x4ccdda[_0x449452(0x28d)])[_0x449452(0xab0)](_0x449452(0x276))+_0x449452(0x277)+_0x4ccdda['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x35b2b5?'text-indigo-600':'')+_0x449452(0x13b)+_0x4ccdda['id']+_0x449452(0x182)+_0x4ccdda[_0x449452(0x68c)]+_0x449452(0x1cc);});projectList[_0x571538(0x61b)]=_0x4ea525,noProjectsMsg[_0x571538(0xbeb)]['toggle']('hidden',_0x4ea525[_0x571538(0x9fa)]>0x0);}document[_0x4414d4(0x651)]('confirm-create-project-btn')[_0x4414d4(0x7bb)](_0x4414d4(0x530),async()=>{const _0x10f914=_0x4414d4,_0x1211b0=document[_0x10f914(0x651)](_0x10f914(0x6f1)),_0x57248e=_0x1211b0[_0x10f914(0x3b7)][_0x10f914(0x4fe)]();if(!_0x57248e){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x192c08=doc(collection(db,_0x10f914(0x763)+appId+_0x10f914(0x714)));await setDoc(_0x192c08,{'projectName':_0x57248e,'students':[],'settings':{'resultsDisplay':_0x10f914(0x3d2),'shuffleSetting':_0x10f914(0xb35),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x10f914(0xb35),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x1211b0[_0x10f914(0x3b7)]='',createProjectModal[_0x10f914(0xbeb)]['add']('hidden'),showMessage(_0x10f914(0x299));}catch(_0x201d7f){console['error']('Error\x20creating\x20project:',_0x201d7f),showMessage(_0x10f914(0x7af));}}),projectList[_0x4414d4(0x7bb)](_0x4414d4(0x530),async _0x468153=>{const _0x6a3ae=_0x4414d4,_0x205788=_0x468153['target']['closest'](_0x6a3ae(0x602)),_0x189526=_0x468153[_0x6a3ae(0x8d0)][_0x6a3ae(0xb9a)](_0x6a3ae(0x1d1)),_0x147dc1=_0x468153[_0x6a3ae(0x8d0)][_0x6a3ae(0xb9a)](_0x6a3ae(0x9f4)),_0x50dcd7=_0x468153[_0x6a3ae(0x8d0)][_0x6a3ae(0xb9a)]('.color-palette-btn');if(_0x147dc1){const _0x5d8a9f=_0x147dc1[_0x6a3ae(0x3b5)]['id'],_0x83e99a=doc(db,_0x6a3ae(0x7d1),'dashboardConfig'),_0x255600=globalDashboardSettings[_0x6a3ae(0xb41)];let _0x4dc867;_0x255600[_0x6a3ae(0x6ed)](_0x5d8a9f)?_0x4dc867=_0x255600[_0x6a3ae(0x7c4)](_0x496eca=>_0x496eca!==_0x5d8a9f):_0x4dc867=[..._0x255600,_0x5d8a9f];try{await setDoc(_0x83e99a,{'pinnedProjects':_0x4dc867},{'merge':!![]});}catch(_0x3d9c29){console['error']('Error\x20updating\x20pin\x20status:',_0x3d9c29),showMessage(_0x6a3ae(0x72c));}}else{if(_0x50dcd7){const _0x2888d4=_0x50dcd7[_0x6a3ae(0x3b5)]['id'];showColorPalette(_0x50dcd7,_0x2888d4);}else{if(_0x205788){const _0x5b1da5=_0x205788[_0x6a3ae(0x3b5)]['id'];_0x5b1da5===_0x6a3ae(0x5fc)?showStarredProjectView():(currentProjectId=_0x5b1da5,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x189526){const _0x444689=_0x189526[_0x6a3ae(0x3b5)]['id'],_0x2f06a7=_0x189526['dataset'][_0x6a3ae(0x815)];showConfirmation(_0x6a3ae(0x8ba)+_0x2f06a7+_0x6a3ae(0xa36),()=>handleDeleteProject(_0x444689));}}}}}),projectList[_0x4414d4(0x7bb)]('dragstart',_0xbfd0bf=>{const _0x4d16ff=_0x4414d4,_0x4b3f6e=_0xbfd0bf[_0x4d16ff(0x8d0)][_0x4d16ff(0xb9a)](_0x4d16ff(0xa57));_0x4b3f6e&&_0x4b3f6e[_0x4d16ff(0xbeb)]['add']('opacity-50');}),projectList[_0x4414d4(0x7bb)](_0x4414d4(0x319),_0x1456ed=>{const _0x1dc837=_0x4414d4,_0x2c4456=_0x1456ed[_0x1dc837(0x8d0)][_0x1dc837(0xb9a)](_0x1dc837(0xa57));_0x2c4456&&_0x2c4456[_0x1dc837(0xbeb)]['remove'](_0x1dc837(0x9a6));}),projectList['addEventListener'](_0x4414d4(0x723),_0x42e460=>{const _0x502bc5=_0x4414d4;_0x42e460['preventDefault']();const _0x49a323=document[_0x502bc5(0x2d5)]('.project-card-container.opacity-50');if(!_0x49a323)return;const _0x28b535=getDragAfterElement(projectList,_0x42e460[_0x502bc5(0x63c)]);_0x28b535==null?projectList['appendChild'](_0x49a323):projectList[_0x502bc5(0x336)](_0x49a323,_0x28b535);}),projectList[_0x4414d4(0x7bb)](_0x4414d4(0x68d),_0x47f938=>{const _0x1636b6=_0x4414d4;_0x47f938['preventDefault']();const _0x51adf0=[...projectList[_0x1636b6(0x514)](_0x1636b6(0xb9e))][_0x1636b6(0xb6a)](_0x11aae2=>_0x11aae2[_0x1636b6(0x3b5)]['id']);saveProjectOrder(_0x51adf0);});function renderBehaviorLog(_0x166728){const _0x1cdacc=_0x4414d4,_0x451b9a=document[_0x1cdacc(0x651)](_0x1cdacc(0x243));if(!_0x451b9a)return;const _0x1e5da1=_0x166728[_0x1cdacc(0x7c4)](_0x2e16fa=>_0x2e16fa['behaviorLog']&&_0x2e16fa['behaviorLog'][_0x1cdacc(0x9fa)]>0x0);if(_0x1e5da1[_0x1cdacc(0x9fa)]===0x0){_0x451b9a['innerHTML']=_0x1cdacc(0x36b);return;}let _0x3c6ec7='';_0x1e5da1[_0x1cdacc(0x15f)](_0x590ceb=>{const _0x52e19c=_0x1cdacc;_0x3c6ec7+=_0x52e19c(0xa07)+_0x590ceb[_0x52e19c(0x637)]+_0x52e19c(0x159),_0x590ceb[_0x52e19c(0xb73)][_0x52e19c(0xa7e)]((_0x58066c,_0x408ac1)=>new Date(_0x408ac1[_0x52e19c(0xa0a)])-new Date(_0x58066c[_0x52e19c(0xa0a)]))[_0x52e19c(0x15f)](_0x196439=>{const _0x59100e=_0x52e19c,_0x5f52a0=new Date(_0x196439[_0x59100e(0xa0a)])[_0x59100e(0xab0)](_0x59100e(0x276),{'dateStyle':_0x59100e(0x77c),'timeStyle':'medium'});_0x3c6ec7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x196439[_0x59100e(0x67b)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x5f52a0+_0x59100e(0x62c);}),_0x3c6ec7+=_0x52e19c(0x4c4);}),_0x451b9a['innerHTML']=_0x3c6ec7;}function getDragAfterElement(_0x3457b7,_0x3c17a5){const _0x5a748f=_0x4414d4,_0x22228a=[..._0x3457b7[_0x5a748f(0x514)](_0x5a748f(0x5ad))];return _0x22228a[_0x5a748f(0x6d8)]((_0x17ef13,_0x25bb88)=>{const _0x465fa3=_0x5a748f,_0x2dbf01=_0x25bb88[_0x465fa3(0x4c5)](),_0x403193=_0x3c17a5-_0x2dbf01['top']-_0x2dbf01[_0x465fa3(0x99b)]/0x2;return _0x403193<0x0&&_0x403193>_0x17ef13[_0x465fa3(0x47a)]?{'offset':_0x403193,'element':_0x25bb88}:_0x17ef13;},{'offset':Number[_0x5a748f(0x25d)]})[_0x5a748f(0x457)];}async function saveProjectOrder(_0x44fca6){const _0x3cd4b0=_0x4414d4,_0x1ab53d=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x1ab53d,{'projectOrder':_0x44fca6},{'merge':!![]});}catch(_0x406d35){console[_0x3cd4b0(0xb95)]('Error\x20saving\x20project\x20order:',_0x406d35),showMessage(_0x3cd4b0(0x705));}}async function logBehaviorEvent(_0x2cca49,_0x483f4a={}){const _0x4cad6b=_0x4414d4;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x4cad6b(0xa14)](_0x4cad6b(0xb26));return;}const _0x265f81=doc(db,_0x4cad6b(0x763)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x4cad6b(0xa32),currentStudentName),_0x2eca86={'event':_0x2cca49,'timestamp':new Date()[_0x4cad6b(0x759)](),..._0x483f4a};try{await updateDoc(_0x265f81,{'behaviorLog':arrayUnion(_0x2eca86)}),console['log'](_0x4cad6b(0x3ac)+currentStudentName+'\x20สำเร็จ');}catch(_0x178192){_0x178192[_0x4cad6b(0x194)]===_0x4cad6b(0x7ba)?console['warn'](_0x4cad6b(0x3ab)+currentStudentName+_0x4cad6b(0x25e)):console[_0x4cad6b(0xb95)](_0x4cad6b(0x487),_0x178192);}}function calculateMeanAndStdDev(_0x4c8d26){const _0x38bffb=_0x4414d4;if(_0x4c8d26[_0x38bffb(0x9fa)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x4de5ef=_0x4c8d26[_0x38bffb(0x6d8)]((_0x2409a0,_0x18217c)=>_0x2409a0+_0x18217c,0x0)/_0x4c8d26[_0x38bffb(0x9fa)];if(_0x4c8d26['length']===0x1)return{'mean':_0x4de5ef,'stdDev':0x0};const _0x42a4f2=Math[_0x38bffb(0x4bd)](_0x4c8d26[_0x38bffb(0xb6a)](_0xbcf90c=>Math['pow'](_0xbcf90c-_0x4de5ef,0x2))[_0x38bffb(0x6d8)]((_0x23a364,_0x2f3433)=>_0x23a364+_0x2f3433,0x0)/(_0x4c8d26[_0x38bffb(0x9fa)]-0x1));return{'mean':_0x4de5ef,'stdDev':_0x42a4f2};}function calculateZScore(_0x541939,_0x132ab6,_0x3aadf2){if(_0x3aadf2===0x0)return 0x0;return(_0x541939-_0x132ab6)/_0x3aadf2;}function calculateTScore(_0x3a1a75){return 0xa*_0x3a1a75+0x32;}function showStarredProjectView(){const _0x254fa8=_0x4414d4;currentProjectId=_0x254fa8(0x706),currentProjectData=null,projectTitle[_0x254fa8(0xc23)]=_0x254fa8(0x71e),projectIdDisplay['textContent']=_0x254fa8(0x446),showView(_0x254fa8(0x2bf)),manageTab[_0x254fa8(0xbeb)][_0x254fa8(0x7bd)](_0x254fa8(0x6ca)),leaderboardTab[_0x254fa8(0xbeb)][_0x254fa8(0x7bd)](_0x254fa8(0x6ca)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x333864){const _0x42fa21=_0x4414d4,_0x29879b=doc(db,_0x42fa21(0x763)+appId+_0x42fa21(0x714),_0x333864),_0x3f4994=await getDoc(_0x29879b);if(_0x3f4994[_0x42fa21(0x523)]()){manageTab['classList'][_0x42fa21(0x303)](_0x42fa21(0x6ca)),leaderboardTab['classList'][_0x42fa21(0x303)](_0x42fa21(0x6ca)),currentProjectData=_0x3f4994[_0x42fa21(0x213)](),projectTitle[_0x42fa21(0xc23)]=currentProjectData[_0x42fa21(0x68c)],projectIdDisplay[_0x42fa21(0xc23)]=_0x333864;const _0x1be08c=currentProjectData[_0x42fa21(0xb21)]||{};document[_0x42fa21(0x651)]('shuffle-setting-select')[_0x42fa21(0x3b7)]=_0x1be08c[_0x42fa21(0x17d)]||_0x42fa21(0xb35);const _0x406c68=document['getElementById'](_0x42fa21(0x777));_0x406c68[_0x42fa21(0x173)]=_0x1be08c[_0x42fa21(0xc10)]!==![];const _0x14d25a=document[_0x42fa21(0x651)]('enable-passcode-checkbox'),_0x1adeb9=document[_0x42fa21(0x651)](_0x42fa21(0x405)),_0x35ff38=document[_0x42fa21(0x651)](_0x42fa21(0x59f)),_0x2610cb=_0x1be08c['isPasscodeEnabled']||![];_0x14d25a[_0x42fa21(0x173)]=_0x2610cb,_0x35ff38['value']=_0x1be08c[_0x42fa21(0xa23)]||'',_0x1adeb9[_0x42fa21(0xbeb)][_0x42fa21(0xb9b)]('hidden',!_0x2610cb),_0x14d25a[_0x42fa21(0x544)]=()=>{const _0x1dede8=_0x42fa21;_0x1adeb9['classList'][_0x1dede8(0xb9b)]('hidden',!_0x14d25a[_0x1dede8(0x173)]);},document[_0x42fa21(0x651)](_0x42fa21(0x88f))[_0x42fa21(0x173)]=_0x1be08c[_0x42fa21(0x29a)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x333864),listenForProjectQuizzes(_0x333864),listenForStudentProfiles(_0x333864);}else showMessage(_0x42fa21(0x2a1)),showView(_0x42fa21(0x2fe));}async function handleResetProjectOrder(){const _0x24593e=_0x4414d4,_0x3de72a=doc(db,_0x24593e(0x7d1),_0x24593e(0xb3b));try{await setDoc(_0x3de72a,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x24593e(0x6eb));}catch(_0x339ce1){console['error']('Error\x20resetting\x20project\x20order:',_0x339ce1),showMessage(_0x24593e(0x1bd));}}async function handleTogglePinProject(_0x1d29d4){const _0x36e6f1=_0x4414d4;if(!_0x1d29d4)return;const _0x761629=doc(db,_0x36e6f1(0x763)+appId+_0x36e6f1(0x714),_0x1d29d4);try{const _0x7103b2=await getDoc(_0x761629);if(_0x7103b2[_0x36e6f1(0x523)]()){const _0x41b287=_0x7103b2[_0x36e6f1(0x213)]()[_0x36e6f1(0x659)]||![];await updateDoc(_0x761629,{'isPinned':!_0x41b287});}}catch(_0x573bdd){console[_0x36e6f1(0xb95)]('Error\x20toggling\x20pin\x20status:',_0x573bdd),showMessage(_0x36e6f1(0x72c));}}async function handleDeleteProject(_0x3e07da){const _0x4f27f5=_0x4414d4;try{const _0x41f62c=writeBatch(db),_0x3988d2=collection(db,_0x4f27f5(0x763)+appId+_0x4f27f5(0x2cd)),_0x408822=query(_0x3988d2,where(_0x4f27f5(0x661),'==',_0x3e07da)),_0x4808a1=await getDocs(_0x408822);for(const _0x3f4197 of _0x4808a1['docs']){const _0x176ce1=collection(db,_0x4f27f5(0x763)+appId+_0x4f27f5(0x2b2)+_0x3f4197['id']+_0x4f27f5(0xa32)),_0xe810f8=await getDocs(_0x176ce1);_0xe810f8['forEach'](_0x56e846=>{const _0xb716c5=_0x4f27f5;_0x41f62c[_0xb716c5(0x4b6)](_0x56e846[_0xb716c5(0x617)]);}),_0x41f62c[_0x4f27f5(0x4b6)](_0x3f4197['ref']);}const _0x145869=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x3e07da+_0x4f27f5(0xb63)),_0x2b86b4=await getDocs(_0x145869);_0x2b86b4[_0x4f27f5(0x15f)](_0x1c49d3=>{const _0x55514e=_0x4f27f5;_0x41f62c['delete'](_0x1c49d3[_0x55514e(0x617)]);});const _0x2d988f=doc(db,_0x4f27f5(0x763)+appId+_0x4f27f5(0x714),_0x3e07da);_0x41f62c[_0x4f27f5(0x4b6)](_0x2d988f),await _0x41f62c[_0x4f27f5(0x56c)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView('admin-dashboard');}catch(_0x24ae76){console['error'](_0x4f27f5(0x55b),_0x24ae76),showMessage(_0x4f27f5(0x17b));}}document[_0x4414d4(0x651)](_0x4414d4(0x8b2))[_0x4414d4(0x7bb)]('click',async()=>{const _0x3df53e=_0x4414d4;if(!currentProjectId)return;const _0x370af4={'defaultNumQuestions':parseInt(document[_0x3df53e(0x651)](_0x3df53e(0x383))['value']),'defaultNumChoices':parseInt(document['getElementById']('num-choices')['value']),'defaultPassingScore':parseInt(document[_0x3df53e(0x651)](_0x3df53e(0x6ad))['value']),'resultsDisplay':document[_0x3df53e(0x651)](_0x3df53e(0xc32))['value'],'shuffleSetting':document[_0x3df53e(0x651)](_0x3df53e(0xaa8))[_0x3df53e(0x3b7)],'timerMode':document[_0x3df53e(0x651)](_0x3df53e(0xb7f))[_0x3df53e(0x3b7)],'timerDuration':parseInt(document['getElementById'](_0x3df53e(0x274))[_0x3df53e(0x3b7)]),'isConfidenceScoringEnabled':document[_0x3df53e(0x651)]('confidence-scoring-checkbox')[_0x3df53e(0x173)],'confidenceMode':document['getElementById'](_0x3df53e(0x176))[_0x3df53e(0x3b7)]};try{const _0x416c62=doc(db,_0x3df53e(0x763)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x416c62,{'settings':_0x370af4}),showMessage(_0x3df53e(0xb5b));}catch(_0x194c72){console[_0x3df53e(0xb95)](_0x3df53e(0xb39),_0x194c72),showMessage(_0x3df53e(0x47f));}});function listenForStudents(_0x3ce9f3){const _0x357a34=_0x4414d4,_0x2ab96e=doc(db,_0x357a34(0x763)+appId+_0x357a34(0x714),_0x3ce9f3);unsubscribeStudentsListener=onSnapshot(_0x2ab96e,_0x2b5d2a=>{const _0x96cc98=_0x357a34;if(_0x2b5d2a[_0x96cc98(0x523)]()){const _0x3b82a7=_0x2b5d2a[_0x96cc98(0x213)]();currentProjectData=_0x3b82a7,renderStudentList(_0x3b82a7['students']||[]);}});}function renderStudentList(_0x4edc28){const _0x3e7a43=_0x4414d4,_0x29e4a4=document[_0x3e7a43(0x651)](_0x3e7a43(0x6ac));_0x4edc28[_0x3e7a43(0x9fa)]===0x0?(studentList[_0x3e7a43(0x61b)]=_0x3e7a43(0x887),_0x29e4a4[_0x3e7a43(0xbeb)]['add'](_0x3e7a43(0x6ca))):(studentList[_0x3e7a43(0x61b)]=_0x4edc28[_0x3e7a43(0xb6a)](_0x32c0f9=>_0x3e7a43(0x7d0)+_0x32c0f9+_0x3e7a43(0x295)+_0x32c0f9+_0x3e7a43(0x3d0))[_0x3e7a43(0x254)](''),_0x29e4a4[_0x3e7a43(0xbeb)][_0x3e7a43(0x303)]('hidden'));}document[_0x4414d4(0x651)]('add-student-btn')[_0x4414d4(0x7bb)]('click',async()=>{const _0x3f8ea1=_0x4414d4;if(!currentProjectId)return;const _0x5c9765=document[_0x3f8ea1(0x651)](_0x3f8ea1(0x272)),_0x42a2aa=_0x5c9765[_0x3f8ea1(0x3b7)][_0x3f8ea1(0x4fe)]();if(!_0x42a2aa){showMessage(_0x3f8ea1(0xbea));return;}const _0x235c20=_0x42a2aa[_0x3f8ea1(0x54a)]('\x0a')[_0x3f8ea1(0xb6a)](_0x284db4=>_0x284db4[_0x3f8ea1(0x4fe)]())['filter'](_0x28727e=>_0x28727e);if(_0x235c20['length']===0x0)return;try{const _0x306d53=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x45a784=await getDoc(_0x306d53);if(_0x45a784[_0x3f8ea1(0x523)]()){const _0x4f18b2=_0x45a784[_0x3f8ea1(0x213)]()['students']||[],_0x1e3b7a=[...new Set([..._0x4f18b2,..._0x235c20])];await updateDoc(_0x306d53,{'students':_0x1e3b7a}),_0x5c9765['value']='';}}catch(_0x55de8e){console[_0x3f8ea1(0xb95)](_0x3f8ea1(0x9dd),_0x55de8e),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x6234a4){const _0x88b383=_0x4414d4,_0x1de0be=document['getElementById'](_0x88b383(0x58b)),_0x1b9227=document[_0x88b383(0x651)](_0x88b383(0xbe3)),_0x5d6aef=_0x1de0be[_0x88b383(0x2d5)]('h3'),_0x35405e=document[_0x88b383(0x651)](_0x88b383(0xbfa)),_0x4d8e69=document[_0x88b383(0x651)](_0x88b383(0xabf));_0x5d6aef[_0x88b383(0xc23)]=_0x88b383(0x216),_0x1b9227['innerHTML']=_0x88b383(0x3fd),_0x35405e[_0x88b383(0xc23)]='ยืนยันการจับคู่',_0x1de0be['classList']['remove'](_0x88b383(0x6ca));const _0x5d0074=allQuizzes[_0x88b383(0x7c4)](_0x50a49f=>_0x50a49f['id']!==_0x6234a4);_0x5d0074[_0x88b383(0x9fa)]===0x0?(_0x1b9227[_0x88b383(0x61b)]=_0x88b383(0x54b),_0x35405e['disabled']=!![]):(_0x1b9227[_0x88b383(0x61b)]=_0x88b383(0x6bc)+_0x5d0074[_0x88b383(0xb6a)](_0x423819=>'<option\x20value=\x22'+_0x423819['id']+'\x22>'+_0x423819['topic']+'</option>')[_0x88b383(0x254)](''),_0x35405e[_0x88b383(0x993)]=![]);const _0x53d8a4=async()=>{const _0x587870=_0x88b383,_0x1783b9=_0x1b9227[_0x587870(0x3b7)];if(!_0x1783b9){showMessage(_0x587870(0x98e));return;}_0x35405e[_0x587870(0x993)]=!![],_0x35405e[_0x587870(0xc23)]=_0x587870(0x6d1);try{const _0x5e3257=doc(db,_0x587870(0x763)+appId+_0x587870(0x2cd),_0x6234a4),_0x54039c=doc(db,_0x587870(0x763)+appId+_0x587870(0x2cd),_0x1783b9),_0x4b19ba=writeBatch(db);_0x4b19ba[_0x587870(0x219)](_0x5e3257,{'pairedQuizId':_0x1783b9}),_0x4b19ba[_0x587870(0x219)](_0x54039c,{'pairedQuizId':_0x6234a4}),await _0x4b19ba['commit'](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x1de0be['classList']['add']('hidden');}catch(_0x2c455e){console[_0x587870(0xb95)](_0x587870(0x141),_0x2c455e),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x5d6aef[_0x587870(0xc23)]=_0x587870(0xa82),_0x35405e['textContent']=_0x587870(0x32f),_0x35405e[_0x587870(0x993)]=![],_0x35405e['removeEventListener'](_0x587870(0x530),_0x53d8a4),_0x4d8e69['removeEventListener'](_0x587870(0x530),_0x38e909);}},_0x38e909=()=>{const _0x59e166=_0x88b383;_0x1de0be['classList'][_0x59e166(0x7bd)](_0x59e166(0x6ca)),_0x5d6aef[_0x59e166(0xc23)]=_0x59e166(0xa82),_0x35405e[_0x59e166(0xc23)]='ย้าย',_0x35405e[_0x59e166(0x3ee)]('click',_0x53d8a4),_0x4d8e69[_0x59e166(0x3ee)](_0x59e166(0x530),_0x38e909);};_0x35405e[_0x88b383(0x7bb)]('click',_0x53d8a4),_0x4d8e69[_0x88b383(0x7bb)](_0x88b383(0x530),_0x38e909);}function handleDeleteStudent(_0x182c44){const _0x3034a5=_0x4414d4;showConfirmation(_0x3034a5(0x16c)+_0x182c44+_0x3034a5(0xb2c),async()=>{const _0x27a5ab=_0x3034a5;if(!currentProjectId||!currentProjectData)return;const _0x38fa68=currentProjectData[_0x27a5ab(0xb29)]['filter'](_0x5d202e=>_0x5d202e!==_0x182c44);try{const _0x53a2b8=doc(db,_0x27a5ab(0x763)+appId+_0x27a5ab(0x714),currentProjectId),_0x2ce367=doc(db,_0x27a5ab(0x763)+appId+_0x27a5ab(0x275)+currentProjectId+_0x27a5ab(0xb63),_0x182c44),_0x102728=writeBatch(db);_0x102728[_0x27a5ab(0x219)](_0x53a2b8,{'students':_0x38fa68}),_0x102728[_0x27a5ab(0x4b6)](_0x2ce367),await _0x102728[_0x27a5ab(0x56c)]();}catch(_0x1ff31a){console[_0x27a5ab(0xb95)]('Error\x20deleting\x20student:',_0x1ff31a),showMessage(_0x27a5ab(0x6b7));}});}function handleDeleteAllStudents(){const _0x150a89=_0x4414d4;showConfirmation(_0x150a89(0x73a),async()=>{const _0x501f07=_0x150a89;if(!currentProjectId)return;try{const _0x67044e=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x379db0=collection(db,_0x501f07(0x763)+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles'),_0x215e66=await getDocs(_0x379db0),_0x4e19bf=writeBatch(db);_0x4e19bf[_0x501f07(0x219)](_0x67044e,{'students':[]}),_0x215e66[_0x501f07(0x15f)](_0x180668=>_0x4e19bf['delete'](_0x180668[_0x501f07(0x617)])),await _0x4e19bf[_0x501f07(0x56c)]();}catch(_0x2894ee){console[_0x501f07(0xb95)]('Error\x20deleting\x20all\x20students:',_0x2894ee),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}function _0x58bd(){const _0xa3d24b=['results-tab-content','คำถามถัดไป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','<div\x20class=\x22mb-3\x20topic-category\x22>','#6366F1','Failed\x20to\x20get\x20hint:','</label></div>','parallel-default-','#results-table\x20thead\x20tr',',\x20r=','No\x20player\x20data\x20to\x20save.','setTransform','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','splice','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','isScored','โดยให้อ้างอิงสไตล์และระดับความยากจากไฟล์ข้อสอบอ้างอิงที่แนบมาด้วย','show_results_only','grid-view-btn','สมมาตร\x20(แกน/จุด)','blueprint-projects-modal','lowerGroupResponders','เริ่มกิจกรรม:\x20','settings','การกระจายและการจัดหมู่','.linkedQuizId','student-progress-content','student-project-leaderboard-content','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','students','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','#26890c','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','อสมการค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','behavior-log-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submit','border-green-300\x20bg-green-50','none','pointercancel','การจัดกลุ่มข้อมูล','<br>','Error\x20saving\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','dashboardConfig','confirm-quiz-status-btn','ทำคะแนนได้เกินครึ่ง','questionId','modal-timer-duration-container','\x22\x20data-pre-test-id=\x22','pinnedProjects','pow','.parallel-shortcut-btn','temp-loader-results','json','Failed\x20to\x20generate\x20practice\x20test:','confirm-delete-btn','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','start-game-btn','options','scores-tab-content','กรุณาเลือกคำตอบของกลุ่ม','\x22\x20data-quiz-id=\x22','hover:bg-indigo-100','lobby','กำลังสร้างเนื้อหา:\x20','dataIndex','back-to-project-btn','file-shortcut-url-input','กิจกรรมสิ้นสุดลงแล้ว','isFinished','สร้างคำถามแบบเติมคำในช่องว่าง','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','text-yellow-300','บันทึกการตั้งค่าแล้ว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','isStarred','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','idealAnswer','choices_only','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','block','/studentProfiles','แก้ไขชื่อหัวข้อย่อย:','table','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','every','คัดลอกไม่สำเร็จ','map','ไม่พบแบบทดสอบในระบบเลย','\x5cle','<p\x20class=\x22','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','การแจกแจงทวินาม\x20(พื้นฐาน)','start-sync-game-btn','ฟังก์ชันผกผัน','behaviorLog','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-blue-800','players','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','copy','scrollX','team-student-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','สรุปผลสุดท้าย','\x20**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','ส่วนเบี่ยงเบนมาตรฐาน','timer-mode-select','ไม่พบข้อมูลแบบทดสอบ','...','sync-matching-select','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','analytics','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','/users/','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','หัวข้อที่สร้างเอง','bulk-results-display-select','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','fill','\x22><i\x20class=\x22fas\x20','/public/data/practiceBank','answerValue','parallel-shortcut-container','student-result-area','error','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','คะแนนยังไม่ถึงครึ่ง','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','closest','toggle','เกิดข้อผิดพลาดในการลบผลสอบ','responseSchema','.project-card-container[data-id]','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','deg','text-indigo-700','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','ร้อยละพื้นฐาน','.quiz-bank-settings-btn','lowerGroupNames','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x20ตัวเลือก)','blockReason','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','MathJax\x20typeset\x20error\x20(analytics):','ไม่มี','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','แบบทดสอบ:\x20','q-image-container-','กรุณาเลือกโปรเจคที่ต้องการบันทึก','Authentication\x20failed:','on_fire','AI\x20ไม่สามารถประมวลผลข้อมูลได้','endTime','เลือกโปรเจคเพื่อบันทึก','live-player-management','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','สมการเชิงเส้นตัวแปรเดียว','</body></html>','bp-modal-shuffle-setting-select','แก้ไขข้อนี้','Error\x20in\x20handleApiCall:','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</tbody></table>','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','bg-amber-100\x20text-amber-800','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','parallel-shortcut_','Auto-linking\x20new\x20quiz\x20','find','Group\x20Mode','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','removeChild','.unpair-quiz-btn','setFont','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','Error\x20editing\x20topic:','กำลังสร้างคำถามข้อ\x20','อยู่ในสาระการเรียนรู้ใด:','[data-field=\x22subTopic\x22]','cdot','Error\x20joining\x20team\x20quiz:','application/json','ความเท่ากันทุกประการของสามเหลี่ยม','submission','กำลังสร้างแบบทดสอบ\x20\x22','gain','force-math-checkbox','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','close-student-rankings-btn','closePath','.delete-parallel-shortcut-btn','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','topic-bank-subtopic-name','border-red-300\x20bg-red-50','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','move-quiz-project-select','การคูณ','live-submit-short-answer-btn','date_desc','.lessonContent','ไม่มีผู้ตอบตัวเลือกนี้','ฐานนิยม','กรุณาใส่ชื่อนักเรียน','classList','input','.bp-edit-topic-btn','\x20กลุ่ม</p></div>','bulk-shuffle-select','mousedown','/public/data/customMathTopics','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','classWeaknesses','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','ไม่สามารถโหลดข้อมูลอันดับได้','bg-gray-50','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-move-quiz-btn','interesting-stats-container','confirm-join-game-btn','พื้นที่ผิวรูปทรงสามมิติ','bg-emerald-100','commonMistakes','normal','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x0a---\x0a','per-question-options','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-search-input','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','match','clientX','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','leaderboard_','retake-quiz-loop-btn','Error\x20confirming\x20players\x20for\x20sync\x20game:','size','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','showInStudentDashboard','.quiz-bank-delete-btn','</select>','projectView','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','answers','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','print','scale','default-2','add-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','countdown-display','flex\x20flex-col\x20gap-2','\x22\x20สำเร็จ!','คะแนนเต็ม!','บันทึกการแก้ไข','Error\x20generating\x20teaching\x20content:','stdDev','textContent','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)</span></td>','รหัสไม่ถูกต้อง','qIndex','random','Error\x20generating\x20easy\x20version\x20quiz:','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','รูปสแควร์รูท\x20(surd)','schedule','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','questionType','กรุณาป้อนรหัสแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','results-display-select','.delete-hidden-parallel-shortcut-btn','touches','multiply','fas\x20fa-star\x20text-yellow-500','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Blueprint\x20O-NET\x20ป.6','กรุณาสร้างบทเรียนก่อน','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','G-V90KRM0L63','.confidence-choice-btn','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','contentEditable','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','กราฟแท่ง\x20กราฟเส้น','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','total','การคูณทศนิยม','questions','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20',':</span><span>','modal-timer-mode-select','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','ไม่พบข้อมูลบทเรียนที่บันทึกไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','pointer-events-none','ใช่','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','back-to-student-initial-btn','ทฤษฎีบทพื้นฐานของแคลคูลัส','Error\x20deleting\x20shortcut:','pen','</span></div>','Error\x20pairing\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','http://www.w3.org/2000/svg','.bp-create-topic-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','sum','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ai-content\x20td','open-quiz-bank-btn','file-shortcut-container','onload','พีชคณิตและฟังก์ชัน','text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','set','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parseInline','ดีเทอร์มิแนนต์','เกิดข้อผิดพลาดในการเปลี่ยนสี','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','scheduled','เกิดข้อผิดพลาดในการลบหัวข้อ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','back-to-dashboard-btn','parent','difficultyValue','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','```','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','tooltipTarget','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','หน่วยความยาวและการแปลง','/preferences/main','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','default','(ฉบับง่าย)\x20','modal-results-display-select','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','checked','Error\x20saving\x20shortcut:','dispatchEvent','confidence-mode-select','stringify','บทเรียนเรื่อง:\x20','bank-input-area','_opt0\x22\x20name=\x22question','เกิดข้อผิดพลาดในการลบโปรเจค','.ideal-answer-input,\x20.correct-response-input','shuffleSetting','สร้างแล้ว','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','.application-options\x20button','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22\x20data-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','shortcuts-loading-msg','bg-red-500','API\x20call\x20failed','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','generate-from-link-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','N/A','จำนวนข้อ:','strokeStyle','attempts','mouseup','.bp-try-btn','authed_project_','visibilityState','resultsDisplay','loop-until-pass-checkbox','code','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','cancel-team-selection-btn','เพิ่มหัวข้อ\x20\x22','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','group','analyze-strengths-btn','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','eraser','สร้างคำถามแบบใช่/ไม่ใช่','mixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','bestScore','num-choices','pin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','global-live-game-count','-\x20ข้อ\x20','รูปสี่เหลี่ยมและสมบัติ','ผ่านฉลุย','\x22\x20ออกจากคลังนี้?','.highlighter-color-btn','.quiz-result-card','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','text-green-600','presentation-explanation','Failed\x20to\x20kick\x20player\x20','msRequestFullscreen','ปรับเพิ่ม/ลดเป็นร้อยละ','select[name=\x22question_single\x22]','ฟังก์ชันยกกำลัง','quiz','ความสัมพันธ์ของมุม','project-quizzes-list','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','cancel-quiz-edits-btn','kick-player-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','grid','Attempting\x20to\x20save\x20game\x20results...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','passingScore','พาราโบลา','ย้ายแบบทดสอบสำเร็จ','เกิดข้อผิดพลาดในการบันทึก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','href','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','confirm-rename-quiz-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','jspdf','.rename-quiz-btn','.file-shortcut-btn','ตอบถูกทุกข้อในแบบทดสอบนี้','.delete-project-btn','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','transform','.live-summary-tooltip.visible','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.answered','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.toggle-actions-btn','blueprint-shortcut-container','เส้นรอบรูป','การลบเศษส่วน','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','ระยะจากจุดถึงเส้นตรง','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','student','questionIndex','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','กรุณาเลือกโปรเจคปลายทาง','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','274192258111','\x22\x20name=\x22confidence','manage-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','reset-view-btn','imageCode','file-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20unlinking\x20quiz:','open-scratchpad-btn','trail','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','แคลคูลัสเบื้องต้น','ไม่ระบุ','\x20ชุด)','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','view-my-progress-btn','typesetPromise','quiz-bank-modal','subTopic','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','show_pass_fail_only','quiz-leaderboard-table','generate-from-file-btn','Error\x20saving\x20manual\x20blueprint\x20project:','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','.live-answer-btn','พิมพ์ตอบ',',\x20Forced\x20MIME\x20Type:\x20','touchmove','.pdf','candidates','student-quiz-leaderboard-content','Loaded\x20','selectedTopicNames','bar','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','overallGroups','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','false','mean','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','groups.','API\x20Error\x20Response:','data','questionDisplayedAt','reference-pdf-upload','จับคู่เพื่อเปรียบเทียบผล','\x20\x20\x20-\x20คำตอบ:\x20','save-project-name-btn','update','bg-red-500\x20text-white\x20font-bold','Error\x20saving\x20quiz:','บันทึกโปรเจค\x20\x22','handleGenerateAndShowLesson','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','ไม่มีคำอธิบาย','\x20quizzes\x20into\x20global\x20cache.','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','ไม่พบข้อมูลผู้ใช้','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','(หลังเรียน)\x20','cursor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-home-btn','student-join-game-view','bg-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','ON_FIRE','badges','removeAttribute','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','quadraticCurveTo','\x22\x20class=\x22delete-project-btn\x20','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','จำนวนคละ','\x5ctimes','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-xl\x22>','per-question-timer-container','fullscreenchange','save-game-results-checkbox','ไม่พบข้อมูลการจับคู่','POST','</th>','practiceProblems','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','confirm-not-confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','password-error-msg','behavior-log-container','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','isDefault','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','Error\x20adding\x20topic:','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bulk-confidence-scoring-checkbox','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','file.pdf','frac','input[type=\x22radio\x22]:checked','insertAdjacentHTML','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','color','list-view-btn','AI\x20Formula\x20Fix\x20Error:','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','players.','.regenerate-question-editor-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','NEGATIVE_INFINITY','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','substring','text/plain','parallel-default-1','specialist','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','เนื้อหาสำหรับสอน:\x20','nickname-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-parallel-shortcut-edit-btn','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','mainTopics','\x20\x20\x20-\x20','true_false','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcut-name-input','join-group-activity-btn','confidence-choice-btn','student-name-input','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','timer-duration-input','/public/data/projects/','th-TH','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','timerDuration','entries','screen','back-to-home-manual-release','explanation','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22',')\x22>','text-red-900','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','onerror','Error\x20updating\x20old\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','STOP','score','\x22\x20class=\x22pin-project-btn\x20','scratchpad-clear-btn','ความเป็นอิสระของเหตุการณ์','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','createdAt','1:274192258111:web:4120c9118229b5644dd48a','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','mouseleave','copy-quiz-id-btn','cancel-bulk-quiz-settings-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswer','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','Error\x20deleting\x20submission:','student-reading-area','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','สร้างโปรเจคสำเร็จ!','isConfidenceScoringEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','.start-game-btn','keydown','student-rankings-modal','touchcancel','ไม่พบโปรเจค','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','some','submittedAt','สำหรับโปรเจค:\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','บันทึกการตั้งค่าสำเร็จ','\x27\x20ในส่วน\x20\x27MEMORY\x27\x20','preTestId','default-','bg-teal-500\x20hover:bg-teal-600\x20text-white','bank-quiz-list','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','question-analytics-container','.bp-game-btn','<tr\x20class=\x22','/public/data/quizzes/','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','.pen-size-btn','#FCE7F3','custom-math-topic-input','parallel-shortcut-id-input','องค์ประกอบของฟังก์ชัน','hint-btn','learningGaps','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','project-detail','bp-add-topic-btn','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','document','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','PERSEVERANCE','text-red-600','multiple_choice','additional-shortcuts-modal','isCorrect','additional-parallel-shortcuts-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#results-table','td,\x20th','/public/data/quizzes','pre-test-checkbox','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','numeric','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-project-manager-view','confirm-game-start-modal','querySelector','project-sort-select','Error\x20starting\x20live\x20race:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','การหารทศนิยม','แก้ไขปุ่มลัดจากไฟล์','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','file.txt','manual-bp-project-name','Error\x20verifying\x20answers\x20in\x20editor:','highlighter-tools-group','fullscreenElement','ring-purple-400','AI\x20แก้ไขคำถามสำเร็จ!','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','generate-from-topic-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','substr','deselect-all-topics-btn','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','clear-all-links-btn','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','Error\x20clearing\x20linked\x20quiz:','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','คณิตศาสตร์','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','original-mode-checkbox','targetId','\x5cdiv','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','dfrac','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','toLocaleDateString','dimmed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','กฎของไซน์','admin-dashboard','#E0E7FF','scratchpad-header','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','cancel-global-live-btn','remove','bp-modal-num-questions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','ระบบเลขและค่าประจำหลัก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20rendering\x20student\x20progress:','ตรวจทานเฉลยเสร็จสิ้น!','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','classStrengths','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-pen\x22></i>','mjx-container','เศษส่วน\x20(ย่อ/ขยาย)','behavior-log-tab-btn','screen_exit','destination-out','การยืนยันตัวตนล้มเหลว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','webkitRequestFullscreen','สู้ๆ\x20ลองอีกครั้งนะ','dragend','.bp-open-topic-bank-btn','text-white','confirmation-modal','เกี่ยวกับหัวข้อ\x20\x22','getContext','.generate-content-btn','กรุณาพิมพ์คำตอบของกลุ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','incorrect','start-quiz-btn','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','upperGroupNames','lineJoin','blueprint-upload-input','generationConfig','values','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','text-gray-100','content','[data-topic-container-id]','เพิ่มรายการที่เลือก','ย้าย','editable-quiz-topic','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','toString','file-default-2','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','scratchpad-question','insertBefore','latestSubmittedAt','ring-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex-1\x22></div>','blueprint-settings-modal','\x20ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','svg','generate-worksheet-btn','Error\x20moving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','setItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','NUMBER','get','arrayBuffer','กรุณาพิมพ์คำตอบ','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','abs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','lower_group_count','stopPropagation','unshift','thead','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','<div\x20id=\x22q-image-container-','\x20ใหม่...','startTime','quiz-id-input','</tbody></table></div>','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','bg-green-500\x20hover:bg-green-600\x20text-white','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','confirm-bulk-quiz-settings-btn','อสมการเชิงเส้น','pre-test','ai-quiz-generator-v3','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','questionText','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','close-comparison-modal-btn','duration-300','thead\x20.sortable-header','Error\x20regenerating\x20question\x20in\x20editor:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','แผนการสอน:\x20','export-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','ฟังก์ชันค่าสัมบูรณ์','https://drive.google.com/uc?export=download&id=','back-to-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','create-from-bank-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ห.ร.ม.\x20(GCD)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','Error\x20committing\x20score\x20updates:','blueprint-input-area','\x22\x20value=\x22true\x22\x20','ownerSVGElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','requestFullscreen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-input-area','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','selected-answer-index-hidden','pointerType','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','num-questions','แผนภาพกล่อง\x20(box\x20plot)','passcode-prompt-message','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','mainTopic','className','การแจกแจงปกติและ\x20z-score','bg-blue-500\x20hover:bg-blue-600\x20text-white','.topic-row','mousemove','112169OwSWcJ','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','verify-answers-btn','กำลังค้นหากิจกรรม...','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','ไม่สามารถโหลดรายการโปรเจคได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','ฟังก์ชันแบบชิ้นส่วน','ใช่\x20/\x20ถูก','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','\x20in\x20all\x20blueprint\x20projects.','สมการลอการิทึม','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','ไม่ใช่','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','.view-bp-lesson-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','ไม่พบเอกสารการส่งงานของ\x20','อัปเดตพฤติกรรมสำหรับ\x20','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','list','timerMode','$1\x20\x5cfrac','Blueprint\x202','message-modal','.delete-submission-btn','<li\x20class=\x22','dataset','คัดลอกแบบทดสอบสำเร็จ','value','.edit-hidden-file-shortcut-btn','<div\x20class=\x22answer-space\x22></div>','label','แก้ระบบสมการด้วยเมทริกซ์','ปริมาตร/ความจุและการแปลง','\x22\x20data-topic=\x22','bg-red-50','หัวข้อหลักใหม่','global-live-game-modal','ไม่พบข้อมูลเกม','projectSort','เกิดข้อผิดพลาดในการสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','localeCompare','\x22\x20name=\x22question_single\x22\x20value=\x22','reference.txt','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','manual_release','#open-additional-file-shortcuts-btn','#retake-for-improvement-btn','include-images-checkbox','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per_question','show_results_and_answers','str','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','keyConcepts','text-content-input','.save-custom-topic-btn','bp-modal-quiz-type-select','(^|[^\x5c\x5c])\x5cb','.export-pdf-list-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','correctResponse','toDataURL','btn','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','blueprint-topics-list-container','comparison-overall-content','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','results-table','lesson-loader','.topic-selection-btn','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20from\x20link:','ทฤษฎีบทพีทาโกรัสและการประยุกต์','ฟังก์ชันพหุนาม','FileReader\x20error:','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','removeEventListener','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','project-search-input','cancel-blueprint-projects-btn','ยกเลิกการจับคู่สำเร็จ','lastAnswerCorrect','<option>กำลังโหลดโปรเจค...</option>','แก้ไขสูตรคณิตศาสตร์\x20','ปริมาตรรูปทรงสามมิติ','summary','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','applicationContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','การลบ','drill-feedback','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','comparison-chart','timed','fa-shield-alt\x20text-gray-600','passcode-input-container','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','%</span>','ฟังก์ชันเชิงเส้นและกราฟ','bp-modal-num-choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','เกิดข้อผิดพลาดในการบันทึกโปรเจค','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจคนี้ทั้งหมด?','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','AI\x20request\x20was\x20blocked.\x20Reason:\x20','ตรีโกณมิติ','update-old-quizzes-btn','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','สลับไปโหมดนักเรียน','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','shuffledQuiz','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','file-topic-input','curriculum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','[data-topic-id=\x22','ดอกเบี้ยอย่างง่าย','cancel-test-btn','pointContent','translate','.copy-quiz-id-list-btn','<tr>','px)\x20scale(','จำนวนและการดำเนินการ','close-lesson-plan-modal-footer-btn','key','กำลังสร้างแบบทดสอบ:\x20','หน่วยมวล/น้ำหนักและการแปลง','confirm-global-live-btn','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','hint','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','prod','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','not_confident','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','.generate-lesson-btn','Error\x20loading\x20blueprint\x20projects:','\x22><p\x20class=\x22font-semibold\x22>','webkitExitFullscreen','</option>','team-quiz-topic','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','confirm-admin-login-btn','<div\x20class=\x22my-2\x22>','กำลังอ่านไฟล์อ้างอิง...','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','devicePixelRatio','bp-modal-difficulty-level-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','both','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','confidence-modal','close-game-final-btn','live-short-answer-input','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','pinned-items','Error\x20saving\x20blueprint\x20project:','fa-bolt\x20text-blue-500','pointerup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','API\x20call\x20failed\x20with\x20status:\x20','ราชาคัมแบ็ก','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','เปิดใช้งาน','.topic-actions-view','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','บันทึกแบบทดสอบสำเร็จแล้ว!','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','modal-message','โดเมนและเรนจ์','element','cancel-quiz-status-btn','แบบทดสอบนี้ปิดใช้งานอยู่','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','Error\x20submitting\x20group\x20answer:','scrollIntoView','beforeend','พื้นที่วงกลม/ส่วนของวงกลม','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','moveTo','[data-topic-id]','push','p-2\x20bg-black/10\x20rounded-md','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','getElementsByTagName','text-gray-200','bank-tab','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','กำลังสร้างแบบทดสอบจากหัวข้อ...','min','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','Unexpected\x20API\x20response\x20structure:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','approx','answered','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','offset','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','พื้นที่สี่เหลี่ยม','.shortcut-btn','blueprintUrl','ไม่สามารถบันทึกการตั้งค่าได้','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','กลุ่ม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','text-purple-600','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','.ai-content\x20blockquote','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','ผลรวมอนุกรม\x20(Σ)','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-category','รูปหลายเหลี่ยมและมุมภายใน','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trail-tool-btn','font-bold\x20text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','exitFullscreen','#confidence-input-','ความน่าจะเป็นแบบมีเงื่อนไข','QUICK_THINKER','close-additional-parallel-shortcuts-btn','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','bulk-confidence-mode-select','globalCompositeOperation','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ฮิสโตแกรม','quiz-results','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','manual-bp-grade-level','bulk-quiz-settings-btn','preventDefault','lineWidth','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','answeredCurrentQuestion','บันทึกคำถามใหม่\x20','จุด\x20เส้น\x20ระนาบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','includeImages','AI\x20Fix\x20Error:','_opt','cos','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','lesson-plan-title','playerName','delete','cancel-create-project-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','display','Error\x20generating\x20from\x20parallel\x20test\x20file:','blueprint-project-list','sqrt','#FFFFFF','</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','สามเหลี่ยม\x20(ชนิด/สมบัติ)','next-sync-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getBoundingClientRect','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','redo-btn','category','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','การนับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','game-start-quiz-id','<i\x20class=\x22fas\x20fa-magic\x22></i>','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','สมการค่าสัมบูรณ์','math-topics-checkbox-container','submissions','#E5E7EB','ARRAY','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','.ideal-answer-input','BOOLEAN','points','comparison-modal','#open-additional-parallel-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','touchstart','คำถามดิบ:\x20\x22','student-quiz-area','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','description','text-green-800','ฟังก์ชันกำลังสองและกราฟ','</p><div>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupResponders','.verification-result-editor','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','scratchpad-controls','offsetWidth','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','<p\x20class=\x22text-2xl\x22>','results-quiz-title','ส่งคำตอบ','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','leaderboard-quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','rgba(79,\x2070,\x20229,\x200.8)','sync-player-list','.compare-results-btn','complexityValue','parentElement','leaderboard','trim','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','findIndex','then','#student-quiz-leaderboard-content\x20thead','Error\x20listening\x20for\x20projects:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','right','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','createElement','pointermove','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','totalQuestions','admin','.star-quiz-btn','querySelectorAll','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','justification','modal-confidence-mode-container','ค่าเฉลี่ย','ไม่สามารถเริ่มเกมได้','1635744aSqlAl','confidence-scoring-description','originalQuestionText','teacherSuggestions','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','live-game-view','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','exists','สเกลและแผนที่','<span\x20class=\x22sort-indicator\x20ml-2\x22>','</h3>','ลำดับเลขคณิต\x20(AP)','project-passcode-modal','msExitFullscreen','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','next-drill-btn','ไฮเพอร์โบลา','</form>','standard','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','click','จำนวนนักเรียน','พบข้อสอบ\x20','.txt','createElementNS','.bp-create-onet-quiz-btn','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','<div>','parts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','.sortable-header','#open-additional-shortcuts-btn','numQuestions','ค่าสัมบูรณ์','close-presentation-btn','mode','preScore','not_generated','write','onchange','สมการเหตุผล\x20(rational)','activeGameSession','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>','reference.pdf','split','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','confirm-manual-bp-btn','.generate-post-test-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','goto-next-question-btn','file-default-1','line-through\x20text-red-700','project-title','text-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','half_mark_status','\x5cfrac{$1}{$2}','.bp-create-content-quiz-btn','numPages','[*]','Error\x20deleting\x20project:','fill_in_no_choices','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','matching','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20duplicating\x20quiz:','sin','teacherTips','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','quiz-generation-area','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','Firebase\x20initialization\x20failed:','student-passcode-input','parallel-shortcut-modal-title','border-red-700','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','commit','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','team','ai-quiz-app-aefee','เกิดข้อผิดพลาดในการลบแบบทดสอบ','.delete-file-shortcut-btn','matching_item','quiz-end-time','การจัดหมู่\x20(Combination)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','select','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x27,\x20\x27','test','border-gray-200','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','perQuestionStats','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','Not\x20called\x20from\x20Blueprint\x20or\x20no\x20temp\x20settings.\x20Using\x20main\x20project\x20settings.','\x20(p=','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กลุ่มของคุณ','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','.topic-name-input','.score','setAttribute','join-live-game-btn','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันและอัปเดตทั้งหมด','move-quiz-modal','กรุณาวาง\x20URL\x20ของบทความก่อน','summary_chart','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ:\x20','.bp-view-analysis-btn','null','topic-quiz-bank-modal','เพิ่มปุ่มลัดใหม่','.admin-try-quiz-list-btn','Error\x20analyzing\x20file\x20for\x20topics:','bp-project-title','ค่าความจริง/ตารางค่าความจริง','\x22><span>','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointsLastQuestion','manage-tab-content','quick_thinker','loader','project-passcode-input','lineCap','text-gray-400\x20hover:text-indigo-600','เงินงวด\x20(อนุกรมเงินงวด)','294svSKOD','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Action:\x20Create\x20Standard\x20Quiz\x20from\x20Content.','.quiz-settings-btn','pairedQuizId','<option\x20value=\x22\x22>กำลังโหลด...</option>','tfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','GlobalWorkerOptions','.project-card-container:not(.opacity-50)','textarea[name=\x22team_answer\x22]','25903737lrQoNh','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','\x20ชุดสำเร็จ!','manual-bp-content','currentTarget','shuffle','show-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','All\x20groups\x20have\x20finished.\x20Ending\x20game.','add-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20</div>','(ไม่มีชื่อ)','\x20รายการ...','ชนิดของข้อมูลและการเก็บข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','check-answer-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','การหารเศษส่วน','export-worksheet-pdf-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','):\x20','ต้นฉบับ\x202','upper_group_count','comparison-overall-tab','กรุณาเลือกสถานะ','text-input-area','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','projectSortOrder',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','style','\x20คะแนน\x20','mandatory','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','PERFECT_SCORE','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','index','live-race','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','button','currentQuestionIndex','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','type','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','create-project-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','text/html','fa-pen','เรขาคณิต','mode-switcher-btn','data:application/vnd.ms-word;charset=utf-8,','scratchpad-options','\x20ตัวเลือก.\x20','.use-hidden-file-shortcut-btn','function','lesson-sections-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','border-green-700','modal-adaptive-quiz-checkbox','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','globalAlpha','link-tab','text-green-600\x20font-bold','isLooping','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','starred-project','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','Error\x20joining\x20sync\x20game:','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','bp-modal-include-images-checkbox','.edit-hidden-parallel-shortcut-btn','.project-card-content','destroy','\x22\x20จำนวน\x20','bulk-quiz-settings-modal','empty','parse','ceil','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','canvas','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','.file-topic-selection-btn','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','topicName','#view-rankings-btn','stem','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fileShortcutsConfig','ระยะทางและจุดกึ่งกลาง','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','STRING','ref','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','sync','finishReason','innerHTML','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เส้นจำนวน','bg-green-200','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','interesting-stats-wrapper','#e21b3c','perfect_score_status','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pair-quiz-btn','text-blue-700','ข้อ\x20','touchend','project-id-display','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','Error\x20unpairing\x20quizzes:','left','</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','เกิดข้อผิดพลาดในการอ่านไฟล์','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','studentName','export-pdf-btn','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','gradeLevel','ลำดับเรขาคณิต\x20(GP)','clientY','เกิดข้อผิดพลาดในการส่งคำตอบ','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','shortcut-reference-url-input','per-question-text','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','number','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','getTextContent','user-id-display','export-image-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','innerText','quiz-form','Error\x20saving\x20lesson\x20to\x20project:','</h4>','<div\x20class=\x22my-6\x22>','file-shortcut_','parallel-shortcut-name-input','getElementById','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวประกอบและตัวประกอบเฉพาะ','ส่งแล้ว','quiz-editor-questions-container','teachingContent','อนุพันธ์:\x20กฎพื้นฐาน','prev-question-btn','isPinned','from','additional-file-shortcuts-list','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','Action:\x20Create\x20topic-based\x20Quiz.','student-team-selection-view','(คู่ขนาน)\x20','\x5cneq','projectId','isNormalTopic','SAFETY','27411472','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','bg-yellow-50','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','referenceUrl','กำลังโหลดคลังข้อสอบทั้งหมด...','Error\x20displaying\x20question\x20bank:','title','first_try_ace','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','ลบโปรเจคสำเร็จ','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-password-modal','แบบทดสอบจากคลังส่วนตัว','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','postTScore','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','.quiz-bank-item','\x22\x5cn','Original\x20quiz\x20not\x20found','attemptNumber','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','allResponses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','topic-bank-list','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','max','/public/data/syncGames','.bp-generate-lesson-btn','Fetching\x20','parallelTestShortcutsConfig','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','กรุณาเลือกคำตอบก่อนครับ','enable-passcode-checkbox','projectName','drop','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','ระยะเวลา\x20(วินาที):','อุณหภูมิและการแปลง','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','additional-shortcuts-list','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','Error\x20fetching\x20student\x20rankings:','generate-from-text-btn','bottom','.edit-parallel-shortcut-btn','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','กำลังเตรียมไฟล์...','ดีมาก','cancel-rename-quiz-btn','bg-green-200\x20text-green-800','blueprintShortcuts','Error\x20processing\x20shortcut\x20click:','standardTopic','manage','1030ZMiXVo','text-red-300\x20hover:text-red-100','stroke','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','Error\x20during\x20class\x20analysis:','delete-svg-btn','delete-all-students-btn','passing-score-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','cancel-shortcut-edit-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','modal-passing-score-input','text-gray-300\x20hover:text-white','neq','close','มุมพิเศษ\x2030°-60°-90°','เกิดข้อผิดพลาดในการลบนักเรียน','Error\x20generating\x20lesson\x20plan:','pdf','shortcuts','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','answerText','restore','badgesCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','ai-quiz-app-aefee.firebasestorage.app','เส้นตรง:\x20ขนาน/ตั้งฉาก','แก้ไขหัวข้อสำเร็จ','การลบทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','load-quiz-btn','applicationData','จำนวนคู่:','hidden','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','modal-shuffle-select','ลิมิต','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','per-q-countdown','.lastAnswerIndex','กำลังจับคู่...','สถิติและความน่าจะเป็น','(ก่อนเรียน)','ลบผลสอบของ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reduce','contents','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','fadeStartTime','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#student-project-leaderboard-content\x20thead','admin-view','ไม่พบตารางสำหรับ\x20Export','confidenceMode','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','file-topics-list-container','Error\x20processing\x20file\x20for\x20AI:','isPasscodeEnabled','scheduled_pending','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','modal-timer-duration-label','</span><span\x20class=\x22font-bold\x22>','bp-quiz-settings-btn','รีเซ็ตลำดับโปรเจคแล้ว','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','includes','backgroundColor','<option\x20value=\x22','parallel-shortcuts-loading-msg','project-name-input','ai-quiz-app-aefee.firebaseapp.com','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบปรนัย','student-list','center','\x20ข้อ\x20','</button>','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','topics','.start-live-race-btn','clearRect','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','3624mwxRBl','pathname','tan','เกิดข้อผิดพลาดในการบันทึกลำดับ','starred','.presentation-option','ไม่ใช่\x20/\x20ผิด','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','input[type=\x22checkbox\x22]:checked','live-game','Failed\x20to\x20get\x20standardized\x20topic:','\x20คะแนน</span></div>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','rgba(255,\x20255,\x200,\x200.5)','subTopics','active','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/projects','modal-timer-duration-input','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','download','เรเดียนและการแปลงหน่วย','manual-create-blueprint-btn','admin-password-input','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','ดูผลสรุปสุดท้าย','แบบทดสอบที่ติดดาว','</td></tr>','file-shortcuts-loading-msg','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','เซียนสมองไว','dragover','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','checkbox','Error\x20displaying\x20blueprint\x20project:','กราฟฟังก์ชันตรีโกณ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','Error\x20joining\x20activity:','อัปเดตแบบทดสอบเก่า\x20','<i\x20class=\x22fas\x20fa-save\x22></i>','เกิดข้อผิดพลาดในการปักหมุด','cancel-quiz-edits-btn-footer','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','mouse','undefined','bg-green-100','สรุปผลการวิเคราะห์:\x5cn','generated','lastIndexOf','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','Error\x20verifying\x20answers:','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','เกิดข้อผิดพลาดในการอัปเดตสถานะ','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20','no-projects-msg','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','questionStatus','live-options-container','กำลังสร้างบทเรียน:\x20','แบบทดสอบนี้หมดเวลาแล้ว','modal-confidence-mode-select','icon','global-quiz-search-input','234456NauQyG','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','student-team-join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','correctAnswerIndex','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','.use-hidden-shortcut-btn','width','เกิดข้อผิดพลาด:\x20','question-complexity-select','.flex.justify-between.items-center','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','open','</div>\x0a</div>\x0a','.correct-response-input','Blueprint\x201','additional-file-shortcuts-modal','toISOString','isRemedial','Re-grade\x20process\x20failed:','bp-topic-list-container','highlighter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','files','groups','change','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','artifacts/','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','ต้นฉบับ\x201','font-bold\x20text-red-700\x20line-through','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','rgba(79,\x2070,\x20229,\x201)','lesson-plan-modal','.csv','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','quizType','\x5csqrt{$1}','_opt1\x22>ไม่ใช่</label></div>','endsWith','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','isAdaptive','blueprint-tab','\x20**[กฎเพิ่มเติมที่สำคัญที่สุด]:**\x20ต้องเน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','show-in-student-dashboard-checkbox','</strong></p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','<div\x20class=\x22loader\x20mx-auto\x22></div>','<button\x20data-id=\x22','short','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','แผนภาพเวนน์','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','link-input-area','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','4930071frZIGO','close-lesson-plan-modal-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','toFixed','confident','Error\x20generating\x20worksheet:','behavior-log','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','topic','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','/public/data/blueprintProjects','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','text/csv;charset=utf-8;','</li>','\x22\x20name=\x22team_answer\x22\x20value=\x22','.quiz-bank-parallel-btn',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','-tab-content','parseFromString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','player-count','quizMode','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','true','.quiz-status-btn','all','สร้างชุดคำถามจับคู่','.ai-fix-formula-btn','getAttributeNS','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','quiz-leaderboard-table-container','div','whole_quiz','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','อัตราการเปลี่ยนแปลงทันที','student-view','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','ไม่สามารถสร้างโปรเจคได้','text','student-progress','comparison-individual-tab','จากเนื้อหาต่อไปนี้:\x20\x22','loopUntilPass','ผิด','currentMode','asc','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20โจทย์และตัวเลือกต้องมีลักษณะและความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','not-found','addEventListener','Invalid\x20response\x20structure\x20from\x20AI.','add','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังอ่านไฟล์\x20Test\x20Blueprint...','cancel-quiz-bank-btn','file-input-area','txt','filter','#ffffff','create-project-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','worksheet-input-area','กำลังวิเคราะห์หัวข้อ...','student-progress-view','px,\x20','sync-submit-btn','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','globalSettings','\x22.\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','lesson-view-content','close-additional-file-shortcuts-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','OBJECT','hasPerfectScoreBonus','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','confirm-link-quiz-btn','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','getScreenCTM','url','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','execCommand','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','presentation-short-answer-input','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','leaderboard-quiz-tab-content','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','.parallel-quiz-btn','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','confirm-quiz-settings-btn','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20ชุด)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','answering','ร้อยละประยุกต์','wheel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้ภาษาที่เข้าใจง่าย\x20ใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','เปลี่ยนชื่อโปรเจคสำเร็จ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','status','สร้างแบบทดสอบ','#000000','.question-editor-item','bg-black/20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','getItem','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','/questionBank','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','.cancel-edit-topic-btn','.summary-bar-item','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','short_answer','separate-by-content-checkbox','scratchpad-canvas','เกิดข้อผิดพลาดในการลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','Error\x20generating\x20parallel\x20post-test:','<p><strong>คำตอบของคุณ:</strong>\x20','export-pdf-modal','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','Error\x20saving\x20game\x20results:','จำนวนเต็มบวก','สอบปกติ','name','</div></div>','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','difficulty-level-select','translate(','close-comparison-modal-footer-btn','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','เรขาคณิตวิเคราะห์','<li>','เพิ่มปุ่มลัดจากไฟล์ใหม่','file-default-','answer','modal-confidence-scoring-checkbox','หลังเรียน','.delete-quiz-btn','.delete-hidden-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2-digit','pen-tool-btn','https://corsproxy.io/?','3686970XzhbYK','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','\x5cge','ฟังก์ชันลอการิทึม','handleGeneratePracticeTest','rgba(239,\x2068,\x2068,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','leaderboard-tab','Error\x20processing\x20file\x20shortcut\x20click:','Failed\x20to\x20generate\x20lesson:','ไฟล์ลัด\x202','</tr>','sara','\x20สำเร็จ','timer-container','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','application/pdf','$$$1$','text-red-800','.draggable-text','stepByStepExamples','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','export-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','game-start-mode','generated-quiz-actions','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','สมการราก\x20(radical)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','shadowBlur','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','keys','start-presentation-btn','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','autoTable','ชื่อโปรเจคห้ามว่าง','มุมพิเศษ\x2045°-45°-90°','ยกเลิกการเชื่อมโยงสำเร็จ','fill_in_the_blank','analytics-tab-btn','MathJax','.delete-bp-project-btn','close-lesson-view-btn','Error\x20adding\x20custom\x20topic:','ควรปรับปรุง','bg-green-50','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20quiz\x20settings:','save-file-shortcut-btn','readAsDataURL','shortcut-name-input','topic-input','(เลือกแล้ว\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','Successfully\x20removed\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20quiz:','ตรวจพบการออกจากหน้าจอครบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','.delete-svg-btn','ไม่ผ่าน','สาระที่\x201','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','cancel-file-shortcut-edit-btn','main-correct-answer-display','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','draggable-text','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x27\x20ในหัวข้อ\x20\x27','กำลังสร้างรูปภาพ...','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','#FEF3C7','.linkedQuizIds','ยืนยันการกระทำ','shadowColor','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','cancel-game-start-btn','การแยกตัวประกอบ','input[name=\x22question_single\x22]:checked','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','การหาร','bg-blue-100\x20text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','class','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','confidence-scoring-checkbox','ถูก','\x22...','auto','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','.answers','highlighter-tool-btn','circle','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','Error\x20saving\x20visibility\x20settings:','file-upload-input','Team\x20Quiz','Error\x20deleting\x20topic:','appendChild','summaryContent','checkAnswer','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','fill_in_with_choices','.\x20แต่ละข้อมี\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','getPage','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','#10B981','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','\x22>จาก:\x20','scratchpad-modal','ไม่ได้ตอบ','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','save-settings-btn','cancel-bp-settings-btn','bg-purple-50','\x20/\x20','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','projectOrder','reveal-answer-btn','tool','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','Error\x20saving\x20user\x20preference:','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$.**\x0a','rename-quiz-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-passcode-btn','confidence','save-visibility-settings-btn','ความคาดหมาย\x20(Expected\x20value)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','quizId','date_asc','generate-from-blueprint-btn','transparent','string','open-global-live-btn','บันทึกผลการเล่นเกมของ\x20','text-red-700','export-leaderboard-image-btn','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','target','\x22>ไม่ใช่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hasOwnProperty','finished','end-team-quiz-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','name_asc','.start-presentation-list-btn','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','เปิด\x20(จับเวลา)','blob','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','topics.','Error\x20updating\x20custom\x20topic:','highlighter-size-slider','.group','การวัด','\x22\x20สำเร็จ','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','save-parallel-shortcut-btn','perfect_score','wasConfident','generate-from-parallel-test-btn','showImproveButton','fix\x20the\x20option','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','open-blueprint-projects-btn','Error\x20updating\x20project\x20color:','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Enter','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','-tab','Error\x20joining\x20live\x20game:','shortcut_','leaderboard-quiz-tab-btn','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','<p><strong>คำตอบที่แนะนำ:</strong>\x20','คะแนนเฉลี่ย','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','</div>','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','onclick','additional-parallel-shortcuts-list','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','สลับไปโหมดผู้ควบคุม','parallel-shortcut-url-input','parallel-test-upload-input','สอบซ่อม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-delete-topic-btn','\x22>ใช่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','save-quiz-btn','คะแนน','button[data-id]','<svg','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','เส้นตรง:\x20รูปแบบสมการ','top','กำลังอัปเดตแบบทดสอบ\x20','\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','inactive','Invalid\x20response\x20structure\x20from\x20API.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','fixedData','</div><div\x20class=\x22space-y-2\x22>','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-question-timed-btn','ฟังก์ชันราก\x20(root)','ยังไม่สร้าง','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.quiz-bank-checkbox:checked','sync-manage-players-btn','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','answer-grid-container','Error\x20updating\x20project\x20name:','student-project-leaderboard-table-body','admin-try-quiz-btn','close-topic-bank-btn','totalPoints','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','sync-player-management','getBBox','ค่าคลาดเคลื่อนของการวัด','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','application','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','toLowerCase','ระบบอสมการ','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gamePin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','postScore','bp-modal-question-complexity-select','fixed','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','suggestedAnswer','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','student-name-selection-view','modal-loop-until-pass-checkbox','handleGenerateQuizFromBlueprintTopic','.status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','workerSrc','student-project-leaderboard-tab','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','link-url-input','.lastAnswerValue','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','rows','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','Error\x20confirming\x20players:','indexOf','project-dashboard-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','worksheet-tab','ไม่พบข้อมูลโปรเจค','input[type=\x22text\x22]','helvetica','memory','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','\x22\x20name=\x22drill_answer\x22\x20value=\x22','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','export-lesson-pdf-btn','Error\x20linking\x20quizzes:','quiz-results-table-body','results-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20(สำหรับ\x20','สำหรับหัวข้อ\x20\x27','question','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','analytics-tab-content','\x20จุด','.quiz-bank-try-btn','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','startsWith','padStart','end-game-btn','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','Error\x20submitting\x20team\x20answer:','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ผู้ไม่ยอมแพ้','input[name=\x22team_player\x22]:checked','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','q-text-','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confidence-scoring-toggle','.regenerate-question-btn','lessonContent','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','วงกลม:\x20คอร์ดและเส้นสัมผัส','result','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','answer-counter','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','/public/data/teamQuizzes','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','fas\x20fa-user-edit','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','separate-by-content-from-file-checkbox','การเรียงสับเปลี่ยน\x20(Permutation)','การบวกเศษส่วน','ปริพันธ์ไม่จำกัด','disabled','/public/data/liveGames','ลบหัวข้อสำเร็จ','s;\x22\x20title=\x22','gameData','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','open-sync-scratchpad-btn','\x20คู่\x20','height','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','#math-topics-checkbox-container\x20input:checked','ดอกเบี้ยทบต้น','0\x200','passcode-error-msg','live-player-list','opacity-50','Error\x20preparing\x20content\x20quiz:','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fromCharCode','lesson-view-modal','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','raw','fa-crown\x20text-yellow-500','after','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeItem','.topic-name-display','quiz-editor-modal','analytics-summary-cards','earned-badges-container','cloneNode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results_','</span></p>','.pointsLastQuestion','Leaderboard\x20update\x20transaction\x20failed:\x20','.duplicate-quiz-btn','promptFeedback','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27\x20','ไฟล์ลัด\x201','ผ่าน','text-green-700\x20bg-green-100','\x5cpm','leaderboard-table-body','num-choices-container','\x20link(s)\x20for\x20quiz\x20ID:\x20','add-parallel-shortcut-btn','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','undo-btn','responses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','$1\x5c%','Test\x20Blueprint','submit-team-answer-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','<span\x20class=\x22font-bold\x20','times','generated-quiz-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parallel-default-2','#F3E8FF','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','text-emerald-900','firstScore','release','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-file-shortcut-btn','Error\x20adding\x20students:','input[name=\x22status-option\x22]:checked','createObjectURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-input-','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','Error\x20comparing\x20results:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-question-btn','<div\x20class=\x22p-2\x20rounded-md\x20','pop','.delete-shortcut-btn','setAttributeNS','ค.ร.น.\x20(LCM)','topic_','outerHTML','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x20to\x20blueprint\x20topic\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.pin-project-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','doughnut','AI\x20grading\x20failed:','\x20|\x20','timer-duration-label','length','quiz-results-view','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','file-shortcut-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item[data-q-index=\x22','qType','confirm-confident','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','lesson-view-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','save-quiz-edits-btn','confidence_single','timestamp','file-shortcut-id-input','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','submit-group-answer-btn','เลือกและเริ่มสร้าง','คณิตการเงิน/บูรณาการ','link-topic-input','เพิ่ม\x20','isArray','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','warn','editor-quiz-topic','visible','geq','ยังไม่มีนักเรียนส่งงาน','Error\x20in\x20generating\x20from\x20files:','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','Error\x20loading\x20quiz\x20for\x20student:','cancel-admin-login-btn','progress-student-select','documentElement','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','podium','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode','bg-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเชิงซ้อน\x20(เสริม)','strength-weakness-analysis-container','contains','รายการนี้','manual-blueprint-modal','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','.verification-result','Error\x20saving\x20questions\x20to\x20practice\x20bank:','visibilitychange','Error\x20saving\x20quiz\x20edits:','rename-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','/submissions','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','blueprint-topics-list','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','อนุพันธ์:\x20ผลคูณ/ผลหาร','quiz-type-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','grabbing','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','correct','post-test','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x20mr-2\x22></i>','score-distribution-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Action:\x20View\x20existing\x20lesson.','ก่อนเรียน','\x20(ID:\x20','student-quiz-leaderboard-table-body','latestScore','deltaY','shortcut-editor-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','startedAt','#D1FAE5','presentation-slide-container','lastAnswerIndex','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-blueprint-as-project-btn','loader-text','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','.project-card-container','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','รากที่สองและที่สาม','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','blueprint-options-container','การบวกทศนิยม','Error\x20starting\x20game:','bg-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','แบบทดสอบซ่อมเสริม','admin-testing','\x22\x20class=\x22color-palette-btn\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','tGain','FIRST_TRY_ACE','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','responses.','ทำคะแนนเต็มในการทำครั้งแรก','student-name-select','project-detail-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-gray-200\x20text-gray-700','replace','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','point','pointerdown','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_blank','linkedQuizIds','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','move','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','numChoices','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20แบบทดสอบลงในคลังสำเร็จ!','ย้ายแบบทดสอบไปโปรเจคอื่น','cancel-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','file-topics-list','focus','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','pen-tools-group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','.color-palette-popup','\x22\x20data-q-type=\x22','confirm-team-players-btn','.pen-color-btn','shortcut-modal-title','player-list-lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','พอใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','image/png','กรุณาป้อนหัวข้อสำหรับใบงาน','วงรี','file-shortcut-modal-title','PROMPT_PLACEHOLDER','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','select-all-topics-btn','input[type=\x22radio\x22][value=\x22','touch','กรุณาใส่ชื่อใหม่','shortcut-id-input','\x22.\x20Ideal\x20Answer:\x20\x22','beginPath','.ai-content\x20p','กำลังสแกนหาแบบทดสอบเก่า...','student-quiz-topic','textarea','shuffle-setting-select','ข้อต่อไป','\x20หัวข้อ)','ตัวแปรและนิพจน์','bg-green-100\x20text-green-800','lessonPlan','.submittedAt','กรุณาเลือกโปรเจคก่อน','toLocaleString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','solution','text-emerald-800','wakeLock','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','body','แก้ไขปุ่มลัด','check-presentation-answer-btn','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-100','catch','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','ท็อปฟอร์ม','fas\x20fa-bookmark','cancel-move-quiz-btn','round','```json','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','game-pin-input','Sync\x20Mode','สัญกรณ์วิทยาศาสตร์','อัตราและอัตราหน่วย','โดยเน้นสร้างเนื้อหาและโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','memoryContent','.edit-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความต่อเนื่อง','ระยะเวลา\x20(นาที):','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','comparison','save','Failed\x20to\x20create/update\x20submission\x20record:','bg-green-200\x20text-green-900','.quiz-bank-move-btn','\x5ccdot','disabled\x20bg-gray-400\x20cursor-not-allowed','<button\x20data-value=\x22','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','lesson-plan-content','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','opacity','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','กฎบวกและกฎคูณ','smooth','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','.doc','คัดลอกรหัสแล้ว!','ยอดเยี่ยม!','quiz-settings-modal','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','/public/data/learnedFixes','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','timer-duration-container','message','rgba(16,\x20185,\x20129,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','transition-all','bulk-confidence-mode-container','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','log','topicId','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','COMEBACK_KING','parallel-shortcut-editor-modal','ถูกต้อง!','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','export-compact-pdf-btn','<button\x20data-quiz-id=\x22','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','ผู้เชี่ยวชาญ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','Called\x20from\x20Blueprint\x20page.\x20Using\x20temporary\x20settings.','input[type=\x22checkbox\x22]','verify-answers-editor-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','</td>','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','เกมสิ้นสุดลงแล้ว'];_0x58bd=function(){return _0xa3d24b;};return _0x58bd();}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x2ce0a8){const _0x57ec79=_0x4414d4,_0x4c1caa=document[_0x57ec79(0x651)](_0x57ec79(0x6e3)),_0x4138de=document['getElementById'](_0x57ec79(0xa86));_0x4c1caa[_0x57ec79(0xbeb)][_0x57ec79(0x303)]('hidden'),_0x4138de['innerHTML']=_0x57ec79(0x943);try{const _0x10a1e3=new FileReader();_0x10a1e3['readAsDataURL'](_0x2ce0a8),await new Promise((_0x3ebfc6,_0x5b5cd5)=>{const _0x113786=_0x57ec79;_0x10a1e3[_0x113786(0x14d)]=()=>{const _0x5aef71=_0x113786;fileDataBase64=_0x10a1e3[_0x5aef71(0x986)]['split'](',')[0x1],fileMimeType=_0x2ce0a8[_0x5aef71(0x5e1)],_0x3ebfc6();},_0x10a1e3['onerror']=_0x46f26e=>_0x5b5cd5(_0x46f26e);});if(!fileDataBase64)throw new Error(_0x57ec79(0xbdf));const _0x2fb471='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2571de={'type':'OBJECT','properties':{'topics':{'type':_0x57ec79(0x4d4),'items':{'type':_0x57ec79(0x616)}}},'required':[_0x57ec79(0x6fe)]},_0x52661d=[{'text':_0x2fb471},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x1cc9f7=await handleApiCall(_0x52661d,_0x57ec79(0x7c9),_0x2571de,null,![]);if(_0x1cc9f7&&_0x1cc9f7[_0x57ec79(0x6fe)])extractedFileTopics=_0x1cc9f7['topics'],renderFileTopics();else throw new Error(_0x57ec79(0x771));}catch(_0x3113a7){console[_0x57ec79(0xb95)](_0x57ec79(0x594),_0x3113a7),_0x4138de[_0x57ec79(0x61b)]=_0x57ec79(0xbc0)+_0x3113a7[_0x57ec79(0xaea)]+_0x57ec79(0x630);}}function renderFileTopics(){const _0x448f48=_0x4414d4,_0x381b23=document['getElementById'](_0x448f48(0xa86));if(extractedFileTopics[_0x448f48(0x9fa)]===0x0){_0x381b23[_0x448f48(0x61b)]=_0x448f48(0x12b);return;}_0x381b23[_0x448f48(0x61b)]=extractedFileTopics[_0x448f48(0xb6a)](_0x54408e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x54408e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x54408e)+_0x448f48(0x382)+escape(_0x54408e)+_0x448f48(0x52f))['join']('');}async function generateHybridQuizForTopic(_0x5147ef){const _0x260ab5=_0x4414d4,_0x3d942c=parseInt(document[_0x260ab5(0x651)](_0x260ab5(0x383))[_0x260ab5(0x3b7)],0xa),_0x12bdaa=document['getElementById'](_0x260ab5(0xa39))['value'],_0x14b34c=document[_0x260ab5(0x651)]('num-choices')[_0x260ab5(0x3b7)],_0x5848ce=document['getElementById']('include-images-checkbox')[_0x260ab5(0x173)],_0x204e41=_0x5848ce?_0x260ab5(0x60d):_0x260ab5(0xa93);let _0x274e77='',_0x379d0e;const _0x5ebbd5={'type':_0x260ab5(0x7d7),'properties':{'questionText':{'type':_0x260ab5(0x616)},'options':{'type':'ARRAY','items':{'type':_0x260ab5(0x616)}},'correctAnswerIndex':{'type':_0x260ab5(0x345)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x260ab5(0x616)}},'required':['questionText',_0x260ab5(0xb4a),'correctAnswerIndex',_0x260ab5(0x27d)]},_0x50614d={'type':_0x260ab5(0x7d7),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x260ab5(0x4d7)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x260ab5(0x364),_0x260ab5(0x294),_0x260ab5(0x27d)]},_0x1012f3={'type':'OBJECT','properties':{'questionText':{'type':_0x260ab5(0x616)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x260ab5(0x616)}},'required':['questionText',_0x260ab5(0xb5f),_0x260ab5(0x27d)]},_0x2faf14={'type':_0x260ab5(0x7d7),'properties':{'questionType':{'type':_0x260ab5(0x616),'enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x260ab5(0x616)},'allResponses':{'type':_0x260ab5(0x4d4),'items':{'type':'STRING'}},'explanation':{'type':_0x260ab5(0x616)},'imageCode':{'type':_0x260ab5(0x616)}},'required':[_0x260ab5(0xc2f),_0x260ab5(0x610),'correctResponse','allResponses',_0x260ab5(0x27d)]};switch(_0x12bdaa){case'multiple_choice':_0x274e77='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x14b34c+_0x260ab5(0xba8),_0x379d0e=_0x5ebbd5;break;case _0x260ab5(0x26d):_0x274e77=_0x260ab5(0x843),_0x379d0e=_0x50614d;break;case _0x260ab5(0x55c):_0x274e77='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x379d0e=_0x1012f3;break;case _0x260ab5(0x55e):_0x274e77=_0x260ab5(0x1d2),_0x379d0e=_0x2faf14;break;case _0x260ab5(0x8a2):_0x274e77=_0x260ab5(0x1dd)+_0x14b34c+_0x260ab5(0xba8),_0x379d0e=_0x5ebbd5;break;default:_0x274e77='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x14b34c+_0x260ab5(0xba8),_0x379d0e=_0x5ebbd5;break;}const _0x3c88ac=_0x260ab5(0xbf6),_0x3e140e=document[_0x260ab5(0x651)](_0x260ab5(0x59e)),_0xbc8f19=document[_0x260ab5(0x651)]('loader-text'),_0x3590c5=document['getElementById'](_0x260ab5(0x9d3));document[_0x260ab5(0x651)]('quiz-generation-area')[_0x260ab5(0xbeb)][_0x260ab5(0x303)](_0x260ab5(0x6ca)),_0x3590c5[_0x260ab5(0x61b)]='',_0x3e140e[_0x260ab5(0xbeb)][_0x260ab5(0x303)](_0x260ab5(0x6ca)),_0xbc8f19['textContent']=_0x260ab5(0x246)+_0x5147ef+_0x260ab5(0x604)+_0x3d942c+'\x20ข้อ...';try{const _0xd39a66=_0x260ab5(0x776),_0x40f566=_0x260ab5(0x376)+_0x5147ef+_0x260ab5(0xa79)+_0x3d942c+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x5147ef+_0x260ab5(0xb61)+_0x3d942c+'\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20'+_0x204e41+_0x260ab5(0xc1b)+_0x274e77+_0x260ab5(0x8e5)+_0x3c88ac+_0x260ab5(0x33a)+_0xd39a66+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x260ab5(0xb3a),_0x24d06b={'type':'OBJECT','properties':{'topic':{'type':_0x260ab5(0x616)},'questions':{'type':_0x260ab5(0x4d4),'items':_0x379d0e}},'required':[_0x260ab5(0x78b),_0x260ab5(0x132)]},_0x371445=[{'text':_0x40f566},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x371445,_0x260ab5(0xbd7)+_0x5147ef+_0x260ab5(0x891),_0x24d06b);}catch(_0x1c6e26){console[_0x260ab5(0xb95)]('Error\x20generating\x20hybrid\x20quiz:',_0x1c6e26),showMessage(_0x260ab5(0x750)+_0x1c6e26[_0x260ab5(0xaea)]),_0x3590c5[_0x260ab5(0x61b)]=_0x260ab5(0x2e5);}finally{_0x3e140e[_0x260ab5(0xbeb)][_0x260ab5(0x7bd)]('hidden');}}async function handleGenerateFromFileClick(){const _0x581e5a=_0x4414d4;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x2cfad8=document[_0x581e5a(0x651)](_0x581e5a(0x59e)),_0x12fd62=document[_0x581e5a(0x651)]('loader-text'),_0x4d5521=document['getElementById'](_0x581e5a(0x9d3)),_0x1adc3c=document['getElementById'](_0x581e5a(0x1fe));_0x1adc3c[_0x581e5a(0x993)]=!![],document[_0x581e5a(0x651)](_0x581e5a(0x565))['classList'][_0x581e5a(0x303)](_0x581e5a(0x6ca)),_0x4d5521[_0x581e5a(0x61b)]='',_0x2cfad8[_0x581e5a(0xbeb)]['remove'](_0x581e5a(0x6ca)),_0x12fd62['textContent']='กำลังอ่านและเตรียมไฟล์...';try{if(selectedFile[_0x581e5a(0x5e1)]===_0x581e5a(0x260)){const _0x4ed2c5=await selectedFile[_0x581e5a(0x7b0)](),_0x3c1f72=document[_0x581e5a(0x651)](_0x581e5a(0x417))[_0x581e5a(0x3b7)]['trim']();await generateQuiz(_0x3c1f72,_0x4ed2c5);}else{const _0x4d157f=await new Promise((_0x131837,_0x5c31a0)=>{const _0x1d377e=_0x581e5a,_0x348aaa=new FileReader();_0x348aaa[_0x1d377e(0x864)](selectedFile),_0x348aaa[_0x1d377e(0x14d)]=()=>_0x131837(_0x348aaa[_0x1d377e(0x986)]['split'](',')[0x1]),_0x348aaa['onerror']=_0xda2688=>_0x5c31a0(_0xda2688);});await generateQuizFromFile(selectedFile['type'],_0x4d157f);}}catch(_0x19235e){console[_0x581e5a(0xb95)](_0x581e5a(0x6e4),_0x19235e),showMessage(_0x581e5a(0x331)+_0x19235e[_0x581e5a(0xaea)]),_0x2cfad8[_0x581e5a(0xbeb)][_0x581e5a(0x7bd)](_0x581e5a(0x6ca)),_0x1adc3c[_0x581e5a(0x993)]=![];}}function autoFormatMath(_0x2c3c0f){const _0x163bc1=_0x4414d4;if(typeof _0x2c3c0f!==_0x163bc1(0x8ca)||!_0x2c3c0f)return _0x2c3c0f;const _0x45d4f6=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x17c097=_0x2c3c0f['replace'](_0x45d4f6,_0x4ce7e0=>{const _0x346cde=_0x163bc1;return'$'+_0x4ce7e0[_0x346cde(0x4fe)]()+'$';});return _0x17c097;}function sanitizeQuizData(_0x4cfb95){const _0x376aeb=_0x4414d4;if(!_0x4cfb95||!_0x4cfb95[_0x376aeb(0x132)])return _0x4cfb95;const _0x118a6e={'imes':_0x376aeb(0x233),'div':'\x5cdiv'},_0x4106be=_0x37ecac=>{const _0x1adab9=_0x376aeb;if(typeof _0x37ecac!=='string')return _0x37ecac;let _0x2925f1=_0x37ecac;for(const [_0xa6e425,_0x3a684c]of Object[_0x1adab9(0x27a)](_0x118a6e)){const _0x3d1e7e=new RegExp('\x5cb'+_0xa6e425+'\x5cb','g');_0x2925f1=_0x2925f1[_0x1adab9(0xa71)](_0x3d1e7e,_0x3a684c);}return _0x2925f1=_0x2925f1[_0x1adab9(0xa71)](/\\\//g,'\x5cdiv'),_0x2925f1=_0x2925f1[_0x1adab9(0xa71)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x1adab9(0x2f4))[_0x1adab9(0xa71)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x1adab9(0x233))[_0x1adab9(0xa71)](/÷/g,_0x1adab9(0x2f4))[_0x1adab9(0xa71)](/×/g,_0x1adab9(0x233)),_0x2925f1=_0x2925f1[_0x1adab9(0xa71)](/(\d)(\\frac)/g,_0x1adab9(0x3b0)),_0x2925f1=autoFormatMath(_0x2925f1),_0x2925f1;};return _0x4cfb95[_0x376aeb(0x78b)]&&(_0x4cfb95['topic']=_0x4106be(_0x4cfb95[_0x376aeb(0x78b)])),_0x4cfb95[_0x376aeb(0x132)]['forEach'](_0x36f5d3=>{const _0x466b9b=_0x376aeb;_0x36f5d3[_0x466b9b(0x364)]=_0x4106be(_0x36f5d3[_0x466b9b(0x364)]),_0x36f5d3[_0x466b9b(0xb4a)]&&(_0x36f5d3['options']=_0x36f5d3['options'][_0x466b9b(0xb6a)](_0x4106be)),_0x36f5d3[_0x466b9b(0x27d)]&&(_0x36f5d3[_0x466b9b(0x27d)]=_0x4106be(_0x36f5d3['explanation'])),_0x36f5d3[_0x466b9b(0x610)]&&(_0x36f5d3['stem']=_0x4106be(_0x36f5d3[_0x466b9b(0x610)])),_0x36f5d3[_0x466b9b(0x3dc)]&&(_0x36f5d3['correctResponse']=_0x4106be(_0x36f5d3['correctResponse'])),_0x36f5d3['allResponses']&&(_0x36f5d3['allResponses']=_0x36f5d3[_0x466b9b(0x67e)][_0x466b9b(0xb6a)](_0x4106be));}),_0x4cfb95;}const simpleMathPrompt=_0x4414d4(0x2b4);async function handleGenerateFromLink(){const _0x105262=_0x4414d4,_0x36b4f7=document[_0x105262(0x651)](_0x105262(0x953)),_0x171c01=document[_0x105262(0x651)](_0x105262(0xa10)),_0x1e1fae=_0x36b4f7[_0x105262(0x3b7)]['trim'](),_0x40c63a=_0x171c01[_0x105262(0x3b7)][_0x105262(0x4fe)]();if(!_0x1e1fae){showMessage(_0x105262(0x58c));return;}const _0xc6d9a6=document['getElementById']('loader'),_0x1c7dbd=document[_0x105262(0x651)]('loader-text'),_0x1de64b=document['getElementById'](_0x105262(0x9d3)),_0x1798af=document['getElementById'](_0x105262(0x188));document[_0x105262(0x651)](_0x105262(0x565))[_0x105262(0xbeb)][_0x105262(0x303)](_0x105262(0x6ca)),_0x1de64b[_0x105262(0x61b)]='',_0xc6d9a6[_0x105262(0xbeb)][_0x105262(0x303)](_0x105262(0x6ca)),_0x1c7dbd[_0x105262(0xc23)]='กำลังดึงข้อมูลจากลิงก์...',_0x1798af['disabled']=!![];try{const _0x17d8cc=_0x105262(0x82a)+encodeURIComponent(_0x1e1fae),_0x27c473=await fetch(_0x17d8cc);if(!_0x27c473['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x27c473['status']+')');const _0x42624b=await _0x27c473[_0x105262(0x7b0)](),_0x5a4875=extractTextFromHtml(_0x42624b);if(!_0x5a4875||_0x5a4875[_0x105262(0x9fa)]<0x64)throw new Error(_0x105262(0x47b));await generateQuiz(_0x40c63a,_0x5a4875);}catch(_0x5e1e6f){console[_0x105262(0xb95)](_0x105262(0x3e7),_0x5e1e6f),showMessage(_0x105262(0x750)+_0x5e1e6f[_0x105262(0xaea)]),_0x1de64b[_0x105262(0x61b)]=_0x105262(0x3eb);}finally{_0xc6d9a6[_0x105262(0xbeb)][_0x105262(0x7bd)](_0x105262(0x6ca)),_0x1798af[_0x105262(0x993)]=![];}}function extractTextFromHtml(_0x4c4d12){const _0x42f315=_0x4414d4,_0x35c412=new DOMParser()[_0x42f315(0x79b)](_0x4c4d12,_0x42f315(0x5e7));return _0x35c412[_0x42f315(0x514)](_0x42f315(0x515))['forEach'](_0x5e61bd=>_0x5e61bd[_0x42f315(0x303)]()),_0x35c412[_0x42f315(0xab6)][_0x42f315(0xc23)]||'';}document[_0x4414d4(0x651)](_0x4414d4(0x2e6))[_0x4414d4(0x7bb)](_0x4414d4(0x530),()=>{const _0xac8cea=_0x4414d4,_0x77af0b=document[_0xac8cea(0x651)]('topic-input')[_0xac8cea(0x3b7)]['trim']();generateQuiz(_0x77af0b,null);}),document[_0x4414d4(0x651)]('generate-from-text-btn')[_0x4414d4(0x7bb)](_0x4414d4(0x530),()=>{const _0xd55221=_0x4414d4,_0x240ccb=document['getElementById'](_0xd55221(0x3d6))['value']['trim']();if(!_0x240ccb){showMessage(_0xd55221(0xb27));return;}const _0xb4bbe1=document[_0xd55221(0x651)](_0xd55221(0x866))[_0xd55221(0x3b7)][_0xd55221(0x4fe)]();generateQuiz(_0xb4bbe1,_0x240ccb);});async function generateQuiz(_0x921b37,_0x31e932,_0x33f4cd=null,_0x117015=null,_0xad26b4=![],_0x35dfc9=null,_0x2596ab=null,_0x19f04c=![]){const _0x331919=_0x4414d4;let _0x12b855={};if(_0xad26b4&&blueprintPageSettings)console[_0x331919(0xaf0)](_0x331919(0xb02)),_0x12b855=blueprintPageSettings;else{console[_0x331919(0xaf0)](_0x331919(0x57e));const _0x484285=document['querySelectorAll'](_0x331919(0x9a1));_0x12b855={'quizType':document[_0x331919(0x651)](_0x331919(0xa39))['value'],'numQuestions':document[_0x331919(0x651)]('num-questions')[_0x331919(0x3b7)],'numChoices':document['getElementById'](_0x331919(0x1a2))[_0x331919(0x3b7)],'includeImages':document[_0x331919(0x651)](_0x331919(0x3cf))['checked'],'isNormalTopic':document[_0x331919(0x651)](_0x331919(0xbd9))[_0x331919(0x173)],'difficultyValue':document['getElementById'](_0x331919(0x819))[_0x331919(0x3b7)],'complexityValue':document[_0x331919(0x651)]('question-complexity-select')['value'],'selectedTopicNames':Array[_0x331919(0x65a)](_0x484285)[_0x331919(0xb6a)](_0x429325=>_0x429325[_0x331919(0x3b7)])};}const _0x2d4590=_0x12b855[_0x331919(0x662)]?'':_0x331919(0x2ef),_0x5e02b2=_0x12b855[_0x331919(0x15c)]!==_0x331919(0x892)?_0x331919(0x414)+_0x12b855[_0x331919(0x15c)]+'\x22':'',_0x34508b=_0x12b855[_0x331919(0x4fb)]!==_0x331919(0x19f)?'โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x12b855[_0x331919(0x4fb)]+_0x331919(0x674):'';let _0x101f7f='';_0x12b855[_0x331919(0x209)]&&_0x12b855[_0x331919(0x209)]['length']>0x0&&(_0x101f7f='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x12b855[_0x331919(0x209)][_0x331919(0x254)](',\x20')+'.');let _0x4e9512='';_0x117015&&(_0x4e9512=_0x331919(0xb1a));let _0x24e26c='',_0x2bfe57='',_0x972b0c,_0x214d31=_0x331919(0x31d)+_0x921b37+'\x22';if(!_0x921b37&&_0x31e932)_0x214d31=_0x331919(0x681);else!_0x921b37&&!_0x31e932&&(_0x214d31=_0x331919(0x2c1));const _0x3087fb={'type':'OBJECT','properties':{'questionText':{'type':_0x331919(0x616)},'options':{'type':_0x331919(0x4d4),'items':{'type':_0x331919(0x616)}},'correctAnswerIndex':{'type':_0x331919(0x345)},'explanation':{'type':_0x331919(0x616)},'imageCode':{'type':_0x331919(0x616)}},'required':['questionText',_0x331919(0xb4a),_0x331919(0x74c),_0x331919(0x27d)]},_0x164228={'type':'OBJECT','properties':{'questionText':{'type':_0x331919(0x616)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x331919(0x364),_0x331919(0xb5f),'explanation']},_0x20cb86={'type':_0x331919(0x7d7),'properties':{'questionText':{'type':_0x331919(0x616)},'questionType':{'type':'STRING','enum':[_0x331919(0x2c6),_0x331919(0x808)]},'options':{'type':'ARRAY','items':{'type':_0x331919(0x616)}},'correctAnswerIndex':{'type':_0x331919(0x345)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x331919(0x616)},'imageCode':{'type':_0x331919(0x616)}},'required':[_0x331919(0x364),_0x331919(0xc2f),_0x331919(0x27d)]},_0x2cdf24={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x331919(0x616)}},'required':[_0x331919(0x364),'correctAnswer',_0x331919(0x27d)]},_0x1a389c={'type':_0x331919(0x7d7),'properties':{'questionType':{'type':_0x331919(0x616),'enum':[_0x331919(0x572)]},'stem':{'type':_0x331919(0x616)},'correctResponse':{'type':_0x331919(0x616)},'allResponses':{'type':_0x331919(0x4d4),'items':{'type':_0x331919(0x616)}},'explanation':{'type':_0x331919(0x616)},'imageCode':{'type':_0x331919(0x616)}},'required':[_0x331919(0xc2f),_0x331919(0x610),'correctResponse',_0x331919(0x67e),_0x331919(0x27d)]};let _0x19c4bc;if(_0x33f4cd!==null){const _0x396452=currentQuizData[_0x331919(0x132)][_0x33f4cd][_0x331919(0xc2f)],_0x5a3201=_0x12b855['includeImages']?_0x331919(0x466):'';_0x24e26c='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x214d31+'\x20'+_0x101f7f+'\x20'+_0x5e02b2+_0x331919(0xbaa)+_0x5a3201+'\x20'+simpleMathPrompt;if(_0x396452==='multiple_choice')_0x972b0c=_0x3087fb;else{if(_0x396452===_0x331919(0x572))_0x972b0c={'type':_0x331919(0x7d7),'properties':{'questionType':{'type':_0x331919(0x616),'enum':['matching_item']},'stem':{'type':_0x331919(0x616)},'correctResponse':{'type':_0x331919(0x616)},'explanation':{'type':_0x331919(0x616)},'imageCode':{'type':_0x331919(0x616)}},'required':[_0x331919(0xc2f),'stem',_0x331919(0x3dc),_0x331919(0x27d)]};else _0x972b0c=_0x164228;}_0x19c4bc=_0x972b0c;}else{const _0x3c5a56=_0x12b855[_0x331919(0x4af)]?_0x331919(0x15d):'';switch(_0x12b855['quizType']){case _0x331919(0x2c6):_0x24e26c=_0x331919(0x6f8)+_0x2d4590+'\x20'+_0x12b855[_0x331919(0x53d)]+_0x331919(0x6fb)+_0x214d31+'\x20'+_0x101f7f+'\x20'+_0x5e02b2+'\x20'+_0x34508b+'\x20'+_0x4e9512+_0x331919(0x8a3)+_0x12b855[_0x331919(0xa7d)]+_0x331919(0xa0c)+_0x3c5a56+'\x20'+simpleMathPrompt,_0x972b0c=_0x3087fb;break;case _0x331919(0x8a2):_0x24e26c=_0x331919(0xb56)+_0x2d4590+'\x20'+_0x12b855[_0x331919(0x53d)]+_0x331919(0x6fb)+_0x214d31+'\x20'+_0x101f7f+'\x20'+_0x5e02b2+'\x20'+_0x34508b+'\x20'+_0x4e9512+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x12b855[_0x331919(0xa7d)]+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x3c5a56+'\x20'+simpleMathPrompt,_0x972b0c=_0x3087fb;break;case'fill_in_no_choices':_0x24e26c=_0x331919(0xb56)+_0x2d4590+'\x20'+_0x12b855[_0x331919(0x53d)]+_0x331919(0x6fb)+_0x214d31+'\x20'+_0x101f7f+'\x20'+_0x5e02b2+'\x20'+_0x34508b+'\x20'+_0x4e9512+_0x331919(0x8fa)+_0x3c5a56+'\x20'+simpleMathPrompt,_0x972b0c=_0x164228;break;case'mixed':_0x24e26c=_0x331919(0x7fa)+_0x2d4590+'\x20'+_0x12b855[_0x331919(0x53d)]+_0x331919(0x6fb)+_0x214d31+'\x20'+_0x101f7f+'\x20'+_0x5e02b2+'\x20'+_0x34508b+'\x20'+_0x4e9512+_0x331919(0x5cd)+_0x12b855[_0x331919(0xa7d)]+_0x331919(0x5ed)+_0x3c5a56+'\x20'+simpleMathPrompt+'.',_0x972b0c=_0x20cb86;break;case _0x331919(0x26d):_0x24e26c=_0x331919(0x19e)+_0x2d4590+'\x20'+_0x12b855['numQuestions']+'\x20ข้อ\x20'+_0x214d31+'\x20'+_0x101f7f+'\x20'+_0x5e02b2+'\x20'+_0x34508b+'\x20'+_0x4e9512+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x3c5a56+'\x20'+simpleMathPrompt,_0x972b0c=_0x2cdf24;break;case'matching':_0x24e26c=_0x331919(0x7a3)+_0x2d4590+'\x20'+_0x12b855[_0x331919(0x53d)]+'\x20คู่\x20'+_0x214d31+'\x20'+_0x101f7f+'\x20'+_0x5e02b2+'\x20'+_0x34508b+'\x20'+_0x4e9512+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x3c5a56+'\x20'+simpleMathPrompt,_0x972b0c=_0x1a389c;break;}_0x19c4bc={'type':'OBJECT','properties':{'topic':{'type':_0x331919(0x616)},'questions':{'type':_0x331919(0x4d4),'items':_0x972b0c}},'required':['topic',_0x331919(0x132)]};}const _0x12c134=_0x331919(0xb7d);_0x31e932?(_0x19f04c?_0x24e26c='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x31e932+'\x22,\x20'+_0x24e26c+_0x12c134:_0x24e26c=_0x331919(0x7b3)+_0x31e932+'\x22,\x20'+_0x24e26c,_0x2bfe57=_0x331919(0x365)):(_0x19f04c&&(_0x24e26c+=_0x12c134),_0x2bfe57=_0x331919(0x46f));let _0x5a691d;return _0x117015?_0x5a691d=[{'text':_0x24e26c},..._0x117015]:_0x5a691d=_0x24e26c,handleApiCall(_0x5a691d,_0x2bfe57,_0x19c4bc,_0x33f4cd,!![],_0x35dfc9,_0x2596ab);}async function generateQuizFromFile(_0x55a1ba,_0x132817){const _0x1d40e2=_0x4414d4,_0x2c400e=document[_0x1d40e2(0x651)](_0x1d40e2(0x417))['value'][_0x1d40e2(0x4fe)](),_0x55d73e=document['getElementById'](_0x1d40e2(0xa39))[_0x1d40e2(0x3b7)],_0x130399=document[_0x1d40e2(0x651)](_0x1d40e2(0x383))[_0x1d40e2(0x3b7)],_0x5bd2fe=document[_0x1d40e2(0x651)](_0x1d40e2(0x1a2))[_0x1d40e2(0x3b7)],_0x5dad4a=document[_0x1d40e2(0x651)]('include-images-checkbox')[_0x1d40e2(0x173)],_0x455a56=document[_0x1d40e2(0x651)]('force-math-checkbox')[_0x1d40e2(0x173)],_0x45127c=_0x455a56?'':_0x1d40e2(0x2ef),_0x322582=document[_0x1d40e2(0x651)](_0x1d40e2(0x2f2))['checked'];let _0x38e3a4='',_0xcc7de3;const _0x4bbddf=_0x5dad4a?_0x1d40e2(0x15d):'';if(_0x322582)_0x38e3a4='\x0a\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0a\x20\x20\x20\x20ภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0a\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x201.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a\x20\x20\x20\x202.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a\x20\x20\x20\x203.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a\x20\x20\x20\x204.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a\x20\x20\x20\x20'+_0x4bbddf+_0x1d40e2(0x73b)+simpleMathPrompt+'\x0a',_0xcc7de3={'type':_0x1d40e2(0x7d7),'properties':{'questionText':{'type':_0x1d40e2(0x616)},'questionType':{'type':'STRING','enum':[_0x1d40e2(0x2c6),_0x1d40e2(0x808),'true_false',_0x1d40e2(0x572)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1d40e2(0x345)},'idealAnswer':{'type':_0x1d40e2(0x616)},'correctAnswer':{'type':_0x1d40e2(0x4d7)},'stem':{'type':_0x1d40e2(0x616)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x1d40e2(0x4d4),'items':{'type':_0x1d40e2(0x616)}},'explanation':{'type':_0x1d40e2(0x616)},'imageCode':{'type':_0x1d40e2(0x616)}},'required':[_0x1d40e2(0xc2f),_0x1d40e2(0x27d)]};else{let _0x3b7c90=_0x1d40e2(0x31d)+_0x2c400e+'\x22';!_0x2c400e&&(_0x3b7c90=_0x1d40e2(0x170));switch(_0x55d73e){case _0x1d40e2(0x2c6):_0x38e3a4=_0x1d40e2(0x6f8)+_0x45127c+'\x20'+_0x130399+_0x1d40e2(0x6fb)+_0x3b7c90+_0x1d40e2(0x8a3)+_0x5bd2fe+_0x1d40e2(0xa0c)+_0x4bbddf+'\x20'+simpleMathPrompt,_0xcc7de3={'type':_0x1d40e2(0x7d7),'properties':{'questionText':{'type':_0x1d40e2(0x616)},'options':{'type':_0x1d40e2(0x4d4),'items':{'type':_0x1d40e2(0x616)}},'correctAnswerIndex':{'type':_0x1d40e2(0x345)},'explanation':{'type':_0x1d40e2(0x616)},'imageCode':{'type':_0x1d40e2(0x616)}},'required':[_0x1d40e2(0x364),_0x1d40e2(0xb4a),_0x1d40e2(0x74c),_0x1d40e2(0x27d)]};break;case _0x1d40e2(0x8a2):_0x38e3a4='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x45127c+'\x20'+_0x130399+_0x1d40e2(0x6fb)+_0x3b7c90+_0x1d40e2(0x510)+_0x5bd2fe+_0x1d40e2(0x807)+_0x4bbddf+'\x20'+simpleMathPrompt,_0xcc7de3={'type':_0x1d40e2(0x7d7),'properties':{'questionText':{'type':_0x1d40e2(0x616)},'options':{'type':_0x1d40e2(0x4d4),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1d40e2(0x345)},'explanation':{'type':_0x1d40e2(0x616)},'imageCode':{'type':'STRING'}},'required':[_0x1d40e2(0x364),'options',_0x1d40e2(0x74c),_0x1d40e2(0x27d)]};break;case _0x1d40e2(0x55c):_0x38e3a4=_0x1d40e2(0xb56)+_0x45127c+'\x20'+_0x130399+_0x1d40e2(0x6fb)+_0x3b7c90+_0x1d40e2(0x8fa)+_0x4bbddf+'\x20'+simpleMathPrompt,_0xcc7de3={'type':_0x1d40e2(0x7d7),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x1d40e2(0x616)},'explanation':{'type':_0x1d40e2(0x616)},'imageCode':{'type':_0x1d40e2(0x616)}},'required':[_0x1d40e2(0x364),_0x1d40e2(0xb5f),_0x1d40e2(0x27d)]};break;case'mixed':_0x38e3a4='สร้างแบบทดสอบ'+_0x45127c+'\x20'+_0x130399+_0x1d40e2(0x6fb)+_0x3b7c90+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x5bd2fe+_0x1d40e2(0x5ed)+_0x4bbddf+'\x20'+simpleMathPrompt+_0x1d40e2(0x7d9),_0xcc7de3={'type':_0x1d40e2(0x7d7),'properties':{'questionText':{'type':_0x1d40e2(0x616)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x1d40e2(0x808)]},'options':{'type':'ARRAY','items':{'type':_0x1d40e2(0x616)}},'correctAnswerIndex':{'type':_0x1d40e2(0x345)},'idealAnswer':{'type':_0x1d40e2(0x616)},'explanation':{'type':_0x1d40e2(0x616)},'imageCode':{'type':_0x1d40e2(0x616)}},'required':[_0x1d40e2(0x364),_0x1d40e2(0xc2f),_0x1d40e2(0x27d)]};break;case'true_false':_0x38e3a4=_0x1d40e2(0x19e)+_0x45127c+'\x20'+_0x130399+'\x20ข้อ\x20'+_0x3b7c90+_0x1d40e2(0xbde)+_0x4bbddf+'\x20'+simpleMathPrompt,_0xcc7de3={'type':_0x1d40e2(0x7d7),'properties':{'questionText':{'type':_0x1d40e2(0x616)},'correctAnswer':{'type':_0x1d40e2(0x4d7)},'explanation':{'type':_0x1d40e2(0x616)},'imageCode':{'type':_0x1d40e2(0x616)}},'required':['questionText',_0x1d40e2(0x294),_0x1d40e2(0x27d)]};break;case _0x1d40e2(0x55e):_0x38e3a4=_0x1d40e2(0x7a3)+_0x45127c+'\x20'+_0x130399+_0x1d40e2(0x99a)+_0x3b7c90+_0x1d40e2(0x1fb)+_0x130399+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x4bbddf+'\x20'+simpleMathPrompt,_0xcc7de3={'type':_0x1d40e2(0x7d7),'properties':{'questionType':{'type':_0x1d40e2(0x616),'enum':[_0x1d40e2(0x572)]},'stem':{'type':_0x1d40e2(0x616)},'correctResponse':{'type':_0x1d40e2(0x616)},'allResponses':{'type':'ARRAY','items':{'type':_0x1d40e2(0x616)}},'explanation':{'type':_0x1d40e2(0x616)},'imageCode':{'type':'STRING'}},'required':[_0x1d40e2(0xc2f),'stem','correctResponse',_0x1d40e2(0x67e),_0x1d40e2(0x27d)]};break;}}const _0x5199ec={'type':_0x1d40e2(0x7d7),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0xcc7de3}},'required':[_0x1d40e2(0x78b),_0x1d40e2(0x132)]},_0x3f464f='จากไฟล์ที่แนบมานี้,\x20'+_0x38e3a4,_0x32d445={'contents':[{'parts':[{'text':_0x3f464f},{'inlineData':{'mimeType':_0x55a1ba,'data':_0x132817}}]}],'generationConfig':{'responseMimeType':_0x1d40e2(0xbd4),'responseSchema':_0x5199ec}};return handleApiCall(_0x32d445[_0x1d40e2(0x6d9)][0x0][_0x1d40e2(0x538)],_0x1d40e2(0x2ea),_0x5199ec);}async function handleApiCall(_0x352658,_0x57c606,_0xbd183,_0x4d95af=null,_0x15ca33=!![],_0x17587c=null,_0x3734ae=null){const _0x5f02e1=_0x4414d4,_0x26f889=document[_0x5f02e1(0x651)](_0x5f02e1(0x565)),_0x391c1c=document['getElementById']('loader'),_0x1e813e=document[_0x5f02e1(0x651)](_0x5f02e1(0xa53)),_0x14cff=document[_0x5f02e1(0x651)](_0x5f02e1(0x9d3));_0x26f889[_0x5f02e1(0xbeb)][_0x5f02e1(0x303)](_0x5f02e1(0x6ca));_0x4d95af===null&&_0x15ca33&&(_0x14cff[_0x5f02e1(0x61b)]='');_0x391c1c[_0x5f02e1(0xbeb)][_0x5f02e1(0x303)](_0x5f02e1(0x6ca)),_0x1e813e[_0x5f02e1(0xc23)]=_0x57c606,document[_0x5f02e1(0x651)](_0x5f02e1(0x2e6))[_0x5f02e1(0x993)]=!![],document['getElementById'](_0x5f02e1(0x698))[_0x5f02e1(0x993)]=!![],document[_0x5f02e1(0x651)](_0x5f02e1(0x188))['disabled']=!![];const _0x7f0dcf=document['getElementById'](_0x5f02e1(0x1fe));if(_0x7f0dcf)_0x7f0dcf['disabled']=!![];const _0x123432=document[_0x5f02e1(0x651)](_0x5f02e1(0x8c8));if(_0x123432)_0x123432[_0x5f02e1(0x993)]=!![];const _0x50f0f1=document[_0x5f02e1(0x651)]('generate-from-parallel-test-btn');if(_0x50f0f1)_0x50f0f1[_0x5f02e1(0x993)]=!![];try{const _0x415149={'responseMimeType':'application/json','responseSchema':_0xbd183},_0x4cb44f=Array['isArray'](_0x352658)?_0x352658:[{'text':_0x352658}],_0x247a88={'contents':[{'role':_0x5f02e1(0x316),'parts':_0x4cb44f}],'generationConfig':_0x415149},_0x2470fd=_0x5f02e1(0x4dc),_0x3aca7f=_0x5f02e1(0x2cf)+_0x2470fd,_0x34487c=await fetch(_0x3aca7f,{'method':_0x5f02e1(0x23a),'headers':{'Content-Type':_0x5f02e1(0xbd4)},'body':JSON[_0x5f02e1(0x177)](_0x247a88)});if(!_0x34487c['ok']){const _0x5b22ef=await _0x34487c[_0x5f02e1(0x7b0)]();console[_0x5f02e1(0xb95)](_0x5f02e1(0x212),_0x5b22ef);throw new Error(_0x5f02e1(0x44b)+_0x34487c[_0x5f02e1(0x7f9)]);}const _0x5e1dcc=await _0x34487c[_0x5f02e1(0xb45)]();if(_0x5e1dcc[_0x5f02e1(0x206)]?.[0x0]?.['content']?.[_0x5f02e1(0x538)]?.[0x0]){let _0x19062f=_0x5e1dcc[_0x5f02e1(0x206)][0x0]['content'][_0x5f02e1(0x538)][0x0]['text'];if(_0x19062f[_0x5f02e1(0x972)](_0x5f02e1(0xac1)))_0x19062f=_0x19062f[_0x5f02e1(0x25f)](0x7,_0x19062f[_0x5f02e1(0x9fa)]-0x3)[_0x5f02e1(0x4fe)]();else _0x19062f[_0x5f02e1(0x972)](_0x5f02e1(0x164))&&(_0x19062f=_0x19062f['substring'](0x3,_0x19062f[_0x5f02e1(0x9fa)]-0x3)[_0x5f02e1(0x4fe)]());let _0x564878=JSON[_0x5f02e1(0x607)](_0x19062f);if(_0x15ca33){if(_0x4d95af!==null){if(_0x564878['questionType']===_0x5f02e1(0x572)){const _0x266277=currentQuizData[_0x5f02e1(0x132)][_0x5f02e1(0xb6a)](_0x30dad2=>_0x30dad2[_0x5f02e1(0x3dc)]);_0x564878[_0x5f02e1(0x67e)]=_0x266277;const _0x2f36c3=currentQuizData[_0x5f02e1(0x132)][_0x4d95af][_0x5f02e1(0x3dc)],_0x1a8993=_0x266277[_0x5f02e1(0x959)](_0x2f36c3);_0x1a8993>-0x1&&(_0x266277[_0x1a8993]=_0x564878[_0x5f02e1(0x3dc)]),currentQuizData['questions'][_0x5f02e1(0x15f)](_0x37c229=>{const _0x16c9ce=_0x5f02e1;if(_0x37c229[_0x16c9ce(0xc2f)]===_0x16c9ce(0x572))_0x37c229['allResponses']=_0x266277;});}currentQuizData[_0x5f02e1(0x132)][_0x4d95af]=_0x564878,displayGeneratedQuiz(currentQuizData,_0x17587c,_0x3734ae);}else{currentQuizData=_0x564878;const _0x1e8016=document[_0x5f02e1(0x651)](_0x5f02e1(0xa39))[_0x5f02e1(0x3b7)];currentQuizData[_0x5f02e1(0x76d)]=_0x1e8016,currentQuizData[_0x5f02e1(0x132)]&&currentQuizData[_0x5f02e1(0x132)][_0x5f02e1(0x15f)](_0x30ff9d=>{const _0x19a362=_0x5f02e1;if(!_0x30ff9d[_0x19a362(0xc2f)]){if(_0x1e8016===_0x19a362(0x8a2))_0x30ff9d[_0x19a362(0xc2f)]=_0x19a362(0x2c6);else{if(_0x1e8016==='fill_in_no_choices')_0x30ff9d['questionType']=_0x19a362(0x808);else _0x30ff9d[_0x19a362(0xc2f)]=_0x1e8016;}}}),displayGeneratedQuiz(currentQuizData,_0x17587c,_0x3734ae);}}return _0x564878;}else{let _0x494726=_0x5f02e1(0x7bc);if(_0x5e1dcc[_0x5f02e1(0x9be)]?.[_0x5f02e1(0xba9)])_0x494726=_0x5f02e1(0x40f)+_0x5e1dcc[_0x5f02e1(0x9be)][_0x5f02e1(0xba9)]+'.';else _0x5e1dcc[_0x5f02e1(0x206)]?.[0x0]?.[_0x5f02e1(0x61a)]&&_0x5e1dcc['candidates'][0x0][_0x5f02e1(0x61a)]!==_0x5f02e1(0x287)&&(_0x494726='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x5e1dcc[_0x5f02e1(0x206)][0x0][_0x5f02e1(0x61a)]+'.');console[_0x5f02e1(0xb95)](_0x494726,JSON['stringify'](_0x5e1dcc));throw new Error(_0x494726);}}catch(_0x390b49){console['error'](_0x5f02e1(0xbbd),_0x390b49),showMessage(_0x5f02e1(0x58e)+_0x390b49[_0x5f02e1(0xaea)]);_0x4d95af===null&&_0x15ca33&&(_0x14cff[_0x5f02e1(0x61b)]=_0x5f02e1(0x2e5));throw _0x390b49;}finally{_0x391c1c[_0x5f02e1(0xbeb)][_0x5f02e1(0x7bd)]('hidden'),document[_0x5f02e1(0x651)](_0x5f02e1(0x2e6))[_0x5f02e1(0x993)]=![],document[_0x5f02e1(0x651)](_0x5f02e1(0x698))['disabled']=![],document[_0x5f02e1(0x651)]('generate-from-link-btn')[_0x5f02e1(0x993)]=![];if(_0x7f0dcf)_0x7f0dcf[_0x5f02e1(0x993)]=![];if(_0x123432)_0x123432['disabled']=![];if(_0x50f0f1)_0x50f0f1[_0x5f02e1(0x993)]=![];}}function exitFullscreen(){const _0x4143e8=_0x4414d4;if(document['exitFullscreen'])document[_0x4143e8(0x498)]()['catch'](_0x5c636e=>console[_0x4143e8(0xb95)](_0x5c636e));else{if(document[_0x4143e8(0x432)])document[_0x4143e8(0x432)]();else document[_0x4143e8(0x529)]&&document[_0x4143e8(0x529)]();}}function enterFullscreen(){const _0xe31ebb=_0x4414d4,_0xf048a7=document[_0xe31ebb(0xa1e)];if(_0xf048a7[_0xe31ebb(0x37c)])_0xf048a7[_0xe31ebb(0x37c)]()[_0xe31ebb(0xabb)](_0x12268e=>{const _0x8e4adf=_0xe31ebb;console['error']('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x12268e['message']+'\x20('+_0x12268e[_0x8e4adf(0x815)]+')');});else{if(_0xf048a7[_0xe31ebb(0x317)])_0xf048a7[_0xe31ebb(0x317)]();else _0xf048a7['msRequestFullscreen']&&_0xf048a7[_0xe31ebb(0x1b1)]();}}function handleCheatingEvent(){const _0x26a9f2=_0x4414d4;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x26a9f2(0x312),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x26a9f2(0x86e)+maxCheatAttempts+_0x26a9f2(0xbda)),document[_0x26a9f2(0x651)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x26a9f2(0x3ee)]('visibilitychange',handleVisibilityChange),document[_0x26a9f2(0x3ee)](_0x26a9f2(0x237),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x26a9f2(0xa88),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x28986c=_0x4414d4;if(currentMode===_0x28986c(0xa63)||!isQuizActive)return;if(document[_0x28986c(0x191)]===_0x28986c(0x6ca))handleCheatingEvent();else document[_0x28986c(0x191)]===_0x28986c(0xa16)&&(console[_0x28986c(0xaf0)](_0x28986c(0x8db)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x12b077=_0x4414d4;if(currentMode===_0x12b077(0xa63)||!isQuizActive)return;!document[_0x12b077(0x2e2)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4348ef,_0x3064df=null,_0x2ae030=null){const _0x183ccd=_0x4414d4,_0x286342=document['getElementById'](_0x183ccd(0x9d3));let _0xfb7364='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x4348ef['topic']+_0x183ccd(0x526);_0x4348ef[_0x183ccd(0x132)][_0x183ccd(0x15f)]((_0x2dbfbc,_0x2ac433)=>{const _0x466585=_0x183ccd;!_0x2dbfbc['id']&&(_0x2dbfbc['id']='q_'+Date[_0x466585(0xbcc)]()+'_'+_0x2ac433);const _0xe6b1dd=_0x2dbfbc[_0x466585(0xc2f)]||_0x4348ef[_0x466585(0x76d)];_0xfb7364+=_0x466585(0x27f)+_0x2ac433+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2ac433+_0x466585(0x20b)+_0x2ac433+_0x466585(0x560);switch(_0xe6b1dd){case _0x466585(0x572):_0xfb7364+=_0x466585(0x51e)+_0x2ac433+'\x22>'+(_0x2ac433+0x1)+'.\x20'+_0x2dbfbc[_0x466585(0x610)]+'</p>';_0x2dbfbc[_0x466585(0x1ea)]&&(_0xfb7364+=_0x466585(0x353)+_0x2ac433+_0x466585(0x3e2)+_0x2dbfbc['imageCode']+_0x466585(0x8ff));_0xfb7364+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x2ac433+'\x22>'+_0x2dbfbc[_0x466585(0x3dc)]+_0x466585(0x140),_0xfb7364+=_0x466585(0x3db)+_0x2ac433+'\x22>'+_0x2dbfbc[_0x466585(0x27d)]+_0x466585(0x140);break;case _0x466585(0x808):_0xfb7364+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2ac433+'\x22>'+(_0x2ac433+0x1)+'.\x20'+_0x2dbfbc[_0x466585(0x364)]+'</p>';_0x2dbfbc['imageCode']&&(_0xfb7364+=_0x466585(0x353)+_0x2ac433+_0x466585(0x3e2)+_0x2dbfbc[_0x466585(0x1ea)]+_0x466585(0x8ff));_0xfb7364+=_0x466585(0x811)+_0x2ac433+'\x22>'+_0x2dbfbc[_0x466585(0xb5f)]+_0x466585(0x140),_0xfb7364+=_0x466585(0x3db)+_0x2ac433+'\x22>'+_0x2dbfbc[_0x466585(0x27d)]+'</span></div>';break;case _0x466585(0x26d):_0xfb7364+=_0x466585(0x51e)+_0x2ac433+'\x22>'+(_0x2ac433+0x1)+'.\x20'+_0x2dbfbc['questionText']+_0x466585(0x630);_0x2dbfbc[_0x466585(0x1ea)]&&(_0xfb7364+=_0x466585(0x353)+_0x2ac433+_0x466585(0x3e2)+_0x2dbfbc['imageCode']+_0x466585(0x8ff));_0xfb7364+=_0x466585(0x161)+(_0x2dbfbc[_0x466585(0x294)]===!![]?'text-green-600\x20font-bold':'')+_0x466585(0x9f1)+(_0x2dbfbc[_0x466585(0x294)]===![]?_0x466585(0x5f9):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0xfb7364+=_0x466585(0x3db)+_0x2ac433+'\x22>'+_0x2dbfbc[_0x466585(0x27d)]+_0x466585(0x140);break;case _0x466585(0x856):case'multiple_choice':default:_0xfb7364+=_0x466585(0x51e)+_0x2ac433+'\x22>'+(_0x2ac433+0x1)+'.\x20'+_0x2dbfbc[_0x466585(0x364)]+_0x466585(0x630);_0x2dbfbc[_0x466585(0x1ea)]&&(_0xfb7364+=_0x466585(0x353)+_0x2ac433+_0x466585(0x3e2)+_0x2dbfbc['imageCode']+_0x466585(0x8ff));_0xfb7364+=_0x466585(0x171)+_0x2ac433+_0x466585(0x4e8)+(_0x2dbfbc[_0x466585(0xb4a)]||[])[_0x466585(0xb6a)]((_0x3712c7,_0x5b8146)=>_0x466585(0x3b4)+(_0x5b8146===_0x2dbfbc['correctAnswerIndex']?_0x466585(0x5f9):'')+'\x22>'+_0x3712c7+_0x466585(0x792))['join']('')+_0x466585(0x482),_0xfb7364+=_0x466585(0x3db)+_0x2ac433+'\x22>'+_0x2dbfbc[_0x466585(0x27d)]+_0x466585(0x140);break;}_0xfb7364+=_0x466585(0x8ff);}),_0xfb7364+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0x286342[_0x183ccd(0x61b)]=_0xfb7364,document[_0x183ccd(0x514)]('.edit-question-btn')['forEach'](_0x5a838b=>_0x5a838b[_0x183ccd(0x7bb)]('click',handleEditQuestion)),document[_0x183ccd(0x514)](_0x183ccd(0x981))['forEach'](_0x45f27b=>_0x45f27b[_0x183ccd(0x7bb)](_0x183ccd(0x530),handleRegenerateQuestion)),document[_0x183ccd(0x651)](_0x183ccd(0x5c3))[_0x183ccd(0x7bb)](_0x183ccd(0x530),exportQuizAsWorksheetPDF),document[_0x183ccd(0x651)](_0x183ccd(0x394))[_0x183ccd(0x7bb)]('click',handleVerifyAnswers);const _0x298980=document[_0x183ccd(0x651)]('save-quiz-btn');if(_0x298980){const _0x2fdfdc=_0x3064df||currentProjectId;_0x298980[_0x183ccd(0x7bb)]('click',()=>saveQuiz(_0x2fdfdc,_0x2ae030));}if(window[_0x183ccd(0x858)])window[_0x183ccd(0x858)][_0x183ccd(0x1f8)]([_0x286342]);}function handleRegenerateQuestion(_0x1d1d0b){const _0x3a190e=_0x4414d4,_0xe37572=_0x1d1d0b[_0x3a190e(0x5b4)]['dataset'][_0x3a190e(0x5d7)],_0x211338=currentQuizData[_0x3a190e(0x78b)];showMessage(_0x3a190e(0xbcf)+(parseInt(_0xe37572)+0x1)+_0x3a190e(0x354)),generateQuiz(_0x211338,null,parseInt(_0xe37572));}function getPointerPosition(_0x1ca519,_0x5186b7){const _0x4e17d4=_0x4414d4,_0x228e0a=_0x1ca519[_0x4e17d4(0x7dd)]();let _0x51631e,_0x2e4ee1;return _0x5186b7[_0x4e17d4(0xc34)]&&_0x5186b7[_0x4e17d4(0xc34)][_0x4e17d4(0x9fa)]>0x0?(_0x51631e=_0x5186b7[_0x4e17d4(0xc34)][0x0][_0x4e17d4(0xc09)],_0x2e4ee1=_0x5186b7[_0x4e17d4(0xc34)][0x0]['clientY']):(_0x51631e=_0x5186b7[_0x4e17d4(0xc09)],_0x2e4ee1=_0x5186b7[_0x4e17d4(0x63c)]),{'x':(_0x51631e-_0x228e0a['e'])/_0x228e0a['a'],'y':(_0x2e4ee1-_0x228e0a['f'])/_0x228e0a['d']};}function startDrag(_0x2a53c5){const _0x161ae9=_0x4414d4;_0x2a53c5[_0x161ae9(0x5e1)]===_0x161ae9(0x4dd)&&_0x2a53c5['preventDefault']();const _0x455f44=_0x2a53c5['target'][_0x161ae9(0xb9a)](_0x161ae9(0x841));if(_0x455f44){draggedSvgElement=_0x455f44;const _0x259900=draggedSvgElement[_0x161ae9(0x37a)],_0x5a6957=getPointerPosition(_0x259900,_0x2a53c5);svgOffset['x']=_0x5a6957['x']-parseFloat(draggedSvgElement[_0x161ae9(0x7a5)](null,'x')),svgOffset['y']=_0x5a6957['y']-parseFloat(draggedSvgElement[_0x161ae9(0x7a5)](null,'y'));}}function calculateItemAnalysis(_0x1ec4d1,_0x309b64){const _0x5baed5=_0x4414d4,_0x3d6adc={};if(_0x309b64[_0x5baed5(0x9fa)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x50b0cf=[..._0x309b64][_0x5baed5(0xa7e)]((_0x2a9fc5,_0x258726)=>{const _0x574d4b=_0x5baed5,_0x2d530c=_0x258726[_0x574d4b(0xa48)]-_0x2a9fc5[_0x574d4b(0xa48)];if(_0x2d530c!==0x0)return _0x2d530c;const _0x5429e0=_0x2a9fc5[_0x574d4b(0x18d)]?.['length']||0x1,_0x46715b=_0x258726[_0x574d4b(0x18d)]?.[_0x574d4b(0x9fa)]||0x1,_0x4d43a6=_0x5429e0-_0x46715b;if(_0x4d43a6!==0x0)return _0x4d43a6;const _0x14e150=new Date(_0x2a9fc5[_0x574d4b(0x337)]),_0x5ab6d8=new Date(_0x258726[_0x574d4b(0x337)]),_0x1906ac=_0x14e150-_0x5ab6d8;if(_0x1906ac!==0x0)return _0x1906ac;return _0x2a9fc5[_0x574d4b(0x637)][_0x574d4b(0x3c5)](_0x258726[_0x574d4b(0x637)],'th');}),_0x47e5ad=_0x50b0cf['length'],_0x1a81a5=Math[_0x5baed5(0x682)](0x1,Math[_0x5baed5(0x688)](_0x47e5ad*0.33));if(_0x1a81a5===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x30dd2c=_0x50b0cf['slice'](0x0,_0x1a81a5),_0x48768c=_0x50b0cf[_0x5baed5(0xb31)](-_0x1a81a5),_0x1c0756=_0x30dd2c[_0x5baed5(0xb6a)](_0x197964=>_0x197964[_0x5baed5(0x637)]),_0x46fb25=_0x48768c['map'](_0x3d2ea7=>_0x3d2ea7['studentName']);return _0x1ec4d1[_0x5baed5(0x132)]['forEach']((_0x363ac9,_0x4f5fe0)=>{const _0x4f3deb=_0x5baed5,_0x431015=_0x363ac9[_0x4f3deb(0x610)]||_0x363ac9['questionText'];let _0x3536cd=0x0,_0x4e17cc=0x0,_0x4aa935=0x0;const _0x36cda0=[],_0x451ce1=[];_0x30dd2c['forEach'](_0x56ac3f=>{const _0x424396=_0x4f3deb,_0x254acc=_0x56ac3f[_0x424396(0x18d)][_0x56ac3f['attempts'][_0x424396(0x9fa)]-0x1],_0x4ae634=_0x254acc['answers'][_0x424396(0xbc5)](_0x2bd8f6=>_0x2bd8f6[_0x424396(0x51c)]===_0x431015);_0x36cda0['push']({'name':_0x56ac3f['studentName'],'isCorrect':_0x4ae634?_0x4ae634[_0x424396(0x2c8)]:![]}),_0x4ae634&&_0x4ae634[_0x424396(0x2c8)]&&_0x4e17cc++;}),_0x48768c['forEach'](_0x1263dd=>{const _0x31790f=_0x4f3deb,_0x397e82=_0x1263dd['attempts'][_0x1263dd['attempts'][_0x31790f(0x9fa)]-0x1],_0x309b17=_0x397e82['answers'][_0x31790f(0xbc5)](_0x160933=>_0x160933[_0x31790f(0x51c)]===_0x431015);_0x451ce1[_0x31790f(0x464)]({'name':_0x1263dd['studentName'],'isCorrect':_0x309b17?_0x309b17[_0x31790f(0x2c8)]:![]}),_0x309b17&&_0x309b17[_0x31790f(0x2c8)]&&_0x4aa935++;}),_0x309b64['forEach'](_0x1a0642=>{const _0x276f43=_0x4f3deb,_0x22aed=_0x1a0642[_0x276f43(0x18d)][_0x1a0642[_0x276f43(0x18d)][_0x276f43(0x9fa)]-0x1],_0x1e79e8=_0x22aed['answers'][_0x276f43(0xbc5)](_0x22b22a=>_0x22b22a[_0x276f43(0x51c)]===_0x431015);_0x1e79e8&&_0x1e79e8[_0x276f43(0x2c8)]&&_0x3536cd++;});const _0x139140=_0x47e5ad>0x0?_0x3536cd/_0x47e5ad:0x0,_0x388cb8=_0x1a81a5>0x0?_0x4e17cc/_0x1a81a5-_0x4aa935/_0x1a81a5:0x0;_0x3d6adc[_0x4f5fe0]={'p':_0x139140,'r':_0x388cb8,'upperGroupResponders':_0x36cda0,'lowerGroupResponders':_0x451ce1};}),{'perQuestionStats':_0x3d6adc,'overallGroups':{'upperGroupNames':_0x1c0756,'lowerGroupNames':_0x46fb25}};}function drag(_0xb8f9b9){const _0x3775e3=_0x4414d4;if(draggedSvgElement){_0xb8f9b9[_0x3775e3(0x4a8)]();const _0x12b527=draggedSvgElement['ownerSVGElement'],_0x1ba282=getPointerPosition(_0x12b527,_0xb8f9b9),_0x57221f=_0x12b527['viewBox']['baseVal'];let _0x134cbb=_0x1ba282['x']-svgOffset['x'],_0x4587f3=_0x1ba282['y']-svgOffset['y'];const _0x262b1c=draggedSvgElement[_0x3775e3(0x933)]();_0x134cbb=Math['max'](_0x57221f['x'],Math[_0x3775e3(0x470)](_0x134cbb,_0x57221f['x']+_0x57221f[_0x3775e3(0x74f)]-_0x262b1c[_0x3775e3(0x74f)])),_0x4587f3=Math[_0x3775e3(0x682)](_0x57221f['y'],Math[_0x3775e3(0x470)](_0x4587f3,_0x57221f['y']+_0x57221f[_0x3775e3(0x99b)]-_0x262b1c[_0x3775e3(0x99b)])),draggedSvgElement['setAttributeNS'](null,'x',_0x134cbb),draggedSvgElement[_0x3775e3(0x9e9)](null,'y',_0x4587f3);}}function _0xbc6d(_0x480efa,_0xdb29e3){const _0x58bd65=_0x58bd();return _0xbc6d=function(_0xbc6d6,_0x55fb7b){_0xbc6d6=_0xbc6d6-0x127;let _0x5ea6a7=_0x58bd65[_0xbc6d6];return _0x5ea6a7;},_0xbc6d(_0x480efa,_0xdb29e3);}function endDrag(_0xb34a2f){draggedSvgElement=null;}function handleSvgEditClick(_0x330a28){const _0x370596=_0x4414d4;if(_0x330a28[_0x370596(0x8d0)][_0x370596(0xbeb)][_0x370596(0xa28)](_0x370596(0x6ab))){const _0x330e18=_0x330a28[_0x370596(0x8d0)][_0x370596(0x3b5)][_0x370596(0x2f3)],_0x547621=_0x330a28['currentTarget'],_0x222bc9=_0x547621[_0x370596(0x2d5)]('#'+_0x330e18);_0x222bc9&&_0x222bc9[_0x370596(0x303)](),_0x330a28[_0x370596(0x8d0)][_0x370596(0x303)]();}}function handleEditQuestion(_0x495411){const _0x12c36b=_0x4414d4,_0x2209ea=_0x495411[_0x12c36b(0x5b4)],_0xfa1afa=_0x2209ea[_0x12c36b(0x3b5)][_0x12c36b(0x5d7)],_0x585658=currentQuizData['questions'][_0xfa1afa],_0x2831be=document[_0x12c36b(0x651)](_0x12c36b(0x97c)+_0xfa1afa),_0x14dfd8=document[_0x12c36b(0x651)]('q-explanation-'+_0xfa1afa),_0x50ab6f=document[_0x12c36b(0x651)](_0x12c36b(0xbb0)+_0xfa1afa);if(_0x2209ea[_0x12c36b(0x61b)][_0x12c36b(0x6ed)](_0x12c36b(0x5e8))){_0x2209ea['innerHTML']=_0x12c36b(0x72b),_0x2209ea[_0x12c36b(0x66b)]=_0x12c36b(0xc20);if(_0x2831be)_0x2831be[_0x12c36b(0x12c)]=!![];if(_0x14dfd8)_0x14dfd8[_0x12c36b(0x12c)]=!![];if(_0x50ab6f){const _0x1e5298=_0x50ab6f[_0x12c36b(0x2d5)](_0x12c36b(0x33f));if(_0x1e5298){const _0x15d3d2=_0x1e5298[_0x12c36b(0x514)](_0x12c36b(0x7b0));_0x15d3d2[_0x12c36b(0x15f)]((_0x1aae9f,_0x2b9be3)=>{const _0xb91e5e=_0x12c36b,_0x4038c8='editable-text-'+_0xfa1afa+'-'+_0x2b9be3;_0x1aae9f['id']=_0x4038c8,_0x1aae9f[_0xb91e5e(0xbeb)][_0xb91e5e(0x7bd)](_0xb91e5e(0x878)),_0x1aae9f[_0xb91e5e(0x5ce)]['cursor']=_0xb91e5e(0xa7a);const _0x452b6c=document[_0xb91e5e(0x534)](_0xb91e5e(0x143),_0xb91e5e(0x896)),_0x1f1dd9=_0x1aae9f[_0xb91e5e(0x933)]();_0x452b6c[_0xb91e5e(0x587)]('cx',String(_0x1f1dd9['x']+_0x1f1dd9['width']+0x5)),_0x452b6c['setAttribute']('cy',String(_0x1f1dd9['y']+_0x1f1dd9[_0xb91e5e(0x99b)]/0x2-0x5)),_0x452b6c[_0xb91e5e(0x587)]('r','5'),_0x452b6c['setAttribute'](_0xb91e5e(0xb8f),'red'),_0x452b6c[_0xb91e5e(0x587)](_0xb91e5e(0x88d),_0xb91e5e(0x6ab)),_0x452b6c['dataset']['targetId']=_0x4038c8,_0x1aae9f[_0xb91e5e(0x9b0)](_0x452b6c);}),_0x1e5298[_0x12c36b(0x7bb)](_0x12c36b(0xbf0),startDrag),_0x1e5298[_0x12c36b(0x7bb)](_0x12c36b(0x38c),drag),_0x1e5298[_0x12c36b(0x7bb)]('mouseup',endDrag),_0x1e5298[_0x12c36b(0x7bb)](_0x12c36b(0x290),endDrag),_0x1e5298[_0x12c36b(0x7bb)]('touchstart',startDrag,{'passive':![]}),_0x1e5298['addEventListener'](_0x12c36b(0x204),drag,{'passive':![]}),_0x1e5298[_0x12c36b(0x7bb)]('touchend',endDrag),_0x1e5298[_0x12c36b(0x7bb)](_0x12c36b(0x2a0),endDrag),_0x1e5298[_0x12c36b(0x7bb)](_0x12c36b(0x530),handleSvgEditClick);}}if(_0x2831be)_0x2831be['focus']();}else{_0x2209ea[_0x12c36b(0x61b)]=_0x12c36b(0x30e),_0x2209ea[_0x12c36b(0x66b)]=_0x12c36b(0xbbc);if(_0x2831be){_0x2831be[_0x12c36b(0x12c)]=![];const _0x312ff3=_0x585658[_0x12c36b(0xc2f)]||currentQuizData[_0x12c36b(0x76d)];_0x312ff3===_0x12c36b(0x572)?_0x585658['stem']=_0x2831be[_0x12c36b(0x64a)]['substring'](_0x2831be['innerText']['indexOf']('.')+0x2)[_0x12c36b(0x4fe)]():_0x585658[_0x12c36b(0x364)]=_0x2831be['innerText'][_0x12c36b(0x25f)](_0x2831be[_0x12c36b(0x64a)][_0x12c36b(0x959)]('.')+0x2)[_0x12c36b(0x4fe)]();}_0x14dfd8&&(_0x14dfd8['contentEditable']=![],_0x585658['explanation']=_0x14dfd8[_0x12c36b(0x64a)]);if(_0x50ab6f){const _0x1906db=_0x50ab6f[_0x12c36b(0x2d5)](_0x12c36b(0x33f));if(_0x1906db){const _0xd3bfef=_0x1906db['cloneNode'](!![]);_0xd3bfef[_0x12c36b(0x514)](_0x12c36b(0x870))['forEach'](_0x3f1006=>_0x3f1006[_0x12c36b(0x303)]()),_0xd3bfef[_0x12c36b(0x514)](_0x12c36b(0x841))[_0x12c36b(0x15f)](_0x429c4d=>{const _0x3f6a1c=_0x12c36b;_0x429c4d['classList'][_0x3f6a1c(0x303)](_0x3f6a1c(0x878)),_0x429c4d[_0x3f6a1c(0x5ce)][_0x3f6a1c(0x225)]=_0x3f6a1c(0x16d),_0x429c4d[_0x3f6a1c(0x22d)]('id');}),_0x585658[_0x12c36b(0x1ea)]=_0xd3bfef[_0x12c36b(0x9ec)],_0x1906db['removeEventListener'](_0x12c36b(0xbf0),startDrag),_0x1906db[_0x12c36b(0x3ee)](_0x12c36b(0x38c),drag),_0x1906db[_0x12c36b(0x3ee)](_0x12c36b(0x18e),endDrag),_0x1906db[_0x12c36b(0x3ee)]('mouseleave',endDrag),_0x1906db[_0x12c36b(0x3ee)](_0x12c36b(0x4dd),startDrag),_0x1906db[_0x12c36b(0x3ee)](_0x12c36b(0x204),drag),_0x1906db['removeEventListener'](_0x12c36b(0x629),endDrag),_0x1906db['removeEventListener'](_0x12c36b(0x2a0),endDrag),_0x1906db[_0x12c36b(0x3ee)](_0x12c36b(0x530),handleSvgEditClick),_0x1906db[_0x12c36b(0x514)](_0x12c36b(0x870))['forEach'](_0x1ee941=>_0x1ee941[_0x12c36b(0x303)]()),_0x1906db[_0x12c36b(0x514)](_0x12c36b(0x841))[_0x12c36b(0x15f)](_0x69a1bd=>{const _0x502ee1=_0x12c36b;_0x69a1bd[_0x502ee1(0xbeb)]['remove'](_0x502ee1(0x878)),_0x69a1bd[_0x502ee1(0x5ce)][_0x502ee1(0x225)]=_0x502ee1(0x16d);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x5e4f57){const _0x2e6f18=_0x4414d4,_0x531b7a=document[_0x2e6f18(0x651)](_0x2e6f18(0x9b4)),_0x139751=document[_0x2e6f18(0x651)]('quiz-editor-questions-container');_0x139751[_0x2e6f18(0x61b)]=_0x2e6f18(0x77a),_0x531b7a['classList']['remove']('hidden');try{const _0x44fee4=doc(db,_0x2e6f18(0x763)+appId+_0x2e6f18(0x2cd),_0x5e4f57),_0x190990=await getDoc(_0x44fee4);if(!_0x190990[_0x2e6f18(0x523)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x5e4f57,..._0x190990[_0x2e6f18(0x213)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x570277){console[_0x2e6f18(0xb95)]('Error\x20opening\x20quiz\x20editor:',_0x570277),showMessage(_0x2e6f18(0x79f)),_0x531b7a[_0x2e6f18(0xbeb)][_0x2e6f18(0x7bd)](_0x2e6f18(0x6ca));}}function renderQuizEditor(_0x1ae7ec){const _0x273d39=_0x4414d4;document[_0x273d39(0x651)](_0x273d39(0xa15))['value']=_0x1ae7ec['topic'];const _0xadf2a=document[_0x273d39(0x651)](_0x273d39(0x655));let _0x5e8bef=_0x1ae7ec[_0x273d39(0x132)][_0x273d39(0xb6a)]((_0x149c67,_0x4d7a71)=>{const _0x5357b7=_0x273d39;let _0x268727='';const _0x3ca5b1=_0x149c67['questionType']||_0x1ae7ec[_0x5357b7(0x76d)];switch(_0x3ca5b1){case _0x5357b7(0x2c6):const _0x5433ae=(_0x149c67[_0x5357b7(0xb4a)]||[])[_0x5357b7(0xb6a)]((_0x3c0660,_0x3f579f)=>_0x5357b7(0x34d)+_0x4d7a71+_0x5357b7(0x914)+_0x3f579f+'\x22\x20'+(_0x3f579f===_0x149c67['correctAnswerIndex']?_0x5357b7(0x173):'')+_0x5357b7(0x5de)+_0x3c0660+_0x5357b7(0x8d3))[_0x5357b7(0x254)]('');_0x268727=_0x5357b7(0x474)+_0x5433ae+_0x5357b7(0x652);break;case _0x5357b7(0x808):_0x268727='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x149c67[_0x5357b7(0xb5f)]||'')+_0x5357b7(0xae5);break;case _0x5357b7(0x26d):_0x268727='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x4d7a71+_0x5357b7(0x379)+(_0x149c67[_0x5357b7(0x294)]===!![]?'checked':'')+_0x5357b7(0xba7)+_0x4d7a71+'\x22\x20value=\x22false\x22\x20'+(_0x149c67[_0x5357b7(0x294)]===![]?_0x5357b7(0x173):'')+_0x5357b7(0x1b8);break;case _0x5357b7(0x572):_0x268727='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x149c67[_0x5357b7(0x3dc)]||'')+_0x5357b7(0x3a9);break;}const _0x482603=_0x149c67[_0x5357b7(0x364)]||_0x149c67[_0x5357b7(0x610)]||'';return'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x4d7a71+_0x5357b7(0xa8c)+_0x3ca5b1+_0x5357b7(0x244)+(_0x4d7a71+0x1)+'\x20('+_0x3ca5b1+_0x5357b7(0x3cb)+_0x482603+_0x5357b7(0x451)+_0x268727+_0x5357b7(0x755);})[_0x273d39(0x254)]('');_0xadf2a['innerHTML']=_0x5e8bef,_0xadf2a[_0x273d39(0x514)]('.ai-fix-question-btn')[_0x273d39(0x15f)](_0x131311=>{const _0x24d2c9=_0x273d39;_0x131311[_0x24d2c9(0x7bb)](_0x24d2c9(0x530),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x452e9b){const _0x5c0d2b=_0x4414d4,_0x5c9b72=_0x452e9b[_0x5c0d2b(0x5b4)],_0x440bef=_0x5c9b72[_0x5c0d2b(0xb9a)](_0x5c0d2b(0x7fc));if(!_0x440bef)return;const _0x4d5c78=parseInt(_0x440bef[_0x5c0d2b(0x3b5)][_0x5c0d2b(0xc28)],0xa);if(isNaN(_0x4d5c78)||!currentEditingQuizData[_0x5c0d2b(0x132)][_0x4d5c78]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x2aaab2=currentEditingQuizData[_0x5c0d2b(0x132)][_0x4d5c78];_0x5c9b72[_0x5c0d2b(0x61b)]=_0x5c0d2b(0x9fc),_0x5c9b72[_0x5c0d2b(0x993)]=!![];const _0x40cbaf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON[_0x5c0d2b(0x177)](_0x2aaab2)+_0x5c0d2b(0xa7f);let _0x236376;const _0x364c0d=_0x2aaab2[_0x5c0d2b(0xc2f)]||currentEditingQuizData[_0x5c0d2b(0x76d)];switch(_0x364c0d){case'short_answer':_0x236376={'type':_0x5c0d2b(0x7d7),'properties':{'questionText':{'type':_0x5c0d2b(0x616)},'idealAnswer':{'type':_0x5c0d2b(0x616)},'explanation':{'type':_0x5c0d2b(0x616)},'imageCode':{'type':'STRING'}},'required':[_0x5c0d2b(0x364),_0x5c0d2b(0xb5f),'explanation']};break;case'multiple_choice':default:_0x236376={'type':_0x5c0d2b(0x7d7),'properties':{'questionText':{'type':_0x5c0d2b(0x616)},'options':{'type':_0x5c0d2b(0x4d4),'items':{'type':_0x5c0d2b(0x616)}},'correctAnswerIndex':{'type':_0x5c0d2b(0x345)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5c0d2b(0x616)}},'required':[_0x5c0d2b(0x364),_0x5c0d2b(0xb4a),_0x5c0d2b(0x74c),_0x5c0d2b(0x27d)]};break;}try{let _0x280bdf=await callAnalysisApi(_0x40cbaf,_0x236376);_0x280bdf[_0x5c0d2b(0xb4a)]&&Array[_0x5c0d2b(0xa12)](_0x280bdf['options'])&&(_0x280bdf[_0x5c0d2b(0xb4a)]=_0x280bdf[_0x5c0d2b(0xb4a)]['map'](_0x158682=>typeof _0x158682===_0x5c0d2b(0x8ca)?_0x158682['replace'](/S(\s*[\d_]+?\s*)S/g,_0x5c0d2b(0x83f)):_0x158682)),_0x2aaab2[_0x5c0d2b(0x1ea)]&&_0x2aaab2['imageCode'][_0x5c0d2b(0x6ed)](_0x5c0d2b(0x8ec))&&(_0x280bdf[_0x5c0d2b(0x1ea)]=''),currentEditingQuizData[_0x5c0d2b(0x132)][_0x4d5c78]={..._0x2aaab2,..._0x280bdf},renderQuizEditor(currentEditingQuizData),showMessage(_0x5c0d2b(0x2e4));}catch(_0x10c92d){console[_0x5c0d2b(0xb95)](_0x5c0d2b(0x4b0),_0x10c92d),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x1ff4e9=_0x4414d4,_0x439027=document[_0x1ff4e9(0x651)](_0x1ff4e9(0xa08));_0x439027[_0x1ff4e9(0x993)]=!![],_0x439027[_0x1ff4e9(0x61b)]=_0x1ff4e9(0x54e);try{const _0x2d2248=document[_0x1ff4e9(0x651)](_0x1ff4e9(0xa15))[_0x1ff4e9(0x3b7)],_0x37daeb=document[_0x1ff4e9(0x514)](_0x1ff4e9(0x7fc));let _0x29af85=[];const _0x475278=Array[_0x1ff4e9(0x65a)](_0x37daeb)['map']((_0x21a1d2,_0x4fc138)=>{const _0x1930b2=_0x1ff4e9,_0x46b69e=_0x21a1d2[_0x1930b2(0x3b5)][_0x1930b2(0xa00)],_0x2fd4db=_0x21a1d2[_0x1930b2(0x2d5)](_0x1930b2(0xaa7))[_0x1930b2(0x3b7)][_0x1930b2(0xa71)](/\n/g,_0x1930b2(0xb38));let _0x432c31={'questionType':_0x46b69e};const _0x535281=currentEditingQuizData['questions'][_0x4fc138];switch(_0x46b69e){case'multiple_choice':_0x432c31[_0x1930b2(0x364)]=_0x2fd4db;const _0xbb951d=_0x21a1d2[_0x1930b2(0x514)]('input[type=\x22text\x22]');_0x432c31[_0x1930b2(0xb4a)]=Array[_0x1930b2(0x65a)](_0xbb951d)[_0x1930b2(0xb6a)](_0x3cbf61=>_0x3cbf61[_0x1930b2(0x3b7)]);const _0x1aa097=_0x21a1d2['querySelector']('input[type=\x22radio\x22]:checked');_0x432c31[_0x1930b2(0x74c)]=_0x1aa097?parseInt(_0x1aa097[_0x1930b2(0x3b7)]):0x0;break;case _0x1930b2(0x808):_0x432c31[_0x1930b2(0x364)]=_0x2fd4db,_0x432c31[_0x1930b2(0xb5f)]=_0x21a1d2[_0x1930b2(0x2d5)](_0x1930b2(0x4d6))[_0x1930b2(0x3b7)];break;case _0x1930b2(0x26d):_0x432c31['questionText']=_0x2fd4db;const _0x715225=_0x21a1d2[_0x1930b2(0x2d5)]('input[type=\x22radio\x22]:checked');_0x432c31[_0x1930b2(0x294)]=_0x715225?_0x715225[_0x1930b2(0x3b7)]===_0x1930b2(0x7a0):!![];break;case _0x1930b2(0x572):_0x432c31[_0x1930b2(0x610)]=_0x2fd4db;const _0x329a29=_0x21a1d2[_0x1930b2(0x2d5)](_0x1930b2(0x756));_0x432c31[_0x1930b2(0x3dc)]=_0x329a29?_0x329a29[_0x1930b2(0x3b7)]:'',_0x29af85['push'](_0x432c31['correctResponse']);break;default:_0x432c31[_0x1930b2(0x364)]=_0x2fd4db;break;}return{..._0x535281,..._0x432c31};});_0x29af85['length']>0x0&&_0x475278[_0x1ff4e9(0x15f)](_0x9739a=>{const _0x412234=_0x1ff4e9;_0x9739a['questionType']===_0x412234(0x572)&&(_0x9739a['allResponses']=_0x29af85);});const _0x174857=currentEditingQuizData['id'],_0x30c4bf=doc(db,'artifacts/'+appId+_0x1ff4e9(0x2cd),_0x174857);await updateDoc(_0x30c4bf,{'topic':_0x2d2248,'questions':_0x475278}),document['getElementById'](_0x1ff4e9(0x9b4))[_0x1ff4e9(0xbeb)][_0x1ff4e9(0x7bd)](_0x1ff4e9(0x6ca)),showMessage(_0x1ff4e9(0x7e2),()=>initiateReGradeProcess(_0x174857));}catch(_0x1a51e1){console['error'](_0x1ff4e9(0xa2f),_0x1a51e1),showMessage(_0x1ff4e9(0x1c4));}finally{_0x439027[_0x1ff4e9(0x993)]=![],_0x439027[_0x1ff4e9(0x61b)]=_0x1ff4e9(0x701);}}async function initiateReGradeProcess(_0x761b05){const _0x1a5c58=_0x4414d4;showMessage(_0x1a5c58(0x3a0));try{const _0x41920c=doc(db,_0x1a5c58(0x763)+appId+_0x1a5c58(0x2cd),_0x761b05),_0x154541=await getDoc(_0x41920c);if(!_0x154541[_0x1a5c58(0x523)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x549f53={'id':_0x761b05,..._0x154541[_0x1a5c58(0x213)]()},_0x12f3d7=collection(db,_0x1a5c58(0x763)+appId+_0x1a5c58(0x2cd),_0x761b05,_0x1a5c58(0x4d2)),_0x3205b4=await getDocs(_0x12f3d7);if(_0x3205b4['empty']){showMessage(_0x1a5c58(0x84d));return;}const _0x244667=_0x3205b4[_0x1a5c58(0x599)]['map'](_0x203852=>reGradeSingleSubmission(_0x203852,_0x549f53));await Promise[_0x1a5c58(0x7a2)](_0x244667);if(_0x549f53[_0x1a5c58(0x661)]){const _0x375b8e=doc(db,_0x1a5c58(0x763)+appId+_0x1a5c58(0x714),_0x549f53['projectId']),_0x16f934=await getDoc(_0x375b8e);if(_0x16f934[_0x1a5c58(0x523)]()&&_0x16f934['data']()[_0x1a5c58(0xb29)]){const _0x354922=_0x16f934[_0x1a5c58(0x213)]()[_0x1a5c58(0xb29)]['map'](_0x520adf=>updateStudentProfile(_0x549f53[_0x1a5c58(0x661)],_0x520adf));await Promise[_0x1a5c58(0x7a2)](_0x354922);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x3205b4[_0x1a5c58(0xc0e)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x436f37){console['error'](_0x1a5c58(0x75b),_0x436f37),showMessage(_0x1a5c58(0xaf2)+_0x436f37['message']);}}async function reGradeSingleSubmission(_0xed59da,_0x43102e){const _0x3a5c5f=_0x4414d4,_0x2cf59a=_0xed59da[_0x3a5c5f(0x213)](),_0x3e501b=_0x2cf59a[_0x3a5c5f(0x637)],_0x5893c7=_0x2cf59a[_0x3a5c5f(0x18d)]||[],_0x354f6d=[];for(const _0x49b37a of _0x5893c7){let _0x39c388=0x0,_0x3f8b1e=[],_0x15997c=0x0;const _0x43dea1=[];for(const _0xcc0953 of _0x49b37a['answers']){let _0x18b7f6;_0xcc0953[_0x3a5c5f(0xb3e)]&&(_0x18b7f6=_0x43102e[_0x3a5c5f(0x132)][_0x3a5c5f(0xbc5)](_0x4ba624=>_0x4ba624['id']===_0xcc0953[_0x3a5c5f(0xb3e)]));!_0x18b7f6&&_0xcc0953[_0x3a5c5f(0x51c)]&&(_0x18b7f6=_0x43102e['questions']['find'](_0x5938c3=>(_0x5938c3[_0x3a5c5f(0x610)]||_0x5938c3[_0x3a5c5f(0x364)])===_0xcc0953['originalQuestionText']));let _0x2f4b29=![];if(_0x18b7f6){const _0x3ab765=_0x18b7f6['questionType']||_0x43102e['quizType'];switch(_0x3ab765){case _0x3a5c5f(0x2c6):if(_0x18b7f6[_0x3a5c5f(0xb4a)]&&_0x18b7f6[_0x3a5c5f(0x74c)]<_0x18b7f6[_0x3a5c5f(0xb4a)][_0x3a5c5f(0x9fa)]){const _0x2c4473=_0x18b7f6[_0x3a5c5f(0xb4a)][_0x18b7f6[_0x3a5c5f(0x74c)]];_0x2f4b29=_0xcc0953['answerText']===_0x2c4473;}break;case _0x3a5c5f(0x26d):const _0x200101=_0xcc0953[_0x3a5c5f(0x821)]===!![]||_0xcc0953[_0x3a5c5f(0x821)]===_0x3a5c5f(0x7a0);_0x2f4b29=_0x200101===_0x18b7f6[_0x3a5c5f(0x294)];break;case'matching_item':_0x2f4b29=_0xcc0953[_0x3a5c5f(0x821)]===_0x18b7f6[_0x3a5c5f(0x3dc)];break;case _0x3a5c5f(0x808):_0x2f4b29=await gradeShortAnswer(_0xcc0953[_0x3a5c5f(0x821)],_0x18b7f6);break;default:_0x2f4b29=_0xcc0953['isCorrect'];break;}}if(_0x2f4b29){_0x39c388++,_0x15997c++;if(_0x15997c===0x3)_0x3f8b1e[_0x3a5c5f(0x464)](BADGES[_0x3a5c5f(0x22b)]['id']);}else _0x15997c=0x0;_0x43dea1[_0x3a5c5f(0x464)]({..._0xcc0953,'isCorrect':_0x2f4b29});}let _0x44c6bd=_0x39c388*0xa;_0x39c388===_0x43102e[_0x3a5c5f(0x132)][_0x3a5c5f(0x9fa)]&&(_0x44c6bd+=0x32,_0x3f8b1e[_0x3a5c5f(0x464)](BADGES['PERFECT_SCORE']['id'])),_0x354f6d['push']({..._0x49b37a,'score':_0x39c388,'points':_0x44c6bd,'badges':Array[_0x3a5c5f(0x65a)](new Set(_0x3f8b1e)),'answers':_0x43dea1});}const _0x1a4c23=_0x354f6d[_0x3a5c5f(0x9fa)]>0x0?_0x354f6d[0x0]['score']:0x0,_0x4fee85=Math[_0x3a5c5f(0x682)](..._0x354f6d['map'](_0x4a4db9=>_0x4a4db9[_0x3a5c5f(0x288)])),_0x35f5dc=_0x354f6d[_0x3a5c5f(0x9fa)]>0x0?_0x354f6d[_0x354f6d['length']-0x1][_0x3a5c5f(0x288)]:0x0,_0x46e642=_0x354f6d['length']>0x0?_0x354f6d[_0x354f6d[_0x3a5c5f(0x9fa)]-0x1][_0x3a5c5f(0x4d8)]:0x0,_0x5b5bd8=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x43102e['id']+_0x3a5c5f(0xa32),_0x3e501b);await updateDoc(_0x5b5bd8,{'attempts':_0x354f6d,'firstScore':_0x1a4c23,'bestScore':_0x4fee85,'latestScore':_0x35f5dc,'points':_0x46e642});}function cleanupQuizOptions(_0x28e2f3){const _0x614bdd=_0x4414d4,_0x3a4ae9=(_0x1c8bb9,_0xff9ef)=>_0xff9ef===0x0?_0x1c8bb9:_0x3a4ae9(_0xff9ef,_0x1c8bb9%_0xff9ef),_0x42de49=_0x33d13f=>{const _0x8d7fb4=_0xbc6d;if(typeof _0x33d13f!=='string')return null;_0x33d13f=_0x33d13f[_0x8d7fb4(0x4fe)]();const _0x51cde5=_0x33d13f[_0x8d7fb4(0x54a)](/[ /]/)[_0x8d7fb4(0x7c4)](_0x684d24=>_0x684d24!=='');if(_0x51cde5['length']===0x3)return parseInt(_0x51cde5[0x0])+parseInt(_0x51cde5[0x1])/parseInt(_0x51cde5[0x2]);else{if(_0x51cde5[_0x8d7fb4(0x9fa)]===0x2)return parseInt(_0x51cde5[0x0])/parseInt(_0x51cde5[0x1]);else{if(_0x51cde5[_0x8d7fb4(0x9fa)]===0x1&&!isNaN(_0x51cde5[0x0]))return parseFloat(_0x51cde5[0x0]);}}return null;},_0x252013=_0x706eb=>{const _0x3a8429=_0xbc6d;if(typeof _0x706eb!==_0x3a8429(0x8ca))return _0x706eb;const _0x2909a8=_0x706eb[_0x3a8429(0xc08)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x2909a8){const _0x41eb33=parseInt(_0x2909a8[0x1]);let _0x4f8745=parseInt(_0x2909a8[0x2]),_0x3cb225=parseInt(_0x2909a8[0x3]);const _0x1810d2=_0x3a4ae9(_0x4f8745,_0x3cb225);_0x4f8745/=_0x1810d2,_0x3cb225/=_0x1810d2;if(_0x3cb225===0x1)return(_0x41eb33+_0x4f8745)[_0x3a8429(0x332)]();return _0x41eb33+'\x20'+_0x4f8745+'/'+_0x3cb225;}return _0x706eb;};return _0x28e2f3&&_0x28e2f3[_0x614bdd(0x132)]&&_0x28e2f3[_0x614bdd(0x132)][_0x614bdd(0x15f)](_0x4d6db7=>{const _0x50b326=_0x614bdd;if(_0x4d6db7[_0x50b326(0xc2f)]===_0x50b326(0x2c6)&&_0x4d6db7['options']){const _0x5d47b2=new Map(),_0x261fc4=_0x4d6db7[_0x50b326(0xb4a)][_0x4d6db7[_0x50b326(0x74c)]];_0x4d6db7[_0x50b326(0xb4a)]['forEach'](_0x34b96b=>{const _0x49f5a4=_0x50b326,_0x406e5d=_0x252013(_0x34b96b),_0x1265df=_0x42de49(_0x406e5d);_0x1265df!==null&&!_0x5d47b2['has'](_0x1265df)&&_0x5d47b2[_0x49f5a4(0x151)](_0x1265df,_0x406e5d);}),_0x4d6db7[_0x50b326(0xb4a)]=Array[_0x50b326(0x65a)](_0x5d47b2[_0x50b326(0x329)]());const _0x13908c=_0x4d6db7[_0x50b326(0xb4a)][_0x50b326(0x500)](_0xec902a=>_0xec902a===_0x252013(_0x261fc4));_0x4d6db7[_0x50b326(0x74c)]=_0x13908c!==-0x1?_0x13908c:0x0;}}),_0x28e2f3;}function showGameStartConfirmationModal(_0x1c3b67,_0x7cb5c0,_0x224bbb){const _0x499c5a=_0x4414d4,_0x217a4f=document[_0x499c5a(0x651)](_0x499c5a(0x2d4));document['getElementById']('game-start-modal-title')[_0x499c5a(0xc23)]=_0x499c5a(0xb20)+_0x224bbb,document['getElementById'](_0x499c5a(0x4cd))[_0x499c5a(0x3b7)]=_0x1c3b67,document[_0x499c5a(0x651)](_0x499c5a(0x846))['value']=_0x7cb5c0,document[_0x499c5a(0x651)](_0x499c5a(0x238))[_0x499c5a(0x173)]=!![],_0x217a4f[_0x499c5a(0xbeb)]['remove'](_0x499c5a(0x6ca));}async function saveGameResultsAsSubmissions(_0x15d8ca){const _0x18e23f=_0x4414d4;console[_0x18e23f(0xaf0)](_0x18e23f(0x1bf),_0x15d8ca);const _0x3a7093=_0x15d8ca['quizId'];let _0x4a82a2=[];if(_0x15d8ca[_0x18e23f(0xb76)])_0x4a82a2=Object[_0x18e23f(0x27a)](_0x15d8ca[_0x18e23f(0xb76)])[_0x18e23f(0xb6a)](([_0x51f1b8,_0x1fbd12])=>({'name':_0x51f1b8,..._0x1fbd12}));else{if(_0x15d8ca['groups'])Object[_0x18e23f(0x329)](_0x15d8ca[_0x18e23f(0x760)])[_0x18e23f(0x15f)](_0x1c130b=>{const _0x30d324=_0x18e23f;_0x1c130b['members'][_0x30d324(0x15f)](_0xaaef2b=>{const _0x3eb634=_0x30d324;_0x4a82a2[_0x3eb634(0x464)]({'name':_0xaaef2b,'score':_0x1c130b[_0x3eb634(0x288)]});});});else _0x15d8ca[_0x18e23f(0x9cb)]&&Object[_0x18e23f(0x27a)](_0x15d8ca[_0x18e23f(0x9cb)])[_0x18e23f(0x15f)](([_0x5b215f,_0x53fb3f])=>{const _0x235597=_0x18e23f;_0x4a82a2[_0x235597(0x464)]({'name':_0x5b215f,..._0x53fb3f});});}if(_0x4a82a2['length']===0x0){console[_0x18e23f(0xaf0)](_0x18e23f(0xb14));return;}const _0x2309ed=_0x15d8ca[_0x18e23f(0x415)]?.['questions'][_0x18e23f(0x9fa)]||currentQuizData['questions'][_0x18e23f(0x9fa)],_0x370eb7=writeBatch(db);for(const _0x58eb63 of _0x4a82a2){const _0x2a7356=_0x58eb63[_0x18e23f(0x288)]||0x0,_0x3f057f=doc(db,_0x18e23f(0x763)+appId+'/public/data/quizzes/'+_0x3a7093+_0x18e23f(0xa32),_0x58eb63[_0x18e23f(0x815)]),_0x50e8a1=(_0x58eb63[_0x18e23f(0xc15)]||[])[_0x18e23f(0x7c4)](_0x23ff91=>_0x23ff91[_0x18e23f(0x2c8)])[_0x18e23f(0x9fa)],_0x218d23={'score':_0x50e8a1,'points':_0x2a7356,'badges':_0x58eb63[_0x18e23f(0x22c)]||[],'submittedAt':new Date()[_0x18e23f(0x759)](),'answers':(_0x58eb63[_0x18e23f(0xc15)]||[])[_0x18e23f(0xb6a)](_0x4fd40c=>({'questionId':_0x4fd40c[_0x18e23f(0xb3e)],'answer':_0x4fd40c[_0x18e23f(0x821)],'answerText':_0x4fd40c[_0x18e23f(0x6bd)],'isCorrect':_0x4fd40c[_0x18e23f(0x2c8)],'originalQuestionText':_0x4fd40c[_0x18e23f(0x51c)],'wasConfident':_0x4fd40c[_0x18e23f(0x8e9)]}))},_0x17655f=await getDoc(_0x3f057f),_0x5d7942=_0x17655f[_0x18e23f(0x523)]()?_0x17655f['data']():{},_0x4975b0=_0x5d7942[_0x18e23f(0x1a1)]||0x0,_0x312484=_0x5d7942['attempts']||[],_0x217c99={'studentName':_0x58eb63[_0x18e23f(0x815)],'totalQuestions':_0x2309ed,'attempts':arrayUnion(_0x218d23),'latestScore':_0x50e8a1,'points':_0x2a7356,'latestSubmittedAt':_0x218d23[_0x18e23f(0x2a4)],'bestScore':Math[_0x18e23f(0x682)](_0x4975b0,_0x50e8a1),'firstScore':_0x312484[_0x18e23f(0x9fa)]===0x0?_0x50e8a1:_0x5d7942[_0x18e23f(0x9d9)]||0x0};_0x370eb7['set'](_0x3f057f,_0x217c99,{'merge':!![]});}try{await _0x370eb7['commit'](),showMessage(_0x18e23f(0x8cc)+_0x4a82a2['length']+'\x20รายการ\x20สำเร็จ!');const _0x4fa3f0=_0x15d8ca[_0x18e23f(0x415)]?.[_0x18e23f(0x661)]||currentQuizData?.['projectId']||currentProjectId;if(_0x4fa3f0){const _0x33578c=[...new Set(_0x4a82a2[_0x18e23f(0xb6a)](_0x1d0265=>_0x1d0265[_0x18e23f(0x815)]))];for(const _0x4fd34e of _0x33578c){await updateStudentProfile(_0x4fa3f0,_0x4fd34e);}}}catch(_0x503b5e){console['error'](_0x18e23f(0x812),_0x503b5e),showMessage(_0x18e23f(0x439));}}async function saveQuiz(_0x3b2a00=null,_0x1e6d18=null){const _0x1fea4a=_0x4414d4,_0x524812=_0x3b2a00||currentProjectId;if(!_0x524812){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x1fea4a(0x132)]||!userId){showMessage(_0x1fea4a(0x5f6));return;}const _0x5d6d50=document[_0x1fea4a(0x651)](_0x1fea4a(0x90c));_0x5d6d50['disabled']=!![],_0x5d6d50['innerHTML']=_0x1fea4a(0x54e);const _0x2f2c14=document['getElementById'](_0x1fea4a(0x2ce))[_0x1fea4a(0x173)];let _0x1ad0f2=document['getElementById'](_0x1fea4a(0x330))['innerText'][_0x1fea4a(0x4fe)]();_0x2f2c14&&!_0x1ad0f2['startsWith']('(ก่อนเรียน)')&&(_0x1ad0f2='(ก่อนเรียน)\x20'+_0x1ad0f2);try{const _0x5dbb95={'resultsDisplay':document['getElementById'](_0x1fea4a(0xc32))[_0x1fea4a(0x3b7)],'shuffle':document['getElementById'](_0x1fea4a(0xaa8))['value'],'timerMode':document[_0x1fea4a(0x651)]('timer-mode-select')[_0x1fea4a(0x3b7)],'timerDuration':parseInt(document[_0x1fea4a(0x651)](_0x1fea4a(0x274))[_0x1fea4a(0x3b7)])||0xa,'passingScore':parseInt(document[_0x1fea4a(0x651)](_0x1fea4a(0x6ad))['value'])||0x0,'isAdaptive':document['getElementById']('adaptive-quiz-checkbox')['checked'],'loopUntilPass':document['getElementById'](_0x1fea4a(0x193))[_0x1fea4a(0x173)]},_0xe5674e=(currentQuizData[_0x1fea4a(0x132)]||[])[_0x1fea4a(0xb6a)]((_0xcd9b4d,_0x4d0c96)=>{const _0x48363b=_0x1fea4a,_0x450db6=document[_0x48363b(0x651)]('quiz-type-select')[_0x48363b(0x3b7)],_0x1d38e2={'id':'q_'+Date[_0x48363b(0xbcc)]()+'_'+_0x4d0c96,'questionText':_0xcd9b4d[_0x48363b(0x364)]||'','explanation':_0xcd9b4d[_0x48363b(0x27d)]||_0x48363b(0x21f),'questionType':_0xcd9b4d[_0x48363b(0xc2f)]||_0x450db6,'imageCode':_0xcd9b4d['imageCode']||null};return(_0x1d38e2['questionType']===_0x48363b(0x2c6)||_0x1d38e2[_0x48363b(0xc2f)]==='fill_in_with_choices'||_0x1d38e2[_0x48363b(0xc2f)]===_0x48363b(0x19f)&&_0xcd9b4d[_0x48363b(0xb4a)])&&(_0x1d38e2['options']=_0xcd9b4d[_0x48363b(0xb4a)]||[],_0x1d38e2[_0x48363b(0x74c)]=_0xcd9b4d[_0x48363b(0x74c)]!==undefined?_0xcd9b4d[_0x48363b(0x74c)]:0x0),(_0x1d38e2[_0x48363b(0xc2f)]===_0x48363b(0x808)||_0x1d38e2[_0x48363b(0xc2f)]==='fill_in_no_choices'||_0x1d38e2[_0x48363b(0xc2f)]===_0x48363b(0x19f)&&_0xcd9b4d[_0x48363b(0xb5f)])&&(_0x1d38e2[_0x48363b(0xb5f)]=_0xcd9b4d['idealAnswer']||''),_0x1d38e2[_0x48363b(0xc2f)]===_0x48363b(0x26d)&&(_0x1d38e2[_0x48363b(0x294)]=_0xcd9b4d[_0x48363b(0x294)]===!![]),_0x1d38e2['questionType']===_0x48363b(0x572)&&(_0x1d38e2[_0x48363b(0x610)]=_0xcd9b4d[_0x48363b(0x610)]||'',_0x1d38e2[_0x48363b(0x3dc)]=_0xcd9b4d[_0x48363b(0x3dc)]||'',_0x1d38e2[_0x48363b(0x67e)]=_0xcd9b4d[_0x48363b(0x67e)]||[]),_0x1d38e2;}),_0x3407f3={'topic':_0x1ad0f2,'quizType':currentQuizData[_0x1fea4a(0x76d)]||'multiple_choice','questions':_0xe5674e,'projectId':_0x524812,'createdBy':userId,'createdAt':new Date()[_0x1fea4a(0x759)](),'status':_0x1fea4a(0x712),'settings':_0x5dbb95,'quizMode':_0x2f2c14?_0x1fea4a(0x361):_0x1fea4a(0x52e),'pairedQuizId':null,'lessonPlan':null};let _0x127c51;while(!![]){_0x127c51=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();const _0xa2d084=await getDoc(doc(db,_0x1fea4a(0x763)+appId+_0x1fea4a(0x2cd),_0x127c51));if(!_0xa2d084[_0x1fea4a(0x523)]())break;}await setDoc(doc(db,_0x1fea4a(0x763)+appId+_0x1fea4a(0x2cd),_0x127c51),_0x3407f3);if(_0x1e6d18&&currentBlueprintProjectId){console['log'](_0x1fea4a(0xbc4)+_0x127c51+_0x1fea4a(0x9f2)+_0x1e6d18);try{const _0x58cb2d=doc(db,_0x1fea4a(0x763)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x58cb2d,{[_0x1fea4a(0x8df)+_0x1e6d18+'.linkedQuizIds']:arrayUnion(_0x127c51)});}catch(_0x125967){console[_0x1fea4a(0xb95)](_0x1fea4a(0xc37),_0x125967);}}currentQuizData[_0x1fea4a(0xb21)]=_0x5dbb95,currentQuizData['id']=_0x127c51;const _0x3e6305=document['getElementById'](_0x1fea4a(0x847));_0x3e6305[_0x1fea4a(0x61b)]=_0x1fea4a(0x48a)+_0x127c51+_0x1fea4a(0x98a),document[_0x1fea4a(0x651)](_0x1fea4a(0x291))[_0x1fea4a(0x7bb)]('click',()=>copyTextToClipboard(_0x127c51,_0x1fea4a(0xae2))),document[_0x1fea4a(0x651)]('start-live-race-generated-btn')['addEventListener'](_0x1fea4a(0x530),()=>handleStartLiveRace(_0x127c51)),document['getElementById'](_0x1fea4a(0x84f))[_0x1fea4a(0x7bb)](_0x1fea4a(0x530),()=>startPresentation(currentQuizData)),document[_0x1fea4a(0x651)](_0x1fea4a(0x92d))[_0x1fea4a(0x7bb)](_0x1fea4a(0x530),startAdminTest),showMessage(_0x1fea4a(0x452));}catch(_0x3ef73e){console['error'](_0x1fea4a(0x21b),_0x3ef73e),showMessage(_0x1fea4a(0x57b));}finally{_0x5d6d50[_0x1fea4a(0x993)]=![],_0x5d6d50['innerHTML']=_0x1fea4a(0x964);}}function promptForProjectAndSave(){const _0x32a7ac=_0x4414d4,_0x4a2fdf=document[_0x32a7ac(0x651)](_0x32a7ac(0x58b)),_0x464e2b=document[_0x32a7ac(0x651)](_0x32a7ac(0xbe3)),_0x2d82bc=_0x4a2fdf[_0x32a7ac(0x2d5)]('h3'),_0x5f45c7=document[_0x32a7ac(0x651)](_0x32a7ac(0xbfa));_0x2d82bc[_0x32a7ac(0xc23)]=_0x32a7ac(0xbb6),_0x5f45c7['textContent']='เลือกและบันทึก';allProjects[_0x32a7ac(0x9fa)]===0x0?(_0x464e2b[_0x32a7ac(0x61b)]=_0x32a7ac(0x9ed),_0x5f45c7[_0x32a7ac(0x993)]=!![]):(_0x464e2b['innerHTML']=allProjects[_0x32a7ac(0xb6a)](_0x1c975b=>_0x32a7ac(0x6ef)+_0x1c975b['id']+'\x22>'+_0x1c975b['projectName']+_0x32a7ac(0x433))[_0x32a7ac(0x254)](''),_0x5f45c7[_0x32a7ac(0x993)]=![]);_0x4a2fdf['classList'][_0x32a7ac(0x303)](_0x32a7ac(0x6ca));const _0x1b5ba1=()=>{const _0x2361a6=_0x32a7ac,_0x2db9c2=_0x464e2b[_0x2361a6(0x3b7)];_0x2db9c2?(currentProjectId=_0x2db9c2,_0x4a2fdf['classList'][_0x2361a6(0x7bd)](_0x2361a6(0x6ca)),saveQuiz(),_0x2d82bc[_0x2361a6(0xc23)]=_0x2361a6(0xa82),_0x5f45c7['textContent']=_0x2361a6(0x32f),_0x5f45c7[_0x2361a6(0x3ee)](_0x2361a6(0x530),_0x1b5ba1),_0x5f45c7[_0x2361a6(0x7bb)]('click',confirmMoveQuiz)):showMessage(_0x2361a6(0xbb1));};_0x5f45c7[_0x32a7ac(0x3ee)](_0x32a7ac(0x530),confirmMoveQuiz),_0x5f45c7[_0x32a7ac(0x7bb)](_0x32a7ac(0x530),_0x1b5ba1);}function copyTextToClipboard(_0x333471,_0x42b237){const _0x344f1d=_0x4414d4,_0x42b215=document[_0x344f1d(0x50d)](_0x344f1d(0xaa7));_0x42b215[_0x344f1d(0x3b7)]=_0x333471,_0x42b215[_0x344f1d(0x5ce)]['position']=_0x344f1d(0x941),_0x42b215[_0x344f1d(0x5ce)][_0x344f1d(0xadc)]='0',document[_0x344f1d(0xab6)][_0x344f1d(0x89c)](_0x42b215),_0x42b215[_0x344f1d(0xa87)](),_0x42b215[_0x344f1d(0x576)]();try{const _0x5d9513=document[_0x344f1d(0x7e0)](_0x344f1d(0xb78));showMessage(_0x5d9513?_0x42b237:_0x344f1d(0xb69));}catch(_0x7155c3){showMessage('คัดลอกไม่สำเร็จ'),console[_0x344f1d(0xb95)]('Copy\x20command\x20failed',_0x7155c3);}document[_0x344f1d(0xab6)][_0x344f1d(0xbc9)](_0x42b215);}function listenForProjectQuizzes(_0x213259){const _0x569362=_0x4414d4,_0x2285d0=collection(db,_0x569362(0x763)+appId+_0x569362(0x2cd)),_0x2bec85=query(_0x2285d0,where('projectId','==',_0x213259));unsubscribeQuizzesListener=onSnapshot(_0x2bec85,async _0x3c062f=>{const _0x490b3a=_0x569362;allQuizzes=_0x3c062f[_0x490b3a(0x599)]['map'](_0x62eda6=>({'id':_0x62eda6['id'],..._0x62eda6[_0x490b3a(0x213)]()})),renderQuizzes();},_0x2a9ea1=>{const _0x23b717=_0x569362;console[_0x23b717(0xb95)]('Error\x20fetching\x20project\x20quizzes:',_0x2a9ea1),document[_0x23b717(0x651)](_0x23b717(0x1b7))[_0x23b717(0x61b)]=_0x23b717(0x6dc);});}async function renderQuizzes(){const _0x2ac495=_0x4414d4,_0x2a13e6=document[_0x2ac495(0x651)](_0x2ac495(0x1b7)),_0x58b371=document[_0x2ac495(0x651)]('quiz-search-input')[_0x2ac495(0x3b7)][_0x2ac495(0x939)]();let _0x5e9af7;currentProjectId==='starred'?_0x5e9af7=starredQuizzes:_0x5e9af7=allQuizzes;let _0x5d7b42=_0x5e9af7[_0x2ac495(0x7c4)](_0xe61613=>_0xe61613[_0x2ac495(0x78b)][_0x2ac495(0x939)]()['includes'](_0x58b371));_0x5d7b42[_0x2ac495(0xa7e)]((_0x5c3869,_0x192d92)=>new Date(_0x192d92['createdAt'])-new Date(_0x5c3869[_0x2ac495(0x28d)]));if(_0x5d7b42[_0x2ac495(0x9fa)]===0x0){_0x2a13e6[_0x2ac495(0x61b)]=_0x2ac495(0x7ec);return;}const _0x327e34={},_0x4e14b0=_0x5d7b42[_0x2ac495(0xb6a)](async _0x602871=>{const _0x3c3d27=_0x2ac495,_0x144c90=collection(db,_0x3c3d27(0x763)+appId+_0x3c3d27(0x2b2)+_0x602871['id']+_0x3c3d27(0xa32)),_0x72c7f=await getDocs(_0x144c90);_0x327e34[_0x602871['id']]=_0x72c7f[_0x3c3d27(0xc0e)];});await Promise['all'](_0x4e14b0);let _0x41838a='';_0x5d7b42[_0x2ac495(0x15f)](_0x23f492=>{const _0x19896e=_0x2ac495,_0x5ee757=_0x327e34[_0x23f492['id']]||0x0,_0x3b81d1=_0x23f492[_0x19896e(0x7f9)]||'active',_0x1b3d86=_0x23f492[_0x19896e(0xb21)]?.[_0x19896e(0x3af)]||_0x19896e(0xb35);let _0x5437bf='',_0x565203='';const _0x446f7c=new Date();let _0xb7ea4f=_0x3b81d1;if(_0x3b81d1===_0x19896e(0x157)){const _0x36597b=_0x23f492[_0x19896e(0x355)]?new Date(_0x23f492[_0x19896e(0x355)]):null,_0x5368d4=_0x23f492[_0x19896e(0xbb5)]?new Date(_0x23f492[_0x19896e(0xbb5)]):null;if(_0x5368d4&&_0x446f7c>_0x5368d4)_0xb7ea4f=_0x19896e(0x917);else _0x36597b&&_0x446f7c<_0x36597b?_0xb7ea4f='scheduled_pending':_0xb7ea4f=_0x19896e(0x712);}switch(_0xb7ea4f){case _0x19896e(0x917):_0x5437bf='ปิดใช้งาน',_0x565203='text-red-700\x20bg-red-100';break;case _0x19896e(0x6e6):_0x5437bf='รอเปิด',_0x565203='text-blue-700\x20bg-blue-100';break;case _0x19896e(0x712):_0x5437bf=_0x1b3d86!=='none'?_0x19896e(0x8dc):_0x19896e(0x44f),_0x565203=_0x19896e(0x9c3);break;default:_0x5437bf='ตั้งเวลา\x20(เปิด)',_0x565203='text-green-700\x20bg-green-100';break;}let _0x7a213b='';const _0x1e5ba9={'day':_0x19896e(0x828),'month':_0x19896e(0x828),'year':_0x19896e(0x2d0),'hour':'2-digit','minute':_0x19896e(0x828),'hour12':![]};if(_0x3b81d1===_0x19896e(0x157)){if(_0x23f492[_0x19896e(0x355)])_0x7a213b+=_0x19896e(0x8b0)+new Date(_0x23f492[_0x19896e(0x355)])[_0x19896e(0xab0)](_0x19896e(0x276),_0x1e5ba9)+_0x19896e(0x630);if(_0x23f492[_0x19896e(0xbb5)])_0x7a213b+=_0x19896e(0x749)+new Date(_0x23f492[_0x19896e(0xbb5)])['toLocaleString']('th-TH',_0x1e5ba9)+_0x19896e(0x630);}let _0x3b2aa7='';if(_0x23f492[_0x19896e(0x5a7)]){const _0x25746f=allQuizzes[_0x19896e(0xbc5)](_0x56ed76=>_0x56ed76['id']===_0x23f492['pairedQuizId']);if(_0x25746f){let _0x271a88,_0x1e3449;new Date(_0x23f492['createdAt'])<new Date(_0x25746f['createdAt'])?(_0x271a88=_0x23f492['id'],_0x1e3449=_0x25746f['id']):(_0x271a88=_0x25746f['id'],_0x1e3449=_0x23f492['id']),_0x3b2aa7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1e3449+_0x19896e(0xb40)+_0x271a88+_0x19896e(0x4c6);}}else _0x23f492[_0x19896e(0x79e)]===_0x19896e(0x361)&&(_0x3b2aa7+=_0x19896e(0x694)+_0x23f492['id']+_0x19896e(0x4c7));if(_0x23f492[_0x19896e(0x79e)]===_0x19896e(0x361)&&_0x5ee757>0x0)_0x3b2aa7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x23f492['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x23f492[_0x19896e(0x5a7)]&&_0x23f492[_0x19896e(0x79e)]!==_0x19896e(0x361)&&_0x5ee757>0x0&&(_0x3b2aa7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x23f492['id']+_0x19896e(0xb66));let _0x5889f0='';_0x23f492[_0x19896e(0x5a7)]?_0x5889f0=_0x19896e(0xafb)+_0x23f492['id']+_0x19896e(0x3aa):_0x5889f0=_0x19896e(0xafb)+_0x23f492['id']+_0x19896e(0x278),_0x41838a+=_0x19896e(0x5e6)+_0x23f492['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x23f492[_0x19896e(0x78b)]+_0x19896e(0x74a)+_0x23f492['questions'][_0x19896e(0x9fa)]+_0x19896e(0x566)+new Date(_0x23f492[_0x19896e(0x28d)])[_0x19896e(0xab0)](_0x19896e(0x276))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x5ee757+_0x19896e(0x2d2)+_0x7a213b+_0x19896e(0x86f)+_0x565203+'\x22>'+_0x5437bf+_0x19896e(0x5f1)+_0x23f492['id']+_0x19896e(0x34a)+_0x23f492['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x23f492[_0x19896e(0xb5d)]?_0x19896e(0xc36):'far\x20fa-star')+_0x19896e(0x4b9)+_0x3b2aa7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x23f492['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x23f492['id']+_0x19896e(0x8ab)+_0x23f492['id']+_0x19896e(0x97f)+_0x23f492['id']+_0x19896e(0x7ed)+_0x23f492['id']+_0x19896e(0x286)+_0x23f492['id']+_0x19896e(0xb00)+_0x23f492['id']+_0x19896e(0x3bd)+_0x23f492[_0x19896e(0x78b)]+_0x19896e(0x234)+_0x23f492['id']+_0x19896e(0xaef)+_0x23f492['id']+_0x19896e(0x508)+_0x5889f0+_0x19896e(0x142)+_0x23f492['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x23f492['id']+_0x19896e(0x334)+_0x23f492['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x23f492['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x23f492['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x23f492['id']+_0x19896e(0x810)+_0x23f492['id']+_0x19896e(0x942)+_0x23f492['id']+_0x19896e(0x3bd)+_0x23f492[_0x19896e(0x78b)]+_0x19896e(0x947)+_0x23f492['id']+_0x19896e(0x248);}),_0x2a13e6[_0x2ac495(0x61b)]=_0x41838a,document[_0x2ac495(0x514)](_0x2ac495(0x1ab))[_0x2ac495(0x15f)](_0x3389ae=>{const _0x2473dd=_0x2ac495;_0x3389ae[_0x2473dd(0x7bb)](_0x2473dd(0x530),()=>{const _0x699742=_0x2473dd,_0x5a274a=_0x3389ae[_0x699742(0x3b5)][_0x699742(0x8c6)];showQuizDetailView(_0x5a274a);});});}async function handleUnpairQuiz(_0x53a6f2){const _0x30a46b=_0x4414d4,_0x1e5e3f=allQuizzes[_0x30a46b(0xbc5)](_0x41812=>_0x41812['id']===_0x53a6f2);if(!_0x1e5e3f||!_0x1e5e3f[_0x30a46b(0x5a7)]){showMessage(_0x30a46b(0x239));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x51cd2e=_0x30a46b;try{const _0x4c98a9=doc(db,'artifacts/'+appId+_0x51cd2e(0x2cd),_0x53a6f2),_0x3f0a80=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1e5e3f[_0x51cd2e(0x5a7)]),_0x23c022=writeBatch(db);_0x23c022[_0x51cd2e(0x219)](_0x4c98a9,{'pairedQuizId':null}),_0x23c022[_0x51cd2e(0x219)](_0x3f0a80,{'pairedQuizId':null}),await _0x23c022[_0x51cd2e(0x56c)](),showMessage(_0x51cd2e(0x3f3));}catch(_0x519f04){console[_0x51cd2e(0xb95)](_0x51cd2e(0x62e),_0x519f04),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x2ba47c,_0xe1c99){const _0x307164=_0x4414d4,_0xe52550=window[_0x307164(0x754)]('','_blank'),_0x48a2dd=_0x307164(0x2fc)+_0xe1c99[_0x307164(0x78b)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0xe1c99[_0x307164(0x78b)]+_0x307164(0x671)+_0x2ba47c['learningGaps']['map'](_0x44f0eb=>_0x307164(0x81e)+_0x44f0eb+_0x307164(0x792))['join']('')+_0x307164(0x99f)+_0x2ba47c[_0x307164(0x656)]+_0x307164(0xa21)+_0x2ba47c[_0x307164(0x23c)][_0x307164(0xb6a)](_0x4e81ab=>_0x307164(0x68f)+_0x4e81ab[_0x307164(0x96c)]+_0x307164(0xabc)+_0x4e81ab['solution']+_0x307164(0x919))[_0x307164(0x254)]('')+_0x307164(0x9f3);_0xe52550[_0x307164(0x2c2)]['write'](_0x48a2dd),_0xe52550['document'][_0x307164(0x6b5)](),_0xe52550[_0x307164(0x14d)]=function(){setTimeout(()=>{const _0xacd79=_0xbc6d;_0xe52550[_0xacd79(0xc17)]();},0x3e8);};}async function handleAiFixFormula(_0x248471){const _0x2312b0=_0x4414d4,_0xc1af4b=document[_0x2312b0(0x2d5)](_0x2312b0(0x9ff)+_0x248471+'\x22]');if(!_0xc1af4b)return;const _0x31cd76=_0xc1af4b[_0x2312b0(0x3b5)]['qType'],_0x2a0aeb=_0xc1af4b[_0x2312b0(0x2d5)](_0x2312b0(0x7a4));let _0x5642f6={'question':_0xc1af4b['querySelector']('textarea')[_0x2312b0(0x3b7)]};switch(_0x31cd76){case _0x2312b0(0x2c6):_0x5642f6['options']=Array[_0x2312b0(0x65a)](_0xc1af4b[_0x2312b0(0x514)]('input[type=\x22text\x22]'))['map'](_0x699281=>_0x699281[_0x2312b0(0x3b7)]);break;case'short_answer':_0x5642f6[_0x2312b0(0xb5f)]=_0xc1af4b[_0x2312b0(0x2d5)]('.ideal-answer-input')[_0x2312b0(0x3b7)];break;case'matching_item':_0x5642f6[_0x2312b0(0x3dc)]=_0xc1af4b[_0x2312b0(0x2d5)](_0x2312b0(0x756))['value'];break;}_0x2a0aeb[_0x2312b0(0x61b)]=_0x2312b0(0x9fc),_0x2a0aeb['disabled']=!![];try{const _0x1b6c1f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x2312b0(0x177)](_0x5642f6)+_0x2312b0(0x55f),_0x26f93b={'type':'OBJECT','properties':{'fixedData':{'type':_0x2312b0(0x7d7),'properties':{'question':{'type':_0x2312b0(0x616)},'options':{'type':_0x2312b0(0x4d4),'items':{'type':'STRING'}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x2312b0(0x616)}},'required':[_0x2312b0(0x96c)]}},'required':[_0x2312b0(0x91d)]},_0x2f2a90=await callAnalysisApi(_0x1b6c1f,_0x26f93b);if(_0x2f2a90&&_0x2f2a90[_0x2312b0(0x91d)]){const _0x102a4d=_0x2f2a90[_0x2312b0(0x91d)];_0xc1af4b[_0x2312b0(0x2d5)](_0x2312b0(0xaa7))[_0x2312b0(0x3b7)]=_0x102a4d[_0x2312b0(0x96c)]||_0x5642f6[_0x2312b0(0x96c)];switch(_0x31cd76){case'multiple_choice':_0x102a4d['options']&&_0x102a4d[_0x2312b0(0xb4a)][_0x2312b0(0x9fa)]>0x0&&_0xc1af4b[_0x2312b0(0x514)](_0x2312b0(0x95e))[_0x2312b0(0x15f)]((_0x1b3fb9,_0x120975)=>{const _0x7d1c46=_0x2312b0;_0x1b3fb9['value']=_0x102a4d['options'][_0x120975]||_0x5642f6[_0x7d1c46(0xb4a)][_0x120975];});break;case'short_answer':_0xc1af4b[_0x2312b0(0x2d5)]('.ideal-answer-input')['value']=_0x102a4d[_0x2312b0(0xb5f)]||_0x5642f6[_0x2312b0(0xb5f)];break;case'matching_item':_0xc1af4b[_0x2312b0(0x2d5)](_0x2312b0(0x756))[_0x2312b0(0x3b7)]=_0x102a4d[_0x2312b0(0x3dc)]||_0x5642f6[_0x2312b0(0x3dc)];break;}if(_0x5642f6[_0x2312b0(0x96c)]!==_0x102a4d[_0x2312b0(0x96c)])try{const _0x4433ac=collection(db,'artifacts/'+appId+_0x2312b0(0xae7));await addDoc(_0x4433ac,{'broken':_0x5642f6[_0x2312b0(0x96c)],'fixed':_0x102a4d[_0x2312b0(0x96c)],'createdAt':serverTimestamp()});}catch(_0x1248ea){console[_0x2312b0(0xb95)](_0x2312b0(0x93b),_0x1248ea);}showMessage(_0x2312b0(0x7ab));}else throw new Error(_0x2312b0(0xbb4));}catch(_0x451fa1){console[_0x2312b0(0xb95)](_0x2312b0(0x258),_0x451fa1),showMessage(_0x2312b0(0x301));}finally{_0x2a0aeb['innerHTML']=_0x2312b0(0x4ce),_0x2a0aeb[_0x2312b0(0x993)]=![];}}async function handleGenerateLessonPlan(_0x1e7c5d){const _0x2b996a=_0x4414d4;showMessage(_0x2b996a(0x55d));try{const _0x144c71=doc(db,_0x2b996a(0x763)+appId+_0x2b996a(0x2cd),_0x1e7c5d),_0x4aef1f=await getDoc(_0x144c71);if(!_0x4aef1f[_0x2b996a(0x523)]())throw new Error(_0x2b996a(0xb80));const _0x2cf1cf={'id':_0x1e7c5d,..._0x4aef1f[_0x2b996a(0x213)]()},_0x51c0db=collection(db,'artifacts/'+appId+_0x2b996a(0x2cd),_0x1e7c5d,'submissions'),_0x5a1ea3=await getDocs(_0x51c0db),_0x5bc6bb=_0x5a1ea3['docs'][_0x2b996a(0xb6a)](_0x369191=>_0x369191['data']());if(_0x5bc6bb[_0x2b996a(0x9fa)]===0x0)throw new Error(_0x2b996a(0xa18));const _0xce6705=calculateItemAnalysis(_0x2cf1cf,_0x5bc6bb)[_0x2b996a(0x57c)],_0x41fc5d=calculateDistractorAnalysis(_0x2cf1cf,_0x5bc6bb),_0x48fa43=_0x2d160e=>{const _0x194c50=_0x2b996a;if(!_0x2d160e)return'';return _0x2d160e[_0x194c50(0xa71)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x2314c1=_0x2b996a(0x732);_0x2cf1cf[_0x2b996a(0x132)]['forEach']((_0xba1fc8,_0x55de77)=>{const _0x3ec3dc=_0x2b996a,_0x38eecc=_0xce6705[_0x55de77]?.['p']['toFixed'](0x2)||_0x3ec3dc(0x18a),_0x46506e=_0xce6705[_0x55de77]?.['r'][_0x3ec3dc(0x785)](0x2)||_0x3ec3dc(0x18a),_0x49562e=_0x48fa43(_0xba1fc8['questionText']||_0xba1fc8[_0x3ec3dc(0x610)]);_0x2314c1+=_0x3ec3dc(0x1a6)+(_0x55de77+0x1)+_0x3ec3dc(0x57f)+_0x38eecc+_0x3ec3dc(0xb13)+_0x46506e+_0x3ec3dc(0x5c5)+_0x49562e+'\x5cn';if(_0xba1fc8[_0x3ec3dc(0xc2f)]===_0x3ec3dc(0x2c6)&&_0x41fc5d[_0x55de77]){const _0x295784=_0x41fc5d[_0x55de77],_0x33e1f3=Object[_0x3ec3dc(0x84e)](_0x295784)[_0x3ec3dc(0x7c4)](_0x5b11d8=>parseInt(_0x5b11d8)!==_0xba1fc8[_0x3ec3dc(0x74c)])[_0x3ec3dc(0xa7e)]((_0x31d041,_0x409a41)=>_0x295784[_0x409a41][_0x3ec3dc(0x130)]-_0x295784[_0x31d041]['total'])[0x0];if(_0x33e1f3&&_0x295784[_0x33e1f3][_0x3ec3dc(0x130)]>0x0){const _0x14f8a9=_0x48fa43(_0x295784[_0x33e1f3][_0x3ec3dc(0x7b0)]);_0x2314c1+=_0x3ec3dc(0x91f)+_0x14f8a9+_0x3ec3dc(0x679);}}});const _0x40aaf7=_0x2b996a(0x1a0)+_0x2cf1cf['topic']+_0x2b996a(0xa69)+_0x2314c1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x25bc0e={'type':'OBJECT','properties':{'learningGaps':{'type':_0x2b996a(0x4d4),'items':{'type':_0x2b996a(0x616)}},'teachingContent':{'type':_0x2b996a(0x616)},'practiceProblems':{'type':_0x2b996a(0x4d4),'items':{'type':_0x2b996a(0x7d7),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x2b996a(0x616)}}}}},'required':[_0x2b996a(0x2bb),_0x2b996a(0x656),'practiceProblems']},_0x30bbbd=await callAnalysisApi(_0x40aaf7,_0x25bc0e);await updateDoc(_0x144c71,{'lessonPlan':_0x30bbbd});const _0x4171ef=_0x2b996a(0xaec)+_0x2cf1cf[_0x2b996a(0x78b)]+_0x2b996a(0x6e2)+_0x30bbbd[_0x2b996a(0x2bb)][_0x2b996a(0xb6a)](_0x377f76=>'<li>'+_0x377f76+_0x2b996a(0x792))[_0x2b996a(0x254)]('')+_0x2b996a(0xb0c)+_0x30bbbd[_0x2b996a(0x656)]+_0x2b996a(0x784)+_0x30bbbd[_0x2b996a(0x23c)][_0x2b996a(0xb6a)](_0x978880=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x978880[_0x2b996a(0x96c)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x978880['solution']+_0x2b996a(0x548))[_0x2b996a(0x254)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x2b996a(0x651)]('lesson-plan-title')[_0x2b996a(0xc23)]=_0x2b996a(0x36c)+_0x2cf1cf[_0x2b996a(0x78b)],document['getElementById'](_0x2b996a(0xada))[_0x2b996a(0x61b)]=_0x4171ef,document[_0x2b996a(0x651)]('lesson-plan-modal')[_0x2b996a(0xbeb)][_0x2b996a(0x303)](_0x2b996a(0x6ca));if(window[_0x2b996a(0x858)])MathJax[_0x2b996a(0x1f8)]();messageModal['classList'][_0x2b996a(0x7bd)](_0x2b996a(0x6ca));}catch(_0x20a48b){console[_0x2b996a(0xb95)](_0x2b996a(0x6b8),_0x20a48b),showMessage(_0x2b996a(0x750)+_0x20a48b['message']);}}async function handleDuplicateQuiz(_0x36ef){const _0x4b2576=_0x4414d4;try{const _0x432513=doc(db,_0x4b2576(0x763)+appId+'/public/data/quizzes',_0x36ef),_0x481f16=await getDoc(_0x432513);if(_0x481f16['exists']()){const _0x2fcd76=_0x481f16['data']();let _0x41e829='',_0x57bbc8=_0x4b2576(0x52e),_0x3674ad=null;if(_0x2fcd76[_0x4b2576(0x79e)]==='pre-test'){let _0x397e69=_0x2fcd76[_0x4b2576(0x78b)][_0x4b2576(0xa71)](_0x4b2576(0x6d3),'')[_0x4b2576(0x4fe)]();_0x41e829='(หลังเรียน)\x20'+_0x397e69,_0x57bbc8=_0x4b2576(0xa3e),_0x3674ad=_0x36ef;}else _0x41e829='(คัดลอก)\x20'+_0x2fcd76[_0x4b2576(0x78b)];const _0x4fe6ac={..._0x2fcd76,'topic':_0x41e829,'createdAt':new Date()[_0x4b2576(0x759)](),'quizMode':_0x57bbc8,'pairedQuizId':_0x3674ad};let _0x5a1420;while(!![]){_0x5a1420=Math['floor'](0x3e8+Math[_0x4b2576(0xc29)]()*0x2328)[_0x4b2576(0x332)]();const _0x397209=await getDoc(doc(db,'artifacts/'+appId+_0x4b2576(0x2cd),_0x5a1420));if(!_0x397209['exists']())break;}const _0x40a0e6=doc(db,_0x4b2576(0x763)+appId+'/public/data/quizzes',_0x5a1420);await setDoc(_0x40a0e6,_0x4fe6ac),_0x4fe6ac[_0x4b2576(0x79e)]==='post-test'&&await updateDoc(_0x432513,{'pairedQuizId':_0x5a1420}),showMessage(_0x4b2576(0x3b6));}else throw new Error(_0x4b2576(0x67a));}catch(_0x53b897){console[_0x4b2576(0xb95)](_0x4b2576(0x561),_0x53b897),showMessage(_0x4b2576(0x817));}}async function handleDeleteQuiz(_0x51567b,_0x41379b=!![]){const _0xc1da4b=_0x4414d4;try{const _0x88a01c=writeBatch(db),_0xc282c8=collection(db,_0xc1da4b(0x763)+appId+_0xc1da4b(0x2b2)+_0x51567b+_0xc1da4b(0xa32)),_0x4a3600=await getDocs(_0xc282c8);_0x4a3600['forEach'](_0x2e26ee=>{const _0x3a70d4=_0xc1da4b;_0x88a01c[_0x3a70d4(0x4b6)](doc(_0xc282c8,_0x2e26ee['id']));});const _0x24fb74=doc(db,_0xc1da4b(0x763)+appId+'/public/data/quizzes',_0x51567b);_0x88a01c[_0xc1da4b(0x4b6)](_0x24fb74),await _0x88a01c[_0xc1da4b(0x56c)]();try{console[_0xc1da4b(0xaf0)](_0xc1da4b(0x2c3)+_0x51567b+_0xc1da4b(0x39e));const _0x1f8d73=collection(db,_0xc1da4b(0x763)+appId+_0xc1da4b(0x78d)),_0x3fbad6=await getDocs(_0x1f8d73),_0x58bcfc=[];_0x3fbad6[_0xc1da4b(0x15f)](_0x57ee46=>{const _0x4cfa6c=_0xc1da4b,_0x375470=_0x57ee46[_0x4cfa6c(0x213)](),_0x39c3d6=_0x375470['topics']||{};let _0x496dee=![];for(const _0x50f251 in _0x39c3d6){const _0x5f2769=_0x39c3d6[_0x50f251];if(_0x5f2769[_0x4cfa6c(0xa78)]&&_0x5f2769[_0x4cfa6c(0xa78)][_0x4cfa6c(0x6ed)](_0x51567b)){_0x496dee=!![];const _0x49c8ed=doc(db,_0x4cfa6c(0x763)+appId+_0x4cfa6c(0x78d),_0x57ee46['id']),_0x3647c0=updateDoc(_0x49c8ed,{[_0x4cfa6c(0x8df)+_0x50f251+'.linkedQuizIds']:arrayRemove(_0x51567b)});_0x58bcfc[_0x4cfa6c(0x464)](_0x3647c0);}}}),_0x58bcfc[_0xc1da4b(0x9fa)]>0x0&&(await Promise['all'](_0x58bcfc),console[_0xc1da4b(0xaf0)](_0xc1da4b(0x869)+_0x58bcfc[_0xc1da4b(0x9fa)]+_0xc1da4b(0x9c7)+_0x51567b+'.'));}catch(_0x139867){console[_0xc1da4b(0xb95)]('Error\x20during\x20blueprint\x20link\x20cleanup:',_0x139867);}_0x41379b&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x58cfd8){console[_0xc1da4b(0xb95)](_0xc1da4b(0x86d),_0x58cfd8),_0x41379b&&showMessage(_0xc1da4b(0x570));}}async function showQuizDetailView(_0x1f04e8){const _0x2ebd9c=_0x4414d4;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x2ebd9c(0xb86));try{const _0x521a68=doc(db,_0x2ebd9c(0x763)+appId+_0x2ebd9c(0x2cd),_0x1f04e8),_0x227314=await getDoc(_0x521a68);if(!_0x227314['exists']()){showMessage(_0x2ebd9c(0xb80));return;}const _0x267cb5={'id':_0x227314['id'],..._0x227314[_0x2ebd9c(0x213)]()};currentQuizData=_0x267cb5;const _0x425344=doc(db,'artifacts/'+appId+_0x2ebd9c(0x714),_0x267cb5[_0x2ebd9c(0x661)]),_0x4d3aad=await getDoc(_0x425344);_0x4d3aad[_0x2ebd9c(0x523)]()?(currentProjectData=_0x4d3aad[_0x2ebd9c(0x213)](),currentProjectId=_0x267cb5[_0x2ebd9c(0x661)]):(currentProjectData={'students':[]},currentProjectId=_0x267cb5[_0x2ebd9c(0x661)]);document[_0x2ebd9c(0x651)](_0x2ebd9c(0x4f3))[_0x2ebd9c(0xc23)]=_0x267cb5[_0x2ebd9c(0x78b)],document[_0x2ebd9c(0x651)]('results-quiz-id-display')[_0x2ebd9c(0xc23)]=_0x1f04e8;const _0x6a48f3=collection(db,'artifacts/'+appId+_0x2ebd9c(0x2cd),_0x1f04e8,_0x2ebd9c(0x4d2));unsubscribeSubmissionsListener=onSnapshot(_0x6a48f3,_0x2ba774=>{const _0x59de9b=_0x2ebd9c,_0x13926b=_0x2ba774[_0x59de9b(0x599)]['map'](_0x4d7864=>({'id':_0x4d7864['id'],..._0x4d7864[_0x59de9b(0x213)]()}));currentSubmissions=_0x13926b;const _0x490f7a=_0x13926b[_0x59de9b(0x7c4)](_0x4fa212=>_0x4fa212[_0x59de9b(0x18d)]&&_0x4fa212[_0x59de9b(0x18d)][_0x59de9b(0x9fa)]>0x0);renderBehaviorLog(_0x13926b),renderAnswerGrid(currentProjectData['students'],_0x490f7a,_0x267cb5),renderAnalytics(_0x267cb5,_0x490f7a),renderQuizResultsTable(currentProjectData['students'],_0x13926b,_0x267cb5),renderQuizLeaderboard(_0x490f7a,_0x267cb5,'quiz-leaderboard-table-body');}),showView(_0x2ebd9c(0x4a4));}catch(_0x3f9d2a){console[_0x2ebd9c(0xb95)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x3f9d2a),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x387d05,_0x2c43b2,_0x22de54){const _0x56f629=_0x4414d4,_0x42f5d0=document['getElementById'](_0x56f629(0x92a));if(!_0x42f5d0)return;if(!_0x387d05||_0x387d05[_0x56f629(0x9fa)]===0x0){_0x42f5d0[_0x56f629(0x61b)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0xa9ebbe=_0x22de54[_0x56f629(0x132)],_0x2a7676=_0x2c43b2['reduce']((_0x13e562,_0x533767)=>{const _0x569e25=_0x56f629;return _0x13e562[_0x533767[_0x569e25(0x637)]]=_0x533767,_0x13e562;},{}),_0x4b9ae6=_0x325bfe=>String[_0x56f629(0x9ab)](0x41+_0x325bfe),_0xfd617c=_0x9a674c=>{const _0x4963f2=_0x56f629,_0x49e92b=_0x9a674c['questionType']||_0x22de54['quizType'];switch(_0x49e92b){case'multiple_choice':return _0x9a674c[_0x4963f2(0xb4a)]&&_0x9a674c[_0x4963f2(0xb4a)][_0x4963f2(0x9fa)]>_0x9a674c[_0x4963f2(0x74c)]?_0x4b9ae6(_0x9a674c[_0x4963f2(0x74c)]):'-';case _0x4963f2(0x26d):const _0x1ba3a9=_0x9a674c[_0x4963f2(0x294)]===!![]||String(_0x9a674c[_0x4963f2(0x294)])[_0x4963f2(0x939)]()===_0x4963f2(0x7a0);return _0x1ba3a9?'ใช่':'ไม่ใช่';case _0x4963f2(0x572):return _0x9a674c['correctResponse']||'-';case _0x4963f2(0x808):return _0x4963f2(0x202);default:return'-';}},_0x14efef=(_0x5225d8,_0x1638dc)=>{const _0x23ec2b=_0x56f629;if(_0x1638dc[_0x23ec2b(0x821)]===null||_0x1638dc['answer']===undefined)return'-';const _0x1b63bb=_0x5225d8[_0x23ec2b(0xc2f)]||_0x22de54[_0x23ec2b(0x76d)];switch(_0x1b63bb){case _0x23ec2b(0x2c6):const _0x3bfcc4=_0x5225d8[_0x23ec2b(0xb4a)][_0x23ec2b(0x500)](_0xfd5f00=>_0xfd5f00===_0x1638dc[_0x23ec2b(0x6bd)]);return _0x3bfcc4!==-0x1?_0x4b9ae6(_0x3bfcc4):_0x1638dc[_0x23ec2b(0x6bd)]||'-';case'true_false':if(_0x1638dc[_0x23ec2b(0x821)]=='0'||_0x1638dc[_0x23ec2b(0x821)]===!![]||_0x1638dc[_0x23ec2b(0x821)]==='true')return _0x23ec2b(0x13a);return _0x23ec2b(0x3a6);default:return _0x1638dc[_0x23ec2b(0x821)];}};let _0x490a0f=_0x56f629(0xc25)+_0xa9ebbe[_0x56f629(0xb6a)]((_0x2b1b28,_0x3202ba)=>_0x56f629(0x45a)+(_0x3202ba+0x1)+_0x56f629(0x23b))[_0x56f629(0x254)]('')+_0x56f629(0x861)+_0xa9ebbe['map'](_0x2b5af4=>_0x56f629(0x352)+_0xfd617c(_0x2b5af4)+_0x56f629(0xb06))[_0x56f629(0x254)]('')+_0x56f629(0x4a1);_0x387d05[_0x56f629(0x15f)](_0x21239f=>{const _0x252340=_0x56f629;_0x490a0f+=_0x252340(0x420),_0x490a0f+=_0x252340(0x221)+_0x21239f+_0x252340(0xb06);const _0x3aba63=_0x2a7676[_0x21239f];if(_0x3aba63){const _0x424df2=_0x3aba63['attempts'][_0x3aba63[_0x252340(0x18d)][_0x252340(0x9fa)]-0x1];_0xa9ebbe[_0x252340(0x15f)]((_0x25d560,_0x4ad2a3)=>{const _0x5cd130=_0x252340,_0x3a68d1=_0x424df2[_0x5cd130(0xc15)]['find'](_0x1307e6=>_0x1307e6['questionId']===_0x25d560['id']);if(_0x3a68d1){let _0x543fc0='';const _0x40eec1=_0x3a68d1[_0x5cd130(0x2c8)]===!![],_0x582af1=_0x3a68d1[_0x5cd130(0x8e9)]===!![]||_0x3a68d1['wasConfident']==='confident';_0x582af1?_0x543fc0=_0x40eec1?'bg-green-400\x20text-white\x20font-bold':_0x5cd130(0x21a):_0x543fc0=_0x40eec1?_0x5cd130(0x731):'bg-red-100',_0x490a0f+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x543fc0+'\x22>'+_0x14efef(_0x25d560,_0x3a68d1)+_0x5cd130(0xb06);}else _0x490a0f+=_0x5cd130(0x4f0);});}else _0x490a0f+=_0xa9ebbe[_0x252340(0xb6a)](()=>_0x252340(0x868))[_0x252340(0x254)]('');_0x490a0f+=_0x252340(0x838);}),_0x490a0f+=_0x56f629(0xbbf),_0x42f5d0[_0x56f629(0x61b)]=_0x490a0f;}function renderQuizResultsTable(_0x2eca97,_0x2357c0,_0x135059){const _0x536eb1=_0x4414d4,_0x418a71=_0x2357c0['reduce']((_0x2e460d,_0x58359a)=>{const _0x4adf68=_0xbc6d;return _0x2e460d[_0x58359a[_0x4adf68(0x637)]]=_0x58359a,_0x2e460d;},{}),_0x3695b1=document[_0x536eb1(0x2d5)](_0x536eb1(0xb12));_0x3695b1&&!_0x3695b1[_0x536eb1(0x61b)][_0x536eb1(0x6ed)]('จัดการ')&&(_0x3695b1['innerHTML']+=_0x536eb1(0x231));const _0x276d2b=document[_0x536eb1(0x651)](_0x536eb1(0x967));if(!_0x2eca97||_0x2eca97[_0x536eb1(0x9fa)]===0x0){_0x276d2b['innerHTML']=_0x536eb1(0xbc7);return;}const _0x2129b8=_0x135059[_0x536eb1(0x75a)]===!![],_0x5ca568=_0x135059[_0x536eb1(0xb21)]?.['passingScore']??-0x1;let _0x4b7e2a='';_0x2eca97[_0x536eb1(0x15f)](_0x5d797c=>{const _0x50e312=_0x536eb1,_0x1284bc=_0x418a71[_0x5d797c];let _0x1977ef=_0x50e312(0x717)+(_0x2129b8?_0x50e312(0xbc1):_0x50e312(0x889))+'\x22>'+(_0x2129b8?_0x50e312(0x907):_0x50e312(0x814))+_0x50e312(0xaf8);if(_0x1284bc){if(_0x1284bc[_0x50e312(0x18d)]&&_0x1284bc[_0x50e312(0x18d)]['length']>0x0){let _0x249baf=_0x2129b8?_0x1284bc[_0x50e312(0x1a1)]===_0x1284bc[_0x50e312(0x511)]:_0x5ca568!==-0x1&&_0x1284bc['bestScore']>=_0x5ca568;const _0x15be45=_0x249baf?'bg-green-100\x20text-green-800':_0x50e312(0x467),_0x56f311=_0x249baf?_0x50e312(0x9c2):_0x50e312(0x871),_0x2eee96='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x15be45+'\x22>'+_0x56f311+_0x50e312(0xaf8),_0x568c93='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x1284bc[_0x50e312(0x18d)]?.[_0x50e312(0x9fa)]||0x1)+_0x50e312(0xc26);_0x4b7e2a+=_0x50e312(0x48e)+_0x5d797c+_0x50e312(0x479)+_0x1284bc['bestScore']+_0x50e312(0x8b5)+_0x1284bc[_0x50e312(0x511)]+_0x50e312(0x2a2)+_0x2eee96+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1977ef+_0x50e312(0x3ca)+_0x1284bc[_0x50e312(0x9d9)]+_0x50e312(0x8b5)+_0x1284bc[_0x50e312(0x511)]+_0x50e312(0xb8b)+_0x1284bc[_0x50e312(0xa48)]+'\x20/\x20'+_0x1284bc[_0x50e312(0x511)]+_0x50e312(0x7f4)+(_0x1284bc['points']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x568c93+_0x50e312(0x38f)+new Date(_0x1284bc[_0x50e312(0x337)])[_0x50e312(0xab0)](_0x50e312(0x276))+_0x50e312(0x181)+_0x5d797c+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0xd8e430=_0x50e312(0x9ad);_0x4b7e2a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5d797c+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1977ef+_0x50e312(0x916)+_0xd8e430+_0x50e312(0x38f)+new Date(_0x1284bc[_0x50e312(0xa4c)])[_0x50e312(0xab0)](_0x50e312(0x276))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x5d797c+_0x50e312(0xa43);}}else{const _0x1f65b3=_0x50e312(0x133);_0x4b7e2a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5d797c+_0x50e312(0x293)+_0x1977ef+_0x50e312(0x33e)+_0x1f65b3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x276d2b[_0x536eb1(0x61b)]=_0x4b7e2a;}async function confirmRenameQuiz(){const _0x25ac26=_0x4414d4,_0x560887=document['getElementById'](_0x25ac26(0x8bf))[_0x25ac26(0x3b7)]['trim']();if(!_0x560887){showMessage(_0x25ac26(0xaa0));return;}if(!actionTargetId)return;const _0x1a58de=doc(db,_0x25ac26(0x763)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x1a58de,{'topic':_0x560887}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x25ac26(0xbeb)][_0x25ac26(0x7bd)](_0x25ac26(0x6ca)),actionTargetId=null;}catch(_0x11e030){console[_0x25ac26(0xb95)]('Error\x20renaming\x20quiz:',_0x11e030),showMessage(_0x25ac26(0x480));}}async function handleMoveQuiz(_0x1bdaad){const _0x3010d1=_0x4414d4;actionTargetId=_0x1bdaad;const _0x237a73=document[_0x3010d1(0x651)](_0x3010d1(0xbe3));_0x237a73[_0x3010d1(0x61b)]=_0x3010d1(0x3f5),moveQuizModal['classList'][_0x3010d1(0x303)](_0x3010d1(0x6ca));try{const _0x1e7cdf=collection(db,'artifacts/'+appId+_0x3010d1(0x714)),_0x2fe5e0=await getDocs(_0x1e7cdf),_0xebf270=_0x2fe5e0[_0x3010d1(0x599)][_0x3010d1(0xb6a)](_0xdf9a77=>({'id':_0xdf9a77['id'],..._0xdf9a77[_0x3010d1(0x213)]()})),_0x3a4979=_0xebf270[_0x3010d1(0x7c4)](_0x48f029=>_0x48f029['id']!==currentProjectId);if(_0x3a4979[_0x3010d1(0x9fa)]===0x0){_0x237a73[_0x3010d1(0x61b)]=_0x3010d1(0xa61),document[_0x3010d1(0x651)]('confirm-move-quiz-btn')[_0x3010d1(0x993)]=!![];return;}_0x237a73[_0x3010d1(0x61b)]=_0x3a4979['map'](_0x393484=>_0x3010d1(0x6ef)+_0x393484['id']+'\x22>'+_0x393484[_0x3010d1(0x68c)]+_0x3010d1(0x433))[_0x3010d1(0x254)](''),document[_0x3010d1(0x651)](_0x3010d1(0xbfa))[_0x3010d1(0x993)]=![];}catch(_0x59aa9e){console[_0x3010d1(0xb95)]('Error\x20fetching\x20projects\x20for\x20move:',_0x59aa9e),showMessage(_0x3010d1(0x398)),moveQuizModal[_0x3010d1(0xbeb)][_0x3010d1(0x7bd)](_0x3010d1(0x6ca));}}async function confirmMoveQuiz(){const _0x200ee4=_0x4414d4,_0x3d09f5=document[_0x200ee4(0x651)]('move-quiz-project-select')[_0x200ee4(0x3b7)];if(!_0x3d09f5){showMessage(_0x200ee4(0x1e3));return;}if(!actionTargetId)return;const _0x5f493e=doc(db,'artifacts/'+appId+_0x200ee4(0x2cd),actionTargetId);try{await updateDoc(_0x5f493e,{'projectId':_0x3d09f5}),showMessage(_0x200ee4(0x1c3)),moveQuizModal[_0x200ee4(0xbeb)][_0x200ee4(0x7bd)](_0x200ee4(0x6ca)),actionTargetId=null;}catch(_0x482cf7){console['error'](_0x200ee4(0x341),_0x482cf7),showMessage(_0x200ee4(0x716));}}async function handleQuizSettings(_0x2765cd){const _0x4cc918=_0x4414d4;actionTargetId=_0x2765cd;const _0x50e752=doc(db,_0x4cc918(0x763)+appId+'/public/data/quizzes',_0x2765cd);try{const _0x5d28f0=await getDoc(_0x50e752);if(_0x5d28f0[_0x4cc918(0x523)]()){const _0x250429=_0x5d28f0[_0x4cc918(0x213)](),_0xfa214f=_0x250429['settings']||{},_0x3013f9=_0x250429['questions'][_0x4cc918(0x9fa)];document[_0x4cc918(0x651)](_0x4cc918(0x6cc))[_0x4cc918(0x3b7)]=_0xfa214f[_0x4cc918(0x5b5)]||'none',document[_0x4cc918(0x651)]('modal-results-display-select')[_0x4cc918(0x3b7)]=_0xfa214f[_0x4cc918(0x192)]||_0x4cc918(0x3d2),document[_0x4cc918(0x651)]('modal-timer-mode-select')[_0x4cc918(0x3b7)]=_0xfa214f[_0x4cc918(0x3af)]||'none',document[_0x4cc918(0x651)](_0x4cc918(0x715))[_0x4cc918(0x3b7)]=_0xfa214f[_0x4cc918(0x279)]||0xa,document[_0x4cc918(0x651)](_0x4cc918(0x6b2))['value']=_0xfa214f[_0x4cc918(0x1c1)]||Math[_0x4cc918(0x688)](_0x3013f9/0x2),document[_0x4cc918(0x651)](_0x4cc918(0x6b2))[_0x4cc918(0x682)]=_0x3013f9,document[_0x4cc918(0x651)]('modal-adaptive-quiz-checkbox')[_0x4cc918(0x173)]=_0xfa214f[_0x4cc918(0x774)]||![],document[_0x4cc918(0x651)](_0x4cc918(0x94b))[_0x4cc918(0x173)]=_0xfa214f[_0x4cc918(0x7b4)]||![];const _0xfd25d8=_0xfa214f[_0x4cc918(0x29a)]||![];document[_0x4cc918(0x651)](_0x4cc918(0x822))[_0x4cc918(0x173)]=_0xfd25d8,document[_0x4cc918(0x651)](_0x4cc918(0x742))[_0x4cc918(0x3b7)]=_0xfa214f[_0x4cc918(0x6e1)]||_0x4cc918(0x725);const _0xf619ac=document[_0x4cc918(0x651)](_0x4cc918(0x517));_0xf619ac[_0x4cc918(0xbeb)][_0x4cc918(0xb9b)]('hidden',!_0xfd25d8),document[_0x4cc918(0x651)]('modal-timer-mode-select')['dispatchEvent'](new Event(_0x4cc918(0x761))),quizSettingsModal[_0x4cc918(0xbeb)][_0x4cc918(0x303)](_0x4cc918(0x6ca));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x3f55d0){console[_0x4cc918(0xb95)](_0x4cc918(0x862),_0x3f55d0),showMessage(_0x4cc918(0x273));}}async function confirmQuizSettings(){const _0x5c3c61=_0x4414d4;if(!actionTargetId)return;const _0x5f33fd=doc(db,_0x5c3c61(0x763)+appId+_0x5c3c61(0x2cd),actionTargetId),_0x46b3bf={'shuffle':document[_0x5c3c61(0x651)](_0x5c3c61(0x6cc))['value'],'resultsDisplay':document['getElementById'](_0x5c3c61(0x16f))['value'],'timerMode':document[_0x5c3c61(0x651)](_0x5c3c61(0x136))[_0x5c3c61(0x3b7)],'timerDuration':parseInt(document[_0x5c3c61(0x651)](_0x5c3c61(0x715))['value'])||0xa,'passingScore':parseInt(document['getElementById'](_0x5c3c61(0x6b2))[_0x5c3c61(0x3b7)])||0x0,'isAdaptive':document[_0x5c3c61(0x651)](_0x5c3c61(0x5f3))[_0x5c3c61(0x173)],'loopUntilPass':document[_0x5c3c61(0x651)](_0x5c3c61(0x94b))[_0x5c3c61(0x173)],'isConfidenceScoringEnabled':document[_0x5c3c61(0x651)]('modal-confidence-scoring-checkbox')[_0x5c3c61(0x173)],'confidenceMode':document[_0x5c3c61(0x651)](_0x5c3c61(0x742))[_0x5c3c61(0x3b7)]};try{await updateDoc(_0x5f33fd,{'settings':_0x46b3bf}),showMessage(_0x5c3c61(0x2a7)),quizSettingsModal[_0x5c3c61(0xbeb)][_0x5c3c61(0x7bd)]('hidden'),actionTargetId=null;}catch(_0x28f53a){console['error']('Error\x20updating\x20quiz\x20settings:',_0x28f53a),showMessage(_0x5c3c61(0x1c4));}}async function confirmQuizStatus(){const _0x3edb1f=_0x4414d4;if(!actionTargetId)return;const _0x15e5b2=doc(db,_0x3edb1f(0x763)+appId+_0x3edb1f(0x2cd),actionTargetId),_0x3ab110=document[_0x3edb1f(0x2d5)](_0x3edb1f(0x9de));if(!_0x3ab110){showMessage(_0x3edb1f(0x5c9));return;}const _0x206ce3=_0x3ab110[_0x3edb1f(0x3b7)];let _0x4bb76a={};if(_0x206ce3==='active'||_0x206ce3==='inactive')_0x4bb76a={'status':_0x206ce3,'startTime':null,'endTime':null};else{if(_0x206ce3===_0x3edb1f(0xc2d)){const _0x16fb20=document[_0x3edb1f(0x651)]('quiz-start-time')['value'],_0xb12540=document['getElementById'](_0x3edb1f(0x573))[_0x3edb1f(0x3b7)];if(!_0x16fb20&&!_0xb12540){showMessage(_0x3edb1f(0x2f0));return;}_0x4bb76a={'status':_0x3edb1f(0x157),'startTime':_0x16fb20?new Date(_0x16fb20)[_0x3edb1f(0x759)]():null,'endTime':_0xb12540?new Date(_0xb12540)[_0x3edb1f(0x759)]():null};}}try{await updateDoc(_0x15e5b2,_0x4bb76a),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x3edb1f(0xbeb)][_0x3edb1f(0x7bd)](_0x3edb1f(0x6ca)),actionTargetId=null;}catch(_0x53daea){console[_0x3edb1f(0xb95)]('Error\x20updating\x20quiz\x20status:',_0x53daea),showMessage(_0x3edb1f(0x738));}}function listenForStudentProfiles(_0x1b61d7){const _0x222c36=_0x4414d4,_0x2b025d=collection(db,_0x222c36(0x763)+appId+_0x222c36(0x275)+_0x1b61d7+_0x222c36(0xb63));unsubscribeStudentProfilesListener=onSnapshot(_0x2b025d,_0x4cdbea=>{const _0x3fa785=_0x222c36,_0x29ea61=_0x4cdbea[_0x3fa785(0x599)]['map'](_0x1111da=>_0x1111da['data']());renderLeaderboard(_0x29ea61,'leaderboard-table-body');},_0x36f27f=>{const _0xf8e577=_0x222c36;console[_0xf8e577(0xb95)]('Error\x20listening\x20for\x20student\x20profiles:',_0x36f27f),document[_0xf8e577(0x651)](_0xf8e577(0x9c5))['innerHTML']=_0xf8e577(0x1df);});}function renderLeaderboard(_0x5012bd,_0x3d57a0){const _0x485949=_0x4414d4,_0x1509b5=document[_0x485949(0x651)](_0x3d57a0);if(!_0x5012bd||_0x5012bd[_0x485949(0x9fa)]===0x0){_0x1509b5[_0x485949(0x61b)]=_0x485949(0xc0f);return;}_0x5012bd[_0x485949(0xa7e)]((_0xd6069d,_0x455d26)=>{const _0x20158c=_0x485949,_0x1b1a04=(_0x455d26[_0x20158c(0x92f)]||0x0)-(_0xd6069d[_0x20158c(0x92f)]||0x0);if(_0x1b1a04!==0x0)return _0x1b1a04;const _0x5e5a40=(_0x455d26[_0x20158c(0x6bf)]?.['specialist']||0x0)-(_0xd6069d[_0x20158c(0x6bf)]?.[_0x20158c(0x262)]||0x0);if(_0x5e5a40!==0x0)return _0x5e5a40;const _0x134fd1=(_0x455d26[_0x20158c(0x6bf)]?.[_0x20158c(0x66c)]||0x0)-(_0xd6069d[_0x20158c(0x6bf)]?.['first_try_ace']||0x0);if(_0x134fd1!==0x0)return _0x134fd1;const _0x150774=(_0x455d26['badgesCount']?.[_0x20158c(0x8e8)]||0x0)-(_0xd6069d[_0x20158c(0x6bf)]?.[_0x20158c(0x8e8)]||0x0);if(_0x150774!==0x0)return _0x150774;const _0x58470c=(_0x455d26['badgesCount']?.[_0x20158c(0x59d)]||0x0)-(_0xd6069d[_0x20158c(0x6bf)]?.[_0x20158c(0x59d)]||0x0);if(_0x58470c!==0x0)return _0x58470c;return _0xd6069d[_0x20158c(0x637)]['localeCompare'](_0x455d26[_0x20158c(0x637)],'th');});let _0x49e7ae='';_0x5012bd[_0x485949(0x15f)]((_0x231cfe,_0x5da17b)=>{const _0x160f00=_0x485949,_0x50b71f=_0x5da17b+0x1,_0x3b0fe2=_0x231cfe[_0x160f00(0x6bf)]||{};let _0x107e42='';const _0x5b2d24=[_0x160f00(0x262),_0x160f00(0x8e8),_0x160f00(0x66c),_0x160f00(0x59d)];_0x5b2d24['forEach'](_0x228760=>{const _0x59fca1=_0x160f00;if(_0x3b0fe2[_0x228760]>0x0){const _0x5e8597=Object[_0x59fca1(0x329)](BADGES)[_0x59fca1(0xbc5)](_0x59c509=>_0x59c509['id']===_0x228760);_0x5e8597&&(_0x228760===_0x59fca1(0x262)?_0x107e42+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x5e8597['name']+_0x59fca1(0x145)+_0x5e8597['icon']+_0x59fca1(0x851):_0x107e42+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x5e8597['name']+'\x20('+_0x3b0fe2[_0x228760]+_0x59fca1(0x199)+_0x5e8597[_0x59fca1(0x743)]+_0x59fca1(0x876)+_0x3b0fe2[_0x228760]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x49e7ae+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x50b71f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x231cfe[_0x160f00(0x637)]+_0x160f00(0x94f)+(_0x231cfe[_0x160f00(0x92f)]||0x0)+_0x160f00(0x63f)+(_0x107e42||'-')+_0x160f00(0x7f8);}),_0x1509b5['innerHTML']=_0x49e7ae;}function displayLoopScreen(_0x5b289c,_0xbc111b,_0x1ead31){const _0x5e39b8=_0x4414d4;let _0x342cb1='';_0x1ead31!==_0x5e39b8(0x1fc)&&(_0x342cb1=_0x5e39b8(0x507)+_0x5b289c+_0x5e39b8(0x8b5)+_0xbc111b+_0x5e39b8(0x778));const _0x3223ee=_0x5e39b8(0x48f)+_0x342cb1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x5e39b8(0x61b)]=_0x3223ee,studentResultArea[_0x5e39b8(0xbeb)][_0x5e39b8(0x303)](_0x5e39b8(0x6ca)),studentQuizArea['classList']['add']('hidden'),document[_0x5e39b8(0x651)]('retake-quiz-loop-btn')[_0x5e39b8(0x7bb)]('click',()=>{const _0xb4faf7=_0x5e39b8;studentResultArea[_0xb4faf7(0xbeb)][_0xb4faf7(0x7bd)](_0xb4faf7(0x6ca)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x4af991,_0x2d8da8,_0x114127){const _0x57fc98=_0x4414d4,_0x12acdd=document['getElementById'](_0x114127),_0x1cb41f=_0x114127===_0x57fc98(0xa47),_0x335e79=_0x2d8da8['questions'][_0x57fc98(0x9fa)],_0x4cf2d6=document['getElementById'](_0x114127)['closest'](_0x57fc98(0xb65));if(_0x4cf2d6&&!_0x1cb41f){const _0x5bb790=_0x4cf2d6['querySelector'](_0x57fc98(0x351));_0x5bb790[_0x57fc98(0x61b)]=_0x57fc98(0x5bf);}if(!_0x4af991||_0x4af991[_0x57fc98(0x9fa)]===0x0){_0x12acdd[_0x57fc98(0x61b)]='<tr><td\x20colspan=\x22'+(_0x1cb41f?0x6:0x8)+_0x57fc98(0x945);return;}const _0x222394=[..._0x4af991];_0x222394[_0x57fc98(0xa7e)]((_0x39e295,_0x33f13f)=>{const _0x5a04a0=_0x57fc98;let _0x2eef8f,_0x1b4893;switch(quizLeaderboardSortBy){case _0x5a04a0(0x637):_0x2eef8f=_0x39e295[_0x5a04a0(0x637)]||'',_0x1b4893=_0x33f13f[_0x5a04a0(0x637)]||'';return quizLeaderboardSortOrder===_0x5a04a0(0x7b7)?_0x2eef8f['localeCompare'](_0x1b4893,'th'):_0x1b4893[_0x5a04a0(0x3c5)](_0x2eef8f,'th');case'points':_0x2eef8f=_0x39e295['points']||0x0,_0x1b4893=_0x33f13f[_0x5a04a0(0x4d8)]||0x0;break;case'attempts':_0x2eef8f=_0x39e295[_0x5a04a0(0x18d)]?.['length']||0x1,_0x1b4893=_0x33f13f['attempts']?.[_0x5a04a0(0x9fa)]||0x1;break;case _0x5a04a0(0x337):_0x2eef8f=new Date(_0x39e295['latestSubmittedAt']),_0x1b4893=new Date(_0x33f13f[_0x5a04a0(0x337)]);break;case _0x5a04a0(0x1a1):default:_0x2eef8f=_0x39e295[_0x5a04a0(0x1a1)],_0x1b4893=_0x33f13f[_0x5a04a0(0x1a1)];break;}if(_0x2eef8f<_0x1b4893)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x2eef8f>_0x1b4893)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x573f44=_0x2d8da8[_0x57fc98(0x75a)]===!![],_0x2c1e1e=_0x2d8da8[_0x57fc98(0xb21)]?.[_0x57fc98(0x1c1)]??-0x1;let _0x1b1bb1='';_0x222394['forEach']((_0x42b60e,_0x48882c)=>{const _0x30906e=_0x57fc98,_0xbc537f=_0x48882c+0x1;let _0x28b47e=_0x30906e(0x489);if(_0x573f44||_0x2c1e1e!==-0x1){let _0x354e86=_0x573f44?_0x42b60e[_0x30906e(0x1a1)]===_0x335e79:_0x42b60e['bestScore']>=_0x2c1e1e;const _0x2a67e3=_0x354e86?'bg-green-100\x20text-green-800':_0x30906e(0x467),_0x51ece9=_0x354e86?_0x30906e(0x9c2):_0x30906e(0x871);_0x28b47e=_0x30906e(0xb05)+_0x2a67e3+'\x22>'+_0x51ece9+_0x30906e(0xaf8);}const _0xd98b72=_0x42b60e['attempts'][_0x42b60e[_0x30906e(0x18d)][_0x30906e(0x9fa)]-0x1],_0x1616fc=(_0xd98b72[_0x30906e(0x22c)]||[])['map'](_0x5a697=>{const _0x3643b5=_0x30906e,_0x4376e2=Object[_0x3643b5(0x329)](BADGES)[_0x3643b5(0xbc5)](_0x112730=>_0x112730['id']===_0x5a697);return _0x4376e2?'<span\x20title=\x22'+_0x4376e2['name']+_0x3643b5(0xb90)+_0x4376e2[_0x3643b5(0x743)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x30906e(0x254)]('');_0x1b1bb1+=_0x30906e(0x471)+_0xbc537f+_0x30906e(0x6d5)+_0x42b60e[_0x30906e(0x637)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x42b60e[_0x30906e(0x1a1)]+_0x30906e(0x8b5)+_0x335e79+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28b47e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x42b60e[_0x30906e(0x4d8)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1cb41f?'':_0x30906e(0x167)+(_0x42b60e['attempts']?.['length']||0x1)+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1cb41f?'':_0x30906e(0x25c)+new Date(_0x42b60e[_0x30906e(0x337)])['toLocaleString'](_0x30906e(0x276))+_0x30906e(0xb06))+_0x30906e(0x6c0)+(_0x1616fc||'-')+_0x30906e(0xb5c);}),_0x12acdd[_0x57fc98(0x61b)]=_0x1b1bb1,_0x4cf2d6&&!_0x1cb41f&&_0x4cf2d6[_0x57fc98(0x514)](_0x57fc98(0x368))[_0x57fc98(0x15f)](_0x309d54=>{const _0x392227=_0x57fc98,_0x1d8f95=_0x309d54['querySelector']('.sort-indicator');if(_0x1d8f95)_0x1d8f95[_0x392227(0x303)]();_0x309d54[_0x392227(0x3b5)][_0x392227(0xa7e)]===quizLeaderboardSortBy&&(_0x309d54['innerHTML']+=_0x392227(0x525)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x392227(0x4bf));});}async function handleDeleteSubmission(_0x4fadc0){const _0x3116f5=_0x4414d4;if(!currentQuizData||!currentQuizData['id']||!_0x4fadc0){showMessage(_0x3116f5(0x4a5));return;}showConfirmation(_0x3116f5(0xa96)+_0x4fadc0+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x1a384f=_0x3116f5,_0x502759=currentQuizData['id'],_0x54dee8=doc(db,_0x1a384f(0x763)+appId+_0x1a384f(0x2b2)+_0x502759+_0x1a384f(0xa32),_0x4fadc0);try{await deleteDoc(_0x54dee8),showMessage(_0x1a384f(0x6d4)+_0x4fadc0+_0x1a384f(0x83a));}catch(_0x4d78aa){console[_0x1a384f(0xb95)](_0x1a384f(0x296),_0x4d78aa),showMessage(_0x1a384f(0xb9c));}});}async function handleLoadQuiz(){const _0x4d3ff4=_0x4414d4,_0x145b16=document[_0x4d3ff4(0x651)](_0x4d3ff4(0x356)),_0x254180=_0x145b16[_0x4d3ff4(0x3b7)][_0x4d3ff4(0x4fe)]();if(!_0x254180){showMessage(_0x4d3ff4(0xc30));return;}loadQuizBtn[_0x4d3ff4(0x993)]=!![],loadQuizBtn[_0x4d3ff4(0x61b)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x276244=doc(db,_0x4d3ff4(0x763)+appId+_0x4d3ff4(0x2cd),_0x254180),_0x97f153=await getDoc(_0x276244);if(!_0x97f153[_0x4d3ff4(0x523)]()){showMessage(_0x4d3ff4(0x460));return;}currentQuizData={'id':_0x97f153['id'],..._0x97f153[_0x4d3ff4(0x213)]()};const _0x2fc659=currentQuizData['status']||'active',_0x7044d6=new Date();if(_0x2fc659===_0x4d3ff4(0x917)){showMessage(_0x4d3ff4(0x459));return;}if(_0x2fc659==='scheduled'){const _0x4096ff=currentQuizData['startTime']?new Date(currentQuizData[_0x4d3ff4(0x355)]):null,_0x289b22=currentQuizData[_0x4d3ff4(0xbb5)]?new Date(currentQuizData['endTime']):null;if(_0x4096ff&&_0x7044d6<_0x4096ff){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x4096ff[_0x4d3ff4(0xab0)]('th-TH',{'hour12':![]}));return;}if(_0x289b22&&_0x7044d6>_0x289b22){showMessage(_0x4d3ff4(0x741));return;}}const _0x54ab3b=currentQuizData['projectId'];currentProjectId=_0x54ab3b;const _0x4cb67b=doc(db,_0x4d3ff4(0x763)+appId+'/public/data/projects',_0x54ab3b),_0x399db5=await getDoc(_0x4cb67b);if(!_0x399db5[_0x4d3ff4(0x523)]()){showMessage(_0x4d3ff4(0xae6));return;}const _0x2bfad9=_0x399db5[_0x4d3ff4(0x213)]();currentStudentProjectData=_0x2bfad9,displayStudentNameSelector(_0x2bfad9[_0x4d3ff4(0xb29)],currentQuizData[_0x4d3ff4(0x78b)]);}catch(_0x2b5143){console[_0x4d3ff4(0xb95)](_0x4d3ff4(0xa1b),_0x2b5143),showMessage(_0x4d3ff4(0x8b1));}finally{loadQuizBtn[_0x4d3ff4(0x993)]=![],loadQuizBtn[_0x4d3ff4(0x61b)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x17c5c4=_0x4414d4,_0x14fd71=document[_0x17c5c4(0x651)](_0x17c5c4(0xac3)),_0x273a3f=document[_0x17c5c4(0x651)](_0x17c5c4(0x265)),_0x37e2c5=document[_0x17c5c4(0x651)](_0x17c5c4(0xbfc)),_0x56ae4c=_0x14fd71[_0x17c5c4(0x3b7)][_0x17c5c4(0x4fe)](),_0x462d86=_0x273a3f['value'][_0x17c5c4(0x4fe)]();if(!_0x56ae4c||!_0x462d86){showMessage(_0x17c5c4(0x609));return;}_0x37e2c5['disabled']=!![],_0x37e2c5[_0x17c5c4(0x61b)]=_0x17c5c4(0xa3c);try{const _0xef0d59=collection(db,_0x17c5c4(0x763)+appId+'/public/data/liveGames'),_0x13952a=query(_0xef0d59,where(_0x17c5c4(0x93d),'==',_0x56ae4c),where(_0x17c5c4(0x7f9),'in',[_0x17c5c4(0xb4f),'question'])),_0x46ec90=await getDocs(_0x13952a);if(_0x46ec90[_0x17c5c4(0x606)]){showMessage(_0x17c5c4(0x675));return;}const _0x3b712c=_0x46ec90['docs'][0x0],_0x527e1d=_0x3b712c[_0x17c5c4(0x213)]();currentLiveGameId=_0x3b712c['id'];const _0xe5e908=_0x527e1d[_0x17c5c4(0x8c6)],_0x1d6fae=doc(db,_0x17c5c4(0x763)+appId+'/public/data/quizzes',_0xe5e908),_0x2da758=await getDoc(_0x1d6fae);if(!_0x2da758['exists']()){showMessage(_0x17c5c4(0xa92));return;}currentQuizData={'id':_0x2da758['id'],..._0x2da758[_0x17c5c4(0x213)]()};if(_0x527e1d['players']&&_0x527e1d[_0x17c5c4(0xb76)][_0x462d86]){const _0x24ff75=_0x527e1d[_0x17c5c4(0xb76)][_0x462d86];if(_0x24ff75['status']===_0x17c5c4(0x917)){_0x37e2c5[_0x17c5c4(0x61b)]=_0x17c5c4(0x42a);const _0x16aeab={};_0x16aeab[_0x17c5c4(0x25a)+_0x462d86+_0x17c5c4(0x94d)]='active',await updateDoc(doc(db,_0x17c5c4(0x763)+appId+_0x17c5c4(0x994),currentLiveGameId),_0x16aeab),showView(_0x17c5c4(0x70c)),currentStudentName=_0x462d86,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0x527e1d[_0x17c5c4(0x7f9)]!==_0x17c5c4(0xb4f)){showMessage(_0x17c5c4(0x2ee));return;}_0x37e2c5[_0x17c5c4(0x61b)]=_0x17c5c4(0x137);const _0x3b3d3a={};_0x3b3d3a[_0x17c5c4(0x25a)+_0x462d86]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x17c5c4(0x712)},await updateDoc(doc(db,_0x17c5c4(0x763)+appId+_0x17c5c4(0x994),currentLiveGameId),_0x3b3d3a),currentStudentName=_0x462d86,listenForLiveGameUpdates();}catch(_0x66c12a){console['error'](_0x17c5c4(0x8f6),_0x66c12a),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x37e2c5[_0x17c5c4(0x993)]=![],_0x37e2c5[_0x17c5c4(0x61b)]=_0x17c5c4(0x879);}}function displayStudentNameSelector(_0x5b7b7d,_0x73cc6d){const _0x2934cb=_0x4414d4,_0x2cf2fb=document[_0x2934cb(0x651)](_0x2934cb(0xa6d));document[_0x2934cb(0x651)](_0x2934cb(0xaa6))[_0x2934cb(0xc23)]=_0x2934cb(0xbaf)+_0x73cc6d,!_0x5b7b7d||_0x5b7b7d[_0x2934cb(0x9fa)]===0x0?(_0x2cf2fb[_0x2934cb(0x61b)]=_0x2934cb(0x6f6),startQuizBtn[_0x2934cb(0x993)]=!![]):(_0x2cf2fb[_0x2934cb(0x61b)]=_0x2934cb(0xa75),_0x5b7b7d[_0x2934cb(0x15f)](_0xf5fd07=>{const _0x4ca2d1=_0x2934cb,_0x5424ec=document[_0x4ca2d1(0x50d)]('option');_0x5424ec[_0x4ca2d1(0x3b7)]=_0xf5fd07,_0x5424ec[_0x4ca2d1(0xc23)]=_0xf5fd07,_0x2cf2fb[_0x4ca2d1(0x89c)](_0x5424ec);}),startQuizBtn[_0x2934cb(0x993)]=![]),studentInitialView['classList']['add']('hidden'),studentNameSelectionView['classList']['remove'](_0x2934cb(0x6ca));}function shuffleArray(_0x4ae8b6){const _0x47b6f2=_0x4414d4;for(let _0x36a0d0=_0x4ae8b6[_0x47b6f2(0x9fa)]-0x1;_0x36a0d0>0x0;_0x36a0d0--){const _0x4f1a07=Math[_0x47b6f2(0x688)](Math[_0x47b6f2(0xc29)]()*(_0x36a0d0+0x1));[_0x4ae8b6[_0x36a0d0],_0x4ae8b6[_0x4f1a07]]=[_0x4ae8b6[_0x4f1a07],_0x4ae8b6[_0x36a0d0]];}}function getShuffledQuiz(_0x34b2d1){const _0x578b24=_0x4414d4;let _0x313c2=JSON[_0x578b24(0x607)](JSON[_0x578b24(0x177)](_0x34b2d1));const _0x2ae531=_0x313c2[_0x578b24(0xb21)]?.['shuffle']||'none';if(_0x2ae531===_0x578b24(0xb35))return _0x313c2;return(_0x2ae531==='questions_only'||_0x2ae531===_0x578b24(0x43f))&&shuffleArray(_0x313c2['questions']),(_0x2ae531===_0x578b24(0xb60)||_0x2ae531===_0x578b24(0x43f))&&_0x313c2[_0x578b24(0x132)][_0x578b24(0x15f)](_0x894f51=>{const _0x1adbd1=_0x578b24,_0x4a6bdd=_0x894f51['questionType']||_0x313c2[_0x1adbd1(0x76d)];if(_0x894f51[_0x1adbd1(0xb4a)]){let _0x39dbb5=_0x894f51[_0x1adbd1(0xb4a)][_0x1adbd1(0xb6a)]((_0x32d3d7,_0x46e19d)=>({'text':_0x32d3d7,'isCorrect':_0x46e19d===_0x894f51['correctAnswerIndex']}));shuffleArray(_0x39dbb5),_0x894f51[_0x1adbd1(0xb4a)]=_0x39dbb5[_0x1adbd1(0xb6a)](_0x30e63b=>_0x30e63b['text']),_0x894f51['correctAnswerIndex']=_0x39dbb5['findIndex'](_0xe5707f=>_0xe5707f['isCorrect']);}_0x4a6bdd==='matching_item'&&_0x894f51[_0x1adbd1(0x67e)]&&shuffleArray(_0x894f51['allResponses']);}),_0x313c2;}function displayQuizForStudent(_0x40e067){const _0x1906c7=_0x4414d4;studentQuizArea[_0x1906c7(0xbeb)][_0x1906c7(0x303)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x40e067);currentMode!==_0x1906c7(0xa63)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x1906c7(0x7bb)]('fullscreenchange',handleFullscreenChange),document[_0x1906c7(0x7bb)](_0x1906c7(0xa2e),handleVisibilityChange),enterFullscreen(),window[_0x1906c7(0x7bb)](_0x1906c7(0x38c),resetDimTimer),window[_0x1906c7(0x7bb)]('mousedown',resetDimTimer),window[_0x1906c7(0x7bb)](_0x1906c7(0x4dd),resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());const _0x505abc=currentDisplayedQuiz[_0x1906c7(0xb21)]?.[_0x1906c7(0x3af)]||_0x1906c7(0xb35);if(_0x505abc===_0x1906c7(0x7aa))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x1906c7(0xb21)][_0x1906c7(0x279)]);else _0x505abc==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0xdb2df=_0x4414d4,_0x598180=currentDisplayedQuiz[_0xdb2df(0xb21)]?.['isConfidenceScoringEnabled']===!![],_0x4f7d6f=currentDisplayedQuiz[_0xdb2df(0xb21)]?.['confidenceMode']||_0xdb2df(0x725);let _0x1cf8e2=_0xdb2df(0xb85)+currentDisplayedQuiz[_0xdb2df(0x78b)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0xdb2df(0xa63)?_0xdb2df(0x416):'')+_0xdb2df(0x150);currentDisplayedQuiz[_0xdb2df(0x132)][_0xdb2df(0x15f)]((_0x30b2bc,_0x9516a5)=>{const _0x3902e5=_0xdb2df,_0x326db6=_0x30b2bc[_0x3902e5(0xc2f)]||currentDisplayedQuiz[_0x3902e5(0x76d)];_0x1cf8e2+=_0x3902e5(0x753);if(_0x326db6==='matching_item'){}else _0x1cf8e2+='<p>'+(_0x9516a5+0x1)+'.\x20'+(_0x30b2bc['instructions']||_0x30b2bc['questionText'])+'</p>',_0x30b2bc[_0x3902e5(0x1ea)]&&(_0x1cf8e2+=_0x3902e5(0x984)+_0x30b2bc['imageCode']+_0x3902e5(0x8ff));_0x1cf8e2+=_0x3902e5(0x91e);switch(_0x326db6){case'short_answer':_0x1cf8e2+='<textarea\x20name=\x22question'+_0x9516a5+_0x3902e5(0x2f5);break;case _0x3902e5(0x26d):_0x1cf8e2+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x9516a5+_0x3902e5(0x17a)+_0x9516a5+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x9516a5+'_opt0\x22>ใช่</label></div>',_0x1cf8e2+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x9516a5+'_opt1\x22\x20name=\x22question'+_0x9516a5+_0x3902e5(0x62b)+_0x9516a5+_0x3902e5(0x76f);break;case _0x3902e5(0x572):_0x1cf8e2+=_0x3902e5(0xc31)+_0x30b2bc[_0x3902e5(0x610)]+_0x3902e5(0xb84)+_0x9516a5+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x30b2bc[_0x3902e5(0x67e)][_0x3902e5(0xb6a)](_0x194454=>_0x3902e5(0x6ef)+_0x194454+'\x22>'+_0x194454+_0x3902e5(0x433))[_0x3902e5(0x254)]('')+_0x3902e5(0x831);break;default:_0x1cf8e2+=_0x30b2bc[_0x3902e5(0xb4a)][_0x3902e5(0xb6a)]((_0x53606b,_0x1b38f8)=>_0x3902e5(0x399)+_0x9516a5+_0x3902e5(0x4b1)+_0x1b38f8+'\x22\x20name=\x22question'+_0x9516a5+'\x22\x20value=\x22'+_0x1b38f8+_0x3902e5(0x83d)+_0x9516a5+_0x3902e5(0x4b1)+_0x1b38f8+'\x22>'+_0x53606b+_0x3902e5(0x453))['join']('');break;}_0x1cf8e2+='</div>',_0x598180&&(_0x1cf8e2+=_0x3902e5(0xa6a),_0x4f7d6f===_0x3902e5(0x5d0)?_0x1cf8e2+=_0x3902e5(0x649)+_0x9516a5+_0x3902e5(0x1e6)+_0x9516a5+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x9516a5+_0x3902e5(0x4aa)+_0x9516a5+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x1cf8e2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x9516a5+_0x3902e5(0x1e6)+_0x9516a5+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x9516a5+_0x3902e5(0x9ef),_0x1cf8e2+=_0x3902e5(0x8ff)),_0x1cf8e2+=_0x3902e5(0x8ff);}),_0x1cf8e2+=_0xdb2df(0x3df),_0x1cf8e2+=_0xdb2df(0x52d),studentQuizArea['innerHTML']=_0x1cf8e2;if(currentMode==='admin-testing'){const _0xe650d1=document[_0xdb2df(0x651)]('cancel-test-btn');if(_0xe650d1)_0xe650d1[_0xdb2df(0x7bb)](_0xdb2df(0x530),cancelAdminTest);}const _0xe0775e=document[_0xdb2df(0x651)]('quiz-form');_0xe0775e&&(_0xe0775e[_0xdb2df(0x7bb)](_0xdb2df(0xb33),handleSubmitQuiz),_0xe0775e[_0xdb2df(0x7bb)](_0xdb2df(0x530),_0x1b6109=>{const _0x2e54fe=_0xdb2df;if(_0x1b6109[_0x2e54fe(0x8d0)]['classList'][_0x2e54fe(0xa28)](_0x2e54fe(0x271))){const _0x31243e=_0x1b6109['target'],_0x5263f8=_0x31243e[_0x2e54fe(0x3b5)]['questionIndex'],_0xb108e8=_0x31243e['dataset'][_0x2e54fe(0x3b7)];document[_0x2e54fe(0x651)](_0x2e54fe(0x9e1)+_0x5263f8)[_0x2e54fe(0x3b7)]=_0xb108e8;const _0x41c078=_0x31243e[_0x2e54fe(0x4fc)];_0x41c078[_0x2e54fe(0x514)](_0x2e54fe(0x129))['forEach'](_0x2cea24=>_0x2cea24[_0x2e54fe(0xbeb)][_0x2e54fe(0x303)](_0x2e54fe(0x712))),_0x31243e[_0x2e54fe(0xbeb)][_0x2e54fe(0x7bd)](_0x2e54fe(0x712));}}));if(window[_0xdb2df(0x858)])window[_0xdb2df(0x858)][_0xdb2df(0x1f8)]([studentQuizArea]);}async function handleSubmitQuiz(_0x319a6e){const _0x2712f0=_0x4414d4;if(_0x319a6e)_0x319a6e['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x4dd34f=document[_0x2712f0(0x651)](_0x2712f0(0x64b));if(!_0x4dd34f)return;const _0x4f3bc5=currentDisplayedQuiz['settings']?.[_0x2712f0(0x29a)]===!![],_0x2bd0c0=currentDisplayedQuiz[_0x2712f0(0xb21)]?.[_0x2712f0(0x6e1)]||_0x2712f0(0x725);if(_0x4f3bc5&&_0x2bd0c0===_0x2712f0(0x5d0)){let _0x2ba14f=!![];for(let _0x375c3c=0x0;_0x375c3c<currentDisplayedQuiz[_0x2712f0(0x132)][_0x2712f0(0x9fa)];_0x375c3c++){const _0x7450c5=_0x4dd34f[_0x2712f0(0x2d5)](_0x2712f0(0x499)+_0x375c3c);if(!_0x7450c5||_0x7450c5['value']===''){_0x2ba14f=![];break;}}if(!_0x2ba14f){showMessage(_0x2712f0(0x746));return;}}const _0x4bfd3f=_0x4dd34f[_0x2712f0(0x2d5)]('button[type=\x22submit\x22]'),_0x38e792=currentDisplayedQuiz[_0x2712f0(0x132)][_0x2712f0(0x2a3)](_0x4b30f0=>_0x4b30f0[_0x2712f0(0xc2f)]===_0x2712f0(0x808));_0x4bfd3f&&(_0x4bfd3f[_0x2712f0(0x993)]=!![],_0x4bfd3f[_0x2712f0(0x61b)]=_0x38e792?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x2712f0(0x253));const _0x3a9e00=new FormData(_0x4dd34f),_0x4c7992=currentDisplayedQuiz[_0x2712f0(0x132)][_0x2712f0(0xb6a)]((_0x5ec6aa,_0x30e9cd)=>{const _0x45806c=_0x2712f0,_0x7807f7=_0x3a9e00['get'](_0x45806c(0x96c)+_0x30e9cd);let _0x4b00c3;_0x2bd0c0===_0x45806c(0x5d0)?_0x4b00c3=_0x3a9e00[_0x45806c(0x346)](_0x45806c(0x8c2)+_0x30e9cd):_0x4b00c3=_0x3a9e00[_0x45806c(0x346)]('confidence'+_0x30e9cd)==='on';let _0x4cf644=null;if(_0x7807f7!==null&&_0x7807f7!==undefined){const _0x483f20=_0x5ec6aa['questionType']||currentDisplayedQuiz['quizType'];_0x483f20==='multiple_choice'||_0x483f20===_0x45806c(0x856)?_0x4cf644=parseInt(_0x7807f7):_0x4cf644=_0x7807f7;}return{'answer':_0x4cf644,'wasConfident':_0x4b00c3};}),_0x77adc9=currentQuizData['id'],_0x1419ba=doc(db,_0x2712f0(0x763)+appId+_0x2712f0(0x2b2)+_0x77adc9+'/submissions',currentStudentName),_0x592060=await getDoc(_0x1419ba),_0x56add4=_0x592060[_0x2712f0(0x523)]()?_0x592060['data']():{},_0x425ecb=_0x56add4[_0x2712f0(0x18d)]||[];await processAndSubmitAnswers(_0x4c7992,_0x425ecb);}async function gradeShortAnswerWithAI(_0x4f8048,_0x1eaabc){const _0x520422=_0x4414d4;if(!_0x4f8048||!_0x1eaabc)return![];try{const _0x47e563='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x4f8048+_0x520422(0xaa2)+_0x1eaabc+_0x520422(0x971),_0x350e65={'contents':[{'role':'user','parts':[{'text':_0x47e563}]}]},_0x90eb9b=_0x520422(0x4dc),_0x3d7819=_0x520422(0x2cf)+_0x90eb9b,_0x432073=await fetch(_0x3d7819,{'method':_0x520422(0x23a),'headers':{'Content-Type':'application/json'},'body':JSON[_0x520422(0x177)](_0x350e65)});if(!_0x432073['ok'])throw new Error(_0x520422(0x186));const _0x48aa74=await _0x432073[_0x520422(0xb45)](),_0x49ce28=_0x48aa74[_0x520422(0x206)][0x0]['content'][_0x520422(0x538)][0x0][_0x520422(0x7b0)][_0x520422(0x4fe)]()[_0x520422(0x939)]();return _0x49ce28===_0x520422(0x7a0);}catch(_0x14f8fc){return console[_0x520422(0xb95)](_0x520422(0x9f7),_0x14f8fc),![];}}async function processAndSubmitAnswers(_0x169f53,_0x4b724e){const _0x3c01ca=_0x4414d4;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x3c01ca(0x3ee)](_0x3c01ca(0x237),handleFullscreenChange),document[_0x3c01ca(0x3ee)]('visibilitychange',handleVisibilityChange);let _0x16b472=0x0;const _0x19e745=[],_0x527689=currentDisplayedQuiz[_0x3c01ca(0x132)][_0x3c01ca(0x9fa)];let _0x20184b=0x0,_0x4c0091=[];const _0x28c1c5=currentDisplayedQuiz['questions'];for(let _0x207880=0x0;_0x207880<_0x28c1c5['length'];_0x207880++){const _0x30bedc=_0x28c1c5[_0x207880],_0x18efee=_0x169f53[_0x207880],_0x3ce722=_0x18efee?_0x18efee[_0x3c01ca(0x821)]:null,_0x5db084=_0x18efee?_0x18efee['wasConfident']:null;let _0x3f3864=![],_0x3bbb8a=0x0;if(_0x3ce722!==null&&_0x3ce722!==''){const _0x56c7cb=_0x30bedc[_0x3c01ca(0xc2f)]||currentDisplayedQuiz[_0x3c01ca(0x76d)];switch(_0x56c7cb){case _0x3c01ca(0x572):_0x3f3864=_0x3ce722===_0x30bedc[_0x3c01ca(0x3dc)];break;case _0x3c01ca(0x26d):const _0x5b6a7a=_0x3ce722===!![]||_0x3ce722===_0x3c01ca(0x7a0);_0x3f3864=_0x5b6a7a===_0x30bedc[_0x3c01ca(0x294)];break;case'short_answer':_0x3f3864=await gradeShortAnswer(_0x3ce722,_0x30bedc);break;case'multiple_choice':default:_0x3f3864=Number(_0x3ce722)===_0x30bedc['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0x3c01ca(0xb21)]?.['isConfidenceScoringEnabled']){const _0x123351=_0x18efee?_0x18efee['wasConfident']:null;if(_0x3f3864&&(_0x123351===!![]||_0x123351===_0x3c01ca(0x786)))_0x3bbb8a=0x2;else{if(_0x3f3864)_0x3bbb8a=0x1;else{if(!_0x3f3864&&(_0x123351===![]||_0x123351===_0x3c01ca(0x42d)||_0x123351===null))_0x3bbb8a=0x0;else!_0x3f3864&&(_0x123351===!![]||_0x123351==='confident')&&(_0x3bbb8a=-0x1);}}}else _0x3bbb8a=_0x3f3864?0x1:0x0;_0x16b472+=_0x3bbb8a;if(_0x3f3864){_0x20184b++;if(_0x20184b===0x3)_0x4c0091[_0x3c01ca(0x464)](BADGES[_0x3c01ca(0x22b)]['id']);}else _0x20184b=0x0;let _0x4a04eb=null;_0x30bedc['options']&&_0x3ce722!==null&&(_0x4a04eb=_0x30bedc[_0x3c01ca(0xb4a)][_0x3ce722]),_0x19e745[_0x3c01ca(0x464)]({'questionId':_0x30bedc['id'],'answer':_0x3ce722,'answerText':_0x4a04eb,'isCorrect':_0x3f3864,'wasConfident':_0x5db084,'pointsAwarded':_0x3bbb8a,'originalQuestionText':_0x30bedc[_0x3c01ca(0x610)]||_0x30bedc[_0x3c01ca(0x364)]});}const _0x592629=_0x19e745['filter'](_0x563f73=>_0x563f73[_0x3c01ca(0x2c8)])['length'],_0x59c12f=currentDisplayedQuiz[_0x3c01ca(0xb21)]?.[_0x3c01ca(0x1c1)]??Math[_0x3c01ca(0x688)](_0x527689/0x2);_0x592629===_0x527689&&_0x527689>0x0&&!currentDisplayedQuiz[_0x3c01ca(0x75a)]&&_0x4c0091[_0x3c01ca(0x464)](BADGES[_0x3c01ca(0x5d5)]['id']);const _0x102f38=currentDisplayedQuiz['settings']?.['timerMode'];if(_0x102f38===_0x3c01ca(0x7aa)&&quizStartTime){const _0x22c8fb=(new Date()-quizStartTime)/0x3e8,_0x45f8e9=currentDisplayedQuiz[_0x3c01ca(0xb21)][_0x3c01ca(0x279)]*0x3c;_0x592629>=_0x59c12f&&_0x22c8fb<_0x45f8e9/0x2&&_0x4c0091[_0x3c01ca(0x464)](BADGES[_0x3c01ca(0x49b)]['id']);}_0x4b724e[_0x3c01ca(0x9fa)]===0x0&&_0x592629===_0x527689&&_0x527689>0x0&&_0x4c0091[_0x3c01ca(0x464)](BADGES[_0x3c01ca(0xa68)]['id']);if(_0x4b724e[_0x3c01ca(0x9fa)]>0x0){const _0x8f9da3=_0x4b724e[0x0]['score'];if(_0x8f9da3<_0x59c12f&&_0x592629>=_0x59c12f){const _0x3b46b0=_0x4b724e['some'](_0x3049e2=>(_0x3049e2[_0x3c01ca(0x22c)]||[])[_0x3c01ca(0x6ed)](BADGES[_0x3c01ca(0xaf3)]['id']));!_0x3b46b0&&_0x4c0091[_0x3c01ca(0x464)](BADGES[_0x3c01ca(0xaf3)]['id']);}}_0x4b724e[_0x3c01ca(0x9fa)]===0x4&&_0x4c0091[_0x3c01ca(0x464)](BADGES[_0x3c01ca(0x2c4)]['id']);const _0x15946f=currentDisplayedQuiz[_0x3c01ca(0xb21)]['resultsDisplay'];if(currentMode===_0x3c01ca(0xa63)){handleResultDisplay(_0x15946f,_0x592629,_0x16b472,_0x4c0091,_0x19e745,_0x527689);return;}const _0x329bc6=currentQuizData['id'],_0x46eaa2=doc(db,_0x3c01ca(0x763)+appId+'/public/data/quizzes/'+_0x329bc6+_0x3c01ca(0xa32),currentStudentName);try{const _0x3ead23=[..._0x4b724e],_0x3ada31={'score':_0x592629,'points':_0x16b472,'badges':Array['from'](new Set(_0x4c0091)),'submittedAt':new Date()[_0x3c01ca(0x759)](),'answers':_0x19e745};_0x3ead23[_0x3c01ca(0x464)](_0x3ada31);const _0x19f266=_0x4b724e[_0x3c01ca(0x9fa)]===0x0?_0x592629:_0x4b724e[0x0][_0x3c01ca(0x288)]||0x0,_0x4eb024=Math[_0x3c01ca(0x682)](..._0x3ead23[_0x3c01ca(0xb6a)](_0x2c713e=>_0x2c713e[_0x3c01ca(0x288)]));await setDoc(_0x46eaa2,{'studentName':currentStudentName,'totalQuestions':_0x527689,'attempts':_0x3ead23,'firstScore':_0x19f266,'bestScore':_0x4eb024,'latestScore':_0x592629,'points':_0x16b472,'latestSubmittedAt':_0x3ada31[_0x3c01ca(0x2a4)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x3c01ca(0x661)],currentStudentName),handleResultDisplay(_0x15946f,_0x592629,_0x16b472,_0x4c0091,_0x19e745,_0x527689);}catch(_0x125970){console[_0x3c01ca(0xb95)]('Error\x20saving\x20submission:',_0x125970),showMessage(_0x3c01ca(0x8bb));}}async function updateStudentProfile(_0x26c7e7,_0xc4675d){const _0x14e71d=_0x4414d4,_0x58b038=doc(db,'artifacts/'+appId+_0x14e71d(0x275)+_0x26c7e7+_0x14e71d(0xb63),_0xc4675d);try{const _0x10d11e=query(collection(db,_0x14e71d(0x763)+appId+_0x14e71d(0x2cd)),where(_0x14e71d(0x661),'==',_0x26c7e7)),_0x49951d=await getDocs(_0x10d11e),_0x2c86ff=new Map(_0x49951d[_0x14e71d(0x599)]['map'](_0xe20c01=>[_0xe20c01['id'],_0xe20c01[_0x14e71d(0x213)]()])),_0x4af4e4=Array[_0x14e71d(0x65a)](_0x2c86ff[_0x14e71d(0x84e)]());await runTransaction(db,async _0x27cc21=>{const _0x313cd8=_0x14e71d;let _0x33dfa0=0x0;const _0x46b54d={};let _0xa77944=!![],_0x5eab0d=0x0,_0x4e007f=0x0;for(const _0x191081 of _0x4af4e4){const _0x28553c=_0x2c86ff[_0x313cd8(0x346)](_0x191081),_0x1cb181=doc(db,'artifacts/'+appId+_0x313cd8(0x2b2)+_0x191081+_0x313cd8(0xa32),_0xc4675d),_0x5533bf=await _0x27cc21[_0x313cd8(0x346)](_0x1cb181);if(_0x5533bf[_0x313cd8(0x523)]()){const _0x386354=_0x5533bf['data'](),_0x265fbc=_0x386354[_0x313cd8(0x18d)]||[];if(_0x265fbc[_0x313cd8(0x9fa)]>0x0){const _0x87b768=_0x265fbc[_0x313cd8(0x6d8)]((_0x479f73,_0x5566b7)=>{const _0x1b76f9=_0x313cd8;if(_0x5566b7[_0x1b76f9(0x288)]>_0x479f73[_0x1b76f9(0x288)])return _0x5566b7;if(_0x5566b7[_0x1b76f9(0x288)]===_0x479f73[_0x1b76f9(0x288)])return(_0x5566b7['points']||0x0)>(_0x479f73[_0x1b76f9(0x4d8)]||0x0)?_0x5566b7:_0x479f73;return _0x479f73;},{'score':-0x1,'points':-0x1});_0x87b768[_0x313cd8(0x288)]>-0x1&&(_0x33dfa0+=_0x87b768[_0x313cd8(0x4d8)]||0x0,(_0x87b768[_0x313cd8(0x22c)]||[])[_0x313cd8(0x15f)](_0x76a6ab=>{_0x46b54d[_0x76a6ab]=(_0x46b54d[_0x76a6ab]||0x0)+0x1;}));}}if(_0x28553c[_0x313cd8(0x78b)]!==_0x313cd8(0xa62)){_0x4e007f++;if(_0x5533bf[_0x313cd8(0x523)]()){_0x5eab0d++;const _0x3fe8e7=_0x5533bf[_0x313cd8(0x213)]();_0x3fe8e7[_0x313cd8(0x1a1)]!==_0x3fe8e7[_0x313cd8(0x511)]&&(_0xa77944=![]);}else _0xa77944=![];}}_0x4e007f>0x0&&_0x5eab0d===_0x4e007f&&_0xa77944?_0x46b54d[_0x313cd8(0x262)]=0x1:_0x46b54d[_0x313cd8(0x262)]=0x0,_0x27cc21[_0x313cd8(0x151)](_0x58b038,{'studentName':_0xc4675d,'totalPoints':_0x33dfa0,'unlockedBadges':Object[_0x313cd8(0x84e)](_0x46b54d)[_0x313cd8(0x7c4)](_0x8ede6d=>_0x46b54d[_0x8ede6d]>0x0),'badgesCount':_0x46b54d},{'merge':!![]});});}catch(_0xd669a6){console['error'](_0x14e71d(0x9bc),_0xd669a6),showMessage(_0x14e71d(0x1c9));}}function startAdminTest(){const _0x84fc4f=_0x4414d4;if(!currentQuizData){showMessage(_0x84fc4f(0x73d));return;}let _0x59e42a=JSON[_0x84fc4f(0x607)](JSON[_0x84fc4f(0x177)](currentQuizData));currentMode=_0x84fc4f(0xa63),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x84fc4f(0xbeb)][_0x84fc4f(0x7bd)](_0x84fc4f(0x6ca)),studentView[_0x84fc4f(0xbeb)]['remove'](_0x84fc4f(0x6ca)),studentInitialView[_0x84fc4f(0xbeb)][_0x84fc4f(0x7bd)](_0x84fc4f(0x6ca)),studentNameSelectionView['classList']['add'](_0x84fc4f(0x6ca)),studentResultArea[_0x84fc4f(0xbeb)]['add'](_0x84fc4f(0x6ca)),studentQuizArea[_0x84fc4f(0xbeb)][_0x84fc4f(0x303)](_0x84fc4f(0x6ca)),quizStartTime=new Date(),displayQuizForStudent(_0x59e42a);}function handleResultDisplay(_0xde5098,_0x140bcd,_0x9c6eec,_0x1901cc,_0x3eb9a3,_0x565a5f){const _0x1fa361=_0x4414d4;if(_0xde5098===_0x1fa361(0x3cc)){displaySubmissionConfirmation();return;}const _0x58552f=currentDisplayedQuiz[_0x1fa361(0xb21)]?.['passingScore']??Math[_0x1fa361(0x688)](_0x565a5f/0x2),_0x47f593=currentDisplayedQuiz[_0x1fa361(0xb21)]?.[_0x1fa361(0x774)]??![],_0x5ccf69=currentDisplayedQuiz[_0x1fa361(0xb21)]?.[_0x1fa361(0x7b4)]===!![],_0x363178=_0x140bcd<_0x58552f,_0x47f192=_0xde5098===_0x1fa361(0x556)||_0xde5098===_0x1fa361(0x624);if(_0x5ccf69&&_0x363178&&!_0x47f192){_0xde5098===_0x1fa361(0x3d2)?displayResultsWithAnswers(_0x140bcd,_0x9c6eec,_0x1901cc,_0x3eb9a3,_0x565a5f,!![]):displayLoopScreen(_0x140bcd,_0x565a5f,_0xde5098);return;}if(_0x47f593&&_0x363178){startAdaptiveFlow(_0x3eb9a3,_0x140bcd,_0x565a5f);return;}switch(_0xde5098){case _0x1fa361(0x3d2):displayResultsWithAnswers(_0x140bcd,_0x9c6eec,_0x1901cc,_0x3eb9a3,_0x565a5f);break;case _0x1fa361(0xb1b):displayResultsScoreOnly(_0x140bcd,_0x9c6eec,_0x1901cc,_0x565a5f);break;case _0x1fa361(0x1fc):displayPassFailOnly(_0x140bcd,_0x565a5f);break;case _0x1fa361(0x556):displayHalfMarkResult(_0x140bcd,_0x565a5f);break;case _0x1fa361(0x624):displayPerfectScoreResult(_0x140bcd,_0x565a5f);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x470588){const _0x2ab762=_0x4414d4;studentReadingArea[_0x2ab762(0x61b)]=_0x2ab762(0x4ed);const _0xfefa7c=_0x2ab762(0x505)+_0x470588+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x2ab762(0x73b),_0x545ef7={'type':_0x2ab762(0x7d7),'properties':{'questionText':{'type':_0x2ab762(0x616)},'options':{'type':_0x2ab762(0x4d4),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2ab762(0x345)},'explanation':{'type':_0x2ab762(0x616)}},'required':[_0x2ab762(0x364),'options',_0x2ab762(0x74c),'explanation']},_0x31173a={'type':_0x2ab762(0x7d7),'properties':{'topic':{'type':_0x2ab762(0x616)},'questions':{'type':_0x2ab762(0x4d4),'items':_0x545ef7}},'required':[_0x2ab762(0x78b),_0x2ab762(0x132)]};try{const _0x1087ef=await callAnalysisApi(_0xfefa7c,_0x31173a);_0x1087ef['isRemedial']=!![],studentReadingArea['classList'][_0x2ab762(0x7bd)]('hidden');const _0x4a54ea={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x1087ef[_0x2ab762(0xb21)]=_0x4a54ea,displayQuizForStudent(_0x1087ef);}catch(_0x4d2997){console['error']('Remedial\x20quiz\x20generation\x20failed:',_0x4d2997),showMessage(_0x2ab762(0x848)),showView(_0x2ab762(0x1e0));}}function displayPassFailOnly(_0x32a004,_0x2867a8){const _0x3e1c98=_0x4414d4,_0x31bec2=currentDisplayedQuiz[_0x3e1c98(0xb21)]?.[_0x3e1c98(0x1c1)]??-0x1,_0x414067=currentDisplayedQuiz[_0x3e1c98(0x75a)]===!![];let _0x12aad7='',_0x4f41a9=![];if(_0x414067||_0x31bec2!==-0x1){_0x4f41a9=_0x414067?_0x32a004===_0x2867a8:_0x32a004>=_0x31bec2;const _0x181a35=_0x4f41a9?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x49769c=_0x4f41a9?_0x3e1c98(0x9c2):'ไม่ผ่าน';_0x12aad7=_0x3e1c98(0x148)+_0x181a35+'\x22>'+_0x49769c+_0x3e1c98(0x140);}else _0x12aad7='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x2d3f91='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12aad7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3e1c98(0x61b)]=_0x2d3f91,studentResultArea['classList']['remove'](_0x3e1c98(0x6ca)),studentQuizArea[_0x3e1c98(0xbeb)][_0x3e1c98(0x7bd)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x4f41a9});}function cancelAdminTest(){const _0x2ec105=_0x4414d4;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x2ec105(0x3ee)](_0x2ec105(0x237),handleFullscreenChange),document['removeEventListener'](_0x2ec105(0xa2e),handleVisibilityChange),currentMode=_0x2ec105(0x512),studentView[_0x2ec105(0xbeb)][_0x2ec105(0x7bd)](_0x2ec105(0x6ca)),adminView['classList'][_0x2ec105(0x303)](_0x2ec105(0x6ca)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x2ec105(0x2bf));}function setupResultScreenBackButton(_0x13fd60){const _0x5c77d9=_0x4414d4,_0xc2e247={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x13fd60};if(_0xc2e247[_0x5c77d9(0x5fa)]){const _0x3dd8e3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x5c77d9(0x252)](_0x5c77d9(0x45e),_0x3dd8e3),document[_0x5c77d9(0x651)](_0x5c77d9(0xc0c))[_0x5c77d9(0x7bb)](_0x5c77d9(0x530),()=>{const _0x4598ea=_0x5c77d9;studentResultArea[_0x4598ea(0xbeb)][_0x4598ea(0x7bd)](_0x4598ea(0x6ca)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x1fc979='back-from-results-btn',_0x158222=currentMode==='admin-testing',_0x1d0f49=_0x158222?_0x5c77d9(0x241):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x407f7f='';_0xc2e247['showRankings']&&(_0x407f7f+=_0x5c77d9(0x739));let _0x25d44b=_0xc2e247[_0x5c77d9(0x8eb)];_0x25d44b===undefined&&(_0x25d44b=_0xc2e247['score']<_0xc2e247[_0x5c77d9(0x511)]);_0x25d44b&&(_0x407f7f+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x407f7f+='<button\x20id=\x22'+_0x1fc979+_0x5c77d9(0x60b)+_0x1d0f49+_0x5c77d9(0x6fc);const _0x2d80c1='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x407f7f+_0x5c77d9(0x8ff);studentResultArea[_0x5c77d9(0x252)](_0x5c77d9(0x45e),_0x2d80c1),studentResultArea[_0x5c77d9(0x2d5)](_0x5c77d9(0x60f))?.[_0x5c77d9(0x7bb)](_0x5c77d9(0x530),handleShowStudentRankings);const _0x21b590=studentResultArea[_0x5c77d9(0x2d5)](_0x5c77d9(0x3ce));_0x21b590&&_0x21b590[_0x5c77d9(0x7bb)](_0x5c77d9(0x530),()=>{const _0x2d9c95=_0x5c77d9;studentResultArea[_0x2d9c95(0xbeb)][_0x2d9c95(0x7bd)](_0x2d9c95(0x6ca)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x5c77d9(0x651)](_0x1fc979)[_0x5c77d9(0x7bb)](_0x5c77d9(0x530),()=>{const _0x4e8bb0=_0x5c77d9;_0x158222?(currentMode='admin',studentView[_0x4e8bb0(0xbeb)][_0x4e8bb0(0x7bd)](_0x4e8bb0(0x6ca)),adminView[_0x4e8bb0(0xbeb)]['remove'](_0x4e8bb0(0x6ca)),showView(_0x4e8bb0(0x2bf))):(showView(_0x4e8bb0(0x1e0)),document[_0x4e8bb0(0x651)]('quiz-id-input')[_0x4e8bb0(0x3b7)]='');});}function displayResultsWithAnswers(_0xe2cb19,_0x31d08d,_0x55020e,_0x279aba,_0x990356,_0x2321db=![]){const _0x1886f6=_0x4414d4,_0x50b4d5=_0x990356>0x0?_0xe2cb19/_0x990356*0x64:0x0,_0x351078=currentDisplayedQuiz[_0x1886f6(0xb21)]?.[_0x1886f6(0x1c1)]??-0x1,_0x4feb43=currentDisplayedQuiz[_0x1886f6(0x75a)]===!![];let _0x105b41='';if(_0x4feb43||_0x351078!==-0x1){let _0x2489a3=_0x4feb43?_0xe2cb19===_0x990356:_0xe2cb19>=_0x351078;const _0x23db04=_0x2489a3?_0x1886f6(0xaac):_0x1886f6(0x467),_0x4f743f=_0x2489a3?_0x1886f6(0x9c2):_0x1886f6(0x871);_0x105b41=_0x1886f6(0x928)+_0x23db04+'\x22>'+_0x4f743f+_0x1886f6(0x630);}let _0x13dfd0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0xe2cb19+_0x1886f6(0x789)+_0x990356+_0x1886f6(0x582)+_0x105b41+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x31d08d+_0x1886f6(0xc24)+_0x50b4d5[_0x1886f6(0x785)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz['questions'][_0x1886f6(0x15f)]((_0x46477c,_0x24e50b)=>{const _0x540e44=_0x1886f6,_0x3500a0=_0x279aba[_0x24e50b],_0xc36764=_0x3500a0[_0x540e44(0x821)],_0xc8be2b=_0x3500a0[_0x540e44(0x2c8)],_0x467ead=_0x46477c[_0x540e44(0xc2f)]||currentDisplayedQuiz[_0x540e44(0x76d)];_0x13dfd0+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0xc8be2b?_0x540e44(0xb34):_0x540e44(0xbe1))+_0x540e44(0x431)+(_0x24e50b+0x1)+'.\x20'+(_0x46477c[_0x540e44(0x610)]||_0x46477c[_0x540e44(0x364)])+_0x540e44(0x86b);switch(_0x467ead){case _0x540e44(0x572):const _0x5cd914=_0xc36764||_0x540e44(0x8af),_0x42f2e6=_0x46477c[_0x540e44(0x3dc)];_0x13dfd0+=_0x540e44(0x798)+(!_0xc8be2b?_0x540e44(0x551):'')+'\x22>'+_0x5cd914+_0x540e44(0x9ba);!_0xc8be2b&&(_0x13dfd0+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x42f2e6+_0x540e44(0x630));break;case'short_answer':_0x13dfd0+=_0x540e44(0x80e)+(_0xc36764||_0x540e44(0x8af))+_0x540e44(0x630),_0x13dfd0+=_0x540e44(0x97b)+_0x46477c['idealAnswer']+_0x540e44(0x630);break;case _0x540e44(0x26d):_0x13dfd0+=_0x540e44(0xb6d)+(_0x46477c[_0x540e44(0x294)]===!![]?_0x540e44(0x495):'')+'\x20'+(_0xc36764==='true'&&!_0xc8be2b?_0x540e44(0x551):'')+_0x540e44(0x90a),_0x13dfd0+=_0x540e44(0xb6d)+(_0x46477c[_0x540e44(0x294)]===![]?_0x540e44(0x495):'')+'\x20'+(_0xc36764===_0x540e44(0x20e)&&!_0xc8be2b?'line-through\x20text-red-700':'')+_0x540e44(0x8d1);break;default:_0x13dfd0+=_0x46477c[_0x540e44(0xb4a)]['map']((_0x4790bb,_0x2cefd9)=>{const _0x413df3=_0x540e44;let _0x40e6c6='',_0x274459='';if(_0x2cefd9===_0x46477c[_0x413df3(0x74c)])_0x40e6c6=_0x413df3(0x495),_0x274459=_0x413df3(0xa02);else _0x2cefd9===_0xc36764&&(_0x40e6c6=_0x413df3(0x767),_0x274459='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return'<div\x20class=\x22'+_0x40e6c6+'\x22>'+_0x274459+_0x4790bb+'</div>';})[_0x540e44(0x254)]('');break;}_0x13dfd0+=_0x540e44(0x2d1)+(_0x46477c[_0x540e44(0x27d)]||_0x540e44(0x21f))+_0x540e44(0x8ff);if(!_0xc8be2b){const _0x312171=_0x46477c[_0x540e44(0x610)]||_0x46477c[_0x540e44(0x364)];_0x13dfd0+=_0x540e44(0xadd)+escape(_0x312171)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x13dfd0+=_0x540e44(0x8ff);}),studentResultArea[_0x1886f6(0x61b)]=_0x13dfd0,renderEarnedBadges(_0x55020e,_0x1886f6(0x9b6)),studentResultArea[_0x1886f6(0xbeb)]['remove'](_0x1886f6(0x6ca)),studentQuizArea['classList']['add']('hidden'),setupResultScreenBackButton({'isLooping':_0x2321db,'score':_0xe2cb19,'totalQuestions':_0x990356,'showRankings':!![]});if(window['MathJax'])window['MathJax'][_0x1886f6(0x1f8)]([studentResultArea]);}function displayResultsScoreOnly(_0x170824,_0x3f29ee,_0x54a6bf,_0x3d2fbf){const _0x50bb30=_0x4414d4,_0x2b3e8b=_0x3d2fbf>0x0?_0x170824/_0x3d2fbf*0x64:0x0,_0x4713e7=currentDisplayedQuiz['settings']?.[_0x50bb30(0x1c1)]??-0x1,_0x1feb55=currentDisplayedQuiz[_0x50bb30(0x75a)]===!![];let _0x368cad='';if(_0x1feb55||_0x4713e7!==-0x1){let _0x5ad83f=_0x1feb55?_0x170824===_0x3d2fbf:_0x170824>=_0x4713e7;const _0x2f6715=_0x5ad83f?_0x50bb30(0xaac):_0x50bb30(0x467),_0x45809d=_0x5ad83f?_0x50bb30(0x9c2):_0x50bb30(0x871);_0x368cad=_0x50bb30(0x928)+_0x2f6715+'\x22>'+_0x45809d+_0x50bb30(0x630);}let _0x5cda7b=_0x50bb30(0x5b7)+currentStudentName+_0x50bb30(0xb57)+_0x170824+_0x50bb30(0xbb8)+_0x3d2fbf+_0x50bb30(0x582)+_0x368cad+_0x50bb30(0x915)+_0x3f29ee+_0x50bb30(0x268)+_0x2b3e8b[_0x50bb30(0x785)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x50bb30(0x61b)]=_0x5cda7b,renderEarnedBadges(_0x54a6bf,_0x50bb30(0x9b6)),studentResultArea[_0x50bb30(0xbeb)][_0x50bb30(0x303)](_0x50bb30(0x6ca)),studentQuizArea[_0x50bb30(0xbeb)][_0x50bb30(0x7bd)](_0x50bb30(0x6ca)),setupResultScreenBackButton({'score':_0x170824,'totalQuestions':_0x3d2fbf,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x2cb079=_0x4414d4;let _0x44481c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x44481c,studentResultArea['classList'][_0x2cb079(0x303)](_0x2cb079(0x6ca)),studentQuizArea[_0x2cb079(0xbeb)][_0x2cb079(0x7bd)]('hidden'),document[_0x2cb079(0x651)](_0x2cb079(0x27c))[_0x2cb079(0x7bb)]('click',()=>{const _0x508f44=_0x2cb079;showView(_0x508f44(0x1e0)),document[_0x508f44(0x651)]('quiz-id-input')[_0x508f44(0x3b7)]='';});}function renderEarnedBadges(_0x3aed93,_0x3f521b){const _0x1ef8f9=_0x4414d4,_0x515da3=document[_0x1ef8f9(0x651)](_0x3f521b);if(!_0x515da3||!_0x3aed93||_0x3aed93[_0x1ef8f9(0x9fa)]===0x0)return;let _0x3b1df0='';_0x3aed93[_0x1ef8f9(0x15f)]((_0x537d6a,_0x1aaed9)=>{const _0x1d0fd0=_0x1ef8f9,_0xe3f312=Object[_0x1d0fd0(0x329)](BADGES)[_0x1d0fd0(0xbc5)](_0x49541b=>_0x49541b['id']===_0x537d6a);_0xe3f312&&(_0x3b1df0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x1aaed9*0.2+_0x1d0fd0(0x996)+_0xe3f312[_0x1d0fd0(0x4e1)]+_0x1d0fd0(0x51f)+_0xe3f312['icon']+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0xe3f312['name']+_0x1d0fd0(0x5f5));}),_0x515da3[_0x1ef8f9(0x61b)]=_0x3b1df0;}function startPresentation(_0x324c68){const _0x1b1e14=_0x4414d4;currentQuizData=getShuffledQuiz(_0x324c68),currentPresentationSlide=0x0,presentationModal[_0x1b1e14(0x5ce)][_0x1b1e14(0x4ba)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x418637=_0x4414d4;document['fullscreenElement']&&document[_0x418637(0x498)](),presentationModal[_0x418637(0x5ce)][_0x418637(0x4ba)]=_0x418637(0xb35);}function renderPresentationSlide(_0x497048){const _0x916e7b=_0x4414d4,_0x1d39dd=document[_0x916e7b(0x651)](_0x916e7b(0xa4e));if(!currentQuizData||!currentQuizData[_0x916e7b(0x132)]||!currentQuizData[_0x916e7b(0x132)][_0x497048]){_0x1d39dd[_0x916e7b(0x61b)]=_0x916e7b(0xa72);return;}const _0x13b1a6=currentQuizData[_0x916e7b(0x132)][_0x497048],_0x4c062e=_0x13b1a6[_0x916e7b(0xc2f)]||currentQuizData[_0x916e7b(0x76d)];_0x1d39dd[_0x916e7b(0x61b)]='';let _0x1b7e6a=_0x916e7b(0x1a4)+(_0x13b1a6[_0x916e7b(0x1ea)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x13b1a6[_0x916e7b(0x1ea)]+_0x916e7b(0x8ff):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x497048+0x1)+'.\x20'+(_0x13b1a6[_0x916e7b(0x610)]||_0x13b1a6[_0x916e7b(0x364)])+_0x916e7b(0x5e5);switch(_0x4c062e){case _0x916e7b(0x572):_0x1b7e6a+=_0x13b1a6['allResponses'][_0x916e7b(0xb6a)](_0x2098be=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2098be+_0x916e7b(0xa25))['join']('');break;case _0x916e7b(0x26d):_0x1b7e6a+=_0x916e7b(0x897),_0x1b7e6a+=_0x916e7b(0x396);break;case'fill_in_no_choices':case _0x916e7b(0x808):_0x1b7e6a+=_0x916e7b(0x9fe);break;case _0x916e7b(0x856):case _0x916e7b(0x2c6):default:_0x1b7e6a+=_0x13b1a6[_0x916e7b(0xb4a)][_0x916e7b(0xb6a)]((_0x215e9e,_0x2ef2fb)=>_0x916e7b(0xb7b)+_0x2ef2fb+_0x916e7b(0x315)+_0x215e9e+_0x916e7b(0xa25))[_0x916e7b(0x254)]('');break;}_0x1b7e6a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x13b1a6[_0x916e7b(0x27d)]||'ไม่มีคำอธิบาย')+_0x916e7b(0x85f),_0x1d39dd['innerHTML']=_0x1b7e6a;if(window['MathJax'])window[_0x916e7b(0x858)][_0x916e7b(0x1f8)]([_0x1d39dd]);let _0x448cb8=[];switch(_0x4c062e){case _0x916e7b(0x572):_0x448cb8=_0x13b1a6[_0x916e7b(0x67e)]||[];break;case _0x916e7b(0x26d):_0x448cb8=['ใช่','ไม่ใช่'];break;default:_0x448cb8=_0x13b1a6[_0x916e7b(0xb4a)]||[];break;}const _0x29fd49=document['getElementById']('presentation-scratchpad-btn');_0x29fd49&&(_0x29fd49[_0x916e7b(0x901)]=()=>{openScratchpad(_0x13b1a6,_0x448cb8);});document['querySelectorAll'](_0x916e7b(0x707))[_0x916e7b(0x15f)](_0x2f516c=>{const _0x38ee92=_0x916e7b;_0x2f516c['addEventListener'](_0x38ee92(0x530),_0x4f58b2=>revealAnswerForPresentation(_0x497048,_0x4f58b2['currentTarget']));});const _0x54c143=document[_0x916e7b(0x651)](_0x916e7b(0xab8));_0x54c143&&_0x54c143['addEventListener']('click',()=>checkShortAnswerForPresentation(_0x497048)),document[_0x916e7b(0x651)]('slide-counter')[_0x916e7b(0xc23)]='ข้อที่\x20'+(_0x497048+0x1)+_0x916e7b(0x8b5)+currentQuizData[_0x916e7b(0x132)][_0x916e7b(0x9fa)],document[_0x916e7b(0x651)](_0x916e7b(0x658))[_0x916e7b(0x993)]=_0x497048===0x0,document[_0x916e7b(0x651)](_0x916e7b(0x9e5))[_0x916e7b(0x993)]=_0x497048===currentQuizData[_0x916e7b(0x132)][_0x916e7b(0x9fa)]-0x1;}async function checkShortAnswerForPresentation(_0x393eb7){const _0x51a4f8=_0x4414d4,_0xe3b97e=currentQuizData[_0x51a4f8(0x132)][_0x393eb7],_0x442a57=document[_0x51a4f8(0x651)](_0x51a4f8(0x7e3)),_0x11e53d=document[_0x51a4f8(0x651)](_0x51a4f8(0xab8)),_0x1580a7=document['getElementById']('presentation-ai-result'),_0x29841b=document[_0x51a4f8(0x651)](_0x51a4f8(0x1af));if(!_0x442a57||!_0x11e53d||!_0x1580a7||!_0x29841b)return;const _0x174af4=_0x442a57[_0x51a4f8(0x3b7)][_0x51a4f8(0x4fe)]();if(_0x174af4==='')return;_0x11e53d['disabled']=!![],_0x11e53d[_0x51a4f8(0x61b)]=_0x51a4f8(0x998),_0x442a57[_0x51a4f8(0x993)]=!![];const _0x4784e1=await gradeShortAnswer(_0x174af4,_0xe3b97e);_0x4784e1?_0x1580a7[_0x51a4f8(0x61b)]=_0x51a4f8(0x35a):_0x1580a7['innerHTML']='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0xe3b97e[_0x51a4f8(0xb5f)]+')',_0x1580a7['classList'][_0x51a4f8(0x303)]('hidden'),_0x29841b['classList'][_0x51a4f8(0x303)](_0x51a4f8(0x6ca)),_0x11e53d['classList'][_0x51a4f8(0x7bd)](_0x51a4f8(0x6ca));}function revealAnswerForPresentation(_0x3923fd,_0x18a593){const _0xe86cfe=_0x4414d4,_0xa03ccf=currentQuizData[_0xe86cfe(0x132)][_0x3923fd],_0x504a77=_0xa03ccf[_0xe86cfe(0xc2f)]||currentQuizData['quizType'];document['querySelectorAll'](_0xe86cfe(0x707))[_0xe86cfe(0x15f)](_0x20714a=>{const _0x436348=_0xe86cfe;_0x20714a['disabled']=!![],_0x20714a[_0x436348(0xbeb)]['remove'](_0x436348(0xb4e));let _0x5c2ccf=![];if(_0x504a77===_0x436348(0x2c6)||_0x504a77==='fill_in_the_blank'){const _0x6af71b=parseInt(_0x20714a['dataset'][_0x436348(0x5d7)]);_0x5c2ccf=_0x6af71b===_0xa03ccf[_0x436348(0x74c)];}else{if(_0x504a77===_0x436348(0x26d)){const _0x18a19f=_0x20714a[_0x436348(0x3b5)][_0x436348(0x821)]==='true';_0x5c2ccf=_0x18a19f===_0xa03ccf[_0x436348(0x294)];}else _0x504a77===_0x436348(0x572)&&(_0x5c2ccf=_0x20714a[_0x436348(0xc23)][_0x436348(0x4fe)]()===_0xa03ccf[_0x436348(0x3dc)]);}_0x5c2ccf?_0x20714a[_0x436348(0xbeb)][_0x436348(0x7bd)]('bg-green-500',_0x436348(0x31b),_0x436348(0x5f2)):_0x20714a['classList']['add'](_0x436348(0x9a6));}),_0x18a593[_0xe86cfe(0xbeb)][_0xe86cfe(0x303)](_0xe86cfe(0x9a6));let _0x29daed=![];if(_0x504a77===_0xe86cfe(0x2c6))_0x29daed=parseInt(_0x18a593[_0xe86cfe(0x3b5)][_0xe86cfe(0x5d7)])===_0xa03ccf[_0xe86cfe(0x74c)];else{if(_0x504a77===_0xe86cfe(0x26d))_0x29daed=_0x18a593[_0xe86cfe(0x3b5)][_0xe86cfe(0x821)]===_0xe86cfe(0x7a0)===_0xa03ccf[_0xe86cfe(0x294)];else _0x504a77==='matching_item'&&(_0x29daed=_0x18a593[_0xe86cfe(0xc23)][_0xe86cfe(0x4fe)]()===_0xa03ccf['correctResponse']);}!_0x29daed&&_0x18a593[_0xe86cfe(0xbeb)]['add'](_0xe86cfe(0x185),_0xe86cfe(0x31b),_0xe86cfe(0x56a)),document[_0xe86cfe(0x651)](_0xe86cfe(0x1af))[_0xe86cfe(0xbeb)]['remove'](_0xe86cfe(0x6ca));}function startWholeQuizTimer(_0x4e15df){const _0x556a3e=_0x4414d4,_0x30aee7=document[_0x556a3e(0x651)](_0x556a3e(0x83b));if(!_0x30aee7)return;const _0x3d8998=Date[_0x556a3e(0xbcc)]()+_0x4e15df*0x3c*0x3e8;_0x30aee7['innerHTML']=_0x556a3e(0x4c0);const _0x801035=document[_0x556a3e(0x651)](_0x556a3e(0xc1c));quizTimerInterval=setInterval(()=>{const _0x2d1778=_0x556a3e,_0x81a241=_0x3d8998-Date[_0x2d1778(0xbcc)]();if(_0x81a241<=0x0)clearInterval(quizTimerInterval),_0x801035[_0x2d1778(0xc23)]='00:00',showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x50572d=Math[_0x2d1778(0x688)](_0x81a241/0x3e8/0x3c%0x3c)['toString']()[_0x2d1778(0x973)](0x2,'0'),_0x4a6794=Math[_0x2d1778(0x688)](_0x81a241/0x3e8%0x3c)[_0x2d1778(0x332)]()[_0x2d1778(0x973)](0x2,'0');_0x801035[_0x2d1778(0xc23)]=_0x50572d+':'+_0x4a6794;}},0x3e8);}function renderPerQuestionView(){const _0x3602e1=_0x4414d4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x4c5cae=currentDisplayedQuiz[_0x3602e1(0x132)][currentQuestionIndex],_0x40f6f2=_0x4c5cae[_0x3602e1(0xc2f)]||currentDisplayedQuiz['quizType'],_0x2b4cfd=currentDisplayedQuiz[_0x3602e1(0xb21)]?.[_0x3602e1(0x29a)]===!![];let _0x49ac59='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz['questions'][_0x3602e1(0x9fa)]+_0x3602e1(0x86c)+(currentMode===_0x3602e1(0xa63)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x3602e1(0x564)+currentDisplayedQuiz[_0x3602e1(0x78b)]+_0x3602e1(0x925);studentQuizArea[_0x3602e1(0x61b)]=_0x49ac59;let _0x11ad05=_0x4c5cae[_0x3602e1(0x610)]||_0x4c5cae[_0x3602e1(0x364)];_0x4c5cae[_0x3602e1(0x1ea)]&&(_0x11ad05+=_0x3602e1(0x984)+_0x4c5cae[_0x3602e1(0x1ea)]+_0x3602e1(0x8ff));let _0x4e1c59='';switch(_0x40f6f2){case _0x3602e1(0x808):case _0x3602e1(0x55c):_0x4e1c59=_0x3602e1(0x5d9);break;case _0x3602e1(0x26d):_0x4e1c59='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case _0x3602e1(0x572):_0x4e1c59=_0x3602e1(0x19c)+(_0x4c5cae[_0x3602e1(0x67e)]||[])['map'](_0x26ffce=>_0x3602e1(0x6ef)+_0x26ffce+'\x22>'+_0x26ffce+_0x3602e1(0x433))[_0x3602e1(0x254)]('')+_0x3602e1(0x48c);break;default:_0x4c5cae['options']&&(_0x4e1c59=_0x4c5cae[_0x3602e1(0xb4a)]['map']((_0x4ee3ac,_0x469e2b)=>_0x3602e1(0x97d)+_0x469e2b+_0x3602e1(0x3c6)+_0x469e2b+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x469e2b+'\x22>'+_0x4ee3ac+'</label></div>')['join'](''));break;}document['getElementById'](_0x3602e1(0x641))[_0x3602e1(0x61b)]=_0x11ad05,document[_0x3602e1(0x651)](_0x3602e1(0xc03))[_0x3602e1(0x61b)]=_0x4e1c59;const _0x5eaf24=currentDisplayedQuiz[_0x3602e1(0xb21)]?.[_0x3602e1(0x29a)]===!![],_0x11b67c=currentDisplayedQuiz[_0x3602e1(0xb21)]?.[_0x3602e1(0x6e1)]||_0x3602e1(0x725);if(_0x5eaf24&&_0x11b67c===_0x3602e1(0x725)){const _0x18f61c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x3602e1(0x2d5)]('.mb-6.p-4')[_0x3602e1(0x252)](_0x3602e1(0x45e),_0x18f61c);}studentQuizArea[_0x3602e1(0x252)](_0x3602e1(0x45e),_0x3602e1(0x93c)+(currentQuestionIndex===currentDisplayedQuiz[_0x3602e1(0x132)]['length']-0x1?_0x3602e1(0x4f4):_0x3602e1(0xb0a))+_0x3602e1(0xa06));currentMode===_0x3602e1(0xa63)&&document[_0x3602e1(0x651)](_0x3602e1(0x41c))?.[_0x3602e1(0x7bb)](_0x3602e1(0x530),cancelAdminTest);document[_0x3602e1(0x651)](_0x3602e1(0x922))[_0x3602e1(0x7bb)](_0x3602e1(0x530),()=>handleNextQuestionInTimedMode(![]));if(window[_0x3602e1(0x858)])window[_0x3602e1(0x858)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x3602e1(0xb21)]?.[_0x3602e1(0x3af)]===_0x3602e1(0x3d1)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x252796=_0x4414d4,_0x2db799=currentDisplayedQuiz[_0x252796(0xb21)][_0x252796(0x279)],_0x5787ac=document['getElementById'](_0x252796(0x236));if(!_0x5787ac)return;let _0x2cc501=_0x2db799;_0x5787ac[_0x252796(0x61b)]=_0x252796(0x832)+_0x2cc501+_0x252796(0x7cd);const _0x28fdbd=document['getElementById']('timer-bar'),_0x1fd131=document[_0x252796(0x651)](_0x252796(0x6cf));perQuestionTimerInterval=setInterval(()=>{const _0x1c7c3e=_0x252796;_0x2cc501--;const _0x2920cb=_0x2cc501/_0x2db799*0x64;_0x28fdbd[_0x1c7c3e(0x5ce)][_0x1c7c3e(0x74f)]=_0x2920cb+'%',_0x1fd131[_0x1c7c3e(0xc23)]=_0x2cc501,_0x2cc501<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x1de488=![]){const _0x9d88ca=_0x4414d4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x4de684=null,_0x13968a=![];if(!_0x1de488){const _0x563d08=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x41365c=_0x563d08[_0x9d88ca(0xc2f)]||currentDisplayedQuiz[_0x9d88ca(0x76d)];if(_0x41365c===_0x9d88ca(0x808)||_0x41365c===_0x9d88ca(0x55c))_0x4de684=document[_0x9d88ca(0x2d5)]('textarea[name=\x22question_single\x22]')?.[_0x9d88ca(0x3b7)][_0x9d88ca(0x4fe)]()??'';else{if(_0x41365c===_0x9d88ca(0x572))_0x4de684=document[_0x9d88ca(0x2d5)](_0x9d88ca(0x1b3))?.[_0x9d88ca(0x3b7)]??'';else{const _0x30ca78=document[_0x9d88ca(0x2d5)](_0x9d88ca(0x884));_0x30ca78&&(_0x4de684=_0x30ca78[_0x9d88ca(0x3b7)]);}}if(_0x4de684===null||_0x4de684===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x27e9c1=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x1b94dd=currentDisplayedQuiz['settings']?.[_0x9d88ca(0x6e1)]||_0x9d88ca(0x725);if(_0x27e9c1&&_0x1b94dd===_0x9d88ca(0x5d0)){document[_0x9d88ca(0x651)](_0x9d88ca(0x442))['dataset'][_0x9d88ca(0x7b6)]=_0x9d88ca(0x403),document[_0x9d88ca(0x651)](_0x9d88ca(0x380))[_0x9d88ca(0x3b7)]=_0x4de684,document[_0x9d88ca(0x651)](_0x9d88ca(0x442))[_0x9d88ca(0xbeb)][_0x9d88ca(0x303)](_0x9d88ca(0x6ca));return;}const _0x1aa646=document[_0x9d88ca(0x651)](_0x9d88ca(0xa09));_0x1aa646&&(_0x13968a=_0x1aa646[_0x9d88ca(0x173)]);}const _0x1744c0={'answer':_0x4de684,'wasConfident':_0x13968a};proceedToNextQuestion(_0x1744c0);}async function finalizePerQuestionQuiz(){const _0x39925f=_0x4414d4,_0x216c1a=currentDisplayedQuiz[_0x39925f(0x132)][_0x39925f(0x2a3)](_0x140dc2=>_0x140dc2[_0x39925f(0xc2f)]===_0x39925f(0x808));_0x216c1a?showMessage(_0x39925f(0x172)):showMessage(_0x39925f(0x8a6));const _0x389868=currentQuizData['id'],_0x4d456c=doc(db,_0x39925f(0x763)+appId+_0x39925f(0x2b2)+_0x389868+_0x39925f(0xa32),currentStudentName),_0x42bfda=await getDoc(_0x4d456c),_0x390754=_0x42bfda[_0x39925f(0x523)]()?_0x42bfda[_0x39925f(0x213)]():{},_0x62f266=_0x390754[_0x39925f(0x18d)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x62f266);}function getResultsFilename(){const _0xff0777=_0x4414d4,_0x2ee2ea=document[_0xff0777(0x651)](_0xff0777(0x4f3))[_0xff0777(0xc23)][_0xff0777(0xa71)](/[^a-z0-9]/gi,'_')[_0xff0777(0x939)]();return _0xff0777(0x9b9)+(_0x2ee2ea||'quiz');}function exportResultsAsImage(){const _0x42ce80=_0x4414d4,_0x2bd327=document['getElementById']('results-table-container');showMessage(_0x42ce80(0x87b)),html2canvas(_0x2bd327)[_0x42ce80(0x501)](_0x5547ef=>{const _0x167bae=_0x42ce80,_0x363e73=document[_0x167bae(0x50d)]('a');_0x363e73[_0x167bae(0x718)]=getResultsFilename()+_0x167bae(0x693),_0x363e73['href']=_0x5547ef[_0x167bae(0x3dd)]('image/png'),_0x363e73[_0x167bae(0x530)](),messageModal[_0x167bae(0xbeb)]['add'](_0x167bae(0x6ca));});}function exportResultsAsPDF(){const _0x22a17b=_0x4414d4,{jsPDF:_0x587d1e}=window[_0x22a17b(0x1cd)],_0x5b0aaf=new _0x587d1e();_0x5b0aaf[_0x22a17b(0xbcb)]('helvetica','normal'),_0x5b0aaf[_0x22a17b(0x852)]({'html':_0x22a17b(0x2cb)}),_0x5b0aaf['save'](getResultsFilename()+_0x22a17b(0x205));}function exportResultsAsWord(){const _0x2ef7e6=_0x4414d4,_0x58094d=_0x2ef7e6(0x7da)+_0x2ef7e6(0x9f0)+_0x2ef7e6(0x3f0)+_0x2ef7e6(0x768),_0x5f1c2d='</body></html>',_0x20d914=_0x58094d+document['getElementById']('results-table-container')['innerHTML']+_0x5f1c2d,_0x34c812=_0x2ef7e6(0x5eb)+encodeURIComponent(_0x20d914),_0x13d525=document[_0x2ef7e6(0x50d)]('a');document[_0x2ef7e6(0xab6)][_0x2ef7e6(0x89c)](_0x13d525),_0x13d525[_0x2ef7e6(0x1c6)]=_0x34c812,_0x13d525[_0x2ef7e6(0x718)]=getResultsFilename()+_0x2ef7e6(0xae1),_0x13d525[_0x2ef7e6(0x530)](),document[_0x2ef7e6(0xab6)][_0x2ef7e6(0xbc9)](_0x13d525);}function exportResultsAsExcel(){const _0x4fe485=_0x4414d4,_0x47b17c=document[_0x4fe485(0x651)](_0x4fe485(0x3e3));let _0x5ae348=[];for(let _0x546992=0x0;_0x546992<_0x47b17c[_0x4fe485(0x956)][_0x4fe485(0x9fa)];_0x546992++){let _0x5534ae=[],_0x55cf6b=_0x47b17c[_0x4fe485(0x956)][_0x546992][_0x4fe485(0x514)](_0x4fe485(0x2cc));for(let _0x3b9e02=0x0;_0x3b9e02<_0x55cf6b['length'];_0x3b9e02++){_0x5534ae[_0x4fe485(0x464)]('\x22'+_0x55cf6b[_0x3b9e02][_0x4fe485(0x64a)][_0x4fe485(0xa71)](/"/g,'\x22\x22')+'\x22');}_0x5ae348['push'](_0x5534ae[_0x4fe485(0x254)](','));}const _0x2828fa=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5ae348['join']('\x0a')],{'type':_0x4fe485(0x791)}),_0x1c7d57=document[_0x4fe485(0x50d)]('a');_0x1c7d57[_0x4fe485(0x1c6)]=URL[_0x4fe485(0x9df)](_0x2828fa),_0x1c7d57[_0x4fe485(0x718)]=getResultsFilename()+_0x4fe485(0x76b),_0x1c7d57[_0x4fe485(0x530)]();}function exportTableAsImage(_0x5738d8,_0x5cac86){const _0x2d73ae=_0x4414d4,_0x466b61=document[_0x2d73ae(0x651)](_0x5738d8);if(!_0x466b61){showMessage(_0x2d73ae(0x6e0));return;}showMessage(_0x2d73ae(0x87b)),html2canvas(_0x466b61)[_0x2d73ae(0x501)](_0x48d692=>{const _0x5e7dc4=_0x2d73ae,_0x3cb5b6=document[_0x5e7dc4(0x50d)]('a');_0x3cb5b6[_0x5e7dc4(0x718)]=_0x5cac86+_0x5e7dc4(0x693),_0x3cb5b6[_0x5e7dc4(0x1c6)]=_0x48d692[_0x5e7dc4(0x3dd)](_0x5e7dc4(0xa97)),_0x3cb5b6['click'](),messageModal[_0x5e7dc4(0xbeb)][_0x5e7dc4(0x7bd)](_0x5e7dc4(0x6ca));});}function exportTableAsPDF(_0x2e3a7b,_0x15e814){const _0x515606=_0x4414d4,{jsPDF:_0x386706}=window[_0x515606(0x1cd)],_0x446c0a=new _0x386706();_0x446c0a['setFont'](_0x515606(0x95f),_0x515606(0xc00)),_0x446c0a[_0x515606(0x852)]({'html':'#'+_0x2e3a7b}),_0x446c0a[_0x515606(0xad2)](_0x15e814+_0x515606(0x205));}function exportTableAsWord(_0x1e7807,_0x75bea1){const _0x129e74=_0x4414d4,_0x105f8e=document[_0x129e74(0x651)](_0x1e7807);if(!_0x105f8e){showMessage(_0x129e74(0x6e0));return;}const _0x29a4e3=_0x129e74(0x7da)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x129e74(0x3f0)+_0x129e74(0x768),_0x1ef921=_0x129e74(0xbba),_0x50350c=_0x29a4e3+_0x105f8e['innerHTML']+_0x1ef921,_0x556332='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x50350c),_0x2ffc86=document[_0x129e74(0x50d)]('a');document['body'][_0x129e74(0x89c)](_0x2ffc86),_0x2ffc86['href']=_0x556332,_0x2ffc86[_0x129e74(0x718)]=_0x75bea1+_0x129e74(0xae1),_0x2ffc86[_0x129e74(0x530)](),document[_0x129e74(0xab6)]['removeChild'](_0x2ffc86);}function exportTableAsExcel(_0x1df154,_0x21f37a){const _0x5f0024=_0x4414d4,_0xaecee3=document['getElementById'](_0x1df154);if(!_0xaecee3){showMessage(_0x5f0024(0x6e0));return;}let _0x3ee7a9=[];for(let _0x3780f6=0x0;_0x3780f6<_0xaecee3[_0x5f0024(0x956)][_0x5f0024(0x9fa)];_0x3780f6++){let _0x1eacb5=[],_0x4bf223=_0xaecee3['rows'][_0x3780f6]['querySelectorAll'](_0x5f0024(0x2cc));for(let _0x16e30f=0x0;_0x16e30f<_0x4bf223[_0x5f0024(0x9fa)];_0x16e30f++){_0x1eacb5[_0x5f0024(0x464)]('\x22'+_0x4bf223[_0x16e30f][_0x5f0024(0x64a)][_0x5f0024(0xa71)](/"/g,'\x22\x22')+'\x22');}_0x3ee7a9[_0x5f0024(0x464)](_0x1eacb5[_0x5f0024(0x254)](','));}const _0x663811=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3ee7a9[_0x5f0024(0x254)]('\x0a')],{'type':_0x5f0024(0x791)}),_0xfa9adc=document['createElement']('a');_0xfa9adc[_0x5f0024(0x1c6)]=URL['createObjectURL'](_0x663811),_0xfa9adc['download']=_0x21f37a+_0x5f0024(0x76b),_0xfa9adc['click']();}function renderAnalytics(_0x556b13,_0x2a16a0){const _0x395fea=_0x4414d4,_0x3f4cd6=_0x2a16a0['filter'](_0x3b366e=>_0x3b366e[_0x395fea(0xa48)]!==undefined),_0xd8b114=currentProjectData['students']['length'],_0x18ae9d=_0x3f4cd6['length'],_0x713f10=_0xd8b114-_0x18ae9d,_0x14fe96=_0xd8b114>0x0?_0x18ae9d/_0xd8b114*0x64:0x0,_0x29ee03=_0x3f4cd6[_0x395fea(0xb6a)](_0x38cf9f=>_0x38cf9f['latestScore']),_0x536e04=_0x29ee03[_0x395fea(0x9fa)]>0x0?_0x29ee03[_0x395fea(0x6d8)]((_0x39af95,_0x3797b9)=>_0x39af95+_0x3797b9,0x0)/_0x29ee03[_0x395fea(0x9fa)]:0x0,_0x49d03b=_0x556b13[_0x395fea(0x132)][_0x395fea(0x9fa)],_0x1c4f1d=_0x49d03b>0x0?_0x536e04/_0x49d03b*0x64:0x0,_0x5f3847=calculateItemAnalysis(_0x556b13,_0x3f4cd6),_0x72eb50=calculateReliabilityKR20(_0x556b13,_0x3f4cd6,_0x5f3847[_0x395fea(0x57c)]);let _0x2037b0='';if(_0x72eb50!==null){let _0x1ef1b5='';if(_0x72eb50>=0.9)_0x1ef1b5='ยอดเยี่ยม';else{if(_0x72eb50>=0.8)_0x1ef1b5=_0x395fea(0x69f);else{if(_0x72eb50>=0.7)_0x1ef1b5='ดี';else{if(_0x72eb50>=0.6)_0x1ef1b5=_0x395fea(0xa94);else _0x1ef1b5=_0x395fea(0x85c);}}}_0x2037b0=_0x395fea(0x285)+_0x72eb50[_0x395fea(0x785)](0x2)+_0x395fea(0x8fe)+_0x1ef1b5+_0x395fea(0x4a0);}const _0x20c494=document[_0x395fea(0x651)](_0x395fea(0x9b5));_0x20c494['innerHTML']=_0x395fea(0x255)+_0x14fe96['toFixed'](0x0)+_0x395fea(0x282)+_0x18ae9d+'/'+_0xd8b114+_0x395fea(0xb89)+_0x536e04[_0x395fea(0x785)](0x2)+_0x395fea(0x1c8)+_0x1c4f1d[_0x395fea(0x785)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x29ee03[_0x395fea(0x9fa)]>0x0?Math[_0x395fea(0x682)](..._0x29ee03):'N/A')+_0x395fea(0x441)+(_0x29ee03[_0x395fea(0x9fa)]>0x0?Math['min'](..._0x29ee03):_0x395fea(0x18a))+_0x395fea(0x475)+_0x2037b0+_0x395fea(0x73b);const _0x1a932c=document['getElementById'](_0x395fea(0x622));_0x1a932c&&_0x1a932c['remove']();const _0x9adaf6=_0x395fea(0x3c4);_0x20c494[_0x395fea(0x252)]('afterend',_0x9adaf6);const _0x1fc434=currentProjectData[_0x395fea(0xb29)]||[];renderSubmissionChart(_0x18ae9d,_0x713f10,_0x3f4cd6,_0x1fc434),renderScoreDistributionChart(_0x3f4cd6,_0x49d03b),renderQuestionAnalytics(_0x556b13,_0x3f4cd6,_0x1fc434),renderInterestingStats(_0x556b13,_0x3f4cd6);}async function handleExportLessonPDF(){const _0x23a436=_0x4414d4,_0x52fca7=document[_0x23a436(0x651)](_0x23a436(0xada)),_0x564056=document[_0x23a436(0x651)](_0x23a436(0x4b4))[_0x23a436(0xc23)],_0x30d926=window[_0x23a436(0x754)]('','_blank'),_0x4cdc05=_0x23a436(0x40a)+_0x564056+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52fca7[_0x23a436(0x61b)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x30d926[_0x23a436(0x2c2)][_0x23a436(0x543)](_0x4cdc05),_0x30d926[_0x23a436(0x2c2)][_0x23a436(0x6b5)](),_0x30d926[_0x23a436(0x14d)]=function(){setTimeout(()=>{const _0x54d1d2=_0xbc6d;_0x30d926[_0x54d1d2(0xc17)]();},0x5dc);};}function renderInterestingStats(_0x5f1b7f,_0x4ea4bd){const _0xcbbcdb=_0x4414d4,_0x381cd1=document[_0xcbbcdb(0x651)](_0xcbbcdb(0xbfb));if(!_0x381cd1)return;if(_0x4ea4bd['length']===0x0){_0x381cd1['innerHTML']=_0xcbbcdb(0x401);return;}const _0x566b48=_0x5f1b7f[_0xcbbcdb(0x132)]['map']((_0x343237,_0x2987a9)=>({'index':_0x2987a9+0x1,'text':_0x343237[_0xcbbcdb(0x364)]||_0x343237['stem'],'correct':0x0}));_0x4ea4bd[_0xcbbcdb(0x15f)](_0x50e531=>{const _0x321868=_0xcbbcdb,_0x4221fc=_0x50e531['attempts'][_0x50e531[_0x321868(0x18d)][_0x321868(0x9fa)]-0x1];_0x4221fc&&_0x4221fc[_0x321868(0xc15)]&&_0x4221fc[_0x321868(0xc15)]['forEach'](_0xcc87f3=>{const _0x5b7cb4=_0x321868,_0x531980=_0x566b48[_0x5b7cb4(0xbc5)](_0x504bd9=>_0x504bd9[_0x5b7cb4(0x7b0)]===_0xcc87f3[_0x5b7cb4(0x51c)]);_0xcc87f3[_0x5b7cb4(0x2c8)]&&_0x531980&&_0x531980[_0x5b7cb4(0xa3d)]++;});});const _0x4e85fe=_0x4ea4bd['length'],_0x6ecc15=Math[_0xcbbcdb(0x682)](..._0x566b48[_0xcbbcdb(0xb6a)](_0x1143ad=>_0x1143ad['correct'])),_0x58733b=Math['min'](..._0x566b48[_0xcbbcdb(0xb6a)](_0xf6b47a=>_0xf6b47a['correct'])),_0x239f08=_0x566b48[_0xcbbcdb(0x7c4)](_0x81b95c=>_0x81b95c['correct']===_0x6ecc15)[_0xcbbcdb(0xb6a)](_0x5e12ba=>_0xcbbcdb(0x628)+_0x5e12ba['index']),_0x10bc05=_0x566b48['filter'](_0x39ee50=>_0x39ee50[_0xcbbcdb(0xa3d)]===_0x58733b)[_0xcbbcdb(0xb6a)](_0xfe1048=>'ข้อ\x20'+_0xfe1048[_0xcbbcdb(0x5d7)]),_0x4f9837=_0x4ea4bd[_0xcbbcdb(0xa7e)]((_0xca7797,_0x1d1ccd)=>_0x1d1ccd['latestScore']-_0xca7797[_0xcbbcdb(0xa48)])[_0xcbbcdb(0x7c4)]((_0x309e9f,_0x38aab2,_0x4bd6c7)=>_0x309e9f[_0xcbbcdb(0xa48)]===_0x4bd6c7[0x0][_0xcbbcdb(0xa48)]),_0x129e0e=_0x4ea4bd[_0xcbbcdb(0xa7e)]((_0x3b9b80,_0x1f685d)=>_0x3b9b80['latestScore']-_0x1f685d[_0xcbbcdb(0xa48)])[_0xcbbcdb(0x7c4)]((_0x33a2ba,_0x922b09,_0xc321d4)=>_0x33a2ba['latestScore']===_0xc321d4[0x0][_0xcbbcdb(0xa48)]),_0x570ccd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x239f08[_0xcbbcdb(0x254)](',\x20')+_0xcbbcdb(0xa03)+_0x6ecc15+_0xcbbcdb(0x8b5)+_0x4e85fe+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x10bc05[_0xcbbcdb(0x254)](',\x20')+_0xcbbcdb(0xa03)+(_0x4e85fe-_0x58733b)+'\x20/\x20'+_0x4e85fe+_0xcbbcdb(0x39c)+_0x4f9837[_0xcbbcdb(0xb6a)](_0x44d304=>_0x44d304['studentName'])[_0xcbbcdb(0x254)](',\x20')+_0xcbbcdb(0x667)+_0x4f9837[0x0][_0xcbbcdb(0xa48)]+_0xcbbcdb(0xb9f)+_0x129e0e[_0xcbbcdb(0xb6a)](_0x497255=>_0x497255[_0xcbbcdb(0x637)])[_0xcbbcdb(0x254)](',\x20')+_0xcbbcdb(0x667)+_0x129e0e[0x0][_0xcbbcdb(0xa48)]+_0xcbbcdb(0x349);_0x381cd1[_0xcbbcdb(0x61b)]=_0x570ccd;}function renderSubmissionChart(_0x439428,_0x445be0,_0x47ad76,_0x46bbc){const _0xaf6124=_0x4414d4,_0xcda4fa=document[_0xaf6124(0x651)]('submission-status-chart')['getContext']('2d'),_0x57ef72=_0x47ad76[_0xaf6124(0xb6a)](_0x30f150=>_0x30f150[_0xaf6124(0x637)]),_0x448f41=_0x46bbc[_0xaf6124(0x7c4)](_0x2e9306=>!_0x57ef72[_0xaf6124(0x6ed)](_0x2e9306));chartInstances[_0xaf6124(0xbd6)]&&chartInstances[_0xaf6124(0xbd6)][_0xaf6124(0x603)](),chartInstances[_0xaf6124(0xbd6)]=new Chart(_0xcda4fa,{'type':_0xaf6124(0x9f6),'data':{'labels':[_0xaf6124(0x654),'ยังไม่ส่ง'],'datasets':[{'data':[_0x439428,_0x445be0],'backgroundColor':[_0xaf6124(0x8aa),'#F59E0B'],'borderColor':['#ffffff',_0xaf6124(0x7c5)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x535775){const _0x4bc64b=_0xaf6124;let _0x469548=_0x535775[_0x4bc64b(0x3ba)]||'';return _0x469548&&(_0x469548+=':\x20'),_0x469548+=_0x535775[_0x4bc64b(0x9ae)],_0x469548;},'afterLabel':function(_0x583e72){const _0x421a05=_0xaf6124;let _0xa50ef5;return _0x583e72[_0x421a05(0xb51)]===0x0?_0xa50ef5=_0x57ef72:_0xa50ef5=_0x448f41,_0xa50ef5[_0x421a05(0x9fa)]>0x0?_0xa50ef5[_0x421a05(0x254)]('\x0a'):_0x421a05(0xbad);}}}}}});}function renderScoreDistributionChart(_0x5e62a4,_0x2bb9ca){const _0x501c47=_0x4414d4,_0x4f8f58=document[_0x501c47(0x651)](_0x501c47(0xa41))[_0x501c47(0x31e)]('2d'),_0xf724c6={};for(let _0x468f24=0x0;_0x468f24<=_0x2bb9ca;_0x468f24++){_0xf724c6[_0x468f24]=0x0;}_0x5e62a4['forEach'](_0x5c7c06=>{const _0x370554=_0x501c47;_0xf724c6[_0x5c7c06[_0x370554(0xa48)]]!==undefined&&_0xf724c6[_0x5c7c06['latestScore']]++;}),chartInstances[_0x501c47(0x288)]&&chartInstances[_0x501c47(0x288)][_0x501c47(0x603)](),chartInstances[_0x501c47(0x288)]=new Chart(_0x4f8f58,{'type':_0x501c47(0x20a),'data':{'labels':Object[_0x501c47(0x84e)](_0xf724c6),'datasets':[{'label':_0x501c47(0x531),'data':Object[_0x501c47(0x329)](_0xf724c6),'backgroundColor':_0x501c47(0x4f8),'borderColor':_0x501c47(0x769),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x501c47(0x90d)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x125c68){const _0x1cf276=_0x501c47,_0x185080=_0x125c68[_0x1cf276(0x3ba)],_0x1fad6b=_0x5e62a4[_0x1cf276(0x7c4)](_0x48387a=>_0x48387a[_0x1cf276(0xa48)]==_0x185080)[_0x1cf276(0xb6a)](_0x49c500=>_0x49c500[_0x1cf276(0x637)]);return _0x1fad6b[_0x1cf276(0x9fa)]>0x0?_0x1fad6b[_0x1cf276(0x254)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0xd4a558,_0x593ec1,_0x2040dd){const _0x1b3fcd=_0x4414d4,_0x4e66cf=document[_0x1b3fcd(0x651)](_0x1b3fcd(0x2af));if(_0x2040dd[_0x1b3fcd(0x9fa)]===0x0){_0x4e66cf[_0x1b3fcd(0x61b)]=_0x1b3fcd(0x35c);return;}const _0x5884ac=calculateItemAnalysis(_0xd4a558,_0x593ec1),_0x572c49=calculateDistractorAnalysis(_0xd4a558,_0x593ec1);let _0x3472dc='';_0x5884ac[_0x1b3fcd(0x20c)]&&(_0x3472dc=_0x1b3fcd(0x689)+_0x5884ac[_0x1b3fcd(0x20c)][_0x1b3fcd(0x325)][_0x1b3fcd(0x9fa)]+_0x1b3fcd(0x61f)+_0x5884ac['overallGroups']['upperGroupNames']['map'](_0x16d2ee=>'<li>'+_0x16d2ee+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x5884ac[_0x1b3fcd(0x20c)][_0x1b3fcd(0xba6)][_0x1b3fcd(0x9fa)]+_0x1b3fcd(0x61f)+_0x5884ac[_0x1b3fcd(0x20c)][_0x1b3fcd(0xba6)][_0x1b3fcd(0xb6a)](_0x127d1c=>'<li>'+_0x127d1c+'</li>')[_0x1b3fcd(0x254)]('')+_0x1b3fcd(0x266));let _0x42243f='';const _0x38658b=_0x593ec1[_0x1b3fcd(0xb6a)](_0x308491=>_0x308491[_0x1b3fcd(0x637)]),_0x298f27=_0x33581e=>{const _0x52a08e=_0x1b3fcd;if(_0x33581e>=0.8)return _0x52a08e(0x3ad);if(_0x33581e>=0.6)return _0x52a08e(0xc06);if(_0x33581e>=0.4)return _0x52a08e(0x1e4);if(_0x33581e>=0.2)return _0x52a08e(0x69b);return _0x52a08e(0x40c);},_0x30868a=_0x174203=>{const _0x602ce0=_0x1b3fcd;if(_0x174203<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x174203>=0.4)return _0x602ce0(0x910);if(_0x174203>=0.3)return _0x602ce0(0x9d0);if(_0x174203>=0.2)return _0x602ce0(0x98c);return _0x602ce0(0x78e);},_0x18f4aa=_0x16720f=>{const _0x2f2412=_0x1b3fcd,_0x507505=_0x16720f['toFixed'](0x0);if(parseFloat(_0x507505)===0x64)return _0x2f2412(0x163)+_0x507505+_0x2f2412(0x407);if(_0x16720f>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x507505+'%</span>';return _0x2f2412(0x78c)+_0x507505+_0x2f2412(0x407);};_0xd4a558[_0x1b3fcd(0x132)][_0x1b3fcd(0x15f)]((_0x36513a,_0xb28297)=>{const _0x3dcbd3=_0x1b3fcd,_0x8f22a4=_0x5884ac[_0x3dcbd3(0x57c)][_0xb28297],_0x4b14b0=_0x572c49[_0xb28297],_0x534a5b=_0x36513a[_0x3dcbd3(0x610)]||_0x36513a[_0x3dcbd3(0x364)]||_0x36513a['instructions'];let _0x305449=0x0;const _0x48f716=[],_0x98207=[];_0x593ec1[_0x3dcbd3(0x15f)](_0x457a6a=>{const _0x3ee6c3=_0x3dcbd3,_0x22f693=_0x457a6a[_0x3ee6c3(0x18d)][_0x457a6a['attempts'][_0x3ee6c3(0x9fa)]-0x1];if(_0x22f693&&_0x22f693[_0x3ee6c3(0xc15)]){const _0xe56637=_0x22f693['answers'][_0x3ee6c3(0xbc5)](_0x565e73=>_0x565e73[_0x3ee6c3(0x51c)]===_0x534a5b)??_0x22f693[_0x3ee6c3(0xc15)][_0xb28297]??null;_0xe56637&&(_0xe56637['isCorrect']?(_0x305449++,_0x48f716[_0x3ee6c3(0x464)](_0x457a6a[_0x3ee6c3(0x637)])):_0x98207[_0x3ee6c3(0x464)](_0x457a6a[_0x3ee6c3(0x637)]));}});const _0x507306=_0x593ec1['length']>0x0?_0x305449/_0x593ec1[_0x3dcbd3(0x9fa)]*0x64:0x0,_0x5dcf3c=_0x2040dd['filter'](_0x374fc8=>!_0x38658b['includes'](_0x374fc8)),_0x39a5e5=_0x8f22a4?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x8f22a4['p'][_0x3dcbd3(0x785)](0x2)+_0x3dcbd3(0x4e4)+_0x298f27(_0x8f22a4['p'])+_0x3dcbd3(0x4ca)+_0x8f22a4['r'][_0x3dcbd3(0x785)](0x2)+'</p><div>'+_0x30868a(_0x8f22a4['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18f4aa(_0x507306)+_0x3dcbd3(0x210):'';let _0x3ca1de='';_0x4b14b0&&(_0x3ca1de='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x3dcbd3(0x84e)](_0x4b14b0)['map'](_0x427517=>{const _0x342fb8=_0x3dcbd3,_0x112204=_0x4b14b0[_0x427517],_0x3f6851=parseInt(_0x427517)===_0x36513a['correctAnswerIndex'],_0x1dc205=!_0x3f6851&&_0x112204['lower_group_count']>_0x112204[_0x342fb8(0x5c7)];return _0x342fb8(0x2b1)+(_0x3f6851?'bg-green-100\x20font-bold':'')+_0x342fb8(0xa58)+(_0x3f6851?'✔\x20':'')+_0x112204[_0x342fb8(0x7b0)]+_0x342fb8(0x8cf)+_0x112204[_0x342fb8(0x5c7)]+_0x342fb8(0x8cf)+_0x112204[_0x342fb8(0x34e)]+'\x20'+(_0x1dc205?'👍':'')+_0x342fb8(0x8cf)+_0x112204[_0x342fb8(0x130)]+_0x342fb8(0x71f);})[_0x3dcbd3(0x254)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x247ec6='';_0x8f22a4&&_0x8f22a4[_0x3dcbd3(0x4e9)]&&(_0x247ec6=_0x3dcbd3(0xb2e)+_0x8f22a4['upperGroupResponders']['length']+_0x3dcbd3(0x46e)+_0x8f22a4[_0x3dcbd3(0x4e9)][_0x3dcbd3(0xb6a)](_0xae4fdb=>'<li>'+(_0xae4fdb[_0x3dcbd3(0x2c8)]?_0x3dcbd3(0x91a):_0x3dcbd3(0xc2b))+'\x20'+_0xae4fdb[_0x3dcbd3(0x815)]+_0x3dcbd3(0x792))[_0x3dcbd3(0x254)]('')+_0x3dcbd3(0x24a)+_0x8f22a4[_0x3dcbd3(0xb1f)][_0x3dcbd3(0x9fa)]+_0x3dcbd3(0x46e)+_0x8f22a4[_0x3dcbd3(0xb1f)][_0x3dcbd3(0xb6a)](_0x52c526=>_0x3dcbd3(0x81e)+(_0x52c526['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x3dcbd3(0xc2b))+'\x20'+_0x52c526[_0x3dcbd3(0x815)]+_0x3dcbd3(0x792))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x42243f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0xb28297+0x1)+':\x20'+_0x534a5b+_0x3dcbd3(0x2f8)+_0x39a5e5+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x534a5b+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x305449+'\x20จาก\x20'+_0x593ec1['length']+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x507306['toFixed'](0x0)+_0x3dcbd3(0xc14)+_0x48f716[_0x3dcbd3(0x9fa)]+_0x3dcbd3(0x40e)+(_0x48f716[_0x3dcbd3(0x9fa)]>0x0?_0x48f716[_0x3dcbd3(0x254)](',\x20'):_0x3dcbd3(0xbad))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x98207[_0x3dcbd3(0x9fa)]+_0x3dcbd3(0x40e)+(_0x98207['length']>0x0?_0x98207[_0x3dcbd3(0x254)](',\x20'):_0x3dcbd3(0xbad))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x5dcf3c[_0x3dcbd3(0x9fa)]+_0x3dcbd3(0x40e)+(_0x5dcf3c[_0x3dcbd3(0x9fa)]>0x0?_0x5dcf3c[_0x3dcbd3(0x254)](',\x20'):_0x3dcbd3(0xbad))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ca1de+_0x3dcbd3(0x9e0)+_0x247ec6+_0x3dcbd3(0x6f7);}),_0x4e66cf[_0x1b3fcd(0x61b)]=_0x3472dc+_0x42243f;try{window[_0x1b3fcd(0x858)]&&MathJax[_0x1b3fcd(0x1f8)]&&MathJax['typesetPromise']([_0x4e66cf]);}catch(_0x4361a2){console[_0x1b3fcd(0xb95)](_0x1b3fcd(0xbac),_0x4361a2);}}function calculateDistractorAnalysis(_0x33b53a,_0xe059d7){const _0x3b5be4=_0x4414d4,_0x5ad2ef={};if(_0xe059d7[_0x3b5be4(0x9fa)]<0x2)return _0x5ad2ef;const _0x4617e1=[..._0xe059d7][_0x3b5be4(0xa7e)]((_0x494d4b,_0x253572)=>{const _0x2c40e6=_0x3b5be4,_0x3af892=_0x253572['latestScore']-_0x494d4b[_0x2c40e6(0xa48)];if(_0x3af892!==0x0)return _0x3af892;const _0x216ad4=_0x494d4b[_0x2c40e6(0x18d)]?.[_0x2c40e6(0x9fa)]||0x1,_0x50149b=_0x253572[_0x2c40e6(0x18d)]?.[_0x2c40e6(0x9fa)]||0x1,_0x187722=_0x216ad4-_0x50149b;if(_0x187722!==0x0)return _0x187722;const _0x434947=new Date(_0x494d4b[_0x2c40e6(0x337)]),_0x1c1206=new Date(_0x253572[_0x2c40e6(0x337)]),_0xfe2682=_0x434947-_0x1c1206;if(_0xfe2682!==0x0)return _0xfe2682;return _0x494d4b[_0x2c40e6(0x637)][_0x2c40e6(0x3c5)](_0x253572['studentName'],'th');}),_0x37dfb3=_0x4617e1[_0x3b5be4(0x9fa)],_0x12ce9a=Math[_0x3b5be4(0x682)](0x1,Math['floor'](_0x37dfb3*0.33)),_0x27ac3d=_0x4617e1['slice'](0x0,_0x12ce9a),_0x112caf=_0x4617e1[_0x3b5be4(0xb31)](-_0x12ce9a);return _0x33b53a['questions'][_0x3b5be4(0x15f)]((_0x123fb0,_0x29b093)=>{const _0x5eea71=_0x3b5be4;if(_0x123fb0[_0x5eea71(0xc2f)]!==_0x5eea71(0x2c6)||!_0x123fb0[_0x5eea71(0xb4a)])return;const _0x453fdc=_0x123fb0[_0x5eea71(0x364)],_0x57670a={};_0x123fb0[_0x5eea71(0xb4a)][_0x5eea71(0x15f)]((_0x57a345,_0x456a65)=>{_0x57670a[_0x456a65]={'text':_0x57a345,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x4617e1[_0x5eea71(0x15f)](_0x14dd58=>{const _0x3b5300=_0x5eea71,_0x11b8d1=_0x14dd58[_0x3b5300(0x18d)][_0x14dd58[_0x3b5300(0x18d)]['length']-0x1],_0xf83527=_0x11b8d1['answers'][_0x3b5300(0xbc5)](_0x2bf77c=>_0x2bf77c[_0x3b5300(0x51c)]===_0x453fdc);if(_0xf83527&&_0xf83527[_0x3b5300(0x821)]!==null){const _0x548a50=_0x123fb0['options'][_0x3b5300(0x500)](_0x18d2ae=>_0x18d2ae===_0xf83527[_0x3b5300(0x6bd)]);_0x548a50!==-0x1&&_0x57670a[_0x548a50]&&(_0x57670a[_0x548a50][_0x3b5300(0x130)]++,_0x27ac3d[_0x3b5300(0x6ed)](_0x14dd58)&&_0x57670a[_0x548a50][_0x3b5300(0x5c7)]++,_0x112caf[_0x3b5300(0x6ed)](_0x14dd58)&&_0x57670a[_0x548a50][_0x3b5300(0x34e)]++);}}),_0x5ad2ef[_0x29b093]=_0x57670a;}),_0x5ad2ef;}function calculateReliabilityKR20(_0x14748c,_0x1f7f04,_0xe7cbe3){const _0x49f0df=_0x4414d4,_0x55e0a3=_0x14748c[_0x49f0df(0x132)][_0x49f0df(0x9fa)];if(_0x55e0a3<0x2||_0x1f7f04[_0x49f0df(0x9fa)]<0x2)return null;const _0x46c5e7=_0x1f7f04['map'](_0xce059=>_0xce059['latestScore']),_0x4593b7=_0x46c5e7['reduce']((_0x4c4db1,_0x34b22a)=>_0x4c4db1+_0x34b22a,0x0)/_0x46c5e7[_0x49f0df(0x9fa)],_0x4a547c=_0x46c5e7[_0x49f0df(0xb6a)](_0x3443fc=>Math[_0x49f0df(0xb42)](_0x3443fc-_0x4593b7,0x2))['reduce']((_0x20bd78,_0x3ad918)=>_0x20bd78+_0x3ad918,0x0)/_0x46c5e7['length'];if(_0x4a547c===0x0)return null;let _0x1666ee=0x0;for(let _0xbaa902=0x0;_0xbaa902<_0x55e0a3;_0xbaa902++){const _0x7df6bd=_0xe7cbe3[_0xbaa902]?.['p'];if(_0x7df6bd===undefined)continue;const _0x109563=0x1-_0x7df6bd;_0x1666ee+=_0x7df6bd*_0x109563;}if(_0x1666ee===0x0)return null;const _0x1d1557=_0x55e0a3/(_0x55e0a3-0x1)*(0x1-_0x1666ee/_0x4a547c);if(_0x1d1557>0x1)return null;return _0x1d1557;}async function handleAnalyzeClass(){const _0x3b7fe5=_0x4414d4;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x3b7fe5(0x30a));return;}const _0xc5f595=collection(db,_0x3b7fe5(0x763)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x3b7fe5(0xa32)),_0x23cd63=await getDocs(_0xc5f595),_0x5a5a3=_0x23cd63[_0x3b7fe5(0x599)][_0x3b7fe5(0xb6a)](_0x175f5a=>_0x175f5a[_0x3b7fe5(0x213)]());if(_0x5a5a3[_0x3b7fe5(0x9fa)]<0x2){showMessage(_0x3b7fe5(0xa65));return;}const _0x1b10c3=document[_0x3b7fe5(0x651)]('strength-weakness-analysis-container');_0x1b10c3[_0x3b7fe5(0x61b)]=_0x3b7fe5(0x29b),document[_0x3b7fe5(0x651)](_0x3b7fe5(0x19b))['disabled']=!![];const _0x16aec9=_0x5a5a3[_0x3b7fe5(0xb6a)]((_0x4258ab,_0x1d3c6b)=>{const _0x41f421=_0x3b7fe5,_0x14e5b7=_0x4258ab[_0x41f421(0x18d)][_0x4258ab[_0x41f421(0x18d)][_0x41f421(0x9fa)]-0x1];if(!_0x14e5b7)return'';return _0x41f421(0x468)+(_0x1d3c6b+0x1)+'\x20('+_0x4258ab[_0x41f421(0x637)]+_0x41f421(0xb18)+_0x14e5b7[_0x41f421(0x288)]+'/'+_0x4258ab[_0x41f421(0x511)]+_0x41f421(0x773)+JSON[_0x41f421(0x177)](_0x14e5b7[_0x41f421(0xc15)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3b7fe5(0x254)](_0x3b7fe5(0xc02)),_0x4343a2=_0x3b7fe5(0x5e3)+currentQuizData['topic']+_0x3b7fe5(0x9a8)+JSON['stringify'](currentQuizData[_0x3b7fe5(0x132)])+_0x3b7fe5(0x84a)+_0x16aec9+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x3241d4={'type':_0x3b7fe5(0x7d7),'properties':{'classStrengths':{'type':_0x3b7fe5(0x4d4),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x3b7fe5(0x4d4),'items':{'type':_0x3b7fe5(0x616)}},'teacherSuggestions':{'type':_0x3b7fe5(0x4d4),'items':{'type':_0x3b7fe5(0x616)}}},'required':[_0x3b7fe5(0x30c),_0x3b7fe5(0xbf4),_0x3b7fe5(0x51d)]};try{const _0x8abf1=await callAnalysisApi(_0x4343a2,_0x3241d4);displayClassAnalysis(_0x8abf1);}catch(_0x112b86){console[_0x3b7fe5(0xb95)](_0x3b7fe5(0x6aa),_0x112b86),_0x1b10c3[_0x3b7fe5(0x61b)]=_0x3b7fe5(0x6f3)+_0x112b86['message']+_0x3b7fe5(0x548);}finally{document[_0x3b7fe5(0x651)]('analyze-strengths-btn')[_0x3b7fe5(0x993)]=![];}}function displayClassAnalysis(_0x2b2367){const _0xc25837=_0x4414d4,_0x1deeb7=document[_0xc25837(0x651)](_0xc25837(0xa27));if(!_0x2b2367){_0x1deeb7['innerHTML']=_0xc25837(0xba2);return;}_0x1deeb7[_0xc25837(0x61b)]=_0xc25837(0x9e4)+_0x2b2367['classStrengths'][_0xc25837(0xb6a)](_0x16fade=>'<li>'+_0x16fade+_0xc25837(0x792))[_0xc25837(0x254)]('')+_0xc25837(0xb77)+_0x2b2367[_0xc25837(0xbf4)][_0xc25837(0xb6a)](_0x583f73=>'<li>'+_0x583f73+_0xc25837(0x792))[_0xc25837(0x254)]('')+_0xc25837(0x8d2)+_0x2b2367[_0xc25837(0x51d)][_0xc25837(0xb6a)](_0x4b6f7f=>_0xc25837(0x81e)+_0x4b6f7f+_0xc25837(0x792))[_0xc25837(0x254)]('')+_0xc25837(0x634);}function formatAndPrintWorksheet(_0x5763ef,_0x155332){const _0x4d8431=_0x4414d4,_0x5969ab=_0x4d8431(0x90b)+_0x5763ef[_0x4d8431(0x78b)]+_0x4d8431(0x6ce)+_0x5763ef['topic']+_0x4d8431(0x4e0)+_0x5763ef[_0x4d8431(0x132)][_0x4d8431(0xb6a)]((_0x28a399,_0x573c42)=>_0x4d8431(0xafe)+(_0x573c42+0x1)+'.\x20'+_0x28a399['questionText']+_0x4d8431(0x36a)+(_0x28a399['imageCode']?_0x4d8431(0x484)+_0x28a399[_0x4d8431(0x1ea)]+'</div>':'')+_0x4d8431(0x946))[_0x4d8431(0x254)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x155332['document']['write'](_0x5969ab),_0x155332[_0x4d8431(0x2c2)][_0x4d8431(0x6b5)](),_0x155332[_0x4d8431(0x14d)]=function(){setTimeout(()=>{const _0x24402d=_0xbc6d;_0x155332[_0x24402d(0xc17)]();},0x3e8);};}async function generateWorksheet(){const _0x163ab5=_0x4414d4,_0x4243a5=document[_0x163ab5(0x651)]('worksheet-topic-input')[_0x163ab5(0x3b7)][_0x163ab5(0x4fe)]();if(!_0x4243a5){showMessage(_0x163ab5(0xa98));return;}const _0x41f14e=document['getElementById']('force-math-checkbox')[_0x163ab5(0x173)],_0x27d48b=_0x41f14e?'':_0x163ab5(0x2ef),_0x11bb3f=window[_0x163ab5(0x754)]('',_0x163ab5(0xa77));_0x11bb3f[_0x163ab5(0x2c2)]['write']('<h1></h1>');const _0x295e21=parseInt(document['getElementById'](_0x163ab5(0x383))[_0x163ab5(0x3b7)]),_0x5414d5=document[_0x163ab5(0x651)](_0x163ab5(0x3cf))[_0x163ab5(0x173)],_0x3c2dfd=_0x5414d5?_0x163ab5(0x85e):'',_0x39b8b8=_0x163ab5(0x7c7)+_0x27d48b+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x295e21+_0x163ab5(0x78a)+_0x4243a5+_0x163ab5(0x3e6)+_0x3c2dfd+_0x163ab5(0xc16)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x22c7dd={'type':_0x163ab5(0x7d7),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x163ab5(0x4d4),'items':{'type':_0x163ab5(0x7d7),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x163ab5(0x364)]}}},'required':[_0x163ab5(0x78b),_0x163ab5(0x132)]};document[_0x163ab5(0x651)](_0x163ab5(0xa53))[_0x163ab5(0xc23)]='',document[_0x163ab5(0x651)](_0x163ab5(0x59e))[_0x163ab5(0xbeb)][_0x163ab5(0x303)]('hidden'),document[_0x163ab5(0x651)]('quiz-generation-area')[_0x163ab5(0xbeb)][_0x163ab5(0x303)](_0x163ab5(0x6ca)),generateWorksheetBtn[_0x163ab5(0x993)]=!![];try{const _0x47c82a=await callAnalysisApi(_0x39b8b8,_0x22c7dd);formatAndPrintWorksheet(_0x47c82a,_0x11bb3f);}catch(_0x4e917e){console[_0x163ab5(0xb95)](_0x163ab5(0x787),_0x4e917e);if(_0x11bb3f)_0x11bb3f[_0x163ab5(0x6b5)]();showMessage(_0x163ab5(0x3c3));}finally{document[_0x163ab5(0x651)]('loader')[_0x163ab5(0xbeb)][_0x163ab5(0x7bd)](_0x163ab5(0x6ca)),document[_0x163ab5(0x651)]('quiz-generation-area')[_0x163ab5(0xbeb)]['add'](_0x163ab5(0x6ca)),generateWorksheetBtn[_0x163ab5(0x993)]=![];}}async function callAnalysisApi(_0xbf8e80,_0x2e7eb7){const _0x415417=_0x4414d4,_0x2b4cc5={'contents':[{'role':'user','parts':[{'text':_0xbf8e80}]}],'generationConfig':{'responseMimeType':_0x415417(0xbd4),'responseSchema':_0x2e7eb7}},_0x3f5d03=_0x415417(0x4dc),_0x51ccbb=_0x415417(0x2cf)+_0x3f5d03,_0x14aa1a=await fetch(_0x51ccbb,{'method':_0x415417(0x23a),'headers':{'Content-Type':_0x415417(0xbd4)},'body':JSON[_0x415417(0x177)](_0x2b4cc5)});if(!_0x14aa1a['ok'])throw new Error(_0x415417(0x44b)+_0x14aa1a[_0x415417(0x7f9)]);const _0x349013=await _0x14aa1a[_0x415417(0xb45)]();if(_0x349013[_0x415417(0x206)]?.[0x0]?.[_0x415417(0x32c)]?.['parts']?.[0x0])return JSON[_0x415417(0x607)](_0x349013[_0x415417(0x206)][0x0][_0x415417(0x32c)]['parts'][0x0][_0x415417(0x7b0)]);else{let _0x47f0a3=_0x415417(0x7bc);if(_0x349013[_0x415417(0x9be)]?.[_0x415417(0xba9)])_0x47f0a3=_0x415417(0x40f)+_0x349013[_0x415417(0x9be)][_0x415417(0xba9)]+'.';else _0x349013[_0x415417(0x206)]?.[0x0]?.['finishReason']&&_0x349013[_0x415417(0x206)][0x0][_0x415417(0x61a)]!=='STOP'&&(_0x47f0a3=_0x415417(0x3a5)+_0x349013[_0x415417(0x206)][0x0]['finishReason']+'.');console[_0x415417(0xb95)](_0x47f0a3,JSON[_0x415417(0x177)](_0x349013));throw new Error(_0x47f0a3);}}async function handleStartSyncMode(_0x13100f,_0x4b0baf=![]){const _0xbc8717=_0x4414d4,_0x29a561=allQuizzes[_0xbc8717(0xbc5)](_0x14c1a7=>_0x14c1a7['id']===_0x13100f)||allQuizzesGlobal[_0xbc8717(0xbc5)](_0x2e42cd=>_0x2e42cd['id']===_0x13100f);if(!_0x29a561){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x29a561);const _0x2269d7=Math[_0xbc8717(0x688)](0x3e8+Math['random']()*0x2328)[_0xbc8717(0x332)]();try{const _0x4d2de7=await addDoc(collection(db,_0xbc8717(0x763)+appId+_0xbc8717(0x683)),{'quizId':_0x29a561['id'],'pin':_0x2269d7,'status':_0xbc8717(0xb4f),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4b0baf,'players':{}});currentLiveGameId=_0x4d2de7['id'],showView(_0xbc8717(0x70c)),renderSyncLobbyView(_0x2269d7,_0x29a561['topic']),listenForSyncGameUpdates();}catch(_0x13b769){console[_0xbc8717(0xb95)]('Error\x20starting\x20sync\x20game:',_0x13b769),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x177328){const _0x31cfe9=_0x4414d4;if(!_0x177328||!_0x177328[_0x31cfe9(0x415)]||!_0x177328['players'])return _0x177328[_0x31cfe9(0xb76)]||{};const _0x2a3d65=_0x177328[_0x31cfe9(0x415)][_0x31cfe9(0x132)][_0x31cfe9(0x9fa)],_0x4591f3=JSON['parse'](JSON[_0x31cfe9(0x177)](_0x177328['players']));return Object[_0x31cfe9(0x329)](_0x4591f3)[_0x31cfe9(0x15f)](_0x46ef7a=>{const _0x2ea50d=_0x31cfe9,_0x9ffbd7=_0x46ef7a[_0x2ea50d(0x288)];let _0x4c7339=0x0;_0x177328[_0x2ea50d(0x29a)]&&_0x46ef7a['answers']&&_0x46ef7a[_0x2ea50d(0xc15)][_0x2ea50d(0x15f)](_0x304f1e=>{const _0x290b8f=_0x2ea50d;if(_0x304f1e[_0x290b8f(0x2c8)]&&_0x304f1e[_0x290b8f(0x8e9)])_0x4c7339+=0x1;else!_0x304f1e[_0x290b8f(0x2c8)]&&_0x304f1e[_0x290b8f(0x8e9)]&&(_0x4c7339-=0x1);}),_0x46ef7a['score']=_0x9ffbd7+_0x4c7339,_0x2a3d65>0x0&&_0x9ffbd7===_0x2a3d65&&(_0x46ef7a['score']+=0x1,_0x46ef7a[_0x2ea50d(0x7d8)]=!![]);}),_0x4591f3;}function listenForSyncGameUpdates(){const _0x557e07=_0x4414d4;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x59489d=doc(db,_0x557e07(0x763)+appId+_0x557e07(0x683),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x59489d,_0x23fb1=>{const _0x1b47cf=_0x557e07;if(!_0x23fb1[_0x1b47cf(0x523)]()){sessionStorage['removeItem'](_0x1b47cf(0x546));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x1b47cf(0xb54));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x1b47cf(0x512)?showView(_0x1b47cf(0x2bf)):showView(_0x1b47cf(0x1e0));return;}const _0x1730ca=_0x23fb1[_0x1b47cf(0x213)]();currentMode===_0x1b47cf(0x512)?updateAdminSyncView(_0x1730ca):updateStudentSyncView(_0x1730ca);});}function renderSyncLobbyView(_0x8847d0,_0x3464cd){const _0x1e91cf=_0x4414d4;liveGameView[_0x1e91cf(0x61b)]=_0x1e91cf(0xa42)+_0x3464cd+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x8847d0+_0x1e91cf(0x978);const _0x5b4643=document[_0x1e91cf(0x651)]('confidence-scoring-toggle'),_0x13ed56=document[_0x1e91cf(0x651)](_0x1e91cf(0x51b));_0x5b4643[_0x1e91cf(0x7bb)](_0x1e91cf(0x761),()=>{const _0x2a41f2=_0x1e91cf;_0x13ed56[_0x2a41f2(0x5ce)][_0x2a41f2(0x4ba)]=_0x5b4643['checked']?'block':_0x2a41f2(0xb35);}),document['getElementById'](_0x1e91cf(0xb71))[_0x1e91cf(0x7bb)](_0x1e91cf(0x530),async()=>{const _0x25db12=_0x1e91cf,_0x9879e8=doc(db,'artifacts/'+appId+_0x25db12(0x683),currentLiveGameId),_0x21eacd=document[_0x25db12(0x651)](_0x25db12(0x980))[_0x25db12(0x173)];await updateDoc(_0x9879e8,{'status':_0x25db12(0x96c),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x21eacd});});}function updateAdminSyncView(_0x2a6d3b){const _0x1be793=_0x4414d4;switch(_0x2a6d3b['status']){case'lobby':renderSyncLobbyView(_0x2a6d3b[_0x1be793(0x1a3)],_0x2a6d3b['shuffledQuiz'][_0x1be793(0x78b)]);const _0x27f685=Object[_0x1be793(0x27a)](_0x2a6d3b[_0x1be793(0xb76)]||{})['filter'](([_0x589fe1,_0x427be5])=>_0x427be5['status']!==_0x1be793(0x917));document[_0x1be793(0x651)](_0x1be793(0x79d))['textContent']=_0x27f685[_0x1be793(0x9fa)],document[_0x1be793(0x651)]('player-list-lobby')[_0x1be793(0x61b)]=_0x27f685[_0x1be793(0xb6a)](([_0x593123,_0x18b7bf])=>_0x1be793(0x969)+_0x593123+_0x1be793(0x2f7)+_0x593123+_0x1be793(0x9db))[_0x1be793(0x254)]('')||_0x1be793(0x45b),document[_0x1be793(0x651)]('start-sync-game-btn')[_0x1be793(0x993)]=_0x27f685[_0x1be793(0x9fa)]===0x0;break;case'question':const _0x4e3ece=Object[_0x1be793(0x329)](_0x2a6d3b[_0x1be793(0xb76)]||{})[_0x1be793(0x7c4)](_0x5d4b5d=>_0x5d4b5d[_0x1be793(0x7f9)]!==_0x1be793(0x917)),_0x5dd55a=_0x4e3ece[_0x1be793(0x7c4)](_0x770529=>_0x770529[_0x1be793(0x477)])[_0x1be793(0x9fa)],_0x369cb6=_0x5dd55a===_0x4e3ece['length']&&_0x4e3ece[_0x1be793(0x9fa)]>0x0;if(_0x369cb6&&_0x2a6d3b[_0x1be793(0x7f9)]===_0x1be793(0x96c)){const _0x5e268c=doc(db,'artifacts/'+appId+_0x1be793(0x683),currentLiveGameId);updateDoc(_0x5e268c,{'status':_0x1be793(0x3f8)});}else{if(document[_0x1be793(0x651)](_0x1be793(0x932))===null)renderAdminSyncQuestionView(_0x2a6d3b);else{const _0x85685e=document['getElementById'](_0x1be793(0x989));_0x85685e&&(_0x85685e['textContent']=_0x5dd55a+'/'+_0x4e3ece[_0x1be793(0x9fa)]);const _0x19ef13=document[_0x1be793(0x651)](_0x1be793(0x4f9));_0x19ef13&&(_0x19ef13['innerHTML']=_0x4e3ece[_0x1be793(0xb6a)](_0x52f96c=>{const _0x1e5fb9=_0x1be793,_0x2ae579=_0x52f96c[_0x1e5fb9(0x477)]?_0x1e5fb9(0x229):_0x1e5fb9(0xa24),_0x33a4b4=_0x52f96c['answered']?_0x1e5fb9(0x259):_0x1e5fb9(0x454);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x2ae579+_0x1e5fb9(0x5dd)+_0x33a4b4+_0x1e5fb9(0x23f)+_0x52f96c['name']+_0x1e5fb9(0x3fc)+_0x52f96c[_0x1e5fb9(0x815)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1be793(0x254)](''));}}break;case _0x1be793(0x3f8):const _0x1d073a=_0x2a6d3b[_0x1be793(0x5db)],_0x3c9050=_0x2a6d3b[_0x1be793(0x415)][_0x1be793(0x132)][_0x1d073a];renderSyncSummaryView(_0x2a6d3b,_0x3c9050,!![]);break;case _0x1be793(0x3a3):renderAdminSyncDashboard(_0x2a6d3b,!![]);break;case _0x1be793(0xa20):_0x2a6d3b['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x2a6d3b);sessionStorage[_0x1be793(0x9b2)](_0x1be793(0x546));const _0x2c47ff=calculateFinalPodiumScores(_0x2a6d3b);showPodiumView(_0x2c47ff,_0x1be793(0x619));break;}}function renderAdminSyncQuestionView(_0x2c1dfd){const _0x4f7d9f=_0x4414d4,_0x76df69=_0x2c1dfd['currentQuestionIndex'],_0x39b06f=_0x2c1dfd[_0x4f7d9f(0x415)][_0x4f7d9f(0x132)][_0x76df69],_0x28c7d2=_0x2c1dfd[_0x4f7d9f(0x415)]['questions'][_0x4f7d9f(0x9fa)],_0x3870eb=Object[_0x4f7d9f(0x329)](_0x2c1dfd[_0x4f7d9f(0xb76)]||{})[_0x4f7d9f(0x7c4)](_0x15374d=>_0x15374d[_0x4f7d9f(0x7f9)]!==_0x4f7d9f(0x917)),_0x5913af=_0x3870eb[_0x4f7d9f(0x7c4)](_0x312e8a=>_0x312e8a['answered'])[_0x4f7d9f(0x9fa)],_0x40ca62=_0x5913af===_0x3870eb[_0x4f7d9f(0x9fa)]&&_0x3870eb[_0x4f7d9f(0x9fa)]>0x0,_0x6db3e9=(_0x39b06f['options']||[])[_0x4f7d9f(0xb6a)](_0x3da3cc=>_0x4f7d9f(0x29c)+_0x3da3cc+_0x4f7d9f(0x8ff))['join']('');liveGameView[_0x4f7d9f(0x61b)]=_0x4f7d9f(0x339)+(_0x76df69+0x1)+'\x20/\x20'+_0x28c7d2+_0x4f7d9f(0x8c5)+_0x5913af+'/'+_0x3870eb[_0x4f7d9f(0x9fa)]+_0x4f7d9f(0x2dd)+_0x39b06f[_0x4f7d9f(0x364)]+_0x4f7d9f(0x12d)+_0x6db3e9+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x40ca62?_0x4f7d9f(0x993):'')+_0x4f7d9f(0x886);if(window['MathJax'])MathJax[_0x4f7d9f(0x1f8)]();document[_0x4f7d9f(0x651)](_0x4f7d9f(0x5b6))[_0x4f7d9f(0x7bb)](_0x4f7d9f(0x530),async()=>{const _0x1696db=_0x4f7d9f,_0x4388ee=doc(db,'artifacts/'+appId+_0x1696db(0x683),currentLiveGameId);await updateDoc(_0x4388ee,{'status':_0x1696db(0x3a3)});}),document[_0x4f7d9f(0x651)](_0x4f7d9f(0x999))[_0x4f7d9f(0x901)]=()=>{const _0x4bd3af=_0x4f7d9f;openScratchpad(_0x39b06f,_0x39b06f[_0x4bd3af(0xb4a)]||[]);},document[_0x4f7d9f(0x651)](_0x4f7d9f(0x927))[_0x4f7d9f(0x7bb)](_0x4f7d9f(0x530),()=>{const _0x450049=_0x4f7d9f;document[_0x450049(0x651)]('sync-player-management')[_0x450049(0xbeb)][_0x450049(0xb9b)](_0x450049(0x6ca));});}function renderSyncLeaderboardView(_0x6a9ea3,_0x42be09){const _0x6f0b9f=_0x4414d4,_0x4a9f91=Object[_0x6f0b9f(0x329)](_0x6a9ea3[_0x6f0b9f(0xb76)]||{});_0x4a9f91['sort']((_0x372d03,_0x2fe840)=>_0x2fe840['score']-_0x372d03[_0x6f0b9f(0x288)]);const _0x19ced1=_0x4a9f91[_0x6f0b9f(0xb31)](0x0,0x5);let _0x1905de='';if(_0x42be09){const _0x4ba004=_0x6a9ea3[_0x6f0b9f(0x5db)]>=_0x6a9ea3[_0x6f0b9f(0x415)]['questions'][_0x6f0b9f(0x9fa)]-0x1;_0x1905de='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x4ba004?'ดูผลสรุปสุดท้าย':_0x6f0b9f(0xaa9))+_0x6f0b9f(0x71c);}else _0x1905de=_0x6f0b9f(0x8a5);liveGameView[_0x6f0b9f(0x61b)]=_0x6f0b9f(0x23d)+_0x19ced1[_0x6f0b9f(0xb6a)]((_0x18c38b,_0x58dda3)=>_0x6f0b9f(0xa04)+(_0x58dda3+0x1)+'.\x20'+_0x18c38b[_0x6f0b9f(0x815)]+_0x6f0b9f(0x6e9)+_0x18c38b[_0x6f0b9f(0x288)]+_0x6f0b9f(0x140))[_0x6f0b9f(0x254)]('')+_0x6f0b9f(0x504)+_0x1905de+_0x6f0b9f(0xa91),_0x42be09&&document['getElementById'](_0x6f0b9f(0x4c3))[_0x6f0b9f(0x7bb)](_0x6f0b9f(0x530),async()=>{const _0x4679a0=_0x6f0b9f,_0x329301=doc(db,_0x4679a0(0x763)+appId+_0x4679a0(0x683),currentLiveGameId),_0x112d67=_0x6a9ea3[_0x4679a0(0x5db)]+0x1;if(_0x112d67<_0x6a9ea3[_0x4679a0(0x415)][_0x4679a0(0x132)][_0x4679a0(0x9fa)]){const _0x1abd1b={};Object['keys'](_0x6a9ea3[_0x4679a0(0xb76)])['forEach'](_0x34f000=>{const _0x286d40=_0x4679a0;_0x1abd1b[_0x286d40(0x25a)+_0x34f000+'.answered']=![];}),await updateDoc(_0x329301,{..._0x1abd1b,'status':_0x4679a0(0x96c),'currentQuestionIndex':_0x112d67,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x329301,{'status':_0x4679a0(0xa20)});});}async function handleJoinSyncGame(){const _0x2d6973=_0x4414d4,_0x440519=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x440519||_0x440519[_0x2d6973(0x4fe)]()['length']!==0x2){showMessage(_0x2d6973(0xc27));return;}try{const _0xccfc67=collection(db,_0x2d6973(0x763)+appId+_0x2d6973(0x683)),_0x8e43c5=query(_0xccfc67,where('pin','==',_0x440519[_0x2d6973(0x4fe)]()),where('status','==',_0x2d6973(0xb4f))),_0x546f02=await getDocs(_0x8e43c5);if(_0x546f02[_0x2d6973(0x606)]){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x31d276=_0x546f02['docs'][0x0];currentLiveGameId=_0x31d276['id'];const _0x25319c=_0x31d276[_0x2d6973(0x213)](),_0x3f7b5a=doc(db,'artifacts/'+appId+_0x2d6973(0x2cd),_0x25319c[_0x2d6973(0x8c6)]),_0x4f46a5=await getDoc(_0x3f7b5a);if(!_0x4f46a5[_0x2d6973(0x523)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x5b9708=_0x4f46a5[_0x2d6973(0x213)](),_0x50bd1b=doc(db,_0x2d6973(0x763)+appId+_0x2d6973(0x714),_0x5b9708['projectId']),_0x4dcfb1=await getDoc(_0x50bd1b);if(!_0x4dcfb1[_0x2d6973(0x523)]())throw new Error(_0x2d6973(0x95d));currentQuizData=_0x25319c[_0x2d6973(0x415)];const _0x4565ca=_0x4dcfb1[_0x2d6973(0x213)]();showView('student-team-join'),showTeamPlayerSelection(_0x4565ca[_0x2d6973(0xb29)],_0x5b9708[_0x2d6973(0x78b)]);const _0x54f610=document[_0x2d6973(0x651)](_0x2d6973(0xa8d));_0x54f610[_0x2d6973(0x901)]=confirmAndJoinSyncGame;}catch(_0x46c8e8){console[_0x2d6973(0xb95)](_0x2d6973(0x5fe),_0x46c8e8),showMessage(_0x2d6973(0x750)+_0x46c8e8[_0x2d6973(0xaea)]);}}function updateStudentSyncView(_0x3438a7){const _0x3a1c92=_0x4414d4,_0xbee816=_0x3438a7[_0x3a1c92(0xb76)][localTeamPlayers[0x0]];switch(_0x3438a7[_0x3a1c92(0x7f9)]){case _0x3a1c92(0xb4f):showView(_0x3a1c92(0x70c)),liveGameView[_0x3a1c92(0x61b)]=_0x3a1c92(0xb8e);break;case _0x3a1c92(0x96c):const _0x322c2a=localTeamPlayers[_0x3a1c92(0xb68)](_0x40fa92=>_0x3438a7['players'][_0x40fa92]?.['answered']===!![]);_0x322c2a?liveGameView[_0x3a1c92(0x61b)]=_0x3a1c92(0x2bc):renderStudentSyncQuestionView(_0x3438a7);break;case _0x3a1c92(0x3f8):liveGameView[_0x3a1c92(0x61b)]=_0x3a1c92(0x2ca);break;case _0x3a1c92(0x3a3):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x3438a7);break;case _0x3a1c92(0xa20):sessionStorage[_0x3a1c92(0x9b2)](_0x3a1c92(0x546));const _0xba37de=calculateFinalPodiumScores(_0x3438a7);showPodiumView(_0xba37de,_0x3a1c92(0x619));break;}}function renderStudentSyncResultsView(_0x1ed6dd){const _0x566310=_0x4414d4,_0x2aa026=localTeamPlayers['map'](_0x2ef360=>_0x1ed6dd['players'][_0x2ef360])['filter'](Boolean);_0x2aa026[_0x566310(0xa7e)]((_0x28c607,_0x167755)=>(_0x167755['score']||0x0)-(_0x28c607['score']||0x0));const _0x29ebf9=_0x1ed6dd[_0x566310(0x5db)]>=_0x1ed6dd['shuffledQuiz'][_0x566310(0x132)][_0x566310(0x9fa)]-0x1;let _0x560753='';_0x29ebf9?_0x560753=_0x566310(0x735):_0x560753=_0x566310(0x428);const _0x451127=_0x566310(0x5b8)+_0x2aa026[_0x566310(0xb6a)]((_0x3b9567,_0x404bfb)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x404bfb+0x1)+_0x566310(0xb58)+_0x3b9567[_0x566310(0x815)]+_0x566310(0x6ae)+_0x3b9567[_0x566310(0x288)]+_0x566310(0x5e2))['join']('')+_0x566310(0x670)+_0x560753+'\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x566310(0x61b)]=_0x451127;}function renderStudentSyncQuestionView(_0x1ef9bf){const _0xedf812=_0x4414d4;while(localPlayerTurnIndex<localTeamPlayers[_0xedf812(0x9fa)]&&_0x1ef9bf[_0xedf812(0xb76)][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x1d58e6=localTeamPlayers[localPlayerTurnIndex];if(!_0x1d58e6)return;const _0x702fe2=_0x1ef9bf[_0xedf812(0x5db)],_0x8df4e=_0x1ef9bf['shuffledQuiz'][_0xedf812(0x132)][_0xedf812(0x9fa)],_0x190ac2=_0x1ef9bf[_0xedf812(0x415)][_0xedf812(0x132)][_0x702fe2],_0xca0204=_0x190ac2[_0xedf812(0xc2f)]||_0x1ef9bf[_0xedf812(0x415)]['quizType'];let _0x1d88cc='',_0x30e887=![];switch(_0xca0204){case _0xedf812(0x26d):_0x1d88cc=_0xedf812(0x908);break;case'short_answer':case _0xedf812(0x55c):_0x30e887=!![],_0x1d88cc=_0xedf812(0x9b8);break;case _0xedf812(0x572):_0x30e887=!![],_0x1d88cc=_0xedf812(0xb32)+(_0x190ac2[_0xedf812(0x67e)]||[])[_0xedf812(0xb6a)](_0x2b8330=>_0xedf812(0x6ef)+_0x2b8330+'\x22>'+_0x2b8330+_0xedf812(0x433))[_0xedf812(0x254)]('')+_0xedf812(0xa95);break;case'multiple_choice':default:_0x1d88cc=(_0x190ac2['options']||[])[_0xedf812(0xb6a)]((_0x5536db,_0x251dc0)=>_0xedf812(0xad8)+_0x251dc0+_0xedf812(0x6cb)+_0x5536db+_0xedf812(0x6fc))[_0xedf812(0x254)]('');break;}liveGameView[_0xedf812(0x61b)]=_0xedf812(0x88a)+(_0x702fe2+0x1)+_0xedf812(0x8b5)+_0x8df4e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x1d58e6+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x190ac2[_0xedf812(0x364)]||_0x190ac2[_0xedf812(0x610)])+_0xedf812(0x4eb)+_0x1d88cc+_0xedf812(0x920);if(window[_0xedf812(0x858)])MathJax[_0xedf812(0x1f8)]();function _0x198339(_0x5cdc10,_0x12357c,_0x56f744,_0x2eefb1){const _0x266a31=_0xedf812,_0x391c38=_0x56f744[_0x266a31(0x29a)]===!![];if(_0x391c38){document['getElementById'](_0x266a31(0x442))[_0x266a31(0x3b5)]['currentMode']='sync';const _0x3215b1=document[_0x266a31(0x651)]('selected-answer-index-hidden');_0x3215b1[_0x266a31(0x3b5)][_0x266a31(0xb92)]=_0x5cdc10,_0x3215b1[_0x266a31(0x3b5)]['question']=JSON[_0x266a31(0x177)](_0x12357c),_0x3215b1[_0x266a31(0x3b5)][_0x266a31(0x997)]=JSON['stringify'](_0x56f744),_0x3215b1['dataset'][_0x266a31(0x4b5)]=_0x2eefb1,document[_0x266a31(0x651)]('confidence-modal')['classList'][_0x266a31(0x303)](_0x266a31(0x6ca));}else handleSyncAnswerSubmit(_0x5cdc10,_0x12357c,_0x56f744,_0x2eefb1,![]);}_0x30e887?document[_0xedf812(0x651)](_0xedf812(0x7cc))['addEventListener'](_0xedf812(0x530),()=>{const _0x56df79=_0xedf812,_0x2b7b5d=document[_0x56df79(0x651)]('sync-short-answer-input')||document[_0x56df79(0x651)](_0x56df79(0xb82));if(_0x2b7b5d[_0x56df79(0x3b7)]['trim']()===''){showMessage(_0x56df79(0x1f5));return;}_0x198339(_0x2b7b5d[_0x56df79(0x3b7)],_0x190ac2,_0x1ef9bf,_0x1d58e6);}):document[_0xedf812(0x514)](_0xedf812(0x201))[_0xedf812(0x15f)](_0x497355=>{const _0x4b4e35=_0xedf812;_0x497355['addEventListener'](_0x4b4e35(0x530),()=>{const _0xdbbfb7=_0x4b4e35;_0x198339(_0x497355[_0xdbbfb7(0x3b5)][_0xdbbfb7(0x3b7)],_0x190ac2,_0x1ef9bf,_0x1d58e6);});});}async function handleSyncAnswerSubmit(_0x4d4c51,_0xe6c1e,_0x4fa578,_0x56bf69,_0x42004a){const _0x22841a=_0x4414d4;document['querySelectorAll']('.live-answer-btn,\x20#sync-submit-btn')[_0x22841a(0x15f)](_0x1265fd=>_0x1265fd[_0x22841a(0x993)]=!![]);const _0x525d4b=_0xe6c1e['questionType']||_0x4fa578[_0x22841a(0x415)]['quizType'];let _0x181bb0=![],_0xd0ee98=_0x4d4c51;switch(_0x525d4b){case'true_false':const _0x4e1ea2=parseInt(_0x4d4c51),_0x13bb4a=_0xe6c1e['correctAnswer']===!![]||String(_0xe6c1e['correctAnswer'])[_0x22841a(0x939)]()===_0x22841a(0x7a0);_0x181bb0=_0x4e1ea2===0x0&&_0x13bb4a||_0x4e1ea2===0x1&&!_0x13bb4a,_0xd0ee98=_0x4e1ea2===0x0?'ใช่\x20/\x20ถูก':_0x22841a(0x708);break;case _0x22841a(0x808):case _0x22841a(0x55c):_0x181bb0=await gradeShortAnswer(_0x4d4c51,_0xe6c1e);break;case'matching_item':_0x181bb0=_0x4d4c51===_0xe6c1e[_0x22841a(0x3dc)];break;case _0x22841a(0x2c6):default:const _0x5cf06b=parseInt(_0x4d4c51);_0x181bb0=_0x5cf06b===_0xe6c1e[_0x22841a(0x74c)];_0xe6c1e[_0x22841a(0xb4a)]&&_0xe6c1e[_0x22841a(0xb4a)][_0x5cf06b]&&(_0xd0ee98=_0xe6c1e['options'][_0x5cf06b]);break;}let _0x2b4ab9=0x0;if(_0x181bb0&&_0x42004a)_0x2b4ab9=0x2;else{if(_0x181bb0)_0x2b4ab9=0x1;else!_0x181bb0&&_0x42004a&&(_0x2b4ab9=-0x1);}const _0xdb197=doc(db,_0x22841a(0x763)+appId+_0x22841a(0x683),currentLiveGameId),_0x268bd8={};_0x268bd8[_0x22841a(0x25a)+_0x56bf69+_0x22841a(0x586)]=increment(_0x2b4ab9),_0x268bd8['players.'+_0x56bf69+_0x22841a(0x1d7)]=!![];let _0x59083f=null;(_0x525d4b===_0x22841a(0x2c6)||_0x525d4b===_0x22841a(0x26d)||_0x525d4b==='fill_in_with_choices')&&(_0x59083f=parseInt(_0x4d4c51));_0x268bd8[_0x22841a(0x25a)+_0x56bf69+_0x22841a(0x6d0)]=_0x59083f;const _0x497417={'questionIndex':_0x4fa578['currentQuestionIndex'],'questionId':_0xe6c1e['id'],'answer':_0x4d4c51,'answerText':_0xd0ee98,'isCorrect':_0x181bb0,'originalQuestionText':_0xe6c1e['questionText']||_0xe6c1e[_0x22841a(0x610)],'wasConfident':_0x42004a};_0x268bd8[_0x22841a(0x25a)+_0x56bf69+_0x22841a(0x894)]=arrayUnion(_0x497417),await updateDoc(_0xdb197,_0x268bd8);}initialize();
