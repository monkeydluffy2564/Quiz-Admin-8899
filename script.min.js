const _0x49918e=_0x2d54;(function(_0x235224,_0x56fd2b){const _0x5d26ba=_0x2d54,_0x16a2a3=_0x235224();while(!![]){try{const _0x5cc53e=-parseInt(_0x5d26ba(0x876))/0x1*(-parseInt(_0x5d26ba(0x618))/0x2)+-parseInt(_0x5d26ba(0x7cc))/0x3*(parseInt(_0x5d26ba(0x741))/0x4)+parseInt(_0x5d26ba(0x608))/0x5*(-parseInt(_0x5d26ba(0xa60))/0x6)+parseInt(_0x5d26ba(0x210))/0x7*(-parseInt(_0x5d26ba(0x5eb))/0x8)+-parseInt(_0x5d26ba(0x707))/0x9+parseInt(_0x5d26ba(0x64b))/0xa+parseInt(_0x5d26ba(0xc2c))/0xb;if(_0x5cc53e===_0x56fd2b)break;else _0x16a2a3['push'](_0x16a2a3['shift']());}catch(_0x136dfe){_0x16a2a3['push'](_0x16a2a3['shift']());}}}(_0x9c73,0x5cf81));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x55512c=_0x2d54;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x55512c(0x2be)]['request'](_0x55512c(0x529)),console[_0x55512c(0x7bb)](_0x55512c(0xa37)),wakeLock[_0x55512c(0xb63)](_0x55512c(0x46f),()=>{const _0x22e394=_0x55512c;console[_0x22e394(0x7bb)](_0x22e394(0x5b7));});}catch(_0x1632d8){console[_0x55512c(0xb89)](_0x55512c(0x652)+_0x1632d8['name']+',\x20'+_0x1632d8[_0x55512c(0x927)]);}else console[_0x55512c(0x1ee)](_0x55512c(0x351));},releaseWakeLock=async()=>{const _0x10e86f=_0x2d54;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0x10e86f(0x7bb)](_0x10e86f(0xa85)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0xbde145=_0x2d54;if(dimTimer)clearTimeout(dimTimer);document[_0xbde145(0x43d)][_0xbde145(0x1fa)][_0xbde145(0x428)](_0xbde145(0x26b)),dimTimer=setTimeout(()=>{const _0x79ec16=_0xbde145;document[_0x79ec16(0x43d)]['classList'][_0x79ec16(0x36a)](_0x79ec16(0x26b)),console[_0x79ec16(0x7bb)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0xbd05d3=_0x2d54;if(dimTimer)clearTimeout(dimTimer);document[_0xbd05d3(0x43d)][_0xbd05d3(0x1fa)][_0xbd05d3(0x428)](_0xbd05d3(0x26b)),window[_0xbd05d3(0xb7a)]('mousemove',resetDimTimer),window[_0xbd05d3(0xb7a)](_0xbd05d3(0x3e2),resetDimTimer),window[_0xbd05d3(0xb7a)](_0xbd05d3(0x558),resetDimTimer),window['removeEventListener']('keydown',resetDimTimer),console[_0xbd05d3(0x7bb)](_0xbd05d3(0x366));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x393b33,_0x1f6ef1=![]){const _0x4bec48=_0x2d54,_0x33223e=allQuizzes[_0x4bec48(0xa19)](_0x4fdc2d=>_0x4fdc2d['id']===_0x393b33)||allQuizzesGlobal['find'](_0x378265=>_0x378265['id']===_0x393b33);if(!_0x33223e){showMessage(_0x4bec48(0x20c));return;}currentQuizData=getShuffledQuiz(_0x33223e);const _0x2a2222=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x4bec48(0x241)]();try{const _0xa49071=await addDoc(collection(db,_0x4bec48(0x878)+appId+'/public/data/teamQuizzes'),{'quizId':_0x33223e['id'],'projectId':_0x33223e[_0x4bec48(0x33a)],'status':_0x4bec48(0x8a7),'pin':_0x2a2222,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1f6ef1});currentTeamQuizId=_0xa49071['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x2a2222,_0x33223e['topic']),listenForTeamQuizUpdates();}catch(_0x274425){console[_0x4bec48(0xb89)]('Error\x20starting\x20team\x20quiz:',_0x274425),showMessage(_0x4bec48(0x64e));}}function renderAdminTeamQuizDashboard(_0x108f16,_0x1ca63a,_0x5bac98=_0x49918e(0x6bc)){const _0x3f761f=_0x49918e,_0x70ee7a=_0x5bac98===_0x3f761f(0x884)?_0x3f761f(0xacd):'Team\x20Quiz';liveGameView[_0x3f761f(0x848)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x70ee7a+':\x20'+_0x1ca63a+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x108f16+_0x3f761f(0x7d0),document[_0x3f761f(0x7db)](_0x3f761f(0x701))['addEventListener'](_0x3f761f(0x32d),async()=>{const _0x127352=_0x3f761f;showConfirmation(_0x127352(0x8af),async()=>{const _0x2c01ae=_0x127352;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x2c01ae(0x878)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x3386da=_0x49918e;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x2d141c=doc(db,_0x3386da(0x878)+appId+_0x3386da(0x7c9),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x2d141c,_0x39e579=>{const _0x268926=_0x3386da;if(!_0x39e579[_0x268926(0xbeb)]()){sessionStorage[_0x268926(0x435)](_0x268926(0xb05));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode==='admin')showMessage('กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว');showView(currentMode===_0x268926(0x2ae)?_0x268926(0xb26):_0x268926(0x972));return;}const _0x114e8d=_0x39e579[_0x268926(0x999)]();if(currentMode==='admin'){if(_0x114e8d['mode']===_0x268926(0x884)&&_0x114e8d[_0x268926(0xbc2)]!==_0x268926(0x738)&&_0x114e8d['status']!=='finished'){const _0x2bcf3d=Object['values'](_0x114e8d[_0x268926(0x324)]||{});if(_0x2bcf3d[_0x268926(0xaed)]>0x0){const _0x6bd63f=_0x2bcf3d[_0x268926(0x33c)](_0x14bdda=>_0x14bdda[_0x268926(0x43a)]===!![]);_0x6bd63f&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x114e8d);}else{if(_0x114e8d['status']===_0x268926(0x738)||_0x114e8d['status']===_0x268926(0x5de)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x114e8d[_0x268926(0x600)]==='group'){const _0x35b80d=_0x114e8d[_0x268926(0x324)][userId];(!_0x35b80d||!_0x35b80d[_0x268926(0x43a)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x49d495){const _0x343e8c=_0x49918e;console[_0x343e8c(0x7bb)](_0x343e8c(0xb71));const _0x445d33=doc(db,_0x343e8c(0x878)+appId+_0x343e8c(0x7c9),_0x49d495);try{const _0x45d9be=await getDoc(_0x445d33);if(_0x45d9be[_0x343e8c(0xbeb)]()){const _0x2944a9=_0x45d9be[_0x343e8c(0x999)]();_0x2944a9[_0x343e8c(0x28d)]&&await saveGameResultsAsSubmissions(_0x2944a9);}await updateDoc(_0x445d33,{'status':_0x343e8c(0x738)});}catch(_0x1c90d7){console[_0x343e8c(0xb89)](_0x343e8c(0x7ee),_0x1c90d7);}}function updateAdminTeamDashboard(_0x6141b1){const _0x188ac2=_0x49918e,_0x38531a=document['getElementById'](_0x188ac2(0x31c));if(!_0x38531a)return;const _0x403663=_0x6141b1[_0x188ac2(0x600)]||'team',_0x1a2137=currentQuizData[_0x188ac2(0x29f)]['length'];if(_0x403663==='group'){const _0x3e0939=Object[_0x188ac2(0xbca)](_0x6141b1[_0x188ac2(0x324)]||{});if(_0x3e0939[_0x188ac2(0xaed)]===0x0){_0x38531a[_0x188ac2(0x848)]=_0x188ac2(0x47e);return;}const _0x35ff8c=[..._0x3e0939]['sort']((_0x3b3b06,_0x385905)=>_0x385905['score']-_0x3b3b06[_0x188ac2(0x967)]),_0x23d1f9=_0x35ff8c[_0x188ac2(0x251)]((_0x2ec57e,_0x341ffb)=>{const _0x1266b0=_0x188ac2,_0x5be567=_0x2ec57e[_0x1266b0(0x957)]?.[_0x1266b0(0xaed)]||0x0;return _0x1266b0(0x55f)+(_0x341ffb+0x1)+_0x1266b0(0x6ad)+_0x2ec57e[_0x1266b0(0xb9f)][_0x1266b0(0x7b8)](',\x20')+_0x1266b0(0x4fa)+_0x5be567+'/'+_0x1a2137+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x2ec57e[_0x1266b0(0x967)]+_0x1266b0(0xbab);})[_0x188ac2(0x7b8)](''),_0x28f1fe=currentQuizData[_0x188ac2(0x29f)]['map']((_0x435583,_0x51ca82)=>{const _0x919975=_0x188ac2;let _0x51ec6f=0x0,_0x47c38e=0x0;_0x3e0939[_0x919975(0x4ec)](_0x14a856=>{const _0x544607=_0x919975,_0x19f7a2=_0x14a856[_0x544607(0x957)]?.[_0x544607(0xa19)](_0x5339ea=>_0x5339ea[_0x544607(0x7e8)]===_0x51ca82);if(_0x19f7a2){_0x47c38e++;if(_0x19f7a2[_0x544607(0xb34)])_0x51ec6f++;}});const _0x5d4b89=_0x47c38e>0x0&&_0x47c38e===_0x3e0939[_0x919975(0xaed)],_0x4a7002=_0x5d4b89?_0x919975(0x2ed):_0x919975(0x483),_0x331fee=_0x5d4b89?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x4a7002+_0x919975(0x7f4)+(_0x51ca82+0x1)+_0x919975(0xb7c)+_0x331fee+_0x919975(0x718)+_0x51ec6f+'/'+_0x3e0939[_0x919975(0xaed)]+_0x919975(0x2df);})[_0x188ac2(0x7b8)]('');_0x38531a['innerHTML']=_0x188ac2(0x50e)+_0x23d1f9+_0x188ac2(0x4d9)+_0x28f1fe+'</div></div></div>';return;}const _0x162e04=_0x6141b1[_0x188ac2(0x52b)]||{},_0x2c576a=Object[_0x188ac2(0x450)](_0x162e04);if(_0x2c576a[_0x188ac2(0xaed)]===0x0){_0x38531a[_0x188ac2(0x848)]=_0x188ac2(0x6f6);return;}const _0x3d6c51=_0x2c576a[_0x188ac2(0x251)](_0x3b3169=>({'name':_0x3b3169,'score':_0x162e04[_0x3b3169][_0x188ac2(0x967)]||0x0}))['sort']((_0x1f8f21,_0x386ba7)=>_0x386ba7[_0x188ac2(0x967)]-_0x1f8f21[_0x188ac2(0x967)]),_0x3033e1=_0x3d6c51[_0x188ac2(0x251)](_0x5f95ab=>{const _0x1d0ebd=_0x188ac2,_0x84255b=_0x162e04[_0x5f95ab['name']]?.[_0x1d0ebd(0x957)]?.['length']||0x0,_0x44f97a=Math['ceil'](_0x1a2137/_0x2c576a[_0x1d0ebd(0xaed)]);return _0x1d0ebd(0x6df)+_0x5f95ab[_0x1d0ebd(0x447)]+_0x1d0ebd(0x6dc)+_0x84255b+'/'+_0x44f97a+_0x1d0ebd(0xafb)+_0x5f95ab[_0x1d0ebd(0x967)]+_0x1d0ebd(0xc11);})[_0x188ac2(0x7b8)](''),_0x56c29c=_0x2c576a['reduce']((_0x318aed,_0x1795c3)=>_0x318aed+(_0x162e04[_0x1795c3]['answers']?.[_0x188ac2(0xaed)]||0x0),0x0),_0x1b8871=currentQuizData[_0x188ac2(0x29f)][_0x188ac2(0x251)]((_0x362ba3,_0x3f5a77)=>{const _0x2bb5a1=_0x188ac2;let _0x5884b4=null,_0x5ca1fe=null;for(const _0x51dd70 of _0x2c576a){const _0xd816f2=_0x162e04[_0x51dd70][_0x2bb5a1(0x957)]?.['find'](_0x309c4b=>_0x309c4b[_0x2bb5a1(0x7e8)]===_0x3f5a77);if(_0xd816f2){_0x5884b4=_0xd816f2,_0x5ca1fe=_0x51dd70;break;}}const _0x572d0c=!!_0x5884b4,_0x173b82=_0x572d0c&&_0x5884b4['isCorrect'],_0x1fc0e6=(Math[_0x2bb5a1(0x356)](_0x3f5a77/_0x2c576a[_0x2bb5a1(0xaed)])+0x1)*_0x2c576a[_0x2bb5a1(0xaed)],_0x46b24d=_0x56c29c>=_0x1fc0e6,_0x9de38f=_0x46b24d?'bg-green-200\x20text-green-900':_0x2bb5a1(0x483),_0x53eb24=_0x46b24d?_0x2bb5a1(0xbf2):'';let _0x22dd34=_0x2bb5a1(0x671);return _0x572d0c&&(_0x22dd34=_0x5ca1fe+_0x2bb5a1(0x550)+(_0x173b82?_0x2bb5a1(0x75c):_0x2bb5a1(0x46e))),_0x2bb5a1(0x6ee)+_0x9de38f+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x3f5a77+0x1)+_0x2bb5a1(0xb7c)+_0x53eb24+_0x2bb5a1(0xb3a)+_0x22dd34+_0x2bb5a1(0x5d8);})[_0x188ac2(0x7b8)]('');_0x38531a[_0x188ac2(0x848)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x3033e1+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x1b8871+_0x188ac2(0x498);}async function handleJoinTeamQuiz(){const _0x226d52=_0x49918e,_0x30cc3b=prompt(_0x226d52(0xb60));if(!_0x30cc3b||_0x30cc3b[_0x226d52(0x564)]()['length']!==0x4){showMessage(_0x226d52(0x7d2));return;}try{const _0x4b40f4=collection(db,'artifacts/'+appId+_0x226d52(0x7c9)),_0x19c62d=query(_0x4b40f4,where(_0x226d52(0xacc),'==',_0x30cc3b[_0x226d52(0x564)]()),where(_0x226d52(0xbc2),'==',_0x226d52(0x8a7))),_0x114696=await getDocs(_0x19c62d);if(_0x114696[_0x226d52(0xa41)]){showMessage(_0x226d52(0x732));return;}const _0x4e9b26=_0x114696[_0x226d52(0x689)][0x0];currentTeamQuizId=_0x4e9b26['id'];const _0x27ec52=_0x4e9b26[_0x226d52(0x999)](),_0x3d8259=doc(db,_0x226d52(0x878)+appId+_0x226d52(0xc07),_0x27ec52[_0x226d52(0x33a)]),_0x3f3a0f=doc(db,_0x226d52(0x878)+appId+_0x226d52(0x1ed),_0x27ec52['quizId']),[_0x39261a,_0x4041ea]=await Promise[_0x226d52(0x56c)]([getDoc(_0x3d8259),getDoc(_0x3f3a0f)]);if(!_0x39261a[_0x226d52(0xbeb)]()||!_0x4041ea[_0x226d52(0xbeb)]())throw new Error(_0x226d52(0x699));currentQuizData=getShuffledQuiz({'id':_0x4041ea['id'],..._0x4041ea[_0x226d52(0x999)]()});const _0x353bde=_0x39261a[_0x226d52(0x999)]();showTeamPlayerSelection(_0x353bde[_0x226d52(0xc14)],currentQuizData['topic']);}catch(_0x4ccf29){console[_0x226d52(0xb89)](_0x226d52(0x610),_0x4ccf29),showMessage(_0x226d52(0x5b8)+_0x4ccf29['message']);}}async function handleJoinGroupActivity(){const _0x1335c9=_0x49918e,_0xfa3aae=prompt(_0x1335c9(0x4b8));if(!_0xfa3aae||_0xfa3aae[_0x1335c9(0x564)]()[_0x1335c9(0xaed)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x4e4601=_0xfa3aae[_0x1335c9(0x564)]();showMessage('กำลังค้นหากิจกรรม...');try{const _0x40dc17=collection(db,_0x1335c9(0x878)+appId+'/public/data/teamQuizzes'),_0x39901a=query(_0x40dc17,where(_0x1335c9(0xacc),'==',_0x4e4601),where(_0x1335c9(0xbc2),'==',_0x1335c9(0x8a7))),_0x1a6e38=await getDocs(_0x39901a);if(!_0x1a6e38['empty']){console['log']('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x1a6e38['docs'][0x0]);return;}const _0x3ef7cc=collection(db,_0x1335c9(0x878)+appId+_0x1335c9(0x881)),_0x3f1b95=query(_0x3ef7cc,where('pin','==',_0x4e4601),where(_0x1335c9(0xbc2),'==',_0x1335c9(0x8a7))),_0xe53319=await getDocs(_0x3f1b95);if(!_0xe53319['empty']){console[_0x1335c9(0x7bb)](_0x1335c9(0x4e1)),await proceedWithSyncQuizJoin(_0xe53319[_0x1335c9(0x689)][0x0]);return;}showMessage(_0x1335c9(0x80b));}catch(_0x3bfaf9){console[_0x1335c9(0xb89)](_0x1335c9(0x763),_0x3bfaf9),showMessage(_0x1335c9(0x83b)+_0x3bfaf9['message']);}}async function proceedWithTeamQuizJoin(_0x39e1e4){const _0x5316d6=_0x49918e;currentTeamQuizId=_0x39e1e4['id'];const _0x4c8775=_0x39e1e4[_0x5316d6(0x999)](),_0x169cc7=doc(db,_0x5316d6(0x878)+appId+'/public/data/projects',_0x4c8775[_0x5316d6(0x33a)]),_0x1ee778=doc(db,_0x5316d6(0x878)+appId+_0x5316d6(0x1ed),_0x4c8775['quizId']),[_0x35167a,_0x14e853]=await Promise[_0x5316d6(0x56c)]([getDoc(_0x169cc7),getDoc(_0x1ee778)]);if(!_0x35167a[_0x5316d6(0xbeb)]()||!_0x14e853[_0x5316d6(0xbeb)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x14e853['id'],..._0x14e853[_0x5316d6(0x999)]()}),showTeamPlayerSelection(_0x35167a[_0x5316d6(0x999)]()['students'],currentQuizData[_0x5316d6(0x818)],_0x4c8775[_0x5316d6(0x600)]||'team'),messageModal[_0x5316d6(0x1fa)]['add'](_0x5316d6(0x997));}async function proceedWithSyncQuizJoin(_0x3a0e4b){const _0x321ecf=_0x49918e;currentLiveGameId=_0x3a0e4b['id'];const _0x428762=_0x3a0e4b[_0x321ecf(0x999)](),_0x6a4732=doc(db,_0x321ecf(0x878)+appId+'/public/data/quizzes',_0x428762[_0x321ecf(0x33f)]),_0x6bc974=await getDoc(_0x6a4732);if(!_0x6bc974[_0x321ecf(0xbeb)]())throw new Error(_0x321ecf(0x20c));const _0x326919=_0x6bc974[_0x321ecf(0x999)](),_0x51ee74=doc(db,_0x321ecf(0x878)+appId+_0x321ecf(0xc07),_0x326919[_0x321ecf(0x33a)]),_0x3a64da=await getDoc(_0x51ee74);if(!_0x3a64da[_0x321ecf(0xbeb)]())throw new Error(_0x321ecf(0x528));currentQuizData=_0x428762[_0x321ecf(0x4b3)],showView(_0x321ecf(0xb33)),showTeamPlayerSelection(_0x3a64da[_0x321ecf(0x999)]()[_0x321ecf(0xc14)],_0x326919['topic'],_0x321ecf(0x578)),document['getElementById']('confirm-team-players-btn')[_0x321ecf(0x39c)]=confirmAndJoinSyncGame,messageModal['classList'][_0x321ecf(0x36a)](_0x321ecf(0x997));}function showTeamPlayerSelection(_0x51d798,_0x374039,_0x12ff3b=_0x49918e(0x6bc)){const _0x23a2da=_0x49918e;studentInitialView[_0x23a2da(0x1fa)][_0x23a2da(0x36a)]('hidden'),studentJoinGameView['classList'][_0x23a2da(0x36a)](_0x23a2da(0x997)),document[_0x23a2da(0x7db)](_0x23a2da(0x846))['classList'][_0x23a2da(0x428)]('hidden');let _0x507f9c='Team\x20Quiz';if(_0x12ff3b===_0x23a2da(0x884))_0x507f9c='Group\x20Mode';else _0x12ff3b===_0x23a2da(0x578)&&(_0x507f9c=_0x23a2da(0x696));document['getElementById'](_0x23a2da(0x6cd))[_0x23a2da(0x467)]=_0x507f9c+':\x20'+_0x374039;const _0x1ae3d6=document[_0x23a2da(0x7db)](_0x23a2da(0x3e1));if(!_0x51d798||_0x51d798[_0x23a2da(0xaed)]===0x0){_0x1ae3d6['innerHTML']=_0x23a2da(0x925),document['getElementById']('confirm-team-players-btn')[_0x23a2da(0x534)]=!![];return;}_0x1ae3d6[_0x23a2da(0x848)]=_0x51d798[_0x23a2da(0x251)](_0x16b6eb=>_0x23a2da(0xac8)+_0x16b6eb+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x16b6eb+_0x23a2da(0x235))[_0x23a2da(0x7b8)](''),document['getElementById']('confirm-team-players-btn')['disabled']=![];}async function confirmAndStartTeamQuiz(){const _0x5b3886=_0x49918e,_0x2a6078=Array[_0x5b3886(0x3b3)](document[_0x5b3886(0x3e7)]('input[name=\x22team_player\x22]:checked'))[_0x5b3886(0x251)](_0xa5a986=>_0xa5a986[_0x5b3886(0x947)]);if(_0x2a6078[_0x5b3886(0xaed)]===0x0){showMessage(_0x5b3886(0xa93));return;}localTeamPlayers=_0x2a6078,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x10f7a9=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x2cee04=await getDoc(_0x10f7a9);if(!_0x2cee04[_0x5b3886(0xbeb)]())throw new Error(_0x5b3886(0x5e8));const _0x4ecee8=_0x2cee04[_0x5b3886(0x999)]();if(_0x4ecee8['mode']===_0x5b3886(0x884)){const _0x42b54c={[_0x5b3886(0x887)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x10f7a9,_0x42b54c);}else{const _0x419d76=_0x4ecee8[_0x5b3886(0x52b)]||{};localTeamPlayers[_0x5b3886(0x4ec)](_0x3709d6=>{!_0x419d76[_0x3709d6]&&(_0x419d76[_0x3709d6]={'score':0x0,'answers':[]});}),await updateDoc(_0x10f7a9,{'responses':_0x419d76});}document[_0x5b3886(0x7db)]('student-team-selection-view')[_0x5b3886(0x1fa)][_0x5b3886(0x36a)](_0x5b3886(0x997)),renderTeamQuizQuestion();const _0x14c027={'gameId':currentTeamQuizId,'mode':_0x4ecee8[_0x5b3886(0x600)]||_0x5b3886(0x6bc),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x5b3886(0x470)](_0x5b3886(0xb05),JSON[_0x5b3886(0x362)](_0x14c027)),listenForTeamQuizUpdates();}catch(_0x14a365){console['error'](_0x5b3886(0x8ea),_0x14a365),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x512002=_0x49918e;if(localQuestionIndex>=currentQuizData[_0x512002(0x29f)][_0x512002(0xaed)]){displayTeamQuizFinalResults();return;}const _0x4eb4c8=currentQuizData[_0x512002(0x29f)][localQuestionIndex],_0x5939bb=localTeamPlayers[localPlayerIndex],_0x1a384c=_0x4eb4c8[_0x512002(0x7e0)]||currentQuizData[_0x512002(0x3ee)];let _0x333f23=_0x4eb4c8[_0x512002(0xc08)]||_0x4eb4c8[_0x512002(0xa04)],_0x381751='';switch(_0x1a384c){case _0x512002(0x286):case _0x512002(0x54d):_0x381751=_0x4eb4c8[_0x512002(0xa27)][_0x512002(0x251)]((_0x16836e,_0x142383)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x142383+_0x512002(0x8d4)+_0x142383+_0x512002(0xba1)+_0x142383+'\x22>'+_0x16836e+_0x512002(0x521))[_0x512002(0x7b8)]('');break;case _0x512002(0x7c2):_0x381751=_0x512002(0x655);break;case _0x512002(0x6de):case _0x512002(0x6c9):_0x381751=_0x512002(0x2eb);break;case'matching_item':_0x381751='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x4eb4c8[_0x512002(0x85d)][_0x512002(0x251)](_0x8dad30=>'<option\x20value=\x22'+_0x8dad30+'\x22>'+_0x8dad30+_0x512002(0x266))['join']('')+_0x512002(0x7bd);break;default:_0x381751=_0x512002(0x281);break;}studentQuizArea[_0x512002(0x848)]=_0x512002(0x538)+(localQuestionIndex+0x1)+_0x512002(0x814)+currentQuizData[_0x512002(0x29f)]['length']+_0x512002(0x7ec)+_0x5939bb+_0x512002(0x5ff)+(localQuestionIndex+0x1)+'.\x20'+_0x333f23+_0x512002(0x682)+(_0x4eb4c8[_0x512002(0x71a)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4eb4c8['imageCode']+_0x512002(0x640):'')+_0x512002(0x743)+_0x381751+_0x512002(0x630),studentQuizArea[_0x512002(0x1fa)]['remove'](_0x512002(0x997));if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document[_0x512002(0x7db)](_0x512002(0x2de))[_0x512002(0xb63)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x3c30b1=_0x49918e,_0x16d9a5=currentQuizData['questions'][localQuestionIndex],_0xc14090=_0x16d9a5[_0x3c30b1(0x7e0)]||currentQuizData['quizType'];let _0x48ab1c=null,_0x1d1cd3=![];if(_0xc14090===_0x3c30b1(0x6de)||_0xc14090===_0x3c30b1(0x6c9)){const _0x16ab66=document[_0x3c30b1(0xa3e)](_0x3c30b1(0x50f));if(!_0x16ab66||!_0x16ab66[_0x3c30b1(0x947)][_0x3c30b1(0x564)]()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x48ab1c=_0x16ab66[_0x3c30b1(0x947)][_0x3c30b1(0x564)](),_0x1d1cd3=await gradeShortAnswer(_0x48ab1c,_0x16d9a5);}else{const _0x3ab03e=document['querySelector']('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x3ab03e||_0x3ab03e['value']===''){showMessage(_0x3c30b1(0x3df));return;}_0x48ab1c=_0x3ab03e[_0x3c30b1(0x947)];switch(_0xc14090){case _0x3c30b1(0x7c2):_0x1d1cd3=_0x48ab1c===_0x3c30b1(0x36c)===_0x16d9a5[_0x3c30b1(0x912)];break;case _0x3c30b1(0x799):_0x1d1cd3=_0x48ab1c===_0x16d9a5['correctResponse'];break;default:_0x1d1cd3=parseInt(_0x48ab1c)===_0x16d9a5[_0x3c30b1(0x6e8)];break;}}const _0x2311cd={'questionIndex':localQuestionIndex,'isCorrect':_0x1d1cd3},_0x195782=userId,_0x4ab4cf={[_0x3c30b1(0x887)+_0x195782+_0x3c30b1(0x76d)]:arrayUnion(_0x2311cd)};_0x1d1cd3&&(_0x4ab4cf[_0x3c30b1(0x887)+_0x195782+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x3c30b1(0x878)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x4ab4cf),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions'][_0x3c30b1(0xaed)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x32f473){console[_0x3c30b1(0xb89)](_0x3c30b1(0x51e),_0x32f473),showMessage(_0x3c30b1(0x523));}}function _0x9c73(){const _0x394886=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียน','Error\x20fetching\x20project\x20quizzes:','\x22\x20data-q-type=\x22','correctResponse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>',')\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','standardTopic','Error\x20generating\x20lesson\x20plan:','entries','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','อนุพันธ์:\x20กฎพื้นฐาน','visibilityState','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','student-progress','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','/submissions','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-confident','confirm-join-game-btn','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','Error\x20renaming\x20quiz:','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สำหรับโปรเจค:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','totalPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','main-correct-answer-display','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x22\x5cn','project-quizzes-list','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','complexityValue','(ก่อนเรียน)\x20','</tbody></table>','ราชาคัมแบ็ก','การจัดหมู่\x20(Combination)','text-green-800','Error\x20updating\x20old\x20quizzes:','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-red-100\x20text-red-800','fill_in_the_blank','โดยเน้นสร้างเนื้อหาและโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','project-sort-select','touch','คำถามถัดไป','behavior-log-tab-content','blueprint-project-list','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','input[type=\x22text\x22]','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20group\x20quiz:','behavior-log-container','confirm-quiz-status-btn','Error\x20updating\x20project\x20color:','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','เกี่ยวกับหัวข้อ\x20\x22','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','พีชคณิตและฟังก์ชัน','shuffle-setting-select','className','เกิดข้อผิดพลาดในการบันทึก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20id=\x22q-image-container-','leaderboard-quiz-tab-content','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','Error\x20generating\x20quiz:','text-green-700\x20bg-green-100','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','text-red-500\x20hover:text-red-700','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','\x22\x20value=\x22true\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','bg-red-500','MathJax','qIndex','pin','Group\x20Mode','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','.answered','ท็อปฟอร์ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','รีเซ็ตลำดับโปรเจคแล้ว','ยืนยันและอัปเดตทั้งหมด','ตารางความถี่','worksheet-topic-input','save-project-name-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','Error\x20calling\x20Gemini\x20API:','การคูณ','text','อินเวอร์สของเมทริกซ์','authed_project_','</span>','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentMode','student-quiz-topic','desc','default','answer-counter','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','contains','grid-view-btn','\x22><span>','setFont','ฮิสโตแกรม','offset','ค่าเสื่อมราคา','length','globalCompositeOperation','clientX','.copy-quiz-id-list-btn','preventDefault','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','(ฉบับง่าย)\x20','smooth','กำลังสร้างบทเรียน:\x20','red','bp-modal-include-images-checkbox','บันทึกโปรเจค\x20\x22','เกิดข้อผิดพลาดในการจับคู่','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','scratchpad-header','.bp-delete-topic-btn','blueprint-settings-modal','http://www.w3.org/2000/svg','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','wheel','round','live-player-list','handleGeneratePracticeTest','activeGameSession','เกิดข้อผิดพลาดในการเปลี่ยนสี','```','\x20mx-1\x20text-lg\x22></i></span>','ลำดับการดำเนินการ\x20(PEMDAS)','trail-tool-btn','ยืนยันการกระทำ','\x20คะแนน\x20','รอเปิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ยกเลิกการจับคู่สำเร็จ','topic-input-area','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','helvetica','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','destroy','projectView','lesson-loader-text','update','ฟังก์ชันเชิงเส้นและกราฟ','dfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','#FCE7F3','close-lesson-plan-modal-btn','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','mjx-container','การจัดกลุ่มข้อมูล','select[name=\x22question_single\x22]','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','project-detail','border-indigo-400\x20ring-2\x20ring-indigo-200','#results-table\x20thead\x20tr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','Action:\x20Create\x20Quiz\x20immediately.','game-pin-input','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','แบบเติมคำตอบ','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-pen\x22></i>','ความต่อเนื่อง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-team-join','isCorrect','prod',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','cdot','projectOrder','ลิมิต','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','getElementsByTagName','submissions','presentation-modal','\x22\x20class=\x22delete-project-btn\x20','list-view-btn','กรุณาใส่ชื่อนักเรียน','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','student-quiz-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x5cpm','.start-live-race-btn','delete-all-students-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','อัตราส่วนและสัดส่วน','confirm-game-start-modal','บันทึกผลการเล่นเกมของ\x20','mandatory','earned-badges-container','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','open-sync-scratchpad-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','verify-answers-btn','#D1FAE5','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','การประยุกต์เวกเตอร์พื้นฐาน','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','timer-duration-input','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','reduce','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','hint-btn','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','.delete-student-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-home-btn','class','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','%</span>','<p\x20class=\x22text-2xl\x22>','Error\x20displaying\x20blueprint\x20project:','bg-red-50','export-leaderboard-excel-btn','เลือกและบันทึก','All\x20groups\x20have\x20finished.\x20Ending\x20game.','rgba(79,\x2070,\x20229,\x200.8)','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','math-topics-checkbox-container','file-tab','scrollIntoView','Error\x20processing\x20file\x20for\x20AI:','removeEventListener',';\x22\x20data-id=\x22',':</span><span>',')\x5cb)','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','loader-text','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','baseVal','view-my-progress-btn','bg-blue-100','close','touches','G-V90KRM0L63','error','quiz-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ร้อยละประยุกต์','close-student-rankings-btn','.pointsLastQuestion','ฐานนิยม','ตรวจพบการออกจากหน้าจอครบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','POST','undo-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','opacity','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','bg-green-50','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','tan','generate-from-file-btn','flex','lineJoin','-tab-content','members','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','save-quiz-edits-btn','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','พื้นที่วงกลม/ส่วนของวงกลม','คะแนน','เส้นตรง:\x20รูปแบบสมการ','Error\x20saving\x20to\x20question\x20bank:','save-blueprint-as-project-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x5cle','back-to-home-manual-release','code','quiz-search-input','AI\x20Formula\x20Fix\x20Error:','temp-loader-results','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20joining\x20live\x20game:','ระยะเวลา\x20(วินาที):','originalQuestionText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','bulk-quiz-settings-modal','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','fullscreenElement','parentElement','confidence-scoring-toggle','บทเรียน','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','dispatchEvent','badges','textarea','status','scale','fa-crown\x20text-yellow-500','join-live-game-btn','#view-rankings-btn','files','</h4>','cancel-quiz-edits-btn','values','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','เปลี่ยนชื่อแบบทดสอบสำเร็จ','flex\x20flex-col\x20gap-2','export-word-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','</strong></p>','สลับไปโหมดนักเรียน','ไม่ระบุ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','getPage','answering','Error\x20updating\x20quiz\x20status:','bulk-results-display-select','type','ลบโปรเจคสำเร็จแล้ว','cancel-team-selection-btn','question','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','frac','bulk-confidence-scoring-checkbox','getScreenCTM','timed','\x27\x20ในหัวข้อ\x20\x27','style','select','exists','toDate','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','questionDisplayedAt','list','filter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','บันทึกการแก้ไข','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x27\x20สำหรับส่วน\x20\x27POINT\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','text-indigo-800','generationConfig','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','setAttributeNS','คณิตการเงิน/บูรณาการ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','join-group-activity-btn','/public/data/projects','stem','replace','preTestId','bg-red-200\x20text-red-800','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','Called\x20from\x20Blueprint\x20page.\x20Using\x20temporary\x20settings.','<p><strong>คำตอบที่แนะนำ:</strong>\x20','Unexpected\x20API\x20response\x20structure:','\x20คะแนน</span></div>','การลบเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','students','shadowColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกชื่อของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','comeback_king','setTransform','results-table-container','blur','results-tab-content','ปริพันธ์ไม่จำกัด','Error\x20saving\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20starred\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','jspdf','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','medium','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','_opt','\x22\x20data-topic=\x22','dashboardConfig','13877666Kckvzt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','firstScore','webkitExitFullscreen','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','quiz-leaderboard-table-container','.quiz-bank-delete-btn','Re-grade\x20process\x20failed:','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','หัวข้อที่สร้างเอง','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','auto-fix-latex-btn','text-gray-500','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','focus','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','คะแนนเต็ม!','</h3>','getBoundingClientRect','passingScore','<div\x20class=\x22my-2\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบ:\x20','bar','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้ภาษาที่เข้าใจง่าย\x20ใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','fa-shield-alt\x20text-gray-600','ตรวจคะแนนใหม่\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual-bp-project-name','show_pass_fail_only','project-list','/public/data/quizzes','warn','attemptNumber','\x20จาก\x20','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','Not\x20called\x20from\x20Blueprint\x20or\x20no\x20temp\x20settings.\x20Using\x20main\x20project\x20settings.','icon','\x20mr-2\x22></i>','.delete-custom-topic-btn','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','applicationContent','reset-view-btn','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','classList','rgba(239,\x2068,\x2068,\x200.9)','ลำดับเลขคณิต\x20(AP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','stroke','\x5ccdot','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ยังไม่เต็มนะ','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','fix\x20the\x20option','modal-timer-mode-select','.pair-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','Error\x20generating\x20parallel\x20test\x20from\x20bank:','modal-confidence-scoring-checkbox','.topic-actions-edit','.highlighter-color-btn','วงกลม:\x20คอร์ดและเส้นสัมผัส','ไม่พบข้อมูลแบบทดสอบ','modal-confidence-mode-select','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','original-mode-checkbox','14hwngGR','มุมพิเศษ\x2030°-60°-90°','ลบหัวข้อสำเร็จ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','Error\x20deleting\x20submission:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลำดับเรขาคณิต\x20(GP)','beginPath','</div><div\x20class=\x22space-y-2\x22>','neq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','mouse','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','lowerGroupResponders','ตั้งเวลา\x20(เปิด)','lesson-sections-container','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','ฟังก์ชันยกกำลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','redo-btn','คะแนนเต็ม','end-sync-game-btn','text-yellow-300','includes','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','gamePin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-create-project-btn','startedAt','เรขาคณิตวิเคราะห์','results','-tab','กลุ่มของคุณ','deg','ดูผลสรุปสุดท้าย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','button[data-id]','.lessonContent','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','ฟังก์ชันแบบชิ้นส่วน','bg-green-400\x20text-white\x20font-bold','user-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','eraser-tool-btn','topics.','toString','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','offsetWidth','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','.duplicate-quiz-btn','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','hasPerfectScoreBonus','per_question','#math-topics-checkbox-container\x20input:checked','text-white','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','สร้างแบบทดสอบปรนัย','end-game-btn','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','show-results-btn','map','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','file-topic-input','text/html','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','presentation-slide-container','projectName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','points','กำลังวิเคราะห์หัวข้อ...','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','กำลังสแกนหาแบบทดสอบเก่า...','ตรีโกณมิติ','text-red-800','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','.topic-name-input','include-images-checkbox','</option>','manual-create-blueprint-btn','sin','<tr><td\x20colspan=\x22','text-blue-700\x20bg-blue-100','dimmed','\x22\x20data-pre-test-id=\x22','typesetPromise','Error\x20adding\x20students:','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x20รายการ\x20สำเร็จ!','ดอกเบี้ยทบต้น','kick-player-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','$1\x20\x5cfrac','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','ยังไม่มีนักเรียนส่งงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x203.\x20\x20**[กฎรูปแบบ]\x20','results_','isScored','จำนวนและการดำเนินการ','Error\x20loading\x20user\x20preferences:','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','link-tab','createdBy','scrollY','pointContent','multiple_choice','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','justification','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shouldSaveResults','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','Error\x20confirming\x20players\x20for\x20sync\x20game:','scratchpad-close-btn','student-result-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','dataset','.generate-lesson-btn','\x5cs*\x5c(','update-old-quizzes-btn','position','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x22\x20data-name=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','questions','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลือกโปรเจคเพื่อบันทึก','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','lesson-plan-title','user','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x20mb-2\x22>','กรุณาป้อนรหัสแบบทดสอบ','bp-modal-shuffle-setting-select','Blueprint\x20O-NET\x20ป.6','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','.delete-svg-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','แบบทดสอบ:\x20','admin','beforeend','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','generated-quiz-actions','ref','.ai-fix-formula-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22>ใช่</p>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการลอการิทึม','answer','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ผ่าน','currentTarget','wakeLock','Error\x20starting\x20sync\x20game:','\x20from\x20sync\x20game:','_opt1\x22\x20name=\x22question','manage-tab','toggle','right','export-excel-btn','.view-bp-lesson-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','<button\x20data-quiz-id=\x22','ค่าสัมบูรณ์','analytics','ข้อที่\x20','next-drill-btn','\x20ชุด)','แผนการสอน:\x20','<li>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x22...','Error\x20generating\x20teaching\x20content:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.parallel-quiz-btn','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','findIndex','.pin-project-btn','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','topic-tab','answer-grid-container','outerHTML','submit-team-answer-btn','\x20กลุ่ม</p></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','.quiz-bank-settings-btn','bulk-shuffle-select','BOOLEAN','แบบปรนัย\x204\x20ตัวเลือก','จากไฟล์ที่แนบมานี้,\x20','check-presentation-answer-btn','analytics-tab-content','text-indigo-700','.generate-post-test-btn','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','bg-green-200\x20text-green-900\x20font-bold','วงกลม:\x20สมการและสมบัติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-modal','size','Error\x20displaying\x20question\x20bank:','includeImages','อสมการเชิงเส้น','isPasscodeEnabled','msExitFullscreen','point','move-quiz-project-select','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','บทเรียนเรื่อง:\x20','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','rgba(255,\x20255,\x200,\x200.5)','players.','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x20คนที่ส่ง\x20ตอบถูก\x20(','ลบโปรเจคสำเร็จ','\x22><p\x20class=\x22font-semibold\x22>','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','Error\x20generating\x20from\x20parallel\x20test\x20file:','พบข้อสอบ\x20','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','answered','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','scores-tab-btn','quadraticCurveTo','lastAnswerCorrect','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','):\x20','.generate-content-btn','cancel-global-live-btn','/public/data/projects/','modal-confidence-mode-container','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-green-200','ARRAY','#results-table','indexOf','cancel-bp-settings-btn','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','reveal-answer-btn','inactive','team-player-status-grid','กรุณากรอกข้อมูลให้ครบทุกช่อง','PERSEVERANCE','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<svg','/studentProfiles','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','(หลังเรียน)\x20','groups','ไม่สามารถโหลดรายการโปรเจคได้','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','starred-project','#10B981','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','quiz-generation-area','.sort-indicator','click','close-presentation-btn','padStart','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','analyze-strengths-btn','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x20ตัวเลือก.\x20','num-choices','พอใช้','instructions','ผลรวมอนุกรม\x20(Σ)','div','projectId','timer-duration-label','every','back-to-student-initial-btn','.lastAnswerCorrect','quizId','.move-quiz-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','ลบผลสอบของ\x20','Error\x20saving\x20manual\x20blueprint\x20project:','Error\x20rendering\x20student\x20progress:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22','/public/data/customMathTopics','confirm-bulk-quiz-settings-btn','สร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','transformOrigin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','dataIndex','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','/public/data/quizzes/','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','candidates','player-list-lobby','generate-worksheet-btn','floor','lineWidth','delete','modal-close-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','force-math-checkbox','\x27,\x20\x27','memoryContent','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','scrollX','bank-input-area','stringify','คัดลอกแบบทดสอบสำเร็จ','admin-view','[data-field=\x22subTopic\x22]','หยุดระบบจับเวลาหรี่หน้าจอ','คำถามดิบ:\x20\x22','Error\x20submitting\x20team\x20answer:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','add','-\x20ข้อ\x20','true','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','null','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','element','text-gray-400\x20hover:text-indigo-600','topic-input','incorrect','</td>','close-lesson-plan-modal-footer-btn','ไม่มีผู้ตอบตัวเลือกนี้','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sara','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','Error\x20saving\x20questions\x20to\x20practice\x20bank:','text-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','วงรี','worksheet-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.sortable-header','binom','visible','stepByStepExamples','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','top','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','Error\x20moving\x20quiz:','\x5csum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','comparison-overall-tab','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','FileReader\x20error:','confirm-quiz-settings-btn','Error\x20listening\x20for\x20student\x20profiles:','สลับไปโหมดผู้ควบคุม','<option\x20value=\x22','bottom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onclick','td,\x20th','normal','$$$1$','href','\x22\x20name=\x22question','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','เกิดข้อผิดพลาดในการบันทึกลำดับ','next-question-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','.ai-content\x20td','bg-black/20','cancel-quiz-edits-btn-footer','touchend','deltaY','สอบซ่อม','\x5cdiv','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','lesson-plan-modal','-options','from','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','<button\x20data-value=\x22','แผนการสอน','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x22.\x20','#E0E7FF','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','ฟังก์ชันลอการิทึม','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','Error\x20generating\x20parallel\x20post-test:','blueprint-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','parts','\x20รายการ...','clientY','จัดการ','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','undefined','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-modal','.quiz-bank-try-btn','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','blockReason','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','application','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราการเปลี่ยนแปลงทันที','passcode','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x20ชุดสำเร็จ!','Error\x20updating\x20custom\x20topic:','leaderboard-table-body','input[type=\x22checkbox\x22]:checked','กรุณาเลือกคำตอบของกลุ่ม','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','team-student-list','mousedown','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','px)\x20scale(','กำลังอัปเดตแบบทดสอบ\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelectorAll','blueprint-options-container','screen_exit','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','STRING','\x20สำเร็จ','quizType','interesting-stats-container','ถูกต้อง!','pairedQuizId','Error\x20adding\x20custom\x20topic:','separate-by-content-checkbox','playerName','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','ฟังก์ชันค่าสัมบูรณ์','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','.pen-size-btn','<br>','.project-card-container[data-id]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','enable-passcode-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question-analytics-container','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loader','manual-bp-content','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(239,\x2068,\x2068,\x200.7)','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','https://corsproxy.io/?','$1_{$2}','#retake-for-improvement-btn','close-game-final-btn','mode-switcher-btn','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','confirm-delete-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cos','#confidence-input-','pinned-items','quiz-leaderboard-table','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','progress-project-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-input-area','fas\x20fa-bookmark','สร้างชุดคำถามจับคู่','game-start-modal-title','ไม่สามารถโหลดข้อมูลอันดับได้','สรุปผลสุดท้าย','attempts','upperGroupResponders','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','/public/data/liveGames','string','remove','Error\x20deleting\x20all\x20students:','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','export-leaderboard-image-btn','after','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ส่งคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pow','\x20\x20\x20-\x20คำตอบ:\x20','removeItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','split','.ideal-answer-input,\x20.correct-response-input','.answer-text','isFinished','แผนภาพกล่อง\x20(box\x20plot)','การวัด','body','quiz-start-time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','underline','.quiz-bank-move-btn','topics','num-questions','สรุปผลการวิเคราะห์:\x5cn','/preferences/main','กรุณาเลือกโปรเจคก่อน','name','lastAnswerIndex','timestamp','per-question-timer-container','\x20ข้อ...','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','create-project-btn','.confidence-choice-btn','pre-test','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','scheduled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fixedData','.bp-generate-lesson-btn','pen-tools-group','drop','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','width','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ความคล้ายของรูป','temp-loader-text-results','project-name-input','การแจกแจงปกติและ\x20z-score','\x22\x20name=\x22confidence','text-red-300\x20hover:text-red-100','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','resultsDisplay','Enter','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','textContent','create-project-modal','กรุณาเลือกไฟล์ก่อน','กราฟฟังก์ชันตรีโกณ','เกิดข้อผิดพลาดในการอัปเดตสถานะ','parseFromString','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผิด','release','setItem','leaderboard-quiz-tab-btn','sync-manage-players-btn','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','export-leaderboard-word-btn','admin-try-quiz-btn','\x5ctext{$1}','live-game','start-quiz-btn','.bp-edit-topic-btn','Error\x20resetting\x20project\x20order:','postScore','กำลังจับคู่...','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','Error\x20deleting\x20custom\x20topic:','input','font-bold\x20text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-black/10','ไม่สามารถสร้างโปรเจคได้','0\x200','toFixed','submission','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','$1^{$2}','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','Error\x20verifying\x20answers:','\x20\x20\x20-\x20','pointerType','เกิดข้อผิดพลาดในการปักหมุด','thead\x20.sortable-header','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','</button>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','tooltipTarget','พาราโบลา','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','กำลังสร้างเนื้อหา:\x20','</div></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lessonPlan','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','text-red-900','ไม่มีคำอธิบาย','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','แก้ไขสูตรคณิตศาสตร์\x20','Failed\x20to\x20kick\x20player\x20','อยู่ในหัวข้อหลักใด:','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','scratchpad-question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Action:\x20View\x20existing\x20lesson.','.choice-text','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการเชิงเส้นตัวแปรเดียว','bulk-quiz-settings-btn','Failed\x20to\x20generate\x20practice\x20test:','touchcancel','ยังไม่ส่ง','กรุณาเลือกคำตอบก่อนครับ','project-detail-view','ai-quiz-app-aefee.firebaseapp.com','</body></html>','\x22\x20class=\x22pin-project-btn\x20','#6366F1','shuffledQuiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','check-answer-btn','\x20รายการสำเร็จ!',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','.presentation-option','กรุณาเลือกโปรเจคปลายทาง','mousemove','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','bg-yellow-100','ตัวประกอบและตัวประกอบเฉพาะ','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','การบวก','circ','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x27\x20ในส่วน\x20\x27MEMORY\x27\x20','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','.quiz-result-card','toDataURL','.bp-create-quiz-btn','subTopic','translate','onchange','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','สร้างคำถามใหม่\x201\x20ข้อ\x20','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','ไม่พบข้อมูลหัวข้อที่จะบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','student-passcode-input','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','การกระจายและการจัดหมู่','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','แบบทดสอบซ่อมเสริม','p-2\x20bg-black/10\x20rounded-md','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจคนี้ทั้งหมด?','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','Error\x20analyzing\x20file\x20for\x20topics:','.regenerate-question-btn','ไม่สามารถบันทึกการตั้งค่าได้','bp-modal-quiz-type-select','timer-container','responses.','blueprint-topics-list','พบ\x20Sync\x20Game!','show_results_and_answers','.generate-easy-version-btn','export-lesson-to-pdf-btn','.draggable-text','trail','เปิดใช้งาน','results-quiz-id-display','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','backgroundColor','learningGaps','forEach','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','Error\x20starting\x20live\x20race:','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x20ตัวเลือก)','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','ฟังก์ชันผกผัน','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','copy-quiz-id-btn','การลบ','teacherTips','whole_quiz','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','stdDev','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','answerText','.answeredCurrentQuestion','topicId','การสร้างรูปด้วยวงเวียน–สันตรง','block','checkAnswer','closePath','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','หมดเวลาสำหรับข้อนี้!','student-project-leaderboard-table-body','practice-topic-btn','per-q-countdown','max','drill-feedback','name_asc','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','textarea[name=\x22team_answer\x22]','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fill','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','กิจกรรมสิ้นสุดลงแล้ว','getItem','<p><strong>คำตอบของคุณ:</strong>\x20','.lastAnswerValue','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','input[type=\x22radio\x22][value=\x22','ข้อ\x20','finishReason','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ปริมาตร/ความจุและการแปลง','Error\x20submitting\x20group\x20answer:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20blueprint\x20project:','</label></div>','จับคู่แบบทดสอบสำเร็จ!','เกิดข้อผิดพลาดในการส่งคำตอบ','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','first_try_ace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบข้อมูลโปรเจค','screen','จุด\x20เส้น\x20ระนาบ','responses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','text-green-600','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','จำนวนข้อ:','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','cancel-manual-bp-btn','(ก่อนเรียน)','disabled','\x5c\x5c\x5c\x5c(?=(','createObjectURL','modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','อัปเดตแบบทดสอบเก่า\x20','confirm-global-live-btn','การแจกแจงทวินาม\x20(พื้นฐาน)','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','ไม่ใช่','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','timerMode','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','พื้นที่สี่เหลี่ยม','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','difficulty-level-select','<div\x20class=\x22','scores-tab-content','ก่อนเรียน','.export-pdf-list-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','fill_in_with_choices','presentation-scratchpad-btn','$1\x5ctext(','\x20ตอบ','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','load-quiz-btn','scratchpad-controls','duration-300','Error\x20loading\x20blueprint\x20projects:','ไม่ผ่าน','quiz','touchstart','แบบทดสอบที่ติดดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setAttribute','</span><span\x20class=\x22font-bold\x22>','.project-card-container.opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','แก้ระบบสมการด้วยเมทริกซ์','</tbody></table></div>','\x20</div>\x0a\x20\x20\x20\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','trim','Error\x20pairing\x20quizzes:','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','download','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-upload-input','match','lesson-loader','all','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','\x5cfrac{$1}{$2}','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.option-text','เกิดข้อผิดพลาดในการนำผู้เล่นออก','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','sync','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','game-start-quiz-id','submittedAt','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','grid','subTopics','เกิดข้อผิดพลาดในการลบแบบทดสอบ','doughnut','pointerup','summary_chart','fa-pen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','mainTopics','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','auto','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','specialist','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','scores','/public/data/blueprintProjects','</span></div>','ผู้เชี่ยวชาญ','application/json','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','lesson-view-content','Error\x20duplicating\x20quiz:','submit','.ideal-answer-input','promptFeedback','<div\x20class=\x22space-y-4\x22>','touchmove','หน่วยมวล/น้ำหนักและการแปลง','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','.pen-color-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','อนุพันธ์:\x20กฎลูกโซ่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ย้ายแบบทดสอบสำเร็จ','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','.lastAnswerIndex','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','isLooping','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','ควรปรับปรุง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','display','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','exitFullscreen','รูปสี่เหลี่ยมและสมบัติ','<p\x20class=\x22font-bold\x20text-sm\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','workerSrc','perQuestionStats','shuffle','\x22\x20จำนวน\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x22,\x20','show_results_only','editor-quiz-topic','live-player-management','totalQuestions','overline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','quiz-form','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','webkitRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>','สร้างโปรเจคสำเร็จ!','กำลังสร้างคำถามข้อ\x20','Error\x20saving\x20game\x20results:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','lessonContent','confidenceMode','quiz-settings-modal','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','Leaderboard\x20update\x20transaction\x20failed:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','move','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','\x22\x20สำเร็จ','bulk-confidence-mode-container','</p></div>','tool','thead','getTextContent','scratchpad-canvas','answerValue','finished','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','เกิดข้อผิดพลาดในการติดดาว','ค่าคลาดเคลื่อนของการวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ai-quiz-app-aefee','substring','quiz-bank-modal','execCommand','ไม่พบข้อมูลเกม','rgba(59,\x20130,\x20246,\x200.7)','Error\x20deleting\x20topic:','1363008uIJPcE','separate-by-content-from-file-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-body','generate-from-link-btn','admin-password-input','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','ไม่พบข้อมูลข้อสอบหลังเรียน','th-TH','analytics-tab-btn','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','<textarea\x20name=\x22question','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','manage','asc','file-topics-list','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','<span\x20class=\x22font-bold\x20','เปิด\x20(จับเวลา)','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','mode','ข้อต่อไป','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','actions-container-','json','เกิดข้อผิดพลาดในการอัปเดต:\x20','[data-topic-container-id]','ระบบสมการเชิงเส้นสองตัวแปร','25obDBeC','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','.topic-selection-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','visibilitychange','เรเดียนและการแปลงหน่วย','ทฤษฎีบทพื้นฐานของแคลคูลัส','Error\x20joining\x20team\x20quiz:','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','N/A','loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','project-search-input','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','7094wLpSfl','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','has','admin-dashboard','summary','change','numPages','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','text-green-700','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','[contenteditable=\x22true\x22]','ไม่พบข้อมูลบทเรียนที่บันทึกไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','slide-counter','แบบทดสอบฝึกฝนเรื่อง:\x20','fullscreenchange','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','.toggle-actions-btn','ใช่','จำนวนนักเรียน','บันทึกการตั้งค่าแล้ว','bg-blue-100\x20text-blue-800','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','save-game-results-checkbox','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','lower_group_count','<span\x20class=\x22sort-indicator\x20ml-2\x22>','global-live-game-count','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div>','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','ทำคะแนนเต็มในการทำครั้งแรก','font-bold\x20text-red-700\x20line-through','transparent','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','ระยะทางและจุดกึ่งกลาง','แบบทดสอบนี้หมดเวลาแล้ว','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','targetId','circle','4924880MzCSGN','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','min','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','bp-modal-difficulty-level-select','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','student-name-input','</th>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','choices_only','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','ตัวแปรและนิพจน์','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','ring-2','\x20ใหม่...','getAttributeNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','globalAlpha','text-emerald-900','การหารทศนิยม','startsWith','bg-gray-50','then','confidence','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','.unpair-quiz-btn','currentQuestionIndex','Error\x20saving\x20quiz:','live-options-container','next-question-timed-btn','color','.delete-project-btn','ยอดเยี่ยม','</p><div>','รอ...','confirm-rename-quiz-btn','ไม่ใช่\x20/\x20ผิด','timer-mode-select','admin-password-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','<option>กำลังโหลดโปรเจค...</option>','close-lesson-view-btn','กลุ่ม:\x20','date_desc','hint','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบแบบทดสอบในระบบเลย','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','save-visibility-settings-btn','ค.ร.น.\x20(LCM)','ตอบถูกทุกข้อในแบบทดสอบนี้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สัญกรณ์วิทยาศาสตร์','post-test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','timerDuration','docs','confidence-scoring-checkbox','modal-message','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22','.ai-content\x20blockquote','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','some','Failed\x20to\x20get\x20standardized\x20topic:','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','อุณหภูมิและการแปลง','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Sync\x20Mode','เศษส่วน\x20(ย่อ/ขยาย)','\x22\x20value=\x22false\x22\x20','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','<div\x20class=\x22loader\x20mx-auto\x22></div>','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','</span></p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x5cfrac','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5ctext{','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','opacity-50','3.\x20วิเคราะห์\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจสไตล์และระดับความยาก','แบบทดสอบนี้ปิดใช้งานอยู่','</p><p><strong>เฉลย:</strong>\x20','ปรับเพิ่ม/ลดเป็นร้อยละ','export-image-btn','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','AI\x20แก้ไขคำถามสำเร็จ!','ai-quiz-app-aefee.firebasestorage.app','per-question-text','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','.star-quiz-btn','เกิดข้อผิดพลาดในการลบหัวข้อ','AI\x20grading\x20failed:','องค์ประกอบของฟังก์ชัน','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','numQuestions','bp-project-title','กฎของไซน์','การนับ','team','q-text-','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','innerText','bp-modal-question-complexity-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','catch','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','PERFECT_SCORE','pinnedProjects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','player-count','fill_in_no_choices','rows','onload','projectSort','team-quiz-topic','bg-green-100\x20text-green-800','msRequestFullscreen','\x20pointer-events-none\x22>','ทฤษฎีทวินาม\x20(เบื้องต้น)','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','selectedTopicNames','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','gradeLevel','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x5cneq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-dashboard-btn','Error\x20creating\x20project:','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','sum','short_answer','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','confident','keyup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','กำลังสร้างแบบทดสอบ\x20\x22','ยังไม่สร้าง','correctAnswerIndex','text-gray-300\x20hover:text-white','ON_FIRE','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5cfrac','เกิดข้อผิดพลาดในการอ่านไฟล์','<div\x20class=\x22p-2\x20rounded-md\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','.delete-submission-btn','\x5cge','retake-quiz-loop-btn','topicName','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','live-race','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','start-live-race-generated-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','.edit-question-btn','แก้ไขข้อนี้','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','file-upload-input','กฎบวกและกฎคูณ','end-team-quiz-btn','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','สมการยกกำลัง','results-quiz-title','selected-answer-index-hidden','Copy\x20command\x20failed','4545981kFsfcw','Error\x20showing\x20quiz\x20detail\x20view:','[data-topic-id=\x22','responseSchema','<option\x20value=\x22\x22>กำลังโหลด...</option>','fix-lesson-latex-btn','{$1}','clearRect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','scratchpad-options','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-green-500','passcode-error-msg','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','removeChild','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','imageCode','border-red-700','confidence-input-','endTime','<button\x20id=\x22','showImproveButton','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','.color-palette-btn','(^|[^\x5c\x5c])\x5cb','student-progress-view','_blank','border-gray-200','file-topics-list-container','[*]','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','numChoices','ownerSVGElement','correct','comparison-individual-content','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','matching','student-join-game-view','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','FIRST_TRY_ACE','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','Error\x20deleting\x20student:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','student-progress-content','student-quiz-leaderboard-table-body','(คู่ขนาน)\x20','podium','สร้างคำถามแบบใช่/ไม่ใช่','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','text-emerald-800','eraser','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1028KqAffY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','Error\x20generating\x20easy\x20version\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','pointermove','.open-bp-project-btn','ไม่ได้ตอบ','questionId','Error\x20opening\x20quiz\x20editor:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','เซียนสมองไว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','hover:bg-indigo-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</li>','export-worksheet-pdf-btn','คณิตศาสตร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแยกตัวประกอบ','สมมาตร\x20(แกน/จุด)','comparison-overall-content','no-projects-msg','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','quiz-editor-questions-container','onerror','ถูก','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ระบบเลขและค่าประจำหลัก','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20joining\x20activity:','text-green-600\x20font-bold','createElementNS','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','.summary-bar-item','export-lesson-pdf-btn','grabbing','summaryContent','.live-answer-btn,\x20#sync-submit-btn','1:274192258111:web:4120c9118229b5644dd48a','.answers','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','ความชันเส้นสัมผัส','ring-purple-400','\x20(สำหรับ\x20','solution','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','เรขาคณิต','toLocaleDateString','total','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','MathJax\x20re-render\x20failed:','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','#student-project-leaderboard-content\x20thead','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','selected-topics-count','.kick-player-btn-sync','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','dragover','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','copy','toLocaleString','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','idealAnswer','กำลังดึงข้อมูลจากลิงก์...','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','student-quiz-leaderboard-content','AI\x20request\x20was\x20blocked.\x20Reason:\x20','presentation-explanation','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','^{\x5ccirc}\x5ctext{C}$','#FEF3C7','reset-project-order-btn','\x22>ไม่ใช่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','function','question-complexity-select','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','data:application/vnd.ms-word;charset=utf-8,','katex','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','fas\x20fa-star\x20text-yellow-500','matching_item','curriculum','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','input[name=\x22status-option\x22]:checked','.doc','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','button','student-initial-view','กำลังเตรียมไฟล์ข้อสอบอ้างอิง...','q-explanation-','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','project-title','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','project-passcode-modal','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','sqrt','mouseup','moveTo','ความแปรปรวน','latestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-move-quiz-btn','adaptive-quiz-checkbox','\x0a\x20\x20\x20\x20','API\x20call\x20failed\x20with\x20status:\x20','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','contentEditable','modal-results-display-select','join','เกิดข้อผิดพลาดในการลบ','#E5E7EB','log','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','</select>','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','bg-red-100','ชื่อโปรเจคห้ามว่าง','true_false','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','approx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','/questionBank','COMEBACK_KING','/public/data/teamQuizzes','questionStatus','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','8322nSeLeB','[data-topic-id]','.status','bg-green-200\x20text-green-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22flex-1\x22></div>','รหัสไม่ถูกต้อง','answeredCurrentQuestion','.png','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-actions-view','เส้นรอบรูป','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','.score','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','getElementById','.cancel-edit-topic-btn','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','parseInline','input[type=\x22checkbox\x22]','questionType','การคูณทศนิยม','worksheet-input-area','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','Invalid\x20response\x20structure\x20from\x20AI.','.color-palette-popup','input[type=\x22radio\x22]:checked','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','questionIndex','pen-tool-btn','text-red-700\x20bg-red-100','OBJECT','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','Failed\x20to\x20end\x20group\x20mode\x20game:','checkbox','suggestedAnswer','\x20จุดเรียบร้อยแล้ว','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','Error\x20generating\x20worksheet:','open-blueprint-projects-btn','transform','cancel-quiz-bank-btn','label[for=\x22num-questions\x22]','gameData','.ai-content\x20p','/public/data/practiceBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','practiceProblems','generate-from-blueprint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','Error\x20saving\x20submission:','มัธยฐาน','standard','\x5csqrt{$1}','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','sync-submit-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-results-btn','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','content','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','ผู้ควบคุม\x20(ทดสอบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Authentication\x20failed:','px,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20/\x20','text-blue-700','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','เงินงวด\x20(อนุกรมเงินงวด)','topic','27411472','สถิติและความน่าจะเป็น','target','ไม่สามารถเพิ่มนักเรียนได้','text-red-700','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','resize','appendChild','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','คะแนนเฉลี่ย','อสมการค่าสัมบูรณ์','ศูนย์','modal-timer-duration-label','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','.\x20แต่ละข้อมี\x20','ฟังก์ชันพหุนาม','generated-quiz-container','เกมสิ้นสุดลงแล้ว','left','project-passcode-input','สอบปกติ','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','difficultyValue','</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','div[data-question-index=\x22','#26890c','Firebase\x20initialization\x20failed:','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','document','คัดลอกไม่สำเร็จ','save-settings-btn','cancel-test-btn','perfect_score_status','หัวข้อหลักใหม่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','student-team-selection-view','text-gray-700','innerHTML','ไม่พบเอกสารการส่งงานของ\x20','2-digit','live-submit-short-answer-btn','ไฮเพอร์โบลา','สร้างคำถามแบบเติมคำในช่องว่าง','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','upperGroupNames','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการเหตุผล\x20(rational)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','viewBox','start-game-btn','\x22><i\x20class=\x22fas\x20','\x22\x20สำเร็จ!','/public/data/learnedFixes','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','allResponses','ย้ายแบบทดสอบไปโปรเจคอื่น','isRemedial','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','comparison-individual-tab','ห.ร.ม.\x20(GCD)','memory','\x5ctimes','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','topic_','modal-shuffle-select','verify-answers-editor-btn','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','student-list','ส่วนเบี่ยงเบนมาตรฐาน','perfect_score','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','Error\x20during\x20class\x20analysis:','set','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','193CVLRFi','mouseleave','artifacts/','กรุณาวาง\x20URL\x20ของบทความก่อน','title','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','student-project-leaderboard-tab','input[name=\x22drill_answer\x22]:checked','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-name-select','strokeStyle','/public/data/syncGames','wasConfident','</div>\x0a</div>\x0a','group','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','groups.','AI\x20ไม่สามารถประมวลผลข้อมูลได้','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','num-choices-container','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','quick_thinker','Error\x20generating\x20hybrid\x20quiz:','prev-question-btn','hasOwnProperty','times','players','lesson-plan-content','Error\x20saving\x20lesson\x20to\x20project:','bp-topic-list-container','showInStudentDashboard','Failed\x20to\x20resume\x20game\x20session:','quizMode','fa-fire\x20text-orange-500','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20quiz\x20settings:','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','กำลังสร้างรูปภาพ...','pen','(คัดลอก)\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','Error\x20generating\x20from\x20link:','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แคลคูลัสเบื้องต้น','passcode-prompt-message','results-display-select','not-found','text-content-input','lobby','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','ตรวจทานเฉลยเสร็จสิ้น!','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','project-id-display','numeric','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','abs','text/csv;charset=utf-8;','postTScore','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','ค่าความจริง/ตารางค่าความจริง','bestScore','เพิ่มหัวข้อ\x20\x22','open-global-live-btn','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','โดยให้อ้างอิงสไตล์และระดับความยากจากไฟล์ข้อสอบอ้างอิงที่แนบมาด้วย','พิสัย','devicePixelRatio','modal-timer-duration-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','.edit-quiz-btn','teacherSuggestions','quiz-type-select','promise','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','bg-gray-500','student-rankings-modal','open','showRankings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20projects:','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','overallGroups','ai-quiz-generator-v3','\x22\x20name=\x22team_answer\x22\x20value=\x22','settings','ระยะเวลา\x20(นาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20เพื่อหา\x20\x22จำนวนข้อสอบรวม\x22\x20และ\x20\x22จำนวนข้อของแต่ละรูปแบบ\x22\x20(เช่น\x20\x22ปรนัย\x204\x20ตัวเลือก\x20...\x2015\x20ข้อ\x22,\x20\x22ระบายตัวเลข\x20...\x204\x20ข้อ\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20วิเคราะห์\x20\x22สาระการเรียนรู้แกนกลาง\x22\x20และ\x20\x22ตัวชี้วัด\x22\x20ทั้งหมดที่ต้องใช้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-view-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','submit-group-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','stopPropagation','s;\x22\x20title=\x22','NUMBER','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','slice','สเกลและแผนที่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','cancel-game-start-btn','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','Error\x20committing\x20score\x20updates:','Error\x20fetching\x20student\x20rankings:','#F3E8FF','starred','Error\x20confirming\x20players:','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','createdAt','.start-game-btn','.question-editor-item[data-q-index=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','show-in-student-dashboard-checkbox','rename-quiz-input','การลบทศนิยม','ผู้ไม่ยอมแพ้','cancel-quiz-status-btn','แก้ไขหัวข้อสำเร็จ','Error\x20updating\x20pin\x20status:','(ไม่มีชื่อ)','Error\x20loading\x20quiz\x20for\x20student:','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','toLowerCase','now','canvas','move-quiz-modal','qType','text-blue-800','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','tfrac','.project-card-content','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','.quiz-status-btn','การแปลงรูปอัตลักษณ์','name_desc','เปลี่ยนชื่อโปรเจคสำเร็จ','result','.question-editor-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','results-tab','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','กรุณาพิมพ์คำตอบ','\x22>จาก:\x20','localeCompare','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','Invalid\x20response\x20structure\x20from\x20API.','correctAnswer','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','Failed\x20to\x20get\x20hint:','bank-tab','comparison-modal','commit','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','projectSortOrder','preScore','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','จำนวนคู่:','leaderboard-tab-content','เลือกและเริ่มสร้าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','bank-quiz-list','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','การปัดเศษและประมาณค่า','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','not_confident','message','.scratchpad-content-wrapper','label','#FEE2E2','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','classStrengths','scratchpad-clear-btn','modal-loop-until-pass-checkbox','presentation-short-answer-input','nickname-input','หน่วยเวลาและการคำนวณเวลา','isArray','removeAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.topic-name-display','perseverance','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-tools-group','Error\x20deleting\x20project:','ไม่พบตารางสำหรับ\x20Export','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','handleGenerateAndShowLesson','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','live-short-answer-input','บันทึกคำถามใหม่\x20','generated','uid','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','value','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','อัปเดตสถานะสำเร็จ','(เลือกแล้ว\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Original\x20quiz\x20not\x20found','scheduled_pending','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','ไม่พบแบบทดสอบ','comparison','reference-pdf-upload',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</tr>','ส่วนเบี่ยงเบนเฉลี่ย','password-error-msg','answers','text-gray-100','student-reading-area','border-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','QUICK_THINKER','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','date_asc','shadowBlur','export-pdf-modal','keydown','sync-player-management','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','score','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','leq','confidence-modal','cancel-create-project-btn','results-table','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','สุดยอด!\x20ตอบถูกทุกข้อ','gain','[role=\x22textbox\x22]','line-through\x20text-red-700','student','quiz-editor-modal','button[type=\x22submit\x22]','การยืนยันตัวตนล้มเหลว','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','globalSettings','none','timer-bar','not_generated','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x20ครั้ง)</span></td>','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','table','strength-weakness-analysis-container','pointerdown','parse','กรุณาใส่ชื่อโปรเจค','closest','สำหรับหัวข้อ\x20\x27','cancel-blueprint-projects-btn','$1^{\x5ccirc}\x5ctext{C}','shuffleSetting','createElement','isConfidenceScoringEnabled','both','getContext','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','delete-svg-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','Error\x20verifying\x20answers\x20in\x20editor:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','#000000','ไม่พบข้อมูลการจับคู่','<i\x20class=\x22fas\x20fa-magic\x22></i>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','#ffffff','hidden','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','data','open-quiz-bank-btn','\x20คู่\x20','latestSubmittedAt','text-indigo-600','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','export-leaderboard-pdf-btn','on_fire','.project-card-container:not(.opacity-50)','btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','substr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','เมทริกซ์:\x20บวก/คูณ','เริ่มกิจกรรม:\x20','isStarred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','save','ความน่าจะเป็นแบบมีเงื่อนไข','cursor','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คะแนนยังไม่ถึงครึ่ง','อัปเดตการตั้งค่าของแบบทดสอบ\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','manual-blueprint-modal','contents','loopUntilPass','.correct-response-input','quiz-results','height','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-rocket\x20text-purple-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','get','index','global-live-game-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.isScored','/users/','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-input-area','bp-modal-num-questions','bg-gray-200\x20text-gray-700','blueprint-topics-list-container','requestFullscreen','#e21b3c','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','mean','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','.delete-bp-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','<p\x20class=\x22text-xl\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','multiply','active','จำนวนเชิงซ้อน\x20(เสริม)','.regenerate-question-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','behaviorLog','border-red-300\x20bg-red-50','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','blueprint-project-manager-view','</div></div>','student-view','geq','str','random','explanation','Remedial\x20quiz\x20generation\x20failed:','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','ส่งแล้ว','bg-yellow-50','ใช่\x20/\x20ถูก','จำนวนเต็มลบ','confirm-team-players-btn','<li\x20class=\x22','toISOString','questions_only','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','sync-matching-select','test','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','bg-purple-50','mixed','push','bp-modal-passing-score-input','readAsDataURL','```json','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','cancel-move-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','fadeStartTime','ความชันและเส้นตรง','lineCap','quiz-status-modal','_opt0\x22>ใช่</label></div>','behavior-log-tab-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','highlighter-size-slider','fromCharCode','questionText','pop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','isAdaptive','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','ไม่มี','ลบแบบทดสอบสำเร็จแล้ว','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pdf','restore','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','translate(','find','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','Error\x20saving\x20user\x20preference:','repeat','Failed\x20to\x20create/update\x20submission\x20record:','กรุณาเลือกสถานะ','blueprint-projects-modal','insertAdjacentHTML','badgesCount','passcode-input-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','อนุพันธ์:\x20ผลคูณ/ผลหาร','options','.quiz-bank-parallel-btn','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','print','.topic-category','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','Error\x20updating\x20project\x20name:','lesson-view-title','Error\x20editing\x20topic:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','generate-from-text-btn','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','การเรียงสับเปลี่ยน\x20(Permutation)','interesting-stats-wrapper','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','leaderboard-tab','จับคู่เพื่อเปรียบเทียบผล','Error\x20saving\x20project\x20order:','querySelector','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','AI\x20Fix\x20Error:','empty','write','ไม่สามารถเริ่มเกมได้','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','.csv','game-start-mode','ที่พิมพ์ได้\x20จำนวน\x20','ร้อยละพื้นฐาน','.group','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','q-image-container-','sync-short-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual_release','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','studentName','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','.delete-quiz-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','upper_group_count','score-distribution-chart','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','generate-from-topic-btn','link-topic-input','confirmation-message','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','modal-timer-duration-container','admin-testing','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','598902AgmQPh','confidence_single','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','autoTable','manage-players-btn','commonMistakes','กำลังสร้างแบบทดสอบจากหัวข้อ...','lowerGroupNames','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','STOP','startTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','tGain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'];_0x9c73=function(){return _0x394886;};return _0x9c73();}async function handleTeamAnswerSubmit(){const _0x256579=_0x49918e,_0x7d9b64=await getDoc(doc(db,_0x256579(0x878)+appId+_0x256579(0x7c9),currentTeamQuizId));if(!_0x7d9b64[_0x256579(0xbeb)]())return;const _0x2164d4=_0x7d9b64[_0x256579(0x999)]();if(_0x2164d4[_0x256579(0x600)]===_0x256579(0x884)){handleGroupAnswerSubmit();return;}const _0x3019e7=localTeamPlayers[localPlayerIndex],_0x5585fd=currentQuizData[_0x256579(0x29f)][localQuestionIndex],_0x2e7992=_0x5585fd[_0x256579(0x7e0)]||currentQuizData[_0x256579(0x3ee)];let _0x186a8c=null,_0x4d2223=![];if(_0x2e7992===_0x256579(0x6de)||_0x2e7992===_0x256579(0x6c9)){const _0x431e49=document['querySelector'](_0x256579(0x50f));if(!_0x431e49||!_0x431e49[_0x256579(0x947)][_0x256579(0x564)]()){showMessage(_0x256579(0x90d));return;}_0x186a8c=_0x431e49[_0x256579(0x947)][_0x256579(0x564)](),_0x4d2223=await gradeShortAnswer(_0x186a8c,_0x5585fd);}else{const _0x33abf3=document['querySelector']('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x33abf3||_0x33abf3[_0x256579(0x947)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x186a8c=_0x33abf3[_0x256579(0x947)];switch(_0x2e7992){case _0x256579(0x7c2):_0x4d2223=_0x186a8c===_0x256579(0x36c)===_0x5585fd['correctAnswer'];break;case _0x256579(0x799):_0x4d2223=_0x186a8c===_0x5585fd[_0x256579(0xa77)];break;default:_0x4d2223=parseInt(_0x186a8c)===_0x5585fd['correctAnswerIndex'];break;}}const _0x393db7={'questionIndex':localQuestionIndex,'isCorrect':_0x4d2223,'answerValue':_0x186a8c},_0x4f1e2d={[_0x256579(0x4df)+_0x3019e7+_0x256579(0x76d)]:arrayUnion(_0x393db7)};_0x4d2223&&(_0x4f1e2d[_0x256579(0x4df)+_0x3019e7+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x256579(0x878)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x4f1e2d),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x256579(0xaed)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x220405){console[_0x256579(0xb89)](_0x256579(0x368),_0x220405),showMessage(_0x256579(0x523));}}async function displayTeamQuizFinalResults(){const _0x296202=_0x49918e;studentQuizArea[_0x296202(0x1fa)][_0x296202(0x36a)](_0x296202(0x997)),studentResultArea[_0x296202(0x1fa)][_0x296202(0x428)](_0x296202(0x997));const _0x5330a0=doc(db,'artifacts/'+appId+_0x296202(0x7c9),currentTeamQuizId),_0x3e0471=await getDoc(_0x5330a0);if(!_0x3e0471[_0x296202(0xbeb)]()){studentResultArea[_0x296202(0x848)]=_0x296202(0x37a);return;}const _0x1aa9ec=_0x3e0471[_0x296202(0x999)]();let _0x52b297=[];const _0x2ad921=_0x1aa9ec['mode']||'team';if(_0x2ad921===_0x296202(0x884)){const _0x41a0da=_0x1aa9ec[_0x296202(0x324)][userId];_0x41a0da?_0x52b297=[{'name':_0x296202(0x679)+localTeamPlayers[_0x296202(0x7b8)](',\x20'),'score':_0x41a0da[_0x296202(0x967)]||0x0}]:_0x52b297=[{'name':_0x296202(0x232),'score':'N/A'}];}else _0x52b297=localTeamPlayers[_0x296202(0x251)](_0x4228a8=>({'name':_0x4228a8,'score':_0x1aa9ec['responses'][_0x4228a8]?.[_0x296202(0x967)]||0x0}))[_0x296202(0x236)]((_0x693ea,_0x48dc27)=>_0x48dc27[_0x296202(0x967)]-_0x693ea[_0x296202(0x967)]);studentResultArea[_0x296202(0x848)]=_0x296202(0x42b)+_0x52b297['map'](_0x1fa5b3=>_0x296202(0xa79)+_0x1fa5b3['name']+_0x296202(0x83a)+_0x1fa5b3[_0x296202(0x967)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x296202(0x7b8)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x296202(0x435)](_0x296202(0xb05)),currentMode===_0x296202(0x2ae)&&currentTeamQuizId&&setTimeout(()=>{const _0x3301fa=_0x296202;deleteDoc(doc(db,_0x3301fa(0x878)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x49918e(0x57d)};const allMathTopics=[{'category':_0x49918e(0x27f),'name':_0x49918e(0x6bb)},{'category':_0x49918e(0x27f),'name':_0x49918e(0x75e)},{'category':'จำนวนและการดำเนินการ','name':_0x49918e(0x923)},{'category':_0x49918e(0x27f),'name':_0x49918e(0xb09)},{'category':_0x49918e(0x27f),'name':_0x49918e(0x4c0)},{'category':_0x49918e(0x27f),'name':_0x49918e(0x4f6)},{'category':_0x49918e(0x27f),'name':_0x49918e(0xad9)},{'category':_0x49918e(0x27f),'name':'การหาร'},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มบวก'},{'category':_0x49918e(0x27f),'name':_0x49918e(0x9e6)},{'category':'จำนวนและการดำเนินการ','name':_0x49918e(0x825)},{'category':_0x49918e(0x27f),'name':_0x49918e(0x2c9)},{'category':_0x49918e(0x27f),'name':'เส้นจำนวน'},{'category':_0x49918e(0x27f),'name':_0x49918e(0x4be)},{'category':_0x49918e(0x27f),'name':_0x49918e(0x864)},{'category':'จำนวนและการดำเนินการ','name':_0x49918e(0x680)},{'category':_0x49918e(0x27f),'name':_0x49918e(0xb4c)},{'category':'จำนวนและการดำเนินการ','name':'อัตราและอัตราหน่วย'},{'category':'จำนวนและการดำเนินการ','name':_0x49918e(0x697)},{'category':_0x49918e(0x27f),'name':'การบวกเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x49918e(0xc12)},{'category':_0x49918e(0x27f),'name':'การคูณเศษส่วน'},{'category':_0x49918e(0x27f),'name':'การหารเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':'จำนวนคละ'},{'category':_0x49918e(0x27f),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x49918e(0x27f),'name':'การบวกทศนิยม'},{'category':_0x49918e(0x27f),'name':_0x49918e(0x8f2)},{'category':_0x49918e(0x27f),'name':_0x49918e(0x7e1)},{'category':_0x49918e(0x27f),'name':_0x49918e(0x662)},{'category':_0x49918e(0x27f),'name':_0x49918e(0x458)},{'category':_0x49918e(0x27f),'name':_0x49918e(0xa48)},{'category':'จำนวนและการดำเนินการ','name':_0x49918e(0x6ab)},{'category':_0x49918e(0x27f),'name':_0x49918e(0x69c)},{'category':_0x49918e(0x27f),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x49918e(0x27f),'name':'รากที่สองและที่สาม'},{'category':_0x49918e(0x27f),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x49918e(0x27f),'name':_0x49918e(0x683)},{'category':_0x49918e(0x43c),'name':'หน่วยความยาวและการแปลง'},{'category':_0x49918e(0x43c),'name':_0x49918e(0x599)},{'category':'การวัด','name':_0x49918e(0x931)},{'category':'การวัด','name':_0x49918e(0x51d)},{'category':_0x49918e(0x43c),'name':_0x49918e(0x693)},{'category':_0x49918e(0x43c),'name':_0x49918e(0x7d7)},{'category':'การวัด','name':_0x49918e(0x542)},{'category':_0x49918e(0x43c),'name':'พื้นที่สามเหลี่ยม'},{'category':'การวัด','name':_0x49918e(0xba6)},{'category':'การวัด','name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':'การวัด','name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x49918e(0x43c),'name':'มุมและการวัดมุม'},{'category':'การวัด','name':_0x49918e(0x8e1)},{'category':'การวัด','name':_0x49918e(0x5e1)},{'category':_0x49918e(0x774),'name':_0x49918e(0x52a)},{'category':_0x49918e(0x774),'name':'ความสัมพันธ์ของมุม'},{'category':_0x49918e(0x774),'name':_0x49918e(0x2a5)},{'category':_0x49918e(0x774),'name':_0x49918e(0x686)},{'category':_0x49918e(0x774),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x49918e(0x774),'name':_0x49918e(0x45c)},{'category':_0x49918e(0x774),'name':_0x49918e(0x5ae)},{'category':_0x49918e(0x774),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x49918e(0x774),'name':_0x49918e(0x20b)},{'category':_0x49918e(0x774),'name':_0x49918e(0x995)},{'category':'เรขาคณิต','name':_0x49918e(0x307)},{'category':_0x49918e(0x774),'name':_0x49918e(0x410)},{'category':_0x49918e(0x774),'name':_0x49918e(0x756)},{'category':_0x49918e(0x774),'name':_0x49918e(0x501)},{'category':'เรขาคณิต','name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x49918e(0x658)},{'category':_0x49918e(0xab9),'name':_0x49918e(0x4d3)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x49918e(0xb41)},{'category':_0x49918e(0xab9),'name':_0x49918e(0x755)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x49918e(0x4a8)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x49918e(0x607)},{'category':_0x49918e(0xab9),'name':_0x49918e(0x44c)},{'category':_0x49918e(0xab9),'name':_0x49918e(0x645)},{'category':_0x49918e(0xab9),'name':'สมการค่าสัมบูรณ์'},{'category':_0x49918e(0xab9),'name':_0x49918e(0x852)},{'category':_0x49918e(0xab9),'name':'สมการราก\x20(radical)'},{'category':_0x49918e(0xab9),'name':_0x49918e(0x703)},{'category':_0x49918e(0xab9),'name':_0x49918e(0x2b7)},{'category':_0x49918e(0xab9),'name':_0x49918e(0x2f5)},{'category':_0x49918e(0xab9),'name':_0x49918e(0x824)},{'category':_0x49918e(0xab9),'name':'ระบบอสมการ'},{'category':_0x49918e(0xab9),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x49918e(0xab9),'name':'โดเมนและเรนจ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x49918e(0x6b6)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x49918e(0x4f3)},{'category':_0x49918e(0xab9),'name':_0x49918e(0x4fd)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x49918e(0xb1b)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x49918e(0x829)},{'category':_0x49918e(0xab9),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x49918e(0xab9),'name':'ฟังก์ชันราก\x20(root)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x49918e(0x3f7)},{'category':_0x49918e(0xab9),'name':_0x49918e(0x23b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x49918e(0x222)},{'category':_0x49918e(0xab9),'name':_0x49918e(0x3bf)},{'category':_0x49918e(0xab9),'name':_0x49918e(0x1fc)},{'category':_0x49918e(0xab9),'name':_0x49918e(0x216)},{'category':_0x49918e(0xab9),'name':_0x49918e(0x338)},{'category':_0x49918e(0xab9),'name':_0x49918e(0x6d1)},{'category':_0x49918e(0xab9),'name':_0x49918e(0x9d4)},{'category':_0x49918e(0x22f),'name':_0x49918e(0x646)},{'category':_0x49918e(0x22f),'name':_0x49918e(0x9fc)},{'category':'เรขาคณิตวิเคราะห์','name':_0x49918e(0xba8)},{'category':_0x49918e(0x22f),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':'เรขาคณิตวิเคราะห์','name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x49918e(0x22f),'name':_0x49918e(0x2ee)},{'category':_0x49918e(0x22f),'name':_0x49918e(0x495)},{'category':_0x49918e(0x22f),'name':_0x49918e(0x37f)},{'category':_0x49918e(0x22f),'name':_0x49918e(0x84c)},{'category':'ตรีโกณมิติ','name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x49918e(0x25e),'name':_0x49918e(0x211)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':'ตรีโกณมิติ','name':_0x49918e(0x60e)},{'category':'ตรีโกณมิติ','name':_0x49918e(0x6ba)},{'category':_0x49918e(0x25e),'name':'กฎของโคไซน์'},{'category':'ตรีโกณมิติ','name':_0x49918e(0x761)},{'category':'ตรีโกณมิติ','name':_0x49918e(0x905)},{'category':_0x49918e(0x25e),'name':'สมการตรีโกณมิติ'},{'category':_0x49918e(0x25e),'name':_0x49918e(0x46a)},{'category':'ตรีโกณมิติ','name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x49918e(0x81a),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x49918e(0x81a),'name':_0x49918e(0xb23)},{'category':_0x49918e(0x81a),'name':_0x49918e(0xad4)},{'category':_0x49918e(0x81a),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x49918e(0x81a),'name':_0x49918e(0xaea)},{'category':_0x49918e(0x81a),'name':_0x49918e(0x43b)},{'category':'สถิติและความน่าจะเป็น','name':'ค่าเฉลี่ย'},{'category':_0x49918e(0x81a),'name':_0x49918e(0x804)},{'category':_0x49918e(0x81a),'name':_0x49918e(0xb8f)},{'category':_0x49918e(0x81a),'name':_0x49918e(0x8bc)},{'category':'สถิติและความน่าจะเป็น','name':_0x49918e(0x955)},{'category':_0x49918e(0x81a),'name':_0x49918e(0x7ae)},{'category':_0x49918e(0x81a),'name':_0x49918e(0x86e)},{'category':_0x49918e(0x81a),'name':_0x49918e(0x45f)},{'category':_0x49918e(0x81a),'name':_0x49918e(0x517)},{'category':_0x49918e(0x81a),'name':_0x49918e(0x773)},{'category':_0x49918e(0x81a),'name':_0x49918e(0x700)},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพเวนน์'},{'category':_0x49918e(0x81a),'name':_0x49918e(0x9ac)},{'category':_0x49918e(0x81a),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x49918e(0x81a),'name':_0x49918e(0xa38)},{'category':_0x49918e(0x81a),'name':_0x49918e(0xaa2)},{'category':'สถิติและความน่าจะเป็น','name':_0x49918e(0x53b)},{'category':_0x49918e(0x81a),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x49918e(0xb39)},{'category':'แคลคูลัสเบื้องต้น','name':_0x49918e(0xb31)},{'category':_0x49918e(0x8a2),'name':_0x49918e(0xa80)},{'category':_0x49918e(0x8a2),'name':_0x49918e(0x59d)},{'category':_0x49918e(0x8a2),'name':_0x49918e(0xa26)},{'category':_0x49918e(0x8a2),'name':_0x49918e(0x3f6)},{'category':'แคลคูลัสเบื้องต้น','name':_0x49918e(0x76f)},{'category':'แคลคูลัสเบื้องต้น','name':_0x49918e(0x3d5)},{'category':'แคลคูลัสเบื้องต้น','name':_0x49918e(0xc26)},{'category':_0x49918e(0x8a2),'name':_0x49918e(0xc20)},{'category':_0x49918e(0x8a2),'name':'ปริพันธ์จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':_0x49918e(0x60f)},{'category':'แคลคูลัสเบื้องต้น','name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x49918e(0x6e3),'name':_0x49918e(0x1f9)},{'category':_0x49918e(0x6e3),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x49918e(0x6e3),'name':_0x49918e(0xb57)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x49918e(0x9a7)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x49918e(0xadb)},{'category':_0x49918e(0x6e3),'name':'ดีเทอร์มิแนนต์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x49918e(0x560)},{'category':_0x49918e(0xc01),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x49918e(0xc01),'name':_0x49918e(0x274)},{'category':_0x49918e(0xc01),'name':_0x49918e(0x817)},{'category':_0x49918e(0xc01),'name':_0x49918e(0xaec)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x49918e(0xb8c)},{'category':_0x49918e(0x40a),'name':_0x49918e(0x8b6)},{'category':_0x49918e(0x40a),'name':'รูปแบบการให้เหตุผล'},{'category':_0x49918e(0x40a),'name':_0x49918e(0x3d7)}];function renderTopicCheckboxes(){const _0x1c7c2f=_0x49918e,_0x79a9b1=document['getElementById'](_0x1c7c2f(0xb76));if(!_0x79a9b1)return;const _0x1f41cf=allMathTopics,_0x4e0d4f=customMathTopics[_0x1c7c2f(0x251)](_0x5e049c=>({'id':_0x5e049c['id'],'category':_0x1c7c2f(0xc35),'name':_0x5e049c[_0x1c7c2f(0x447)]})),_0x184ab3=[..._0x1f41cf,..._0x4e0d4f],_0x496c3d=_0x184ab3[_0x1c7c2f(0xb5d)]((_0xec22f9,_0x46bd36)=>{const _0x1ea9a2=_0x1c7c2f;return!_0xec22f9[_0x46bd36[_0x1ea9a2(0xa15)]]&&(_0xec22f9[_0x46bd36[_0x1ea9a2(0xa15)]]=[]),_0xec22f9[_0x46bd36[_0x1ea9a2(0xa15)]][_0x1ea9a2(0x9f3)](_0x46bd36),_0xec22f9;},{});let _0x2af9f5='';const _0x328c1c=[_0x1c7c2f(0xc35),...Object[_0x1c7c2f(0x450)](_0x496c3d)[_0x1c7c2f(0xbf0)](_0x31c96a=>_0x31c96a!==_0x1c7c2f(0xc35))];for(const _0x1ede15 of _0x328c1c){if(_0x496c3d[_0x1ede15]){const _0x2b18e7=_0x1ede15===_0x1c7c2f(0xc35),_0x13af78=_0x2b18e7?'fas\x20fa-user-edit':_0x1c7c2f(0x41e),_0x1bfae6=_0x2b18e7?_0x1c7c2f(0x815):_0x1c7c2f(0x2e9);_0x2af9f5+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x2af9f5+=_0x1c7c2f(0x5af)+_0x1bfae6+_0x1c7c2f(0x948)+_0x13af78+_0x1c7c2f(0x1f4)+_0x1ede15+_0x1c7c2f(0x5c6),_0x496c3d[_0x1ede15][_0x1c7c2f(0x4ec)](_0x346e48=>{const _0x2cf43b=_0x1c7c2f,_0x4c7cc1=!!_0x346e48['id'],_0x4d68d7=_0x4c7cc1?_0x2cf43b(0x5e3)+_0x346e48['id']+_0x2cf43b(0x67c)+_0x346e48['id']+_0x2cf43b(0xa88)+_0x346e48['id']+_0x2cf43b(0x574)+_0x346e48['id']+_0x2cf43b(0x1e9):'';_0x2af9f5+=_0x2cf43b(0xb44)+(_0x346e48['id']||'')+_0x2cf43b(0x97c)+_0x346e48[_0x2cf43b(0x447)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x346e48['name']+_0x2cf43b(0xb32)+(_0x4c7cc1?_0x2cf43b(0xbed)+_0x346e48[_0x2cf43b(0x447)]+'\x22>':'')+_0x2cf43b(0x6d9)+_0x4d68d7+_0x2cf43b(0x9bf);}),_0x2af9f5+=_0x1c7c2f(0x640);}}_0x79a9b1['innerHTML']=_0x2af9f5||_0x1c7c2f(0x459),_0x79a9b1[_0x1c7c2f(0xb7a)]('change',updateSelectedTopicsCount),_0x79a9b1[_0x1c7c2f(0xb63)](_0x1c7c2f(0x61d),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x277a45,_0x2b131b){const _0x42cbfd=_0x49918e;if(!_0x277a45||!_0x2b131b['trim']()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x462059=doc(db,_0x42cbfd(0x878)+appId+_0x42cbfd(0x347),_0x277a45);await updateDoc(_0x462059,{'name':_0x2b131b[_0x42cbfd(0x564)]()}),showMessage(_0x42cbfd(0x8f5));}catch(_0x3e0d1b){console['error'](_0x42cbfd(0x3dc),_0x3e0d1b),showMessage(_0x42cbfd(0xbf8));}}function toggleTopicEditMode(_0x206a17,_0x4f287c){const _0x3072e8=_0x49918e;if(!_0x206a17)return;const _0x5ee3bc=_0x206a17[_0x3072e8(0xa3e)](_0x3072e8(0x935)),_0x1af690=_0x206a17[_0x3072e8(0xa3e)](_0x3072e8(0x264)),_0x2cfa72=_0x206a17[_0x3072e8(0xa3e)](_0x3072e8(0x7d6)),_0x4ef79a=_0x206a17[_0x3072e8(0xa3e)](_0x3072e8(0x209));_0x5ee3bc[_0x3072e8(0x1fa)][_0x3072e8(0x2c3)](_0x3072e8(0x997),_0x4f287c),_0x1af690[_0x3072e8(0x1fa)][_0x3072e8(0x2c3)](_0x3072e8(0x997),!_0x4f287c),_0x2cfa72[_0x3072e8(0x1fa)][_0x3072e8(0x2c3)](_0x3072e8(0x997),_0x4f287c),_0x4ef79a[_0x3072e8(0x1fa)][_0x3072e8(0x2c3)](_0x3072e8(0x997),!_0x4f287c),_0x4f287c&&(_0x1af690[_0x3072e8(0xc3a)](),_0x1af690[_0x3072e8(0xbea)]());}async function handleStartLiveRace(_0x407463){const _0x293d60=_0x49918e;let _0x271672=allQuizzes['find'](_0x543b96=>_0x543b96['id']===_0x407463);if(!_0x271672){const _0x1dd9bd=doc(db,'artifacts/'+appId+_0x293d60(0x1ed),_0x407463),_0x210aef=await getDoc(_0x1dd9bd);if(!_0x210aef[_0x293d60(0xbeb)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x271672={'id':_0x210aef['id'],..._0x210aef[_0x293d60(0x999)]()};}const _0x9d672a=getShuffledQuiz(_0x271672);currentQuizData=_0x9d672a;const _0x56e311=_0x271672[_0x293d60(0x33a)]||currentProjectId||null,_0x1b8936=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x293d60(0x241)]();currentLiveGamePin=_0x1b8936;try{const _0x1edb98=await addDoc(collection(db,_0x293d60(0x878)+appId+_0x293d60(0x426)),{'quizId':_0x407463,'projectId':_0x56e311,'status':_0x293d60(0x8a7),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x1b8936,'createdAt':serverTimestamp(),'shuffledQuiz':_0x9d672a});currentLiveGameId=_0x1edb98['id'],showAdminLobbyView(_0x1b8936,_0x271672[_0x293d60(0x818)]),listenForLiveGameUpdates();}catch(_0x23920f){console['error'](_0x293d60(0x4ee),_0x23920f),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x4b60e6=_0x49918e,_0x3873d9=document[_0x4b60e6(0x7db)](_0x4b60e6(0xb76)),_0xd1e2cd=_0x3873d9['querySelectorAll'](_0x4b60e6(0x3de))['length'],_0x355249=document[_0x4b60e6(0x7db)](_0x4b60e6(0x77c));_0xd1e2cd>0x0?_0x355249[_0x4b60e6(0x467)]=_0x4b60e6(0x94a)+_0xd1e2cd+'\x20หัวข้อ)':_0x355249[_0x4b60e6(0x467)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x49918e(0x972),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x49918e(0x8b7),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x49918e(0x2fd),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x49918e(0x89d),scratchpadPenColor=_0x49918e(0x992),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x5636a7,_0x5f048e){const _0x5377f7=_0x49918e;return Math[_0x5377f7(0x7ab)](Math['pow'](_0x5636a7['x']-_0x5f048e['x'],0x2)+Math[_0x5377f7(0x433)](_0x5636a7['y']-_0x5f048e['y'],0x2));}function getMidpoint(_0x23dd21,_0x2f6ff0){return{'x':(_0x23dd21['x']+_0x2f6ff0['x'])/0x2,'y':(_0x23dd21['y']+_0x2f6ff0['y'])/0x2};}function getTransformedPoint(_0x5bd584,_0x536d59){return{'x':(_0x5bd584-scratchpadOffset['x'])/scratchpadScale,'y':(_0x536d59-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x47993d=_0x49918e;if(!scratchpadCtx)return;const _0x1fcc02=scratchpadCtx['canvas'],_0x376691=window[_0x47993d(0x8bd)]||0x1,_0x3e6aa9=document[_0x47993d(0x7db)](_0x47993d(0xafc));_0x3e6aa9&&(_0x3e6aa9[_0x47993d(0xbe9)][_0x47993d(0x34c)]=_0x47993d(0x485),_0x3e6aa9[_0x47993d(0xbe9)][_0x47993d(0x7f7)]=_0x47993d(0xa18)+scratchpadOffset['x']+_0x47993d(0x812)+scratchpadOffset['y']+_0x47993d(0x3e4)+scratchpadScale+')'),scratchpadCtx[_0x47993d(0x9ab)](),scratchpadCtx[_0x47993d(0xc1c)](_0x376691,0x0,0x0,_0x376691,0x0,0x0),scratchpadCtx[_0x47993d(0x70e)](0x0,0x0,_0x1fcc02[_0x47993d(0x45a)],_0x1fcc02[_0x47993d(0x9b8)]),scratchpadCtx[_0x47993d(0xa11)](),scratchpadCtx[_0x47993d(0x9ab)](),scratchpadCtx[_0x47993d(0x4ca)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x47993d(0xbc3)](scratchpadScale,scratchpadScale),strokes[_0x47993d(0x4ec)](_0x2cf9da=>{drawStroke(_0x2cf9da);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function renderGroupModeQuestion(){const _0xcc60a4=_0x49918e;if(localQuestionIndex>=currentQuizData['questions'][_0xcc60a4(0xaed)]){displayTeamQuizFinalResults();return;}const _0x410f1c=currentQuizData['questions'][localQuestionIndex],_0x295aec=_0x410f1c[_0xcc60a4(0x7e0)]||currentQuizData[_0xcc60a4(0x3ee)];let _0x59384a=_0x410f1c['stem']||_0x410f1c[_0xcc60a4(0xa04)],_0x5338af='';switch(_0x295aec){case _0xcc60a4(0x286):case'fill_in_with_choices':_0x5338af=_0x410f1c[_0xcc60a4(0xa27)]['map']((_0x89576c,_0x2c0354)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x2c0354+_0xcc60a4(0x8d4)+_0x2c0354+_0xcc60a4(0xba1)+_0x2c0354+'\x22>'+_0x89576c+_0xcc60a4(0x521))[_0xcc60a4(0x7b8)]('');break;case _0xcc60a4(0x7c2):_0x5338af=_0xcc60a4(0x655);break;case _0xcc60a4(0x6de):case _0xcc60a4(0x6c9):_0x5338af=_0xcc60a4(0x48a);break;case _0xcc60a4(0x799):_0x5338af=_0xcc60a4(0x784)+_0x410f1c[_0xcc60a4(0x85d)]['map'](_0x369130=>_0xcc60a4(0x397)+_0x369130+'\x22>'+_0x369130+'</option>')['join']('')+_0xcc60a4(0x7bd);break;default:_0x5338af=_0xcc60a4(0x281);break;}studentQuizArea[_0xcc60a4(0x848)]=_0xcc60a4(0x538)+(localQuestionIndex+0x1)+_0xcc60a4(0x814)+currentQuizData[_0xcc60a4(0x29f)][_0xcc60a4(0xaed)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers[_0xcc60a4(0x7b8)](',\x20')+_0xcc60a4(0x5ff)+(localQuestionIndex+0x1)+'.\x20'+_0x59384a+_0xcc60a4(0x682)+(_0x410f1c[_0xcc60a4(0x71a)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x410f1c[_0xcc60a4(0x71a)]+_0xcc60a4(0x640):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x5338af+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea['classList'][_0xcc60a4(0x428)](_0xcc60a4(0x997));if(window[_0xcc60a4(0xaca)])MathJax[_0xcc60a4(0x26d)]([studentQuizArea]);document[_0xcc60a4(0x7db)](_0xcc60a4(0x8da))['addEventListener'](_0xcc60a4(0x32d),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x309655){const _0x4c9ba0=_0x49918e,_0x41c528=document[_0x4c9ba0(0x7db)](_0x4c9ba0(0x32b));_0x41c528&&_0x41c528[_0x4c9ba0(0xb78)]({'behavior':_0x4c9ba0(0xaf5),'block':'center'}),generateQuiz(_0x309655,null,null,null,!![]);}function handleGenerateAndShowLesson(_0xfe473a,_0x49d0ee){const _0xbfb2ed=_0x49918e,_0x5eb198=document[_0xbfb2ed(0x7db)](_0xbfb2ed(0x8d8)),_0x39b68a=document[_0xbfb2ed(0x7db)](_0xbfb2ed(0xa2e)),_0x2c486e=document['getElementById'](_0xbfb2ed(0x56b)),_0x273c30=document[_0xbfb2ed(0x7db)](_0xbfb2ed(0x220));[_0xbfb2ed(0x285),_0xbfb2ed(0x35e),_0xbfb2ed(0x1f7),_0xbfb2ed(0x76a)][_0xbfb2ed(0x4ec)](_0x221b13=>{const _0x1be10b=_0xbfb2ed,_0x1ad447=document[_0x1be10b(0x7db)](_0x221b13)[_0x1be10b(0xbbb)];_0x1ad447&&(_0x1ad447['style'][_0x1be10b(0x5ab)]=_0x1be10b(0x502));}),_0x39b68a[_0xbfb2ed(0x467)]=_0xbfb2ed(0xaf6)+_0xfe473a,_0x273c30[_0xbfb2ed(0x1fa)][_0xbfb2ed(0x36a)](_0xbfb2ed(0x997)),_0x2c486e['classList'][_0xbfb2ed(0x428)](_0xbfb2ed(0x997)),_0x5eb198[_0xbfb2ed(0x1fa)]['remove'](_0xbfb2ed(0x997)),generateLesson(_0xfe473a,_0x49d0ee)['catch'](_0x1499f9=>{const _0xf1f5f0=_0xbfb2ed;console['error']('Failed\x20to\x20generate\x20lesson:',_0x1499f9),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x5eb198[_0xf1f5f0(0x1fa)][_0xf1f5f0(0x36a)](_0xf1f5f0(0x997));});}function handlePointerDown(_0x5a90b4){const _0x3c63fa=_0x49918e;_0x5a90b4[_0x3c63fa(0xaf1)]();const _0x2a4e19=scratchpadCtx[_0x3c63fa(0x8fc)],_0xf03cf9=_0x2a4e19[_0x3c63fa(0xc3e)](),_0x294df6=_0x5a90b4[_0x3c63fa(0x48d)]||(_0x5a90b4[_0x3c63fa(0xb87)]?_0x3c63fa(0xaaa):'mouse');if(_0x294df6===_0x3c63fa(0x89d)||_0x294df6===_0x3c63fa(0x21c)){if(_0x5a90b4[_0x3c63fa(0x48d)]==='mouse'&&_0x5a90b4[_0x3c63fa(0x7a0)]!==0x0){_0x5a90b4[_0x3c63fa(0x7a0)]===0x1&&(isMousePanning=!![],panStart={'x':_0x5a90b4[_0x3c63fa(0xaef)],'y':_0x5a90b4[_0x3c63fa(0x3c6)]},_0x2a4e19[_0x3c63fa(0xbe9)][_0x3c63fa(0x9ad)]=_0x3c63fa(0x769));return;}activeTool===_0x3c63fa(0x4e6)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x40b238=getTransformedPoint(_0x5a90b4[_0x3c63fa(0xaef)]-_0xf03cf9[_0x3c63fa(0x82c)],_0x5a90b4[_0x3c63fa(0x3c6)]-_0xf03cf9[_0x3c63fa(0x388)]);let _0x12e402={'tool':activeTool,'points':[_0x40b238]};if(activeTool==='highlighter')_0x12e402[_0x3c63fa(0x66d)]=scratchpadHighlighterColor,_0x12e402[_0x3c63fa(0x2f2)]=scratchpadHighlighterSize;else activeTool===_0x3c63fa(0x4e6)?(_0x12e402[_0x3c63fa(0x66d)]=scratchpadPenColor,_0x12e402[_0x3c63fa(0x2f2)]=scratchpadPenSize):(_0x12e402[_0x3c63fa(0x66d)]=scratchpadPenColor,_0x12e402[_0x3c63fa(0x2f2)]=scratchpadPenSize);currentStroke=_0x12e402;}else _0x5a90b4[_0x3c63fa(0xb87)]&&(_0x5a90b4['touches'][_0x3c63fa(0xaed)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x5a90b4[_0x3c63fa(0xb87)][0x0][_0x3c63fa(0xaef)],'y':_0x5a90b4['touches'][0x0][_0x3c63fa(0x3c6)]},{'x':_0x5a90b4[_0x3c63fa(0xb87)][0x1]['clientX'],'y':_0x5a90b4['touches'][0x1][_0x3c63fa(0x3c6)]}),initialPinchDistance=getDistance({'x':_0x5a90b4['touches'][0x0][_0x3c63fa(0xaef)],'y':_0x5a90b4['touches'][0x0][_0x3c63fa(0x3c6)]},{'x':_0x5a90b4['touches'][0x1][_0x3c63fa(0xaef)],'y':_0x5a90b4[_0x3c63fa(0xb87)][0x1][_0x3c63fa(0x3c6)]})));}function animateTrail(){const _0x1810d8=_0x49918e,_0x11f603=Date[_0x1810d8(0x8fb)]();let _0x55fb3b=![];for(let _0x23ad27=strokes['length']-0x1;_0x23ad27>=0x0;_0x23ad27--){const _0x156d19=strokes[_0x23ad27];if(_0x156d19[_0x1810d8(0x5d9)]==='trail'&&_0x156d19[_0x1810d8(0x9fb)]){const _0x48b0a1=_0x11f603-_0x156d19[_0x1810d8(0x9fb)];_0x48b0a1>=TRAIL_DURATION?strokes['splice'](_0x23ad27,0x1):(_0x156d19[_0x1810d8(0xb96)]=0x1-_0x48b0a1/TRAIL_DURATION,_0x55fb3b=!![]);}}redrawScratchpad(),_0x55fb3b?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x2872c9){const _0x4a82c5=_0x49918e;if(!_0x2872c9||_0x2872c9[_0x4a82c5(0x259)][_0x4a82c5(0xaed)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x4a82c5(0xb9d)]=_0x4a82c5(0xb02),scratchpadCtx[_0x4a82c5(0x9fd)]='round';if(_0x2872c9[_0x4a82c5(0x5d9)]===_0x4a82c5(0x4e6)){const _0x4b8b49=_0x2872c9['size']/scratchpadScale;scratchpadCtx[_0x4a82c5(0x660)]=_0x2872c9['opacity']??0x1,scratchpadCtx[_0x4a82c5(0xc15)]=_0x4a82c5(0x1fb),scratchpadCtx[_0x4a82c5(0x961)]=_0x4b8b49*0x3,scratchpadCtx[_0x4a82c5(0x880)]=_0x4a82c5(0x404),scratchpadCtx[_0x4a82c5(0x357)]=_0x4b8b49*2.5,scratchpadCtx[_0x4a82c5(0x217)](),scratchpadCtx['moveTo'](_0x2872c9[_0x4a82c5(0x259)][0x0]['x'],_0x2872c9[_0x4a82c5(0x259)][0x0]['y']);for(let _0x4d66c9=0x1;_0x4d66c9<_0x2872c9[_0x4a82c5(0x259)]['length']-0x1;_0x4d66c9++){const _0x801e78=getMidpoint(_0x2872c9[_0x4a82c5(0x259)][_0x4d66c9],_0x2872c9[_0x4a82c5(0x259)][_0x4d66c9+0x1]);scratchpadCtx[_0x4a82c5(0x30b)](_0x2872c9[_0x4a82c5(0x259)][_0x4d66c9]['x'],_0x2872c9['points'][_0x4d66c9]['y'],_0x801e78['x'],_0x801e78['y']);}scratchpadCtx[_0x4a82c5(0x1fe)](),scratchpadCtx['shadowColor']=_0x4a82c5(0x644),scratchpadCtx[_0x4a82c5(0x961)]=0x0,scratchpadCtx[_0x4a82c5(0x880)]='#FFFFFF',scratchpadCtx[_0x4a82c5(0x357)]=_0x4b8b49,scratchpadCtx[_0x4a82c5(0x1fe)](),scratchpadCtx[_0x4a82c5(0x504)]();}else{if(_0x2872c9[_0x4a82c5(0x5d9)]==='highlighter'){scratchpadCtx[_0x4a82c5(0xaee)]=_0x4a82c5(0x9d2),scratchpadCtx[_0x4a82c5(0x880)]=_0x2872c9[_0x4a82c5(0x66d)],scratchpadCtx[_0x4a82c5(0x357)]=_0x2872c9['size'],scratchpadCtx[_0x4a82c5(0x217)](),scratchpadCtx[_0x4a82c5(0x7ad)](_0x2872c9[_0x4a82c5(0x259)][0x0]['x'],_0x2872c9[_0x4a82c5(0x259)][0x0]['y']);for(let _0x195981=0x1;_0x195981<_0x2872c9[_0x4a82c5(0x259)]['length']-0x1;_0x195981++){const _0x5a0f11=getMidpoint(_0x2872c9[_0x4a82c5(0x259)][_0x195981],_0x2872c9[_0x4a82c5(0x259)][_0x195981+0x1]);scratchpadCtx[_0x4a82c5(0x30b)](_0x2872c9[_0x4a82c5(0x259)][_0x195981]['x'],_0x2872c9['points'][_0x195981]['y'],_0x5a0f11['x'],_0x5a0f11['y']);}scratchpadCtx[_0x4a82c5(0x1fe)](),scratchpadCtx[_0x4a82c5(0x504)]();}else{scratchpadCtx[_0x4a82c5(0xaee)]=_0x2872c9[_0x4a82c5(0x5d9)]===_0x4a82c5(0x73d)?'destination-out':'source-over',scratchpadCtx[_0x4a82c5(0x880)]=_0x2872c9[_0x4a82c5(0x66d)],scratchpadCtx[_0x4a82c5(0x357)]=_0x2872c9[_0x4a82c5(0x2f2)],scratchpadCtx[_0x4a82c5(0x217)](),scratchpadCtx[_0x4a82c5(0x7ad)](_0x2872c9[_0x4a82c5(0x259)][0x0]['x'],_0x2872c9['points'][0x0]['y']);for(let _0x5dd775=0x1;_0x5dd775<_0x2872c9[_0x4a82c5(0x259)][_0x4a82c5(0xaed)]-0x1;_0x5dd775++){const _0x2d5bee=getMidpoint(_0x2872c9[_0x4a82c5(0x259)][_0x5dd775],_0x2872c9[_0x4a82c5(0x259)][_0x5dd775+0x1]);scratchpadCtx['quadraticCurveTo'](_0x2872c9[_0x4a82c5(0x259)][_0x5dd775]['x'],_0x2872c9[_0x4a82c5(0x259)][_0x5dd775]['y'],_0x2d5bee['x'],_0x2d5bee['y']);}scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x4a82c5(0xa11)]();}function handlePointerMove(_0x57bcf5){const _0x4897c3=_0x49918e;_0x57bcf5[_0x4897c3(0xaf1)]();const _0x54b8f3=scratchpadCtx[_0x4897c3(0x8fc)],_0x3b8f88=_0x54b8f3['getBoundingClientRect']();if(_0x57bcf5['touches']){if(_0x57bcf5['touches'][_0x4897c3(0xaed)]===0x1&&isDrawingOnScratchpad){const _0x518dec=getTransformedPoint(_0x57bcf5[_0x4897c3(0xb87)][0x0][_0x4897c3(0xaef)]-_0x3b8f88[_0x4897c3(0x82c)],_0x57bcf5['touches'][0x0][_0x4897c3(0x3c6)]-_0x3b8f88[_0x4897c3(0x388)]);currentStroke['points'][_0x4897c3(0x9f3)](_0x518dec),redrawScratchpad();}else{if(_0x57bcf5['touches']['length']===0x2&&isPanning){const _0x58ed69=getDistance({'x':_0x57bcf5[_0x4897c3(0xb87)][0x0][_0x4897c3(0xaef)],'y':_0x57bcf5['touches'][0x0]['clientY']},{'x':_0x57bcf5[_0x4897c3(0xb87)][0x1][_0x4897c3(0xaef)],'y':_0x57bcf5[_0x4897c3(0xb87)][0x1][_0x4897c3(0x3c6)]}),_0x2440e0=getMidpoint({'x':_0x57bcf5['touches'][0x0][_0x4897c3(0xaef)],'y':_0x57bcf5[_0x4897c3(0xb87)][0x0][_0x4897c3(0x3c6)]},{'x':_0x57bcf5['touches'][0x1][_0x4897c3(0xaef)],'y':_0x57bcf5[_0x4897c3(0xb87)][0x1][_0x4897c3(0x3c6)]}),_0x7ba2b0=_0x58ed69/ initialPinchDistance,_0x52df8f=Math[_0x4897c3(0x64d)](Math[_0x4897c3(0x50b)](scratchpadScale*_0x7ba2b0,MIN_SCALE),MAX_SCALE),_0x4bcb62=_0x2440e0['x']-panStart['x'],_0x269e8f=_0x2440e0['y']-panStart['y'];scratchpadOffset['x']=_0x2440e0['x']-(_0x2440e0['x']-scratchpadOffset['x'])*(_0x52df8f/scratchpadScale),scratchpadOffset['y']=_0x2440e0['y']-(_0x2440e0['y']-scratchpadOffset['y'])*(_0x52df8f/scratchpadScale),scratchpadOffset['x']+=_0x4bcb62,scratchpadOffset['y']+=_0x269e8f,scratchpadScale=_0x52df8f,initialPinchDistance=_0x58ed69,panStart=_0x2440e0,redrawScratchpad();}}}else{if(isMousePanning){const _0xcde796=_0x57bcf5[_0x4897c3(0xaef)]-panStart['x'],_0x4b1229=_0x57bcf5[_0x4897c3(0x3c6)]-panStart['y'];scratchpadOffset['x']+=_0xcde796,scratchpadOffset['y']+=_0x4b1229,panStart={'x':_0x57bcf5[_0x4897c3(0xaef)],'y':_0x57bcf5[_0x4897c3(0x3c6)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x1ae3d9=getTransformedPoint(_0x57bcf5[_0x4897c3(0xaef)]-_0x3b8f88[_0x4897c3(0x82c)],_0x57bcf5[_0x4897c3(0x3c6)]-_0x3b8f88[_0x4897c3(0x388)]);currentStroke['points'][_0x4897c3(0x9f3)](_0x1ae3d9),redrawScratchpad();}}}}function handlePointerUp(_0x229ebf){const _0x422380=_0x49918e;_0x229ebf[_0x422380(0xaf1)]();const _0x2d0010=scratchpadCtx[_0x422380(0x8fc)];isMousePanning&&(isMousePanning=![],_0x2d0010[_0x422380(0xbe9)][_0x422380(0x9ad)]=_0x422380(0xae3)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x422380(0x259)][_0x422380(0xaed)]>0x1&&(strokes[_0x422380(0x9f3)](currentStroke),currentStroke[_0x422380(0x5d9)]==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x48ce6e=_0x422380,_0x3827d3=strokes['filter'](_0x5c6fd7=>_0x5c6fd7['tool']===_0x48ce6e(0x4e6)&&!_0x5c6fd7['fadeStartTime']);if(_0x3827d3[_0x48ce6e(0xaed)]>0x0){const _0x2cd923=Date[_0x48ce6e(0x8fb)]();_0x3827d3['forEach'](_0x534e3b=>_0x534e3b['fadeStartTime']=_0x2cd923),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x366d9d){const _0x5704ce=_0x49918e;_0x366d9d[_0x5704ce(0xaf1)]();const _0x4dea8c=_0x366d9d[_0x5704ce(0x3ab)]*-0.005,_0xf79603=Math[_0x5704ce(0x64d)](Math[_0x5704ce(0x50b)](scratchpadScale+_0x4dea8c,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x366d9d[_0x5704ce(0xaef)]-(_0x366d9d[_0x5704ce(0xaef)]-scratchpadOffset['x'])*(_0xf79603/scratchpadScale),scratchpadOffset['y']=_0x366d9d[_0x5704ce(0x3c6)]-(_0x366d9d[_0x5704ce(0x3c6)]-scratchpadOffset['y'])*(_0xf79603/scratchpadScale),scratchpadScale=_0xf79603,redrawScratchpad();}function undo(){const _0x520214=_0x49918e;strokes[_0x520214(0xaed)]>0x0&&(redoStrokes[_0x520214(0x9f3)](strokes[_0x520214(0xa05)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x3166bb=_0x49918e;redoStrokes[_0x3166bb(0xaed)]>0x0&&(strokes['push'](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x588924=_0x49918e;document['getElementById'](_0x588924(0xb94))['disabled']=strokes['length']===0x0,document[_0x588924(0x7db)](_0x588924(0x225))[_0x588924(0x534)]=redoStrokes['length']===0x0;}function openScratchpad(_0x1c485e,_0x230b4d){const _0x28d56d=_0x49918e,_0x499cf9=document[_0x28d56d(0x7db)](_0x28d56d(0x3cb)),_0x1ac444=document['getElementById'](_0x28d56d(0x4a3)),_0x2da6d6=document[_0x28d56d(0x7db)](_0x28d56d(0x711)),_0x3c9892=document[_0x28d56d(0x7db)](_0x28d56d(0x553));_0x1ac444[_0x28d56d(0x848)]=_0x1c485e[_0x28d56d(0xc08)]||_0x1c485e['questionText'],_0x2da6d6[_0x28d56d(0x848)]=_0x230b4d['map']((_0x403de3,_0x216244)=>'<div>'+String['fromCharCode'](0x41+_0x216244)+'.\x20'+_0x403de3+_0x28d56d(0x640))[_0x28d56d(0x7b8)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x499cf9[_0x28d56d(0x1fa)][_0x28d56d(0x428)](_0x28d56d(0x997)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax['typesetPromise']([_0x1ac444,_0x2da6d6]);}function openBlueprintQuizSettings(){const _0xae3a82=_0x49918e,_0x2bee8d=document['getElementById'](_0xae3a82(0xafe)),_0x85bd49=blueprintPageSettings||(currentProjectData?currentProjectData[_0xae3a82(0x8d5)]:{})||{};document[_0xae3a82(0x7db)]('bp-modal-quiz-type-select')[_0xae3a82(0x947)]=_0x85bd49[_0xae3a82(0x3ee)]||document[_0xae3a82(0x7db)](_0xae3a82(0x8c4))[_0xae3a82(0x947)],document[_0xae3a82(0x7db)](_0xae3a82(0x651))[_0xae3a82(0x848)]=document[_0xae3a82(0x7db)](_0xae3a82(0x546))[_0xae3a82(0x848)],document['getElementById']('bp-modal-difficulty-level-select')[_0xae3a82(0x947)]=_0x85bd49[_0xae3a82(0x833)]||document[_0xae3a82(0x7db)](_0xae3a82(0x546))[_0xae3a82(0x947)],document[_0xae3a82(0x7db)](_0xae3a82(0x6c1))['innerHTML']=document[_0xae3a82(0x7db)](_0xae3a82(0x792))[_0xae3a82(0x848)],document[_0xae3a82(0x7db)](_0xae3a82(0x6c1))[_0xae3a82(0x947)]=_0x85bd49[_0xae3a82(0xa9e)]||document[_0xae3a82(0x7db)](_0xae3a82(0x792))['value'],document['getElementById'](_0xae3a82(0x9c4))[_0xae3a82(0x947)]=_0x85bd49[_0xae3a82(0x6b8)]||document[_0xae3a82(0x7db)](_0xae3a82(0x443))[_0xae3a82(0x947)],document[_0xae3a82(0x7db)](_0xae3a82(0x9f4))['value']=_0x85bd49[_0xae3a82(0xc3f)]||document[_0xae3a82(0x7db)](_0xae3a82(0xb43))[_0xae3a82(0x947)],document[_0xae3a82(0x7db)]('bp-modal-num-choices')[_0xae3a82(0x947)]=_0x85bd49[_0xae3a82(0x729)]||document[_0xae3a82(0x7db)](_0xae3a82(0x335))[_0xae3a82(0x947)],document[_0xae3a82(0x7db)](_0xae3a82(0x2a8))[_0xae3a82(0x947)]=_0x85bd49['shuffle']||document[_0xae3a82(0x7db)]('shuffle-setting-select')['value'],document[_0xae3a82(0x7db)](_0xae3a82(0xaf8))['checked']=_0x85bd49[_0xae3a82(0x2f4)]||document[_0xae3a82(0x7db)]('include-images-checkbox')['checked'],_0x2bee8d[_0xae3a82(0x1fa)]['remove'](_0xae3a82(0x997));}function handleSaveBlueprintPageSettings(){const _0x7c5bbc=_0x49918e;blueprintPageSettings={'quizType':document[_0x7c5bbc(0x7db)](_0x7c5bbc(0x4dd))[_0x7c5bbc(0x947)],'difficultyValue':document[_0x7c5bbc(0x7db)]('bp-modal-difficulty-level-select')[_0x7c5bbc(0x947)],'complexityValue':document['getElementById'](_0x7c5bbc(0x6c1))[_0x7c5bbc(0x947)],'numQuestions':document[_0x7c5bbc(0x7db)](_0x7c5bbc(0x9c4))[_0x7c5bbc(0x947)],'passingScore':document[_0x7c5bbc(0x7db)](_0x7c5bbc(0x9f4))[_0x7c5bbc(0x947)],'numChoices':document['getElementById']('bp-modal-num-choices')['value'],'shuffle':document[_0x7c5bbc(0x7db)](_0x7c5bbc(0x2a8))['value'],'includeImages':document[_0x7c5bbc(0x7db)]('bp-modal-include-images-checkbox')[_0x7c5bbc(0xaf2)]},showMessage(_0x7c5bbc(0x3a6)),document[_0x7c5bbc(0x7db)](_0x7c5bbc(0xafe))[_0x7c5bbc(0x1fa)][_0x7c5bbc(0x36a)](_0x7c5bbc(0x997));}function initializeScratchpadCanvas(){const _0x2c8710=_0x49918e,_0x354949=document[_0x2c8710(0x7db)](_0x2c8710(0x5dc)),_0x17a36a=document[_0x2c8710(0xa3e)](_0x2c8710(0x928));if(!_0x354949||!_0x17a36a)return;scratchpadCtx=_0x354949[_0x2c8710(0x98c)]('2d',{'willReadFrequently':!![]});const _0x3ada68=window[_0x2c8710(0x8bd)]||0x1,_0x2aab36=_0x17a36a[_0x2c8710(0xc3e)]();_0x354949['width']=_0x2aab36[_0x2c8710(0x45a)]*_0x3ada68,_0x354949[_0x2c8710(0x9b8)]=_0x2aab36['height']*_0x3ada68,_0x354949[_0x2c8710(0xbe9)][_0x2c8710(0x45a)]=_0x2aab36[_0x2c8710(0x45a)]+'px',_0x354949[_0x2c8710(0xbe9)][_0x2c8710(0x9b8)]=_0x2aab36['height']+'px',scratchpadCtx[_0x2c8710(0xbc3)](_0x3ada68,_0x3ada68),scratchpadCtx[_0x2c8710(0xb9d)]=_0x2c8710(0xb02),scratchpadCtx['lineCap']=_0x2c8710(0xb02),_0x354949[_0x2c8710(0xb7a)](_0x2c8710(0x981),handlePointerDown),_0x354949[_0x2c8710(0xb7a)](_0x2c8710(0x746),handlePointerMove),_0x354949[_0x2c8710(0xb7a)](_0x2c8710(0x581),handlePointerUp),_0x354949[_0x2c8710(0xb7a)]('pointercancel',handlePointerUp),_0x354949['removeEventListener']('wheel',handleWheel),_0x354949['removeEventListener'](_0x2c8710(0x558),handlePointerDown),_0x354949[_0x2c8710(0xb7a)]('touchmove',handlePointerMove),_0x354949[_0x2c8710(0xb7a)](_0x2c8710(0x3aa),handlePointerUp),_0x354949[_0x2c8710(0xb63)]('pointerdown',handlePointerDown),_0x354949[_0x2c8710(0xb63)](_0x2c8710(0x746),handlePointerMove),_0x354949[_0x2c8710(0xb63)](_0x2c8710(0x581),handlePointerUp),_0x354949[_0x2c8710(0xb63)]('pointercancel',handlePointerUp),_0x354949[_0x2c8710(0xb63)](_0x2c8710(0xb01),handleWheel,{'passive':![]}),_0x354949[_0x2c8710(0xb63)]('touchstart',handlePointerDown,{'passive':![]}),_0x354949['addEventListener'](_0x2c8710(0x598),handlePointerMove,{'passive':![]}),_0x354949[_0x2c8710(0xb63)](_0x2c8710(0x3aa),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x53ffbf=_0x49918e,_0x20b888=document[_0x53ffbf(0x7db)]('scratchpad-modal'),_0x40c254=document[_0x53ffbf(0x7db)]('scratchpad-controls');_0x40c254[_0x53ffbf(0x848)]=_0x53ffbf(0x27a)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x75f3f6=document[_0x53ffbf(0x7db)](_0x53ffbf(0x7e9)),_0x35287=document['getElementById'](_0x53ffbf(0x23f)),_0x5d5726=document[_0x53ffbf(0x7db)](_0x53ffbf(0xb0a)),_0x2c097a=document[_0x53ffbf(0x7db)]('highlighter-tool-btn'),_0x54b414=document['getElementById'](_0x53ffbf(0x456)),_0xd77a37=document[_0x53ffbf(0x7db)](_0x53ffbf(0x939)),_0x2e4d16=[_0x75f3f6,_0x35287,_0x5d5726,_0x2c097a];document['getElementById'](_0x53ffbf(0x290))[_0x53ffbf(0xb63)](_0x53ffbf(0x32d),()=>_0x20b888[_0x53ffbf(0x1fa)][_0x53ffbf(0x36a)]('hidden')),document[_0x53ffbf(0x7db)](_0x53ffbf(0x1f8))['addEventListener'](_0x53ffbf(0x32d),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x53ffbf(0x92d))[_0x53ffbf(0xb63)](_0x53ffbf(0x32d),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x53ffbf(0xb94))['addEventListener'](_0x53ffbf(0x32d),undo),document[_0x53ffbf(0x7db)](_0x53ffbf(0x225))[_0x53ffbf(0xb63)]('click',redo);const _0x4d78e9=_0x194a95=>{const _0x5f22c5=_0x53ffbf;_0x2e4d16['forEach'](_0x218b08=>_0x218b08['classList'][_0x5f22c5(0x428)]('active')),_0x194a95['classList'][_0x5f22c5(0x36a)](_0x5f22c5(0x9d3));const _0x3f66e6=_0x194a95===_0x2c097a;_0x54b414[_0x5f22c5(0x1fa)][_0x5f22c5(0x2c3)](_0x5f22c5(0x997),_0x3f66e6),_0xd77a37['classList'][_0x5f22c5(0x2c3)](_0x5f22c5(0x997),!_0x3f66e6);};_0x75f3f6[_0x53ffbf(0xb63)](_0x53ffbf(0x32d),()=>{const _0x5b58c6=_0x53ffbf;activeTool=_0x5b58c6(0x89d),_0x4d78e9(_0x75f3f6);}),_0x35287[_0x53ffbf(0xb63)](_0x53ffbf(0x32d),()=>{const _0x7c3874=_0x53ffbf;activeTool=_0x7c3874(0x73d),_0x4d78e9(_0x35287);}),_0x5d5726[_0x53ffbf(0xb63)](_0x53ffbf(0x32d),()=>{const _0x2ef104=_0x53ffbf;activeTool=_0x2ef104(0x4e6),_0x4d78e9(_0x5d5726);}),_0x2c097a[_0x53ffbf(0xb63)]('click',()=>{activeTool='highlighter',_0x4d78e9(_0x2c097a);}),_0x54b414[_0x53ffbf(0x3e7)](_0x53ffbf(0x3f9))[_0x53ffbf(0x4ec)](_0x2b2dfc=>{const _0x48364c=_0x53ffbf;_0x2b2dfc['addEventListener'](_0x48364c(0x32d),_0x5651f5=>{const _0x4ffeea=_0x48364c;scratchpadPenSize=parseInt(_0x5651f5[_0x4ffeea(0x81b)][_0x4ffeea(0x297)][_0x4ffeea(0x2f2)],0xa),_0x54b414['querySelectorAll'](_0x4ffeea(0x3f9))['forEach'](_0x5414fa=>_0x5414fa[_0x4ffeea(0x1fa)][_0x4ffeea(0x428)](_0x4ffeea(0x9d3))),_0x5651f5[_0x4ffeea(0x81b)][_0x4ffeea(0x1fa)][_0x4ffeea(0x36a)](_0x4ffeea(0x9d3));});}),_0x54b414[_0x53ffbf(0x3e7)](_0x53ffbf(0x59b))['forEach'](_0x56cb3b=>{const _0x51acf6=_0x53ffbf;_0x56cb3b['addEventListener'](_0x51acf6(0x32d),_0x20cf1b=>{const _0x4086d5=_0x51acf6;scratchpadPenColor=_0x20cf1b[_0x4086d5(0x81b)][_0x4086d5(0x297)][_0x4086d5(0x66d)],_0x54b414[_0x4086d5(0x3e7)](_0x4086d5(0x59b))['forEach'](_0x1659da=>_0x1659da[_0x4086d5(0x1fa)]['remove']('active')),_0x20cf1b[_0x4086d5(0x81b)]['classList']['add'](_0x4086d5(0x9d3));});}),_0xd77a37['querySelectorAll'](_0x53ffbf(0x20a))[_0x53ffbf(0x4ec)](_0x43674b=>{const _0x78a26b=_0x53ffbf;_0x43674b['addEventListener'](_0x78a26b(0x32d),_0x3851ed=>{const _0x39bcd9=_0x78a26b;scratchpadHighlighterColor=_0x3851ed['target'][_0x39bcd9(0x297)][_0x39bcd9(0x66d)],_0xd77a37[_0x39bcd9(0x3e7)](_0x39bcd9(0x20a))['forEach'](_0x3ceef3=>_0x3ceef3[_0x39bcd9(0x1fa)][_0x39bcd9(0x428)](_0x39bcd9(0x9d3))),_0x3851ed[_0x39bcd9(0x81b)][_0x39bcd9(0x1fa)][_0x39bcd9(0x36a)]('active');});});const _0x4894ed=document[_0x53ffbf(0x7db)](_0x53ffbf(0xa02)),_0x3af77d=document['getElementById']('highlighter-size-value');_0x4894ed[_0x53ffbf(0xb63)]('input',_0x1fe1c4=>{const _0x3b7b63=_0x53ffbf,_0x58640b=parseInt(_0x1fe1c4[_0x3b7b63(0x81b)][_0x3b7b63(0x947)],0xa);scratchpadHighlighterSize=_0x58640b,_0x3af77d[_0x3b7b63(0x467)]=_0x58640b;}),window[_0x53ffbf(0xb63)](_0x53ffbf(0x820),()=>{const _0x372705=_0x53ffbf;!_0x20b888[_0x372705(0x1fa)][_0x372705(0xae6)](_0x372705(0x997))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x49918e(0x86f),'name':_0x49918e(0x226),'description':_0x49918e(0x681),'icon':_0x49918e(0xbc4)},'QUICK_THINKER':{'id':_0x49918e(0x88c),'name':_0x49918e(0x74c),'description':_0x49918e(0xb73),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x49918e(0x9a1),'name':_0x49918e(0xad0),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x49918e(0x898)},'FIRST_TRY_ACE':{'id':_0x49918e(0x526),'name':'ผ่านฉลุย','description':_0x49918e(0x642),'icon':_0x49918e(0x9ba)},'COMEBACK_KING':{'id':_0x49918e(0xc1b),'name':_0x49918e(0xaa1),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x49918e(0x1e7)},'SPECIALIST':{'id':_0x49918e(0x589),'name':_0x49918e(0x58f),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x49918e(0x936),'name':_0x49918e(0x8f3),'description':_0x49918e(0x42a),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x49918e(0x490),'authDomain':_0x49918e(0x4af),'projectId':_0x49918e(0x5e4),'storageBucket':_0x49918e(0x6af),'messagingSenderId':'274192258111','appId':_0x49918e(0x76c),'measurementId':_0x49918e(0xb88)},appId=typeof __app_id!==_0x49918e(0x3c9)?__app_id:_0x49918e(0x8d3),adminView=document[_0x49918e(0x7db)](_0x49918e(0x364)),studentView=document['getElementById'](_0x49918e(0x9dc)),projectDashboardView=document[_0x49918e(0x7db)]('project-dashboard-view'),projectDetailView=document[_0x49918e(0x7db)](_0x49918e(0x4ae)),quizResultsView=document[_0x49918e(0x7db)]('quiz-results-view'),projectList=document[_0x49918e(0x7db)]('project-list'),noProjectsMsg=document[_0x49918e(0x7db)](_0x49918e(0x758)),projectTitle=document['getElementById'](_0x49918e(0x7a5)),projectIdDisplay=document[_0x49918e(0x7db)](_0x49918e(0x8ac)),studentList=document[_0x49918e(0x7db)](_0x49918e(0x86d)),messageModal=document[_0x49918e(0x7db)]('message-modal'),modalMessage=document[_0x49918e(0x7db)](_0x49918e(0x68b)),createProjectModal=document[_0x49918e(0x7db)](_0x49918e(0x468)),adminPasswordModal=document['getElementById'](_0x49918e(0x675)),confirmationModal=document[_0x49918e(0x7db)](_0x49918e(0x2f1)),userIdDisplay=document[_0x49918e(0x7db)](_0x49918e(0x23d)),topicTab=document['getElementById'](_0x49918e(0x2db)),textTab=document['getElementById'](_0x49918e(0x37c)),topicInputArea=document['getElementById'](_0x49918e(0xb11)),textInputArea=document[_0x49918e(0x7db)](_0x49918e(0x9c3)),manageTab=document[_0x49918e(0x7db)](_0x49918e(0x2c2)),resultsTab=document['getElementById'](_0x49918e(0x90b)),leaderboardTab=document[_0x49918e(0x7db)](_0x49918e(0xa3b)),manageTabContent=document['getElementById']('manage-tab-content'),resultsTabContent=document[_0x49918e(0x7db)](_0x49918e(0xc1f)),leaderboardTabContent=document[_0x49918e(0x7db)](_0x49918e(0x91e)),projectQuizzesList=document[_0x49918e(0x7db)](_0x49918e(0xa9b)),fileTab=document[_0x49918e(0x7db)](_0x49918e(0xb77)),fileInputArea=document[_0x49918e(0x7db)]('file-input-area'),fileUploadInput=document['getElementById'](_0x49918e(0x6ff)),worksheetTab=document['getElementById'](_0x49918e(0x380)),worksheetInputArea=document[_0x49918e(0x7db)](_0x49918e(0x7e2)),generateWorksheetBtn=document[_0x49918e(0x7db)](_0x49918e(0x355)),studentInitialView=document[_0x49918e(0x7db)](_0x49918e(0x7a1)),studentNameSelectionView=document[_0x49918e(0x7db)]('student-name-selection-view'),studentQuizArea=document[_0x49918e(0x7db)](_0x49918e(0xb45)),studentResultArea=document[_0x49918e(0x7db)](_0x49918e(0x291)),studentReadingArea=document[_0x49918e(0x7db)](_0x49918e(0x959)),loadQuizBtn=document[_0x49918e(0x7db)](_0x49918e(0x552)),startQuizBtn=document[_0x49918e(0x7db)](_0x49918e(0x478)),studentJoinGameView=document['getElementById'](_0x49918e(0x72f)),presentationModal=document[_0x49918e(0x7db)](_0x49918e(0xb3d)),renameQuizModal=document[_0x49918e(0x7db)]('rename-quiz-modal'),moveQuizModal=document[_0x49918e(0x7db)]('move-quiz-modal'),quizSettingsModal=document[_0x49918e(0x7db)](_0x49918e(0x5ce)),quizStatusModal=document[_0x49918e(0x7db)](_0x49918e(0x9fe)),liveGameView=document['getElementById']('live-game-view');function handleFixLessonLatex(){const _0x2fbf12=_0x49918e,_0x2811c7=document[_0x2fbf12(0x7db)](_0x2fbf12(0x592));if(!_0x2811c7){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0x224a83=_0x2811c7[_0x2fbf12(0x3e7)]([_0x2fbf12(0x7fb),'.ai-content\x20li',_0x2fbf12(0x68e),_0x2fbf12(0x3a7),'.ai-content\x20h3'][_0x2fbf12(0x7b8)](','));let _0x5b288d=0x0;const _0x1a5285=_0x2a62a8=>_0x2a62a8['textContent']||'',_0xbc2aef=(_0x324d99,_0xb0b61a)=>{const _0x85725a=_0x2fbf12;if(_0x324d99[_0x85725a(0xa3e)]&&_0x324d99[_0x85725a(0xa3e)](_0x85725a(0xb22)))return;_0x324d99[_0x85725a(0x467)]=_0xb0b61a;},_0x2195da=_0x2bbeb3=>_0x2bbeb3['replace'](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x2fbf12(0xc09)](/\r\n?/g,'\x0a'),_0x3ecc56=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x20dcc1=_0x333b4e=>{const _0x50c4ac=_0x2fbf12;let _0x268cf7=_0x333b4e[_0x50c4ac(0x564)]();const _0x42a4a9=[_0x50c4ac(0xbe4),_0x50c4ac(0xb1c),'tfrac',_0x50c4ac(0x7ab),'text','times','cdot',_0x50c4ac(0x339),'leq','geq','le','ge','neq','pm',_0x50c4ac(0x7c4),_0x50c4ac(0x268),'cos',_0x50c4ac(0xb9a),'log','ln',_0x50c4ac(0x6dd),_0x50c4ac(0xb35),_0x50c4ac(0x383),_0x50c4ac(0x82c),_0x50c4ac(0x2c4),_0x50c4ac(0x5bf),_0x50c4ac(0x440),_0x50c4ac(0x4c1),'deg'];_0x42a4a9['forEach'](_0x58ad24=>{_0x268cf7=_0x268cf7['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x58ad24+'\x5cb','g'),(_0x354e45,_0x3b54b5)=>_0x3b54b5+'\x5c'+_0x58ad24);});const _0x34452f=[[/×/g,'\x5ctimes'],[/·/g,'\x5ccdot'],[/÷/g,_0x50c4ac(0x3ad)],[/≤/g,_0x50c4ac(0xbad)],[/≥/g,'\x5cge'],[/≠/g,_0x50c4ac(0x6d8)],[/±/g,'\x5cpm'],[/∑/g,_0x50c4ac(0x38d)],[/−/g,'-']];return _0x34452f[_0x50c4ac(0x4ec)](([_0x11b6e6,_0x5dadcc])=>{_0x268cf7=_0x268cf7['replace'](_0x11b6e6,_0x5dadcc);}),_0x268cf7=_0x268cf7[_0x50c4ac(0xc09)](/√\s*([A-Za-z0-9]+)/g,_0x50c4ac(0x806)),_0x268cf7=_0x268cf7[_0x50c4ac(0xc09)](/(\d+)\s*%/g,'$1\x5c%'),_0x268cf7;},_0x2c7e14=_0x1898b4=>{const _0x57f860=_0x2fbf12;if(/\$|\\\(|\\\[/[_0x57f860(0x9ee)](_0x1898b4))return _0x1898b4;if(!_0x3ecc56[_0x57f860(0x9ee)](_0x1898b4))return _0x1898b4;const _0xa98dd7=_0x1898b4[_0x57f860(0x56a)](/^\s*/)[0x0],_0xd70afb=_0x1898b4['match'](/\s*$/)[0x0],_0x1c2c14=_0x1898b4['trim']();return _0xa98dd7+'$'+_0x20dcc1(_0x1c2c14)+'$'+_0xd70afb;};_0x224a83[_0x2fbf12(0x4ec)](_0x555af5=>{const _0x52a076=_0x2fbf12,_0x14901a=_0x1a5285(_0x555af5);let _0x5a4d5f=_0x2195da(_0x14901a);_0x5a4d5f=_0x5a4d5f['replace'](/\$([^$]*?)\$/g,(_0x3bf71f,_0x28a242)=>'$'+_0x20dcc1(_0x28a242)+'$');const _0x3b02e8=_0x5a4d5f[_0x52a076(0x437)](/(\s+)/),_0x10d04b=_0x3b02e8[_0x52a076(0x251)](_0x4413bf=>{const _0x5d2332=_0x52a076;if(/\s+/[_0x5d2332(0x9ee)](_0x4413bf))return _0x4413bf;return _0x2c7e14(_0x4413bf);});_0x5a4d5f=_0x10d04b[_0x52a076(0x7b8)](''),_0x5a4d5f!==_0x14901a&&(_0xbc2aef(_0x555af5,_0x5a4d5f),_0x5b288d++);});if(_0x5b288d>0x0){showMessage(_0x2fbf12(0x49f)+_0x5b288d+_0x2fbf12(0x7f1));try{window[_0x2fbf12(0xaca)]&&MathJax[_0x2fbf12(0x26d)]&&MathJax[_0x2fbf12(0x26d)]([_0x2811c7]);}catch(_0x1de8db){console[_0x2fbf12(0xb89)](_0x2fbf12(0x778),_0x1de8db);}}else showMessage(_0x2fbf12(0x622));}function handleAutoFixLatex(){const _0x2a7f13=_0x49918e,_0x45935e=document[_0x2a7f13(0x7db)](_0x2a7f13(0x75a))||document,_0x53e8fc=_0x45935e[_0x2a7f13(0x3e7)]([_0x2a7f13(0xbc1),_0x2a7f13(0xab0),_0x2a7f13(0x625),_0x2a7f13(0x970),'.ql-editor','label',_0x2a7f13(0x4a6),_0x2a7f13(0x575),_0x2a7f13(0x439)][_0x2a7f13(0x7b8)](','));let _0x35cc9e=0x0;const _0x34f952=_0x57b8c8=>_0x2a7f13(0x947)in _0x57b8c8?String(_0x57b8c8[_0x2a7f13(0x947)]):_0x57b8c8['innerText']!==undefined?_0x57b8c8[_0x2a7f13(0x6c0)]:_0x57b8c8[_0x2a7f13(0x467)]||'',_0x252314=(_0x4c607a,_0x5e045a)=>{const _0x3d2323=_0x2a7f13;if(_0x3d2323(0x947)in _0x4c607a){_0x4c607a[_0x3d2323(0x947)]=_0x5e045a;return;}if(_0x4c607a['querySelector']&&_0x4c607a[_0x3d2323(0xa3e)](_0x3d2323(0xb22)))return;if(_0x4c607a[_0x3d2323(0x6c0)]!==undefined)_0x4c607a[_0x3d2323(0x6c0)]=_0x5e045a;else _0x4c607a[_0x3d2323(0x467)]=_0x5e045a;},_0x43fa01=_0x2dfa15=>_0x2dfa15[_0x2a7f13(0xc09)](/\u00A0/g,'\x20')[_0x2a7f13(0xc09)](/\u200B/g,'')[_0x2a7f13(0xc09)](/\r\n?/g,'\x0a'),_0x35b8e4=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x372de3=_0x2ec10b=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x2a7f13(0x9ee)](_0x2ec10b),_0x19f422=_0x1edc53=>{const _0x2aebf2=_0x2a7f13,_0x21c8fe=(_0x1edc53[_0x2aebf2(0x56a)](/\{/g)||[])[_0x2aebf2(0xaed)],_0x5c69de=(_0x1edc53[_0x2aebf2(0x56a)](/\}/g)||[])[_0x2aebf2(0xaed)];if(_0x21c8fe>_0x5c69de)_0x1edc53=_0x1edc53+'}'[_0x2aebf2(0xa1d)](_0x21c8fe-_0x5c69de);return _0x1edc53;},_0x564d12=_0x12b51a=>{const _0x42b263=_0x2a7f13;let _0x5753b9=_0x12b51a['trim']();const _0x1f9494=['frac','dfrac',_0x42b263(0x901),_0x42b263(0x7ab),_0x42b263(0xada),_0x42b263(0x890),_0x42b263(0xb37),_0x42b263(0x339),_0x42b263(0x969),_0x42b263(0x9dd),'le','ge',_0x42b263(0x219),'pm','approx',_0x42b263(0x268),_0x42b263(0x414),'tan',_0x42b263(0x7bb),'ln',_0x42b263(0x6dd),_0x42b263(0xb35),_0x42b263(0x383),'left','right','overline',_0x42b263(0x440),_0x42b263(0x4c1),_0x42b263(0x233)];_0x5753b9=_0x5753b9[_0x42b263(0xc09)](new RegExp(_0x42b263(0x535)+_0x1f9494[_0x42b263(0x7b8)]('|')+_0x42b263(0xb7d),'g'),'\x5c'),_0x1f9494[_0x42b263(0x4ec)](_0x48d3a0=>{const _0x19e5e2=_0x42b263;_0x5753b9=_0x5753b9[_0x19e5e2(0xc09)](new RegExp(_0x19e5e2(0x722)+_0x48d3a0+'\x5cb','g'),(_0x57a3c7,_0xd9f1a1)=>_0xd9f1a1+'\x5c'+_0x48d3a0);});const _0x18b7bc=[[/×/g,_0x42b263(0x866)],[/·/g,_0x42b263(0x1ff)],[/÷/g,_0x42b263(0x3ad)],[/≤/g,_0x42b263(0xbad)],[/≥/g,_0x42b263(0x6f1)],[/≠/g,_0x42b263(0x6d8)],[/±/g,_0x42b263(0xb48)],[/∑/g,'\x5csum'],[/−/g,'-']];_0x18b7bc[_0x42b263(0x4ec)](([_0x5e6e44,_0x4e9a0e])=>{const _0x175db3=_0x42b263;_0x5753b9=_0x5753b9[_0x175db3(0xc09)](_0x5e6e44,_0x4e9a0e);}),_0x5753b9=_0x5753b9[_0x42b263(0xc09)](/√\s*\(([^)]*)\)/g,_0x42b263(0x806)),_0x5753b9=_0x5753b9[_0x42b263(0xc09)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x5753b9=_0x5753b9['replace'](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')[_0x42b263(0xc09)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x42b263(0x6ec))[_0x42b263(0xc09)](/(^|[^\\])ext\{/g,_0x42b263(0x6a4))[_0x42b263(0xc09)](/(^|[^\\])ext\(/g,_0x42b263(0x54f))['replace'](/\\text\(([^)]*)\)/g,_0x42b263(0x476))[_0x42b263(0xc09)](/\s\\frac/g,_0x42b263(0x6a2)),_0x5753b9=_0x5753b9[_0x42b263(0xc09)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x58fc95,_0x2b1cf6,_0x450d15,_0x499cfa)=>_0x2b1cf6+'\x5cfrac{'+_0x450d15+'}{'+_0x499cfa+'}'),_0x5753b9=_0x5753b9[_0x42b263(0xc09)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x42b263(0x56e))['replace'](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x42b263(0x56e))[_0x42b263(0xc09)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x42b263(0x56e)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x42b263(0x987)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*o\s*C\b/g,_0x42b263(0x987)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x42b263(0x987)],[/(\d+)\s*°\s*C/g,_0x42b263(0x987)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,'$1^{\x5ccirc}'],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x42b263(0x4ec)](([_0xcfb697,_0x1cb3be])=>{const _0x57c176=_0x42b263;_0x5753b9=_0x5753b9[_0x57c176(0xc09)](_0xcfb697,_0x1cb3be);}),_0x5753b9=_0x5753b9[_0x42b263(0xc09)](/(\d+)\s*%/g,'$1\x5c%'),_0x5753b9=_0x5753b9['replace'](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x42b263(0x489))[_0x42b263(0xc09)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x42b263(0x40c))[_0x42b263(0xc09)](/\{\{([^\{\}]+)\}\}/g,_0x42b263(0x70d)),[_0x42b263(0x268),'cos',_0x42b263(0xb9a),'log','ln'][_0x42b263(0x4ec)](_0x3e7ae8=>{const _0xfdb327=_0x42b263;_0x5753b9=_0x5753b9[_0xfdb327(0xc09)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x3e7ae8+_0xfdb327(0x299),'g'),(_0x384ae9,_0x4d2871)=>_0x4d2871+'\x5c'+_0x3e7ae8+'(');});const _0x101a9c=(_0x5753b9[_0x42b263(0x56a)](/\\left\b/g)||[])[_0x42b263(0xaed)],_0x2cb5a3=(_0x5753b9[_0x42b263(0x56a)](/\\right\b/g)||[])['length'];if(_0x101a9c!==_0x2cb5a3)_0x5753b9=_0x5753b9[_0x42b263(0xc09)](/\\left\b/g,'')[_0x42b263(0xc09)](/\\right\b/g,'');return _0x5753b9=_0x19f422(_0x5753b9),_0x5753b9;},_0x2a14f2=_0x44ea8d=>{const _0x5e30d2=_0x2a7f13;if(/\$|\\\(|\\\[/[_0x5e30d2(0x9ee)](_0x44ea8d))return _0x44ea8d;if(!_0x35b8e4[_0x5e30d2(0x9ee)](_0x44ea8d))return _0x44ea8d;const _0x3b0826=_0x44ea8d[_0x5e30d2(0x56a)](/^\s*/)[0x0],_0x37e34b=_0x44ea8d[_0x5e30d2(0x56a)](/\s*$/)[0x0],_0x3731a2=_0x44ea8d[_0x5e30d2(0x564)]();return _0x3b0826+'$'+_0x564d12(_0x3731a2)+'$'+_0x37e34b;},_0x40068d=_0xce5aa2=>_0xce5aa2[_0x2a7f13(0x437)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x53e8fc['forEach'](_0x5b2a71=>{const _0x574872=_0x2a7f13;if(_0x5b2a71[_0x574872(0xa3e)]&&_0x5b2a71['querySelector'](_0x574872(0xb22)))return;const _0x366e7d=_0x34f952(_0x5b2a71);let _0x1a9e08=_0x43fa01(_0x366e7d);_0x1a9e08=_0x1a9e08[_0x574872(0xc09)](/\$\$([\s\S]*?)\$\$/g,(_0x541ead,_0x4fbc11)=>'$$'+_0x564d12(_0x4fbc11)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x25777b,_0x48225f)=>'$'+_0x564d12(_0x48225f)+'$')[_0x574872(0xc09)](/\\\(([\s\S]*?)\\\)/g,(_0x26e3d8,_0x31e6ee)=>'\x5c('+_0x564d12(_0x31e6ee)+'\x5c)')[_0x574872(0xc09)](/\\\[([\s\S]*?)\\\]/g,(_0x471123,_0x452bd5)=>'\x5c['+_0x564d12(_0x452bd5)+'\x5c]');let _0x21054a=_0x1a9e08,_0x151e83=0x0;const _0xec7e1c=_0x8f6d15=>_0x8f6d15[_0x574872(0xc09)](/S([^S]{0,2000}?)S/g,(_0x5b251e,_0x25bc54)=>_0x35b8e4['test'](_0x25bc54)?'$'+_0x564d12(_0x25bc54)+'$':_0x5b251e);while(_0x151e83++<0x14){const _0x2b1a0e=_0xec7e1c(_0x21054a);if(_0x2b1a0e===_0x21054a)break;_0x21054a=_0x2b1a0e;}_0x1a9e08=_0x21054a,_0x1a9e08=_0x1a9e08['split']('\x0a')[_0x574872(0x251)](_0x54e849=>{const _0x43b126=_0x574872;if(!(/[,\u3001，;；]/[_0x43b126(0x9ee)](_0x54e849)||/\s(?:และ|หรือ)\s/['test'](_0x54e849))||!_0x35b8e4[_0x43b126(0x9ee)](_0x54e849))return _0x54e849;return _0x40068d(_0x54e849)[_0x43b126(0x251)](_0xbd7807=>{const _0x42f002=_0x43b126;if(/^\s(?:และ|หรือ)\s$/[_0x42f002(0x9ee)](_0xbd7807)||/^[,\u3001，;；]$/[_0x42f002(0x9ee)](_0xbd7807))return _0xbd7807;return _0x2a14f2(_0xbd7807);})[_0x43b126(0x7b8)]('');})[_0x574872(0x7b8)]('\x0a'),_0x1a9e08=_0x1a9e08[_0x574872(0x437)]('\x0a')['map'](_0x4e8202=>{const _0x5e96f9=_0x574872,_0x3ab89f=_0x4e8202[_0x5e96f9(0x564)]();if(!_0x3ab89f)return _0x4e8202;const _0x47344f=/\$|\\\(|\\\[/['test'](_0x3ab89f),_0x13e350=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x5e96f9(0x9ee)](_0x3ab89f);if(_0x47344f||!_0x13e350||_0x372de3(_0x3ab89f))return _0x4e8202;return _0x4e8202[_0x5e96f9(0xc09)](_0x3ab89f,'$'+_0x564d12(_0x3ab89f)+'$');})['join']('\x0a'),_0x1a9e08=_0x1a9e08['replace'](/(\d+)\s*°\s*C\b/g,(_0x41a7f3,_0x160527,_0x14f4b7,_0x454541)=>{const _0x1ffda7=_0x574872,_0x2d8272=_0x454541[_0x14f4b7-0x1];if(_0x2d8272==='$'||_0x2d8272==='S'||_0x2d8272==='\x5c')return _0x41a7f3;return'$'+_0x160527+_0x1ffda7(0x78c);})[_0x574872(0xc09)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x1e6d47,_0x59128c,_0x5e4884,_0x1f0c17)=>{const _0x3e612b=_0x574872,_0x38df87=_0x1f0c17[_0x5e4884-0x1];if(_0x38df87==='$'||_0x38df87==='S'||_0x38df87==='\x5c')return _0x1e6d47;return'$'+_0x59128c+_0x3e612b(0x78c);})['replace'](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x35006b,_0x27164e,_0x46687a,_0x49a0e0)=>{const _0x1d93af=_0x574872,_0x3c707d=_0x49a0e0[_0x46687a-0x1];if(_0x3c707d==='$'||_0x3c707d==='S'||_0x3c707d==='\x5c')return _0x35006b;return'$'+_0x27164e+_0x1d93af(0x78c);}),_0x1a9e08=_0x1a9e08[_0x574872(0xc09)](/\$\s*\$/g,'$$'),_0x1a9e08!==_0x366e7d&&(_0x252314(_0x5b2a71,_0x1a9e08),_0x35cc9e++);});if(_0x35cc9e>0x0){showMessage(_0x2a7f13(0x531)+_0x35cc9e+'\x20ช่อง');try{if(window[_0x2a7f13(0xaca)]&&MathJax[_0x2a7f13(0x26d)])MathJax[_0x2a7f13(0x26d)]();window[_0x2a7f13(0x795)]&&typeof renderMathInElement==='function'&&renderMathInElement(_0x45935e,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x41e26f){}}else showMessage(_0x2a7f13(0x797));}async function listenForCustomMathTopics(){const _0x381784=_0x49918e,_0x289ffd=collection(db,_0x381784(0x878)+appId+_0x381784(0x347));onSnapshot(_0x289ffd,_0x5cc38c=>{const _0x55ac1a=_0x381784;customMathTopics=_0x5cc38c[_0x55ac1a(0x689)][_0x55ac1a(0x251)](_0x425dd2=>({'id':_0x425dd2['id'],..._0x425dd2[_0x55ac1a(0x999)]()})),renderTopicCheckboxes();},_0x23a6ee=>{const _0x22e7ca=_0x381784;console[_0x22e7ca(0xb89)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x23a6ee);});}function handleSelectAllTopics(){const _0x524ab1=_0x49918e,_0x1b7bfe=document['getElementById']('math-topics-checkbox-container'),_0x51301c=_0x1b7bfe[_0x524ab1(0x3e7)](_0x524ab1(0x7df));_0x51301c[_0x524ab1(0x4ec)](_0x47d6fb=>{const _0x2d875b=_0x524ab1;_0x47d6fb[_0x2d875b(0xaf2)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x5dd366=_0x49918e,_0x25a8cc=document['getElementById'](_0x5dd366(0xb76)),_0x497ba5=_0x25a8cc[_0x5dd366(0x3e7)](_0x5dd366(0x7df));_0x497ba5[_0x5dd366(0x4ec)](_0x5d5c0e=>{const _0x262ba5=_0x5dd366;_0x5d5c0e[_0x262ba5(0xaf2)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x198b4a){const _0x393224=_0x49918e;if(!_0x198b4a)return;try{const _0x161525=doc(db,_0x393224(0x878)+appId+_0x393224(0x347),_0x198b4a);await deleteDoc(_0x161525),showMessage(_0x393224(0x212));}catch(_0x4d537f){console[_0x393224(0xb89)](_0x393224(0x47f),_0x4d537f),showMessage(_0x393224(0x6b4));}}async function handleAddCustomMathTopic(){const _0x3cd0f4=_0x49918e,_0x41086c=document[_0x3cd0f4(0x7db)]('custom-math-topic-input'),_0x4e2d00=_0x41086c[_0x3cd0f4(0x947)][_0x3cd0f4(0x564)]();if(!_0x4e2d00){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x1bce88=collection(db,_0x3cd0f4(0x878)+appId+_0x3cd0f4(0x347));await addDoc(_0x1bce88,{'name':_0x4e2d00,'createdAt':serverTimestamp()}),_0x41086c['value']='',showMessage(_0x3cd0f4(0x8b8)+_0x4e2d00+_0x3cd0f4(0x5d6));}catch(_0x514a7b){console['error'](_0x3cd0f4(0x3f2),_0x514a7b),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x21a8d1=_0x49918e;showConfirmation(_0x21a8d1(0x35f),async()=>{const _0x4a4c10=_0x21a8d1,_0x3b7df0=document['getElementById'](_0x4a4c10(0x401)),_0x19aa35=document[_0x4a4c10(0x7db)](_0x4a4c10(0xb7f)),_0x468102=_0x19aa35[_0x4a4c10(0x467)];_0x3b7df0['classList']['remove'](_0x4a4c10(0x997)),_0x19aa35['textContent']=_0x4a4c10(0x25d);try{const _0x2bee43=collection(db,_0x4a4c10(0x878)+appId+_0x4a4c10(0x1ed)),_0x2954c1=await getDocs(_0x2bee43);if(_0x2954c1[_0x4a4c10(0xa41)]){showMessage(_0x4a4c10(0x67d));return;}const _0x551769=writeBatch(db);let _0x26bdc0=0x0;_0x2954c1[_0x4a4c10(0x4ec)](_0x2fd70c=>{const _0x5b487a=_0x4a4c10,_0x2c1894=_0x2fd70c[_0x5b487a(0x999)](),_0x2a50ac=_0x2fd70c['id'];if(_0x2c1894[_0x5b487a(0x29f)]&&_0x2c1894[_0x5b487a(0x29f)]['length']>0x0&&!_0x2c1894[_0x5b487a(0x29f)][0x0][_0x5b487a(0x88f)]('id')){console[_0x5b487a(0x7bb)]('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x2a50ac+'\x20('+_0x2c1894[_0x5b487a(0x818)]+')'),_0x26bdc0++;const _0x38b666=_0x2c1894[_0x5b487a(0x29f)]['map']((_0x42c468,_0x59f839)=>{return{..._0x42c468,'id':_0x42c468['id']||'q_'+Date['now']()+'_'+_0x2a50ac+'_'+_0x59f839};}),_0x288202=doc(db,'artifacts/'+appId+_0x5b487a(0x1ed),_0x2a50ac);_0x551769[_0x5b487a(0xb1a)](_0x288202,{'questions':_0x38b666});}}),_0x26bdc0>0x0?(_0x19aa35['textContent']=_0x4a4c10(0x3e5)+_0x26bdc0+_0x4a4c10(0x3c5),await _0x551769[_0x4a4c10(0x917)](),showMessage(_0x4a4c10(0x539)+_0x26bdc0+_0x4a4c10(0x4b6))):showMessage(_0x4a4c10(0x5f7));}catch(_0x5a49e7){console[_0x4a4c10(0xb89)](_0x4a4c10(0xaa4),_0x5a49e7),showMessage(_0x4a4c10(0x605)+_0x5a49e7[_0x4a4c10(0x927)]);}finally{_0x3b7df0['classList']['add']('hidden'),_0x19aa35[_0x4a4c10(0x467)]=_0x468102;}});}async function handleBulkUpdateQuizSettings(){const _0x1e1379=_0x49918e,_0x47e25d={'shuffle':document[_0x1e1379(0x7db)](_0x1e1379(0x2e3))[_0x1e1379(0x947)],'resultsDisplay':document[_0x1e1379(0x7db)](_0x1e1379(0xbdd))['value'],'loopUntilPass':document[_0x1e1379(0x7db)]('bulk-loop-until-pass-checkbox')[_0x1e1379(0xaf2)],'isConfidenceScoringEnabled':document[_0x1e1379(0x7db)](_0x1e1379(0xbe5))[_0x1e1379(0xaf2)],'confidenceMode':document[_0x1e1379(0x7db)]('bulk-confidence-mode-select')[_0x1e1379(0x947)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x3f4fe9=await getDocs(collection(db,_0x1e1379(0x878)+appId+_0x1e1379(0x1ed))),_0x13af45=_0x3f4fe9[_0x1e1379(0x689)][_0x1e1379(0x251)](_0x5cd22a=>({'id':_0x5cd22a['id'],'data':_0x5cd22a['data']()})),_0x436eb7=_0x13af45['length'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x436eb7+_0x1e1379(0x5f1),async()=>{const _0x1f7718=_0x1e1379,_0x5c4f3e=document[_0x1f7718(0x7db)]('confirm-bulk-quiz-settings-btn');_0x5c4f3e[_0x1f7718(0x534)]=!![],_0x5c4f3e[_0x1f7718(0x848)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x58fcbd=writeBatch(db);_0x13af45[_0x1f7718(0x4ec)](_0x3ba65c=>{const _0x3c6f25=_0x1f7718,_0x1eb239=doc(db,_0x3c6f25(0x878)+appId+_0x3c6f25(0x1ed),_0x3ba65c['id']),_0x1b2862={..._0x3ba65c[_0x3c6f25(0x999)][_0x3c6f25(0x8d5)]||{},..._0x47e25d};_0x58fcbd[_0x3c6f25(0xb1a)](_0x1eb239,{'settings':_0x1b2862});}),await _0x58fcbd[_0x1f7718(0x917)](),document[_0x1f7718(0x7db)](_0x1f7718(0xbb8))['classList']['add'](_0x1f7718(0x997)),showMessage(_0x1f7718(0x9b1)+_0x436eb7+_0x1f7718(0x3db));}catch(_0x4cb059){console['error'](_0x1f7718(0xb2e),_0x4cb059),showMessage(_0x1f7718(0x5a5));}finally{_0x5c4f3e[_0x1f7718(0x534)]=![],_0x5c4f3e[_0x1f7718(0x848)]=_0x1f7718(0xad3);}});}catch(_0xda9de6){console[_0x1e1379(0xb89)]('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0xda9de6),showMessage(_0x1e1379(0x94f));}}async function handleSaveProjectName(){const _0x4a6099=_0x49918e,_0x5b225e=document[_0x4a6099(0x7db)]('project-title'),_0x1f39c8=document[_0x4a6099(0x7db)](_0x4a6099(0xad6)),_0x45b4ea=_0x5b225e['textContent'][_0x4a6099(0x564)]();if(!_0x45b4ea||!currentProjectId){showMessage(_0x4a6099(0x7c1)),_0x5b225e['textContent']=currentProjectData[_0x4a6099(0x257)];return;}_0x1f39c8[_0x4a6099(0x534)]=!![],_0x1f39c8[_0x4a6099(0x848)]=_0x4a6099(0x4d2);try{const _0x53419d=doc(db,'artifacts/'+appId+_0x4a6099(0xc07),currentProjectId);await updateDoc(_0x53419d,{'projectName':_0x45b4ea}),currentProjectData&&(currentProjectData[_0x4a6099(0x257)]=_0x45b4ea),showMessage(_0x4a6099(0x907));}catch(_0x1375a1){console[_0x4a6099(0xb89)](_0x4a6099(0xa2d),_0x1375a1),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x5b225e[_0x4a6099(0x467)]=currentProjectData['projectName'];}finally{_0x1f39c8[_0x4a6099(0x1fa)][_0x4a6099(0x36a)](_0x4a6099(0x997)),_0x1f39c8[_0x4a6099(0x534)]=![],_0x1f39c8[_0x4a6099(0x848)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x34b329,_0x39fb7c){const _0x1460db=_0x49918e,_0x16ad73=document[_0x1460db(0x7db)]('lesson-view-modal'),_0x582f70=document[_0x1460db(0x7db)](_0x1460db(0xa2e)),_0x368cf6=document[_0x1460db(0x7db)](_0x1460db(0x56b)),_0x5b75c0=document[_0x1460db(0x7db)]('lesson-sections-container');_0x582f70['textContent']=_0x1460db(0x1e3)+_0x34b329,_0x5b75c0[_0x1460db(0x1fa)][_0x1460db(0x36a)](_0x1460db(0x997)),_0x368cf6['classList']['remove']('hidden'),_0x16ad73[_0x1460db(0x1fa)]['remove'](_0x1460db(0x997)),generatePracticeTest(_0x34b329,_0x39fb7c)[_0x1460db(0x6c3)](_0x3d2565=>{const _0x1bfba0=_0x1460db;console[_0x1bfba0(0xb89)](_0x1bfba0(0x4aa),_0x3d2565),showMessage(_0x1bfba0(0x32a)),_0x16ad73['classList']['add'](_0x1bfba0(0x997));});}async function generatePracticeTest(_0x29875e,_0x28c418){const _0x40dbe9=_0x49918e;[_0x40dbe9(0x285),_0x40dbe9(0x35e),_0x40dbe9(0x1f7),'summaryContent']['forEach'](_0x9a3fa8=>{const _0x227df6=_0x40dbe9,_0x27db38=document[_0x227df6(0x7db)](_0x9a3fa8)[_0x227df6(0xbbb)];_0x27db38&&(_0x27db38[_0x227df6(0xbe9)][_0x227df6(0x5ab)]=_0x227df6(0x979));});try{const _0x253250=_0x40dbe9(0xa87),_0x550f5f=_0x40dbe9(0xbe2)+_0x28c418+_0x40dbe9(0xbe8)+_0x29875e+_0x40dbe9(0x816),_0x5abe07=await callGemini(_0x550f5f,!![]),_0x4e1717=document['getElementById'](_0x40dbe9(0xa2e)),_0x39beef=document[_0x40dbe9(0x7db)]('lesson-loader'),_0xe732d9=document['getElementById']('lesson-sections-container'),_0x4af29b=document[_0x40dbe9(0x7db)](_0x40dbe9(0x1f7))[_0x40dbe9(0xbbb)];_0x4e1717[_0x40dbe9(0x6c0)]=_0x40dbe9(0x62a)+_0x29875e[_0x40dbe9(0xc09)](/•\s/g,'')+_0x40dbe9(0x771)+_0x28c418+')',currentApplicationData=JSON[_0x40dbe9(0x982)](_0x5abe07);const _0x4c7ac7=document[_0x40dbe9(0x7db)](_0x40dbe9(0x1f7));_0x4c7ac7[_0x40dbe9(0x848)]=currentApplicationData[_0x40dbe9(0x251)]((_0x559708,_0x176859)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x176859+0x1)+'.\x20'+marked[_0x40dbe9(0x7de)](_0x559708[_0x40dbe9(0xbe1)])+_0x40dbe9(0x62f)+_0x176859+_0x40dbe9(0xb82)+_0x559708['options'][_0x40dbe9(0x251)]((_0x317aa1,_0x4c8366)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x176859+',\x20'+_0x4c8366+')\x22>'+String[_0x40dbe9(0xa03)](0x61+_0x4c8366)+'.\x20'+marked[_0x40dbe9(0x7de)](_0x317aa1)+_0x40dbe9(0x405))[_0x40dbe9(0x7b8)]('')+_0x40dbe9(0xb2f))[_0x40dbe9(0x7b8)](''),window['MathJax']&&MathJax[_0x40dbe9(0x26d)]([_0x4c7ac7]),_0x4af29b&&(_0x4af29b['style'][_0x40dbe9(0x5ab)]='block'),_0x39beef[_0x40dbe9(0x1fa)]['add'](_0x40dbe9(0x997)),_0xe732d9[_0x40dbe9(0x1fa)][_0x40dbe9(0x428)](_0x40dbe9(0x997));}catch(_0x28ccc3){console[_0x40dbe9(0xb89)](_0x28ccc3);throw _0x28ccc3;}}async function callGemini(_0x23cfd8,_0xac396=![]){const _0x30c4a9=_0x49918e,_0x4ac10e=_0x30c4a9(0xaae),_0x35d077=_0x30c4a9(0x3d8)+_0x4ac10e,_0x19cb0a={'contents':[{'parts':[{'text':_0x23cfd8}]}]};_0xac396&&(_0x19cb0a[_0x30c4a9(0xbfe)]={'responseMimeType':'application/json'},_0x23cfd8[_0x30c4a9(0x229)]('Test\x20Blueprint')?_0x19cb0a[_0x30c4a9(0xbfe)]['responseSchema']={'type':_0x30c4a9(0x7eb),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x30c4a9(0x315),'items':{'type':_0x30c4a9(0x7eb),'properties':{'sara':{'type':_0x30c4a9(0x3ec)},'mainTopics':{'type':_0x30c4a9(0x315),'items':{'type':_0x30c4a9(0x7eb),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x30c4a9(0x315),'items':{'type':_0x30c4a9(0x3ec)}}},'required':['topicName',_0x30c4a9(0x57e)]}}},'required':[_0x30c4a9(0x379),_0x30c4a9(0x585)]}}},'required':[_0x30c4a9(0x6d6),'curriculum']}:_0x19cb0a[_0x30c4a9(0xbfe)][_0x30c4a9(0x70a)]={'type':'ARRAY','items':{'type':_0x30c4a9(0x7eb),'properties':{'question':{'type':_0x30c4a9(0x3ec)},'options':{'type':'ARRAY','items':{'type':_0x30c4a9(0x3ec)}},'answer':{'type':_0x30c4a9(0x8de)}},'required':['question',_0x30c4a9(0xa27),_0x30c4a9(0x2b8)]}});try{const _0x53b391=await fetch(_0x35d077,{'method':_0x30c4a9(0xb93),'headers':{'Content-Type':_0x30c4a9(0x590)},'body':JSON[_0x30c4a9(0x362)](_0x19cb0a)});if(!_0x53b391['ok']){const _0x33a79a=await _0x53b391[_0x30c4a9(0xada)]();console[_0x30c4a9(0xb89)]('API\x20Error\x20Body:',_0x33a79a);throw new Error(_0x30c4a9(0x7b4)+_0x53b391[_0x30c4a9(0xbc2)]);}const _0x56f68f=await _0x53b391[_0x30c4a9(0x604)]();if(_0x56f68f[_0x30c4a9(0x353)]&&_0x56f68f[_0x30c4a9(0x353)][0x0]['content']&&_0x56f68f[_0x30c4a9(0x353)][0x0]['content'][_0x30c4a9(0x3c4)][0x0])return _0x56f68f['candidates'][0x0][_0x30c4a9(0x80c)]['parts'][0x0][_0x30c4a9(0xada)];else{console[_0x30c4a9(0xb89)](_0x30c4a9(0xc10),_0x56f68f);if(_0x56f68f[_0x30c4a9(0x353)]&&_0x56f68f['candidates'][0x0][_0x30c4a9(0x51b)]==='SAFETY')return JSON[_0x30c4a9(0x362)]({'error':_0x30c4a9(0x287)});throw new Error(_0x30c4a9(0x911));}}catch(_0x43996e){console[_0x30c4a9(0xb89)](_0x30c4a9(0xad8),_0x43996e);throw _0x43996e;}}async function generateLesson(_0x3bee52=null,_0x4d70b3=null){const _0x5ab98c=_0x49918e,_0x6fe354=_0x3bee52,_0x215e44=_0x4d70b3||_0x5ab98c(0xbd7),_0x381438=document[_0x5ab98c(0x7db)](_0x5ab98c(0x56b)),_0x4b5a2d=document[_0x5ab98c(0x7db)](_0x5ab98c(0xb19));_0x4b5a2d[_0x5ab98c(0x467)]=_0x5ab98c(0x303)+_0x6fe354+_0x5ab98c(0x2d1);try{const _0x1a986f=_0x5ab98c(0xaa8),_0x10e846=_0x5ab98c(0xa14)+_0x215e44+_0x5ab98c(0xbe8)+_0x6fe354+_0x5ab98c(0xbf9)+_0x1a986f+_0x5ab98c(0x1e6),_0x23ae5e=_0x5ab98c(0x985)+_0x6fe354+_0x5ab98c(0x466)+_0x215e44+_0x5ab98c(0x4c3)+_0x1a986f+_0x5ab98c(0x871),_0x569fe1='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x215e44+_0x5ab98c(0xbe8)+_0x6fe354+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20โจทย์และตัวเลือกต้องมีลักษณะและความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0xaac096='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x6fe354+'\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x215e44+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27\x20'+_0x1a986f+_0x5ab98c(0xa69),[_0x3dcf2f,_0x5f245c,_0x47db33,_0x4b6331]=await Promise[_0x5ab98c(0x56c)]([callGemini(_0x10e846),callGemini(_0x23ae5e),callGemini(_0x569fe1,!![]),callGemini(_0xaac096)]),_0x5f43f2=document[_0x5ab98c(0x7db)](_0x5ab98c(0xa2e)),_0x4cdcf5=document[_0x5ab98c(0x7db)](_0x5ab98c(0x220));_0x5f43f2['innerText']=_0x5ab98c(0x2fb)+_0x6fe354[_0x5ab98c(0xc09)](/•\s/g,'')+_0x5ab98c(0x771)+_0x215e44+')',[_0x5ab98c(0x285),'memoryContent',_0x5ab98c(0x76a)][_0x5ab98c(0x4ec)](_0x37fae8=>{document['getElementById'](_0x37fae8)['innerHTML']='';}),document[_0x5ab98c(0x7db)](_0x5ab98c(0x285))[_0x5ab98c(0x848)]=marked[_0x5ab98c(0x982)](_0x3dcf2f),document[_0x5ab98c(0x7db)](_0x5ab98c(0x35e))['innerHTML']=marked[_0x5ab98c(0x982)](_0x5f245c),document[_0x5ab98c(0x7db)](_0x5ab98c(0x76a))['innerHTML']=marked[_0x5ab98c(0x982)](_0x4b6331),currentApplicationData=JSON['parse'](_0x47db33);const _0x3afd43=document[_0x5ab98c(0x7db)](_0x5ab98c(0x1f7));_0x3afd43[_0x5ab98c(0x848)]=currentApplicationData[_0x5ab98c(0x251)]((_0x27b5ba,_0x2d50d2)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x2d50d2+0x1)+'.\x20'+marked[_0x5ab98c(0x7de)](_0x27b5ba['question'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x2d50d2+_0x5ab98c(0xb82)+_0x27b5ba['options'][_0x5ab98c(0x251)]((_0x975b14,_0x555b3e)=>_0x5ab98c(0x6e2)+_0x2d50d2+',\x20'+_0x555b3e+_0x5ab98c(0xa7a)+String['fromCharCode'](0x61+_0x555b3e)+'.\x20'+marked[_0x5ab98c(0x7de)](_0x975b14)+_0x5ab98c(0x405))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5ab98c(0x7b8)](''),window[_0x5ab98c(0xaca)]&&MathJax[_0x5ab98c(0x26d)]([_0x4cdcf5]),_0x381438[_0x5ab98c(0x1fa)][_0x5ab98c(0x36a)](_0x5ab98c(0x997)),_0x4cdcf5[_0x5ab98c(0x1fa)][_0x5ab98c(0x428)](_0x5ab98c(0x997));}catch(_0x47eb98){console[_0x5ab98c(0xb89)](_0x47eb98);throw _0x47eb98;}finally{}}function checkAnswer(_0x2cdc0a,_0x213447){const _0x331624=_0x49918e,_0x21f101=currentApplicationData[_0x2cdc0a],_0x30e9c8=document[_0x331624(0x7db)]('q'+_0x2cdc0a+_0x331624(0x3b2)),_0x5c6c64=_0x30e9c8[_0x331624(0xb3b)](_0x331624(0x7a0));for(let _0x4ebe05 of _0x5c6c64){_0x4ebe05['disabled']=!![];}_0x213447===_0x21f101[_0x331624(0x2b8)]?_0x5c6c64[_0x213447][_0x331624(0x1fa)][_0x331624(0x36a)](_0x331624(0x72b)):(_0x5c6c64[_0x213447][_0x331624(0x1fa)]['add'](_0x331624(0x374)),_0x5c6c64[_0x21f101['answer']]['classList'][_0x331624(0x36a)](_0x331624(0x72b)));}window[_0x49918e(0x93d)]=handleGenerateAndShowLesson,window[_0x49918e(0x503)]=checkAnswer,window[_0x49918e(0xb04)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x1cd5d2=_0x49918e;try{const _0x3451ca=initializeApp(firebaseConfig);db=getFirestore(_0x3451ca),auth=getAuth(_0x3451ca),setupAuthListener(),setupEventListeners(),showView(_0x1cd5d2(0x972)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x33466d){console[_0x1cd5d2(0xb89)](_0x1cd5d2(0x838),_0x33466d),showMessage(_0x1cd5d2(0x4bc));}}async function handleVerifyAnswersInEditor(){const _0x572e96=_0x49918e,_0x402850=document[_0x572e96(0x7db)](_0x572e96(0x973));if(!_0x402850)return;const _0x3a5fdd=document[_0x572e96(0x7db)](_0x572e96(0x86b));_0x3a5fdd[_0x572e96(0x534)]=!![],_0x3a5fdd[_0x572e96(0x848)]=_0x572e96(0x74b);try{const _0x29df75=_0x402850[_0x572e96(0x3e7)]('.question-editor-item'),_0x5c6a4d=Array[_0x572e96(0x3b3)](_0x29df75)[_0x572e96(0x251)]((_0x2ace76,_0x13855f)=>{const _0x54c8f3=_0x572e96,_0x30ab1b=_0x2ace76['dataset'][_0x54c8f3(0x8fe)],_0x449479=_0x2ace76[_0x54c8f3(0xa3e)]('textarea')[_0x54c8f3(0x947)];let _0x1c629b=null,_0x2a865c='';switch(_0x30ab1b){case'multiple_choice':const _0x3305aa=_0x2ace76[_0x54c8f3(0x3e7)](_0x54c8f3(0xab0));_0x1c629b=Array[_0x54c8f3(0x3b3)](_0x3305aa)[_0x54c8f3(0x251)](_0x1a659c=>_0x1a659c[_0x54c8f3(0x947)]);const _0x308cb6=_0x2ace76['querySelector'](_0x54c8f3(0x7e6));_0x308cb6&&(_0x2a865c=_0x1c629b[parseInt(_0x308cb6['value'])]);break;case'short_answer':_0x2a865c=_0x2ace76['querySelector'](_0x54c8f3(0x595))[_0x54c8f3(0x947)];break;case _0x54c8f3(0x7c2):const _0x442021=_0x2ace76[_0x54c8f3(0xa3e)](_0x54c8f3(0x7e6));_0x2a865c=_0x442021?_0x442021[_0x54c8f3(0x947)]:'';break;case'matching_item':_0x2a865c=_0x2ace76[_0x54c8f3(0xa3e)](_0x54c8f3(0x9b6))[_0x54c8f3(0x947)];break;}return{'question':_0x449479,'options':_0x1c629b,'proposedAnswer':_0x2a865c};}),_0x29c92c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x572e96(0x362)](_0x5c6a4d)+_0x572e96(0x5c5),_0x3157ee={'type':_0x572e96(0x315),'items':{'type':_0x572e96(0x7eb),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x572e96(0x2e4)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x572e96(0x3ec)}},'required':[_0x572e96(0x7e8),_0x572e96(0xb34),_0x572e96(0x28b)]}},_0x302e3f=await callAnalysisApi(_0x29c92c,{'type':_0x572e96(0x7eb),'properties':{'result':_0x3157ee},'required':[_0x572e96(0x908)]});displayVerificationResultsInEditor(_0x302e3f['result']);}catch(_0x35b55c){console[_0x572e96(0xb89)](_0x572e96(0x990),_0x35b55c),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x3a5fdd['disabled']=![],_0x3a5fdd['innerHTML']=_0x572e96(0x9ae);}}function displayVerificationResultsInEditor(_0x2aace8){const _0x2a6c3a=_0x49918e;_0x2aace8['forEach'](_0x4b6d04=>{const _0x4dd32e=_0x2d54,_0x2f66d4=document[_0x4dd32e(0xa3e)](_0x4dd32e(0x8ee)+_0x4b6d04['questionIndex']+'\x22]');if(!_0x2f66d4)return;const _0x2eb894=_0x2f66d4[_0x4dd32e(0xa3e)]('.verification-result-editor');if(_0x2eb894)_0x2eb894[_0x4dd32e(0x428)]();let _0xf2ecfd='';if(_0x4b6d04[_0x4dd32e(0xb34)])_0xf2ecfd=_0x4dd32e(0x258);else{const _0x4f4477=_0x4b6d04[_0x4dd32e(0x7f0)]?_0x4dd32e(0x7f3):'';_0xf2ecfd=_0x4dd32e(0xb0e)+_0x4f4477+_0x4dd32e(0x4c5)+_0x4b6d04['justification']+_0x4dd32e(0x60c)+(_0x4b6d04[_0x4dd32e(0x7f0)]?_0x4dd32e(0xc0f)+_0x4b6d04[_0x4dd32e(0x7f0)]+_0x4dd32e(0x5c6):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0x2f66d4[_0x4dd32e(0xa21)](_0x4dd32e(0x2af),_0xf2ecfd);if(!_0x4b6d04[_0x4dd32e(0xb34)]&&_0x4b6d04[_0x4dd32e(0x7f0)]){const _0x273c49=_0x2f66d4['dataset'][_0x4dd32e(0x8fe)],_0xcfa96f=_0x1d6eb9=>{const _0x3991e2=_0x4dd32e;if(!_0x1d6eb9)return;_0x1d6eb9['classList'][_0x3991e2(0x36a)](_0x3991e2(0x314),'transition-all',_0x3991e2(0x554)),setTimeout(()=>{const _0x1bca8c=_0x3991e2;_0x1d6eb9['classList'][_0x1bca8c(0x428)](_0x1bca8c(0x314));},0x9c4);};if(_0x273c49===_0x4dd32e(0x286)){const _0x3de6ab=Array['from'](_0x2f66d4[_0x4dd32e(0x3e7)]('input[type=\x22text\x22]')),_0x590586=_0x3de6ab['findIndex'](_0x42e556=>_0x42e556[_0x4dd32e(0x947)][_0x4dd32e(0x564)]()[_0x4dd32e(0x8fa)]()===_0x4b6d04['suggestedAnswer'][_0x4dd32e(0x564)]()[_0x4dd32e(0x8fa)]());if(_0x590586!==-0x1){const _0x34ba5c=_0x2f66d4[_0x4dd32e(0xa3e)]('input[type=\x22radio\x22][value=\x22'+_0x590586+'\x22]');_0x34ba5c&&(_0x34ba5c[_0x4dd32e(0xaf2)]=!![],_0xcfa96f(_0x34ba5c[_0x4dd32e(0x984)](_0x4dd32e(0x339))));}}else{if(_0x273c49===_0x4dd32e(0x6de)||_0x273c49===_0x4dd32e(0x799)){const _0x17fd95=_0x2f66d4[_0x4dd32e(0xa3e)](_0x4dd32e(0x438));_0x17fd95&&(_0x17fd95[_0x4dd32e(0x947)]=_0x4b6d04[_0x4dd32e(0x7f0)],_0xcfa96f(_0x17fd95));}else{if(_0x273c49===_0x4dd32e(0x7c2)){const _0x269964=_0x4b6d04[_0x4dd32e(0x7f0)]['trim']()['toLowerCase'](),_0xf94118=_0x2f66d4[_0x4dd32e(0xa3e)](_0x4dd32e(0x519)+_0x269964+'\x22]');_0xf94118&&(_0xf94118['checked']=!![],_0xcfa96f(_0xf94118[_0x4dd32e(0x984)]('div')));}}}}}),showMessage(_0x2a6c3a(0x8aa));}async function handleVerifyAnswers(){const _0x132fe0=_0x49918e;if(!currentQuizData||!currentQuizData[_0x132fe0(0x29f)]){showMessage(_0x132fe0(0x2aa));return;}const _0xd32d8d=document[_0x132fe0(0x7db)](_0x132fe0(0xb54));_0xd32d8d[_0x132fe0(0x534)]=!![],_0xd32d8d[_0x132fe0(0x848)]=_0x132fe0(0x74b);try{const _0x2eeb3d=currentQuizData[_0x132fe0(0x29f)][_0x132fe0(0x251)]((_0x8734d,_0x3b5c06)=>{const _0x5eea35=_0x132fe0;let _0x311ffe='';const _0x1e2bc5=_0x8734d['questionType']||currentQuizData['quizType'];switch(_0x1e2bc5){case _0x5eea35(0x286):_0x311ffe=_0x8734d['options'][_0x8734d['correctAnswerIndex']];break;case'short_answer':_0x311ffe=_0x8734d[_0x5eea35(0x785)];break;case _0x5eea35(0x7c2):_0x311ffe=_0x8734d[_0x5eea35(0x912)][_0x5eea35(0x241)]();break;case _0x5eea35(0x799):_0x311ffe=_0x8734d[_0x5eea35(0xa77)];break;}return{'question':_0x8734d['stem']||_0x8734d[_0x5eea35(0xa04)],'options':_0x8734d[_0x5eea35(0xa27)]||null,'proposedAnswer':_0x311ffe};}),_0x515d6f=_0x132fe0(0xa17)+JSON[_0x132fe0(0x362)](_0x2eeb3d)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4a9997={'type':'ARRAY','items':{'type':_0x132fe0(0x7eb),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x132fe0(0x2e4)},'justification':{'type':_0x132fe0(0x3ec)},'suggestedAnswer':{'type':_0x132fe0(0x3ec)}},'required':['questionIndex',_0x132fe0(0xb34),_0x132fe0(0x28b)]}},_0x425d34=await callAnalysisApi(_0x515d6f,{'type':'OBJECT','properties':{'result':_0x4a9997},'required':[_0x132fe0(0x908)]});displayVerificationResults(_0x425d34['result']);}catch(_0x1ac875){console['error'](_0x132fe0(0x48b),_0x1ac875),showMessage(_0x132fe0(0xbff));}finally{_0xd32d8d[_0x132fe0(0x534)]=![],_0xd32d8d[_0x132fe0(0x848)]=_0x132fe0(0x968);}}function displayVerificationResults(_0x105b3c){const _0x447b49=_0x49918e;_0x105b3c[_0x447b49(0x4ec)](_0x108930=>{const _0x5a8508=_0x447b49,_0x37c3fc=document['querySelector'](_0x5a8508(0x836)+_0x108930[_0x5a8508(0x7e8)]+'\x22]');if(_0x37c3fc){const _0x542503=_0x37c3fc[_0x5a8508(0xa3e)]('.verification-result');if(_0x542503)_0x542503[_0x5a8508(0x428)]();let _0x58015c='';_0x108930[_0x5a8508(0xb34)]?_0x58015c=_0x5a8508(0x754):_0x58015c=_0x5a8508(0x7bf)+_0x108930[_0x5a8508(0x28b)]+_0x5a8508(0xa30)+(_0x108930['suggestedAnswer']?_0x5a8508(0xc0f)+_0x108930[_0x5a8508(0x7f0)]+_0x5a8508(0x5c6):'')+_0x5a8508(0x571),_0x37c3fc['insertAdjacentHTML']('beforeend',_0x58015c);}}),showMessage(_0x447b49(0x8aa));}function compareNumericalAnswers(_0x496cd0,_0x17bc2c){const _0x19aa2f=_0x49918e,_0x58b189=String(_0x496cd0)[_0x19aa2f(0xc09)](',','.')[_0x19aa2f(0xc09)](/[^\d.-]/g,'')[_0x19aa2f(0x564)](),_0x3df8c0=String(_0x17bc2c)['replace'](',','.')['replace'](/[^\d.-]/g,'')['trim']();if(_0x58b189===''||_0x3df8c0==='')return![];const _0xc1cd92=parseFloat(_0x58b189),_0x330931=parseFloat(_0x3df8c0);if(isNaN(_0xc1cd92)||isNaN(_0x330931))return![];return Math[_0x19aa2f(0x8b0)](_0xc1cd92-_0x330931)<0.001;}function isPotentiallyNumeric(_0x384aed){const _0x2e710b=_0x49918e;if(typeof _0x384aed!==_0x2e710b(0x427)&&typeof _0x384aed!=='number')return![];const _0x37baa6=String(_0x384aed)['replace'](',','.')[_0x2e710b(0x564)]();return _0x37baa6!==''&&!isNaN(parseFloat(_0x37baa6))&&isFinite(_0x37baa6);}async function gradeShortAnswer(_0x4682d4,_0x5bc5bc){const _0x8995a2=_0x49918e,_0x303c81=_0x5bc5bc[_0x8995a2(0x785)],_0x3a9eb7=String(_0x4682d4)[_0x8995a2(0xc09)](/\$/g,'')[_0x8995a2(0x564)](),_0x444a1a=String(_0x303c81)[_0x8995a2(0xc09)](/\$/g,'')[_0x8995a2(0x564)]();if(_0x3a9eb7['toLowerCase']()===_0x444a1a[_0x8995a2(0x8fa)]())return!![];if(isPotentiallyNumeric(_0x3a9eb7)&&isPotentiallyNumeric(_0x444a1a)){if(compareNumericalAnswers(_0x3a9eb7,_0x444a1a))return!![];}return console[_0x8995a2(0x7bb)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x4682d4,_0x303c81);}async function revealAnswerForAdmin(_0x381b6f,_0x1e21cc){const _0xdca02=_0x49918e,_0x335d4e=doc(db,_0xdca02(0x878)+appId+_0xdca02(0x426),currentLiveGameId);await updateDoc(_0x335d4e,{'questionStatus':_0xdca02(0x582)});}function showTop5LeaderboardView(_0x2f70d9){const _0x3859db=_0x49918e,_0x22463a=Object['values'](_0x2f70d9['players']||{})[_0x3859db(0xbf0)](_0x55e7a6=>_0x55e7a6[_0x3859db(0xbc2)]==='active');_0x22463a['sort']((_0x2d187a,_0xd355c3)=>_0xd355c3[_0x3859db(0x967)]-_0x2d187a[_0x3859db(0x967)]);const _0x4bc98a=_0x22463a[_0x3859db(0x8e0)](0x0,0x5),_0x4a9cfb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4bc98a[_0x3859db(0x251)]((_0xf140c,_0x19188a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x19188a+0x1)+'.\x20'+(_0xf140c[_0x3859db(0x447)]||Object['keys'](_0x2f70d9[_0x3859db(0x891)])[_0x3859db(0xa19)](_0x405500=>_0x2f70d9[_0x3859db(0x891)][_0x405500]===_0xf140c))+_0x3859db(0x2ba)+_0xf140c[_0x3859db(0x967)]+_0x3859db(0x6a3))[_0x3859db(0x7b8)]('')+_0x3859db(0x938)+(_0x2f70d9[_0x3859db(0x669)]+0x1===currentQuizData[_0x3859db(0x29f)][_0x3859db(0xaed)]?_0x3859db(0x422):_0x3859db(0x601))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x3859db(0x848)]=_0x4a9cfb,document[_0x3859db(0x7db)]('goto-next-question-btn')[_0x3859db(0xb63)](_0x3859db(0x32d),async()=>{const _0x426be4=_0x3859db,_0x2c7cfc=doc(db,_0x426be4(0x878)+appId+'/public/data/liveGames',currentLiveGameId),_0x332f38=_0x2f70d9[_0x426be4(0x669)]+0x1;if(_0x332f38<currentQuizData[_0x426be4(0x29f)][_0x426be4(0xaed)]){const _0x5afa56={'currentQuestionIndex':_0x332f38,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x426be4(0xbdb)};Object[_0x426be4(0x450)](_0x2f70d9['players'])[_0x426be4(0x4ec)](_0x138d4c=>{_0x5afa56['players.'+_0x138d4c+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x2c7cfc,_0x5afa56);}else await updateDoc(_0x2c7cfc,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x2f6008=>{const _0x362cc8=_0x2d54;if(_0x2f6008){userId=_0x2f6008[_0x362cc8(0x942)],userIdDisplay['textContent']=userId;const _0x1c3a69=await loadUserPreferences();_0x1c3a69[_0x362cc8(0x91a)]&&(document[_0x362cc8(0x7db)](_0x362cc8(0xaa9))['value']=_0x1c3a69[_0x362cc8(0x91a)]);globalDashboardSettings[_0x362cc8(0xb18)]=_0x1c3a69[_0x362cc8(0xb18)]||_0x362cc8(0x57d);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x35e73a,_0x132bad){const _0x466b53=_0x49918e;if(!userId)return;try{const _0x36d590=doc(db,_0x466b53(0x878)+appId+_0x466b53(0x9c1)+userId+_0x466b53(0x445)),_0x315b49={};_0x315b49[_0x35e73a]=_0x132bad,await setDoc(_0x36d590,_0x315b49,{'merge':!![]});}catch(_0xdef028){console['error'](_0x466b53(0xa1c),_0xdef028);}}async function loadUserPreferences(){const _0x276c74=_0x49918e;if(!userId)return{};try{const _0x2c0c5e=doc(db,_0x276c74(0x878)+appId+_0x276c74(0x9c1)+userId+_0x276c74(0x445)),_0x99b345=await getDoc(_0x2c0c5e);if(_0x99b345[_0x276c74(0xbeb)]())return _0x99b345['data']();return{};}catch(_0xa8dbf1){return console[_0x276c74(0xb89)](_0x276c74(0x280),_0xa8dbf1),{};}}function parseIndentedBlueprint(_0x1462d4){const _0x218f81=_0x49918e,_0x13f207=_0x1462d4[_0x218f81(0x437)]('\x0a')[_0x218f81(0xbf0)](_0x288a61=>_0x288a61['trim']()!==''),_0x5014fa=[];let _0x366ab3=null,_0x2abe67=null;return _0x13f207[_0x218f81(0x4ec)](_0x6fc7db=>{const _0x41d648=_0x218f81,_0x118a6c=_0x6fc7db[_0x41d648(0x56a)](/^\s*/)[0x0][_0x41d648(0xaed)],_0x58d61d=_0x6fc7db[_0x41d648(0x564)]();if(_0x118a6c===0x0)_0x366ab3={'sara':_0x58d61d,'mainTopics':[]},_0x5014fa[_0x41d648(0x9f3)](_0x366ab3),_0x2abe67=null;else{if(_0x118a6c>0x0&&_0x118a6c<0x8&&_0x366ab3)_0x2abe67={'topicName':_0x58d61d,'subTopics':[]},_0x366ab3[_0x41d648(0x585)][_0x41d648(0x9f3)](_0x2abe67);else _0x118a6c>=0x8&&_0x2abe67&&_0x2abe67[_0x41d648(0x57e)]['push'](_0x58d61d);}}),{'curriculum':_0x5014fa};}async function handleManualBlueprintSave(){const _0xc65768=_0x49918e,_0x469b93=document[_0xc65768(0x7db)](_0xc65768(0x1ea))[_0xc65768(0x947)][_0xc65768(0x564)](),_0x79dd44=document[_0xc65768(0x7db)]('manual-bp-grade-level')[_0xc65768(0x947)]['trim'](),_0x3ee14c=document[_0xc65768(0x7db)](_0xc65768(0x402))[_0xc65768(0x947)];if(!_0x469b93||!_0x79dd44||!_0x3ee14c){showMessage(_0xc65768(0x31d));return;}const _0x3fcfc4=parseIndentedBlueprint(_0x3ee14c);if(!_0x3fcfc4[_0xc65768(0x79a)]||_0x3fcfc4[_0xc65768(0x79a)][_0xc65768(0xaed)]===0x0){showMessage(_0xc65768(0x93e));return;}const _0x9f3721={};_0x3fcfc4[_0xc65768(0x79a)][_0xc65768(0x4ec)](_0x410e96=>{const _0x341fe4=_0xc65768;_0x410e96[_0x341fe4(0x585)][_0x341fe4(0x4ec)](_0xd8d2dc=>{const _0x295937=_0x341fe4;_0xd8d2dc['subTopics'][_0x295937(0x4ec)](_0x390aa8=>{const _0x4292e5=_0x295937,_0x23a1e6='topic_'+Date[_0x4292e5(0x8fb)]()+Math['random']()[_0x4292e5(0x241)](0x24)[_0x4292e5(0x9a5)](0x2,0x9);_0x9f3721[_0x23a1e6]={'sara':_0x410e96['sara'],'mainTopic':_0xd8d2dc[_0x4292e5(0x6f3)],'subTopic':_0x390aa8,'status':_0x4292e5(0x97b),'lessonContent':null};});});});try{const _0x4bde83=collection(db,_0xc65768(0x878)+appId+'/public/data/blueprintProjects');await addDoc(_0x4bde83,{'projectName':_0x469b93,'gradeLevel':_0x79dd44,'topics':_0x9f3721,'createdAt':serverTimestamp()}),showMessage(_0xc65768(0xaf9)+_0x469b93+_0xc65768(0x85a)),document[_0xc65768(0x7db)]('manual-blueprint-modal')[_0xc65768(0x1fa)][_0xc65768(0x36a)](_0xc65768(0x997));}catch(_0x261dc6){console[_0xc65768(0xb89)](_0xc65768(0x343),_0x261dc6),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function showPodiumView(_0x244132,_0x23817e='live-race'){const _0x142ac0=_0x49918e,_0xdd8ea2=Object[_0x142ac0(0xa7e)](_0x244132)[_0x142ac0(0x251)](([_0x8dc4f5,_0x2733a1])=>({'name':_0x8dc4f5,'score':_0x2733a1[_0x142ac0(0x967)]||0x0,'badges':_0x2733a1[_0x142ac0(0xbc0)]||[],'hasPerfectScoreBonus':_0x2733a1[_0x142ac0(0x248)]||![]}));_0xdd8ea2[_0x142ac0(0x236)]((_0x18aa65,_0xa0b838)=>{const _0x4ff9b9=_0x142ac0,_0x38e234=_0xa0b838[_0x4ff9b9(0x967)]-_0x18aa65['score'];if(_0x38e234!==0x0)return _0x38e234;return(_0xa0b838[_0x4ff9b9(0xbc0)][_0x4ff9b9(0xaed)]||0x0)-(_0x18aa65[_0x4ff9b9(0xbc0)][_0x4ff9b9(0xaed)]||0x0);});const _0x591ae4=_0xfa1ff2=>{const _0x2d91f0=_0x142ac0;if(!_0xfa1ff2||_0xfa1ff2[_0x2d91f0(0xaed)]===0x0)return'';const _0xa8a516={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0xfa1ff2['map'](_0x4ff00e=>_0xa8a516[_0x4ff00e]||'')['join']('')+'</div>';},_0x2113be=_0xdd8ea2[_0x142ac0(0x8e0)](0x3),_0x9a76b3=_0x2113be['length']>0x0?_0x142ac0(0x407)+_0x2113be[_0x142ac0(0x251)]((_0x1685f8,_0x1a9ee3)=>{const _0x4850ce=_0x142ac0,_0x209d51=_0x1685f8[_0x4850ce(0x248)]?_0x4850ce(0x9ec):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x1a9ee3+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1685f8[_0x4850ce(0x447)]+_0x4850ce(0x28e)+_0x1685f8[_0x4850ce(0x967)]+_0x4850ce(0xb0c)+_0x209d51+_0x4850ce(0x3d1);})[_0x142ac0(0x7b8)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x3da21e=_0x142ac0(0x5ed)+(_0xdd8ea2[0x1]?_0x142ac0(0x77e)+_0xdd8ea2[0x1]['name']+_0x142ac0(0x5c6)+_0x591ae4(_0xdd8ea2[0x1][_0x142ac0(0xbc0)])+'<p\x20class=\x22text-xl\x22>'+_0xdd8ea2[0x1]['score']+_0x142ac0(0xb0c)+(_0xdd8ea2[0x1][_0x142ac0(0x248)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+'</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':'<div\x20class=\x22flex-1\x22></div>')+_0x142ac0(0x94b)+(_0xdd8ea2[0x0]?_0x142ac0(0xa32)+_0xdd8ea2[0x0][_0x142ac0(0x447)]+_0x142ac0(0x5c6)+_0x591ae4(_0xdd8ea2[0x0]['badges'])+_0x142ac0(0xb6c)+_0xdd8ea2[0x0][_0x142ac0(0x967)]+'\x20คะแนน\x20'+(_0xdd8ea2[0x0][_0x142ac0(0x248)]?_0x142ac0(0xb21):'')+_0x142ac0(0x263):_0x142ac0(0x7d1))+_0x142ac0(0x94b)+(_0xdd8ea2[0x2]?_0x142ac0(0x96d)+_0xdd8ea2[0x2]['name']+_0x142ac0(0x5c6)+_0x591ae4(_0xdd8ea2[0x2][_0x142ac0(0xbc0)])+_0x142ac0(0x9d0)+_0xdd8ea2[0x2][_0x142ac0(0x967)]+_0x142ac0(0xb0c)+(_0xdd8ea2[0x2]['hasPerfectScoreBonus']?_0x142ac0(0xb21):'')+'</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':_0x142ac0(0x7d1))+_0x142ac0(0x790)+_0x9a76b3+_0x142ac0(0x46d)+(currentMode==='admin'?_0x142ac0(0x38b):_0x142ac0(0x4c4))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView['innerHTML']=_0x3da21e,currentMode===_0x142ac0(0x2ae)&&document[_0x142ac0(0x7db)](_0x142ac0(0x40e))[_0x142ac0(0xb63)]('click',async()=>{const _0x4e407d=_0x142ac0;let _0x51d89b;_0x23817e==='sync'?_0x51d89b=doc(db,_0x4e407d(0x878)+appId+_0x4e407d(0x881),currentLiveGameId):_0x51d89b=doc(db,'artifacts/'+appId+_0x4e407d(0x426),currentLiveGameId),await deleteDoc(_0x51d89b);});}function renderSyncSummaryView(_0x4d49ee,_0x3159e2,_0x26da6d){const _0x56693a=_0x49918e,_0x3d1d38=Object[_0x56693a(0xbca)](_0x4d49ee[_0x56693a(0x891)]||{}),_0x4d5445=_0x3159e2['questionType']||_0x4d49ee[_0x56693a(0x4b3)][_0x56693a(0x3ee)];let _0x3b66eb=[];_0x4d5445===_0x56693a(0x7c2)?_0x3b66eb=['ใช่\x20/\x20ถูก','ไม่ใช่\x20/\x20ผิด']:_0x3b66eb=_0x3159e2['options']||[];const _0x402ff2=new Array(_0x3b66eb[_0x56693a(0xaed)])['fill'](0x0),_0xf206af={};_0x3b66eb['forEach']((_0xdf94d1,_0x544295)=>{_0xf206af[_0x544295]=[];}),Object[_0x56693a(0xa7e)](_0x4d49ee[_0x56693a(0x891)]||{})['forEach'](([_0x579c58,_0xa1dc90])=>{const _0x2a9d64=_0x56693a;if(_0xa1dc90['status']!==_0x2a9d64(0x31b)&&_0xa1dc90[_0x2a9d64(0x448)]!==undefined&&_0xa1dc90[_0x2a9d64(0x448)]!==null){const _0xa55ba6=_0xa1dc90[_0x2a9d64(0x448)];_0xf206af[_0xa55ba6]!==undefined&&(_0xf206af[_0xa55ba6][_0x2a9d64(0x9f3)](_0x579c58),_0x402ff2[_0xa55ba6]++);}});let _0x377885='';_0x26da6d?_0x377885=_0x56693a(0x63f):_0x377885=_0x56693a(0x9cb);const _0x1d5961=_0x56693a(0xc1a)+_0x3159e2[_0x56693a(0xa04)]+_0x56693a(0x378)+_0x402ff2['map']((_0x5373f3,_0x576214)=>{const _0x51aba5=_0x56693a,_0x2dce7d=_0xf206af[_0x576214]['length']>0x0?_0xf206af[_0x576214][_0x51aba5(0x7b8)](',\x20'):_0x51aba5(0x377),_0x1d578a=_0x51aba5(0x4b2);return _0x51aba5(0x4d5)+_0x5373f3+_0x51aba5(0x41b)+_0x1d578a+_0x51aba5(0xb36)+_0x576214+_0x51aba5(0xc02)+_0x3b66eb[_0x576214]+_0x51aba5(0x62e)+_0x576214+_0x51aba5(0x30d)+_0x2dce7d+_0x51aba5(0x296);})[_0x56693a(0x7b8)]('')+_0x56693a(0x851)+_0x377885+_0x56693a(0xaf3);liveGameView[_0x56693a(0x848)]=_0x1d5961;if(window[_0x56693a(0xaca)])MathJax['typesetPromise']();_0x26da6d&&(document[_0x56693a(0x7db)](_0x56693a(0x250))['addEventListener'](_0x56693a(0x32d),async()=>{const _0x56dd01=_0x56693a,_0xed9d6a=doc(db,_0x56dd01(0x878)+appId+_0x56dd01(0x881),currentLiveGameId);await updateDoc(_0xed9d6a,{'status':_0x56dd01(0x230)});}),document[_0x56693a(0x7db)](_0x56693a(0xb52))[_0x56693a(0x39c)]=()=>{openScratchpad(_0x3159e2,_0x3b66eb);});}async function handleShowStudentRankings(){const _0x356284=_0x49918e,_0x228198=document[_0x356284(0xa3e)]('#student-quiz-leaderboard-content\x20thead');_0x228198&&(_0x228198['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x1b9e87=document[_0x356284(0xa3e)](_0x356284(0x77a));_0x1b9e87&&(_0x1b9e87[_0x356284(0x848)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x30dd70=document['getElementById'](_0x356284(0x8c8));_0x30dd70[_0x356284(0x1fa)][_0x356284(0x428)](_0x356284(0x997)),document[_0x356284(0x7db)](_0x356284(0xb8d))['onclick']=()=>_0x30dd70[_0x356284(0x1fa)]['add'](_0x356284(0x997));const _0x42b2f4=document['getElementById']('student-quiz-leaderboard-tab'),_0x2b341a=document[_0x356284(0x7db)](_0x356284(0x87c)),_0x124694=document['getElementById'](_0x356284(0x788)),_0x517ccc=document[_0x356284(0x7db)]('student-project-leaderboard-content');_0x42b2f4[_0x356284(0x39c)]=()=>{const _0x2be5bb=_0x356284;_0x42b2f4['classList'][_0x2be5bb(0x36a)]('active'),_0x2b341a[_0x2be5bb(0x1fa)][_0x2be5bb(0x428)]('active'),_0x124694['classList'][_0x2be5bb(0x428)](_0x2be5bb(0x997)),_0x517ccc[_0x2be5bb(0x1fa)]['add'](_0x2be5bb(0x997));},_0x2b341a['onclick']=()=>{const _0x6f644=_0x356284;_0x2b341a[_0x6f644(0x1fa)]['add'](_0x6f644(0x9d3)),_0x42b2f4[_0x6f644(0x1fa)][_0x6f644(0x428)](_0x6f644(0x9d3)),_0x517ccc['classList']['remove'](_0x6f644(0x997)),_0x124694[_0x6f644(0x1fa)]['add'](_0x6f644(0x997));};try{const _0x2777ee=collection(db,_0x356284(0x878)+appId+_0x356284(0x350)+currentQuizData['id']+'/submissions'),_0x4effa9=await getDocs(_0x2777ee),_0x2a0914=_0x4effa9[_0x356284(0x689)]['map'](_0x3087a2=>_0x3087a2[_0x356284(0x999)]());renderQuizLeaderboard(_0x2a0914,currentQuizData,_0x356284(0x736));const _0x2d2eec=collection(db,'artifacts/'+appId+_0x356284(0x311)+currentQuizData[_0x356284(0x33a)]+_0x356284(0x321)),_0x2ab99d=await getDocs(_0x2d2eec),_0x2a5a03=_0x2ab99d[_0x356284(0x689)]['map'](_0x3acdfa=>_0x3acdfa[_0x356284(0x999)]());renderLeaderboard(_0x2a5a03,_0x356284(0x508));}catch(_0x181a3b){console[_0x356284(0xb89)](_0x356284(0x8e7),_0x181a3b),showMessage(_0x356284(0x421));}}async function handleSaveToBank(_0x4c55e2){const _0x2a29b4=_0x49918e,_0x4bdb1c=_0x4c55e2[_0x2a29b4(0x2bd)],_0x2781dc=_0x4bdb1c[_0x2a29b4(0x297)][_0x2a29b4(0x9bd)],_0x27d7ac=currentQuizData[_0x2a29b4(0x29f)][_0x2781dc];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x298ed1={..._0x27d7ac,'originalTopic':currentQuizData[_0x2a29b4(0x818)],'savedAt':serverTimestamp()},_0x5e27ec=collection(db,_0x2a29b4(0x878)+appId+'/users/'+userId+'/questionBank');await addDoc(_0x5e27ec,_0x298ed1),showMessage(_0x2a29b4(0x304)),_0x4bdb1c['classList'][_0x2a29b4(0x428)]('text-purple-600'),_0x4bdb1c['classList'][_0x2a29b4(0x36a)](_0x2a29b4(0x52e)),_0x4bdb1c[_0x2a29b4(0x534)]=!![];}catch(_0x28b9e8){console[_0x2a29b4(0xb89)](_0x2a29b4(0xba9),_0x28b9e8),showMessage(_0x2a29b4(0xabc));}}function listenForStarredQuizzes(){const _0x118fbd=_0x49918e;if(!userId)return;const _0x12616d=collection(db,_0x118fbd(0x878)+appId+_0x118fbd(0x1ed)),_0x34864a=query(_0x12616d,where(_0x118fbd(0x9a9),'==',!![]));onSnapshot(_0x34864a,_0x17ba8c=>{const _0x5d0065=_0x118fbd;starredQuizzes=_0x17ba8c[_0x5d0065(0x689)][_0x5d0065(0x251)](_0xc8249c=>({'id':_0xc8249c['id'],..._0xc8249c[_0x5d0065(0x999)]()})),currentProjectId===_0x5d0065(0x8e9)?renderQuizzes():renderProjects();},_0x41ce13=>{const _0x3c8768=_0x118fbd;console['error'](_0x3c8768(0xc23),_0x41ce13);});}function exportQuizAsWorksheetPDF(){const _0x1cc2d7=_0x49918e;if(!currentQuizData||!currentQuizData[_0x1cc2d7(0x29f)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x47c12d=currentQuizData,_0x3336e3=window[_0x1cc2d7(0x8c9)]('',_0x1cc2d7(0x724)),_0x5499e2=_0x5242a2=>String['fromCharCode'](0x41+_0x5242a2),_0x1c8c6f=_0x1cc2d7(0x9d6)+_0x47c12d['topic']+_0x1cc2d7(0xa57)+_0x47c12d[_0x1cc2d7(0x818)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x47c12d[_0x1cc2d7(0x29f)][_0x1cc2d7(0x251)]((_0x161168,_0x4ace7a)=>{const _0x573d94=_0x1cc2d7;let _0x558595='';const _0x542c4d=_0x161168['questionType']||_0x47c12d[_0x573d94(0x3ee)];switch(_0x542c4d){case _0x573d94(0x286):case _0x573d94(0x54d):_0x558595=_0x573d94(0x3be)+_0x161168[_0x573d94(0xa27)][_0x573d94(0x251)]((_0x171133,_0x1255cf)=>_0x573d94(0x399)+_0x5499e2(_0x1255cf)+'.\x20'+_0x171133+_0x573d94(0x945))[_0x573d94(0x7b8)](_0x573d94(0x3fa))+'</div>';break;case _0x573d94(0x7c2):_0x558595=_0x573d94(0x488);break;default:_0x558595='<div\x20class=\x22answer-space\x22></div>';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x4ace7a+0x1)+_0x573d94(0x6d7)+(_0x161168['stem']||_0x161168[_0x573d94(0xa04)])+_0x573d94(0x860)+(_0x161168[_0x573d94(0x71a)]?_0x573d94(0xc40)+_0x161168[_0x573d94(0x71a)]+_0x573d94(0x640):'')+_0x573d94(0x3d4)+_0x558595+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1cc2d7(0x7b8)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3336e3[_0x1cc2d7(0x83c)][_0x1cc2d7(0xa42)](_0x1c8c6f),_0x3336e3[_0x1cc2d7(0x83c)][_0x1cc2d7(0xb86)](),_0x3336e3['onload']=function(){setTimeout(()=>{_0x3336e3['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x43b1c0=_0x49918e;if(!currentQuizData||!currentQuizData[_0x43b1c0(0x29f)]){showMessage(_0x43b1c0(0x7e7));return;}const _0xdacc3c=currentQuizData,_0xaed9a4=window['open']('',_0x43b1c0(0x724)),_0xb150b0=_0x3a4d6e=>String[_0x43b1c0(0xa03)](0x41+_0x3a4d6e),_0xb2929='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0xdacc3c[_0x43b1c0(0x818)]+_0x43b1c0(0x7d5)+_0xdacc3c[_0x43b1c0(0x29f)][_0x43b1c0(0x251)]((_0x568935,_0xd3ba40)=>{const _0x461efe=_0x43b1c0;let _0x273d4f='';const _0x2c6106=_0x568935[_0x461efe(0x7e0)]||_0xdacc3c[_0x461efe(0x3ee)];switch(_0x2c6106){case _0x461efe(0x286):case _0x461efe(0x54d):_0x273d4f=_0x461efe(0xac1)+_0x568935[_0x461efe(0xa27)]['map']((_0x5a6e40,_0x5a555e)=>_0x461efe(0x934)+_0xb150b0(_0x5a555e)+'.\x20'+_0x5a6e40+_0x461efe(0xadd))[_0x461efe(0x7b8)](_0x461efe(0x3fa))+_0x461efe(0x90a);break;case'true_false':_0x273d4f=_0x461efe(0xb1e);break;default:_0x273d4f='';break;}return _0x461efe(0x628)+_0xdacc3c[_0x461efe(0x818)]+_0x461efe(0x3a5)+(_0xd3ba40+0x1)+_0x461efe(0x5a4)+(_0x568935['stem']||_0x568935[_0x461efe(0xa04)])+_0x461efe(0x860)+(_0x568935[_0x461efe(0x71a)]?'<div\x20class=\x22my-6\x22>'+_0x568935[_0x461efe(0x71a)]+_0x461efe(0x640):'')+_0x461efe(0x3d4)+_0x273d4f+_0x461efe(0xa4d);})[_0x43b1c0(0x7b8)]('')+_0x43b1c0(0xbfa);_0xaed9a4[_0x43b1c0(0x83c)][_0x43b1c0(0xa42)](_0xb2929),_0xaed9a4[_0x43b1c0(0x83c)][_0x43b1c0(0xb86)](),_0xaed9a4['onload']=function(){setTimeout(()=>{const _0x5a0705=_0x2d54;_0xaed9a4[_0x5a0705(0xa2a)]();},0x5dc);};}async function handleToggleStarQuiz(_0x345e43){const _0x213def=_0x49918e,_0x1da2f2=doc(db,'artifacts/'+appId+_0x213def(0x1ed),_0x345e43);try{const _0x4f1781=await getDoc(_0x1da2f2);if(_0x4f1781[_0x213def(0xbeb)]()){const _0x2e3583=_0x4f1781[_0x213def(0x999)]()['isStarred']||![];await updateDoc(_0x1da2f2,{'isStarred':!_0x2e3583});}}catch(_0x4cfad8){console[_0x213def(0xb89)]('Error\x20toggling\x20star\x20status:',_0x4cfad8),showMessage(_0x213def(0x5e0));}}async function displayQuestionBank(){const _0x10ae22=_0x49918e,_0x4432e2=document[_0x10ae22(0x7db)](_0x10ae22(0x361));_0x4432e2[_0x10ae22(0x848)]=_0x10ae22(0x69d);try{const _0x4492bf=collection(db,_0x10ae22(0x878)+appId+_0x10ae22(0x9c1)+userId+_0x10ae22(0x7c7)),_0x4e683d=query(_0x4492bf),_0x625960=await getDocs(_0x4e683d);if(_0x625960[_0x10ae22(0xa41)]){_0x4432e2[_0x10ae22(0x848)]=_0x10ae22(0x641);return;}let _0x3f7fde=_0x625960[_0x10ae22(0x689)][_0x10ae22(0x251)](_0x5cc463=>{const _0x341462=_0x10ae22,_0x40705b=_0x5cc463[_0x341462(0x999)](),_0x1728ac=_0x5cc463['id'];return _0x341462(0x9aa)+JSON[_0x341462(0x362)](_0x40705b)+_0x341462(0x762)+(_0x40705b[_0x341462(0xa04)]||_0x40705b[_0x341462(0xc08)])+_0x341462(0x584)+_0x40705b['originalTopic']+_0x341462(0x215);})[_0x10ae22(0x7b8)]('');_0x4432e2[_0x10ae22(0x848)]=_0x10ae22(0x745)+_0x3f7fde+_0x10ae22(0xa54),document['getElementById']('create-from-bank-btn')[_0x10ae22(0xb63)]('click',createQuizFromBank);}catch(_0x39e41e){console[_0x10ae22(0xb89)](_0x10ae22(0x2f3),_0x39e41e),_0x4432e2[_0x10ae22(0x848)]=_0x10ae22(0x2ec);}}async function handleExportLessonToPDF(){const _0x3daf24=_0x49918e,_0x32bb27=document['getElementById'](_0x3daf24(0x220)),_0x5bccf1=document['getElementById'](_0x3daf24(0xa2e))[_0x3daf24(0x467)]||_0x3daf24(0xbbd);if(!_0x32bb27){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x440900=window[_0x3daf24(0x8c9)]('',_0x3daf24(0x724)),_0x1dfddc=_0x3daf24(0x8b4)+_0x5bccf1+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>'+_0x5bccf1+_0x3daf24(0xa12)+_0x32bb27[_0x3daf24(0x848)]+_0x3daf24(0xc24);_0x440900[_0x3daf24(0x83c)][_0x3daf24(0xa42)](_0x1dfddc),_0x440900[_0x3daf24(0x83c)]['close'](),_0x440900[_0x3daf24(0x6cb)]=function(){setTimeout(()=>{const _0x1aae35=_0x2d54;_0x440900[_0x1aae35(0xa2a)]();},0x7d0);};}function showAdminLiveQuestionView(_0x38997a,_0x35a9cd,_0x36375d){const _0x46cb67=_0x49918e,_0x5b98cb=_0x38997a[_0x46cb67(0x7e0)]||currentQuizData[_0x46cb67(0x3ee)];let _0x59417c='';if(_0x5b98cb==='multiple_choice'||_0x5b98cb===_0x46cb67(0x7c2)){const _0x44a7a7=_0x5b98cb===_0x46cb67(0x7c2)?['ใช่',_0x46cb67(0x53d)]:_0x38997a[_0x46cb67(0xa27)],_0x54ade0=_0x5b98cb===_0x46cb67(0x7c2)?_0x38997a['correctAnswer']?0x0:0x1:_0x38997a[_0x46cb67(0x6e8)];_0x59417c=_0x44a7a7[_0x46cb67(0x251)]((_0x46f326,_0x55edb9)=>_0x46cb67(0xa0c)+(_0x55edb9===_0x54ade0)+_0x46cb67(0x3b6)+_0x46f326+_0x46cb67(0xa97))[_0x46cb67(0x7b8)]('');}else{if(_0x5b98cb===_0x46cb67(0x799)){const _0x9013d2=_0x38997a[_0x46cb67(0x85d)]||[];_0x59417c=_0x9013d2['map'](_0x12e302=>_0x46cb67(0xa0c)+(_0x12e302===_0x38997a[_0x46cb67(0xa77)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12e302+_0x46cb67(0xa97))[_0x46cb67(0x7b8)]('');}}const _0x53b096=_0x38997a['stem']||_0x38997a['questionText'],_0x47826b=_0x46cb67(0xbd9)+(_0x35a9cd+0x1)+_0x46cb67(0x814)+_0x36375d+_0x46cb67(0x90c)+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x53b096+_0x46cb67(0x809)+_0x59417c+_0x46cb67(0x4a4);liveGameView[_0x46cb67(0x848)]=_0x47826b,window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x46cb67(0x26d)]([liveGameView]),document[_0x46cb67(0x7db)](_0x46cb67(0x31a))['addEventListener'](_0x46cb67(0x32d),()=>revealAnswerForAdmin(_0x35a9cd,_0x36375d)),document[_0x46cb67(0x7db)](_0x46cb67(0x24e))[_0x46cb67(0xb63)](_0x46cb67(0x32d),async()=>{const _0x250ab9=_0x46cb67;showConfirmation(_0x250ab9(0x37e),async()=>{const _0x35b0b9=_0x250ab9,_0x29ec65=doc(db,_0x35b0b9(0x878)+appId+_0x35b0b9(0x426),currentLiveGameId);await updateDoc(_0x29ec65,{'status':_0x35b0b9(0x738)});});}),document['getElementById'](_0x46cb67(0xa64))[_0x46cb67(0xb63)](_0x46cb67(0x32d),()=>{const _0x341ac6=_0x46cb67;document['getElementById'](_0x341ac6(0x5bd))['classList'][_0x341ac6(0x2c3)](_0x341ac6(0x997));});}function promptForProjectBeforeGenerating(_0x570b59){const _0x24518c=_0x49918e,_0xe71cea=document[_0x24518c(0x7db)](_0x24518c(0x8fd)),_0x566d32=document[_0x24518c(0x7db)](_0x24518c(0x2f9)),_0x5dc153=_0xe71cea[_0x24518c(0xa3e)]('h3'),_0x57456b=document['getElementById']('confirm-move-quiz-btn'),_0x2dff5b=document['getElementById'](_0x24518c(0x9f8));_0x5dc153[_0x24518c(0x467)]=_0x24518c(0xa2c),_0x57456b['textContent']=_0x24518c(0x91f),_0x57456b[_0x24518c(0x534)]=!![];allProjects[_0x24518c(0xaed)]===0x0?_0x566d32[_0x24518c(0x848)]=_0x24518c(0x91c):(_0x566d32['innerHTML']=_0x24518c(0x352)+allProjects[_0x24518c(0x251)](_0x4e95e3=>_0x24518c(0x397)+_0x4e95e3['id']+'\x22>'+_0x4e95e3['projectName']+_0x24518c(0x266))[_0x24518c(0x7b8)](''),_0x57456b[_0x24518c(0x534)]=![]);_0xe71cea[_0x24518c(0x1fa)][_0x24518c(0x428)](_0x24518c(0x997));const _0x354820=async()=>{const _0x9892e0=_0x24518c,_0x2e07d5=_0x566d32[_0x9892e0(0x947)];if(!_0x2e07d5){showMessage(_0x9892e0(0x446));return;}_0xe71cea['classList'][_0x9892e0(0x36a)](_0x9892e0(0x997)),await loadProjectDetails(_0x2e07d5),showView(_0x9892e0(0xb26)),handleGenerateQuizFromBlueprintTopic(_0x570b59),_0x5da68a();},_0x5da68a=()=>{const _0x53a94a=_0x24518c;_0x5dc153[_0x53a94a(0x467)]=_0x53a94a(0x85e),_0x57456b[_0x53a94a(0x467)]='ย้าย',_0x57456b[_0x53a94a(0xb7a)](_0x53a94a(0x32d),_0x354820),_0x2dff5b['removeEventListener'](_0x53a94a(0x32d),_0x5da68a),_0x57456b[_0x53a94a(0xb63)](_0x53a94a(0x32d),confirmMoveQuiz);};_0x57456b['removeEventListener'](_0x24518c(0x32d),confirmMoveQuiz),_0x57456b['addEventListener'](_0x24518c(0x32d),_0x354820),_0x2dff5b[_0x24518c(0xb63)](_0x24518c(0x32d),_0x5da68a);}function showStudentLiveQuestionView(_0x4a8529,_0xcd6b74,_0xb42bdb){const _0x4b2330=_0x49918e,_0x29b204=_0x4a8529[_0x4b2330(0x7e0)]||currentQuizData[_0x4b2330(0x3ee)];let _0x16b5e0='';if(_0x29b204===_0x4b2330(0x286)||_0x29b204===_0x4b2330(0x7c2)){const _0x5f13a9=_0x29b204==='true_false'?[_0x4b2330(0x633),_0x4b2330(0x53d)]:_0x4a8529[_0x4b2330(0xa27)];_0x16b5e0=_0x5f13a9[_0x4b2330(0x251)]((_0x5f0b91,_0x47f163)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x47f163+_0x4b2330(0xbd2)+_0x5f0b91+_0x4b2330(0xb66))[_0x4b2330(0x7b8)]('');}else{if(_0x29b204===_0x4b2330(0x799)){const _0x5a66f5=_0x4a8529['allResponses']||[];_0x16b5e0=_0x5a66f5[_0x4b2330(0x251)]((_0x2e02ca,_0x4f664c)=>_0x4b2330(0x2bb)+_0x4f664c+_0x4b2330(0xbd2)+_0x2e02ca+_0x4b2330(0xb66))[_0x4b2330(0x7b8)]('');}else _0x29b204===_0x4b2330(0x6de)&&(_0x16b5e0=_0x4b2330(0xb81));}const _0x12bdd2=_0x4a8529[_0x4b2330(0xc08)]||_0x4a8529['questionText'],_0x10fcb1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0xcd6b74+0x1)+_0x4b2330(0x814)+_0xb42bdb+_0x4b2330(0x2ef)+_0x12bdd2+_0x4b2330(0x4d4)+_0x16b5e0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x10fcb1;window[_0x4b2330(0xaca)]&&MathJax[_0x4b2330(0x26d)]&&MathJax[_0x4b2330(0x26d)]([liveGameView]);const _0x3d4f10=document['getElementById'](_0x4b2330(0x84b));_0x3d4f10&&_0x3d4f10[_0x4b2330(0xb63)]('click',()=>{const _0x229506=_0x4b2330,_0x516cda=document[_0x229506(0x7db)](_0x229506(0x93f))[_0x229506(0x947)];handleLiveAnswer(_0x516cda,_0x4a8529);}),document['getElementById'](_0x4b2330(0x66b))[_0x4b2330(0xb63)](_0x4b2330(0x32d),_0xfd357f=>{const _0x4dde04=_0x4b2330,_0x1d8cd4=_0xfd357f[_0x4dde04(0x81b)][_0x4dde04(0x984)]('.live-answer-btn');if(_0x1d8cd4){const _0x1ef33b=parseInt(_0x1d8cd4[_0x4dde04(0x297)][_0x4dde04(0x9bd)]);handleLiveAnswer(_0x1ef33b,_0x4a8529);}});}async function handleLiveAnswer(_0x58d47d,_0x35e3f5){const _0x446695=_0x49918e;document[_0x446695(0x3e7)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x446695(0x4ec)](_0x53b9ea=>_0x53b9ea['disabled']=!![]);const _0x34b938=_0x35e3f5[_0x446695(0x7e0)]||currentQuizData[_0x446695(0x3ee)];let _0x25af57=![],_0x1d9184=_0x58d47d;if(_0x34b938===_0x446695(0x6de)){const _0x153ae7=(_0x58d47d||'')['toString']();_0x25af57=await gradeShortAnswer(_0x153ae7,_0x35e3f5);}else{if(_0x34b938===_0x446695(0x286))_0x25af57=_0x58d47d===_0x35e3f5[_0x446695(0x6e8)];else{if(_0x34b938===_0x446695(0x7c2)){const _0x4265c8=_0x35e3f5[_0x446695(0x912)];_0x25af57=_0x58d47d===0x0&&_0x4265c8||_0x58d47d===0x1&&!_0x4265c8;}else{if(_0x34b938===_0x446695(0x799)){const _0x226bca=_0x35e3f5[_0x446695(0x85d)][_0x58d47d];_0x25af57=_0x226bca===_0x35e3f5['correctResponse'],_0x1d9184=_0x226bca;}}}}const _0x1d3c32=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x33992e={};_0x33992e['players.'+currentStudentName+_0x446695(0x4ff)]=!![],_0x33992e[_0x446695(0x2fe)+currentStudentName+_0x446695(0x33e)]=_0x25af57,_0x33992e['players.'+currentStudentName+_0x446695(0x5a2)]=_0x34b938===_0x446695(0x6de)||_0x34b938===_0x446695(0x799)?null:_0x58d47d,_0x33992e[_0x446695(0x2fe)+currentStudentName+_0x446695(0x516)]=_0x1d9184,_0x33992e[_0x446695(0x2fe)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x33992e['players.'+currentStudentName+_0x446695(0x9c0)]=![],await updateDoc(_0x1d3c32,_0x33992e),liveGameView[_0x446695(0x848)]=_0x446695(0x6f4);}function showAdminSummaryView(_0x4cdcff,_0x9e3fa3){const _0x583370=_0x49918e,_0x36227f=Object[_0x583370(0xbca)](_0x4cdcff['players']||{}),_0x47b361=_0x9e3fa3[_0x583370(0x7e0)]||currentQuizData[_0x583370(0x3ee)],_0xb5ac8=_0x47b361===_0x583370(0x7c2)?['ใช่',_0x583370(0x53d)]:_0x9e3fa3[_0x583370(0xa27)]||_0x9e3fa3[_0x583370(0x85d)]||[],_0x2f4763={},_0x2cc05f=new Array(_0xb5ac8[_0x583370(0xaed)])['fill'](0x0);_0xb5ac8[_0x583370(0x4ec)]((_0x408e6e,_0x3c0cef)=>{_0x2f4763[_0x3c0cef]=[];}),Object[_0x583370(0xa7e)](_0x4cdcff['players']||{})[_0x583370(0x4ec)](([_0x372a13,_0x1c0f98])=>{const _0x217784=_0x583370;if(_0x1c0f98[_0x217784(0xbc2)]==='active'&&_0x1c0f98[_0x217784(0x448)]!==undefined){const _0x50d661=_0x1c0f98['lastAnswerIndex'];_0x2f4763[_0x50d661]&&(_0x2f4763[_0x50d661][_0x217784(0x9f3)](_0x372a13),_0x2cc05f[_0x50d661]++);}});const _0x326ad1=Math[_0x583370(0x50b)](..._0x2cc05f,0x1),_0x2a83e5=_0x583370(0x37d)+(_0x9e3fa3[_0x583370(0xc08)]||_0x9e3fa3[_0x583370(0xa04)])+_0x583370(0x289)+_0x2cc05f[_0x583370(0x251)]((_0xffb197,_0xfc9cfb)=>{const _0x3c3a92=_0x583370,_0x3b4df0=_0x2f4763[_0xfc9cfb][_0x3c3a92(0xaed)]>0x0?_0x2f4763[_0xfc9cfb][_0x3c3a92(0x7b8)](',\x20'):_0x3c3a92(0x377);let _0x54114b=![];if(_0x47b361===_0x3c3a92(0x286))_0x54114b=_0xfc9cfb===_0x9e3fa3['correctAnswerIndex'];else{if(_0x47b361===_0x3c3a92(0x7c2)){const _0x480bda=_0x9e3fa3[_0x3c3a92(0x912)];_0x54114b=_0x480bda&&_0xfc9cfb===0x0||!_0x480bda&&_0xfc9cfb===0x1;}else _0x47b361==='matching_item'&&(_0x54114b=_0xb5ac8[_0xfc9cfb]===_0x9e3fa3['correctResponse']);}const _0x34078d=_0x54114b?_0x3c3a92(0x837):_0x3c3a92(0x9c8);return _0x3c3a92(0x855)+_0xffb197+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x34078d+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0xfc9cfb+_0x3c3a92(0x5a3)+_0xb5ac8[_0xfc9cfb]+_0x3c3a92(0x62e)+_0xfc9cfb+_0x3c3a92(0x30d)+_0x3b4df0+_0x3c3a92(0x296);})[_0x583370(0x7b8)]('')+_0x583370(0x34d);liveGameView[_0x583370(0x848)]=_0x2a83e5;if(window[_0x583370(0xaca)])MathJax[_0x583370(0x26d)]();document[_0x583370(0x7db)]('show-leaderboard-btn')[_0x583370(0xb63)](_0x583370(0x32d),async()=>{const _0x248970=_0x583370,_0x30ebee=doc(db,_0x248970(0x878)+appId+_0x248970(0x426),currentLiveGameId);await updateDoc(_0x30ebee,{'questionStatus':_0x248970(0xbcd)});}),document['getElementById']('open-scratchpad-btn')[_0x583370(0xb63)](_0x583370(0x32d),()=>{openScratchpad(_0x9e3fa3,_0xb5ac8);});}function showPlayerSummaryView(_0x4034e8,_0x302996){const _0x1fca33=_0x49918e,_0x879230=Object[_0x1fca33(0xbca)](_0x4034e8['players']||{}),_0x3c88f0=_0x4034e8['players'][_0x302996],_0x29d904=_0x879230[_0x1fca33(0xbf0)](_0x38fa3a=>_0x38fa3a[_0x1fca33(0xbc2)]===_0x1fca33(0x9d3))[_0x1fca33(0x236)]((_0x434e8e,_0x21d104)=>_0x21d104['score']-_0x434e8e['score']),_0x23d2d5=_0x29d904['findIndex'](_0x453d28=>_0x453d28===_0x3c88f0)+0x1,_0x4a9056=_0x3c88f0['lastAnswerCorrect']?_0x1fca33(0x3f0):_0x1fca33(0x46e),_0xa018c2=_0x3c88f0[_0x1fca33(0x30c)]?'bg-green-500':'bg-red-500',_0x525c3c=_0x3c88f0['pointsLastQuestion']||0x0,_0x16eb58=_0x1fca33(0x3b4),_0x1c9dc1=_0x1fca33(0xa70)+_0x16eb58+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0xa018c2+_0x1fca33(0x830)+_0x4a9056+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x525c3c+_0x1fca33(0x56f)+(_0x23d2d5>0x0?_0x23d2d5:'-')+_0x1fca33(0x55b);liveGameView[_0x1fca33(0x848)]=_0x1c9dc1;}function createQuizFromBank(){const _0xfa72db=_0x49918e,_0x1095ea=document['querySelectorAll'](_0xfa72db(0x4cc));if(_0x1095ea['length']===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x540c2e=[];_0x1095ea[_0xfa72db(0x4ec)](_0x4ed180=>{const _0xefe646=_0xfa72db;_0x540c2e[_0xefe646(0x9f3)](JSON[_0xefe646(0x982)](_0x4ed180['value']));});const _0x5b2481={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x540c2e};displayGeneratedQuiz(_0x5b2481);}function showAdminLobbyView(_0xa6b7cd,_0x484661){const _0x44d2c5=_0x49918e;showView(_0x44d2c5(0x477));const _0x36be0c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x484661+_0x44d2c5(0x75f)+_0xa6b7cd+_0x44d2c5(0x695);liveGameView[_0x44d2c5(0x848)]=_0x36be0c,document[_0x44d2c5(0x7db)](_0x44d2c5(0x858))[_0x44d2c5(0xb63)](_0x44d2c5(0x32d),async()=>{const _0x333c80=_0x44d2c5;if(!currentQuizData||!currentQuizData[_0x333c80(0x29f)]||currentQuizData['questions']['length']===0x0){showMessage(_0x333c80(0x5c1));return;}try{const _0x22acbc=doc(db,_0x333c80(0x878)+appId+_0x333c80(0x426),currentLiveGameId);await updateDoc(_0x22acbc,{'status':_0x333c80(0xbe1),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1689bd=currentQuizData[_0x333c80(0x29f)][0x0],_0x44b8ae=currentQuizData[_0x333c80(0x29f)][_0x333c80(0xaed)];showAdminLiveQuestionView(_0x1689bd,0x0,_0x44b8ae);}catch(_0x2e35cf){console['error']('Error\x20starting\x20game:',_0x2e35cf),showMessage(_0x333c80(0xa43));}});}async function openGlobalLiveModal(){const _0x5d2252=_0x49918e;if(allQuizzesGlobal[_0x5d2252(0xaed)]===0x0){const _0x1e2ef7=await getDocs(collection(db,_0x5d2252(0x878)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x1e2ef7['docs'][_0x5d2252(0x251)](_0x52aeb0=>({'id':_0x52aeb0['id'],..._0x52aeb0[_0x5d2252(0x999)]()}));}renderGlobalQuizList(''),document[_0x5d2252(0x7db)](_0x5d2252(0x9be))['classList'][_0x5d2252(0x428)]('hidden');}async function openQuizBankModal(){const _0x94eca1=_0x49918e;if(allQuizzesGlobal[_0x94eca1(0xaed)]===0x0){const _0x461908=await getDocs(collection(db,_0x94eca1(0x878)+appId+_0x94eca1(0x1ed)));allQuizzesGlobal=_0x461908[_0x94eca1(0x689)]['map'](_0x111dab=>({'id':_0x111dab['id'],..._0x111dab[_0x94eca1(0x999)]()}));}renderQuizBankList(''),document[_0x94eca1(0x7db)](_0x94eca1(0x5e6))[_0x94eca1(0x1fa)][_0x94eca1(0x428)]('hidden');}function renderQuizBankList(_0x5a647a=''){const _0x32bcba=_0x49918e,_0xe373fe=document[_0x32bcba(0x7db)](_0x32bcba(0x921)),_0x4995e4=_0x5a647a[_0x32bcba(0x8fa)]()[_0x32bcba(0x564)](),_0x52c4ea=allQuizzesGlobal['map'](_0x36dc81=>({..._0x36dc81,'projectName':allProjects['find'](_0x33d027=>_0x33d027['id']===_0x36dc81[_0x32bcba(0x33a)])?.[_0x32bcba(0x257)]||_0x32bcba(0x612)}))[_0x32bcba(0xbf0)](_0x251bee=>(_0x251bee[_0x32bcba(0x818)]||'')['toLowerCase']()['includes'](_0x4995e4)||(_0x251bee['projectName']||'')['toLowerCase']()[_0x32bcba(0x229)](_0x4995e4)||_0x251bee['id'][_0x32bcba(0x241)]()['includes'](_0x4995e4));document[_0x32bcba(0x7db)]('quiz-bank-count')[_0x32bcba(0x467)]='('+_0x52c4ea[_0x32bcba(0xaed)]+_0x32bcba(0x2cd),_0xe373fe[_0x32bcba(0x848)]=_0x52c4ea[_0x32bcba(0xaed)]?_0x52c4ea[_0x32bcba(0x251)](_0x1d0ea1=>_0x32bcba(0x807)+_0x1d0ea1['id']+_0x32bcba(0x6fe)+(_0x1d0ea1[_0x32bcba(0x818)]||_0x32bcba(0x8f7))+_0x32bcba(0x6e4)+(_0x1d0ea1[_0x32bcba(0x29f)]?.[_0x32bcba(0xaed)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x1d0ea1[_0x32bcba(0x257)]+_0x32bcba(0x998)+_0x1d0ea1['id']+_0x32bcba(0x827)+_0x1d0ea1['id']+_0x32bcba(0x922)+_0x1d0ea1['id']+_0x32bcba(0x247)+_0x1d0ea1['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1d0ea1['id']+_0x32bcba(0x387)+_0x1d0ea1['id']+_0x32bcba(0x3ba)+_0x1d0ea1['id']+'\x22\x20data-topic=\x22'+_0x1d0ea1[_0x32bcba(0x818)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x32bcba(0x7b8)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0xe373fe[_0x32bcba(0x3e7)]('.quiz-bank-item')[_0x32bcba(0x4ec)](_0x2c02aa=>{const _0x4d68bc=_0x32bcba;_0x2c02aa[_0x4d68bc(0xb63)](_0x4d68bc(0x32d),()=>{const _0x335a7b=_0x4d68bc,_0x3c1ac7=_0x2c02aa[_0x335a7b(0x297)]['id'];document[_0x335a7b(0x7db)](_0x335a7b(0x5e6))['classList'][_0x335a7b(0x36a)](_0x335a7b(0x997)),showQuizDetailView(_0x3c1ac7);});}),_0xe373fe[_0x32bcba(0x3e7)](_0x32bcba(0x3cc))[_0x32bcba(0x4ec)](_0x21c640=>{const _0x40cfd7=_0x32bcba;_0x21c640['addEventListener'](_0x40cfd7(0x32d),_0x2d0fe1=>{const _0xc4c6f6=_0x40cfd7;_0x2d0fe1[_0xc4c6f6(0x8dc)]();const _0x2e772f=_0x21c640[_0xc4c6f6(0x297)]['id'],_0x6d6811=allQuizzesGlobal[_0xc4c6f6(0xa19)](_0x11f5b1=>_0x11f5b1['id']===_0x2e772f);_0x6d6811?(currentQuizData=_0x6d6811,document[_0xc4c6f6(0x7db)](_0xc4c6f6(0x5e6))[_0xc4c6f6(0x1fa)][_0xc4c6f6(0x36a)]('hidden'),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0xe373fe[_0x32bcba(0x3e7)](_0x32bcba(0xa28))[_0x32bcba(0x4ec)](_0x4a5d3f=>{const _0x4d355d=_0x32bcba;_0x4a5d3f[_0x4d355d(0xb63)](_0x4d355d(0x32d),_0x53f7ac=>{const _0x519eb8=_0x4d355d;_0x53f7ac['stopPropagation']();const _0x4b61b6=_0x4a5d3f[_0x519eb8(0x297)]['id'],_0x9f700c=allQuizzesGlobal['find'](_0x39d9a8=>_0x39d9a8['id']===_0x4b61b6);_0x9f700c?(document[_0x519eb8(0x7db)](_0x519eb8(0x5e6))[_0x519eb8(0x1fa)][_0x519eb8(0x36a)]('hidden'),handleGenerateParallelFromBank(_0x9f700c)):showMessage(_0x519eb8(0x20c));});}),_0xe373fe[_0x32bcba(0x3e7)]('.quiz-bank-present-btn')['forEach'](_0x2c26af=>{const _0x2d3a99=_0x32bcba;_0x2c26af[_0x2d3a99(0xb63)](_0x2d3a99(0x32d),_0x3c0803=>{const _0x2bf6e8=_0x2d3a99;_0x3c0803[_0x2bf6e8(0x8dc)]();const _0x35b774=_0x2c26af[_0x2bf6e8(0x297)]['id'],_0x47d83c=allQuizzesGlobal[_0x2bf6e8(0xa19)](_0xa1c5c4=>_0xa1c5c4['id']===_0x35b774);_0x47d83c?(document[_0x2bf6e8(0x7db)](_0x2bf6e8(0x5e6))[_0x2bf6e8(0x1fa)][_0x2bf6e8(0x36a)](_0x2bf6e8(0x997)),startPresentation(_0x47d83c)):showMessage(_0x2bf6e8(0x20c));});}),_0xe373fe[_0x32bcba(0x3e7)](_0x32bcba(0x441))[_0x32bcba(0x4ec)](_0xc71a35=>{const _0x2e454b=_0x32bcba;_0xc71a35[_0x2e454b(0xb63)](_0x2e454b(0x32d),_0x1fdd46=>{const _0xd9cd43=_0x2e454b;_0x1fdd46[_0xd9cd43(0x8dc)]();const _0x4f25bb=_0xc71a35[_0xd9cd43(0x297)]['id'];document[_0xd9cd43(0x7db)](_0xd9cd43(0x5e6))[_0xd9cd43(0x1fa)][_0xd9cd43(0x36a)](_0xd9cd43(0x997)),handleMoveQuiz(_0x4f25bb);});}),_0xe373fe[_0x32bcba(0x3e7)](_0x32bcba(0x2e2))[_0x32bcba(0x4ec)](_0x52c9f4=>{const _0x54ea13=_0x32bcba;_0x52c9f4[_0x54ea13(0xb63)](_0x54ea13(0x32d),_0x2e4880=>{const _0x45215c=_0x54ea13;_0x2e4880['stopPropagation']();const _0xe8c45f=_0x52c9f4[_0x45215c(0x297)]['id'];document[_0x45215c(0x7db)]('quiz-bank-modal')['classList'][_0x45215c(0x36a)](_0x45215c(0x997)),handleQuizSettings(_0xe8c45f);});}),_0xe373fe[_0x32bcba(0x3e7)](_0x32bcba(0xc32))['forEach'](_0x10b0b5=>{_0x10b0b5['addEventListener']('click',_0xc5974=>{const _0x314464=_0x2d54;_0xc5974[_0x314464(0x8dc)]();const _0x1ed7c5=_0x10b0b5[_0x314464(0x297)]['id'],_0x4e369a=_0x10b0b5[_0x314464(0x297)][_0x314464(0x818)];showConfirmation(_0x314464(0x8f9)+_0x4e369a+_0x314464(0x34f),()=>handleDeleteQuiz(_0x1ed7c5));});});}async function handleCompareResults(_0x21938b,_0x40c7d5){const _0x50be32=_0x49918e,_0x46ad47=document[_0x50be32(0x7db)](_0x50be32(0x916)),_0xba9658=document[_0x50be32(0x7db)](_0x50be32(0x757)),_0xc135e8=document['getElementById'](_0x50be32(0x72c));document['getElementById']('comparison-overall-tab')[_0x50be32(0x1fa)]['add'](_0x50be32(0x9d3)),document[_0x50be32(0x7db)](_0x50be32(0x863))['classList'][_0x50be32(0x428)]('active'),_0xba9658['classList'][_0x50be32(0x428)](_0x50be32(0x997)),_0xc135e8['classList']['add']('hidden'),_0xba9658[_0x50be32(0x848)]=_0x50be32(0x69d),_0xc135e8[_0x50be32(0x848)]='',_0x46ad47[_0x50be32(0x1fa)][_0x50be32(0x428)]('hidden');try{const _0x42b3cd=doc(db,_0x50be32(0x878)+appId+_0x50be32(0x1ed),_0x21938b),_0x521018=await getDoc(_0x42b3cd);if(!_0x521018[_0x50be32(0xbeb)]())throw new Error(_0x50be32(0x5f2));const _0x3c8ce6=_0x521018[_0x50be32(0x999)](),_0x9a75d2=_0x3c8ce6[_0x50be32(0x29f)][_0x50be32(0xaed)],_0xa68eaa=collection(db,_0x50be32(0x878)+appId+_0x50be32(0x350)+_0x40c7d5+_0x50be32(0xa86)),_0x4ed9ec=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x21938b+_0x50be32(0xa86)),[_0xebad9c,_0x3ccf33]=await Promise['all']([getDocs(_0xa68eaa),getDocs(_0x4ed9ec)]),_0x45e83c=_0xebad9c[_0x50be32(0x689)][_0x50be32(0x251)](_0x5ec8a3=>_0x5ec8a3[_0x50be32(0x999)]()),_0xe4898a=_0x3ccf33['docs'][_0x50be32(0x251)](_0x3f2ad7=>_0x3f2ad7[_0x50be32(0x999)]()),_0x1c7750=_0x45e83c['map'](_0x266f35=>_0x266f35[_0x50be32(0x7af)]),_0xdca644=_0xe4898a[_0x50be32(0x251)](_0x57303e=>_0x57303e['latestScore']),_0x3f2712=calculateMeanAndStdDev(_0x1c7750),_0x19bfc9=calculateMeanAndStdDev(_0xdca644),_0x122c3a=_0x3f2712['mean'],_0x5c0209=_0x19bfc9['mean'],_0x384893=_0x5c0209-_0x122c3a;let _0x499f87='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x122c3a[_0x50be32(0x486)](0x2)+_0x50be32(0x525)+_0x5c0209[_0x50be32(0x486)](0x2)+_0x50be32(0x278)+(_0x384893>=0x0?'bg-emerald-100':_0x50be32(0x7c0))+_0x50be32(0x25b)+(_0x384893>=0x0?_0x50be32(0x73c):_0x50be32(0x25f))+_0x50be32(0x7bc)+(_0x384893>=0x0?_0x50be32(0x661):_0x50be32(0x49c))+'\x22>'+(_0x384893>=0x0?'+':'')+_0x384893['toFixed'](0x2)+_0x50be32(0xa6b);_0xba9658[_0x50be32(0x848)]=_0x499f87;const _0x5ac7d9=document[_0x50be32(0x7db)]('comparison-chart')['getContext']('2d');if(chartInstances[_0x50be32(0x951)])chartInstances[_0x50be32(0x951)][_0x50be32(0xb17)]();chartInstances[_0x50be32(0x951)]=new Chart(_0x5ac7d9,{'type':_0x50be32(0x1e4),'data':{'labels':[_0x50be32(0x823)],'datasets':[{'label':_0x50be32(0x549),'data':[_0x122c3a],'backgroundColor':_0x50be32(0x5e9)},{'label':'หลังเรียน','data':[_0x5c0209],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x9a75d2}}}});const _0x299b2f=currentProjectData[_0x50be32(0xc14)]||[],_0x2452f8=_0x299b2f[_0x50be32(0x251)](_0x233429=>{const _0x558927=_0x50be32,_0x55a49a=_0x45e83c[_0x558927(0xa19)](_0x14fba3=>_0x14fba3[_0x558927(0xa50)]===_0x233429),_0x5ccace=_0xe4898a[_0x558927(0xa19)](_0x29a1fe=>_0x29a1fe[_0x558927(0xa50)]===_0x233429),_0x3e7729=_0x55a49a?_0x55a49a[_0x558927(0x7af)]:null,_0x32ca9f=_0x5ccace?_0x5ccace[_0x558927(0x7af)]:null,_0x493018=_0x3e7729!==null&&_0x32ca9f!==null?_0x32ca9f-_0x3e7729:null,_0x1ba283=_0x3e7729!==null?calculateZScore(_0x3e7729,_0x3f2712[_0x558927(0x9ca)],_0x3f2712['stdDev']):null,_0x2390a1=_0x32ca9f!==null?calculateZScore(_0x32ca9f,_0x19bfc9[_0x558927(0x9ca)],_0x19bfc9[_0x558927(0x4fc)]):null,_0x55edbc=_0x1ba283!==null?calculateTScore(_0x1ba283):null,_0xe6658a=_0x2390a1!==null?calculateTScore(_0x2390a1):null,_0x10c5ac=_0x55edbc!==null&&_0xe6658a!==null?_0xe6658a-_0x55edbc:null;return{'name':_0x233429,'preScore':_0x3e7729,'postScore':_0x32ca9f,'gain':_0x493018,'preTScore':_0x55edbc,'postTScore':_0xe6658a,'tGain':_0x10c5ac};});renderIndividualComparisonTable(_0x2452f8,_0xc135e8);}catch(_0x460958){console[_0x50be32(0xb89)]('Error\x20comparing\x20results:',_0x460958),_0xba9658[_0x50be32(0x848)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}async function saveBlueprintProject(){const _0x4fb85b=_0x49918e;if(!extractedBlueprintData||!extractedBlueprintData[_0x4fb85b(0x79a)]){showMessage(_0x4fb85b(0x4cf));return;}const _0x28647a=prompt(_0x4fb85b(0x56d),_0x4fb85b(0x2a9));if(!_0x28647a||_0x28647a[_0x4fb85b(0x564)]()==='')return;const _0x310803={};extractedBlueprintData['curriculum'][_0x4fb85b(0x4ec)](_0x3d33f3=>{const _0x5cc751=_0x4fb85b;_0x3d33f3[_0x5cc751(0x585)][_0x5cc751(0x4ec)](_0x460861=>{const _0x181157=_0x5cc751;_0x460861[_0x181157(0x57e)]['forEach'](_0xcd041c=>{const _0x9ea5e=_0x181157,_0x10b82f=_0x9ea5e(0x869)+Date['now']()+Math[_0x9ea5e(0x9df)]()[_0x9ea5e(0x241)](0x24)[_0x9ea5e(0x9a5)](0x2,0x9);_0x310803[_0x10b82f]={'sara':_0x3d33f3[_0x9ea5e(0x379)],'mainTopic':_0x460861[_0x9ea5e(0x6f3)],'subTopic':_0xcd041c,'status':'not_generated','lessonContent':null};});});});try{const _0x2b2b17=collection(db,_0x4fb85b(0x878)+appId+'/public/data/blueprintProjects');await addDoc(_0x2b2b17,{'projectName':_0x28647a[_0x4fb85b(0x564)](),'gradeLevel':extractedBlueprintData[_0x4fb85b(0x6d6)],'topics':_0x310803,'createdAt':serverTimestamp()}),showMessage(_0x4fb85b(0xaf9)+_0x28647a['trim']()+'\x22\x20สำเร็จ!'),document['getElementById'](_0x4fb85b(0xbaa))['classList']['add'](_0x4fb85b(0x997));}catch(_0x142675){console[_0x4fb85b(0xb89)](_0x4fb85b(0x520),_0x142675),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}async function showBlueprintProjects(){const _0x1a953a=_0x49918e,_0xaa7fb3=document[_0x1a953a(0x7db)](_0x1a953a(0xa20)),_0x51654c=document[_0x1a953a(0x7db)](_0x1a953a(0xaad));_0x51654c['innerHTML']=_0x1a953a(0x5df),_0xaa7fb3[_0x1a953a(0x1fa)][_0x1a953a(0x428)](_0x1a953a(0x997));try{const _0x189dad=collection(db,_0x1a953a(0x878)+appId+_0x1a953a(0x58d)),_0x1ca024=await getDocs(_0x189dad);if(_0x1ca024[_0x1a953a(0xa41)]){_0x51654c['innerHTML']=_0x1a953a(0xa34);return;}const _0x34b00f=_0x1ca024['docs'][_0x1a953a(0x251)](_0x337116=>({'id':_0x337116['id'],..._0x337116['data']()}));_0x34b00f[_0x1a953a(0x236)]((_0x1052f0,_0x2f8da4)=>_0x2f8da4[_0x1a953a(0x8ec)][_0x1a953a(0xbec)]()-_0x1052f0[_0x1a953a(0x8ec)]['toDate']()),_0x51654c[_0x1a953a(0x848)]=_0x34b00f[_0x1a953a(0x251)](_0x11c5c5=>_0x1a953a(0x3b5)+_0x11c5c5[_0x1a953a(0x257)]+_0x1a953a(0x777)+_0x11c5c5['gradeLevel']+'\x20|\x20'+Object[_0x1a953a(0x450)](_0x11c5c5['topics'])['length']+'\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x11c5c5['id']+_0x1a953a(0x793)+_0x11c5c5['id']+_0x1a953a(0xa5b))[_0x1a953a(0x7b8)]('');}catch(_0x521109){console['error'](_0x1a953a(0x555),_0x521109),_0x51654c[_0x1a953a(0x848)]=_0x1a953a(0x620);}}async function displayBlueprintProjectManager(_0x3f6abe){const _0x19f310=_0x49918e;currentBlueprintProjectId=_0x3f6abe,document[_0x19f310(0x7db)](_0x19f310(0xa20))['classList']['add'](_0x19f310(0x997)),showView('admin-dashboard'),projectDashboardView[_0x19f310(0x1fa)]['add']('hidden');const _0x290703=document[_0x19f310(0x7db)](_0x19f310(0x9da));_0x290703[_0x19f310(0x1fa)][_0x19f310(0x428)]('hidden'),document[_0x19f310(0x7db)](_0x19f310(0x894))[_0x19f310(0x848)]=_0x19f310(0x69d);try{const _0x4aecec=doc(db,_0x19f310(0x878)+appId+_0x19f310(0x58d),_0x3f6abe),_0x4b5540=await getDoc(_0x4aecec);if(!_0x4b5540[_0x19f310(0xbeb)]())throw new Error('ไม่พบโปรเจค');const _0x396d87={'id':_0x4b5540['id'],..._0x4b5540[_0x19f310(0x999)]()};document['getElementById'](_0x19f310(0x6b9))[_0x19f310(0x467)]=_0x396d87[_0x19f310(0x257)],renderBlueprintTopicManager(_0x396d87);}catch(_0x3f8a36){console[_0x19f310(0xb89)](_0x19f310(0xb6d),_0x3f8a36),showMessage(_0x3f8a36[_0x19f310(0x927)]),showView(_0x19f310(0x61b));}}function renderBlueprintTopicManager(_0x50bec0){const _0x5ddee2=_0x49918e,_0x1ea499=document[_0x5ddee2(0x7db)](_0x5ddee2(0x894)),_0x485a34=_0x50bec0[_0x5ddee2(0x442)]||{};if(Object[_0x5ddee2(0x450)](_0x485a34)[_0x5ddee2(0xaed)]===0x0){_0x1ea499['innerHTML']=_0x5ddee2(0x730);return;}const _0x173ceb={};for(const _0x39b6b1 in _0x485a34){const _0x5f2461={'id':_0x39b6b1,..._0x485a34[_0x39b6b1]},{sara:_0x45a4bd,mainTopic:_0x3b22b0}=_0x5f2461;!_0x173ceb[_0x45a4bd]&&(_0x173ceb[_0x45a4bd]={}),!_0x173ceb[_0x45a4bd][_0x3b22b0]&&(_0x173ceb[_0x45a4bd][_0x3b22b0]=[]),_0x173ceb[_0x45a4bd][_0x3b22b0]['push'](_0x5f2461);}let _0x2c8332='';const _0x2254ac=Object[_0x5ddee2(0x450)](_0x173ceb)['sort']((_0x5e7801,_0x5aa897)=>_0x5e7801['localeCompare'](_0x5aa897,'th'));for(const _0x5592b9 of _0x2254ac){_0x2c8332+=_0x5ddee2(0x8a9)+_0x5592b9+_0x5ddee2(0xbc8);const _0x5efcb3=Object[_0x5ddee2(0x450)](_0x173ceb[_0x5592b9])[_0x5ddee2(0x236)]((_0x53449e,_0x44dde7)=>_0x53449e[_0x5ddee2(0x90f)](_0x44dde7,'th'));for(const _0x2e1055 of _0x5efcb3){_0x2c8332+=_0x5ddee2(0x913)+_0x2e1055+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x173ceb[_0x5592b9][_0x2e1055][_0x5ddee2(0x236)]((_0x1ff37d,_0x4cffb9)=>_0x1ff37d['subTopic']['localeCompare'](_0x4cffb9[_0x5ddee2(0x4c9)],'th')),_0x173ceb[_0x5592b9][_0x2e1055][_0x5ddee2(0x4ec)](_0x507075=>{const _0x394806=_0x5ddee2,_0x2a0b56=_0x507075[_0x394806(0xbc2)]==='generated',_0x9064ec=_0x507075['id'];let _0x40ca2d='';_0x2a0b56?_0x40ca2d=_0x394806(0x740):_0x40ca2d=_0x394806(0xc2d),_0x2c8332+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x9064ec+_0x394806(0x93c)+_0x507075[_0x394806(0x4c9)]+_0x394806(0x95f)+(_0x2a0b56?_0x394806(0x7cf):_0x394806(0x9c5))+'\x22>'+(_0x2a0b56?'สร้างแล้ว':_0x394806(0x6e7))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างแบบทดสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40ca2d+_0x394806(0xc22);}),_0x2c8332+='</div></div>';}_0x2c8332+=_0x5ddee2(0x640);}_0x1ea499['innerHTML']=_0x2c8332;}async function addTopicToProject(){const _0x417e19=_0x49918e,_0xbb8dcb=prompt(_0x417e19(0xb80));if(!_0xbb8dcb||_0xbb8dcb[_0x417e19(0x564)]()==='')return;const _0x3a1d97=prompt('อยู่ในสาระการเรียนรู้ใด:','สาระที่\x201'),_0x313741=prompt(_0x417e19(0x4a1),_0x417e19(0x841)),_0x57b8f6='topic_'+Date['now']()+Math[_0x417e19(0x9df)]()[_0x417e19(0x241)](0x24)[_0x417e19(0x9a5)](0x2,0x9),_0x1b5fc1={'sara':_0x3a1d97,'mainTopic':_0x313741,'subTopic':_0xbb8dcb['trim'](),'status':_0x417e19(0x97b),'lessonContent':null};try{const _0x23bc5=doc(db,_0x417e19(0x878)+appId+_0x417e19(0x58d),currentBlueprintProjectId);await updateDoc(_0x23bc5,{[_0x417e19(0x240)+_0x57b8f6]:_0x1b5fc1}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1ddf7a){console[_0x417e19(0xb89)]('Error\x20adding\x20topic:',_0x1ddf7a),showMessage(_0x417e19(0xc34));}}async function editTopicInProject(_0x2f49e2){const _0x48bfd3=_0x49918e,_0x5ef3a4=document['querySelector'](_0x48bfd3(0x709)+_0x2f49e2+'\x22]'),_0x8caef6=_0x5ef3a4[_0x48bfd3(0xa3e)](_0x48bfd3(0x365)),_0x2d5ddb=_0x8caef6[_0x48bfd3(0x467)],_0x18968c=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x2d5ddb);if(!_0x18968c||_0x18968c[_0x48bfd3(0x564)]()===''||_0x18968c[_0x48bfd3(0x564)]()===_0x2d5ddb)return;try{const _0x187ae4=doc(db,_0x48bfd3(0x878)+appId+_0x48bfd3(0x58d),currentBlueprintProjectId);await updateDoc(_0x187ae4,{['topics.'+_0x2f49e2+'.subTopic']:_0x18968c[_0x48bfd3(0x564)]()}),_0x8caef6['textContent']=_0x18968c[_0x48bfd3(0x564)](),showMessage(_0x48bfd3(0x8f5));}catch(_0x3e8f40){console[_0x48bfd3(0xb89)](_0x48bfd3(0xa2f),_0x3e8f40),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x3f4a29){const _0x4a50a6=_0x49918e;if(!confirm(_0x4a50a6(0xbf4)))return;try{const _0x367152=doc(db,_0x4a50a6(0x878)+appId+_0x4a50a6(0x58d),currentBlueprintProjectId);await updateDoc(_0x367152,{['topics.'+_0x3f4a29]:deleteField()}),document[_0x4a50a6(0xa3e)](_0x4a50a6(0x709)+_0x3f4a29+'\x22]')[_0x4a50a6(0x428)](),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x46daff){console[_0x4a50a6(0xb89)](_0x4a50a6(0x5ea),_0x46daff),showMessage(_0x4a50a6(0x7b9));}}async function generateAndSaveLessonForBlueprint(_0x429962,_0xc565ac,_0x5ec8a9){handleGenerateAndShowLesson(_0xc565ac,_0x5ec8a9);const _0x357ab3=setInterval(async()=>{const _0x3228ae=_0x2d54,_0x37306b=document[_0x3228ae(0x7db)](_0x3228ae(0x8d8)),_0x5160e2=_0x37306b[_0x3228ae(0x1fa)][_0x3228ae(0xae6)](_0x3228ae(0x997));if(_0x5160e2){clearInterval(_0x357ab3);if(currentApplicationData&&currentApplicationData[_0x3228ae(0xaed)]>0x0){const _0x8be0={'point':document[_0x3228ae(0x7db)](_0x3228ae(0x285))[_0x3228ae(0x848)],'memory':document[_0x3228ae(0x7db)]('memoryContent')[_0x3228ae(0x848)],'application':document[_0x3228ae(0x7db)](_0x3228ae(0x1f7))[_0x3228ae(0x848)],'summary':document[_0x3228ae(0x7db)](_0x3228ae(0x76a))[_0x3228ae(0x848)]};try{const _0x4bb92a=doc(db,_0x3228ae(0x878)+appId+_0x3228ae(0x58d),currentBlueprintProjectId);await updateDoc(_0x4bb92a,{[_0x3228ae(0x240)+_0x429962+_0x3228ae(0x239)]:_0x8be0,[_0x3228ae(0x240)+_0x429962+'.status']:_0x3228ae(0x941)}),console[_0x3228ae(0x7bb)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x429962+_0x3228ae(0x3ed)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1ec299){console[_0x3228ae(0xb89)](_0x3228ae(0x893),_0x1ec299);}}}},0x3e8);}function displayHalfMarkResult(_0x476d57,_0x3a22bf){const _0x568e71=_0x49918e,_0x4588e3=_0x476d57>=_0x3a22bf/0x2,_0xb82237=_0x4588e3?_0x568e71(0x261):_0x568e71(0x7c0),_0x5041ed=_0x4588e3?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x568e71(0xbac),_0xfbf696=_0x4588e3?_0x568e71(0xaa3):_0x568e71(0x25f),_0x46e792=_0x4588e3?'ทำคะแนนได้เกินครึ่ง':_0x568e71(0x9b0),_0x1e6cb8=_0x4588e3?'ยอดเยี่ยม!':'สู้ๆ\x20ลองอีกครั้งนะ';let _0x8caee7=_0x568e71(0x3b7)+_0xb82237+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5041ed+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0xfbf696+_0x568e71(0x2a6)+_0x46e792+_0x568e71(0xa0d)+_0x1e6cb8+_0x568e71(0x35a);studentResultArea[_0x568e71(0x848)]=_0x8caee7,studentResultArea['classList'][_0x568e71(0x428)]('hidden'),studentQuizArea['classList'][_0x568e71(0x36a)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x4588e3});}function displayPerfectScoreResult(_0x3087d1,_0x2ff736){const _0x1337a4=_0x49918e,_0xe3ee10=_0x3087d1===_0x2ff736,_0x33dccd=_0xe3ee10?_0x1337a4(0x4bd):_0x1337a4(0xb85),_0x3cec0c=_0xe3ee10?_0x1337a4(0x845):_0x1337a4(0x8ba),_0x1d9db2=_0xe3ee10?'text-yellow-800':_0x1337a4(0x8ff),_0x41011f=_0xe3ee10?_0x1337a4(0xc3c):_0x1337a4(0x201),_0x1ae1c6=_0xe3ee10?_0x1337a4(0x96e):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x336cdd=_0x1337a4(0x3b7)+_0x33dccd+_0x1337a4(0x400)+_0x3cec0c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x1d9db2+'\x20mb-2\x22>'+_0x41011f+_0x1337a4(0xa0d)+_0x1ae1c6+_0x1337a4(0x35a);studentResultArea['innerHTML']=_0x336cdd,studentResultArea[_0x1337a4(0x1fa)][_0x1337a4(0x428)](_0x1337a4(0x997)),studentQuizArea[_0x1337a4(0x1fa)]['add']('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x3087d1,'totalQuestions':_0x2ff736});}function renderIndividualComparisonTable(_0x471853,_0x34f288){const _0x9f3179=_0x49918e;_0x471853['sort']((_0x2b5b9b,_0x90dcc4)=>(_0x90dcc4[_0x9f3179(0xa71)]??-Infinity)-(_0x2b5b9b[_0x9f3179(0xa71)]??-Infinity));let _0xd41a80=_0x9f3179(0x5a1);_0x471853['length']===0x0?_0xd41a80+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x471853['forEach']((_0x7fc461,_0x1adfe8)=>{const _0x96d14d=_0x9f3179;let _0x29bffd='-',_0x2af2eb='';if(_0x7fc461[_0x96d14d(0x96f)]!==null){const _0x27eb15=_0x7fc461[_0x96d14d(0x96f)]>0x0?_0x96d14d(0x52e):_0x7fc461[_0x96d14d(0x96f)]<0x0?'text-red-600':_0x96d14d(0xc38),_0x1e162a=_0x7fc461['gain']>0x0?'+':'';_0x29bffd=_0x96d14d(0x5fc)+_0x27eb15+'\x22>'+_0x1e162a+_0x7fc461[_0x96d14d(0x96f)]+_0x96d14d(0xadd);if(_0x7fc461['gain']>0x0)_0x2af2eb=_0x96d14d(0x76e);else _0x7fc461[_0x96d14d(0x96f)]<0x0?_0x2af2eb=_0x96d14d(0x7aa):_0x2af2eb=_0x96d14d(0x5fb);}let _0x504081='-';if(_0x7fc461['tGain']!==null){const _0x24bf6f=_0x7fc461[_0x96d14d(0xa71)]>0x0?_0x96d14d(0x52e):_0x7fc461[_0x96d14d(0xa71)]<0x0?'text-red-600':_0x96d14d(0xc38),_0x59f24b=_0x7fc461[_0x96d14d(0xa71)]>0x0?'+':'';_0x504081=_0x96d14d(0x5fc)+_0x24bf6f+'\x22>'+_0x59f24b+_0x7fc461['tGain'][_0x96d14d(0x486)](0x2)+_0x96d14d(0xadd);}_0xd41a80+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x1adfe8+0x1)+_0x96d14d(0xa24)+_0x7fc461[_0x96d14d(0x447)]+_0x96d14d(0x900)+(_0x7fc461[_0x96d14d(0x91b)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x7fc461[_0x96d14d(0x47b)]??'-')+_0x96d14d(0x900)+_0x29bffd+_0x96d14d(0x8bf)+_0x2af2eb+_0x96d14d(0x20e)+(_0x7fc461['preTScore']?.[_0x96d14d(0x486)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x7fc461[_0x96d14d(0x8b2)]?.[_0x96d14d(0x486)](0x2)??'-')+_0x96d14d(0x900)+_0x504081+_0x96d14d(0x572);}),_0xd41a80+=_0x9f3179(0x561),_0x34f288[_0x9f3179(0x848)]=_0xd41a80;}function handleRenameQuiz(_0x159981,_0x2fa793){const _0x29ffbe=_0x49918e;actionTargetId=_0x159981,document[_0x29ffbe(0x7db)](_0x29ffbe(0x8f1))['value']=_0x2fa793,renameQuizModal[_0x29ffbe(0x1fa)][_0x29ffbe(0x428)](_0x29ffbe(0x997));}function setupComparisonModalTabs(){const _0x5a38e3=_0x49918e,_0x219e4a=document[_0x5a38e3(0x7db)](_0x5a38e3(0x38f)),_0x20f02e=document[_0x5a38e3(0x7db)](_0x5a38e3(0x863)),_0x5dc85e=document[_0x5a38e3(0x7db)]('comparison-overall-content'),_0x11bff2=document[_0x5a38e3(0x7db)](_0x5a38e3(0x72c));_0x219e4a[_0x5a38e3(0xb63)](_0x5a38e3(0x32d),()=>{const _0x5d85be=_0x5a38e3;_0x219e4a[_0x5d85be(0x1fa)]['add'](_0x5d85be(0x9d3)),_0x20f02e[_0x5d85be(0x1fa)]['remove']('active'),_0x5dc85e['classList']['remove'](_0x5d85be(0x997)),_0x11bff2[_0x5d85be(0x1fa)][_0x5d85be(0x36a)]('hidden');}),_0x20f02e[_0x5a38e3(0xb63)](_0x5a38e3(0x32d),()=>{const _0x53b746=_0x5a38e3;_0x20f02e[_0x53b746(0x1fa)][_0x53b746(0x36a)](_0x53b746(0x9d3)),_0x219e4a['classList'][_0x53b746(0x428)](_0x53b746(0x9d3)),_0x11bff2['classList'][_0x53b746(0x428)](_0x53b746(0x997)),_0x5dc85e[_0x53b746(0x1fa)][_0x53b746(0x36a)](_0x53b746(0x997));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x4fa18c=''){const _0x637e13=_0x49918e,_0x100259=document['getElementById']('global-quiz-list'),_0x26c47b=_0x4fa18c[_0x637e13(0x8fa)]()['trim'](),_0x3da81e=allQuizzesGlobal[_0x637e13(0x251)](_0xe315ed=>({..._0xe315ed,'projectName':allProjects[_0x637e13(0xa19)](_0x3d1ef9=>_0x3d1ef9['id']===_0xe315ed[_0x637e13(0x33a)])?.[_0x637e13(0x257)]||_0xe315ed[_0x637e13(0x33a)]}))[_0x637e13(0xbf0)](_0x537cf8=>(_0x537cf8[_0x637e13(0x818)]||'')[_0x637e13(0x8fa)]()[_0x637e13(0x229)](_0x26c47b)||(_0x537cf8['projectName']||'')['toLowerCase']()[_0x637e13(0x229)](_0x26c47b));document[_0x637e13(0x7db)](_0x637e13(0x63d))['textContent']='('+_0x3da81e['length']+_0x637e13(0x2cd),_0x100259[_0x637e13(0x848)]=_0x3da81e[_0x637e13(0xaed)]?_0x3da81e['map'](_0x269b53=>_0x637e13(0xb8b)+_0x269b53['id']+_0x637e13(0xac0)+(_0x269b53[_0x637e13(0x818)]||_0x637e13(0x8f7))+_0x637e13(0x73a)+(_0x269b53['questions']?.[_0x637e13(0xaed)]||0x0)+_0x637e13(0x260)+_0x269b53[_0x637e13(0x257)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')[_0x637e13(0x7b8)](''):_0x637e13(0xbf6),selectedGlobalQuizId=null,document[_0x637e13(0x7db)](_0x637e13(0x53a))['disabled']=!![],_0x100259[_0x637e13(0x3e7)](_0x637e13(0x238))['forEach'](_0x52be9a=>{const _0x531e75=_0x637e13;_0x52be9a[_0x531e75(0xb63)](_0x531e75(0x32d),()=>{const _0x1590cb=_0x531e75;selectedGlobalQuizId=_0x52be9a[_0x1590cb(0x297)]['id'],_0x100259[_0x1590cb(0x3e7)](_0x1590cb(0x7a0))[_0x1590cb(0x4ec)](_0x46da11=>_0x46da11['classList'][_0x1590cb(0x428)]('bg-purple-50',_0x1590cb(0x65b),'ring-purple-400')),_0x52be9a[_0x1590cb(0x1fa)][_0x1590cb(0x36a)](_0x1590cb(0x9f1),_0x1590cb(0x65b),_0x1590cb(0x770)),document[_0x1590cb(0x7db)](_0x1590cb(0x53a))[_0x1590cb(0x534)]=![];});});}function listenForLiveGameUpdates(){const _0x18abf6=_0x49918e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1a93f4=doc(db,_0x18abf6(0x878)+appId+_0x18abf6(0x426),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1a93f4,_0xf642bd=>{const _0x4fa235=_0x18abf6;if(!_0xf642bd[_0x4fa235(0xbeb)]()){showMessage(_0x4fa235(0x82b)),showView(currentMode);return;}const _0x3fb08e=_0xf642bd[_0x4fa235(0x999)]();_0x3fb08e['shuffledQuiz']&&(currentQuizData=_0x3fb08e[_0x4fa235(0x4b3)]);!currentQuizData&&_0x3fb08e[_0x4fa235(0x33f)]&&((async()=>{const _0xc0d453=_0x4fa235;try{const _0x111e3e=doc(db,_0xc0d453(0x878)+appId+_0xc0d453(0x1ed),_0x3fb08e[_0xc0d453(0x33f)]),_0xf252e2=await getDoc(_0x111e3e);_0xf252e2['exists']()&&(currentQuizData={'id':_0xf252e2['id'],..._0xf252e2['data']()});}catch(_0x137618){console[_0xc0d453(0xb89)](_0xc0d453(0xbbe),_0x137618);}})());switch(_0x3fb08e[_0x4fa235(0xbc2)]){case'lobby':if(currentMode==='admin'){const _0x4a1f75=_0x3fb08e[_0x4fa235(0x891)]?Object['entries'](_0x3fb08e['players']):[],_0xa55c09=_0x4a1f75['filter'](([_0x213a6b,_0xf45437])=>_0xf45437[_0x4fa235(0xbc2)]===_0x4fa235(0x9d3)),_0x3c04ce=document[_0x4fa235(0x7db)](_0x4fa235(0x6c8));if(_0x3c04ce)_0x3c04ce['textContent']=_0xa55c09[_0x4fa235(0xaed)];const _0x1af27c=document[_0x4fa235(0x7db)](_0x4fa235(0x354));_0x1af27c&&(_0x1af27c[_0x4fa235(0x848)]=_0xa55c09[_0x4fa235(0x251)](([_0x2b769d,_0x4a7a02])=>_0x4fa235(0x80f)+_0x2b769d+_0x4fa235(0x8c1)+_0x2b769d+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4fa235(0x7b8)](''));const _0x9c3788=document[_0x4fa235(0x7db)]('start-game-btn');_0x9c3788&&(_0x9c3788[_0x4fa235(0x534)]=_0xa55c09['length']===0x0);}else showView(_0x4fa235(0x477)),liveGameView[_0x4fa235(0x848)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'question':const _0x351185=_0x3fb08e[_0x4fa235(0x669)];if(currentQuizData&&currentQuizData[_0x4fa235(0x29f)][_0x351185]){const _0x26d6a1=currentQuizData[_0x4fa235(0x29f)][_0x351185],_0x3be351=_0x3fb08e[_0x4fa235(0x7ca)]||'answering';switch(_0x3be351){case _0x4fa235(0x582):currentMode===_0x4fa235(0x2ae)?showAdminSummaryView(_0x3fb08e,_0x26d6a1):showPlayerSummaryView(_0x3fb08e,currentStudentName);break;case'leaderboard':currentMode===_0x4fa235(0x2ae)&&showTop5LeaderboardView(_0x3fb08e);break;case _0x4fa235(0xbdb):default:if(currentMode==='admin'){const _0x1b8492=writeBatch(db);let _0xf3cba=![];Object[_0x4fa235(0xa7e)](_0x3fb08e[_0x4fa235(0x891)])[_0x4fa235(0x4ec)](([_0x2952eb,_0x591973])=>{const _0x334e6a=_0x4fa235;if(_0x591973[_0x334e6a(0xbc2)]===_0x334e6a(0x9d3)&&_0x591973[_0x334e6a(0x57b)]&&!_0x591973[_0x334e6a(0x27e)]){_0xf3cba=!![];const _0x4efa6a=_0x591973[_0x334e6a(0x57b)][_0x334e6a(0xbec)]()-_0x3fb08e[_0x334e6a(0xbee)]['toDate']();let _0x2e78d5=0x0;if(_0x591973[_0x334e6a(0x30c)]){const _0x315f9c=0x3e8,_0x1edaa3=0x1f4,_0x3d16b7=0x4e20;let _0x4d1c84=_0x4efa6a/_0x3d16b7;if(_0x4d1c84>0x1)_0x4d1c84=0x1;const _0x1ae42a=Math['round'](_0x4d1c84*_0x1edaa3);_0x2e78d5=_0x315f9c-_0x1ae42a;}const _0x73dcea=doc(db,_0x334e6a(0x878)+appId+'/public/data/liveGames',currentLiveGameId);_0x1b8492[_0x334e6a(0xb1a)](_0x73dcea,{['players.'+_0x2952eb+_0x334e6a(0x7d9)]:increment(_0x2e78d5),['players.'+_0x2952eb+_0x334e6a(0xb8e)]:_0x2e78d5,['players.'+_0x2952eb+_0x334e6a(0x9c0)]:!![]});}});_0xf3cba&&_0x1b8492[_0x4fa235(0x917)]()[_0x4fa235(0x6c3)](_0x2a2802=>console[_0x4fa235(0xb89)](_0x4fa235(0x8e6),_0x2a2802));lastRenderedAdminQuestionIndex!==_0x351185&&(showAdminLiveQuestionView(_0x26d6a1,_0x351185,currentQuizData[_0x4fa235(0x29f)]['length']),lastRenderedAdminQuestionIndex=_0x351185);const _0x27dcac=_0x3fb08e[_0x4fa235(0x891)]||{},_0x5abbbc=Object[_0x4fa235(0xbca)](_0x27dcac)[_0x4fa235(0xbf0)](_0x25b7cb=>_0x25b7cb['status']===_0x4fa235(0x9d3)),_0x97e0c5=_0x5abbbc[_0x4fa235(0xaed)],_0x42194d=_0x5abbbc['filter'](_0x20f555=>_0x20f555[_0x4fa235(0x7d3)]===!![])[_0x4fa235(0xaed)],_0x3b8abc=document[_0x4fa235(0x7db)]('answer-counter');if(_0x3b8abc)_0x3b8abc[_0x4fa235(0x467)]=_0x42194d+'/'+_0x97e0c5;const _0xeeb6bb=document[_0x4fa235(0x7db)](_0x4fa235(0xb03));if(_0xeeb6bb){let _0x3e1d16=Object[_0x4fa235(0xa7e)](_0x27dcac)[_0x4fa235(0xbf0)](([_0x56baf2,_0x6869b])=>_0x6869b[_0x4fa235(0xbc2)]===_0x4fa235(0x9d3))[_0x4fa235(0x251)](([_0x19800e,_0x3f3fde])=>{const _0x49969c=_0x4fa235,_0x2fc573=_0x3f3fde[_0x49969c(0x7d3)]===!![],_0x3dee9b=_0x2fc573?_0x49969c(0x713):_0x49969c(0x8c7),_0x214878=_0x2fc573?_0x49969c(0x69a):_0x49969c(0x7ed);return _0x49969c(0x5b9)+_0x3dee9b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x214878+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x19800e+_0x49969c(0x59e)+_0x19800e+_0x49969c(0x831);})[_0x4fa235(0x7b8)]('');_0xeeb6bb['innerHTML']=_0x3e1d16||_0x4fa235(0x7dd);}_0x97e0c5>0x0&&_0x42194d===_0x97e0c5&&revealAnswerForAdmin(_0x351185,currentQuizData[_0x4fa235(0x29f)]['length']);}else{const _0x26627e=_0x3fb08e[_0x4fa235(0x891)][currentStudentName];_0x26627e&&!_0x26627e['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x26d6a1,_0x351185,currentQuizData['questions']['length']);}break;}}break;case _0x4fa235(0x738):showPodiumView(_0x3fb08e[_0x4fa235(0x891)],_0x4fa235(0x6f7));break;}});}async function handleKickPlayer(_0x2f4a6c){const _0x4e8002=_0x49918e;if(!currentLiveGameId||!_0x2f4a6c)return;const _0x123e49=doc(db,_0x4e8002(0x878)+appId+_0x4e8002(0x426),currentLiveGameId),_0x30ad1c={};_0x30ad1c[_0x4e8002(0x2fe)+_0x2f4a6c+'.status']=_0x4e8002(0x31b);try{await updateDoc(_0x123e49,_0x30ad1c);}catch(_0x542e2b){console[_0x4e8002(0xb89)](_0x4e8002(0x4a0)+_0x2f4a6c+':',_0x542e2b),showMessage(_0x4e8002(0x576));}}async function authenticateUser(){const _0x94a72b=_0x49918e;try{typeof __initial_auth_token!==_0x94a72b(0x3c9)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x30aab4){console[_0x94a72b(0xb89)](_0x94a72b(0x811),_0x30aab4),showMessage(_0x94a72b(0x975));}}function showView(_0xbe9e03){const _0x1705f5=_0x49918e;adminView['classList']['add']('hidden'),studentView[_0x1705f5(0x1fa)][_0x1705f5(0x36a)](_0x1705f5(0x997)),projectDashboardView['classList'][_0x1705f5(0x36a)](_0x1705f5(0x997)),projectDetailView[_0x1705f5(0x1fa)][_0x1705f5(0x36a)]('hidden'),quizResultsView[_0x1705f5(0x1fa)]['add'](_0x1705f5(0x997)),liveGameView[_0x1705f5(0x1fa)][_0x1705f5(0x36a)](_0x1705f5(0x997)),studentInitialView['classList'][_0x1705f5(0x36a)](_0x1705f5(0x997)),studentJoinGameView[_0x1705f5(0x1fa)][_0x1705f5(0x36a)](_0x1705f5(0x997)),studentNameSelectionView[_0x1705f5(0x1fa)][_0x1705f5(0x36a)](_0x1705f5(0x997)),studentQuizArea['classList']['add'](_0x1705f5(0x997)),studentResultArea['classList'][_0x1705f5(0x36a)](_0x1705f5(0x997)),studentReadingArea[_0x1705f5(0x1fa)][_0x1705f5(0x36a)]('hidden');const _0x4323ac=document[_0x1705f5(0x7db)](_0x1705f5(0x846)),_0x1664ec=document['getElementById'](_0x1705f5(0x723));if(_0x4323ac)_0x4323ac[_0x1705f5(0x1fa)]['add'](_0x1705f5(0x997));if(_0x1664ec)_0x1664ec[_0x1705f5(0x1fa)][_0x1705f5(0x36a)](_0x1705f5(0x997));switch(_0xbe9e03){case'admin-dashboard':adminView[_0x1705f5(0x1fa)][_0x1705f5(0x428)](_0x1705f5(0x997)),projectDashboardView[_0x1705f5(0x1fa)][_0x1705f5(0x428)](_0x1705f5(0x997));break;case'project-detail':adminView['classList'][_0x1705f5(0x428)](_0x1705f5(0x997)),projectDetailView[_0x1705f5(0x1fa)][_0x1705f5(0x428)](_0x1705f5(0x997));break;case _0x1705f5(0x9b7):adminView[_0x1705f5(0x1fa)][_0x1705f5(0x428)](_0x1705f5(0x997)),quizResultsView[_0x1705f5(0x1fa)][_0x1705f5(0x428)]('hidden');break;case _0x1705f5(0x972):studentView[_0x1705f5(0x1fa)]['remove']('hidden'),studentInitialView[_0x1705f5(0x1fa)][_0x1705f5(0x428)](_0x1705f5(0x997));break;case _0x1705f5(0x477):liveGameView[_0x1705f5(0x1fa)][_0x1705f5(0x428)](_0x1705f5(0x997));break;case _0x1705f5(0xb33):studentView[_0x1705f5(0x1fa)][_0x1705f5(0x428)](_0x1705f5(0x997));if(_0x4323ac)_0x4323ac['classList']['remove']('hidden');break;case _0x1705f5(0xa84):studentView[_0x1705f5(0x1fa)]['remove'](_0x1705f5(0x997));if(_0x1664ec)_0x1664ec[_0x1705f5(0x1fa)][_0x1705f5(0x428)](_0x1705f5(0x997));break;default:studentView[_0x1705f5(0x1fa)][_0x1705f5(0x428)](_0x1705f5(0x997)),studentInitialView[_0x1705f5(0x1fa)][_0x1705f5(0x428)](_0x1705f5(0x997));break;}}function showJoinGameView(){const _0x4e1510=_0x49918e;studentInitialView[_0x4e1510(0x1fa)][_0x4e1510(0x36a)](_0x4e1510(0x997)),studentJoinGameView['classList'][_0x4e1510(0x428)]('hidden');}async function handleSaveVisibilitySettings(){const _0x148214=_0x49918e;if(!currentProjectId)return;const _0x42d8d9=doc(db,_0x148214(0x878)+appId+_0x148214(0xc07),currentProjectId);try{await updateDoc(_0x42d8d9,{'settings.showInStudentDashboard':document[_0x148214(0x7db)](_0x148214(0x8f0))[_0x148214(0xaf2)],'settings.isPasscodeEnabled':document['getElementById'](_0x148214(0x3fd))[_0x148214(0xaf2)],'settings.passcode':document['getElementById'](_0x148214(0x82d))[_0x148214(0x947)][_0x148214(0x564)]()}),showMessage(_0x148214(0x631));}catch(_0x52ac4a){console[_0x148214(0xb89)]('Error\x20saving\x20visibility\x20settings:',_0x52ac4a),showMessage(_0x148214(0xabc));}}function setupEventListeners(){const _0x1b68df=_0x49918e;document['getElementById'](_0x1b68df(0x267))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x30b4b9=_0x1b68df;document['getElementById'](_0x30b4b9(0x9b3))[_0x30b4b9(0x1fa)][_0x30b4b9(0x428)]('hidden'),document['getElementById'](_0x30b4b9(0x1ea))[_0x30b4b9(0x947)]='',document['getElementById']('manual-bp-grade-level')[_0x30b4b9(0x947)]='',document[_0x30b4b9(0x7db)](_0x30b4b9(0x402))[_0x30b4b9(0x947)]='';}),document['getElementById'](_0x1b68df(0x532))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x119836=_0x1b68df;document['getElementById'](_0x119836(0x9b3))['classList'][_0x119836(0x36a)](_0x119836(0x997));}),document[_0x1b68df(0x7db)]('confirm-manual-bp-btn')[_0x1b68df(0xb63)](_0x1b68df(0x32d),handleManualBlueprintSave),document[_0x1b68df(0x7db)](_0x1b68df(0x318))['addEventListener'](_0x1b68df(0x32d),()=>document[_0x1b68df(0x7db)](_0x1b68df(0xafe))['classList']['add']('hidden')),document['getElementById']('save-bp-settings-btn')[_0x1b68df(0xb63)]('click',handleSaveBlueprintPageSettings),document[_0x1b68df(0x7db)]('bp-quiz-settings-btn')['addEventListener'](_0x1b68df(0x32d),openBlueprintQuizSettings),document[_0x1b68df(0x7db)](_0x1b68df(0xbaa))[_0x1b68df(0xb63)](_0x1b68df(0x32d),saveBlueprintProject),document['getElementById'](_0x1b68df(0x7f6))['addEventListener'](_0x1b68df(0x32d),showBlueprintProjects),document[_0x1b68df(0x7db)](_0x1b68df(0x986))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x591b20=_0x1b68df;document[_0x591b20(0x7db)](_0x591b20(0xa20))[_0x591b20(0x1fa)]['add'](_0x591b20(0x997));}),document[_0x1b68df(0x7db)](_0x1b68df(0xaad))[_0x1b68df(0xb63)](_0x1b68df(0x32d),_0x243e5a=>{const _0x505da7=_0x1b68df,_0x25b7f1=_0x243e5a[_0x505da7(0x81b)][_0x505da7(0x984)](_0x505da7(0x747)),_0x421e86=_0x243e5a[_0x505da7(0x81b)]['closest'](_0x505da7(0x9cc));if(_0x25b7f1)displayBlueprintProjectManager(_0x25b7f1[_0x505da7(0x297)]['id']);else{if(_0x421e86){if(confirm(_0x505da7(0x4d8))){const _0x4ff721=doc(db,_0x505da7(0x878)+appId+_0x505da7(0x58d),_0x421e86['dataset']['id']);deleteDoc(_0x4ff721)['then'](()=>{const _0xcb97c0=_0x505da7;showMessage(_0xcb97c0(0x301)),showBlueprintProjects();});}}}}),document[_0x1b68df(0x7db)]('back-to-dashboard-from-bp-btn')[_0x1b68df(0xb63)]('click',()=>{const _0x2dbac4=_0x1b68df;currentBlueprintProjectId=null,currentProjectId=null,document[_0x2dbac4(0x7db)](_0x2dbac4(0x9da))[_0x2dbac4(0x1fa)][_0x2dbac4(0x36a)]('hidden'),showView(_0x2dbac4(0x61b));}),document[_0x1b68df(0x7db)]('bp-add-topic-btn')[_0x1b68df(0xb63)](_0x1b68df(0x32d),addTopicToProject),document[_0x1b68df(0x7db)](_0x1b68df(0x894))[_0x1b68df(0xb63)](_0x1b68df(0x32d),async _0x191c67=>{const _0x1e5c01=_0x1b68df,_0xa4f144=_0x191c67['target'][_0x1e5c01(0x984)](_0x1e5c01(0x7cd));if(!_0xa4f144)return;const _0x15c78f=_0xa4f144[_0x1e5c01(0x297)][_0x1e5c01(0x500)],_0xe574e6=_0x191c67[_0x1e5c01(0x81b)][_0x1e5c01(0x984)](_0x1e5c01(0x4c8)),_0x34bfc6=_0x191c67[_0x1e5c01(0x81b)][_0x1e5c01(0x984)](_0x1e5c01(0x2c6)),_0x203162=_0x191c67[_0x1e5c01(0x81b)]['closest'](_0x1e5c01(0x455)),_0xd68cdf=_0x191c67[_0x1e5c01(0x81b)][_0x1e5c01(0x984)](_0x1e5c01(0x479)),_0x183302=_0x191c67[_0x1e5c01(0x81b)][_0x1e5c01(0x984)](_0x1e5c01(0xafd));if(_0xe574e6){console['log'](_0x1e5c01(0xb2a));const _0x45ec06=_0xa4f144[_0x1e5c01(0xa3e)]('[data-field=\x22subTopic\x22]')[_0x1e5c01(0x467)];document[_0x1e5c01(0x7db)](_0x1e5c01(0x9da))[_0x1e5c01(0x1fa)][_0x1e5c01(0x36a)]('hidden'),showView(_0x1e5c01(0xb26)),switchProjectTab(_0x1e5c01(0x5f8)),handleGenerateQuizFromBlueprintTopic(_0x45ec06);}else{if(_0x34bfc6){console[_0x1e5c01(0x7bb)](_0x1e5c01(0x4a5));const _0x45bd39=doc(db,_0x1e5c01(0x878)+appId+_0x1e5c01(0x58d),currentBlueprintProjectId),_0x37ae94=await getDoc(_0x45bd39);if(_0x37ae94['exists']()){const _0xef0d9f=_0x37ae94['data'](),_0x32965b=_0xef0d9f[_0x1e5c01(0x442)][_0x15c78f];_0x32965b&&_0x32965b[_0x1e5c01(0x5cc)]?(document[_0x1e5c01(0x7db)]('lesson-view-title')[_0x1e5c01(0x467)]=_0x1e5c01(0x2fb)+_0x32965b['subTopic'],document[_0x1e5c01(0x7db)](_0x1e5c01(0x285))[_0x1e5c01(0x848)]=_0x32965b['lessonContent'][_0x1e5c01(0x2f8)],document[_0x1e5c01(0x7db)]('memoryContent')[_0x1e5c01(0x848)]=_0x32965b[_0x1e5c01(0x5cc)][_0x1e5c01(0x865)],document[_0x1e5c01(0x7db)](_0x1e5c01(0x1f7))[_0x1e5c01(0x848)]=_0x32965b['lessonContent'][_0x1e5c01(0x3d3)],document[_0x1e5c01(0x7db)](_0x1e5c01(0x76a))[_0x1e5c01(0x848)]=_0x32965b[_0x1e5c01(0x5cc)][_0x1e5c01(0x61c)],document['getElementById']('lesson-loader')[_0x1e5c01(0x1fa)][_0x1e5c01(0x36a)]('hidden'),document[_0x1e5c01(0x7db)](_0x1e5c01(0x220))['classList'][_0x1e5c01(0x428)]('hidden'),document[_0x1e5c01(0x7db)]('lesson-view-modal')[_0x1e5c01(0x1fa)][_0x1e5c01(0x428)](_0x1e5c01(0x997)),window[_0x1e5c01(0xaca)]&&MathJax[_0x1e5c01(0x26d)]([document[_0x1e5c01(0x7db)](_0x1e5c01(0x592))])):showMessage(_0x1e5c01(0x626));}}else{if(_0x203162){console[_0x1e5c01(0x7bb)]('Action:\x20Generate\x20new\x20lesson.');const _0x40db78=doc(db,'artifacts/'+appId+_0x1e5c01(0x58d),currentBlueprintProjectId),_0x55a86f=await getDoc(_0x40db78);if(_0x55a86f[_0x1e5c01(0xbeb)]()){const _0x116dc8=_0x55a86f[_0x1e5c01(0x999)](),_0x2e3c19=_0x116dc8[_0x1e5c01(0x442)][_0x15c78f];generateAndSaveLessonForBlueprint(_0x15c78f,_0x2e3c19['subTopic'],_0x116dc8[_0x1e5c01(0x6d6)]);}}else{if(_0xd68cdf)editTopicInProject(_0x15c78f);else _0x183302&&deleteTopicFromProject(_0x15c78f);}}}}),document['getElementById'](_0x1b68df(0x70c))['addEventListener'](_0x1b68df(0x32d),handleFixLessonLatex),document[_0x1b68df(0x7db)](_0x1b68df(0x4e4))[_0x1b68df(0xb63)]('click',handleExportLessonToPDF),document['getElementById'](_0x1b68df(0x678))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0xa59e11=_0x1b68df;document[_0xa59e11(0x7db)]('lesson-view-modal')['classList'][_0xa59e11(0x36a)](_0xa59e11(0x997));});const _0x4373b8=document[_0x1b68df(0x7db)]('bulk-confidence-scoring-checkbox'),_0x233570=document[_0x1b68df(0x7db)](_0x1b68df(0x5d7));_0x4373b8[_0x1b68df(0xb63)](_0x1b68df(0x61d),()=>{const _0x1efeb2=_0x1b68df;_0x233570['classList'][_0x1efeb2(0x2c3)]('hidden',!_0x4373b8[_0x1efeb2(0xaf2)]);});const _0x2f0615=document[_0x1b68df(0x7db)](_0x1b68df(0x68a)),_0x5bb210=document[_0x1b68df(0x7db)]('confidence-mode-container');_0x2f0615[_0x1b68df(0xb63)]('change',()=>{const _0x25cae9=_0x1b68df;_0x5bb210[_0x25cae9(0x1fa)][_0x25cae9(0x2c3)](_0x25cae9(0x997),!_0x2f0615[_0x25cae9(0xaf2)]);});const _0x428fdd=document[_0x1b68df(0x7db)]('modal-confidence-scoring-checkbox'),_0x57acea=document[_0x1b68df(0x7db)](_0x1b68df(0x312));_0x428fdd[_0x1b68df(0xb63)](_0x1b68df(0x61d),()=>{const _0x5835cb=_0x1b68df;_0x57acea['classList']['toggle'](_0x5835cb(0x997),!_0x428fdd[_0x5835cb(0xaf2)]);});const _0x37b943=document[_0x1b68df(0x7db)](_0x1b68df(0x96a)),_0x12651c=async _0x4ea982=>{const _0x3473e7=_0x1b68df,_0x5a1e12=document[_0x3473e7(0x7db)](_0x3473e7(0x96a)),_0x1b9d3e=_0x5a1e12[_0x3473e7(0x297)][_0x3473e7(0xae0)],_0x731c27=document['getElementById'](_0x3473e7(0x705));_0x5a1e12['classList']['add'](_0x3473e7(0x997));if(_0x1b9d3e===_0x3473e7(0xbe7)){const _0x5ef3d3=_0x731c27[_0x3473e7(0x947)],_0x7e0306={'answer':_0x5ef3d3,'wasConfident':_0x4ea982};proceedToNextQuestion(_0x7e0306);}else{if(_0x1b9d3e===_0x3473e7(0x578)){const _0xd16d55=_0x731c27['dataset']['answerValue'],_0x32253d=JSON[_0x3473e7(0x982)](_0x731c27[_0x3473e7(0x297)][_0x3473e7(0xbe1)]),_0x4a2710=JSON[_0x3473e7(0x982)](_0x731c27[_0x3473e7(0x297)][_0x3473e7(0x7fa)]),_0x2a5992=_0x731c27[_0x3473e7(0x297)][_0x3473e7(0x3f4)];handleSyncAnswerSubmit(_0xd16d55,_0x32253d,_0x4a2710,_0x2a5992,_0x4ea982);}}_0x5a1e12[_0x3473e7(0x297)]['currentMode']='';};document['getElementById'](_0x1b68df(0xa89))['addEventListener'](_0x1b68df(0x32d),()=>_0x12651c(!![])),document[_0x1b68df(0x7db)]('confirm-not-confident')['addEventListener'](_0x1b68df(0x32d),()=>_0x12651c(![])),liveGameView[_0x1b68df(0xb63)](_0x1b68df(0x32d),_0x5af6f8=>{const _0x57e0d7=_0x1b68df,_0x287430=_0x5af6f8[_0x57e0d7(0x81b)][_0x57e0d7(0x984)](_0x57e0d7(0x77d));if(_0x287430){const _0x52952a=_0x287430[_0x57e0d7(0x297)]['playerName'];_0x52952a&&handleKickPlayerSync(_0x52952a);}});const _0x559622=document[_0x1b68df(0x7db)]('confirm-game-start-btn'),_0x50428c=document[_0x1b68df(0x7db)](_0x1b68df(0x8e4));_0x50428c['addEventListener']('click',()=>{const _0x547987=_0x1b68df;document[_0x547987(0x7db)](_0x547987(0xb4d))[_0x547987(0x1fa)][_0x547987(0x36a)](_0x547987(0x997));}),_0x559622['addEventListener'](_0x1b68df(0x32d),()=>{const _0x2bc349=_0x1b68df,_0x49d0e1=document[_0x2bc349(0x7db)]('game-start-quiz-id')['value'],_0x22aae9=document[_0x2bc349(0x7db)](_0x2bc349(0xa46))['value'],_0x3383f8=document['getElementById']('save-game-results-checkbox')[_0x2bc349(0xaf2)];document['getElementById'](_0x2bc349(0xb4d))[_0x2bc349(0x1fa)][_0x2bc349(0x36a)](_0x2bc349(0x997));switch(_0x22aae9){case _0x2bc349(0x6f7):handleStartLiveRace(_0x49d0e1,_0x3383f8);break;case _0x2bc349(0x6bc):handleStartTeamQuiz(_0x49d0e1,_0x3383f8);break;case _0x2bc349(0x884):handleStartGroupMode(_0x49d0e1,_0x3383f8);break;case _0x2bc349(0x578):handleStartSyncMode(_0x49d0e1,_0x3383f8);break;}}),document[_0x1b68df(0x7db)](_0x1b68df(0xc06))['addEventListener'](_0x1b68df(0x32d),handleJoinGroupActivity),liveGameView[_0x1b68df(0xb63)]('click',_0x35933e=>{const _0x4ffae6=_0x1b68df,_0x3589db=_0x35933e[_0x4ffae6(0x81b)][_0x4ffae6(0x984)](_0x4ffae6(0x767));document[_0x4ffae6(0x3e7)]('.live-summary-tooltip.visible')[_0x4ffae6(0x4ec)](_0x462d35=>{const _0x335a7a=_0x4ffae6;(!_0x3589db||_0x462d35['id']!==_0x3589db[_0x335a7a(0x297)][_0x335a7a(0x494)])&&_0x462d35[_0x335a7a(0x1fa)][_0x335a7a(0x428)](_0x335a7a(0x384));});if(!_0x3589db)return;const _0x154793=_0x3589db[_0x4ffae6(0x297)][_0x4ffae6(0x494)],_0x2ade1f=document[_0x4ffae6(0x7db)](_0x154793);_0x2ade1f&&_0x2ade1f[_0x4ffae6(0x1fa)][_0x4ffae6(0x2c3)](_0x4ffae6(0x384));}),liveGameView[_0x1b68df(0xb63)]('click',_0x183920=>{const _0x40c9ac=_0x1b68df;if(_0x183920['target'][_0x40c9ac(0x1fa)][_0x40c9ac(0xae6)](_0x40c9ac(0x275))){const _0x31e2f5=_0x183920[_0x40c9ac(0x81b)][_0x40c9ac(0x297)][_0x40c9ac(0x3f4)];_0x31e2f5&&handleKickPlayer(_0x31e2f5);}}),document[_0x1b68df(0x7db)](_0x1b68df(0x7a5))[_0x1b68df(0xb63)](_0x1b68df(0xc3a),()=>document[_0x1b68df(0x7db)](_0x1b68df(0xad6))['classList'][_0x1b68df(0x428)](_0x1b68df(0x997))),document[_0x1b68df(0x7db)](_0x1b68df(0xad6))[_0x1b68df(0xb63)](_0x1b68df(0x32d),handleSaveProjectName),document[_0x1b68df(0x7db)](_0x1b68df(0x7a5))[_0x1b68df(0xb63)](_0x1b68df(0x963),_0x82f638=>{const _0x1ba0bf=_0x1b68df;_0x82f638['key']==='Enter'&&(_0x82f638['preventDefault'](),_0x82f638[_0x1ba0bf(0x81b)][_0x1ba0bf(0xc1e)](),handleSaveProjectName());}),document['getElementById'](_0x1b68df(0x4a9))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x4a7236=_0x1b68df;document[_0x4a7236(0x7db)]('bulk-quiz-settings-modal')[_0x4a7236(0x1fa)][_0x4a7236(0x428)]('hidden');}),document['getElementById']('cancel-bulk-quiz-settings-btn')[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x486bbd=_0x1b68df;document['getElementById'](_0x486bbd(0xbb8))['classList'][_0x486bbd(0x36a)](_0x486bbd(0x997));}),document[_0x1b68df(0x7db)](_0x1b68df(0x348))[_0x1b68df(0xb63)]('click',handleBulkUpdateQuizSettings),document[_0x1b68df(0x7db)]('mode-switcher-btn')[_0x1b68df(0xb63)]('click',handleModeSwitch),document[_0x1b68df(0x7db)](_0x1b68df(0x29a))[_0x1b68df(0xb63)](_0x1b68df(0x32d),handleUpdateOldQuizzes),document['getElementById'](_0x1b68df(0x78e))[_0x1b68df(0xb63)](_0x1b68df(0x32d),handleResetProjectOrder),document[_0x1b68df(0x7db)](_0x1b68df(0x67f))[_0x1b68df(0xb63)](_0x1b68df(0x32d),handleSaveVisibilitySettings),document[_0x1b68df(0x7db)]('add-custom-math-topic-btn')[_0x1b68df(0xb63)]('click',handleAddCustomMathTopic),document['getElementById']('select-all-topics-btn')['addEventListener'](_0x1b68df(0x32d),handleSelectAllTopics),document[_0x1b68df(0x7db)]('deselect-all-topics-btn')[_0x1b68df(0xb63)](_0x1b68df(0x32d),handleDeselectAllTopics),document['getElementById'](_0x1b68df(0x6da))[_0x1b68df(0xb63)]('click',()=>{const _0xcc78f0=_0x1b68df;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0xcc78f0(0x61b));}),document[_0x1b68df(0x7db)]('back-to-project-btn')[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x1532ef=_0x1b68df;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x1532ef(0xb26));}),document[_0x1b68df(0x7db)]('back-to-dashboard-from-results-btn')[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{showView('admin-dashboard');}),document[_0x1b68df(0x7db)](_0x1b68df(0x359))['addEventListener'](_0x1b68df(0x32d),()=>{const _0x3eab8e=_0x1b68df;messageModal['classList']['add'](_0x3eab8e(0x997)),typeof modalConfirmAction===_0x3eab8e(0x791)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x1b68df(0x7db)](_0x1b68df(0x44d))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>createProjectModal[_0x1b68df(0x1fa)][_0x1b68df(0x428)](_0x1b68df(0x997))),document[_0x1b68df(0x7db)](_0x1b68df(0x96b))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>createProjectModal['classList'][_0x1b68df(0x36a)](_0x1b68df(0x997))),document['getElementById']('cancel-admin-login-btn')[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>adminPasswordModal[_0x1b68df(0x1fa)][_0x1b68df(0x36a)](_0x1b68df(0x997))),document[_0x1b68df(0x7db)]('confirm-admin-login-btn')[_0x1b68df(0xb63)](_0x1b68df(0x32d),handleAdminLogin),document['getElementById'](_0x1b68df(0x5f0))['addEventListener'](_0x1b68df(0x6e1),_0x5b08b8=>{const _0x14559b=_0x1b68df;if(_0x5b08b8['key']===_0x14559b(0x465))handleAdminLogin();}),document[_0x1b68df(0x7db)]('cancel-delete-btn')[_0x1b68df(0xb63)]('click',()=>{const _0x53e3e9=_0x1b68df;confirmationModal[_0x53e3e9(0x1fa)][_0x53e3e9(0x36a)](_0x53e3e9(0x997)),confirmAction=null;}),document['getElementById']('confirm-delete-btn')[_0x1b68df(0xb63)]('click',()=>{const _0x5e0bd5=_0x1b68df;confirmAction&&confirmAction(),confirmationModal[_0x5e0bd5(0x1fa)][_0x5e0bd5(0x36a)](_0x5e0bd5(0x997)),confirmAction=null;}),document['getElementById']('cancel-rename-quiz-btn')['addEventListener'](_0x1b68df(0x32d),()=>renameQuizModal[_0x1b68df(0x1fa)][_0x1b68df(0x36a)]('hidden')),document[_0x1b68df(0x7db)](_0x1b68df(0x672))[_0x1b68df(0xb63)](_0x1b68df(0x32d),confirmRenameQuiz),document['getElementById']('cancel-move-quiz-btn')['addEventListener'](_0x1b68df(0x32d),()=>moveQuizModal[_0x1b68df(0x1fa)][_0x1b68df(0x36a)]('hidden')),document['getElementById']('confirm-move-quiz-btn')['addEventListener'](_0x1b68df(0x32d),confirmMoveQuiz),document[_0x1b68df(0x7db)](_0x1b68df(0x406))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>quizSettingsModal['classList']['add'](_0x1b68df(0x997))),document[_0x1b68df(0x7db)](_0x1b68df(0x394))[_0x1b68df(0xb63)]('click',confirmQuizSettings),document['getElementById'](_0x1b68df(0x8f4))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>quizStatusModal[_0x1b68df(0x1fa)]['add'](_0x1b68df(0x997))),document[_0x1b68df(0x7db)](_0x1b68df(0xab4))[_0x1b68df(0xb63)](_0x1b68df(0x32d),confirmQuizStatus);const _0x140459=document[_0x1b68df(0x7db)]('export-pdf-modal');document[_0x1b68df(0x7db)]('cancel-export-pdf-btn')[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x124804=_0x1b68df;_0x140459['classList'][_0x124804(0x36a)](_0x124804(0x997));}),document['getElementById']('export-compact-pdf-btn')[_0x1b68df(0xb63)]('click',async()=>{const _0x24e236=_0x1b68df,_0xcc545b=allQuizzes[_0x24e236(0xa19)](_0x34c523=>_0x34c523['id']===actionTargetId);_0xcc545b?(currentQuizData=_0xcc545b,exportQuizAsWorksheetPDF()):showMessage(_0x24e236(0x20c)),_0x140459[_0x24e236(0x1fa)][_0x24e236(0x36a)](_0x24e236(0x997));}),document[_0x1b68df(0x7db)]('export-tutor-pdf-btn')[_0x1b68df(0xb63)](_0x1b68df(0x32d),async()=>{const _0x1aed10=_0x1b68df,_0x503731=allQuizzes[_0x1aed10(0xa19)](_0x1e8ed4=>_0x1e8ed4['id']===actionTargetId);_0x503731?(currentQuizData=_0x503731,exportQuizAsTutorPDF()):showMessage(_0x1aed10(0x20c)),_0x140459[_0x1aed10(0x1fa)][_0x1aed10(0x36a)](_0x1aed10(0x997));}),document[_0x1b68df(0x7db)](_0x1b68df(0x8b9))[_0x1b68df(0xb63)]('click',openGlobalLiveModal),document[_0x1b68df(0x7db)](_0x1b68df(0x310))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x4f914a=_0x1b68df;document['getElementById'](_0x4f914a(0x9be))['classList'][_0x4f914a(0x36a)](_0x4f914a(0x997)),selectedGlobalQuizId=null;}),document[_0x1b68df(0x7db)]('global-quiz-search-input')['addEventListener']('input',_0x2c052d=>renderGlobalQuizList(_0x2c052d[_0x1b68df(0x81b)]['value'])),document[_0x1b68df(0x7db)]('confirm-global-live-btn')['addEventListener']('click',()=>{const _0x305962=_0x1b68df,_0x4bb0d2=selectedGlobalQuizId;if(!_0x4bb0d2)return;document['getElementById'](_0x305962(0x9be))[_0x305962(0x1fa)][_0x305962(0x36a)](_0x305962(0x997)),handleStartLiveRace(_0x4bb0d2);}),document[_0x1b68df(0x7db)](_0x1b68df(0x616))['addEventListener']('input',renderProjects),document['getElementById']('project-sort-select')[_0x1b68df(0xb63)](_0x1b68df(0x61d),async()=>{const _0x62248=_0x1b68df,_0x33aa14=document[_0x62248(0x7db)](_0x62248(0xaa9))[_0x62248(0x947)],_0x11c829=doc(db,_0x62248(0x978),_0x62248(0xc2b));try{await setDoc(_0x11c829,{'projectSort':_0x33aa14},{'merge':!![]});}catch(_0x5d9538){console['error']('Error\x20updating\x20sort\x20preference:',_0x5d9538),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x1b68df(0x7db)](_0x1b68df(0xbb0))[_0x1b68df(0xb63)]('input',renderQuizzes),document[_0x1b68df(0x7db)](_0x1b68df(0xae7))['addEventListener'](_0x1b68df(0x32d),()=>{const _0x53fe60=_0x1b68df;globalDashboardSettings[_0x53fe60(0xb18)]='grid',saveUserPreference(_0x53fe60(0xb18),_0x53fe60(0x57d)),renderProjects();}),document[_0x1b68df(0x7db)]('list-view-btn')[_0x1b68df(0xb63)]('click',()=>{const _0x419c02=_0x1b68df;globalDashboardSettings['projectView']=_0x419c02(0xbef),saveUserPreference(_0x419c02(0xb18),'list'),renderProjects();}),manageTab[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>switchProjectTab(_0x1b68df(0x5f8))),resultsTab['addEventListener'](_0x1b68df(0x32d),()=>switchProjectTab('results')),leaderboardTab[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>switchProjectTab(_0x1b68df(0xbcd))),document[_0x1b68df(0x7db)]('analytics-tab-btn')[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>switchQuizDetailTab('analytics')),document[_0x1b68df(0x7db)](_0x1b68df(0x30a))['addEventListener'](_0x1b68df(0x32d),()=>switchQuizDetailTab(_0x1b68df(0x58c))),document['getElementById']('leaderboard-quiz-tab-btn')[_0x1b68df(0xb63)]('click',()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x1b68df(0x7db)](_0x1b68df(0xa00))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>switchQuizDetailTab('behavior-log')),document[_0x1b68df(0x7db)](_0x1b68df(0x332))['addEventListener'](_0x1b68df(0x32d),handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x1b68df(0x32d),generateWorksheet);const _0x1cfcfd=document['getElementById'](_0x1b68df(0x282)),_0x4fa0b8=document[_0x1b68df(0x7db)]('link-input-area'),_0x592528=document['getElementById']('blueprint-tab'),_0x510e97=document[_0x1b68df(0x7db)](_0x1b68df(0x3c2)),_0x2d32ab=document[_0x1b68df(0x7db)]('parallel-test-tab'),_0x2e78f8=document[_0x1b68df(0x7db)](_0x1b68df(0x41d));topicTab[_0x1b68df(0xb63)]('click',()=>{const _0x2d6425=_0x1b68df;topicTab[_0x2d6425(0x1fa)]['add']('active'),textTab[_0x2d6425(0x1fa)]['remove'](_0x2d6425(0x9d3)),fileTab['classList'][_0x2d6425(0x428)](_0x2d6425(0x9d3)),worksheetTab['classList'][_0x2d6425(0x428)](_0x2d6425(0x9d3));if(_0x1cfcfd)_0x1cfcfd[_0x2d6425(0x1fa)][_0x2d6425(0x428)](_0x2d6425(0x9d3));if(_0x592528)_0x592528['classList'][_0x2d6425(0x428)](_0x2d6425(0x9d3));if(_0x2d32ab)_0x2d32ab['classList'][_0x2d6425(0x428)]('active');topicInputArea[_0x2d6425(0x1fa)][_0x2d6425(0x428)]('hidden'),textInputArea['classList'][_0x2d6425(0x36a)](_0x2d6425(0x997)),fileInputArea[_0x2d6425(0x1fa)][_0x2d6425(0x36a)](_0x2d6425(0x997)),worksheetInputArea['classList'][_0x2d6425(0x36a)](_0x2d6425(0x997));if(_0x4fa0b8)_0x4fa0b8[_0x2d6425(0x1fa)][_0x2d6425(0x36a)](_0x2d6425(0x997));if(_0x510e97)_0x510e97[_0x2d6425(0x1fa)][_0x2d6425(0x36a)](_0x2d6425(0x997));if(_0x2e78f8)_0x2e78f8[_0x2d6425(0x1fa)][_0x2d6425(0x36a)](_0x2d6425(0x997));}),textTab[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x59dfcd=_0x1b68df;textTab[_0x59dfcd(0x1fa)]['add'](_0x59dfcd(0x9d3)),topicTab[_0x59dfcd(0x1fa)]['remove'](_0x59dfcd(0x9d3)),fileTab[_0x59dfcd(0x1fa)]['remove'](_0x59dfcd(0x9d3)),worksheetTab[_0x59dfcd(0x1fa)][_0x59dfcd(0x428)](_0x59dfcd(0x9d3));if(_0x1cfcfd)_0x1cfcfd[_0x59dfcd(0x1fa)][_0x59dfcd(0x428)](_0x59dfcd(0x9d3));if(_0x592528)_0x592528[_0x59dfcd(0x1fa)]['remove'](_0x59dfcd(0x9d3));if(_0x2d32ab)_0x2d32ab[_0x59dfcd(0x1fa)][_0x59dfcd(0x428)]('active');textInputArea[_0x59dfcd(0x1fa)][_0x59dfcd(0x428)](_0x59dfcd(0x997)),topicInputArea['classList'][_0x59dfcd(0x36a)](_0x59dfcd(0x997)),fileInputArea[_0x59dfcd(0x1fa)][_0x59dfcd(0x36a)]('hidden'),worksheetInputArea['classList']['add']('hidden');if(_0x4fa0b8)_0x4fa0b8['classList']['add']('hidden');if(_0x510e97)_0x510e97[_0x59dfcd(0x1fa)][_0x59dfcd(0x36a)](_0x59dfcd(0x997));if(_0x2e78f8)_0x2e78f8[_0x59dfcd(0x1fa)][_0x59dfcd(0x36a)](_0x59dfcd(0x997));}),fileTab[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x47bbba=_0x1b68df;fileTab[_0x47bbba(0x1fa)][_0x47bbba(0x36a)](_0x47bbba(0x9d3)),topicTab[_0x47bbba(0x1fa)][_0x47bbba(0x428)](_0x47bbba(0x9d3)),textTab[_0x47bbba(0x1fa)][_0x47bbba(0x428)]('active'),worksheetTab[_0x47bbba(0x1fa)][_0x47bbba(0x428)](_0x47bbba(0x9d3));if(_0x1cfcfd)_0x1cfcfd[_0x47bbba(0x1fa)][_0x47bbba(0x428)](_0x47bbba(0x9d3));if(_0x592528)_0x592528[_0x47bbba(0x1fa)][_0x47bbba(0x428)](_0x47bbba(0x9d3));if(_0x2d32ab)_0x2d32ab[_0x47bbba(0x1fa)][_0x47bbba(0x428)](_0x47bbba(0x9d3));fileInputArea[_0x47bbba(0x1fa)][_0x47bbba(0x428)](_0x47bbba(0x997)),topicInputArea[_0x47bbba(0x1fa)][_0x47bbba(0x36a)](_0x47bbba(0x997)),textInputArea[_0x47bbba(0x1fa)][_0x47bbba(0x36a)](_0x47bbba(0x997)),worksheetInputArea[_0x47bbba(0x1fa)][_0x47bbba(0x36a)]('hidden');if(_0x4fa0b8)_0x4fa0b8['classList'][_0x47bbba(0x36a)](_0x47bbba(0x997));if(_0x510e97)_0x510e97[_0x47bbba(0x1fa)][_0x47bbba(0x36a)]('hidden');if(_0x2e78f8)_0x2e78f8[_0x47bbba(0x1fa)][_0x47bbba(0x36a)](_0x47bbba(0x997));}),worksheetTab[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x15f9a3=_0x1b68df;worksheetTab[_0x15f9a3(0x1fa)][_0x15f9a3(0x36a)](_0x15f9a3(0x9d3)),topicTab[_0x15f9a3(0x1fa)][_0x15f9a3(0x428)]('active'),textTab[_0x15f9a3(0x1fa)]['remove'](_0x15f9a3(0x9d3)),fileTab[_0x15f9a3(0x1fa)]['remove'](_0x15f9a3(0x9d3));if(_0x1cfcfd)_0x1cfcfd['classList']['remove'](_0x15f9a3(0x9d3));if(_0x592528)_0x592528[_0x15f9a3(0x1fa)][_0x15f9a3(0x428)](_0x15f9a3(0x9d3));if(_0x2d32ab)_0x2d32ab[_0x15f9a3(0x1fa)][_0x15f9a3(0x428)](_0x15f9a3(0x9d3));worksheetInputArea['classList'][_0x15f9a3(0x428)](_0x15f9a3(0x997)),topicInputArea[_0x15f9a3(0x1fa)][_0x15f9a3(0x36a)](_0x15f9a3(0x997)),textInputArea[_0x15f9a3(0x1fa)]['add'](_0x15f9a3(0x997)),fileInputArea[_0x15f9a3(0x1fa)][_0x15f9a3(0x36a)](_0x15f9a3(0x997));if(_0x4fa0b8)_0x4fa0b8['classList'][_0x15f9a3(0x36a)](_0x15f9a3(0x997));if(_0x510e97)_0x510e97['classList'][_0x15f9a3(0x36a)]('hidden');if(_0x2e78f8)_0x2e78f8[_0x15f9a3(0x1fa)][_0x15f9a3(0x36a)](_0x15f9a3(0x997));});const _0x6228d9=document['getElementById'](_0x1b68df(0x915)),_0x51b340=document[_0x1b68df(0x7db)](_0x1b68df(0x361));_0x6228d9&&_0x6228d9[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x4599a4=_0x1b68df;topicTab[_0x4599a4(0x1fa)]['remove'](_0x4599a4(0x9d3)),textTab['classList'][_0x4599a4(0x428)](_0x4599a4(0x9d3)),fileTab['classList'][_0x4599a4(0x428)](_0x4599a4(0x9d3)),worksheetTab[_0x4599a4(0x1fa)][_0x4599a4(0x428)]('active');if(_0x1cfcfd)_0x1cfcfd['classList'][_0x4599a4(0x428)](_0x4599a4(0x9d3));if(_0x592528)_0x592528[_0x4599a4(0x1fa)][_0x4599a4(0x428)]('active');if(_0x2d32ab)_0x2d32ab[_0x4599a4(0x1fa)][_0x4599a4(0x428)](_0x4599a4(0x9d3));_0x6228d9['classList']['add']('active'),topicInputArea[_0x4599a4(0x1fa)][_0x4599a4(0x36a)](_0x4599a4(0x997)),textInputArea[_0x4599a4(0x1fa)][_0x4599a4(0x36a)]('hidden'),fileInputArea[_0x4599a4(0x1fa)][_0x4599a4(0x36a)](_0x4599a4(0x997)),worksheetInputArea[_0x4599a4(0x1fa)][_0x4599a4(0x36a)]('hidden');if(_0x4fa0b8)_0x4fa0b8[_0x4599a4(0x1fa)][_0x4599a4(0x36a)]('hidden');if(_0x510e97)_0x510e97[_0x4599a4(0x1fa)][_0x4599a4(0x36a)](_0x4599a4(0x997));if(_0x2e78f8)_0x2e78f8[_0x4599a4(0x1fa)]['add'](_0x4599a4(0x997));_0x51b340['classList'][_0x4599a4(0x428)](_0x4599a4(0x997)),displayQuestionBank();});_0x1cfcfd&&(_0x1cfcfd[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x36ace3=_0x1b68df;_0x1cfcfd[_0x36ace3(0x1fa)][_0x36ace3(0x36a)]('active'),topicTab[_0x36ace3(0x1fa)][_0x36ace3(0x428)](_0x36ace3(0x9d3)),textTab['classList'][_0x36ace3(0x428)](_0x36ace3(0x9d3)),fileTab['classList'][_0x36ace3(0x428)](_0x36ace3(0x9d3)),worksheetTab[_0x36ace3(0x1fa)][_0x36ace3(0x428)](_0x36ace3(0x9d3));if(_0x592528)_0x592528['classList'][_0x36ace3(0x428)](_0x36ace3(0x9d3));if(_0x2d32ab)_0x2d32ab[_0x36ace3(0x1fa)]['remove'](_0x36ace3(0x9d3));_0x4fa0b8[_0x36ace3(0x1fa)]['remove'](_0x36ace3(0x997)),topicInputArea[_0x36ace3(0x1fa)]['add'](_0x36ace3(0x997)),textInputArea[_0x36ace3(0x1fa)][_0x36ace3(0x36a)](_0x36ace3(0x997)),fileInputArea['classList']['add']('hidden'),worksheetInputArea[_0x36ace3(0x1fa)][_0x36ace3(0x36a)]('hidden');if(_0x510e97)_0x510e97[_0x36ace3(0x1fa)]['add'](_0x36ace3(0x997));if(_0x2e78f8)_0x2e78f8[_0x36ace3(0x1fa)][_0x36ace3(0x36a)](_0x36ace3(0x997));}),document[_0x1b68df(0x7db)](_0x1b68df(0x5ef))['addEventListener'](_0x1b68df(0x32d),handleGenerateFromLink));_0x592528&&_0x592528['addEventListener'](_0x1b68df(0x32d),()=>{const _0x3a1ab4=_0x1b68df;_0x592528[_0x3a1ab4(0x1fa)][_0x3a1ab4(0x36a)](_0x3a1ab4(0x9d3)),topicTab[_0x3a1ab4(0x1fa)][_0x3a1ab4(0x428)]('active'),textTab[_0x3a1ab4(0x1fa)][_0x3a1ab4(0x428)](_0x3a1ab4(0x9d3)),fileTab[_0x3a1ab4(0x1fa)][_0x3a1ab4(0x428)]('active'),worksheetTab[_0x3a1ab4(0x1fa)][_0x3a1ab4(0x428)](_0x3a1ab4(0x9d3));if(_0x1cfcfd)_0x1cfcfd['classList'][_0x3a1ab4(0x428)](_0x3a1ab4(0x9d3));if(_0x6228d9)_0x6228d9['classList']['remove'](_0x3a1ab4(0x9d3));if(_0x2d32ab)_0x2d32ab[_0x3a1ab4(0x1fa)]['remove'](_0x3a1ab4(0x9d3));_0x510e97[_0x3a1ab4(0x1fa)][_0x3a1ab4(0x428)](_0x3a1ab4(0x997)),topicInputArea[_0x3a1ab4(0x1fa)][_0x3a1ab4(0x36a)]('hidden'),textInputArea[_0x3a1ab4(0x1fa)]['add']('hidden'),fileInputArea[_0x3a1ab4(0x1fa)][_0x3a1ab4(0x36a)](_0x3a1ab4(0x997)),worksheetInputArea[_0x3a1ab4(0x1fa)]['add'](_0x3a1ab4(0x997));if(_0x4fa0b8)_0x4fa0b8[_0x3a1ab4(0x1fa)][_0x3a1ab4(0x36a)](_0x3a1ab4(0x997));if(_0x51b340)_0x51b340['classList'][_0x3a1ab4(0x36a)](_0x3a1ab4(0x997));if(_0x2e78f8)_0x2e78f8[_0x3a1ab4(0x1fa)][_0x3a1ab4(0x36a)](_0x3a1ab4(0x997));});_0x2d32ab&&_0x2d32ab[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x2bc425=_0x1b68df;_0x2d32ab[_0x2bc425(0x1fa)][_0x2bc425(0x36a)](_0x2bc425(0x9d3)),topicTab['classList']['remove'](_0x2bc425(0x9d3)),textTab[_0x2bc425(0x1fa)]['remove'](_0x2bc425(0x9d3)),fileTab[_0x2bc425(0x1fa)]['remove'](_0x2bc425(0x9d3)),worksheetTab[_0x2bc425(0x1fa)][_0x2bc425(0x428)](_0x2bc425(0x9d3));if(_0x1cfcfd)_0x1cfcfd['classList'][_0x2bc425(0x428)]('active');if(_0x592528)_0x592528[_0x2bc425(0x1fa)][_0x2bc425(0x428)](_0x2bc425(0x9d3));if(_0x6228d9)_0x6228d9[_0x2bc425(0x1fa)][_0x2bc425(0x428)](_0x2bc425(0x9d3));_0x2e78f8[_0x2bc425(0x1fa)][_0x2bc425(0x428)](_0x2bc425(0x997)),topicInputArea[_0x2bc425(0x1fa)][_0x2bc425(0x36a)](_0x2bc425(0x997)),textInputArea[_0x2bc425(0x1fa)][_0x2bc425(0x36a)]('hidden'),fileInputArea[_0x2bc425(0x1fa)][_0x2bc425(0x36a)](_0x2bc425(0x997)),worksheetInputArea[_0x2bc425(0x1fa)][_0x2bc425(0x36a)](_0x2bc425(0x997));if(_0x4fa0b8)_0x4fa0b8[_0x2bc425(0x1fa)]['add'](_0x2bc425(0x997));if(_0x510e97)_0x510e97[_0x2bc425(0x1fa)][_0x2bc425(0x36a)](_0x2bc425(0x997));if(_0x51b340)_0x51b340[_0x2bc425(0x1fa)][_0x2bc425(0x36a)](_0x2bc425(0x997));});const _0x56d55b=document[_0x1b68df(0x7db)](_0x1b68df(0x63e)),_0x40b48e=document[_0x1b68df(0x7db)](_0x1b68df(0x7ff));if(_0x56d55b){const _0x517748=document[_0x1b68df(0x7db)](_0x1b68df(0x63e)),_0x5bd1c7=document[_0x1b68df(0x7db)](_0x1b68df(0x7ff)),_0x31eef0=document['getElementById'](_0x1b68df(0x3e8)),_0x2e3556=document[_0x1b68df(0x7db)](_0x1b68df(0x3f3)),_0x477de4=document[_0x1b68df(0x7db)](_0x1b68df(0x9c6)),_0x372a94=document[_0x1b68df(0x7db)]('blueprint-topics-list');_0x517748&&_0x517748[_0x1b68df(0xb63)](_0x1b68df(0x61d),async _0x303277=>{const _0x4c453b=_0x1b68df;_0x31eef0[_0x4c453b(0x1fa)]['add'](_0x4c453b(0x997)),_0x477de4[_0x4c453b(0x1fa)]['add'](_0x4c453b(0x997)),_0x2e3556[_0x4c453b(0xaf2)]=![],_0x5bd1c7[_0x4c453b(0x534)]=!![];const _0x150167=_0x303277['target'][_0x4c453b(0xbc7)][0x0];if(_0x150167){_0x5bd1c7[_0x4c453b(0x534)]=![];try{const _0x25d48f=await extractTextFromPdf(_0x150167);await analyzeBlueprintForTopics(_0x25d48f);}catch(_0x2515d8){showMessage(_0x4c453b(0x4f9)),_0x31eef0[_0x4c453b(0x1fa)][_0x4c453b(0x36a)](_0x4c453b(0x997));}}}),_0x2e3556&&_0x2e3556[_0x1b68df(0xb63)](_0x1b68df(0x61d),_0x522393=>{const _0x5ed008=_0x1b68df,_0x54e5d7=_0x522393[_0x5ed008(0x81b)][_0x5ed008(0xaf2)];_0x477de4[_0x5ed008(0x1fa)][_0x5ed008(0x2c3)](_0x5ed008(0x997),!_0x54e5d7),_0x5bd1c7['disabled']=_0x54e5d7;}),_0x372a94&&(_0x372a94&&_0x372a94['addEventListener']('click',_0x2b9849=>{const _0x42e178=_0x1b68df,_0x1cdae4=_0x2b9849[_0x42e178(0x81b)]['closest'](_0x42e178(0x60b)),_0x28792f=_0x2b9849[_0x42e178(0x81b)][_0x42e178(0x984)](_0x42e178(0x30f));if(_0x1cdae4){const _0x3601cc=unescape(_0x1cdae4[_0x42e178(0x297)][_0x42e178(0x818)]);generateQuizForSingleTopic(_0x3601cc);}else{if(_0x28792f){const _0x2a5058=unescape(_0x28792f['dataset'][_0x42e178(0x818)]);handleGenerateTeachingContent(_0x2a5058);}}}));}_0x40b48e&&_0x40b48e[_0x1b68df(0xb63)](_0x1b68df(0x32d),handleGenerateFromBlueprint);const _0x5efc37=document[_0x1b68df(0x7db)](_0x1b68df(0x569)),_0x4b2ee6=document[_0x1b68df(0x7db)]('generate-from-parallel-test-btn');_0x5efc37&&_0x5efc37[_0x1b68df(0xb63)](_0x1b68df(0x61d),_0x27b3a9=>{const _0x1d96f6=_0x1b68df;_0x4b2ee6['disabled']=_0x27b3a9[_0x1d96f6(0x81b)][_0x1d96f6(0xbc7)][_0x1d96f6(0xaed)]===0x0;});_0x4b2ee6&&_0x4b2ee6[_0x1b68df(0xb63)](_0x1b68df(0x32d),handleGenerateParallelTest);loadQuizBtn[_0x1b68df(0xb63)](_0x1b68df(0x32d),handleLoadQuiz),startQuizBtn['addEventListener'](_0x1b68df(0x32d),async()=>{const _0x2a3152=_0x1b68df,_0x50ff07=document[_0x2a3152(0x7db)](_0x2a3152(0x87f));currentStudentName=_0x50ff07['value'];if(!currentStudentName){showMessage(_0x2a3152(0xc17));return;}try{const _0xc93a4b=currentQuizData['id'],_0x5ae911=doc(db,_0x2a3152(0x878)+appId+_0x2a3152(0x350)+_0xc93a4b+_0x2a3152(0xa86),currentStudentName),_0x66b580=await getDoc(_0x5ae911);!_0x66b580[_0x2a3152(0xbeb)]()?await setDoc(_0x5ae911,{'studentName':currentStudentName,'startedAt':new Date()[_0x2a3152(0x9e9)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x5ae911,{'startedAt':new Date()[_0x2a3152(0x9e9)]()});}catch(_0x20cee6){console[_0x2a3152(0xb89)](_0x2a3152(0xa1e),_0x20cee6),showMessage(_0x2a3152(0xb51));return;}studentNameSelectionView[_0x2a3152(0x1fa)][_0x2a3152(0x36a)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x1b68df(0xbc5))['addEventListener']('click',showJoinGameView),document[_0x1b68df(0x7db)]('confirm-join-game-btn')[_0x1b68df(0xb63)](_0x1b68df(0x32d),handleJoinLiveGame),document[_0x1b68df(0x7db)](_0x1b68df(0x33d))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>showView(_0x1b68df(0x972)));const _0xe9627f=()=>{const _0x29a3ad=_0x1b68df,_0x152db4=document[_0x29a3ad(0x7db)](_0x29a3ad(0x704))['textContent'][_0x29a3ad(0xc09)](/[^a-z0-9]/gi,'_')[_0x29a3ad(0x8fa)]();return'results_'+(_0x152db4||_0x29a3ad(0x557));},_0x5bee0d=document['getElementById']('math-topic-search-input');_0x5bee0d&&_0x5bee0d[_0x1b68df(0xb63)]('input',_0x23b8af=>{const _0xa86830=_0x1b68df,_0x583a11=_0x23b8af[_0xa86830(0x81b)][_0xa86830(0x947)][_0xa86830(0x8fa)]()['trim'](),_0x933911=document[_0xa86830(0x7db)](_0xa86830(0xb76)),_0x361669=_0x933911['querySelectorAll'](_0xa86830(0xa2b));_0x361669[_0xa86830(0x4ec)](_0x3b9294=>{const _0x406333=_0xa86830;let _0x4fe7a6=![];const _0x245f3b=_0x3b9294[_0x406333(0x3e7)]('.topic-row');_0x245f3b[_0x406333(0x4ec)](_0x46f9bc=>{const _0x76946f=_0x406333,_0x26e33b=_0x46f9bc[_0x76946f(0xa3e)](_0x76946f(0x935))[_0x76946f(0x467)][_0x76946f(0x8fa)]();_0x26e33b[_0x76946f(0x229)](_0x583a11)?(_0x46f9bc[_0x76946f(0xbe9)][_0x76946f(0x5ab)]=_0x76946f(0xb9c),_0x4fe7a6=!![]):_0x46f9bc['style']['display']=_0x76946f(0x979);}),_0x4fe7a6?_0x3b9294[_0x406333(0xbe9)][_0x406333(0x5ab)]=_0x406333(0x502):_0x3b9294[_0x406333(0xbe9)][_0x406333(0x5ab)]='none';});});document['getElementById'](_0x1b68df(0x6ac))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>exportTableAsImage(_0x1b68df(0xc1d),_0xe9627f())),document['getElementById']('export-pdf-btn')['addEventListener'](_0x1b68df(0x32d),()=>exportTableAsPDF(_0x1b68df(0x96c),_0xe9627f())),document[_0x1b68df(0x7db)](_0x1b68df(0xbd1))[_0x1b68df(0xb63)]('click',()=>exportTableAsWord(_0x1b68df(0xc1d),_0xe9627f())),document[_0x1b68df(0x7db)](_0x1b68df(0x2c5))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>exportTableAsExcel(_0x1b68df(0x96c),_0xe9627f()));const _0x4f9ac5=()=>{const _0x211100=_0x1b68df,_0x2e4c96=document['getElementById'](_0x211100(0x704))[_0x211100(0x467)]['replace'](/[^a-z0-9]/gi,'_')[_0x211100(0x8fa)]();return'leaderboard_'+(_0x2e4c96||_0x211100(0x557));};document['getElementById'](_0x1b68df(0x42d))[_0x1b68df(0xb63)]('click',()=>exportTableAsImage(_0x1b68df(0xc31),_0x4f9ac5())),document[_0x1b68df(0x7db)](_0x1b68df(0x9a0))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>exportTableAsPDF(_0x1b68df(0x417),_0x4f9ac5())),document[_0x1b68df(0x7db)](_0x1b68df(0x474))['addEventListener'](_0x1b68df(0x32d),()=>exportTableAsWord(_0x1b68df(0xc31),_0x4f9ac5())),document[_0x1b68df(0x7db)](_0x1b68df(0xb6f))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>exportTableAsExcel('quiz-leaderboard-table',_0x4f9ac5())),projectQuizzesList['addEventListener'](_0x1b68df(0x32d),async _0x251eb2=>{const _0x477583=_0x1b68df,_0x20e24e=_0x251eb2[_0x477583(0x81b)][_0x477583(0x984)](_0x477583(0x4c6)),_0x3498de=_0x251eb2['target'][_0x477583(0x984)](_0x477583(0x2ea)),_0x280bc2=_0x251eb2[_0x477583(0x81b)][_0x477583(0x984)]('.compare-results-btn'),_0x3f50c3=_0x251eb2[_0x477583(0x81b)]['closest'](_0x477583(0x298)),_0x4f6328=_0x251eb2[_0x477583(0x81b)][_0x477583(0x984)](_0x477583(0x6b3)),_0xcd97d5=_0x251eb2[_0x477583(0x81b)]['closest'](_0x477583(0xaf0)),_0x38bee4=_0x251eb2['target'][_0x477583(0x984)](_0x477583(0x8c2)),_0x53d839=_0x251eb2[_0x477583(0x81b)][_0x477583(0x984)]('.quiz-settings-btn'),_0xe3ba77=_0x251eb2[_0x477583(0x81b)]['closest'](_0x477583(0x246)),_0x29f13a=_0x251eb2[_0x477583(0x81b)][_0x477583(0x984)]('.rename-quiz-btn'),_0x10f4f2=_0x251eb2['target'][_0x477583(0x984)](_0x477583(0x2d6)),_0x4e6aa1=_0x251eb2['target'][_0x477583(0x984)](_0x477583(0x340)),_0x28af57=_0x251eb2['target'][_0x477583(0x984)](_0x477583(0x205)),_0x347e02=_0x251eb2[_0x477583(0x81b)][_0x477583(0x984)](_0x477583(0x668)),_0x220d45=_0x251eb2[_0x477583(0x81b)][_0x477583(0x984)]('.start-presentation-list-btn'),_0x166491=_0x251eb2['target']['closest']('.admin-try-quiz-list-btn'),_0x1d0c76=_0x251eb2[_0x477583(0x81b)][_0x477583(0x984)](_0x477583(0x54a)),_0x2fe57b=_0x251eb2[_0x477583(0x81b)][_0x477583(0x984)](_0x477583(0xa53)),_0x3f6276=_0x251eb2[_0x477583(0x81b)][_0x477583(0x984)](_0x477583(0x904)),_0x43c30c=_0x251eb2[_0x477583(0x81b)][_0x477583(0x984)](_0x477583(0x632)),_0x3de84b=_0x251eb2[_0x477583(0x81b)]['closest'](_0x477583(0x4e3)),_0x37a441=_0x251eb2[_0x477583(0x81b)][_0x477583(0x984)](_0x477583(0x8ed)),_0x52ab54=_0x251eb2[_0x477583(0x81b)]['closest'](_0x477583(0xb49));if(_0x37a441){const _0x32c8f3=_0x37a441[_0x477583(0x297)]['quizId'],_0x2898d7=_0x37a441[_0x477583(0x297)][_0x477583(0x600)],_0x275326=allQuizzes[_0x477583(0xa19)](_0x3a6930=>_0x3a6930['id']===_0x32c8f3);_0x275326&&showGameStartConfirmationModal(_0x32c8f3,_0x2898d7,_0x275326['topic']);}else{if(_0x52ab54){const _0x2c4a0b=_0x52ab54[_0x477583(0x297)][_0x477583(0x33f)];handleStartLiveRace(_0x2c4a0b);}else{if(_0x43c30c){const _0x215787=_0x43c30c[_0x477583(0x297)]['quizId'],_0x16c82a=document[_0x477583(0x7db)](_0x477583(0x603)+_0x215787);_0x16c82a&&_0x16c82a['classList'][_0x477583(0x2c3)](_0x477583(0x997));}else{if(_0x3498de){const _0x4cbd27=_0x3498de[_0x477583(0x297)][_0x477583(0x33f)],_0x37801b=allQuizzes[_0x477583(0xa19)](_0x3990c0=>_0x3990c0['id']===_0x4cbd27);_0x37801b&&handleGenerateParallelPostTest(_0x37801b);}else{if(_0x280bc2)handleCompareResults(_0x280bc2[_0x477583(0x297)][_0x477583(0x33f)],_0x280bc2[_0x477583(0x297)][_0x477583(0xc0a)]);else{if(_0x3f50c3){const _0x2306f5=_0x3f50c3[_0x477583(0x297)][_0x477583(0x33f)],_0x278d9b=allQuizzes[_0x477583(0xa19)](_0x3779a6=>_0x3779a6['id']===_0x2306f5);_0x278d9b&&_0x278d9b[_0x477583(0x49a)]?(displayLessonPlan(_0x278d9b[_0x477583(0x49a)],_0x278d9b),showConfirmation(_0x477583(0x544),()=>handleGenerateLessonPlan(_0x2306f5)),document['getElementById'](_0x477583(0x2f1))[_0x477583(0xa3e)]('h3')[_0x477583(0x467)]=_0x477583(0x3b9),document[_0x477583(0x7db)](_0x477583(0x411))['textContent']='สร้างใหม่'):handleGenerateLessonPlan(_0x2306f5);}else{if(_0x4f6328)handleToggleStarQuiz(_0x4f6328['dataset'][_0x477583(0x33f)]);else{if(_0xcd97d5)copyTextToClipboard(_0xcd97d5[_0x477583(0x297)][_0x477583(0x33f)],'คัดลอกรหัสแล้ว!');else{if(_0x38bee4)handleOpenQuizEditor(_0x38bee4['dataset'][_0x477583(0x33f)]);else{if(_0x53d839)handleQuizSettings(_0x53d839[_0x477583(0x297)][_0x477583(0x33f)]);else{if(_0xe3ba77)handleDuplicateQuiz(_0xe3ba77['dataset'][_0x477583(0x33f)]);else{if(_0x29f13a)handleRenameQuiz(_0x29f13a[_0x477583(0x297)][_0x477583(0x33f)],_0x29f13a[_0x477583(0x297)][_0x477583(0x818)]);else{if(_0x10f4f2){const _0x3e4da6=_0x10f4f2[_0x477583(0x297)][_0x477583(0x33f)],_0x39fe67=allQuizzes[_0x477583(0xa19)](_0x3aa280=>_0x3aa280['id']===_0x3e4da6);_0x39fe67&&handleGenerateParallelFromBank(_0x39fe67);}else{if(_0x4e6aa1)handleMoveQuiz(_0x4e6aa1[_0x477583(0x297)]['quizId']);else{if(_0x28af57)handleManualQuizPairing(_0x28af57['dataset'][_0x477583(0x33f)]);else{if(_0x347e02)handleUnpairQuiz(_0x347e02[_0x477583(0x297)]['quizId']);else{if(_0x220d45){const _0x2cb7e5=_0x220d45[_0x477583(0x297)]['quizId'],_0x4781de=allQuizzes['find'](_0x11c939=>_0x11c939['id']===_0x2cb7e5);if(_0x4781de)startPresentation(_0x4781de);}else{if(_0x166491){const _0x586adf=_0x166491[_0x477583(0x297)][_0x477583(0x33f)],_0x514d40=allQuizzes['find'](_0x27c978=>_0x27c978['id']===_0x586adf);_0x514d40&&(currentQuizData=_0x514d40,startAdminTest());}else{if(_0x1d0c76)actionTargetId=_0x1d0c76[_0x477583(0x297)][_0x477583(0x33f)],document[_0x477583(0x7db)](_0x477583(0x962))[_0x477583(0x1fa)][_0x477583(0x428)](_0x477583(0x997));else{if(_0x2fe57b)showConfirmation(_0x477583(0x8f9)+_0x2fe57b[_0x477583(0x297)]['topic']+_0x477583(0x8df),()=>handleDeleteQuiz(_0x2fe57b['dataset'][_0x477583(0x33f)]));else{if(_0x3f6276)handleQuizStatus(_0x3f6276[_0x477583(0x297)][_0x477583(0x33f)]);else{if(_0x3de84b)handleGenerateEasyVersionQuiz(_0x3de84b['dataset'][_0x477583(0x33f)]);else _0x20e24e&&showQuizDetailView(_0x20e24e[_0x477583(0x297)][_0x477583(0x33f)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x1b68df(0x7db)](_0x1b68df(0xbe0))['addEventListener']('click',()=>showView(_0x1b68df(0x972))),document[_0x1b68df(0x7db)](_0x1b68df(0x9e7))[_0x1b68df(0xb63)](_0x1b68df(0x32d),confirmAndStartTeamQuiz),document[_0x1b68df(0x7db)](_0x1b68df(0x417))[_0x1b68df(0xa3e)]('thead')['addEventListener'](_0x1b68df(0x32d),_0x15712d=>{const _0x567c50=_0x1b68df,_0x17f4ca=_0x15712d[_0x567c50(0x81b)][_0x567c50(0x984)](_0x567c50(0x382));if(!_0x17f4ca||!_0x17f4ca[_0x567c50(0x297)]['sort'])return;const _0x620f95=_0x17f4ca[_0x567c50(0x297)][_0x567c50(0x236)];if(quizLeaderboardSortBy===_0x620f95)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x567c50(0xae2):_0x567c50(0x5f9);else{quizLeaderboardSortBy=_0x620f95;const _0x40fdb1=[_0x567c50(0xa50)];quizLeaderboardSortOrder=_0x40fdb1[_0x567c50(0x229)](_0x620f95)?_0x567c50(0x5f9):_0x567c50(0xae2);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x567c50(0x5ee));}),document[_0x1b68df(0x7db)](_0x1b68df(0x32e))[_0x1b68df(0xb63)](_0x1b68df(0x32d),closePresentation),document[_0x1b68df(0x7db)]('prev-question-btn')[_0x1b68df(0xb63)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x1b68df(0x7db)](_0x1b68df(0x3a4))[_0x1b68df(0xb63)]('click',()=>{const _0x595b61=_0x1b68df;currentQuizData[_0x595b61(0x29f)]&&currentPresentationSlide<currentQuizData['questions'][_0x595b61(0xaed)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x1b68df(0xb63)](_0x1b68df(0x62b),()=>{const _0xd0bfac=_0x1b68df;!document[_0xd0bfac(0xbba)]&&(presentationModal[_0xd0bfac(0xbe9)][_0xd0bfac(0x5ab)]='none');}),document[_0x1b68df(0x7db)]('delete-all-students-btn')[_0x1b68df(0xb63)](_0x1b68df(0x32d),handleDeleteAllStudents),studentList[_0x1b68df(0xb63)]('click',_0x14c7a8=>{const _0xec6b3=_0x1b68df,_0xe64921=_0x14c7a8['target'][_0xec6b3(0x984)](_0xec6b3(0xb65));if(_0xe64921){const _0x23434f=_0xe64921[_0xec6b3(0x297)][_0xec6b3(0xa50)];handleDeleteStudent(_0x23434f);}}),document[_0x1b68df(0x7db)](_0x1b68df(0xb9b))['addEventListener'](_0x1b68df(0x32d),handleGenerateFromFileClick),fileUploadInput[_0x1b68df(0xb63)]('change',_0x517272=>{const _0x1ae237=_0x1b68df,_0x1b83c7=_0x517272[_0x1ae237(0x81b)]['files'][0x0],_0x1aac8d=document[_0x1ae237(0x7db)](_0x1ae237(0xb9b)),_0x35d7c6=document[_0x1ae237(0x7db)](_0x1ae237(0x726)),_0x4f0c28=document[_0x1ae237(0x7db)](_0x1ae237(0x5ec));_0x1b83c7?(selectedFile=_0x1b83c7,_0x4f0c28['checked']?(_0x1aac8d[_0x1ae237(0x534)]=!![],analyzeFileForTopics(_0x1b83c7)):(_0x1aac8d['disabled']=![],_0x35d7c6[_0x1ae237(0x1fa)][_0x1ae237(0x36a)](_0x1ae237(0x997)))):(selectedFile=null,_0x1aac8d['disabled']=!![],_0x35d7c6[_0x1ae237(0x1fa)][_0x1ae237(0x36a)](_0x1ae237(0x997)));}),document[_0x1b68df(0x7db)](_0x1b68df(0x5ec))['addEventListener'](_0x1b68df(0x61d),_0xc3f489=>{const _0x29db33=_0x1b68df,_0x43470d=_0xc3f489[_0x29db33(0x81b)]['checked'],_0x38e649=document[_0x29db33(0x7db)](_0x29db33(0xb9b)),_0x1d9cf7=document['getElementById']('file-topics-list-container');_0x43470d?(_0x38e649[_0x29db33(0x534)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x1d9cf7['classList'][_0x29db33(0x428)]('hidden'),document['getElementById'](_0x29db33(0x5fa))[_0x29db33(0x848)]='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x1d9cf7['classList'][_0x29db33(0x36a)](_0x29db33(0x997)),_0x38e649[_0x29db33(0x534)]=!selectedFile);}),document[_0x1b68df(0x7db)]('file-topics-list-container')[_0x1b68df(0xb63)]('click',_0x4154bd=>{const _0x40687f=_0x1b68df,_0x5230a8=_0x4154bd[_0x40687f(0x81b)][_0x40687f(0x984)]('.file-topic-selection-btn'),_0x7793ef=_0x4154bd[_0x40687f(0x81b)][_0x40687f(0x984)](_0x40687f(0x30f));if(_0x5230a8){const _0x2beb1f=unescape(_0x5230a8['dataset'][_0x40687f(0x818)]);generateHybridQuizForTopic(_0x2beb1f);}else{if(_0x7793ef){const _0x2fc3eb=unescape(_0x7793ef[_0x40687f(0x297)]['topic']),_0x432f0b=document['getElementById']('difficulty-level-select')[_0x40687f(0x947)];handleGenerateAndShowLesson(_0x2fc3eb,_0x432f0b);}}}),document[_0x1b68df(0x7db)]('timer-mode-select')['addEventListener'](_0x1b68df(0x61d),_0x4a537b=>{const _0x1fdaad=_0x1b68df,_0x35aaaa=document['getElementById']('timer-duration-container'),_0xc93e3a=document['getElementById'](_0x1fdaad(0x33b)),_0x1fb07a=document[_0x1fdaad(0x7db)]('timer-duration-input');_0x4a537b[_0x1fdaad(0x81b)][_0x1fdaad(0x947)]===_0x1fdaad(0x979)?_0x35aaaa[_0x1fdaad(0x1fa)][_0x1fdaad(0x36a)]('hidden'):(_0x35aaaa[_0x1fdaad(0x1fa)][_0x1fdaad(0x428)]('hidden'),_0x4a537b[_0x1fdaad(0x81b)][_0x1fdaad(0x947)]===_0x1fdaad(0x4f8)?(_0xc93e3a[_0x1fdaad(0x467)]=_0x1fdaad(0x8d6),_0x1fb07a[_0x1fdaad(0x947)]='10'):(_0xc93e3a[_0x1fdaad(0x467)]=_0x1fdaad(0xbb5),_0x1fb07a[_0x1fdaad(0x947)]='30'));}),document['getElementById'](_0x1b68df(0x8c4))[_0x1b68df(0xb63)](_0x1b68df(0x61d),_0x253e36=>{const _0x319bf2=_0x1b68df,_0x2386b2=document['getElementById'](_0x319bf2(0x88a)),_0x200713=_0x253e36[_0x319bf2(0x81b)][_0x319bf2(0x947)],_0x29fe98=document[_0x319bf2(0xa3e)](_0x319bf2(0x7f9)),_0x549dfa=document['getElementById'](_0x319bf2(0xb43)),_0x169cb0=document[_0x319bf2(0x7db)]('num-questions');_0x200713===_0x319bf2(0x72e)?_0x29fe98[_0x319bf2(0x467)]=_0x319bf2(0x91d):_0x29fe98['textContent']=_0x319bf2(0x530),_0x200713===_0x319bf2(0x286)||_0x200713==='fill_in_with_choices'||_0x200713==='mixed'?_0x2386b2[_0x319bf2(0x1fa)][_0x319bf2(0x428)](_0x319bf2(0x997)):_0x2386b2['classList']['add']('hidden'),_0x549dfa[_0x319bf2(0x50b)]=_0x169cb0[_0x319bf2(0x947)];}),document[_0x1b68df(0x7db)](_0x1b68df(0x443))[_0x1b68df(0xb63)](_0x1b68df(0x480),_0x306a41=>{const _0xf4806a=_0x1b68df;document['getElementById'](_0xf4806a(0xb43))[_0xf4806a(0x50b)]=_0x306a41[_0xf4806a(0x81b)][_0xf4806a(0x947)];}),document[_0x1b68df(0x7db)](_0x1b68df(0x204))['addEventListener'](_0x1b68df(0x61d),_0x3e8d22=>{const _0xea63c4=_0x1b68df,_0x509e96=document[_0xea63c4(0x7db)](_0xea63c4(0xa5d)),_0x21da5a=document[_0xea63c4(0x7db)](_0xea63c4(0x826)),_0x27fa28=document[_0xea63c4(0x7db)]('modal-timer-duration-input');_0x3e8d22[_0xea63c4(0x81b)][_0xea63c4(0x947)]===_0xea63c4(0x979)?_0x509e96['classList']['add'](_0xea63c4(0x997)):(_0x509e96[_0xea63c4(0x1fa)][_0xea63c4(0x428)](_0xea63c4(0x997)),_0x3e8d22['target'][_0xea63c4(0x947)]===_0xea63c4(0x4f8)?_0x21da5a['textContent']=_0xea63c4(0x8d6):_0x21da5a[_0xea63c4(0x467)]=_0xea63c4(0xbb5));}),document['getElementById'](_0x1b68df(0xbc9))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x4943de=_0x1b68df;document[_0x4943de(0x7db)]('quiz-editor-modal')['classList'][_0x4943de(0x36a)](_0x4943de(0x997));}),document[_0x1b68df(0x7db)](_0x1b68df(0x3a9))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x298289=_0x1b68df;document[_0x298289(0x7db)]('quiz-editor-modal')['classList'][_0x298289(0x36a)]('hidden');}),document[_0x1b68df(0x7db)]('verify-answers-editor-btn')[_0x1b68df(0xb63)](_0x1b68df(0x32d),handleVerifyAnswersInEditor),document[_0x1b68df(0x7db)](_0x1b68df(0xba2))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x7bb939=_0x1b68df;document[_0x7bb939(0x7db)](_0x7bb939(0x973))[_0x7bb939(0x1fa)]['add'](_0x7bb939(0x997)),showConfirmation(_0x7bb939(0x832),handleSaveChanges);}),document[_0x1b68df(0x7db)](_0x1b68df(0xc37))[_0x1b68df(0xb63)](_0x1b68df(0x32d),handleAutoFixLatex);const _0x329f57=document[_0x1b68df(0x7db)]('quiz-editor-questions-container');_0x329f57&&_0x329f57[_0x1b68df(0xb63)](_0x1b68df(0x32d),_0x269718=>{const _0xb0fc6=_0x1b68df,_0x3ab07e=_0x269718[_0xb0fc6(0x81b)]['closest'](_0xb0fc6(0x9d5)),_0x2dfd09=_0x269718[_0xb0fc6(0x81b)][_0xb0fc6(0x984)](_0xb0fc6(0x2b3));if(_0x3ab07e){const _0x459f5c=_0x3ab07e[_0xb0fc6(0x984)](_0xb0fc6(0x909)),_0x2ecadb=parseInt(_0x459f5c[_0xb0fc6(0x297)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x2ecadb);}else{if(_0x2dfd09){const _0xca9239=_0x2dfd09[_0xb0fc6(0x984)]('.question-editor-item'),_0x504a9d=parseInt(_0xca9239[_0xb0fc6(0x297)][_0xb0fc6(0xacb)],0xa);handleAiFixFormula(_0x504a9d);}}});document[_0x1b68df(0x7db)](_0x1b68df(0x99a))[_0x1b68df(0xb63)]('click',openQuizBankModal),document['getElementById'](_0x1b68df(0x7f8))[_0x1b68df(0xb63)]('click',()=>{const _0x39b6e5=_0x1b68df;document[_0x39b6e5(0x7db)](_0x39b6e5(0x5e6))[_0x39b6e5(0x1fa)][_0x39b6e5(0x36a)](_0x39b6e5(0x997));}),document[_0x1b68df(0x7db)]('bank-quiz-search-input')[_0x1b68df(0xb63)](_0x1b68df(0x480),_0x13ff37=>renderQuizBankList(_0x13ff37[_0x1b68df(0x81b)][_0x1b68df(0x947)]));const _0x46df99=document[_0x1b68df(0x7db)](_0x1b68df(0xb76));if(_0x46df99){let _0x103685=null;_0x46df99[_0x1b68df(0xb63)]('click',_0x4fd988=>{const _0x5f7dbb=_0x1b68df,_0x32f494=_0x4fd988[_0x5f7dbb(0x81b)],_0x9ba65c=_0x32f494['closest']('.edit-custom-topic-btn'),_0x492ac5=_0x32f494[_0x5f7dbb(0x984)](_0x5f7dbb(0x1f5)),_0x7155b7=_0x32f494['closest']('.save-custom-topic-btn'),_0x2eb6cb=_0x32f494[_0x5f7dbb(0x984)](_0x5f7dbb(0x7dc));if(_0x492ac5){_0x4fd988[_0x5f7dbb(0xaf1)]();const _0xbcfda=_0x492ac5[_0x5f7dbb(0x297)]['id'],_0x2f4b61=_0x492ac5['closest'](_0x5f7dbb(0xa49))[_0x5f7dbb(0xa3e)](_0x5f7dbb(0x935))[_0x5f7dbb(0x467)];showConfirmation(_0x5f7dbb(0x6d4)+_0x2f4b61+'\x22?',()=>handleDeleteCustomTopic(_0xbcfda));}else{if(_0x9ba65c){_0x4fd988[_0x5f7dbb(0xaf1)]();_0x103685&&toggleTopicEditMode(_0x103685,![]);const _0x19cc93=_0x9ba65c[_0x5f7dbb(0x984)](_0x5f7dbb(0x606));_0x103685=_0x19cc93,toggleTopicEditMode(_0x19cc93,!![]);}else{if(_0x7155b7){_0x4fd988['preventDefault']();const _0x1e9f8d=_0x7155b7[_0x5f7dbb(0x297)]['id'],_0x2e7bbb=_0x7155b7[_0x5f7dbb(0x984)]('[data-topic-container-id]'),_0x57a826=_0x2e7bbb[_0x5f7dbb(0xa3e)](_0x5f7dbb(0x264))[_0x5f7dbb(0x947)];handleUpdateCustomTopic(_0x1e9f8d,_0x57a826),_0x103685=null;}else{if(_0x2eb6cb){_0x4fd988['preventDefault']();const _0x9f9088=_0x2eb6cb[_0x5f7dbb(0x984)](_0x5f7dbb(0x606));toggleTopicEditMode(_0x9f9088,![]),_0x103685=null;}}}}}),document[_0x1b68df(0x7db)](_0x1b68df(0xb20))['addEventListener'](_0x1b68df(0x32d),()=>{const _0x183bbf=_0x1b68df;document['getElementById']('lesson-plan-modal')['classList']['add'](_0x183bbf(0x997));}),document[_0x1b68df(0x7db)](_0x1b68df(0x376))[_0x1b68df(0xb63)](_0x1b68df(0x32d),()=>{const _0x23d997=_0x1b68df;document[_0x23d997(0x7db)]('lesson-plan-modal')['classList'][_0x23d997(0x36a)](_0x23d997(0x997));}),document[_0x1b68df(0x7db)](_0x1b68df(0x768))[_0x1b68df(0xb63)](_0x1b68df(0x32d),handleExportLessonPDF);}document[_0x1b68df(0x7db)]('close-comparison-modal-btn')['addEventListener'](_0x1b68df(0x32d),()=>{const _0x2b05f8=_0x1b68df;document[_0x2b05f8(0x7db)](_0x2b05f8(0x916))[_0x2b05f8(0x1fa)][_0x2b05f8(0x36a)](_0x2b05f8(0x997));}),document['getElementById']('close-comparison-modal-footer-btn')['addEventListener']('click',()=>{const _0x570e2c=_0x1b68df;document[_0x570e2c(0x7db)](_0x570e2c(0x916))['classList'][_0x570e2c(0x36a)](_0x570e2c(0x997));}),setupComparisonModalTabs(),document[_0x1b68df(0x43d)]['addEventListener'](_0x1b68df(0x32d),function(_0xac724f){const _0x2bc5c1=_0x1b68df;if(_0xac724f['target'][_0x2bc5c1(0x1fa)][_0x2bc5c1(0xae6)](_0x2bc5c1(0x509))){const _0x569f00=unescape(_0xac724f['target'][_0x2bc5c1(0x297)][_0x2bc5c1(0x818)]);startSkillPractice(_0x569f00);}}),document[_0x1b68df(0x7db)]('scores-tab-content')[_0x1b68df(0xb63)](_0x1b68df(0x32d),_0x2c70ac=>{const _0x33eae6=_0x1b68df,_0x5a1ea7=_0x2c70ac[_0x33eae6(0x81b)][_0x33eae6(0x984)](_0x33eae6(0x6f0));if(_0x5a1ea7){const _0xe07c83=_0x5a1ea7[_0x33eae6(0x297)]['studentName'];handleDeleteSubmission(_0xe07c83);}});}async function handleStartGroupMode(_0x269fd8,_0x27f062=![]){const _0x19f317=_0x49918e,_0x5b5291=allQuizzes[_0x19f317(0xa19)](_0x1ddd17=>_0x1ddd17['id']===_0x269fd8)||allQuizzesGlobal[_0x19f317(0xa19)](_0x5895a0=>_0x5895a0['id']===_0x269fd8);if(!_0x5b5291){showMessage(_0x19f317(0x20c));return;}currentQuizData=getShuffledQuiz(_0x5b5291);const _0x4afa16=Math[_0x19f317(0x356)](0x3e8+Math['random']()*0x2328)[_0x19f317(0x241)]();try{const _0x2a0bb1=await addDoc(collection(db,_0x19f317(0x878)+appId+_0x19f317(0x7c9)),{'quizId':_0x5b5291['id'],'projectId':_0x5b5291[_0x19f317(0x33a)],'status':_0x19f317(0x8a7),'pin':_0x4afa16,'mode':_0x19f317(0x884),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x27f062});currentTeamQuizId=_0x2a0bb1['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x4afa16,_0x5b5291[_0x19f317(0x818)],'group'),listenForTeamQuizUpdates();}catch(_0x2b530){console['error'](_0x19f317(0xab2),_0x2b530),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x203024=_0x49918e;studentInitialView[_0x203024(0x1fa)][_0x203024(0x36a)](_0x203024(0x997)),document[_0x203024(0x7db)](_0x203024(0x723))[_0x203024(0x1fa)]['remove']('hidden');const _0x45abad=document[_0x203024(0x7db)](_0x203024(0x41a)),_0x4e0107=document[_0x203024(0x7db)]('progress-student-select'),_0x4479e0=document[_0x203024(0x7db)](_0x203024(0x735));_0x4479e0[_0x203024(0x848)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x4e0107['innerHTML']=_0x203024(0x3a2),_0x4e0107[_0x203024(0x534)]=!![],_0x45abad['innerHTML']=_0x203024(0x70b);if(allProjects[_0x203024(0xaed)]===0x0){const _0x641170=collection(db,_0x203024(0x878)+appId+_0x203024(0xc07)),_0x396a55=await getDocs(_0x641170);allProjects=_0x396a55['docs'][_0x203024(0x251)](_0x2a6f19=>({'id':_0x2a6f19['id'],..._0x2a6f19[_0x203024(0x999)]()}));}const _0x1b5360=allProjects[_0x203024(0xbf0)](_0x539b95=>_0x539b95['settings']?.['showInStudentDashboard']!==![]);_0x1b5360[_0x203024(0x236)]((_0x4746a3,_0x1b730a)=>_0x4746a3[_0x203024(0x257)][_0x203024(0x90f)](_0x1b730a['projectName'],'th')),_0x45abad[_0x203024(0x848)]=_0x203024(0x352)+_0x1b5360[_0x203024(0x251)](_0x21efd3=>_0x203024(0x397)+_0x21efd3['id']+'\x22>'+_0x21efd3[_0x203024(0x257)]+_0x203024(0x266))[_0x203024(0x7b8)](''),_0x45abad[_0x203024(0x4cb)]=()=>{const _0xcec1cc=_0x203024,_0x19ec76=_0x4e0107['value'],_0x1d5b39=_0x45abad[_0xcec1cc(0x947)];_0x4e0107[_0xcec1cc(0x534)]=!![],_0x4e0107[_0xcec1cc(0x848)]=_0xcec1cc(0x3a2),_0x4479e0[_0xcec1cc(0x848)]=_0xcec1cc(0x89f);if(!_0x1d5b39)return;const _0x41c8c3=allProjects[_0xcec1cc(0xa19)](_0x1baae8=>_0x1baae8['id']===_0x1d5b39);if(!_0x41c8c3||!_0x41c8c3['students'])return;const _0x5764b8=()=>{const _0x50686e=_0xcec1cc;_0x4e0107[_0x50686e(0x848)]=_0x50686e(0x3a2)+_0x41c8c3[_0x50686e(0xc14)]['map'](_0x8a33fd=>_0x50686e(0x397)+_0x8a33fd+'\x22>'+_0x8a33fd+_0x50686e(0x266))['join'](''),_0x4e0107[_0x50686e(0x534)]=![];const _0x2d5e9b=Array['from'](_0x4e0107['options'])[_0x50686e(0x251)](_0x3fb3c2=>_0x3fb3c2[_0x50686e(0x947)]);if(_0x19ec76&&_0x2d5e9b[_0x50686e(0x229)](_0x19ec76))_0x4e0107[_0x50686e(0x947)]=_0x19ec76,_0x4e0107['dispatchEvent'](new Event(_0x50686e(0x61d)));else _0x41c8c3[_0x50686e(0xc14)][_0x50686e(0xaed)]===0x1&&(_0x4e0107['value']=_0x41c8c3['students'][0x0],_0x4e0107['dispatchEvent'](new Event(_0x50686e(0x61d))));};if(_0x41c8c3[_0xcec1cc(0x8d5)]?.[_0xcec1cc(0x2f6)]){if(sessionStorage[_0xcec1cc(0x514)](_0xcec1cc(0xadc)+_0x1d5b39)===_0xcec1cc(0x36c)){_0x5764b8();return;}const _0x5c9e60=document[_0xcec1cc(0x7db)](_0xcec1cc(0x7a9)),_0xffc699=document[_0xcec1cc(0x7db)]('confirm-passcode-btn'),_0x22e31e=document['getElementById']('cancel-passcode-btn'),_0x53e9c1=document[_0xcec1cc(0x7db)](_0xcec1cc(0x4d1)),_0x5d01d1=document[_0xcec1cc(0x7db)](_0xcec1cc(0x714));document['getElementById'](_0xcec1cc(0x8a3))[_0xcec1cc(0x467)]=_0xcec1cc(0xa8e)+_0x41c8c3[_0xcec1cc(0x257)],_0x53e9c1[_0xcec1cc(0x947)]='',_0x5d01d1['classList'][_0xcec1cc(0x36a)](_0xcec1cc(0x997)),_0x5c9e60['classList']['remove'](_0xcec1cc(0x997));const _0x14a0f6=()=>{const _0x246943=_0xcec1cc,_0x1856fe=_0x53e9c1[_0x246943(0x947)][_0x246943(0x564)]();_0x1856fe===_0x41c8c3[_0x246943(0x8d5)][_0x246943(0x3d6)]?(sessionStorage[_0x246943(0x470)](_0x246943(0xadc)+_0x1d5b39,_0x246943(0x36c)),_0x5c9e60[_0x246943(0x1fa)][_0x246943(0x36a)](_0x246943(0x997)),_0x5764b8(),_0xffc699['removeEventListener']('click',_0x14a0f6)):_0x5d01d1[_0x246943(0x1fa)][_0x246943(0x428)](_0x246943(0x997));};_0xffc699[_0xcec1cc(0x39c)]=_0x14a0f6,_0x22e31e[_0xcec1cc(0x39c)]=()=>{const _0x18845a=_0xcec1cc;_0x5c9e60[_0x18845a(0x1fa)][_0x18845a(0x36a)](_0x18845a(0x997)),_0x45abad[_0x18845a(0x947)]='',_0xffc699[_0x18845a(0xb7a)](_0x18845a(0x32d),_0x14a0f6);};}else _0x5764b8();},_0x4e0107[_0x203024(0x4cb)]=()=>{const _0x4f135b=_0x203024,_0x2a93b4=_0x45abad[_0x4f135b(0x947)],_0xcf7bce=_0x4e0107['value'];_0x2a93b4&&_0xcf7bce&&renderStudentProgressDashboard(_0x2a93b4,_0xcf7bce);};}async function confirmAndJoinSyncGame(){const _0x1f470e=_0x49918e,_0x5a08ba=Array[_0x1f470e(0x3b3)](document[_0x1f470e(0x3e7)]('input[name=\x22team_player\x22]:checked'))[_0x1f470e(0x251)](_0x4be0e2=>_0x4be0e2[_0x1f470e(0x947)]);if(_0x5a08ba[_0x1f470e(0xaed)]===0x0){showMessage(_0x1f470e(0xa93));return;}localTeamPlayers=_0x5a08ba,localPlayerTurnIndex=0x0;const _0x719925=doc(db,_0x1f470e(0x878)+appId+_0x1f470e(0x881),currentLiveGameId);try{const _0x20bf45=await getDoc(_0x719925);if(!_0x20bf45[_0x1f470e(0xbeb)]())throw new Error(_0x1f470e(0x5e8));const _0xb84c14=_0x20bf45[_0x1f470e(0x999)]()[_0x1f470e(0x891)]||{};_0x5a08ba[_0x1f470e(0x4ec)](_0x4b646e=>{const _0x1cd833=_0x1f470e;!_0xb84c14[_0x4b646e]&&(_0xb84c14[_0x4b646e]={'name':_0x4b646e,'score':0x0,'answered':![],'status':_0x1cd833(0x9d3)});}),await updateDoc(_0x719925,{'players':_0xb84c14}),document[_0x1f470e(0x7db)](_0x1f470e(0x846))['classList'][_0x1f470e(0x36a)](_0x1f470e(0x997)),currentStudentName=_0x5a08ba[0x0],listenForSyncGameUpdates();const _0x2b2297={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1f470e(0x470)](_0x1f470e(0xb05),JSON[_0x1f470e(0x362)](_0x2b2297));}catch(_0x4026bc){console[_0x1f470e(0xb89)](_0x1f470e(0x28f),_0x4026bc),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x46cb54=_0x49918e,_0x5ba5f2=sessionStorage[_0x46cb54(0x514)](_0x46cb54(0xb05));if(!_0x5ba5f2)return;const _0x2dc7ca=JSON['parse'](_0x5ba5f2),{gameId:_0x16f4a0,mode:_0x203bd3,players:_0x7042d7,turnIndex:_0x631815}=_0x2dc7ca;try{let _0x3e07f2,_0x358f84;_0x203bd3===_0x46cb54(0x578)?_0x3e07f2=doc(db,_0x46cb54(0x878)+appId+_0x46cb54(0x881),_0x16f4a0):_0x3e07f2=doc(db,'artifacts/'+appId+_0x46cb54(0x7c9),_0x16f4a0);_0x358f84=await getDoc(_0x3e07f2);if(!_0x358f84[_0x46cb54(0xbeb)]()||_0x358f84['data']()['status']==='finished'||_0x358f84[_0x46cb54(0x999)]()[_0x46cb54(0xbc2)]===_0x46cb54(0x738)){sessionStorage[_0x46cb54(0x435)](_0x46cb54(0xb05));return;}console[_0x46cb54(0x7bb)]('กำลังกลับเข้าสู่เกม\x20'+_0x203bd3+'\x20(ID:\x20'+_0x16f4a0+')'),localTeamPlayers=_0x7042d7,localPlayerTurnIndex=_0x631815;if(_0x203bd3===_0x46cb54(0x578))currentLiveGameId=_0x16f4a0,currentStudentName=_0x7042d7[0x0],showView(_0x46cb54(0x477)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x16f4a0;const _0x14c800=_0x358f84[_0x46cb54(0x999)](),_0xa14d50=doc(db,_0x46cb54(0x878)+appId+_0x46cb54(0x1ed),_0x14c800[_0x46cb54(0x33f)]),_0x353b87=await getDoc(_0xa14d50);_0x353b87[_0x46cb54(0xbeb)]()&&(currentQuizData=getShuffledQuiz({'id':_0x353b87['id'],..._0x353b87[_0x46cb54(0x999)]()}),showView(_0x46cb54(0x972)),studentInitialView[_0x46cb54(0x1fa)][_0x46cb54(0x36a)](_0x46cb54(0x997)),renderTeamQuizQuestion());}}catch(_0x202053){console['error'](_0x46cb54(0x896),_0x202053),sessionStorage['removeItem'](_0x46cb54(0xb05));}}async function handleKickPlayerSync(_0x76d80a){const _0x54ca13=_0x49918e;if(!currentLiveGameId||!_0x76d80a)return;const _0x836afa=doc(db,'artifacts/'+appId+_0x54ca13(0x881),currentLiveGameId),_0x210b84={};_0x210b84[_0x54ca13(0x2fe)+_0x76d80a+_0x54ca13(0x7ce)]=_0x54ca13(0x31b);try{await updateDoc(_0x836afa,_0x210b84);}catch(_0x54c540){console[_0x54ca13(0xb89)](_0x54ca13(0x4a0)+_0x76d80a+_0x54ca13(0x2c0),_0x54c540),showMessage(_0x54ca13(0x576));}}async function renderStudentProgressDashboard(_0x3b070d,_0x373b64){const _0x42bb36=_0x49918e,_0x5a36ea=document[_0x42bb36(0x7db)](_0x42bb36(0x735));_0x5a36ea[_0x42bb36(0x848)]=_0x42bb36(0x69d);try{const _0x27f9ed=collection(db,_0x42bb36(0x878)+appId+_0x42bb36(0x1ed)),_0x1ba4da=query(_0x27f9ed,where('projectId','==',_0x3b070d)),_0x535d5a=await getDocs(_0x1ba4da),_0x2cf27f=_0x535d5a[_0x42bb36(0x689)][_0x42bb36(0x251)](_0xb4ca6d=>({'id':_0xb4ca6d['id'],..._0xb4ca6d[_0x42bb36(0x999)]()})),_0x59c0e2=_0x2cf27f['map'](_0x43ef55=>getDoc(doc(db,_0x42bb36(0x878)+appId+_0x42bb36(0x350)+_0x43ef55['id']+_0x42bb36(0xa86),_0x373b64))),_0x523856=await Promise['all'](_0x59c0e2),_0x30b420=_0x523856['filter'](_0x24a5d4=>_0x24a5d4[_0x42bb36(0xbeb)]())[_0x42bb36(0x251)](_0x119eda=>({'quizId':_0x119eda[_0x42bb36(0x2b2)]['parent']['parent']['id'],..._0x119eda[_0x42bb36(0x999)]()}));if(_0x30b420['length']===0x0){_0x5a36ea[_0x42bb36(0x848)]=_0x42bb36(0xb13);return;}let _0x1361fe=_0x42bb36(0x597);_0x30b420[_0x42bb36(0x4ec)](_0x53f33d=>{const _0x55b3ba=_0x42bb36,_0x2cb5e0=_0x2cf27f[_0x55b3ba(0xa19)](_0x4857ba=>_0x4857ba['id']===_0x53f33d[_0x55b3ba(0x33f)]),_0x2bb16c=_0x2cb5e0[_0x55b3ba(0x8d5)]?.['resultsDisplay']||_0x55b3ba(0x4e2),_0x2de99e=_0x2cb5e0['settings']?.[_0x55b3ba(0xc3f)]??0x0,_0x53085e=_0x53f33d[_0x55b3ba(0x8b7)]>=_0x2de99e;let _0x560f73='',_0x35c49b=_0x55b3ba(0x664);switch(_0x2bb16c){case _0x55b3ba(0x4e2):case _0x55b3ba(0x5bb):_0x35c49b=_0x53085e?_0x55b3ba(0xb98):_0x55b3ba(0xb6e),_0x560f73=_0x55b3ba(0x614)+(_0x53085e?_0x55b3ba(0x621):_0x55b3ba(0x81d))+'\x22>'+_0x53f33d[_0x55b3ba(0x8b7)]+_0x55b3ba(0x814)+_0x53f33d['totalQuestions']+_0x55b3ba(0x991)+(_0x53085e?_0x55b3ba(0x7cf):_0x55b3ba(0xc0b))+'\x22>'+(_0x53085e?'ผ่าน':_0x55b3ba(0x556))+_0x55b3ba(0x682);break;case'show_pass_fail_only':_0x35c49b=_0x53085e?_0x55b3ba(0xb98):_0x55b3ba(0xb6e),_0x560f73=_0x55b3ba(0x95b)+(_0x53085e?_0x55b3ba(0x7cf):'bg-red-200\x20text-red-800')+'\x22>'+(_0x53085e?_0x55b3ba(0x2bc):'ไม่ผ่าน')+_0x55b3ba(0x682);break;case _0x55b3ba(0xa4e):_0x35c49b=_0x55b3ba(0x9e4),_0x560f73=_0x55b3ba(0x813);break;}_0x1361fe+=_0x55b3ba(0x9bb)+_0x35c49b+_0x55b3ba(0x75d)+_0x2cb5e0['topic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x53f33d['attempts'][_0x55b3ba(0xaed)]+_0x55b3ba(0x52d)+new Date(_0x53f33d[_0x55b3ba(0x99c)])[_0x55b3ba(0x775)](_0x55b3ba(0x5f3))+_0x55b3ba(0x750)+_0x560f73+_0x55b3ba(0xc16);}),_0x1361fe+=_0x42bb36(0x640),_0x5a36ea['innerHTML']=_0x1361fe;}catch(_0x3dce8b){console[_0x42bb36(0xb89)](_0x42bb36(0x344),_0x3dce8b),_0x5a36ea['innerHTML']=_0x42bb36(0x710);}}function setupStudentProgressListeners(){const _0x1ec9dc=_0x49918e;document[_0x1ec9dc(0x7db)](_0x1ec9dc(0xb84))[_0x1ec9dc(0xb63)]('click',showStudentProgressView),document['getElementById'](_0x1ec9dc(0xb68))[_0x1ec9dc(0xb63)](_0x1ec9dc(0x32d),()=>{const _0x147d5f=_0x1ec9dc;document['getElementById'](_0x147d5f(0x723))[_0x147d5f(0x1fa)][_0x147d5f(0x36a)](_0x147d5f(0x997)),document['getElementById'](_0x147d5f(0x7a1))[_0x147d5f(0x1fa)][_0x147d5f(0x428)](_0x147d5f(0x997));});}async function startSkillPractice(_0x5650d6){const _0x505855=_0x49918e;studentResultArea[_0x505855(0x1fa)][_0x505855(0x36a)](_0x505855(0x997)),studentQuizArea['innerHTML']=_0x505855(0x237),studentQuizArea['classList'][_0x505855(0x428)]('hidden');try{const _0x64aa1a=await getStandardizedTopic(_0x5650d6);console['log'](_0x505855(0x367)+_0x5650d6+_0x505855(0x54c)+_0x64aa1a+'\x22'),studentQuizArea[_0x505855(0xa3e)]('p')[_0x505855(0x467)]=_0x505855(0x6b2)+_0x64aa1a+_0x505855(0x2d1);const _0x47bc49=collection(db,_0x505855(0x878)+appId+'/public/data/practiceBank'),_0x55821b=query(_0x47bc49,where(_0x505855(0x818),'==',_0x64aa1a)),_0x510175=await getDocs(_0x55821b);if(_0x510175['docs'][_0x505855(0xaed)]>=0x3){console[_0x505855(0x7bb)](_0x505855(0x306)+_0x510175[_0x505855(0x689)][_0x505855(0xaed)]+_0x505855(0x9d9)+_0x64aa1a+_0x505855(0xba0));let _0x5464dc=_0x510175[_0x505855(0x689)][_0x505855(0x251)](_0x34a6e7=>_0x34a6e7[_0x505855(0x999)]());shuffleArray(_0x5464dc);const _0x126094={'topic':_0x64aa1a,'questions':_0x5464dc['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x126094);}else{console[_0x505855(0x7bb)](_0x505855(0x418)+_0x64aa1a+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x26808b=await generatePracticeQuestions(_0x64aa1a);await saveDrillToPracticeBank(_0x26808b,_0x64aa1a),displaySkillPracticeDrill(_0x26808b);}}catch(_0x241bdb){console['error'](_0x505855(0x7be),_0x241bdb),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x505855(0x1fa)][_0x505855(0x36a)](_0x505855(0x997)),studentResultArea[_0x505855(0x1fa)][_0x505855(0x428)](_0x505855(0x997));}}async function saveDrillToPracticeBank(_0x2969e3,_0x1f417d){const _0x158a85=_0x49918e,_0x265fb3=collection(db,_0x158a85(0x878)+appId+_0x158a85(0x7fc)),_0x10d1d9=writeBatch(db);_0x2969e3[_0x158a85(0x29f)][_0x158a85(0x4ec)](_0x4aa616=>{const _0xe49d85=_0x158a85,_0x529344=doc(_0x265fb3);_0x10d1d9[_0xe49d85(0x874)](_0x529344,{'topic':_0x1f417d,'questionText':_0x4aa616[_0xe49d85(0xa04)],'options':_0x4aa616['options'],'correctAnswerIndex':_0x4aa616[_0xe49d85(0x6e8)],'explanation':_0x4aa616['explanation'],'createdAt':serverTimestamp()});});try{await _0x10d1d9[_0x158a85(0x917)](),console[_0x158a85(0x7bb)](_0x158a85(0x940)+_0x2969e3['questions']['length']+_0x158a85(0x221));}catch(_0xb07934){console[_0x158a85(0xb89)](_0x158a85(0x37b),_0xb07934);}}async function getStandardizedTopic(_0x3bb98e){const _0x3935ac=_0x49918e,_0x4afd27=_0x3935ac(0x843)+_0x3bb98e+_0x3935ac(0xa92),_0x23d7a2={'type':_0x3935ac(0x7eb),'properties':{'standardTopic':{'type':_0x3935ac(0x3ec)}},'required':['standardTopic']};try{const _0x2b5b5d=await callAnalysisApi(_0x4afd27,_0x23d7a2);return _0x2b5b5d[_0x3935ac(0xa7c)];}catch(_0x2c69f8){return console['error'](_0x3935ac(0x691),_0x2c69f8),_0x3bb98e;}}async function handleGenerateEasyVersionQuiz(_0x5a347a){const _0x2269d3=_0x49918e,_0x5bcb59=document[_0x2269d3(0x7db)](_0x2269d3(0xc1f)),_0x4ef4a9=document[_0x2269d3(0x7db)](_0x2269d3(0xa9b));_0x4ef4a9['classList'][_0x2269d3(0x36a)](_0x2269d3(0x997));const _0x4ddfd6=_0x2269d3(0x527);_0x5bcb59[_0x2269d3(0xa21)](_0x2269d3(0x2af),_0x4ddfd6);try{const _0x1eda9d=allQuizzes[_0x2269d3(0xa19)](_0x4abfba=>_0x4abfba['id']===_0x5a347a);if(!_0x1eda9d)throw new Error(_0x2269d3(0x867));const _0x36e7f2=_0x2269d3(0x6f9)+JSON['stringify'](_0x1eda9d[_0x2269d3(0x29f)])+_0x2269d3(0x22c),_0xf73a5d={'type':_0x2269d3(0x7eb),'properties':{'questionText':{'type':_0x2269d3(0x3ec)},'questionType':{'type':'STRING'},'options':{'type':_0x2269d3(0x315),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2269d3(0x8de)},'idealAnswer':{'type':_0x2269d3(0x3ec)},'explanation':{'type':_0x2269d3(0x3ec)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x2269d3(0x7e0),_0x2269d3(0x9e0)]},_0x389514={'type':'OBJECT','properties':{'questions':{'type':'ARRAY','items':_0xf73a5d}},'required':[_0x2269d3(0x29f)]},_0x3b6104=await callAnalysisApi(_0x36e7f2,_0x389514);_0x3b6104&&_0x3b6104[_0x2269d3(0x29f)]&&_0x3b6104[_0x2269d3(0x29f)][_0x2269d3(0x4ec)](_0x1b9aa8=>{const _0x54bb54=_0x2269d3;if(_0x1b9aa8[_0x54bb54(0x88f)](_0x54bb54(0x71a))){const _0x4b17f9=String(_0x1b9aa8[_0x54bb54(0x71a)])[_0x54bb54(0x564)]();(_0x4b17f9===''||_0x4b17f9[_0x54bb54(0x8fa)]()===_0x54bb54(0x36e)||!_0x4b17f9[_0x54bb54(0x663)](_0x54bb54(0x320)))&&delete _0x1b9aa8[_0x54bb54(0x71a)];}});if(!_0x3b6104||!_0x3b6104[_0x2269d3(0x29f)]||_0x3b6104[_0x2269d3(0x29f)][_0x2269d3(0xaed)]===0x0)throw new Error(_0x2269d3(0x3f8));const _0x89b53a=_0x3b6104[_0x2269d3(0x29f)][_0x2269d3(0x251)]((_0x14b6ac,_0x609c1b)=>({..._0x14b6ac,'id':'q_'+Date[_0x2269d3(0x8fb)]()+'_'+_0x609c1b})),_0x563bbf={'projectId':_0x1eda9d[_0x2269d3(0x33a)],'quizType':_0x1eda9d[_0x2269d3(0x3ee)],'settings':_0x1eda9d['settings'],'createdBy':_0x1eda9d[_0x2269d3(0x283)],'status':_0x2269d3(0x9d3),'topic':_0x2269d3(0xaf4)+_0x1eda9d[_0x2269d3(0x818)],'questions':_0x89b53a,'createdAt':new Date()[_0x2269d3(0x9e9)](),'quizMode':_0x2269d3(0x805),'pairedQuizId':null};let _0x93ba05;while(!![]){_0x93ba05=Math[_0x2269d3(0x356)](0x3e8+Math[_0x2269d3(0x9df)]()*0x2328)[_0x2269d3(0x241)]();const _0x1766f5=await getDoc(doc(db,_0x2269d3(0x878)+appId+_0x2269d3(0x1ed),_0x93ba05));if(!_0x1766f5['exists']())break;}await setDoc(doc(db,_0x2269d3(0x878)+appId+_0x2269d3(0x1ed),_0x93ba05),_0x563bbf),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x180ec6){console[_0x2269d3(0xb89)](_0x2269d3(0x744),_0x180ec6),showMessage(_0x2269d3(0x5b8)+_0x180ec6[_0x2269d3(0x927)]);}finally{const _0x3716db=document[_0x2269d3(0x7db)](_0x2269d3(0xbb2));_0x3716db&&_0x3716db[_0x2269d3(0x428)](),_0x4ef4a9[_0x2269d3(0x1fa)][_0x2269d3(0x428)](_0x2269d3(0x997));}}async function generatePracticeQuestions(_0x1b0ebd){const _0x488831=_0x49918e,_0x251e59=_0x488831(0xa83)+_0x1b0ebd+_0x488831(0xc28)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x420351={'type':_0x488831(0x7eb),'properties':{'questionText':{'type':_0x488831(0x3ec)},'options':{'type':_0x488831(0x315),'items':{'type':_0x488831(0x3ec)}},'correctAnswerIndex':{'type':_0x488831(0x8de)},'explanation':{'type':_0x488831(0x3ec)}},'required':[_0x488831(0xa04),'options',_0x488831(0x6e8),_0x488831(0x9e0)]},_0x55f815={'type':_0x488831(0x7eb),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x420351}},'required':['topic',_0x488831(0x29f)]};return await callAnalysisApi(_0x251e59,_0x55f815);}function displayLessonPlan(_0x500779,_0x459be2){const _0x42ddea=_0x49918e,_0xe0abb5=_0x42ddea(0xb91)+_0x459be2[_0x42ddea(0x818)]+_0x42ddea(0x67e)+_0x500779['learningGaps']['map'](_0x461a42=>_0x42ddea(0x2cf)+_0x461a42+_0x42ddea(0x751))[_0x42ddea(0x7b8)]('')+_0x42ddea(0x720)+_0x500779['teachingContent']+_0x42ddea(0xa8f)+_0x500779[_0x42ddea(0x7fe)][_0x42ddea(0x251)](_0x1048ff=>_0x42ddea(0x65f)+_0x1048ff[_0x42ddea(0xbe1)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x1048ff[_0x42ddea(0x772)]+_0x42ddea(0x5d8))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById'](_0x42ddea(0x2a3))[_0x42ddea(0x467)]=_0x42ddea(0x2ce)+_0x459be2[_0x42ddea(0x818)],document[_0x42ddea(0x7db)]('lesson-plan-content')['innerHTML']=_0xe0abb5,document['getElementById'](_0x42ddea(0x3b1))[_0x42ddea(0x1fa)][_0x42ddea(0x428)](_0x42ddea(0x997));if(window[_0x42ddea(0xaca)])MathJax[_0x42ddea(0x26d)]();}function displaySkillPracticeDrill(_0x526df1){const _0x42f9e5=_0x49918e;let _0x3fa90f=0x0;const _0x44c502=_0x526df1[_0x42f9e5(0x29f)],_0xa8a5b9=()=>{const _0x348770=_0x42f9e5,_0x248543=_0x44c502[_0x3fa90f],_0x2af109=_0x348770(0xb46)+(_0x3fa90f+0x1)+_0x348770(0x814)+_0x44c502[_0x348770(0xaed)]+_0x348770(0xba5)+_0x248543[_0x348770(0xa04)]+_0x348770(0xabd)+_0x248543[_0x348770(0xa27)][_0x348770(0x251)]((_0x415b57,_0x2b6c7d)=>_0x348770(0x4b4)+_0x2b6c7d+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x2b6c7d+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x2b6c7d+'\x22>'+_0x415b57+_0x348770(0xbe3))[_0x348770(0x7b8)]('')+_0x348770(0x801);studentQuizArea[_0x348770(0x848)]=_0x2af109;if(window[_0x348770(0xaca)])MathJax[_0x348770(0x26d)]([studentQuizArea]);document['getElementById']('hint-btn')['addEventListener'](_0x348770(0x32d),async()=>{const _0x7e33f=_0x348770,_0x191435=await getHintForQuestion(_0x248543[_0x7e33f(0xa04)]);showMessage(_0x191435);}),document[_0x348770(0x7db)](_0x348770(0x4b5))[_0x348770(0xb63)](_0x348770(0x32d),()=>{const _0x345214=_0x348770,_0x22108b=document[_0x345214(0xa3e)](_0x345214(0x87d));if(!_0x22108b){showMessage(_0x345214(0x4ad));return;}const _0x1a2870=document[_0x345214(0x7db)](_0x345214(0x50c)),_0xcaaff1=parseInt(_0x22108b[_0x345214(0x947)])===_0x248543[_0x345214(0x6e8)];_0xcaaff1?(_0x1a2870[_0x345214(0xabb)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x1a2870[_0x345214(0x848)]=_0x345214(0x8d1)+_0x248543[_0x345214(0x9e0)]):(_0x1a2870[_0x345214(0xabb)]=_0x345214(0x60a),_0x1a2870[_0x345214(0x848)]=_0x345214(0xa4a)+_0x248543[_0x345214(0x9e0)]);_0x1a2870[_0x345214(0x1fa)]['remove'](_0x345214(0x997));if(window[_0x345214(0xaca)])MathJax[_0x345214(0x26d)]([_0x1a2870]);document[_0x345214(0x7db)](_0x345214(0x4b5))[_0x345214(0x1fa)][_0x345214(0x36a)](_0x345214(0x997)),document['getElementById'](_0x345214(0xb61))[_0x345214(0x1fa)][_0x345214(0x36a)](_0x345214(0x997)),document[_0x345214(0x7db)]('next-drill-btn')[_0x345214(0x1fa)][_0x345214(0x428)]('hidden');}),document[_0x348770(0x7db)](_0x348770(0x2cc))['addEventListener'](_0x348770(0x32d),()=>{const _0x4a6344=_0x348770;_0x3fa90f++,_0x3fa90f<_0x44c502[_0x4a6344(0xaed)]?_0xa8a5b9():(studentQuizArea[_0x4a6344(0x848)]=_0x4a6344(0xa9d),document['getElementById'](_0x4a6344(0x80a))[_0x4a6344(0xb63)](_0x4a6344(0x32d),()=>{const _0x43d674=_0x4a6344;studentQuizArea[_0x43d674(0x1fa)][_0x43d674(0x36a)](_0x43d674(0x997)),studentResultArea[_0x43d674(0x1fa)][_0x43d674(0x428)](_0x43d674(0x997));}));});};_0xa8a5b9();}async function getHintForQuestion(_0x41b85e){const _0x36eb70=_0x49918e,_0x328020='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x41b85e+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x835047={'type':'OBJECT','properties':{'hint':{'type':_0x36eb70(0x3ec)}},'required':['hint']};try{const _0x577a37=await callAnalysisApi(_0x328020,_0x835047);return _0x577a37[_0x36eb70(0x67b)];}catch(_0x5c0461){return console[_0x36eb70(0xb89)](_0x36eb70(0x914),_0x5c0461),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x5c8a64){const _0xf8fdcf=_0x49918e;pdfjsLib['GlobalWorkerOptions'][_0xf8fdcf(0x5b2)]=_0xf8fdcf(0x202);const _0x133dda=await _0x5c8a64['arrayBuffer'](),_0x27b6fe=await pdfjsLib['getDocument'](_0x133dda)[_0xf8fdcf(0x8c5)],_0x9db168=_0x27b6fe[_0xf8fdcf(0x61e)];let _0x1d546d='';for(let _0x214ad7=0x1;_0x214ad7<=_0x9db168;_0x214ad7++){const _0xd41e=await _0x27b6fe[_0xf8fdcf(0xbda)](_0x214ad7),_0x102fba=await _0xd41e[_0xf8fdcf(0x5db)](),_0x18ca9a=_0x102fba['items'][_0xf8fdcf(0x251)](_0x4556ea=>_0x4556ea[_0xf8fdcf(0x9de)])[_0xf8fdcf(0x7b8)]('\x20');_0x1d546d+=_0x18ca9a+'\x0a\x0a';}return _0x1d546d;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x30a314){const _0x4059fa=_0x49918e,_0x223c7a=document['getElementById'](_0x4059fa(0x3e8)),_0x5e578c=document[_0x4059fa(0x7db)](_0x4059fa(0x4e0)),_0x59adb8=document[_0x4059fa(0x7db)](_0x4059fa(0xbaa));_0x223c7a['classList'][_0x4059fa(0x428)](_0x4059fa(0x997)),_0x5e578c[_0x4059fa(0x848)]='<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>',_0x59adb8['classList'][_0x4059fa(0x36a)]('hidden');try{const _0x5aa0af='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x30a314+_0x4059fa(0x3ae),_0x81d447={'type':_0x4059fa(0x7eb),'properties':{'gradeLevel':{'type':_0x4059fa(0x3ec)},'curriculum':{'type':_0x4059fa(0x315),'items':{'type':_0x4059fa(0x7eb),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x4059fa(0x315),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x4059fa(0x3ec)},'subTopics':{'type':_0x4059fa(0x315),'items':{'type':_0x4059fa(0x3ec)}}},'required':['topicName','subTopics']}}},'required':[_0x4059fa(0x379),_0x4059fa(0x585)]}}},'required':[_0x4059fa(0x6d6),_0x4059fa(0x79a)]},_0x3d6575=await callAnalysisApi(_0x5aa0af,_0x81d447);if(_0x3d6575&&_0x3d6575['curriculum'])extractedBlueprintData=_0x3d6575,renderBlueprintTopics(_0x3d6575),_0x59adb8['classList'][_0x4059fa(0x428)](_0x4059fa(0x997));else throw new Error('AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้');}catch(_0x5a3011){console[_0x4059fa(0xb89)]('Error\x20analyzing\x20blueprint\x20topics:',_0x5a3011),_0x5e578c[_0x4059fa(0x848)]=_0x4059fa(0x573);}}function renderBlueprintTopics(_0x5bb6ff){const _0x4ed2d0=_0x49918e,_0x42ad18=document[_0x4ed2d0(0x7db)](_0x4ed2d0(0x4e0)),_0x3ab7f5=_0x5bb6ff['gradeLevel'],_0x1cf498=_0x4ed2d0(0xb5b)+_0x3ab7f5+_0x4ed2d0(0xc3d);let _0x2a9b0c='';_0x5bb6ff[_0x4ed2d0(0x79a)][_0x4ed2d0(0x4ec)](_0x1de436=>{const _0x26a1eb=_0x4ed2d0;_0x2a9b0c+=_0x26a1eb(0x70f)+_0x1de436[_0x26a1eb(0x379)]+_0x26a1eb(0xbc8),_0x1de436[_0x26a1eb(0x585)][_0x26a1eb(0x4ec)](_0xe785cf=>{const _0x344f19=_0x26a1eb;_0x2a9b0c+=_0x344f19(0x59c)+_0xe785cf['topicName']+_0x344f19(0xac6),_0xe785cf['subTopics']['forEach'](_0x33f3e3=>{const _0x35a3ae=_0x344f19;_0x2a9b0c+='\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27'+_0x33f3e3[_0x35a3ae(0xc09)](/'/g,'\x5c\x27')+_0x35a3ae(0x35d)+_0x3ab7f5[_0x35a3ae(0xc09)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x33f3e3+_0x35a3ae(0x3c3)+_0x33f3e3[_0x35a3ae(0xc09)](/'/g,'\x5c\x27')+_0x35a3ae(0x862);}),_0x2a9b0c+=_0x344f19(0x9db);}),_0x2a9b0c+=_0x26a1eb(0x640);}),_0x42ad18[_0x4ed2d0(0x848)]=_0x1cf498+_0x2a9b0c;}async function handleGenerateTeachingContent(_0x4b1acb){const _0x4b6571=_0x49918e,_0x95058e=document[_0x4b6571(0x7db)](_0x4b6571(0x3b1)),_0x2048fc=document[_0x4b6571(0x7db)](_0x4b6571(0x892));document[_0x4b6571(0x7db)]('lesson-plan-title')['textContent']=_0x4b6571(0x497)+_0x4b1acb,_0x2048fc[_0x4b6571(0x848)]=_0x4b6571(0x262),_0x95058e[_0x4b6571(0x1fa)][_0x4b6571(0x428)](_0x4b6571(0x997));try{const _0x5e0952=_0x4b6571(0x206)+_0x4b1acb+_0x4b6571(0x760),_0x1c9e96={'type':_0x4b6571(0x7eb),'properties':{'keyConcepts':{'type':_0x4b6571(0x315),'items':{'type':'STRING'}},'commonMistakes':{'type':_0x4b6571(0x315),'items':{'type':_0x4b6571(0x3ec)}},'stepByStepExamples':{'type':_0x4b6571(0x315),'items':{'type':'OBJECT','properties':{'question':{'type':_0x4b6571(0x3ec)},'solution':{'type':'STRING'}},'required':[_0x4b6571(0xbe1),_0x4b6571(0x772)]}},'teacherTips':{'type':_0x4b6571(0x315),'items':{'type':_0x4b6571(0x3ec)}}},'required':['keyConcepts','commonMistakes',_0x4b6571(0x385),_0x4b6571(0x4f7)]},_0x394ff8=await callAnalysisApi(_0x5e0952,_0x1c9e96);displayTeachingContent(_0x394ff8,_0x4b1acb);}catch(_0x5894d6){console[_0x4b6571(0xb89)](_0x4b6571(0x2d2),_0x5894d6),_0x2048fc[_0x4b6571(0x848)]=_0x4b6571(0x78b)+_0x5894d6[_0x4b6571(0x927)]+'</p>';}}function displayTeachingContent(_0x15ab32,_0x52fc89){const _0x488e79=_0x49918e,_0x11fb54=document['getElementById'](_0x488e79(0x892));document[_0x488e79(0x7db)]('lesson-plan-title')[_0x488e79(0x467)]='เนื้อหาสำหรับสอน:\x20'+_0x52fc89;const _0x471c5a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x15ab32['keyConcepts']['map'](_0x3b0f70=>'<li>'+_0x3b0f70+_0x488e79(0x751))[_0x488e79(0x7b8)]('')+_0x488e79(0x8c0)+_0x15ab32[_0x488e79(0xa65)]['map'](_0x5d3959=>_0x488e79(0x2cf)+_0x5d3959+_0x488e79(0x751))['join']('')+_0x488e79(0x3d2)+_0x15ab32[_0x488e79(0x385)][_0x488e79(0x251)](_0x3ef389=>_0x488e79(0x5e2)+_0x3ef389['question']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x3ef389['solution']+_0x488e79(0xc41))[_0x488e79(0x7b8)]('')+_0x488e79(0x49e)+_0x15ab32['teacherTips'][_0x488e79(0x251)](_0x525cf3=>'<li>'+_0x525cf3+_0x488e79(0x751))[_0x488e79(0x7b8)]('')+_0x488e79(0x8a1);_0x11fb54[_0x488e79(0x848)]=_0x471c5a;if(window[_0x488e79(0xaca)])MathJax[_0x488e79(0x26d)]([_0x11fb54]);}async function generateQuizForSingleTopic(_0xb9581e){const _0x24c167=_0x49918e;console[_0x24c167(0x7bb)](_0x24c167(0x977)+_0xb9581e+'\x22');const _0x1ae9b0=document[_0x24c167(0x7db)]('reference-pdf-upload'),_0xbbee23=_0x1ae9b0['files']['length']>0x0?_0x1ae9b0[_0x24c167(0xbc7)][0x0]:null;let _0x5eed46=null;if(_0xbbee23)try{const _0x53e8d2=new FileReader();_0x53e8d2[_0x24c167(0x9f5)](_0xbbee23);const _0x2165dd=await new Promise((_0x2eac15,_0x57712a)=>{const _0x22f026=_0x24c167;_0x53e8d2[_0x22f026(0x6cb)]=()=>_0x2eac15(_0x53e8d2[_0x22f026(0x908)][_0x22f026(0x437)](',')[0x1]),_0x53e8d2[_0x22f026(0x75b)]=_0x4016d8=>_0x57712a(_0x4016d8);});_0x5eed46=[{'inlineData':{'mimeType':_0xbbee23[_0x24c167(0xbde)],'data':_0x2165dd}}];}catch(_0x4e0137){console[_0x24c167(0xb89)]('Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:',_0x4e0137),showMessage(_0x24c167(0x62c));return;}generateQuiz(_0xb9581e,null,null,_0x5eed46);}async function handleGenerateFromBlueprint(){const _0x4b73ec=_0x49918e,_0x562abd=document[_0x4b73ec(0x7db)](_0x4b73ec(0x63e)),_0x3f439f=document[_0x4b73ec(0x7db)](_0x4b73ec(0x952)),_0x5a7d6f=_0x562abd[_0x4b73ec(0xbc7)][0x0],_0x866fa5=_0x3f439f[_0x4b73ec(0xbc7)][_0x4b73ec(0xaed)]>0x0?_0x3f439f[_0x4b73ec(0xbc7)][0x0]:null;if(!_0x5a7d6f){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x4e2aa9=document['getElementById'](_0x4b73ec(0x401)),_0x56b22f=document[_0x4b73ec(0x7db)](_0x4b73ec(0xb7f)),_0x2c95bc=document[_0x4b73ec(0x7db)](_0x4b73ec(0x82a)),_0x1867b0=document[_0x4b73ec(0x7db)](_0x4b73ec(0x7ff));_0x1867b0[_0x4b73ec(0x534)]=!![],document[_0x4b73ec(0x7db)](_0x4b73ec(0x32b))[_0x4b73ec(0x1fa)]['remove'](_0x4b73ec(0x997)),_0x2c95bc['innerHTML']='',_0x4e2aa9[_0x4b73ec(0x1fa)][_0x4b73ec(0x428)](_0x4b73ec(0x997));try{_0x56b22f[_0x4b73ec(0x467)]='กำลังเตรียมไฟล์\x20Test\x20Blueprint...';const _0x32f0e3=new FileReader();_0x32f0e3[_0x4b73ec(0x9f5)](_0x5a7d6f);const _0x3be9ae=await new Promise((_0x4ba423,_0xef5f3c)=>{const _0x3b1f21=_0x4b73ec;_0x32f0e3[_0x3b1f21(0x6cb)]=()=>_0x4ba423(_0x32f0e3[_0x3b1f21(0x908)][_0x3b1f21(0x437)](',')[0x1]),_0x32f0e3['onerror']=_0x52cb92=>_0xef5f3c(_0x52cb92);}),_0x352ac4=[];if(_0x866fa5){_0x56b22f['textContent']=_0x4b73ec(0x7a2);const _0x213773=new FileReader();_0x213773[_0x4b73ec(0x9f5)](_0x866fa5);const _0x3c55d1=await new Promise((_0x34c656,_0x21cbf7)=>{const _0xe8e4bd=_0x4b73ec;_0x213773[_0xe8e4bd(0x6cb)]=()=>_0x34c656(_0x213773[_0xe8e4bd(0x908)][_0xe8e4bd(0x437)](',')[0x1]),_0x213773[_0xe8e4bd(0x75b)]=_0x479bc1=>_0x21cbf7(_0x479bc1);});_0x352ac4[_0x4b73ec(0x9f3)]({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'}),_0x352ac4[_0x4b73ec(0x9f3)]({'inlineData':{'mimeType':_0x866fa5[_0x4b73ec(0xbde)],'data':_0x3c55d1}});}const _0x43ef16=_0x4b73ec(0x223),_0x37a63e=_0x4b73ec(0x8d7)+(_0x866fa5?_0x4b73ec(0x6a8):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีคุณสมบัติดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20a.\x20\x20**[กฎที่สำคัญที่สุด]**\x20จำนวนข้อสอบรวม\x20และจำนวนข้อในแต่ละรูปแบบ\x20**ต้องตรงกับตัวเลขที่คุณวิเคราะห์ได้จาก\x20Test\x20Blueprint\x20ในข้อ\x201\x20ทุกประการ**\x20ห้ามสร้างข้อสอบเกินหรือขาดจากจำนวนนี้อย่างเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20b.\x20\x20**ต้องเรียงลำดับคำถามตามรูปแบบ**\x20ที่ระบุใน\x20Blueprint\x20(เช่น\x20ปรนัยทั้งหมดก่อน,\x20ตามด้วยระบายตัวเลข)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c.\x20\x20**สำหรับรูปแบบ\x20\x27ถูก/ผิด\x27\x20(ถ้ามี):**\x20ต้องสร้างเป็นประโยคบอกเล่า\x20(Statement)\x20ห้ามสร้างเป็นคำถามให้คำนวณหาค่า\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20d.\x20\x20ต้องครอบคลุมเนื้อหาตามสาระการเรียนรู้ที่กำหนด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20e.\x20\x20ต้องสร้างสรรค์โจทย์\x20ไม่ซ้ำซากจำเจ\x20และเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x43ef16+_0x4b73ec(0xc18)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x14ef8f={'type':_0x4b73ec(0x7eb),'properties':{'questionText':{'type':_0x4b73ec(0x3ec)},'questionType':{'type':_0x4b73ec(0x3ec),'enum':[_0x4b73ec(0x286),_0x4b73ec(0x6de),'true_false',_0x4b73ec(0x799)]},'options':{'type':_0x4b73ec(0x315),'items':{'type':_0x4b73ec(0x3ec)}},'correctAnswerIndex':{'type':_0x4b73ec(0x8de)},'idealAnswer':{'type':_0x4b73ec(0x3ec)},'correctAnswer':{'type':_0x4b73ec(0x2e4)},'explanation':{'type':_0x4b73ec(0x3ec)},'imageCode':{'type':_0x4b73ec(0x3ec)}},'required':[_0x4b73ec(0x7e0),_0x4b73ec(0x9e0)]},_0x42b7a9={'type':_0x4b73ec(0x7eb),'properties':{'topic':{'type':_0x4b73ec(0x3ec)},'questions':{'type':'ARRAY','items':_0x14ef8f}},'required':[_0x4b73ec(0x818),_0x4b73ec(0x29f)]},_0x3b8643=[{'text':_0x37a63e},{'inlineData':{'mimeType':_0x5a7d6f[_0x4b73ec(0xbde)],'data':_0x3be9ae}},..._0x352ac4];await handleApiCall(_0x3b8643,_0x4b73ec(0xb25),_0x42b7a9);}catch(_0x14f84e){console[_0x4b73ec(0xb89)]('Error\x20generating\x20from\x20blueprint:',_0x14f84e),showMessage(_0x4b73ec(0x5b8)+_0x14f84e[_0x4b73ec(0x927)]),_0x2c95bc[_0x4b73ec(0x848)]=_0x4b73ec(0x868);}finally{_0x4e2aa9[_0x4b73ec(0x1fa)][_0x4b73ec(0x36a)](_0x4b73ec(0x997)),_0x1867b0['disabled']=![];}}function proceedToNextQuestion(_0x317fcb){const _0x59b970=_0x49918e;studentAnswersPerQuestion['push'](_0x317fcb),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x59b970(0x29f)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x3c73b8,_0x3e503d){const _0x33a70a=_0x49918e,_0x589cf4=Object['values'](_0x3c73b8[_0x33a70a(0x891)]||{}),_0x55ce35=_0x589cf4[_0x33a70a(0xaed)],_0x4c88d7=[..._0x589cf4][_0x33a70a(0x236)]((_0xee7a7e,_0x6d3cea)=>_0x6d3cea[_0x33a70a(0x967)]-_0xee7a7e[_0x33a70a(0x967)]),_0x3c9f6d=_0x3c73b8[_0x33a70a(0x669)];let _0x5879b0='';const _0x1f7944=_0x3c73b8[_0x33a70a(0x4b3)][_0x33a70a(0x29f)],_0xd832ec=_0x1f7944[_0x3c9f6d],_0x3af666=_0x56069e=>String['fromCharCode'](0x41+_0x56069e);let _0x232841='',_0x535649='';if(_0xd832ec){const _0x407e8b=_0xd832ec[_0x33a70a(0x7e0)]||_0x3c73b8['shuffledQuiz'][_0x33a70a(0x3ee)];if(_0x407e8b===_0x33a70a(0x286)&&_0xd832ec[_0x33a70a(0xa27)]&&_0xd832ec[_0x33a70a(0x6e8)]!==undefined){const _0x2685fd=_0xd832ec[_0x33a70a(0x6e8)];_0x232841=_0xd832ec[_0x33a70a(0xa27)][_0x2685fd],_0x535649=_0x3af666(_0x2685fd)+'.';}else{if(_0x407e8b==='true_false'){const _0x332299=_0xd832ec[_0x33a70a(0x912)]===!![]||String(_0xd832ec[_0x33a70a(0x912)])[_0x33a70a(0x8fa)]()===_0x33a70a(0x36c);_0x332299?(_0x232841='ใช่\x20/\x20ถูก',_0x535649='ก.'):(_0x232841=_0x33a70a(0x673),_0x535649='ข.');}else{if(_0x407e8b===_0x33a70a(0x799))_0x232841=_0xd832ec['correctResponse']||'-',_0x535649='';else _0x407e8b===_0x33a70a(0x6de)&&(_0x232841=_0xd832ec[_0x33a70a(0x785)]||'-',_0x535649='');}}}_0x232841&&(_0x5879b0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20'+(_0x3c9f6d+0x1)+'\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x535649+'\x20'+_0x232841+_0x33a70a(0x42f));const _0x73f10f=_0x4c88d7[_0x33a70a(0x251)](_0x4fb3cd=>{const _0x3e4bb8=_0x33a70a;let _0x51752c=![];if(_0x4fb3cd['answers']&&_0x3c9f6d!==-0x1){const _0x2fcd77=_0x4fb3cd[_0x3e4bb8(0x957)][_0x3e4bb8(0xa19)](_0x2759ab=>_0x2759ab[_0x3e4bb8(0x7e8)]===_0x3c9f6d);_0x2fcd77&&_0x2fcd77['isCorrect']&&(_0x51752c=!![]);}const _0x228892=_0x51752c?_0x3e4bb8(0x5f5):_0x3e4bb8(0x3a8);return _0x3e4bb8(0xa68)+_0x228892+_0x3e4bb8(0xae8)+_0x4fb3cd[_0x3e4bb8(0x447)]+_0x3e4bb8(0x55d)+_0x4fb3cd[_0x3e4bb8(0x967)]+_0x3e4bb8(0xc11);})['join'](''),_0x4a0f4d=_0x1f7944['map']((_0x22ad90,_0x48341d)=>{const _0x20e102=_0x33a70a,_0x6dc66e=_0x589cf4['filter'](_0x5af3b7=>_0x5af3b7[_0x20e102(0x957)]&&_0x5af3b7[_0x20e102(0x957)][_0x20e102(0xa19)](_0x49538d=>_0x49538d[_0x20e102(0x7e8)]===_0x48341d&&_0x49538d['isCorrect']))[_0x20e102(0xaed)],_0x59f57d=_0x48341d===_0x3c9f6d,_0x447ce6=_0x59f57d?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x20e102(0x4d7);return _0x20e102(0x74f)+_0x447ce6+_0x20e102(0x213)+(_0x48341d+0x1)+_0x20e102(0x4b7)+_0x6dc66e+_0x20e102(0x814)+_0x55ce35+_0x20e102(0x6a5);})[_0x33a70a(0x7b8)]('');let _0x21227a='',_0xd23b29='';if(_0x3e503d){const _0x3e4608=_0x3c73b8[_0x33a70a(0x669)]>=_0x1f7944[_0x33a70a(0xaed)]-0x1;_0x21227a=_0x33a70a(0x692)+(_0x3e4608?_0x33a70a(0x234):_0x33a70a(0x601))+_0x33a70a(0x4e9),_0xd23b29=_0x33a70a(0xa51);}const _0x1353c5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x3c73b8['shuffledQuiz']['topic']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd23b29+_0x33a70a(0x28c)+_0x5879b0+_0x33a70a(0x543)+(_0x73f10f||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x4a0f4d+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3e503d?_0x33a70a(0x524)+_0x21227a+'</div>':'')+_0x33a70a(0xa90);liveGameView['innerHTML']=_0x1353c5;if(window[_0x33a70a(0xaca)]){const _0x48adea=document[_0x33a70a(0x7db)](_0x33a70a(0xa98));_0x48adea&&MathJax[_0x33a70a(0x26d)]([_0x48adea]);}if(_0x3e503d){document[_0x33a70a(0x7db)]('next-sync-question-btn')[_0x33a70a(0x39c)]=async()=>{const _0x578cb9=_0x33a70a,_0x4a5acf=doc(db,_0x578cb9(0x878)+appId+_0x578cb9(0x881),currentLiveGameId),_0x2c91d6=_0x3c73b8['currentQuestionIndex']+0x1;if(_0x2c91d6<_0x1f7944[_0x578cb9(0xaed)]){const _0x173c33={};Object[_0x578cb9(0x450)](_0x3c73b8[_0x578cb9(0x891)])[_0x578cb9(0x4ec)](_0x44388c=>{const _0x3ad2f3=_0x578cb9;_0x173c33[_0x3ad2f3(0x2fe)+_0x44388c+'.answered']=![],_0x173c33[_0x3ad2f3(0x2fe)+_0x44388c+_0x3ad2f3(0x5a2)]=null;}),await updateDoc(_0x4a5acf,{..._0x173c33,'status':_0x578cb9(0xbe1),'currentQuestionIndex':_0x2c91d6,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4a5acf,{'status':'podium'});};const _0x126bbd=document['getElementById'](_0x33a70a(0x227));_0x126bbd&&(_0x126bbd[_0x33a70a(0x39c)]=()=>{const _0x3685ff=_0x33a70a;showConfirmation(_0x3685ff(0x37e),async()=>{const _0x3b5a99=_0x3685ff,_0x11a195=doc(db,_0x3b5a99(0x878)+appId+_0x3b5a99(0x881),currentLiveGameId);await updateDoc(_0x11a195,{'status':_0x3b5a99(0x738)});});});}}async function handleGenerateParallelFromBank(_0x46fef7){const _0x124700=_0x49918e,_0x8ca759=document[_0x124700(0x7db)](_0x124700(0xc1f)),_0x3454ef=document[_0x124700(0x7db)]('project-quizzes-list');_0x3454ef['classList'][_0x124700(0x36a)](_0x124700(0x997));const _0x42a2ff='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x46fef7[_0x124700(0x818)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x8ca759[_0x124700(0xa21)]('beforeend',_0x42a2ff);const _0x443bdb=document[_0x124700(0x7db)](_0x124700(0x45d));try{const _0x260b0e=_0x46fef7[_0x124700(0x29f)][_0x124700(0x251)]((_0x186eaa,_0x5348bf)=>{const _0x5c56b0=_0x124700;let _0x38d626=_0x5348bf+0x1+'.\x20'+(_0x186eaa['questionText']||_0x186eaa['stem'])+'\x0a';if(_0x186eaa['options'])_0x38d626+=_0x186eaa[_0x5c56b0(0xa27)]['map']((_0x4079c1,_0x47e494)=>_0x5c56b0(0x48c)+(_0x47e494===_0x186eaa[_0x5c56b0(0x6e8)]?_0x5c56b0(0x727):'')+'\x20'+_0x4079c1)[_0x5c56b0(0x7b8)]('\x0a');else _0x186eaa['idealAnswer']&&(_0x38d626+=_0x5c56b0(0x434)+_0x186eaa[_0x5c56b0(0x785)]);return _0x38d626;})[_0x124700(0x7b8)]('\x0a\x0a');_0x443bdb['textContent']='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0xf53d69=_0x124700(0x4d0)+_0x46fef7['topic']+_0x124700(0x839)+_0x260b0e+_0x124700(0xb67)+simpleMathPrompt+_0x124700(0x506),_0x217196={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x124700(0x3ec),'enum':[_0x124700(0x286),_0x124700(0x6de),_0x124700(0x7c2),'matching_item']},'options':{'type':_0x124700(0x315),'items':{'type':_0x124700(0x3ec)}},'correctAnswerIndex':{'type':_0x124700(0x8de)},'idealAnswer':{'type':_0x124700(0x3ec)},'correctAnswer':{'type':_0x124700(0x2e4)},'stem':{'type':_0x124700(0x3ec)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x124700(0x315),'items':{'type':_0x124700(0x3ec)}},'explanation':{'type':_0x124700(0x3ec)},'imageCode':{'type':_0x124700(0x3ec)}},'required':[_0x124700(0x7e0),'explanation']},_0x74e41b={'type':_0x124700(0x7eb),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x124700(0x315),'items':_0x217196}},'required':[_0x124700(0x818),_0x124700(0x29f)]},_0x1a112f=await callAnalysisApi(_0xf53d69,_0x74e41b),_0x57d7e7=_0x1a112f[_0x124700(0x29f)][_0x124700(0x251)]((_0xff59cd,_0x528b6c)=>({..._0xff59cd,'id':'q_'+Date['now']()+'_'+_0x528b6c})),_0x11ec9a=_0x124700(0x737)+_0x46fef7['topic'],_0x5e634f={'topic':_0x11ec9a,'questions':_0x57d7e7,'quizType':_0x46fef7['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x124700(0x9e9)](),'status':_0x124700(0x9d3),'settings':_0x46fef7['settings'],'quizMode':_0x124700(0x805),'pairedQuizId':null,'lessonPlan':null};let _0x2ff102;while(!![]){_0x2ff102=Math[_0x124700(0x356)](0x3e8+Math[_0x124700(0x9df)]()*0x2328)['toString']();const _0x8ef255=await getDoc(doc(db,_0x124700(0x878)+appId+_0x124700(0x1ed),_0x2ff102));if(!_0x8ef255['exists']())break;}await setDoc(doc(db,_0x124700(0x878)+appId+_0x124700(0x1ed),_0x2ff102),_0x5e634f),showMessage(_0x124700(0xbce));}catch(_0x703cae){console['error'](_0x124700(0x207),_0x703cae),showMessage(_0x124700(0x5b8)+_0x703cae[_0x124700(0x927)]);}finally{const _0x56f53f=document[_0x124700(0x7db)](_0x124700(0xbb2));_0x56f53f&&_0x56f53f[_0x124700(0x428)](),_0x3454ef['classList'][_0x124700(0x428)]('hidden');}}async function handleGenerateParallelPostTest(_0x5081fa){const _0x3b2b17=_0x49918e,_0x4d2eb0=document[_0x3b2b17(0x7db)](_0x3b2b17(0xc1f)),_0x244899=document[_0x3b2b17(0x7db)](_0x3b2b17(0xa9b));_0x244899[_0x3b2b17(0x1fa)]['add'](_0x3b2b17(0x997));const _0x33c56b=_0x3b2b17(0x98d);_0x4d2eb0[_0x3b2b17(0xa21)](_0x3b2b17(0x2af),_0x33c56b);try{const _0x1850cf=_0x5081fa[_0x3b2b17(0x29f)][_0x3b2b17(0x251)]((_0x1f5530,_0x100eb2)=>{const _0x5dfe10=_0x3b2b17;let _0x462d4d=_0x100eb2+0x1+'.\x20'+(_0x1f5530[_0x5dfe10(0xa04)]||_0x1f5530['stem']);if(_0x1f5530[_0x5dfe10(0xa27)])_0x462d4d+=_0x5dfe10(0xa4f)+_0x1f5530[_0x5dfe10(0xa27)][_0x5dfe10(0x7b8)](',\x20');return _0x462d4d;})[_0x3b2b17(0x7b8)]('\x0a\x0a'),_0x1b77bb=_0x3b2b17(0xad1)+_0x5081fa[_0x3b2b17(0x818)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1850cf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x840848={'type':'OBJECT','properties':{'topic':{'type':_0x3b2b17(0x3ec)},'questions':{'type':_0x3b2b17(0x315),'items':{'type':_0x3b2b17(0x7eb),'properties':{'questionText':{'type':_0x3b2b17(0x3ec)},'questionType':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x3b2b17(0x3ec)}},'correctAnswerIndex':{'type':_0x3b2b17(0x8de)},'idealAnswer':{'type':_0x3b2b17(0x3ec)},'explanation':{'type':_0x3b2b17(0x3ec)}},'required':[_0x3b2b17(0xa04),_0x3b2b17(0x9e0)]}}},'required':['topic','questions']},_0xe22193=await callAnalysisApi(_0x1b77bb,_0x840848),_0x107a00=_0x5081fa[_0x3b2b17(0x818)][_0x3b2b17(0xc09)](_0x3b2b17(0x533),'')[_0x3b2b17(0x564)](),_0x487b9d=_0x3b2b17(0x323)+_0x107a00,_0x59b9dd={..._0xe22193,'topic':_0x487b9d,'quizType':_0x5081fa[_0x3b2b17(0x3ee)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x5081fa[_0x3b2b17(0x8d5)],'quizMode':'post-test','pairedQuizId':_0x5081fa['id']};let _0x156d90;while(!![]){_0x156d90=Math[_0x3b2b17(0x356)](0x3e8+Math[_0x3b2b17(0x9df)]()*0x2328)[_0x3b2b17(0x241)]();const _0x96acc8=await getDoc(doc(db,_0x3b2b17(0x878)+appId+_0x3b2b17(0x1ed),_0x156d90));if(!_0x96acc8['exists']())break;}await setDoc(doc(db,_0x3b2b17(0x878)+appId+_0x3b2b17(0x1ed),_0x156d90),_0x59b9dd);const _0x50266e=doc(db,_0x3b2b17(0x878)+appId+_0x3b2b17(0x1ed),_0x5081fa['id']);await updateDoc(_0x50266e,{'pairedQuizId':_0x156d90}),showMessage(_0x3b2b17(0x966));}catch(_0x20c9ec){console['error'](_0x3b2b17(0x3c1),_0x20c9ec),showMessage(_0x3b2b17(0x5b8)+_0x20c9ec['message']);}finally{const _0x41fca8=document['getElementById'](_0x3b2b17(0xbb2));if(_0x41fca8)_0x41fca8[_0x3b2b17(0x428)]();_0x244899[_0x3b2b17(0x1fa)]['remove']('hidden');}}async function handleGenerateParallelTest(){const _0x35c5c6=_0x49918e,_0x5824fc=document[_0x35c5c6(0x7db)](_0x35c5c6(0x569)),_0x204d28=_0x5824fc[_0x35c5c6(0xbc7)][0x0];if(!_0x204d28){showMessage(_0x35c5c6(0xb97));return;}const _0x46b239=document['getElementById'](_0x35c5c6(0x401)),_0x1bdb3e=document[_0x35c5c6(0x7db)](_0x35c5c6(0xb7f)),_0x1297bc=document[_0x35c5c6(0x7db)](_0x35c5c6(0x82a)),_0x1420f1=document[_0x35c5c6(0x7db)]('generate-from-parallel-test-btn');_0x1420f1[_0x35c5c6(0x534)]=!![],document[_0x35c5c6(0x7db)](_0x35c5c6(0x32b))[_0x35c5c6(0x1fa)][_0x35c5c6(0x428)]('hidden'),_0x1297bc[_0x35c5c6(0x848)]='',_0x46b239[_0x35c5c6(0x1fa)][_0x35c5c6(0x428)](_0x35c5c6(0x997)),_0x1bdb3e[_0x35c5c6(0x467)]='กำลังอ่านและเตรียมไฟล์ต้นฉบับ...';const _0x113b2c=new FileReader();_0x113b2c[_0x35c5c6(0x9f5)](_0x204d28),_0x113b2c[_0x35c5c6(0x6cb)]=async()=>{const _0x298c3a=_0x35c5c6;try{const _0x5b1e0b=_0x113b2c['result'][_0x298c3a(0x437)](',')[0x1],_0x46810e=_0x204d28['type'];_0x1bdb3e[_0x298c3a(0x467)]='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x1d501b=document[_0x298c3a(0x7db)](_0x298c3a(0x265))[_0x298c3a(0xaf2)],_0x2ddd3c=_0x1d501b?_0x298c3a(0x3e0):'',_0x23af5f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ddd3c+_0x298c3a(0x94b)+simpleMathPrompt+_0x298c3a(0xc18),_0x3065ba={'type':_0x298c3a(0x7eb),'properties':{'questionText':{'type':_0x298c3a(0x3ec)},'questionType':{'type':_0x298c3a(0x3ec),'enum':[_0x298c3a(0x286),_0x298c3a(0x6de)]},'options':{'type':'ARRAY','items':{'type':_0x298c3a(0x3ec)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x298c3a(0x3ec)},'explanation':{'type':_0x298c3a(0x3ec)},'imageCode':{'type':_0x298c3a(0x3ec)}},'required':['questionText',_0x298c3a(0x7e0),'explanation']},_0x1cc5d9={'type':'OBJECT','properties':{'topic':{'type':_0x298c3a(0x3ec)},'questions':{'type':_0x298c3a(0x315),'items':_0x3065ba}},'required':[_0x298c3a(0x818),_0x298c3a(0x29f)]},_0x36bb1b=[{'text':_0x23af5f},{'inlineData':{'mimeType':_0x46810e,'data':_0x5b1e0b}}];await handleApiCall(_0x36bb1b,_0x298c3a(0x42c),_0x1cc5d9);}catch(_0xae5bfb){console[_0x298c3a(0xb89)](_0x298c3a(0x305),_0xae5bfb),showMessage('เกิดข้อผิดพลาด:\x20'+_0xae5bfb['message']),_0x1297bc[_0x298c3a(0x848)]=_0x298c3a(0x23a);}finally{_0x46b239[_0x298c3a(0x1fa)]['add']('hidden'),_0x1420f1[_0x298c3a(0x534)]=![];}},_0x113b2c[_0x35c5c6(0x75b)]=_0x33a129=>{const _0x2fe071=_0x35c5c6;console['error'](_0x2fe071(0x393),_0x33a129),showMessage(_0x2fe071(0x6ed)),_0x46b239['classList'][_0x2fe071(0x36a)](_0x2fe071(0x997)),_0x1420f1[_0x2fe071(0x534)]=![];};}async function handleRegenerateQuestionInEditor(_0x4933b9){const _0x1c3187=_0x49918e;if(currentEditingQuizData===null)return;const _0x2bd879=document[_0x1c3187(0xa3e)]('.question-editor-item[data-q-index=\x22'+_0x4933b9+'\x22]');_0x2bd879&&(_0x2bd879[_0x1c3187(0x848)]=_0x1c3187(0x7e3));const _0x3c0db8=currentEditingQuizData[_0x1c3187(0x29f)][_0x4933b9],_0x16c6f2=currentEditingQuizData['topic'],_0x2e2cf5=_0x3c0db8[_0x1c3187(0x7e0)],_0x434fec={'type':_0x1c3187(0x7eb),'properties':{'questionText':{'type':_0x1c3187(0x3ec)},'options':{'type':_0x1c3187(0x315),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1c3187(0x8de)},'explanation':{'type':_0x1c3187(0x3ec)}},'required':['questionText',_0x1c3187(0xa27),_0x1c3187(0x6e8),'explanation']},_0x56bd99={'type':_0x1c3187(0x7eb),'properties':{'questionText':{'type':_0x1c3187(0x3ec)},'idealAnswer':{'type':_0x1c3187(0x3ec)},'explanation':{'type':_0x1c3187(0x3ec)}},'required':[_0x1c3187(0xa04),_0x1c3187(0x785),_0x1c3187(0x9e0)]};let _0x1d7f69,_0x4e498b='';_0x2e2cf5===_0x1c3187(0x286)?(_0x1d7f69=_0x434fec,_0x4e498b=_0x1c3187(0x2e5)):(_0x1d7f69=_0x56bd99,_0x4e498b=_0x1c3187(0xb2d));const _0x17d2dd=_0x1c3187(0x3f5)+_0x16c6f2+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x4e498b+_0x1c3187(0x36f)+(_0x3c0db8[_0x1c3187(0xa04)]||_0x3c0db8[_0x1c3187(0xc08)])+_0x1c3187(0x3bc)+simpleMathPrompt;try{const _0xb2c154=await callAnalysisApi(_0x17d2dd,_0x1d7f69);currentEditingQuizData[_0x1c3187(0x29f)][_0x4933b9]={..._0x3c0db8,..._0xb2c154},renderQuizEditor(currentEditingQuizData);}catch(_0x3e64e8){console['error']('Error\x20regenerating\x20question\x20in\x20editor:',_0x3e64e8),showMessage(_0x1c3187(0x6c4)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x28b101=_0x49918e,_0x575aa4=document['getElementById'](_0x28b101(0x40f));currentMode===_0x28b101(0x972)?(currentMode=_0x28b101(0x2ae),_0x575aa4[_0x28b101(0x848)]=_0x28b101(0x796),_0x575aa4[_0x28b101(0x87a)]=_0x28b101(0xbd6),showView(_0x28b101(0x61b))):(currentMode='student',_0x575aa4[_0x28b101(0x848)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x575aa4[_0x28b101(0x87a)]=_0x28b101(0x396),showView(_0x28b101(0x972)));}function handleAdminLogin(){const _0xf412b2=_0x49918e,_0x597b68=document[_0xf412b2(0x7db)]('admin-password-input'),_0x384f63=document[_0xf412b2(0x7db)](_0xf412b2(0x956));if(_0x597b68[_0xf412b2(0x947)]===_0xf412b2(0x819)){adminPasswordModal['classList'][_0xf412b2(0x36a)](_0xf412b2(0x997)),_0x597b68[_0xf412b2(0x947)]='',_0x384f63['classList'][_0xf412b2(0x36a)](_0xf412b2(0x997)),currentMode=_0xf412b2(0x2ae);const _0x17acee=document['getElementById'](_0xf412b2(0x40f));_0x17acee[_0xf412b2(0x848)]=_0xf412b2(0x796),_0x17acee[_0xf412b2(0x87a)]=_0xf412b2(0xbd6),showView(_0xf412b2(0x61b));}else _0x384f63[_0xf412b2(0x1fa)][_0xf412b2(0x428)]('hidden'),_0x597b68[_0xf412b2(0x947)]='';}function switchProjectTab(_0x43b37e){const _0x2ef3a7=_0x49918e;[_0x2ef3a7(0x5f8),_0x2ef3a7(0x230),_0x2ef3a7(0xbcd)][_0x2ef3a7(0x4ec)](_0x406f79=>{const _0x4d6800=_0x2ef3a7;document[_0x4d6800(0x7db)](_0x406f79+_0x4d6800(0x231))['classList']['remove']('active'),document['getElementById'](_0x406f79+_0x4d6800(0xb9e))[_0x4d6800(0x1fa)][_0x4d6800(0x36a)](_0x4d6800(0x997));}),document[_0x2ef3a7(0x7db)](_0x43b37e+_0x2ef3a7(0x231))[_0x2ef3a7(0x1fa)][_0x2ef3a7(0x36a)](_0x2ef3a7(0x9d3)),document['getElementById'](_0x43b37e+_0x2ef3a7(0xb9e))[_0x2ef3a7(0x1fa)][_0x2ef3a7(0x428)](_0x2ef3a7(0x997));}function switchQuizDetailTab(_0x3ae731){const _0x415c3c=_0x49918e,_0x579f2f={'analytics':{'btn':_0x415c3c(0x5f4),'content':_0x415c3c(0x2e8)},'scores':{'btn':_0x415c3c(0x30a),'content':_0x415c3c(0x548)},'leaderboard-quiz':{'btn':_0x415c3c(0x471),'content':_0x415c3c(0xabf)},'behavior-log':{'btn':_0x415c3c(0xa00),'content':_0x415c3c(0xaac)}};for(const _0x45b455 in _0x579f2f){document['getElementById'](_0x579f2f[_0x45b455]['btn'])[_0x415c3c(0x1fa)]['remove'](_0x415c3c(0x9d3)),document['getElementById'](_0x579f2f[_0x45b455]['content'])['classList'][_0x415c3c(0x36a)](_0x415c3c(0x997));}document[_0x415c3c(0x7db)](_0x579f2f[_0x3ae731][_0x415c3c(0x9a3)])[_0x415c3c(0x1fa)]['add'](_0x415c3c(0x9d3)),document[_0x415c3c(0x7db)](_0x579f2f[_0x3ae731][_0x415c3c(0x80c)])['classList'][_0x415c3c(0x428)](_0x415c3c(0x997));}function showMessage(_0x1ec4ad,_0x4acb29=null){const _0x2d8daa=_0x49918e;modalMessage[_0x2d8daa(0x467)]=_0x1ec4ad,modalConfirmAction=_0x4acb29,messageModal['classList'][_0x2d8daa(0x428)](_0x2d8daa(0x997));}function showConfirmation(_0x594980,_0x313d0d){const _0x6ae487=_0x49918e;document['getElementById'](_0x6ae487(0xa5a))['textContent']=_0x594980,document[_0x6ae487(0x7db)]('confirmation-modal')[_0x6ae487(0xa3e)]('h3')[_0x6ae487(0x467)]=_0x6ae487(0xb0b),confirmAction=_0x313d0d,confirmationModal[_0x6ae487(0x1fa)][_0x6ae487(0x428)](_0x6ae487(0x997));}function listenForProjects(){const _0x26dd28=_0x49918e,_0x3b1d00=doc(db,_0x26dd28(0x978),'dashboardConfig');onSnapshot(_0x3b1d00,_0x2f6e83=>{const _0x4dc1d3=_0x26dd28;if(_0x2f6e83[_0x4dc1d3(0xbeb)]()){const _0x57991e=_0x2f6e83[_0x4dc1d3(0x999)]();globalDashboardSettings['projectSort']=_0x57991e[_0x4dc1d3(0x6cc)]||_0x4dc1d3(0x67a),globalDashboardSettings['pinnedProjects']=_0x57991e[_0x4dc1d3(0x6c6)]||[],globalDashboardSettings[_0x4dc1d3(0xb38)]=_0x57991e[_0x4dc1d3(0xb38)]||[];}allProjects[_0x4dc1d3(0xaed)]>0x0&&renderProjects();});const _0x7cc458=collection(db,_0x26dd28(0x878)+appId+_0x26dd28(0xc07));unsubscribeProjectsListener=onSnapshot(_0x7cc458,_0x5ac1c5=>{const _0x468321=_0x26dd28;allProjects=_0x5ac1c5[_0x468321(0x689)][_0x468321(0x251)](_0x2cf476=>({'id':_0x2cf476['id'],..._0x2cf476[_0x468321(0x999)]()})),renderProjects();},_0x5393dd=>{const _0x347fc6=_0x26dd28;console['error'](_0x347fc6(0x8d0),_0x5393dd),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x4a297d,_0x71454a){const _0x443b22=_0x49918e;document[_0x443b22(0x3e7)](_0x443b22(0x7e5))[_0x443b22(0x4ec)](_0x1c1c8f=>_0x1c1c8f[_0x443b22(0x428)]());const _0x5d67b1=['#FFFFFF',_0x443b22(0x92a),_0x443b22(0x78d),_0x443b22(0xb55),'#DBEAFE',_0x443b22(0x3bd),_0x443b22(0x8e8),_0x443b22(0xb1f),_0x443b22(0x7ba)],_0x49fb52=document[_0x443b22(0x989)]('div');_0x49fb52['className']=_0x443b22(0xa13),_0x5d67b1[_0x443b22(0x4ec)](_0x2c89f1=>{const _0x85a19d=_0x443b22,_0x2f6f6c=document[_0x85a19d(0x989)](_0x85a19d(0x339));_0x2f6f6c[_0x85a19d(0xabb)]=_0x85a19d(0x5d2),_0x2f6f6c[_0x85a19d(0xbe9)][_0x85a19d(0x4ea)]=_0x2c89f1,_0x2f6f6c[_0x85a19d(0xb63)](_0x85a19d(0x32d),()=>{handleProjectColorChange(_0x71454a,_0x2c89f1),_0x49fb52['remove']();}),_0x49fb52['appendChild'](_0x2f6f6c);}),document[_0x443b22(0x43d)][_0x443b22(0x821)](_0x49fb52);const _0x39458e=_0x4a297d[_0x443b22(0xc3e)]();_0x49fb52[_0x443b22(0xbe9)][_0x443b22(0x388)]=_0x39458e[_0x443b22(0x398)]+window[_0x443b22(0x284)]+'px',_0x49fb52[_0x443b22(0xbe9)][_0x443b22(0x82c)]=_0x39458e[_0x443b22(0x82c)]+window[_0x443b22(0x360)]-_0x49fb52[_0x443b22(0x244)]/0x2+'px';}async function handleProjectColorChange(_0x1f5f97,_0x569d04){const _0x410a74=_0x49918e,_0x164532=doc(db,_0x410a74(0x878)+appId+_0x410a74(0xc07),_0x1f5f97);try{await updateDoc(_0x164532,{'color':_0x569d04});}catch(_0x772b0e){console[_0x410a74(0xb89)](_0x410a74(0xab5),_0x772b0e),showMessage(_0x410a74(0xb06));}}async function renderProjects(){const _0x1bf812=_0x49918e,_0x516824=globalDashboardSettings[_0x1bf812(0x6cc)]||_0x1bf812(0x67a),_0x42202c=new Set(globalDashboardSettings[_0x1bf812(0x6c6)]||[]),_0x29d2ec=globalDashboardSettings[_0x1bf812(0xb18)]||_0x1bf812(0x57d),_0x5e6a72=document[_0x1bf812(0x7db)](_0x1bf812(0xae7)),_0x334da5=document[_0x1bf812(0x7db)](_0x1bf812(0xb3f));_0x5e6a72[_0x1bf812(0x1fa)][_0x1bf812(0x2c3)](_0x1bf812(0x9d3),_0x29d2ec==='grid'),_0x334da5[_0x1bf812(0x1fa)][_0x1bf812(0x2c3)]('active',_0x29d2ec==='list'),document[_0x1bf812(0x7db)](_0x1bf812(0xaa9))[_0x1bf812(0x947)]=_0x516824;const _0x15e19d=document[_0x1bf812(0x7db)](_0x1bf812(0x616))[_0x1bf812(0x947)][_0x1bf812(0x8fa)]();let _0x38b7c7=allProjects[_0x1bf812(0xbf0)](_0x15c0ba=>_0x15c0ba[_0x1bf812(0x257)][_0x1bf812(0x8fa)]()[_0x1bf812(0x229)](_0x15e19d));const _0x373448=_0x38b7c7['filter'](_0x24f556=>_0x42202c[_0x1bf812(0x61a)](_0x24f556['id'])),_0x36ea45=_0x38b7c7[_0x1bf812(0xbf0)](_0x400c9f=>!_0x42202c[_0x1bf812(0x61a)](_0x400c9f['id'])),_0x3dccf7=(_0x4cf3f0,_0xd03961)=>{const _0x57a128=_0x1bf812;switch(_0x516824){case _0x57a128(0x50d):return _0x4cf3f0['projectName'][_0x57a128(0x90f)](_0xd03961['projectName'],'th');case _0x57a128(0x906):return _0xd03961['projectName'][_0x57a128(0x90f)](_0x4cf3f0[_0x57a128(0x257)],'th');case _0x57a128(0x960):return new Date(_0x4cf3f0[_0x57a128(0x8ec)])-new Date(_0xd03961['createdAt']);default:return new Date(_0xd03961[_0x57a128(0x8ec)])-new Date(_0x4cf3f0[_0x57a128(0x8ec)]);}};_0x373448[_0x1bf812(0x236)](_0x3dccf7),_0x36ea45[_0x1bf812(0x236)](_0x3dccf7);const _0x549a81=[..._0x373448,..._0x36ea45],_0x18b9a9=globalDashboardSettings[_0x1bf812(0xb38)]||[];_0x18b9a9[_0x1bf812(0xaed)]>0x0&&_0x29d2ec===_0x1bf812(0x57d)&&_0x549a81[_0x1bf812(0x236)]((_0x5f1122,_0x4f633b)=>{const _0xb7f342=_0x1bf812,_0x2648c1=_0x18b9a9[_0xb7f342(0x317)](_0x5f1122['id']),_0x81fcfd=_0x18b9a9[_0xb7f342(0x317)](_0x4f633b['id']);if(_0x2648c1===-0x1)return 0x1;if(_0x81fcfd===-0x1)return-0x1;return _0x2648c1-_0x81fcfd;});const _0x24a515={};await Promise[_0x1bf812(0x56c)](_0x549a81[_0x1bf812(0x251)](async _0x365426=>{const _0x4f95ce=_0x1bf812,_0x514caa=query(collection(db,'artifacts/'+appId+_0x4f95ce(0x1ed)),where(_0x4f95ce(0x33a),'==',_0x365426['id'])),_0x5aee9a=await getDocs(_0x514caa);_0x24a515[_0x365426['id']]=_0x5aee9a[_0x4f95ce(0x2f2)];}));const _0x32fc7f=document[_0x1bf812(0x7db)](_0x1bf812(0x1ec));let _0x1a20da='';if(_0x29d2ec===_0x1bf812(0x57d)){_0x32fc7f[_0x1bf812(0xabb)]=_0x1bf812(0x856);if(starredQuizzes['length']>0x0&&_0x15e19d===''){const _0x563189=starredQuizzes[_0x1bf812(0x251)](_0x2575be=>{const _0x226706=_0x1bf812,_0x2332b=allProjects['find'](_0x23091c=>_0x23091c['id']===_0x2575be[_0x226706(0x33a)]);return{..._0x2575be,'projectName':_0x2332b?_0x2332b[_0x226706(0x257)]:_0x226706(0x612)};});_0x1a20da+=_0x1bf812(0x413)+_0x563189['map'](_0x522153=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x522153[_0x1bf812(0x818)]+'\x22>'+_0x522153['topic']+_0x1bf812(0x271)+_0x522153['projectName']+_0x1bf812(0x90e)+_0x522153['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1bf812(0x7b8)]('')+_0x1bf812(0x920)+starredQuizzes[_0x1bf812(0xaed)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x549a81[_0x1bf812(0x4ec)](_0x11ccbe=>{const _0x487cfa=_0x1bf812,_0x36bb90=_0x24a515[_0x11ccbe['id']]??0x0,_0x955d1c=_0x42202c[_0x487cfa(0x61a)](_0x11ccbe['id']),_0x5cb04d=_0x11ccbe[_0x487cfa(0x66d)]||'#FFFFFF',_0x51cdb9=parseInt(_0x5cb04d[_0x487cfa(0x5e5)](0x1,0x3),0x10)*0.299+parseInt(_0x5cb04d[_0x487cfa(0x5e5)](0x3,0x5),0x10)*0.587+parseInt(_0x5cb04d['substring'](0x5,0x7),0x10)*0.114<0xba,_0x3852c0=_0x51cdb9?_0x487cfa(0x24b):_0x487cfa(0xbfd),_0x5840e5=_0x51cdb9?'text-gray-200':_0x487cfa(0xc38);_0x1a20da+=_0x487cfa(0x650)+(_0x955d1c?_0x487cfa(0xb27):_0x487cfa(0x725))+_0x487cfa(0xb7e)+_0x5cb04d+_0x487cfa(0xb7b)+_0x11ccbe['id']+_0x487cfa(0x9af)+_0x11ccbe['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x51cdb9?_0x487cfa(0x6e9):_0x487cfa(0x372))+_0x487cfa(0x27b)+_0x11ccbe['id']+_0x487cfa(0x4b1)+(_0x51cdb9?_0x487cfa(0x6e9):'text-gray-400\x20hover:text-indigo-600')+_0x487cfa(0x505)+(_0x955d1c?_0x51cdb9?_0x487cfa(0x228):_0x487cfa(0x99d):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x11ccbe['id']+_0x487cfa(0x9f0)+_0x3852c0+_0x487cfa(0x6d0)+_0x11ccbe[_0x487cfa(0x257)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x5840e5+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x11ccbe[_0x487cfa(0x8ec)])[_0x487cfa(0x775)](_0x487cfa(0x5f3))+_0x487cfa(0xbd3)+(_0x51cdb9?_0x487cfa(0x958):_0x487cfa(0x847))+_0x487cfa(0xc0d)+_0x36bb90+_0x487cfa(0xaa5)+_0x11ccbe['id']+_0x487cfa(0x29d)+_0x11ccbe['projectName']+_0x487cfa(0xb3e)+(_0x51cdb9?_0x487cfa(0x461):_0x487cfa(0xac5))+_0x487cfa(0xae5);});}else _0x32fc7f[_0x1bf812(0xabb)]=_0x1bf812(0xbd0),starredQuizzes[_0x1bf812(0xaed)]>0x0&&_0x15e19d===''&&(_0x1a20da+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x1bf812(0xaed)]+_0x1bf812(0x586)),_0x1a20da+=_0x1bf812(0xab8),_0x549a81[_0x1bf812(0x4ec)](_0x443e70=>{const _0x536a01=_0x1bf812,_0x531bee=_0x24a515[_0x443e70['id']]??0x0,_0x166e38=_0x42202c[_0x536a01(0x61a)](_0x443e70['id']);_0x1a20da+=_0x536a01(0x64c)+(_0x443e70[_0x536a01(0x66d)]||_0x536a01(0x7ba))+_0x536a01(0xc05)+_0x443e70['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x443e70[_0x536a01(0x257)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x531bee+_0x536a01(0x9cf)+new Date(_0x443e70[_0x536a01(0x8ec)])[_0x536a01(0x783)](_0x536a01(0x5f3))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x443e70['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x166e38?_0x536a01(0x99d):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x443e70['id']+_0x536a01(0x29d)+_0x443e70['projectName']+_0x536a01(0x6eb);});projectList[_0x1bf812(0x848)]=_0x1a20da,noProjectsMsg['classList'][_0x1bf812(0x2c3)](_0x1bf812(0x997),_0x1a20da[_0x1bf812(0xaed)]>0x0);}document[_0x49918e(0x7db)](_0x49918e(0x22d))[_0x49918e(0xb63)](_0x49918e(0x32d),async()=>{const _0x331f6d=_0x49918e,_0x33fee6=document['getElementById'](_0x331f6d(0x45e)),_0x410e75=_0x33fee6[_0x331f6d(0x947)][_0x331f6d(0x564)]();if(!_0x410e75){showMessage(_0x331f6d(0x983));return;}try{const _0x3d4890=doc(collection(db,_0x331f6d(0x878)+appId+_0x331f6d(0xc07)));await setDoc(_0x3d4890,{'projectName':_0x410e75,'students':[],'settings':{'resultsDisplay':_0x331f6d(0x4e2),'shuffleSetting':_0x331f6d(0x979),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x331f6d(0x979),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x33fee6[_0x331f6d(0x947)]='',createProjectModal[_0x331f6d(0x1fa)][_0x331f6d(0x36a)]('hidden'),showMessage(_0x331f6d(0x5c7));}catch(_0x2f34c4){console[_0x331f6d(0xb89)](_0x331f6d(0x6db),_0x2f34c4),showMessage(_0x331f6d(0x484));}}),projectList[_0x49918e(0xb63)]('click',async _0x254d3c=>{const _0x3d9f62=_0x49918e,_0x139279=_0x254d3c[_0x3d9f62(0x81b)][_0x3d9f62(0x984)](_0x3d9f62(0x902)),_0xbfe4e2=_0x254d3c[_0x3d9f62(0x81b)][_0x3d9f62(0x984)](_0x3d9f62(0x66e)),_0x6cfd69=_0x254d3c[_0x3d9f62(0x81b)]['closest'](_0x3d9f62(0x2d9)),_0x521b63=_0x254d3c[_0x3d9f62(0x81b)]['closest'](_0x3d9f62(0x721));if(_0x6cfd69){const _0x3399b8=_0x6cfd69[_0x3d9f62(0x297)]['id'],_0x5c585a=doc(db,'globalSettings',_0x3d9f62(0xc2b)),_0x307ce4=globalDashboardSettings[_0x3d9f62(0x6c6)];let _0x2d0146;_0x307ce4['includes'](_0x3399b8)?_0x2d0146=_0x307ce4[_0x3d9f62(0xbf0)](_0x454fd9=>_0x454fd9!==_0x3399b8):_0x2d0146=[..._0x307ce4,_0x3399b8];try{await setDoc(_0x5c585a,{'pinnedProjects':_0x2d0146},{'merge':!![]});}catch(_0x402fa0){console[_0x3d9f62(0xb89)](_0x3d9f62(0x8f6),_0x402fa0),showMessage(_0x3d9f62(0x48e));}}else{if(_0x521b63){const _0x6261af=_0x521b63[_0x3d9f62(0x297)]['id'];showColorPalette(_0x521b63,_0x6261af);}else{if(_0x139279){const _0x5855f9=_0x139279['dataset']['id'];_0x5855f9===_0x3d9f62(0x328)?showStarredProjectView():(currentProjectId=_0x5855f9,await loadProjectDetails(currentProjectId),showView(_0x3d9f62(0xb26)));}else{if(_0xbfe4e2){const _0x341d28=_0xbfe4e2[_0x3d9f62(0x297)]['id'],_0x48047c=_0xbfe4e2[_0x3d9f62(0x297)][_0x3d9f62(0x447)];showConfirmation(_0x3d9f62(0xc0c)+_0x48047c+_0x3d9f62(0x8df),()=>handleDeleteProject(_0x341d28));}}}}}),projectList[_0x49918e(0xb63)]('dragstart',_0x42b1bf=>{const _0x39eb3d=_0x49918e,_0x485f06=_0x42b1bf[_0x39eb3d(0x81b)][_0x39eb3d(0x984)]('.project-card-container');_0x485f06&&_0x485f06[_0x39eb3d(0x1fa)][_0x39eb3d(0x36a)](_0x39eb3d(0x6a7));}),projectList[_0x49918e(0xb63)]('dragend',_0x3dc8ce=>{const _0x27032b=_0x49918e,_0x201e9d=_0x3dc8ce[_0x27032b(0x81b)]['closest']('.project-card-container');_0x201e9d&&_0x201e9d[_0x27032b(0x1fa)][_0x27032b(0x428)]('opacity-50');}),projectList[_0x49918e(0xb63)](_0x49918e(0x77f),_0x55ed5b=>{const _0x1fb290=_0x49918e;_0x55ed5b['preventDefault']();const _0x1b95da=document[_0x1fb290(0xa3e)](_0x1fb290(0x55e));if(!_0x1b95da)return;const _0x5a9f07=getDragAfterElement(projectList,_0x55ed5b['clientY']);_0x5a9f07==null?projectList['appendChild'](_0x1b95da):projectList['insertBefore'](_0x1b95da,_0x5a9f07);}),projectList[_0x49918e(0xb63)](_0x49918e(0x457),_0x1e544c=>{const _0x4c4a69=_0x49918e;_0x1e544c[_0x4c4a69(0xaf1)]();const _0x1f1c8b=[...projectList[_0x4c4a69(0x3e7)](_0x4c4a69(0x3fb))][_0x4c4a69(0x251)](_0x9a9a23=>_0x9a9a23['dataset']['id']);saveProjectOrder(_0x1f1c8b);});function renderBehaviorLog(_0x471ec7){const _0x40e6f3=_0x49918e,_0x13c98c=document[_0x40e6f3(0x7db)](_0x40e6f3(0xab3));if(!_0x13c98c)return;const _0x235631=_0x471ec7[_0x40e6f3(0xbf0)](_0x2cde23=>_0x2cde23[_0x40e6f3(0x9d7)]&&_0x2cde23[_0x40e6f3(0x9d7)][_0x40e6f3(0xaed)]>0x0);if(_0x235631[_0x40e6f3(0xaed)]===0x0){_0x13c98c['innerHTML']=_0x40e6f3(0x4a2);return;}let _0x560bbf='';_0x235631['forEach'](_0x33ad8d=>{const _0x2e716d=_0x40e6f3;_0x560bbf+=_0x2e716d(0x65e)+_0x33ad8d[_0x2e716d(0xa50)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x33ad8d[_0x2e716d(0x9d7)][_0x2e716d(0x236)]((_0x4b523c,_0x6439fd)=>new Date(_0x6439fd[_0x2e716d(0x449)])-new Date(_0x4b523c['timestamp']))[_0x2e716d(0x4ec)](_0x364129=>{const _0xd1cd98=_0x2e716d,_0x69731=new Date(_0x364129[_0xd1cd98(0x449)])[_0xd1cd98(0x783)](_0xd1cd98(0x5f3),{'dateStyle':'short','timeStyle':_0xd1cd98(0xc27)});_0x560bbf+=_0xd1cd98(0xb64)+_0x364129[_0xd1cd98(0x1ef)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x69731+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x560bbf+=_0x2e716d(0xb2f);}),_0x13c98c[_0x40e6f3(0x848)]=_0x560bbf;}function getDragAfterElement(_0x445a64,_0x4e1c20){const _0x52f834=_0x49918e,_0x183adf=[..._0x445a64[_0x52f834(0x3e7)](_0x52f834(0x9a2))];return _0x183adf[_0x52f834(0xb5d)]((_0x5ed126,_0xabb23d)=>{const _0x5de26c=_0x52f834,_0x1fec73=_0xabb23d[_0x5de26c(0xc3e)](),_0x110f4b=_0x4e1c20-_0x1fec73[_0x5de26c(0x388)]-_0x1fec73[_0x5de26c(0x9b8)]/0x2;return _0x110f4b<0x0&&_0x110f4b>_0x5ed126[_0x5de26c(0xaeb)]?{'offset':_0x110f4b,'element':_0xabb23d}:_0x5ed126;},{'offset':Number['NEGATIVE_INFINITY']})[_0x52f834(0x371)];}async function saveProjectOrder(_0x3239d0){const _0x147503=_0x49918e,_0x3de394=doc(db,_0x147503(0x978),_0x147503(0xc2b));try{await setDoc(_0x3de394,{'projectOrder':_0x3239d0},{'merge':!![]});}catch(_0xd2bdc2){console[_0x147503(0xb89)](_0x147503(0xa3d),_0xd2bdc2),showMessage(_0x147503(0x3a3));}}async function logBehaviorEvent(_0x57d1ca,_0x5e521f={}){const _0x417c8a=_0x49918e;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x417c8a(0xace));return;}const _0x5ad794=doc(db,_0x417c8a(0x878)+appId+_0x417c8a(0x350)+currentQuizData['id']+_0x417c8a(0xa86),currentStudentName),_0x56c7d0={'event':_0x57d1ca,'timestamp':new Date()['toISOString'](),..._0x5e521f};try{await updateDoc(_0x5ad794,{'behaviorLog':arrayUnion(_0x56c7d0)}),console[_0x417c8a(0x7bb)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x417c8a(0x3ed));}catch(_0x3800ce){_0x3800ce[_0x417c8a(0xbaf)]===_0x417c8a(0x8a5)?console[_0x417c8a(0x1ee)](_0x417c8a(0x849)+currentStudentName+_0x417c8a(0x861)):console[_0x417c8a(0xb89)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x3800ce);}}function calculateMeanAndStdDev(_0x566324){const _0x5ecbeb=_0x49918e;if(_0x566324['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x153882=_0x566324[_0x5ecbeb(0xb5d)]((_0x3941c4,_0x5f18cf)=>_0x3941c4+_0x5f18cf,0x0)/_0x566324[_0x5ecbeb(0xaed)];if(_0x566324['length']===0x1)return{'mean':_0x153882,'stdDev':0x0};const _0x12f852=Math[_0x5ecbeb(0x7ab)](_0x566324[_0x5ecbeb(0x251)](_0x5d261b=>Math[_0x5ecbeb(0x433)](_0x5d261b-_0x153882,0x2))[_0x5ecbeb(0xb5d)]((_0x136bad,_0x917bda)=>_0x136bad+_0x917bda,0x0)/(_0x566324[_0x5ecbeb(0xaed)]-0x1));return{'mean':_0x153882,'stdDev':_0x12f852};}function calculateZScore(_0x12987b,_0x3b5d29,_0x3aae94){if(_0x3aae94===0x0)return 0x0;return(_0x12987b-_0x3b5d29)/_0x3aae94;}function calculateTScore(_0x35c499){return 0xa*_0x35c499+0x32;}function showStarredProjectView(){const _0x4e7ad2=_0x49918e;currentProjectId='starred',currentProjectData=null,projectTitle['textContent']=_0x4e7ad2(0x559),projectIdDisplay[_0x4e7ad2(0x467)]=_0x4e7ad2(0x416),showView(_0x4e7ad2(0xb26)),manageTab[_0x4e7ad2(0x1fa)]['add'](_0x4e7ad2(0x997)),leaderboardTab[_0x4e7ad2(0x1fa)]['add'](_0x4e7ad2(0x997)),switchProjectTab(_0x4e7ad2(0x230)),renderQuizzes();}async function loadProjectDetails(_0x288776){const _0x30c998=_0x49918e,_0x2b3906=doc(db,'artifacts/'+appId+_0x30c998(0xc07),_0x288776),_0x29ab7e=await getDoc(_0x2b3906);if(_0x29ab7e['exists']()){manageTab['classList'][_0x30c998(0x428)](_0x30c998(0x997)),leaderboardTab[_0x30c998(0x1fa)]['remove']('hidden'),currentProjectData=_0x29ab7e[_0x30c998(0x999)](),projectTitle[_0x30c998(0x467)]=currentProjectData[_0x30c998(0x257)],projectIdDisplay[_0x30c998(0x467)]=_0x288776;const _0x54d478=currentProjectData[_0x30c998(0x8d5)]||{};document[_0x30c998(0x7db)](_0x30c998(0xaba))[_0x30c998(0x947)]=_0x54d478[_0x30c998(0x988)]||_0x30c998(0x979);const _0x4ba5f8=document[_0x30c998(0x7db)](_0x30c998(0x8f0));_0x4ba5f8[_0x30c998(0xaf2)]=_0x54d478[_0x30c998(0x895)]!==![];const _0x296863=document[_0x30c998(0x7db)](_0x30c998(0x3fd)),_0x11c996=document['getElementById'](_0x30c998(0xa23)),_0x5d5db1=document[_0x30c998(0x7db)](_0x30c998(0x82d)),_0x722b98=_0x54d478[_0x30c998(0x2f6)]||![];_0x296863['checked']=_0x722b98,_0x5d5db1[_0x30c998(0x947)]=_0x54d478[_0x30c998(0x3d6)]||'',_0x11c996[_0x30c998(0x1fa)][_0x30c998(0x2c3)]('hidden',!_0x722b98),_0x296863[_0x30c998(0x4cb)]=()=>{const _0x3cc7ed=_0x30c998;_0x11c996[_0x3cc7ed(0x1fa)][_0x3cc7ed(0x2c3)](_0x3cc7ed(0x997),!_0x296863[_0x3cc7ed(0xaf2)]);},document[_0x30c998(0x7db)]('confidence-scoring-checkbox')[_0x30c998(0xaf2)]=_0x54d478[_0x30c998(0x98a)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x288776),listenForProjectQuizzes(_0x288776),listenForStudentProfiles(_0x288776);}else showMessage('ไม่พบโปรเจค'),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x589c77=_0x49918e,_0x82762c=doc(db,_0x589c77(0x978),_0x589c77(0xc2b));try{await setDoc(_0x82762c,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x589c77(0xad2));}catch(_0x52bc08){console[_0x589c77(0xb89)](_0x589c77(0x47a),_0x52bc08),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0xf6904b){const _0x1b6b74=_0x49918e;if(!_0xf6904b)return;const _0x3ecf7a=doc(db,_0x1b6b74(0x878)+appId+_0x1b6b74(0xc07),_0xf6904b);try{const _0x257744=await getDoc(_0x3ecf7a);if(_0x257744[_0x1b6b74(0xbeb)]()){const _0x221c5d=_0x257744['data']()['isPinned']||![];await updateDoc(_0x3ecf7a,{'isPinned':!_0x221c5d});}}catch(_0x432c9d){console[_0x1b6b74(0xb89)]('Error\x20toggling\x20pin\x20status:',_0x432c9d),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x4d8023){const _0x4d3b5a=_0x49918e;try{const _0x47c3ab=writeBatch(db),_0x3aa6f3=collection(db,_0x4d3b5a(0x878)+appId+_0x4d3b5a(0x1ed)),_0x36cebd=query(_0x3aa6f3,where('projectId','==',_0x4d8023)),_0x3311aa=await getDocs(_0x36cebd);for(const _0x4d5cab of _0x3311aa[_0x4d3b5a(0x689)]){const _0x3bd208=collection(db,_0x4d3b5a(0x878)+appId+'/public/data/quizzes/'+_0x4d5cab['id']+_0x4d3b5a(0xa86)),_0x772977=await getDocs(_0x3bd208);_0x772977[_0x4d3b5a(0x4ec)](_0x3c7e14=>{const _0x1de7a9=_0x4d3b5a;_0x47c3ab[_0x1de7a9(0x358)](_0x3c7e14[_0x1de7a9(0x2b2)]);}),_0x47c3ab[_0x4d3b5a(0x358)](_0x4d5cab[_0x4d3b5a(0x2b2)]);}const _0x4f7c8c=collection(db,_0x4d3b5a(0x878)+appId+_0x4d3b5a(0x311)+_0x4d8023+_0x4d3b5a(0x321)),_0x36cc93=await getDocs(_0x4f7c8c);_0x36cc93['forEach'](_0x12e63b=>{const _0x1bea5b=_0x4d3b5a;_0x47c3ab['delete'](_0x12e63b[_0x1bea5b(0x2b2)]);});const _0x268f63=doc(db,_0x4d3b5a(0x878)+appId+_0x4d3b5a(0xc07),_0x4d8023);_0x47c3ab[_0x4d3b5a(0x358)](_0x268f63),await _0x47c3ab[_0x4d3b5a(0x917)](),showMessage(_0x4d3b5a(0xbdf)),showView(_0x4d3b5a(0x61b));}catch(_0x42d67e){console[_0x4d3b5a(0xb89)](_0x4d3b5a(0x93a),_0x42d67e),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x49918e(0x7db)](_0x49918e(0x83e))['addEventListener'](_0x49918e(0x32d),async()=>{const _0x1e2a0f=_0x49918e;if(!currentProjectId)return;const _0xcfe919={'defaultNumQuestions':parseInt(document[_0x1e2a0f(0x7db)](_0x1e2a0f(0x443))[_0x1e2a0f(0x947)]),'defaultNumChoices':parseInt(document[_0x1e2a0f(0x7db)](_0x1e2a0f(0x335))[_0x1e2a0f(0x947)]),'defaultPassingScore':parseInt(document['getElementById'](_0x1e2a0f(0xb43))[_0x1e2a0f(0x947)]),'resultsDisplay':document[_0x1e2a0f(0x7db)](_0x1e2a0f(0x8a4))[_0x1e2a0f(0x947)],'shuffleSetting':document[_0x1e2a0f(0x7db)](_0x1e2a0f(0xaba))[_0x1e2a0f(0x947)],'timerMode':document['getElementById'](_0x1e2a0f(0x674))[_0x1e2a0f(0x947)],'timerDuration':parseInt(document[_0x1e2a0f(0x7db)](_0x1e2a0f(0xb5a))[_0x1e2a0f(0x947)]),'isConfidenceScoringEnabled':document[_0x1e2a0f(0x7db)]('confidence-scoring-checkbox')['checked'],'confidenceMode':document[_0x1e2a0f(0x7db)]('confidence-mode-select')[_0x1e2a0f(0x947)]};try{const _0x1dc3ad=doc(db,'artifacts/'+appId+_0x1e2a0f(0xc07),currentProjectId);await updateDoc(_0x1dc3ad,{'settings':_0xcfe919}),showMessage(_0x1e2a0f(0x635));}catch(_0x55ae70){console['error'](_0x1e2a0f(0xc21),_0x55ae70),showMessage(_0x1e2a0f(0x4dc));}});function listenForStudents(_0x420f0b){const _0x2d6b62=_0x49918e,_0x1bbbb0=doc(db,'artifacts/'+appId+_0x2d6b62(0xc07),_0x420f0b);unsubscribeStudentsListener=onSnapshot(_0x1bbbb0,_0x4ee531=>{const _0xf99444=_0x2d6b62;if(_0x4ee531[_0xf99444(0xbeb)]()){const _0x4bc15b=_0x4ee531['data']();currentProjectData=_0x4bc15b,renderStudentList(_0x4bc15b[_0xf99444(0xc14)]||[]);}});}function renderStudentList(_0x277ba8){const _0x4c7a1a=_0x49918e,_0x5b0b9d=document[_0x4c7a1a(0x7db)](_0x4c7a1a(0xb4a));_0x277ba8[_0x4c7a1a(0xaed)]===0x0?(studentList['innerHTML']=_0x4c7a1a(0xa91),_0x5b0b9d[_0x4c7a1a(0x1fa)][_0x4c7a1a(0x36a)](_0x4c7a1a(0x997))):(studentList['innerHTML']=_0x277ba8[_0x4c7a1a(0x251)](_0x44cd27=>_0x4c7a1a(0x627)+_0x44cd27+_0x4c7a1a(0xb00)+_0x44cd27+_0x4c7a1a(0x81e))[_0x4c7a1a(0x7b8)](''),_0x5b0b9d['classList'][_0x4c7a1a(0x428)]('hidden'));}document[_0x49918e(0x7db)]('add-student-btn')[_0x49918e(0xb63)]('click',async()=>{const _0x2f75be=_0x49918e;if(!currentProjectId)return;const _0x37a015=document[_0x2f75be(0x7db)](_0x2f75be(0x653)),_0x4d9f3f=_0x37a015[_0x2f75be(0x947)][_0x2f75be(0x564)]();if(!_0x4d9f3f){showMessage(_0x2f75be(0xb40));return;}const _0x12dad7=_0x4d9f3f[_0x2f75be(0x437)]('\x0a')[_0x2f75be(0x251)](_0xd06e2=>_0xd06e2[_0x2f75be(0x564)]())[_0x2f75be(0xbf0)](_0x384693=>_0x384693);if(_0x12dad7[_0x2f75be(0xaed)]===0x0)return;try{const _0x570c3e=doc(db,'artifacts/'+appId+_0x2f75be(0xc07),currentProjectId),_0x2235c6=await getDoc(_0x570c3e);if(_0x2235c6[_0x2f75be(0xbeb)]()){const _0xe1afa0=_0x2235c6['data']()['students']||[],_0x333663=[...new Set([..._0xe1afa0,..._0x12dad7])];await updateDoc(_0x570c3e,{'students':_0x333663}),_0x37a015[_0x2f75be(0x947)]='';}}catch(_0xd152d3){console[_0x2f75be(0xb89)](_0x2f75be(0x26e),_0xd152d3),showMessage(_0x2f75be(0x81c));}});async function handleManualQuizPairing(_0x5350c2){const _0x472b49=_0x49918e,_0x93167=document[_0x472b49(0x7db)](_0x472b49(0x8fd)),_0x2dc42f=document['getElementById'](_0x472b49(0x2f9)),_0xd73e5f=_0x93167[_0x472b49(0xa3e)]('h3'),_0x3e2e97=document[_0x472b49(0x7db)](_0x472b49(0x7b1)),_0x426056=document[_0x472b49(0x7db)]('cancel-move-quiz-btn');_0xd73e5f[_0x472b49(0x467)]=_0x472b49(0xa3c),_0x2dc42f[_0x472b49(0x848)]=_0x472b49(0xb99),_0x3e2e97[_0x472b49(0x467)]='ยืนยันการจับคู่',_0x93167[_0x472b49(0x1fa)][_0x472b49(0x428)](_0x472b49(0x997));const _0x55e413=allQuizzes[_0x472b49(0xbf0)](_0x319b7e=>_0x319b7e['id']!==_0x5350c2);_0x55e413['length']===0x0?(_0x2dc42f[_0x472b49(0x848)]=_0x472b49(0x9f7),_0x3e2e97[_0x472b49(0x534)]=!![]):(_0x2dc42f[_0x472b49(0x848)]=_0x472b49(0x322)+_0x55e413[_0x472b49(0x251)](_0x5e6400=>_0x472b49(0x397)+_0x5e6400['id']+'\x22>'+_0x5e6400[_0x472b49(0x818)]+'</option>')['join'](''),_0x3e2e97['disabled']=![]);const _0x2e3329=async()=>{const _0xeacac=_0x472b49,_0x355808=_0x2dc42f[_0xeacac(0x947)];if(!_0x355808){showMessage(_0xeacac(0x8c6));return;}_0x3e2e97[_0xeacac(0x534)]=!![],_0x3e2e97['textContent']=_0xeacac(0x47c);try{const _0x159fdd=doc(db,_0xeacac(0x878)+appId+_0xeacac(0x1ed),_0x5350c2),_0x303f50=doc(db,_0xeacac(0x878)+appId+_0xeacac(0x1ed),_0x355808),_0x2e1be8=writeBatch(db);_0x2e1be8[_0xeacac(0xb1a)](_0x159fdd,{'pairedQuizId':_0x355808}),_0x2e1be8['update'](_0x303f50,{'pairedQuizId':_0x5350c2}),await _0x2e1be8['commit'](),showMessage(_0xeacac(0x522)),_0x93167[_0xeacac(0x1fa)][_0xeacac(0x36a)](_0xeacac(0x997));}catch(_0x4e147f){console[_0xeacac(0xb89)](_0xeacac(0x565),_0x4e147f),showMessage(_0xeacac(0xafa));}finally{_0xd73e5f[_0xeacac(0x467)]=_0xeacac(0x85e),_0x3e2e97['textContent']=_0xeacac(0x294),_0x3e2e97[_0xeacac(0x534)]=![],_0x3e2e97[_0xeacac(0xb7a)](_0xeacac(0x32d),_0x2e3329),_0x426056[_0xeacac(0xb7a)]('click',_0x2204d8);}},_0x2204d8=()=>{const _0x5d7b72=_0x472b49;_0x93167['classList']['add']('hidden'),_0xd73e5f[_0x5d7b72(0x467)]=_0x5d7b72(0x85e),_0x3e2e97[_0x5d7b72(0x467)]=_0x5d7b72(0x294),_0x3e2e97['removeEventListener'](_0x5d7b72(0x32d),_0x2e3329),_0x426056[_0x5d7b72(0xb7a)](_0x5d7b72(0x32d),_0x2204d8);};_0x3e2e97[_0x472b49(0xb63)](_0x472b49(0x32d),_0x2e3329),_0x426056['addEventListener']('click',_0x2204d8);}function handleDeleteStudent(_0x491ac7){const _0x4c21fb=_0x49918e;showConfirmation(_0x4c21fb(0xa7f)+_0x491ac7+_0x4c21fb(0x919),async()=>{const _0xf67b06=_0x4c21fb;if(!currentProjectId||!currentProjectData)return;const _0x45feb6=currentProjectData[_0xf67b06(0xc14)][_0xf67b06(0xbf0)](_0x452ea4=>_0x452ea4!==_0x491ac7);try{const _0x4891d7=doc(db,_0xf67b06(0x878)+appId+_0xf67b06(0xc07),currentProjectId),_0x5360d6=doc(db,'artifacts/'+appId+_0xf67b06(0x311)+currentProjectId+_0xf67b06(0x321),_0x491ac7),_0x19a5d7=writeBatch(db);_0x19a5d7[_0xf67b06(0xb1a)](_0x4891d7,{'students':_0x45feb6}),_0x19a5d7[_0xf67b06(0x358)](_0x5360d6),await _0x19a5d7[_0xf67b06(0x917)]();}catch(_0xbeb705){console[_0xf67b06(0xb89)](_0xf67b06(0x733),_0xbeb705),showMessage(_0xf67b06(0xa74));}});}function handleDeleteAllStudents(){const _0x334082=_0x49918e;showConfirmation(_0x334082(0xac4),async()=>{const _0x1066d1=_0x334082;if(!currentProjectId)return;try{const _0x387bdc=doc(db,_0x1066d1(0x878)+appId+_0x1066d1(0xc07),currentProjectId),_0x163339=collection(db,_0x1066d1(0x878)+appId+_0x1066d1(0x311)+currentProjectId+'/studentProfiles'),_0x1f3a3b=await getDocs(_0x163339),_0x4de927=writeBatch(db);_0x4de927[_0x1066d1(0xb1a)](_0x387bdc,{'students':[]}),_0x1f3a3b[_0x1066d1(0x4ec)](_0x592650=>_0x4de927[_0x1066d1(0x358)](_0x592650[_0x1066d1(0x2b2)])),await _0x4de927[_0x1066d1(0x917)]();}catch(_0x38c17a){console[_0x1066d1(0xb89)](_0x1066d1(0x429),_0x38c17a),showMessage(_0x1066d1(0x638));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x384474){const _0x337c10=_0x49918e,_0x164dd6=document['getElementById'](_0x337c10(0x726)),_0x3dbf0a=document[_0x337c10(0x7db)](_0x337c10(0x5fa));_0x164dd6['classList'][_0x337c10(0x428)](_0x337c10(0x997)),_0x3dbf0a[_0x337c10(0x848)]=_0x337c10(0x58a);try{const _0x41cfae=new FileReader();_0x41cfae[_0x337c10(0x9f5)](_0x384474),await new Promise((_0x270721,_0x35ed85)=>{_0x41cfae['onload']=()=>{const _0x33a4bf=_0x2d54;fileDataBase64=_0x41cfae[_0x33a4bf(0x908)][_0x33a4bf(0x437)](',')[0x1],fileMimeType=_0x384474[_0x33a4bf(0xbde)],_0x270721();},_0x41cfae['onerror']=_0x5d1426=>_0x35ed85(_0x5d1426);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0x4e3f99=_0x337c10(0x295),_0x20c924={'type':'OBJECT','properties':{'topics':{'type':_0x337c10(0x315),'items':{'type':_0x337c10(0x3ec)}}},'required':[_0x337c10(0x442)]},_0x1db107=[{'text':_0x4e3f99},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x549922=await handleApiCall(_0x1db107,_0x337c10(0x25a),_0x20c924,null,![]);if(_0x549922&&_0x549922[_0x337c10(0x442)])extractedFileTopics=_0x549922['topics'],renderFileTopics();else throw new Error(_0x337c10(0xa8b));}catch(_0x11f3b7){console[_0x337c10(0xb89)](_0x337c10(0x4da),_0x11f3b7),_0x3dbf0a[_0x337c10(0x848)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20'+_0x11f3b7[_0x337c10(0x927)]+_0x337c10(0x5c6);}}function renderFileTopics(){const _0x5ad0a0=_0x49918e,_0x14e66b=document[_0x5ad0a0(0x7db)]('file-topics-list');if(extractedFileTopics[_0x5ad0a0(0xaed)]===0x0){_0x14e66b['innerHTML']=_0x5ad0a0(0x5d5);return;}_0x14e66b[_0x5ad0a0(0x848)]=extractedFileTopics[_0x5ad0a0(0x251)](_0x41111c=>_0x5ad0a0(0xb75)+_0x41111c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x41111c)+_0x5ad0a0(0x9a4)+escape(_0x41111c)+_0x5ad0a0(0x31f))[_0x5ad0a0(0x7b8)]('');}async function generateHybridQuizForTopic(_0x49f167){const _0xace009=_0x49918e,_0x492d33=parseInt(document['getElementById'](_0xace009(0x443))['value'],0xa),_0x43d363=document[_0xace009(0x7db)](_0xace009(0x8c4))[_0xace009(0x947)],_0x2248aa=document[_0xace009(0x7db)](_0xace009(0x335))[_0xace009(0x947)],_0x5b993a=document[_0xace009(0x7db)]('include-images-checkbox')['checked'],_0x270c7f=_0x5b993a?_0xace009(0xb6a):_0xace009(0x5cb);let _0x54f14a='',_0x4e95c0;const _0xc3dcec={'type':_0xace009(0x7eb),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xace009(0x8de)},'explanation':{'type':_0xace009(0x3ec)},'imageCode':{'type':_0xace009(0x3ec)}},'required':[_0xace009(0xa04),_0xace009(0xa27),'correctAnswerIndex',_0xace009(0x9e0)]},_0x372a5f={'type':'OBJECT','properties':{'questionText':{'type':_0xace009(0x3ec)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0xace009(0x3ec)},'imageCode':{'type':'STRING'}},'required':[_0xace009(0xa04),_0xace009(0x912),'explanation']},_0x28565c={'type':_0xace009(0x7eb),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0xace009(0x3ec)},'explanation':{'type':_0xace009(0x3ec)},'imageCode':{'type':_0xace009(0x3ec)}},'required':[_0xace009(0xa04),'idealAnswer',_0xace009(0x9e0)]},_0xac6561={'type':_0xace009(0x7eb),'properties':{'questionType':{'type':_0xace009(0x3ec),'enum':[_0xace009(0x799)]},'stem':{'type':_0xace009(0x3ec)},'correctResponse':{'type':_0xace009(0x3ec)},'allResponses':{'type':_0xace009(0x315),'items':{'type':_0xace009(0x3ec)}},'explanation':{'type':_0xace009(0x3ec)},'imageCode':{'type':_0xace009(0x3ec)}},'required':['questionType',_0xace009(0xc08),_0xace009(0xa77),_0xace009(0x85d),'explanation']};switch(_0x43d363){case _0xace009(0x286):_0x54f14a=_0xace009(0x4ce)+_0x2248aa+_0xace009(0x4f0),_0x4e95c0=_0xc3dcec;break;case _0xace009(0x7c2):_0x54f14a=_0xace009(0x9e2),_0x4e95c0=_0x372a5f;break;case'fill_in_no_choices':_0x54f14a=_0xace009(0xc19),_0x4e95c0=_0x28565c;break;case _0xace009(0x72e):_0x54f14a=_0xace009(0xb56),_0x4e95c0=_0xac6561;break;case _0xace009(0x54d):_0x54f14a='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x2248aa+_0xace009(0x4f0),_0x4e95c0=_0xc3dcec;break;default:_0x54f14a='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x2248aa+_0xace009(0x4f0),_0x4e95c0=_0xc3dcec;break;}const _0x403b41=_0xace009(0x34b),_0xb289be=document[_0xace009(0x7db)](_0xace009(0x401)),_0xe20d96=document['getElementById']('loader-text'),_0x119bd4=document[_0xace009(0x7db)](_0xace009(0x82a));document[_0xace009(0x7db)]('quiz-generation-area')[_0xace009(0x1fa)][_0xace009(0x428)](_0xace009(0x997)),_0x119bd4[_0xace009(0x848)]='',_0xb289be[_0xace009(0x1fa)]['remove'](_0xace009(0x997)),_0xe20d96[_0xace009(0x467)]=_0xace009(0xa0b)+_0x49f167+_0xace009(0x5b5)+_0x492d33+_0xace009(0x44b);try{const _0x2cddcf=_0xace009(0x9a6)+_0x49f167+_0xace009(0xa33)+_0x492d33+_0xace009(0x872)+_0x49f167+_0xace009(0x331)+_0x492d33+_0xace009(0x87b)+_0x270c7f+_0xace009(0x27c)+_0x54f14a+_0xace009(0x496)+_0x403b41+_0xace009(0x9c2)+simpleMathPrompt+_0xace009(0x506),_0xd4cb70={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0xace009(0x315),'items':_0x4e95c0}},'required':[_0xace009(0x818),_0xace009(0x29f)]},_0x53f155=[{'text':_0x2cddcf},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x53f155,_0xace009(0x6e6)+_0x49f167+'\x22...',_0xd4cb70);}catch(_0x3567f7){console['error'](_0xace009(0x88d),_0x3567f7),showMessage(_0xace009(0x5b8)+_0x3567f7[_0xace009(0x927)]),_0x119bd4[_0xace009(0x848)]=_0xace009(0x72d);}finally{_0xb289be[_0xace009(0x1fa)][_0xace009(0x36a)]('hidden');}}async function handleGenerateFromFileClick(){const _0x2b77ab=_0x49918e;if(!selectedFile){showMessage(_0x2b77ab(0x469));return;}const _0x348781=document[_0x2b77ab(0x7db)](_0x2b77ab(0x401)),_0x16b729=document[_0x2b77ab(0x7db)]('loader-text'),_0x2c57d5=document[_0x2b77ab(0x7db)](_0x2b77ab(0x82a)),_0x40628d=document[_0x2b77ab(0x7db)](_0x2b77ab(0xb9b));_0x40628d['disabled']=!![],document[_0x2b77ab(0x7db)](_0x2b77ab(0x32b))['classList'][_0x2b77ab(0x428)](_0x2b77ab(0x997)),_0x2c57d5[_0x2b77ab(0x848)]='',_0x348781[_0x2b77ab(0x1fa)]['remove'](_0x2b77ab(0x997)),_0x16b729['textContent']='กำลังอ่านและเตรียมไฟล์...';const _0x111d98=new FileReader();_0x111d98[_0x2b77ab(0x9f5)](selectedFile),_0x111d98[_0x2b77ab(0x6cb)]=async()=>{const _0x1b5ad9=_0x2b77ab;try{const _0x2fd72f=_0x111d98[_0x1b5ad9(0x908)][_0x1b5ad9(0x437)](',')[0x1],_0x45a5e2=selectedFile[_0x1b5ad9(0xbde)];await generateQuizFromFile(_0x45a5e2,_0x2fd72f);}catch(_0x469f87){console['error'](_0x1b5ad9(0xb79),_0x469f87),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x469f87[_0x1b5ad9(0x927)]),_0x348781[_0x1b5ad9(0x1fa)][_0x1b5ad9(0x36a)](_0x1b5ad9(0x997));}finally{}},_0x111d98[_0x2b77ab(0x75b)]=_0x319923=>{const _0x1e76ad=_0x2b77ab;console['error'](_0x1e76ad(0x393),_0x319923),showMessage(_0x1e76ad(0x6ed)),_0x348781[_0x1e76ad(0x1fa)][_0x1e76ad(0x36a)]('hidden'),_0x40628d[_0x1e76ad(0x534)]=![];};}function autoFormatMath(_0x1411fa){const _0x135216=_0x49918e;if(typeof _0x1411fa!==_0x135216(0x427)||!_0x1411fa)return _0x1411fa;const _0x27a730=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x307993=_0x1411fa['replace'](_0x27a730,_0x4d841e=>{const _0x587356=_0x135216;return'$'+_0x4d841e[_0x587356(0x564)]()+'$';});return _0x307993;}function sanitizeQuizData(_0x5e5cdf){const _0x3c4007=_0x49918e;if(!_0x5e5cdf||!_0x5e5cdf[_0x3c4007(0x29f)])return _0x5e5cdf;const _0x41b18d={'imes':_0x3c4007(0x866),'div':'\x5cdiv'},_0x2fabdd=_0x735dce=>{const _0x5b203d=_0x3c4007;if(typeof _0x735dce!=='string')return _0x735dce;let _0x13306b=_0x735dce;for(const [_0x52b8e7,_0x13bb6e]of Object['entries'](_0x41b18d)){const _0x3d8118=new RegExp('\x5cb'+_0x52b8e7+'\x5cb','g');_0x13306b=_0x13306b[_0x5b203d(0xc09)](_0x3d8118,_0x13bb6e);}return _0x13306b=_0x13306b[_0x5b203d(0xc09)](/\\\//g,_0x5b203d(0x3ad)),_0x13306b=_0x13306b['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x5b203d(0x3ad))[_0x5b203d(0xc09)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x5b203d(0x866))[_0x5b203d(0xc09)](/÷/g,_0x5b203d(0x3ad))['replace'](/×/g,'\x5ctimes'),_0x13306b=_0x13306b[_0x5b203d(0xc09)](/(\d)(\\frac)/g,_0x5b203d(0x277)),_0x13306b=autoFormatMath(_0x13306b),_0x13306b;};return _0x5e5cdf[_0x3c4007(0x818)]&&(_0x5e5cdf[_0x3c4007(0x818)]=_0x2fabdd(_0x5e5cdf['topic'])),_0x5e5cdf[_0x3c4007(0x29f)][_0x3c4007(0x4ec)](_0x50b227=>{const _0x2d5cdd=_0x3c4007;_0x50b227[_0x2d5cdd(0xa04)]=_0x2fabdd(_0x50b227['questionText']),_0x50b227[_0x2d5cdd(0xa27)]&&(_0x50b227[_0x2d5cdd(0xa27)]=_0x50b227[_0x2d5cdd(0xa27)][_0x2d5cdd(0x251)](_0x2fabdd)),_0x50b227[_0x2d5cdd(0x9e0)]&&(_0x50b227[_0x2d5cdd(0x9e0)]=_0x2fabdd(_0x50b227[_0x2d5cdd(0x9e0)])),_0x50b227[_0x2d5cdd(0xc08)]&&(_0x50b227[_0x2d5cdd(0xc08)]=_0x2fabdd(_0x50b227['stem'])),_0x50b227[_0x2d5cdd(0xa77)]&&(_0x50b227['correctResponse']=_0x2fabdd(_0x50b227[_0x2d5cdd(0xa77)])),_0x50b227[_0x2d5cdd(0x85d)]&&(_0x50b227[_0x2d5cdd(0x85d)]=_0x50b227['allResponses'][_0x2d5cdd(0x251)](_0x2fabdd));}),_0x5e5cdf;}const simpleMathPrompt=_0x49918e(0x69b);async function handleGenerateFromLink(){const _0x170d4b=_0x49918e,_0x5b7958=document[_0x170d4b(0x7db)]('link-url-input'),_0x1992a8=document[_0x170d4b(0x7db)](_0x170d4b(0xa59)),_0x514ad0=_0x5b7958[_0x170d4b(0x947)][_0x170d4b(0x564)](),_0x1646a7=_0x1992a8['value'][_0x170d4b(0x564)]();if(!_0x514ad0){showMessage(_0x170d4b(0x879));return;}const _0x105ed1=document[_0x170d4b(0x7db)](_0x170d4b(0x401)),_0x843849=document[_0x170d4b(0x7db)]('loader-text'),_0x64f721=document[_0x170d4b(0x7db)]('generated-quiz-container'),_0x50f143=document[_0x170d4b(0x7db)](_0x170d4b(0x5ef));document[_0x170d4b(0x7db)](_0x170d4b(0x32b))['classList'][_0x170d4b(0x428)](_0x170d4b(0x997)),_0x64f721[_0x170d4b(0x848)]='',_0x105ed1[_0x170d4b(0x1fa)][_0x170d4b(0x428)](_0x170d4b(0x997)),_0x843849[_0x170d4b(0x467)]=_0x170d4b(0x786),_0x50f143['disabled']=!![];try{const _0x18c9ae=_0x170d4b(0x40b)+encodeURIComponent(_0x514ad0),_0x2aacb4=await fetch(_0x18c9ae);if(!_0x2aacb4['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x2aacb4[_0x170d4b(0xbc2)]+')');const _0x5534c6=await _0x2aacb4[_0x170d4b(0xada)](),_0x4c02ff=extractTextFromHtml(_0x5534c6);if(!_0x4c02ff||_0x4c02ff[_0x170d4b(0xaed)]<0x64)throw new Error(_0x170d4b(0xb58));await generateQuiz(_0x1646a7,_0x4c02ff);}catch(_0x588315){console[_0x170d4b(0xb89)](_0x170d4b(0x8a0),_0x588315),showMessage('เกิดข้อผิดพลาด:\x20'+_0x588315[_0x170d4b(0x927)]),_0x64f721[_0x170d4b(0x848)]=_0x170d4b(0x694);}finally{_0x105ed1[_0x170d4b(0x1fa)][_0x170d4b(0x36a)](_0x170d4b(0x997)),_0x50f143[_0x170d4b(0x534)]=![];}}function extractTextFromHtml(_0x302a57){const _0x1670c5=_0x49918e,_0x36258c=new DOMParser()[_0x1670c5(0x46c)](_0x302a57,_0x1670c5(0x254));return _0x36258c[_0x1670c5(0x3e7)](_0x1670c5(0x6f8))[_0x1670c5(0x4ec)](_0x5b7cac=>_0x5b7cac[_0x1670c5(0x428)]()),_0x36258c[_0x1670c5(0x43d)][_0x1670c5(0x467)]||'';}document['getElementById'](_0x49918e(0xa58))[_0x49918e(0xb63)](_0x49918e(0x32d),()=>{const _0xd879b1=_0x49918e,_0x14a3bf=document[_0xd879b1(0x7db)](_0xd879b1(0x373))['value'][_0xd879b1(0x564)]();generateQuiz(_0x14a3bf,null);}),document['getElementById'](_0x49918e(0xa36))[_0x49918e(0xb63)](_0x49918e(0x32d),()=>{const _0x49330d=_0x49918e,_0x3c213e=document['getElementById'](_0x49330d(0x8a6))['value'][_0x49330d(0x564)]();if(!_0x3c213e){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x468df0=document['getElementById'](_0x49330d(0x373))[_0x49330d(0x947)][_0x49330d(0x564)]();generateQuiz(_0x468df0,_0x3c213e);});async function generateQuiz(_0xf2db92,_0x2014d8,_0x114c7e=null,_0xb4b614=null,_0x353982=![]){const _0x45ded2=_0x49918e;let _0x94912e={};if(_0x353982&&blueprintPageSettings)console[_0x45ded2(0x7bb)](_0x45ded2(0xc0e)),_0x94912e=blueprintPageSettings;else{console[_0x45ded2(0x7bb)](_0x45ded2(0x1f2));const _0x35310c=document[_0x45ded2(0x3e7)](_0x45ded2(0x24a));_0x94912e={'quizType':document[_0x45ded2(0x7db)](_0x45ded2(0x8c4))['value'],'numQuestions':document[_0x45ded2(0x7db)](_0x45ded2(0x443))[_0x45ded2(0x947)],'numChoices':document['getElementById']('num-choices')['value'],'includeImages':document[_0x45ded2(0x7db)](_0x45ded2(0x265))['checked'],'isNormalTopic':document[_0x45ded2(0x7db)](_0x45ded2(0x35c))['checked'],'difficultyValue':document['getElementById'](_0x45ded2(0x546))[_0x45ded2(0x947)],'complexityValue':document[_0x45ded2(0x7db)](_0x45ded2(0x792))['value'],'selectedTopicNames':Array[_0x45ded2(0x3b3)](_0x35310c)[_0x45ded2(0x251)](_0x5d8ca0=>_0x5d8ca0[_0x45ded2(0x947)])};}const _0x24ea20=_0x94912e['isNormalTopic']?'':_0x45ded2(0x753),_0x4e230c=_0x94912e[_0x45ded2(0x833)]!==_0x45ded2(0x587)?_0x45ded2(0xc39)+_0x94912e['difficultyValue']+'\x22':'',_0x128198=_0x94912e[_0x45ded2(0xa9e)]!=='mixed'?'โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x94912e[_0x45ded2(0xa9e)]+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy':'';let _0x5ef9b9='';_0x94912e[_0x45ded2(0x6d3)]&&_0x94912e['selectedTopicNames'][_0x45ded2(0xaed)]>0x0&&(_0x5ef9b9=_0x45ded2(0x22a)+_0x94912e[_0x45ded2(0x6d3)][_0x45ded2(0x7b8)](',\x20')+'.');let _0x23b029='';_0xb4b614&&(_0x23b029=_0x45ded2(0x8bb));let _0x864ffe='',_0x371385='',_0x1b98fc,_0x30999e=_0x45ded2(0xab7)+_0xf2db92+'\x22';if(!_0xf2db92&&_0x2014d8)_0x30999e=_0x45ded2(0x702);else!_0xf2db92&&!_0x2014d8&&(_0x30999e=_0x45ded2(0x242));const _0x1d7ba9={'type':_0x45ded2(0x7eb),'properties':{'questionText':{'type':_0x45ded2(0x3ec)},'options':{'type':_0x45ded2(0x315),'items':{'type':_0x45ded2(0x3ec)}},'correctAnswerIndex':{'type':_0x45ded2(0x8de)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x45ded2(0x3ec)}},'required':[_0x45ded2(0xa04),_0x45ded2(0xa27),'correctAnswerIndex',_0x45ded2(0x9e0)]},_0x421fbb={'type':_0x45ded2(0x7eb),'properties':{'questionText':{'type':_0x45ded2(0x3ec)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x45ded2(0x3ec)},'imageCode':{'type':_0x45ded2(0x3ec)}},'required':[_0x45ded2(0xa04),'idealAnswer',_0x45ded2(0x9e0)]},_0x41ca9c={'type':_0x45ded2(0x7eb),'properties':{'questionText':{'type':_0x45ded2(0x3ec)},'questionType':{'type':_0x45ded2(0x3ec),'enum':['multiple_choice','short_answer']},'options':{'type':_0x45ded2(0x315),'items':{'type':_0x45ded2(0x3ec)}},'correctAnswerIndex':{'type':_0x45ded2(0x8de)},'idealAnswer':{'type':_0x45ded2(0x3ec)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x45ded2(0x3ec)}},'required':[_0x45ded2(0xa04),_0x45ded2(0x7e0),_0x45ded2(0x9e0)]},_0x14bdfc={'type':'OBJECT','properties':{'questionText':{'type':_0x45ded2(0x3ec)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x45ded2(0x3ec)},'imageCode':{'type':'STRING'}},'required':['questionText','correctAnswer',_0x45ded2(0x9e0)]},_0x116a8b={'type':_0x45ded2(0x7eb),'properties':{'questionType':{'type':_0x45ded2(0x3ec),'enum':[_0x45ded2(0x799)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x45ded2(0x315),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x45ded2(0x3ec)}},'required':[_0x45ded2(0x7e0),'stem',_0x45ded2(0xa77),'allResponses','explanation']};let _0x19a1a2;if(_0x114c7e!==null){const _0x1a62e0=currentQuizData[_0x45ded2(0x29f)][_0x114c7e][_0x45ded2(0x7e0)],_0x519970=_0x94912e[_0x45ded2(0x2f4)]?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x864ffe=_0x45ded2(0x4cd)+_0x30999e+'\x20'+_0x5ef9b9+'\x20'+_0x4e230c+_0x45ded2(0x512)+_0x519970+'\x20'+simpleMathPrompt;if(_0x1a62e0==='multiple_choice')_0x1b98fc=_0x1d7ba9;else{if(_0x1a62e0===_0x45ded2(0x799))_0x1b98fc={'type':_0x45ded2(0x7eb),'properties':{'questionType':{'type':_0x45ded2(0x3ec),'enum':['matching_item']},'stem':{'type':_0x45ded2(0x3ec)},'correctResponse':{'type':_0x45ded2(0x3ec)},'explanation':{'type':_0x45ded2(0x3ec)},'imageCode':{'type':_0x45ded2(0x3ec)}},'required':[_0x45ded2(0x7e0),_0x45ded2(0xc08),'correctResponse',_0x45ded2(0x9e0)]};else _0x1b98fc=_0x421fbb;}_0x19a1a2=_0x1b98fc;}else{const _0x2c7381=_0x94912e[_0x45ded2(0x2f4)]?_0x45ded2(0xa82):'';switch(_0x94912e['quizType']){case'multiple_choice':_0x864ffe='สร้างแบบทดสอบปรนัย'+_0x24ea20+'\x20'+_0x94912e[_0x45ded2(0x6b8)]+'\x20ข้อ\x20'+_0x30999e+'\x20'+_0x5ef9b9+'\x20'+_0x4e230c+'\x20'+_0x128198+'\x20'+_0x23b029+_0x45ded2(0x828)+_0x94912e[_0x45ded2(0x729)]+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x2c7381+'\x20'+simpleMathPrompt,_0x1b98fc=_0x1d7ba9;break;case _0x45ded2(0x54d):_0x864ffe=_0x45ded2(0x84d)+_0x24ea20+'\x20'+_0x94912e[_0x45ded2(0x6b8)]+_0x45ded2(0x2d4)+_0x30999e+'\x20'+_0x5ef9b9+'\x20'+_0x4e230c+'\x20'+_0x128198+'\x20'+_0x23b029+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x94912e[_0x45ded2(0x729)]+_0x45ded2(0x9c9)+_0x2c7381+'\x20'+simpleMathPrompt,_0x1b98fc=_0x1d7ba9;break;case _0x45ded2(0x6c9):_0x864ffe=_0x45ded2(0x84d)+_0x24ea20+'\x20'+_0x94912e['numQuestions']+_0x45ded2(0x2d4)+_0x30999e+'\x20'+_0x5ef9b9+'\x20'+_0x4e230c+'\x20'+_0x128198+'\x20'+_0x23b029+_0x45ded2(0x687)+_0x2c7381+'\x20'+simpleMathPrompt,_0x1b98fc=_0x421fbb;break;case'mixed':_0x864ffe=_0x45ded2(0x349)+_0x24ea20+'\x20'+_0x94912e[_0x45ded2(0x6b8)]+_0x45ded2(0x2d4)+_0x30999e+'\x20'+_0x5ef9b9+'\x20'+_0x4e230c+'\x20'+_0x128198+'\x20'+_0x23b029+_0x45ded2(0x3af)+_0x94912e[_0x45ded2(0x729)]+_0x45ded2(0x334)+_0x2c7381+'\x20'+simpleMathPrompt+'.',_0x1b98fc=_0x41ca9c;break;case _0x45ded2(0x7c2):_0x864ffe=_0x45ded2(0x739)+_0x24ea20+'\x20'+_0x94912e[_0x45ded2(0x6b8)]+_0x45ded2(0x2d4)+_0x30999e+'\x20'+_0x5ef9b9+'\x20'+_0x4e230c+'\x20'+_0x128198+'\x20'+_0x23b029+_0x45ded2(0x965)+_0x2c7381+'\x20'+simpleMathPrompt,_0x1b98fc=_0x14bdfc;break;case'matching':_0x864ffe=_0x45ded2(0x41f)+_0x24ea20+'\x20'+_0x94912e['numQuestions']+_0x45ded2(0x99b)+_0x30999e+'\x20'+_0x5ef9b9+'\x20'+_0x4e230c+'\x20'+_0x128198+'\x20'+_0x23b029+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x2c7381+'\x20'+simpleMathPrompt,_0x1b98fc=_0x116a8b;break;}_0x19a1a2={'type':_0x45ded2(0x7eb),'properties':{'topic':{'type':_0x45ded2(0x3ec)},'questions':{'type':_0x45ded2(0x315),'items':_0x1b98fc}},'required':[_0x45ded2(0x818),_0x45ded2(0x29f)]};}_0x2014d8?(_0x864ffe='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x2014d8+_0x45ded2(0x5ba)+_0x864ffe,_0x371385=_0x45ded2(0x47d)):_0x371385=_0x45ded2(0xa66);let _0x59b020;return _0xb4b614?_0x59b020=[{'text':_0x864ffe},..._0xb4b614]:_0x59b020=_0x864ffe,handleApiCall(_0x59b020,_0x371385,_0x19a1a2,_0x114c7e);}async function generateQuizFromFile(_0x5714d7,_0x1c5c02){const _0x11f6d7=_0x49918e,_0x1a1e1a=document['getElementById'](_0x11f6d7(0x253))[_0x11f6d7(0x947)]['trim'](),_0x157268=document['getElementById']('quiz-type-select')[_0x11f6d7(0x947)],_0x9a22fb=document[_0x11f6d7(0x7db)](_0x11f6d7(0x443))[_0x11f6d7(0x947)],_0x1478ca=document[_0x11f6d7(0x7db)]('num-choices')[_0x11f6d7(0x947)],_0x3c5b33=document[_0x11f6d7(0x7db)](_0x11f6d7(0x265))[_0x11f6d7(0xaf2)],_0x45188a=document[_0x11f6d7(0x7db)](_0x11f6d7(0x35c))[_0x11f6d7(0xaf2)],_0x2d49fa=_0x45188a?'':'คณิตศาสตร์',_0x477a8a=document[_0x11f6d7(0x7db)](_0x11f6d7(0x20f))['checked'];let _0x458cde='',_0x43e47f;const _0x119181=_0x3c5b33?_0x11f6d7(0xa82):'';if(_0x477a8a)_0x458cde='\x0a\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0a\x20\x20\x20\x20ภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0a\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x201.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a\x20\x20\x20\x202.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a\x20\x20\x20\x203.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a\x20\x20\x20\x204.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a\x20\x20\x20\x20'+_0x119181+'\x0a\x20\x20\x20\x20'+simpleMathPrompt+'\x0a',_0x43e47f={'type':_0x11f6d7(0x7eb),'properties':{'questionText':{'type':_0x11f6d7(0x3ec)},'questionType':{'type':_0x11f6d7(0x3ec),'enum':[_0x11f6d7(0x286),_0x11f6d7(0x6de),_0x11f6d7(0x7c2),_0x11f6d7(0x799)]},'options':{'type':_0x11f6d7(0x315),'items':{'type':_0x11f6d7(0x3ec)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x11f6d7(0x3ec)},'correctAnswer':{'type':_0x11f6d7(0x2e4)},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x11f6d7(0x3ec)}},'explanation':{'type':_0x11f6d7(0x3ec)},'imageCode':{'type':_0x11f6d7(0x3ec)}},'required':[_0x11f6d7(0x7e0),'explanation']};else{let _0x5c899d='เกี่ยวกับหัวข้อ\x20\x22'+_0x1a1e1a+'\x22';!_0x1a1e1a&&(_0x5c899d=_0x11f6d7(0x3b0));switch(_0x157268){case'multiple_choice':_0x458cde=_0x11f6d7(0x24d)+_0x2d49fa+'\x20'+_0x9a22fb+_0x11f6d7(0x2d4)+_0x5c899d+_0x11f6d7(0x828)+_0x1478ca+_0x11f6d7(0x563)+_0x119181+'\x20'+simpleMathPrompt,_0x43e47f={'type':_0x11f6d7(0x7eb),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x11f6d7(0x315),'items':{'type':_0x11f6d7(0x3ec)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x11f6d7(0x3ec)},'imageCode':{'type':_0x11f6d7(0x3ec)}},'required':['questionText',_0x11f6d7(0xa27),_0x11f6d7(0x6e8),_0x11f6d7(0x9e0)]};break;case _0x11f6d7(0x54d):_0x458cde=_0x11f6d7(0x84d)+_0x2d49fa+'\x20'+_0x9a22fb+'\x20ข้อ\x20'+_0x5c899d+_0x11f6d7(0x69e)+_0x1478ca+_0x11f6d7(0x9c9)+_0x119181+'\x20'+simpleMathPrompt,_0x43e47f={'type':_0x11f6d7(0x7eb),'properties':{'questionText':{'type':_0x11f6d7(0x3ec)},'options':{'type':_0x11f6d7(0x315),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x11f6d7(0x8de)},'explanation':{'type':_0x11f6d7(0x3ec)},'imageCode':{'type':_0x11f6d7(0x3ec)}},'required':['questionText',_0x11f6d7(0xa27),_0x11f6d7(0x6e8),_0x11f6d7(0x9e0)]};break;case'fill_in_no_choices':_0x458cde=_0x11f6d7(0x84d)+_0x2d49fa+'\x20'+_0x9a22fb+_0x11f6d7(0x2d4)+_0x5c899d+_0x11f6d7(0x687)+_0x119181+'\x20'+simpleMathPrompt,_0x43e47f={'type':_0x11f6d7(0x7eb),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x11f6d7(0x3ec)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x11f6d7(0x785),_0x11f6d7(0x9e0)]};break;case _0x11f6d7(0x9f2):_0x458cde=_0x11f6d7(0x349)+_0x2d49fa+'\x20'+_0x9a22fb+'\x20ข้อ\x20'+_0x5c899d+_0x11f6d7(0x953)+_0x1478ca+'\x20ตัวเลือก.\x20'+_0x119181+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x43e47f={'type':'OBJECT','properties':{'questionText':{'type':_0x11f6d7(0x3ec)},'questionType':{'type':_0x11f6d7(0x3ec),'enum':['multiple_choice',_0x11f6d7(0x6de)]},'options':{'type':_0x11f6d7(0x315),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x11f6d7(0x8de)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x11f6d7(0x3ec)}},'required':['questionText',_0x11f6d7(0x7e0),_0x11f6d7(0x9e0)]};break;case _0x11f6d7(0x7c2):_0x458cde=_0x11f6d7(0x739)+_0x2d49fa+'\x20'+_0x9a22fb+_0x11f6d7(0x2d4)+_0x5c899d+_0x11f6d7(0x326)+_0x119181+'\x20'+simpleMathPrompt,_0x43e47f={'type':'OBJECT','properties':{'questionText':{'type':_0x11f6d7(0x3ec)},'correctAnswer':{'type':_0x11f6d7(0x2e4)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x11f6d7(0xa04),'correctAnswer','explanation']};break;case _0x11f6d7(0x72e):_0x458cde=_0x11f6d7(0x41f)+_0x2d49fa+'\x20'+_0x9a22fb+_0x11f6d7(0x99b)+_0x5c899d+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x9a22fb+_0x11f6d7(0x9ef)+_0x119181+'\x20'+simpleMathPrompt,_0x43e47f={'type':'OBJECT','properties':{'questionType':{'type':_0x11f6d7(0x3ec),'enum':[_0x11f6d7(0x799)]},'stem':{'type':_0x11f6d7(0x3ec)},'correctResponse':{'type':_0x11f6d7(0x3ec)},'allResponses':{'type':'ARRAY','items':{'type':_0x11f6d7(0x3ec)}},'explanation':{'type':_0x11f6d7(0x3ec)},'imageCode':{'type':'STRING'}},'required':[_0x11f6d7(0x7e0),_0x11f6d7(0xc08),_0x11f6d7(0xa77),_0x11f6d7(0x85d),'explanation']};break;}}const _0x637638={'type':'OBJECT','properties':{'topic':{'type':_0x11f6d7(0x3ec)},'questions':{'type':_0x11f6d7(0x315),'items':_0x43e47f}},'required':['topic',_0x11f6d7(0x29f)]},_0x41cd97=_0x11f6d7(0x2e6)+_0x458cde,_0x1ecee7={'contents':[{'parts':[{'text':_0x41cd97},{'inlineData':{'mimeType':_0x5714d7,'data':_0x1c5c02}}]}],'generationConfig':{'responseMimeType':_0x11f6d7(0x590),'responseSchema':_0x637638}};return handleApiCall(_0x1ecee7[_0x11f6d7(0x9b4)][0x0][_0x11f6d7(0x3c4)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x637638);}async function handleApiCall(_0x1c681b,_0x2ed4bc,_0x4dd9f6,_0x4187e1=null,_0x2bea9a=!![]){const _0x3fd592=_0x49918e,_0x1292c2=document[_0x3fd592(0x7db)]('quiz-generation-area'),_0x3a1102=document[_0x3fd592(0x7db)](_0x3fd592(0x401)),_0x5591d3=document[_0x3fd592(0x7db)](_0x3fd592(0xb7f)),_0x21ac45=document[_0x3fd592(0x7db)]('generated-quiz-container');_0x1292c2[_0x3fd592(0x1fa)][_0x3fd592(0x428)](_0x3fd592(0x997));_0x4187e1===null&&_0x2bea9a&&(_0x21ac45[_0x3fd592(0x848)]='');_0x3a1102[_0x3fd592(0x1fa)][_0x3fd592(0x428)](_0x3fd592(0x997)),_0x5591d3[_0x3fd592(0x467)]=_0x2ed4bc,document['getElementById'](_0x3fd592(0xa58))[_0x3fd592(0x534)]=!![],document[_0x3fd592(0x7db)]('generate-from-text-btn')[_0x3fd592(0x534)]=!![],document[_0x3fd592(0x7db)]('generate-from-link-btn')['disabled']=!![];try{const _0x44ddcf={'responseMimeType':_0x3fd592(0x590),'responseSchema':_0x4dd9f6},_0x5098d6=Array[_0x3fd592(0x932)](_0x1c681b)?_0x1c681b:[{'text':_0x1c681b}],_0x3ce634={'contents':[{'role':_0x3fd592(0x2a4),'parts':_0x5098d6}],'generationConfig':_0x44ddcf},_0x1f8d35=_0x3fd592(0xaae),_0x7b4bd5='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x1f8d35,_0xf66c4=await fetch(_0x7b4bd5,{'method':_0x3fd592(0xb93),'headers':{'Content-Type':'application/json'},'body':JSON[_0x3fd592(0x362)](_0x3ce634)});if(!_0xf66c4['ok'])throw new Error(_0x3fd592(0x7b4)+_0xf66c4[_0x3fd592(0xbc2)]);const _0x188ae6=await _0xf66c4['json']();if(_0x188ae6[_0x3fd592(0x353)]?.[0x0]?.[_0x3fd592(0x80c)]?.['parts']?.[0x0]){let _0x225895=_0x188ae6[_0x3fd592(0x353)][0x0][_0x3fd592(0x80c)][_0x3fd592(0x3c4)][0x0][_0x3fd592(0xada)];if(_0x225895[_0x3fd592(0x663)](_0x3fd592(0x9f6)))_0x225895=_0x225895['substring'](0x7,_0x225895[_0x3fd592(0xaed)]-0x3)['trim']();else _0x225895[_0x3fd592(0x663)](_0x3fd592(0xb07))&&(_0x225895=_0x225895[_0x3fd592(0x5e5)](0x3,_0x225895[_0x3fd592(0xaed)]-0x3)[_0x3fd592(0x564)]());let _0x17fce6=JSON[_0x3fd592(0x982)](_0x225895);if(_0x2bea9a){if(_0x4187e1!==null){if(_0x17fce6['questionType']===_0x3fd592(0x799)){const _0x12cec2=currentQuizData[_0x3fd592(0x29f)][_0x3fd592(0x251)](_0x2e3dd5=>_0x2e3dd5[_0x3fd592(0xa77)]);_0x17fce6['allResponses']=_0x12cec2;const _0x43636c=currentQuizData[_0x3fd592(0x29f)][_0x4187e1][_0x3fd592(0xa77)],_0x381aef=_0x12cec2[_0x3fd592(0x317)](_0x43636c);_0x381aef>-0x1&&(_0x12cec2[_0x381aef]=_0x17fce6[_0x3fd592(0xa77)]),currentQuizData[_0x3fd592(0x29f)][_0x3fd592(0x4ec)](_0x447484=>{const _0x3a3423=_0x3fd592;if(_0x447484['questionType']===_0x3a3423(0x799))_0x447484['allResponses']=_0x12cec2;});}currentQuizData[_0x3fd592(0x29f)][_0x4187e1]=_0x17fce6,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x17fce6;const _0x3831ef=document[_0x3fd592(0x7db)](_0x3fd592(0x8c4))[_0x3fd592(0x947)];currentQuizData['quizType']=_0x3831ef,currentQuizData[_0x3fd592(0x29f)]&&currentQuizData[_0x3fd592(0x29f)][_0x3fd592(0x4ec)](_0x4b554b=>{const _0x264657=_0x3fd592;if(!_0x4b554b['questionType']){if(_0x3831ef===_0x264657(0x54d))_0x4b554b[_0x264657(0x7e0)]=_0x264657(0x286);else{if(_0x3831ef===_0x264657(0x6c9))_0x4b554b[_0x264657(0x7e0)]=_0x264657(0x6de);else _0x4b554b[_0x264657(0x7e0)]=_0x3831ef;}}}),displayGeneratedQuiz(currentQuizData);}}return _0x17fce6;}else throw new Error(_0x3fd592(0x7e4));}catch(_0x2a468f){console[_0x3fd592(0xb89)](_0x3fd592(0xac2),_0x2a468f),showMessage(_0x3fd592(0x611));_0x4187e1===null&&(_0x21ac45[_0x3fd592(0x848)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');throw _0x2a468f;}finally{_0x3a1102[_0x3fd592(0x1fa)][_0x3fd592(0x36a)](_0x3fd592(0x997)),document[_0x3fd592(0x7db)](_0x3fd592(0xa58))[_0x3fd592(0x534)]=![],document[_0x3fd592(0x7db)](_0x3fd592(0xa36))[_0x3fd592(0x534)]=![],document[_0x3fd592(0x7db)](_0x3fd592(0x5ef))[_0x3fd592(0x534)]=![];const _0x56c76c=document['getElementById'](_0x3fd592(0xb9b));if(_0x56c76c)_0x56c76c['disabled']=![];}}function exitFullscreen(){const _0x12cbf8=_0x49918e;if(document[_0x12cbf8(0x5ad)])document[_0x12cbf8(0x5ad)]()[_0x12cbf8(0x6c3)](_0x188eb6=>console[_0x12cbf8(0xb89)](_0x188eb6));else{if(document[_0x12cbf8(0xc2f)])document[_0x12cbf8(0xc2f)]();else document[_0x12cbf8(0x2f7)]&&document[_0x12cbf8(0x2f7)]();}}function enterFullscreen(){const _0x49cf89=_0x49918e,_0x43ab58=document['documentElement'];if(_0x43ab58[_0x49cf89(0x9c7)])_0x43ab58[_0x49cf89(0x9c7)]()[_0x49cf89(0x6c3)](_0x4e1b1b=>{const _0x5611bd=_0x49cf89;console[_0x5611bd(0xb89)](_0x5611bd(0x82f)+_0x4e1b1b[_0x5611bd(0x927)]+'\x20('+_0x4e1b1b[_0x5611bd(0x447)]+')');});else{if(_0x43ab58['webkitRequestFullscreen'])_0x43ab58[_0x49cf89(0x5c4)]();else _0x43ab58[_0x49cf89(0x6cf)]&&_0x43ab58[_0x49cf89(0x6cf)]();}}function handleCheatingEvent(){const _0x1365cc=_0x49918e;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x1365cc(0x3e9),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x1365cc(0xb90)+maxCheatAttempts+_0x1365cc(0x719)),document[_0x1365cc(0x7db)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x1365cc(0x60d),handleVisibilityChange),document[_0x1365cc(0xb7a)](_0x1365cc(0x62b),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x20230c=_0x49918e;if(currentMode===_0x20230c(0xa5e)||!isQuizActive)return;if(document[_0x20230c(0xa81)]===_0x20230c(0x997))handleCheatingEvent();else document[_0x20230c(0xa81)]===_0x20230c(0x384)&&(console[_0x20230c(0x7bb)](_0x20230c(0x6d5)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x399db7=_0x49918e;if(currentMode===_0x399db7(0xa5e)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x49c162){const _0x3f1770=_0x49918e,_0x109ea2=document['getElementById'](_0x3f1770(0x82a));let _0x1e8126=_0x3f1770(0x391)+_0x49c162['topic']+'</h3>';_0x49c162['questions'][_0x3f1770(0x4ec)]((_0x34a96b,_0x489605)=>{const _0x57f54e=_0x3f1770;!_0x34a96b['id']&&(_0x34a96b['id']='q_'+Date[_0x57f54e(0x8fb)]()+'_'+_0x489605);const _0x4ec9ae=_0x34a96b[_0x57f54e(0x7e0)]||_0x49c162['quizType'];_0x1e8126+=_0x57f54e(0x5c3)+_0x489605+_0x57f54e(0x870)+_0x489605+_0x57f54e(0x6f5)+_0x489605+_0x57f54e(0x432);switch(_0x4ec9ae){case _0x57f54e(0x799):_0x1e8126+=_0x57f54e(0x9b2)+_0x489605+'\x22>'+(_0x489605+0x1)+'.\x20'+_0x34a96b['stem']+_0x57f54e(0x5c6);_0x34a96b[_0x57f54e(0x71a)]&&(_0x1e8126+=_0x57f54e(0xabe)+_0x489605+_0x57f54e(0x92b)+_0x34a96b[_0x57f54e(0x71a)]+'</div>');_0x1e8126+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x489605+'\x22>'+_0x34a96b[_0x57f54e(0xa77)]+_0x57f54e(0x58e),_0x1e8126+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x489605+'\x22>'+_0x34a96b['explanation']+_0x57f54e(0x58e);break;case'short_answer':_0x1e8126+=_0x57f54e(0x9b2)+_0x489605+'\x22>'+(_0x489605+0x1)+'.\x20'+_0x34a96b[_0x57f54e(0xa04)]+_0x57f54e(0x5c6);_0x34a96b['imageCode']&&(_0x1e8126+=_0x57f54e(0xabe)+_0x489605+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x34a96b[_0x57f54e(0x71a)]+'</div>');_0x1e8126+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x489605+'\x22>'+_0x34a96b[_0x57f54e(0x785)]+_0x57f54e(0x58e),_0x1e8126+=_0x57f54e(0x540)+_0x489605+'\x22>'+_0x34a96b[_0x57f54e(0x9e0)]+_0x57f54e(0x58e);break;case _0x57f54e(0x7c2):_0x1e8126+=_0x57f54e(0x9b2)+_0x489605+'\x22>'+(_0x489605+0x1)+'.\x20'+_0x34a96b[_0x57f54e(0xa04)]+'</p>';_0x34a96b['imageCode']&&(_0x1e8126+=_0x57f54e(0xabe)+_0x489605+_0x57f54e(0x92b)+_0x34a96b[_0x57f54e(0x71a)]+_0x57f54e(0x640));_0x1e8126+=_0x57f54e(0x3c0)+(_0x34a96b['correctAnswer']===!![]?'text-green-600\x20font-bold':'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x34a96b[_0x57f54e(0x912)]===![]?_0x57f54e(0x764):'')+_0x57f54e(0x313),_0x1e8126+=_0x57f54e(0x540)+_0x489605+'\x22>'+_0x34a96b['explanation']+'</span></div>';break;case'fill_in_the_blank':case'multiple_choice':default:_0x1e8126+=_0x57f54e(0x9b2)+_0x489605+'\x22>'+(_0x489605+0x1)+'.\x20'+_0x34a96b['questionText']+_0x57f54e(0x5c6);_0x34a96b['imageCode']&&(_0x1e8126+=_0x57f54e(0xabe)+_0x489605+_0x57f54e(0x92b)+_0x34a96b[_0x57f54e(0x71a)]+_0x57f54e(0x640));_0x1e8126+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x489605+_0x57f54e(0x5b0)+_0x34a96b[_0x57f54e(0xa27)][_0x57f54e(0x251)]((_0x5204cb,_0xd92d48)=>_0x57f54e(0x9e8)+(_0xd92d48===_0x34a96b[_0x57f54e(0x6e8)]?_0x57f54e(0x764):'')+'\x22>'+_0x5204cb+'</li>')[_0x57f54e(0x7b8)]('')+_0x57f54e(0x6fb),_0x1e8126+=_0x57f54e(0x540)+_0x489605+'\x22>'+_0x34a96b[_0x57f54e(0x9e0)]+_0x57f54e(0x58e);break;}_0x1e8126+=_0x57f54e(0x640);}),_0x1e8126+=_0x3f1770(0xc04),_0x109ea2['innerHTML']=_0x1e8126,document['querySelectorAll'](_0x3f1770(0x6fc))[_0x3f1770(0x4ec)](_0x35dc24=>_0x35dc24[_0x3f1770(0xb63)](_0x3f1770(0x32d),handleEditQuestion)),document[_0x3f1770(0x3e7)](_0x3f1770(0x4db))[_0x3f1770(0x4ec)](_0x3498f4=>_0x3498f4['addEventListener'](_0x3f1770(0x32d),handleRegenerateQuestion)),document[_0x3f1770(0x7db)](_0x3f1770(0x752))['addEventListener'](_0x3f1770(0x32d),exportQuizAsWorksheetPDF),document['getElementById']('save-quiz-btn')['addEventListener']('click',saveQuiz),document[_0x3f1770(0x7db)](_0x3f1770(0xb54))[_0x3f1770(0xb63)](_0x3f1770(0x32d),handleVerifyAnswers);if(window['MathJax'])window['MathJax'][_0x3f1770(0x26d)]([_0x109ea2]);}function handleRegenerateQuestion(_0x1389ea){const _0x26c930=_0x49918e,_0x2a6eb3=_0x1389ea[_0x26c930(0x2bd)][_0x26c930(0x297)]['index'],_0x5c4ff0=currentQuizData[_0x26c930(0x818)];showMessage(_0x26c930(0x5c8)+(parseInt(_0x2a6eb3)+0x1)+_0x26c930(0x65c)),generateQuiz(_0x5c4ff0,null,parseInt(_0x2a6eb3));}function getPointerPosition(_0x19adbc,_0x5005a3){const _0x28b0cb=_0x49918e,_0x1c8085=_0x19adbc[_0x28b0cb(0xbe6)]();let _0x322119,_0x5b67c1;return _0x5005a3[_0x28b0cb(0xb87)]&&_0x5005a3[_0x28b0cb(0xb87)][_0x28b0cb(0xaed)]>0x0?(_0x322119=_0x5005a3[_0x28b0cb(0xb87)][0x0][_0x28b0cb(0xaef)],_0x5b67c1=_0x5005a3[_0x28b0cb(0xb87)][0x0]['clientY']):(_0x322119=_0x5005a3[_0x28b0cb(0xaef)],_0x5b67c1=_0x5005a3[_0x28b0cb(0x3c6)]),{'x':(_0x322119-_0x1c8085['e'])/_0x1c8085['a'],'y':(_0x5b67c1-_0x1c8085['f'])/_0x1c8085['d']};}function startDrag(_0x4f5ad0){const _0x40faba=_0x49918e;_0x4f5ad0[_0x40faba(0xbde)]===_0x40faba(0x558)&&_0x4f5ad0['preventDefault']();const _0x8d028c=_0x4f5ad0[_0x40faba(0x81b)]['closest']('.draggable-text');if(_0x8d028c){draggedSvgElement=_0x8d028c;const _0x1a3cd1=draggedSvgElement[_0x40faba(0x72a)],_0x1e44d7=getPointerPosition(_0x1a3cd1,_0x4f5ad0);svgOffset['x']=_0x1e44d7['x']-parseFloat(draggedSvgElement[_0x40faba(0x65d)](null,'x')),svgOffset['y']=_0x1e44d7['y']-parseFloat(draggedSvgElement[_0x40faba(0x65d)](null,'y'));}}function calculateItemAnalysis(_0x282d2c,_0x452459){const _0x153626=_0x49918e,_0x94ce27={};if(_0x452459[_0x153626(0xaed)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x1008b4=[..._0x452459][_0x153626(0x236)]((_0xd4762b,_0x449dd0)=>{const _0x430e7c=_0x153626,_0x2e0f34=_0x449dd0['latestScore']-_0xd4762b[_0x430e7c(0x7af)];if(_0x2e0f34!==0x0)return _0x2e0f34;const _0x1fe51c=_0xd4762b[_0x430e7c(0x423)]?.[_0x430e7c(0xaed)]||0x1,_0x5bddad=_0x449dd0[_0x430e7c(0x423)]?.[_0x430e7c(0xaed)]||0x1,_0x2d83e6=_0x1fe51c-_0x5bddad;if(_0x2d83e6!==0x0)return _0x2d83e6;const _0x5b85ca=new Date(_0xd4762b[_0x430e7c(0x99c)]),_0x373891=new Date(_0x449dd0[_0x430e7c(0x99c)]),_0x3f772e=_0x5b85ca-_0x373891;if(_0x3f772e!==0x0)return _0x3f772e;return _0xd4762b[_0x430e7c(0xa50)][_0x430e7c(0x90f)](_0x449dd0['studentName'],'th');}),_0x4ed013=_0x1008b4[_0x153626(0xaed)],_0x327fd=Math[_0x153626(0x50b)](0x1,Math[_0x153626(0x356)](_0x4ed013*0.33));if(_0x327fd===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x42a6ee=_0x1008b4['slice'](0x0,_0x327fd),_0x62fa22=_0x1008b4[_0x153626(0x8e0)](-_0x327fd),_0x1ffeae=_0x42a6ee[_0x153626(0x251)](_0x1cf545=>_0x1cf545[_0x153626(0xa50)]),_0x37a13f=_0x62fa22[_0x153626(0x251)](_0x55117b=>_0x55117b[_0x153626(0xa50)]);return _0x282d2c['questions'][_0x153626(0x4ec)]((_0x1df8f8,_0x2a0a48)=>{const _0x363ff3=_0x153626,_0x514026=_0x1df8f8['stem']||_0x1df8f8[_0x363ff3(0xa04)];let _0x451429=0x0,_0x439ec5=0x0,_0x3fb03f=0x0;const _0x453bef=[],_0x19e5bb=[];_0x42a6ee[_0x363ff3(0x4ec)](_0xe527a4=>{const _0x194341=_0x363ff3,_0x199e40=_0xe527a4[_0x194341(0x423)][_0xe527a4[_0x194341(0x423)][_0x194341(0xaed)]-0x1],_0xa612fc=_0x199e40[_0x194341(0x957)][_0x194341(0xa19)](_0x86cce7=>_0x86cce7[_0x194341(0xbb6)]===_0x514026);_0x453bef[_0x194341(0x9f3)]({'name':_0xe527a4['studentName'],'isCorrect':_0xa612fc?_0xa612fc[_0x194341(0xb34)]:![]}),_0xa612fc&&_0xa612fc[_0x194341(0xb34)]&&_0x439ec5++;}),_0x62fa22['forEach'](_0x44eefc=>{const _0x404a7d=_0x363ff3,_0x12bb3a=_0x44eefc[_0x404a7d(0x423)][_0x44eefc['attempts'][_0x404a7d(0xaed)]-0x1],_0x50e485=_0x12bb3a[_0x404a7d(0x957)][_0x404a7d(0xa19)](_0x2e3cf9=>_0x2e3cf9['originalQuestionText']===_0x514026);_0x19e5bb[_0x404a7d(0x9f3)]({'name':_0x44eefc[_0x404a7d(0xa50)],'isCorrect':_0x50e485?_0x50e485[_0x404a7d(0xb34)]:![]}),_0x50e485&&_0x50e485[_0x404a7d(0xb34)]&&_0x3fb03f++;}),_0x452459['forEach'](_0x33d968=>{const _0x1ec7bd=_0x363ff3,_0x4a1b63=_0x33d968[_0x1ec7bd(0x423)][_0x33d968[_0x1ec7bd(0x423)]['length']-0x1],_0x1d1072=_0x4a1b63[_0x1ec7bd(0x957)][_0x1ec7bd(0xa19)](_0xedc264=>_0xedc264[_0x1ec7bd(0xbb6)]===_0x514026);_0x1d1072&&_0x1d1072['isCorrect']&&_0x451429++;});const _0x10ed2b=_0x4ed013>0x0?_0x451429/_0x4ed013:0x0,_0x870e6f=_0x327fd>0x0?_0x439ec5/_0x327fd-_0x3fb03f/_0x327fd:0x0;_0x94ce27[_0x2a0a48]={'p':_0x10ed2b,'r':_0x870e6f,'upperGroupResponders':_0x453bef,'lowerGroupResponders':_0x19e5bb};}),{'perQuestionStats':_0x94ce27,'overallGroups':{'upperGroupNames':_0x1ffeae,'lowerGroupNames':_0x37a13f}};}function drag(_0x565682){const _0x12a364=_0x49918e;if(draggedSvgElement){_0x565682[_0x12a364(0xaf1)]();const _0x3a5325=draggedSvgElement[_0x12a364(0x72a)],_0x2134a9=getPointerPosition(_0x3a5325,_0x565682),_0x4cf175=_0x3a5325[_0x12a364(0x857)][_0x12a364(0xb83)];let _0x33232e=_0x2134a9['x']-svgOffset['x'],_0x344d4c=_0x2134a9['y']-svgOffset['y'];const _0xe14e30=draggedSvgElement['getBBox']();_0x33232e=Math[_0x12a364(0x50b)](_0x4cf175['x'],Math[_0x12a364(0x64d)](_0x33232e,_0x4cf175['x']+_0x4cf175[_0x12a364(0x45a)]-_0xe14e30[_0x12a364(0x45a)])),_0x344d4c=Math[_0x12a364(0x50b)](_0x4cf175['y'],Math[_0x12a364(0x64d)](_0x344d4c,_0x4cf175['y']+_0x4cf175[_0x12a364(0x9b8)]-_0xe14e30[_0x12a364(0x9b8)])),draggedSvgElement[_0x12a364(0xc00)](null,'x',_0x33232e),draggedSvgElement[_0x12a364(0xc00)](null,'y',_0x344d4c);}}function endDrag(_0x58098f){draggedSvgElement=null;}function handleSvgEditClick(_0x96c9de){const _0x442609=_0x49918e;if(_0x96c9de[_0x442609(0x81b)][_0x442609(0x1fa)][_0x442609(0xae6)](_0x442609(0x98e))){const _0x1a3a4b=_0x96c9de[_0x442609(0x81b)][_0x442609(0x297)][_0x442609(0x649)],_0x4d3e13=_0x96c9de[_0x442609(0x2bd)],_0x53fc7c=_0x4d3e13['querySelector']('#'+_0x1a3a4b);_0x53fc7c&&_0x53fc7c[_0x442609(0x428)](),_0x96c9de[_0x442609(0x81b)][_0x442609(0x428)]();}}function handleEditQuestion(_0x31568e){const _0x348ccb=_0x49918e,_0x1f4a09=_0x31568e[_0x348ccb(0x2bd)],_0x5d830b=_0x1f4a09[_0x348ccb(0x297)][_0x348ccb(0x9bd)],_0x246c7b=currentQuizData['questions'][_0x5d830b],_0x464a0d=document[_0x348ccb(0x7db)](_0x348ccb(0x6bd)+_0x5d830b),_0x50193d=document['getElementById'](_0x348ccb(0x7a3)+_0x5d830b),_0x424ec7=document[_0x348ccb(0x7db)](_0x348ccb(0xa4b)+_0x5d830b);if(_0x1f4a09['innerHTML'][_0x348ccb(0x229)](_0x348ccb(0x583))){_0x1f4a09[_0x348ccb(0x848)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x1f4a09[_0x348ccb(0x87a)]=_0x348ccb(0xbf7);if(_0x464a0d)_0x464a0d['contentEditable']=!![];if(_0x50193d)_0x50193d[_0x348ccb(0x7b6)]=!![];if(_0x424ec7){const _0x5785b4=_0x424ec7[_0x348ccb(0xa3e)](_0x348ccb(0x8cc));if(_0x5785b4){const _0x2f218a=_0x5785b4['querySelectorAll'](_0x348ccb(0xada));_0x2f218a[_0x348ccb(0x4ec)]((_0xdd0be1,_0x30fc36)=>{const _0x67cfc2=_0x348ccb,_0x2b1b64='editable-text-'+_0x5d830b+'-'+_0x30fc36;_0xdd0be1['id']=_0x2b1b64,_0xdd0be1[_0x67cfc2(0x1fa)][_0x67cfc2(0x36a)]('draggable-text'),_0xdd0be1[_0x67cfc2(0xbe9)][_0x67cfc2(0x9ad)]=_0x67cfc2(0x5d3);const _0x12b0a9=document[_0x67cfc2(0x765)](_0x67cfc2(0xaff),_0x67cfc2(0x64a)),_0x4930e6=_0xdd0be1['getBBox']();_0x12b0a9['setAttribute']('cx',String(_0x4930e6['x']+_0x4930e6['width']+0x5)),_0x12b0a9[_0x67cfc2(0x55c)]('cy',String(_0x4930e6['y']+_0x4930e6[_0x67cfc2(0x9b8)]/0x2-0x5)),_0x12b0a9[_0x67cfc2(0x55c)]('r','5'),_0x12b0a9[_0x67cfc2(0x55c)](_0x67cfc2(0x511),_0x67cfc2(0xaf7)),_0x12b0a9['setAttribute'](_0x67cfc2(0xb69),_0x67cfc2(0x98e)),_0x12b0a9[_0x67cfc2(0x297)][_0x67cfc2(0x649)]=_0x2b1b64,_0xdd0be1[_0x67cfc2(0x42e)](_0x12b0a9);}),_0x5785b4['addEventListener'](_0x348ccb(0x3e2),startDrag),_0x5785b4[_0x348ccb(0xb63)](_0x348ccb(0x4bb),drag),_0x5785b4[_0x348ccb(0xb63)](_0x348ccb(0x7ac),endDrag),_0x5785b4['addEventListener'](_0x348ccb(0x877),endDrag),_0x5785b4[_0x348ccb(0xb63)](_0x348ccb(0x558),startDrag,{'passive':![]}),_0x5785b4[_0x348ccb(0xb63)](_0x348ccb(0x598),drag,{'passive':![]}),_0x5785b4[_0x348ccb(0xb63)]('touchend',endDrag),_0x5785b4[_0x348ccb(0xb63)](_0x348ccb(0x4ab),endDrag),_0x5785b4[_0x348ccb(0xb63)](_0x348ccb(0x32d),handleSvgEditClick);}}if(_0x464a0d)_0x464a0d[_0x348ccb(0xc3a)]();}else{_0x1f4a09['innerHTML']=_0x348ccb(0xb30),_0x1f4a09[_0x348ccb(0x87a)]=_0x348ccb(0x6fd);if(_0x464a0d){_0x464a0d['contentEditable']=![];const _0x41292b=_0x246c7b[_0x348ccb(0x7e0)]||currentQuizData[_0x348ccb(0x3ee)];_0x41292b===_0x348ccb(0x799)?_0x246c7b[_0x348ccb(0xc08)]=_0x464a0d[_0x348ccb(0x6c0)][_0x348ccb(0x5e5)](_0x464a0d[_0x348ccb(0x6c0)][_0x348ccb(0x317)]('.')+0x2)[_0x348ccb(0x564)]():_0x246c7b[_0x348ccb(0xa04)]=_0x464a0d[_0x348ccb(0x6c0)][_0x348ccb(0x5e5)](_0x464a0d[_0x348ccb(0x6c0)][_0x348ccb(0x317)]('.')+0x2)[_0x348ccb(0x564)]();}_0x50193d&&(_0x50193d[_0x348ccb(0x7b6)]=![],_0x246c7b[_0x348ccb(0x9e0)]=_0x50193d['innerText']);if(_0x424ec7){const _0x3ea010=_0x424ec7[_0x348ccb(0xa3e)]('svg');if(_0x3ea010){const _0x3cf9fd=_0x3ea010['cloneNode'](!![]);_0x3cf9fd[_0x348ccb(0x3e7)](_0x348ccb(0x2ab))[_0x348ccb(0x4ec)](_0x49ec95=>_0x49ec95[_0x348ccb(0x428)]()),_0x3cf9fd['querySelectorAll']('.draggable-text')[_0x348ccb(0x4ec)](_0xaefd46=>{const _0x4832bf=_0x348ccb;_0xaefd46[_0x4832bf(0x1fa)]['remove']('draggable-text'),_0xaefd46[_0x4832bf(0xbe9)][_0x4832bf(0x9ad)]=_0x4832bf(0xae3),_0xaefd46[_0x4832bf(0x933)]('id');}),_0x246c7b[_0x348ccb(0x71a)]=_0x3cf9fd[_0x348ccb(0x2dd)],_0x3ea010[_0x348ccb(0xb7a)](_0x348ccb(0x3e2),startDrag),_0x3ea010[_0x348ccb(0xb7a)](_0x348ccb(0x4bb),drag),_0x3ea010['removeEventListener'](_0x348ccb(0x7ac),endDrag),_0x3ea010[_0x348ccb(0xb7a)](_0x348ccb(0x877),endDrag),_0x3ea010[_0x348ccb(0xb7a)](_0x348ccb(0x558),startDrag),_0x3ea010[_0x348ccb(0xb7a)]('touchmove',drag),_0x3ea010[_0x348ccb(0xb7a)]('touchend',endDrag),_0x3ea010['removeEventListener']('touchcancel',endDrag),_0x3ea010[_0x348ccb(0xb7a)]('click',handleSvgEditClick),_0x3ea010[_0x348ccb(0x3e7)](_0x348ccb(0x2ab))[_0x348ccb(0x4ec)](_0x1a4846=>_0x1a4846['remove']()),_0x3ea010[_0x348ccb(0x3e7)](_0x348ccb(0x4e5))[_0x348ccb(0x4ec)](_0x5d57a4=>{const _0x27c529=_0x348ccb;_0x5d57a4[_0x27c529(0x1fa)]['remove']('draggable-text'),_0x5d57a4[_0x27c529(0xbe9)][_0x27c529(0x9ad)]=_0x27c529(0xae3);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x43b000){const _0x1d1216=_0x49918e,_0x4d9d56=document['getElementById']('quiz-editor-modal'),_0x38bda2=document['getElementById'](_0x1d1216(0x75a));_0x38bda2[_0x1d1216(0x848)]=_0x1d1216(0x69d),_0x4d9d56[_0x1d1216(0x1fa)][_0x1d1216(0x428)](_0x1d1216(0x997));try{const _0x1774c1=doc(db,_0x1d1216(0x878)+appId+_0x1d1216(0x1ed),_0x43b000),_0x139934=await getDoc(_0x1774c1);if(!_0x139934[_0x1d1216(0xbeb)]())throw new Error(_0x1d1216(0x950));currentEditingQuizData={'id':_0x43b000,..._0x139934[_0x1d1216(0x999)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x4e0c91){console[_0x1d1216(0xb89)](_0x1d1216(0x74a),_0x4e0c91),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x4d9d56['classList']['add'](_0x1d1216(0x997));}}function renderQuizEditor(_0x3fa95d){const _0x26f164=_0x49918e;document['getElementById'](_0x26f164(0x5bc))[_0x26f164(0x947)]=_0x3fa95d['topic'];const _0x2ce6cc=document[_0x26f164(0x7db)]('quiz-editor-questions-container');let _0x1bc3dd=_0x3fa95d[_0x26f164(0x29f)]['map']((_0x2f3fce,_0x2fd61e)=>{const _0x37799a=_0x26f164;let _0xc2381f='';const _0x32219d=_0x2f3fce[_0x37799a(0x7e0)]||_0x3fa95d[_0x37799a(0x3ee)];switch(_0x32219d){case'multiple_choice':const _0x41031d=(_0x2f3fce[_0x37799a(0xa27)]||[])[_0x37799a(0x251)]((_0x1cca44,_0x1da231)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x2fd61e+_0x37799a(0x346)+_0x1da231+'\x22\x20'+(_0x1da231===_0x2f3fce[_0x37799a(0x6e8)]?_0x37799a(0xaf2):'')+_0x37799a(0x79b)+_0x1cca44+_0x37799a(0xa7b))[_0x37799a(0x7b8)]('');_0xc2381f=_0x37799a(0x8db)+_0x41031d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':_0xc2381f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x2f3fce[_0x37799a(0x785)]||'')+_0x37799a(0x715);break;case _0x37799a(0x7c2):_0xc2381f=_0x37799a(0x570)+_0x2fd61e+_0x37799a(0xac7)+(_0x2f3fce[_0x37799a(0x912)]===!![]?_0x37799a(0xaf2):'')+_0x37799a(0xa1a)+_0x2fd61e+_0x37799a(0x698)+(_0x2f3fce[_0x37799a(0x912)]===![]?_0x37799a(0xaf2):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'matching_item':_0xc2381f=_0x37799a(0xbb7)+(_0x2f3fce[_0x37799a(0xa77)]||'')+_0x37799a(0xba4);break;}const _0x14e303=_0x2f3fce['questionText']||_0x2f3fce[_0x37799a(0xc08)]||'';return _0x37799a(0x24c)+_0x2fd61e+_0x37799a(0xa76)+_0x32219d+_0x37799a(0x7cb)+(_0x2fd61e+0x1)+'\x20('+_0x32219d+_0x37799a(0xa5f)+_0x14e303+_0x37799a(0x6e5)+_0xc2381f+_0x37799a(0x883);})[_0x26f164(0x7b8)]('');_0x2ce6cc[_0x26f164(0x848)]=_0x1bc3dd,_0x2ce6cc[_0x26f164(0x3e7)]('.ai-fix-question-btn')[_0x26f164(0x4ec)](_0x3e79ed=>{const _0x35b651=_0x26f164;_0x3e79ed[_0x35b651(0xb63)](_0x35b651(0x32d),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x42d694){const _0x471726=_0x49918e,_0x36a11d=_0x42d694[_0x471726(0x2bd)],_0x52c1bf=_0x36a11d[_0x471726(0x984)]('.question-editor-item');if(!_0x52c1bf)return;const _0x23a164=parseInt(_0x52c1bf[_0x471726(0x297)][_0x471726(0xacb)],0xa);if(isNaN(_0x23a164)||!currentEditingQuizData[_0x471726(0x29f)][_0x23a164]){showMessage(_0x471726(0x64f));return;}const _0x18ee84=currentEditingQuizData[_0x471726(0x29f)][_0x23a164];_0x36a11d[_0x471726(0x848)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x36a11d[_0x471726(0x534)]=!![];const _0x20f491='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON['stringify'](_0x18ee84)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x569eaf;const _0x3a06f4=_0x18ee84['questionType']||currentEditingQuizData[_0x471726(0x3ee)];switch(_0x3a06f4){case _0x471726(0x6de):_0x569eaf={'type':_0x471726(0x7eb),'properties':{'questionText':{'type':_0x471726(0x3ec)},'idealAnswer':{'type':_0x471726(0x3ec)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x471726(0xa04),_0x471726(0x785),'explanation']};break;case'multiple_choice':default:_0x569eaf={'type':_0x471726(0x7eb),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x471726(0x315),'items':{'type':_0x471726(0x3ec)}},'correctAnswerIndex':{'type':_0x471726(0x8de)},'explanation':{'type':_0x471726(0x3ec)},'imageCode':{'type':_0x471726(0x3ec)}},'required':[_0x471726(0xa04),_0x471726(0xa27),_0x471726(0x6e8),_0x471726(0x9e0)]};break;}try{let _0x4a4d6c=await callAnalysisApi(_0x20f491,_0x569eaf);_0x4a4d6c[_0x471726(0xa27)]&&Array[_0x471726(0x932)](_0x4a4d6c['options'])&&(_0x4a4d6c['options']=_0x4a4d6c['options'][_0x471726(0x251)](_0x259c57=>typeof _0x259c57===_0x471726(0x427)?_0x259c57[_0x471726(0xc09)](/S(\s*[\d_]+?\s*)S/g,_0x471726(0x39f)):_0x259c57)),_0x18ee84[_0x471726(0x71a)]&&_0x18ee84['imageCode'][_0x471726(0x229)](_0x471726(0x203))&&(_0x4a4d6c[_0x471726(0x71a)]=''),currentEditingQuizData[_0x471726(0x29f)][_0x23a164]={..._0x18ee84,..._0x4a4d6c},renderQuizEditor(currentEditingQuizData),showMessage(_0x471726(0x6ae));}catch(_0x4308e9){console[_0x471726(0xb89)](_0x471726(0xa40),_0x4308e9),showMessage(_0x471726(0x57c)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x13969c=_0x49918e,_0x3fb76e=document[_0x13969c(0x7db)](_0x13969c(0xba2));_0x3fb76e['disabled']=!![],_0x3fb76e[_0x13969c(0x848)]=_0x13969c(0x425);try{const _0x56fc20=document['getElementById'](_0x13969c(0x5bc))[_0x13969c(0x947)],_0x280612=document[_0x13969c(0x3e7)](_0x13969c(0x909));let _0xc7dd90=[];const _0x5bd203=Array[_0x13969c(0x3b3)](_0x280612)[_0x13969c(0x251)]((_0x45e474,_0x5b394d)=>{const _0x561953=_0x13969c,_0x123c70=_0x45e474[_0x561953(0x297)]['qType'],_0x5f3499=_0x45e474[_0x561953(0xa3e)](_0x561953(0xbc1))['value']['replace'](/\n/g,_0x561953(0x3fa));let _0x2b0243={'questionType':_0x123c70};const _0x47fba9=currentEditingQuizData[_0x561953(0x29f)][_0x5b394d];switch(_0x123c70){case _0x561953(0x286):_0x2b0243[_0x561953(0xa04)]=_0x5f3499;const _0x42492c=_0x45e474['querySelectorAll'](_0x561953(0xab0));_0x2b0243[_0x561953(0xa27)]=Array[_0x561953(0x3b3)](_0x42492c)[_0x561953(0x251)](_0x3b21a4=>_0x3b21a4[_0x561953(0x947)]);const _0x2bcadc=_0x45e474[_0x561953(0xa3e)](_0x561953(0x7e6));_0x2b0243['correctAnswerIndex']=_0x2bcadc?parseInt(_0x2bcadc[_0x561953(0x947)]):0x0;break;case _0x561953(0x6de):_0x2b0243[_0x561953(0xa04)]=_0x5f3499,_0x2b0243[_0x561953(0x785)]=_0x45e474[_0x561953(0xa3e)](_0x561953(0x595))[_0x561953(0x947)];break;case'true_false':_0x2b0243['questionText']=_0x5f3499;const _0x4fbd57=_0x45e474[_0x561953(0xa3e)](_0x561953(0x7e6));_0x2b0243[_0x561953(0x912)]=_0x4fbd57?_0x4fbd57[_0x561953(0x947)]===_0x561953(0x36c):!![];break;case'matching_item':_0x2b0243[_0x561953(0xc08)]=_0x5f3499;const _0x9375a7=_0x45e474[_0x561953(0xa3e)](_0x561953(0x9b6));_0x2b0243[_0x561953(0xa77)]=_0x9375a7?_0x9375a7[_0x561953(0x947)]:'',_0xc7dd90['push'](_0x2b0243[_0x561953(0xa77)]);break;default:_0x2b0243[_0x561953(0xa04)]=_0x5f3499;break;}return{..._0x47fba9,..._0x2b0243};});_0xc7dd90[_0x13969c(0xaed)]>0x0&&_0x5bd203[_0x13969c(0x4ec)](_0x2b72bd=>{const _0x1c6df8=_0x13969c;_0x2b72bd[_0x1c6df8(0x7e0)]===_0x1c6df8(0x799)&&(_0x2b72bd[_0x1c6df8(0x85d)]=_0xc7dd90);});const _0x437b53=currentEditingQuizData['id'],_0x277807=doc(db,_0x13969c(0x878)+appId+'/public/data/quizzes',_0x437b53);await updateDoc(_0x277807,{'topic':_0x56fc20,'questions':_0x5bd203}),document[_0x13969c(0x7db)]('quiz-editor-modal')[_0x13969c(0x1fa)]['add'](_0x13969c(0x997)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x437b53));}catch(_0x485d31){console[_0x13969c(0xb89)]('Error\x20saving\x20quiz\x20edits:',_0x485d31),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x3fb76e[_0x13969c(0x534)]=![],_0x3fb76e[_0x13969c(0x848)]=_0x13969c(0x4fb);}}async function initiateReGradeProcess(_0x44b7ca){const _0x341a15=_0x49918e;showMessage(_0x341a15(0x7f2));try{const _0x4c53a0=doc(db,_0x341a15(0x878)+appId+_0x341a15(0x1ed),_0x44b7ca),_0x4c4180=await getDoc(_0x4c53a0);if(!_0x4c4180['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x17a087={'id':_0x44b7ca,..._0x4c4180[_0x341a15(0x999)]()},_0x2ef252=collection(db,_0x341a15(0x878)+appId+'/public/data/quizzes',_0x44b7ca,_0x341a15(0xb3c)),_0x76676c=await getDocs(_0x2ef252);if(_0x76676c[_0x341a15(0xa41)]){showMessage(_0x341a15(0x4f1));return;}const _0x5f08bb=_0x76676c[_0x341a15(0x689)][_0x341a15(0x251)](_0x465a6a=>reGradeSingleSubmission(_0x465a6a,_0x17a087));await Promise[_0x341a15(0x56c)](_0x5f08bb);if(_0x17a087[_0x341a15(0x33a)]){const _0x2d8ff2=doc(db,'artifacts/'+appId+_0x341a15(0xc07),_0x17a087[_0x341a15(0x33a)]),_0x21b285=await getDoc(_0x2d8ff2);if(_0x21b285[_0x341a15(0xbeb)]()&&_0x21b285[_0x341a15(0x999)]()[_0x341a15(0xc14)]){const _0x29abe4=_0x21b285[_0x341a15(0x999)]()[_0x341a15(0xc14)]['map'](_0x536546=>updateStudentProfile(_0x17a087['projectId'],_0x536546));await Promise['all'](_0x29abe4);}}showMessage(_0x341a15(0x1e8)+_0x76676c[_0x341a15(0x2f2)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x29cd55){console[_0x341a15(0xb89)](_0x341a15(0xc33),_0x29cd55),showMessage(_0x341a15(0x473)+_0x29cd55[_0x341a15(0x927)]);}}async function reGradeSingleSubmission(_0x49bee1,_0x1cf88f){const _0x299bde=_0x49918e,_0x2e689c=_0x49bee1[_0x299bde(0x999)](),_0x1aa3b2=_0x2e689c[_0x299bde(0xa50)],_0x464ed9=_0x2e689c[_0x299bde(0x423)]||[],_0x545bc4=[];for(const _0x3696d4 of _0x464ed9){let _0x3636dd=0x0,_0x1406fd=[],_0x2e2d0f=0x0;const _0x2d9ba8=[];for(const _0x5b1412 of _0x3696d4[_0x299bde(0x957)]){let _0x580adf;_0x5b1412['questionId']&&(_0x580adf=_0x1cf88f[_0x299bde(0x29f)][_0x299bde(0xa19)](_0x372608=>_0x372608['id']===_0x5b1412[_0x299bde(0x749)]));!_0x580adf&&_0x5b1412[_0x299bde(0xbb6)]&&(_0x580adf=_0x1cf88f[_0x299bde(0x29f)][_0x299bde(0xa19)](_0x4472cc=>(_0x4472cc[_0x299bde(0xc08)]||_0x4472cc[_0x299bde(0xa04)])===_0x5b1412[_0x299bde(0xbb6)]));let _0x3a48b9=![];if(_0x580adf){const _0xe27aef=_0x580adf[_0x299bde(0x7e0)]||_0x1cf88f[_0x299bde(0x3ee)];switch(_0xe27aef){case _0x299bde(0x286):if(_0x580adf[_0x299bde(0xa27)]&&_0x580adf[_0x299bde(0x6e8)]<_0x580adf[_0x299bde(0xa27)]['length']){const _0x4a437e=_0x580adf[_0x299bde(0xa27)][_0x580adf[_0x299bde(0x6e8)]];_0x3a48b9=_0x5b1412['answerText']===_0x4a437e;}break;case _0x299bde(0x7c2):const _0x2f919b=_0x5b1412[_0x299bde(0x2b8)]===!![]||_0x5b1412[_0x299bde(0x2b8)]===_0x299bde(0x36c);_0x3a48b9=_0x2f919b===_0x580adf['correctAnswer'];break;case _0x299bde(0x799):_0x3a48b9=_0x5b1412[_0x299bde(0x2b8)]===_0x580adf['correctResponse'];break;case _0x299bde(0x6de):_0x3a48b9=await gradeShortAnswer(_0x5b1412['answer'],_0x580adf);break;default:_0x3a48b9=_0x5b1412[_0x299bde(0xb34)];break;}}if(_0x3a48b9){_0x3636dd++,_0x2e2d0f++;if(_0x2e2d0f===0x3)_0x1406fd[_0x299bde(0x9f3)](BADGES['ON_FIRE']['id']);}else _0x2e2d0f=0x0;_0x2d9ba8['push']({..._0x5b1412,'isCorrect':_0x3a48b9});}let _0x318562=_0x3636dd*0xa;_0x3636dd===_0x1cf88f[_0x299bde(0x29f)][_0x299bde(0xaed)]&&(_0x318562+=0x32,_0x1406fd[_0x299bde(0x9f3)](BADGES[_0x299bde(0x6c5)]['id'])),_0x545bc4[_0x299bde(0x9f3)]({..._0x3696d4,'score':_0x3636dd,'points':_0x318562,'badges':Array[_0x299bde(0x3b3)](new Set(_0x1406fd)),'answers':_0x2d9ba8});}const _0x2c9f7d=_0x545bc4[_0x299bde(0xaed)]>0x0?_0x545bc4[0x0][_0x299bde(0x967)]:0x0,_0x547586=Math[_0x299bde(0x50b)](..._0x545bc4['map'](_0x461cd2=>_0x461cd2['score'])),_0xe1fd8d=_0x545bc4[_0x299bde(0xaed)]>0x0?_0x545bc4[_0x545bc4[_0x299bde(0xaed)]-0x1]['score']:0x0,_0x1fe3d3=_0x545bc4[_0x299bde(0xaed)]>0x0?_0x545bc4[_0x545bc4['length']-0x1][_0x299bde(0x259)]:0x0,_0x35fb7d=doc(db,_0x299bde(0x878)+appId+'/public/data/quizzes/'+_0x1cf88f['id']+_0x299bde(0xa86),_0x1aa3b2);await updateDoc(_0x35fb7d,{'attempts':_0x545bc4,'firstScore':_0x2c9f7d,'bestScore':_0x547586,'latestScore':_0xe1fd8d,'points':_0x1fe3d3});}function cleanupQuizOptions(_0x3515f8){const _0x40f028=_0x49918e,_0x51bc53=(_0xaed6a5,_0x235e70)=>_0x235e70===0x0?_0xaed6a5:_0x51bc53(_0x235e70,_0xaed6a5%_0x235e70),_0x5db7dc=_0x3d0439=>{const _0x542f8f=_0x2d54;if(typeof _0x3d0439!=='string')return null;_0x3d0439=_0x3d0439[_0x542f8f(0x564)]();const _0x11e992=_0x3d0439['split'](/[ /]/)[_0x542f8f(0xbf0)](_0x2d8544=>_0x2d8544!=='');if(_0x11e992[_0x542f8f(0xaed)]===0x3)return parseInt(_0x11e992[0x0])+parseInt(_0x11e992[0x1])/parseInt(_0x11e992[0x2]);else{if(_0x11e992[_0x542f8f(0xaed)]===0x2)return parseInt(_0x11e992[0x0])/parseInt(_0x11e992[0x1]);else{if(_0x11e992[_0x542f8f(0xaed)]===0x1&&!isNaN(_0x11e992[0x0]))return parseFloat(_0x11e992[0x0]);}}return null;},_0x3db74a=_0x5b38a9=>{const _0x117528=_0x2d54;if(typeof _0x5b38a9!=='string')return _0x5b38a9;const _0x5e1839=_0x5b38a9[_0x117528(0x56a)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x5e1839){const _0x152d16=parseInt(_0x5e1839[0x1]);let _0x31757b=parseInt(_0x5e1839[0x2]),_0x46f116=parseInt(_0x5e1839[0x3]);const _0x59b1e6=_0x51bc53(_0x31757b,_0x46f116);_0x31757b/=_0x59b1e6,_0x46f116/=_0x59b1e6;if(_0x46f116===0x1)return(_0x152d16+_0x31757b)[_0x117528(0x241)]();return _0x152d16+'\x20'+_0x31757b+'/'+_0x46f116;}return _0x5b38a9;};return _0x3515f8&&_0x3515f8[_0x40f028(0x29f)]&&_0x3515f8[_0x40f028(0x29f)][_0x40f028(0x4ec)](_0x4f7b09=>{const _0x419286=_0x40f028;if(_0x4f7b09[_0x419286(0x7e0)]===_0x419286(0x286)&&_0x4f7b09[_0x419286(0xa27)]){const _0x1bb8dd=new Map(),_0x4c740f=_0x4f7b09[_0x419286(0xa27)][_0x4f7b09[_0x419286(0x6e8)]];_0x4f7b09['options'][_0x419286(0x4ec)](_0x3f19db=>{const _0x3ccc9b=_0x419286,_0x403bca=_0x3db74a(_0x3f19db),_0x2e15e9=_0x5db7dc(_0x403bca);_0x2e15e9!==null&&!_0x1bb8dd[_0x3ccc9b(0x61a)](_0x2e15e9)&&_0x1bb8dd['set'](_0x2e15e9,_0x403bca);}),_0x4f7b09[_0x419286(0xa27)]=Array[_0x419286(0x3b3)](_0x1bb8dd[_0x419286(0xbca)]());const _0x5cec8b=_0x4f7b09['options'][_0x419286(0x2d8)](_0xfdb17a=>_0xfdb17a===_0x3db74a(_0x4c740f));_0x4f7b09[_0x419286(0x6e8)]=_0x5cec8b!==-0x1?_0x5cec8b:0x0;}}),_0x3515f8;}function showGameStartConfirmationModal(_0x123764,_0x371e0f,_0x3d074a){const _0x22e1b0=_0x49918e,_0x3dc4cb=document[_0x22e1b0(0x7db)](_0x22e1b0(0xb4d));document[_0x22e1b0(0x7db)](_0x22e1b0(0x420))[_0x22e1b0(0x467)]=_0x22e1b0(0x9a8)+_0x3d074a,document[_0x22e1b0(0x7db)](_0x22e1b0(0x57a))['value']=_0x123764,document['getElementById']('game-start-mode')[_0x22e1b0(0x947)]=_0x371e0f,document[_0x22e1b0(0x7db)](_0x22e1b0(0x639))['checked']=!![],_0x3dc4cb[_0x22e1b0(0x1fa)][_0x22e1b0(0x428)](_0x22e1b0(0x997));}async function saveGameResultsAsSubmissions(_0x15077f){const _0x6ef77b=_0x49918e;console['log']('Attempting\x20to\x20save\x20game\x20results...',_0x15077f);const _0x200c1b=_0x15077f[_0x6ef77b(0x33f)];let _0x291b12=[];if(_0x15077f['players'])_0x291b12=Object['entries'](_0x15077f[_0x6ef77b(0x891)])[_0x6ef77b(0x251)](([_0x2a81e4,_0x51614a])=>({'name':_0x2a81e4,..._0x51614a}));else{if(_0x15077f['groups'])Object['values'](_0x15077f['groups'])['forEach'](_0x1c51de=>{const _0x276651=_0x6ef77b;_0x1c51de['members'][_0x276651(0x4ec)](_0x576709=>{const _0x85c5fa=_0x276651;_0x291b12[_0x85c5fa(0x9f3)]({'name':_0x576709,'score':_0x1c51de[_0x85c5fa(0x967)]});});});else _0x15077f['responses']&&Object[_0x6ef77b(0xa7e)](_0x15077f[_0x6ef77b(0x52b)])['forEach'](([_0x1fa72d,_0x5ecd06])=>{const _0x4ec279=_0x6ef77b;_0x291b12[_0x4ec279(0x9f3)]({'name':_0x1fa72d,..._0x5ecd06});});}if(_0x291b12[_0x6ef77b(0xaed)]===0x0){console['log']('No\x20player\x20data\x20to\x20save.');return;}const _0x1d180e=_0x15077f[_0x6ef77b(0x4b3)]?.['questions'][_0x6ef77b(0xaed)]||currentQuizData['questions'][_0x6ef77b(0xaed)],_0x16cddb=writeBatch(db);for(const _0x3291e2 of _0x291b12){const _0x41cb1f=_0x3291e2['score']||0x0,_0x45c899=doc(db,_0x6ef77b(0x878)+appId+_0x6ef77b(0x350)+_0x200c1b+_0x6ef77b(0xa86),_0x3291e2['name']),_0x463a9d=(_0x3291e2[_0x6ef77b(0x957)]||[])[_0x6ef77b(0xbf0)](_0x1505d4=>_0x1505d4['isCorrect'])[_0x6ef77b(0xaed)],_0x3cd686={'score':_0x463a9d,'points':_0x41cb1f,'badges':_0x3291e2[_0x6ef77b(0xbc0)]||[],'submittedAt':new Date()[_0x6ef77b(0x9e9)](),'answers':(_0x3291e2[_0x6ef77b(0x957)]||[])[_0x6ef77b(0x251)](_0x231e20=>({'questionId':_0x231e20[_0x6ef77b(0x749)],'answer':_0x231e20[_0x6ef77b(0x2b8)],'answerText':_0x231e20[_0x6ef77b(0x4fe)],'isCorrect':_0x231e20[_0x6ef77b(0xb34)],'originalQuestionText':_0x231e20[_0x6ef77b(0xbb6)],'wasConfident':_0x231e20[_0x6ef77b(0x882)]}))},_0x25ae53=await getDoc(_0x45c899),_0x14d0a7=_0x25ae53[_0x6ef77b(0xbeb)]()?_0x25ae53['data']():{},_0xf5f843=_0x14d0a7[_0x6ef77b(0x8b7)]||0x0,_0x23e6d1=_0x14d0a7[_0x6ef77b(0x423)]||[],_0x3b540e={'studentName':_0x3291e2[_0x6ef77b(0x447)],'totalQuestions':_0x1d180e,'attempts':arrayUnion(_0x3cd686),'latestScore':_0x463a9d,'points':_0x41cb1f,'latestSubmittedAt':_0x3cd686[_0x6ef77b(0x57b)],'bestScore':Math[_0x6ef77b(0x50b)](_0xf5f843,_0x463a9d),'firstScore':_0x23e6d1[_0x6ef77b(0xaed)]===0x0?_0x463a9d:_0x14d0a7[_0x6ef77b(0xc2e)]||0x0};_0x16cddb['set'](_0x45c899,_0x3b540e,{'merge':!![]});}try{await _0x16cddb['commit'](),showMessage(_0x6ef77b(0xb4e)+_0x291b12[_0x6ef77b(0xaed)]+_0x6ef77b(0x273));const _0x1a8d54=_0x15077f[_0x6ef77b(0x4b3)]?.[_0x6ef77b(0x33a)]||currentQuizData?.['projectId']||currentProjectId;if(_0x1a8d54){const _0x25dcff=[...new Set(_0x291b12[_0x6ef77b(0x251)](_0x4156cd=>_0x4156cd['name']))];for(const _0x9c4bea of _0x25dcff){await updateStudentProfile(_0x1a8d54,_0x9c4bea);}}}catch(_0x1942bb){console[_0x6ef77b(0xb89)](_0x6ef77b(0x5c9),_0x1942bb),showMessage('เกิดข้อผิดพลาดในการบันทึกผลจากเกม');}}async function saveQuiz(){const _0x5d7ebf=_0x49918e;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x5d7ebf(0x29f)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x2ca479=document[_0x5d7ebf(0x7db)]('save-quiz-btn');_0x2ca479[_0x5d7ebf(0x534)]=!![],_0x2ca479['innerHTML']=_0x5d7ebf(0x425);const _0x1d890a=document[_0x5d7ebf(0x7db)]('pre-test-checkbox')[_0x5d7ebf(0xaf2)];let _0x4efa3b=document[_0x5d7ebf(0x7db)]('editable-quiz-topic')[_0x5d7ebf(0x6c0)][_0x5d7ebf(0x564)]();_0x1d890a&&!_0x4efa3b[_0x5d7ebf(0x663)](_0x5d7ebf(0x533))&&(_0x4efa3b=_0x5d7ebf(0xa9f)+_0x4efa3b);try{const _0x273e49={'resultsDisplay':document[_0x5d7ebf(0x7db)](_0x5d7ebf(0x8a4))[_0x5d7ebf(0x947)],'shuffle':document[_0x5d7ebf(0x7db)](_0x5d7ebf(0xaba))[_0x5d7ebf(0x947)],'timerMode':document['getElementById'](_0x5d7ebf(0x674))[_0x5d7ebf(0x947)],'timerDuration':parseInt(document['getElementById'](_0x5d7ebf(0xb5a))[_0x5d7ebf(0x947)])||0xa,'passingScore':parseInt(document[_0x5d7ebf(0x7db)](_0x5d7ebf(0xb43))['value'])||0x0,'isAdaptive':document['getElementById'](_0x5d7ebf(0x7b2))[_0x5d7ebf(0xaf2)],'loopUntilPass':document[_0x5d7ebf(0x7db)](_0x5d7ebf(0x613))[_0x5d7ebf(0xaf2)]},_0x1c150f=(currentQuizData[_0x5d7ebf(0x29f)]||[])[_0x5d7ebf(0x251)]((_0x11cbd3,_0x4215f6)=>{const _0x54fb6c=_0x5d7ebf,_0x4c8133=document[_0x54fb6c(0x7db)]('quiz-type-select')[_0x54fb6c(0x947)],_0x6c3f98={'id':'q_'+Date[_0x54fb6c(0x8fb)]()+'_'+_0x4215f6,'questionText':_0x11cbd3[_0x54fb6c(0xa04)]||'','explanation':_0x11cbd3[_0x54fb6c(0x9e0)]||_0x54fb6c(0x49d),'questionType':_0x11cbd3[_0x54fb6c(0x7e0)]||_0x4c8133,'imageCode':_0x11cbd3[_0x54fb6c(0x71a)]||null};return(_0x6c3f98['questionType']===_0x54fb6c(0x286)||_0x6c3f98[_0x54fb6c(0x7e0)]===_0x54fb6c(0x54d)||_0x6c3f98[_0x54fb6c(0x7e0)]===_0x54fb6c(0x9f2)&&_0x11cbd3[_0x54fb6c(0xa27)])&&(_0x6c3f98[_0x54fb6c(0xa27)]=_0x11cbd3[_0x54fb6c(0xa27)]||[],_0x6c3f98[_0x54fb6c(0x6e8)]=_0x11cbd3['correctAnswerIndex']!==undefined?_0x11cbd3[_0x54fb6c(0x6e8)]:0x0),(_0x6c3f98[_0x54fb6c(0x7e0)]===_0x54fb6c(0x6de)||_0x6c3f98[_0x54fb6c(0x7e0)]===_0x54fb6c(0x6c9)||_0x6c3f98[_0x54fb6c(0x7e0)]===_0x54fb6c(0x9f2)&&_0x11cbd3[_0x54fb6c(0x785)])&&(_0x6c3f98[_0x54fb6c(0x785)]=_0x11cbd3['idealAnswer']||''),_0x6c3f98[_0x54fb6c(0x7e0)]===_0x54fb6c(0x7c2)&&(_0x6c3f98['correctAnswer']=_0x11cbd3['correctAnswer']===!![]),_0x6c3f98[_0x54fb6c(0x7e0)]==='matching_item'&&(_0x6c3f98[_0x54fb6c(0xc08)]=_0x11cbd3[_0x54fb6c(0xc08)]||'',_0x6c3f98[_0x54fb6c(0xa77)]=_0x11cbd3['correctResponse']||'',_0x6c3f98[_0x54fb6c(0x85d)]=_0x11cbd3['allResponses']||[]),_0x6c3f98;}),_0x458ae4={'topic':_0x4efa3b,'quizType':currentQuizData[_0x5d7ebf(0x3ee)]||_0x5d7ebf(0x286),'questions':_0x1c150f,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5d7ebf(0x9e9)](),'status':_0x5d7ebf(0x9d3),'settings':_0x273e49,'quizMode':_0x1d890a?_0x5d7ebf(0x44f):_0x5d7ebf(0x805),'pairedQuizId':null,'lessonPlan':null};let _0x17aaa8;while(!![]){_0x17aaa8=Math['floor'](0x3e8+Math[_0x5d7ebf(0x9df)]()*0x2328)[_0x5d7ebf(0x241)]();const _0x41d1f1=await getDoc(doc(db,'artifacts/'+appId+_0x5d7ebf(0x1ed),_0x17aaa8));if(!_0x41d1f1['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x5d7ebf(0x1ed),_0x17aaa8),_0x458ae4),currentQuizData['settings']=_0x273e49,currentQuizData['id']=_0x17aaa8;const _0xf34733=document['getElementById'](_0x5d7ebf(0x2b1));_0xf34733[_0x5d7ebf(0x848)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x17aaa8+_0x5d7ebf(0x728),document[_0x5d7ebf(0x7db)](_0x5d7ebf(0x4f5))[_0x5d7ebf(0xb63)](_0x5d7ebf(0x32d),()=>copyTextToClipboard(_0x17aaa8,_0x5d7ebf(0x408))),document[_0x5d7ebf(0x7db)](_0x5d7ebf(0x6fa))['addEventListener'](_0x5d7ebf(0x32d),()=>handleStartLiveRace(_0x17aaa8)),document[_0x5d7ebf(0x7db)]('start-presentation-btn')[_0x5d7ebf(0xb63)]('click',()=>startPresentation(currentQuizData)),document[_0x5d7ebf(0x7db)](_0x5d7ebf(0x475))['addEventListener'](_0x5d7ebf(0x32d),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x1a25d1){console[_0x5d7ebf(0xb89)](_0x5d7ebf(0x66a),_0x1a25d1),showMessage(_0x5d7ebf(0x591)),_0x2ca479[_0x5d7ebf(0x534)]=![],_0x2ca479['innerHTML']=_0x5d7ebf(0x6b7);}}function promptForProjectAndSave(){const _0x23a53d=_0x49918e,_0x3a1a0e=document[_0x23a53d(0x7db)](_0x23a53d(0x8fd)),_0x1978b0=document['getElementById']('move-quiz-project-select'),_0x309011=_0x3a1a0e[_0x23a53d(0xa3e)]('h3'),_0x9b99b6=document[_0x23a53d(0x7db)]('confirm-move-quiz-btn');_0x309011[_0x23a53d(0x467)]=_0x23a53d(0x2a1),_0x9b99b6[_0x23a53d(0x467)]=_0x23a53d(0xb70);allProjects[_0x23a53d(0xaed)]===0x0?(_0x1978b0[_0x23a53d(0x848)]=_0x23a53d(0x8eb),_0x9b99b6['disabled']=!![]):(_0x1978b0[_0x23a53d(0x848)]=allProjects[_0x23a53d(0x251)](_0x1a110a=>_0x23a53d(0x397)+_0x1a110a['id']+'\x22>'+_0x1a110a[_0x23a53d(0x257)]+'</option>')[_0x23a53d(0x7b8)](''),_0x9b99b6[_0x23a53d(0x534)]=![]);_0x3a1a0e[_0x23a53d(0x1fa)][_0x23a53d(0x428)](_0x23a53d(0x997));const _0x1a64a8=()=>{const _0x1cc651=_0x23a53d,_0x336915=_0x1978b0['value'];_0x336915?(currentProjectId=_0x336915,_0x3a1a0e[_0x1cc651(0x1fa)][_0x1cc651(0x36a)](_0x1cc651(0x997)),saveQuiz(),_0x309011[_0x1cc651(0x467)]=_0x1cc651(0x85e),_0x9b99b6[_0x1cc651(0x467)]=_0x1cc651(0x294),_0x9b99b6[_0x1cc651(0xb7a)](_0x1cc651(0x32d),_0x1a64a8),_0x9b99b6['addEventListener']('click',confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x9b99b6[_0x23a53d(0xb7a)](_0x23a53d(0x32d),confirmMoveQuiz),_0x9b99b6[_0x23a53d(0xb63)](_0x23a53d(0x32d),_0x1a64a8);}function copyTextToClipboard(_0x52b9ad,_0x57489f){const _0x3a3f62=_0x49918e,_0xc8a9d8=document[_0x3a3f62(0x989)](_0x3a3f62(0xbc1));_0xc8a9d8['value']=_0x52b9ad,_0xc8a9d8[_0x3a3f62(0xbe9)][_0x3a3f62(0x29b)]='fixed',_0xc8a9d8[_0x3a3f62(0xbe9)][_0x3a3f62(0xb96)]='0',document[_0x3a3f62(0x43d)][_0x3a3f62(0x821)](_0xc8a9d8),_0xc8a9d8[_0x3a3f62(0xc3a)](),_0xc8a9d8[_0x3a3f62(0xbea)]();try{const _0x22f4c6=document[_0x3a3f62(0x5e7)](_0x3a3f62(0x782));showMessage(_0x22f4c6?_0x57489f:_0x3a3f62(0x83d));}catch(_0x44b3c4){showMessage(_0x3a3f62(0x83d)),console['error'](_0x3a3f62(0x706),_0x44b3c4);}document[_0x3a3f62(0x43d)][_0x3a3f62(0x717)](_0xc8a9d8);}function listenForProjectQuizzes(_0x3e2738){const _0x478c1b=_0x49918e,_0x44a476=collection(db,_0x478c1b(0x878)+appId+_0x478c1b(0x1ed)),_0x5e9853=query(_0x44a476,where(_0x478c1b(0x33a),'==',_0x3e2738));unsubscribeQuizzesListener=onSnapshot(_0x5e9853,async _0x407df9=>{const _0x3224d0=_0x478c1b;allQuizzes=_0x407df9[_0x3224d0(0x689)][_0x3224d0(0x251)](_0x48f712=>({'id':_0x48f712['id'],..._0x48f712[_0x3224d0(0x999)]()})),renderQuizzes();},_0x56fec9=>{const _0x242335=_0x478c1b;console[_0x242335(0xb89)](_0x242335(0xa75),_0x56fec9),document[_0x242335(0x7db)](_0x242335(0xa9b))['innerHTML']=_0x242335(0x1e5);});}async function renderQuizzes(){const _0x21974f=_0x49918e,_0x1a6f35=document['getElementById'](_0x21974f(0xa9b)),_0x1fe4c7=document[_0x21974f(0x7db)](_0x21974f(0xbb0))[_0x21974f(0x947)][_0x21974f(0x8fa)]();let _0x571c97;currentProjectId===_0x21974f(0x8e9)?_0x571c97=starredQuizzes:_0x571c97=allQuizzes;let _0x5c6afd=_0x571c97[_0x21974f(0xbf0)](_0x64de86=>_0x64de86[_0x21974f(0x818)]['toLowerCase']()['includes'](_0x1fe4c7));_0x5c6afd[_0x21974f(0x236)]((_0x86935b,_0x33bdaa)=>new Date(_0x33bdaa[_0x21974f(0x8ec)])-new Date(_0x86935b[_0x21974f(0x8ec)]));if(_0x5c6afd['length']===0x0){_0x1a6f35['innerHTML']='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x329f3e={},_0x41f7ba=_0x5c6afd['map'](async _0x42aa7f=>{const _0x19691a=_0x21974f,_0x542b88=collection(db,_0x19691a(0x878)+appId+_0x19691a(0x350)+_0x42aa7f['id']+_0x19691a(0xa86)),_0x5e4f6b=await getDocs(_0x542b88);_0x329f3e[_0x42aa7f['id']]=_0x5e4f6b[_0x19691a(0x2f2)];});await Promise['all'](_0x41f7ba);let _0x1acfc5='';_0x5c6afd[_0x21974f(0x4ec)](_0x49d322=>{const _0x2f6eb1=_0x21974f,_0x3c6340=_0x329f3e[_0x49d322['id']]||0x0,_0x3b741b=_0x49d322[_0x2f6eb1(0xbc2)]||_0x2f6eb1(0x9d3),_0xf27ff5=_0x49d322[_0x2f6eb1(0x8d5)]?.[_0x2f6eb1(0x53f)]||_0x2f6eb1(0x979);let _0x1426bd='',_0x202dfd='';const _0x49e343=new Date();let _0x23db7c=_0x3b741b;if(_0x3b741b==='scheduled'){const _0x2ff560=_0x49d322[_0x2f6eb1(0xa6f)]?new Date(_0x49d322[_0x2f6eb1(0xa6f)]):null,_0x27d372=_0x49d322[_0x2f6eb1(0x71d)]?new Date(_0x49d322['endTime']):null;if(_0x27d372&&_0x49e343>_0x27d372)_0x23db7c='inactive';else _0x2ff560&&_0x49e343<_0x2ff560?_0x23db7c=_0x2f6eb1(0x94e):_0x23db7c=_0x2f6eb1(0x9d3);}switch(_0x23db7c){case _0x2f6eb1(0x31b):_0x1426bd='ปิดใช้งาน',_0x202dfd=_0x2f6eb1(0x7ea);break;case'scheduled_pending':_0x1426bd=_0x2f6eb1(0xb0d),_0x202dfd=_0x2f6eb1(0x26a);break;case _0x2f6eb1(0x9d3):_0x1426bd=_0xf27ff5!=='none'?_0x2f6eb1(0x5fd):_0x2f6eb1(0x4e7),_0x202dfd=_0x2f6eb1(0xac3);break;default:_0x1426bd=_0x2f6eb1(0x21f),_0x202dfd='text-green-700\x20bg-green-100';break;}let _0x3e70c6='';const _0x1b3a6f={'day':_0x2f6eb1(0x84a),'month':'2-digit','year':_0x2f6eb1(0x8ad),'hour':_0x2f6eb1(0x84a),'minute':'2-digit','hour12':![]};if(_0x3b741b===_0x2f6eb1(0x452)){if(_0x49d322[_0x2f6eb1(0xa6f)])_0x3e70c6+=_0x2f6eb1(0x62d)+new Date(_0x49d322['startTime'])[_0x2f6eb1(0x783)](_0x2f6eb1(0x5f3),_0x1b3a6f)+_0x2f6eb1(0x5c6);if(_0x49d322[_0x2f6eb1(0x71d)])_0x3e70c6+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x49d322['endTime'])[_0x2f6eb1(0x783)](_0x2f6eb1(0x5f3),_0x1b3a6f)+_0x2f6eb1(0x5c6);}let _0x56f11a='';if(_0x49d322[_0x2f6eb1(0x3f1)]){const _0x5622cf=allQuizzes[_0x2f6eb1(0xa19)](_0x3ecaad=>_0x3ecaad['id']===_0x49d322['pairedQuizId']);if(_0x5622cf){let _0x18bbef,_0x508f61;new Date(_0x49d322[_0x2f6eb1(0x8ec)])<new Date(_0x5622cf[_0x2f6eb1(0x8ec)])?(_0x18bbef=_0x49d322['id'],_0x508f61=_0x5622cf['id']):(_0x18bbef=_0x5622cf['id'],_0x508f61=_0x49d322['id']),_0x56f11a+=_0x2f6eb1(0x5a6)+_0x508f61+_0x2f6eb1(0x26c)+_0x18bbef+_0x2f6eb1(0x77b);}}else _0x49d322['quizMode']===_0x2f6eb1(0x44f)&&(_0x56f11a+=_0x2f6eb1(0x381)+_0x49d322['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x49d322['quizMode']===_0x2f6eb1(0x44f)&&_0x3c6340>0x0)_0x56f11a+=_0x2f6eb1(0x381)+_0x49d322['id']+_0x2f6eb1(0x293);else!_0x49d322[_0x2f6eb1(0x3f1)]&&_0x49d322[_0x2f6eb1(0x897)]!==_0x2f6eb1(0x44f)&&_0x3c6340>0x0&&(_0x56f11a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49d322['id']+_0x2f6eb1(0x3e6));let _0x3b4650='';_0x49d322[_0x2f6eb1(0x3f1)]?_0x3b4650=_0x2f6eb1(0x2c8)+_0x49d322['id']+_0x2f6eb1(0x566):_0x3b4650=_0x2f6eb1(0x2c8)+_0x49d322['id']+_0x2f6eb1(0xc3b),_0x1acfc5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x49d322['id']+_0x2f6eb1(0x842)+_0x49d322[_0x2f6eb1(0x818)]+_0x2f6eb1(0x38a)+_0x49d322[_0x2f6eb1(0x29f)]['length']+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x49d322[_0x2f6eb1(0x8ec)])['toLocaleString'](_0x2f6eb1(0x5f3))+_0x2f6eb1(0x21d)+_0x3c6340+_0x2f6eb1(0xab1)+_0x3e70c6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x202dfd+'\x22>'+_0x1426bd+_0x2f6eb1(0x68c)+_0x49d322['id']+_0x2f6eb1(0xb0f)+_0x49d322['id']+_0x2f6eb1(0x73b)+(_0x49d322[_0x2f6eb1(0x9a9)]?_0x2f6eb1(0x798):'far\x20fa-star')+_0x2f6eb1(0x899)+_0x56f11a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49d322['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x49d322['id']+_0x2f6eb1(0x976)+_0x49d322['id']+_0x2f6eb1(0x99f)+_0x49d322['id']+_0x2f6eb1(0x51c)+_0x49d322['id']+_0x2f6eb1(0x7a4)+_0x49d322['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49d322['id']+_0x2f6eb1(0xc2a)+_0x49d322[_0x2f6eb1(0x818)]+_0x2f6eb1(0xb5e)+_0x49d322['id']+_0x2f6eb1(0xade)+_0x49d322['id']+_0x2f6eb1(0x8cf)+_0x3b4650+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49d322['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49d322['id']+_0x2f6eb1(0x510)+_0x49d322['id']+_0x2f6eb1(0x7b5)+_0x49d322['id']+_0x2f6eb1(0x7a6)+_0x49d322['id']+_0x2f6eb1(0x87e)+_0x49d322['id']+_0x2f6eb1(0xa8d)+_0x49d322['id']+_0x2f6eb1(0xbb3)+_0x49d322['id']+_0x2f6eb1(0xc2a)+_0x49d322[_0x2f6eb1(0x818)]+_0x2f6eb1(0x86c)+_0x49d322['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1a6f35['innerHTML']=_0x1acfc5,document['querySelectorAll'](_0x21974f(0x4c6))[_0x21974f(0x4ec)](_0x202a32=>{const _0x2cb539=_0x21974f;_0x202a32[_0x2cb539(0xb63)](_0x2cb539(0x32d),()=>{const _0xa2b5b=_0x2cb539,_0x55ceb9=_0x202a32['dataset'][_0xa2b5b(0x33f)];showQuizDetailView(_0x55ceb9);});});}async function handleUnpairQuiz(_0x5cbf2d){const _0x17f227=_0x49918e,_0x3cf8d5=allQuizzes[_0x17f227(0xa19)](_0x14e9b8=>_0x14e9b8['id']===_0x5cbf2d);if(!_0x3cf8d5||!_0x3cf8d5[_0x17f227(0x3f1)]){showMessage(_0x17f227(0x993));return;}showConfirmation(_0x17f227(0x946),async()=>{const _0x5c8e9a=_0x17f227;try{const _0x4a4517=doc(db,_0x5c8e9a(0x878)+appId+_0x5c8e9a(0x1ed),_0x5cbf2d),_0x477ac1=doc(db,_0x5c8e9a(0x878)+appId+_0x5c8e9a(0x1ed),_0x3cf8d5[_0x5c8e9a(0x3f1)]),_0x286207=writeBatch(db);_0x286207['update'](_0x4a4517,{'pairedQuizId':null}),_0x286207[_0x5c8e9a(0xb1a)](_0x477ac1,{'pairedQuizId':null}),await _0x286207[_0x5c8e9a(0x917)](),showMessage(_0x5c8e9a(0xb10));}catch(_0x1bf2d2){console['error']('Error\x20unpairing\x20quizzes:',_0x1bf2d2),showMessage(_0x5c8e9a(0x822));}});}function formatAndPrintLessonPlan(_0x38e4e2,_0x3240c3){const _0xc543e0=_0x49918e,_0x215e19=window[_0xc543e0(0x8c9)]('',_0xc543e0(0x724)),_0x5be223='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x3240c3[_0xc543e0(0x818)]+_0xc543e0(0x80d)+_0x3240c3[_0xc543e0(0x818)]+_0xc543e0(0x36d)+_0x38e4e2[_0xc543e0(0x4eb)][_0xc543e0(0x251)](_0x19e426=>'<li>'+_0x19e426+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x38e4e2['teachingContent']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x38e4e2[_0xc543e0(0x7fe)]['map'](_0x38b0f6=>_0xc543e0(0x588)+_0x38b0f6[_0xc543e0(0xbe1)]+_0xc543e0(0x2e0)+_0x38b0f6[_0xc543e0(0x772)]+_0xc543e0(0xa6c))[_0xc543e0(0x7b8)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x215e19['document'][_0xc543e0(0xa42)](_0x5be223),_0x215e19['document']['close'](),_0x215e19['onload']=function(){setTimeout(()=>{const _0x573e77=_0x2d54;_0x215e19[_0x573e77(0xa2a)]();},0x3e8);};}async function handleAiFixFormula(_0x421bae){const _0x3fa0b8=_0x49918e,_0x2e28b1=document[_0x3fa0b8(0xa3e)](_0x3fa0b8(0x8ee)+_0x421bae+'\x22]');if(!_0x2e28b1)return;const _0x319060=_0x2e28b1['dataset'][_0x3fa0b8(0x8fe)],_0x589e56=_0x2e28b1[_0x3fa0b8(0xa3e)]('.ai-fix-formula-btn');let _0x15fce5={'question':_0x2e28b1[_0x3fa0b8(0xa3e)](_0x3fa0b8(0xbc1))[_0x3fa0b8(0x947)]};switch(_0x319060){case'multiple_choice':_0x15fce5[_0x3fa0b8(0xa27)]=Array[_0x3fa0b8(0x3b3)](_0x2e28b1[_0x3fa0b8(0x3e7)](_0x3fa0b8(0xab0)))[_0x3fa0b8(0x251)](_0x27ef1f=>_0x27ef1f[_0x3fa0b8(0x947)]);break;case'short_answer':_0x15fce5[_0x3fa0b8(0x785)]=_0x2e28b1['querySelector'](_0x3fa0b8(0x595))['value'];break;case'matching_item':_0x15fce5[_0x3fa0b8(0xa77)]=_0x2e28b1[_0x3fa0b8(0xa3e)]('.correct-response-input')['value'];break;}_0x589e56['innerHTML']=_0x3fa0b8(0x4d2),_0x589e56[_0x3fa0b8(0x534)]=!![];try{const _0x1ef192=_0x3fa0b8(0x676)+JSON[_0x3fa0b8(0x362)](_0x15fce5)+_0x3fa0b8(0x9eb),_0x37deb9={'type':_0x3fa0b8(0x7eb),'properties':{'fixedData':{'type':_0x3fa0b8(0x7eb),'properties':{'question':{'type':_0x3fa0b8(0x3ec)},'options':{'type':_0x3fa0b8(0x315),'items':{'type':_0x3fa0b8(0x3ec)}},'idealAnswer':{'type':_0x3fa0b8(0x3ec)},'correctResponse':{'type':_0x3fa0b8(0x3ec)}},'required':[_0x3fa0b8(0xbe1)]}},'required':[_0x3fa0b8(0x454)]},_0x7a7e40=await callAnalysisApi(_0x1ef192,_0x37deb9);if(_0x7a7e40&&_0x7a7e40[_0x3fa0b8(0x454)]){const _0x3b732a=_0x7a7e40[_0x3fa0b8(0x454)];_0x2e28b1['querySelector']('textarea')['value']=_0x3b732a[_0x3fa0b8(0xbe1)]||_0x15fce5['question'];switch(_0x319060){case _0x3fa0b8(0x286):_0x3b732a['options']&&_0x3b732a['options'][_0x3fa0b8(0xaed)]>0x0&&_0x2e28b1[_0x3fa0b8(0x3e7)](_0x3fa0b8(0xab0))[_0x3fa0b8(0x4ec)]((_0x65211f,_0x5e1936)=>{const _0x2dea45=_0x3fa0b8;_0x65211f[_0x2dea45(0x947)]=_0x3b732a[_0x2dea45(0xa27)][_0x5e1936]||_0x15fce5[_0x2dea45(0xa27)][_0x5e1936];});break;case _0x3fa0b8(0x6de):_0x2e28b1['querySelector'](_0x3fa0b8(0x595))['value']=_0x3b732a['idealAnswer']||_0x15fce5[_0x3fa0b8(0x785)];break;case'matching_item':_0x2e28b1['querySelector']('.correct-response-input')['value']=_0x3b732a[_0x3fa0b8(0xa77)]||_0x15fce5['correctResponse'];break;}if(_0x15fce5[_0x3fa0b8(0xbe1)]!==_0x3b732a[_0x3fa0b8(0xbe1)])try{const _0x635f4a=collection(db,_0x3fa0b8(0x878)+appId+_0x3fa0b8(0x85b));await addDoc(_0x635f4a,{'broken':_0x15fce5[_0x3fa0b8(0xbe1)],'fixed':_0x3b732a['question'],'createdAt':serverTimestamp()});}catch(_0x33832c){console['error']('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x33832c);}showMessage(_0x3fa0b8(0x545));}else throw new Error(_0x3fa0b8(0x888));}catch(_0x18475c){console[_0x3fa0b8(0xb89)](_0x3fa0b8(0xbb1),_0x18475c),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x589e56[_0x3fa0b8(0x848)]=_0x3fa0b8(0x994),_0x589e56[_0x3fa0b8(0x534)]=![];}}async function handleGenerateLessonPlan(_0x4e66ac){const _0x28e370=_0x49918e;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x3388a5=doc(db,'artifacts/'+appId+_0x28e370(0x1ed),_0x4e66ac),_0xc6b457=await getDoc(_0x3388a5);if(!_0xc6b457[_0x28e370(0xbeb)]())throw new Error(_0x28e370(0x20c));const _0x5b3cf8={'id':_0x4e66ac,..._0xc6b457[_0x28e370(0x999)]()},_0xcd28ac=collection(db,_0x28e370(0x878)+appId+_0x28e370(0x1ed),_0x4e66ac,_0x28e370(0xb3c)),_0x362c81=await getDocs(_0xcd28ac),_0x436ea1=_0x362c81[_0x28e370(0x689)][_0x28e370(0x251)](_0x3e6da1=>_0x3e6da1[_0x28e370(0x999)]());if(_0x436ea1['length']===0x0)throw new Error(_0x28e370(0x279));const _0x43fb83=calculateItemAnalysis(_0x5b3cf8,_0x436ea1)[_0x28e370(0x5b3)],_0x2802f4=calculateDistractorAnalysis(_0x5b3cf8,_0x436ea1),_0x2096f2=_0x2764ab=>{const _0x5e6bf2=_0x28e370;if(!_0x2764ab)return'';return _0x2764ab['replace'](/\\/g,'\x5c\x5c')[_0x5e6bf2(0xc09)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x4b1769=_0x28e370(0x444);_0x5b3cf8[_0x28e370(0x29f)][_0x28e370(0x4ec)]((_0x21c55e,_0x3bab6e)=>{const _0x4a8c22=_0x28e370,_0x346fde=_0x43fb83[_0x3bab6e]?.['p'][_0x4a8c22(0x486)](0x2)||'N/A',_0x28d178=_0x43fb83[_0x3bab6e]?.['r'][_0x4a8c22(0x486)](0x2)||_0x4a8c22(0x612),_0x3c484f=_0x2096f2(_0x21c55e[_0x4a8c22(0xa04)]||_0x21c55e[_0x4a8c22(0xc08)]);_0x4b1769+=_0x4a8c22(0x36b)+(_0x3bab6e+0x1)+'\x20(p='+_0x346fde+',\x20r='+_0x28d178+_0x4a8c22(0x30e)+_0x3c484f+'\x5cn';if(_0x21c55e['questionType']==='multiple_choice'&&_0x2802f4[_0x3bab6e]){const _0x43c9e3=_0x2802f4[_0x3bab6e],_0x4724f3=Object[_0x4a8c22(0x450)](_0x43c9e3)['filter'](_0x351500=>parseInt(_0x351500)!==_0x21c55e[_0x4a8c22(0x6e8)])[_0x4a8c22(0x236)]((_0x44c2f7,_0x2c76d9)=>_0x43c9e3[_0x2c76d9][_0x4a8c22(0x776)]-_0x43c9e3[_0x44c2f7][_0x4a8c22(0x776)])[0x0];if(_0x4724f3&&_0x43c9e3[_0x4724f3]['total']>0x0){const _0x20b579=_0x2096f2(_0x43c9e3[_0x4724f3]['text']);_0x4b1769+=_0x4a8c22(0x24f)+_0x20b579+_0x4a8c22(0xa9a);}}});const _0x33855a=_0x28e370(0xa25)+_0x5b3cf8[_0x28e370(0x818)]+_0x28e370(0x810)+_0x4b1769+_0x28e370(0x5aa),_0x1989c7={'type':'OBJECT','properties':{'learningGaps':{'type':_0x28e370(0x315),'items':{'type':_0x28e370(0x3ec)}},'teachingContent':{'type':_0x28e370(0x3ec)},'practiceProblems':{'type':_0x28e370(0x315),'items':{'type':_0x28e370(0x7eb),'properties':{'question':{'type':_0x28e370(0x3ec)},'solution':{'type':_0x28e370(0x3ec)}}}}},'required':[_0x28e370(0x4eb),'teachingContent',_0x28e370(0x7fe)]},_0x39cf78=await callAnalysisApi(_0x33855a,_0x1989c7);await updateDoc(_0x3388a5,{'lessonPlan':_0x39cf78});const _0x48b212=_0x28e370(0x38e)+_0x5b3cf8[_0x28e370(0x818)]+_0x28e370(0x288)+_0x39cf78[_0x28e370(0x4eb)][_0x28e370(0x251)](_0x51eb17=>_0x28e370(0x2cf)+_0x51eb17+_0x28e370(0x751))[_0x28e370(0x7b8)]('')+_0x28e370(0x392)+_0x39cf78['teachingContent']+_0x28e370(0x734)+_0x39cf78[_0x28e370(0x7fe)][_0x28e370(0x251)](_0x1be184=>_0x28e370(0x65f)+_0x1be184[_0x28e370(0xbe1)]+_0x28e370(0x6aa)+_0x1be184[_0x28e370(0x772)]+_0x28e370(0x5d8))[_0x28e370(0x7b8)]('')+_0x28e370(0x3cf);document[_0x28e370(0x7db)](_0x28e370(0x2a3))[_0x28e370(0x467)]=_0x28e370(0x2ce)+_0x5b3cf8[_0x28e370(0x818)],document[_0x28e370(0x7db)](_0x28e370(0x892))['innerHTML']=_0x48b212,document[_0x28e370(0x7db)](_0x28e370(0x3b1))[_0x28e370(0x1fa)][_0x28e370(0x428)](_0x28e370(0x997));if(window['MathJax'])MathJax[_0x28e370(0x26d)]();messageModal[_0x28e370(0x1fa)][_0x28e370(0x36a)]('hidden');}catch(_0x15575d){console[_0x28e370(0xb89)](_0x28e370(0xa7d),_0x15575d),showMessage(_0x28e370(0x5b8)+_0x15575d[_0x28e370(0x927)]);}}async function handleDuplicateQuiz(_0x169407){const _0x4cb1e2=_0x49918e;try{const _0x2699f8=doc(db,_0x4cb1e2(0x878)+appId+_0x4cb1e2(0x1ed),_0x169407),_0x122628=await getDoc(_0x2699f8);if(_0x122628[_0x4cb1e2(0xbeb)]()){const _0x4d41db=_0x122628[_0x4cb1e2(0x999)]();let _0xa28a24='',_0x2a07ad='standard',_0x326d18=null;if(_0x4d41db[_0x4cb1e2(0x897)]===_0x4cb1e2(0x44f)){let _0x3c45e1=_0x4d41db[_0x4cb1e2(0x818)]['replace'](_0x4cb1e2(0x533),'')[_0x4cb1e2(0x564)]();_0xa28a24=_0x4cb1e2(0x323)+_0x3c45e1,_0x2a07ad=_0x4cb1e2(0x684),_0x326d18=_0x169407;}else _0xa28a24=_0x4cb1e2(0x89e)+_0x4d41db[_0x4cb1e2(0x818)];const _0x34f816={..._0x4d41db,'topic':_0xa28a24,'createdAt':new Date()[_0x4cb1e2(0x9e9)](),'quizMode':_0x2a07ad,'pairedQuizId':_0x326d18};let _0x4b915e;while(!![]){_0x4b915e=Math[_0x4cb1e2(0x356)](0x3e8+Math['random']()*0x2328)[_0x4cb1e2(0x241)]();const _0x3e8220=await getDoc(doc(db,_0x4cb1e2(0x878)+appId+_0x4cb1e2(0x1ed),_0x4b915e));if(!_0x3e8220[_0x4cb1e2(0xbeb)]())break;}const _0x248038=doc(db,_0x4cb1e2(0x878)+appId+'/public/data/quizzes',_0x4b915e);await setDoc(_0x248038,_0x34f816),_0x34f816[_0x4cb1e2(0x897)]===_0x4cb1e2(0x684)&&await updateDoc(_0x2699f8,{'pairedQuizId':_0x4b915e}),showMessage(_0x4cb1e2(0x363));}else throw new Error(_0x4cb1e2(0x94d));}catch(_0xf21f77){console['error'](_0x4cb1e2(0x593),_0xf21f77),showMessage(_0x4cb1e2(0x802));}}async function handleDeleteQuiz(_0x4c66e6,_0xb28785=!![]){const _0x490a7c=_0x49918e;try{const _0x34a50b=writeBatch(db),_0x2d4a6d=collection(db,_0x490a7c(0x878)+appId+_0x490a7c(0x350)+_0x4c66e6+'/submissions'),_0x360430=await getDocs(_0x2d4a6d);_0x360430[_0x490a7c(0x4ec)](_0x15975f=>{_0x34a50b['delete'](doc(_0x2d4a6d,_0x15975f['id']));});const _0x22e95a=doc(db,_0x490a7c(0x878)+appId+_0x490a7c(0x1ed),_0x4c66e6);_0x34a50b[_0x490a7c(0x358)](_0x22e95a),await _0x34a50b[_0x490a7c(0x917)](),_0xb28785&&showMessage(_0x490a7c(0xa0a));}catch(_0x1c365c){console[_0x490a7c(0xb89)]('Error\x20deleting\x20quiz:',_0x1c365c),_0xb28785&&showMessage(_0x490a7c(0x57f));}}async function showQuizDetailView(_0x8f7b43){const _0x4fdefb=_0x49918e;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x4fdefb(0x2ca));try{const _0x322584=doc(db,_0x4fdefb(0x878)+appId+_0x4fdefb(0x1ed),_0x8f7b43),_0x237df1=await getDoc(_0x322584);if(!_0x237df1[_0x4fdefb(0xbeb)]()){showMessage(_0x4fdefb(0x20c));return;}const _0x4d236e={'id':_0x237df1['id'],..._0x237df1[_0x4fdefb(0x999)]()};currentQuizData=_0x4d236e;const _0x1c5f7d=doc(db,'artifacts/'+appId+_0x4fdefb(0xc07),_0x4d236e['projectId']),_0x4f872d=await getDoc(_0x1c5f7d);_0x4f872d['exists']()?(currentProjectData=_0x4f872d[_0x4fdefb(0x999)](),currentProjectId=_0x4d236e[_0x4fdefb(0x33a)]):(currentProjectData={'students':[]},currentProjectId=_0x4d236e['projectId']);document[_0x4fdefb(0x7db)]('results-quiz-title')[_0x4fdefb(0x467)]=_0x4d236e[_0x4fdefb(0x818)],document[_0x4fdefb(0x7db)](_0x4fdefb(0x4e8))[_0x4fdefb(0x467)]=_0x8f7b43;const _0x3d7ef2=collection(db,_0x4fdefb(0x878)+appId+_0x4fdefb(0x1ed),_0x8f7b43,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x3d7ef2,_0x3a731e=>{const _0x19b07d=_0x4fdefb,_0x3a76d5=_0x3a731e[_0x19b07d(0x689)][_0x19b07d(0x251)](_0x46d89d=>({'id':_0x46d89d['id'],..._0x46d89d[_0x19b07d(0x999)]()}));currentSubmissions=_0x3a76d5;const _0xb24b2e=_0x3a76d5['filter'](_0x131f12=>_0x131f12['attempts']&&_0x131f12['attempts'][_0x19b07d(0xaed)]>0x0);renderBehaviorLog(_0x3a76d5),renderAnswerGrid(currentProjectData[_0x19b07d(0xc14)],_0xb24b2e,_0x4d236e),renderAnalytics(_0x4d236e,_0xb24b2e),renderQuizResultsTable(currentProjectData[_0x19b07d(0xc14)],_0x3a76d5,_0x4d236e),renderQuizLeaderboard(_0xb24b2e,_0x4d236e,_0x19b07d(0x5ee));}),showView(_0x4fdefb(0x9b7));}catch(_0x4c3de1){console['error'](_0x4fdefb(0x708),_0x4c3de1),showMessage(_0x4fdefb(0x25c));}}function renderAnswerGrid(_0x3018e9,_0x2eeda7,_0x4631a0){const _0x4eb831=_0x49918e,_0x599057=document[_0x4eb831(0x7db)](_0x4eb831(0x2dc));if(!_0x599057)return;if(!_0x3018e9||_0x3018e9[_0x4eb831(0xaed)]===0x0){_0x599057[_0x4eb831(0x848)]=_0x4eb831(0x255);return;}const _0x2ebfec=_0x4631a0[_0x4eb831(0x29f)],_0x592683=_0x2eeda7[_0x4eb831(0xb5d)]((_0x43b6e6,_0x1c835f)=>{return _0x43b6e6[_0x1c835f['studentName']]=_0x1c835f,_0x43b6e6;},{}),_0x1fd8a6=_0x53f819=>String[_0x4eb831(0xa03)](0x41+_0x53f819),_0x103add=_0xb45de3=>{const _0x1d5d83=_0x4eb831,_0x49fbd4=_0xb45de3['questionType']||_0x4631a0[_0x1d5d83(0x3ee)];switch(_0x49fbd4){case _0x1d5d83(0x286):return _0xb45de3[_0x1d5d83(0xa27)]&&_0xb45de3[_0x1d5d83(0xa27)][_0x1d5d83(0xaed)]>_0xb45de3[_0x1d5d83(0x6e8)]?_0x1fd8a6(_0xb45de3[_0x1d5d83(0x6e8)]):'-';case'true_false':const _0x5af318=_0xb45de3[_0x1d5d83(0x912)]===!![]||String(_0xb45de3[_0x1d5d83(0x912)])[_0x1d5d83(0x8fa)]()===_0x1d5d83(0x36c);return _0x5af318?'ใช่':_0x1d5d83(0x53d);case _0x1d5d83(0x799):return _0xb45de3['correctResponse']||'-';case _0x1d5d83(0x6de):return'พิมพ์ตอบ';default:return'-';}},_0x56cbe6=(_0x58029f,_0x150a77)=>{const _0x10de34=_0x4eb831;if(_0x150a77[_0x10de34(0x2b8)]===null||_0x150a77[_0x10de34(0x2b8)]===undefined)return'-';const _0x2e5418=_0x58029f[_0x10de34(0x7e0)]||_0x4631a0[_0x10de34(0x3ee)];switch(_0x2e5418){case'multiple_choice':const _0x4ff4c4=_0x58029f[_0x10de34(0xa27)][_0x10de34(0x2d8)](_0x2ad34e=>_0x2ad34e===_0x150a77[_0x10de34(0x4fe)]);return _0x4ff4c4!==-0x1?_0x1fd8a6(_0x4ff4c4):_0x150a77[_0x10de34(0x4fe)]||'-';case'true_false':if(_0x150a77[_0x10de34(0x2b8)]=='0'||_0x150a77['answer']===!![]||_0x150a77[_0x10de34(0x2b8)]===_0x10de34(0x36c))return _0x10de34(0x633);return'ไม่ใช่';default:return _0x150a77[_0x10de34(0x2b8)];}};let _0x45e08d=_0x4eb831(0xbf3)+_0x2ebfec[_0x4eb831(0x251)]((_0x4e52d9,_0x168125)=>_0x4eb831(0x937)+(_0x168125+0x1)+_0x4eb831(0x654))[_0x4eb831(0x7b8)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ebfec[_0x4eb831(0x251)](_0x2801a1=>_0x4eb831(0xba3)+_0x103add(_0x2801a1)+_0x4eb831(0x375))[_0x4eb831(0x7b8)]('')+_0x4eb831(0x742);_0x3018e9[_0x4eb831(0x4ec)](_0x2695de=>{const _0x139fc0=_0x4eb831;_0x45e08d+='<tr>',_0x45e08d+=_0x139fc0(0x26f)+_0x2695de+_0x139fc0(0x375);const _0x1f6cfe=_0x592683[_0x2695de];if(_0x1f6cfe){const _0x59dfbb=_0x1f6cfe['attempts'][_0x1f6cfe[_0x139fc0(0x423)][_0x139fc0(0xaed)]-0x1];_0x2ebfec['forEach']((_0x504e9c,_0xb1390c)=>{const _0x2ef722=_0x139fc0,_0x3d89ee=_0x59dfbb[_0x2ef722(0x957)][_0x2ef722(0xa19)](_0xa94a7f=>_0xa94a7f[_0x2ef722(0x749)]===_0x504e9c['id']);if(_0x3d89ee){let _0x27f748='';const _0x46d632=_0x3d89ee[_0x2ef722(0xb34)]===!![],_0x68629=_0x3d89ee[_0x2ef722(0x882)]===!![]||_0x3d89ee['wasConfident']===_0x2ef722(0x6e0);_0x68629?_0x27f748=_0x46d632?_0x2ef722(0x23c):'bg-red-500\x20text-white\x20font-bold':_0x27f748=_0x46d632?_0x2ef722(0x261):_0x2ef722(0x7c0),_0x45e08d+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x27f748+'\x22>'+_0x56cbe6(_0x504e9c,_0x3d89ee)+'</td>';}else _0x45e08d+=_0x2ef722(0xbb9);});}else _0x45e08d+=_0x2ebfec[_0x139fc0(0x251)](()=>_0x139fc0(0x7a8))['join']('');_0x45e08d+=_0x139fc0(0x954);}),_0x45e08d+=_0x4eb831(0xaa0),_0x599057[_0x4eb831(0x848)]=_0x45e08d;}function renderQuizResultsTable(_0x21c9b9,_0x46a623,_0x5e78eb){const _0x209208=_0x49918e,_0x182fb8=_0x46a623[_0x209208(0xb5d)]((_0xf9f8e1,_0x2634ce)=>{const _0x2060ea=_0x209208;return _0xf9f8e1[_0x2634ce[_0x2060ea(0xa50)]]=_0x2634ce,_0xf9f8e1;},{}),_0x527e1b=document[_0x209208(0xa3e)](_0x209208(0xb28));_0x527e1b&&!_0x527e1b[_0x209208(0x848)][_0x209208(0x229)](_0x209208(0x3c7))&&(_0x527e1b[_0x209208(0x848)]+=_0x209208(0x1f1));const _0xed2aa7=document[_0x209208(0x7db)]('quiz-results-table-body');if(!_0x21c9b9||_0x21c9b9[_0x209208(0xaed)]===0x0){_0xed2aa7[_0x209208(0x848)]=_0x209208(0xc36);return;}const _0x14ecb2=_0x5e78eb[_0x209208(0x85f)]===!![],_0x45ef38=_0x5e78eb[_0x209208(0x8d5)]?.['passingScore']??-0x1;let _0x5409fc='';_0x21c9b9[_0x209208(0x4ec)](_0x39223f=>{const _0x28eb5a=_0x209208,_0xe7fb29=_0x182fb8[_0x39223f];let _0x483a3d=_0x28eb5a(0x53e)+(_0x14ecb2?'bg-amber-100\x20text-amber-800':_0x28eb5a(0x636))+'\x22>'+(_0x14ecb2?_0x28eb5a(0x3ac):_0x28eb5a(0x82e))+'</span></td>';if(_0xe7fb29){if(_0xe7fb29[_0x28eb5a(0x423)]&&_0xe7fb29[_0x28eb5a(0x423)][_0x28eb5a(0xaed)]>0x0){let _0x3d8cb8=_0x14ecb2?_0xe7fb29[_0x28eb5a(0x8b7)]===_0xe7fb29[_0x28eb5a(0x5be)]:_0x45ef38!==-0x1&&_0xe7fb29[_0x28eb5a(0x8b7)]>=_0x45ef38;const _0x35e2f8=_0x3d8cb8?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0xc8e9b2=_0x3d8cb8?_0x28eb5a(0x2bc):_0x28eb5a(0x556),_0x5c4627=_0x28eb5a(0x602)+_0x35e2f8+'\x22>'+_0xc8e9b2+'</span></td>',_0x364f18=_0x28eb5a(0x2ff)+(_0xe7fb29['attempts']?.[_0x28eb5a(0xaed)]||0x1)+_0x28eb5a(0x97d);_0x5409fc+=_0x28eb5a(0x463)+_0x39223f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0xe7fb29[_0x28eb5a(0x8b7)]+_0x28eb5a(0x814)+_0xe7fb29[_0x28eb5a(0x5be)]+_0x28eb5a(0x28a)+_0x5c4627+_0x28eb5a(0x482)+_0x483a3d+_0x28eb5a(0xa96)+_0xe7fb29['firstScore']+_0x28eb5a(0x814)+_0xe7fb29[_0x28eb5a(0x5be)]+_0x28eb5a(0x3fc)+_0xe7fb29[_0x28eb5a(0x7af)]+_0x28eb5a(0x814)+_0xe7fb29[_0x28eb5a(0x5be)]+_0x28eb5a(0x7c6)+(_0xe7fb29['points']||0x0)+_0x28eb5a(0x28a)+_0x364f18+_0x28eb5a(0x854)+new Date(_0xe7fb29[_0x28eb5a(0x99c)])[_0x28eb5a(0x783)](_0x28eb5a(0x5f3))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x39223f+_0x28eb5a(0x73e);}else{const _0x167558=_0x28eb5a(0x9d1);_0x5409fc+=_0x28eb5a(0x409)+_0x39223f+_0x28eb5a(0x5b1)+_0x483a3d+_0x28eb5a(0x345)+_0x167558+_0x28eb5a(0x854)+new Date(_0xe7fb29[_0x28eb5a(0x22e)])[_0x28eb5a(0x783)]('th-TH')+_0x28eb5a(0xb53)+_0x39223f+_0x28eb5a(0x73e);}}else{const _0x2a3418=_0x28eb5a(0x766);_0x5409fc+=_0x28eb5a(0xa06)+_0x39223f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x483a3d+_0x28eb5a(0x835)+_0x2a3418+_0x28eb5a(0x499);}}),_0xed2aa7[_0x209208(0x848)]=_0x5409fc;}async function confirmRenameQuiz(){const _0x3a8754=_0x49918e,_0x2ebdf9=document[_0x3a8754(0x7db)](_0x3a8754(0x8f1))[_0x3a8754(0x947)][_0x3a8754(0x564)]();if(!_0x2ebdf9){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0xdd78f7=doc(db,_0x3a8754(0x878)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0xdd78f7,{'topic':_0x2ebdf9}),showMessage(_0x3a8754(0xbcf)),renameQuizModal['classList'][_0x3a8754(0x36a)](_0x3a8754(0x997)),actionTargetId=null;}catch(_0x16b0d5){console['error'](_0x3a8754(0xa8c),_0x16b0d5),showMessage(_0x3a8754(0xb12));}}async function handleMoveQuiz(_0x4633fd){const _0x4d3b07=_0x49918e;actionTargetId=_0x4633fd;const _0x5a0346=document[_0x4d3b07(0x7db)]('move-quiz-project-select');_0x5a0346[_0x4d3b07(0x848)]=_0x4d3b07(0x677),moveQuizModal['classList'][_0x4d3b07(0x428)](_0x4d3b07(0x997));try{const _0xaa7ed6=collection(db,_0x4d3b07(0x878)+appId+_0x4d3b07(0xc07)),_0x422c35=await getDocs(_0xaa7ed6),_0x3d0af6=_0x422c35[_0x4d3b07(0x689)][_0x4d3b07(0x251)](_0x1ba077=>({'id':_0x1ba077['id'],..._0x1ba077[_0x4d3b07(0x999)]()})),_0x71ccdd=_0x3d0af6[_0x4d3b07(0xbf0)](_0x36fb9f=>_0x36fb9f['id']!==currentProjectId);if(_0x71ccdd[_0x4d3b07(0xaed)]===0x0){_0x5a0346['innerHTML']=_0x4d3b07(0xb5f),document[_0x4d3b07(0x7db)]('confirm-move-quiz-btn')[_0x4d3b07(0x534)]=!![];return;}_0x5a0346[_0x4d3b07(0x848)]=_0x71ccdd[_0x4d3b07(0x251)](_0x371db9=>_0x4d3b07(0x397)+_0x371db9['id']+'\x22>'+_0x371db9['projectName']+_0x4d3b07(0x266))[_0x4d3b07(0x7b8)](''),document[_0x4d3b07(0x7db)](_0x4d3b07(0x7b1))[_0x4d3b07(0x534)]=![];}catch(_0x4a742a){console[_0x4d3b07(0xb89)]('Error\x20fetching\x20projects\x20for\x20move:',_0x4a742a),showMessage(_0x4d3b07(0x325)),moveQuizModal[_0x4d3b07(0x1fa)][_0x4d3b07(0x36a)](_0x4d3b07(0x997));}}async function confirmMoveQuiz(){const _0x4db5ad=_0x49918e,_0x40e3d4=document[_0x4db5ad(0x7db)]('move-quiz-project-select')[_0x4db5ad(0x947)];if(!_0x40e3d4){showMessage(_0x4db5ad(0x4ba));return;}if(!actionTargetId)return;const _0x13aa30=doc(db,_0x4db5ad(0x878)+appId+_0x4db5ad(0x1ed),actionTargetId);try{await updateDoc(_0x13aa30,{'projectId':_0x40e3d4}),showMessage(_0x4db5ad(0x59f)),moveQuizModal[_0x4db5ad(0x1fa)][_0x4db5ad(0x36a)](_0x4db5ad(0x997)),actionTargetId=null;}catch(_0x408113){console[_0x4db5ad(0xb89)](_0x4db5ad(0x38c),_0x408113),showMessage(_0x4db5ad(0xa3f));}}async function handleQuizSettings(_0x29a6c5){const _0x4c235f=_0x49918e;actionTargetId=_0x29a6c5;const _0x1f48de=doc(db,_0x4c235f(0x878)+appId+_0x4c235f(0x1ed),_0x29a6c5);try{const _0x222a8a=await getDoc(_0x1f48de);if(_0x222a8a[_0x4c235f(0xbeb)]()){const _0x13c44b=_0x222a8a[_0x4c235f(0x999)](),_0x412be0=_0x13c44b[_0x4c235f(0x8d5)]||{},_0xfcee1=_0x13c44b[_0x4c235f(0x29f)][_0x4c235f(0xaed)];document[_0x4c235f(0x7db)](_0x4c235f(0x86a))[_0x4c235f(0x947)]=_0x412be0['shuffle']||_0x4c235f(0x979),document[_0x4c235f(0x7db)](_0x4c235f(0x7b7))['value']=_0x412be0['resultsDisplay']||_0x4c235f(0x4e2),document[_0x4c235f(0x7db)]('modal-timer-mode-select')['value']=_0x412be0[_0x4c235f(0x53f)]||'none',document[_0x4c235f(0x7db)](_0x4c235f(0x8be))[_0x4c235f(0x947)]=_0x412be0['timerDuration']||0xa,document[_0x4c235f(0x7db)](_0x4c235f(0x537))[_0x4c235f(0x947)]=_0x412be0[_0x4c235f(0xc3f)]||Math[_0x4c235f(0x356)](_0xfcee1/0x2),document[_0x4c235f(0x7db)](_0x4c235f(0x537))[_0x4c235f(0x50b)]=_0xfcee1,document[_0x4c235f(0x7db)]('modal-adaptive-quiz-checkbox')[_0x4c235f(0xaf2)]=_0x412be0['isAdaptive']||![],document[_0x4c235f(0x7db)](_0x4c235f(0x92e))[_0x4c235f(0xaf2)]=_0x412be0[_0x4c235f(0x9b5)]||![];const _0x3509e2=_0x412be0[_0x4c235f(0x98a)]||![];document[_0x4c235f(0x7db)](_0x4c235f(0x208))[_0x4c235f(0xaf2)]=_0x3509e2,document[_0x4c235f(0x7db)](_0x4c235f(0x20d))[_0x4c235f(0x947)]=_0x412be0[_0x4c235f(0x5cd)]||_0x4c235f(0x7ef);const _0x4b5fed=document[_0x4c235f(0x7db)](_0x4c235f(0x312));_0x4b5fed[_0x4c235f(0x1fa)][_0x4c235f(0x2c3)](_0x4c235f(0x997),!_0x3509e2),document[_0x4c235f(0x7db)]('modal-timer-mode-select')[_0x4c235f(0xbbf)](new Event(_0x4c235f(0x61d))),quizSettingsModal[_0x4c235f(0x1fa)][_0x4c235f(0x428)](_0x4c235f(0x997));}else showMessage(_0x4c235f(0x20c));}catch(_0x31a887){console[_0x4c235f(0xb89)]('Error\x20fetching\x20quiz\x20settings:',_0x31a887),showMessage(_0x4c235f(0x99e));}}async function confirmQuizSettings(){const _0x1bf090=_0x49918e;if(!actionTargetId)return;const _0xb2f3ef=doc(db,_0x1bf090(0x878)+appId+_0x1bf090(0x1ed),actionTargetId),_0x39f64b={'shuffle':document[_0x1bf090(0x7db)](_0x1bf090(0x86a))[_0x1bf090(0x947)],'resultsDisplay':document[_0x1bf090(0x7db)](_0x1bf090(0x7b7))['value'],'timerMode':document[_0x1bf090(0x7db)](_0x1bf090(0x204))[_0x1bf090(0x947)],'timerDuration':parseInt(document[_0x1bf090(0x7db)](_0x1bf090(0x8be))[_0x1bf090(0x947)])||0xa,'passingScore':parseInt(document['getElementById'](_0x1bf090(0x537))[_0x1bf090(0x947)])||0x0,'isAdaptive':document['getElementById']('modal-adaptive-quiz-checkbox')[_0x1bf090(0xaf2)],'loopUntilPass':document[_0x1bf090(0x7db)](_0x1bf090(0x92e))['checked'],'isConfidenceScoringEnabled':document[_0x1bf090(0x7db)](_0x1bf090(0x208))['checked'],'confidenceMode':document['getElementById'](_0x1bf090(0x20d))[_0x1bf090(0x947)]};try{await updateDoc(_0xb2f3ef,{'settings':_0x39f64b}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal['classList'][_0x1bf090(0x36a)](_0x1bf090(0x997)),actionTargetId=null;}catch(_0x3dabe6){console[_0x1bf090(0xb89)](_0x1bf090(0x89a),_0x3dabe6),showMessage(_0x1bf090(0xabc));}}async function confirmQuizStatus(){const _0x316264=_0x49918e;if(!actionTargetId)return;const _0x13c8c8=doc(db,'artifacts/'+appId+_0x316264(0x1ed),actionTargetId),_0x43b672=document['querySelector'](_0x316264(0x79d));if(!_0x43b672){showMessage(_0x316264(0xa1f));return;}const _0x214124=_0x43b672[_0x316264(0x947)];let _0x329ead={};if(_0x214124===_0x316264(0x9d3)||_0x214124===_0x316264(0x31b))_0x329ead={'status':_0x214124,'startTime':null,'endTime':null};else{if(_0x214124==='schedule'){const _0x32153d=document[_0x316264(0x7db)](_0x316264(0x43e))[_0x316264(0x947)],_0x31673a=document['getElementById']('quiz-end-time')[_0x316264(0x947)];if(!_0x32153d&&!_0x31673a){showMessage(_0x316264(0x389));return;}_0x329ead={'status':'scheduled','startTime':_0x32153d?new Date(_0x32153d)['toISOString']():null,'endTime':_0x31673a?new Date(_0x31673a)[_0x316264(0x9e9)]():null};}}try{await updateDoc(_0x13c8c8,_0x329ead),showMessage(_0x316264(0x949)),quizStatusModal['classList'][_0x316264(0x36a)](_0x316264(0x997)),actionTargetId=null;}catch(_0x45ad6e){console[_0x316264(0xb89)](_0x316264(0xbdc),_0x45ad6e),showMessage(_0x316264(0x46b));}}function listenForStudentProfiles(_0x2ef366){const _0x16b46b=_0x49918e,_0x548dc9=collection(db,_0x16b46b(0x878)+appId+_0x16b46b(0x311)+_0x2ef366+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x548dc9,_0x1fbb94=>{const _0x5b4501=_0x16b46b,_0x155572=_0x1fbb94[_0x5b4501(0x689)][_0x5b4501(0x251)](_0x19e413=>_0x19e413[_0x5b4501(0x999)]());renderLeaderboard(_0x155572,_0x5b4501(0x3dd));},_0x51a261=>{const _0x4898f8=_0x16b46b;console['error'](_0x4898f8(0x395),_0x51a261),document[_0x4898f8(0x7db)](_0x4898f8(0x3dd))['innerHTML']=_0x4898f8(0x89b);});}function renderLeaderboard(_0x32517e,_0x1b3ece){const _0x2e6f16=_0x49918e,_0x5a1a55=document[_0x2e6f16(0x7db)](_0x1b3ece);if(!_0x32517e||_0x32517e['length']===0x0){_0x5a1a55[_0x2e6f16(0x848)]=_0x2e6f16(0x412);return;}_0x32517e['sort']((_0x1fa917,_0x22bd5b)=>{const _0x50e012=_0x2e6f16,_0x551c71=(_0x22bd5b[_0x50e012(0xa95)]||0x0)-(_0x1fa917[_0x50e012(0xa95)]||0x0);if(_0x551c71!==0x0)return _0x551c71;const _0x5cc892=(_0x22bd5b[_0x50e012(0xa22)]?.['specialist']||0x0)-(_0x1fa917[_0x50e012(0xa22)]?.[_0x50e012(0x589)]||0x0);if(_0x5cc892!==0x0)return _0x5cc892;const _0x3a970b=(_0x22bd5b['badgesCount']?.[_0x50e012(0x526)]||0x0)-(_0x1fa917[_0x50e012(0xa22)]?.['first_try_ace']||0x0);if(_0x3a970b!==0x0)return _0x3a970b;const _0x1f25c6=(_0x22bd5b[_0x50e012(0xa22)]?.[_0x50e012(0x86f)]||0x0)-(_0x1fa917['badgesCount']?.[_0x50e012(0x86f)]||0x0);if(_0x1f25c6!==0x0)return _0x1f25c6;const _0x38bdbe=(_0x22bd5b[_0x50e012(0xa22)]?.[_0x50e012(0x88c)]||0x0)-(_0x1fa917[_0x50e012(0xa22)]?.[_0x50e012(0x88c)]||0x0);if(_0x38bdbe!==0x0)return _0x38bdbe;return _0x1fa917[_0x50e012(0xa50)]['localeCompare'](_0x22bd5b[_0x50e012(0xa50)],'th');});let _0xa8a3f8='';_0x32517e['forEach']((_0x315a52,_0x437a04)=>{const _0x6fa47e=_0x2e6f16,_0x511780=_0x437a04+0x1,_0x595195=_0x315a52['badgesCount']||{};let _0x4fc06b='';const _0x1ebfa2=[_0x6fa47e(0x589),_0x6fa47e(0x86f),'first_try_ace',_0x6fa47e(0x88c)];_0x1ebfa2[_0x6fa47e(0x4ec)](_0x22feaf=>{const _0x5031a4=_0x6fa47e;if(_0x595195[_0x22feaf]>0x0){const _0x173f55=Object[_0x5031a4(0xbca)](BADGES)[_0x5031a4(0xa19)](_0x37d4b9=>_0x37d4b9['id']===_0x22feaf);_0x173f55&&(_0x22feaf===_0x5031a4(0x589)?_0x4fc06b+=_0x5031a4(0x436)+_0x173f55[_0x5031a4(0x447)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x173f55['icon']+_0x5031a4(0x2a0):_0x4fc06b+=_0x5031a4(0x436)+_0x173f55['name']+'\x20('+_0x595195[_0x22feaf]+_0x5031a4(0x637)+_0x173f55[_0x5031a4(0x1f3)]+_0x5031a4(0x79c)+_0x595195[_0x22feaf]+_0x5031a4(0xa0f));}}),_0xa8a3f8+=_0x6fa47e(0x7c5)+_0x511780+_0x6fa47e(0x74d)+_0x315a52[_0x6fa47e(0xa50)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x315a52[_0x6fa47e(0xa95)]||0x0)+_0x6fa47e(0x74d)+(_0x4fc06b||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5a1a55[_0x2e6f16(0x848)]=_0xa8a3f8;}function displayLoopScreen(_0x3a2500,_0x4e5d97,_0x182a82){const _0xeb82cc=_0x49918e;let _0x4c9133='';_0x182a82!==_0xeb82cc(0x1eb)&&(_0x4c9133='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x3a2500+_0xeb82cc(0x814)+_0x4e5d97+_0xeb82cc(0xbd5));const _0x48d54d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c9133+_0xeb82cc(0x623);studentResultArea['innerHTML']=_0x48d54d,studentResultArea[_0xeb82cc(0x1fa)][_0xeb82cc(0x428)](_0xeb82cc(0x997)),studentQuizArea[_0xeb82cc(0x1fa)]['add'](_0xeb82cc(0x997)),document[_0xeb82cc(0x7db)](_0xeb82cc(0x6f2))[_0xeb82cc(0xb63)](_0xeb82cc(0x32d),()=>{const _0x2ce3f4=_0xeb82cc;studentResultArea[_0x2ce3f4(0x1fa)]['add'](_0x2ce3f4(0x997)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x316786,_0x53b09e,_0x1c6af7){const _0x339fb6=_0x49918e,_0x4fafd3=document[_0x339fb6(0x7db)](_0x1c6af7),_0x2bad0a=_0x1c6af7===_0x339fb6(0x736),_0x4d2fd7=_0x53b09e['questions'][_0x339fb6(0xaed)],_0x5bfede=document[_0x339fb6(0x7db)](_0x1c6af7)[_0x339fb6(0x984)](_0x339fb6(0x97f));if(_0x5bfede&&!_0x2bad0a){const _0x257893=_0x5bfede[_0x339fb6(0xa3e)](_0x339fb6(0x5da));_0x257893['innerHTML']=_0x339fb6(0xa78);}if(!_0x316786||_0x316786[_0x339fb6(0xaed)]===0x0){_0x4fafd3[_0x339fb6(0x848)]=_0x339fb6(0x269)+(_0x2bad0a?0x6:0x8)+_0x339fb6(0x5d4);return;}const _0x484b2c=[..._0x316786];_0x484b2c[_0x339fb6(0x236)]((_0x4a2495,_0x45bffc)=>{const _0x2fbe82=_0x339fb6;let _0x165241,_0x8fe3f1;switch(quizLeaderboardSortBy){case _0x2fbe82(0xa50):_0x165241=_0x4a2495[_0x2fbe82(0xa50)]||'',_0x8fe3f1=_0x45bffc['studentName']||'';return quizLeaderboardSortOrder===_0x2fbe82(0x5f9)?_0x165241['localeCompare'](_0x8fe3f1,'th'):_0x8fe3f1[_0x2fbe82(0x90f)](_0x165241,'th');case'points':_0x165241=_0x4a2495[_0x2fbe82(0x259)]||0x0,_0x8fe3f1=_0x45bffc[_0x2fbe82(0x259)]||0x0;break;case _0x2fbe82(0x423):_0x165241=_0x4a2495['attempts']?.[_0x2fbe82(0xaed)]||0x1,_0x8fe3f1=_0x45bffc[_0x2fbe82(0x423)]?.[_0x2fbe82(0xaed)]||0x1;break;case _0x2fbe82(0x99c):_0x165241=new Date(_0x4a2495['latestSubmittedAt']),_0x8fe3f1=new Date(_0x45bffc[_0x2fbe82(0x99c)]);break;case _0x2fbe82(0x8b7):default:_0x165241=_0x4a2495['bestScore'],_0x8fe3f1=_0x45bffc[_0x2fbe82(0x8b7)];break;}if(_0x165241<_0x8fe3f1)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x165241>_0x8fe3f1)return quizLeaderboardSortOrder===_0x2fbe82(0x5f9)?0x1:-0x1;return 0x0;});const _0x4ecb11=_0x53b09e['isRemedial']===!![],_0x2454db=_0x53b09e[_0x339fb6(0x8d5)]?.[_0x339fb6(0xc3f)]??-0x1;let _0x2fef94='';_0x484b2c[_0x339fb6(0x4ec)]((_0x205e77,_0x484db6)=>{const _0x25cb0e=_0x339fb6,_0x8e9b83=_0x484db6+0x1;let _0x119cd5='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x4ecb11||_0x2454db!==-0x1){let _0x541aa6=_0x4ecb11?_0x205e77[_0x25cb0e(0x8b7)]===_0x4d2fd7:_0x205e77[_0x25cb0e(0x8b7)]>=_0x2454db;const _0x1f6902=_0x541aa6?_0x25cb0e(0x6ce):_0x25cb0e(0xaa6),_0x25a42d=_0x541aa6?'ผ่าน':'ไม่ผ่าน';_0x119cd5='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x1f6902+'\x22>'+_0x25a42d+'</span></td>';}const _0x3a1d5c=_0x205e77['attempts'][_0x205e77[_0x25cb0e(0x423)][_0x25cb0e(0xaed)]-0x1],_0x4d4462=(_0x3a1d5c[_0x25cb0e(0xbc0)]||[])[_0x25cb0e(0x251)](_0x318e60=>{const _0x3b0744=_0x25cb0e,_0x3431f6=Object[_0x3b0744(0xbca)](BADGES)[_0x3b0744(0xa19)](_0x34c988=>_0x34c988['id']===_0x318e60);return _0x3431f6?'<span\x20title=\x22'+_0x3431f6[_0x3b0744(0x447)]+_0x3b0744(0x859)+_0x3431f6[_0x3b0744(0x1f3)]+_0x3b0744(0xb08):'';})[_0x25cb0e(0x7b8)]('');_0x2fef94+=_0x25cb0e(0x1fd)+_0x8e9b83+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x205e77[_0x25cb0e(0xa50)]+_0x25cb0e(0xa35)+_0x205e77[_0x25cb0e(0x8b7)]+_0x25cb0e(0x814)+_0x4d2fd7+_0x25cb0e(0x568)+_0x119cd5+_0x25cb0e(0x7fd)+(_0x205e77[_0x25cb0e(0x259)]||0x0)+_0x25cb0e(0x568)+(_0x2bad0a?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x205e77[_0x25cb0e(0x423)]?.[_0x25cb0e(0xaed)]||0x1)+_0x25cb0e(0x375))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2bad0a?'':_0x25cb0e(0x2ac)+new Date(_0x205e77['latestSubmittedAt'])[_0x25cb0e(0x783)](_0x25cb0e(0x5f3))+_0x25cb0e(0x375))+_0x25cb0e(0x94c)+(_0x4d4462||'-')+_0x25cb0e(0x5ac);}),_0x4fafd3[_0x339fb6(0x848)]=_0x2fef94,_0x5bfede&&!_0x2bad0a&&_0x5bfede[_0x339fb6(0x3e7)](_0x339fb6(0x48f))[_0x339fb6(0x4ec)](_0x426965=>{const _0x40ce1d=_0x339fb6,_0x4eae47=_0x426965[_0x40ce1d(0xa3e)](_0x40ce1d(0x32c));if(_0x4eae47)_0x4eae47[_0x40ce1d(0x428)]();_0x426965[_0x40ce1d(0x297)][_0x40ce1d(0x236)]===quizLeaderboardSortBy&&(_0x426965[_0x40ce1d(0x848)]+=_0x40ce1d(0x63c)+(quizLeaderboardSortOrder===_0x40ce1d(0x5f9)?'▲':'▼')+_0x40ce1d(0xadd));});}async function handleDeleteSubmission(_0x18d093){const _0x9b75bb=_0x49918e;if(!currentQuizData||!currentQuizData['id']||!_0x18d093){showMessage(_0x9b75bb(0x84e));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x18d093+_0x9b75bb(0x657),async()=>{const _0x1b7245=_0x9b75bb,_0x91d40d=currentQuizData['id'],_0x5b2a19=doc(db,_0x1b7245(0x878)+appId+_0x1b7245(0x350)+_0x91d40d+_0x1b7245(0xa86),_0x18d093);try{await deleteDoc(_0x5b2a19),showMessage(_0x1b7245(0x342)+_0x18d093+_0x1b7245(0x3ed));}catch(_0x3b1689){console[_0x1b7245(0xb89)](_0x1b7245(0x214),_0x3b1689),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x4b6afb=_0x49918e,_0x58de07=document[_0x4b6afb(0x7db)](_0x4b6afb(0xb8a)),_0x40edf9=_0x58de07[_0x4b6afb(0x947)][_0x4b6afb(0x564)]();if(!_0x40edf9){showMessage(_0x4b6afb(0x2a7));return;}loadQuizBtn[_0x4b6afb(0x534)]=!![],loadQuizBtn[_0x4b6afb(0x848)]=_0x4b6afb(0x52f);try{const _0x2c92e2=doc(db,'artifacts/'+appId+_0x4b6afb(0x1ed),_0x40edf9),_0x727f61=await getDoc(_0x2c92e2);if(!_0x727f61[_0x4b6afb(0xbeb)]()){showMessage(_0x4b6afb(0x8ce));return;}currentQuizData={'id':_0x727f61['id'],..._0x727f61[_0x4b6afb(0x999)]()};const _0xa2470f=currentQuizData['status']||'active',_0x2ffe5d=new Date();if(_0xa2470f==='inactive'){showMessage(_0x4b6afb(0x6a9));return;}if(_0xa2470f===_0x4b6afb(0x452)){const _0x41e11c=currentQuizData[_0x4b6afb(0xa6f)]?new Date(currentQuizData[_0x4b6afb(0xa6f)]):null,_0x27867d=currentQuizData[_0x4b6afb(0x71d)]?new Date(currentQuizData['endTime']):null;if(_0x41e11c&&_0x2ffe5d<_0x41e11c){showMessage(_0x4b6afb(0x886)+_0x41e11c[_0x4b6afb(0x783)]('th-TH',{'hour12':![]}));return;}if(_0x27867d&&_0x2ffe5d>_0x27867d){showMessage(_0x4b6afb(0x647));return;}}const _0x35fa3f=currentQuizData[_0x4b6afb(0x33a)];currentProjectId=_0x35fa3f;const _0x2de422=doc(db,_0x4b6afb(0x878)+appId+_0x4b6afb(0xc07),_0x35fa3f),_0x9a7d21=await getDoc(_0x2de422);if(!_0x9a7d21[_0x4b6afb(0xbeb)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0xa60b29=_0x9a7d21['data']();currentStudentProjectData=_0xa60b29,displayStudentNameSelector(_0xa60b29['students'],currentQuizData[_0x4b6afb(0x818)]);}catch(_0x34efbf){console[_0x4b6afb(0xb89)](_0x4b6afb(0x8f8),_0x34efbf),showMessage(_0x4b6afb(0x541));}finally{loadQuizBtn[_0x4b6afb(0x534)]=![],loadQuizBtn[_0x4b6afb(0x848)]=_0x4b6afb(0x319);}}async function handleJoinLiveGame(){const _0x3ddcea=_0x49918e,_0x47b2fe=document['getElementById'](_0x3ddcea(0xb2b)),_0x19cf05=document['getElementById'](_0x3ddcea(0x930)),_0x4a5742=document[_0x3ddcea(0x7db)](_0x3ddcea(0xa8a)),_0x449c08=_0x47b2fe['value']['trim'](),_0x3e1717=_0x19cf05[_0x3ddcea(0x947)][_0x3ddcea(0x564)]();if(!_0x449c08||!_0x3e1717){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x4a5742[_0x3ddcea(0x534)]=!![],_0x4a5742[_0x3ddcea(0x848)]=_0x3ddcea(0x885);try{const _0x31974e=collection(db,_0x3ddcea(0x878)+appId+'/public/data/liveGames'),_0x50ef71=query(_0x31974e,where(_0x3ddcea(0x22b),'==',_0x449c08),where('status','in',[_0x3ddcea(0x8a7),_0x3ddcea(0xbe1)])),_0x2c6441=await getDocs(_0x50ef71);if(_0x2c6441['empty']){showMessage(_0x3ddcea(0x2e1));return;}const _0x9181cf=_0x2c6441[_0x3ddcea(0x689)][0x0],_0xa1f17f=_0x9181cf['data']();currentLiveGameId=_0x9181cf['id'];const _0x3e605a=_0xa1f17f[_0x3ddcea(0x33f)],_0x4e0882=doc(db,'artifacts/'+appId+_0x3ddcea(0x1ed),_0x3e605a),_0x5a0689=await getDoc(_0x4e0882);if(!_0x5a0689[_0x3ddcea(0xbeb)]()){showMessage(_0x3ddcea(0x667));return;}currentQuizData={'id':_0x5a0689['id'],..._0x5a0689[_0x3ddcea(0x999)]()};if(_0xa1f17f[_0x3ddcea(0x891)]&&_0xa1f17f[_0x3ddcea(0x891)][_0x3e1717]){const _0x27a2d2=_0xa1f17f['players'][_0x3e1717];if(_0x27a2d2[_0x3ddcea(0xbc2)]===_0x3ddcea(0x31b)){_0x4a5742[_0x3ddcea(0x848)]=_0x3ddcea(0x7a7);const _0x149a15={};_0x149a15['players.'+_0x3e1717+'.status']=_0x3ddcea(0x9d3),await updateDoc(doc(db,_0x3ddcea(0x878)+appId+'/public/data/liveGames',currentLiveGameId),_0x149a15),showView(_0x3ddcea(0x477)),currentStudentName=_0x3e1717,listenForLiveGameUpdates();return;}else{showMessage(_0x3ddcea(0x889));return;}}if(_0xa1f17f[_0x3ddcea(0xbc2)]!==_0x3ddcea(0x8a7)){showMessage(_0x3ddcea(0x518));return;}_0x4a5742[_0x3ddcea(0x848)]=_0x3ddcea(0x73f);const _0x40cd90={};_0x40cd90[_0x3ddcea(0x2fe)+_0x3e1717]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0x3ddcea(0x878)+appId+_0x3ddcea(0x426),currentLiveGameId),_0x40cd90),currentStudentName=_0x3e1717,listenForLiveGameUpdates();}catch(_0x33c99b){console['error'](_0x3ddcea(0xbb4),_0x33c99b),showMessage(_0x3ddcea(0xb47));}finally{_0x4a5742['disabled']=![],_0x4a5742[_0x3ddcea(0x848)]=_0x3ddcea(0x3bb);}}function displayStudentNameSelector(_0xe0e481,_0x1c1a31){const _0x51a000=_0x49918e,_0x10bbf2=document[_0x51a000(0x7db)]('student-name-select');document[_0x51a000(0x7db)](_0x51a000(0xae1))['textContent']=_0x51a000(0x2ad)+_0x1c1a31,!_0xe0e481||_0xe0e481[_0x51a000(0xaed)]===0x0?(_0x10bbf2['innerHTML']='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn['disabled']=!![]):(_0x10bbf2['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0xe0e481[_0x51a000(0x4ec)](_0x9eeb9a=>{const _0x500815=_0x51a000,_0x1c9856=document[_0x500815(0x989)]('option');_0x1c9856['value']=_0x9eeb9a,_0x1c9856[_0x500815(0x467)]=_0x9eeb9a,_0x10bbf2[_0x500815(0x821)](_0x1c9856);}),startQuizBtn['disabled']=![]),studentInitialView[_0x51a000(0x1fa)]['add'](_0x51a000(0x997)),studentNameSelectionView[_0x51a000(0x1fa)][_0x51a000(0x428)](_0x51a000(0x997));}function shuffleArray(_0x362cb7){const _0x5c4802=_0x49918e;for(let _0x34fd17=_0x362cb7[_0x5c4802(0xaed)]-0x1;_0x34fd17>0x0;_0x34fd17--){const _0xd6cd2f=Math['floor'](Math[_0x5c4802(0x9df)]()*(_0x34fd17+0x1));[_0x362cb7[_0x34fd17],_0x362cb7[_0xd6cd2f]]=[_0x362cb7[_0xd6cd2f],_0x362cb7[_0x34fd17]];}}function getShuffledQuiz(_0x1e00d6){const _0xf980dc=_0x49918e;let _0x170a85=JSON[_0xf980dc(0x982)](JSON[_0xf980dc(0x362)](_0x1e00d6));const _0x3de438=_0x170a85['settings']?.[_0xf980dc(0x5b4)]||_0xf980dc(0x979);if(_0x3de438===_0xf980dc(0x979))return _0x170a85;return(_0x3de438===_0xf980dc(0x9ea)||_0x3de438===_0xf980dc(0x98b))&&shuffleArray(_0x170a85[_0xf980dc(0x29f)]),(_0x3de438===_0xf980dc(0x656)||_0x3de438===_0xf980dc(0x98b))&&_0x170a85[_0xf980dc(0x29f)][_0xf980dc(0x4ec)](_0x292a8c=>{const _0x591f5e=_0xf980dc,_0x16a775=_0x292a8c[_0x591f5e(0x7e0)]||_0x170a85[_0x591f5e(0x3ee)];if(_0x292a8c[_0x591f5e(0xa27)]){let _0x14110f=_0x292a8c['options'][_0x591f5e(0x251)]((_0x234ca3,_0x3af6ec)=>({'text':_0x234ca3,'isCorrect':_0x3af6ec===_0x292a8c['correctAnswerIndex']}));shuffleArray(_0x14110f),_0x292a8c[_0x591f5e(0xa27)]=_0x14110f[_0x591f5e(0x251)](_0x4eb4dd=>_0x4eb4dd[_0x591f5e(0xada)]),_0x292a8c['correctAnswerIndex']=_0x14110f[_0x591f5e(0x2d8)](_0x490226=>_0x490226[_0x591f5e(0xb34)]);}_0x16a775===_0x591f5e(0x799)&&_0x292a8c['allResponses']&&shuffleArray(_0x292a8c[_0x591f5e(0x85d)]);}),_0x170a85;}function displayQuizForStudent(_0x37eaa7){const _0x30ddc8=_0x49918e;studentQuizArea[_0x30ddc8(0x1fa)][_0x30ddc8(0x428)](_0x30ddc8(0x997)),currentDisplayedQuiz=getShuffledQuiz(_0x37eaa7);currentMode!==_0x30ddc8(0xa5e)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x30ddc8(0x62b),handleFullscreenChange),document[_0x30ddc8(0xb63)](_0x30ddc8(0x60d),handleVisibilityChange),enterFullscreen(),window['addEventListener']('mousemove',resetDimTimer),window['addEventListener'](_0x30ddc8(0x3e2),resetDimTimer),window[_0x30ddc8(0xb63)](_0x30ddc8(0x558),resetDimTimer),window[_0x30ddc8(0xb63)](_0x30ddc8(0x963),resetDimTimer),resetDimTimer());const _0x8502b1=currentDisplayedQuiz[_0x30ddc8(0x8d5)]?.[_0x30ddc8(0x53f)]||_0x30ddc8(0x979);if(_0x8502b1===_0x30ddc8(0x4f8))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x30ddc8(0x8d5)][_0x30ddc8(0x688)]);else _0x8502b1===_0x30ddc8(0x249)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x10d876=_0x49918e,_0x2869a1=currentDisplayedQuiz[_0x10d876(0x8d5)]?.[_0x10d876(0x98a)]===!![],_0x30e786=currentDisplayedQuiz[_0x10d876(0x8d5)]?.[_0x10d876(0x5cd)]||'checkbox';let _0x59bac3=_0x10d876(0xc13)+currentDisplayedQuiz[_0x10d876(0x818)]+_0x10d876(0x2b6)+(currentMode===_0x10d876(0xa5e)?_0x10d876(0x579):'')+_0x10d876(0x6c7);currentDisplayedQuiz['questions'][_0x10d876(0x4ec)]((_0x1ebc13,_0x4c0a76)=>{const _0x5ddcdb=_0x10d876,_0x277bb8=_0x1ebc13[_0x5ddcdb(0x7e0)]||currentDisplayedQuiz[_0x5ddcdb(0x3ee)];_0x59bac3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x277bb8===_0x5ddcdb(0x799)){}else _0x59bac3+='<p>'+(_0x4c0a76+0x1)+'.\x20'+(_0x1ebc13[_0x5ddcdb(0x337)]||_0x1ebc13[_0x5ddcdb(0xa04)])+'</p>',_0x1ebc13['imageCode']&&(_0x59bac3+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1ebc13[_0x5ddcdb(0x71a)]+_0x5ddcdb(0x640));_0x59bac3+=_0x5ddcdb(0x218);switch(_0x277bb8){case _0x5ddcdb(0x6de):_0x59bac3+=_0x5ddcdb(0x5f6)+_0x4c0a76+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x5ddcdb(0x7c2):_0x59bac3+=_0x5ddcdb(0x81f)+_0x4c0a76+'_opt0\x22\x20name=\x22question'+_0x4c0a76+_0x5ddcdb(0xbcb)+_0x4c0a76+_0x5ddcdb(0x9ff),_0x59bac3+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x4c0a76+_0x5ddcdb(0x2c1)+_0x4c0a76+_0x5ddcdb(0xa5c)+_0x4c0a76+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x5ddcdb(0x799):_0x59bac3+=_0x5ddcdb(0x3eb)+_0x1ebc13['stem']+_0x5ddcdb(0xb74)+_0x4c0a76+_0x5ddcdb(0xadf)+_0x1ebc13[_0x5ddcdb(0x85d)][_0x5ddcdb(0x251)](_0x14933b=>'<option\x20value=\x22'+_0x14933b+'\x22>'+_0x14933b+'</option>')[_0x5ddcdb(0x7b8)]('')+_0x5ddcdb(0x453);break;default:_0x59bac3+=_0x1ebc13[_0x5ddcdb(0xa27)][_0x5ddcdb(0x251)]((_0x10e05e,_0xae0853)=>_0x5ddcdb(0x369)+_0x4c0a76+_0x5ddcdb(0xc29)+_0xae0853+_0x5ddcdb(0x3a1)+_0x4c0a76+_0x5ddcdb(0x346)+_0xae0853+_0x5ddcdb(0xa99)+_0x4c0a76+_0x5ddcdb(0xc29)+_0xae0853+'\x22>'+_0x10e05e+_0x5ddcdb(0xb62))[_0x5ddcdb(0x7b8)]('');break;}_0x59bac3+=_0x5ddcdb(0x640),_0x2869a1&&(_0x59bac3+=_0x5ddcdb(0x5a8),_0x30e786===_0x5ddcdb(0xb4f)?_0x59bac3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x4c0a76+_0x5ddcdb(0x460)+_0x4c0a76+_0x5ddcdb(0x6b1)+_0x4c0a76+_0x5ddcdb(0xa44)+_0x4c0a76+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x59bac3+=_0x5ddcdb(0x9ce)+_0x4c0a76+_0x5ddcdb(0x460)+_0x4c0a76+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x4c0a76+_0x5ddcdb(0x617),_0x59bac3+=_0x5ddcdb(0x640)),_0x59bac3+=_0x5ddcdb(0x640);}),_0x59bac3+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x59bac3+='</form>',studentQuizArea['innerHTML']=_0x59bac3;if(currentMode==='admin-testing'){const _0x5b3c74=document[_0x10d876(0x7db)](_0x10d876(0x83f));if(_0x5b3c74)_0x5b3c74[_0x10d876(0xb63)]('click',cancelAdminTest);}const _0x128131=document[_0x10d876(0x7db)](_0x10d876(0x5c2));_0x128131&&(_0x128131['addEventListener'](_0x10d876(0x594),handleSubmitQuiz),_0x128131['addEventListener'](_0x10d876(0x32d),_0x5b4d5e=>{const _0x218a89=_0x10d876;if(_0x5b4d5e[_0x218a89(0x81b)][_0x218a89(0x1fa)]['contains']('confidence-choice-btn')){const _0x4f69da=_0x5b4d5e[_0x218a89(0x81b)],_0x39e930=_0x4f69da[_0x218a89(0x297)][_0x218a89(0x7e8)],_0x36e4a8=_0x4f69da[_0x218a89(0x297)][_0x218a89(0x947)];document['getElementById'](_0x218a89(0x71c)+_0x39e930)[_0x218a89(0x947)]=_0x36e4a8;const _0x52887e=_0x4f69da['parentElement'];_0x52887e[_0x218a89(0x3e7)](_0x218a89(0x44e))[_0x218a89(0x4ec)](_0xad9fa9=>_0xad9fa9[_0x218a89(0x1fa)][_0x218a89(0x428)](_0x218a89(0x9d3))),_0x4f69da[_0x218a89(0x1fa)][_0x218a89(0x36a)](_0x218a89(0x9d3));}}));if(window[_0x10d876(0xaca)])window[_0x10d876(0xaca)][_0x10d876(0x26d)]([studentQuizArea]);}async function handleSubmitQuiz(_0x214d05){const _0x2f8507=_0x49918e;if(_0x214d05)_0x214d05[_0x2f8507(0xaf1)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x59b464=document['getElementById']('quiz-form');if(!_0x59b464)return;const _0x27c525=currentDisplayedQuiz['settings']?.[_0x2f8507(0x98a)]===!![],_0x3ea442=currentDisplayedQuiz['settings']?.[_0x2f8507(0x5cd)]||_0x2f8507(0x7ef);if(_0x27c525&&_0x3ea442===_0x2f8507(0xb4f)){let _0x66f6f=!![];for(let _0x2d5812=0x0;_0x2d5812<currentDisplayedQuiz[_0x2f8507(0x29f)]['length'];_0x2d5812++){const _0x4fc3e6=_0x59b464[_0x2f8507(0xa3e)](_0x2f8507(0x415)+_0x2d5812);if(!_0x4fc3e6||_0x4fc3e6[_0x2f8507(0x947)]===''){_0x66f6f=![];break;}}if(!_0x66f6f){showMessage(_0x2f8507(0x5cf));return;}}const _0x5793c3=_0x59b464[_0x2f8507(0xa3e)](_0x2f8507(0x974)),_0x52a8c0=currentDisplayedQuiz['questions'][_0x2f8507(0x690)](_0x4a62c7=>_0x4a62c7[_0x2f8507(0x7e0)]===_0x2f8507(0x6de));_0x5793c3&&(_0x5793c3[_0x2f8507(0x534)]=!![],_0x5793c3['innerHTML']=_0x52a8c0?_0x2f8507(0xa3a):_0x2f8507(0x341));const _0x391280=new FormData(_0x59b464),_0x371220=currentDisplayedQuiz[_0x2f8507(0x29f)]['map']((_0x5fdf53,_0x878c9f)=>{const _0x409ee8=_0x2f8507,_0x21df1c=_0x391280[_0x409ee8(0x9bc)]('question'+_0x878c9f);let _0x1f19f7;_0x3ea442===_0x409ee8(0xb4f)?_0x1f19f7=_0x391280[_0x409ee8(0x9bc)](_0x409ee8(0x666)+_0x878c9f):_0x1f19f7=_0x391280[_0x409ee8(0x9bc)]('confidence'+_0x878c9f)==='on';let _0x5e7790=null;if(_0x21df1c!==null&&_0x21df1c!==undefined){const _0x23c249=_0x5fdf53[_0x409ee8(0x7e0)]||currentDisplayedQuiz[_0x409ee8(0x3ee)];_0x23c249===_0x409ee8(0x286)||_0x23c249===_0x409ee8(0xaa7)?_0x5e7790=parseInt(_0x21df1c):_0x5e7790=_0x21df1c;}return{'answer':_0x5e7790,'wasConfident':_0x1f19f7};}),_0x35f790=currentQuizData['id'],_0x23cfbb=doc(db,_0x2f8507(0x878)+appId+_0x2f8507(0x350)+_0x35f790+'/submissions',currentStudentName),_0x1f5198=await getDoc(_0x23cfbb),_0x3b38fa=_0x1f5198['exists']()?_0x1f5198['data']():{},_0x40a062=_0x3b38fa[_0x2f8507(0x423)]||[];await processAndSubmitAnswers(_0x371220,_0x40a062);}async function gradeShortAnswerWithAI(_0x59b7b6,_0x1ebc39){const _0x3f8872=_0x49918e;if(!_0x59b7b6||!_0x1ebc39)return![];try{const _0x5dd955=_0x3f8872(0x4c2)+_0x59b7b6+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x1ebc39+_0x3f8872(0x333),_0x8e090a={'contents':[{'role':_0x3f8872(0x2a4),'parts':[{'text':_0x5dd955}]}]},_0x592543='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x306bd9=_0x3f8872(0x3d8)+_0x592543,_0x587e39=await fetch(_0x306bd9,{'method':_0x3f8872(0xb93),'headers':{'Content-Type':_0x3f8872(0x590)},'body':JSON[_0x3f8872(0x362)](_0x8e090a)});if(!_0x587e39['ok'])throw new Error('API\x20call\x20failed');const _0x4274b1=await _0x587e39[_0x3f8872(0x604)](),_0x6d8fa4=_0x4274b1[_0x3f8872(0x353)][0x0][_0x3f8872(0x80c)][_0x3f8872(0x3c4)][0x0][_0x3f8872(0xada)]['trim']()[_0x3f8872(0x8fa)]();return _0x6d8fa4===_0x3f8872(0x36c);}catch(_0x360ed1){return console[_0x3f8872(0xb89)](_0x3f8872(0x6b5),_0x360ed1),![];}}async function processAndSubmitAnswers(_0x45e4c5,_0x11bba3){const _0x45f242=_0x49918e;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x45f242(0xb7a)](_0x45f242(0x62b),handleFullscreenChange),document[_0x45f242(0xb7a)](_0x45f242(0x60d),handleVisibilityChange);let _0x439b71=0x0;const _0x2ad3b3=[],_0x36ae22=currentDisplayedQuiz[_0x45f242(0x29f)][_0x45f242(0xaed)];let _0x2dc891=0x0,_0xaa04f0=[];const _0x189e6b=currentDisplayedQuiz[_0x45f242(0x29f)];for(let _0x2f8724=0x0;_0x2f8724<_0x189e6b[_0x45f242(0xaed)];_0x2f8724++){const _0xb5b06=_0x189e6b[_0x2f8724],_0x2205c0=_0x45e4c5[_0x2f8724],_0x5cf5ce=_0x2205c0?_0x2205c0[_0x45f242(0x2b8)]:null,_0x422c14=_0x2205c0?_0x2205c0[_0x45f242(0x882)]:null;let _0x86c5e6=![],_0x57accc=0x0;if(_0x5cf5ce!==null&&_0x5cf5ce!==''){const _0x24ff0e=_0xb5b06[_0x45f242(0x7e0)]||currentDisplayedQuiz[_0x45f242(0x3ee)];switch(_0x24ff0e){case _0x45f242(0x799):_0x86c5e6=_0x5cf5ce===_0xb5b06[_0x45f242(0xa77)];break;case _0x45f242(0x7c2):const _0x3c4230=_0x5cf5ce===!![]||_0x5cf5ce===_0x45f242(0x36c);_0x86c5e6=_0x3c4230===_0xb5b06[_0x45f242(0x912)];break;case'short_answer':_0x86c5e6=await gradeShortAnswer(_0x5cf5ce,_0xb5b06);break;case _0x45f242(0x286):default:_0x86c5e6=Number(_0x5cf5ce)===_0xb5b06[_0x45f242(0x6e8)];break;}}if(currentDisplayedQuiz['settings']?.[_0x45f242(0x98a)]){const _0xe6ddd3=_0x2205c0?_0x2205c0['wasConfident']:null;if(_0x86c5e6&&(_0xe6ddd3===!![]||_0xe6ddd3==='confident'))_0x57accc=0x2;else{if(_0x86c5e6)_0x57accc=0x1;else{if(!_0x86c5e6&&(_0xe6ddd3===![]||_0xe6ddd3===_0x45f242(0x926)||_0xe6ddd3===null))_0x57accc=0x0;else!_0x86c5e6&&(_0xe6ddd3===!![]||_0xe6ddd3===_0x45f242(0x6e0))&&(_0x57accc=-0x1);}}}else _0x57accc=_0x86c5e6?0x1:0x0;_0x439b71+=_0x57accc;if(_0x86c5e6){_0x2dc891++;if(_0x2dc891===0x3)_0xaa04f0[_0x45f242(0x9f3)](BADGES[_0x45f242(0x6ea)]['id']);}else _0x2dc891=0x0;let _0x140267=null;_0xb5b06['options']&&_0x5cf5ce!==null&&(_0x140267=_0xb5b06[_0x45f242(0xa27)][_0x5cf5ce]),_0x2ad3b3['push']({'questionId':_0xb5b06['id'],'answer':_0x5cf5ce,'answerText':_0x140267,'isCorrect':_0x86c5e6,'wasConfident':_0x422c14,'pointsAwarded':_0x57accc,'originalQuestionText':_0xb5b06[_0x45f242(0xc08)]||_0xb5b06['questionText']});}const _0x31e181=_0x2ad3b3[_0x45f242(0xbf0)](_0x182a2a=>_0x182a2a['isCorrect'])[_0x45f242(0xaed)],_0x2339cb=currentDisplayedQuiz['settings']?.['passingScore']??Math['floor'](_0x36ae22/0x2);_0x31e181===_0x36ae22&&_0x36ae22>0x0&&!currentDisplayedQuiz[_0x45f242(0x85f)]&&_0xaa04f0[_0x45f242(0x9f3)](BADGES['PERFECT_SCORE']['id']);const _0x33a328=currentDisplayedQuiz[_0x45f242(0x8d5)]?.['timerMode'];if(_0x33a328==='whole_quiz'&&quizStartTime){const _0x28c492=(new Date()-quizStartTime)/0x3e8,_0x431dea=currentDisplayedQuiz[_0x45f242(0x8d5)][_0x45f242(0x688)]*0x3c;_0x31e181>=_0x2339cb&&_0x28c492<_0x431dea/0x2&&_0xaa04f0[_0x45f242(0x9f3)](BADGES[_0x45f242(0x95c)]['id']);}_0x11bba3[_0x45f242(0xaed)]===0x0&&_0x31e181===_0x36ae22&&_0x36ae22>0x0&&_0xaa04f0[_0x45f242(0x9f3)](BADGES[_0x45f242(0x731)]['id']);if(_0x11bba3[_0x45f242(0xaed)]>0x0){const _0x34f159=_0x11bba3[0x0][_0x45f242(0x967)];if(_0x34f159<_0x2339cb&&_0x31e181>=_0x2339cb){const _0x1891a4=_0x11bba3[_0x45f242(0x690)](_0x271201=>(_0x271201[_0x45f242(0xbc0)]||[])[_0x45f242(0x229)](BADGES[_0x45f242(0x7c8)]['id']));!_0x1891a4&&_0xaa04f0[_0x45f242(0x9f3)](BADGES[_0x45f242(0x7c8)]['id']);}}_0x11bba3[_0x45f242(0xaed)]===0x4&&_0xaa04f0[_0x45f242(0x9f3)](BADGES[_0x45f242(0x31e)]['id']);const _0x44baac=currentDisplayedQuiz[_0x45f242(0x8d5)][_0x45f242(0x464)];if(currentMode===_0x45f242(0xa5e)){handleResultDisplay(_0x44baac,_0x31e181,_0x439b71,_0xaa04f0,_0x2ad3b3,_0x36ae22);return;}const _0x5314ca=currentQuizData['id'],_0x480cd7=doc(db,_0x45f242(0x878)+appId+'/public/data/quizzes/'+_0x5314ca+_0x45f242(0xa86),currentStudentName);try{const _0x54bd78=[..._0x11bba3],_0x22d75d={'score':_0x31e181,'points':_0x439b71,'badges':Array[_0x45f242(0x3b3)](new Set(_0xaa04f0)),'submittedAt':new Date()[_0x45f242(0x9e9)](),'answers':_0x2ad3b3};_0x54bd78[_0x45f242(0x9f3)](_0x22d75d);const _0xe014f8=_0x11bba3[_0x45f242(0xaed)]===0x0?_0x31e181:_0x11bba3[0x0]['score']||0x0,_0x53552a=Math['max'](..._0x54bd78['map'](_0x40240d=>_0x40240d[_0x45f242(0x967)]));await setDoc(_0x480cd7,{'studentName':currentStudentName,'totalQuestions':_0x36ae22,'attempts':_0x54bd78,'firstScore':_0xe014f8,'bestScore':_0x53552a,'latestScore':_0x31e181,'points':_0x439b71,'latestSubmittedAt':_0x22d75d['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x45f242(0x33a)],currentStudentName),handleResultDisplay(_0x44baac,_0x31e181,_0x439b71,_0xaa04f0,_0x2ad3b3,_0x36ae22);}catch(_0x5026b9){console[_0x45f242(0xb89)](_0x45f242(0x803),_0x5026b9),showMessage(_0x45f242(0x61f));}}async function updateStudentProfile(_0x18073c,_0x24a233){const _0x4b05d8=_0x49918e,_0x9ca333=doc(db,_0x4b05d8(0x878)+appId+'/public/data/projects/'+_0x18073c+_0x4b05d8(0x321),_0x24a233);try{const _0x55c9be=query(collection(db,'artifacts/'+appId+_0x4b05d8(0x1ed)),where(_0x4b05d8(0x33a),'==',_0x18073c)),_0x3b3c41=await getDocs(_0x55c9be),_0x74329f=new Map(_0x3b3c41['docs'][_0x4b05d8(0x251)](_0x5bf6a9=>[_0x5bf6a9['id'],_0x5bf6a9[_0x4b05d8(0x999)]()])),_0x5201bb=Array['from'](_0x74329f['keys']());await runTransaction(db,async _0x20d724=>{const _0x16e017=_0x4b05d8;let _0x44dbb7=0x0;const _0x4b35ae={};let _0x312335=!![],_0x5ac768=0x0,_0x4a0803=0x0;for(const _0x1d57e9 of _0x5201bb){const _0xda7679=_0x74329f[_0x16e017(0x9bc)](_0x1d57e9),_0x231c92=doc(db,'artifacts/'+appId+_0x16e017(0x350)+_0x1d57e9+'/submissions',_0x24a233),_0x1ca5e1=await _0x20d724[_0x16e017(0x9bc)](_0x231c92);if(_0x1ca5e1[_0x16e017(0xbeb)]()){const _0x528d2e=_0x1ca5e1['data'](),_0x2ae770=_0x528d2e[_0x16e017(0x423)]||[];if(_0x2ae770['length']>0x0){const _0x42577b=_0x2ae770[_0x16e017(0xb5d)]((_0x7a54a9,_0x12b629)=>{const _0x1ce0ec=_0x16e017;if(_0x12b629[_0x1ce0ec(0x967)]>_0x7a54a9[_0x1ce0ec(0x967)])return _0x12b629;if(_0x12b629[_0x1ce0ec(0x967)]===_0x7a54a9[_0x1ce0ec(0x967)])return(_0x12b629['points']||0x0)>(_0x7a54a9[_0x1ce0ec(0x259)]||0x0)?_0x12b629:_0x7a54a9;return _0x7a54a9;},{'score':-0x1,'points':-0x1});_0x42577b[_0x16e017(0x967)]>-0x1&&(_0x44dbb7+=_0x42577b['points']||0x0,(_0x42577b['badges']||[])[_0x16e017(0x4ec)](_0x311182=>{_0x4b35ae[_0x311182]=(_0x4b35ae[_0x311182]||0x0)+0x1;}));}}if(_0xda7679['topic']!==_0x16e017(0x4d6)){_0x4a0803++;if(_0x1ca5e1[_0x16e017(0xbeb)]()){_0x5ac768++;const _0x18870f=_0x1ca5e1[_0x16e017(0x999)]();_0x18870f['bestScore']!==_0x18870f[_0x16e017(0x5be)]&&(_0x312335=![]);}else _0x312335=![];}}_0x4a0803>0x0&&_0x5ac768===_0x4a0803&&_0x312335?_0x4b35ae[_0x16e017(0x589)]=0x1:_0x4b35ae[_0x16e017(0x589)]=0x0,_0x20d724[_0x16e017(0x874)](_0x9ca333,{'studentName':_0x24a233,'totalPoints':_0x44dbb7,'unlockedBadges':Object[_0x16e017(0x450)](_0x4b35ae)[_0x16e017(0xbf0)](_0x1a16a0=>_0x4b35ae[_0x1a16a0]>0x0),'badgesCount':_0x4b35ae},{'merge':!![]});});}catch(_0x24a311){console[_0x4b05d8(0xb89)](_0x4b05d8(0x5d0),_0x24a311),showMessage(_0x4b05d8(0xb92));}}function startAdminTest(){const _0x1d7136=_0x49918e;if(!currentQuizData){showMessage(_0x1d7136(0xa08));return;}let _0x236d12=JSON['parse'](JSON[_0x1d7136(0x362)](currentQuizData));currentMode=_0x1d7136(0xa5e),currentStudentName=_0x1d7136(0x80e),adminView[_0x1d7136(0x1fa)][_0x1d7136(0x36a)](_0x1d7136(0x997)),studentView[_0x1d7136(0x1fa)][_0x1d7136(0x428)](_0x1d7136(0x997)),studentInitialView[_0x1d7136(0x1fa)]['add'](_0x1d7136(0x997)),studentNameSelectionView['classList'][_0x1d7136(0x36a)]('hidden'),studentResultArea[_0x1d7136(0x1fa)]['add'](_0x1d7136(0x997)),studentQuizArea[_0x1d7136(0x1fa)][_0x1d7136(0x428)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x236d12);}function handleResultDisplay(_0x333a74,_0x19784f,_0x39439b,_0x3161ba,_0x23070e,_0x18298b){const _0x165a5f=_0x49918e;if(_0x333a74===_0x165a5f(0xa4e)){displaySubmissionConfirmation();return;}const _0x445d67=currentDisplayedQuiz[_0x165a5f(0x8d5)]?.[_0x165a5f(0xc3f)]??Math[_0x165a5f(0x356)](_0x18298b/0x2),_0x52953f=currentDisplayedQuiz[_0x165a5f(0x8d5)]?.[_0x165a5f(0xa07)]??![],_0x2fe706=currentDisplayedQuiz[_0x165a5f(0x8d5)]?.[_0x165a5f(0x9b5)]===!![],_0x1ba43a=_0x19784f<_0x445d67,_0x128068=_0x333a74==='half_mark_status'||_0x333a74==='perfect_score_status';if(_0x2fe706&&_0x1ba43a&&!_0x128068){_0x333a74===_0x165a5f(0x4e2)?displayResultsWithAnswers(_0x19784f,_0x39439b,_0x3161ba,_0x23070e,_0x18298b,!![]):displayLoopScreen(_0x19784f,_0x18298b,_0x333a74);return;}if(_0x52953f&&_0x1ba43a){startAdaptiveFlow(_0x23070e,_0x19784f,_0x18298b);return;}switch(_0x333a74){case _0x165a5f(0x4e2):displayResultsWithAnswers(_0x19784f,_0x39439b,_0x3161ba,_0x23070e,_0x18298b);break;case _0x165a5f(0x5bb):displayResultsScoreOnly(_0x19784f,_0x39439b,_0x3161ba,_0x18298b);break;case'show_pass_fail_only':displayPassFailOnly(_0x19784f,_0x18298b);break;case'half_mark_status':displayHalfMarkResult(_0x19784f,_0x18298b);break;case _0x165a5f(0x840):displayPerfectScoreResult(_0x19784f,_0x18298b);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x212199){const _0x1b6dc2=_0x49918e;studentReadingArea[_0x1b6dc2(0x848)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x405da0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x212199+_0x1b6dc2(0x8ef)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x2af885={'type':_0x1b6dc2(0x7eb),'properties':{'questionText':{'type':_0x1b6dc2(0x3ec)},'options':{'type':_0x1b6dc2(0x315),'items':{'type':_0x1b6dc2(0x3ec)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':['questionText',_0x1b6dc2(0xa27),_0x1b6dc2(0x6e8),'explanation']},_0x5e7b85={'type':_0x1b6dc2(0x7eb),'properties':{'topic':{'type':_0x1b6dc2(0x3ec)},'questions':{'type':_0x1b6dc2(0x315),'items':_0x2af885}},'required':[_0x1b6dc2(0x818),_0x1b6dc2(0x29f)]};try{const _0xe71421=await callAnalysisApi(_0x405da0,_0x5e7b85);_0xe71421['isRemedial']=!![],studentReadingArea[_0x1b6dc2(0x1fa)]['add'](_0x1b6dc2(0x997));const _0x36b52c={...currentDisplayedQuiz[_0x1b6dc2(0x8d5)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0xe71421[_0x1b6dc2(0x8d5)]=_0x36b52c,displayQuizForStudent(_0xe71421);}catch(_0x2dd3cb){console[_0x1b6dc2(0xb89)](_0x1b6dc2(0x9e1),_0x2dd3cb),showMessage(_0x1b6dc2(0xaaf)),showView(_0x1b6dc2(0x972));}}function displayPassFailOnly(_0x289a6a,_0x4687d7){const _0x7089d4=_0x49918e,_0x18cb6c=currentDisplayedQuiz['settings']?.[_0x7089d4(0xc3f)]??-0x1,_0xa79f39=currentDisplayedQuiz[_0x7089d4(0x85f)]===!![];let _0x4cb7c7='',_0x401b67=![];if(_0xa79f39||_0x18cb6c!==-0x1){_0x401b67=_0xa79f39?_0x289a6a===_0x4687d7:_0x289a6a>=_0x18cb6c;const _0x56a167=_0x401b67?_0x7089d4(0x6ce):_0x7089d4(0xaa6),_0x295f8e=_0x401b67?_0x7089d4(0x2bc):_0x7089d4(0x556);_0x4cb7c7=_0x7089d4(0x272)+_0x56a167+'\x22>'+_0x295f8e+_0x7089d4(0x58e);}else _0x4cb7c7=_0x7089d4(0x7c3);let _0x198043='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4cb7c7+_0x7089d4(0xa90);studentResultArea['innerHTML']=_0x198043,studentResultArea[_0x7089d4(0x1fa)][_0x7089d4(0x428)]('hidden'),studentQuizArea['classList']['add'](_0x7089d4(0x997)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x401b67});}function cancelAdminTest(){const _0x1fe878=_0x49918e;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x1fe878(0xb7a)](_0x1fe878(0x62b),handleFullscreenChange),document[_0x1fe878(0xb7a)](_0x1fe878(0x60d),handleVisibilityChange),currentMode='admin',studentView[_0x1fe878(0x1fa)]['add'](_0x1fe878(0x997)),adminView['classList']['remove']('hidden'),showView(_0x1fe878(0xb26));}function setupResultScreenBackButton(_0x33409d){const _0x41286b=_0x49918e,_0x30fdea={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x33409d};if(_0x30fdea[_0x41286b(0x5a7)]){const _0x2072dd=_0x41286b(0x2f0);studentResultArea[_0x41286b(0xa21)](_0x41286b(0x2af),_0x2072dd),document['getElementById'](_0x41286b(0x6f2))['addEventListener']('click',()=>{const _0xf584b0=_0x41286b;studentResultArea[_0xf584b0(0x1fa)][_0xf584b0(0x36a)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x32c0b1='back-from-results-btn',_0x584959=currentMode==='admin-testing',_0x3a2573=_0x584959?_0x41286b(0x624):_0x41286b(0x6be);let _0x49b1b2='';_0x30fdea[_0x41286b(0x8ca)]&&(_0x49b1b2+=_0x41286b(0x944));let _0x1cb1b3=_0x30fdea[_0x41286b(0x71f)];_0x1cb1b3===undefined&&(_0x1cb1b3=_0x30fdea[_0x41286b(0x967)]<_0x30fdea[_0x41286b(0x5be)]);_0x1cb1b3&&(_0x49b1b2+=_0x41286b(0x8e5));_0x49b1b2+=_0x41286b(0x71e)+_0x32c0b1+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x3a2573+_0x41286b(0x492);const _0x423773=_0x41286b(0x779)+_0x49b1b2+_0x41286b(0x640);studentResultArea[_0x41286b(0xa21)](_0x41286b(0x2af),_0x423773),studentResultArea['querySelector'](_0x41286b(0xbc6))?.[_0x41286b(0xb63)]('click',handleShowStudentRankings);const _0x44605f=studentResultArea[_0x41286b(0xa3e)](_0x41286b(0x40d));_0x44605f&&_0x44605f['addEventListener']('click',()=>{const _0x13ad6d=_0x41286b;studentResultArea[_0x13ad6d(0x1fa)]['add'](_0x13ad6d(0x997)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x32c0b1)[_0x41286b(0xb63)](_0x41286b(0x32d),()=>{const _0x34147c=_0x41286b;_0x584959?(currentMode=_0x34147c(0x2ae),studentView[_0x34147c(0x1fa)][_0x34147c(0x36a)](_0x34147c(0x997)),adminView[_0x34147c(0x1fa)]['remove'](_0x34147c(0x997)),showView('project-detail')):(showView('student'),document[_0x34147c(0x7db)]('quiz-id-input')[_0x34147c(0x947)]='');});}function displayResultsWithAnswers(_0x263d82,_0xa4ee5b,_0x14c618,_0x1d39e7,_0x4fad48,_0x203755=![]){const _0x18e0c0=_0x49918e,_0x294023=_0x4fad48>0x0?_0x263d82/_0x4fad48*0x64:0x0,_0x37e5c8=currentDisplayedQuiz[_0x18e0c0(0x8d5)]?.[_0x18e0c0(0xc3f)]??-0x1,_0x5abdcf=currentDisplayedQuiz[_0x18e0c0(0x85f)]===!![];let _0x501c5a='';if(_0x5abdcf||_0x37e5c8!==-0x1){let _0x188f05=_0x5abdcf?_0x263d82===_0x4fad48:_0x263d82>=_0x37e5c8;const _0x2e7c93=_0x188f05?_0x18e0c0(0x6ce):'bg-red-100\x20text-red-800',_0x49ec72=_0x188f05?_0x18e0c0(0x2bc):_0x18e0c0(0x556);_0x501c5a=_0x18e0c0(0x245)+_0x2e7c93+'\x22>'+_0x49ec72+'</p>';}let _0x4b3e27=_0x18e0c0(0x844)+currentStudentName+_0x18e0c0(0x462)+_0x263d82+_0x18e0c0(0x85c)+_0x4fad48+_0x18e0c0(0x619)+_0x501c5a+_0x18e0c0(0x5d1)+_0xa4ee5b+_0x18e0c0(0x4bf)+_0x294023[_0x18e0c0(0x486)](0x0)+_0x18e0c0(0xb4b);currentDisplayedQuiz[_0x18e0c0(0x29f)][_0x18e0c0(0x4ec)]((_0x38068b,_0x379219)=>{const _0x51099e=_0x18e0c0,_0xa71923=_0x1d39e7[_0x379219],_0x3e1ba7=_0xa71923['answer'],_0x499c34=_0xa71923['isCorrect'],_0x3b722e=_0x38068b[_0x51099e(0x7e0)]||currentDisplayedQuiz['quizType'];_0x4b3e27+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x499c34?'border-green-300\x20bg-green-50':_0x51099e(0x9d8))+_0x51099e(0x302)+(_0x379219+0x1)+'.\x20'+(_0x38068b[_0x51099e(0xc08)]||_0x38068b['questionText'])+_0x51099e(0x7d8);switch(_0x3b722e){case'matching_item':const _0x14183c=_0x3e1ba7||_0x51099e(0x748),_0x3743fb=_0x38068b[_0x51099e(0xa77)];_0x4b3e27+=_0x51099e(0x716)+(!_0x499c34?_0x51099e(0x971):'')+'\x22>'+_0x14183c+_0x51099e(0x69f);!_0x499c34&&(_0x4b3e27+=_0x51099e(0x330)+_0x3743fb+_0x51099e(0x5c6));break;case'short_answer':_0x4b3e27+=_0x51099e(0x515)+(_0x3e1ba7||_0x51099e(0x748))+_0x51099e(0x5c6),_0x4b3e27+=_0x51099e(0xa62)+_0x38068b['idealAnswer']+_0x51099e(0x5c6);break;case _0x51099e(0x7c2):_0x4b3e27+=_0x51099e(0x68d)+(_0x38068b[_0x51099e(0x912)]===!![]?_0x51099e(0x481):'')+'\x20'+(_0x3e1ba7===_0x51099e(0x36c)&&!_0x499c34?_0x51099e(0x971):'')+_0x51099e(0x2b5),_0x4b3e27+=_0x51099e(0x68d)+(_0x38068b[_0x51099e(0x912)]===![]?_0x51099e(0x481):'')+'\x20'+(_0x3e1ba7==='false'&&!_0x499c34?_0x51099e(0x971):'')+_0x51099e(0x78f);break;default:_0x4b3e27+=_0x38068b['options'][_0x51099e(0x251)]((_0x41ada1,_0x3db667)=>{const _0x515fe1=_0x51099e;let _0x284b32='',_0x473db7='';if(_0x3db667===_0x38068b[_0x515fe1(0x6e8)])_0x284b32=_0x515fe1(0x481),_0x473db7='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x3db667===_0x3e1ba7&&(_0x284b32=_0x515fe1(0x643),_0x473db7='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x515fe1(0x547)+_0x284b32+'\x22>'+_0x473db7+_0x41ada1+'</div>';})[_0x51099e(0x7b8)]('');break;}_0x4b3e27+=_0x51099e(0x2fc)+(_0x38068b[_0x51099e(0x9e0)]||'ไม่มีคำอธิบาย')+_0x51099e(0x640);if(!_0x499c34){const _0x41653d=_0x38068b['stem']||_0x38068b[_0x51099e(0xa04)];_0x4b3e27+=_0x51099e(0x53c)+escape(_0x41653d)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x4b3e27+=_0x51099e(0x640);}),studentResultArea[_0x18e0c0(0x848)]=_0x4b3e27,renderEarnedBadges(_0x14c618,_0x18e0c0(0xb50)),studentResultArea[_0x18e0c0(0x1fa)][_0x18e0c0(0x428)](_0x18e0c0(0x997)),studentQuizArea['classList'][_0x18e0c0(0x36a)](_0x18e0c0(0x997)),setupResultScreenBackButton({'isLooping':_0x203755,'score':_0x263d82,'totalQuestions':_0x4fad48,'showRankings':!![]});if(window[_0x18e0c0(0xaca)])window[_0x18e0c0(0xaca)][_0x18e0c0(0x26d)]([studentResultArea]);}function displayResultsScoreOnly(_0x508dde,_0x512e42,_0x2aa10a,_0x2f7761){const _0x3d4db2=_0x49918e,_0x4f166a=_0x2f7761>0x0?_0x508dde/_0x2f7761*0x64:0x0,_0x5e983e=currentDisplayedQuiz[_0x3d4db2(0x8d5)]?.[_0x3d4db2(0xc3f)]??-0x1,_0xd778e4=currentDisplayedQuiz[_0x3d4db2(0x85f)]===!![];let _0x4c7e45='';if(_0xd778e4||_0x5e983e!==-0x1){let _0x44028f=_0xd778e4?_0x508dde===_0x2f7761:_0x508dde>=_0x5e983e;const _0x58f87f=_0x44028f?_0x3d4db2(0x6ce):'bg-red-100\x20text-red-800',_0x25f4da=_0x44028f?_0x3d4db2(0x2bc):'ไม่ผ่าน';_0x4c7e45=_0x3d4db2(0x245)+_0x58f87f+'\x22>'+_0x25f4da+_0x3d4db2(0x5c6);}let _0x4dbe34=_0x3d4db2(0x2b4)+currentStudentName+_0x3d4db2(0x29c)+_0x508dde+_0x3d4db2(0x390)+_0x2f7761+_0x3d4db2(0x619)+_0x4c7e45+_0x3d4db2(0x5d1)+_0x512e42+_0x3d4db2(0x49b)+_0x4f166a['toFixed'](0x0)+_0x3d4db2(0x781);studentResultArea['innerHTML']=_0x4dbe34,renderEarnedBadges(_0x2aa10a,_0x3d4db2(0xb50)),studentResultArea[_0x3d4db2(0x1fa)][_0x3d4db2(0x428)](_0x3d4db2(0x997)),studentQuizArea[_0x3d4db2(0x1fa)]['add'](_0x3d4db2(0x997)),setupResultScreenBackButton({'score':_0x508dde,'totalQuestions':_0x2f7761,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x58c193=_0x49918e;let _0x32c12d=_0x58c193(0xb29)+currentStudentName+_0x58c193(0x29e);studentResultArea[_0x58c193(0x848)]=_0x32c12d,studentResultArea[_0x58c193(0x1fa)][_0x58c193(0x428)](_0x58c193(0x997)),studentQuizArea[_0x58c193(0x1fa)][_0x58c193(0x36a)](_0x58c193(0x997)),document['getElementById'](_0x58c193(0xbae))[_0x58c193(0xb63)](_0x58c193(0x32d),()=>{const _0x2c42c3=_0x58c193;showView(_0x2c42c3(0x972)),document[_0x2c42c3(0x7db)]('quiz-id-input')['value']='';});}function renderEarnedBadges(_0x242a17,_0x39779c){const _0x5a8cd7=_0x49918e,_0x4d35ba=document[_0x5a8cd7(0x7db)](_0x39779c);if(!_0x4d35ba||!_0x242a17||_0x242a17[_0x5a8cd7(0xaed)]===0x0)return;let _0x53391b='';_0x242a17[_0x5a8cd7(0x4ec)]((_0x1e39af,_0xc9f4a9)=>{const _0x1fdb0e=_0x5a8cd7,_0x424174=Object[_0x1fdb0e(0xbca)](BADGES)[_0x1fdb0e(0xa19)](_0x21cd41=>_0x21cd41['id']===_0x1e39af);_0x424174&&(_0x53391b+=_0x1fdb0e(0x55a)+_0xc9f4a9*0.2+_0x1fdb0e(0x8dd)+_0x424174['description']+_0x1fdb0e(0x6a1)+_0x424174[_0x1fdb0e(0x1f3)]+_0x1fdb0e(0x491)+_0x424174[_0x1fdb0e(0x447)]+_0x1fdb0e(0x39b));}),_0x4d35ba[_0x5a8cd7(0x848)]=_0x53391b;}function startPresentation(_0x6b58cb){const _0x3c1f1e=_0x49918e;currentQuizData=getShuffledQuiz(_0x6b58cb),currentPresentationSlide=0x0,presentationModal[_0x3c1f1e(0xbe9)]['display']=_0x3c1f1e(0xb9c),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x116e01=_0x49918e;document['fullscreenElement']&&document[_0x116e01(0x5ad)](),presentationModal[_0x116e01(0xbe9)]['display']='none';}function renderPresentationSlide(_0x2f7263){const _0x569421=_0x49918e,_0x47ed5d=document[_0x569421(0x7db)](_0x569421(0x256));if(!currentQuizData||!currentQuizData[_0x569421(0x29f)]||!currentQuizData['questions'][_0x2f7263]){_0x47ed5d['innerHTML']=_0x569421(0x8e3);return;}const _0x1238de=currentQuizData['questions'][_0x2f7263],_0x30b151=_0x1238de['questionType']||currentQuizData[_0x569421(0x3ee)];_0x47ed5d[_0x569421(0x848)]='';let _0x32a965=_0x569421(0x51f)+(_0x1238de['imageCode']?_0x569421(0x4f2)+_0x1238de[_0x569421(0x71a)]+'</div>':'')+_0x569421(0x9cd)+(_0x2f7263+0x1)+'.\x20'+(_0x1238de[_0x569421(0xc08)]||_0x1238de[_0x569421(0xa04)])+_0x569421(0x9f9);switch(_0x30b151){case'matching_item':_0x32a965+=_0x1238de[_0x569421(0x85d)][_0x569421(0x251)](_0x3376a6=>_0x569421(0xa73)+_0x3376a6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x569421(0x7b8)]('');break;case _0x569421(0x7c2):_0x32a965+=_0x569421(0x3cd),_0x32a965+=_0x569421(0x252);break;case _0x569421(0x6c9):case _0x569421(0x6de):_0x32a965+=_0x569421(0x431);break;case _0x569421(0xaa7):case _0x569421(0x286):default:_0x32a965+=_0x1238de[_0x569421(0xa27)][_0x569421(0x251)]((_0x4527ae,_0x1100e4)=>_0x569421(0x309)+_0x1100e4+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4527ae+_0x569421(0xc03))['join']('');break;}_0x32a965+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x1238de['explanation']||_0x569421(0x49d))+_0x569421(0xc16),_0x47ed5d[_0x569421(0x848)]=_0x32a965;if(window[_0x569421(0xaca)])window[_0x569421(0xaca)]['typesetPromise']([_0x47ed5d]);let _0x14fec2=[];switch(_0x30b151){case _0x569421(0x799):_0x14fec2=_0x1238de[_0x569421(0x85d)]||[];break;case'true_false':_0x14fec2=[_0x569421(0x633),'ไม่ใช่'];break;default:_0x14fec2=_0x1238de[_0x569421(0xa27)]||[];break;}const _0x55aa6b=document['getElementById'](_0x569421(0x54e));_0x55aa6b&&(_0x55aa6b[_0x569421(0x39c)]=()=>{openScratchpad(_0x1238de,_0x14fec2);});document['querySelectorAll'](_0x569421(0x4b9))['forEach'](_0x475fb2=>{const _0x56729c=_0x569421;_0x475fb2[_0x56729c(0xb63)](_0x56729c(0x32d),_0x77c1b3=>revealAnswerForPresentation(_0x2f7263,_0x77c1b3['currentTarget']));});const _0x14526d=document[_0x569421(0x7db)](_0x569421(0x2e7));_0x14526d&&_0x14526d[_0x569421(0xb63)](_0x569421(0x32d),()=>checkShortAnswerForPresentation(_0x2f7263)),document[_0x569421(0x7db)](_0x569421(0x629))[_0x569421(0x467)]=_0x569421(0x2cb)+(_0x2f7263+0x1)+'\x20/\x20'+currentQuizData[_0x569421(0x29f)][_0x569421(0xaed)],document[_0x569421(0x7db)](_0x569421(0x88e))[_0x569421(0x534)]=_0x2f7263===0x0,document['getElementById']('next-question-btn')[_0x569421(0x534)]=_0x2f7263===currentQuizData['questions']['length']-0x1;}async function checkShortAnswerForPresentation(_0x1040a2){const _0x1ad8e1=_0x49918e,_0x209ed7=currentQuizData[_0x1ad8e1(0x29f)][_0x1040a2],_0x1de1db=document[_0x1ad8e1(0x7db)](_0x1ad8e1(0x92f)),_0x34964e=document[_0x1ad8e1(0x7db)](_0x1ad8e1(0x2e7)),_0x20bb1e=document[_0x1ad8e1(0x7db)]('presentation-ai-result'),_0x5731fb=document['getElementById'](_0x1ad8e1(0x78a));if(!_0x1de1db||!_0x34964e||!_0x20bb1e||!_0x5731fb)return;const _0x1e775a=_0x1de1db[_0x1ad8e1(0x947)]['trim']();if(_0x1e775a==='')return;_0x34964e[_0x1ad8e1(0x534)]=!![],_0x34964e[_0x1ad8e1(0x848)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x1de1db[_0x1ad8e1(0x534)]=!![];const _0xa0b72d=await gradeShortAnswer(_0x1e775a,_0x209ed7);_0xa0b72d?_0x20bb1e[_0x1ad8e1(0x848)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x20bb1e[_0x1ad8e1(0x848)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x209ed7[_0x1ad8e1(0x785)]+')',_0x20bb1e[_0x1ad8e1(0x1fa)][_0x1ad8e1(0x428)](_0x1ad8e1(0x997)),_0x5731fb[_0x1ad8e1(0x1fa)][_0x1ad8e1(0x428)](_0x1ad8e1(0x997)),_0x34964e[_0x1ad8e1(0x1fa)][_0x1ad8e1(0x36a)](_0x1ad8e1(0x997));}function revealAnswerForPresentation(_0x9286e6,_0x65f74){const _0x3d5c31=_0x49918e,_0x267362=currentQuizData[_0x3d5c31(0x29f)][_0x9286e6],_0xd81678=_0x267362['questionType']||currentQuizData[_0x3d5c31(0x3ee)];document[_0x3d5c31(0x3e7)](_0x3d5c31(0x4b9))[_0x3d5c31(0x4ec)](_0x5026a0=>{const _0x21d084=_0x3d5c31;_0x5026a0['disabled']=!![],_0x5026a0[_0x21d084(0x1fa)][_0x21d084(0x428)](_0x21d084(0x74e));let _0x20d784=![];if(_0xd81678==='multiple_choice'||_0xd81678===_0x21d084(0xaa7)){const _0x302620=parseInt(_0x5026a0[_0x21d084(0x297)][_0x21d084(0x9bd)]);_0x20d784=_0x302620===_0x267362[_0x21d084(0x6e8)];}else{if(_0xd81678===_0x21d084(0x7c2)){const _0x2b403b=_0x5026a0['dataset']['answer']===_0x21d084(0x36c);_0x20d784=_0x2b403b===_0x267362[_0x21d084(0x912)];}else _0xd81678==='matching_item'&&(_0x20d784=_0x5026a0[_0x21d084(0x467)][_0x21d084(0x564)]()===_0x267362[_0x21d084(0xa77)]);}_0x20d784?_0x5026a0[_0x21d084(0x1fa)][_0x21d084(0x36a)]('bg-green-500',_0x21d084(0x24b),_0x21d084(0x95a)):_0x5026a0['classList'][_0x21d084(0x36a)](_0x21d084(0x6a7));}),_0x65f74['classList'][_0x3d5c31(0x428)](_0x3d5c31(0x6a7));let _0x45a83d=![];if(_0xd81678==='multiple_choice')_0x45a83d=parseInt(_0x65f74[_0x3d5c31(0x297)][_0x3d5c31(0x9bd)])===_0x267362['correctAnswerIndex'];else{if(_0xd81678===_0x3d5c31(0x7c2))_0x45a83d=_0x65f74[_0x3d5c31(0x297)][_0x3d5c31(0x2b8)]===_0x3d5c31(0x36c)===_0x267362[_0x3d5c31(0x912)];else _0xd81678===_0x3d5c31(0x799)&&(_0x45a83d=_0x65f74[_0x3d5c31(0x467)][_0x3d5c31(0x564)]()===_0x267362['correctResponse']);}!_0x45a83d&&_0x65f74['classList'][_0x3d5c31(0x36a)](_0x3d5c31(0xac9),_0x3d5c31(0x24b),_0x3d5c31(0x71b)),document[_0x3d5c31(0x7db)](_0x3d5c31(0x78a))[_0x3d5c31(0x1fa)][_0x3d5c31(0x428)](_0x3d5c31(0x997));}function startWholeQuizTimer(_0x3c4e9e){const _0x12e087=_0x49918e,_0x54b018=document[_0x12e087(0x7db)](_0x12e087(0x4de));if(!_0x54b018)return;const _0x539bce=Date['now']()+_0x3c4e9e*0x3c*0x3e8;_0x54b018[_0x12e087(0x848)]=_0x12e087(0x9b9);const _0x5104d2=document[_0x12e087(0x7db)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x3afd95=_0x12e087,_0x4b912b=_0x539bce-Date[_0x3afd95(0x8fb)]();if(_0x4b912b<=0x0)clearInterval(quizTimerInterval),_0x5104d2[_0x3afd95(0x467)]='00:00',showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x215346=Math['floor'](_0x4b912b/0x3e8/0x3c%0x3c)[_0x3afd95(0x241)]()[_0x3afd95(0x32f)](0x2,'0'),_0x2c4dcb=Math[_0x3afd95(0x356)](_0x4b912b/0x3e8%0x3c)[_0x3afd95(0x241)]()[_0x3afd95(0x32f)](0x2,'0');_0x5104d2[_0x3afd95(0x467)]=_0x215346+':'+_0x2c4dcb;}},0x3e8);}function renderPerQuestionView(){const _0x5accf6=_0x49918e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x53b435=currentDisplayedQuiz[_0x5accf6(0x29f)][currentQuestionIndex],_0x14899a=_0x53b435[_0x5accf6(0x7e0)]||currentDisplayedQuiz[_0x5accf6(0x3ee)],_0xe661a=currentDisplayedQuiz[_0x5accf6(0x8d5)]?.[_0x5accf6(0x98a)]===!![];let _0xfd6a81='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x5accf6(0x1f0)+currentDisplayedQuiz['questions'][_0x5accf6(0xaed)]+_0x5accf6(0x8a8)+(currentMode===_0x5accf6(0xa5e)?_0x5accf6(0x579):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x5accf6(0x818)]+_0x5accf6(0x200);studentQuizArea[_0x5accf6(0x848)]=_0xfd6a81;let _0x1f2b6b=_0x53b435['stem']||_0x53b435[_0x5accf6(0xa04)];_0x53b435['imageCode']&&(_0x1f2b6b+=_0x5accf6(0x4f2)+_0x53b435['imageCode']+_0x5accf6(0x640));let _0x142b29='';switch(_0x14899a){case _0x5accf6(0x6de):case _0x5accf6(0x6c9):_0x142b29=_0x5accf6(0x386);break;case _0x5accf6(0x7c2):_0x142b29=_0x5accf6(0x276);break;case _0x5accf6(0x799):_0x142b29=_0x5accf6(0x3c8)+(_0x53b435[_0x5accf6(0x85d)]||[])[_0x5accf6(0x251)](_0x5a2352=>_0x5accf6(0x397)+_0x5a2352+'\x22>'+_0x5a2352+_0x5accf6(0x266))[_0x5accf6(0x7b8)]('')+_0x5accf6(0x95e);break;default:_0x53b435[_0x5accf6(0xa27)]&&(_0x142b29=_0x53b435[_0x5accf6(0xa27)][_0x5accf6(0x251)]((_0x4a5c15,_0x54c763)=>_0x5accf6(0x21b)+_0x54c763+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x54c763+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x54c763+'\x22>'+_0x4a5c15+_0x5accf6(0x521))[_0x5accf6(0x7b8)](''));break;}document['getElementById'](_0x5accf6(0x6b0))[_0x5accf6(0x848)]=_0x1f2b6b,document[_0x5accf6(0x7db)]('per-question-options')[_0x5accf6(0x848)]=_0x142b29;const _0x5c6ee9=currentDisplayedQuiz[_0x5accf6(0x8d5)]?.[_0x5accf6(0x98a)]===!![],_0x45bdf4=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x5accf6(0x7ef);if(_0x5c6ee9&&_0x45bdf4===_0x5accf6(0x7ef)){const _0x49a245='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x5accf6(0xa3e)]('.mb-6.p-4')[_0x5accf6(0xa21)](_0x5accf6(0x2af),_0x49a245);}studentQuizArea[_0x5accf6(0xa21)](_0x5accf6(0x2af),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x5accf6(0xaed)]-0x1?_0x5accf6(0x430):_0x5accf6(0xaab))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode===_0x5accf6(0xa5e)&&document[_0x5accf6(0x7db)](_0x5accf6(0x83f))?.[_0x5accf6(0xb63)](_0x5accf6(0x32d),cancelAdminTest);document[_0x5accf6(0x7db)](_0x5accf6(0x66c))[_0x5accf6(0xb63)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x5accf6(0xaca)])window[_0x5accf6(0xaca)][_0x5accf6(0x26d)]([studentQuizArea]);currentDisplayedQuiz[_0x5accf6(0x8d5)]?.[_0x5accf6(0x53f)]===_0x5accf6(0x249)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0xfc4cd8=_0x49918e,_0x4a9177=currentDisplayedQuiz[_0xfc4cd8(0x8d5)][_0xfc4cd8(0x688)],_0x3d9e8f=document[_0xfc4cd8(0x7db)](_0xfc4cd8(0x44a));if(!_0x3d9e8f)return;let _0x173515=_0x4a9177;_0x3d9e8f[_0xfc4cd8(0x848)]=_0xfc4cd8(0xb59)+_0x173515+_0xfc4cd8(0x6d2);const _0x16821d=document[_0xfc4cd8(0x7db)](_0xfc4cd8(0x97a)),_0x2ea226=document[_0xfc4cd8(0x7db)](_0xfc4cd8(0x50a));perQuestionTimerInterval=setInterval(()=>{const _0x292832=_0xfc4cd8;_0x173515--;const _0x2b9cfd=_0x173515/_0x4a9177*0x64;_0x16821d['style'][_0x292832(0x45a)]=_0x2b9cfd+'%',_0x2ea226['textContent']=_0x173515,_0x173515<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x292832(0x507)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x5ebb4f=![]){const _0x1d5e30=_0x49918e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x12c9d1=null,_0x2ba34e=![];if(!_0x5ebb4f){const _0x45b6fc=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x4ceae0=_0x45b6fc[_0x1d5e30(0x7e0)]||currentDisplayedQuiz[_0x1d5e30(0x3ee)];if(_0x4ceae0==='short_answer'||_0x4ceae0===_0x1d5e30(0x6c9))_0x12c9d1=document['querySelector']('textarea[name=\x22question_single\x22]')?.[_0x1d5e30(0x947)][_0x1d5e30(0x564)]()??'';else{if(_0x4ceae0===_0x1d5e30(0x799))_0x12c9d1=document['querySelector'](_0x1d5e30(0xb24))?.[_0x1d5e30(0x947)]??'';else{const _0x2b79a7=document[_0x1d5e30(0xa3e)]('input[name=\x22question_single\x22]:checked');_0x2b79a7&&(_0x12c9d1=_0x2b79a7[_0x1d5e30(0x947)]);}}if(_0x12c9d1===null||_0x12c9d1===''){showMessage(_0x1d5e30(0x65a)),startPerQuestionTimer();return;}const _0x3c8d81=currentDisplayedQuiz[_0x1d5e30(0x8d5)]?.[_0x1d5e30(0x98a)]===!![],_0x16f1ff=currentDisplayedQuiz[_0x1d5e30(0x8d5)]?.[_0x1d5e30(0x5cd)]||'checkbox';if(_0x3c8d81&&_0x16f1ff===_0x1d5e30(0xb4f)){document['getElementById'](_0x1d5e30(0x96a))[_0x1d5e30(0x297)][_0x1d5e30(0xae0)]=_0x1d5e30(0xbe7),document[_0x1d5e30(0x7db)](_0x1d5e30(0x705))[_0x1d5e30(0x947)]=_0x12c9d1,document[_0x1d5e30(0x7db)]('confidence-modal')[_0x1d5e30(0x1fa)]['remove'](_0x1d5e30(0x997));return;}const _0xaf6a23=document[_0x1d5e30(0x7db)](_0x1d5e30(0xa61));_0xaf6a23&&(_0x2ba34e=_0xaf6a23['checked']);}const _0x519e92={'answer':_0x12c9d1,'wasConfident':_0x2ba34e};proceedToNextQuestion(_0x519e92);}async function finalizePerQuestionQuiz(){const _0x4db585=_0x49918e,_0xcfd914=currentDisplayedQuiz['questions'][_0x4db585(0x690)](_0x4955d0=>_0x4955d0[_0x4db585(0x7e0)]===_0x4db585(0x6de));_0xcfd914?showMessage(_0x4db585(0xc30)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x3c01f5=currentQuizData['id'],_0x3a0887=doc(db,_0x4db585(0x878)+appId+_0x4db585(0x350)+_0x3c01f5+_0x4db585(0xa86),currentStudentName),_0x882197=await getDoc(_0x3a0887),_0x4bf95d=_0x882197[_0x4db585(0xbeb)]()?_0x882197[_0x4db585(0x999)]():{},_0x394290=_0x4bf95d['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x394290);}function getResultsFilename(){const _0x3ac0bb=_0x49918e,_0x1cca3a=document[_0x3ac0bb(0x7db)](_0x3ac0bb(0x704))['textContent'][_0x3ac0bb(0xc09)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x3ac0bb(0x27d)+(_0x1cca3a||'quiz');}function _0x2d54(_0x305cfe,_0x329a88){const _0x9c7361=_0x9c73();return _0x2d54=function(_0x2d5449,_0x507811){_0x2d5449=_0x2d5449-0x1e3;let _0x35dd5f=_0x9c7361[_0x2d5449];return _0x35dd5f;},_0x2d54(_0x305cfe,_0x329a88);}function exportResultsAsImage(){const _0x191a22=_0x49918e,_0x1d2e5a=document[_0x191a22(0x7db)]('results-table-container');showMessage(_0x191a22(0x89c)),html2canvas(_0x1d2e5a)[_0x191a22(0x665)](_0x17e543=>{const _0x395a7d=_0x191a22,_0x385b38=document[_0x395a7d(0x989)]('a');_0x385b38[_0x395a7d(0x567)]=getResultsFilename()+_0x395a7d(0x7d4),_0x385b38[_0x395a7d(0x3a0)]=_0x17e543[_0x395a7d(0x4c7)](_0x395a7d(0x8b3)),_0x385b38['click'](),messageModal[_0x395a7d(0x1fa)][_0x395a7d(0x36a)](_0x395a7d(0x997));});}function exportResultsAsPDF(){const _0x52f34d=_0x49918e,{jsPDF:_0x3f6d6f}=window[_0x52f34d(0xc25)],_0x510cb9=new _0x3f6d6f();_0x510cb9[_0x52f34d(0xae9)](_0x52f34d(0xb14),_0x52f34d(0x39e)),_0x510cb9[_0x52f34d(0xa63)]({'html':_0x52f34d(0x316)}),_0x510cb9[_0x52f34d(0x9ab)](getResultsFilename()+_0x52f34d(0xa10));}function exportResultsAsWord(){const _0x2d451f=_0x49918e,_0x251296=_0x2d451f(0xa1b)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x2d451f(0xa29)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x5c32ce='</body></html>',_0x2a64e9=_0x251296+document[_0x2d451f(0x7db)](_0x2d451f(0xc1d))[_0x2d451f(0x848)]+_0x5c32ce,_0x4af3c7=_0x2d451f(0x794)+encodeURIComponent(_0x2a64e9),_0x721d84=document['createElement']('a');document[_0x2d451f(0x43d)][_0x2d451f(0x821)](_0x721d84),_0x721d84[_0x2d451f(0x3a0)]=_0x4af3c7,_0x721d84['download']=getResultsFilename()+_0x2d451f(0x79e),_0x721d84[_0x2d451f(0x32d)](),document[_0x2d451f(0x43d)][_0x2d451f(0x717)](_0x721d84);}function exportResultsAsExcel(){const _0x24ecd8=_0x49918e,_0x369bb8=document[_0x24ecd8(0x7db)](_0x24ecd8(0x96c));let _0xec173c=[];for(let _0x380b5b=0x0;_0x380b5b<_0x369bb8[_0x24ecd8(0x6ca)][_0x24ecd8(0xaed)];_0x380b5b++){let _0x10e7a7=[],_0x1de23a=_0x369bb8['rows'][_0x380b5b][_0x24ecd8(0x3e7)]('td,\x20th');for(let _0x47491e=0x0;_0x47491e<_0x1de23a['length'];_0x47491e++){_0x10e7a7[_0x24ecd8(0x9f3)]('\x22'+_0x1de23a[_0x47491e][_0x24ecd8(0x6c0)][_0x24ecd8(0xc09)](/"/g,'\x22\x22')+'\x22');}_0xec173c[_0x24ecd8(0x9f3)](_0x10e7a7[_0x24ecd8(0x7b8)](','));}const _0x4208da=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xec173c[_0x24ecd8(0x7b8)]('\x0a')],{'type':_0x24ecd8(0x8b1)}),_0x2781d6=document[_0x24ecd8(0x989)]('a');_0x2781d6[_0x24ecd8(0x3a0)]=URL[_0x24ecd8(0x536)](_0x4208da),_0x2781d6[_0x24ecd8(0x567)]=getResultsFilename()+_0x24ecd8(0xa45),_0x2781d6['click']();}function exportTableAsImage(_0x1f15a0,_0x16c862){const _0x48a05b=_0x49918e,_0x3cded6=document[_0x48a05b(0x7db)](_0x1f15a0);if(!_0x3cded6){showMessage(_0x48a05b(0x93b));return;}showMessage(_0x48a05b(0x89c)),html2canvas(_0x3cded6)[_0x48a05b(0x665)](_0x4e9d88=>{const _0x4e10f2=_0x48a05b,_0x4a5b93=document[_0x4e10f2(0x989)]('a');_0x4a5b93[_0x4e10f2(0x567)]=_0x16c862+_0x4e10f2(0x7d4),_0x4a5b93[_0x4e10f2(0x3a0)]=_0x4e9d88[_0x4e10f2(0x4c7)]('image/png'),_0x4a5b93[_0x4e10f2(0x32d)](),messageModal['classList'][_0x4e10f2(0x36a)](_0x4e10f2(0x997));});}function exportTableAsPDF(_0x5f4aeb,_0x12447b){const _0x4ae1fc=_0x49918e,{jsPDF:_0x5eabe6}=window['jspdf'],_0x525c17=new _0x5eabe6();_0x525c17['setFont'](_0x4ae1fc(0xb14),_0x4ae1fc(0x39e)),_0x525c17[_0x4ae1fc(0xa63)]({'html':'#'+_0x5f4aeb}),_0x525c17[_0x4ae1fc(0x9ab)](_0x12447b+'.pdf');}function exportTableAsWord(_0x2cd028,_0x2878d1){const _0x418015=_0x49918e,_0x10806c=document['getElementById'](_0x2cd028);if(!_0x10806c){showMessage(_0x418015(0x93b));return;}const _0x441db3=_0x418015(0xa1b)+_0x418015(0x4f4)+_0x418015(0xa29)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0xea4e0b=_0x418015(0x4b0),_0x43903d=_0x441db3+_0x10806c[_0x418015(0x848)]+_0xea4e0b,_0x2b4251=_0x418015(0x794)+encodeURIComponent(_0x43903d),_0x12c722=document['createElement']('a');document[_0x418015(0x43d)]['appendChild'](_0x12c722),_0x12c722[_0x418015(0x3a0)]=_0x2b4251,_0x12c722[_0x418015(0x567)]=_0x2878d1+_0x418015(0x79e),_0x12c722[_0x418015(0x32d)](),document[_0x418015(0x43d)][_0x418015(0x717)](_0x12c722);}function exportTableAsExcel(_0x3e40e1,_0x4d2294){const _0xbb4ec5=_0x49918e,_0x1ecb65=document[_0xbb4ec5(0x7db)](_0x3e40e1);if(!_0x1ecb65){showMessage(_0xbb4ec5(0x93b));return;}let _0x3a6a36=[];for(let _0x3e81da=0x0;_0x3e81da<_0x1ecb65[_0xbb4ec5(0x6ca)][_0xbb4ec5(0xaed)];_0x3e81da++){let _0x1761de=[],_0xc046e7=_0x1ecb65[_0xbb4ec5(0x6ca)][_0x3e81da]['querySelectorAll'](_0xbb4ec5(0x39d));for(let _0xe1e0e6=0x0;_0xe1e0e6<_0xc046e7[_0xbb4ec5(0xaed)];_0xe1e0e6++){_0x1761de['push']('\x22'+_0xc046e7[_0xe1e0e6][_0xbb4ec5(0x6c0)][_0xbb4ec5(0xc09)](/"/g,'\x22\x22')+'\x22');}_0x3a6a36[_0xbb4ec5(0x9f3)](_0x1761de[_0xbb4ec5(0x7b8)](','));}const _0x523d41=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3a6a36[_0xbb4ec5(0x7b8)]('\x0a')],{'type':_0xbb4ec5(0x8b1)}),_0x3197f3=document[_0xbb4ec5(0x989)]('a');_0x3197f3['href']=URL[_0xbb4ec5(0x536)](_0x523d41),_0x3197f3[_0xbb4ec5(0x567)]=_0x4d2294+_0xbb4ec5(0xa45),_0x3197f3[_0xbb4ec5(0x32d)]();}function renderAnalytics(_0x295298,_0x33c97c){const _0x4ad4ac=_0x49918e,_0x525bff=_0x33c97c[_0x4ad4ac(0xbf0)](_0x22cd0c=>_0x22cd0c['latestScore']!==undefined),_0x57ec23=currentProjectData['students'][_0x4ad4ac(0xaed)],_0x1f4995=_0x525bff[_0x4ad4ac(0xaed)],_0x2c1488=_0x57ec23-_0x1f4995,_0x54d35f=_0x57ec23>0x0?_0x1f4995/_0x57ec23*0x64:0x0,_0xbd913b=_0x525bff[_0x4ad4ac(0x251)](_0x621509=>_0x621509[_0x4ad4ac(0x7af)]),_0x44c57a=_0xbd913b['length']>0x0?_0xbd913b['reduce']((_0x4bdebe,_0x116cbc)=>_0x4bdebe+_0x116cbc,0x0)/_0xbd913b[_0x4ad4ac(0xaed)]:0x0,_0xe1c193=_0x295298[_0x4ad4ac(0x29f)][_0x4ad4ac(0xaed)],_0x353cb8=_0xe1c193>0x0?_0x44c57a/_0xe1c193*0x64:0x0,_0x2220e6=calculateItemAnalysis(_0x295298,_0x525bff),_0x1454d9=calculateReliabilityKR20(_0x295298,_0x525bff,_0x2220e6[_0x4ad4ac(0x5b3)]);let _0x237c42='';if(_0x1454d9!==null){let _0x37f5f1='';if(_0x1454d9>=0.9)_0x37f5f1=_0x4ad4ac(0x66f);else{if(_0x1454d9>=0.8)_0x37f5f1='ดีมาก';else{if(_0x1454d9>=0.7)_0x37f5f1='ดี';else{if(_0x1454d9>=0.6)_0x37f5f1=_0x4ad4ac(0x336);else _0x37f5f1=_0x4ad4ac(0x5a9);}}}_0x237c42=_0x4ad4ac(0x609)+_0x1454d9[_0x4ad4ac(0x486)](0x2)+_0x4ad4ac(0x4ed)+_0x37f5f1+_0x4ad4ac(0xbcc);}const _0x57a446=document[_0x4ad4ac(0x7db)]('analytics-summary-cards');_0x57a446['innerHTML']=_0x4ad4ac(0x370)+_0x54d35f[_0x4ad4ac(0x486)](0x0)+_0x4ad4ac(0x98f)+_0x1f4995+'/'+_0x57ec23+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x44c57a[_0x4ad4ac(0x486)](0x2)+_0x4ad4ac(0xbd8)+_0x353cb8['toFixed'](0x0)+_0x4ad4ac(0x9fa)+(_0xbd913b[_0x4ad4ac(0xaed)]>0x0?Math[_0x4ad4ac(0x50b)](..._0xbd913b):_0x4ad4ac(0x612))+_0x4ad4ac(0x3ce)+(_0xbd913b['length']>0x0?Math[_0x4ad4ac(0x64d)](..._0xbd913b):'N/A')+_0x4ad4ac(0x6a0)+_0x237c42+_0x4ad4ac(0x7b3);const _0x5a4ecd=document[_0x4ad4ac(0x7db)](_0x4ad4ac(0xa39));_0x5a4ecd&&_0x5a4ecd[_0x4ad4ac(0x428)]();const _0x4675e8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x57a446[_0x4ad4ac(0xa21)]('afterend',_0x4675e8);const _0x1605ce=currentProjectData[_0x4ad4ac(0xc14)]||[];renderSubmissionChart(_0x1f4995,_0x2c1488,_0x525bff,_0x1605ce),renderScoreDistributionChart(_0x525bff,_0xe1c193),renderQuestionAnalytics(_0x295298,_0x525bff,_0x1605ce),renderInterestingStats(_0x295298,_0x525bff);}async function handleExportLessonPDF(){const _0x1cb477=_0x49918e,_0x3f4740=document[_0x1cb477(0x7db)](_0x1cb477(0x892)),_0x14ed7e=document[_0x1cb477(0x7db)](_0x1cb477(0x2a3))[_0x1cb477(0x467)],_0x1822e0=window['open']('',_0x1cb477(0x724)),_0x368464=_0x1cb477(0x8b4)+_0x14ed7e+_0x1cb477(0xb95)+_0x3f4740[_0x1cb477(0x848)]+_0x1cb477(0x4ef);_0x1822e0[_0x1cb477(0x83c)][_0x1cb477(0xa42)](_0x368464),_0x1822e0[_0x1cb477(0x83c)][_0x1cb477(0xb86)](),_0x1822e0[_0x1cb477(0x6cb)]=function(){setTimeout(()=>{const _0x3daacf=_0x2d54;_0x1822e0[_0x3daacf(0xa2a)]();},0x5dc);};}function renderInterestingStats(_0xe47cc4,_0x4e57a5){const _0xee3cf0=_0x49918e,_0xa29db2=document[_0xee3cf0(0x7db)](_0xee3cf0(0x3ef));if(!_0xa29db2)return;if(_0x4e57a5[_0xee3cf0(0xaed)]===0x0){_0xa29db2[_0xee3cf0(0x848)]=_0xee3cf0(0x224);return;}const _0x492d42=_0xe47cc4[_0xee3cf0(0x29f)][_0xee3cf0(0x251)]((_0x3fa39c,_0xa2a3fd)=>({'index':_0xa2a3fd+0x1,'text':_0x3fa39c['questionText']||_0x3fa39c[_0xee3cf0(0xc08)],'correct':0x0}));_0x4e57a5[_0xee3cf0(0x4ec)](_0x2873b1=>{const _0x29ce3c=_0xee3cf0,_0x41dcb4=_0x2873b1['attempts'][_0x2873b1['attempts'][_0x29ce3c(0xaed)]-0x1];_0x41dcb4&&_0x41dcb4['answers']&&_0x41dcb4[_0x29ce3c(0x957)][_0x29ce3c(0x4ec)](_0x4b1f38=>{const _0x1457f5=_0x29ce3c,_0x51c85a=_0x492d42[_0x1457f5(0xa19)](_0x29eb1c=>_0x29eb1c['text']===_0x4b1f38['originalQuestionText']);_0x4b1f38[_0x1457f5(0xb34)]&&_0x51c85a&&_0x51c85a[_0x1457f5(0x72b)]++;});});const _0x192db6=_0x4e57a5[_0xee3cf0(0xaed)],_0x4a6a84=Math[_0xee3cf0(0x50b)](..._0x492d42[_0xee3cf0(0x251)](_0x4aa53a=>_0x4aa53a[_0xee3cf0(0x72b)])),_0x86d140=Math[_0xee3cf0(0x64d)](..._0x492d42[_0xee3cf0(0x251)](_0x374931=>_0x374931['correct'])),_0x11e7f3=_0x492d42[_0xee3cf0(0xbf0)](_0x1ae019=>_0x1ae019[_0xee3cf0(0x72b)]===_0x4a6a84)[_0xee3cf0(0x251)](_0x3adfda=>_0xee3cf0(0x51a)+_0x3adfda[_0xee3cf0(0x9bd)]),_0x503432=_0x492d42[_0xee3cf0(0xbf0)](_0x387a9d=>_0x387a9d['correct']===_0x86d140)[_0xee3cf0(0x251)](_0x34dc78=>'ข้อ\x20'+_0x34dc78[_0xee3cf0(0x9bd)]),_0x53db72=_0x4e57a5[_0xee3cf0(0x236)]((_0x20e9b8,_0x40b352)=>_0x40b352[_0xee3cf0(0x7af)]-_0x20e9b8[_0xee3cf0(0x7af)])[_0xee3cf0(0xbf0)]((_0x233064,_0x222408,_0x2e9057)=>_0x233064[_0xee3cf0(0x7af)]===_0x2e9057[0x0]['latestScore']),_0x144d69=_0x4e57a5['sort']((_0x3f27bd,_0x298099)=>_0x3f27bd[_0xee3cf0(0x7af)]-_0x298099[_0xee3cf0(0x7af)])['filter']((_0xd383f7,_0x5e54cb,_0x6c923c)=>_0xd383f7[_0xee3cf0(0x7af)]===_0x6c923c[0x0][_0xee3cf0(0x7af)]),_0x14a1ef=_0xee3cf0(0x23e)+_0x11e7f3[_0xee3cf0(0x7b8)](',\x20')+_0xee3cf0(0x2c7)+_0x4a6a84+_0xee3cf0(0x814)+_0x192db6+_0xee3cf0(0xb2c)+_0x503432['join'](',\x20')+_0xee3cf0(0x2c7)+(_0x192db6-_0x86d140)+_0xee3cf0(0x814)+_0x192db6+_0xee3cf0(0x850)+_0x53db72[_0xee3cf0(0x251)](_0x52cb4d=>_0x52cb4d[_0xee3cf0(0xa50)])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x53db72[0x0][_0xee3cf0(0x7af)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x144d69[_0xee3cf0(0x251)](_0x10acf5=>_0x10acf5['studentName'])[_0xee3cf0(0x7b8)](',\x20')+_0xee3cf0(0xbf5)+_0x144d69[0x0][_0xee3cf0(0x7af)]+_0xee3cf0(0x712);_0xa29db2['innerHTML']=_0x14a1ef;}function renderSubmissionChart(_0xc4dc39,_0x5ea002,_0xf37e8f,_0x1708b1){const _0x1db274=_0x49918e,_0x4940e2=document[_0x1db274(0x7db)]('submission-status-chart')[_0x1db274(0x98c)]('2d'),_0x4e9d3c=_0xf37e8f['map'](_0x505085=>_0x505085['studentName']),_0x187b7f=_0x1708b1['filter'](_0x1dc43a=>!_0x4e9d3c[_0x1db274(0x229)](_0x1dc43a));chartInstances[_0x1db274(0x487)]&&chartInstances[_0x1db274(0x487)]['destroy'](),chartInstances[_0x1db274(0x487)]=new Chart(_0x4940e2,{'type':_0x1db274(0x580),'data':{'labels':[_0x1db274(0x9e3),_0x1db274(0x4ac)],'datasets':[{'data':[_0xc4dc39,_0x5ea002],'backgroundColor':[_0x1db274(0x329),'#F59E0B'],'borderColor':[_0x1db274(0x996),_0x1db274(0x996)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x461d97){const _0x18eaf6=_0x1db274;let _0x28e747=_0x461d97[_0x18eaf6(0x929)]||'';return _0x28e747&&(_0x28e747+=':\x20'),_0x28e747+=_0x461d97['raw'],_0x28e747;},'afterLabel':function(_0xca110d){const _0x457d65=_0x1db274;let _0x4d0ceb;return _0xca110d[_0x457d65(0x34e)]===0x0?_0x4d0ceb=_0x4e9d3c:_0x4d0ceb=_0x187b7f,_0x4d0ceb[_0x457d65(0xaed)]>0x0?_0x4d0ceb[_0x457d65(0x7b8)]('\x0a'):_0x457d65(0xa09);}}}}}});}function renderScoreDistributionChart(_0x52f3d1,_0x1f8b22){const _0x1e65d8=_0x49918e,_0x184f8f=document[_0x1e65d8(0x7db)](_0x1e65d8(0xa56))[_0x1e65d8(0x98c)]('2d'),_0x2d1ecd={};for(let _0x597079=0x0;_0x597079<=_0x1f8b22;_0x597079++){_0x2d1ecd[_0x597079]=0x0;}_0x52f3d1[_0x1e65d8(0x4ec)](_0x108ae1=>{const _0xd4d9cf=_0x1e65d8;_0x2d1ecd[_0x108ae1['latestScore']]!==undefined&&_0x2d1ecd[_0x108ae1[_0xd4d9cf(0x7af)]]++;}),chartInstances[_0x1e65d8(0x967)]&&chartInstances[_0x1e65d8(0x967)]['destroy'](),chartInstances['score']=new Chart(_0x184f8f,{'type':_0x1e65d8(0x1e4),'data':{'labels':Object[_0x1e65d8(0x450)](_0x2d1ecd),'datasets':[{'label':_0x1e65d8(0x634),'data':Object[_0x1e65d8(0xbca)](_0x2d1ecd),'backgroundColor':_0x1e65d8(0xb72),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x1e65d8(0xba7)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x14407){const _0x4af339=_0x1e65d8,_0x23946f=_0x14407[_0x4af339(0x929)],_0x346b40=_0x52f3d1[_0x4af339(0xbf0)](_0x4ed3b7=>_0x4ed3b7['latestScore']==_0x23946f)[_0x4af339(0x251)](_0x11b870=>_0x11b870[_0x4af339(0xa50)]);return _0x346b40[_0x4af339(0xaed)]>0x0?_0x346b40[_0x4af339(0x7b8)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x521c0f,_0x1c6a9c,_0x4b5a03){const _0x35f699=_0x49918e,_0xc3cd92=document[_0x35f699(0x7db)](_0x35f699(0x3ff));if(_0x4b5a03[_0x35f699(0xaed)]===0x0){_0xc3cd92['innerHTML']=_0x35f699(0x243);return;}const _0x3aa6b1=calculateItemAnalysis(_0x521c0f,_0x1c6a9c),_0x2b113e=calculateDistractorAnalysis(_0x521c0f,_0x1c6a9c);let _0x54e61d='';_0x3aa6b1[_0x35f699(0x8d2)]&&(_0x54e61d=_0x35f699(0xa16)+_0x3aa6b1['overallGroups'][_0x35f699(0x84f)][_0x35f699(0xaed)]+_0x35f699(0x403)+_0x3aa6b1[_0x35f699(0x8d2)][_0x35f699(0x84f)]['map'](_0x5a488e=>_0x35f699(0x2cf)+_0x5a488e+_0x35f699(0x751))[_0x35f699(0x7b8)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x3aa6b1[_0x35f699(0x8d2)][_0x35f699(0xa67)][_0x35f699(0xaed)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3aa6b1[_0x35f699(0x8d2)][_0x35f699(0xa67)]['map'](_0x29bbfd=>'<li>'+_0x29bbfd+_0x35f699(0x751))[_0x35f699(0x7b8)]('')+_0x35f699(0x34a));let _0x12a63e='';const _0xa8cc44=_0x1c6a9c['map'](_0x3a76f6=>_0x3a76f6[_0x35f699(0xa50)]),_0x24eb74=_0x89b5a8=>{const _0x4481c6=_0x35f699;if(_0x89b5a8>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x89b5a8>=0.6)return _0x4481c6(0x787);if(_0x89b5a8>=0.4)return _0x4481c6(0xad7);if(_0x89b5a8>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x4481c6(0x924);},_0x2f1088=_0x8b2304=>{const _0x136141=_0x35f699;if(_0x8b2304<0x0)return _0x136141(0xb42);if(_0x8b2304>=0.4)return _0x136141(0x2da);if(_0x8b2304>=0.3)return _0x136141(0x97e);if(_0x8b2304>=0.2)return _0x136141(0x577);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x118fb1=_0x2b2368=>{const _0x7fe2ca=_0x35f699,_0x504946=_0x2b2368[_0x7fe2ca(0x486)](0x0);if(parseFloat(_0x504946)===0x64)return _0x7fe2ca(0x943)+_0x504946+_0x7fe2ca(0xb6b);if(_0x2b2368>=0x32)return _0x7fe2ca(0xab6)+_0x504946+_0x7fe2ca(0xb6b);return _0x7fe2ca(0x39a)+_0x504946+_0x7fe2ca(0xb6b);};_0x521c0f[_0x35f699(0x29f)][_0x35f699(0x4ec)]((_0x8702b2,_0x1acebc)=>{const _0x4c9e86=_0x35f699,_0x2e4239=_0x3aa6b1[_0x4c9e86(0x5b3)][_0x1acebc],_0x1f3178=_0x2b113e[_0x1acebc],_0x58787c=_0x8702b2[_0x4c9e86(0xc08)]||_0x8702b2[_0x4c9e86(0xa04)]||_0x8702b2[_0x4c9e86(0x337)];let _0x39f3f2=0x0;const _0x482721=[],_0x5a2665=[];_0x1c6a9c[_0x4c9e86(0x4ec)](_0x10081a=>{const _0x4291e4=_0x4c9e86,_0xa539ee=_0x10081a[_0x4291e4(0x423)][_0x10081a[_0x4291e4(0x423)][_0x4291e4(0xaed)]-0x1];if(_0xa539ee&&_0xa539ee[_0x4291e4(0x957)]){const _0x46d6b2=_0xa539ee[_0x4291e4(0x957)][_0x4291e4(0xa19)](_0x17cb0=>_0x17cb0['originalQuestionText']===_0x58787c)??_0xa539ee[_0x4291e4(0x957)][_0x1acebc]??null;_0x46d6b2&&(_0x46d6b2[_0x4291e4(0xb34)]?(_0x39f3f2++,_0x482721[_0x4291e4(0x9f3)](_0x10081a['studentName'])):_0x5a2665[_0x4291e4(0x9f3)](_0x10081a['studentName']));}});const _0x460e25=_0x1c6a9c[_0x4c9e86(0xaed)]>0x0?_0x39f3f2/_0x1c6a9c[_0x4c9e86(0xaed)]*0x64:0x0,_0x35b807=_0x4b5a03[_0x4c9e86(0xbf0)](_0x5e7c4f=>!_0xa8cc44[_0x4c9e86(0x229)](_0x5e7c4f)),_0x3cf051=_0x2e4239?_0x4c9e86(0x8d9)+_0x2e4239['p'][_0x4c9e86(0x486)](0x2)+_0x4c9e86(0x670)+_0x24eb74(_0x2e4239['p'])+_0x4c9e86(0x5fe)+_0x2e4239['r'][_0x4c9e86(0x486)](0x2)+_0x4c9e86(0x670)+_0x2f1088(_0x2e4239['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x118fb1(_0x460e25)+_0x4c9e86(0x21a):'';let _0x2bca23='';_0x1f3178&&(_0x2bca23=_0x4c9e86(0x6a6)+Object[_0x4c9e86(0x450)](_0x1f3178)[_0x4c9e86(0x251)](_0x1ca725=>{const _0x6ffb44=_0x4c9e86,_0x172cd8=_0x1f3178[_0x1ca725],_0x46cf1d=parseInt(_0x1ca725)===_0x8702b2['correctAnswerIndex'],_0x40670a=!_0x46cf1d&&_0x172cd8[_0x6ffb44(0x63b)]>_0x172cd8['upper_group_count'];return'<tr\x20class=\x22'+(_0x46cf1d?'bg-green-100\x20font-bold':'')+_0x6ffb44(0x875)+(_0x46cf1d?'✔\x20':'')+_0x172cd8[_0x6ffb44(0xada)]+_0x6ffb44(0xa94)+_0x172cd8[_0x6ffb44(0xa55)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x172cd8[_0x6ffb44(0x63b)]+'\x20'+(_0x40670a?'👍':'')+_0x6ffb44(0xa94)+_0x172cd8[_0x6ffb44(0x776)]+_0x6ffb44(0x834);})['join']('')+_0x4c9e86(0xb5c));let _0x1f9045='';_0x2e4239&&_0x2e4239[_0x4c9e86(0x424)]&&(_0x1f9045=_0x4c9e86(0x615)+_0x2e4239[_0x4c9e86(0x424)][_0x4c9e86(0xaed)]+_0x4c9e86(0x2d0)+_0x2e4239[_0x4c9e86(0x424)][_0x4c9e86(0x251)](_0x18a928=>_0x4c9e86(0x2cf)+(_0x18a928[_0x4c9e86(0xb34)]?_0x4c9e86(0x270):_0x4c9e86(0x1f6))+'\x20'+_0x18a928[_0x4c9e86(0x447)]+_0x4c9e86(0x751))[_0x4c9e86(0x7b8)]('')+_0x4c9e86(0x8ae)+_0x2e4239[_0x4c9e86(0x21e)][_0x4c9e86(0xaed)]+_0x4c9e86(0x2d0)+_0x2e4239[_0x4c9e86(0x21e)][_0x4c9e86(0x251)](_0x3a4e82=>_0x4c9e86(0x2cf)+(_0x3a4e82[_0x4c9e86(0xb34)]?_0x4c9e86(0x270):_0x4c9e86(0x1f6))+'\x20'+_0x3a4e82[_0x4c9e86(0x447)]+'</li>')[_0x4c9e86(0x7b8)]('')+_0x4c9e86(0x3e3)),_0x12a63e+=_0x4c9e86(0x43f)+(_0x1acebc+0x1)+':\x20'+_0x58787c+_0x4c9e86(0x95d)+_0x3cf051+_0x4c9e86(0x63a)+_0x58787c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x39f3f2+_0x4c9e86(0x1f0)+_0x1c6a9c[_0x4c9e86(0xaed)]+_0x4c9e86(0x300)+_0x460e25[_0x4c9e86(0x486)](0x0)+_0x4c9e86(0x58b)+_0x482721[_0x4c9e86(0xaed)]+_0x4c9e86(0x2b9)+(_0x482721[_0x4c9e86(0xaed)]>0x0?_0x482721['join'](',\x20'):_0x4c9e86(0xa09))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x5a2665[_0x4c9e86(0xaed)]+_0x4c9e86(0x2b9)+(_0x5a2665['length']>0x0?_0x5a2665[_0x4c9e86(0x7b8)](',\x20'):_0x4c9e86(0xa09))+_0x4c9e86(0x5ca)+_0x35b807[_0x4c9e86(0xaed)]+_0x4c9e86(0x2b9)+(_0x35b807[_0x4c9e86(0xaed)]>0x0?_0x35b807[_0x4c9e86(0x7b8)](',\x20'):_0x4c9e86(0xa09))+_0x4c9e86(0x327)+_0x2bca23+_0x4c9e86(0x8cb)+_0x1f9045+_0x4c9e86(0x3d9);}),_0xc3cd92[_0x35f699(0x848)]=_0x54e61d+_0x12a63e;try{window[_0x35f699(0xaca)]&&MathJax['typesetPromise']&&MathJax[_0x35f699(0x26d)]([_0xc3cd92]);}catch(_0x1aa59f){console['error']('MathJax\x20typeset\x20error\x20(analytics):',_0x1aa59f);}}function calculateDistractorAnalysis(_0x3740d8,_0x18a555){const _0x26a8a1=_0x49918e,_0x1abbed={};if(_0x18a555[_0x26a8a1(0xaed)]<0x2)return _0x1abbed;const _0x373346=[..._0x18a555]['sort']((_0xcd041d,_0x2fa5ea)=>{const _0x56cac3=_0x26a8a1,_0x582cea=_0x2fa5ea[_0x56cac3(0x7af)]-_0xcd041d['latestScore'];if(_0x582cea!==0x0)return _0x582cea;const _0x3bec78=_0xcd041d[_0x56cac3(0x423)]?.[_0x56cac3(0xaed)]||0x1,_0x30bb26=_0x2fa5ea['attempts']?.[_0x56cac3(0xaed)]||0x1,_0x4e1087=_0x3bec78-_0x30bb26;if(_0x4e1087!==0x0)return _0x4e1087;const _0x1650f3=new Date(_0xcd041d[_0x56cac3(0x99c)]),_0x315c88=new Date(_0x2fa5ea[_0x56cac3(0x99c)]),_0x5e9696=_0x1650f3-_0x315c88;if(_0x5e9696!==0x0)return _0x5e9696;return _0xcd041d[_0x56cac3(0xa50)][_0x56cac3(0x90f)](_0x2fa5ea['studentName'],'th');}),_0x315af0=_0x373346[_0x26a8a1(0xaed)],_0x30d37f=Math[_0x26a8a1(0x50b)](0x1,Math[_0x26a8a1(0x356)](_0x315af0*0.33)),_0x4236d9=_0x373346['slice'](0x0,_0x30d37f),_0x1043ea=_0x373346['slice'](-_0x30d37f);return _0x3740d8[_0x26a8a1(0x29f)][_0x26a8a1(0x4ec)]((_0x547af3,_0x352a8f)=>{const _0x217790=_0x26a8a1;if(_0x547af3['questionType']!==_0x217790(0x286)||!_0x547af3[_0x217790(0xa27)])return;const _0x46a8d9=_0x547af3[_0x217790(0xa04)],_0xbe3b10={};_0x547af3[_0x217790(0xa27)][_0x217790(0x4ec)]((_0x942617,_0x4f211c)=>{_0xbe3b10[_0x4f211c]={'text':_0x942617,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x373346[_0x217790(0x4ec)](_0x5de91a=>{const _0x4fe880=_0x217790,_0x540246=_0x5de91a[_0x4fe880(0x423)][_0x5de91a[_0x4fe880(0x423)]['length']-0x1],_0x3192c3=_0x540246[_0x4fe880(0x957)][_0x4fe880(0xa19)](_0x555185=>_0x555185[_0x4fe880(0xbb6)]===_0x46a8d9);if(_0x3192c3&&_0x3192c3['answer']!==null){const _0x1afe5e=_0x547af3[_0x4fe880(0xa27)][_0x4fe880(0x2d8)](_0x600fa8=>_0x600fa8===_0x3192c3[_0x4fe880(0x4fe)]);_0x1afe5e!==-0x1&&_0xbe3b10[_0x1afe5e]&&(_0xbe3b10[_0x1afe5e][_0x4fe880(0x776)]++,_0x4236d9[_0x4fe880(0x229)](_0x5de91a)&&_0xbe3b10[_0x1afe5e]['upper_group_count']++,_0x1043ea['includes'](_0x5de91a)&&_0xbe3b10[_0x1afe5e][_0x4fe880(0x63b)]++);}}),_0x1abbed[_0x352a8f]=_0xbe3b10;}),_0x1abbed;}function calculateReliabilityKR20(_0x1c4df6,_0x35bbe8,_0x5c3343){const _0x1f1d22=_0x49918e,_0x2da2ba=_0x1c4df6['questions'][_0x1f1d22(0xaed)];if(_0x2da2ba<0x2||_0x35bbe8['length']<0x2)return null;const _0x45752f=_0x35bbe8[_0x1f1d22(0x251)](_0x336ddc=>_0x336ddc[_0x1f1d22(0x7af)]),_0x4c5b01=_0x45752f[_0x1f1d22(0xb5d)]((_0x11da95,_0x240e24)=>_0x11da95+_0x240e24,0x0)/_0x45752f[_0x1f1d22(0xaed)],_0x2de54b=_0x45752f[_0x1f1d22(0x251)](_0x4eeec6=>Math[_0x1f1d22(0x433)](_0x4eeec6-_0x4c5b01,0x2))[_0x1f1d22(0xb5d)]((_0x5b9138,_0x29aa91)=>_0x5b9138+_0x29aa91,0x0)/_0x45752f[_0x1f1d22(0xaed)];if(_0x2de54b===0x0)return null;let _0x320830=0x0;for(let _0x3e38ba=0x0;_0x3e38ba<_0x2da2ba;_0x3e38ba++){const _0x1c1274=_0x5c3343[_0x3e38ba]?.['p'];if(_0x1c1274===undefined)continue;const _0x3b7f01=0x1-_0x1c1274;_0x320830+=_0x1c1274*_0x3b7f01;}if(_0x320830===0x0)return null;const _0xf795c3=_0x2da2ba/(_0x2da2ba-0x1)*(0x1-_0x320830/_0x2de54b);if(_0xf795c3>0x1)return null;return _0xf795c3;}async function handleAnalyzeClass(){const _0x4bd88c=_0x49918e;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x4bd88c(0xa9c));return;}const _0x5e985e=collection(db,_0x4bd88c(0x878)+appId+_0x4bd88c(0x350)+currentQuizData['id']+'/submissions'),_0x11a92d=await getDocs(_0x5e985e),_0x1b6ee3=_0x11a92d['docs']['map'](_0x5dd535=>_0x5dd535[_0x4bd88c(0x999)]());if(_0x1b6ee3['length']<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x595e15=document[_0x4bd88c(0x7db)](_0x4bd88c(0x980));_0x595e15[_0x4bd88c(0x848)]=_0x4bd88c(0x5c0),document[_0x4bd88c(0x7db)](_0x4bd88c(0x332))[_0x4bd88c(0x534)]=!![];const _0x52413e=_0x1b6ee3['map']((_0x365c6b,_0x2a50b2)=>{const _0xe51942=_0x4bd88c,_0x50d5f2=_0x365c6b['attempts'][_0x365c6b[_0xe51942(0x423)][_0xe51942(0xaed)]-0x1];if(!_0x50d5f2)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x2a50b2+0x1)+'\x20('+_0x365c6b[_0xe51942(0xa50)]+_0xe51942(0x59a)+_0x50d5f2['score']+'/'+_0x365c6b[_0xe51942(0x5be)]+_0xe51942(0xbf1)+JSON[_0xe51942(0x362)](_0x50d5f2['answers'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4bd88c(0x7b8)]('\x0a---\x0a'),_0x1cad62=_0x4bd88c(0xb15)+currentQuizData['topic']+_0x4bd88c(0x5b6)+JSON[_0x4bd88c(0x362)](currentQuizData['questions'])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52413e+_0x4bd88c(0x493),_0xa8d82b={'type':_0x4bd88c(0x7eb),'properties':{'classStrengths':{'type':_0x4bd88c(0x315),'items':{'type':_0x4bd88c(0x3ec)}},'classWeaknesses':{'type':_0x4bd88c(0x315),'items':{'type':_0x4bd88c(0x3ec)}},'teacherSuggestions':{'type':_0x4bd88c(0x315),'items':{'type':'STRING'}}},'required':[_0x4bd88c(0x92c),'classWeaknesses',_0x4bd88c(0x8c3)]};try{const _0x15dc2b=await callAnalysisApi(_0x1cad62,_0xa8d82b);displayClassAnalysis(_0x15dc2b);}catch(_0x278f97){console['error'](_0x4bd88c(0x873),_0x278f97),_0x595e15[_0x4bd88c(0x848)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x278f97[_0x4bd88c(0x927)]+_0x4bd88c(0x5d8);}finally{document[_0x4bd88c(0x7db)](_0x4bd88c(0x332))[_0x4bd88c(0x534)]=![];}}function displayClassAnalysis(_0x3d35b9){const _0x113eb7=_0x49918e,_0x471262=document[_0x113eb7(0x7db)]('strength-weakness-analysis-container');if(!_0x3d35b9){_0x471262[_0x113eb7(0x848)]=_0x113eb7(0x419);return;}_0x471262[_0x113eb7(0x848)]=_0x113eb7(0x41c)+_0x3d35b9[_0x113eb7(0x92c)][_0x113eb7(0x251)](_0x4dbae7=>_0x113eb7(0x2cf)+_0x4dbae7+'</li>')[_0x113eb7(0x7b8)]('')+_0x113eb7(0x3fe)+_0x3d35b9['classWeaknesses'][_0x113eb7(0x251)](_0x32719f=>_0x113eb7(0x2cf)+_0x32719f+_0x113eb7(0x751))[_0x113eb7(0x7b8)]('')+_0x113eb7(0x685)+_0x3d35b9[_0x113eb7(0x8c3)][_0x113eb7(0x251)](_0x3e1af3=>_0x113eb7(0x2cf)+_0x3e1af3+'</li>')['join']('')+_0x113eb7(0x45b);}function formatAndPrintWorksheet(_0x3bbbf6,_0x4ec798){const _0x10cb87=_0x49918e,_0x2d5049=_0x10cb87(0x451)+_0x3bbbf6[_0x10cb87(0x818)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x3bbbf6[_0x10cb87(0x818)]+_0x10cb87(0x551)+_0x3bbbf6[_0x10cb87(0x29f)]['map']((_0x231e5b,_0x53956c)=>_0x10cb87(0x6c2)+(_0x53956c+0x1)+'.\x20'+_0x231e5b[_0x10cb87(0xa04)]+_0x10cb87(0x3ca)+(_0x231e5b[_0x10cb87(0x71a)]?_0x10cb87(0x88b)+_0x231e5b['imageCode']+_0x10cb87(0x640):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x10cb87(0x7b8)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4ec798['document'][_0x10cb87(0xa42)](_0x2d5049),_0x4ec798[_0x10cb87(0x83c)][_0x10cb87(0xb86)](),_0x4ec798[_0x10cb87(0x6cb)]=function(){setTimeout(()=>{const _0x20e219=_0x2d54;_0x4ec798[_0x20e219(0xa2a)]();},0x3e8);};}async function generateWorksheet(){const _0x5f1805=_0x49918e,_0x4bf105=document[_0x5f1805(0x7db)](_0x5f1805(0xad5))[_0x5f1805(0x947)][_0x5f1805(0x564)]();if(!_0x4bf105){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x134ea2=document['getElementById'](_0x5f1805(0x35c))[_0x5f1805(0xaf2)],_0xf8f01b=_0x134ea2?'':_0x5f1805(0x753),_0x200667=window['open']('',_0x5f1805(0x724));_0x200667[_0x5f1805(0x83c)][_0x5f1805(0xa42)]('<h1></h1>');const _0x574d10=parseInt(document['getElementById'](_0x5f1805(0x443))['value']),_0x16db96=document['getElementById'](_0x5f1805(0x265))[_0x5f1805(0xaf2)],_0x4561f0=_0x16db96?_0x5f1805(0xa0e):'',_0x495808=_0x5f1805(0x68f)+_0xf8f01b+_0x5f1805(0xa47)+_0x574d10+_0x5f1805(0x8b5)+_0x4bf105+_0x5f1805(0x648)+_0x4561f0+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x1118bb={'type':'OBJECT','properties':{'topic':{'type':_0x5f1805(0x3ec)},'questions':{'type':'ARRAY','items':{'type':_0x5f1805(0x7eb),'properties':{'questionText':{'type':_0x5f1805(0x3ec)},'imageCode':{'type':_0x5f1805(0x3ec)}},'required':[_0x5f1805(0xa04)]}}},'required':[_0x5f1805(0x818),_0x5f1805(0x29f)]};document[_0x5f1805(0x7db)](_0x5f1805(0xb7f))[_0x5f1805(0x467)]='',document['getElementById'](_0x5f1805(0x401))['classList'][_0x5f1805(0x428)](_0x5f1805(0x997)),document['getElementById'](_0x5f1805(0x32b))['classList']['remove'](_0x5f1805(0x997)),generateWorksheetBtn[_0x5f1805(0x534)]=!![];try{const _0x2de89e=await callAnalysisApi(_0x495808,_0x1118bb);formatAndPrintWorksheet(_0x2de89e,_0x200667);}catch(_0x1789f0){console[_0x5f1805(0xb89)](_0x5f1805(0x7f5),_0x1789f0);if(_0x200667)_0x200667[_0x5f1805(0xb86)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x5f1805(0x7db)](_0x5f1805(0x401))[_0x5f1805(0x1fa)]['add'](_0x5f1805(0x997)),document[_0x5f1805(0x7db)](_0x5f1805(0x32b))[_0x5f1805(0x1fa)][_0x5f1805(0x36a)](_0x5f1805(0x997)),generateWorksheetBtn[_0x5f1805(0x534)]=![];}}async function callAnalysisApi(_0xd1a860,_0x578e73){const _0x15f7b6=_0x49918e,_0x515f80={'contents':[{'role':_0x15f7b6(0x2a4),'parts':[{'text':_0xd1a860}]}],'generationConfig':{'responseMimeType':_0x15f7b6(0x590),'responseSchema':_0x578e73}},_0x481f7d=_0x15f7b6(0xaae),_0x1dcb9d=_0x15f7b6(0x3d8)+_0x481f7d,_0x4611fc=await fetch(_0x1dcb9d,{'method':_0x15f7b6(0xb93),'headers':{'Content-Type':'application/json'},'body':JSON[_0x15f7b6(0x362)](_0x515f80)});if(!_0x4611fc['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x4611fc[_0x15f7b6(0xbc2)]);const _0x591e03=await _0x4611fc['json']();if(_0x591e03[_0x15f7b6(0x353)]?.[0x0]?.[_0x15f7b6(0x80c)]?.[_0x15f7b6(0x3c4)]?.[0x0])return JSON[_0x15f7b6(0x982)](_0x591e03[_0x15f7b6(0x353)][0x0]['content']['parts'][0x0][_0x15f7b6(0xada)]);else{let _0x10e1ef=_0x15f7b6(0x7e4);if(_0x591e03[_0x15f7b6(0x596)]?.['blockReason'])_0x10e1ef=_0x15f7b6(0x789)+_0x591e03[_0x15f7b6(0x596)][_0x15f7b6(0x3d0)]+'.';else _0x591e03[_0x15f7b6(0x353)]?.[0x0]?.['finishReason']&&_0x591e03[_0x15f7b6(0x353)][0x0][_0x15f7b6(0x51b)]!==_0x15f7b6(0xa6e)&&(_0x10e1ef=_0x15f7b6(0x7da)+_0x591e03[_0x15f7b6(0x353)][0x0][_0x15f7b6(0x51b)]+'.');console[_0x15f7b6(0xb89)](_0x10e1ef,JSON[_0x15f7b6(0x362)](_0x591e03));throw new Error(_0x10e1ef);}}async function handleStartSyncMode(_0x1f6c3e,_0x479630=![]){const _0x55d83c=_0x49918e,_0x57b74c=allQuizzes[_0x55d83c(0xa19)](_0x502de2=>_0x502de2['id']===_0x1f6c3e)||allQuizzesGlobal[_0x55d83c(0xa19)](_0x4a7a39=>_0x4a7a39['id']===_0x1f6c3e);if(!_0x57b74c){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x57b74c);const _0x3ea56f=Math[_0x55d83c(0x356)](0x3e8+Math[_0x55d83c(0x9df)]()*0x2328)[_0x55d83c(0x241)]();try{const _0x50ba2d=await addDoc(collection(db,_0x55d83c(0x878)+appId+_0x55d83c(0x881)),{'quizId':_0x57b74c['id'],'pin':_0x3ea56f,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x479630,'players':{}});currentLiveGameId=_0x50ba2d['id'],showView(_0x55d83c(0x477)),renderSyncLobbyView(_0x3ea56f,_0x57b74c[_0x55d83c(0x818)]),listenForSyncGameUpdates();}catch(_0x2d73d4){console[_0x55d83c(0xb89)](_0x55d83c(0x2bf),_0x2d73d4),showMessage(_0x55d83c(0xbfc));}}function calculateFinalPodiumScores(_0x20c966){const _0x279979=_0x49918e;if(!_0x20c966||!_0x20c966['shuffledQuiz']||!_0x20c966['players'])return _0x20c966[_0x279979(0x891)]||{};const _0x17c0f0=_0x20c966[_0x279979(0x4b3)][_0x279979(0x29f)][_0x279979(0xaed)],_0x1dcef9=JSON['parse'](JSON[_0x279979(0x362)](_0x20c966['players']));return Object[_0x279979(0xbca)](_0x1dcef9)[_0x279979(0x4ec)](_0x4d713c=>{const _0x4b6935=_0x279979,_0x3f891a=_0x4d713c['score'];let _0x5e6233=0x0;_0x20c966[_0x4b6935(0x98a)]&&_0x4d713c[_0x4b6935(0x957)]&&_0x4d713c[_0x4b6935(0x957)]['forEach'](_0x4b71a0=>{const _0x5284c4=_0x4b6935;if(_0x4b71a0['isCorrect']&&_0x4b71a0[_0x5284c4(0x882)])_0x5e6233+=0x1;else!_0x4b71a0[_0x5284c4(0xb34)]&&_0x4b71a0[_0x5284c4(0x882)]&&(_0x5e6233-=0x1);}),_0x4d713c['score']=_0x3f891a+_0x5e6233,_0x17c0f0>0x0&&_0x3f891a===_0x17c0f0&&(_0x4d713c[_0x4b6935(0x967)]+=0x1,_0x4d713c['hasPerfectScoreBonus']=!![]);}),_0x1dcef9;}function listenForSyncGameUpdates(){const _0x39cfaf=_0x49918e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x45e9ac=doc(db,_0x39cfaf(0x878)+appId+_0x39cfaf(0x881),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x45e9ac,_0xa831a8=>{const _0x1f5b9f=_0x39cfaf;if(!_0xa831a8[_0x1f5b9f(0xbeb)]()){sessionStorage[_0x1f5b9f(0x435)](_0x1f5b9f(0xb05));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x1f5b9f(0x513)),showView(currentMode===_0x1f5b9f(0x2ae)?'project-detail':_0x1f5b9f(0x972));return;}const _0x417667=_0xa831a8[_0x1f5b9f(0x999)]();currentMode===_0x1f5b9f(0x2ae)?updateAdminSyncView(_0x417667):updateStudentSyncView(_0x417667);});}function renderSyncLobbyView(_0xf6a8c4,_0x3a070f){const _0x1e194f=_0x49918e;liveGameView[_0x1e194f(0x848)]=_0x1e194f(0xbd4)+_0x3a070f+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0xf6a8c4+_0x1e194f(0x54b);const _0x526715=document['getElementById'](_0x1e194f(0xbbc)),_0x40a2ca=document['getElementById']('confidence-scoring-description');_0x526715[_0x1e194f(0xb63)](_0x1e194f(0x61d),()=>{const _0x40e538=_0x1e194f;_0x40a2ca['style'][_0x40e538(0x5ab)]=_0x526715[_0x40e538(0xaf2)]?_0x40e538(0x502):'none';}),document['getElementById']('start-sync-game-btn')[_0x1e194f(0xb63)](_0x1e194f(0x32d),async()=>{const _0xb61b7b=_0x1e194f,_0x5140e9=doc(db,'artifacts/'+appId+_0xb61b7b(0x881),currentLiveGameId),_0x4a0724=document[_0xb61b7b(0x7db)](_0xb61b7b(0xbbc))['checked'];await updateDoc(_0x5140e9,{'status':_0xb61b7b(0xbe1),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x4a0724});});}function updateAdminSyncView(_0x46cfec){const _0x381470=_0x49918e;switch(_0x46cfec['status']){case _0x381470(0x8a7):renderSyncLobbyView(_0x46cfec[_0x381470(0xacc)],_0x46cfec[_0x381470(0x4b3)][_0x381470(0x818)]);const _0x1d23ac=Object[_0x381470(0xa7e)](_0x46cfec['players']||{})[_0x381470(0xbf0)](([_0x2942a9,_0x59b7cd])=>_0x59b7cd[_0x381470(0xbc2)]!==_0x381470(0x31b));document[_0x381470(0x7db)](_0x381470(0x6c8))['textContent']=_0x1d23ac['length'],document['getElementById']('player-list-lobby')[_0x381470(0x848)]=_0x1d23ac['map'](([_0x520b87,_0x1e2470])=>_0x381470(0xa6a)+_0x520b87+_0x381470(0x8e2)+_0x520b87+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x381470(0x7b8)]('')||_0x381470(0x2a2),document['getElementById']('start-sync-game-btn')[_0x381470(0x534)]=_0x1d23ac[_0x381470(0xaed)]===0x0;break;case _0x381470(0xbe1):const _0x32eea2=Object[_0x381470(0xbca)](_0x46cfec[_0x381470(0x891)]||{})[_0x381470(0xbf0)](_0x20f4b8=>_0x20f4b8['status']!==_0x381470(0x31b)),_0x3da12b=_0x32eea2['filter'](_0xd9f34c=>_0xd9f34c[_0x381470(0x308)])['length'],_0x51c87e=_0x3da12b===_0x32eea2[_0x381470(0xaed)]&&_0x32eea2[_0x381470(0xaed)]>0x0;if(_0x51c87e&&_0x46cfec[_0x381470(0xbc2)]==='question'){const _0x2ab086=doc(db,_0x381470(0x878)+appId+_0x381470(0x881),currentLiveGameId);updateDoc(_0x2ab086,{'status':_0x381470(0x61c)});}else{if(document[_0x381470(0x7db)](_0x381470(0x964))===null)renderAdminSyncQuestionView(_0x46cfec);else{const _0x194414=document[_0x381470(0x7db)](_0x381470(0xae4));_0x194414&&(_0x194414[_0x381470(0x467)]=_0x3da12b+'/'+_0x32eea2['length']);const _0x1fcd1f=document[_0x381470(0x7db)]('sync-player-list');_0x1fcd1f&&(_0x1fcd1f[_0x381470(0x848)]=_0x32eea2[_0x381470(0x251)](_0x591a12=>{const _0x2abaef=_0x381470,_0x280d2d=_0x591a12[_0x2abaef(0x308)]?_0x2abaef(0x713):_0x2abaef(0x8c7),_0x511b1d=_0x591a12['answered']?_0x2abaef(0x69a):_0x2abaef(0x7ed);return _0x2abaef(0x2d3)+_0x280d2d+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x511b1d+_0x2abaef(0x292)+_0x591a12[_0x2abaef(0x447)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x591a12['name']+_0x2abaef(0x4a7);})[_0x381470(0x7b8)](''));}}break;case'summary':const _0x12fff0=_0x46cfec[_0x381470(0x669)],_0x43ae6f=_0x46cfec['shuffledQuiz'][_0x381470(0x29f)][_0x12fff0];renderSyncSummaryView(_0x46cfec,_0x43ae6f,!![]);break;case _0x381470(0x230):renderAdminSyncDashboard(_0x46cfec,!![]);break;case _0x381470(0x738):_0x46cfec['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x46cfec);sessionStorage[_0x381470(0x435)]('activeGameSession');const _0x2f06b9=calculateFinalPodiumScores(_0x46cfec);showPodiumView(_0x2f06b9,'sync');break;}}function renderAdminSyncQuestionView(_0x4754cb){const _0x4b6c4b=_0x49918e,_0x3ddaec=_0x4754cb[_0x4b6c4b(0x669)],_0x205706=_0x4754cb[_0x4b6c4b(0x4b3)]['questions'][_0x3ddaec],_0x399fe9=_0x4754cb[_0x4b6c4b(0x4b3)][_0x4b6c4b(0x29f)][_0x4b6c4b(0xaed)],_0x309685=Object[_0x4b6c4b(0xbca)](_0x4754cb[_0x4b6c4b(0x891)]||{})[_0x4b6c4b(0xbf0)](_0x38f3a1=>_0x38f3a1[_0x4b6c4b(0xbc2)]!==_0x4b6c4b(0x31b)),_0x1119a7=_0x309685[_0x4b6c4b(0xbf0)](_0x45edb3=>_0x45edb3['answered'])['length'],_0x5e4bb9=_0x1119a7===_0x309685['length']&&_0x309685[_0x4b6c4b(0xaed)]>0x0,_0x2d7cbe=(_0x205706['options']||[])['map'](_0x195997=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x195997+_0x4b6c4b(0x640))[_0x4b6c4b(0x7b8)]('');liveGameView[_0x4b6c4b(0x848)]=_0x4b6c4b(0x800)+(_0x3ddaec+0x1)+_0x4b6c4b(0x814)+_0x399fe9+_0x4b6c4b(0xa52)+_0x1119a7+'/'+_0x309685[_0x4b6c4b(0xaed)]+_0x4b6c4b(0x659)+_0x205706[_0x4b6c4b(0xa04)]+_0x4b6c4b(0x6ef)+_0x2d7cbe+_0x4b6c4b(0x910)+(!_0x5e4bb9?_0x4b6c4b(0x534):'')+_0x4b6c4b(0x79f);if(window[_0x4b6c4b(0xaca)])MathJax[_0x4b6c4b(0x26d)]();document['getElementById'](_0x4b6c4b(0x250))['addEventListener']('click',async()=>{const _0x5b9313=_0x4b6c4b,_0x5ba7b3=doc(db,_0x5b9313(0x878)+appId+_0x5b9313(0x881),currentLiveGameId);await updateDoc(_0x5ba7b3,{'status':_0x5b9313(0x230)});}),document[_0x4b6c4b(0x7db)](_0x4b6c4b(0xb52))[_0x4b6c4b(0x39c)]=()=>{const _0x4409fc=_0x4b6c4b;openScratchpad(_0x205706,_0x205706[_0x4409fc(0xa27)]||[]);},document['getElementById'](_0x4b6c4b(0x472))['addEventListener'](_0x4b6c4b(0x32d),()=>{const _0x4980be=_0x4b6c4b;document[_0x4980be(0x7db)](_0x4980be(0x964))[_0x4980be(0x1fa)]['toggle'](_0x4980be(0x997));});}function renderSyncLeaderboardView(_0x58b091,_0x473881){const _0x5616ab=_0x49918e,_0x445b5e=Object['values'](_0x58b091[_0x5616ab(0x891)]||{});_0x445b5e['sort']((_0x62e9db,_0x187586)=>_0x187586[_0x5616ab(0x967)]-_0x62e9db[_0x5616ab(0x967)]);const _0x5adfa6=_0x445b5e['slice'](0x0,0x5);let _0x49554c='';if(_0x473881){const _0x2ae9d1=_0x58b091[_0x5616ab(0x669)]>=_0x58b091[_0x5616ab(0x4b3)][_0x5616ab(0x29f)][_0x5616ab(0xaed)]-0x1;_0x49554c=_0x5616ab(0x759)+(_0x2ae9d1?_0x5616ab(0x234):_0x5616ab(0x601))+_0x5616ab(0x4e9);}else _0x49554c=_0x5616ab(0x2b0);liveGameView[_0x5616ab(0x848)]=_0x5616ab(0x8cd)+_0x5adfa6[_0x5616ab(0x251)]((_0x3a180a,_0x27cda4)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x27cda4+0x1)+'.\x20'+_0x3a180a['name']+_0x5616ab(0x55d)+_0x3a180a[_0x5616ab(0x967)]+_0x5616ab(0x58e))[_0x5616ab(0x7b8)]('')+_0x5616ab(0x3ea)+_0x49554c+_0x5616ab(0xa90),_0x473881&&document[_0x5616ab(0x7db)]('next-sync-question-btn')[_0x5616ab(0xb63)](_0x5616ab(0x32d),async()=>{const _0x1fd578=_0x5616ab,_0x3cf622=doc(db,_0x1fd578(0x878)+appId+'/public/data/syncGames',currentLiveGameId),_0x7d2ff=_0x58b091[_0x1fd578(0x669)]+0x1;if(_0x7d2ff<_0x58b091['shuffledQuiz'][_0x1fd578(0x29f)][_0x1fd578(0xaed)]){const _0x595e62={};Object[_0x1fd578(0x450)](_0x58b091[_0x1fd578(0x891)])[_0x1fd578(0x4ec)](_0x4c5dce=>{const _0x4e6afd=_0x1fd578;_0x595e62[_0x4e6afd(0x2fe)+_0x4c5dce+'.answered']=![];}),await updateDoc(_0x3cf622,{..._0x595e62,'status':'question','currentQuestionIndex':_0x7d2ff,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x3cf622,{'status':_0x1fd578(0x738)});});}async function handleJoinSyncGame(){const _0x8987f5=_0x49918e,_0x403e2f=prompt(_0x8987f5(0x780));if(!_0x403e2f||_0x403e2f[_0x8987f5(0x564)]()[_0x8987f5(0xaed)]!==0x2){showMessage(_0x8987f5(0x7d2));return;}try{const _0x227e61=collection(db,_0x8987f5(0x878)+appId+_0x8987f5(0x881)),_0x1fdbe0=query(_0x227e61,where('pin','==',_0x403e2f[_0x8987f5(0x564)]()),where(_0x8987f5(0xbc2),'==','lobby')),_0x153f47=await getDocs(_0x1fdbe0);if(_0x153f47[_0x8987f5(0xa41)]){showMessage(_0x8987f5(0x5a0));return;}const _0x5c3bd9=_0x153f47[_0x8987f5(0x689)][0x0];currentLiveGameId=_0x5c3bd9['id'];const _0x5f0077=_0x5c3bd9[_0x8987f5(0x999)](),_0x374325=doc(db,_0x8987f5(0x878)+appId+'/public/data/quizzes',_0x5f0077[_0x8987f5(0x33f)]),_0x206cc8=await getDoc(_0x374325);if(!_0x206cc8[_0x8987f5(0xbeb)]())throw new Error(_0x8987f5(0xbfb));const _0x1c0342=_0x206cc8[_0x8987f5(0x999)](),_0x12d1c6=doc(db,_0x8987f5(0x878)+appId+_0x8987f5(0xc07),_0x1c0342['projectId']),_0x58fceb=await getDoc(_0x12d1c6);if(!_0x58fceb[_0x8987f5(0xbeb)]())throw new Error(_0x8987f5(0x528));currentQuizData=_0x5f0077[_0x8987f5(0x4b3)];const _0x2436ef=_0x58fceb[_0x8987f5(0x999)]();showView(_0x8987f5(0xb33)),showTeamPlayerSelection(_0x2436ef['students'],_0x1c0342[_0x8987f5(0x818)]);const _0x556e16=document[_0x8987f5(0x7db)](_0x8987f5(0x9e7));_0x556e16[_0x8987f5(0x39c)]=confirmAndJoinSyncGame;}catch(_0x5b5f51){console[_0x8987f5(0xb89)]('Error\x20joining\x20sync\x20game:',_0x5b5f51),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5b5f51[_0x8987f5(0x927)]);}}function updateStudentSyncView(_0x4841a7){const _0x230118=_0x49918e,_0x33e0e4=_0x4841a7[_0x230118(0x891)][localTeamPlayers[0x0]];switch(_0x4841a7['status']){case _0x230118(0x8a7):showView(_0x230118(0x477)),liveGameView['innerHTML']=_0x230118(0x903);break;case _0x230118(0xbe1):const _0x47c67d=localTeamPlayers[_0x230118(0x33c)](_0x1bc69f=>_0x4841a7[_0x230118(0x891)][_0x1bc69f]?.[_0x230118(0x308)]===!![]);_0x47c67d?liveGameView[_0x230118(0x848)]=_0x230118(0x8ab):renderStudentSyncQuestionView(_0x4841a7);break;case _0x230118(0x61c):liveGameView['innerHTML']=_0x230118(0x52c);break;case _0x230118(0x230):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x4841a7);break;case _0x230118(0x738):sessionStorage[_0x230118(0x435)](_0x230118(0xb05));const _0x5dede0=calculateFinalPodiumScores(_0x4841a7);showPodiumView(_0x5dede0,_0x230118(0x578));break;}}function renderStudentSyncResultsView(_0x130da3){const _0x1c6891=_0x49918e,_0x394e61=localTeamPlayers['map'](_0x2e30e8=>_0x130da3[_0x1c6891(0x891)][_0x2e30e8])[_0x1c6891(0xbf0)](Boolean);_0x394e61[_0x1c6891(0x236)]((_0x488de8,_0x33beee)=>(_0x33beee[_0x1c6891(0x967)]||0x0)-(_0x488de8['score']||0x0));const _0x47ee5e=_0x130da3[_0x1c6891(0x669)]>=_0x130da3[_0x1c6891(0x4b3)][_0x1c6891(0x29f)]['length']-0x1;let _0x5acb4e='';_0x47ee5e?_0x5acb4e=_0x1c6891(0x2d7):_0x5acb4e='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x4b8cd8=_0x1c6891(0x2d5)+_0x394e61[_0x1c6891(0x251)]((_0x37d415,_0x19da8f)=>_0x1c6891(0x6bf)+(_0x19da8f+0x1)+_0x1c6891(0x35b)+_0x37d415['name']+_0x1c6891(0x28e)+_0x37d415[_0x1c6891(0x967)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1c6891(0x7b8)]('')+_0x1c6891(0x790)+_0x5acb4e+_0x1c6891(0x562);liveGameView['innerHTML']=_0x4b8cd8;}function renderStudentSyncQuestionView(_0x2b8ba2){const _0x110e03=_0x49918e;while(localPlayerTurnIndex<localTeamPlayers[_0x110e03(0xaed)]&&_0x2b8ba2[_0x110e03(0x891)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x110e03(0x308)]===!![]){localPlayerTurnIndex++;}const _0x4a051d=localTeamPlayers[localPlayerTurnIndex];if(!_0x4a051d)return;const _0x290343=_0x2b8ba2[_0x110e03(0x669)],_0x42faf2=_0x2b8ba2[_0x110e03(0x4b3)]['questions'][_0x110e03(0xaed)],_0x3ca6bb=_0x2b8ba2[_0x110e03(0x4b3)][_0x110e03(0x29f)][_0x290343],_0x3bf7b2=_0x3ca6bb[_0x110e03(0x7e0)]||_0x2b8ba2[_0x110e03(0x4b3)]['quizType'];let _0x52448f='',_0x484b46=![];switch(_0x3bf7b2){case _0x110e03(0x7c2):_0x52448f=_0x110e03(0xb1d);break;case _0x110e03(0x6de):case _0x110e03(0x6c9):_0x484b46=!![],_0x52448f=_0x110e03(0x853);break;case _0x110e03(0x799):_0x484b46=!![],_0x52448f=_0x110e03(0x7b0)+(_0x3ca6bb[_0x110e03(0x85d)]||[])[_0x110e03(0x251)](_0x32a9a7=>_0x110e03(0x397)+_0x32a9a7+'\x22>'+_0x32a9a7+_0x110e03(0x266))[_0x110e03(0x7b8)]('')+_0x110e03(0xa72);break;case _0x110e03(0x286):default:_0x52448f=(_0x3ca6bb[_0x110e03(0xa27)]||[])[_0x110e03(0x251)]((_0x7b185e,_0x28da8f)=>_0x110e03(0x3b8)+_0x28da8f+_0x110e03(0xb16)+_0x7b185e+'</button>')[_0x110e03(0x7b8)]('');break;}liveGameView[_0x110e03(0x848)]=_0x110e03(0x3da)+(_0x290343+0x1)+'\x20/\x20'+_0x42faf2+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x4a051d+_0x110e03(0xa01)+(_0x3ca6bb[_0x110e03(0xa04)]||_0x3ca6bb[_0x110e03(0xc08)])+_0x110e03(0xa6d)+_0x52448f+_0x110e03(0x2fa);if(window[_0x110e03(0xaca)])MathJax[_0x110e03(0x26d)]();function _0x2e13f7(_0x479a1f,_0xec5f19,_0x1b2d89,_0x4363fc){const _0x2e7491=_0x110e03,_0x40f419=_0x1b2d89[_0x2e7491(0x98a)]===!![];if(_0x40f419){document[_0x2e7491(0x7db)]('confidence-modal')[_0x2e7491(0x297)][_0x2e7491(0xae0)]=_0x2e7491(0x578);const _0x475082=document[_0x2e7491(0x7db)]('selected-answer-index-hidden');_0x475082[_0x2e7491(0x297)][_0x2e7491(0x5dd)]=_0x479a1f,_0x475082[_0x2e7491(0x297)][_0x2e7491(0xbe1)]=JSON[_0x2e7491(0x362)](_0xec5f19),_0x475082[_0x2e7491(0x297)][_0x2e7491(0x7fa)]=JSON['stringify'](_0x1b2d89),_0x475082[_0x2e7491(0x297)][_0x2e7491(0x3f4)]=_0x4363fc,document[_0x2e7491(0x7db)](_0x2e7491(0x96a))[_0x2e7491(0x1fa)][_0x2e7491(0x428)](_0x2e7491(0x997));}else handleSyncAnswerSubmit(_0x479a1f,_0xec5f19,_0x1b2d89,_0x4363fc,![]);}_0x484b46?document['getElementById'](_0x110e03(0x808))[_0x110e03(0xb63)](_0x110e03(0x32d),()=>{const _0x2691ac=_0x110e03,_0x596e0e=document[_0x2691ac(0x7db)](_0x2691ac(0xa4c))||document[_0x2691ac(0x7db)](_0x2691ac(0x9ed));if(_0x596e0e[_0x2691ac(0x947)][_0x2691ac(0x564)]()===''){showMessage(_0x2691ac(0x918));return;}_0x2e13f7(_0x596e0e[_0x2691ac(0x947)],_0x3ca6bb,_0x2b8ba2,_0x4a051d);}):document[_0x110e03(0x3e7)](_0x110e03(0xa31))[_0x110e03(0x4ec)](_0x16b098=>{const _0x6af7a=_0x110e03;_0x16b098[_0x6af7a(0xb63)](_0x6af7a(0x32d),()=>{const _0x13c7fb=_0x6af7a;_0x2e13f7(_0x16b098[_0x13c7fb(0x297)]['value'],_0x3ca6bb,_0x2b8ba2,_0x4a051d);});});}async function handleSyncAnswerSubmit(_0x34480a,_0x2b2f5c,_0x366df0,_0x5b6e3c,_0x1c6bd7){const _0x5a4625=_0x49918e;document['querySelectorAll'](_0x5a4625(0x76b))[_0x5a4625(0x4ec)](_0x118858=>_0x118858[_0x5a4625(0x534)]=!![]);const _0x5ebe9f=_0x2b2f5c[_0x5a4625(0x7e0)]||_0x366df0[_0x5a4625(0x4b3)][_0x5a4625(0x3ee)];let _0xbcebb2=![],_0x34bfa3=_0x34480a;switch(_0x5ebe9f){case _0x5a4625(0x7c2):const _0x515ac2=parseInt(_0x34480a),_0x29f56d=_0x2b2f5c['correctAnswer']===!![]||String(_0x2b2f5c[_0x5a4625(0x912)])['toLowerCase']()===_0x5a4625(0x36c);_0xbcebb2=_0x515ac2===0x0&&_0x29f56d||_0x515ac2===0x1&&!_0x29f56d,_0x34bfa3=_0x515ac2===0x0?_0x5a4625(0x9e5):_0x5a4625(0x673);break;case _0x5a4625(0x6de):case _0x5a4625(0x6c9):_0xbcebb2=await gradeShortAnswer(_0x34480a,_0x2b2f5c);break;case _0x5a4625(0x799):_0xbcebb2=_0x34480a===_0x2b2f5c[_0x5a4625(0xa77)];break;case _0x5a4625(0x286):default:const _0x105b6c=parseInt(_0x34480a);_0xbcebb2=_0x105b6c===_0x2b2f5c['correctAnswerIndex'];_0x2b2f5c[_0x5a4625(0xa27)]&&_0x2b2f5c[_0x5a4625(0xa27)][_0x105b6c]&&(_0x34bfa3=_0x2b2f5c['options'][_0x105b6c]);break;}let _0x463897=0x0;if(_0xbcebb2&&_0x1c6bd7)_0x463897=0x2;else{if(_0xbcebb2)_0x463897=0x1;else!_0xbcebb2&&_0x1c6bd7&&(_0x463897=-0x1);}const _0xe95eb4=doc(db,_0x5a4625(0x878)+appId+_0x5a4625(0x881),currentLiveGameId),_0xf31b4={};_0xf31b4[_0x5a4625(0x2fe)+_0x5b6e3c+_0x5a4625(0x7d9)]=increment(_0x463897),_0xf31b4['players.'+_0x5b6e3c+_0x5a4625(0xacf)]=!![];let _0x4e92d3=null;(_0x5ebe9f===_0x5a4625(0x286)||_0x5ebe9f===_0x5a4625(0x7c2)||_0x5ebe9f==='fill_in_with_choices')&&(_0x4e92d3=parseInt(_0x34480a));_0xf31b4['players.'+_0x5b6e3c+_0x5a4625(0x5a2)]=_0x4e92d3;const _0x5c2f72={'questionIndex':_0x366df0['currentQuestionIndex'],'questionId':_0x2b2f5c['id'],'answer':_0x34480a,'answerText':_0x34bfa3,'isCorrect':_0xbcebb2,'originalQuestionText':_0x2b2f5c[_0x5a4625(0xa04)]||_0x2b2f5c[_0x5a4625(0xc08)],'wasConfident':_0x1c6bd7};_0xf31b4[_0x5a4625(0x2fe)+_0x5b6e3c+_0x5a4625(0x76d)]=arrayUnion(_0x5c2f72),await updateDoc(_0xe95eb4,_0xf31b4);}initialize();
