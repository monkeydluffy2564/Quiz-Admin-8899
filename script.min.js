const _0x5c7bd9=_0x34dc;(function(_0x7d0471,_0x2938b7){const _0x2eb916=_0x34dc,_0x5d9d0e=_0x7d0471();while(!![]){try{const _0x1200b6=-parseInt(_0x2eb916(0xac9))/0x1+parseInt(_0x2eb916(0x382))/0x2*(parseInt(_0x2eb916(0xa9c))/0x3)+-parseInt(_0x2eb916(0x4de))/0x4*(parseInt(_0x2eb916(0x4e4))/0x5)+parseInt(_0x2eb916(0x64a))/0x6*(-parseInt(_0x2eb916(0x4aa))/0x7)+-parseInt(_0x2eb916(0x2d1))/0x8+parseInt(_0x2eb916(0x674))/0x9+parseInt(_0x2eb916(0x72b))/0xa*(parseInt(_0x2eb916(0xbf3))/0xb);if(_0x1200b6===_0x2938b7)break;else _0x5d9d0e['push'](_0x5d9d0e['shift']());}catch(_0x7cdbf3){_0x5d9d0e['push'](_0x5d9d0e['shift']());}}}(_0x3f69,0xbf5fc));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x4d28b6=_0x34dc;if(_0x4d28b6(0x29c)in navigator)try{wakeLock=await navigator[_0x4d28b6(0x29c)][_0x4d28b6(0x21f)]('screen'),console[_0x4d28b6(0x77c)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x4d28b6(0x68b)](_0x4d28b6(0x94f),()=>{const _0x386bd9=_0x4d28b6;console[_0x386bd9(0x77c)](_0x386bd9(0x37f));});}catch(_0x5c34c0){console[_0x4d28b6(0xb9a)](_0x4d28b6(0x770)+_0x5c34c0[_0x4d28b6(0x97a)]+',\x20'+_0x5c34c0[_0x4d28b6(0x6a5)]);}else console['warn'](_0x4d28b6(0x30a));},releaseWakeLock=async()=>{const _0x26fa99=_0x34dc;wakeLock!==null&&(await wakeLock[_0x26fa99(0x94f)](),wakeLock=null,console[_0x26fa99(0x77c)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x1c5132=_0x34dc;if(dimTimer)clearTimeout(dimTimer);document[_0x1c5132(0xab8)][_0x1c5132(0xbe2)][_0x1c5132(0x521)]('dimmed'),dimTimer=setTimeout(()=>{const _0x2fa8aa=_0x1c5132;document[_0x2fa8aa(0xab8)]['classList'][_0x2fa8aa(0x5ca)](_0x2fa8aa(0x475)),console[_0x2fa8aa(0x77c)](_0x2fa8aa(0x490));},inactivityTime);}function stopDimTimer(){const _0x16bec6=_0x34dc;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x16bec6(0xbe2)][_0x16bec6(0x521)](_0x16bec6(0x475)),window[_0x16bec6(0xb86)]('mousemove',resetDimTimer),window[_0x16bec6(0xb86)](_0x16bec6(0x1b2),resetDimTimer),window[_0x16bec6(0xb86)](_0x16bec6(0x9c6),resetDimTimer),window['removeEventListener']('keydown',resetDimTimer),console[_0x16bec6(0x77c)](_0x16bec6(0x1fb));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x45d7a7,_0x501849=![]){const _0x4816bd=_0x34dc,_0x2a4611=allQuizzes[_0x4816bd(0x241)](_0xf7b908=>_0xf7b908['id']===_0x45d7a7)||allQuizzesGlobal[_0x4816bd(0x241)](_0x3bfd4f=>_0x3bfd4f['id']===_0x45d7a7);if(!_0x2a4611){showMessage(_0x4816bd(0x365));return;}currentQuizData=getShuffledQuiz(_0x2a4611);const _0xeebcea=Math[_0x4816bd(0x33f)](0x3e8+Math[_0x4816bd(0xb68)]()*0x2328)[_0x4816bd(0x454)]();try{const _0x1828e8=await addDoc(collection(db,_0x4816bd(0x2fd)+appId+_0x4816bd(0x208)),{'quizId':_0x2a4611['id'],'projectId':_0x2a4611['projectId'],'status':'lobby','pin':_0xeebcea,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x501849});currentTeamQuizId=_0x1828e8['id'],showView(_0x4816bd(0xa83)),renderAdminTeamQuizDashboard(_0xeebcea,_0x2a4611[_0x4816bd(0x231)]),listenForTeamQuizUpdates();}catch(_0x484b2d){console[_0x4816bd(0xb9a)]('Error\x20starting\x20team\x20quiz:',_0x484b2d),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x196a7f,_0x1eaab9,_0x419cdf=_0x5c7bd9(0x909)){const _0x454fa1=_0x5c7bd9,_0x1e1937=_0x419cdf===_0x454fa1(0xa1a)?'Group\x20Mode':'Team\x20Quiz';liveGameView['innerHTML']=_0x454fa1(0x58b)+_0x1e1937+':\x20'+_0x1eaab9+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x196a7f+_0x454fa1(0x621),document[_0x454fa1(0x82a)](_0x454fa1(0x99b))[_0x454fa1(0x68b)](_0x454fa1(0x79e),async()=>{const _0x55c91d=_0x454fa1;showConfirmation(_0x55c91d(0xb66),async()=>{const _0x3e19aa=_0x55c91d;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x3e19aa(0x2fd)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0x3e19aa(0xbd7));});});}function listenForTeamQuizUpdates(){const _0x3b0018=_0x5c7bd9;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x4c5875=doc(db,_0x3b0018(0x2fd)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x4c5875,_0x232c53=>{const _0xd159ea=_0x3b0018;if(!_0x232c53['exists']()){sessionStorage['removeItem'](_0xd159ea(0x992));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0xd159ea(0x1cb));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0xd159ea(0x1f3)?showView(_0xd159ea(0xbd7)):showView(_0xd159ea(0x73c));return;}const _0x2b236d=_0x232c53[_0xd159ea(0x958)]();if(currentMode===_0xd159ea(0x1f3)){if(_0x2b236d[_0xd159ea(0x419)]===_0xd159ea(0xa1a)&&_0x2b236d[_0xd159ea(0x6d5)]!=='podium'&&_0x2b236d['status']!==_0xd159ea(0x980)){const _0x20a277=Object[_0xd159ea(0x446)](_0x2b236d[_0xd159ea(0x6ca)]||{});if(_0x20a277[_0xd159ea(0x4d9)]>0x0){const _0x204bae=_0x20a277['every'](_0x346bbd=>_0x346bbd[_0xd159ea(0x79f)]===!![]);_0x204bae&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x2b236d);}else{if(_0x2b236d[_0xd159ea(0x6d5)]===_0xd159ea(0x983)||_0x2b236d[_0xd159ea(0x6d5)]===_0xd159ea(0x980)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x2b236d[_0xd159ea(0x419)]===_0xd159ea(0xa1a)){const _0x460d99=_0x2b236d[_0xd159ea(0x6ca)][userId];(!_0x460d99||!_0x460d99[_0xd159ea(0x79f)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x1c069d){const _0x22635a=_0x5c7bd9;console[_0x22635a(0x77c)](_0x22635a(0x611));const _0x177091=doc(db,'artifacts/'+appId+_0x22635a(0x208),_0x1c069d);try{const _0x18d9fa=await getDoc(_0x177091);if(_0x18d9fa['exists']()){const _0x452cdc=_0x18d9fa[_0x22635a(0x958)]();_0x452cdc[_0x22635a(0x7cd)]&&await saveGameResultsAsSubmissions(_0x452cdc);}await updateDoc(_0x177091,{'status':_0x22635a(0x983)});}catch(_0x9b7d3a){console['error'](_0x22635a(0x8c9),_0x9b7d3a);}}function updateAdminTeamDashboard(_0x4dddf4){const _0x21cadc=_0x5c7bd9,_0x7b89c0=document[_0x21cadc(0x82a)](_0x21cadc(0xae1));if(!_0x7b89c0)return;const _0xd672fa=_0x4dddf4['mode']||_0x21cadc(0x909),_0x5acf53=currentQuizData[_0x21cadc(0x600)]['length'];if(_0xd672fa===_0x21cadc(0xa1a)){const _0x4358e6=Object['values'](_0x4dddf4[_0x21cadc(0x6ca)]||{});if(_0x4358e6[_0x21cadc(0x4d9)]===0x0){_0x7b89c0['innerHTML']=_0x21cadc(0x6d0);return;}const _0x50df25=[..._0x4358e6]['sort']((_0x1de0f9,_0xe3c68b)=>_0xe3c68b[_0x21cadc(0xa0f)]-_0x1de0f9[_0x21cadc(0xa0f)]),_0x53e921=_0x50df25[_0x21cadc(0x98b)]((_0x170897,_0x14d967)=>{const _0x519db4=_0x21cadc,_0x43fc34=_0x170897[_0x519db4(0x775)]?.['length']||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x14d967+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x170897[_0x519db4(0xc22)][_0x519db4(0x5b3)](',\x20')+_0x519db4(0x1c2)+_0x43fc34+'/'+_0x5acf53+_0x519db4(0x416)+_0x170897[_0x519db4(0xa0f)]+_0x519db4(0x291);})[_0x21cadc(0x5b3)](''),_0x32eaa6=currentQuizData[_0x21cadc(0x600)][_0x21cadc(0x98b)]((_0x92b77c,_0x543f7a)=>{const _0x453c58=_0x21cadc;let _0x198ccb=0x0,_0x40f258=0x0;_0x4358e6['forEach'](_0x24dee5=>{const _0x5e7287=_0x34dc,_0x47e929=_0x24dee5[_0x5e7287(0x775)]?.[_0x5e7287(0x241)](_0x71f685=>_0x71f685[_0x5e7287(0x9d6)]===_0x543f7a);if(_0x47e929){_0x40f258++;if(_0x47e929['isCorrect'])_0x198ccb++;}});const _0x598fb8=_0x40f258>0x0&&_0x40f258===_0x4358e6['length'],_0x5e62e7=_0x598fb8?_0x453c58(0x1ea):_0x453c58(0xbbe),_0x28e818=_0x598fb8?_0x453c58(0x6ef):'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x5e62e7+_0x453c58(0x373)+(_0x543f7a+0x1)+_0x453c58(0x451)+_0x28e818+_0x453c58(0x3a7)+_0x198ccb+'/'+_0x4358e6[_0x453c58(0x4d9)]+_0x453c58(0x991);})[_0x21cadc(0x5b3)]('');_0x7b89c0[_0x21cadc(0xa1c)]=_0x21cadc(0xb07)+_0x53e921+_0x21cadc(0xa30)+_0x32eaa6+_0x21cadc(0x22d);return;}const _0x2741fd=_0x4dddf4['responses']||{},_0x1fe5df=Object[_0x21cadc(0x4c4)](_0x2741fd);if(_0x1fe5df['length']===0x0){_0x7b89c0[_0x21cadc(0xa1c)]=_0x21cadc(0x8db);return;}const _0x1fac83=_0x1fe5df['map'](_0x5a4082=>({'name':_0x5a4082,'score':_0x2741fd[_0x5a4082][_0x21cadc(0xa0f)]||0x0}))[_0x21cadc(0x74a)]((_0xb8627b,_0x17eb9c)=>_0x17eb9c['score']-_0xb8627b['score']),_0x49e5a1=_0x1fac83[_0x21cadc(0x98b)](_0x41708a=>{const _0x3b6dc3=_0x21cadc,_0x1173c9=_0x2741fd[_0x41708a[_0x3b6dc3(0x97a)]]?.[_0x3b6dc3(0x775)]?.[_0x3b6dc3(0x4d9)]||0x0,_0x58bfba=Math[_0x3b6dc3(0x49b)](_0x5acf53/_0x1fe5df[_0x3b6dc3(0x4d9)]);return _0x3b6dc3(0x628)+_0x41708a[_0x3b6dc3(0x97a)]+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x1173c9+'/'+_0x58bfba+'\x20ตา)</span></span><span\x20class=\x22font-bold\x22>'+_0x41708a[_0x3b6dc3(0xa0f)]+_0x3b6dc3(0xa20);})[_0x21cadc(0x5b3)](''),_0x314123=_0x1fe5df[_0x21cadc(0x631)]((_0x220d23,_0x43d6d8)=>_0x220d23+(_0x2741fd[_0x43d6d8][_0x21cadc(0x775)]?.['length']||0x0),0x0),_0x202d7e=currentQuizData[_0x21cadc(0x600)][_0x21cadc(0x98b)]((_0x3bce6b,_0x1a262)=>{const _0x2f3693=_0x21cadc;let _0xb70e7c=null,_0x2253d9=null;for(const _0x535ce2 of _0x1fe5df){const _0x2117b7=_0x2741fd[_0x535ce2][_0x2f3693(0x775)]?.[_0x2f3693(0x241)](_0x10ffc4=>_0x10ffc4[_0x2f3693(0x9d6)]===_0x1a262);if(_0x2117b7){_0xb70e7c=_0x2117b7,_0x2253d9=_0x535ce2;break;}}const _0x26033b=!!_0xb70e7c,_0x197970=_0x26033b&&_0xb70e7c['isCorrect'],_0x31ddbe=(Math[_0x2f3693(0x33f)](_0x1a262/_0x1fe5df[_0x2f3693(0x4d9)])+0x1)*_0x1fe5df[_0x2f3693(0x4d9)],_0x119afe=_0x314123>=_0x31ddbe,_0x3f080a=_0x119afe?_0x2f3693(0x5d6):_0x2f3693(0xbbe),_0x598a42=_0x119afe?_0x2f3693(0x6ef):'';let _0x5dda5c=_0x2f3693(0x5e1);return _0x26033b&&(_0x5dda5c=_0x2253d9+_0x2f3693(0x6a9)+(_0x197970?_0x2f3693(0x343):_0x2f3693(0x3b2))),_0x2f3693(0x9ff)+_0x3f080a+_0x2f3693(0x373)+(_0x1a262+0x1)+_0x2f3693(0x451)+_0x598a42+_0x2f3693(0x435)+_0x5dda5c+_0x2f3693(0x822);})[_0x21cadc(0x5b3)]('');_0x7b89c0[_0x21cadc(0xa1c)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x49e5a1+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x202d7e+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0xb1277f=_0x5c7bd9,_0x5d42a7=prompt(_0xb1277f(0x56c));if(!_0x5d42a7||_0x5d42a7[_0xb1277f(0xbde)]()[_0xb1277f(0x4d9)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x16cd20=collection(db,_0xb1277f(0x2fd)+appId+'/public/data/teamQuizzes'),_0x3263cc=query(_0x16cd20,where(_0xb1277f(0xa48),'==',_0x5d42a7[_0xb1277f(0xbde)]()),where(_0xb1277f(0x6d5),'==',_0xb1277f(0x954))),_0x41e663=await getDocs(_0x3263cc);if(_0x41e663[_0xb1277f(0x7b4)]){showMessage(_0xb1277f(0x8ba));return;}const _0x3d8d9e=_0x41e663[_0xb1277f(0x795)][0x0];currentTeamQuizId=_0x3d8d9e['id'];const _0x285749=_0x3d8d9e[_0xb1277f(0x958)](),_0x474976=doc(db,_0xb1277f(0x2fd)+appId+_0xb1277f(0x3eb),_0x285749[_0xb1277f(0x571)]),_0x4871a3=doc(db,'artifacts/'+appId+_0xb1277f(0x74e),_0x285749[_0xb1277f(0xbc0)]),[_0x1cbaee,_0x420bff]=await Promise['all']([getDoc(_0x474976),getDoc(_0x4871a3)]);if(!_0x1cbaee[_0xb1277f(0x4a4)]()||!_0x420bff[_0xb1277f(0x4a4)]())throw new Error(_0xb1277f(0x741));currentQuizData=getShuffledQuiz({'id':_0x420bff['id'],..._0x420bff[_0xb1277f(0x958)]()});const _0x362769=_0x1cbaee[_0xb1277f(0x958)]();showTeamPlayerSelection(_0x362769[_0xb1277f(0x646)],currentQuizData['topic']);}catch(_0x3ab694){console[_0xb1277f(0xb9a)](_0xb1277f(0x8e8),_0x3ab694),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3ab694[_0xb1277f(0x6a5)]);}}async function handleJoinGroupActivity(){const _0x21546c=_0x5c7bd9,_0x311702=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x311702||_0x311702[_0x21546c(0xbde)]()[_0x21546c(0x4d9)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x5b4c52=_0x311702['trim']();showMessage(_0x21546c(0x20e));try{const _0x470d88=collection(db,_0x21546c(0x2fd)+appId+'/public/data/teamQuizzes'),_0xa92025=query(_0x470d88,where(_0x21546c(0xa48),'==',_0x5b4c52),where(_0x21546c(0x6d5),'==',_0x21546c(0x954))),_0x1ee2fe=await getDocs(_0xa92025);if(!_0x1ee2fe[_0x21546c(0x7b4)]){console[_0x21546c(0x77c)](_0x21546c(0x9be)),await proceedWithTeamQuizJoin(_0x1ee2fe[_0x21546c(0x795)][0x0]);return;}const _0x41f634=collection(db,_0x21546c(0x2fd)+appId+_0x21546c(0x31e)),_0x57d384=query(_0x41f634,where(_0x21546c(0xa48),'==',_0x5b4c52),where('status','==',_0x21546c(0x954))),_0x27df87=await getDocs(_0x57d384);if(!_0x27df87[_0x21546c(0x7b4)]){console['log'](_0x21546c(0x361)),await proceedWithSyncQuizJoin(_0x27df87[_0x21546c(0x795)][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0x1aeb3e){console[_0x21546c(0xb9a)](_0x21546c(0x47d),_0x1aeb3e),showMessage(_0x21546c(0x957)+_0x1aeb3e[_0x21546c(0x6a5)]);}}async function proceedWithTeamQuizJoin(_0x4eb191){const _0x46042a=_0x5c7bd9;currentTeamQuizId=_0x4eb191['id'];const _0x113ecb=_0x4eb191[_0x46042a(0x958)](),_0x300ec3=doc(db,_0x46042a(0x2fd)+appId+_0x46042a(0x3eb),_0x113ecb['projectId']),_0x5eddbf=doc(db,_0x46042a(0x2fd)+appId+'/public/data/quizzes',_0x113ecb[_0x46042a(0xbc0)]),[_0x5a0190,_0x4e9892]=await Promise['all']([getDoc(_0x300ec3),getDoc(_0x5eddbf)]);if(!_0x5a0190['exists']()||!_0x4e9892[_0x46042a(0x4a4)]())throw new Error(_0x46042a(0x741));currentQuizData=getShuffledQuiz({'id':_0x4e9892['id'],..._0x4e9892['data']()}),showTeamPlayerSelection(_0x5a0190['data']()[_0x46042a(0x646)],currentQuizData[_0x46042a(0x231)],_0x113ecb[_0x46042a(0x419)]||_0x46042a(0x909)),messageModal[_0x46042a(0xbe2)]['add'](_0x46042a(0x9b3));}async function proceedWithSyncQuizJoin(_0x2ccc9a){const _0x5942a2=_0x5c7bd9;currentLiveGameId=_0x2ccc9a['id'];const _0x2d0513=_0x2ccc9a[_0x5942a2(0x958)](),_0x352534=doc(db,_0x5942a2(0x2fd)+appId+'/public/data/quizzes',_0x2d0513[_0x5942a2(0xbc0)]),_0x2bccb9=await getDoc(_0x352534);if(!_0x2bccb9[_0x5942a2(0x4a4)]())throw new Error(_0x5942a2(0x365));const _0xfd5a49=_0x2bccb9['data'](),_0x508325=doc(db,_0x5942a2(0x2fd)+appId+'/public/data/projects',_0xfd5a49['projectId']),_0x441dbf=await getDoc(_0x508325);if(!_0x441dbf['exists']())throw new Error(_0x5942a2(0x345));currentQuizData=_0x2d0513[_0x5942a2(0x443)],showView(_0x5942a2(0x218)),showTeamPlayerSelection(_0x441dbf[_0x5942a2(0x958)]()[_0x5942a2(0x646)],_0xfd5a49[_0x5942a2(0x231)],_0x5942a2(0x592)),document[_0x5942a2(0x82a)]('confirm-team-players-btn')[_0x5942a2(0x485)]=confirmAndJoinSyncGame,messageModal[_0x5942a2(0xbe2)][_0x5942a2(0x5ca)]('hidden');}function getCleanApplicationHTML(){const _0x4c74e2=_0x5c7bd9,_0x5d447a=document['getElementById'](_0x4c74e2(0x953));if(!_0x5d447a)return'';const _0x47c858=_0x5d447a[_0x4c74e2(0x902)](!![]);return _0x47c858[_0x4c74e2(0xb24)](_0x4c74e2(0x42d))['forEach'](_0x53b9f4=>{const _0x36136d=_0x4c74e2;_0x53b9f4[_0x36136d(0xbe2)][_0x36136d(0x521)](_0x36136d(0xbe8),_0x36136d(0x26c)),_0x53b9f4[_0x36136d(0x814)]=![];}),_0x47c858['innerHTML'];}function showTeamPlayerSelection(_0x58944d,_0x27ce63,_0x13e962=_0x5c7bd9(0x909)){const _0x13dc29=_0x5c7bd9;studentInitialView[_0x13dc29(0xbe2)][_0x13dc29(0x5ca)](_0x13dc29(0x9b3)),studentJoinGameView[_0x13dc29(0xbe2)][_0x13dc29(0x5ca)](_0x13dc29(0x9b3)),document['getElementById']('student-team-selection-view')[_0x13dc29(0xbe2)][_0x13dc29(0x521)](_0x13dc29(0x9b3));let _0x17ffe2=_0x13dc29(0x8f8);if(_0x13e962==='group')_0x17ffe2='Group\x20Mode';else _0x13e962===_0x13dc29(0x592)&&(_0x17ffe2=_0x13dc29(0x30c));document[_0x13dc29(0x82a)](_0x13dc29(0xb54))['textContent']=_0x17ffe2+':\x20'+_0x27ce63;const _0x151e99=document[_0x13dc29(0x82a)]('team-student-list');if(!_0x58944d||_0x58944d[_0x13dc29(0x4d9)]===0x0){_0x151e99[_0x13dc29(0xa1c)]=_0x13dc29(0xa5e),document[_0x13dc29(0x82a)](_0x13dc29(0x23b))['disabled']=!![];return;}_0x151e99['innerHTML']=_0x58944d[_0x13dc29(0x98b)](_0x42a77d=>_0x13dc29(0x1f6)+_0x42a77d+_0x13dc29(0xb65)+_0x42a77d+_0x13dc29(0x99f))[_0x13dc29(0x5b3)](''),document[_0x13dc29(0x82a)](_0x13dc29(0x23b))[_0x13dc29(0x814)]=![];}async function confirmAndStartTeamQuiz(){const _0x1b40ac=_0x5c7bd9,_0x56e65a=Array[_0x1b40ac(0x4a0)](document[_0x1b40ac(0xb24)]('input[name=\x22team_player\x22]:checked'))[_0x1b40ac(0x98b)](_0x33dbb4=>_0x33dbb4['value']);if(_0x56e65a['length']===0x0){showMessage(_0x1b40ac(0x686));return;}localTeamPlayers=_0x56e65a,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x6180ac=doc(db,_0x1b40ac(0x2fd)+appId+_0x1b40ac(0x208),currentTeamQuizId);try{const _0x3825e4=await getDoc(_0x6180ac);if(!_0x3825e4['exists']())throw new Error('ไม่พบข้อมูลเกม');const _0xb0930d=_0x3825e4['data']();if(_0xb0930d['mode']===_0x1b40ac(0xa1a)){const _0x57da28={[_0x1b40ac(0x9c2)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x6180ac,_0x57da28);}else{const _0x879dfa=_0xb0930d[_0x1b40ac(0x529)]||{};localTeamPlayers['forEach'](_0x1f498f=>{!_0x879dfa[_0x1f498f]&&(_0x879dfa[_0x1f498f]={'score':0x0,'answers':[]});}),await updateDoc(_0x6180ac,{'responses':_0x879dfa});}document[_0x1b40ac(0x82a)](_0x1b40ac(0x575))[_0x1b40ac(0xbe2)]['add']('hidden'),renderTeamQuizQuestion();const _0x1d8b17={'gameId':currentTeamQuizId,'mode':_0xb0930d[_0x1b40ac(0x419)]||_0x1b40ac(0x909),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x1b40ac(0x992),JSON['stringify'](_0x1d8b17)),listenForTeamQuizUpdates();}catch(_0x2dfcfc){console[_0x1b40ac(0xb9a)](_0x1b40ac(0x539),_0x2dfcfc),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x7aed5d=_0x5c7bd9;if(localQuestionIndex>=currentQuizData[_0x7aed5d(0x600)][_0x7aed5d(0x4d9)]){displayTeamQuizFinalResults();return;}const _0x726858=currentQuizData[_0x7aed5d(0x600)][localQuestionIndex],_0x5665af=localTeamPlayers[localPlayerIndex],_0x118f9a=_0x726858['questionType']||currentQuizData[_0x7aed5d(0x738)];let _0x398016=_0x726858[_0x7aed5d(0x589)]||_0x726858[_0x7aed5d(0xbc9)],_0x2cea78='';switch(_0x118f9a){case _0x7aed5d(0x943):case _0x7aed5d(0x2c0):_0x2cea78=_0x726858[_0x7aed5d(0xb8c)][_0x7aed5d(0x98b)]((_0x43565b,_0x5180c8)=>_0x7aed5d(0x862)+_0x5180c8+_0x7aed5d(0xa50)+_0x5180c8+_0x7aed5d(0xb6c)+_0x5180c8+'\x22>'+_0x43565b+_0x7aed5d(0x229))['join']('');break;case _0x7aed5d(0xb61):_0x2cea78=_0x7aed5d(0x38b);break;case _0x7aed5d(0x9a5):case'fill_in_no_choices':_0x2cea78=_0x7aed5d(0x6f0);break;case _0x7aed5d(0x239):_0x2cea78=_0x7aed5d(0x7aa)+_0x726858[_0x7aed5d(0x2c7)]['map'](_0x19942d=>_0x7aed5d(0x4fa)+_0x19942d+'\x22>'+_0x19942d+_0x7aed5d(0xa8a))[_0x7aed5d(0x5b3)]('')+'</select>';break;default:_0x2cea78=_0x7aed5d(0x44d);break;}studentQuizArea['innerHTML']=_0x7aed5d(0x919)+(localQuestionIndex+0x1)+_0x7aed5d(0xa3b)+currentQuizData[_0x7aed5d(0x600)][_0x7aed5d(0x4d9)]+_0x7aed5d(0x2de)+_0x5665af+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x398016+_0x7aed5d(0x762)+(_0x726858[_0x7aed5d(0xb88)]?_0x7aed5d(0x428)+_0x726858['imageCode']+_0x7aed5d(0x59b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x2cea78+_0x7aed5d(0x213),studentQuizArea['classList'][_0x7aed5d(0x521)](_0x7aed5d(0x9b3));if(window['MathJax'])MathJax[_0x7aed5d(0x894)]([studentQuizArea]);document[_0x7aed5d(0x82a)](_0x7aed5d(0x6fa))['addEventListener'](_0x7aed5d(0x79e),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x92db04=_0x5c7bd9,_0x25f83b=currentQuizData['questions'][localQuestionIndex],_0xb6d273=_0x25f83b[_0x92db04(0x6ab)]||currentQuizData[_0x92db04(0x738)];let _0x40d677=null,_0x56e104=![];if(_0xb6d273==='short_answer'||_0xb6d273===_0x92db04(0xc12)){const _0x1e0a25=document[_0x92db04(0x410)](_0x92db04(0xb75));if(!_0x1e0a25||!_0x1e0a25[_0x92db04(0x556)][_0x92db04(0xbde)]()){showMessage(_0x92db04(0xb9f));return;}_0x40d677=_0x1e0a25[_0x92db04(0x556)][_0x92db04(0xbde)](),_0x56e104=await gradeShortAnswer(_0x40d677,_0x25f83b);}else{const _0x10a13b=document[_0x92db04(0x410)](_0x92db04(0x52a));if(!_0x10a13b||_0x10a13b[_0x92db04(0x556)]===''){showMessage(_0x92db04(0x2ee));return;}_0x40d677=_0x10a13b[_0x92db04(0x556)];switch(_0xb6d273){case'true_false':_0x56e104=_0x40d677===_0x92db04(0x284)===_0x25f83b['correctAnswer'];break;case _0x92db04(0x239):_0x56e104=_0x40d677===_0x25f83b[_0x92db04(0x27f)];break;default:_0x56e104=parseInt(_0x40d677)===_0x25f83b[_0x92db04(0x23d)];break;}}const _0x1eff24={'questionIndex':localQuestionIndex,'isCorrect':_0x56e104},_0x461d83=userId,_0x493308={[_0x92db04(0x9c2)+_0x461d83+_0x92db04(0x460)]:arrayUnion(_0x1eff24)};_0x56e104&&(_0x493308[_0x92db04(0x9c2)+_0x461d83+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x92db04(0x2fd)+appId+_0x92db04(0x208),currentTeamQuizId),_0x493308),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions'][_0x92db04(0x4d9)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x227d50){console['error'](_0x92db04(0x985),_0x227d50),showMessage(_0x92db04(0x747));}}async function handleTeamAnswerSubmit(){const _0x30fec4=_0x5c7bd9,_0x44f482=await getDoc(doc(db,_0x30fec4(0x2fd)+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0x44f482[_0x30fec4(0x4a4)]())return;const _0x3a4132=_0x44f482[_0x30fec4(0x958)]();if(_0x3a4132[_0x30fec4(0x419)]===_0x30fec4(0xa1a)){handleGroupAnswerSubmit();return;}const _0xfbe9a4=localTeamPlayers[localPlayerIndex],_0x7c0bf8=currentQuizData[_0x30fec4(0x600)][localQuestionIndex],_0x52b5e7=_0x7c0bf8['questionType']||currentQuizData['quizType'];let _0x1f4e9c=null,_0x2a01be=![];if(_0x52b5e7===_0x30fec4(0x9a5)||_0x52b5e7===_0x30fec4(0xc12)){const _0x1030cf=document['querySelector'](_0x30fec4(0xb75));if(!_0x1030cf||!_0x1030cf[_0x30fec4(0x556)][_0x30fec4(0xbde)]()){showMessage(_0x30fec4(0xa42));return;}_0x1f4e9c=_0x1030cf[_0x30fec4(0x556)][_0x30fec4(0xbde)](),_0x2a01be=await gradeShortAnswer(_0x1f4e9c,_0x7c0bf8);}else{const _0x538608=document[_0x30fec4(0x410)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x538608||_0x538608[_0x30fec4(0x556)]===''){showMessage(_0x30fec4(0x56a));return;}_0x1f4e9c=_0x538608[_0x30fec4(0x556)];switch(_0x52b5e7){case _0x30fec4(0xb61):_0x2a01be=_0x1f4e9c==='true'===_0x7c0bf8[_0x30fec4(0x684)];break;case'matching_item':_0x2a01be=_0x1f4e9c===_0x7c0bf8['correctResponse'];break;default:_0x2a01be=parseInt(_0x1f4e9c)===_0x7c0bf8[_0x30fec4(0x23d)];break;}}const _0xa2f599={'questionIndex':localQuestionIndex,'isCorrect':_0x2a01be,'answerValue':_0x1f4e9c},_0x103d47={[_0x30fec4(0x746)+_0xfbe9a4+_0x30fec4(0x460)]:arrayUnion(_0xa2f599)};_0x2a01be&&(_0x103d47[_0x30fec4(0x746)+_0xfbe9a4+_0x30fec4(0x3e3)]=increment(0x1));try{await updateDoc(doc(db,_0x30fec4(0x2fd)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x103d47),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x30fec4(0x4d9)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x352b6e){console[_0x30fec4(0xb9a)]('Error\x20submitting\x20team\x20answer:',_0x352b6e),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x2cf2c0=_0x5c7bd9;studentQuizArea[_0x2cf2c0(0xbe2)][_0x2cf2c0(0x5ca)](_0x2cf2c0(0x9b3)),studentResultArea[_0x2cf2c0(0xbe2)][_0x2cf2c0(0x521)](_0x2cf2c0(0x9b3));const _0x583909=doc(db,_0x2cf2c0(0x2fd)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x13a810=await getDoc(_0x583909);if(!_0x13a810['exists']()){studentResultArea['innerHTML']=_0x2cf2c0(0x3ef);return;}const _0x5408dc=_0x13a810[_0x2cf2c0(0x958)]();let _0x4b5cfe=[];const _0x9cce39=_0x5408dc[_0x2cf2c0(0x419)]||_0x2cf2c0(0x909);if(_0x9cce39===_0x2cf2c0(0xa1a)){const _0x1cfb78=_0x5408dc[_0x2cf2c0(0x6ca)][userId];_0x1cfb78?_0x4b5cfe=[{'name':_0x2cf2c0(0x938)+localTeamPlayers['join'](',\x20'),'score':_0x1cfb78[_0x2cf2c0(0xa0f)]||0x0}]:_0x4b5cfe=[{'name':_0x2cf2c0(0x671),'score':_0x2cf2c0(0x66f)}];}else _0x4b5cfe=localTeamPlayers[_0x2cf2c0(0x98b)](_0x37ad99=>({'name':_0x37ad99,'score':_0x5408dc[_0x2cf2c0(0x529)][_0x37ad99]?.[_0x2cf2c0(0xa0f)]||0x0}))[_0x2cf2c0(0x74a)]((_0x3a06ad,_0x47ee2f)=>_0x47ee2f['score']-_0x3a06ad[_0x2cf2c0(0xa0f)]);studentResultArea[_0x2cf2c0(0xa1c)]=_0x2cf2c0(0xbe5)+_0x4b5cfe[_0x2cf2c0(0x98b)](_0xb17de2=>_0x2cf2c0(0x948)+_0xb17de2[_0x2cf2c0(0x97a)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0xb17de2[_0x2cf2c0(0xa0f)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x2cf2c0(0x3b9),sessionStorage['removeItem'](_0x2cf2c0(0x992)),currentMode===_0x2cf2c0(0x1f3)&&currentTeamQuizId&&setTimeout(()=>{const _0x1e12d2=_0x2cf2c0;deleteDoc(doc(db,_0x1e12d2(0x2fd)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x5c7bd9(0x36e)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x5c7bd9(0x2fb)},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x82b)},{'category':_0x5c7bd9(0xa36),'name':'การปัดเศษและประมาณค่า'},{'category':'จำนวนและการดำเนินการ','name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':'จำนวนและการดำเนินการ','name':_0x5c7bd9(0x57d)},{'category':'จำนวนและการดำเนินการ','name':_0x5c7bd9(0xb29)},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x7f2)},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x358)},{'category':_0x5c7bd9(0xa36),'name':'จำนวนเต็มบวก'},{'category':'จำนวนและการดำเนินการ','name':_0x5c7bd9(0xbab)},{'category':'จำนวนและการดำเนินการ','name':'ศูนย์'},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x6b5)},{'category':'จำนวนและการดำเนินการ','name':_0x5c7bd9(0x214)},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x3d7)},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x8e5)},{'category':_0x5c7bd9(0xa36),'name':'ค.ร.น.\x20(LCM)'},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x5f4)},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x36c)},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x74f)},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0xc0d)},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x50b)},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x311)},{'category':_0x5c7bd9(0xa36),'name':'การหารเศษส่วน'},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x240)},{'category':_0x5c7bd9(0xa36),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x66e)},{'category':_0x5c7bd9(0xa36),'name':'การลบทศนิยม'},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x2f1)},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x95d)},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x404)},{'category':'จำนวนและการดำเนินการ','name':'ร้อยละพื้นฐาน'},{'category':'จำนวนและการดำเนินการ','name':_0x5c7bd9(0x2da)},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x1c0)},{'category':_0x5c7bd9(0xa36),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':'จำนวนและการดำเนินการ','name':'รากที่สองและที่สาม'},{'category':_0x5c7bd9(0xa36),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x5c7bd9(0xa36),'name':_0x5c7bd9(0x9d0)},{'category':_0x5c7bd9(0x9cd),'name':_0x5c7bd9(0x2a9)},{'category':'การวัด','name':_0x5c7bd9(0x757)},{'category':'การวัด','name':_0x5c7bd9(0x55d)},{'category':_0x5c7bd9(0x9cd),'name':_0x5c7bd9(0x238)},{'category':_0x5c7bd9(0x9cd),'name':'อุณหภูมิและการแปลง'},{'category':_0x5c7bd9(0x9cd),'name':'เส้นรอบรูป'},{'category':_0x5c7bd9(0x9cd),'name':_0x5c7bd9(0x7c0)},{'category':_0x5c7bd9(0x9cd),'name':_0x5c7bd9(0x594)},{'category':'การวัด','name':_0x5c7bd9(0x63a)},{'category':_0x5c7bd9(0x9cd),'name':_0x5c7bd9(0x20f)},{'category':'การวัด','name':_0x5c7bd9(0xbf0)},{'category':'การวัด','name':'มุมและการวัดมุม'},{'category':'การวัด','name':_0x5c7bd9(0x46c)},{'category':_0x5c7bd9(0x9cd),'name':_0x5c7bd9(0x97b)},{'category':'เรขาคณิต','name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x5c7bd9(0x26b),'name':_0x5c7bd9(0x7f4)},{'category':'เรขาคณิต','name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x5c7bd9(0x26b),'name':_0x5c7bd9(0x594)},{'category':_0x5c7bd9(0x26b),'name':_0x5c7bd9(0xaf4)},{'category':'เรขาคณิต','name':_0x5c7bd9(0x217)},{'category':_0x5c7bd9(0x26b),'name':_0x5c7bd9(0x470)},{'category':_0x5c7bd9(0x26b),'name':_0x5c7bd9(0x431)},{'category':_0x5c7bd9(0x26b),'name':_0x5c7bd9(0x8bb)},{'category':'เรขาคณิต','name':_0x5c7bd9(0xabe)},{'category':_0x5c7bd9(0x26b),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':'เรขาคณิต','name':_0x5c7bd9(0x755)},{'category':_0x5c7bd9(0x26b),'name':_0x5c7bd9(0xa6c)},{'category':'เรขาคณิต','name':_0x5c7bd9(0xafe)},{'category':_0x5c7bd9(0x26b),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x96e)},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x7dd)},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x5c2)},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x9e5)},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x9a3)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5c7bd9(0xa94)},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0xb59)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5c7bd9(0x33a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5c7bd9(0x34e)},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x54f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5c7bd9(0x480)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5c7bd9(0x6f1)},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x77f)},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0xb56)},{'category':_0x5c7bd9(0x9e0),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x37c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5c7bd9(0x547)},{'category':_0x5c7bd9(0x9e0),'name':'โดเมนและเรนจ์'},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x3da)},{'category':_0x5c7bd9(0x9e0),'name':'ฟังก์ชันผกผัน'},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0xb23)},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x586)},{'category':_0x5c7bd9(0x9e0),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x5c7bd9(0x9e0),'name':'ฟังก์ชันพหุนาม'},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x4e5)},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x506)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5c7bd9(0xa49)},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x687)},{'category':_0x5c7bd9(0x9e0),'name':'ฟังก์ชันยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5c7bd9(0xaf6)},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x6fc)},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x95c)},{'category':_0x5c7bd9(0x9e0),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x5c7bd9(0x9e0),'name':_0x5c7bd9(0x642)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5c7bd9(0x79c)},{'category':'เรขาคณิตวิเคราะห์','name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x5c7bd9(0x85c),'name':_0x5c7bd9(0x77e)},{'category':'เรขาคณิตวิเคราะห์','name':_0x5c7bd9(0x705)},{'category':_0x5c7bd9(0x85c),'name':_0x5c7bd9(0x42c)},{'category':'เรขาคณิตวิเคราะห์','name':_0x5c7bd9(0x7ec)},{'category':'เรขาคณิตวิเคราะห์','name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x5c7bd9(0x85c),'name':_0x5c7bd9(0x911)},{'category':_0x5c7bd9(0x85c),'name':_0x5c7bd9(0x568)},{'category':_0x5c7bd9(0x85c),'name':'ไฮเพอร์โบลา'},{'category':_0x5c7bd9(0x4d3),'name':_0x5c7bd9(0x88d)},{'category':_0x5c7bd9(0x4d3),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x5c7bd9(0x4d3),'name':_0x5c7bd9(0x7bc)},{'category':_0x5c7bd9(0x4d3),'name':_0x5c7bd9(0xaec)},{'category':'ตรีโกณมิติ','name':_0x5c7bd9(0x75d)},{'category':_0x5c7bd9(0x4d3),'name':_0x5c7bd9(0x4a7)},{'category':_0x5c7bd9(0x4d3),'name':_0x5c7bd9(0x7b9)},{'category':_0x5c7bd9(0x4d3),'name':_0x5c7bd9(0x29b)},{'category':_0x5c7bd9(0x4d3),'name':_0x5c7bd9(0x9d3)},{'category':_0x5c7bd9(0x4d3),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':'ตรีโกณมิติ','name':_0x5c7bd9(0x975)},{'category':'สถิติและความน่าจะเป็น','name':_0x5c7bd9(0x66d)},{'category':_0x5c7bd9(0x46a),'name':_0x5c7bd9(0x806)},{'category':_0x5c7bd9(0x46a),'name':_0x5c7bd9(0x782)},{'category':_0x5c7bd9(0x46a),'name':_0x5c7bd9(0x756)},{'category':'สถิติและความน่าจะเป็น','name':_0x5c7bd9(0x6f7)},{'category':'สถิติและความน่าจะเป็น','name':_0x5c7bd9(0x286)},{'category':_0x5c7bd9(0x46a),'name':'ค่าเฉลี่ย'},{'category':_0x5c7bd9(0x46a),'name':'มัธยฐาน'},{'category':_0x5c7bd9(0x46a),'name':_0x5c7bd9(0x994)},{'category':'สถิติและความน่าจะเป็น','name':'พิสัย'},{'category':_0x5c7bd9(0x46a),'name':_0x5c7bd9(0xb4a)},{'category':_0x5c7bd9(0x46a),'name':_0x5c7bd9(0xa85)},{'category':_0x5c7bd9(0x46a),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x5c7bd9(0x46a),'name':_0x5c7bd9(0x1b0)},{'category':_0x5c7bd9(0x46a),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x5c7bd9(0x46a),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x5c7bd9(0x46a),'name':_0x5c7bd9(0x4fe)},{'category':_0x5c7bd9(0x46a),'name':_0x5c7bd9(0x99a)},{'category':_0x5c7bd9(0x46a),'name':_0x5c7bd9(0x94c)},{'category':'สถิติและความน่าจะเป็น','name':_0x5c7bd9(0x649)},{'category':_0x5c7bd9(0x46a),'name':_0x5c7bd9(0x5ec)},{'category':_0x5c7bd9(0x46a),'name':_0x5c7bd9(0xad4)},{'category':'สถิติและความน่าจะเป็น','name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x5c7bd9(0x46a),'name':_0x5c7bd9(0xb36)},{'category':_0x5c7bd9(0xbaf),'name':_0x5c7bd9(0x736)},{'category':_0x5c7bd9(0xbaf),'name':_0x5c7bd9(0x2b7)},{'category':_0x5c7bd9(0xbaf),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x5c7bd9(0xbaf),'name':_0x5c7bd9(0x9f6)},{'category':_0x5c7bd9(0xbaf),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x5c7bd9(0xbaf),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x5c7bd9(0xbaf),'name':_0x5c7bd9(0xb3b)},{'category':_0x5c7bd9(0xbaf),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x5c7bd9(0xbaf),'name':_0x5c7bd9(0xa17)},{'category':_0x5c7bd9(0xbaf),'name':_0x5c7bd9(0x3ff)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5c7bd9(0xa4b)},{'category':_0x5c7bd9(0xbaf),'name':_0x5c7bd9(0xa44)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5c7bd9(0x67a)},{'category':_0x5c7bd9(0xbe4),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x5c7bd9(0xbe4),'name':_0x5c7bd9(0xb85)},{'category':_0x5c7bd9(0xbe4),'name':_0x5c7bd9(0x4e8)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x5c7bd9(0xbe4),'name':_0x5c7bd9(0x551)},{'category':_0x5c7bd9(0xbe4),'name':_0x5c7bd9(0x80a)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x5c7bd9(0x280)},{'category':_0x5c7bd9(0x5d7),'name':_0x5c7bd9(0x366)},{'category':_0x5c7bd9(0x5d7),'name':_0x5c7bd9(0x409)},{'category':_0x5c7bd9(0x5d7),'name':_0x5c7bd9(0xadc)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x5c7bd9(0xabb)},{'category':_0x5c7bd9(0x5d7),'name':_0x5c7bd9(0xb14)},{'category':_0x5c7bd9(0x550),'name':_0x5c7bd9(0x905)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x5c7bd9(0x7f0)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x198698=_0x5c7bd9,_0x2d31f1=document[_0x198698(0x82a)](_0x198698(0x691));if(!_0x2d31f1)return;const _0x1d01c8=allMathTopics,_0x2056e6=customMathTopics[_0x198698(0x98b)](_0x4a33c1=>({'id':_0x4a33c1['id'],'category':'หัวข้อที่สร้างเอง','name':_0x4a33c1[_0x198698(0x97a)]})),_0x269591=[..._0x1d01c8,..._0x2056e6],_0x404db8=_0x269591[_0x198698(0x631)]((_0x598efd,_0x40d57e)=>{const _0x46b906=_0x198698;return!_0x598efd[_0x40d57e[_0x46b906(0x503)]]&&(_0x598efd[_0x40d57e[_0x46b906(0x503)]]=[]),_0x598efd[_0x40d57e['category']][_0x46b906(0xbb1)](_0x40d57e),_0x598efd;},{});let _0x22cac2='';const _0x49854d=[_0x198698(0xaa5),...Object[_0x198698(0x4c4)](_0x404db8)[_0x198698(0x920)](_0x2efeec=>_0x2efeec!==_0x198698(0xaa5))];for(const _0x27e300 of _0x49854d){if(_0x404db8[_0x27e300]){const _0x3c36d8=_0x27e300===_0x198698(0xaa5),_0x536f12=_0x3c36d8?'fas\x20fa-user-edit':_0x198698(0x989),_0x14e0c8=_0x3c36d8?_0x198698(0x94b):_0x198698(0x81f);_0x22cac2+=_0x198698(0x7fc),_0x22cac2+=_0x198698(0x2b1)+_0x14e0c8+_0x198698(0x773)+_0x536f12+'\x20mr-2\x22></i>'+_0x27e300+_0x198698(0xc1e),_0x404db8[_0x27e300]['forEach'](_0x330311=>{const _0x5e12ba=_0x198698,_0x1c9a5d=!!_0x330311['id'],_0x40bea4=_0x1c9a5d?_0x5e12ba(0xb16)+_0x330311['id']+_0x5e12ba(0x95e)+_0x330311['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x330311['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x330311['id']+_0x5e12ba(0x9b4):'';_0x22cac2+=_0x5e12ba(0x726)+(_0x330311['id']||'')+_0x5e12ba(0x4c6)+_0x330311['name']+_0x5e12ba(0x63b)+_0x330311['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1c9a5d?_0x5e12ba(0xbfb)+_0x330311[_0x5e12ba(0x97a)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40bea4+_0x5e12ba(0x73d);}),_0x22cac2+=_0x198698(0x59b);}}_0x2d31f1[_0x198698(0xa1c)]=_0x22cac2||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x2d31f1[_0x198698(0xb86)](_0x198698(0x7d6),updateSelectedTopicsCount),_0x2d31f1[_0x198698(0x68b)](_0x198698(0x7d6),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x4716bb,_0x58016c){const _0x2d505d=_0x5c7bd9;if(!_0x4716bb||!_0x58016c['trim']()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x26037f=doc(db,'artifacts/'+appId+_0x2d505d(0x563),_0x4716bb);await updateDoc(_0x26037f,{'name':_0x58016c[_0x2d505d(0xbde)]()}),showMessage(_0x2d505d(0x62e));}catch(_0x5357fd){console[_0x2d505d(0xb9a)]('Error\x20updating\x20custom\x20topic:',_0x5357fd),showMessage(_0x2d505d(0x515));}}function toggleTopicEditMode(_0xcc719e,_0x2e01f3){const _0xa3d3ba=_0x5c7bd9;if(!_0xcc719e)return;const _0x3547a0=_0xcc719e[_0xa3d3ba(0x410)](_0xa3d3ba(0x4c0)),_0x42bb10=_0xcc719e[_0xa3d3ba(0x410)](_0xa3d3ba(0x266)),_0x2aa13d=_0xcc719e['querySelector'](_0xa3d3ba(0x2db)),_0x678c6f=_0xcc719e[_0xa3d3ba(0x410)]('.topic-actions-edit');_0x3547a0['classList']['toggle'](_0xa3d3ba(0x9b3),_0x2e01f3),_0x42bb10[_0xa3d3ba(0xbe2)]['toggle'](_0xa3d3ba(0x9b3),!_0x2e01f3),_0x2aa13d[_0xa3d3ba(0xbe2)]['toggle'](_0xa3d3ba(0x9b3),_0x2e01f3),_0x678c6f['classList'][_0xa3d3ba(0x6e9)]('hidden',!_0x2e01f3),_0x2e01f3&&(_0x42bb10[_0xa3d3ba(0x659)](),_0x42bb10[_0xa3d3ba(0x6c2)]());}async function handleStartLiveRace(_0x8e714e){const _0x16c9d7=_0x5c7bd9;let _0x27a74c=allQuizzes['find'](_0x52cfcf=>_0x52cfcf['id']===_0x8e714e);if(!_0x27a74c){const _0x5caa5f=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x8e714e),_0x264259=await getDoc(_0x5caa5f);if(!_0x264259[_0x16c9d7(0x4a4)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x27a74c={'id':_0x264259['id'],..._0x264259[_0x16c9d7(0x958)]()};}const _0x12d68d=getShuffledQuiz(_0x27a74c);currentQuizData=_0x12d68d;const _0x4d9552=_0x27a74c[_0x16c9d7(0x571)]||currentProjectId||null,_0x3f7292=Math[_0x16c9d7(0x33f)](0x3e8+Math[_0x16c9d7(0xb68)]()*0x2328)[_0x16c9d7(0x454)]();currentLiveGamePin=_0x3f7292;try{const _0x34e613=await addDoc(collection(db,_0x16c9d7(0x2fd)+appId+'/public/data/liveGames'),{'quizId':_0x8e714e,'projectId':_0x4d9552,'status':_0x16c9d7(0x954),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x3f7292,'createdAt':serverTimestamp(),'shuffledQuiz':_0x12d68d});currentLiveGameId=_0x34e613['id'],showAdminLobbyView(_0x3f7292,_0x27a74c[_0x16c9d7(0x231)]),listenForLiveGameUpdates();}catch(_0x288313){console['error'](_0x16c9d7(0x22b),_0x288313),showMessage(_0x16c9d7(0x7cf));}}function updateSelectedTopicsCount(){const _0xb5fea0=_0x5c7bd9,_0x5ca69a=document['getElementById'](_0xb5fea0(0x691)),_0x295e14=_0x5ca69a['querySelectorAll'](_0xb5fea0(0x689))[_0xb5fea0(0x4d9)],_0x5c7adc=document[_0xb5fea0(0x82a)](_0xb5fea0(0x39a));_0x295e14>0x0?_0x5c7adc['textContent']=_0xb5fea0(0x760)+_0x295e14+_0xb5fea0(0xb90):_0x5c7adc[_0xb5fea0(0xc26)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x5c7bd9(0x73c),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x5c7bd9(0x637),quizLeaderboardSortOrder=_0x5c7bd9(0x7d5),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x5c7bd9(0x690),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x53444b,_0x428387){const _0x2c4f82=_0x5c7bd9;return Math['sqrt'](Math[_0x2c4f82(0x501)](_0x53444b['x']-_0x428387['x'],0x2)+Math[_0x2c4f82(0x501)](_0x53444b['y']-_0x428387['y'],0x2));}function getMidpoint(_0x5a5904,_0x5a3aae){return{'x':(_0x5a5904['x']+_0x5a3aae['x'])/0x2,'y':(_0x5a5904['y']+_0x5a3aae['y'])/0x2};}function getTransformedPoint(_0x172dec,_0x196fe7){return{'x':(_0x172dec-scratchpadOffset['x'])/scratchpadScale,'y':(_0x196fe7-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x55a9de=_0x5c7bd9;if(!scratchpadCtx)return;const _0xd1efbe=scratchpadCtx[_0x55a9de(0x645)],_0x3d6566=window['devicePixelRatio']||0x1,_0x284070=document[_0x55a9de(0x82a)]('scratchpad-header');_0x284070&&(_0x284070[_0x55a9de(0x95f)]['transformOrigin']=_0x55a9de(0x940),_0x284070[_0x55a9de(0x95f)][_0x55a9de(0xb67)]=_0x55a9de(0x368)+scratchpadOffset['x']+_0x55a9de(0x509)+scratchpadOffset['y']+_0x55a9de(0x5b4)+scratchpadScale+')'),scratchpadCtx[_0x55a9de(0xa23)](),scratchpadCtx[_0x55a9de(0x4e6)](_0x3d6566,0x0,0x0,_0x3d6566,0x0,0x0),scratchpadCtx[_0x55a9de(0x626)](0x0,0x0,_0xd1efbe['width'],_0xd1efbe[_0x55a9de(0x38a)]),scratchpadCtx['restore'](),scratchpadCtx[_0x55a9de(0xa23)](),scratchpadCtx[_0x55a9de(0x3db)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x55a9de(0x3ac)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x33fe9a=>{drawStroke(_0x33fe9a);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x55a9de(0xab0)]();}function renderGroupModeQuestion(){const _0x2b59a1=_0x5c7bd9;if(localQuestionIndex>=currentQuizData[_0x2b59a1(0x600)][_0x2b59a1(0x4d9)]){displayTeamQuizFinalResults();return;}const _0x4a4b8e=currentQuizData[_0x2b59a1(0x600)][localQuestionIndex],_0x2ce95f=_0x4a4b8e[_0x2b59a1(0x6ab)]||currentQuizData[_0x2b59a1(0x738)];let _0x3bfcda=_0x4a4b8e[_0x2b59a1(0x589)]||_0x4a4b8e[_0x2b59a1(0xbc9)],_0x81bcdd='';switch(_0x2ce95f){case'multiple_choice':case'fill_in_with_choices':_0x81bcdd=_0x4a4b8e['options'][_0x2b59a1(0x98b)]((_0x3c7c9f,_0x2067b3)=>_0x2b59a1(0x862)+_0x2067b3+_0x2b59a1(0xa50)+_0x2067b3+_0x2b59a1(0xb6c)+_0x2067b3+'\x22>'+_0x3c7c9f+_0x2b59a1(0x229))[_0x2b59a1(0x5b3)]('');break;case'true_false':_0x81bcdd=_0x2b59a1(0x38b);break;case _0x2b59a1(0x9a5):case'fill_in_no_choices':_0x81bcdd='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>';break;case _0x2b59a1(0x239):_0x81bcdd=_0x2b59a1(0x7aa)+_0x4a4b8e[_0x2b59a1(0x2c7)][_0x2b59a1(0x98b)](_0x4fd3ca=>_0x2b59a1(0x4fa)+_0x4fd3ca+'\x22>'+_0x4fd3ca+_0x2b59a1(0xa8a))['join']('')+_0x2b59a1(0x471);break;default:_0x81bcdd=_0x2b59a1(0x44d);break;}studentQuizArea[_0x2b59a1(0xa1c)]=_0x2b59a1(0x919)+(localQuestionIndex+0x1)+_0x2b59a1(0xa3b)+currentQuizData[_0x2b59a1(0x600)][_0x2b59a1(0x4d9)]+_0x2b59a1(0x907)+localTeamPlayers[_0x2b59a1(0x5b3)](',\x20')+_0x2b59a1(0xa03)+(localQuestionIndex+0x1)+'.\x20'+_0x3bfcda+_0x2b59a1(0x762)+(_0x4a4b8e[_0x2b59a1(0xb88)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4a4b8e['imageCode']+_0x2b59a1(0x59b):'')+_0x2b59a1(0xb0c)+_0x81bcdd+_0x2b59a1(0x854),studentQuizArea[_0x2b59a1(0xbe2)][_0x2b59a1(0x521)](_0x2b59a1(0x9b3));if(window['MathJax'])MathJax[_0x2b59a1(0x894)]([studentQuizArea]);document[_0x2b59a1(0x82a)]('submit-group-answer-btn')[_0x2b59a1(0x68b)](_0x2b59a1(0x79e),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x492cb5,_0x360120=null,_0x305bff,_0x4f8200=null,_0x3031a1=![]){const _0x3a5114=_0x5c7bd9,_0x418062=document[_0x3a5114(0x82a)](_0x3a5114(0xbd4));_0x418062&&_0x418062['scrollIntoView']({'behavior':_0x3a5114(0x730),'block':'center'}),generateQuiz(_0x492cb5,_0x360120,null,null,!![],_0x305bff,_0x4f8200,_0x3031a1);}function handleGenerateAndShowLesson(_0x5390ef,_0x5daccf){const _0x276834=_0x5c7bd9,_0x1e6400=document[_0x276834(0x82a)](_0x276834(0xba2)),_0x16a100=document['getElementById']('lesson-view-title'),_0x34e1c1=document[_0x276834(0x82a)](_0x276834(0x6c3)),_0x227b82=document['getElementById'](_0x276834(0x52e));[_0x276834(0x3cd),_0x276834(0x3ee),_0x276834(0x953),_0x276834(0x2d5)][_0x276834(0x883)](_0x11b7cf=>{const _0x19132c=_0x276834,_0x49b347=document[_0x19132c(0x82a)](_0x11b7cf)[_0x19132c(0x383)];_0x49b347&&(_0x49b347[_0x19132c(0x95f)][_0x19132c(0x246)]='block');}),_0x16a100['textContent']=_0x276834(0x230)+_0x5390ef,_0x227b82[_0x276834(0xbe2)]['add']('hidden'),_0x34e1c1[_0x276834(0xbe2)][_0x276834(0x521)](_0x276834(0x9b3)),_0x1e6400[_0x276834(0xbe2)]['remove'](_0x276834(0x9b3)),generateLesson(_0x5390ef,_0x5daccf)[_0x276834(0xb4e)](_0x50094f=>{const _0x2c2b57=_0x276834;console['error'](_0x2c2b57(0x856),_0x50094f),showMessage(_0x2c2b57(0x62c)),_0x1e6400['classList'][_0x2c2b57(0x5ca)]('hidden');});}function handlePointerDown(_0x17f4c5){const _0x4fd2c8=_0x5c7bd9;_0x17f4c5[_0x4fd2c8(0xa73)]();const _0x359ea7=scratchpadCtx['canvas'],_0x44ba20=_0x359ea7[_0x4fd2c8(0x541)](),_0x9e765a=_0x17f4c5[_0x4fd2c8(0x616)]||(_0x17f4c5[_0x4fd2c8(0x886)]?_0x4fd2c8(0x573):_0x4fd2c8(0x367));if(_0x9e765a===_0x4fd2c8(0xbd8)||_0x9e765a===_0x4fd2c8(0x367)){if(_0x17f4c5[_0x4fd2c8(0x616)]==='mouse'&&_0x17f4c5['button']!==0x0){_0x17f4c5['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x17f4c5[_0x4fd2c8(0x804)],'y':_0x17f4c5[_0x4fd2c8(0x394)]},_0x359ea7[_0x4fd2c8(0x95f)]['cursor']='grabbing');return;}activeTool===_0x4fd2c8(0xa9b)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x247895=getTransformedPoint(_0x17f4c5[_0x4fd2c8(0x804)]-_0x44ba20[_0x4fd2c8(0x4d5)],_0x17f4c5[_0x4fd2c8(0x394)]-_0x44ba20[_0x4fd2c8(0xbc7)]);let _0x154bf5={'tool':activeTool,'points':[_0x247895]};if(activeTool===_0x4fd2c8(0x4ff))_0x154bf5[_0x4fd2c8(0x2f3)]=scratchpadHighlighterColor,_0x154bf5[_0x4fd2c8(0x5b6)]=scratchpadHighlighterSize;else activeTool===_0x4fd2c8(0xa9b)?(_0x154bf5['color']=scratchpadPenColor,_0x154bf5[_0x4fd2c8(0x5b6)]=scratchpadPenSize):(_0x154bf5[_0x4fd2c8(0x2f3)]=scratchpadPenColor,_0x154bf5[_0x4fd2c8(0x5b6)]=scratchpadPenSize);currentStroke=_0x154bf5;}else _0x17f4c5[_0x4fd2c8(0x886)]&&(_0x17f4c5['touches'][_0x4fd2c8(0x4d9)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x17f4c5[_0x4fd2c8(0x886)][0x0][_0x4fd2c8(0x804)],'y':_0x17f4c5[_0x4fd2c8(0x886)][0x0]['clientY']},{'x':_0x17f4c5[_0x4fd2c8(0x886)][0x1][_0x4fd2c8(0x804)],'y':_0x17f4c5[_0x4fd2c8(0x886)][0x1][_0x4fd2c8(0x394)]}),initialPinchDistance=getDistance({'x':_0x17f4c5[_0x4fd2c8(0x886)][0x0][_0x4fd2c8(0x804)],'y':_0x17f4c5[_0x4fd2c8(0x886)][0x0][_0x4fd2c8(0x394)]},{'x':_0x17f4c5[_0x4fd2c8(0x886)][0x1]['clientX'],'y':_0x17f4c5[_0x4fd2c8(0x886)][0x1][_0x4fd2c8(0x394)]})));}function animateTrail(){const _0x58bc4f=_0x5c7bd9,_0x5adaf4=Date['now']();let _0x3d892f=![];for(let _0x2b3f1b=strokes[_0x58bc4f(0x4d9)]-0x1;_0x2b3f1b>=0x0;_0x2b3f1b--){const _0x19aafe=strokes[_0x2b3f1b];if(_0x19aafe['tool']===_0x58bc4f(0xa9b)&&_0x19aafe[_0x58bc4f(0x972)]){const _0x5a660a=_0x5adaf4-_0x19aafe[_0x58bc4f(0x972)];_0x5a660a>=TRAIL_DURATION?strokes[_0x58bc4f(0x7a2)](_0x2b3f1b,0x1):(_0x19aafe[_0x58bc4f(0x61e)]=0x1-_0x5a660a/TRAIL_DURATION,_0x3d892f=!![]);}}redrawScratchpad(),_0x3d892f?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x42d220){const _0x3795a7=_0x5c7bd9;if(!_0x42d220||_0x42d220[_0x3795a7(0x706)][_0x3795a7(0x4d9)]<0x1)return;scratchpadCtx[_0x3795a7(0xa23)](),scratchpadCtx['lineJoin']=_0x3795a7(0x7ab),scratchpadCtx[_0x3795a7(0x34b)]=_0x3795a7(0x7ab);if(_0x42d220[_0x3795a7(0x30f)]===_0x3795a7(0xa9b)){const _0x47ed6a=_0x42d220[_0x3795a7(0x5b6)]/scratchpadScale;scratchpadCtx[_0x3795a7(0x542)]=_0x42d220[_0x3795a7(0x61e)]??0x1,scratchpadCtx['shadowColor']=_0x3795a7(0xb28),scratchpadCtx[_0x3795a7(0x338)]=_0x47ed6a*0x3,scratchpadCtx[_0x3795a7(0x632)]=_0x3795a7(0x47a),scratchpadCtx[_0x3795a7(0x707)]=_0x47ed6a*2.5,scratchpadCtx[_0x3795a7(0x2a6)](),scratchpadCtx['moveTo'](_0x42d220[_0x3795a7(0x706)][0x0]['x'],_0x42d220[_0x3795a7(0x706)][0x0]['y']);for(let _0x130f2b=0x1;_0x130f2b<_0x42d220[_0x3795a7(0x706)]['length']-0x1;_0x130f2b++){const _0x4f1360=getMidpoint(_0x42d220[_0x3795a7(0x706)][_0x130f2b],_0x42d220[_0x3795a7(0x706)][_0x130f2b+0x1]);scratchpadCtx[_0x3795a7(0x6d2)](_0x42d220[_0x3795a7(0x706)][_0x130f2b]['x'],_0x42d220[_0x3795a7(0x706)][_0x130f2b]['y'],_0x4f1360['x'],_0x4f1360['y']);}scratchpadCtx[_0x3795a7(0x753)](),scratchpadCtx[_0x3795a7(0x1fe)]='transparent',scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x3795a7(0x632)]=_0x3795a7(0x728),scratchpadCtx[_0x3795a7(0x707)]=_0x47ed6a,scratchpadCtx[_0x3795a7(0x753)](),scratchpadCtx[_0x3795a7(0x76f)]();}else{if(_0x42d220[_0x3795a7(0x30f)]===_0x3795a7(0x4ff)){scratchpadCtx[_0x3795a7(0x31d)]=_0x3795a7(0xb3c),scratchpadCtx[_0x3795a7(0x632)]=_0x42d220[_0x3795a7(0x2f3)],scratchpadCtx[_0x3795a7(0x707)]=_0x42d220[_0x3795a7(0x5b6)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x3795a7(0x55e)](_0x42d220['points'][0x0]['x'],_0x42d220['points'][0x0]['y']);for(let _0xf38ab9=0x1;_0xf38ab9<_0x42d220[_0x3795a7(0x706)][_0x3795a7(0x4d9)]-0x1;_0xf38ab9++){const _0x16c24e=getMidpoint(_0x42d220['points'][_0xf38ab9],_0x42d220['points'][_0xf38ab9+0x1]);scratchpadCtx['quadraticCurveTo'](_0x42d220[_0x3795a7(0x706)][_0xf38ab9]['x'],_0x42d220[_0x3795a7(0x706)][_0xf38ab9]['y'],_0x16c24e['x'],_0x16c24e['y']);}scratchpadCtx[_0x3795a7(0x753)](),scratchpadCtx[_0x3795a7(0x76f)]();}else{scratchpadCtx[_0x3795a7(0x31d)]=_0x42d220['tool']===_0x3795a7(0x1e1)?'destination-out':_0x3795a7(0xbd6),scratchpadCtx[_0x3795a7(0x632)]=_0x42d220[_0x3795a7(0x2f3)],scratchpadCtx['lineWidth']=_0x42d220[_0x3795a7(0x5b6)],scratchpadCtx[_0x3795a7(0x2a6)](),scratchpadCtx[_0x3795a7(0x55e)](_0x42d220[_0x3795a7(0x706)][0x0]['x'],_0x42d220[_0x3795a7(0x706)][0x0]['y']);for(let _0x5885ce=0x1;_0x5885ce<_0x42d220[_0x3795a7(0x706)][_0x3795a7(0x4d9)]-0x1;_0x5885ce++){const _0x210a50=getMidpoint(_0x42d220[_0x3795a7(0x706)][_0x5885ce],_0x42d220[_0x3795a7(0x706)][_0x5885ce+0x1]);scratchpadCtx[_0x3795a7(0x6d2)](_0x42d220[_0x3795a7(0x706)][_0x5885ce]['x'],_0x42d220[_0x3795a7(0x706)][_0x5885ce]['y'],_0x210a50['x'],_0x210a50['y']);}scratchpadCtx[_0x3795a7(0x753)](),scratchpadCtx['closePath']();}}scratchpadCtx['restore']();}function handlePointerMove(_0x122227){const _0x56ecef=_0x5c7bd9;_0x122227[_0x56ecef(0xa73)]();const _0x204330=scratchpadCtx[_0x56ecef(0x645)],_0x5ea251=_0x204330[_0x56ecef(0x541)]();if(_0x122227[_0x56ecef(0x886)]){if(_0x122227[_0x56ecef(0x886)][_0x56ecef(0x4d9)]===0x1&&isDrawingOnScratchpad){const _0x27a601=getTransformedPoint(_0x122227['touches'][0x0][_0x56ecef(0x804)]-_0x5ea251[_0x56ecef(0x4d5)],_0x122227[_0x56ecef(0x886)][0x0]['clientY']-_0x5ea251[_0x56ecef(0xbc7)]);currentStroke[_0x56ecef(0x706)][_0x56ecef(0xbb1)](_0x27a601),redrawScratchpad();}else{if(_0x122227[_0x56ecef(0x886)]['length']===0x2&&isPanning){const _0x48495c=getDistance({'x':_0x122227[_0x56ecef(0x886)][0x0][_0x56ecef(0x804)],'y':_0x122227[_0x56ecef(0x886)][0x0][_0x56ecef(0x394)]},{'x':_0x122227[_0x56ecef(0x886)][0x1][_0x56ecef(0x804)],'y':_0x122227[_0x56ecef(0x886)][0x1]['clientY']}),_0x1f0a8a=getMidpoint({'x':_0x122227[_0x56ecef(0x886)][0x0]['clientX'],'y':_0x122227[_0x56ecef(0x886)][0x0][_0x56ecef(0x394)]},{'x':_0x122227[_0x56ecef(0x886)][0x1][_0x56ecef(0x804)],'y':_0x122227[_0x56ecef(0x886)][0x1]['clientY']}),_0x594aa4=_0x48495c/ initialPinchDistance,_0x3dc226=Math['min'](Math['max'](scratchpadScale*_0x594aa4,MIN_SCALE),MAX_SCALE),_0x57c71f=_0x1f0a8a['x']-panStart['x'],_0x1f9a7e=_0x1f0a8a['y']-panStart['y'];scratchpadOffset['x']=_0x1f0a8a['x']-(_0x1f0a8a['x']-scratchpadOffset['x'])*(_0x3dc226/scratchpadScale),scratchpadOffset['y']=_0x1f0a8a['y']-(_0x1f0a8a['y']-scratchpadOffset['y'])*(_0x3dc226/scratchpadScale),scratchpadOffset['x']+=_0x57c71f,scratchpadOffset['y']+=_0x1f9a7e,scratchpadScale=_0x3dc226,initialPinchDistance=_0x48495c,panStart=_0x1f0a8a,redrawScratchpad();}}}else{if(isMousePanning){const _0x1a6c9f=_0x122227[_0x56ecef(0x804)]-panStart['x'],_0x3ed395=_0x122227[_0x56ecef(0x394)]-panStart['y'];scratchpadOffset['x']+=_0x1a6c9f,scratchpadOffset['y']+=_0x3ed395,panStart={'x':_0x122227[_0x56ecef(0x804)],'y':_0x122227[_0x56ecef(0x394)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x86b448=getTransformedPoint(_0x122227[_0x56ecef(0x804)]-_0x5ea251[_0x56ecef(0x4d5)],_0x122227[_0x56ecef(0x394)]-_0x5ea251['top']);currentStroke[_0x56ecef(0x706)]['push'](_0x86b448),redrawScratchpad();}}}}function handlePointerUp(_0x419c14){const _0x4852c9=_0x5c7bd9;_0x419c14[_0x4852c9(0xa73)]();const _0x1a728f=scratchpadCtx[_0x4852c9(0x645)];isMousePanning&&(isMousePanning=![],_0x1a728f[_0x4852c9(0x95f)][_0x4852c9(0xb6e)]=_0x4852c9(0x574)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x4852c9(0x706)]['length']>0x1&&(strokes[_0x4852c9(0xbb1)](currentStroke),currentStroke['tool']===_0x4852c9(0xa9b)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0xdf04b7=_0x4852c9,_0x1147e7=strokes[_0xdf04b7(0x920)](_0x23a134=>_0x23a134['tool']===_0xdf04b7(0xa9b)&&!_0x23a134[_0xdf04b7(0x972)]);if(_0x1147e7[_0xdf04b7(0x4d9)]>0x0){const _0x4518b=Date[_0xdf04b7(0x8cd)]();_0x1147e7[_0xdf04b7(0x883)](_0x50425e=>_0x50425e[_0xdf04b7(0x972)]=_0x4518b),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x5cee9d){const _0x2fce11=_0x5c7bd9;_0x5cee9d[_0x2fce11(0xa73)]();const _0x18c833=_0x5cee9d[_0x2fce11(0x92b)]*-0.005,_0x28ad89=Math['min'](Math[_0x2fce11(0xbda)](scratchpadScale+_0x18c833,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x5cee9d[_0x2fce11(0x804)]-(_0x5cee9d[_0x2fce11(0x804)]-scratchpadOffset['x'])*(_0x28ad89/scratchpadScale),scratchpadOffset['y']=_0x5cee9d[_0x2fce11(0x394)]-(_0x5cee9d['clientY']-scratchpadOffset['y'])*(_0x28ad89/scratchpadScale),scratchpadScale=_0x28ad89,redrawScratchpad();}function undo(){const _0x40786c=_0x5c7bd9;strokes[_0x40786c(0x4d9)]>0x0&&(redoStrokes['push'](strokes[_0x40786c(0xaf5)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x57b3c2=_0x5c7bd9;redoStrokes[_0x57b3c2(0x4d9)]>0x0&&(strokes['push'](redoStrokes[_0x57b3c2(0xaf5)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x2e26b0=_0x5c7bd9;document['getElementById'](_0x2e26b0(0xb6a))[_0x2e26b0(0x814)]=strokes[_0x2e26b0(0x4d9)]===0x0,document[_0x2e26b0(0x82a)]('redo-btn')[_0x2e26b0(0x814)]=redoStrokes['length']===0x0;}function openScratchpad(_0x52ea42,_0x14e85e){const _0x49372b=_0x5c7bd9,_0x141151=document[_0x49372b(0x82a)](_0x49372b(0x6a1)),_0x2708fc=document[_0x49372b(0x82a)](_0x49372b(0xb8b)),_0xf19996=document[_0x49372b(0x82a)](_0x49372b(0x742)),_0x4b8dad=document[_0x49372b(0x82a)](_0x49372b(0x915));_0x2708fc[_0x49372b(0xa1c)]=_0x52ea42[_0x49372b(0x589)]||_0x52ea42[_0x49372b(0xbc9)],_0xf19996[_0x49372b(0xa1c)]=_0x14e85e[_0x49372b(0x98b)]((_0x27ae36,_0x63e0a5)=>_0x49372b(0x95b)+String[_0x49372b(0x752)](0x41+_0x63e0a5)+'.\x20'+_0x27ae36+'</div>')['join'](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x141151[_0x49372b(0xbe2)][_0x49372b(0x521)](_0x49372b(0x9b3)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x49372b(0x403)])MathJax[_0x49372b(0x894)]([_0x2708fc,_0xf19996]);}function openBlueprintQuizSettings(){const _0x3f078e=_0x5c7bd9,_0x10a040=document['getElementById'](_0x3f078e(0x2f2)),_0x1aa8a2=blueprintPageSettings||(currentProjectData?currentProjectData[_0x3f078e(0x597)]:{})||{};document['getElementById'](_0x3f078e(0x2e7))['value']=_0x1aa8a2[_0x3f078e(0x738)]||document['getElementById'](_0x3f078e(0x629))[_0x3f078e(0x556)],document[_0x3f078e(0x82a)](_0x3f078e(0xa3c))['innerHTML']=document[_0x3f078e(0x82a)](_0x3f078e(0xa45))[_0x3f078e(0xa1c)],document[_0x3f078e(0x82a)](_0x3f078e(0xa3c))[_0x3f078e(0x556)]=_0x1aa8a2[_0x3f078e(0x8b0)]||document[_0x3f078e(0x82a)]('difficulty-level-select')[_0x3f078e(0x556)],document[_0x3f078e(0x82a)](_0x3f078e(0x28d))[_0x3f078e(0xa1c)]=document[_0x3f078e(0x82a)](_0x3f078e(0x2d8))['innerHTML'],document['getElementById'](_0x3f078e(0x28d))[_0x3f078e(0x556)]=_0x1aa8a2['complexityValue']||document[_0x3f078e(0x82a)](_0x3f078e(0x2d8))[_0x3f078e(0x556)],document['getElementById'](_0x3f078e(0x4b4))[_0x3f078e(0x556)]=_0x1aa8a2[_0x3f078e(0x5e2)]||document[_0x3f078e(0x82a)]('num-questions')[_0x3f078e(0x556)],document['getElementById'](_0x3f078e(0x6ce))[_0x3f078e(0x556)]=_0x1aa8a2[_0x3f078e(0x6e3)]||document['getElementById'](_0x3f078e(0x512))['value'],document['getElementById'](_0x3f078e(0x2be))[_0x3f078e(0x556)]=_0x1aa8a2[_0x3f078e(0x851)]||document[_0x3f078e(0x82a)](_0x3f078e(0x9ca))[_0x3f078e(0x556)],document[_0x3f078e(0x82a)](_0x3f078e(0x999))[_0x3f078e(0x556)]=_0x1aa8a2[_0x3f078e(0x406)]||document[_0x3f078e(0x82a)](_0x3f078e(0x364))[_0x3f078e(0x556)],document['getElementById'](_0x3f078e(0x237))[_0x3f078e(0x4be)]=_0x1aa8a2[_0x3f078e(0x758)]||document[_0x3f078e(0x82a)]('include-images-checkbox')[_0x3f078e(0x4be)],_0x10a040[_0x3f078e(0xbe2)]['remove'](_0x3f078e(0x9b3));}function handleSaveBlueprintPageSettings(){const _0x4497be=_0x5c7bd9;blueprintPageSettings={'quizType':document[_0x4497be(0x82a)](_0x4497be(0x2e7))[_0x4497be(0x556)],'difficultyValue':document[_0x4497be(0x82a)](_0x4497be(0xa3c))[_0x4497be(0x556)],'complexityValue':document[_0x4497be(0x82a)](_0x4497be(0x28d))[_0x4497be(0x556)],'numQuestions':document[_0x4497be(0x82a)](_0x4497be(0x4b4))[_0x4497be(0x556)],'passingScore':document[_0x4497be(0x82a)](_0x4497be(0x6ce))[_0x4497be(0x556)],'numChoices':document['getElementById'](_0x4497be(0x2be))[_0x4497be(0x556)],'shuffle':document[_0x4497be(0x82a)](_0x4497be(0x999))[_0x4497be(0x556)],'includeImages':document[_0x4497be(0x82a)](_0x4497be(0x237))[_0x4497be(0x4be)]},showMessage(_0x4497be(0x827)),document[_0x4497be(0x82a)](_0x4497be(0x2f2))[_0x4497be(0xbe2)][_0x4497be(0x5ca)](_0x4497be(0x9b3));}function initializeScratchpadCanvas(){const _0xf4becd=_0x5c7bd9,_0xf1d740=document[_0xf4becd(0x82a)]('scratchpad-canvas'),_0x4bbe68=document[_0xf4becd(0x410)](_0xf4becd(0x356));if(!_0xf1d740||!_0x4bbe68)return;scratchpadCtx=_0xf1d740[_0xf4becd(0x3ea)]('2d',{'willReadFrequently':!![]});const _0x263f44=window[_0xf4becd(0x7a8)]||0x1,_0x11c71b=_0x4bbe68[_0xf4becd(0x541)]();_0xf1d740[_0xf4becd(0x257)]=_0x11c71b[_0xf4becd(0x257)]*_0x263f44,_0xf1d740[_0xf4becd(0x38a)]=_0x11c71b[_0xf4becd(0x38a)]*_0x263f44,_0xf1d740[_0xf4becd(0x95f)]['width']=_0x11c71b[_0xf4becd(0x257)]+'px',_0xf1d740['style'][_0xf4becd(0x38a)]=_0x11c71b['height']+'px',scratchpadCtx[_0xf4becd(0x3ac)](_0x263f44,_0x263f44),scratchpadCtx[_0xf4becd(0x54d)]='round',scratchpadCtx[_0xf4becd(0x34b)]=_0xf4becd(0x7ab),_0xf1d740['removeEventListener']('pointerdown',handlePointerDown),_0xf1d740[_0xf4becd(0xb86)](_0xf4becd(0x3c0),handlePointerMove),_0xf1d740[_0xf4becd(0xb86)](_0xf4becd(0x7c5),handlePointerUp),_0xf1d740['removeEventListener'](_0xf4becd(0x641),handlePointerUp),_0xf1d740[_0xf4becd(0xb86)]('wheel',handleWheel),_0xf1d740[_0xf4becd(0xb86)](_0xf4becd(0x9c6),handlePointerDown),_0xf1d740[_0xf4becd(0xb86)](_0xf4becd(0x6fd),handlePointerMove),_0xf1d740[_0xf4becd(0xb86)]('touchend',handlePointerUp),_0xf1d740[_0xf4becd(0x68b)](_0xf4becd(0xa31),handlePointerDown),_0xf1d740[_0xf4becd(0x68b)]('pointermove',handlePointerMove),_0xf1d740[_0xf4becd(0x68b)](_0xf4becd(0x7c5),handlePointerUp),_0xf1d740['addEventListener'](_0xf4becd(0x641),handlePointerUp),_0xf1d740['addEventListener'](_0xf4becd(0x1ae),handleWheel,{'passive':![]}),_0xf1d740[_0xf4becd(0x68b)](_0xf4becd(0x9c6),handlePointerDown,{'passive':![]}),_0xf1d740[_0xf4becd(0x68b)](_0xf4becd(0x6fd),handlePointerMove,{'passive':![]}),_0xf1d740[_0xf4becd(0x68b)](_0xf4becd(0x4af),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x556efd=_0x5c7bd9,_0x5343aa=document[_0x556efd(0x82a)](_0x556efd(0x6a1)),_0x5ce863=document[_0x556efd(0x82a)](_0x556efd(0x915));_0x5ce863[_0x556efd(0xa1c)]=_0x556efd(0xaca)+scratchpadHighlighterSize+_0x556efd(0x8a8);const _0x180b2a=document[_0x556efd(0x82a)](_0x556efd(0xc0c)),_0x1fc661=document[_0x556efd(0x82a)]('eraser-tool-btn'),_0x366511=document[_0x556efd(0x82a)](_0x556efd(0x2b5)),_0x1795f6=document[_0x556efd(0x82a)]('highlighter-tool-btn'),_0x6d0adc=document[_0x556efd(0x82a)]('pen-tools-group'),_0x31917f=document[_0x556efd(0x82a)](_0x556efd(0xb9e)),_0x5873a7=[_0x180b2a,_0x1fc661,_0x366511,_0x1795f6];document[_0x556efd(0x82a)](_0x556efd(0x48c))['addEventListener'](_0x556efd(0x79e),()=>_0x5343aa[_0x556efd(0xbe2)][_0x556efd(0x5ca)](_0x556efd(0x9b3))),document[_0x556efd(0x82a)]('reset-view-btn')[_0x556efd(0x68b)](_0x556efd(0x79e),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x556efd(0x82a)](_0x556efd(0x949))[_0x556efd(0x68b)]('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x556efd(0x82a)](_0x556efd(0xb6a))[_0x556efd(0x68b)]('click',undo),document[_0x556efd(0x82a)](_0x556efd(0x48a))['addEventListener'](_0x556efd(0x79e),redo);const _0x4e3712=_0x1ca741=>{const _0x45a8b3=_0x556efd;_0x5873a7[_0x45a8b3(0x883)](_0x5e0e48=>_0x5e0e48[_0x45a8b3(0xbe2)][_0x45a8b3(0x521)](_0x45a8b3(0x458))),_0x1ca741[_0x45a8b3(0xbe2)][_0x45a8b3(0x5ca)]('active');const _0x58dac9=_0x1ca741===_0x1795f6;_0x6d0adc[_0x45a8b3(0xbe2)][_0x45a8b3(0x6e9)](_0x45a8b3(0x9b3),_0x58dac9),_0x31917f['classList'][_0x45a8b3(0x6e9)](_0x45a8b3(0x9b3),!_0x58dac9);};_0x180b2a[_0x556efd(0x68b)]('click',()=>{const _0xd7f70f=_0x556efd;activeTool=_0xd7f70f(0xbd8),_0x4e3712(_0x180b2a);}),_0x1fc661[_0x556efd(0x68b)]('click',()=>{const _0x3f438c=_0x556efd;activeTool=_0x3f438c(0x1e1),_0x4e3712(_0x1fc661);}),_0x366511[_0x556efd(0x68b)](_0x556efd(0x79e),()=>{const _0x4c93a9=_0x556efd;activeTool=_0x4c93a9(0xa9b),_0x4e3712(_0x366511);}),_0x1795f6[_0x556efd(0x68b)](_0x556efd(0x79e),()=>{const _0x4389a3=_0x556efd;activeTool=_0x4389a3(0x4ff),_0x4e3712(_0x1795f6);}),_0x6d0adc[_0x556efd(0xb24)](_0x556efd(0xa8d))['forEach'](_0x58e731=>{const _0x140088=_0x556efd;_0x58e731[_0x140088(0x68b)]('click',_0xef34c=>{const _0x4d99f9=_0x140088;scratchpadPenSize=parseInt(_0xef34c['target'][_0x4d99f9(0x6d1)][_0x4d99f9(0x5b6)],0xa),_0x6d0adc['querySelectorAll'](_0x4d99f9(0xa8d))[_0x4d99f9(0x883)](_0xd53785=>_0xd53785['classList'][_0x4d99f9(0x521)](_0x4d99f9(0x458))),_0xef34c[_0x4d99f9(0x5a4)]['classList']['add'](_0x4d99f9(0x458));});}),_0x6d0adc[_0x556efd(0xb24)](_0x556efd(0x5d4))['forEach'](_0x24f2c0=>{const _0x58a54d=_0x556efd;_0x24f2c0['addEventListener'](_0x58a54d(0x79e),_0x2154e0=>{const _0x1a7e27=_0x58a54d;scratchpadPenColor=_0x2154e0['target'][_0x1a7e27(0x6d1)][_0x1a7e27(0x2f3)],_0x6d0adc['querySelectorAll'](_0x1a7e27(0x5d4))['forEach'](_0x9510d=>_0x9510d[_0x1a7e27(0xbe2)][_0x1a7e27(0x521)](_0x1a7e27(0x458))),_0x2154e0[_0x1a7e27(0x5a4)][_0x1a7e27(0xbe2)]['add'](_0x1a7e27(0x458));});}),_0x31917f[_0x556efd(0xb24)](_0x556efd(0x702))[_0x556efd(0x883)](_0x1ac334=>{const _0x176476=_0x556efd;_0x1ac334[_0x176476(0x68b)](_0x176476(0x79e),_0x4122cd=>{const _0x5fc557=_0x176476;scratchpadHighlighterColor=_0x4122cd['target'][_0x5fc557(0x6d1)]['color'],_0x31917f[_0x5fc557(0xb24)](_0x5fc557(0x702))[_0x5fc557(0x883)](_0x3a1787=>_0x3a1787[_0x5fc557(0xbe2)]['remove'](_0x5fc557(0x458))),_0x4122cd[_0x5fc557(0x5a4)]['classList']['add']('active');});});const _0x5f02a2=document[_0x556efd(0x82a)](_0x556efd(0x25c)),_0x1f2934=document[_0x556efd(0x82a)](_0x556efd(0x84e));_0x5f02a2['addEventListener'](_0x556efd(0x8b6),_0x35934d=>{const _0x5d0f07=_0x556efd,_0x2ff268=parseInt(_0x35934d['target']['value'],0xa);scratchpadHighlighterSize=_0x2ff268,_0x1f2934[_0x5d0f07(0xc26)]=_0x2ff268;}),window[_0x556efd(0x68b)](_0x556efd(0x776),()=>{const _0x222803=_0x556efd;!_0x5343aa['classList'][_0x222803(0x5e6)](_0x222803(0x9b3))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x5c7bd9(0x513),'name':'คะแนนเต็ม','description':_0x5c7bd9(0x376),'icon':_0x5c7bd9(0x60e)},'QUICK_THINKER':{'id':_0x5c7bd9(0xa99),'name':'เซียนสมองไว','description':_0x5c7bd9(0x283),'icon':_0x5c7bd9(0x8c4)},'ON_FIRE':{'id':_0x5c7bd9(0x2a8),'name':_0x5c7bd9(0x1d5),'description':_0x5c7bd9(0xaf0),'icon':_0x5c7bd9(0x2cb)},'FIRST_TRY_ACE':{'id':_0x5c7bd9(0x290),'name':'ผ่านฉลุย','description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x5c7bd9(0x640),'name':_0x5c7bd9(0xac8),'description':_0x5c7bd9(0x2ba),'icon':_0x5c7bd9(0x202)},'SPECIALIST':{'id':_0x5c7bd9(0x3b7),'name':'ผู้เชี่ยวชาญ','description':_0x5c7bd9(0x549),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x5c7bd9(0x9ba),'name':_0x5c7bd9(0x316),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x5c7bd9(0xc2b)}},firebaseConfig={'apiKey':_0x5c7bd9(0x53f),'authDomain':_0x5c7bd9(0x289),'projectId':'ai-quiz-app-aefee','storageBucket':_0x5c7bd9(0x453),'messagingSenderId':_0x5c7bd9(0x507),'appId':_0x5c7bd9(0xaa2),'measurementId':_0x5c7bd9(0x374)},appId=typeof __app_id!=='undefined'?__app_id:_0x5c7bd9(0xaea),adminView=document[_0x5c7bd9(0x82a)]('admin-view'),studentView=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x8f7)),projectDashboardView=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x8b9)),projectDetailView=document[_0x5c7bd9(0x82a)]('project-detail-view'),quizResultsView=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x6ee)),projectList=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x817)),noProjectsMsg=document[_0x5c7bd9(0x82a)]('no-projects-msg'),projectTitle=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0xbe6)),projectIdDisplay=document[_0x5c7bd9(0x82a)]('project-id-display'),studentList=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x4e3)),messageModal=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x380)),modalMessage=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x5f0)),createProjectModal=document['getElementById'](_0x5c7bd9(0xa89)),adminPasswordModal=document['getElementById'](_0x5c7bd9(0x88a)),confirmationModal=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x34d)),userIdDisplay=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x893)),topicTab=document['getElementById'](_0x5c7bd9(0xacb)),textTab=document['getElementById'](_0x5c7bd9(0x97e)),topicInputArea=document[_0x5c7bd9(0x82a)]('topic-input-area'),textInputArea=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x70f)),manageTab=document['getElementById'](_0x5c7bd9(0x5b0)),resultsTab=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x207)),leaderboardTab=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x87d)),manageTabContent=document['getElementById'](_0x5c7bd9(0x4b2)),resultsTabContent=document['getElementById'](_0x5c7bd9(0x44f)),leaderboardTabContent=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x39b)),projectQuizzesList=document[_0x5c7bd9(0x82a)]('project-quizzes-list'),fileTab=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x436)),fileInputArea=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0xb3a)),fileUploadInput=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x2bb)),worksheetTab=document['getElementById'](_0x5c7bd9(0xac1)),worksheetInputArea=document['getElementById']('worksheet-input-area'),generateWorksheetBtn=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x81d)),studentInitialView=document['getElementById']('student-initial-view'),studentNameSelectionView=document['getElementById'](_0x5c7bd9(0x71a)),studentQuizArea=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x352)),studentResultArea=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x5ff)),studentReadingArea=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x25f)),loadQuizBtn=document['getElementById']('load-quiz-btn'),startQuizBtn=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x3f9)),studentJoinGameView=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x430)),presentationModal=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x4c3)),renameQuizModal=document['getElementById'](_0x5c7bd9(0x1a5)),moveQuizModal=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x20d)),quizSettingsModal=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x5ba)),quizStatusModal=document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x387)),liveGameView=document[_0x5c7bd9(0x82a)]('live-game-view');function handleFixLessonLatex(){const _0x35c602=_0x5c7bd9,_0xfbe8aa=document[_0x35c602(0x82a)](_0x35c602(0x698));if(!_0xfbe8aa){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0x1bf49e=_0xfbe8aa['querySelectorAll']([_0x35c602(0x9ab),_0x35c602(0xa01),_0x35c602(0x855),'.ai-content\x20td',_0x35c602(0x638)]['join'](','));let _0x4dca3c=0x0;const _0x57422e=_0x246ae7=>_0x246ae7[_0x35c602(0xc26)]||'',_0xd35b57=(_0x3effcf,_0x4e2c70)=>{const _0x2d4f4c=_0x35c602;if(_0x3effcf['querySelector']&&_0x3effcf[_0x2d4f4c(0x410)](_0x2d4f4c(0x962)))return;_0x3effcf[_0x2d4f4c(0xc26)]=_0x4e2c70;},_0x2e154f=_0x529b93=>_0x529b93['replace'](/\u00A0/g,'\x20')[_0x35c602(0x973)](/\u200B/g,'')[_0x35c602(0x973)](/\r\n?/g,'\x0a'),_0x23de11=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x231862=_0x2f69a0=>{const _0x26e4e8=_0x35c602;let _0x5212cf=_0x2f69a0[_0x26e4e8(0xbde)]();const _0xb61c39=[_0x26e4e8(0x1b3),'dfrac',_0x26e4e8(0xb98),_0x26e4e8(0x1df),_0x26e4e8(0xab6),_0x26e4e8(0x4b7),_0x26e4e8(0x801),_0x26e4e8(0x8d6),_0x26e4e8(0x809),'geq','le','ge',_0x26e4e8(0x3e8),'pm',_0x26e4e8(0x866),'sin','cos',_0x26e4e8(0x986),'log','ln',_0x26e4e8(0x68e),_0x26e4e8(0x276),_0x26e4e8(0x48f),_0x26e4e8(0x4d5),_0x26e4e8(0x473),_0x26e4e8(0x6cf),'underline','circ',_0x26e4e8(0xa52)];_0xb61c39['forEach'](_0x49c19b=>{const _0x11f5a3=_0x26e4e8;_0x5212cf=_0x5212cf['replace'](new RegExp(_0x11f5a3(0x5f2)+_0x49c19b+'\x5cb','g'),(_0x4d9303,_0x39a9e1)=>_0x39a9e1+'\x5c'+_0x49c19b);});const _0x263a0c=[[/×/g,_0x26e4e8(0x969)],[/·/g,_0x26e4e8(0x792)],[/÷/g,_0x26e4e8(0x6a2)],[/≤/g,_0x26e4e8(0xae5)],[/≥/g,_0x26e4e8(0xa07)],[/≠/g,_0x26e4e8(0x295)],[/±/g,_0x26e4e8(0x9b1)],[/∑/g,_0x26e4e8(0x66b)],[/−/g,'-']];return _0x263a0c[_0x26e4e8(0x883)](([_0x1f1aba,_0x11db71])=>{const _0x3b800a=_0x26e4e8;_0x5212cf=_0x5212cf[_0x3b800a(0x973)](_0x1f1aba,_0x11db71);}),_0x5212cf=_0x5212cf[_0x26e4e8(0x973)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x5212cf=_0x5212cf[_0x26e4e8(0x973)](/(\d+)\s*%/g,_0x26e4e8(0x821)),_0x5212cf;},_0x308d84=_0x4ebbf4=>{const _0x3803e6=_0x35c602;if(/\$|\\\(|\\\[/[_0x3803e6(0x5f7)](_0x4ebbf4))return _0x4ebbf4;if(!_0x23de11[_0x3803e6(0x5f7)](_0x4ebbf4))return _0x4ebbf4;const _0x412f3e=_0x4ebbf4[_0x3803e6(0x2a4)](/^\s*/)[0x0],_0x2f3c60=_0x4ebbf4[_0x3803e6(0x2a4)](/\s*$/)[0x0],_0x2a5dc6=_0x4ebbf4[_0x3803e6(0xbde)]();return _0x412f3e+'$'+_0x231862(_0x2a5dc6)+'$'+_0x2f3c60;};_0x1bf49e['forEach'](_0x3c3880=>{const _0x7723c8=_0x35c602,_0x21e88a=_0x57422e(_0x3c3880);let _0x58377a=_0x2e154f(_0x21e88a);_0x58377a=_0x58377a['replace'](/\$([^$]*?)\$/g,(_0x4f6d8a,_0x2d4875)=>'$'+_0x231862(_0x2d4875)+'$');const _0xb0ae9b=_0x58377a['split'](/(\s+)/),_0x3ae592=_0xb0ae9b[_0x7723c8(0x98b)](_0x31dded=>{if(/\s+/['test'](_0x31dded))return _0x31dded;return _0x308d84(_0x31dded);});_0x58377a=_0x3ae592[_0x7723c8(0x5b3)](''),_0x58377a!==_0x21e88a&&(_0xd35b57(_0x3c3880,_0x58377a),_0x4dca3c++);});if(_0x4dca3c>0x0){showMessage(_0x35c602(0xb19)+_0x4dca3c+_0x35c602(0x89d));try{window[_0x35c602(0x403)]&&MathJax[_0x35c602(0x894)]&&MathJax['typesetPromise']([_0xfbe8aa]);}catch(_0x4706c9){console[_0x35c602(0xb9a)](_0x35c602(0xb55),_0x4706c9);}}else showMessage('ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม');}function handleAutoFixLatex(){const _0x5e3b90=_0x5c7bd9,_0x4442b1=document[_0x5e3b90(0x82a)]('quiz-editor-questions-container')||document,_0x39ecff=_0x4442b1[_0x5e3b90(0xb24)](_0x5e3b90(0x45b));let _0x514dfa=0x0;const _0x858ee8=_0x452afa=>_0x5e3b90(0x556)in _0x452afa?String(_0x452afa[_0x5e3b90(0x556)]):_0x452afa[_0x5e3b90(0x93d)]!==undefined?_0x452afa['innerText']:_0x452afa[_0x5e3b90(0xc26)]||'',_0x3cd452=(_0x4252c4,_0x553fbc)=>{const _0x2c468d=_0x5e3b90;if(_0x2c468d(0x556)in _0x4252c4){_0x4252c4['value']=_0x553fbc;return;}if(_0x4252c4[_0x2c468d(0x410)]&&_0x4252c4['querySelector'](_0x2c468d(0x962)))return;if(_0x4252c4[_0x2c468d(0x93d)]!==undefined)_0x4252c4[_0x2c468d(0x93d)]=_0x553fbc;else _0x4252c4[_0x2c468d(0xc26)]=_0x553fbc;},_0x21b5c0=_0x20724b=>_0x20724b[_0x5e3b90(0x973)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x5e3b90(0x973)](/\r\n?/g,'\x0a'),_0x4c3b43=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x13b6b3=_0x4b5930=>{const _0x4cd99e=_0x5e3b90;let _0x4509ca=_0x4b5930[_0x4cd99e(0xbde)]();_0x4509ca=_0x4509ca[_0x4cd99e(0x973)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x4cd99e(0xb46)),_0x4509ca=_0x4509ca[_0x4cd99e(0x973)](/\bfrac(\d)(\d)/g,_0x4cd99e(0xb46));const _0x36751b=[_0x4cd99e(0x1b3),_0x4cd99e(0x1df),_0x4cd99e(0x4b7),_0x4cd99e(0x801),_0x4cd99e(0x8d6),'leq',_0x4cd99e(0x466),_0x4cd99e(0x3e8),'pm','sin',_0x4cd99e(0xb45),'tan','log','ln'];_0x36751b[_0x4cd99e(0x883)](_0x5d6fce=>{const _0x2066b9=_0x4cd99e;_0x4509ca=_0x4509ca[_0x2066b9(0x973)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x5d6fce+'\x5cb','g'),(_0x3cbc35,_0x5b3bcf)=>_0x5b3bcf+'\x5c'+_0x5d6fce);});const _0x2bdb70=[[/×/g,_0x4cd99e(0x969)],[/·/g,_0x4cd99e(0x792)],[/÷/g,'\x5cdiv'],[/≤/g,_0x4cd99e(0xae5)],[/≥/g,'\x5cge'],[/≠/g,_0x4cd99e(0x295)],[/±/g,_0x4cd99e(0x9b1)]];return _0x2bdb70['forEach'](([_0x52dea6,_0x1f6a65])=>{const _0x3518a1=_0x4cd99e;_0x4509ca=_0x4509ca[_0x3518a1(0x973)](_0x52dea6,_0x1f6a65);}),_0x4509ca;},_0x316e13=_0x3f3b9a=>{const _0x46369b=_0x5e3b90;if(/\$|\\\(|\\\[/[_0x46369b(0x5f7)](_0x3f3b9a))return _0x3f3b9a;if(!_0x4c3b43['test'](_0x3f3b9a))return _0x3f3b9a;const _0x3dee46=_0x3f3b9a[_0x46369b(0x2a4)](/^\s*/)[0x0],_0x4f1df7=_0x3f3b9a[_0x46369b(0x2a4)](/\s*$/)[0x0],_0x27e096=_0x3f3b9a[_0x46369b(0xbde)]();return _0x3dee46+'$'+_0x13b6b3(_0x27e096)+'$'+_0x4f1df7;};_0x39ecff[_0x5e3b90(0x883)](_0xaa4c8d=>{const _0x265d91=_0x5e3b90,_0x2b2e06=_0x858ee8(_0xaa4c8d);let _0x5d04b4=_0x21b5c0(_0x2b2e06);_0x5d04b4=_0x5d04b4[_0x265d91(0x973)](/\$([^$]*?)\$/g,(_0xd5aefd,_0x31439d)=>'$'+_0x13b6b3(_0x31439d)+'$');const _0x230a6c=_0x5d04b4[_0x265d91(0x8ce)](/(\s+)/),_0xc102ce=_0x230a6c['map'](_0x2c8458=>/\s+/[_0x265d91(0x5f7)](_0x2c8458)?_0x2c8458:_0x316e13(_0x2c8458));_0x5d04b4=_0xc102ce['join'](''),_0x5d04b4!==_0x2b2e06&&(_0x3cd452(_0xaa4c8d,_0x5d04b4),_0x514dfa++);});if(_0x514dfa>0x0){showMessage(_0x5e3b90(0x3b5)+_0x514dfa+_0x5e3b90(0x236));try{if(window[_0x5e3b90(0x403)]&&MathJax[_0x5e3b90(0x894)])MathJax[_0x5e3b90(0x894)]();}catch(_0x176742){}}else showMessage(_0x5e3b90(0x4ec));}async function listenForCustomMathTopics(){const _0x3f749b=_0x5c7bd9,_0x4fe9f3=collection(db,'artifacts/'+appId+_0x3f749b(0x563));onSnapshot(_0x4fe9f3,_0x528369=>{const _0x3f175c=_0x3f749b;customMathTopics=_0x528369[_0x3f175c(0x795)]['map'](_0x4f41cf=>({'id':_0x4f41cf['id'],..._0x4f41cf[_0x3f175c(0x958)]()})),renderTopicCheckboxes();},_0x15541f=>{const _0x22c008=_0x3f749b;console[_0x22c008(0xb9a)](_0x22c008(0x24c),_0x15541f);});}function handleSelectAllTopics(){const _0x226206=_0x5c7bd9,_0x537ae1=document[_0x226206(0x82a)]('math-topics-checkbox-container'),_0x2cf7ba=_0x537ae1[_0x226206(0xb24)](_0x226206(0x8e2));_0x2cf7ba[_0x226206(0x883)](_0x5eb8dd=>{_0x5eb8dd['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x30caa1=_0x5c7bd9,_0x217837=document['getElementById'](_0x30caa1(0x691)),_0x106310=_0x217837[_0x30caa1(0xb24)](_0x30caa1(0x8e2));_0x106310[_0x30caa1(0x883)](_0x3badb7=>{_0x3badb7['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x23a7e2){const _0x5e5600=_0x5c7bd9;if(!_0x23a7e2)return;try{const _0x195d9a=doc(db,'artifacts/'+appId+'/public/data/customMathTopics',_0x23a7e2);await deleteDoc(_0x195d9a),showMessage(_0x5e5600(0xabc));}catch(_0xf762b4){console[_0x5e5600(0xb9a)](_0x5e5600(0x9e2),_0xf762b4),showMessage(_0x5e5600(0x46b));}}async function handleAddCustomMathTopic(){const _0x1b5a55=_0x5c7bd9,_0x404d3c=document[_0x1b5a55(0x82a)](_0x1b5a55(0x942)),_0x5d2eb1=_0x404d3c[_0x1b5a55(0x556)]['trim']();if(!_0x5d2eb1){showMessage(_0x1b5a55(0x28c));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x38a0f1=collection(db,_0x1b5a55(0x2fd)+appId+_0x1b5a55(0x563));await addDoc(_0x38a0f1,{'name':_0x5d2eb1,'createdAt':serverTimestamp()}),_0x404d3c[_0x1b5a55(0x556)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x5d2eb1+_0x1b5a55(0x273));}catch(_0x2423ee){console['error'](_0x1b5a55(0x693),_0x2423ee),showMessage(_0x1b5a55(0x203));}}async function handleUpdateOldQuizzes(){const _0x3ea8ef=_0x5c7bd9;showConfirmation(_0x3ea8ef(0x96d),async()=>{const _0x32cfc4=_0x3ea8ef,_0x4436a9=document[_0x32cfc4(0x82a)](_0x32cfc4(0xb72)),_0x8009a8=document[_0x32cfc4(0x82a)](_0x32cfc4(0x9ea)),_0x45e66c=_0x8009a8[_0x32cfc4(0xc26)];_0x4436a9[_0x32cfc4(0xbe2)][_0x32cfc4(0x521)](_0x32cfc4(0x9b3)),_0x8009a8[_0x32cfc4(0xc26)]=_0x32cfc4(0x66c);try{const _0x35171f=collection(db,_0x32cfc4(0x2fd)+appId+_0x32cfc4(0x74e)),_0x2c810d=await getDocs(_0x35171f);if(_0x2c810d[_0x32cfc4(0x7b4)]){showMessage(_0x32cfc4(0x33c));return;}const _0x14da7a=writeBatch(db);let _0x19a75e=0x0;_0x2c810d[_0x32cfc4(0x883)](_0x20d266=>{const _0x9b2e98=_0x32cfc4,_0x3b1acd=_0x20d266[_0x9b2e98(0x958)](),_0x1a96b2=_0x20d266['id'];if(_0x3b1acd[_0x9b2e98(0x600)]&&_0x3b1acd[_0x9b2e98(0x600)][_0x9b2e98(0x4d9)]>0x0&&!_0x3b1acd[_0x9b2e98(0x600)][0x0][_0x9b2e98(0xa9a)]('id')){console[_0x9b2e98(0x77c)](_0x9b2e98(0x803)+_0x1a96b2+'\x20('+_0x3b1acd[_0x9b2e98(0x231)]+')'),_0x19a75e++;const _0x172709=_0x3b1acd[_0x9b2e98(0x600)][_0x9b2e98(0x98b)]((_0x50f611,_0x5d3557)=>{return{..._0x50f611,'id':_0x50f611['id']||'q_'+Date['now']()+'_'+_0x1a96b2+'_'+_0x5d3557};}),_0x213803=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1a96b2);_0x14da7a[_0x9b2e98(0x570)](_0x213803,{'questions':_0x172709});}}),_0x19a75e>0x0?(_0x8009a8[_0x32cfc4(0xc26)]=_0x32cfc4(0x4cf)+_0x19a75e+_0x32cfc4(0x901),await _0x14da7a[_0x32cfc4(0xbf4)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x19a75e+_0x32cfc4(0xa87))):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0xa674ff){console['error'](_0x32cfc4(0x64d),_0xa674ff),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0xa674ff[_0x32cfc4(0x6a5)]);}finally{_0x4436a9[_0x32cfc4(0xbe2)][_0x32cfc4(0x5ca)](_0x32cfc4(0x9b3)),_0x8009a8['textContent']=_0x45e66c;}});}async function handleBulkUpdateQuizSettings(){const _0x57f821=_0x5c7bd9,_0x5a75f1={'shuffle':document[_0x57f821(0x82a)](_0x57f821(0x717))[_0x57f821(0x556)],'resultsDisplay':document[_0x57f821(0x82a)](_0x57f821(0x4bd))[_0x57f821(0x556)],'loopUntilPass':document[_0x57f821(0x82a)]('bulk-loop-until-pass-checkbox')['checked'],'isConfidenceScoringEnabled':document[_0x57f821(0x82a)](_0x57f821(0x91a))[_0x57f821(0x4be)],'confidenceMode':document[_0x57f821(0x82a)](_0x57f821(0x561))[_0x57f821(0x556)]};try{showMessage(_0x57f821(0x272));const _0x26e14c=await getDocs(collection(db,_0x57f821(0x2fd)+appId+_0x57f821(0x74e))),_0x2aecb2=_0x26e14c['docs']['map'](_0x5d36a5=>({'id':_0x5d36a5['id'],'data':_0x5d36a5[_0x57f821(0x958)]()})),_0x553231=_0x2aecb2[_0x57f821(0x4d9)];showConfirmation(_0x57f821(0x5d8)+_0x553231+_0x57f821(0x672),async()=>{const _0x4b974f=_0x57f821,_0xc09e69=document[_0x4b974f(0x82a)](_0x4b974f(0xa9f));_0xc09e69[_0x4b974f(0x814)]=!![],_0xc09e69[_0x4b974f(0xa1c)]=_0x4b974f(0x995);try{const _0x1ba39c=writeBatch(db);_0x2aecb2['forEach'](_0x207e37=>{const _0x2af66c=_0x4b974f,_0x184f05=doc(db,'artifacts/'+appId+_0x2af66c(0x74e),_0x207e37['id']),_0x14c376={..._0x207e37['data'][_0x2af66c(0x597)]||{},..._0x5a75f1};_0x1ba39c[_0x2af66c(0x570)](_0x184f05,{'settings':_0x14c376});}),await _0x1ba39c[_0x4b974f(0xbf4)](),document['getElementById'](_0x4b974f(0x956))[_0x4b974f(0xbe2)][_0x4b974f(0x5ca)]('hidden'),showMessage(_0x4b974f(0xa13)+_0x553231+_0x4b974f(0xb73));}catch(_0x2c9b15){console[_0x4b974f(0xb9a)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x2c9b15),showMessage(_0x4b974f(0x673));}finally{_0xc09e69['disabled']=![],_0xc09e69[_0x4b974f(0xa1c)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0xa4f2d8){console['error']('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0xa4f2d8),showMessage(_0x57f821(0xad7));}}async function handleSaveProjectName(){const _0x4f1f94=_0x5c7bd9,_0x3b94d0=document[_0x4f1f94(0x82a)](_0x4f1f94(0xbe6)),_0x5dd448=document['getElementById'](_0x4f1f94(0x59c)),_0x3a1f4f=_0x3b94d0[_0x4f1f94(0xc26)][_0x4f1f94(0xbde)]();if(!_0x3a1f4f||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x3b94d0[_0x4f1f94(0xc26)]=currentProjectData['projectName'];return;}_0x5dd448[_0x4f1f94(0x814)]=!![],_0x5dd448[_0x4f1f94(0xa1c)]=_0x4f1f94(0x2f7);try{const _0xa43f9d=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId);await updateDoc(_0xa43f9d,{'projectName':_0x3a1f4f}),currentProjectData&&(currentProjectData['projectName']=_0x3a1f4f),showMessage(_0x4f1f94(0x7d9));}catch(_0x157a10){console[_0x4f1f94(0xb9a)](_0x4f1f94(0x2ae),_0x157a10),showMessage(_0x4f1f94(0xa6d)),_0x3b94d0['textContent']=currentProjectData['projectName'];}finally{_0x5dd448[_0x4f1f94(0xbe2)][_0x4f1f94(0x5ca)](_0x4f1f94(0x9b3)),_0x5dd448['disabled']=![],_0x5dd448[_0x4f1f94(0xa1c)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x4211d6,_0x1cf3d5){const _0x25f299=_0x5c7bd9,_0x998fef=document[_0x25f299(0x82a)]('lesson-view-modal'),_0x1345dd=document['getElementById']('lesson-view-title'),_0x36219c=document[_0x25f299(0x82a)](_0x25f299(0x6c3)),_0x4725df=document[_0x25f299(0x82a)](_0x25f299(0x52e));_0x1345dd[_0x25f299(0xc26)]=_0x25f299(0x55c)+_0x4211d6,_0x4725df['classList'][_0x25f299(0x5ca)](_0x25f299(0x9b3)),_0x36219c[_0x25f299(0xbe2)][_0x25f299(0x521)](_0x25f299(0x9b3)),_0x998fef[_0x25f299(0xbe2)][_0x25f299(0x521)](_0x25f299(0x9b3)),generatePracticeTest(_0x4211d6,_0x1cf3d5)[_0x25f299(0xb4e)](_0x33f025=>{const _0x3b09eb=_0x25f299;console[_0x3b09eb(0xb9a)](_0x3b09eb(0x2fc),_0x33f025),showMessage(_0x3b09eb(0x9f9)),_0x998fef['classList'][_0x3b09eb(0x5ca)](_0x3b09eb(0x9b3));});}async function generatePracticeTest(_0x23e43c,_0x364cbf){const _0x1c5631=_0x5c7bd9;[_0x1c5631(0x3cd),'memoryContent','applicationContent',_0x1c5631(0x2d5)][_0x1c5631(0x883)](_0x553464=>{const _0x584ae2=_0x1c5631,_0x44c658=document['getElementById'](_0x553464)[_0x584ae2(0x383)];_0x44c658&&(_0x44c658[_0x584ae2(0x95f)]['display']='none');});try{const _0x4f4612=_0x1c5631(0xa1e),_0x51d336=_0x1c5631(0x581)+_0x364cbf+'\x27\x20ในหัวข้อ\x20\x27'+_0x23e43c+_0x1c5631(0x5ef),_0x58c0e4=await callGemini(_0x51d336,!![]),_0x3f8134=document[_0x1c5631(0x82a)](_0x1c5631(0xc13)),_0x426ade=document[_0x1c5631(0x82a)](_0x1c5631(0x6c3)),_0x2a5dfc=document[_0x1c5631(0x82a)](_0x1c5631(0x52e)),_0x53d272=document[_0x1c5631(0x82a)]('applicationContent')[_0x1c5631(0x383)];_0x3f8134[_0x1c5631(0x93d)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x23e43c[_0x1c5631(0x973)](/•\s/g,'')+_0x1c5631(0xadb)+_0x364cbf+')',currentApplicationData=JSON['parse'](_0x58c0e4);const _0xf6208a=document[_0x1c5631(0x82a)]('applicationContent');_0xf6208a['innerHTML']=currentApplicationData[_0x1c5631(0x98b)]((_0x125565,_0x6a9e00)=>_0x1c5631(0xbe3)+(_0x6a9e00+0x1)+'.\x20'+marked[_0x1c5631(0x441)](_0x125565[_0x1c5631(0xb99)])+_0x1c5631(0xa0b)+_0x6a9e00+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x125565[_0x1c5631(0xb8c)][_0x1c5631(0x98b)]((_0x338348,_0x1c32da)=>_0x1c5631(0x58f)+_0x6a9e00+',\x20'+_0x1c32da+_0x1c5631(0x647)+String[_0x1c5631(0x752)](0x61+_0x1c32da)+'.\x20'+marked[_0x1c5631(0x441)](_0x338348)+_0x1c5631(0x269))[_0x1c5631(0x5b3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1c5631(0x5b3)](''),window[_0x1c5631(0x403)]&&MathJax[_0x1c5631(0x894)]([_0xf6208a]),_0x53d272&&(_0x53d272[_0x1c5631(0x95f)]['display']=_0x1c5631(0x351)),_0x426ade[_0x1c5631(0xbe2)][_0x1c5631(0x5ca)](_0x1c5631(0x9b3)),_0x2a5dfc[_0x1c5631(0xbe2)][_0x1c5631(0x521)]('hidden');}catch(_0x3a1dcd){console[_0x1c5631(0xb9a)](_0x3a1dcd);throw _0x3a1dcd;}}async function callGemini(_0x53d957,_0x4ff7b9=![]){const _0x4c3bce=_0x5c7bd9,_0x36f67d=_0x4c3bce(0x3e4),_0x2a9339=_0x4c3bce(0x96b)+_0x36f67d,_0x99181e={'contents':[{'parts':[{'text':_0x53d957}]}]};_0x4ff7b9&&(_0x99181e[_0x4c3bce(0xa4c)]={'responseMimeType':_0x4c3bce(0x2f6)},_0x53d957[_0x4c3bce(0x918)]('Test\x20Blueprint')?_0x99181e[_0x4c3bce(0xa4c)][_0x4c3bce(0x525)]={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x4c3bce(0x5e7)},'curriculum':{'type':'ARRAY','items':{'type':_0x4c3bce(0x4f7),'properties':{'sara':{'type':_0x4c3bce(0x5e7)},'mainTopics':{'type':_0x4c3bce(0xace),'items':{'type':_0x4c3bce(0x4f7),'properties':{'topicName':{'type':_0x4c3bce(0x5e7)},'subTopics':{'type':_0x4c3bce(0xace),'items':{'type':'STRING'}}},'required':['topicName',_0x4c3bce(0x84d)]}}},'required':['sara','mainTopics']}}},'required':[_0x4c3bce(0x931),'curriculum']}:_0x99181e['generationConfig'][_0x4c3bce(0x525)]={'type':_0x4c3bce(0xace),'items':{'type':_0x4c3bce(0x4f7),'properties':{'question':{'type':_0x4c3bce(0x5e7)},'options':{'type':'ARRAY','items':{'type':_0x4c3bce(0x5e7)}},'answer':{'type':'NUMBER'}},'required':[_0x4c3bce(0xb99),_0x4c3bce(0xb8c),_0x4c3bce(0x8d1)]}});try{const _0x523310=await fetch(_0x2a9339,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x4c3bce(0x6b3)](_0x99181e)});if(!_0x523310['ok']){const _0x324a80=await _0x523310[_0x4c3bce(0xab6)]();console[_0x4c3bce(0xb9a)](_0x4c3bce(0x1c5),_0x324a80);throw new Error(_0x4c3bce(0xc04)+_0x523310[_0x4c3bce(0x6d5)]);}const _0x4e8691=await _0x523310[_0x4c3bce(0xafa)]();if(_0x4e8691[_0x4c3bce(0x845)]&&_0x4e8691[_0x4c3bce(0x845)][0x0][_0x4c3bce(0x3e0)]&&_0x4e8691['candidates'][0x0][_0x4c3bce(0x3e0)][_0x4c3bce(0x457)][0x0])return _0x4e8691[_0x4c3bce(0x845)][0x0][_0x4c3bce(0x3e0)][_0x4c3bce(0x457)][0x0][_0x4c3bce(0xab6)];else{console['error']('Unexpected\x20API\x20response\x20structure:',_0x4e8691);if(_0x4e8691[_0x4c3bce(0x845)]&&_0x4e8691[_0x4c3bce(0x845)][0x0]['finishReason']===_0x4c3bce(0x325))return JSON[_0x4c3bce(0x6b3)]({'error':_0x4c3bce(0x916)});throw new Error(_0x4c3bce(0x74d));}}catch(_0x19fa8e){console[_0x4c3bce(0xb9a)](_0x4c3bce(0x353),_0x19fa8e);throw _0x19fa8e;}}async function generateLesson(_0x585a8c=null,_0x20ba19=null){const _0x2db7cb=_0x5c7bd9,_0x37c76d=_0x585a8c,_0x1a1f78=_0x20ba19||_0x2db7cb(0x7b0),_0x1cac5e=document[_0x2db7cb(0x82a)]('lesson-loader'),_0x3a3c99=document['getElementById'](_0x2db7cb(0x312));_0x3a3c99[_0x2db7cb(0xc26)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x37c76d+_0x2db7cb(0x47e);try{const _0x536c79=_0x2db7cb(0xb34),_0x1b90ab='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x1a1f78+'\x27\x20ในหัวข้อ\x20\x27'+_0x37c76d+_0x2db7cb(0x287)+_0x536c79+_0x2db7cb(0xabd),_0x288ecc=_0x2db7cb(0x3c4)+_0x37c76d+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x1a1f78+'\x27\x20ในส่วน\x20\x27MEMORY\x27\x20'+_0x536c79+_0x2db7cb(0xa78),_0x863b4f='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x1a1f78+_0x2db7cb(0xad2)+_0x37c76d+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20โจทย์และตัวเลือกต้องมีลักษณะและความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x403d99='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x37c76d+_0x2db7cb(0x696)+_0x1a1f78+_0x2db7cb(0x933)+_0x536c79+_0x2db7cb(0x7a4),[_0x3178bc,_0x790fd6,_0x35d6c3,_0x38a038]=await Promise[_0x2db7cb(0x371)]([callGemini(_0x1b90ab),callGemini(_0x288ecc),callGemini(_0x863b4f,!![]),callGemini(_0x403d99)]),_0x309f39=document[_0x2db7cb(0x82a)](_0x2db7cb(0xc13)),_0x46c3b1=document[_0x2db7cb(0x82a)](_0x2db7cb(0x52e));_0x309f39[_0x2db7cb(0x93d)]='บทเรียนเรื่อง:\x20'+_0x37c76d[_0x2db7cb(0x973)](/•\s/g,'')+_0x2db7cb(0xadb)+_0x1a1f78+')',[_0x2db7cb(0x3cd),_0x2db7cb(0x3ee),_0x2db7cb(0x2d5)][_0x2db7cb(0x883)](_0x492dfe=>{const _0x5c0850=_0x2db7cb;document[_0x5c0850(0x82a)](_0x492dfe)['innerHTML']='';}),document['getElementById'](_0x2db7cb(0x3cd))['innerHTML']=marked['parse'](_0x3178bc),document[_0x2db7cb(0x82a)](_0x2db7cb(0x3ee))['innerHTML']=marked[_0x2db7cb(0x4cb)](_0x790fd6),document[_0x2db7cb(0x82a)](_0x2db7cb(0x2d5))[_0x2db7cb(0xa1c)]=marked[_0x2db7cb(0x4cb)](_0x38a038),currentApplicationData=JSON[_0x2db7cb(0x4cb)](_0x35d6c3);const _0x23142b=document[_0x2db7cb(0x82a)](_0x2db7cb(0x953));_0x23142b['innerHTML']=currentApplicationData[_0x2db7cb(0x98b)]((_0x18f228,_0x202bef)=>_0x2db7cb(0xbe3)+(_0x202bef+0x1)+'.\x20'+marked[_0x2db7cb(0x441)](_0x18f228[_0x2db7cb(0xb99)])+_0x2db7cb(0xa0b)+_0x202bef+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18f228['options'][_0x2db7cb(0x98b)]((_0x420798,_0x379ab1)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x202bef+',\x20'+_0x379ab1+_0x2db7cb(0x647)+String[_0x2db7cb(0x752)](0x61+_0x379ab1)+'.\x20'+marked[_0x2db7cb(0x441)](_0x420798)+_0x2db7cb(0x269))[_0x2db7cb(0x5b3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),window[_0x2db7cb(0x403)]&&MathJax[_0x2db7cb(0x894)]([_0x46c3b1]),_0x1cac5e[_0x2db7cb(0xbe2)][_0x2db7cb(0x5ca)](_0x2db7cb(0x9b3)),_0x46c3b1[_0x2db7cb(0xbe2)][_0x2db7cb(0x521)](_0x2db7cb(0x9b3));}catch(_0x1ea402){console[_0x2db7cb(0xb9a)](_0x1ea402);throw _0x1ea402;}finally{}}function checkAnswer(_0x544132,_0xe37c1b){const _0x40afb0=_0x5c7bd9,_0x35b7dd=currentApplicationData[_0x544132],_0x514e63=document['getElementById']('q'+_0x544132+_0x40afb0(0xc1c)),_0x103044=_0x514e63[_0x40afb0(0x52d)](_0x40afb0(0x885));for(let _0xba5d2e of _0x103044){_0xba5d2e['disabled']=!![];}_0xe37c1b===_0x35b7dd[_0x40afb0(0x8d1)]?_0x103044[_0xe37c1b]['classList'][_0x40afb0(0x5ca)](_0x40afb0(0xbe8)):(_0x103044[_0xe37c1b][_0x40afb0(0xbe2)]['add'](_0x40afb0(0x26c)),_0x103044[_0x35b7dd[_0x40afb0(0x8d1)]][_0x40afb0(0xbe2)]['add'](_0x40afb0(0xbe8)));}window[_0x5c7bd9(0x255)]=handleGenerateAndShowLesson,window[_0x5c7bd9(0x84c)]=checkAnswer,window[_0x5c7bd9(0x2cc)]=handleGeneratePracticeTest,window[_0x5c7bd9(0x4c7)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x33bacb=_0x5c7bd9;try{const _0x3fc2c1=initializeApp(firebaseConfig);db=getFirestore(_0x3fc2c1),auth=getAuth(_0x3fc2c1),setupAuthListener(),setupEventListeners(),showView(_0x33bacb(0x73c)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x2f1fb1){console['error'](_0x33bacb(0x7ff),_0x2f1fb1),showMessage(_0x33bacb(0x8ec));}}async function handleVerifyAnswersInEditor(){const _0x1b0d02=_0x5c7bd9,_0x12edd2=document[_0x1b0d02(0x82a)](_0x1b0d02(0x476));if(!_0x12edd2)return;const _0x369460=document[_0x1b0d02(0x82a)](_0x1b0d02(0x808));_0x369460[_0x1b0d02(0x814)]=!![],_0x369460[_0x1b0d02(0xa1c)]=_0x1b0d02(0x359);try{const _0x95485a=_0x12edd2[_0x1b0d02(0xb24)](_0x1b0d02(0xac0)),_0x13d130=Array[_0x1b0d02(0x4a0)](_0x95485a)[_0x1b0d02(0x98b)]((_0x49c5ef,_0xa39c7)=>{const _0x131c77=_0x1b0d02,_0x29a64a=_0x49c5ef[_0x131c77(0x6d1)][_0x131c77(0x24a)],_0x324b32=_0x49c5ef[_0x131c77(0x410)]('textarea')[_0x131c77(0x556)];let _0x39999a=null,_0x530375='';switch(_0x29a64a){case _0x131c77(0x943):const _0x7e78f3=_0x49c5ef['querySelectorAll'](_0x131c77(0x9ad));_0x39999a=Array['from'](_0x7e78f3)[_0x131c77(0x98b)](_0x5acbac=>_0x5acbac[_0x131c77(0x556)]);const _0x304449=_0x49c5ef[_0x131c77(0x410)](_0x131c77(0x984));_0x304449&&(_0x530375=_0x39999a[parseInt(_0x304449[_0x131c77(0x556)])]);break;case _0x131c77(0x9a5):_0x530375=_0x49c5ef[_0x131c77(0x410)]('.ideal-answer-input')['value'];break;case _0x131c77(0xb61):const _0x1e9eaf=_0x49c5ef['querySelector'](_0x131c77(0x984));_0x530375=_0x1e9eaf?_0x1e9eaf['value']:'';break;case _0x131c77(0x239):_0x530375=_0x49c5ef[_0x131c77(0x410)](_0x131c77(0x8a4))[_0x131c77(0x556)];break;}return{'question':_0x324b32,'options':_0x39999a,'proposedAnswer':_0x530375};}),_0x3864ee=_0x1b0d02(0xba8)+JSON['stringify'](_0x13d130)+_0x1b0d02(0x662),_0x70e843={'type':'ARRAY','items':{'type':_0x1b0d02(0x4f7),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x1b0d02(0x5e7)},'suggestedAnswer':{'type':_0x1b0d02(0x5e7)}},'required':[_0x1b0d02(0x9d6),_0x1b0d02(0x548),'justification']}},_0x5883a0=await callAnalysisApi(_0x3864ee,{'type':_0x1b0d02(0x4f7),'properties':{'result':_0x70e843},'required':[_0x1b0d02(0x93e)]});displayVerificationResultsInEditor(_0x5883a0[_0x1b0d02(0x93e)]);}catch(_0xf42375){console[_0x1b0d02(0xb9a)](_0x1b0d02(0x399),_0xf42375),showMessage(_0x1b0d02(0x1af));}finally{_0x369460[_0x1b0d02(0x814)]=![],_0x369460[_0x1b0d02(0xa1c)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x3aa49b){const _0x1bc0c2=_0x5c7bd9;_0x3aa49b[_0x1bc0c2(0x883)](_0x5b6a1d=>{const _0x258e90=_0x1bc0c2,_0x579024=document[_0x258e90(0x410)]('.question-editor-item[data-q-index=\x22'+_0x5b6a1d[_0x258e90(0x9d6)]+'\x22]');if(!_0x579024)return;const _0x3b4e6c=_0x579024[_0x258e90(0x410)](_0x258e90(0x7c9));if(_0x3b4e6c)_0x3b4e6c['remove']();let _0x325cc9='';if(_0x5b6a1d[_0x258e90(0x548)])_0x325cc9=_0x258e90(0x8f2);else{const _0x5226ba=_0x5b6a1d['suggestedAnswer']?_0x258e90(0x749):'';_0x325cc9=_0x258e90(0xb8d)+_0x5226ba+_0x258e90(0x50d)+_0x5b6a1d['justification']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5b6a1d['suggestedAnswer']?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x5b6a1d['suggestedAnswer']+'</p>':'')+_0x258e90(0x76b);}_0x579024['insertAdjacentHTML'](_0x258e90(0x9fb),_0x325cc9);if(!_0x5b6a1d['isCorrect']&&_0x5b6a1d['suggestedAnswer']){const _0x429c8a=_0x579024[_0x258e90(0x6d1)][_0x258e90(0x24a)],_0x5c9c01=_0x5560b6=>{const _0x1b77f4=_0x258e90;if(!_0x5560b6)return;_0x5560b6[_0x1b77f4(0xbe2)][_0x1b77f4(0x5ca)](_0x1b77f4(0x2b0),'transition-all',_0x1b77f4(0x7e3)),setTimeout(()=>{const _0x2d4125=_0x1b77f4;_0x5560b6['classList'][_0x2d4125(0x521)](_0x2d4125(0x2b0));},0x9c4);};if(_0x429c8a===_0x258e90(0x943)){const _0x18d835=Array[_0x258e90(0x4a0)](_0x579024[_0x258e90(0xb24)](_0x258e90(0x9ad))),_0x22eb75=_0x18d835[_0x258e90(0x9cf)](_0x3aa03c=>_0x3aa03c['value'][_0x258e90(0xbde)]()[_0x258e90(0x21d)]()===_0x5b6a1d[_0x258e90(0xb21)]['trim']()[_0x258e90(0x21d)]());if(_0x22eb75!==-0x1){const _0x137e84=_0x579024[_0x258e90(0x410)]('input[type=\x22radio\x22][value=\x22'+_0x22eb75+'\x22]');_0x137e84&&(_0x137e84['checked']=!![],_0x5c9c01(_0x137e84[_0x258e90(0x2d9)](_0x258e90(0x8d6))));}}else{if(_0x429c8a===_0x258e90(0x9a5)||_0x429c8a===_0x258e90(0x239)){const _0x240431=_0x579024[_0x258e90(0x410)](_0x258e90(0xaef));_0x240431&&(_0x240431[_0x258e90(0x556)]=_0x5b6a1d['suggestedAnswer'],_0x5c9c01(_0x240431));}else{if(_0x429c8a===_0x258e90(0xb61)){const _0x146288=_0x5b6a1d[_0x258e90(0xb21)]['trim']()[_0x258e90(0x21d)](),_0x71a64f=_0x579024[_0x258e90(0x410)](_0x258e90(0xbd1)+_0x146288+'\x22]');_0x71a64f&&(_0x71a64f['checked']=!![],_0x5c9c01(_0x71a64f[_0x258e90(0x2d9)](_0x258e90(0x8d6))));}}}}}),showMessage(_0x1bc0c2(0xb5c));}async function handleVerifyAnswers(){const _0x1aee82=_0x5c7bd9;if(!currentQuizData||!currentQuizData[_0x1aee82(0x600)]){showMessage(_0x1aee82(0xc02));return;}const _0x5f3afb=document['getElementById']('verify-answers-btn');_0x5f3afb['disabled']=!![],_0x5f3afb['innerHTML']=_0x1aee82(0x359);try{const _0x548ead=currentQuizData['questions'][_0x1aee82(0x98b)]((_0x4a6d3d,_0x363572)=>{const _0xfbd941=_0x1aee82;let _0x22394a='';const _0x43a98c=_0x4a6d3d[_0xfbd941(0x6ab)]||currentQuizData[_0xfbd941(0x738)];switch(_0x43a98c){case _0xfbd941(0x943):_0x22394a=_0x4a6d3d['options'][_0x4a6d3d[_0xfbd941(0x23d)]];break;case _0xfbd941(0x9a5):_0x22394a=_0x4a6d3d[_0xfbd941(0x304)];break;case _0xfbd941(0xb61):_0x22394a=_0x4a6d3d[_0xfbd941(0x684)]['toString']();break;case _0xfbd941(0x239):_0x22394a=_0x4a6d3d['correctResponse'];break;}return{'question':_0x4a6d3d[_0xfbd941(0x589)]||_0x4a6d3d[_0xfbd941(0xbc9)],'options':_0x4a6d3d[_0xfbd941(0xb8c)]||null,'proposedAnswer':_0x22394a};}),_0x46d20f=_0x1aee82(0x7f1)+JSON[_0x1aee82(0x6b3)](_0x548ead)+_0x1aee82(0xa80),_0x48bbfa={'type':'ARRAY','items':{'type':_0x1aee82(0x4f7),'properties':{'questionIndex':{'type':_0x1aee82(0x5c9)},'isCorrect':{'type':_0x1aee82(0x346)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x1aee82(0x5e7)}},'required':[_0x1aee82(0x9d6),'isCorrect','justification']}},_0x2b1593=await callAnalysisApi(_0x46d20f,{'type':'OBJECT','properties':{'result':_0x48bbfa},'required':[_0x1aee82(0x93e)]});displayVerificationResults(_0x2b1593[_0x1aee82(0x93e)]);}catch(_0x58b44a){console['error']('Error\x20verifying\x20answers:',_0x58b44a),showMessage(_0x1aee82(0x1af));}finally{_0x5f3afb['disabled']=![],_0x5f3afb['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x562265){const _0x562085=_0x5c7bd9;_0x562265['forEach'](_0x230d28=>{const _0x11a002=_0x34dc,_0x219848=document[_0x11a002(0x410)](_0x11a002(0x6f2)+_0x230d28['questionIndex']+'\x22]');if(_0x219848){const _0x32219b=_0x219848[_0x11a002(0x410)](_0x11a002(0x76d));if(_0x32219b)_0x32219b[_0x11a002(0x521)]();let _0x2ce5d1='';_0x230d28[_0x11a002(0x548)]?_0x2ce5d1=_0x11a002(0x926):_0x2ce5d1=_0x11a002(0x4ce)+_0x230d28['justification']+_0x11a002(0x3b8)+(_0x230d28[_0x11a002(0xb21)]?_0x11a002(0x326)+_0x230d28[_0x11a002(0xb21)]+_0x11a002(0xc1e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x219848[_0x11a002(0x8f9)](_0x11a002(0x9fb),_0x2ce5d1);}}),showMessage(_0x562085(0xb5c));}function compareNumericalAnswers(_0x32da10,_0x554a19){const _0x36e16a=_0x5c7bd9,_0x5d55af=String(_0x32da10)[_0x36e16a(0x973)](',','.')[_0x36e16a(0x973)](/[^\d.-]/g,'')[_0x36e16a(0xbde)](),_0x28edeb=String(_0x554a19)[_0x36e16a(0x973)](',','.')[_0x36e16a(0x973)](/[^\d.-]/g,'')[_0x36e16a(0xbde)]();if(_0x5d55af===''||_0x28edeb==='')return![];const _0x5d72fc=parseFloat(_0x5d55af),_0xeadad1=parseFloat(_0x28edeb);if(isNaN(_0x5d72fc)||isNaN(_0xeadad1))return![];return Math[_0x36e16a(0x1d8)](_0x5d72fc-_0xeadad1)<0.001;}function isPotentiallyNumeric(_0x43a360){const _0x77651c=_0x5c7bd9;if(typeof _0x43a360!==_0x77651c(0x2ac)&&typeof _0x43a360!=='number')return![];const _0x25a4ed=String(_0x43a360)[_0x77651c(0x973)](',','.')['trim']();return _0x25a4ed!==''&&!isNaN(parseFloat(_0x25a4ed))&&isFinite(_0x25a4ed);}async function gradeShortAnswer(_0x1ca763,_0x4c2042){const _0x144b76=_0x5c7bd9,_0x3a38ab=_0x4c2042[_0x144b76(0x304)],_0x2f811d=String(_0x1ca763)[_0x144b76(0x973)](/\$/g,'')[_0x144b76(0xbde)](),_0x3b11b9=String(_0x3a38ab)['replace'](/\$/g,'')[_0x144b76(0xbde)]();if(_0x2f811d['toLowerCase']()===_0x3b11b9[_0x144b76(0x21d)]())return!![];if(isPotentiallyNumeric(_0x2f811d)&&isPotentiallyNumeric(_0x3b11b9)){if(compareNumericalAnswers(_0x2f811d,_0x3b11b9))return!![];}return console['log'](_0x144b76(0x8f3)),await gradeShortAnswerWithAI(_0x1ca763,_0x3a38ab);}async function revealAnswerForAdmin(_0x2e223d,_0x1b2da6){const _0x36605e=_0x5c7bd9,_0x508ecf=doc(db,'artifacts/'+appId+_0x36605e(0x3df),currentLiveGameId);await updateDoc(_0x508ecf,{'questionStatus':_0x36605e(0x6c9)});}function showTop5LeaderboardView(_0x4ed4b1){const _0x67e071=_0x5c7bd9,_0x4b886f=Object['values'](_0x4ed4b1[_0x67e071(0xbc1)]||{})[_0x67e071(0x920)](_0x3f0893=>_0x3f0893[_0x67e071(0x6d5)]==='active');_0x4b886f[_0x67e071(0x74a)]((_0x1a24df,_0x11d892)=>_0x11d892[_0x67e071(0xa0f)]-_0x1a24df[_0x67e071(0xa0f)]);const _0x4bac4f=_0x4b886f[_0x67e071(0xb02)](0x0,0x5),_0x2bb8b7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4bac4f['map']((_0x46a181,_0x5b2c93)=>_0x67e071(0x6dd)+(_0x5b2c93+0x1)+'.\x20'+(_0x46a181[_0x67e071(0x97a)]||Object['keys'](_0x4ed4b1['players'])['find'](_0x1af645=>_0x4ed4b1[_0x67e071(0xbc1)][_0x1af645]===_0x46a181))+_0x67e071(0x36d)+_0x46a181[_0x67e071(0xa0f)]+_0x67e071(0x945))[_0x67e071(0x5b3)]('')+_0x67e071(0x921)+(_0x4ed4b1[_0x67e071(0x7d3)]+0x1===currentQuizData['questions'][_0x67e071(0x4d9)]?'สรุปผลสุดท้าย':_0x67e071(0x3ba))+_0x67e071(0xb05);liveGameView[_0x67e071(0xa1c)]=_0x2bb8b7,document['getElementById']('goto-next-question-btn')[_0x67e071(0x68b)](_0x67e071(0x79e),async()=>{const _0x87ecd9=_0x67e071,_0x130e1f=doc(db,'artifacts/'+appId+_0x87ecd9(0x3df),currentLiveGameId),_0x34265e=_0x4ed4b1['currentQuestionIndex']+0x1;if(_0x34265e<currentQuizData['questions'][_0x87ecd9(0x4d9)]){const _0x16c87a={'currentQuestionIndex':_0x34265e,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x87ecd9(0x538)};Object[_0x87ecd9(0x4c4)](_0x4ed4b1[_0x87ecd9(0xbc1)])['forEach'](_0x5387b8=>{const _0x756b0f=_0x87ecd9;_0x16c87a[_0x756b0f(0x9aa)+_0x5387b8+_0x756b0f(0x8e1)]=![];}),await updateDoc(_0x130e1f,_0x16c87a);}else await updateDoc(_0x130e1f,{'status':_0x87ecd9(0x983)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x47ffe1=>{const _0x27bc49=_0x34dc;if(_0x47ffe1){userId=_0x47ffe1[_0x27bc49(0x823)],userIdDisplay[_0x27bc49(0xc26)]=userId;const _0x253c24=await loadUserPreferences();_0x253c24[_0x27bc49(0xaad)]&&(document[_0x27bc49(0x82a)](_0x27bc49(0x4ed))['value']=_0x253c24[_0x27bc49(0xaad)]);globalDashboardSettings['projectView']=_0x253c24[_0x27bc49(0x69a)]||_0x27bc49(0x36e);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x2b4c95,_0xdfd5ac){const _0x2c82a6=_0x5c7bd9;if(!userId)return;try{const _0x4279ca=doc(db,_0x2c82a6(0x2fd)+appId+_0x2c82a6(0xa32)+userId+_0x2c82a6(0x67b)),_0x2b3cc6={};_0x2b3cc6[_0x2b4c95]=_0xdfd5ac,await setDoc(_0x4279ca,_0x2b3cc6,{'merge':!![]});}catch(_0x3ae2b5){console[_0x2c82a6(0xb9a)]('Error\x20saving\x20user\x20preference:',_0x3ae2b5);}}async function loadUserPreferences(){const _0x2fee9c=_0x5c7bd9;if(!userId)return{};try{const _0x20fbea=doc(db,_0x2fee9c(0x2fd)+appId+_0x2fee9c(0xa32)+userId+_0x2fee9c(0x67b)),_0x215943=await getDoc(_0x20fbea);if(_0x215943[_0x2fee9c(0x4a4)]())return _0x215943[_0x2fee9c(0x958)]();return{};}catch(_0x343f7b){return console[_0x2fee9c(0xb9a)](_0x2fee9c(0x3ec),_0x343f7b),{};}}function parseIndentedBlueprint(_0x139f90){const _0x3f238e=_0x5c7bd9,_0x9960d5=_0x139f90[_0x3f238e(0x8ce)]('\x0a')[_0x3f238e(0x920)](_0x319433=>_0x319433[_0x3f238e(0xbde)]()!==''),_0x84363b=[];let _0x5c91c6=null,_0xa6a3d2=null;return _0x9960d5['forEach'](_0x597605=>{const _0x3eeab2=_0x3f238e,_0x490bbe=_0x597605[_0x3eeab2(0x2a4)](/^\s*/)[0x0][_0x3eeab2(0x4d9)],_0x1955dc=_0x597605[_0x3eeab2(0xbde)]();if(_0x490bbe===0x0)_0x5c91c6={'sara':_0x1955dc,'mainTopics':[]},_0x84363b['push'](_0x5c91c6),_0xa6a3d2=null;else{if(_0x490bbe>0x0&&_0x490bbe<0x8&&_0x5c91c6)_0xa6a3d2={'topicName':_0x1955dc,'subTopics':[]},_0x5c91c6['mainTopics']['push'](_0xa6a3d2);else _0x490bbe>=0x8&&_0xa6a3d2&&_0xa6a3d2[_0x3eeab2(0x84d)][_0x3eeab2(0xbb1)](_0x1955dc);}}),{'curriculum':_0x84363b};}async function handleManualBlueprintSave(){const _0x4e14ca=_0x5c7bd9,_0x5efbf2=document[_0x4e14ca(0x82a)](_0x4e14ca(0xa67))[_0x4e14ca(0x556)][_0x4e14ca(0xbde)](),_0x41c6cf=document[_0x4e14ca(0x82a)](_0x4e14ca(0x4d2))['value'][_0x4e14ca(0xbde)](),_0x1de571=document[_0x4e14ca(0x82a)]('manual-bp-content')[_0x4e14ca(0x556)];if(!_0x5efbf2||!_0x41c6cf||!_0x1de571){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0xa0a994=parseIndentedBlueprint(_0x1de571);if(!_0xa0a994[_0x4e14ca(0x4fc)]||_0xa0a994[_0x4e14ca(0x4fc)][_0x4e14ca(0x4d9)]===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x1d40cb={};_0xa0a994[_0x4e14ca(0x4fc)][_0x4e14ca(0x883)](_0x143e1f=>{const _0x527d4c=_0x4e14ca;_0x143e1f[_0x527d4c(0x251)]['forEach'](_0x505ba5=>{const _0x41d465=_0x527d4c;_0x505ba5[_0x41d465(0x84d)][_0x41d465(0x883)](_0x8f4b2f=>{const _0x33b91c=_0x41d465,_0x3266e2=_0x33b91c(0xa43)+Date['now']()+Math['random']()[_0x33b91c(0x454)](0x24)['substr'](0x2,0x9);_0x1d40cb[_0x3266e2]={'sara':_0x143e1f[_0x33b91c(0x7e0)],'mainTopic':_0x505ba5[_0x33b91c(0x32e)],'subTopic':_0x8f4b2f,'status':'not_generated','lessonContent':null};});});});try{const _0x351c3d=collection(db,_0x4e14ca(0x2fd)+appId+'/public/data/blueprintProjects');await addDoc(_0x351c3d,{'projectName':_0x5efbf2,'gradeLevel':_0x41c6cf,'topics':_0x1d40cb,'createdAt':serverTimestamp()}),showMessage(_0x4e14ca(0x82f)+_0x5efbf2+_0x4e14ca(0x81c)),document[_0x4e14ca(0x82a)](_0x4e14ca(0x307))['classList'][_0x4e14ca(0x5ca)](_0x4e14ca(0x9b3));}catch(_0x1d1e8f){console[_0x4e14ca(0xb9a)](_0x4e14ca(0x3d0),_0x1d1e8f),showMessage(_0x4e14ca(0xa7e));}}function handleClearAllLinksForTopic(_0x50e3e6){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x1795ba=_0x34dc;try{const _0x57e6e4=doc(db,_0x1795ba(0x2fd)+appId+_0x1795ba(0xc0e),currentBlueprintProjectId);await updateDoc(_0x57e6e4,{[_0x1795ba(0x680)+_0x50e3e6+_0x1795ba(0x59a)]:[]}),showMessage(_0x1795ba(0xad6)),openTopicQuizBank(_0x50e3e6),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2109fa){console[_0x1795ba(0xb9a)]('Error\x20clearing\x20all\x20links:',_0x2109fa),showMessage(_0x1795ba(0x279));}});}function showPodiumView(_0x27c5eb,_0xde68f1=_0x5c7bd9(0xbb4)){const _0x330c86=_0x5c7bd9,_0x16fbdf=Object[_0x330c86(0x9cb)](_0x27c5eb)[_0x330c86(0x98b)](([_0x1abe93,_0x51da52])=>({'name':_0x1abe93,'score':_0x51da52[_0x330c86(0xa0f)]||0x0,'badges':_0x51da52[_0x330c86(0x38c)]||[],'hasPerfectScoreBonus':_0x51da52[_0x330c86(0x62d)]||![]}));_0x16fbdf[_0x330c86(0x74a)]((_0x1a96d0,_0x3738cd)=>{const _0x3b96d8=_0x330c86,_0x11b65c=_0x3738cd['score']-_0x1a96d0['score'];if(_0x11b65c!==0x0)return _0x11b65c;return(_0x3738cd[_0x3b96d8(0x38c)][_0x3b96d8(0x4d9)]||0x0)-(_0x1a96d0[_0x3b96d8(0x38c)]['length']||0x0);});const _0x2714cd=_0x598ad6=>{const _0x2b0a90=_0x330c86;if(!_0x598ad6||_0x598ad6['length']===0x0)return'';const _0x46b9a1={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x2b0a90(0x8f0)+_0x598ad6[_0x2b0a90(0x98b)](_0x3211a1=>_0x46b9a1[_0x3211a1]||'')[_0x2b0a90(0x5b3)]('')+_0x2b0a90(0x59b);},_0x52310a=_0x16fbdf[_0x330c86(0xb02)](0x3),_0x49c748=_0x52310a['length']>0x0?_0x330c86(0x27e)+_0x52310a['map']((_0x4bb131,_0x5ebbc8)=>{const _0x45d9e7=_0x330c86,_0x4fd5b0=_0x4bb131[_0x45d9e7(0x62d)]?'<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>':'';return _0x45d9e7(0x554)+(_0x5ebbc8+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4bb131['name']+_0x45d9e7(0x327)+_0x4bb131[_0x45d9e7(0xa0f)]+_0x45d9e7(0x4ad)+_0x4fd5b0+_0x45d9e7(0xb1b);})[_0x330c86(0x5b3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x5ea4d1=_0x330c86(0x3aa)+(_0x16fbdf[0x1]?_0x330c86(0x477)+_0x16fbdf[0x1][_0x330c86(0x97a)]+'</p>'+_0x2714cd(_0x16fbdf[0x1]['badges'])+_0x330c86(0x1d9)+_0x16fbdf[0x1]['score']+_0x330c86(0x4ad)+(_0x16fbdf[0x1][_0x330c86(0x62d)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x330c86(0x98c):_0x330c86(0x418))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x16fbdf[0x0]?_0x330c86(0xa74)+_0x16fbdf[0x0][_0x330c86(0x97a)]+'</p>'+_0x2714cd(_0x16fbdf[0x0][_0x330c86(0x38c)])+_0x330c86(0x2f4)+_0x16fbdf[0x0]['score']+'\x20คะแนน\x20'+(_0x16fbdf[0x0][_0x330c86(0x62d)]?_0x330c86(0x56e):'')+_0x330c86(0x4ab):_0x330c86(0x418))+_0x330c86(0x965)+(_0x16fbdf[0x2]?_0x330c86(0x98f)+_0x16fbdf[0x2]['name']+_0x330c86(0xc1e)+_0x2714cd(_0x16fbdf[0x2][_0x330c86(0x38c)])+_0x330c86(0x1d9)+_0x16fbdf[0x2][_0x330c86(0xa0f)]+_0x330c86(0x4ad)+(_0x16fbdf[0x2][_0x330c86(0x62d)]?_0x330c86(0x56e):'')+_0x330c86(0x7e5):_0x330c86(0x418))+_0x330c86(0xa19)+_0x49c748+_0x330c86(0xaf1)+(currentMode===_0x330c86(0x1f3)?_0x330c86(0xa0c):'<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>')+_0x330c86(0xbc3);liveGameView[_0x330c86(0xa1c)]=_0x5ea4d1,currentMode===_0x330c86(0x1f3)&&document[_0x330c86(0x82a)](_0x330c86(0x7c4))[_0x330c86(0x68b)](_0x330c86(0x79e),async()=>{const _0xf95d8c=_0x330c86;let _0x4d1270;_0xde68f1===_0xf95d8c(0x592)?_0x4d1270=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId):_0x4d1270=doc(db,_0xf95d8c(0x2fd)+appId+_0xf95d8c(0x3df),currentLiveGameId),await deleteDoc(_0x4d1270);});}function renderSyncSummaryView(_0x186656,_0x39c491,_0x4ddbb8){const _0x340966=_0x5c7bd9,_0x110acc=Object[_0x340966(0x446)](_0x186656[_0x340966(0xbc1)]||{}),_0x3e3943=_0x39c491['questionType']||_0x186656['shuffledQuiz'][_0x340966(0x738)];let _0x1878c5=[];_0x3e3943===_0x340966(0xb61)?_0x1878c5=[_0x340966(0x4cc),'ไม่ใช่\x20/\x20ผิด']:_0x1878c5=_0x39c491[_0x340966(0xb8c)]||[];const _0x509553=new Array(_0x1878c5[_0x340966(0x4d9)])[_0x340966(0x4e0)](0x0),_0x3100eb={};_0x1878c5[_0x340966(0x883)]((_0x22e1ef,_0x1079a4)=>{_0x3100eb[_0x1079a4]=[];}),Object[_0x340966(0x9cb)](_0x186656['players']||{})[_0x340966(0x883)](([_0x363b52,_0x16c808])=>{const _0x3236fb=_0x340966;if(_0x16c808[_0x3236fb(0x6d5)]!==_0x3236fb(0xbd5)&&_0x16c808[_0x3236fb(0x832)]!==undefined&&_0x16c808[_0x3236fb(0x832)]!==null){const _0x5e6400=_0x16c808[_0x3236fb(0x832)];_0x3100eb[_0x5e6400]!==undefined&&(_0x3100eb[_0x5e6400][_0x3236fb(0xbb1)](_0x363b52),_0x509553[_0x5e6400]++);}});let _0x3b7ee9='';_0x4ddbb8?_0x3b7ee9=_0x340966(0x337):_0x3b7ee9='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>';const _0x22f6b3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0x39c491['questionText']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x509553[_0x340966(0x98b)]((_0x4cf744,_0x9e561a)=>{const _0x2ca311=_0x340966,_0x59c344=_0x3100eb[_0x9e561a][_0x2ca311(0x4d9)]>0x0?_0x3100eb[_0x9e561a][_0x2ca311(0x5b3)](',\x20'):_0x2ca311(0xb52),_0x41184b=_0x2ca311(0x8b1);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x4cf744+_0x2ca311(0x9c5)+_0x41184b+_0x2ca311(0xaa7)+_0x9e561a+_0x2ca311(0x714)+_0x1878c5[_0x9e561a]+_0x2ca311(0xb2b)+_0x9e561a+_0x2ca311(0xb8a)+_0x59c344+_0x2ca311(0x6da);})[_0x340966(0x5b3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b7ee9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x22f6b3;if(window[_0x340966(0x403)])MathJax[_0x340966(0x894)]();_0x4ddbb8&&(document[_0x340966(0x82a)](_0x340966(0x7df))[_0x340966(0x68b)](_0x340966(0x79e),async()=>{const _0x49335c=_0x340966,_0x565dc0=doc(db,_0x49335c(0x2fd)+appId+_0x49335c(0x31e),currentLiveGameId);await updateDoc(_0x565dc0,{'status':'results'});}),document[_0x340966(0x82a)](_0x340966(0x87b))['onclick']=()=>{openScratchpad(_0x39c491,_0x1878c5);});}async function handleShowStudentRankings(){const _0x1c1743=_0x5c7bd9,_0x4652e4=document[_0x1c1743(0x410)](_0x1c1743(0x5bf));_0x4652e4&&(_0x4652e4[_0x1c1743(0xa1c)]=_0x1c1743(0x6ae));const _0x881184=document[_0x1c1743(0x410)](_0x1c1743(0x876));_0x881184&&(_0x881184[_0x1c1743(0xa1c)]=_0x1c1743(0x6f3));const _0x35e4ed=document['getElementById'](_0x1c1743(0xbf7));_0x35e4ed[_0x1c1743(0xbe2)][_0x1c1743(0x521)](_0x1c1743(0x9b3)),document['getElementById'](_0x1c1743(0xbad))[_0x1c1743(0x485)]=()=>_0x35e4ed['classList']['add'](_0x1c1743(0x9b3));const _0x545677=document[_0x1c1743(0x82a)](_0x1c1743(0x1b7)),_0x2ce66a=document['getElementById']('student-project-leaderboard-tab'),_0x2bd7d6=document['getElementById'](_0x1c1743(0xc15)),_0x26a179=document[_0x1c1743(0x82a)](_0x1c1743(0x2b9));_0x545677[_0x1c1743(0x485)]=()=>{const _0x2761e6=_0x1c1743;_0x545677['classList'][_0x2761e6(0x5ca)]('active'),_0x2ce66a['classList'][_0x2761e6(0x521)]('active'),_0x2bd7d6[_0x2761e6(0xbe2)][_0x2761e6(0x521)]('hidden'),_0x26a179[_0x2761e6(0xbe2)]['add'](_0x2761e6(0x9b3));},_0x2ce66a[_0x1c1743(0x485)]=()=>{const _0x1f4670=_0x1c1743;_0x2ce66a[_0x1f4670(0xbe2)][_0x1f4670(0x5ca)]('active'),_0x545677[_0x1f4670(0xbe2)][_0x1f4670(0x521)](_0x1f4670(0x458)),_0x26a179[_0x1f4670(0xbe2)]['remove']('hidden'),_0x2bd7d6[_0x1f4670(0xbe2)][_0x1f4670(0x5ca)](_0x1f4670(0x9b3));};try{const _0x43dce8=collection(db,_0x1c1743(0x2fd)+appId+_0x1c1743(0xb33)+currentQuizData['id']+'/submissions'),_0x4b2047=await getDocs(_0x43dce8),_0x25f923=_0x4b2047[_0x1c1743(0x795)][_0x1c1743(0x98b)](_0x4d71e3=>_0x4d71e3[_0x1c1743(0x958)]());renderQuizLeaderboard(_0x25f923,currentQuizData,_0x1c1743(0x869));const _0xfbb4fa=collection(db,'artifacts/'+appId+_0x1c1743(0x372)+currentQuizData['projectId']+'/studentProfiles'),_0x2d976a=await getDocs(_0xfbb4fa),_0x476df5=_0x2d976a[_0x1c1743(0x795)][_0x1c1743(0x98b)](_0x2136ba=>_0x2136ba['data']());renderLeaderboard(_0x476df5,_0x1c1743(0x765));}catch(_0x9b1225){console[_0x1c1743(0xb9a)]('Error\x20fetching\x20student\x20rankings:',_0x9b1225),showMessage(_0x1c1743(0x6f5));}}async function handleSaveToBank(_0x88f2af){const _0x355c47=_0x5c7bd9,_0x46d96c=_0x88f2af['currentTarget'],_0x2c72bd=_0x46d96c[_0x355c47(0x6d1)][_0x355c47(0x94a)],_0x42cdfa=currentQuizData[_0x355c47(0x600)][_0x2c72bd];if(!userId){showMessage(_0x355c47(0x577));return;}try{const _0x480a3a={..._0x42cdfa,'originalTopic':currentQuizData[_0x355c47(0x231)],'savedAt':serverTimestamp()},_0x1c54a8=collection(db,_0x355c47(0x2fd)+appId+_0x355c47(0xa32)+userId+'/questionBank');await addDoc(_0x1c54a8,_0x480a3a),showMessage(_0x355c47(0xa37)),_0x46d96c[_0x355c47(0xbe2)][_0x355c47(0x521)](_0x355c47(0x8a3)),_0x46d96c[_0x355c47(0xbe2)]['add'](_0x355c47(0xaae)),_0x46d96c['disabled']=!![];}catch(_0x182775){console[_0x355c47(0xb9a)](_0x355c47(0x1a1),_0x182775),showMessage(_0x355c47(0xa6d));}}function selectProjectAndGenerateBlueprintQuiz(_0x32b315,_0x531249=null,_0x522a73=null,_0x375a67=![]){const _0x24c215=_0x5c7bd9;cameFromBlueprint=!![];const _0x3171cb=document[_0x24c215(0x82a)]('move-quiz-modal'),_0x42b2b6=document['getElementById'](_0x24c215(0x347)),_0x33f201=_0x3171cb[_0x24c215(0x410)]('h3'),_0x223212=document[_0x24c215(0x82a)](_0x24c215(0x6fe)),_0x4f1eac=document['getElementById'](_0x24c215(0x24b));_0x33f201[_0x24c215(0xc26)]=_0x24c215(0x2d2),_0x223212[_0x24c215(0xc26)]=_0x24c215(0x96f),_0x223212[_0x24c215(0x814)]=!![];allProjects[_0x24c215(0x4d9)]===0x0?_0x42b2b6['innerHTML']=_0x24c215(0x427):(_0x42b2b6[_0x24c215(0xa1c)]=_0x24c215(0x440)+allProjects[_0x24c215(0x98b)](_0x5c4a7f=>'<option\x20value=\x22'+_0x5c4a7f['id']+'\x22>'+_0x5c4a7f['projectName']+_0x24c215(0xa8a))[_0x24c215(0x5b3)](''),_0x223212['disabled']=![]);_0x3171cb[_0x24c215(0xbe2)][_0x24c215(0x521)]('hidden');const _0x1b87a6=async()=>{const _0x1e1d66=_0x24c215,_0x3b3f2a=_0x42b2b6[_0x1e1d66(0x556)];if(!_0x3b3f2a){showMessage(_0x1e1d66(0xb49));return;}_0x3171cb[_0x1e1d66(0xbe2)]['add']('hidden'),document[_0x1e1d66(0x82a)](_0x1e1d66(0x61a))[_0x1e1d66(0xbe2)]['add']('hidden'),await loadProjectDetails(_0x3b3f2a),showView(_0x1e1d66(0xbd7)),handleGenerateQuizFromBlueprintTopic(_0x32b315,_0x531249,_0x3b3f2a,_0x522a73,_0x375a67),_0x5e9e2f();},_0x5e9e2f=()=>{const _0x357649=_0x24c215;_0x33f201[_0x357649(0xc26)]=_0x357649(0x660),_0x223212[_0x357649(0xc26)]=_0x357649(0x612),_0x223212[_0x357649(0xb86)](_0x357649(0x79e),_0x1b87a6),_0x4f1eac[_0x357649(0xb86)](_0x357649(0x79e),_0x5e9e2f),_0x223212[_0x357649(0x68b)](_0x357649(0x79e),confirmMoveQuiz);};_0x223212[_0x24c215(0xb86)]('click',confirmMoveQuiz),_0x223212['addEventListener']('click',_0x1b87a6),_0x4f1eac[_0x24c215(0x68b)]('click',_0x5e9e2f);}function listenForStarredQuizzes(){const _0x2fd972=_0x5c7bd9;if(!userId)return;const _0x16fa32=collection(db,_0x2fd972(0x2fd)+appId+_0x2fd972(0x74e)),_0x53e3c7=query(_0x16fa32,where('isStarred','==',!![]));onSnapshot(_0x53e3c7,_0x563fac=>{const _0x12e5b2=_0x2fd972;starredQuizzes=_0x563fac[_0x12e5b2(0x795)]['map'](_0x369341=>({'id':_0x369341['id'],..._0x369341['data']()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x1e421a=>{const _0x23b095=_0x2fd972;console[_0x23b095(0xb9a)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x1e421a);});}async function ensureGlobalQuizzesLoaded(){const _0x1f056b=_0x5c7bd9;if(allQuizzesGlobal[_0x1f056b(0x4d9)]>0x0)return;console[_0x1f056b(0x77c)](_0x1f056b(0x22f)),showMessage(_0x1f056b(0xb1a));try{const _0x14db33=await getDocs(collection(db,_0x1f056b(0x2fd)+appId+_0x1f056b(0x74e)));allQuizzesGlobal=_0x14db33['docs'][_0x1f056b(0x98b)](_0x407cdd=>({'id':_0x407cdd['id'],..._0x407cdd['data']()})),console[_0x1f056b(0x77c)](_0x1f056b(0xb7b)+allQuizzesGlobal['length']+_0x1f056b(0x791)),messageModal[_0x1f056b(0xbe2)][_0x1f056b(0x5ca)]('hidden');}catch(_0x1258c2){console[_0x1f056b(0xb9a)](_0x1f056b(0x4f0),_0x1258c2),messageModal['classList'][_0x1f056b(0x5ca)](_0x1f056b(0x9b3));throw new Error(_0x1f056b(0x89f));}}function exportQuizAsWorksheetPDF(){const _0x4da909=_0x5c7bd9;if(!currentQuizData||!currentQuizData[_0x4da909(0x600)]){showMessage(_0x4da909(0x402));return;}const _0x41ecf8=currentQuizData,_0xa469e4=window[_0x4da909(0xa2e)]('',_0x4da909(0x333)),_0xd6d11e=_0xe1e596=>String['fromCharCode'](0x41+_0xe1e596),_0x12645a=_0x4da909(0x7d0)+_0x41ecf8['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x41ecf8[_0x4da909(0x231)]+_0x4da909(0x5ad)+_0x41ecf8[_0x4da909(0x600)]['map']((_0x190e87,_0x3aba84)=>{const _0x4f2bac=_0x4da909;let _0x91ddcd='';const _0x73df1a=_0x190e87[_0x4f2bac(0x6ab)]||_0x41ecf8['quizType'];switch(_0x73df1a){case _0x4f2bac(0x943):case _0x4f2bac(0x2c0):_0x91ddcd=_0x4f2bac(0x9f8)+_0x190e87['options'][_0x4f2bac(0x98b)]((_0x1c3f9f,_0x2f6c77)=>_0x4f2bac(0xa2d)+_0xd6d11e(_0x2f6c77)+'.\x20'+_0x1c3f9f+_0x4f2bac(0x588))[_0x4f2bac(0x5b3)]('<br>')+_0x4f2bac(0x59b);break;case _0x4f2bac(0xb61):_0x91ddcd=_0x4f2bac(0x3fc);break;default:_0x91ddcd='<div\x20class=\x22answer-space\x22></div>';break;}return _0x4f2bac(0x566)+(_0x3aba84+0x1)+_0x4f2bac(0x50c)+(_0x190e87[_0x4f2bac(0x589)]||_0x190e87[_0x4f2bac(0xbc9)])+_0x4f2bac(0x33d)+(_0x190e87[_0x4f2bac(0xb88)]?_0x4f2bac(0x22a)+_0x190e87[_0x4f2bac(0xb88)]+_0x4f2bac(0x59b):'')+_0x4f2bac(0xb03)+_0x91ddcd+_0x4f2bac(0x7ed);})[_0x4da909(0x5b3)]('')+_0x4da909(0x4dd);_0xa469e4[_0x4da909(0x28e)]['write'](_0x12645a),_0xa469e4[_0x4da909(0x28e)][_0x4da909(0x219)](),_0xa469e4[_0x4da909(0x946)]=function(){setTimeout(()=>{_0xa469e4['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x13dcfe=_0x5c7bd9;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x40deb=currentQuizData,_0xd428d4=window['open']('',_0x13dcfe(0x333)),_0x2cb294=_0x280615=>String[_0x13dcfe(0x752)](0x41+_0x280615),_0x325c62=_0x13dcfe(0xb4f)+_0x40deb['topic']+_0x13dcfe(0x767)+_0x40deb['questions'][_0x13dcfe(0x98b)]((_0x4f74e1,_0x13cbee)=>{const _0x3725ce=_0x13dcfe;let _0x4d1af7='';const _0x2f2668=_0x4f74e1['questionType']||_0x40deb['quizType'];switch(_0x2f2668){case _0x3725ce(0x943):case _0x3725ce(0x2c0):_0x4d1af7=_0x3725ce(0x1b6)+_0x4f74e1[_0x3725ce(0xb8c)][_0x3725ce(0x98b)]((_0x51bb5f,_0x2360b2)=>_0x3725ce(0xa3a)+_0x2cb294(_0x2360b2)+'.\x20'+_0x51bb5f+_0x3725ce(0x293))['join'](_0x3725ce(0x1eb))+_0x3725ce(0x76b);break;case _0x3725ce(0xb61):_0x4d1af7=_0x3725ce(0x8fe);break;default:_0x4d1af7='';break;}return _0x3725ce(0x44c)+_0x40deb[_0x3725ce(0x231)]+_0x3725ce(0x90b)+(_0x13cbee+0x1)+_0x3725ce(0xbb0)+(_0x4f74e1[_0x3725ce(0x589)]||_0x4f74e1[_0x3725ce(0xbc9)])+_0x3725ce(0x33d)+(_0x4f74e1[_0x3725ce(0xb88)]?_0x3725ce(0x1c4)+_0x4f74e1[_0x3725ce(0xb88)]+_0x3725ce(0x59b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d1af7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x13dcfe(0x5b3)]('')+_0x13dcfe(0xbff);_0xd428d4[_0x13dcfe(0x28e)]['write'](_0x325c62),_0xd428d4[_0x13dcfe(0x28e)]['close'](),_0xd428d4[_0x13dcfe(0x946)]=function(){setTimeout(()=>{const _0x54c701=_0x34dc;_0xd428d4[_0x54c701(0x42a)]();},0x5dc);};}async function handleToggleStarQuiz(_0x5dfb8e){const _0x1967d7=_0x5c7bd9,_0x2aea96=doc(db,_0x1967d7(0x2fd)+appId+_0x1967d7(0x74e),_0x5dfb8e);try{const _0x4c5672=await getDoc(_0x2aea96);if(_0x4c5672['exists']()){const _0xbbfcbd=_0x4c5672[_0x1967d7(0x958)]()[_0x1967d7(0x90f)]||![];await updateDoc(_0x2aea96,{'isStarred':!_0xbbfcbd});}}catch(_0x5d1a4e){console['error']('Error\x20toggling\x20star\x20status:',_0x5d1a4e),showMessage(_0x1967d7(0x733));}}async function displayQuestionBank(){const _0x45b616=_0x5c7bd9,_0x48546e=document[_0x45b616(0x82a)]('bank-input-area');_0x48546e[_0x45b616(0xa1c)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x44be84=collection(db,_0x45b616(0x2fd)+appId+'/users/'+userId+_0x45b616(0x8fb)),_0x528655=query(_0x44be84),_0x1b000d=await getDocs(_0x528655);if(_0x1b000d[_0x45b616(0x7b4)]){_0x48546e[_0x45b616(0xa1c)]=_0x45b616(0x1d3);return;}let _0x3f80fe=_0x1b000d[_0x45b616(0x795)]['map'](_0x1c8c21=>{const _0x25c1da=_0x45b616,_0x13d76d=_0x1c8c21[_0x25c1da(0x958)](),_0x24e385=_0x1c8c21['id'];return _0x25c1da(0xa09)+JSON['stringify'](_0x13d76d)+_0x25c1da(0x292)+(_0x13d76d[_0x25c1da(0xbc9)]||_0x13d76d[_0x25c1da(0x589)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x13d76d[_0x25c1da(0x4f6)]+_0x25c1da(0x76c);})['join']('');_0x48546e[_0x45b616(0xa1c)]=_0x45b616(0x306)+_0x3f80fe+_0x45b616(0x23c),document['getElementById']('create-from-bank-btn')[_0x45b616(0x68b)]('click',createQuizFromBank);}catch(_0x3e3b1a){console[_0x45b616(0xb9a)](_0x45b616(0x922),_0x3e3b1a),_0x48546e['innerHTML']=_0x45b616(0x220);}}async function handleExportLessonToPDF(){const _0x570bd1=_0x5c7bd9,_0x13a679=document[_0x570bd1(0x82a)](_0x570bd1(0x52e)),_0x21b735=document[_0x570bd1(0x82a)](_0x570bd1(0xc13))['textContent']||_0x570bd1(0xb15);if(!_0x13a679){showMessage(_0x570bd1(0x3cb));return;}const _0x2a78a4=window[_0x570bd1(0xa2e)]('',_0x570bd1(0x333)),_0x27a8cf=_0x570bd1(0x315)+_0x21b735+_0x570bd1(0x5b7)+_0x21b735+_0x570bd1(0x75b)+_0x13a679[_0x570bd1(0xa1c)]+_0x570bd1(0x4dd);_0x2a78a4[_0x570bd1(0x28e)]['write'](_0x27a8cf),_0x2a78a4['document'][_0x570bd1(0x219)](),_0x2a78a4[_0x570bd1(0x946)]=function(){setTimeout(()=>{const _0x4c36f8=_0x34dc;_0x2a78a4[_0x4c36f8(0x42a)]();},0x7d0);};}function showAdminLiveQuestionView(_0x1234f0,_0x5901a7,_0x3352bb){const _0xab19f9=_0x5c7bd9,_0x594fac=_0x1234f0[_0xab19f9(0x6ab)]||currentQuizData[_0xab19f9(0x738)];let _0x2210be='';if(_0x594fac===_0xab19f9(0x943)||_0x594fac===_0xab19f9(0xb61)){const _0x4cfeba=_0x594fac==='true_false'?['ใช่',_0xab19f9(0x442)]:_0x1234f0['options'],_0x2b22b8=_0x594fac===_0xab19f9(0xb61)?_0x1234f0[_0xab19f9(0x684)]?0x0:0x1:_0x1234f0[_0xab19f9(0x23d)];_0x2210be=_0x4cfeba[_0xab19f9(0x98b)]((_0x95cf35,_0x3f7e7e)=>_0xab19f9(0xb31)+(_0x3f7e7e===_0x2b22b8)+_0xab19f9(0x657)+_0x95cf35+_0xab19f9(0xb96))[_0xab19f9(0x5b3)]('');}else{if(_0x594fac===_0xab19f9(0x239)){const _0x17ec15=_0x1234f0['allResponses']||[];_0x2210be=_0x17ec15['map'](_0x9a0b41=>_0xab19f9(0xb31)+(_0x9a0b41===_0x1234f0[_0xab19f9(0x27f)])+_0xab19f9(0x657)+_0x9a0b41+_0xab19f9(0xb96))[_0xab19f9(0x5b3)]('');}}const _0x1abb84=_0x1234f0['stem']||_0x1234f0[_0xab19f9(0xbc9)],_0x2f3b79=_0xab19f9(0x4db)+(_0x5901a7+0x1)+_0xab19f9(0xa3b)+_0x3352bb+_0xab19f9(0x489)+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x1abb84+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2210be+_0xab19f9(0x779);liveGameView[_0xab19f9(0xa1c)]=_0x2f3b79,window[_0xab19f9(0x403)]&&MathJax[_0xab19f9(0x894)]&&MathJax[_0xab19f9(0x894)]([liveGameView]),document[_0xab19f9(0x82a)](_0xab19f9(0xb71))['addEventListener'](_0xab19f9(0x79e),()=>revealAnswerForAdmin(_0x5901a7,_0x3352bb)),document[_0xab19f9(0x82a)](_0xab19f9(0x41e))[_0xab19f9(0x68b)](_0xab19f9(0x79e),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x1d40a3=_0x34dc,_0x139089=doc(db,_0x1d40a3(0x2fd)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x139089,{'status':'podium'});});}),document[_0xab19f9(0x82a)](_0xab19f9(0x474))[_0xab19f9(0x68b)](_0xab19f9(0x79e),()=>{const _0x246b78=_0xab19f9;document[_0x246b78(0x82a)](_0x246b78(0x849))[_0x246b78(0xbe2)][_0x246b78(0x6e9)](_0x246b78(0x9b3));});}function promptForProjectBeforeGenerating(_0x5d5055){const _0x2e0d47=_0x5c7bd9,_0x12d05a=document[_0x2e0d47(0x82a)]('move-quiz-modal'),_0x49d2f2=document[_0x2e0d47(0x82a)]('move-quiz-project-select'),_0x5fc1=_0x12d05a[_0x2e0d47(0x410)]('h3'),_0x47139c=document[_0x2e0d47(0x82a)](_0x2e0d47(0x6fe)),_0x39c15f=document[_0x2e0d47(0x82a)](_0x2e0d47(0x24b));_0x5fc1['textContent']=_0x2e0d47(0x2d2),_0x47139c['textContent']='เลือกและเริ่มสร้าง',_0x47139c['disabled']=!![];allProjects[_0x2e0d47(0x4d9)]===0x0?_0x49d2f2['innerHTML']=_0x2e0d47(0x427):(_0x49d2f2[_0x2e0d47(0xa1c)]=_0x2e0d47(0x440)+allProjects[_0x2e0d47(0x98b)](_0x491f1e=>'<option\x20value=\x22'+_0x491f1e['id']+'\x22>'+_0x491f1e[_0x2e0d47(0x5da)]+_0x2e0d47(0xa8a))[_0x2e0d47(0x5b3)](''),_0x47139c[_0x2e0d47(0x814)]=![]);_0x12d05a['classList']['remove'](_0x2e0d47(0x9b3));const _0x17fabf=async()=>{const _0x2d4ff8=_0x2e0d47,_0x4bdcf1=_0x49d2f2[_0x2d4ff8(0x556)];if(!_0x4bdcf1){showMessage(_0x2d4ff8(0xb49));return;}_0x12d05a[_0x2d4ff8(0xbe2)]['add'](_0x2d4ff8(0x9b3)),await loadProjectDetails(_0x4bdcf1),showView(_0x2d4ff8(0xbd7)),handleGenerateQuizFromBlueprintTopic(_0x5d5055),_0x129c28();},_0x129c28=()=>{const _0x3b1ac5=_0x2e0d47;_0x5fc1['textContent']=_0x3b1ac5(0x660),_0x47139c['textContent']=_0x3b1ac5(0x612),_0x47139c[_0x3b1ac5(0xb86)](_0x3b1ac5(0x79e),_0x17fabf),_0x39c15f['removeEventListener'](_0x3b1ac5(0x79e),_0x129c28),_0x47139c[_0x3b1ac5(0x68b)](_0x3b1ac5(0x79e),confirmMoveQuiz);};_0x47139c['removeEventListener'](_0x2e0d47(0x79e),confirmMoveQuiz),_0x47139c[_0x2e0d47(0x68b)](_0x2e0d47(0x79e),_0x17fabf),_0x39c15f['addEventListener'](_0x2e0d47(0x79e),_0x129c28);}function showStudentLiveQuestionView(_0x357949,_0xdd0dbf,_0x5a5c92){const _0x3f0cb4=_0x5c7bd9,_0x314ef3=_0x357949['questionType']||currentQuizData[_0x3f0cb4(0x738)];let _0x4aafc7='';if(_0x314ef3===_0x3f0cb4(0x943)||_0x314ef3===_0x3f0cb4(0xb61)){const _0x31c22f=_0x314ef3===_0x3f0cb4(0xb61)?['ใช่',_0x3f0cb4(0x442)]:_0x357949['options'];_0x4aafc7=_0x31c22f['map']((_0x560ca3,_0x34f73b)=>_0x3f0cb4(0x71e)+_0x34f73b+_0x3f0cb4(0x6e8)+_0x560ca3+_0x3f0cb4(0x5ea))['join']('');}else{if(_0x314ef3==='matching_item'){const _0x2b1311=_0x357949[_0x3f0cb4(0x2c7)]||[];_0x4aafc7=_0x2b1311['map']((_0x1e5eb7,_0x63791e)=>_0x3f0cb4(0x71e)+_0x63791e+_0x3f0cb4(0x6e8)+_0x1e5eb7+_0x3f0cb4(0x5ea))[_0x3f0cb4(0x5b3)]('');}else _0x314ef3===_0x3f0cb4(0x9a5)&&(_0x4aafc7=_0x3f0cb4(0x5ed));}const _0x138094=_0x357949[_0x3f0cb4(0x589)]||_0x357949[_0x3f0cb4(0xbc9)],_0x382ac1=_0x3f0cb4(0x1b4)+(_0xdd0dbf+0x1)+_0x3f0cb4(0xa3b)+_0x5a5c92+_0x3f0cb4(0x91e)+_0x138094+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4aafc7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3f0cb4(0xa1c)]=_0x382ac1;window[_0x3f0cb4(0x403)]&&MathJax[_0x3f0cb4(0x894)]&&MathJax['typesetPromise']([liveGameView]);const _0x212b8c=document['getElementById']('live-submit-short-answer-btn');_0x212b8c&&_0x212b8c[_0x3f0cb4(0x68b)](_0x3f0cb4(0x79e),()=>{const _0x118e7c=_0x3f0cb4,_0x27dd35=document[_0x118e7c(0x82a)]('live-short-answer-input')['value'];handleLiveAnswer(_0x27dd35,_0x357949);}),document[_0x3f0cb4(0x82a)](_0x3f0cb4(0x6dc))[_0x3f0cb4(0x68b)]('click',_0x5d7bdf=>{const _0x2dfd2b=_0x3f0cb4,_0xbb8fb4=_0x5d7bdf[_0x2dfd2b(0x5a4)]['closest']('.live-answer-btn');if(_0xbb8fb4){const _0xdbf2bc=parseInt(_0xbb8fb4[_0x2dfd2b(0x6d1)][_0x2dfd2b(0x94a)]);handleLiveAnswer(_0xdbf2bc,_0x357949);}});}async function handleLiveAnswer(_0x126151,_0x2caa28){const _0x44d677=_0x5c7bd9;document[_0x44d677(0xb24)](_0x44d677(0x951))[_0x44d677(0x883)](_0x20781b=>_0x20781b[_0x44d677(0x814)]=!![]);const _0x336aef=_0x2caa28[_0x44d677(0x6ab)]||currentQuizData['quizType'];let _0x5259eb=![],_0x3c7972=_0x126151;if(_0x336aef==='short_answer'){const _0x10011a=(_0x126151||'')[_0x44d677(0x454)]();_0x5259eb=await gradeShortAnswer(_0x10011a,_0x2caa28);}else{if(_0x336aef===_0x44d677(0x943))_0x5259eb=_0x126151===_0x2caa28[_0x44d677(0x23d)];else{if(_0x336aef==='true_false'){const _0x3d4a5d=_0x2caa28[_0x44d677(0x684)];_0x5259eb=_0x126151===0x0&&_0x3d4a5d||_0x126151===0x1&&!_0x3d4a5d;}else{if(_0x336aef===_0x44d677(0x239)){const _0x128590=_0x2caa28[_0x44d677(0x2c7)][_0x126151];_0x5259eb=_0x128590===_0x2caa28[_0x44d677(0x27f)],_0x3c7972=_0x128590;}}}}const _0x4538b5=doc(db,'artifacts/'+appId+_0x44d677(0x3df),currentLiveGameId),_0x4e6598={};_0x4e6598[_0x44d677(0x9aa)+currentStudentName+_0x44d677(0x8e1)]=!![],_0x4e6598[_0x44d677(0x9aa)+currentStudentName+_0x44d677(0x3ca)]=_0x5259eb,_0x4e6598['players.'+currentStudentName+_0x44d677(0x388)]=_0x336aef==='short_answer'||_0x336aef===_0x44d677(0x239)?null:_0x126151,_0x4e6598[_0x44d677(0x9aa)+currentStudentName+'.lastAnswerValue']=_0x3c7972,_0x4e6598[_0x44d677(0x9aa)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x4e6598[_0x44d677(0x9aa)+currentStudentName+'.isScored']=![],await updateDoc(_0x4538b5,_0x4e6598),liveGameView[_0x44d677(0xa1c)]=_0x44d677(0x622);}function showAdminSummaryView(_0x4b2460,_0x2c2b2f){const _0x45b066=_0x5c7bd9,_0x43e2a5=Object[_0x45b066(0x446)](_0x4b2460[_0x45b066(0xbc1)]||{}),_0x3feb4d=_0x2c2b2f[_0x45b066(0x6ab)]||currentQuizData['quizType'],_0x14dcd7=_0x3feb4d===_0x45b066(0xb61)?[_0x45b066(0x719),'ไม่ใช่']:_0x2c2b2f[_0x45b066(0xb8c)]||_0x2c2b2f[_0x45b066(0x2c7)]||[],_0x3b0359={},_0x475f24=new Array(_0x14dcd7[_0x45b066(0x4d9)])['fill'](0x0);_0x14dcd7[_0x45b066(0x883)]((_0x2dedd8,_0x3fd474)=>{_0x3b0359[_0x3fd474]=[];}),Object[_0x45b066(0x9cb)](_0x4b2460[_0x45b066(0xbc1)]||{})[_0x45b066(0x883)](([_0x585b46,_0xd44f49])=>{const _0x448dfe=_0x45b066;if(_0xd44f49[_0x448dfe(0x6d5)]===_0x448dfe(0x458)&&_0xd44f49[_0x448dfe(0x832)]!==undefined){const _0x1c0440=_0xd44f49[_0x448dfe(0x832)];_0x3b0359[_0x1c0440]&&(_0x3b0359[_0x1c0440][_0x448dfe(0xbb1)](_0x585b46),_0x475f24[_0x1c0440]++);}});const _0x273aad=Math[_0x45b066(0xbda)](..._0x475f24,0x1),_0x1c0b2f=_0x45b066(0x60b)+(_0x2c2b2f['stem']||_0x2c2b2f[_0x45b066(0xbc9)])+_0x45b066(0x4b8)+_0x475f24[_0x45b066(0x98b)]((_0x4943cf,_0x41e283)=>{const _0x248b12=_0x45b066,_0x17d2e2=_0x3b0359[_0x41e283][_0x248b12(0x4d9)]>0x0?_0x3b0359[_0x41e283][_0x248b12(0x5b3)](',\x20'):_0x248b12(0xb52);let _0x363a4f=![];if(_0x3feb4d===_0x248b12(0x943))_0x363a4f=_0x41e283===_0x2c2b2f['correctAnswerIndex'];else{if(_0x3feb4d===_0x248b12(0xb61)){const _0x362a72=_0x2c2b2f[_0x248b12(0x684)];_0x363a4f=_0x362a72&&_0x41e283===0x0||!_0x362a72&&_0x41e283===0x1;}else _0x3feb4d==='matching_item'&&(_0x363a4f=_0x14dcd7[_0x41e283]===_0x2c2b2f[_0x248b12(0x27f)]);}const _0xd154ff=_0x363a4f?'#26890c':_0x248b12(0xa5a);return _0x248b12(0x36f)+_0x4943cf+_0x248b12(0xbb3)+_0xd154ff+_0x248b12(0xaa7)+_0x41e283+_0x248b12(0xbc6)+_0x14dcd7[_0x41e283]+_0x248b12(0xb2b)+_0x41e283+_0x248b12(0xb8a)+_0x17d2e2+_0x248b12(0x6da);})['join']('')+_0x45b066(0x1bf);liveGameView[_0x45b066(0xa1c)]=_0x1c0b2f;if(window['MathJax'])MathJax[_0x45b066(0x894)]();document['getElementById']('show-leaderboard-btn')[_0x45b066(0x68b)](_0x45b066(0x79e),async()=>{const _0x30b0cf=_0x45b066,_0x47c4b2=doc(db,_0x30b0cf(0x2fd)+appId+_0x30b0cf(0x3df),currentLiveGameId);await updateDoc(_0x47c4b2,{'questionStatus':_0x30b0cf(0x3a4)});}),document[_0x45b066(0x82a)]('open-scratchpad-btn')[_0x45b066(0x68b)]('click',()=>{openScratchpad(_0x2c2b2f,_0x14dcd7);});}function showPlayerSummaryView(_0x52b5c8,_0x3790de){const _0x56c845=_0x5c7bd9,_0x2bfb26=Object[_0x56c845(0x446)](_0x52b5c8[_0x56c845(0xbc1)]||{}),_0x35f4f0=_0x52b5c8['players'][_0x3790de],_0x2d9582=_0x2bfb26['filter'](_0x3b3a39=>_0x3b3a39[_0x56c845(0x6d5)]===_0x56c845(0x458))[_0x56c845(0x74a)]((_0x4abe16,_0x1c768a)=>_0x1c768a[_0x56c845(0xa0f)]-_0x4abe16[_0x56c845(0xa0f)]),_0x57958d=_0x2d9582['findIndex'](_0x5a01c2=>_0x5a01c2===_0x35f4f0)+0x1,_0x517e0a=_0x35f4f0[_0x56c845(0x813)]?_0x56c845(0x602):_0x56c845(0x3b2),_0x649806=_0x35f4f0[_0x56c845(0x813)]?_0x56c845(0x6b1):_0x56c845(0x49e),_0x5969b8=_0x35f4f0['pointsLastQuestion']||0x0,_0x560b79=_0x56c845(0x587),_0x2c8796=_0x56c845(0x80d)+_0x560b79+_0x56c845(0x63d)+_0x649806+_0x56c845(0x5e3)+_0x517e0a+_0x56c845(0x99c)+_0x5969b8+_0x56c845(0x1e7)+(_0x57958d>0x0?_0x57958d:'-')+_0x56c845(0x6c5);liveGameView[_0x56c845(0xa1c)]=_0x2c8796;}function createQuizFromBank(){const _0x1caab0=_0x5c7bd9,_0x297ad4=document[_0x1caab0(0xb24)](_0x1caab0(0x8d4));if(_0x297ad4[_0x1caab0(0x4d9)]===0x0){showMessage(_0x1caab0(0x2cf));return;}const _0x529b34=[];_0x297ad4[_0x1caab0(0x883)](_0x172f1a=>{const _0x46d698=_0x1caab0;_0x529b34[_0x46d698(0xbb1)](JSON[_0x46d698(0x4cb)](_0x172f1a[_0x46d698(0x556)]));});const _0x1e10cb={'topic':_0x1caab0(0x5de),'questions':_0x529b34};displayGeneratedQuiz(_0x1e10cb);}function showAdminLobbyView(_0x5aa7cc,_0x2b9d25){const _0x43079f=_0x5c7bd9;showView(_0x43079f(0xa83));const _0x5097f4=_0x43079f(0x77b)+_0x2b9d25+_0x43079f(0x71d)+_0x5aa7cc+_0x43079f(0x98a);liveGameView[_0x43079f(0xa1c)]=_0x5097f4,document['getElementById'](_0x43079f(0x324))[_0x43079f(0x68b)](_0x43079f(0x79e),async()=>{const _0x541b50=_0x43079f;if(!currentQuizData||!currentQuizData[_0x541b50(0x600)]||currentQuizData[_0x541b50(0x600)][_0x541b50(0x4d9)]===0x0){showMessage(_0x541b50(0x20c));return;}try{const _0x174ad6=doc(db,_0x541b50(0x2fd)+appId+_0x541b50(0x3df),currentLiveGameId);await updateDoc(_0x174ad6,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x4f18f2=currentQuizData[_0x541b50(0x600)][0x0],_0x17d729=currentQuizData['questions'][_0x541b50(0x4d9)];showAdminLiveQuestionView(_0x4f18f2,0x0,_0x17d729);}catch(_0x4560cb){console[_0x541b50(0xb9a)]('Error\x20starting\x20game:',_0x4560cb),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x26c37b=_0x5c7bd9;if(allQuizzesGlobal[_0x26c37b(0x4d9)]===0x0){const _0x584ed7=await getDocs(collection(db,_0x26c37b(0x2fd)+appId+_0x26c37b(0x74e)));allQuizzesGlobal=_0x584ed7[_0x26c37b(0x795)][_0x26c37b(0x98b)](_0x38f559=>({'id':_0x38f559['id'],..._0x38f559[_0x26c37b(0x958)]()}));}renderGlobalQuizList(''),document[_0x26c37b(0x82a)]('global-live-game-modal')['classList']['remove']('hidden');}async function openQuizBankModal(){const _0x51b9a7=_0x5c7bd9;if(allQuizzesGlobal[_0x51b9a7(0x4d9)]===0x0){const _0xd03b66=await getDocs(collection(db,_0x51b9a7(0x2fd)+appId+_0x51b9a7(0x74e)));allQuizzesGlobal=_0xd03b66[_0x51b9a7(0x795)]['map'](_0x30fad1=>({'id':_0x30fad1['id'],..._0x30fad1[_0x51b9a7(0x958)]()}));}renderQuizBankList(''),document[_0x51b9a7(0x82a)](_0x51b9a7(0x9f2))['classList']['remove'](_0x51b9a7(0x9b3));}function renderQuizBankList(_0x57409f='',_0x201599=![]){const _0x55f23c=_0x5c7bd9,_0x2afd74=document[_0x55f23c(0x82a)]('bank-quiz-list'),_0x1bcff1=_0x57409f[_0x55f23c(0x21d)]()['trim'](),_0x5827d2=allQuizzesGlobal[_0x55f23c(0x98b)](_0x3a26b6=>({..._0x3a26b6,'projectName':allProjects[_0x55f23c(0x241)](_0x4f5aca=>_0x4f5aca['id']===_0x3a26b6['projectId'])?.[_0x55f23c(0x5da)]||_0x55f23c(0x66f)}))[_0x55f23c(0x920)](_0x5acfcd=>(_0x5acfcd[_0x55f23c(0x231)]||'')[_0x55f23c(0x21d)]()[_0x55f23c(0x918)](_0x1bcff1)||(_0x5acfcd[_0x55f23c(0x5da)]||'')[_0x55f23c(0x21d)]()['includes'](_0x1bcff1)||_0x5acfcd['id'][_0x55f23c(0x454)]()['includes'](_0x1bcff1));document[_0x55f23c(0x82a)](_0x55f23c(0x678))[_0x55f23c(0xc26)]='('+_0x5827d2[_0x55f23c(0x4d9)]+_0x55f23c(0x60c),_0x2afd74[_0x55f23c(0xa1c)]=_0x5827d2[_0x55f23c(0x4d9)]?_0x5827d2[_0x55f23c(0x98b)](_0x497c57=>{const _0x23ea81=_0x55f23c,_0x5124c0=!_0x201599?_0x23ea81(0x437)+_0x497c57['id']+_0x23ea81(0x4e9)+_0x497c57['id']+_0x23ea81(0x596)+_0x497c57['id']+_0x23ea81(0x2ce)+_0x497c57['id']+_0x23ea81(0xae8)+_0x497c57['id']+_0x23ea81(0xc09)+_0x497c57['id']+_0x23ea81(0x685)+_0x497c57[_0x23ea81(0x231)]+_0x23ea81(0x314):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x497c57['id']+_0x23ea81(0x85d)+(_0x497c57[_0x23ea81(0x231)]||'(ไม่มีชื่อ)')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x497c57[_0x23ea81(0x600)]?.[_0x23ea81(0x4d9)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x497c57['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x497c57['id']+_0x23ea81(0x6fb)+_0x5124c0+'\x0a\x20\x20\x20\x20\x20\x20</div>';})['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x201599&&(_0x2afd74[_0x55f23c(0xb24)](_0x55f23c(0x727))[_0x55f23c(0x883)](_0x5daddd=>{const _0x1c1bdd=_0x55f23c;_0x5daddd[_0x1c1bdd(0x68b)]('click',()=>{const _0x454608=_0x1c1bdd,_0x89ad60=_0x5daddd['dataset']['id'];document[_0x454608(0x82a)]('quiz-bank-modal')['classList'][_0x454608(0x5ca)](_0x454608(0x9b3)),showQuizDetailView(_0x89ad60);});}),_0x2afd74[_0x55f23c(0xb24)](_0x55f23c(0x520))[_0x55f23c(0x883)](_0x4f9893=>{const _0x129cb3=_0x55f23c;_0x4f9893[_0x129cb3(0x68b)]('click',_0x1ce33f=>{const _0x28be2c=_0x129cb3;_0x1ce33f[_0x28be2c(0x3be)]();const _0xbf357b=_0x4f9893[_0x28be2c(0x6d1)]['id'],_0x1a77dd=allQuizzesGlobal[_0x28be2c(0x241)](_0x592acf=>_0x592acf['id']===_0xbf357b);_0x1a77dd?(currentQuizData=_0x1a77dd,document[_0x28be2c(0x82a)](_0x28be2c(0x9f2))['classList'][_0x28be2c(0x5ca)](_0x28be2c(0x9b3)),startAdminTest()):showMessage(_0x28be2c(0x365));});}),_0x2afd74[_0x55f23c(0xb24)]('.quiz-bank-parallel-btn')[_0x55f23c(0x883)](_0x1cdb09=>{const _0x2c1064=_0x55f23c;_0x1cdb09[_0x2c1064(0x68b)](_0x2c1064(0x79e),_0x52f023=>{const _0x534184=_0x2c1064;_0x52f023['stopPropagation']();const _0x417bc8=_0x1cdb09['dataset']['id'],_0x4f123e=allQuizzesGlobal[_0x534184(0x241)](_0x125f17=>_0x125f17['id']===_0x417bc8);_0x4f123e?(document[_0x534184(0x82a)](_0x534184(0x9f2))[_0x534184(0xbe2)][_0x534184(0x5ca)](_0x534184(0x9b3)),handleGenerateParallelFromBank(_0x4f123e)):showMessage(_0x534184(0x365));});}),_0x2afd74['querySelectorAll'](_0x55f23c(0x978))[_0x55f23c(0x883)](_0x1730c1=>{const _0x3e103d=_0x55f23c;_0x1730c1[_0x3e103d(0x68b)](_0x3e103d(0x79e),_0x36914b=>{const _0x8966b9=_0x3e103d;_0x36914b[_0x8966b9(0x3be)]();const _0x539c61=_0x1730c1[_0x8966b9(0x6d1)]['id'],_0x899df4=allQuizzesGlobal[_0x8966b9(0x241)](_0x98cf8=>_0x98cf8['id']===_0x539c61);_0x899df4?(document[_0x8966b9(0x82a)](_0x8966b9(0x9f2))[_0x8966b9(0xbe2)][_0x8966b9(0x5ca)](_0x8966b9(0x9b3)),startPresentation(_0x899df4)):showMessage(_0x8966b9(0x365));});}),_0x2afd74['querySelectorAll'](_0x55f23c(0x5cd))[_0x55f23c(0x883)](_0x462167=>{const _0x4ab904=_0x55f23c;_0x462167[_0x4ab904(0x68b)]('click',_0x1ce193=>{const _0x1bc7fa=_0x4ab904;_0x1ce193['stopPropagation']();const _0x508684=_0x462167[_0x1bc7fa(0x6d1)]['id'];document[_0x1bc7fa(0x82a)](_0x1bc7fa(0x9f2))[_0x1bc7fa(0xbe2)][_0x1bc7fa(0x5ca)](_0x1bc7fa(0x9b3)),handleMoveQuiz(_0x508684);});}),_0x2afd74['querySelectorAll'](_0x55f23c(0xb9d))['forEach'](_0x2f8c50=>{const _0x2b8af2=_0x55f23c;_0x2f8c50[_0x2b8af2(0x68b)](_0x2b8af2(0x79e),_0x3c370f=>{const _0x3f2f09=_0x2b8af2;_0x3c370f[_0x3f2f09(0x3be)]();const _0x14a5ea=_0x2f8c50[_0x3f2f09(0x6d1)]['id'];document[_0x3f2f09(0x82a)](_0x3f2f09(0x9f2))[_0x3f2f09(0xbe2)]['add'](_0x3f2f09(0x9b3)),handleQuizSettings(_0x14a5ea);});}),_0x2afd74[_0x55f23c(0xb24)](_0x55f23c(0x22e))[_0x55f23c(0x883)](_0x2068fe=>{const _0x4372f=_0x55f23c;_0x2068fe[_0x4372f(0x68b)]('click',_0x6cd04=>{const _0x35cf9a=_0x4372f;_0x6cd04['stopPropagation']();const _0x419a57=_0x2068fe[_0x35cf9a(0x6d1)]['id'],_0x69eca9=_0x2068fe[_0x35cf9a(0x6d1)][_0x35cf9a(0x231)];showConfirmation(_0x35cf9a(0x607)+_0x69eca9+_0x35cf9a(0x78f),()=>handleDeleteQuiz(_0x419a57));});}));}async function handleCompareResults(_0x5ee0d9,_0x1b585d){const _0x47a820=_0x5c7bd9,_0x187da5=document[_0x47a820(0x82a)](_0x47a820(0xbf2)),_0x58da52=document['getElementById'](_0x47a820(0x729)),_0x408ff7=document['getElementById']('comparison-individual-content');document[_0x47a820(0x82a)](_0x47a820(0x928))[_0x47a820(0xbe2)][_0x47a820(0x5ca)](_0x47a820(0x458)),document[_0x47a820(0x82a)](_0x47a820(0xbb8))[_0x47a820(0xbe2)][_0x47a820(0x521)](_0x47a820(0x458)),_0x58da52['classList'][_0x47a820(0x521)](_0x47a820(0x9b3)),_0x408ff7['classList']['add'](_0x47a820(0x9b3)),_0x58da52[_0x47a820(0xa1c)]=_0x47a820(0x2a1),_0x408ff7['innerHTML']='',_0x187da5[_0x47a820(0xbe2)][_0x47a820(0x521)]('hidden');try{const _0xa7bfc1=doc(db,_0x47a820(0x2fd)+appId+_0x47a820(0x74e),_0x5ee0d9),_0xe085ad=await getDoc(_0xa7bfc1);if(!_0xe085ad['exists']())throw new Error(_0x47a820(0x704));const _0x36fb8e=_0xe085ad[_0x47a820(0x958)](),_0x44f3a3=_0x36fb8e[_0x47a820(0x600)][_0x47a820(0x4d9)],_0x299564=collection(db,_0x47a820(0x2fd)+appId+'/public/data/quizzes/'+_0x1b585d+_0x47a820(0x4a9)),_0x484aff=collection(db,_0x47a820(0x2fd)+appId+'/public/data/quizzes/'+_0x5ee0d9+'/submissions'),[_0x5d7676,_0x4bd96e]=await Promise[_0x47a820(0x371)]([getDocs(_0x299564),getDocs(_0x484aff)]),_0x5c7c60=_0x5d7676[_0x47a820(0x795)][_0x47a820(0x98b)](_0x439571=>_0x439571[_0x47a820(0x958)]()),_0x459108=_0x4bd96e[_0x47a820(0x795)][_0x47a820(0x98b)](_0x205475=>_0x205475[_0x47a820(0x958)]()),_0x317c21=_0x5c7c60[_0x47a820(0x98b)](_0x346dd0=>_0x346dd0[_0x47a820(0x2a0)]),_0x449c8b=_0x459108[_0x47a820(0x98b)](_0x26fee8=>_0x26fee8[_0x47a820(0x2a0)]),_0x1494e0=calculateMeanAndStdDev(_0x317c21),_0x5d6381=calculateMeanAndStdDev(_0x449c8b),_0x14b139=_0x1494e0[_0x47a820(0xa2a)],_0x66175b=_0x5d6381[_0x47a820(0xa2a)],_0x1e3982=_0x66175b-_0x14b139;let _0x962844=_0x47a820(0x385)+_0x14b139[_0x47a820(0xa05)](0x2)+_0x47a820(0x1b9)+_0x66175b[_0x47a820(0xa05)](0x2)+_0x47a820(0x935)+(_0x1e3982>=0x0?'bg-emerald-100':_0x47a820(0x97c))+_0x47a820(0x493)+(_0x1e3982>=0x0?'text-emerald-800':_0x47a820(0xbe0))+_0x47a820(0x9a1)+(_0x1e3982>=0x0?'text-emerald-900':_0x47a820(0x9d9))+'\x22>'+(_0x1e3982>=0x0?'+':'')+_0x1e3982[_0x47a820(0xa05)](0x2)+_0x47a820(0x1db);_0x58da52[_0x47a820(0xa1c)]=_0x962844;const _0xb831bc=document[_0x47a820(0x82a)]('comparison-chart')[_0x47a820(0x3ea)]('2d');if(chartInstances['comparison'])chartInstances[_0x47a820(0xbe9)][_0x47a820(0x8de)]();chartInstances[_0x47a820(0xbe9)]=new Chart(_0xb831bc,{'type':_0x47a820(0xc1a),'data':{'labels':[_0x47a820(0x569)],'datasets':[{'label':_0x47a820(0xbac),'data':[_0x14b139],'backgroundColor':_0x47a820(0x405)},{'label':_0x47a820(0x828),'data':[_0x66175b],'backgroundColor':_0x47a820(0x625)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x44f3a3}}}});const _0x19cc2c=currentProjectData['students']||[],_0x3969c3=_0x19cc2c[_0x47a820(0x98b)](_0x40ac81=>{const _0x33c37b=_0x47a820,_0x3a744c=_0x5c7c60[_0x33c37b(0x241)](_0x5ebc62=>_0x5ebc62[_0x33c37b(0xb38)]===_0x40ac81),_0x4dcdd1=_0x459108[_0x33c37b(0x241)](_0x5b2adf=>_0x5b2adf['studentName']===_0x40ac81),_0x5cb080=_0x3a744c?_0x3a744c[_0x33c37b(0x2a0)]:null,_0x3038c4=_0x4dcdd1?_0x4dcdd1[_0x33c37b(0x2a0)]:null,_0x732ce5=_0x5cb080!==null&&_0x3038c4!==null?_0x3038c4-_0x5cb080:null,_0x8cb23f=_0x5cb080!==null?calculateZScore(_0x5cb080,_0x1494e0[_0x33c37b(0xa2a)],_0x1494e0[_0x33c37b(0x86c)]):null,_0x19ad32=_0x3038c4!==null?calculateZScore(_0x3038c4,_0x5d6381['mean'],_0x5d6381[_0x33c37b(0x86c)]):null,_0x415561=_0x8cb23f!==null?calculateTScore(_0x8cb23f):null,_0x278af8=_0x19ad32!==null?calculateTScore(_0x19ad32):null,_0x4c7078=_0x415561!==null&&_0x278af8!==null?_0x278af8-_0x415561:null;return{'name':_0x40ac81,'preScore':_0x5cb080,'postScore':_0x3038c4,'gain':_0x732ce5,'preTScore':_0x415561,'postTScore':_0x278af8,'tGain':_0x4c7078};});renderIndividualComparisonTable(_0x3969c3,_0x408ff7);}catch(_0x451a33){console[_0x47a820(0xb9a)](_0x47a820(0x615),_0x451a33),_0x58da52[_0x47a820(0xa1c)]=_0x47a820(0xac4);}}async function saveBlueprintProject(){const _0x55de72=_0x5c7bd9;if(!extractedBlueprintData||!extractedBlueprintData[_0x55de72(0x4fc)]){showMessage(_0x55de72(0x45a));return;}const _0x3fcbe5=prompt(_0x55de72(0x1a8),_0x55de72(0x42e));if(!_0x3fcbe5||_0x3fcbe5[_0x55de72(0xbde)]()==='')return;const _0x5568ad={};extractedBlueprintData[_0x55de72(0x4fc)][_0x55de72(0x883)](_0x357124=>{const _0x81e842=_0x55de72;_0x357124['mainTopics'][_0x81e842(0x883)](_0x2fe3f4=>{const _0x1c251e=_0x81e842;_0x2fe3f4[_0x1c251e(0x84d)][_0x1c251e(0x883)](_0x1ab895=>{const _0x21a2c4=_0x1c251e,_0x539bd5='topic_'+Date[_0x21a2c4(0x8cd)]()+Math[_0x21a2c4(0xb68)]()['toString'](0x24)[_0x21a2c4(0x65c)](0x2,0x9);_0x5568ad[_0x539bd5]={'sara':_0x357124[_0x21a2c4(0x7e0)],'mainTopic':_0x2fe3f4[_0x21a2c4(0x32e)],'subTopic':_0x1ab895,'status':'not_generated','lessonContent':null};});});});try{const _0x575b5b=collection(db,_0x55de72(0x2fd)+appId+_0x55de72(0xc0e));await addDoc(_0x575b5b,{'projectName':_0x3fcbe5['trim'](),'gradeLevel':extractedBlueprintData[_0x55de72(0x931)],'topics':_0x5568ad,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x3fcbe5[_0x55de72(0xbde)]()+'\x22\x20สำเร็จ!'),document[_0x55de72(0x82a)](_0x55de72(0x8d0))['classList'][_0x55de72(0x5ca)](_0x55de72(0x9b3));}catch(_0x16c5f1){console[_0x55de72(0xb9a)](_0x55de72(0x32d),_0x16c5f1),showMessage(_0x55de72(0xa7e));}}async function showBlueprintProjects(){const _0x54686c=_0x5c7bd9,_0x23a7cf=document['getElementById'](_0x54686c(0x254)),_0xff24a9=document[_0x54686c(0x82a)](_0x54686c(0x2e5));_0xff24a9[_0x54686c(0xa1c)]=_0x54686c(0x25e),_0x23a7cf[_0x54686c(0xbe2)][_0x54686c(0x521)]('hidden');try{const _0x5bccff=collection(db,_0x54686c(0x2fd)+appId+_0x54686c(0xc0e)),_0x527c48=await getDocs(_0x5bccff);if(_0x527c48[_0x54686c(0x7b4)]){_0xff24a9[_0x54686c(0xa1c)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x5afe1b=_0x527c48[_0x54686c(0x795)]['map'](_0x25c5de=>({'id':_0x25c5de['id'],..._0x25c5de['data']()}));_0x5afe1b['sort']((_0xb98ba0,_0x119d76)=>_0xb98ba0[_0x54686c(0x5da)][_0x54686c(0x318)](_0x119d76[_0x54686c(0x5da)],'th')),_0xff24a9[_0x54686c(0xa1c)]=_0x5afe1b[_0x54686c(0x98b)](_0x34ccf3=>_0x54686c(0xada)+_0x34ccf3['projectName']+_0x54686c(0xb62)+_0x34ccf3[_0x54686c(0x931)]+_0x54686c(0x912)+Object['keys'](_0x34ccf3[_0x54686c(0x1be)])[_0x54686c(0x4d9)]+_0x54686c(0x9a9)+_0x34ccf3['id']+_0x54686c(0xc16)+_0x34ccf3['id']+_0x54686c(0x31a))['join']('');}catch(_0x2173ee){console[_0x54686c(0xb9a)](_0x54686c(0x871),_0x2173ee),_0xff24a9[_0x54686c(0xa1c)]=_0x54686c(0x44b);}}async function displayBlueprintProjectManager(_0x4f5d44){const _0x4c8aac=_0x5c7bd9;currentBlueprintProjectId=_0x4f5d44,document[_0x4c8aac(0x82a)](_0x4c8aac(0x254))[_0x4c8aac(0xbe2)][_0x4c8aac(0x5ca)](_0x4c8aac(0x9b3)),showView(_0x4c8aac(0x80b)),projectDashboardView[_0x4c8aac(0xbe2)][_0x4c8aac(0x5ca)](_0x4c8aac(0x9b3));const _0x2f39dc=document[_0x4c8aac(0x82a)](_0x4c8aac(0x61a));_0x2f39dc[_0x4c8aac(0xbe2)][_0x4c8aac(0x521)](_0x4c8aac(0x9b3)),document[_0x4c8aac(0x82a)](_0x4c8aac(0x694))[_0x4c8aac(0xa1c)]=_0x4c8aac(0x2a1);try{const _0x60051=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',_0x4f5d44),_0x411841=await getDoc(_0x60051);if(!_0x411841[_0x4c8aac(0x4a4)]())throw new Error('ไม่พบโปรเจค');const _0xe0b577={'id':_0x411841['id'],..._0x411841['data']()};document[_0x4c8aac(0x82a)](_0x4c8aac(0x1d6))[_0x4c8aac(0xc26)]=_0xe0b577[_0x4c8aac(0x5da)],renderBlueprintTopicManager(_0xe0b577);}catch(_0x96bd18){console[_0x4c8aac(0xb9a)](_0x4c8aac(0x663),_0x96bd18),showMessage(_0x96bd18[_0x4c8aac(0x6a5)]),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x1b4760){const _0x1f3bf5=_0x5c7bd9,_0x39292c=document[_0x1f3bf5(0x82a)](_0x1f3bf5(0x694)),_0x83ad63=_0x1b4760[_0x1f3bf5(0x1be)]||{};if(Object[_0x1f3bf5(0x4c4)](_0x83ad63)['length']===0x0){_0x39292c[_0x1f3bf5(0xa1c)]=_0x1f3bf5(0x930);return;}const _0x55c7b4={};for(const _0x379f7b in _0x83ad63){const _0x791e87={'id':_0x379f7b,..._0x83ad63[_0x379f7b]};_0x55c7b4[_0x791e87[_0x1f3bf5(0x7e0)]]=_0x55c7b4[_0x791e87[_0x1f3bf5(0x7e0)]]||{},_0x55c7b4[_0x791e87[_0x1f3bf5(0x7e0)]][_0x791e87[_0x1f3bf5(0xbbc)]]=_0x55c7b4[_0x791e87['sara']][_0x791e87['mainTopic']]||[],_0x55c7b4[_0x791e87['sara']][_0x791e87['mainTopic']]['push'](_0x791e87);}let _0x3a7e10='';const _0xdc649f=Object[_0x1f3bf5(0x4c4)](_0x55c7b4)[_0x1f3bf5(0x74a)]((_0x467322,_0x4c0acb)=>_0x467322[_0x1f3bf5(0x318)](_0x4c0acb,'th'));for(const _0x33524c of _0xdc649f){_0x3a7e10+=_0x1f3bf5(0x508)+_0x33524c+_0x1f3bf5(0x7e9);const _0x3659ce=Object[_0x1f3bf5(0x4c4)](_0x55c7b4[_0x33524c])[_0x1f3bf5(0x74a)]((_0x23cb0c,_0x3a6c6f)=>_0x23cb0c[_0x1f3bf5(0x318)](_0x3a6c6f,'th'));for(const _0x5bf381 of _0x3659ce){_0x3a7e10+=_0x1f3bf5(0x3bd)+_0x5bf381+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x55c7b4[_0x33524c][_0x5bf381][_0x1f3bf5(0x74a)]((_0x2e782f,_0x5e345c)=>_0x2e782f[_0x1f3bf5(0x35f)]['localeCompare'](_0x5e345c[_0x1f3bf5(0x35f)],'th')),_0x55c7b4[_0x33524c][_0x5bf381][_0x1f3bf5(0x883)](_0x525814=>{const _0x237595=_0x1f3bf5,_0x169eba=_0x525814['id'],_0x438113=_0x525814[_0x237595(0x6cb)]||[],_0x198ebb=_0x438113[_0x237595(0x4d9)]>0x0,_0x51f39a=_0x525814['status']===_0x237595(0xc2a);let _0x3c3a6c='';_0x198ebb?_0x3c3a6c=_0x237595(0x9ce)+_0x438113[_0x237595(0x4d9)]+_0x237595(0x807):_0x3c3a6c='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0x51f39a?_0x237595(0xa66):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x51f39a?_0x237595(0xab1):_0x237595(0x34f))+_0x237595(0x293);const _0x6774f7=!_0x51f39a?_0x237595(0x531):'',_0x57fe3a=!_0x51f39a?_0x237595(0x781):'';let _0xb02910=_0x51f39a?'<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>':_0x237595(0x39e);_0x3a7e10+=_0x237595(0x8e4)+_0x169eba+_0x237595(0x264)+_0x525814[_0x237595(0x35f)]+_0x237595(0x5e8)+_0x3c3a6c+_0x237595(0x7e4)+_0x6774f7+_0x237595(0x86b)+_0x57fe3a+_0x237595(0x837)+_0xb02910+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3a7e10+=_0x1f3bf5(0x6b0);}_0x3a7e10+=_0x1f3bf5(0x59b);}_0x39292c[_0x1f3bf5(0xa1c)]=_0x3a7e10;}async function openTopicQuizBank(_0x3353ae){const _0x26b6ea=_0x5c7bd9,_0x16fbf9=document[_0x26b6ea(0x82a)](_0x26b6ea(0x4b5)),_0x590f20=document[_0x26b6ea(0x82a)]('topic-bank-list'),_0x2d55d9=document[_0x26b6ea(0x82a)](_0x26b6ea(0x3c9));try{await ensureGlobalQuizzesLoaded();const _0x817f2f=doc(db,'artifacts/'+appId+_0x26b6ea(0xc0e),currentBlueprintProjectId),_0x1ce2df=await getDoc(_0x817f2f);if(!_0x1ce2df['exists']())return;const _0x58ec8b=_0x1ce2df['data'](),_0x433839=_0x58ec8b['topics'][_0x3353ae];document[_0x26b6ea(0x82a)]('topic-bank-subtopic-name')[_0x26b6ea(0xc26)]=_0x433839[_0x26b6ea(0x35f)];const _0x5c178d=_0x433839['linkedQuizIds']||[];_0x2d55d9[_0x26b6ea(0xbe2)][_0x26b6ea(0x6e9)]('hidden',_0x5c178d['length']===0x0),_0x2d55d9[_0x26b6ea(0x485)]=()=>handleClearAllLinksForTopic(_0x3353ae);if(_0x5c178d[_0x26b6ea(0x4d9)]===0x0)_0x590f20[_0x26b6ea(0xa1c)]=_0x26b6ea(0x57a);else{const _0x29ab66=allQuizzesGlobal[_0x26b6ea(0x920)](_0x2ee79c=>_0x5c178d['includes'](_0x2ee79c['id']));_0x590f20['innerHTML']=_0x29ab66[_0x26b6ea(0x98b)](_0xc1b958=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0xc1b958['id']+_0x26b6ea(0xa04)+_0xc1b958[_0x26b6ea(0x231)]+_0x26b6ea(0x408)+_0xc1b958['id']+_0x26b6ea(0x912)+_0xc1b958['questions']['length']+_0x26b6ea(0x576)+_0xc1b958['id']+_0x26b6ea(0x847)+_0xc1b958['id']+_0x26b6ea(0x50e)+_0xc1b958['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xc1b958['id']+_0x26b6ea(0xbcb)+_0xc1b958['id']+_0x26b6ea(0xbfe)+_0xc1b958['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22'+_0x3353ae+_0x26b6ea(0x39d)+_0xc1b958['id']+_0x26b6ea(0x981))['join']('');}document[_0x26b6ea(0x82a)](_0x26b6ea(0x5bc))[_0x26b6ea(0x485)]=()=>{openQuizSelectorForBlueprint(_0x3353ae);},document[_0x26b6ea(0x82a)](_0x26b6ea(0x3d9))[_0x26b6ea(0x485)]=()=>_0x16fbf9[_0x26b6ea(0xbe2)][_0x26b6ea(0x5ca)](_0x26b6ea(0x9b3)),_0x16fbf9[_0x26b6ea(0xbe2)][_0x26b6ea(0x521)](_0x26b6ea(0x9b3));}catch(_0x46669a){showMessage(_0x46669a[_0x26b6ea(0x6a5)]);}}async function openQuizSelectorForBlueprint(_0x4b1d5d){const _0x332b9a=_0x5c7bd9,_0xeeb3d5=document['getElementById'](_0x332b9a(0x9f2)),_0x4c9ff5=document['getElementById'](_0x332b9a(0x4b5));_0x4c9ff5[_0x332b9a(0xbe2)][_0x332b9a(0x5ca)](_0x332b9a(0x9b3)),document[_0x332b9a(0x82a)](_0x332b9a(0x7f8))?.[_0x332b9a(0x521)]();const _0x4dcc17=document[_0x332b9a(0x5a7)](_0x332b9a(0x885));_0x4dcc17['id']='confirm-link-quiz-btn',_0x4dcc17['className']=_0x332b9a(0x867),_0x4dcc17[_0x332b9a(0xc26)]=_0x332b9a(0xa34),_0x4dcc17[_0x332b9a(0x814)]=!![];try{await ensureGlobalQuizzesLoaded(),_0xeeb3d5[_0x332b9a(0xbe2)][_0x332b9a(0x521)](_0x332b9a(0x9b3)),renderQuizBankListForMultiSelect(''),document['getElementById'](_0x332b9a(0x389))[_0x332b9a(0x95f)][_0x332b9a(0x246)]=_0x332b9a(0xab4),_0xeeb3d5['querySelector'](_0x332b9a(0x73a))[_0x332b9a(0x70c)](_0x4dcc17);const _0x277a93=(_0x120abf=![])=>{const _0x970e42=_0x332b9a;_0xeeb3d5[_0x970e42(0xbe2)]['add'](_0x970e42(0x9b3)),document['getElementById'](_0x970e42(0x389))['style'][_0x970e42(0x246)]='flex',_0x4dcc17['remove'](),_0x120abf&&openTopicQuizBank(_0x4b1d5d);};_0x4dcc17[_0x332b9a(0x485)]=async()=>{const _0x36e7bc=_0x332b9a,_0x1282dd=Array[_0x36e7bc(0x4a0)](document[_0x36e7bc(0xb24)](_0x36e7bc(0x669)))['map'](_0x41892d=>_0x41892d[_0x36e7bc(0x556)]);if(_0x1282dd['length']===0x0)return;try{const _0x50c185=doc(db,_0x36e7bc(0x2fd)+appId+_0x36e7bc(0xc0e),currentBlueprintProjectId),_0x4d0092=(await getDoc(_0x50c185))[_0x36e7bc(0x958)](),_0x4266d7=_0x4d0092['topics'][_0x4b1d5d]['linkedQuizIds']||[],_0x5ac53e=[...new Set([..._0x4266d7,..._0x1282dd])];await updateDoc(_0x50c185,{['topics.'+_0x4b1d5d+'.linkedQuizIds']:_0x5ac53e}),showMessage('เพิ่ม\x20'+_0x1282dd[_0x36e7bc(0x4d9)]+_0x36e7bc(0x7e1)),_0x277a93(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x343f01){console['error']('Error\x20linking\x20quizzes:',_0x343f01);}},document[_0x332b9a(0x82a)](_0x332b9a(0x8ae))[_0x332b9a(0x485)]=()=>_0x277a93(!![]);}catch(_0x4f20fa){showMessage(_0x4f20fa['message']),_0x4c9ff5[_0x332b9a(0xbe2)][_0x332b9a(0x521)](_0x332b9a(0x9b3));}}function handleClearLinkedQuiz(_0x434238){const _0x2e65c0=_0x5c7bd9;showConfirmation(_0x2e65c0(0xa59),async()=>{const _0x5ef18f=_0x2e65c0;try{const _0x4c0311=doc(db,_0x5ef18f(0x2fd)+appId+_0x5ef18f(0xc0e),currentBlueprintProjectId);await updateDoc(_0x4c0311,{[_0x5ef18f(0x680)+_0x434238+_0x5ef18f(0x51f)]:deleteField()}),showMessage(_0x5ef18f(0x67d)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2d4407){console[_0x5ef18f(0xb9a)](_0x5ef18f(0x656),_0x2d4407),showMessage(_0x5ef18f(0x265));}});}async function addTopicToProject(){const _0x3a47bd=_0x5c7bd9,_0x2d36c8=prompt(_0x3a47bd(0x472));if(!_0x2d36c8||_0x2d36c8[_0x3a47bd(0xbde)]()==='')return;const _0x418d89=prompt(_0x3a47bd(0xa7d),_0x3a47bd(0x878)),_0x35e097=prompt(_0x3a47bd(0x60a),_0x3a47bd(0x514)),_0x6c2010=_0x3a47bd(0xa43)+Date[_0x3a47bd(0x8cd)]()+Math[_0x3a47bd(0xb68)]()[_0x3a47bd(0x454)](0x24)[_0x3a47bd(0x65c)](0x2,0x9),_0x791b2={'sara':_0x418d89,'mainTopic':_0x35e097,'subTopic':_0x2d36c8[_0x3a47bd(0xbde)](),'status':'not_generated','lessonContent':null};try{const _0x4733f0=doc(db,_0x3a47bd(0x2fd)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x4733f0,{[_0x3a47bd(0x680)+_0x6c2010]:_0x791b2}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x27eb47){console[_0x3a47bd(0xb9a)](_0x3a47bd(0x32c),_0x27eb47),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x29f017){const _0x14c173=_0x5c7bd9,_0x48e1ea=document[_0x14c173(0x410)](_0x14c173(0x6b9)+_0x29f017+'\x22]'),_0x198b2d=_0x48e1ea[_0x14c173(0x410)]('[data-field=\x22subTopic\x22]'),_0x4e9212=_0x198b2d['textContent'],_0x17bd90=prompt(_0x14c173(0x4ca),_0x4e9212);if(!_0x17bd90||_0x17bd90[_0x14c173(0xbde)]()===''||_0x17bd90[_0x14c173(0xbde)]()===_0x4e9212)return;try{const _0x2aaa2d=doc(db,_0x14c173(0x2fd)+appId+_0x14c173(0xc0e),currentBlueprintProjectId);await updateDoc(_0x2aaa2d,{[_0x14c173(0x680)+_0x29f017+_0x14c173(0xa5f)]:_0x17bd90[_0x14c173(0xbde)]()}),_0x198b2d['textContent']=_0x17bd90[_0x14c173(0xbde)](),showMessage(_0x14c173(0x62e));}catch(_0x2689cc){console[_0x14c173(0xb9a)]('Error\x20editing\x20topic:',_0x2689cc),showMessage(_0x14c173(0x1c8));}}async function deleteTopicFromProject(_0x49fec5){const _0x347d8e=_0x5c7bd9;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x3efa3c=doc(db,_0x347d8e(0x2fd)+appId+_0x347d8e(0xc0e),currentBlueprintProjectId);await updateDoc(_0x3efa3c,{[_0x347d8e(0x680)+_0x49fec5]:deleteField()}),document[_0x347d8e(0x410)](_0x347d8e(0x6b9)+_0x49fec5+'\x22]')[_0x347d8e(0x521)](),showMessage(_0x347d8e(0xabc));}catch(_0x620bca){console[_0x347d8e(0xb9a)](_0x347d8e(0x68f),_0x620bca),showMessage(_0x347d8e(0xa7b));}}async function generateAndSaveLessonForBlueprint(_0x14f0f4,_0x2f9fd7,_0x4363f6){handleGenerateAndShowLesson(_0x2f9fd7,_0x4363f6);const _0x17a435=setInterval(async()=>{const _0x46e7eb=_0x34dc,_0xbc4a28=document[_0x46e7eb(0x82a)](_0x46e7eb(0xba2)),_0x3c8980=_0xbc4a28[_0x46e7eb(0xbe2)][_0x46e7eb(0x5e6)](_0x46e7eb(0x9b3));if(_0x3c8980){clearInterval(_0x17a435);if(currentApplicationData&&currentApplicationData[_0x46e7eb(0x4d9)]>0x0){const _0x4ebea6={'point':document['getElementById'](_0x46e7eb(0x3cd))[_0x46e7eb(0xa1c)],'memory':document[_0x46e7eb(0x82a)](_0x46e7eb(0x3ee))[_0x46e7eb(0xa1c)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x46e7eb(0x82a)]('summaryContent')[_0x46e7eb(0xa1c)]};try{const _0x5863dc=doc(db,'artifacts/'+appId+_0x46e7eb(0xc0e),currentBlueprintProjectId);await updateDoc(_0x5863dc,{[_0x46e7eb(0x680)+_0x14f0f4+_0x46e7eb(0xa06)]:_0x4ebea6,[_0x46e7eb(0x680)+_0x14f0f4+_0x46e7eb(0x57b)]:_0x46e7eb(0xc2a)}),console['log'](_0x46e7eb(0x819)+_0x14f0f4+_0x46e7eb(0x53b)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x48dc38){console[_0x46e7eb(0xb9a)](_0x46e7eb(0xac6),_0x48dc38);}}}},0x3e8);}function displayHalfMarkResult(_0x31e9f6,_0x169d0c){const _0x51e2d0=_0x5c7bd9,_0xbe664=_0x31e9f6>=_0x169d0c/0x2,_0x42dd2b=_0xbe664?_0x51e2d0(0xbec):_0x51e2d0(0x97c),_0x3a4103=_0xbe664?_0x51e2d0(0x1da):_0x51e2d0(0x633),_0x56d706=_0xbe664?'text-green-800':_0x51e2d0(0xbe0),_0x140fab=_0xbe664?'ทำคะแนนได้เกินครึ่ง':_0x51e2d0(0x5c7),_0x5d394c=_0xbe664?_0x51e2d0(0x4c5):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x3e55ae='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x42dd2b+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3a4103+_0x51e2d0(0x48e)+_0x56d706+'\x20mb-2\x22>'+_0x140fab+_0x51e2d0(0x910)+_0x5d394c+_0x51e2d0(0xb26);studentResultArea[_0x51e2d0(0xa1c)]=_0x3e55ae,studentResultArea[_0x51e2d0(0xbe2)][_0x51e2d0(0x521)]('hidden'),studentQuizArea['classList'][_0x51e2d0(0x5ca)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0xbe664});}function displayPerfectScoreResult(_0x1ed5ef,_0x2506a0){const _0x5770b7=_0x5c7bd9,_0x19619f=_0x1ed5ef===_0x2506a0,_0x51ad74=_0x19619f?'bg-yellow-100':_0x5770b7(0x6a4),_0x486ff2=_0x19619f?_0x5770b7(0xb44):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x470d00=_0x19619f?_0x5770b7(0xbd9):_0x5770b7(0x1ff),_0x4e6584=_0x19619f?'คะแนนเต็ม!':_0x5770b7(0x3b3),_0x41e49d=_0x19619f?_0x5770b7(0x5d2):_0x5770b7(0x41b);let _0x6e1dbf=_0x5770b7(0x2ec)+_0x51ad74+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x486ff2+_0x5770b7(0x48e)+_0x470d00+_0x5770b7(0x4d8)+_0x4e6584+_0x5770b7(0x910)+_0x41e49d+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x6e1dbf,studentResultArea['classList'][_0x5770b7(0x521)](_0x5770b7(0x9b3)),studentQuizArea[_0x5770b7(0xbe2)][_0x5770b7(0x5ca)](_0x5770b7(0x9b3)),setupResultScreenBackButton({'showRankings':![],'score':_0x1ed5ef,'totalQuestions':_0x2506a0});}function renderIndividualComparisonTable(_0x36cb77,_0x73b94e){const _0x40f394=_0x5c7bd9;_0x36cb77[_0x40f394(0x74a)]((_0x53c348,_0x33acd2)=>(_0x33acd2[_0x40f394(0x731)]??-Infinity)-(_0x53c348[_0x40f394(0x731)]??-Infinity));let _0x5d11f8=_0x40f394(0x206);_0x36cb77[_0x40f394(0x4d9)]===0x0?_0x5d11f8+=_0x40f394(0x261):_0x36cb77[_0x40f394(0x883)]((_0x45ce1c,_0x4b0728)=>{const _0x3981d1=_0x40f394;let _0x6f5b8d='-',_0x28ea20='';if(_0x45ce1c[_0x3981d1(0x701)]!==null){const _0xe4d30d=_0x45ce1c[_0x3981d1(0x701)]>0x0?_0x3981d1(0xaae):_0x45ce1c[_0x3981d1(0x701)]<0x0?_0x3981d1(0x465):_0x3981d1(0x9bf),_0x54a849=_0x45ce1c['gain']>0x0?'+':'';_0x6f5b8d='<span\x20class=\x22font-bold\x20'+_0xe4d30d+'\x22>'+_0x54a849+_0x45ce1c['gain']+'</span>';if(_0x45ce1c[_0x3981d1(0x701)]>0x0)_0x28ea20=_0x3981d1(0xa95);else _0x45ce1c['gain']<0x0?_0x28ea20=_0x3981d1(0x4d7):_0x28ea20=_0x3981d1(0x732);}let _0x35d06d='-';if(_0x45ce1c[_0x3981d1(0x731)]!==null){const _0x669fb8=_0x45ce1c[_0x3981d1(0x731)]>0x0?_0x3981d1(0xaae):_0x45ce1c['tGain']<0x0?_0x3981d1(0x465):'text-gray-500',_0x7a6125=_0x45ce1c['tGain']>0x0?'+':'';_0x35d06d='<span\x20class=\x22font-bold\x20'+_0x669fb8+'\x22>'+_0x7a6125+_0x45ce1c['tGain']['toFixed'](0x2)+_0x3981d1(0x293);}_0x5d11f8+=_0x3981d1(0x560)+(_0x4b0728+0x1)+_0x3981d1(0x8c7)+_0x45ce1c[_0x3981d1(0x97a)]+_0x3981d1(0x224)+(_0x45ce1c['preScore']??'-')+_0x3981d1(0x830)+(_0x45ce1c[_0x3981d1(0x277)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x6f5b8d+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x28ea20+_0x3981d1(0x1c3)+(_0x45ce1c[_0x3981d1(0xb89)]?.[_0x3981d1(0xa05)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x45ce1c[_0x3981d1(0x35c)]?.[_0x3981d1(0xa05)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x35d06d+_0x3981d1(0xc25);}),_0x5d11f8+=_0x40f394(0xa88),_0x73b94e[_0x40f394(0xa1c)]=_0x5d11f8;}function handleRenameQuiz(_0x2cb1e9,_0x1118db){const _0x3f013e=_0x5c7bd9;actionTargetId=_0x2cb1e9,document['getElementById'](_0x3f013e(0x9bc))[_0x3f013e(0x556)]=_0x1118db,renameQuizModal[_0x3f013e(0xbe2)][_0x3f013e(0x521)](_0x3f013e(0x9b3));}function setupComparisonModalTabs(){const _0x163135=_0x5c7bd9,_0x5a5f31=document[_0x163135(0x82a)]('comparison-overall-tab'),_0x4050c4=document[_0x163135(0x82a)](_0x163135(0xbb8)),_0xd620d9=document[_0x163135(0x82a)](_0x163135(0x729)),_0x23a175=document['getElementById'](_0x163135(0x234));_0x5a5f31[_0x163135(0x68b)](_0x163135(0x79e),()=>{const _0xe9cf37=_0x163135;_0x5a5f31['classList']['add']('active'),_0x4050c4[_0xe9cf37(0xbe2)][_0xe9cf37(0x521)]('active'),_0xd620d9[_0xe9cf37(0xbe2)]['remove'](_0xe9cf37(0x9b3)),_0x23a175[_0xe9cf37(0xbe2)][_0xe9cf37(0x5ca)](_0xe9cf37(0x9b3));}),_0x4050c4[_0x163135(0x68b)](_0x163135(0x79e),()=>{const _0x4a8ce2=_0x163135;_0x4050c4[_0x4a8ce2(0xbe2)][_0x4a8ce2(0x5ca)](_0x4a8ce2(0x458)),_0x5a5f31['classList'][_0x4a8ce2(0x521)]('active'),_0x23a175['classList']['remove'](_0x4a8ce2(0x9b3)),_0xd620d9['classList'][_0x4a8ce2(0x5ca)](_0x4a8ce2(0x9b3));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x9c5f5a=''){const _0x8f38f4=_0x5c7bd9,_0x22cc2c=document[_0x8f38f4(0x82a)]('global-quiz-list'),_0xb44a51=_0x9c5f5a[_0x8f38f4(0x21d)]()[_0x8f38f4(0xbde)](),_0x3ca32e=allQuizzesGlobal[_0x8f38f4(0x98b)](_0x17a2c7=>({..._0x17a2c7,'projectName':allProjects[_0x8f38f4(0x241)](_0x10ffbc=>_0x10ffbc['id']===_0x17a2c7[_0x8f38f4(0x571)])?.['projectName']||_0x17a2c7[_0x8f38f4(0x571)]}))[_0x8f38f4(0x920)](_0x1debf8=>(_0x1debf8['topic']||'')[_0x8f38f4(0x21d)]()[_0x8f38f4(0x918)](_0xb44a51)||(_0x1debf8[_0x8f38f4(0x5da)]||'')[_0x8f38f4(0x21d)]()[_0x8f38f4(0x918)](_0xb44a51));document[_0x8f38f4(0x82a)](_0x8f38f4(0x7fd))['textContent']='('+_0x3ca32e['length']+'\x20ชุด)',_0x22cc2c[_0x8f38f4(0xa1c)]=_0x3ca32e[_0x8f38f4(0x4d9)]?_0x3ca32e[_0x8f38f4(0x98b)](_0x47a400=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x47a400['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x47a400[_0x8f38f4(0x231)]||_0x8f38f4(0x8e0))+_0x8f38f4(0x74b)+(_0x47a400[_0x8f38f4(0x600)]?.['length']||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x47a400['projectName']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')[_0x8f38f4(0x5b3)](''):_0x8f38f4(0x88b),selectedGlobalQuizId=null,document[_0x8f38f4(0x82a)](_0x8f38f4(0xb3f))[_0x8f38f4(0x814)]=!![],_0x22cc2c[_0x8f38f4(0xb24)](_0x8f38f4(0xb1d))[_0x8f38f4(0x883)](_0x2aa8a2=>{const _0x121a16=_0x8f38f4;_0x2aa8a2['addEventListener'](_0x121a16(0x79e),()=>{const _0x56158d=_0x121a16;selectedGlobalQuizId=_0x2aa8a2[_0x56158d(0x6d1)]['id'],_0x22cc2c[_0x56158d(0xb24)]('button')['forEach'](_0x4b0c8d=>_0x4b0c8d['classList'][_0x56158d(0x521)](_0x56158d(0x391),'ring-2',_0x56158d(0xbed))),_0x2aa8a2[_0x56158d(0xbe2)][_0x56158d(0x5ca)](_0x56158d(0x391),_0x56158d(0x81e),_0x56158d(0xbed)),document[_0x56158d(0x82a)](_0x56158d(0xb3f))[_0x56158d(0x814)]=![];});});}function listenForLiveGameUpdates(){const _0x506a2c=_0x5c7bd9;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x395bad=doc(db,_0x506a2c(0x2fd)+appId+_0x506a2c(0x3df),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x395bad,_0x1ae64f=>{const _0x4f4f13=_0x506a2c;if(!_0x1ae64f[_0x4f4f13(0x4a4)]()){showMessage(_0x4f4f13(0x43f));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4f4f13(0x1f3)?showView(_0x4f4f13(0xbd7)):showView(_0x4f4f13(0x73c));return;}const _0x2f8e5b=_0x1ae64f[_0x4f4f13(0x958)]();_0x2f8e5b['shuffledQuiz']&&(currentQuizData=_0x2f8e5b['shuffledQuiz']);!currentQuizData&&_0x2f8e5b['quizId']&&((async()=>{const _0x498e44=_0x4f4f13;try{const _0x170496=doc(db,'artifacts/'+appId+_0x498e44(0x74e),_0x2f8e5b['quizId']),_0x3148a8=await getDoc(_0x170496);_0x3148a8['exists']()&&(currentQuizData={'id':_0x3148a8['id'],..._0x3148a8[_0x498e44(0x958)]()});}catch(_0x360bdf){console[_0x498e44(0xb9a)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x360bdf);}})());switch(_0x2f8e5b[_0x4f4f13(0x6d5)]){case _0x4f4f13(0x954):if(currentMode==='admin'){const _0x180356=_0x2f8e5b['players']?Object[_0x4f4f13(0x9cb)](_0x2f8e5b[_0x4f4f13(0xbc1)]):[],_0x3897ae=_0x180356[_0x4f4f13(0x920)](([_0x30579b,_0x19bc18])=>_0x19bc18[_0x4f4f13(0x6d5)]===_0x4f4f13(0x458)),_0x4f2d57=document['getElementById']('player-count');if(_0x4f2d57)_0x4f2d57[_0x4f4f13(0xc26)]=_0x3897ae[_0x4f4f13(0x4d9)];const _0x3eba4f=document[_0x4f4f13(0x82a)](_0x4f4f13(0x302));_0x3eba4f&&(_0x3eba4f[_0x4f4f13(0xa1c)]=_0x3897ae['map'](([_0xc9bbce,_0x542145])=>_0x4f4f13(0x8ee)+_0xc9bbce+_0x4f4f13(0x879)+_0xc9bbce+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4f4f13(0x5b3)](''));const _0x206f81=document[_0x4f4f13(0x82a)](_0x4f4f13(0x324));_0x206f81&&(_0x206f81[_0x4f4f13(0x814)]=_0x3897ae['length']===0x0);}else showView('live-game'),liveGameView[_0x4f4f13(0xa1c)]=_0x4f4f13(0x974)+currentStudentName+_0x4f4f13(0x544);break;case _0x4f4f13(0xb99):const _0x50808a=_0x2f8e5b[_0x4f4f13(0x7d3)];if(currentQuizData&&currentQuizData[_0x4f4f13(0x600)][_0x50808a]){const _0x595cc4=currentQuizData[_0x4f4f13(0x600)][_0x50808a],_0x1e33fe=_0x2f8e5b[_0x4f4f13(0x9fc)]||_0x4f4f13(0x538);switch(_0x1e33fe){case _0x4f4f13(0x6c9):currentMode==='admin'?showAdminSummaryView(_0x2f8e5b,_0x595cc4):showPlayerSummaryView(_0x2f8e5b,currentStudentName);break;case _0x4f4f13(0x3a4):currentMode==='admin'&&showTop5LeaderboardView(_0x2f8e5b);break;case _0x4f4f13(0x538):default:if(currentMode==='admin'){const _0x588068=writeBatch(db);let _0x3beddb=![];Object[_0x4f4f13(0x9cb)](_0x2f8e5b[_0x4f4f13(0xbc1)])[_0x4f4f13(0x883)](([_0x173b9a,_0x20f118])=>{const _0x242ffa=_0x4f4f13;if(_0x20f118['status']===_0x242ffa(0x458)&&_0x20f118[_0x242ffa(0xb78)]&&!_0x20f118[_0x242ffa(0x54c)]){_0x3beddb=!![];const _0x3e7c72=_0x20f118[_0x242ffa(0xb78)][_0x242ffa(0x2d6)]()-_0x2f8e5b[_0x242ffa(0x982)]['toDate']();let _0x4c25b6=0x0;if(_0x20f118[_0x242ffa(0x813)]){const _0xa88117=0x3e8,_0x5ea233=0x1f4,_0x27976e=0x4e20;let _0x459d19=_0x3e7c72/_0x27976e;if(_0x459d19>0x1)_0x459d19=0x1;const _0x1391f0=Math[_0x242ffa(0x7ab)](_0x459d19*_0x5ea233);_0x4c25b6=_0xa88117-_0x1391f0;}const _0x239ddb=doc(db,_0x242ffa(0x2fd)+appId+_0x242ffa(0x3df),currentLiveGameId);_0x588068[_0x242ffa(0x570)](_0x239ddb,{[_0x242ffa(0x9aa)+_0x173b9a+_0x242ffa(0x3e3)]:increment(_0x4c25b6),[_0x242ffa(0x9aa)+_0x173b9a+_0x242ffa(0x90c)]:_0x4c25b6,[_0x242ffa(0x9aa)+_0x173b9a+'.isScored']:!![]});}});_0x3beddb&&_0x588068[_0x4f4f13(0xbf4)]()['catch'](_0x4de79b=>console[_0x4f4f13(0xb9a)](_0x4f4f13(0xa76),_0x4de79b));lastRenderedAdminQuestionIndex!==_0x50808a&&(showAdminLiveQuestionView(_0x595cc4,_0x50808a,currentQuizData[_0x4f4f13(0x600)]['length']),lastRenderedAdminQuestionIndex=_0x50808a);const _0x5d3e18=_0x2f8e5b['players']||{},_0x591f76=Object[_0x4f4f13(0x446)](_0x5d3e18)[_0x4f4f13(0x920)](_0x2df49a=>_0x2df49a[_0x4f4f13(0x6d5)]==='active'),_0x286db=_0x591f76['length'],_0x2759e8=_0x591f76[_0x4f4f13(0x920)](_0xa259e6=>_0xa259e6[_0x4f4f13(0xbbd)]===!![])[_0x4f4f13(0x4d9)],_0x1956a1=document[_0x4f4f13(0x82a)]('answer-counter');if(_0x1956a1)_0x1956a1['textContent']=_0x2759e8+'/'+_0x286db;const _0x528779=document[_0x4f4f13(0x82a)]('live-player-list');if(_0x528779){let _0x562fe5=Object['entries'](_0x5d3e18)[_0x4f4f13(0x920)](([_0x17252c,_0x15e865])=>_0x15e865[_0x4f4f13(0x6d5)]==='active')[_0x4f4f13(0x98b)](([_0x4ee187,_0x1baa9a])=>{const _0x5c26c2=_0x4f4f13,_0x338d0c=_0x1baa9a['answeredCurrentQuestion']===!![],_0x3a3f51=_0x338d0c?'bg-green-500':_0x5c26c2(0x210),_0x9838a1=_0x338d0c?_0x5c26c2(0xc0f):_0x5c26c2(0x2c8);return _0x5c26c2(0x95a)+_0x3a3f51+_0x5c26c2(0x864)+_0x9838a1+_0x5c26c2(0x215)+_0x4ee187+_0x5c26c2(0x25a)+_0x4ee187+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');_0x528779[_0x4f4f13(0xa1c)]=_0x562fe5||_0x4f4f13(0x46d);}_0x286db>0x0&&_0x2759e8===_0x286db&&revealAnswerForAdmin(_0x50808a,currentQuizData[_0x4f4f13(0x600)][_0x4f4f13(0x4d9)]);}else{const _0x2752cd=_0x2f8e5b[_0x4f4f13(0xbc1)][currentStudentName];_0x2752cd&&!_0x2752cd[_0x4f4f13(0xbbd)]&&showStudentLiveQuestionView(_0x595cc4,_0x50808a,currentQuizData[_0x4f4f13(0x600)][_0x4f4f13(0x4d9)]);}break;}}break;case'podium':showPodiumView(_0x2f8e5b['players'],_0x4f4f13(0xbb4));break;}});}async function handleKickPlayer(_0x56dd38){const _0x15a903=_0x5c7bd9;if(!currentLiveGameId||!_0x56dd38)return;const _0x589eb9=doc(db,_0x15a903(0x2fd)+appId+_0x15a903(0x3df),currentLiveGameId),_0x2625b0={};_0x2625b0['players.'+_0x56dd38+_0x15a903(0x57b)]=_0x15a903(0xbd5);try{await updateDoc(_0x589eb9,_0x2625b0);}catch(_0x1cf632){console[_0x15a903(0xb9a)](_0x15a903(0xb1f)+_0x56dd38+':',_0x1cf632),showMessage(_0x15a903(0xa4f));}}async function authenticateUser(){const _0x2f818a=_0x5c7bd9;try{typeof __initial_auth_token!==_0x2f818a(0x2c3)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x1cfab2){console[_0x2f818a(0xb9a)]('Authentication\x20failed:',_0x1cfab2),showMessage(_0x2f818a(0x6aa));}}function showView(_0x5dc0e4){const _0x1e4d9b=_0x5c7bd9;adminView[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x5ca)]('hidden'),studentView[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x5ca)](_0x1e4d9b(0x9b3)),projectDashboardView['classList']['add'](_0x1e4d9b(0x9b3)),projectDetailView[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x5ca)](_0x1e4d9b(0x9b3)),quizResultsView[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x5ca)](_0x1e4d9b(0x9b3)),liveGameView[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x5ca)](_0x1e4d9b(0x9b3)),document['getElementById'](_0x1e4d9b(0x61a))[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x5ca)](_0x1e4d9b(0x9b3)),studentInitialView[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x5ca)](_0x1e4d9b(0x9b3)),studentJoinGameView[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x5ca)](_0x1e4d9b(0x9b3)),studentNameSelectionView[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x5ca)]('hidden'),studentQuizArea['classList']['add'](_0x1e4d9b(0x9b3)),studentResultArea[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x5ca)](_0x1e4d9b(0x9b3)),studentReadingArea[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x5ca)]('hidden');const _0x561190=document[_0x1e4d9b(0x82a)](_0x1e4d9b(0x575)),_0x5e6496=document['getElementById'](_0x1e4d9b(0x4da));if(_0x561190)_0x561190['classList'][_0x1e4d9b(0x5ca)](_0x1e4d9b(0x9b3));if(_0x5e6496)_0x5e6496[_0x1e4d9b(0xbe2)]['add'](_0x1e4d9b(0x9b3));switch(_0x5dc0e4){case'admin-dashboard':adminView['classList'][_0x1e4d9b(0x521)]('hidden'),projectDashboardView['classList'][_0x1e4d9b(0x521)](_0x1e4d9b(0x9b3));break;case _0x1e4d9b(0xbd7):adminView[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x521)](_0x1e4d9b(0x9b3)),projectDetailView['classList'][_0x1e4d9b(0x521)](_0x1e4d9b(0x9b3));break;case _0x1e4d9b(0x8fa):adminView[_0x1e4d9b(0xbe2)]['remove'](_0x1e4d9b(0x9b3)),quizResultsView[_0x1e4d9b(0xbe2)]['remove']('hidden');break;case _0x1e4d9b(0x73c):studentView[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x521)](_0x1e4d9b(0x9b3)),studentInitialView['classList']['remove'](_0x1e4d9b(0x9b3));break;case _0x1e4d9b(0xa83):liveGameView[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x521)](_0x1e4d9b(0x9b3));break;case _0x1e4d9b(0x218):studentView[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x521)](_0x1e4d9b(0x9b3));if(_0x561190)_0x561190[_0x1e4d9b(0xbe2)]['remove'](_0x1e4d9b(0x9b3));break;case'student-progress':studentView[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x521)](_0x1e4d9b(0x9b3));if(_0x5e6496)_0x5e6496[_0x1e4d9b(0xbe2)]['remove'](_0x1e4d9b(0x9b3));break;default:studentView[_0x1e4d9b(0xbe2)][_0x1e4d9b(0x521)](_0x1e4d9b(0x9b3)),studentInitialView['classList'][_0x1e4d9b(0x521)](_0x1e4d9b(0x9b3));break;}}function showJoinGameView(){const _0x470b93=_0x5c7bd9;studentInitialView['classList'][_0x470b93(0x5ca)](_0x470b93(0x9b3)),studentJoinGameView[_0x470b93(0xbe2)]['remove'](_0x470b93(0x9b3));}async function handleSaveVisibilitySettings(){const _0x3a0675=_0x5c7bd9;if(!currentProjectId)return;const _0x2092cb=doc(db,_0x3a0675(0x2fd)+appId+_0x3a0675(0x3eb),currentProjectId);try{await updateDoc(_0x2092cb,{'settings.showInStudentDashboard':document[_0x3a0675(0x82a)]('show-in-student-dashboard-checkbox')['checked'],'settings.isPasscodeEnabled':document['getElementById'](_0x3a0675(0x2d4))['checked'],'settings.passcode':document['getElementById']('project-passcode-input')[_0x3a0675(0x556)][_0x3a0675(0xbde)]()}),showMessage(_0x3a0675(0x7ac));}catch(_0x234436){console[_0x3a0675(0xb9a)]('Error\x20saving\x20visibility\x20settings:',_0x234436),showMessage(_0x3a0675(0xa6d));}}function setupEventListeners(){const _0x239079=_0x5c7bd9;document['getElementById']('topic-quiz-bank-modal')[_0x239079(0x68b)](_0x239079(0x79e),async _0x108ce0=>{const _0x58f853=_0x239079,_0x1bd2ab=document[_0x58f853(0x82a)]('topic-quiz-bank-modal'),_0x333c08=_0x108ce0[_0x58f853(0x5a4)][_0x58f853(0x2d9)]('.bp-view-analysis-btn'),_0x257ce6=_0x108ce0['target'][_0x58f853(0x2d9)](_0x58f853(0x421)),_0x3c9822=_0x108ce0[_0x58f853(0x5a4)]['closest']('.bp-present-btn'),_0x5c7412=_0x108ce0[_0x58f853(0x5a4)]['closest'](_0x58f853(0x222)),_0x5eedab=_0x108ce0['target'][_0x58f853(0x2d9)]('.bp-live-btn'),_0xedc629=_0x108ce0[_0x58f853(0x5a4)][_0x58f853(0x2d9)](_0x58f853(0x971));if(_0x333c08){cameFromBlueprint=!![];const _0x45775c=_0x333c08[_0x58f853(0x6d1)][_0x58f853(0xbc0)];showQuizDetailView(_0x45775c),_0x1bd2ab['classList'][_0x58f853(0x5ca)](_0x58f853(0x9b3));}else{if(_0x257ce6){const _0x57ff55=_0x257ce6[_0x58f853(0x6d1)]['topicId'],_0x1ac4a8=_0x257ce6[_0x58f853(0x6d1)]['quizId'],_0x5cd10a=allQuizzesGlobal[_0x58f853(0x241)](_0x5a8aab=>_0x5a8aab['id']===_0x1ac4a8),_0x14dfad=_0x5cd10a?_0x5cd10a[_0x58f853(0x231)]:'รายการนี้';showConfirmation(_0x58f853(0x3f2)+_0x14dfad+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x3bd1c7=_0x58f853;try{const _0x4b7d77=doc(db,'artifacts/'+appId+_0x3bd1c7(0xc0e),currentBlueprintProjectId);await updateDoc(_0x4b7d77,{[_0x3bd1c7(0x680)+_0x57ff55+_0x3bd1c7(0x59a)]:arrayRemove(_0x1ac4a8)}),showMessage(_0x3bd1c7(0x67c)),openTopicQuizBank(_0x57ff55),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x33ef73){console[_0x3bd1c7(0xb9a)](_0x3bd1c7(0x3f1),_0x33ef73),showMessage(_0x3bd1c7(0x9b0));}});}else{if(_0x3c9822){cameFromBlueprint=!![];const _0x2a25a1=_0x3c9822[_0x58f853(0x6d1)]['quizId'],_0x325b27=allQuizzesGlobal[_0x58f853(0x241)](_0x5a8908=>_0x5a8908['id']===_0x2a25a1);_0x325b27&&(startPresentation(_0x325b27),_0x1bd2ab[_0x58f853(0xbe2)]['add'](_0x58f853(0x9b3)));}else{if(_0x5c7412){cameFromBlueprint=!![];const _0x53dd3b=_0x5c7412[_0x58f853(0x6d1)][_0x58f853(0xbc0)],_0x4078aa=allQuizzesGlobal['find'](_0x1c2a23=>_0x1c2a23['id']===_0x53dd3b);_0x4078aa&&(currentQuizData=_0x4078aa,startAdminTest(),_0x1bd2ab[_0x58f853(0xbe2)][_0x58f853(0x5ca)](_0x58f853(0x9b3)));}else{if(_0x5eedab)cameFromBlueprint=!![],handleStartLiveRace(_0x5eedab[_0x58f853(0x6d1)][_0x58f853(0xbc0)]),_0x1bd2ab['classList'][_0x58f853(0x5ca)]('hidden');else{if(_0xedc629){cameFromBlueprint=!![];const _0x3b5e07=_0xedc629[_0x58f853(0x6d1)][_0x58f853(0xbc0)],_0x4ef980=_0xedc629[_0x58f853(0x6d1)]['mode'],_0x2f3a3c=allQuizzesGlobal['find'](_0x93e4b2=>_0x93e4b2['id']===_0x3b5e07);_0x2f3a3c&&(showGameStartConfirmationModal(_0x3b5e07,_0x4ef980,_0x2f3a3c['topic']),_0x1bd2ab[_0x58f853(0xbe2)][_0x58f853(0x5ca)]('hidden'));}}}}}}}),document['getElementById']('manual-create-blueprint-btn')[_0x239079(0x68b)]('click',()=>{const _0x274149=_0x239079;document[_0x274149(0x82a)](_0x274149(0x307))[_0x274149(0xbe2)]['remove'](_0x274149(0x9b3)),document[_0x274149(0x82a)](_0x274149(0xa67))[_0x274149(0x556)]='',document[_0x274149(0x82a)](_0x274149(0x4d2))['value']='',document[_0x274149(0x82a)](_0x274149(0x842))['value']='';}),document['getElementById'](_0x239079(0x3ab))[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x510b2d=_0x239079;document[_0x510b2d(0x82a)]('manual-blueprint-modal')[_0x510b2d(0xbe2)][_0x510b2d(0x5ca)](_0x510b2d(0x9b3));}),document[_0x239079(0x82a)](_0x239079(0x710))[_0x239079(0x68b)](_0x239079(0x79e),handleManualBlueprintSave),document[_0x239079(0x82a)](_0x239079(0x7f9))['addEventListener'](_0x239079(0x79e),()=>document['getElementById']('blueprint-settings-modal')['classList'][_0x239079(0x5ca)]('hidden')),document[_0x239079(0x82a)]('save-bp-settings-btn')['addEventListener'](_0x239079(0x79e),handleSaveBlueprintPageSettings),document[_0x239079(0x82a)](_0x239079(0xb69))[_0x239079(0x68b)](_0x239079(0x79e),openBlueprintQuizSettings),document[_0x239079(0x82a)](_0x239079(0x8d0))[_0x239079(0x68b)](_0x239079(0x79e),saveBlueprintProject),document[_0x239079(0x82a)](_0x239079(0x8a1))[_0x239079(0x68b)]('click',showBlueprintProjects),document['getElementById'](_0x239079(0x393))[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x260030=_0x239079;document[_0x260030(0x82a)](_0x260030(0x254))[_0x260030(0xbe2)][_0x260030(0x5ca)]('hidden');}),document['getElementById']('blueprint-project-list')[_0x239079(0x68b)](_0x239079(0x79e),_0x21c5b5=>{const _0xd5e7b2=_0x239079,_0xc9a566=_0x21c5b5[_0xd5e7b2(0x5a4)]['closest'](_0xd5e7b2(0x3ad)),_0x15cc5b=_0x21c5b5[_0xd5e7b2(0x5a4)]['closest'](_0xd5e7b2(0x825));if(_0xc9a566)displayBlueprintProjectManager(_0xc9a566[_0xd5e7b2(0x6d1)]['id']);else{if(_0x15cc5b){if(confirm(_0xd5e7b2(0x81a))){const _0x47145d=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',_0x15cc5b[_0xd5e7b2(0x6d1)]['id']);deleteDoc(_0x47145d)[_0xd5e7b2(0x91f)](()=>{const _0xaea175=_0xd5e7b2;showMessage(_0xaea175(0xa27)),showBlueprintProjects();});}}}}),document[_0x239079(0x82a)](_0x239079(0x3c6))[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0xe78ebd=_0x239079;currentBlueprintProjectId=null,currentProjectId=null,document[_0xe78ebd(0x82a)](_0xe78ebd(0x61a))[_0xe78ebd(0xbe2)][_0xe78ebd(0x5ca)](_0xe78ebd(0x9b3)),showView(_0xe78ebd(0x80b));}),document[_0x239079(0x82a)](_0x239079(0x5d5))['addEventListener'](_0x239079(0x79e),addTopicToProject),document[_0x239079(0x82a)](_0x239079(0x694))[_0x239079(0x68b)](_0x239079(0x79e),async _0x166544=>{const _0x35e065=_0x239079,_0x401192=_0x166544[_0x35e065(0x5a4)][_0x35e065(0x2d9)](_0x35e065(0xa3e));if(!_0x401192)return;const _0x1b37da=_0x401192[_0x35e065(0x6d1)]['topicId'],_0x12778b=_0x166544['target']['closest'](_0x35e065(0x2a2)),_0x5f195a=_0x166544[_0x35e065(0x5a4)]['closest'](_0x35e065(0x227)),_0x3e6ba1=_0x166544[_0x35e065(0x5a4)][_0x35e065(0x2d9)](_0x35e065(0xa3d)),_0x30aece=_0x166544[_0x35e065(0x5a4)][_0x35e065(0x2d9)](_0x35e065(0x9dd)),_0x486128=_0x166544['target'][_0x35e065(0x2d9)](_0x35e065(0x8cb)),_0x355d81=_0x166544[_0x35e065(0x5a4)]['closest'](_0x35e065(0x7af)),_0x558fb7=_0x166544[_0x35e065(0x5a4)][_0x35e065(0x2d9)](_0x35e065(0x414)),_0x47986b=_0x166544[_0x35e065(0x5a4)][_0x35e065(0x2d9)](_0x35e065(0xb5e));if(_0x30aece)openTopicQuizBank(_0x1b37da);else{if(_0x12778b){console[_0x35e065(0x77c)](_0x35e065(0x38f));const _0x5b7f57=_0x401192['querySelector'](_0x35e065(0x699))[_0x35e065(0xc26)];selectProjectAndGenerateBlueprintQuiz(_0x5b7f57,null,_0x1b37da,!![]);}else{if(_0x5f195a){console[_0x35e065(0x77c)](_0x35e065(0x865));try{const _0x50f117=doc(db,_0x35e065(0x2fd)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x3a7c63=await getDoc(_0x50f117);if(_0x3a7c63[_0x35e065(0x4a4)]()){const _0x5f0e35=_0x3a7c63['data'](),_0x99f42a=_0x5f0e35[_0x35e065(0x1be)][_0x1b37da],_0x801dfa=_0x99f42a[_0x35e065(0xb81)],_0x34f3d3=document[_0x35e065(0x5a7)](_0x35e065(0x8d6)),_0x4e85f7=_0xb99763=>{const _0x28d38a=_0x35e065;if(!_0xb99763)return'';return _0x34f3d3['innerHTML']=_0xb99763,_0x34f3d3[_0x28d38a(0xc26)]||_0x34f3d3[_0x28d38a(0x93d)]||'';},_0x4df358=(_0x4e85f7(_0x801dfa[_0x35e065(0x2b6)])+'\x20'+_0x4e85f7(_0x801dfa[_0x35e065(0x853)])+'\x20'+_0x4e85f7(_0x801dfa[_0x35e065(0x4e1)]))[_0x35e065(0xbde)]();selectProjectAndGenerateBlueprintQuiz(_0x99f42a[_0x35e065(0x35f)],_0x4df358,_0x1b37da,![]);}}catch(_0x5710b9){console[_0x35e065(0xb9a)](_0x35e065(0x63e),_0x5710b9);}}else{if(_0x3e6ba1){console[_0x35e065(0x77c)](_0x35e065(0x968));const _0x28253d=_0x401192[_0x35e065(0x410)](_0x35e065(0x699))[_0x35e065(0xc26)];selectProjectAndGenerateBlueprintQuiz(_0x28253d,null,_0x1b37da,![]);}else{if(_0x486128){console['log']('Action:\x20View\x20existing\x20lesson.');const _0x42c35d=doc(db,'artifacts/'+appId+_0x35e065(0xc0e),currentBlueprintProjectId),_0x56df57=await getDoc(_0x42c35d);if(_0x56df57[_0x35e065(0x4a4)]()){const _0x5e9f8f=_0x56df57['data'](),_0x286c98=_0x5e9f8f[_0x35e065(0x1be)][_0x1b37da];if(_0x286c98&&_0x286c98[_0x35e065(0xb81)]){document[_0x35e065(0x82a)](_0x35e065(0xc13))['textContent']=_0x35e065(0x613)+_0x286c98[_0x35e065(0x35f)],document['getElementById'](_0x35e065(0x3cd))[_0x35e065(0xa1c)]=_0x286c98[_0x35e065(0xb81)][_0x35e065(0x2b6)],document[_0x35e065(0x82a)](_0x35e065(0x3ee))['innerHTML']=_0x286c98[_0x35e065(0xb81)][_0x35e065(0x853)],document[_0x35e065(0x82a)](_0x35e065(0x2d5))['innerHTML']=_0x286c98[_0x35e065(0xb81)][_0x35e065(0x4e1)];const _0xe29ab2=document[_0x35e065(0x82a)](_0x35e065(0x953));_0x286c98[_0x35e065(0xb81)][_0x35e065(0x68c)]?(currentApplicationData=_0x286c98['lessonContent']['applicationData'],_0xe29ab2['innerHTML']=currentApplicationData[_0x35e065(0x98b)]((_0x52051d,_0x3719ea)=>_0x35e065(0x658)+(_0x3719ea+0x1)+'.\x20'+marked[_0x35e065(0x441)](_0x52051d['question'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x3719ea+_0x35e065(0x899)+_0x52051d[_0x35e065(0xb8c)][_0x35e065(0x98b)]((_0x439848,_0xf2f61a)=>_0x35e065(0x20b)+_0x3719ea+',\x20'+_0xf2f61a+_0x35e065(0x647)+String['fromCharCode'](0x61+_0xf2f61a)+'.\x20'+marked[_0x35e065(0x441)](_0x439848)+_0x35e065(0x2a3))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x35e065(0x5b3)]('')):(currentApplicationData=[],_0xe29ab2[_0x35e065(0xa1c)]=_0x286c98[_0x35e065(0xb81)][_0x35e065(0x1d1)]||_0x286c98[_0x35e065(0xb81)]['application']),document[_0x35e065(0x82a)](_0x35e065(0x6c3))[_0x35e065(0xbe2)][_0x35e065(0x5ca)]('hidden'),document[_0x35e065(0x82a)]('lesson-sections-container')[_0x35e065(0xbe2)][_0x35e065(0x521)](_0x35e065(0x9b3)),document[_0x35e065(0x82a)](_0x35e065(0xba2))[_0x35e065(0xbe2)][_0x35e065(0x521)](_0x35e065(0x9b3)),window[_0x35e065(0x403)]&&MathJax['typesetPromise']([document[_0x35e065(0x82a)](_0x35e065(0x698))]);}else showMessage(_0x35e065(0xbcf));}}else{if(_0x355d81){console[_0x35e065(0x77c)]('Action:\x20Generate\x20new\x20lesson.');const _0x11509e=doc(db,'artifacts/'+appId+_0x35e065(0xc0e),currentBlueprintProjectId),_0x17311d=await getDoc(_0x11509e);if(_0x17311d[_0x35e065(0x4a4)]()){const _0x2df59d=_0x17311d[_0x35e065(0x958)](),_0x28c98c=_0x2df59d['topics'][_0x1b37da];generateAndSaveLessonForBlueprint(_0x1b37da,_0x28c98c[_0x35e065(0x35f)],_0x2df59d[_0x35e065(0x931)]);}}else{if(_0x558fb7)editTopicInProject(_0x1b37da);else _0x47986b&&deleteTopicFromProject(_0x1b37da);}}}}}}}),document[_0x239079(0x82a)](_0x239079(0x6bb))['addEventListener'](_0x239079(0x79e),handleFixLessonLatex),document[_0x239079(0x82a)](_0x239079(0x3cf))[_0x239079(0x68b)](_0x239079(0x79e),handleExportLessonToPDF),document[_0x239079(0x82a)](_0x239079(0xa16))[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x29be2a=_0x239079;document[_0x29be2a(0x82a)](_0x29be2a(0xba2))[_0x29be2a(0xbe2)][_0x29be2a(0x5ca)]('hidden');});const _0x1e60be=document[_0x239079(0x82a)](_0x239079(0x91a)),_0x14489e=document['getElementById'](_0x239079(0x960));_0x1e60be[_0x239079(0x68b)](_0x239079(0x7d6),()=>{const _0x52eb8c=_0x239079;_0x14489e[_0x52eb8c(0xbe2)][_0x52eb8c(0x6e9)](_0x52eb8c(0x9b3),!_0x1e60be[_0x52eb8c(0x4be)]);});const _0x1d71ed=document[_0x239079(0x82a)](_0x239079(0xaac)),_0x5f07fe=document[_0x239079(0x82a)](_0x239079(0x580));_0x1d71ed['addEventListener'](_0x239079(0x7d6),()=>{const _0x3caf42=_0x239079;_0x5f07fe[_0x3caf42(0xbe2)][_0x3caf42(0x6e9)]('hidden',!_0x1d71ed[_0x3caf42(0x4be)]);});const _0x55e322=document['getElementById']('modal-confidence-scoring-checkbox'),_0x311046=document[_0x239079(0x82a)](_0x239079(0x917));_0x55e322['addEventListener'](_0x239079(0x7d6),()=>{const _0x4f3b13=_0x239079;_0x311046[_0x4f3b13(0xbe2)]['toggle'](_0x4f3b13(0x9b3),!_0x55e322['checked']);});const _0x52b5dd=document[_0x239079(0x82a)](_0x239079(0x450)),_0x218f81=async _0x1d33d1=>{const _0x335a27=_0x239079,_0x58bc2d=document[_0x335a27(0x82a)]('confidence-modal'),_0x1d24f0=_0x58bc2d[_0x335a27(0x6d1)][_0x335a27(0x7d1)],_0x1d242f=document['getElementById']('selected-answer-index-hidden');_0x58bc2d[_0x335a27(0xbe2)][_0x335a27(0x5ca)]('hidden');if(_0x1d24f0==='timed'){const _0x5d6d00=_0x1d242f[_0x335a27(0x556)],_0x4ac273={'answer':_0x5d6d00,'wasConfident':_0x1d33d1};proceedToNextQuestion(_0x4ac273);}else{if(_0x1d24f0==='sync'){const _0x41455b=_0x1d242f[_0x335a27(0x6d1)][_0x335a27(0x9d5)],_0x5e9760=JSON[_0x335a27(0x4cb)](_0x1d242f[_0x335a27(0x6d1)][_0x335a27(0xb99)]),_0x1a411c=JSON[_0x335a27(0x4cb)](_0x1d242f[_0x335a27(0x6d1)]['gameData']),_0x20e592=_0x1d242f[_0x335a27(0x6d1)]['playerName'];handleSyncAnswerSubmit(_0x41455b,_0x5e9760,_0x1a411c,_0x20e592,_0x1d33d1);}}_0x58bc2d[_0x335a27(0x6d1)][_0x335a27(0x7d1)]='';};document[_0x239079(0x82a)]('confirm-confident')['addEventListener'](_0x239079(0x79e),()=>_0x218f81(!![])),document['getElementById']('confirm-not-confident')[_0x239079(0x68b)]('click',()=>_0x218f81(![])),liveGameView[_0x239079(0x68b)](_0x239079(0x79e),_0x48e7de=>{const _0x3c9b90=_0x239079,_0x3fb038=_0x48e7de['target']['closest']('.kick-player-btn-sync');if(_0x3fb038){const _0x2dd95f=_0x3fb038['dataset'][_0x3c9b90(0x96a)];_0x2dd95f&&handleKickPlayerSync(_0x2dd95f);}});const _0x5b0c89=document[_0x239079(0x82a)](_0x239079(0x703)),_0xfe6a6b=document[_0x239079(0x82a)](_0x239079(0x682));_0xfe6a6b['addEventListener']('click',()=>{const _0x39bf0e=_0x239079;document[_0x39bf0e(0x82a)]('confirm-game-start-modal')[_0x39bf0e(0xbe2)][_0x39bf0e(0x5ca)](_0x39bf0e(0x9b3));}),_0x5b0c89[_0x239079(0x68b)]('click',()=>{const _0x14fbb2=_0x239079,_0x261387=document[_0x14fbb2(0x82a)](_0x14fbb2(0x78d))['value'],_0x20ec19=document[_0x14fbb2(0x82a)]('game-start-mode')['value'],_0xea6ca2=document[_0x14fbb2(0x82a)]('save-game-results-checkbox')['checked'];document[_0x14fbb2(0x82a)]('confirm-game-start-modal')['classList'][_0x14fbb2(0x5ca)]('hidden');switch(_0x20ec19){case _0x14fbb2(0xbb4):handleStartLiveRace(_0x261387,_0xea6ca2);break;case _0x14fbb2(0x909):handleStartTeamQuiz(_0x261387,_0xea6ca2);break;case _0x14fbb2(0xa1a):handleStartGroupMode(_0x261387,_0xea6ca2);break;case _0x14fbb2(0x592):handleStartSyncMode(_0x261387,_0xea6ca2);break;}}),document[_0x239079(0x82a)]('join-group-activity-btn')['addEventListener']('click',handleJoinGroupActivity),liveGameView[_0x239079(0x68b)](_0x239079(0x79e),_0x562215=>{const _0x21f0ef=_0x239079,_0x5e8ab8=_0x562215[_0x21f0ef(0x5a4)][_0x21f0ef(0x2d9)](_0x21f0ef(0x5f9));document[_0x21f0ef(0xb24)](_0x21f0ef(0x8ad))[_0x21f0ef(0x883)](_0x250d44=>{const _0x3ac73d=_0x21f0ef;(!_0x5e8ab8||_0x250d44['id']!==_0x5e8ab8[_0x3ac73d(0x6d1)][_0x3ac73d(0x4f8)])&&_0x250d44['classList'][_0x3ac73d(0x521)]('visible');});if(!_0x5e8ab8)return;const _0x16965f=_0x5e8ab8[_0x21f0ef(0x6d1)][_0x21f0ef(0x4f8)],_0x5a1b40=document[_0x21f0ef(0x82a)](_0x16965f);_0x5a1b40&&_0x5a1b40[_0x21f0ef(0xbe2)][_0x21f0ef(0x6e9)]('visible');}),liveGameView[_0x239079(0x68b)](_0x239079(0x79e),_0x14597e=>{const _0x2466bb=_0x239079;if(_0x14597e[_0x2466bb(0x5a4)]['classList']['contains'](_0x2466bb(0x1b5))){const _0x49db33=_0x14597e['target'][_0x2466bb(0x6d1)]['playerName'];_0x49db33&&handleKickPlayer(_0x49db33);}}),document[_0x239079(0x82a)]('project-title')[_0x239079(0x68b)](_0x239079(0x659),()=>document[_0x239079(0x82a)](_0x239079(0x59c))['classList'][_0x239079(0x521)]('hidden')),document['getElementById'](_0x239079(0x59c))[_0x239079(0x68b)](_0x239079(0x79e),handleSaveProjectName),document['getElementById'](_0x239079(0xbe6))[_0x239079(0x68b)]('keydown',_0xb46e21=>{const _0x78cbb7=_0x239079;_0xb46e21[_0x78cbb7(0xae9)]===_0x78cbb7(0x6ed)&&(_0xb46e21[_0x78cbb7(0xa73)](),_0xb46e21[_0x78cbb7(0x5a4)]['blur'](),handleSaveProjectName());}),document['getElementById'](_0x239079(0x389))[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0xb0c213=_0x239079;document[_0xb0c213(0x82a)](_0xb0c213(0x956))['classList'][_0xb0c213(0x521)](_0xb0c213(0x9b3));}),document[_0x239079(0x82a)](_0x239079(0x875))['addEventListener'](_0x239079(0x79e),()=>{const _0x229b24=_0x239079;document[_0x229b24(0x82a)](_0x229b24(0x956))[_0x229b24(0xbe2)][_0x229b24(0x5ca)](_0x229b24(0x9b3));}),document[_0x239079(0x82a)]('confirm-bulk-quiz-settings-btn')[_0x239079(0x68b)](_0x239079(0x79e),handleBulkUpdateQuizSettings),document[_0x239079(0x82a)](_0x239079(0x355))['addEventListener'](_0x239079(0x79e),handleModeSwitch),document[_0x239079(0x82a)]('update-old-quizzes-btn')[_0x239079(0x68b)]('click',handleUpdateOldQuizzes),document['getElementById'](_0x239079(0xafd))[_0x239079(0x68b)](_0x239079(0x79e),handleResetProjectOrder),document['getElementById'](_0x239079(0x840))[_0x239079(0x68b)](_0x239079(0x79e),handleSaveVisibilitySettings),document[_0x239079(0x82a)](_0x239079(0xbef))[_0x239079(0x68b)](_0x239079(0x79e),handleAddCustomMathTopic),document[_0x239079(0x82a)]('select-all-topics-btn')['addEventListener'](_0x239079(0x79e),handleSelectAllTopics),document[_0x239079(0x82a)](_0x239079(0x1f2))[_0x239079(0x68b)]('click',handleDeselectAllTopics),document[_0x239079(0x82a)](_0x239079(0x44e))[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x2b0b98=_0x239079;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x2b0b98(0x80b));}}),document[_0x239079(0x82a)](_0x239079(0x567))[_0x239079(0x68b)](_0x239079(0x79e),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document[_0x239079(0x82a)]('back-to-dashboard-from-results-btn')[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x5d8022=_0x239079;showView(_0x5d8022(0x80b));}),document[_0x239079(0x82a)](_0x239079(0xadd))['addEventListener'](_0x239079(0x79e),()=>{const _0xcf7ed1=_0x239079;messageModal['classList'][_0xcf7ed1(0x5ca)]('hidden'),typeof modalConfirmAction===_0xcf7ed1(0x783)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById']('create-project-btn')[_0x239079(0x68b)](_0x239079(0x79e),()=>createProjectModal[_0x239079(0xbe2)][_0x239079(0x521)](_0x239079(0x9b3))),document['getElementById']('cancel-create-project-btn')['addEventListener'](_0x239079(0x79e),()=>createProjectModal[_0x239079(0xbe2)][_0x239079(0x5ca)]('hidden')),document[_0x239079(0x82a)](_0x239079(0x3af))['addEventListener'](_0x239079(0x79e),()=>adminPasswordModal[_0x239079(0xbe2)]['add']('hidden')),document[_0x239079(0x82a)](_0x239079(0x9b6))[_0x239079(0x68b)](_0x239079(0x79e),handleAdminLogin),document['getElementById'](_0x239079(0x6e5))[_0x239079(0x68b)](_0x239079(0x751),_0x6e604c=>{const _0x992b71=_0x239079;if(_0x6e604c[_0x992b71(0xae9)]===_0x992b71(0x6ed))handleAdminLogin();}),document['getElementById'](_0x239079(0xba1))['addEventListener'](_0x239079(0x79e),()=>{const _0x1d5875=_0x239079;confirmationModal[_0x1d5875(0xbe2)]['add'](_0x1d5875(0x9b3)),confirmAction=null;}),document[_0x239079(0x82a)](_0x239079(0xbcc))[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x120fa8=_0x239079;confirmAction&&confirmAction(),confirmationModal[_0x120fa8(0xbe2)][_0x120fa8(0x5ca)](_0x120fa8(0x9b3)),confirmAction=null;}),document[_0x239079(0x82a)](_0x239079(0x826))[_0x239079(0x68b)](_0x239079(0x79e),()=>renameQuizModal[_0x239079(0xbe2)][_0x239079(0x5ca)](_0x239079(0x9b3))),document[_0x239079(0x82a)](_0x239079(0x555))[_0x239079(0x68b)](_0x239079(0x79e),confirmRenameQuiz),document[_0x239079(0x82a)](_0x239079(0x24b))[_0x239079(0x68b)](_0x239079(0x79e),()=>moveQuizModal['classList'][_0x239079(0x5ca)](_0x239079(0x9b3))),document[_0x239079(0x82a)](_0x239079(0x6fe))[_0x239079(0x68b)](_0x239079(0x79e),confirmMoveQuiz),document['getElementById']('cancel-quiz-settings-btn')[_0x239079(0x68b)](_0x239079(0x79e),()=>quizSettingsModal['classList'][_0x239079(0x5ca)](_0x239079(0x9b3))),document['getElementById']('confirm-quiz-settings-btn')[_0x239079(0x68b)](_0x239079(0x79e),confirmQuizSettings),document[_0x239079(0x82a)](_0x239079(0x3dd))[_0x239079(0x68b)](_0x239079(0x79e),()=>quizStatusModal[_0x239079(0xbe2)][_0x239079(0x5ca)]('hidden')),document[_0x239079(0x82a)](_0x239079(0xb63))[_0x239079(0x68b)](_0x239079(0x79e),confirmQuizStatus);const _0x4058af=document['getElementById']('export-pdf-modal');document['getElementById'](_0x239079(0xa2b))[_0x239079(0x68b)]('click',()=>{const _0x5f4119=_0x239079;_0x4058af['classList'][_0x5f4119(0x5ca)](_0x5f4119(0x9b3));}),document[_0x239079(0x82a)]('export-compact-pdf-btn')['addEventListener']('click',async()=>{const _0x371525=_0x239079,_0x4a2c34=allQuizzes[_0x371525(0x241)](_0x4d7013=>_0x4d7013['id']===actionTargetId);_0x4a2c34?(currentQuizData=_0x4a2c34,exportQuizAsWorksheetPDF()):showMessage(_0x371525(0x365)),_0x4058af[_0x371525(0xbe2)][_0x371525(0x5ca)](_0x371525(0x9b3));}),document[_0x239079(0x82a)](_0x239079(0x579))['addEventListener'](_0x239079(0x79e),async()=>{const _0xaaff9=_0x239079,_0x8d107f=allQuizzes['find'](_0x33ab3e=>_0x33ab3e['id']===actionTargetId);_0x8d107f?(currentQuizData=_0x8d107f,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x4058af[_0xaaff9(0xbe2)][_0xaaff9(0x5ca)](_0xaaff9(0x9b3));}),document[_0x239079(0x82a)]('open-global-live-btn')[_0x239079(0x68b)](_0x239079(0x79e),openGlobalLiveModal),document['getElementById'](_0x239079(0xb91))[_0x239079(0x68b)]('click',()=>{const _0x51a473=_0x239079;document[_0x51a473(0x82a)](_0x51a473(0x5ab))[_0x51a473(0xbe2)][_0x51a473(0x5ca)](_0x51a473(0x9b3)),selectedGlobalQuizId=null;}),document[_0x239079(0x82a)]('global-quiz-search-input')[_0x239079(0x68b)](_0x239079(0x8b6),_0x376c6b=>renderGlobalQuizList(_0x376c6b['target'][_0x239079(0x556)])),document[_0x239079(0x82a)](_0x239079(0xb3f))[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x53c4ab=_0x239079,_0x598f89=selectedGlobalQuizId;if(!_0x598f89)return;document[_0x53c4ab(0x82a)]('global-live-game-modal')[_0x53c4ab(0xbe2)][_0x53c4ab(0x5ca)](_0x53c4ab(0x9b3)),handleStartLiveRace(_0x598f89);}),document[_0x239079(0x82a)](_0x239079(0x20a))[_0x239079(0x68b)](_0x239079(0x8b6),renderProjects),document['getElementById'](_0x239079(0x4ed))['addEventListener'](_0x239079(0x7d6),async()=>{const _0x21998a=_0x239079,_0x1c3ffc=document[_0x21998a(0x82a)](_0x21998a(0x4ed))[_0x21998a(0x556)],_0x22a052=doc(db,_0x21998a(0x52c),_0x21998a(0x839));try{await setDoc(_0x22a052,{'projectSort':_0x1c3ffc},{'merge':!![]});}catch(_0x475055){console[_0x21998a(0xb9a)]('Error\x20updating\x20sort\x20preference:',_0x475055),showMessage(_0x21998a(0x43a));}}),document['getElementById'](_0x239079(0x1dd))[_0x239079(0x68b)]('input',renderQuizzes),document['getElementById']('grid-view-btn')['addEventListener'](_0x239079(0x79e),()=>{const _0x11fd0b=_0x239079;globalDashboardSettings[_0x11fd0b(0x69a)]='grid',saveUserPreference('projectView',_0x11fd0b(0x36e)),renderProjects();}),document['getElementById'](_0x239079(0x5fb))['addEventListener'](_0x239079(0x79e),()=>{const _0x82d0f7=_0x239079;globalDashboardSettings[_0x82d0f7(0x69a)]='list',saveUserPreference(_0x82d0f7(0x69a),_0x82d0f7(0x4b9)),renderProjects();}),manageTab[_0x239079(0x68b)](_0x239079(0x79e),()=>switchProjectTab('manage')),resultsTab[_0x239079(0x68b)](_0x239079(0x79e),()=>switchProjectTab(_0x239079(0x846))),leaderboardTab[_0x239079(0x68b)](_0x239079(0x79e),()=>switchProjectTab(_0x239079(0x3a4))),document[_0x239079(0x82a)](_0x239079(0x7eb))[_0x239079(0x68b)]('click',()=>switchQuizDetailTab(_0x239079(0x41d))),document[_0x239079(0x82a)](_0x239079(0xaff))[_0x239079(0x68b)](_0x239079(0x79e),()=>switchQuizDetailTab(_0x239079(0x720))),document[_0x239079(0x82a)]('leaderboard-quiz-tab-btn')['addEventListener']('click',()=>switchQuizDetailTab(_0x239079(0x56d))),document['getElementById'](_0x239079(0x5ac))['addEventListener'](_0x239079(0x79e),()=>switchQuizDetailTab(_0x239079(0xaa4))),document[_0x239079(0x82a)](_0x239079(0x6eb))['addEventListener'](_0x239079(0x79e),handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x239079(0x79e),generateWorksheet);const _0x44aedc=document[_0x239079(0x82a)](_0x239079(0x82e)),_0x8e0297=document['getElementById'](_0x239079(0x6ac)),_0x4b90d4=document['getElementById'](_0x239079(0x253)),_0x537a0d=document[_0x239079(0x82a)](_0x239079(0x9f5)),_0x593e97=document[_0x239079(0x82a)]('parallel-test-tab'),_0x9269ee=document[_0x239079(0x82a)](_0x239079(0x545));topicTab[_0x239079(0x68b)]('click',()=>{const _0x8d4e43=_0x239079;topicTab[_0x8d4e43(0xbe2)]['add'](_0x8d4e43(0x458)),textTab[_0x8d4e43(0xbe2)]['remove'](_0x8d4e43(0x458)),fileTab[_0x8d4e43(0xbe2)][_0x8d4e43(0x521)](_0x8d4e43(0x458)),worksheetTab['classList']['remove'](_0x8d4e43(0x458));if(_0x44aedc)_0x44aedc['classList'][_0x8d4e43(0x521)](_0x8d4e43(0x458));if(_0x4b90d4)_0x4b90d4[_0x8d4e43(0xbe2)][_0x8d4e43(0x521)]('active');if(_0x593e97)_0x593e97[_0x8d4e43(0xbe2)][_0x8d4e43(0x521)](_0x8d4e43(0x458));topicInputArea[_0x8d4e43(0xbe2)][_0x8d4e43(0x521)](_0x8d4e43(0x9b3)),textInputArea['classList'][_0x8d4e43(0x5ca)](_0x8d4e43(0x9b3)),fileInputArea[_0x8d4e43(0xbe2)]['add'](_0x8d4e43(0x9b3)),worksheetInputArea['classList'][_0x8d4e43(0x5ca)](_0x8d4e43(0x9b3));if(_0x8e0297)_0x8e0297[_0x8d4e43(0xbe2)][_0x8d4e43(0x5ca)]('hidden');if(_0x537a0d)_0x537a0d['classList'][_0x8d4e43(0x5ca)](_0x8d4e43(0x9b3));if(_0x9269ee)_0x9269ee[_0x8d4e43(0xbe2)][_0x8d4e43(0x5ca)](_0x8d4e43(0x9b3));}),textTab[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x8643ff=_0x239079;textTab[_0x8643ff(0xbe2)][_0x8643ff(0x5ca)](_0x8643ff(0x458)),topicTab['classList'][_0x8643ff(0x521)]('active'),fileTab[_0x8643ff(0xbe2)][_0x8643ff(0x521)]('active'),worksheetTab[_0x8643ff(0xbe2)]['remove'](_0x8643ff(0x458));if(_0x44aedc)_0x44aedc['classList'][_0x8643ff(0x521)]('active');if(_0x4b90d4)_0x4b90d4[_0x8643ff(0xbe2)][_0x8643ff(0x521)](_0x8643ff(0x458));if(_0x593e97)_0x593e97[_0x8643ff(0xbe2)][_0x8643ff(0x521)](_0x8643ff(0x458));textInputArea[_0x8643ff(0xbe2)][_0x8643ff(0x521)](_0x8643ff(0x9b3)),topicInputArea[_0x8643ff(0xbe2)][_0x8643ff(0x5ca)]('hidden'),fileInputArea[_0x8643ff(0xbe2)][_0x8643ff(0x5ca)](_0x8643ff(0x9b3)),worksheetInputArea[_0x8643ff(0xbe2)]['add'](_0x8643ff(0x9b3));if(_0x8e0297)_0x8e0297[_0x8643ff(0xbe2)]['add'](_0x8643ff(0x9b3));if(_0x537a0d)_0x537a0d['classList'][_0x8643ff(0x5ca)]('hidden');if(_0x9269ee)_0x9269ee['classList'][_0x8643ff(0x5ca)](_0x8643ff(0x9b3));}),fileTab[_0x239079(0x68b)]('click',()=>{const _0x3073b6=_0x239079;fileTab[_0x3073b6(0xbe2)][_0x3073b6(0x5ca)]('active'),topicTab[_0x3073b6(0xbe2)]['remove']('active'),textTab[_0x3073b6(0xbe2)][_0x3073b6(0x521)](_0x3073b6(0x458)),worksheetTab[_0x3073b6(0xbe2)]['remove'](_0x3073b6(0x458));if(_0x44aedc)_0x44aedc['classList'][_0x3073b6(0x521)](_0x3073b6(0x458));if(_0x4b90d4)_0x4b90d4[_0x3073b6(0xbe2)][_0x3073b6(0x521)](_0x3073b6(0x458));if(_0x593e97)_0x593e97['classList'][_0x3073b6(0x521)](_0x3073b6(0x458));fileInputArea[_0x3073b6(0xbe2)][_0x3073b6(0x521)](_0x3073b6(0x9b3)),topicInputArea[_0x3073b6(0xbe2)][_0x3073b6(0x5ca)](_0x3073b6(0x9b3)),textInputArea[_0x3073b6(0xbe2)]['add'](_0x3073b6(0x9b3)),worksheetInputArea[_0x3073b6(0xbe2)][_0x3073b6(0x5ca)](_0x3073b6(0x9b3));if(_0x8e0297)_0x8e0297['classList'][_0x3073b6(0x5ca)]('hidden');if(_0x537a0d)_0x537a0d[_0x3073b6(0xbe2)][_0x3073b6(0x5ca)]('hidden');if(_0x9269ee)_0x9269ee[_0x3073b6(0xbe2)][_0x3073b6(0x5ca)](_0x3073b6(0x9b3));}),worksheetTab['addEventListener'](_0x239079(0x79e),()=>{const _0x44129b=_0x239079;worksheetTab[_0x44129b(0xbe2)]['add']('active'),topicTab[_0x44129b(0xbe2)][_0x44129b(0x521)](_0x44129b(0x458)),textTab[_0x44129b(0xbe2)][_0x44129b(0x521)](_0x44129b(0x458)),fileTab[_0x44129b(0xbe2)][_0x44129b(0x521)]('active');if(_0x44aedc)_0x44aedc[_0x44129b(0xbe2)]['remove'](_0x44129b(0x458));if(_0x4b90d4)_0x4b90d4[_0x44129b(0xbe2)][_0x44129b(0x521)]('active');if(_0x593e97)_0x593e97[_0x44129b(0xbe2)][_0x44129b(0x521)](_0x44129b(0x458));worksheetInputArea[_0x44129b(0xbe2)][_0x44129b(0x521)](_0x44129b(0x9b3)),topicInputArea[_0x44129b(0xbe2)][_0x44129b(0x5ca)]('hidden'),textInputArea[_0x44129b(0xbe2)][_0x44129b(0x5ca)](_0x44129b(0x9b3)),fileInputArea[_0x44129b(0xbe2)][_0x44129b(0x5ca)](_0x44129b(0x9b3));if(_0x8e0297)_0x8e0297['classList'][_0x44129b(0x5ca)](_0x44129b(0x9b3));if(_0x537a0d)_0x537a0d[_0x44129b(0xbe2)][_0x44129b(0x5ca)]('hidden');if(_0x9269ee)_0x9269ee[_0x44129b(0xbe2)][_0x44129b(0x5ca)](_0x44129b(0x9b3));});const _0x250705=document[_0x239079(0x82a)]('bank-tab'),_0x24bb09=document[_0x239079(0x82a)](_0x239079(0x9c3));_0x250705&&_0x250705[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x50a60e=_0x239079;topicTab[_0x50a60e(0xbe2)][_0x50a60e(0x521)](_0x50a60e(0x458)),textTab[_0x50a60e(0xbe2)]['remove'](_0x50a60e(0x458)),fileTab[_0x50a60e(0xbe2)][_0x50a60e(0x521)](_0x50a60e(0x458)),worksheetTab['classList'][_0x50a60e(0x521)]('active');if(_0x44aedc)_0x44aedc[_0x50a60e(0xbe2)][_0x50a60e(0x521)]('active');if(_0x4b90d4)_0x4b90d4[_0x50a60e(0xbe2)][_0x50a60e(0x521)](_0x50a60e(0x458));if(_0x593e97)_0x593e97[_0x50a60e(0xbe2)][_0x50a60e(0x521)](_0x50a60e(0x458));_0x250705[_0x50a60e(0xbe2)][_0x50a60e(0x5ca)]('active'),topicInputArea[_0x50a60e(0xbe2)]['add'](_0x50a60e(0x9b3)),textInputArea[_0x50a60e(0xbe2)][_0x50a60e(0x5ca)](_0x50a60e(0x9b3)),fileInputArea[_0x50a60e(0xbe2)][_0x50a60e(0x5ca)](_0x50a60e(0x9b3)),worksheetInputArea[_0x50a60e(0xbe2)][_0x50a60e(0x5ca)]('hidden');if(_0x8e0297)_0x8e0297[_0x50a60e(0xbe2)][_0x50a60e(0x5ca)](_0x50a60e(0x9b3));if(_0x537a0d)_0x537a0d[_0x50a60e(0xbe2)][_0x50a60e(0x5ca)]('hidden');if(_0x9269ee)_0x9269ee['classList']['add'](_0x50a60e(0x9b3));_0x24bb09[_0x50a60e(0xbe2)][_0x50a60e(0x521)](_0x50a60e(0x9b3)),displayQuestionBank();});_0x44aedc&&(_0x44aedc['addEventListener'](_0x239079(0x79e),()=>{const _0x2d4963=_0x239079;_0x44aedc[_0x2d4963(0xbe2)][_0x2d4963(0x5ca)]('active'),topicTab[_0x2d4963(0xbe2)][_0x2d4963(0x521)](_0x2d4963(0x458)),textTab[_0x2d4963(0xbe2)][_0x2d4963(0x521)](_0x2d4963(0x458)),fileTab[_0x2d4963(0xbe2)][_0x2d4963(0x521)](_0x2d4963(0x458)),worksheetTab[_0x2d4963(0xbe2)][_0x2d4963(0x521)](_0x2d4963(0x458));if(_0x4b90d4)_0x4b90d4[_0x2d4963(0xbe2)][_0x2d4963(0x521)]('active');if(_0x593e97)_0x593e97[_0x2d4963(0xbe2)][_0x2d4963(0x521)](_0x2d4963(0x458));_0x8e0297[_0x2d4963(0xbe2)][_0x2d4963(0x521)](_0x2d4963(0x9b3)),topicInputArea['classList'][_0x2d4963(0x5ca)](_0x2d4963(0x9b3)),textInputArea[_0x2d4963(0xbe2)][_0x2d4963(0x5ca)]('hidden'),fileInputArea[_0x2d4963(0xbe2)][_0x2d4963(0x5ca)](_0x2d4963(0x9b3)),worksheetInputArea[_0x2d4963(0xbe2)][_0x2d4963(0x5ca)](_0x2d4963(0x9b3));if(_0x537a0d)_0x537a0d[_0x2d4963(0xbe2)][_0x2d4963(0x5ca)](_0x2d4963(0x9b3));if(_0x9269ee)_0x9269ee[_0x2d4963(0xbe2)][_0x2d4963(0x5ca)](_0x2d4963(0x9b3));}),document[_0x239079(0x82a)]('generate-from-link-btn')[_0x239079(0x68b)](_0x239079(0x79e),handleGenerateFromLink));_0x4b90d4&&_0x4b90d4[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x9c492b=_0x239079;_0x4b90d4[_0x9c492b(0xbe2)][_0x9c492b(0x5ca)]('active'),topicTab[_0x9c492b(0xbe2)]['remove'](_0x9c492b(0x458)),textTab[_0x9c492b(0xbe2)]['remove']('active'),fileTab['classList'][_0x9c492b(0x521)](_0x9c492b(0x458)),worksheetTab['classList'][_0x9c492b(0x521)](_0x9c492b(0x458));if(_0x44aedc)_0x44aedc[_0x9c492b(0xbe2)][_0x9c492b(0x521)](_0x9c492b(0x458));if(_0x250705)_0x250705['classList']['remove']('active');if(_0x593e97)_0x593e97[_0x9c492b(0xbe2)]['remove'](_0x9c492b(0x458));_0x537a0d[_0x9c492b(0xbe2)][_0x9c492b(0x521)](_0x9c492b(0x9b3)),topicInputArea['classList']['add']('hidden'),textInputArea[_0x9c492b(0xbe2)][_0x9c492b(0x5ca)]('hidden'),fileInputArea[_0x9c492b(0xbe2)][_0x9c492b(0x5ca)](_0x9c492b(0x9b3)),worksheetInputArea[_0x9c492b(0xbe2)][_0x9c492b(0x5ca)]('hidden');if(_0x8e0297)_0x8e0297[_0x9c492b(0xbe2)][_0x9c492b(0x5ca)]('hidden');if(_0x24bb09)_0x24bb09[_0x9c492b(0xbe2)][_0x9c492b(0x5ca)](_0x9c492b(0x9b3));if(_0x9269ee)_0x9269ee[_0x9c492b(0xbe2)][_0x9c492b(0x5ca)]('hidden');});_0x593e97&&_0x593e97[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x40c68e=_0x239079;_0x593e97[_0x40c68e(0xbe2)][_0x40c68e(0x5ca)](_0x40c68e(0x458)),topicTab[_0x40c68e(0xbe2)][_0x40c68e(0x521)](_0x40c68e(0x458)),textTab[_0x40c68e(0xbe2)][_0x40c68e(0x521)](_0x40c68e(0x458)),fileTab[_0x40c68e(0xbe2)]['remove']('active'),worksheetTab[_0x40c68e(0xbe2)][_0x40c68e(0x521)](_0x40c68e(0x458));if(_0x44aedc)_0x44aedc[_0x40c68e(0xbe2)][_0x40c68e(0x521)](_0x40c68e(0x458));if(_0x4b90d4)_0x4b90d4[_0x40c68e(0xbe2)]['remove'](_0x40c68e(0x458));if(_0x250705)_0x250705[_0x40c68e(0xbe2)]['remove'](_0x40c68e(0x458));_0x9269ee[_0x40c68e(0xbe2)][_0x40c68e(0x521)](_0x40c68e(0x9b3)),topicInputArea['classList'][_0x40c68e(0x5ca)](_0x40c68e(0x9b3)),textInputArea[_0x40c68e(0xbe2)]['add'](_0x40c68e(0x9b3)),fileInputArea[_0x40c68e(0xbe2)][_0x40c68e(0x5ca)](_0x40c68e(0x9b3)),worksheetInputArea[_0x40c68e(0xbe2)][_0x40c68e(0x5ca)](_0x40c68e(0x9b3));if(_0x8e0297)_0x8e0297['classList']['add'](_0x40c68e(0x9b3));if(_0x537a0d)_0x537a0d['classList'][_0x40c68e(0x5ca)]('hidden');if(_0x24bb09)_0x24bb09['classList'][_0x40c68e(0x5ca)](_0x40c68e(0x9b3));});const _0xce7419=document[_0x239079(0x82a)](_0x239079(0x1bb)),_0x3105ed=document[_0x239079(0x82a)](_0x239079(0x6be));if(_0xce7419){const _0x27df7c=document[_0x239079(0x82a)]('blueprint-upload-input'),_0x179e88=document[_0x239079(0x82a)](_0x239079(0x6be)),_0x3b008d=document[_0x239079(0x82a)]('blueprint-options-container'),_0x278f74=document['getElementById']('separate-by-content-checkbox'),_0x3c5355=document[_0x239079(0x82a)](_0x239079(0xb12)),_0xf1aecd=document['getElementById'](_0x239079(0x35d));_0x27df7c&&_0x27df7c[_0x239079(0x68b)]('change',async _0x510257=>{const _0x48d969=_0x239079;_0x3b008d[_0x48d969(0xbe2)][_0x48d969(0x5ca)](_0x48d969(0x9b3)),_0x3c5355['classList'][_0x48d969(0x5ca)](_0x48d969(0x9b3)),_0x278f74[_0x48d969(0x4be)]=![],_0x179e88[_0x48d969(0x814)]=!![];const _0x5cdf7a=_0x510257[_0x48d969(0x5a4)][_0x48d969(0x7a6)][0x0];if(_0x5cdf7a){_0x179e88['disabled']=![];try{const _0x58e40f=await extractTextFromPdf(_0x5cdf7a);await analyzeBlueprintForTopics(_0x58e40f);}catch(_0x30470c){showMessage(_0x48d969(0x6ba)),_0x3b008d[_0x48d969(0xbe2)][_0x48d969(0x5ca)]('hidden');}}}),_0x278f74&&_0x278f74[_0x239079(0x68b)]('change',_0x57309d=>{const _0x20ae53=_0x239079,_0x47885a=_0x57309d[_0x20ae53(0x5a4)][_0x20ae53(0x4be)];_0x3c5355[_0x20ae53(0xbe2)]['toggle'](_0x20ae53(0x9b3),!_0x47885a),_0x179e88[_0x20ae53(0x814)]=_0x47885a;}),_0xf1aecd&&(_0xf1aecd&&_0xf1aecd[_0x239079(0x68b)]('click',_0x38d524=>{const _0x66ee1d=_0x239079,_0x377460=_0x38d524[_0x66ee1d(0x5a4)][_0x66ee1d(0x2d9)](_0x66ee1d(0x211)),_0xb3a157=_0x38d524[_0x66ee1d(0x5a4)]['closest'](_0x66ee1d(0x70b));if(_0x377460){const _0x9bda1f=unescape(_0x377460['dataset'][_0x66ee1d(0x231)]);generateQuizForSingleTopic(_0x9bda1f);}else{if(_0xb3a157){const _0x151c62=unescape(_0xb3a157['dataset'][_0x66ee1d(0x231)]);handleGenerateTeachingContent(_0x151c62);}}}));}_0x3105ed&&_0x3105ed[_0x239079(0x68b)](_0x239079(0x79e),handleGenerateFromBlueprint);const _0x53335a=document['getElementById'](_0x239079(0x56f)),_0x50ec8a=document[_0x239079(0x82a)]('generate-from-parallel-test-btn');_0x53335a&&_0x53335a[_0x239079(0x68b)](_0x239079(0x7d6),_0x3d012d=>{const _0x4c173f=_0x239079;_0x50ec8a[_0x4c173f(0x814)]=_0x3d012d[_0x4c173f(0x5a4)][_0x4c173f(0x7a6)][_0x4c173f(0x4d9)]===0x0;});_0x50ec8a&&_0x50ec8a[_0x239079(0x68b)](_0x239079(0x79e),handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x239079(0x79e),handleLoadQuiz),startQuizBtn[_0x239079(0x68b)](_0x239079(0x79e),async()=>{const _0x497ef6=_0x239079,_0x382ac8=document[_0x497ef6(0x82a)]('student-name-select');currentStudentName=_0x382ac8['value'];if(!currentStudentName){showMessage(_0x497ef6(0x258));return;}try{const _0x1c3d6c=currentQuizData['id'],_0x5659be=doc(db,_0x497ef6(0x2fd)+appId+_0x497ef6(0xb33)+_0x1c3d6c+'/submissions',currentStudentName),_0x453ab8=await getDoc(_0x5659be);!_0x453ab8[_0x497ef6(0x4a4)]()?await setDoc(_0x5659be,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x5659be,{'startedAt':new Date()['toISOString']()});}catch(_0x99d566){console[_0x497ef6(0xb9a)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x99d566),showMessage(_0x497ef6(0x37d));return;}studentNameSelectionView['classList'][_0x497ef6(0x5ca)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x239079(0x82a)]('join-live-game-btn')[_0x239079(0x68b)]('click',showJoinGameView),document[_0x239079(0x82a)]('confirm-join-game-btn')['addEventListener'](_0x239079(0x79e),handleJoinLiveGame),document[_0x239079(0x82a)](_0x239079(0x4fd))['addEventListener'](_0x239079(0x79e),()=>showView(_0x239079(0x73c)));const _0x45099b=()=>{const _0x47e99e=_0x239079,_0x3c34ad=document[_0x47e99e(0x82a)](_0x47e99e(0x51a))['textContent'][_0x47e99e(0x973)](/[^a-z0-9]/gi,'_')[_0x47e99e(0x21d)]();return _0x47e99e(0x6d6)+(_0x3c34ad||'quiz');},_0x1fcee5=document[_0x239079(0x82a)]('math-topic-search-input');_0x1fcee5&&_0x1fcee5['addEventListener'](_0x239079(0x8b6),_0x5df425=>{const _0x387d78=_0x239079,_0x153a84=_0x5df425[_0x387d78(0x5a4)][_0x387d78(0x556)]['toLowerCase']()['trim'](),_0x45e3be=document['getElementById']('math-topics-checkbox-container'),_0x13842d=_0x45e3be[_0x387d78(0xb24)](_0x387d78(0x74c));_0x13842d[_0x387d78(0x883)](_0x50b7a0=>{const _0x5a8ae0=_0x387d78;let _0x1a4792=![];const _0x368f1a=_0x50b7a0['querySelectorAll']('.topic-row');_0x368f1a[_0x5a8ae0(0x883)](_0x3065a9=>{const _0x3c3a9a=_0x5a8ae0,_0x4a7997=_0x3065a9[_0x3c3a9a(0x410)](_0x3c3a9a(0x4c0))[_0x3c3a9a(0xc26)][_0x3c3a9a(0x21d)]();_0x4a7997['includes'](_0x153a84)?(_0x3065a9[_0x3c3a9a(0x95f)][_0x3c3a9a(0x246)]='flex',_0x1a4792=!![]):_0x3065a9[_0x3c3a9a(0x95f)][_0x3c3a9a(0x246)]=_0x3c3a9a(0xab4);}),_0x1a4792?_0x50b7a0['style'][_0x5a8ae0(0x246)]=_0x5a8ae0(0x351):_0x50b7a0['style']['display']=_0x5a8ae0(0xab4);});});document[_0x239079(0x82a)]('export-image-btn')['addEventListener']('click',()=>exportTableAsImage('results-table-container',_0x45099b())),document[_0x239079(0x82a)](_0x239079(0x7e6))[_0x239079(0x68b)]('click',()=>exportTableAsPDF(_0x239079(0x60d),_0x45099b())),document[_0x239079(0x82a)](_0x239079(0x275))[_0x239079(0x68b)]('click',()=>exportTableAsWord(_0x239079(0x627),_0x45099b())),document['getElementById'](_0x239079(0x32f))[_0x239079(0x68b)](_0x239079(0x79e),()=>exportTableAsExcel(_0x239079(0x60d),_0x45099b()));const _0x12e01b=()=>{const _0x3c679b=_0x239079,_0x44fee8=document['getElementById'](_0x3c679b(0x51a))[_0x3c679b(0xc26)][_0x3c679b(0x973)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'leaderboard_'+(_0x44fee8||'quiz');};document[_0x239079(0x82a)](_0x239079(0xa8e))[_0x239079(0x68b)](_0x239079(0x79e),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x12e01b())),document['getElementById'](_0x239079(0x58e))['addEventListener'](_0x239079(0x79e),()=>exportTableAsPDF(_0x239079(0x9bd),_0x12e01b())),document['getElementById'](_0x239079(0x78e))[_0x239079(0x68b)](_0x239079(0x79e),()=>exportTableAsWord(_0x239079(0x381),_0x12e01b())),document[_0x239079(0x82a)](_0x239079(0x552))[_0x239079(0x68b)](_0x239079(0x79e),()=>exportTableAsExcel('quiz-leaderboard-table',_0x12e01b())),projectQuizzesList[_0x239079(0x68b)](_0x239079(0x79e),async _0x1288f2=>{const _0x37dbf0=_0x239079,_0x495e09=_0x1288f2[_0x37dbf0(0x5a4)]['closest'](_0x37dbf0(0xab5)),_0x203461=_0x1288f2[_0x37dbf0(0x5a4)][_0x37dbf0(0x2d9)](_0x37dbf0(0x63c)),_0x4c1fdc=_0x1288f2[_0x37dbf0(0x5a4)][_0x37dbf0(0x2d9)]('.compare-results-btn'),_0x48fabc=_0x1288f2[_0x37dbf0(0x5a4)][_0x37dbf0(0x2d9)](_0x37dbf0(0x221)),_0xea0fdb=_0x1288f2[_0x37dbf0(0x5a4)]['closest']('.star-quiz-btn'),_0x154383=_0x1288f2[_0x37dbf0(0x5a4)]['closest'](_0x37dbf0(0xb95)),_0x266212=_0x1288f2[_0x37dbf0(0x5a4)][_0x37dbf0(0x2d9)]('.edit-quiz-btn'),_0xf8ebc5=_0x1288f2['target'][_0x37dbf0(0x2d9)](_0x37dbf0(0x91d)),_0x4f75d6=_0x1288f2[_0x37dbf0(0x5a4)][_0x37dbf0(0x2d9)](_0x37dbf0(0x3fa)),_0x3748b1=_0x1288f2[_0x37dbf0(0x5a4)][_0x37dbf0(0x2d9)](_0x37dbf0(0x51d)),_0x5d7b56=_0x1288f2[_0x37dbf0(0x5a4)][_0x37dbf0(0x2d9)](_0x37dbf0(0xb35)),_0x3b7917=_0x1288f2[_0x37dbf0(0x5a4)][_0x37dbf0(0x2d9)](_0x37dbf0(0xaa8)),_0x6d8156=_0x1288f2['target'][_0x37dbf0(0x2d9)]('.pair-quiz-btn'),_0x39ac4b=_0x1288f2['target'][_0x37dbf0(0x2d9)](_0x37dbf0(0xb25)),_0x348c01=_0x1288f2[_0x37dbf0(0x5a4)]['closest'](_0x37dbf0(0x6db)),_0x472ef9=_0x1288f2[_0x37dbf0(0x5a4)][_0x37dbf0(0x2d9)]('.admin-try-quiz-list-btn'),_0x2766e0=_0x1288f2[_0x37dbf0(0x5a4)][_0x37dbf0(0x2d9)](_0x37dbf0(0x3f3)),_0x5ef713=_0x1288f2[_0x37dbf0(0x5a4)][_0x37dbf0(0x2d9)](_0x37dbf0(0x618)),_0x1eb8c2=_0x1288f2[_0x37dbf0(0x5a4)]['closest'](_0x37dbf0(0x850)),_0x581e35=_0x1288f2[_0x37dbf0(0x5a4)][_0x37dbf0(0x2d9)](_0x37dbf0(0x250)),_0x2e3ef1=_0x1288f2[_0x37dbf0(0x5a4)][_0x37dbf0(0x2d9)](_0x37dbf0(0x65a)),_0x56701f=_0x1288f2['target']['closest'](_0x37dbf0(0x5f8)),_0x2a42fb=_0x1288f2[_0x37dbf0(0x5a4)]['closest'](_0x37dbf0(0x3e6));if(_0x56701f){const _0x8b8913=_0x56701f[_0x37dbf0(0x6d1)][_0x37dbf0(0xbc0)],_0x14a829=_0x56701f[_0x37dbf0(0x6d1)][_0x37dbf0(0x419)],_0x1a0620=allQuizzes[_0x37dbf0(0x241)](_0x26a79b=>_0x26a79b['id']===_0x8b8913);_0x1a0620&&showGameStartConfirmationModal(_0x8b8913,_0x14a829,_0x1a0620['topic']);}else{if(_0x2a42fb){const _0x1435a5=_0x2a42fb['dataset']['quizId'];handleStartLiveRace(_0x1435a5);}else{if(_0x581e35){const _0x107268=_0x581e35['dataset'][_0x37dbf0(0xbc0)],_0x2d0557=document[_0x37dbf0(0x82a)](_0x37dbf0(0x722)+_0x107268);_0x2d0557&&_0x2d0557[_0x37dbf0(0xbe2)]['toggle'](_0x37dbf0(0x9b3));}else{if(_0x203461){const _0x10b7c3=_0x203461[_0x37dbf0(0x6d1)][_0x37dbf0(0xbc0)],_0x21800d=allQuizzes[_0x37dbf0(0x241)](_0xd051d5=>_0xd051d5['id']===_0x10b7c3);_0x21800d&&handleGenerateParallelPostTest(_0x21800d);}else{if(_0x4c1fdc)handleCompareResults(_0x4c1fdc[_0x37dbf0(0x6d1)][_0x37dbf0(0xbc0)],_0x4c1fdc[_0x37dbf0(0x6d1)][_0x37dbf0(0x9f7)]);else{if(_0x48fabc){const _0x500eae=_0x48fabc[_0x37dbf0(0x6d1)][_0x37dbf0(0xbc0)],_0x282aa0=allQuizzes['find'](_0x4b2ddd=>_0x4b2ddd['id']===_0x500eae);_0x282aa0&&_0x282aa0[_0x37dbf0(0xb17)]?(displayLessonPlan(_0x282aa0[_0x37dbf0(0xb17)],_0x282aa0),showConfirmation(_0x37dbf0(0x3e1),()=>handleGenerateLessonPlan(_0x500eae)),document[_0x37dbf0(0x82a)](_0x37dbf0(0x34d))[_0x37dbf0(0x410)]('h3')[_0x37dbf0(0xc26)]=_0x37dbf0(0x83b),document[_0x37dbf0(0x82a)](_0x37dbf0(0xbcc))['textContent']=_0x37dbf0(0x2dd)):handleGenerateLessonPlan(_0x500eae);}else{if(_0xea0fdb)handleToggleStarQuiz(_0xea0fdb[_0x37dbf0(0x6d1)][_0x37dbf0(0xbc0)]);else{if(_0x154383)copyTextToClipboard(_0x154383[_0x37dbf0(0x6d1)][_0x37dbf0(0xbc0)],_0x37dbf0(0xb2a));else{if(_0x266212)handleOpenQuizEditor(_0x266212[_0x37dbf0(0x6d1)][_0x37dbf0(0xbc0)]);else{if(_0xf8ebc5)handleQuizSettings(_0xf8ebc5[_0x37dbf0(0x6d1)][_0x37dbf0(0xbc0)]);else{if(_0x4f75d6)handleDuplicateQuiz(_0x4f75d6['dataset'][_0x37dbf0(0xbc0)]);else{if(_0x3748b1)handleRenameQuiz(_0x3748b1[_0x37dbf0(0x6d1)][_0x37dbf0(0xbc0)],_0x3748b1[_0x37dbf0(0x6d1)][_0x37dbf0(0x231)]);else{if(_0x5d7b56){const _0x1b6bad=_0x5d7b56['dataset'][_0x37dbf0(0xbc0)],_0x4f2d6f=allQuizzes[_0x37dbf0(0x241)](_0x328cc3=>_0x328cc3['id']===_0x1b6bad);_0x4f2d6f&&handleGenerateParallelFromBank(_0x4f2d6f);}else{if(_0x3b7917)handleMoveQuiz(_0x3b7917[_0x37dbf0(0x6d1)]['quizId']);else{if(_0x6d8156)handleManualQuizPairing(_0x6d8156[_0x37dbf0(0x6d1)]['quizId']);else{if(_0x39ac4b)handleUnpairQuiz(_0x39ac4b[_0x37dbf0(0x6d1)][_0x37dbf0(0xbc0)]);else{if(_0x348c01){const _0x30a4d8=_0x348c01[_0x37dbf0(0x6d1)][_0x37dbf0(0xbc0)],_0x378319=allQuizzes[_0x37dbf0(0x241)](_0x401773=>_0x401773['id']===_0x30a4d8);if(_0x378319)startPresentation(_0x378319);}else{if(_0x472ef9){const _0x14eeff=_0x472ef9[_0x37dbf0(0x6d1)][_0x37dbf0(0xbc0)],_0x3a5246=allQuizzes[_0x37dbf0(0x241)](_0x1b10df=>_0x1b10df['id']===_0x14eeff);_0x3a5246&&(currentQuizData=_0x3a5246,startAdminTest());}else{if(_0x2766e0)actionTargetId=_0x2766e0[_0x37dbf0(0x6d1)][_0x37dbf0(0xbc0)],document[_0x37dbf0(0x82a)](_0x37dbf0(0x4ef))[_0x37dbf0(0xbe2)][_0x37dbf0(0x521)](_0x37dbf0(0x9b3));else{if(_0x5ef713)showConfirmation(_0x37dbf0(0x607)+_0x5ef713[_0x37dbf0(0x6d1)]['topic']+_0x37dbf0(0x1e6),()=>handleDeleteQuiz(_0x5ef713['dataset'][_0x37dbf0(0xbc0)]));else{if(_0x1eb8c2)handleQuizStatus(_0x1eb8c2[_0x37dbf0(0x6d1)]['quizId']);else{if(_0x2e3ef1)handleGenerateEasyVersionQuiz(_0x2e3ef1[_0x37dbf0(0x6d1)][_0x37dbf0(0xbc0)]);else _0x495e09&&showQuizDetailView(_0x495e09[_0x37dbf0(0x6d1)][_0x37dbf0(0xbc0)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x239079(0x82a)](_0x239079(0x27a))[_0x239079(0x68b)](_0x239079(0x79e),()=>showView(_0x239079(0x73c))),document[_0x239079(0x82a)]('confirm-team-players-btn')[_0x239079(0x68b)]('click',confirmAndStartTeamQuiz),document[_0x239079(0x82a)](_0x239079(0x9bd))['querySelector'](_0x239079(0x848))[_0x239079(0x68b)](_0x239079(0x79e),_0x5b9084=>{const _0x241a66=_0x239079,_0x4c06dd=_0x5b9084[_0x241a66(0x5a4)][_0x241a66(0x2d9)](_0x241a66(0x21b));if(!_0x4c06dd||!_0x4c06dd[_0x241a66(0x6d1)]['sort'])return;const _0x35c5d7=_0x4c06dd[_0x241a66(0x6d1)][_0x241a66(0x74a)];if(quizLeaderboardSortBy===_0x35c5d7)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x241a66(0xafc)?_0x241a66(0x7d5):_0x241a66(0xafc);else{quizLeaderboardSortBy=_0x35c5d7;const _0x5e046b=[_0x241a66(0xb38)];quizLeaderboardSortOrder=_0x5e046b[_0x241a66(0x918)](_0x35c5d7)?_0x241a66(0xafc):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x241a66(0x7b3));}),document['getElementById'](_0x239079(0xb0d))[_0x239079(0x68b)]('click',closePresentation),document[_0x239079(0x82a)](_0x239079(0x3e2))['addEventListener'](_0x239079(0x79e),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x239079(0x82a)](_0x239079(0x805))[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x254bff=_0x239079;currentQuizData[_0x254bff(0x600)]&&currentPresentationSlide<currentQuizData['questions'][_0x254bff(0x4d9)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x239079(0x7da),()=>{const _0x5dff73=_0x239079;!document[_0x5dff73(0x711)]&&(presentationModal[_0x5dff73(0x95f)]['display']=_0x5dff73(0xab4));}),document['getElementById'](_0x239079(0xa21))[_0x239079(0x68b)]('click',handleDeleteAllStudents),studentList[_0x239079(0x68b)](_0x239079(0x79e),_0x898dd3=>{const _0x8428e1=_0x239079,_0x1fc51d=_0x898dd3[_0x8428e1(0x5a4)][_0x8428e1(0x2d9)]('.delete-student-btn');if(_0x1fc51d){const _0xd208a0=_0x1fc51d[_0x8428e1(0x6d1)]['studentName'];handleDeleteStudent(_0xd208a0);}}),document[_0x239079(0x82a)](_0x239079(0x5c0))['addEventListener']('click',handleGenerateFromFileClick),fileUploadInput[_0x239079(0x68b)](_0x239079(0x7d6),_0x11a69a=>{const _0x14124d=_0x239079,_0x5d2f04=_0x11a69a[_0x14124d(0x5a4)][_0x14124d(0x7a6)][0x0],_0x280b6b=document[_0x14124d(0x82a)](_0x14124d(0x5c0)),_0x395c2b=document[_0x14124d(0x82a)](_0x14124d(0x93f)),_0x1fa177=document[_0x14124d(0x82a)]('separate-by-content-from-file-checkbox');_0x5d2f04?(selectedFile=_0x5d2f04,_0x1fa177[_0x14124d(0x4be)]?(_0x280b6b[_0x14124d(0x814)]=!![],analyzeFileForTopics(_0x5d2f04)):(_0x280b6b[_0x14124d(0x814)]=![],_0x395c2b[_0x14124d(0xbe2)][_0x14124d(0x5ca)](_0x14124d(0x9b3)))):(selectedFile=null,_0x280b6b[_0x14124d(0x814)]=!![],_0x395c2b[_0x14124d(0xbe2)]['add'](_0x14124d(0x9b3)));}),document[_0x239079(0x82a)](_0x239079(0x362))[_0x239079(0x68b)](_0x239079(0x7d6),_0x52faf5=>{const _0x315dc4=_0x239079,_0x3294c0=_0x52faf5[_0x315dc4(0x5a4)]['checked'],_0x815c5=document['getElementById'](_0x315dc4(0x5c0)),_0x57ee69=document[_0x315dc4(0x82a)]('file-topics-list-container');_0x3294c0?(_0x815c5[_0x315dc4(0x814)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x57ee69['classList'][_0x315dc4(0x521)]('hidden'),document[_0x315dc4(0x82a)](_0x315dc4(0x78b))[_0x315dc4(0xa1c)]='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x57ee69['classList']['add'](_0x315dc4(0x9b3)),_0x815c5[_0x315dc4(0x814)]=!selectedFile);}),document[_0x239079(0x82a)]('file-topics-list-container')[_0x239079(0x68b)]('click',_0x278d74=>{const _0x2d8d06=_0x239079,_0x41b1da=_0x278d74['target']['closest'](_0x2d8d06(0x434)),_0x49db60=_0x278d74[_0x2d8d06(0x5a4)][_0x2d8d06(0x2d9)](_0x2d8d06(0x70b));if(_0x41b1da){const _0x4126ec=unescape(_0x41b1da[_0x2d8d06(0x6d1)][_0x2d8d06(0x231)]);generateHybridQuizForTopic(_0x4126ec);}else{if(_0x49db60){const _0x53724b=unescape(_0x49db60[_0x2d8d06(0x6d1)][_0x2d8d06(0x231)]),_0xfe6cef=document[_0x2d8d06(0x82a)]('difficulty-level-select')[_0x2d8d06(0x556)];handleGenerateAndShowLesson(_0x53724b,_0xfe6cef);}}}),document[_0x239079(0x82a)](_0x239079(0x9ac))[_0x239079(0x68b)]('change',_0x5ba007=>{const _0x3716fc=_0x239079,_0x2faf53=document['getElementById']('timer-duration-container'),_0x40877d=document['getElementById'](_0x3716fc(0x1ac)),_0x5d956d=document['getElementById']('timer-duration-input');_0x5ba007['target'][_0x3716fc(0x556)]==='none'?_0x2faf53[_0x3716fc(0xbe2)]['add']('hidden'):(_0x2faf53[_0x3716fc(0xbe2)][_0x3716fc(0x521)](_0x3716fc(0x9b3)),_0x5ba007[_0x3716fc(0x5a4)][_0x3716fc(0x556)]==='whole_quiz'?(_0x40877d[_0x3716fc(0xc26)]=_0x3716fc(0xba6),_0x5d956d['value']='10'):(_0x40877d[_0x3716fc(0xc26)]=_0x3716fc(0x70a),_0x5d956d[_0x3716fc(0x556)]='30'));}),document['getElementById'](_0x239079(0x629))[_0x239079(0x68b)](_0x239079(0x7d6),_0x5b7204=>{const _0x4db878=_0x239079,_0x5b15d1=document[_0x4db878(0x82a)](_0x4db878(0xa08)),_0x1ee983=_0x5b7204[_0x4db878(0x5a4)][_0x4db878(0x556)],_0x5c7050=document[_0x4db878(0x410)](_0x4db878(0xa5b)),_0x3046cb=document[_0x4db878(0x82a)](_0x4db878(0x512)),_0x997176=document['getElementById'](_0x4db878(0x379));_0x1ee983===_0x4db878(0xc0b)?_0x5c7050[_0x4db878(0xc26)]=_0x4db878(0x908):_0x5c7050[_0x4db878(0xc26)]=_0x4db878(0xa4d),_0x1ee983===_0x4db878(0x943)||_0x1ee983===_0x4db878(0x2c0)||_0x1ee983===_0x4db878(0xa11)?_0x5b15d1[_0x4db878(0xbe2)][_0x4db878(0x521)]('hidden'):_0x5b15d1['classList'][_0x4db878(0x5ca)]('hidden'),_0x3046cb['max']=_0x997176['value'];}),document[_0x239079(0x82a)](_0x239079(0x379))[_0x239079(0x68b)](_0x239079(0x8b6),_0x294cc3=>{const _0x51999d=_0x239079;document[_0x51999d(0x82a)](_0x51999d(0x512))[_0x51999d(0xbda)]=_0x294cc3['target'][_0x51999d(0x556)];}),document[_0x239079(0x82a)](_0x239079(0x55b))[_0x239079(0x68b)](_0x239079(0x7d6),_0xefad73=>{const _0x3da043=_0x239079,_0x22dd5c=document[_0x3da043(0x82a)](_0x3da043(0x37b)),_0x4aa638=document[_0x3da043(0x82a)](_0x3da043(0x859)),_0x663a2d=document[_0x3da043(0x82a)](_0x3da043(0x6a7));_0xefad73['target'][_0x3da043(0x556)]===_0x3da043(0xab4)?_0x22dd5c['classList'][_0x3da043(0x5ca)](_0x3da043(0x9b3)):(_0x22dd5c[_0x3da043(0xbe2)][_0x3da043(0x521)]('hidden'),_0xefad73[_0x3da043(0x5a4)][_0x3da043(0x556)]===_0x3da043(0x761)?_0x4aa638[_0x3da043(0xc26)]='ระยะเวลา\x20(นาที):':_0x4aa638['textContent']=_0x3da043(0x70a));}),document[_0x239079(0x82a)]('cancel-quiz-edits-btn')['addEventListener'](_0x239079(0x79e),()=>{const _0x9bd11a=_0x239079;document[_0x9bd11a(0x82a)](_0x9bd11a(0x476))[_0x9bd11a(0xbe2)][_0x9bd11a(0x5ca)](_0x9bd11a(0x9b3));}),document['getElementById']('cancel-quiz-edits-btn-footer')[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0xb1df6e=_0x239079;document[_0xb1df6e(0x82a)](_0xb1df6e(0x476))['classList'][_0xb1df6e(0x5ca)](_0xb1df6e(0x9b3));}),document[_0x239079(0x82a)]('verify-answers-editor-btn')[_0x239079(0x68b)]('click',handleVerifyAnswersInEditor),document[_0x239079(0x82a)](_0x239079(0x83c))[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x13c6db=_0x239079;document[_0x13c6db(0x82a)]('quiz-editor-modal')[_0x13c6db(0xbe2)][_0x13c6db(0x5ca)]('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x239079(0x82a)]('auto-fix-latex-btn')[_0x239079(0x68b)](_0x239079(0x79e),handleAutoFixLatex);const _0x427ca4=document[_0x239079(0x82a)](_0x239079(0x810));_0x427ca4&&_0x427ca4['addEventListener'](_0x239079(0x79e),_0x4698e4=>{const _0xd65764=_0x239079,_0x34f042=_0x4698e4[_0xd65764(0x5a4)][_0xd65764(0x2d9)](_0xd65764(0x997)),_0x5f8a94=_0x4698e4[_0xd65764(0x5a4)][_0xd65764(0x2d9)](_0xd65764(0x43e));if(_0x34f042){const _0x16b1b6=_0x34f042[_0xd65764(0x2d9)](_0xd65764(0xac0)),_0x4e312d=parseInt(_0x16b1b6[_0xd65764(0x6d1)][_0xd65764(0x639)],0xa);handleRegenerateQuestionInEditor(_0x4e312d);}else{if(_0x5f8a94){const _0x295731=_0x5f8a94[_0xd65764(0x2d9)](_0xd65764(0xac0)),_0x546feb=parseInt(_0x295731[_0xd65764(0x6d1)]['qIndex'],0xa);handleAiFixFormula(_0x546feb);}}});document[_0x239079(0x82a)](_0x239079(0x6d9))[_0x239079(0x68b)](_0x239079(0x79e),openQuizBankModal),document[_0x239079(0x82a)]('cancel-quiz-bank-btn')[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x57cacc=_0x239079;document[_0x57cacc(0x82a)](_0x57cacc(0x9f2))[_0x57cacc(0xbe2)][_0x57cacc(0x5ca)](_0x57cacc(0x9b3));}),document[_0x239079(0x82a)](_0x239079(0xad9))[_0x239079(0x68b)](_0x239079(0x8b6),_0x6c8081=>renderQuizBankList(_0x6c8081[_0x239079(0x5a4)][_0x239079(0x556)]));const _0x11fa58=document['getElementById'](_0x239079(0x691));if(_0x11fa58){let _0x1605e7=null;_0x11fa58[_0x239079(0x68b)](_0x239079(0x79e),_0x349ba5=>{const _0x17a9cd=_0x239079,_0x2226c4=_0x349ba5[_0x17a9cd(0x5a4)],_0x275909=_0x2226c4[_0x17a9cd(0x2d9)](_0x17a9cd(0xae0)),_0x443434=_0x2226c4['closest'](_0x17a9cd(0x7be)),_0x4bb78b=_0x2226c4['closest']('.save-custom-topic-btn'),_0x19631c=_0x2226c4[_0x17a9cd(0x2d9)](_0x17a9cd(0xb2e));if(_0x443434){_0x349ba5[_0x17a9cd(0xa73)]();const _0x152c89=_0x443434['dataset']['id'],_0xb4651c=_0x443434[_0x17a9cd(0x2d9)](_0x17a9cd(0x31b))[_0x17a9cd(0x410)]('.topic-name-display')['textContent'];showConfirmation(_0x17a9cd(0x48d)+_0xb4651c+'\x22?',()=>handleDeleteCustomTopic(_0x152c89));}else{if(_0x275909){_0x349ba5[_0x17a9cd(0xa73)]();_0x1605e7&&toggleTopicEditMode(_0x1605e7,![]);const _0x4ced2c=_0x275909[_0x17a9cd(0x2d9)](_0x17a9cd(0x759));_0x1605e7=_0x4ced2c,toggleTopicEditMode(_0x4ced2c,!![]);}else{if(_0x4bb78b){_0x349ba5[_0x17a9cd(0xa73)]();const _0x2b562a=_0x4bb78b[_0x17a9cd(0x6d1)]['id'],_0x307385=_0x4bb78b[_0x17a9cd(0x2d9)](_0x17a9cd(0x759)),_0x12228d=_0x307385[_0x17a9cd(0x410)](_0x17a9cd(0x266))[_0x17a9cd(0x556)];handleUpdateCustomTopic(_0x2b562a,_0x12228d),_0x1605e7=null;}else{if(_0x19631c){_0x349ba5['preventDefault']();const _0x55414b=_0x19631c[_0x17a9cd(0x2d9)]('[data-topic-container-id]');toggleTopicEditMode(_0x55414b,![]),_0x1605e7=null;}}}}}),document['getElementById'](_0x239079(0x47f))[_0x239079(0x68b)]('click',()=>{const _0x1c457c=_0x239079;document[_0x1c457c(0x82a)](_0x1c457c(0x2d0))[_0x1c457c(0xbe2)][_0x1c457c(0x5ca)](_0x1c457c(0x9b3));}),document['getElementById'](_0x239079(0xa63))[_0x239079(0x68b)]('click',()=>{const _0xc46e6c=_0x239079;document[_0xc46e6c(0x82a)]('lesson-plan-modal')[_0xc46e6c(0xbe2)][_0xc46e6c(0x5ca)]('hidden');}),document['getElementById']('export-lesson-pdf-btn')[_0x239079(0x68b)](_0x239079(0x79e),handleExportLessonPDF);}document[_0x239079(0x82a)]('close-comparison-modal-btn')[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x35b784=_0x239079;document[_0x35b784(0x82a)](_0x35b784(0xbf2))['classList'][_0x35b784(0x5ca)](_0x35b784(0x9b3));}),document[_0x239079(0x82a)](_0x239079(0x934))[_0x239079(0x68b)](_0x239079(0x79e),()=>{const _0x177789=_0x239079;document[_0x177789(0x82a)]('comparison-modal')[_0x177789(0xbe2)][_0x177789(0x5ca)](_0x177789(0x9b3));}),setupComparisonModalTabs(),document[_0x239079(0xab8)]['addEventListener']('click',function(_0xb0652f){const _0xe4ba09=_0x239079;if(_0xb0652f['target']['classList']['contains'](_0xe4ba09(0x401))){const _0x14ce6e=unescape(_0xb0652f[_0xe4ba09(0x5a4)][_0xe4ba09(0x6d1)][_0xe4ba09(0x231)]);startSkillPractice(_0x14ce6e);}}),document[_0x239079(0x82a)]('scores-tab-content')['addEventListener'](_0x239079(0x79e),_0x29623c=>{const _0x1ce30a=_0x239079,_0x4e73cb=_0x29623c[_0x1ce30a(0x5a4)][_0x1ce30a(0x2d9)](_0x1ce30a(0x23e));if(_0x4e73cb){const _0x2cff9d=_0x4e73cb['dataset'][_0x1ce30a(0xb38)];handleDeleteSubmission(_0x2cff9d);}});}async function handleStartGroupMode(_0xde6a6d,_0x124f01=![]){const _0xaa3b4c=_0x5c7bd9,_0x4df796=allQuizzes[_0xaa3b4c(0x241)](_0x2643a2=>_0x2643a2['id']===_0xde6a6d)||allQuizzesGlobal[_0xaa3b4c(0x241)](_0x1dd03d=>_0x1dd03d['id']===_0xde6a6d);if(!_0x4df796){showMessage(_0xaa3b4c(0x365));return;}currentQuizData=getShuffledQuiz(_0x4df796);const _0x1d68bf=Math[_0xaa3b4c(0x33f)](0x3e8+Math['random']()*0x2328)[_0xaa3b4c(0x454)]();try{const _0x2df640=await addDoc(collection(db,_0xaa3b4c(0x2fd)+appId+_0xaa3b4c(0x208)),{'quizId':_0x4df796['id'],'projectId':_0x4df796['projectId'],'status':_0xaa3b4c(0x954),'pin':_0x1d68bf,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x124f01});currentTeamQuizId=_0x2df640['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x1d68bf,_0x4df796[_0xaa3b4c(0x231)],_0xaa3b4c(0xa1a)),listenForTeamQuizUpdates();}catch(_0x4ec777){console[_0xaa3b4c(0xb9a)](_0xaa3b4c(0x799),_0x4ec777),showMessage(_0xaa3b4c(0x1ef));}}async function showStudentProgressView(){const _0x174e20=_0x5c7bd9;studentInitialView[_0x174e20(0xbe2)][_0x174e20(0x5ca)](_0x174e20(0x9b3)),document[_0x174e20(0x82a)](_0x174e20(0x4da))['classList'][_0x174e20(0x521)](_0x174e20(0x9b3));const _0x2fe7c4=document[_0x174e20(0x82a)](_0x174e20(0x695)),_0x959d7a=document[_0x174e20(0x82a)](_0x174e20(0x23f)),_0x5e9fcb=document[_0x174e20(0x82a)](_0x174e20(0x4f3));_0x5e9fcb['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x959d7a[_0x174e20(0xa1c)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x959d7a[_0x174e20(0x814)]=!![],_0x2fe7c4[_0x174e20(0xa1c)]=_0x174e20(0x89e);if(allProjects['length']===0x0){const _0xa74dc8=collection(db,_0x174e20(0x2fd)+appId+_0x174e20(0x3eb)),_0x36ac9c=await getDocs(_0xa74dc8);allProjects=_0x36ac9c[_0x174e20(0x795)]['map'](_0x48fb68=>({'id':_0x48fb68['id'],..._0x48fb68['data']()}));}const _0x1ea1f7=allProjects[_0x174e20(0x920)](_0x19d5b2=>_0x19d5b2[_0x174e20(0x597)]?.['showInStudentDashboard']!==![]);_0x1ea1f7['sort']((_0x3fe2b9,_0x5364fd)=>_0x3fe2b9[_0x174e20(0x5da)]['localeCompare'](_0x5364fd['projectName'],'th')),_0x2fe7c4[_0x174e20(0xa1c)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x1ea1f7['map'](_0x3fd814=>'<option\x20value=\x22'+_0x3fd814['id']+'\x22>'+_0x3fd814[_0x174e20(0x5da)]+_0x174e20(0xa8a))['join'](''),_0x2fe7c4['onchange']=()=>{const _0x6cd7be=_0x174e20,_0x23e502=_0x959d7a[_0x6cd7be(0x556)],_0x1abec6=_0x2fe7c4[_0x6cd7be(0x556)];_0x959d7a['disabled']=!![],_0x959d7a[_0x6cd7be(0xa1c)]=_0x6cd7be(0x952),_0x5e9fcb[_0x6cd7be(0xa1c)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x1abec6)return;const _0x40f4d7=allProjects[_0x6cd7be(0x241)](_0x349f60=>_0x349f60['id']===_0x1abec6);if(!_0x40f4d7||!_0x40f4d7[_0x6cd7be(0x646)])return;const _0x25e531=()=>{const _0x1f5e08=_0x6cd7be;_0x959d7a[_0x1f5e08(0xa1c)]=_0x1f5e08(0x952)+_0x40f4d7[_0x1f5e08(0x646)][_0x1f5e08(0x98b)](_0x2850b6=>_0x1f5e08(0x4fa)+_0x2850b6+'\x22>'+_0x2850b6+_0x1f5e08(0xa8a))[_0x1f5e08(0x5b3)](''),_0x959d7a[_0x1f5e08(0x814)]=![];const _0x1954fe=Array[_0x1f5e08(0x4a0)](_0x959d7a[_0x1f5e08(0xb8c)])['map'](_0x2d9bd3=>_0x2d9bd3['value']);if(_0x23e502&&_0x1954fe['includes'](_0x23e502))_0x959d7a[_0x1f5e08(0x556)]=_0x23e502,_0x959d7a['dispatchEvent'](new Event('change'));else _0x40f4d7['students']['length']===0x1&&(_0x959d7a[_0x1f5e08(0x556)]=_0x40f4d7[_0x1f5e08(0x646)][0x0],_0x959d7a['dispatchEvent'](new Event(_0x1f5e08(0x7d6))));};if(_0x40f4d7[_0x6cd7be(0x597)]?.['isPasscodeEnabled']){if(sessionStorage[_0x6cd7be(0xbea)](_0x6cd7be(0x1aa)+_0x1abec6)==='true'){_0x25e531();return;}const _0x4c1e0d=document['getElementById'](_0x6cd7be(0x2a5)),_0x55442f=document[_0x6cd7be(0x82a)]('confirm-passcode-btn'),_0x34f8b6=document[_0x6cd7be(0x82a)](_0x6cd7be(0xad0)),_0x300dec=document['getElementById'](_0x6cd7be(0x392)),_0x4e383d=document[_0x6cd7be(0x82a)](_0x6cd7be(0x593));document[_0x6cd7be(0x82a)]('passcode-prompt-message')['textContent']=_0x6cd7be(0x601)+_0x40f4d7[_0x6cd7be(0x5da)],_0x300dec['value']='',_0x4e383d[_0x6cd7be(0xbe2)]['add'](_0x6cd7be(0x9b3)),_0x4c1e0d[_0x6cd7be(0xbe2)][_0x6cd7be(0x521)](_0x6cd7be(0x9b3));const _0x1d70a5=()=>{const _0x330701=_0x6cd7be,_0x36ec60=_0x300dec['value'][_0x330701(0xbde)]();_0x36ec60===_0x40f4d7[_0x330701(0x597)][_0x330701(0x6a0)]?(sessionStorage['setItem'](_0x330701(0x1aa)+_0x1abec6,_0x330701(0x284)),_0x4c1e0d[_0x330701(0xbe2)][_0x330701(0x5ca)](_0x330701(0x9b3)),_0x25e531(),_0x55442f[_0x330701(0xb86)](_0x330701(0x79e),_0x1d70a5)):_0x4e383d[_0x330701(0xbe2)]['remove'](_0x330701(0x9b3));};_0x55442f[_0x6cd7be(0x485)]=_0x1d70a5,_0x34f8b6[_0x6cd7be(0x485)]=()=>{const _0x34d0c0=_0x6cd7be;_0x4c1e0d['classList'][_0x34d0c0(0x5ca)](_0x34d0c0(0x9b3)),_0x2fe7c4['value']='',_0x55442f[_0x34d0c0(0xb86)](_0x34d0c0(0x79e),_0x1d70a5);};}else _0x25e531();},_0x959d7a[_0x174e20(0x5cf)]=()=>{const _0x5a5f01=_0x174e20,_0x8bed37=_0x2fe7c4['value'],_0x3e9057=_0x959d7a[_0x5a5f01(0x556)];_0x8bed37&&_0x3e9057&&renderStudentProgressDashboard(_0x8bed37,_0x3e9057);};}async function confirmAndJoinSyncGame(){const _0x4cb7e2=_0x5c7bd9,_0x543a5d=Array[_0x4cb7e2(0x4a0)](document[_0x4cb7e2(0xb24)]('input[name=\x22team_player\x22]:checked'))[_0x4cb7e2(0x98b)](_0x153334=>_0x153334[_0x4cb7e2(0x556)]);if(_0x543a5d['length']===0x0){showMessage(_0x4cb7e2(0x686));return;}localTeamPlayers=_0x543a5d,localPlayerTurnIndex=0x0;const _0x33c989=doc(db,_0x4cb7e2(0x2fd)+appId+_0x4cb7e2(0x31e),currentLiveGameId);try{const _0x594231=await getDoc(_0x33c989);if(!_0x594231[_0x4cb7e2(0x4a4)]())throw new Error(_0x4cb7e2(0x8b7));const _0x5ee21c=_0x594231[_0x4cb7e2(0x958)]()[_0x4cb7e2(0xbc1)]||{};_0x543a5d['forEach'](_0x101fb2=>{const _0x51d007=_0x4cb7e2;!_0x5ee21c[_0x101fb2]&&(_0x5ee21c[_0x101fb2]={'name':_0x101fb2,'score':0x0,'answered':![],'status':_0x51d007(0x458)});}),await updateDoc(_0x33c989,{'players':_0x5ee21c}),document[_0x4cb7e2(0x82a)]('student-team-selection-view')[_0x4cb7e2(0xbe2)][_0x4cb7e2(0x5ca)](_0x4cb7e2(0x9b3)),currentStudentName=_0x543a5d[0x0],listenForSyncGameUpdates();const _0x304491={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x4cb7e2(0xaa0)]('activeGameSession',JSON['stringify'](_0x304491));}catch(_0x14cf98){console['error'](_0x4cb7e2(0x5a6),_0x14cf98),showMessage(_0x4cb7e2(0xc21));}}async function resumeActiveGameSession(){const _0x3bfa04=_0x5c7bd9,_0x457997=sessionStorage['getItem'](_0x3bfa04(0x992));if(!_0x457997)return;const _0x55f626=JSON[_0x3bfa04(0x4cb)](_0x457997),{gameId:_0xfe848e,mode:_0x29e890,players:_0x3ee476,turnIndex:_0x18fc3f}=_0x55f626;try{let _0x4d0b7b,_0x2a099a;_0x29e890==='sync'?_0x4d0b7b=doc(db,_0x3bfa04(0x2fd)+appId+_0x3bfa04(0x31e),_0xfe848e):_0x4d0b7b=doc(db,_0x3bfa04(0x2fd)+appId+_0x3bfa04(0x208),_0xfe848e);_0x2a099a=await getDoc(_0x4d0b7b);if(!_0x2a099a[_0x3bfa04(0x4a4)]()||_0x2a099a['data']()[_0x3bfa04(0x6d5)]===_0x3bfa04(0x980)||_0x2a099a[_0x3bfa04(0x958)]()['status']===_0x3bfa04(0x983)){sessionStorage[_0x3bfa04(0x80c)](_0x3bfa04(0x992));return;}console[_0x3bfa04(0x77c)](_0x3bfa04(0x6c1)+_0x29e890+_0x3bfa04(0x5f6)+_0xfe848e+')'),localTeamPlayers=_0x3ee476,localPlayerTurnIndex=_0x18fc3f;if(_0x29e890==='sync')currentLiveGameId=_0xfe848e,currentStudentName=_0x3ee476[0x0],showView(_0x3bfa04(0xa83)),listenForSyncGameUpdates();else{currentTeamQuizId=_0xfe848e;const _0x1e03d3=_0x2a099a[_0x3bfa04(0x958)](),_0x28616e=doc(db,_0x3bfa04(0x2fd)+appId+_0x3bfa04(0x74e),_0x1e03d3[_0x3bfa04(0xbc0)]),_0x1e520d=await getDoc(_0x28616e);_0x1e520d[_0x3bfa04(0x4a4)]()&&(currentQuizData=getShuffledQuiz({'id':_0x1e520d['id'],..._0x1e520d[_0x3bfa04(0x958)]()}),showView(_0x3bfa04(0x73c)),studentInitialView[_0x3bfa04(0xbe2)]['add'](_0x3bfa04(0x9b3)),renderTeamQuizQuestion());}}catch(_0x522fff){console[_0x3bfa04(0xb9a)](_0x3bfa04(0x937),_0x522fff),sessionStorage[_0x3bfa04(0x80c)](_0x3bfa04(0x992));}}async function handleKickPlayerSync(_0x61d4e4){const _0x471821=_0x5c7bd9;if(!currentLiveGameId||!_0x61d4e4)return;const _0x386993=doc(db,_0x471821(0x2fd)+appId+'/public/data/syncGames',currentLiveGameId),_0x39047c={};_0x39047c[_0x471821(0x9aa)+_0x61d4e4+_0x471821(0x57b)]='inactive';try{await updateDoc(_0x386993,_0x39047c);}catch(_0x52517b){console[_0x471821(0xb9a)]('Failed\x20to\x20kick\x20player\x20'+_0x61d4e4+'\x20from\x20sync\x20game:',_0x52517b),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0x5b26ac,_0x261c0d){const _0xac5031=_0x5c7bd9,_0x3829ad=document[_0xac5031(0x82a)](_0xac5031(0x4f3));_0x3829ad['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x24f356=collection(db,_0xac5031(0x2fd)+appId+_0xac5031(0x74e)),_0x2d8138=query(_0x24f356,where('projectId','==',_0x5b26ac)),_0x3d66bf=await getDocs(_0x2d8138),_0x6328b2=_0x3d66bf[_0xac5031(0x795)][_0xac5031(0x98b)](_0x1bef02=>({'id':_0x1bef02['id'],..._0x1bef02['data']()})),_0x29d53b=_0x6328b2['map'](_0x409a1c=>getDoc(doc(db,_0xac5031(0x2fd)+appId+'/public/data/quizzes/'+_0x409a1c['id']+_0xac5031(0x4a9),_0x261c0d))),_0x4d8580=await Promise['all'](_0x29d53b),_0x486ee0=_0x4d8580['filter'](_0x4cd201=>_0x4cd201[_0xac5031(0x4a4)]())['map'](_0x28cfa1=>({'quizId':_0x28cfa1[_0xac5031(0x987)]['parent'][_0xac5031(0x93a)]['id'],..._0x28cfa1[_0xac5031(0x958)]()}));if(_0x486ee0['length']===0x0){_0x3829ad[_0xac5031(0xa1c)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x577678=_0xac5031(0x2ab);_0x486ee0[_0xac5031(0x883)](_0x13d7d0=>{const _0x2d82ab=_0xac5031,_0x38ad58=_0x6328b2['find'](_0x1c1e94=>_0x1c1e94['id']===_0x13d7d0['quizId']),_0x2aeb9f=_0x38ad58[_0x2d82ab(0x597)]?.[_0x2d82ab(0xbbf)]||_0x2d82ab(0x5b8),_0x29ea3d=_0x38ad58[_0x2d82ab(0x597)]?.[_0x2d82ab(0x6e3)]??0x0,_0x3fa5e5=_0x13d7d0[_0x2d82ab(0x637)]>=_0x29ea3d;let _0x2842cb='',_0x14a121=_0x2d82ab(0x3fe);switch(_0x2aeb9f){case _0x2d82ab(0x5b8):case _0x2d82ab(0x433):_0x14a121=_0x3fa5e5?_0x2d82ab(0xad1):_0x2d82ab(0x898),_0x2842cb=_0x2d82ab(0x8eb)+(_0x3fa5e5?_0x2d82ab(0x262):_0x2d82ab(0x1ce))+'\x22>'+_0x13d7d0['bestScore']+_0x2d82ab(0xa3b)+_0x13d7d0['totalQuestions']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x3fa5e5?_0x2d82ab(0xa66):_0x2d82ab(0x36a))+'\x22>'+(_0x3fa5e5?_0x2d82ab(0xad3):_0x2d82ab(0x39c))+_0x2d82ab(0x762);break;case _0x2d82ab(0x6df):_0x14a121=_0x3fa5e5?_0x2d82ab(0xad1):_0x2d82ab(0x898),_0x2842cb=_0x2d82ab(0x889)+(_0x3fa5e5?_0x2d82ab(0xa66):_0x2d82ab(0x36a))+'\x22>'+(_0x3fa5e5?_0x2d82ab(0xad3):'ไม่ผ่าน')+_0x2d82ab(0x762);break;case _0x2d82ab(0xbf8):_0x14a121=_0x2d82ab(0x82c),_0x2842cb=_0x2d82ab(0x675);break;}_0x577678+=_0x2d82ab(0xba0)+_0x14a121+_0x2d82ab(0x445)+_0x38ad58['topic']+_0x2d82ab(0x540)+_0x13d7d0[_0x2d82ab(0x6b8)][_0x2d82ab(0x4d9)]+_0x2d82ab(0x2df)+new Date(_0x13d7d0[_0x2d82ab(0x7b6)])['toLocaleDateString']('th-TH')+_0x2d82ab(0x5e0)+_0x2842cb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x577678+=_0xac5031(0x59b),_0x3829ad['innerHTML']=_0x577678;}catch(_0x5d910f){console[_0xac5031(0xb9a)]('Error\x20rendering\x20student\x20progress:',_0x5d910f),_0x3829ad[_0xac5031(0xa1c)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x50f98f=''){const _0x218d9c=_0x5c7bd9,_0xf2d428=document[_0x218d9c(0x82a)](_0x218d9c(0xaaa)),_0x234b53=_0x50f98f[_0x218d9c(0x21d)]()['trim'](),_0xa4bdcb=allQuizzesGlobal[_0x218d9c(0x98b)](_0xad97e3=>({..._0xad97e3,'projectName':allProjects['find'](_0x152edc=>_0x152edc['id']===_0xad97e3['projectId'])?.[_0x218d9c(0x5da)]||_0x218d9c(0x66f)}))[_0x218d9c(0x920)](_0x579dd7=>(_0x579dd7[_0x218d9c(0x231)]||'')[_0x218d9c(0x21d)]()[_0x218d9c(0x918)](_0x234b53)||(_0x579dd7[_0x218d9c(0x5da)]||'')[_0x218d9c(0x21d)]()[_0x218d9c(0x918)](_0x234b53)||_0x579dd7['id'][_0x218d9c(0x454)]()['includes'](_0x234b53));_0xf2d428[_0x218d9c(0xa1c)]=_0xa4bdcb[_0x218d9c(0x4d9)]?_0xa4bdcb[_0x218d9c(0x98b)](_0x55beeb=>_0x218d9c(0x488)+_0x55beeb['id']+_0x218d9c(0x4df)+(_0x55beeb[_0x218d9c(0x231)]||_0x218d9c(0x8e0))+_0x218d9c(0x3d2)+_0x55beeb[_0x218d9c(0x5da)]+_0x218d9c(0x1cf)+_0x55beeb['id']+_0x218d9c(0xad8))['join'](''):_0x218d9c(0xae7),_0xf2d428[_0x218d9c(0x5cf)]=()=>{const _0x4d1d78=_0x218d9c,_0x4cf88b=document['querySelector']('.quiz-bank-checkbox:checked');document[_0x4d1d78(0x82a)]('confirm-link-quiz-btn')['disabled']=!_0x4cf88b;};}function setupStudentProgressListeners(){const _0x1df5b4=_0x5c7bd9;document[_0x1df5b4(0x82a)]('view-my-progress-btn')[_0x1df5b4(0x68b)](_0x1df5b4(0x79e),showStudentProgressView),document[_0x1df5b4(0x82a)](_0x1df5b4(0x2dc))['addEventListener'](_0x1df5b4(0x79e),()=>{const _0x46fcdf=_0x1df5b4;document['getElementById']('student-progress-view')[_0x46fcdf(0xbe2)][_0x46fcdf(0x5ca)]('hidden'),document[_0x46fcdf(0x82a)](_0x46fcdf(0x35b))[_0x46fcdf(0xbe2)]['remove']('hidden');});}async function startSkillPractice(_0x58a888){const _0x5d86fb=_0x5c7bd9;studentResultArea[_0x5d86fb(0xbe2)][_0x5d86fb(0x5ca)](_0x5d86fb(0x9b3)),studentQuizArea[_0x5d86fb(0xa1c)]=_0x5d86fb(0x64e),studentQuizArea[_0x5d86fb(0xbe2)][_0x5d86fb(0x521)](_0x5d86fb(0x9b3));try{const _0x206544=await getStandardizedTopic(_0x58a888);console[_0x5d86fb(0x77c)](_0x5d86fb(0xbdb)+_0x58a888+_0x5d86fb(0x270)+_0x206544+'\x22'),studentQuizArea[_0x5d86fb(0x410)]('p')[_0x5d86fb(0xc26)]=_0x5d86fb(0x5d0)+_0x206544+_0x5d86fb(0x47e);const _0x4c4b57=collection(db,'artifacts/'+appId+_0x5d86fb(0x46f)),_0x34cdb8=query(_0x4c4b57,where('topic','==',_0x206544)),_0x2403ac=await getDocs(_0x34cdb8);if(_0x2403ac[_0x5d86fb(0x795)]['length']>=0x3){console['log']('พบข้อสอบ\x20'+_0x2403ac[_0x5d86fb(0x795)][_0x5d86fb(0x4d9)]+_0x5d86fb(0x4dc)+_0x206544+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x240934=_0x2403ac[_0x5d86fb(0x795)][_0x5d86fb(0x98b)](_0x430c64=>_0x430c64[_0x5d86fb(0x958)]());shuffleArray(_0x240934);const _0x5adaed={'topic':_0x206544,'questions':_0x240934[_0x5d86fb(0xb02)](0x0,0x3)};displaySkillPracticeDrill(_0x5adaed);}else{console['log']('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x206544+_0x5d86fb(0x212));const _0x44bec8=await generatePracticeQuestions(_0x206544);await saveDrillToPracticeBank(_0x44bec8,_0x206544),displaySkillPracticeDrill(_0x44bec8);}}catch(_0x5eb097){console[_0x5d86fb(0xb9a)](_0x5d86fb(0x3f5),_0x5eb097),showMessage(_0x5d86fb(0x487)),studentQuizArea[_0x5d86fb(0xbe2)]['add']('hidden'),studentResultArea[_0x5d86fb(0xbe2)][_0x5d86fb(0x521)](_0x5d86fb(0x9b3));}}async function saveDrillToPracticeBank(_0x2ad105,_0x43e39c){const _0x522089=_0x5c7bd9,_0x1ee0b3=collection(db,_0x522089(0x2fd)+appId+'/public/data/practiceBank'),_0x4c7d48=writeBatch(db);_0x2ad105[_0x522089(0x600)][_0x522089(0x883)](_0x938e79=>{const _0x3163f2=_0x522089,_0xe07cbf=doc(_0x1ee0b3);_0x4c7d48[_0x3163f2(0x3b0)](_0xe07cbf,{'topic':_0x43e39c,'questionText':_0x938e79['questionText'],'options':_0x938e79[_0x3163f2(0xb8c)],'correctAnswerIndex':_0x938e79[_0x3163f2(0x23d)],'explanation':_0x938e79[_0x3163f2(0xac7)],'createdAt':serverTimestamp()});});try{await _0x4c7d48[_0x522089(0xbf4)](),console['log']('บันทึกคำถามใหม่\x20'+_0x2ad105['questions'][_0x522089(0x4d9)]+_0x522089(0x32b));}catch(_0x14f167){console[_0x522089(0xb9a)](_0x522089(0xbfd),_0x14f167);}}async function getStandardizedTopic(_0x290eab){const _0x57bf78=_0x5c7bd9,_0x52e869=_0x57bf78(0x29f)+_0x290eab+_0x57bf78(0x85e),_0x2123e3={'type':_0x57bf78(0x4f7),'properties':{'standardTopic':{'type':_0x57bf78(0x5e7)}},'required':['standardTopic']};try{const _0xc05a6d=await callAnalysisApi(_0x52e869,_0x2123e3);return _0xc05a6d[_0x57bf78(0x61d)];}catch(_0x29f0a5){return console['error'](_0x57bf78(0x591),_0x29f0a5),_0x290eab;}}async function handleGenerateEasyVersionQuiz(_0x308410){const _0x5ad07c=_0x5c7bd9,_0x4f23b8=document['getElementById']('results-tab-content'),_0x5487ea=document[_0x5ad07c(0x82a)](_0x5ad07c(0xb30));_0x5487ea[_0x5ad07c(0xbe2)]['add'](_0x5ad07c(0x9b3));const _0x18a9a8=_0x5ad07c(0x7de);_0x4f23b8[_0x5ad07c(0x8f9)]('beforeend',_0x18a9a8);try{const _0x477388=allQuizzes[_0x5ad07c(0x241)](_0xebead9=>_0xebead9['id']===_0x308410);if(!_0x477388)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x34a438=_0x5ad07c(0x334)+JSON[_0x5ad07c(0x6b3)](_0x477388['questions'])+_0x5ad07c(0xa9d),_0x7d46a5={'type':_0x5ad07c(0x4f7),'properties':{'questionText':{'type':_0x5ad07c(0x5e7)},'questionType':{'type':_0x5ad07c(0x5e7)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5ad07c(0x5c9)},'idealAnswer':{'type':_0x5ad07c(0x5e7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5ad07c(0x5e7)}},'required':[_0x5ad07c(0xbc9),_0x5ad07c(0x6ab),_0x5ad07c(0xac7)]},_0x1f0445={'type':'OBJECT','properties':{'questions':{'type':_0x5ad07c(0xace),'items':_0x7d46a5}},'required':[_0x5ad07c(0x600)]},_0x44316f=await callAnalysisApi(_0x34a438,_0x1f0445);_0x44316f&&_0x44316f['questions']&&_0x44316f['questions'][_0x5ad07c(0x883)](_0x48b1b8=>{const _0x284728=_0x5ad07c;if(_0x48b1b8[_0x284728(0xa9a)](_0x284728(0xb88))){const _0x14a80d=String(_0x48b1b8['imageCode'])[_0x284728(0xbde)]();(_0x14a80d===''||_0x14a80d['toLowerCase']()===_0x284728(0x3e5)||!_0x14a80d[_0x284728(0xb84)](_0x284728(0x4f9)))&&delete _0x48b1b8[_0x284728(0xb88)];}});if(!_0x44316f||!_0x44316f[_0x5ad07c(0x600)]||_0x44316f[_0x5ad07c(0x600)][_0x5ad07c(0x4d9)]===0x0)throw new Error(_0x5ad07c(0xb79));const _0x1301b2=_0x44316f[_0x5ad07c(0x600)]['map']((_0x135fa3,_0xb28693)=>({..._0x135fa3,'id':'q_'+Date[_0x5ad07c(0x8cd)]()+'_'+_0xb28693})),_0x1c7a02={'projectId':_0x477388[_0x5ad07c(0x571)],'quizType':_0x477388[_0x5ad07c(0x738)],'settings':_0x477388[_0x5ad07c(0x597)],'createdBy':_0x477388['createdBy'],'status':_0x5ad07c(0x458),'topic':'(ฉบับง่าย)\x20'+_0x477388[_0x5ad07c(0x231)],'questions':_0x1301b2,'createdAt':new Date()[_0x5ad07c(0x41a)](),'quizMode':_0x5ad07c(0xb11),'pairedQuizId':null};let _0x242b40;while(!![]){_0x242b40=Math['floor'](0x3e8+Math[_0x5ad07c(0xb68)]()*0x2328)[_0x5ad07c(0x454)]();const _0x3528f8=await getDoc(doc(db,_0x5ad07c(0x2fd)+appId+'/public/data/quizzes',_0x242b40));if(!_0x3528f8['exists']())break;}await setDoc(doc(db,_0x5ad07c(0x2fd)+appId+_0x5ad07c(0x74e),_0x242b40),_0x1c7a02),showMessage(_0x5ad07c(0x652));}catch(_0x53e22c){console[_0x5ad07c(0xb9a)](_0x5ad07c(0x7fb),_0x53e22c),showMessage(_0x5ad07c(0x390)+_0x53e22c['message']);}finally{const _0x15b099=document['getElementById'](_0x5ad07c(0x8bd));_0x15b099&&_0x15b099['remove'](),_0x5487ea[_0x5ad07c(0xbe2)][_0x5ad07c(0x521)](_0x5ad07c(0x9b3));}}async function generatePracticeQuestions(_0x45e2bb){const _0x466ec0=_0x5c7bd9,_0x21a613=_0x466ec0(0x8bf)+_0x45e2bb+_0x466ec0(0x800)+simpleMathPrompt+_0x466ec0(0x2e1),_0xc3ab16={'type':_0x466ec0(0x4f7),'properties':{'questionText':{'type':_0x466ec0(0x5e7)},'options':{'type':_0x466ec0(0xace),'items':{'type':_0x466ec0(0x5e7)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':[_0x466ec0(0xbc9),'options','correctAnswerIndex','explanation']},_0x490f4a={'type':'OBJECT','properties':{'topic':{'type':_0x466ec0(0x5e7)},'questions':{'type':_0x466ec0(0xace),'items':_0xc3ab16}},'required':['topic',_0x466ec0(0x600)]};return await callAnalysisApi(_0x21a613,_0x490f4a);}function displayLessonPlan(_0xe44e7f,_0x40bf79){const _0x6397e3=_0x5c7bd9,_0x5e139f=_0x6397e3(0x8be)+_0x40bf79[_0x6397e3(0x231)]+_0x6397e3(0x668)+_0xe44e7f[_0x6397e3(0xa38)][_0x6397e3(0x98b)](_0x871d2c=>_0x6397e3(0x748)+_0x871d2c+_0x6397e3(0x516))[_0x6397e3(0x5b3)]('')+_0x6397e3(0x310)+_0xe44e7f['teachingContent']+_0x6397e3(0xb8e)+_0xe44e7f[_0x6397e3(0xc0a)][_0x6397e3(0x98b)](_0xe93ee0=>_0x6397e3(0x6ad)+_0xe93ee0[_0x6397e3(0xb99)]+_0x6397e3(0x5fa)+_0xe93ee0[_0x6397e3(0x7ea)]+'</p></div>')[_0x6397e3(0x5b3)]('')+_0x6397e3(0x584);document['getElementById']('lesson-plan-title')[_0x6397e3(0xc26)]='แผนการสอน:\x20'+_0x40bf79[_0x6397e3(0x231)],document[_0x6397e3(0x82a)](_0x6397e3(0xba9))['innerHTML']=_0x5e139f,document[_0x6397e3(0x82a)](_0x6397e3(0x2d0))[_0x6397e3(0xbe2)][_0x6397e3(0x521)](_0x6397e3(0x9b3));if(window['MathJax'])MathJax[_0x6397e3(0x894)]();}function displaySkillPracticeDrill(_0x9f6256){let _0x9b6b2f=0x0;const _0x2faa94=_0x9f6256['questions'],_0x22724b=()=>{const _0x399d7f=_0x34dc,_0x3ea02a=_0x2faa94[_0x9b6b2f],_0x48c2c1=_0x399d7f(0x510)+(_0x9b6b2f+0x1)+_0x399d7f(0xa3b)+_0x2faa94[_0x399d7f(0x4d9)]+_0x399d7f(0x7d4)+_0x3ea02a['questionText']+_0x399d7f(0x8f1)+_0x3ea02a[_0x399d7f(0xb8c)]['map']((_0x129886,_0x51edc9)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x51edc9+_0x399d7f(0x467)+_0x51edc9+_0x399d7f(0x888)+_0x51edc9+'\x22>'+_0x129886+_0x399d7f(0x2bd))[_0x399d7f(0x5b3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x399d7f(0xa1c)]=_0x48c2c1;if(window['MathJax'])MathJax[_0x399d7f(0x894)]([studentQuizArea]);document[_0x399d7f(0x82a)](_0x399d7f(0xbe7))[_0x399d7f(0x68b)](_0x399d7f(0x79e),async()=>{const _0x5a0d56=await getHintForQuestion(_0x3ea02a['questionText']);showMessage(_0x5a0d56);}),document[_0x399d7f(0x82a)](_0x399d7f(0x564))[_0x399d7f(0x68b)]('click',()=>{const _0x1710eb=_0x399d7f,_0x3bfcfb=document[_0x1710eb(0x410)](_0x1710eb(0x317));if(!_0x3bfcfb){showMessage(_0x1710eb(0x89b));return;}const _0x14e866=document[_0x1710eb(0x82a)](_0x1710eb(0x7d7)),_0x51f13a=parseInt(_0x3bfcfb[_0x1710eb(0x556)])===_0x3ea02a[_0x1710eb(0x23d)];_0x51f13a?(_0x14e866[_0x1710eb(0xbdf)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x14e866[_0x1710eb(0xa1c)]=_0x1710eb(0x80f)+_0x3ea02a['explanation']):(_0x14e866[_0x1710eb(0xbdf)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x14e866[_0x1710eb(0xa1c)]=_0x1710eb(0x52f)+_0x3ea02a[_0x1710eb(0xac7)]);_0x14e866[_0x1710eb(0xbe2)][_0x1710eb(0x521)](_0x1710eb(0x9b3));if(window[_0x1710eb(0x403)])MathJax[_0x1710eb(0x894)]([_0x14e866]);document[_0x1710eb(0x82a)](_0x1710eb(0x564))['classList'][_0x1710eb(0x5ca)](_0x1710eb(0x9b3)),document[_0x1710eb(0x82a)](_0x1710eb(0xbe7))[_0x1710eb(0xbe2)]['add'](_0x1710eb(0x9b3)),document[_0x1710eb(0x82a)](_0x1710eb(0xb42))[_0x1710eb(0xbe2)]['remove'](_0x1710eb(0x9b3));}),document[_0x399d7f(0x82a)](_0x399d7f(0xb42))[_0x399d7f(0x68b)](_0x399d7f(0x79e),()=>{const _0x3fe473=_0x399d7f;_0x9b6b2f++,_0x9b6b2f<_0x2faa94[_0x3fe473(0x4d9)]?_0x22724b():(studentQuizArea['innerHTML']=_0x3fe473(0x80e),document['getElementById'](_0x3fe473(0x3b4))[_0x3fe473(0x68b)](_0x3fe473(0x79e),()=>{const _0x502061=_0x3fe473;studentQuizArea['classList'][_0x502061(0x5ca)]('hidden'),studentResultArea[_0x502061(0xbe2)][_0x502061(0x521)](_0x502061(0x9b3));}));});};_0x22724b();}async function getHintForQuestion(_0xed0a22){const _0xc756a1=_0x5c7bd9,_0x5d6607=_0xc756a1(0x5fd)+_0xed0a22+_0xc756a1(0x3c7),_0x374224={'type':_0xc756a1(0x4f7),'properties':{'hint':{'type':_0xc756a1(0x5e7)}},'required':['hint']};try{const _0x28b16f=await callAnalysisApi(_0x5d6607,_0x374224);return _0x28b16f['hint'];}catch(_0x48335e){return console[_0xc756a1(0xb9a)](_0xc756a1(0x350),_0x48335e),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x460281){const _0xeed018=_0x5c7bd9;pdfjsLib['GlobalWorkerOptions'][_0xeed018(0xab9)]=_0xeed018(0x4b0);const _0xf29a96=await _0x460281['arrayBuffer'](),_0x405bf1=await pdfjsLib[_0xeed018(0x319)](_0xf29a96)['promise'],_0x4ce889=_0x405bf1['numPages'];let _0x7c71fe='';for(let _0x25f692=0x1;_0x25f692<=_0x4ce889;_0x25f692++){const _0x97f6c3=await _0x405bf1['getPage'](_0x25f692),_0x16ab4d=await _0x97f6c3[_0xeed018(0x884)](),_0x43365b=_0x16ab4d['items'][_0xeed018(0x98b)](_0x24f0d9=>_0x24f0d9[_0xeed018(0x3bc)])[_0xeed018(0x5b3)]('\x20');_0x7c71fe+=_0x43365b+'\x0a\x0a';}return _0x7c71fe;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x2e7ba){const _0x5c1a00=_0x5c7bd9,_0x57740c=document[_0x5c1a00(0x82a)](_0x5c1a00(0x9a4)),_0x66a5db=document['getElementById'](_0x5c1a00(0x35d)),_0x280b74=document[_0x5c1a00(0x82a)](_0x5c1a00(0x8d0));_0x57740c[_0x5c1a00(0xbe2)][_0x5c1a00(0x521)](_0x5c1a00(0x9b3)),_0x66a5db['innerHTML']=_0x5c1a00(0x5c4),_0x280b74['classList'][_0x5c1a00(0x5ca)]('hidden');try{const _0x5ecd37=_0x5c1a00(0x6d3)+_0x2e7ba+_0x5c1a00(0x70e),_0x10d4d0={'type':_0x5c1a00(0x4f7),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x5c1a00(0xace),'items':{'type':_0x5c1a00(0x4f7),'properties':{'sara':{'type':_0x5c1a00(0x5e7)},'mainTopics':{'type':'ARRAY','items':{'type':_0x5c1a00(0x4f7),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x5c1a00(0xace),'items':{'type':_0x5c1a00(0x5e7)}}},'required':[_0x5c1a00(0x32e),_0x5c1a00(0x84d)]}}},'required':[_0x5c1a00(0x7e0),'mainTopics']}}},'required':[_0x5c1a00(0x931),_0x5c1a00(0x4fc)]},_0x2bb73f=await callAnalysisApi(_0x5ecd37,_0x10d4d0);if(_0x2bb73f&&_0x2bb73f[_0x5c1a00(0x4fc)])extractedBlueprintData=_0x2bb73f,renderBlueprintTopics(_0x2bb73f),_0x280b74[_0x5c1a00(0xbe2)]['remove'](_0x5c1a00(0x9b3));else throw new Error(_0x5c1a00(0x26e));}catch(_0x308dd2){console[_0x5c1a00(0xb9a)](_0x5c1a00(0x895),_0x308dd2),_0x66a5db[_0x5c1a00(0xa1c)]=_0x5c1a00(0xb22);}}function renderBlueprintTopics(_0x54161e){const _0x23f62e=_0x5c7bd9,_0x1360f4=document[_0x23f62e(0x82a)](_0x23f62e(0x35d)),_0x575859=_0x54161e['gradeLevel'],_0x530058=_0x23f62e(0x505)+_0x575859+_0x23f62e(0x69d);let _0xd2e9cf='';_0x54161e[_0x23f62e(0x4fc)][_0x23f62e(0x883)](_0x3246e0=>{const _0x3967f6=_0x23f62e;_0xd2e9cf+=_0x3967f6(0x422)+_0x3246e0[_0x3967f6(0x7e0)]+_0x3967f6(0x7e9),_0x3246e0['mainTopics']['forEach'](_0x2e7c4a=>{const _0x3f9feb=_0x3967f6;_0xd2e9cf+=_0x3f9feb(0x61f)+_0x2e7c4a[_0x3f9feb(0x32e)]+_0x3f9feb(0x4fb),_0x2e7c4a[_0x3f9feb(0x84d)]['forEach'](_0x5816f3=>{const _0x3d3631=_0x3f9feb;_0xd2e9cf+='\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27'+_0x5816f3['replace'](/'/g,'\x5c\x27')+_0x3d3631(0xa39)+_0x575859[_0x3d3631(0x973)](/'/g,'\x5c\x27')+_0x3d3631(0x72c)+_0x5816f3+_0x3d3631(0xba4)+_0x5816f3['replace'](/'/g,'\x5c\x27')+_0x3d3631(0x67e);}),_0xd2e9cf+=_0x3f9feb(0x6b0);}),_0xd2e9cf+=_0x3967f6(0x59b);}),_0x1360f4[_0x23f62e(0xa1c)]=_0x530058+_0xd2e9cf;}async function handleGenerateTeachingContent(_0x3592e3){const _0x494d06=_0x5c7bd9,_0x208504=document['getElementById'](_0x494d06(0x2d0)),_0x2c8423=document[_0x494d06(0x82a)](_0x494d06(0xba9));document[_0x494d06(0x82a)](_0x494d06(0x6bd))[_0x494d06(0xc26)]='กำลังสร้างเนื้อหา:\x20'+_0x3592e3,_0x2c8423[_0x494d06(0xa1c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x208504[_0x494d06(0xbe2)][_0x494d06(0x521)]('hidden');try{const _0x5be5ce=_0x494d06(0xb58)+_0x3592e3+_0x494d06(0x557),_0x2a85a8={'type':_0x494d06(0x4f7),'properties':{'keyConcepts':{'type':_0x494d06(0xace),'items':{'type':_0x494d06(0x5e7)}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x494d06(0x5e7)}},'stepByStepExamples':{'type':_0x494d06(0xace),'items':{'type':_0x494d06(0x4f7),'properties':{'question':{'type':_0x494d06(0x5e7)},'solution':{'type':'STRING'}},'required':['question',_0x494d06(0x7ea)]}},'teacherTips':{'type':_0x494d06(0xace),'items':{'type':_0x494d06(0x5e7)}}},'required':[_0x494d06(0x2bf),_0x494d06(0xa55),_0x494d06(0x93b),_0x494d06(0x8ac)]},_0x8f745=await callAnalysisApi(_0x5be5ce,_0x2a85a8);displayTeachingContent(_0x8f745,_0x3592e3);}catch(_0x20c385){console[_0x494d06(0xb9a)]('Error\x20generating\x20teaching\x20content:',_0x20c385),_0x2c8423[_0x494d06(0xa1c)]=_0x494d06(0x959)+_0x20c385['message']+_0x494d06(0xc1e);}}function displayTeachingContent(_0x2b5cad,_0x599db7){const _0x3da189=_0x5c7bd9,_0x587438=document[_0x3da189(0x82a)](_0x3da189(0xba9));document[_0x3da189(0x82a)](_0x3da189(0x6bd))[_0x3da189(0xc26)]=_0x3da189(0x331)+_0x599db7;const _0x5a3b21='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x2b5cad[_0x3da189(0x2bf)]['map'](_0x146215=>_0x3da189(0x748)+_0x146215+_0x3da189(0x516))[_0x3da189(0x5b3)]('')+_0x3da189(0x743)+_0x2b5cad[_0x3da189(0xa55)][_0x3da189(0x98b)](_0x3a0458=>_0x3da189(0x748)+_0x3a0458+'</li>')[_0x3da189(0x5b3)]('')+_0x3da189(0x1f7)+_0x2b5cad['stepByStepExamples']['map'](_0x28cefa=>_0x3da189(0x532)+_0x28cefa[_0x3da189(0xb99)]+_0x3da189(0x3c8)+_0x28cefa[_0x3da189(0x7ea)]+_0x3da189(0x53e))['join']('')+_0x3da189(0x1d2)+_0x2b5cad['teacherTips'][_0x3da189(0x98b)](_0x1d8ee3=>_0x3da189(0x748)+_0x1d8ee3+'</li>')['join']('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x587438[_0x3da189(0xa1c)]=_0x5a3b21;if(window['MathJax'])MathJax['typesetPromise']([_0x587438]);}async function generateQuizForSingleTopic(_0xf9ffd6){const _0x3c6875=_0x5c7bd9;console[_0x3c6875(0x77c)](_0x3c6875(0xbca)+_0xf9ffd6+'\x22');const _0x39a883=document['getElementById'](_0x3c6875(0x77d)),_0x1abb77=_0x39a883[_0x3c6875(0x7a6)][_0x3c6875(0x4d9)]>0x0?_0x39a883['files'][0x0]:null;let _0x55fa22=null;if(_0x1abb77)try{const _0x3eb848=new FileReader();_0x3eb848['readAsDataURL'](_0x1abb77);const _0x4f38f4=await new Promise((_0x491d8e,_0x5a7c85)=>{const _0x56e952=_0x3c6875;_0x3eb848['onload']=()=>_0x491d8e(_0x3eb848['result'][_0x56e952(0x8ce)](',')[0x1]),_0x3eb848[_0x56e952(0x369)]=_0x2e3e44=>_0x5a7c85(_0x2e3e44);});_0x55fa22=[{'inlineData':{'mimeType':_0x1abb77['type'],'data':_0x4f38f4}}];}catch(_0x28b2bd){console[_0x3c6875(0xb9a)](_0x3c6875(0x721),_0x28b2bd),showMessage(_0x3c6875(0x243));return;}generateQuiz(_0xf9ffd6,null,null,_0x55fa22,!![],null,null,!![]);}async function handleGenerateFromBlueprint(){const _0x2a595e=_0x5c7bd9,_0x518ab4=document[_0x2a595e(0x82a)]('blueprint-upload-input'),_0xe44eb3=document[_0x2a595e(0x82a)](_0x2a595e(0x77d)),_0x244571=_0x518ab4['files'][0x0],_0x3bb0f1=_0xe44eb3['files']['length']>0x0?_0xe44eb3[_0x2a595e(0x7a6)][0x0]:null;if(!_0x244571){showMessage(_0x2a595e(0x51e));return;}const _0x65a0c9=document[_0x2a595e(0x82a)](_0x2a595e(0xb72)),_0xa46cc8=document[_0x2a595e(0x82a)](_0x2a595e(0x9ea)),_0x2e445a=document[_0x2a595e(0x82a)]('generated-quiz-container'),_0x3cc10f=document[_0x2a595e(0x82a)](_0x2a595e(0x6be));_0x3cc10f[_0x2a595e(0x814)]=!![],document['getElementById']('quiz-generation-area')[_0x2a595e(0xbe2)][_0x2a595e(0x521)](_0x2a595e(0x9b3)),_0x2e445a[_0x2a595e(0xa1c)]='',_0x65a0c9[_0x2a595e(0xbe2)][_0x2a595e(0x521)]('hidden');try{_0xa46cc8[_0x2a595e(0xc26)]='กำลังเตรียมไฟล์\x20Test\x20Blueprint...';const _0x201af9=new FileReader();_0x201af9[_0x2a595e(0x582)](_0x244571);const _0x597f18=await new Promise((_0x3fc3ab,_0x3e091b)=>{const _0xe5d0b5=_0x2a595e;_0x201af9[_0xe5d0b5(0x946)]=()=>_0x3fc3ab(_0x201af9[_0xe5d0b5(0x93e)][_0xe5d0b5(0x8ce)](',')[0x1]),_0x201af9['onerror']=_0x12be3e=>_0x3e091b(_0x12be3e);}),_0x15b0ba=[];if(_0x3bb0f1){_0xa46cc8[_0x2a595e(0xc26)]=_0x2a595e(0xb08);const _0x1a8527=new FileReader();_0x1a8527['readAsDataURL'](_0x3bb0f1);const _0x4a63bb=await new Promise((_0x2da61f,_0x3d3d0e)=>{const _0x2af2b1=_0x2a595e;_0x1a8527[_0x2af2b1(0x946)]=()=>_0x2da61f(_0x1a8527[_0x2af2b1(0x93e)][_0x2af2b1(0x8ce)](',')[0x1]),_0x1a8527['onerror']=_0x114fa5=>_0x3d3d0e(_0x114fa5);});_0x15b0ba['push']({'text':_0x2a595e(0x620)}),_0x15b0ba[_0x2a595e(0xbb1)]({'inlineData':{'mimeType':_0x3bb0f1[_0x2a595e(0x1cc)],'data':_0x4a63bb}});}const _0x159eb7=_0x2a595e(0xaa1),_0x2b936f=_0x2a595e(0x216),_0x343f87='\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**ภารกิจหลักสูงสุด\x20(Prime\x20Directive):**\x20เป้าหมายที่สำคัญที่สุดของคุณคือการสร้างข้อสอบที่จำลอง\x20**\x22ความซับซ้อนทางปัญญา\x22\x20(Cognitive\x20Complexity)**\x20และ\x20**\x22ลักษณะของโจทย์ประยุกต์\x22**\x20ให้ได้ใกล้เคียงกับแนวทางข้อสอบ\x20O-NET\x20มากที่สุด\x20คุณภาพของโจทย์แต่ละข้อสำคัญกว่าสิ่งอื่นใด\x0a\x0a---\x0a\x0a**ปรัชญาการสร้างโจทย์\x20(Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**การจำลองสไตล์และความยาก\x20(Style\x20&\x20Complexity\x20Replication):**\x0a\x20\x20\x20\x20*\x20**กรณีที่มีไฟล์ข้อสอบอ้างอิงแนบมาด้วย:**\x20ให้ใช้ไฟล์นี้เป็น\x20**แนวทางหลัก**\x20ในการจำลองสไตล์,\x20ระดับความซับซ้อน,\x20และลักษณะการใช้ภาษาของโจทย์\x20แต่\x20**ห้ามคัดลอก**\x20โจทย์หรือตัวเลขมาโดยตรงเด็ดขาด\x0a\x20\x20\x20\x20*\x20**กรณีที่ไม่มีไฟล์ข้อสอบอ้างอิง:**\x20ให้ใช้ความรู้ทั่วไปเกี่ยวกับแนวข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20โดยอิงตาม\x20**ระดับชั้นของตัวชี้วัดที่ระบุใน\x20Test\x20Blueprint**\x20เป็นเกณฑ์ในการสร้างโจทย์\x20โดยเน้นให้เป็นโจทย์ประยุกต์ที่มีความท้าทายเหมาะสม\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**โครงสร้างหลัก:**\x20วิเคราะห์หน้า\x20\x22คำชี้แจง\x22\x20ของไฟล์\x20PDF\x20เพื่อระบุจำนวนข้อสอบ\x20\x22ทั้งหมด\x22\x20ในแต่ละรูปแบบ\x20(เช่น\x20ปรนัย\x204\x20ตัวเลือก\x2011\x20ข้อ,\x20ระบายตัวเลข\x204\x20ข้อ)\x20และสร้างตามจำนวนนั้น\x0a2.\x20\x20**การกระจายเนื้อหา:**\x20วิเคราะห์ตาราง\x20Test\x20Blueprint\x20เพื่อจัดสรรจำนวนข้อสอบในแต่ละ\x20\x27สาระ\x27\x20และกระจายการสร้างโจทย์ให้ครอบคลุม\x20\x27สาระการเรียนรู้แกนกลาง\x27\x20และ\x20\x27ตัวชี้วัด\x27\x20ที่ระบุไว้อย่างสมดุล\x20ห้ามสร้างโจทย์จากหัวข้อย่อยเพียงหัวข้อเดียว\x0a3.\x20\x20**ลำดับคำถาม:**\x20เรียงข้อสอบตามลำดับรูปแบบที่ระบุใน\x20Test\x20Blueprint\x20(เช่น\x20ปรนัยทั้งหมดก่อน\x20ตามด้วยระบายตัวเลข)\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20(เช่น\x20$y\x20=\x20ax^2\x20+\x20b$)\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a',_0xe94927={'type':'OBJECT','properties':{'questionText':{'type':_0x2a595e(0x5e7)},'questionType':{'type':_0x2a595e(0x5e7),'enum':[_0x2a595e(0x943),'short_answer',_0x2a595e(0xb61),_0x2a595e(0x239)]},'options':{'type':_0x2a595e(0xace),'items':{'type':_0x2a595e(0x5e7)}},'correctAnswerIndex':{'type':_0x2a595e(0x5c9)},'idealAnswer':{'type':_0x2a595e(0x5e7)},'correctAnswer':{'type':_0x2a595e(0x346)},'explanation':{'type':_0x2a595e(0x5e7)},'imageCode':{'type':_0x2a595e(0x5e7)}},'required':[_0x2a595e(0x6ab),'explanation']},_0x3fb17c={'type':_0x2a595e(0x4f7),'properties':{'topic':{'type':_0x2a595e(0x5e7)},'questions':{'type':_0x2a595e(0xace),'items':_0xe94927}},'required':[_0x2a595e(0x231),_0x2a595e(0x600)]},_0x8b3075=[{'text':_0x343f87},{'inlineData':{'mimeType':_0x244571[_0x2a595e(0x1cc)],'data':_0x597f18}},..._0x15b0ba];await handleApiCall(_0x8b3075,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x3fb17c);}catch(_0x558588){console[_0x2a595e(0xb9a)]('Error\x20generating\x20from\x20blueprint:',_0x558588),showMessage('เกิดข้อผิดพลาด:\x20'+_0x558588[_0x2a595e(0x6a5)]),_0x2e445a[_0x2a595e(0xa1c)]=_0x2a595e(0x3a2);}finally{_0x65a0c9['classList'][_0x2a595e(0x5ca)](_0x2a595e(0x9b3)),_0x3cc10f[_0x2a595e(0x814)]=![];}}function proceedToNextQuestion(_0x1adf67){const _0x655634=_0x5c7bd9;studentAnswersPerQuestion['push'](_0x1adf67),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x655634(0x600)][_0x655634(0x4d9)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x471b37,_0x3721ec){const _0x1014b3=_0x5c7bd9,_0x570b01=Object[_0x1014b3(0x446)](_0x471b37[_0x1014b3(0xbc1)]||{}),_0x6475c2=_0x570b01[_0x1014b3(0x4d9)],_0xb3d733=[..._0x570b01]['sort']((_0x1a8bf8,_0x2011f3)=>_0x2011f3[_0x1014b3(0xa0f)]-_0x1a8bf8[_0x1014b3(0xa0f)]),_0x35e536=_0x471b37['currentQuestionIndex'];let _0x4e2951='';const _0x23a41d=_0x471b37[_0x1014b3(0x443)][_0x1014b3(0x600)],_0x2e2f64=_0x23a41d[_0x35e536],_0x2f2571=_0x10b337=>String[_0x1014b3(0x752)](0x41+_0x10b337);let _0x4dfd12='',_0x4fb1ae='';if(_0x2e2f64){const _0x238495=_0x2e2f64[_0x1014b3(0x6ab)]||_0x471b37[_0x1014b3(0x443)]['quizType'];if(_0x238495===_0x1014b3(0x943)&&_0x2e2f64[_0x1014b3(0xb8c)]&&_0x2e2f64['correctAnswerIndex']!==undefined){const _0x2992e4=_0x2e2f64['correctAnswerIndex'];_0x4dfd12=_0x2e2f64[_0x1014b3(0xb8c)][_0x2992e4],_0x4fb1ae=_0x2f2571(_0x2992e4)+'.';}else{if(_0x238495===_0x1014b3(0xb61)){const _0x2ef1b9=_0x2e2f64[_0x1014b3(0x684)]===!![]||String(_0x2e2f64[_0x1014b3(0x684)])[_0x1014b3(0x21d)]()===_0x1014b3(0x284);_0x2ef1b9?(_0x4dfd12=_0x1014b3(0x4cc),_0x4fb1ae='ก.'):(_0x4dfd12=_0x1014b3(0x9c7),_0x4fb1ae='ข.');}else{if(_0x238495===_0x1014b3(0x239))_0x4dfd12=_0x2e2f64['correctResponse']||'-',_0x4fb1ae='';else _0x238495===_0x1014b3(0x9a5)&&(_0x4dfd12=_0x2e2f64[_0x1014b3(0x304)]||'-',_0x4fb1ae='');}}}_0x4dfd12&&(_0x4e2951=_0x1014b3(0xa4e)+(_0x35e536+0x1)+_0x1014b3(0x412)+_0x4fb1ae+'\x20'+_0x4dfd12+_0x1014b3(0xa1b));const _0x20a2bd=_0xb3d733['map'](_0x556554=>{const _0x300ef8=_0x1014b3;let _0xc6de4c=![];if(_0x556554['answers']&&_0x35e536!==-0x1){const _0xa51486=_0x556554['answers'][_0x300ef8(0x241)](_0x23a9f9=>_0x23a9f9[_0x300ef8(0x9d6)]===_0x35e536);_0xa51486&&_0xa51486[_0x300ef8(0x548)]&&(_0xc6de4c=!![]);}const _0x69c59b=_0xc6de4c?_0x300ef8(0x31f):_0x300ef8(0x7a3);return _0x300ef8(0xa56)+_0x69c59b+'\x22><span>'+_0x556554['name']+'</span><span\x20class=\x22font-bold\x22>'+_0x556554[_0x300ef8(0xa0f)]+_0x300ef8(0xa20);})[_0x1014b3(0x5b3)](''),_0x2dd49f=_0x23a41d[_0x1014b3(0x98b)]((_0x5eb017,_0x2f4185)=>{const _0x4d43c0=_0x1014b3,_0x293b36=_0x570b01['filter'](_0x39e7bb=>_0x39e7bb[_0x4d43c0(0x775)]&&_0x39e7bb[_0x4d43c0(0x775)][_0x4d43c0(0x241)](_0x670bb5=>_0x670bb5[_0x4d43c0(0x9d6)]===_0x2f4185&&_0x670bb5[_0x4d43c0(0x548)]))[_0x4d43c0(0x4d9)],_0x32684f=_0x2f4185===_0x35e536,_0x11be0f=_0x32684f?_0x4d43c0(0xb9b):'p-2\x20bg-black/10\x20rounded-md';return _0x4d43c0(0x375)+_0x11be0f+_0x4d43c0(0x3f7)+(_0x2f4185+0x1)+_0x4d43c0(0x2c6)+_0x293b36+'\x20/\x20'+_0x6475c2+_0x4d43c0(0x29e);})[_0x1014b3(0x5b3)]('');let _0x100a21='',_0x2d1c80='';if(_0x3721ec){const _0x1cf6d8=_0x471b37[_0x1014b3(0x7d3)]>=_0x23a41d['length']-0x1;_0x100a21=_0x1014b3(0xc24)+(_0x1cf6d8?_0x1014b3(0x734):'ข้อต่อไป')+_0x1014b3(0x57f),_0x2d1c80=_0x1014b3(0xbb9);}const _0x1b3fc2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x471b37[_0x1014b3(0x443)][_0x1014b3(0x231)]+_0x1014b3(0x5a5)+_0x2d1c80+_0x1014b3(0x836)+_0x4e2951+_0x1014b3(0x8aa)+(_0x20a2bd||_0x1014b3(0x9ae))+_0x1014b3(0xbae)+_0x2dd49f+_0x1014b3(0x40f)+(_0x3721ec?_0x1014b3(0x766)+_0x100a21+_0x1014b3(0x59b):'')+_0x1014b3(0x82d);liveGameView[_0x1014b3(0xa1c)]=_0x1b3fc2;if(window[_0x1014b3(0x403)]){const _0xf9dc2=document[_0x1014b3(0x82a)](_0x1014b3(0x7cc));_0xf9dc2&&MathJax[_0x1014b3(0x894)]([_0xf9dc2]);}if(_0x3721ec){document[_0x1014b3(0x82a)](_0x1014b3(0x8ff))[_0x1014b3(0x485)]=async()=>{const _0xb74c03=_0x1014b3,_0x12a7ba=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x12d782=_0x471b37['currentQuestionIndex']+0x1;if(_0x12d782<_0x23a41d[_0xb74c03(0x4d9)]){const _0x2181aa={};Object[_0xb74c03(0x4c4)](_0x471b37[_0xb74c03(0xbc1)])[_0xb74c03(0x883)](_0x1b5c74=>{const _0x527850=_0xb74c03;_0x2181aa[_0x527850(0x9aa)+_0x1b5c74+_0x527850(0x28f)]=![],_0x2181aa[_0x527850(0x9aa)+_0x1b5c74+_0x527850(0x388)]=null;}),await updateDoc(_0x12a7ba,{..._0x2181aa,'status':'question','currentQuestionIndex':_0x12d782,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x12a7ba,{'status':_0xb74c03(0x983)});};const _0x165e89=document[_0x1014b3(0x82a)](_0x1014b3(0x2a7));_0x165e89&&(_0x165e89[_0x1014b3(0x485)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x19e777=_0x34dc,_0xa03314=doc(db,_0x19e777(0x2fd)+appId+_0x19e777(0x31e),currentLiveGameId);await updateDoc(_0xa03314,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x17e842){const _0x5c0bb0=_0x5c7bd9,_0x2019d3=document[_0x5c0bb0(0x82a)](_0x5c0bb0(0x44f)),_0x42d959=document[_0x5c0bb0(0x82a)](_0x5c0bb0(0xb30));_0x42d959[_0x5c0bb0(0xbe2)][_0x5c0bb0(0x5ca)](_0x5c0bb0(0x9b3));const _0x46feba=_0x5c0bb0(0xa54)+_0x17e842[_0x5c0bb0(0x231)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2019d3[_0x5c0bb0(0x8f9)](_0x5c0bb0(0x9fb),_0x46feba);const _0x14536a=document[_0x5c0bb0(0x82a)](_0x5c0bb0(0xa47));try{const _0x6a9f1b=_0x17e842['questions'][_0x5c0bb0(0x98b)]((_0x3dc8aa,_0x2043e8)=>{const _0x5e2c5c=_0x5c0bb0;let _0x2a3ddd=_0x2043e8+0x1+'.\x20'+(_0x3dc8aa['questionText']||_0x3dc8aa[_0x5e2c5c(0x589)])+'\x0a';if(_0x3dc8aa[_0x5e2c5c(0xb8c)])_0x2a3ddd+=_0x3dc8aa['options'][_0x5e2c5c(0x98b)]((_0xb120ec,_0x5a3839)=>'\x20\x20\x20-\x20'+(_0x5a3839===_0x3dc8aa[_0x5e2c5c(0x23d)]?_0x5e2c5c(0x923):'')+'\x20'+_0xb120ec)[_0x5e2c5c(0x5b3)]('\x0a');else _0x3dc8aa['idealAnswer']&&(_0x2a3ddd+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x3dc8aa[_0x5e2c5c(0x304)]);return _0x2a3ddd;})[_0x5c0bb0(0x5b3)]('\x0a\x0a');_0x14536a[_0x5c0bb0(0xc26)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x2e4363='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x17e842[_0x5c0bb0(0x231)]+_0x5c0bb0(0xc27)+_0x6a9f1b+_0x5c0bb0(0x305)+simpleMathPrompt+_0x5c0bb0(0x29a),_0x1cc351={'type':_0x5c0bb0(0x4f7),'properties':{'questionText':{'type':_0x5c0bb0(0x5e7)},'questionType':{'type':_0x5c0bb0(0x5e7),'enum':[_0x5c0bb0(0x943),'short_answer','true_false',_0x5c0bb0(0x239)]},'options':{'type':_0x5c0bb0(0xace),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x5c0bb0(0x5e7)},'correctAnswer':{'type':_0x5c0bb0(0x346)},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x5c0bb0(0x5e7)},'imageCode':{'type':_0x5c0bb0(0x5e7)}},'required':[_0x5c0bb0(0x6ab),'explanation']},_0x201daf={'type':_0x5c0bb0(0x4f7),'properties':{'topic':{'type':_0x5c0bb0(0x5e7)},'questions':{'type':'ARRAY','items':_0x1cc351}},'required':['topic',_0x5c0bb0(0x600)]},_0x39ac2e=await callAnalysisApi(_0x2e4363,_0x201daf),_0x347881=_0x39ac2e[_0x5c0bb0(0x600)]['map']((_0x173fa7,_0x5cfaeb)=>({..._0x173fa7,'id':'q_'+Date[_0x5c0bb0(0x8cd)]()+'_'+_0x5cfaeb})),_0xaa6770=_0x5c0bb0(0x7e7)+_0x17e842[_0x5c0bb0(0x231)],_0x5cbbed={'topic':_0xaa6770,'questions':_0x347881,'quizType':_0x17e842[_0x5c0bb0(0x738)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x5c0bb0(0x458),'settings':_0x17e842['settings'],'quizMode':_0x5c0bb0(0xb11),'pairedQuizId':null,'lessonPlan':null};let _0x3db26f;while(!![]){_0x3db26f=Math['floor'](0x3e8+Math[_0x5c0bb0(0xb68)]()*0x2328)['toString']();const _0x63140f=await getDoc(doc(db,_0x5c0bb0(0x2fd)+appId+'/public/data/quizzes',_0x3db26f));if(!_0x63140f[_0x5c0bb0(0x4a4)]())break;}await setDoc(doc(db,_0x5c0bb0(0x2fd)+appId+_0x5c0bb0(0x74e),_0x3db26f),_0x5cbbed),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x28e9eb){console[_0x5c0bb0(0xb9a)](_0x5c0bb0(0x30b),_0x28e9eb),showMessage('เกิดข้อผิดพลาด:\x20'+_0x28e9eb[_0x5c0bb0(0x6a5)]);}finally{const _0x4e6f95=document['getElementById'](_0x5c0bb0(0x8bd));_0x4e6f95&&_0x4e6f95[_0x5c0bb0(0x521)](),_0x42d959[_0x5c0bb0(0xbe2)][_0x5c0bb0(0x521)](_0x5c0bb0(0x9b3));}}async function handleGenerateParallelPostTest(_0x1384d6){const _0x3baafa=_0x5c7bd9,_0x1ab488=document[_0x3baafa(0x82a)](_0x3baafa(0x44f)),_0x23bca9=document[_0x3baafa(0x82a)](_0x3baafa(0xb30));_0x23bca9[_0x3baafa(0xbe2)][_0x3baafa(0x5ca)](_0x3baafa(0x9b3));const _0x24723b=_0x3baafa(0x1c7);_0x1ab488['insertAdjacentHTML'](_0x3baafa(0x9fb),_0x24723b);try{const _0x40cb8b=_0x1384d6[_0x3baafa(0x600)][_0x3baafa(0x98b)]((_0x56bdca,_0xecb9e1)=>{const _0x2662bd=_0x3baafa;let _0x267b99=_0xecb9e1+0x1+'.\x20'+(_0x56bdca[_0x2662bd(0xbc9)]||_0x56bdca['stem']);if(_0x56bdca['options'])_0x267b99+=_0x2662bd(0xab7)+_0x56bdca[_0x2662bd(0xb8c)][_0x2662bd(0x5b3)](',\x20');return _0x267b99;})[_0x3baafa(0x5b3)]('\x0a\x0a'),_0x275b00=_0x3baafa(0x1f5)+_0x1384d6[_0x3baafa(0x231)]+_0x3baafa(0xbb6)+_0x40cb8b+_0x3baafa(0x90d)+simpleMathPrompt+_0x3baafa(0x29a),_0x5bb186={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3baafa(0xace),'items':{'type':_0x3baafa(0x4f7),'properties':{'questionText':{'type':_0x3baafa(0x5e7)},'questionType':{'type':_0x3baafa(0x5e7)},'options':{'type':_0x3baafa(0xace),'items':{'type':_0x3baafa(0x5e7)}},'correctAnswerIndex':{'type':_0x3baafa(0x5c9)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'}},'required':[_0x3baafa(0xbc9),_0x3baafa(0xac7)]}}},'required':[_0x3baafa(0x231),_0x3baafa(0x600)]},_0x5870d1=await callAnalysisApi(_0x275b00,_0x5bb186),_0x3f6ca6=_0x1384d6[_0x3baafa(0x231)][_0x3baafa(0x973)](_0x3baafa(0x7ca),'')[_0x3baafa(0xbde)](),_0x5b06b9=_0x3baafa(0x23a)+_0x3f6ca6,_0x1b8336={..._0x5870d1,'topic':_0x5b06b9,'quizType':_0x1384d6[_0x3baafa(0x738)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x3baafa(0x458),'settings':_0x1384d6[_0x3baafa(0x597)],'quizMode':'post-test','pairedQuizId':_0x1384d6['id']};let _0x160a94;while(!![]){_0x160a94=Math[_0x3baafa(0x33f)](0x3e8+Math[_0x3baafa(0xb68)]()*0x2328)[_0x3baafa(0x454)]();const _0x573b66=await getDoc(doc(db,_0x3baafa(0x2fd)+appId+_0x3baafa(0x74e),_0x160a94));if(!_0x573b66[_0x3baafa(0x4a4)]())break;}await setDoc(doc(db,_0x3baafa(0x2fd)+appId+_0x3baafa(0x74e),_0x160a94),_0x1b8336);const _0x27aa9d=doc(db,_0x3baafa(0x2fd)+appId+_0x3baafa(0x74e),_0x1384d6['id']);await updateDoc(_0x27aa9d,{'pairedQuizId':_0x160a94}),showMessage(_0x3baafa(0x3ce));}catch(_0x2fa508){console[_0x3baafa(0xb9a)](_0x3baafa(0x78c),_0x2fa508),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2fa508[_0x3baafa(0x6a5)]);}finally{const _0x460eb3=document['getElementById']('temp-loader-results');if(_0x460eb3)_0x460eb3[_0x3baafa(0x521)]();_0x23bca9[_0x3baafa(0xbe2)][_0x3baafa(0x521)](_0x3baafa(0x9b3));}}async function handleGenerateParallelTest(){const _0xbca870=_0x5c7bd9,_0x43d803=document[_0xbca870(0x82a)](_0xbca870(0x56f)),_0x11d186=_0x43d803[_0xbca870(0x7a6)][0x0];if(!_0x11d186){showMessage(_0xbca870(0x233));return;}const _0x1ce22d=document['getElementById'](_0xbca870(0xb72)),_0xfc31ce=document[_0xbca870(0x82a)](_0xbca870(0x9ea)),_0x4b74c9=document[_0xbca870(0x82a)](_0xbca870(0x71b)),_0x90dd47=document['getElementById'](_0xbca870(0x58a));_0x90dd47[_0xbca870(0x814)]=!![],document[_0xbca870(0x82a)]('quiz-generation-area')[_0xbca870(0xbe2)][_0xbca870(0x521)](_0xbca870(0x9b3)),_0x4b74c9[_0xbca870(0xa1c)]='',_0x1ce22d[_0xbca870(0xbe2)][_0xbca870(0x521)]('hidden'),_0xfc31ce[_0xbca870(0xc26)]=_0xbca870(0x7bb);const _0x5bb104=new FileReader();_0x5bb104[_0xbca870(0x582)](_0x11d186),_0x5bb104['onload']=async()=>{const _0x3a79f4=_0xbca870;try{const _0x54d29d=_0x5bb104[_0x3a79f4(0x93e)][_0x3a79f4(0x8ce)](',')[0x1],_0x14b23b=_0x11d186['type'];_0xfc31ce['textContent']=_0x3a79f4(0x1cd);const _0x30d7f6=document[_0x3a79f4(0x82a)]('include-images-checkbox')[_0x3a79f4(0x4be)],_0x134caa=_0x30d7f6?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x29c97b=_0x3a79f4(0xb83)+_0x134caa+_0x3a79f4(0x965)+simpleMathPrompt+_0x3a79f4(0x63f),_0x3f68d6={'type':_0x3a79f4(0x4f7),'properties':{'questionText':{'type':_0x3a79f4(0x5e7)},'questionType':{'type':_0x3a79f4(0x5e7),'enum':['multiple_choice',_0x3a79f4(0x9a5)]},'options':{'type':'ARRAY','items':{'type':_0x3a79f4(0x5e7)}},'correctAnswerIndex':{'type':_0x3a79f4(0x5c9)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3a79f4(0x5e7)},'imageCode':{'type':'STRING'}},'required':[_0x3a79f4(0xbc9),_0x3a79f4(0x6ab),_0x3a79f4(0xac7)]},_0x4ede38={'type':_0x3a79f4(0x4f7),'properties':{'topic':{'type':_0x3a79f4(0x5e7)},'questions':{'type':_0x3a79f4(0xace),'items':_0x3f68d6}},'required':[_0x3a79f4(0x231),_0x3a79f4(0x600)]},_0x4048e2=[{'text':_0x29c97b},{'inlineData':{'mimeType':_0x14b23b,'data':_0x54d29d}}];await handleApiCall(_0x4048e2,_0x3a79f4(0x339),_0x4ede38);}catch(_0x3d5a8f){console[_0x3a79f4(0xb9a)](_0x3a79f4(0x771),_0x3d5a8f),showMessage(_0x3a79f4(0x390)+_0x3d5a8f[_0x3a79f4(0x6a5)]),_0x4b74c9[_0x3a79f4(0xa1c)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x1ce22d[_0x3a79f4(0xbe2)][_0x3a79f4(0x5ca)]('hidden'),_0x90dd47[_0x3a79f4(0x814)]=![];}},_0x5bb104[_0xbca870(0x369)]=_0x708c6f=>{const _0x3e2de4=_0xbca870;console['error'](_0x3e2de4(0x595),_0x708c6f),showMessage(_0x3e2de4(0x260)),_0x1ce22d[_0x3e2de4(0xbe2)]['add'](_0x3e2de4(0x9b3)),_0x90dd47[_0x3e2de4(0x814)]=![];};}async function handleRegenerateQuestionInEditor(_0x4a6f77){const _0x11490d=_0x5c7bd9;if(currentEditingQuizData===null)return;const _0x54ed61=document[_0x11490d(0x410)](_0x11490d(0x3d5)+_0x4a6f77+'\x22]');_0x54ed61&&(_0x54ed61[_0x11490d(0xa1c)]=_0x11490d(0xa18));const _0xed4c0d=currentEditingQuizData[_0x11490d(0x600)][_0x4a6f77],_0x13f775=currentEditingQuizData[_0x11490d(0x231)],_0x42b02f=_0xed4c0d[_0x11490d(0x6ab)],_0x3b1a01={'type':'OBJECT','properties':{'questionText':{'type':_0x11490d(0x5e7)},'options':{'type':_0x11490d(0xace),'items':{'type':_0x11490d(0x5e7)}},'correctAnswerIndex':{'type':_0x11490d(0x5c9)},'explanation':{'type':_0x11490d(0x5e7)}},'required':['questionText','options',_0x11490d(0x23d),_0x11490d(0xac7)]},_0x3059d5={'type':_0x11490d(0x4f7),'properties':{'questionText':{'type':_0x11490d(0x5e7)},'idealAnswer':{'type':_0x11490d(0x5e7)},'explanation':{'type':'STRING'}},'required':[_0x11490d(0xbc9),'idealAnswer','explanation']};let _0xb5f497,_0x4d0415='';_0x42b02f===_0x11490d(0x943)?(_0xb5f497=_0x3b1a01,_0x4d0415=_0x11490d(0xb7a)):(_0xb5f497=_0x3059d5,_0x4d0415=_0x11490d(0x2c2));const _0x49f300=_0x11490d(0xa72)+_0x13f775+_0x11490d(0x648)+_0x4d0415+_0x11490d(0x7d2)+(_0xed4c0d['questionText']||_0xed4c0d['stem'])+'\x22.\x20'+simpleMathPrompt;try{const _0x753668=await callAnalysisApi(_0x49f300,_0xb5f497);currentEditingQuizData['questions'][_0x4a6f77]={..._0xed4c0d,..._0x753668},renderQuizEditor(currentEditingQuizData);}catch(_0xd7b000){console['error'](_0x11490d(0x6f8),_0xd7b000),showMessage(_0x11490d(0x8a5)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x30ce6b=_0x5c7bd9,_0x460464=document['getElementById'](_0x30ce6b(0x355));currentMode===_0x30ce6b(0x73c)?(currentMode=_0x30ce6b(0x1f3),_0x460464['innerHTML']=_0x30ce6b(0xb1c),_0x460464[_0x30ce6b(0x947)]=_0x30ce6b(0x789),showView('admin-dashboard')):(currentMode='student',_0x460464['innerHTML']=_0x30ce6b(0x1e9),_0x460464[_0x30ce6b(0x947)]=_0x30ce6b(0x6e4),showView(_0x30ce6b(0x73c)));}function handleAdminLogin(){const _0x7f49ad=_0x5c7bd9,_0x13c1e6=document[_0x7f49ad(0x82a)](_0x7f49ad(0x6e5)),_0x415800=document[_0x7f49ad(0x82a)]('password-error-msg');if(_0x13c1e6[_0x7f49ad(0x556)]===_0x7f49ad(0xb0e)){adminPasswordModal[_0x7f49ad(0xbe2)][_0x7f49ad(0x5ca)](_0x7f49ad(0x9b3)),_0x13c1e6[_0x7f49ad(0x556)]='',_0x415800[_0x7f49ad(0xbe2)][_0x7f49ad(0x5ca)](_0x7f49ad(0x9b3)),currentMode=_0x7f49ad(0x1f3);const _0x550743=document[_0x7f49ad(0x82a)](_0x7f49ad(0x355));_0x550743[_0x7f49ad(0xa1c)]=_0x7f49ad(0xb1c),_0x550743[_0x7f49ad(0x947)]='สลับไปโหมดนักเรียน',showView(_0x7f49ad(0x80b));}else _0x415800[_0x7f49ad(0xbe2)]['remove'](_0x7f49ad(0x9b3)),_0x13c1e6['value']='';}function switchProjectTab(_0x56f8ba){const _0x3fa892=_0x5c7bd9;[_0x3fa892(0x301),_0x3fa892(0x846),_0x3fa892(0x3a4)]['forEach'](_0x1aa370=>{const _0x50e933=_0x3fa892;document[_0x50e933(0x82a)](_0x1aa370+'-tab')['classList'][_0x50e933(0x521)]('active'),document[_0x50e933(0x82a)](_0x1aa370+'-tab-content')[_0x50e933(0xbe2)]['add'](_0x50e933(0x9b3));}),document['getElementById'](_0x56f8ba+'-tab')[_0x3fa892(0xbe2)][_0x3fa892(0x5ca)](_0x3fa892(0x458)),document[_0x3fa892(0x82a)](_0x56f8ba+_0x3fa892(0xb92))[_0x3fa892(0xbe2)][_0x3fa892(0x521)](_0x3fa892(0x9b3));}function switchQuizDetailTab(_0x51f15b){const _0x7706a6=_0x5c7bd9,_0x13ac2b={'analytics':{'btn':_0x7706a6(0x7eb),'content':'analytics-tab-content'},'scores':{'btn':_0x7706a6(0xaff),'content':_0x7706a6(0x572)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x7706a6(0x8c8)},'behavior-log':{'btn':_0x7706a6(0x5ac),'content':_0x7706a6(0x99e)}};for(const _0x37a507 in _0x13ac2b){document[_0x7706a6(0x82a)](_0x13ac2b[_0x37a507][_0x7706a6(0x861)])[_0x7706a6(0xbe2)]['remove'](_0x7706a6(0x458)),document[_0x7706a6(0x82a)](_0x13ac2b[_0x37a507][_0x7706a6(0x3e0)])[_0x7706a6(0xbe2)][_0x7706a6(0x5ca)](_0x7706a6(0x9b3));}document[_0x7706a6(0x82a)](_0x13ac2b[_0x51f15b][_0x7706a6(0x861)])[_0x7706a6(0xbe2)][_0x7706a6(0x5ca)](_0x7706a6(0x458)),document[_0x7706a6(0x82a)](_0x13ac2b[_0x51f15b][_0x7706a6(0x3e0)])[_0x7706a6(0xbe2)][_0x7706a6(0x521)](_0x7706a6(0x9b3));}function showMessage(_0x2088bd,_0x30770b=null){const _0x391552=_0x5c7bd9;modalMessage[_0x391552(0xc26)]=_0x2088bd,modalConfirmAction=_0x30770b,messageModal['classList'][_0x391552(0x521)](_0x391552(0x9b3));}function showConfirmation(_0x25a307,_0x400708){const _0x53d006=_0x5c7bd9;document[_0x53d006(0x82a)](_0x53d006(0x3e9))[_0x53d006(0xc26)]=_0x25a307,document['getElementById'](_0x53d006(0x34d))[_0x53d006(0x410)]('h3')[_0x53d006(0xc26)]=_0x53d006(0x8cc),confirmAction=_0x400708,confirmationModal[_0x53d006(0xbe2)][_0x53d006(0x521)](_0x53d006(0x9b3));}function listenForProjects(){const _0x54c006=_0x5c7bd9,_0x5e9843=doc(db,_0x54c006(0x52c),_0x54c006(0x839));onSnapshot(_0x5e9843,_0x3d3285=>{const _0x16d643=_0x54c006;if(_0x3d3285['exists']()){const _0x37995a=_0x3d3285[_0x16d643(0x958)]();globalDashboardSettings['projectSort']=_0x37995a[_0x16d643(0x8c6)]||_0x16d643(0x274),globalDashboardSettings['pinnedProjects']=_0x37995a[_0x16d643(0x2f9)]||[],globalDashboardSettings['projectOrder']=_0x37995a['projectOrder']||[];}allProjects[_0x16d643(0x4d9)]>0x0&&renderProjects();});const _0x145066=collection(db,'artifacts/'+appId+_0x54c006(0x3eb));unsubscribeProjectsListener=onSnapshot(_0x145066,_0x5c59ce=>{const _0x51bd9c=_0x54c006;allProjects=_0x5c59ce[_0x51bd9c(0x795)]['map'](_0x152a9c=>({'id':_0x152a9c['id'],..._0x152a9c[_0x51bd9c(0x958)]()})),renderProjects();},_0x30e770=>{const _0x43cd09=_0x54c006;console['error'](_0x43cd09(0x397),_0x30e770),showMessage(_0x43cd09(0x8ab));});}function showColorPalette(_0x416a72,_0xd74853){const _0x3bf605=_0x5c7bd9;document[_0x3bf605(0xb24)](_0x3bf605(0x2f0))['forEach'](_0x252b64=>_0x252b64[_0x3bf605(0x521)]());const _0x175e2e=[_0x3bf605(0x728),_0x3bf605(0x6ff),_0x3bf605(0xa61),'#D1FAE5',_0x3bf605(0x35a),_0x3bf605(0x643),'#F3E8FF',_0x3bf605(0x6de),'#E5E7EB'],_0x345ca3=document['createElement']('div');_0x345ca3[_0x3bf605(0xbdf)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x175e2e['forEach'](_0x1e388f=>{const _0x10f950=_0x3bf605,_0x5509a1=document['createElement'](_0x10f950(0x8d6));_0x5509a1[_0x10f950(0xbdf)]=_0x10f950(0xa7a),_0x5509a1[_0x10f950(0x95f)][_0x10f950(0xaf3)]=_0x1e388f,_0x5509a1[_0x10f950(0x68b)](_0x10f950(0x79e),()=>{const _0x598e6a=_0x10f950;handleProjectColorChange(_0xd74853,_0x1e388f),_0x345ca3[_0x598e6a(0x521)]();}),_0x345ca3[_0x10f950(0x70c)](_0x5509a1);}),document[_0x3bf605(0xab8)][_0x3bf605(0x70c)](_0x345ca3);const _0x843ffa=_0x416a72[_0x3bf605(0x541)]();_0x345ca3[_0x3bf605(0x95f)][_0x3bf605(0xbc7)]=_0x843ffa[_0x3bf605(0x3b6)]+window[_0x3bf605(0x38e)]+'px',_0x345ca3[_0x3bf605(0x95f)][_0x3bf605(0x4d5)]=_0x843ffa['left']+window['scrollX']-_0x345ca3['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x30eb5a,_0x5ecf56){const _0x47fa6b=_0x5c7bd9,_0x3d9eb6=doc(db,_0x47fa6b(0x2fd)+appId+_0x47fa6b(0x3eb),_0x30eb5a);try{await updateDoc(_0x3d9eb6,{'color':_0x5ecf56});}catch(_0x3b06b0){console[_0x47fa6b(0xb9a)](_0x47fa6b(0x8a2),_0x3b06b0),showMessage(_0x47fa6b(0x887));}}async function renderProjects(){const _0x51d356=_0x5c7bd9,_0xcce88d=globalDashboardSettings[_0x51d356(0x8c6)]||_0x51d356(0x274),_0x14a028=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x40fa79=globalDashboardSettings[_0x51d356(0x69a)]||_0x51d356(0x36e),_0x2c02e6=document[_0x51d356(0x82a)]('grid-view-btn'),_0x4d0160=document[_0x51d356(0x82a)](_0x51d356(0x5fb));_0x2c02e6[_0x51d356(0xbe2)]['toggle'](_0x51d356(0x458),_0x40fa79===_0x51d356(0x36e)),_0x4d0160[_0x51d356(0xbe2)][_0x51d356(0x6e9)](_0x51d356(0x458),_0x40fa79===_0x51d356(0x4b9)),document[_0x51d356(0x82a)](_0x51d356(0x4ed))[_0x51d356(0x556)]=_0xcce88d;const _0x569fdc=document[_0x51d356(0x82a)]('project-search-input')[_0x51d356(0x556)][_0x51d356(0x21d)]();let _0x445108=allProjects['filter'](_0x315068=>_0x315068[_0x51d356(0x5da)][_0x51d356(0x21d)]()[_0x51d356(0x918)](_0x569fdc));const _0x2b55ac=_0x445108[_0x51d356(0x920)](_0x2e7420=>_0x14a028['has'](_0x2e7420['id'])),_0x3b9097=_0x445108[_0x51d356(0x920)](_0xb71342=>!_0x14a028[_0x51d356(0x790)](_0xb71342['id'])),_0x41be90=(_0x300db1,_0x5f522a)=>{const _0x3ed18b=_0x51d356;switch(_0xcce88d){case _0x3ed18b(0xa77):return _0x300db1[_0x3ed18b(0x5da)]['localeCompare'](_0x5f522a['projectName'],'th');case _0x3ed18b(0x833):return _0x5f522a[_0x3ed18b(0x5da)][_0x3ed18b(0x318)](_0x300db1[_0x3ed18b(0x5da)],'th');case _0x3ed18b(0x9da):return new Date(_0x300db1['createdAt'])-new Date(_0x5f522a[_0x3ed18b(0x841)]);default:return new Date(_0x5f522a[_0x3ed18b(0x841)])-new Date(_0x300db1[_0x3ed18b(0x841)]);}};_0x2b55ac[_0x51d356(0x74a)](_0x41be90),_0x3b9097[_0x51d356(0x74a)](_0x41be90);const _0x2891db=[..._0x2b55ac,..._0x3b9097],_0x54eee2=globalDashboardSettings[_0x51d356(0xa41)]||[];_0x54eee2[_0x51d356(0x4d9)]>0x0&&_0x40fa79===_0x51d356(0x36e)&&_0x2891db['sort']((_0x4c2655,_0x3dbae7)=>{const _0x5b2302=_0x54eee2['indexOf'](_0x4c2655['id']),_0x5093b1=_0x54eee2['indexOf'](_0x3dbae7['id']);if(_0x5b2302===-0x1)return 0x1;if(_0x5093b1===-0x1)return-0x1;return _0x5b2302-_0x5093b1;});const _0x1a59f1={};await Promise[_0x51d356(0x371)](_0x2891db[_0x51d356(0x98b)](async _0x33b335=>{const _0x33fe59=_0x51d356,_0x4293fd=query(collection(db,_0x33fe59(0x2fd)+appId+_0x33fe59(0x74e)),where('projectId','==',_0x33b335['id'])),_0x24fc1a=await getDocs(_0x4293fd);_0x1a59f1[_0x33b335['id']]=_0x24fc1a['size'];}));const _0x557408=document[_0x51d356(0x82a)]('project-list');let _0x2db753='';if(_0x40fa79===_0x51d356(0x36e)){_0x557408['className']='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes['length']>0x0&&_0x569fdc===''){const _0x4afc4c=starredQuizzes[_0x51d356(0x98b)](_0x52dd76=>{const _0x77e4a9=_0x51d356,_0x321072=allProjects[_0x77e4a9(0x241)](_0x29976d=>_0x29976d['id']===_0x52dd76[_0x77e4a9(0x571)]);return{..._0x52dd76,'projectName':_0x321072?_0x321072[_0x77e4a9(0x5da)]:'N/A'};});_0x2db753+=_0x51d356(0x636)+_0x4afc4c['map'](_0x25eee0=>_0x51d356(0x415)+_0x25eee0[_0x51d356(0x231)]+'\x22>'+_0x25eee0[_0x51d356(0x231)]+_0x51d356(0x812)+_0x25eee0[_0x51d356(0x5da)]+_0x51d356(0x5b5)+_0x25eee0[_0x51d356(0x5da)]+_0x51d356(0x523))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x51d356(0x4d9)]+_0x51d356(0xa2c);}_0x2891db[_0x51d356(0x883)](_0x5d29a6=>{const _0x1c0573=_0x51d356,_0x384376=_0x1a59f1[_0x5d29a6['id']]??0x0,_0x5bde07=_0x14a028['has'](_0x5d29a6['id']),_0x56b98b=_0x5d29a6[_0x1c0573(0x2f3)]||_0x1c0573(0x728),_0x5047a9=parseInt(_0x56b98b[_0x1c0573(0x4c2)](0x1,0x3),0x10)*0.299+parseInt(_0x56b98b['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x56b98b[_0x1c0573(0x4c2)](0x5,0x7),0x10)*0.114<0xba,_0x498690=_0x5047a9?'text-white':'text-indigo-800',_0x292dd6=_0x5047a9?_0x1c0573(0x59e):_0x1c0573(0x9bf);_0x2db753+=_0x1c0573(0x6e0)+(_0x5bde07?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x1c0573(0xae2))+_0x1c0573(0x4a3)+_0x56b98b+';\x22\x20data-id=\x22'+_0x5d29a6['id']+_0x1c0573(0x9f4)+_0x5d29a6['id']+_0x1c0573(0x228)+(_0x5047a9?_0x1c0573(0xa00):_0x1c0573(0xb2c))+_0x1c0573(0x5bb)+_0x5d29a6['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x5047a9?_0x1c0573(0xa00):'text-gray-400\x20hover:text-indigo-600')+_0x1c0573(0x670)+(_0x5bde07?_0x5047a9?_0x1c0573(0x998):_0x1c0573(0x378):'')+_0x1c0573(0x904)+_0x5d29a6['id']+_0x1c0573(0x5a8)+_0x498690+_0x1c0573(0x24d)+_0x5d29a6[_0x1c0573(0x5da)]+_0x1c0573(0x5c3)+_0x292dd6+_0x1c0573(0x858)+new Date(_0x5d29a6[_0x1c0573(0x841)])['toLocaleDateString'](_0x1c0573(0x88f))+_0x1c0573(0xa68)+(_0x5047a9?'text-gray-100':_0x1c0573(0x644))+_0x1c0573(0x9fe)+_0x384376+_0x1c0573(0x7c1)+_0x5d29a6['id']+_0x1c0573(0xb4c)+_0x5d29a6['projectName']+_0x1c0573(0x8dc)+(_0x5047a9?_0x1c0573(0x534):_0x1c0573(0xa65))+_0x1c0573(0x769);});}else _0x557408['className']='flex\x20flex-col\x20gap-2',starredQuizzes[_0x51d356(0x4d9)]>0x0&&_0x569fdc===''&&(_0x2db753+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x51d356(0x4d9)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x2db753+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x2891db['forEach'](_0x591d95=>{const _0x3e4b34=_0x51d356,_0x38b85e=_0x1a59f1[_0x591d95['id']]??0x0,_0x2065b6=_0x14a028[_0x3e4b34(0x790)](_0x591d95['id']);_0x2db753+=_0x3e4b34(0x786)+(_0x591d95[_0x3e4b34(0x2f3)]||_0x3e4b34(0xba3))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x591d95['id']+_0x3e4b34(0x73e)+_0x591d95['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x38b85e+_0x3e4b34(0x69c)+new Date(_0x591d95[_0x3e4b34(0x841)])[_0x3e4b34(0xc10)](_0x3e4b34(0x88f))+_0x3e4b34(0x3ae)+_0x591d95['id']+_0x3e4b34(0x6d7)+(_0x2065b6?_0x3e4b34(0x378):'')+_0x3e4b34(0xb70)+_0x591d95['id']+_0x3e4b34(0xb4c)+_0x591d95['projectName']+_0x3e4b34(0x979);});projectList[_0x51d356(0xa1c)]=_0x2db753,noProjectsMsg[_0x51d356(0xbe2)][_0x51d356(0x6e9)](_0x51d356(0x9b3),_0x2db753[_0x51d356(0x4d9)]>0x0);}document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x3f0))[_0x5c7bd9(0x68b)]('click',async()=>{const _0x3e0b34=_0x5c7bd9,_0x2a2968=document[_0x3e0b34(0x82a)](_0x3e0b34(0x5b9)),_0x57d180=_0x2a2968['value'][_0x3e0b34(0xbde)]();if(!_0x57d180){showMessage(_0x3e0b34(0x4bc));return;}try{const _0x400f16=doc(collection(db,'artifacts/'+appId+_0x3e0b34(0x3eb)));await setDoc(_0x400f16,{'projectName':_0x57d180,'students':[],'settings':{'resultsDisplay':_0x3e0b34(0x5b8),'shuffleSetting':_0x3e0b34(0xab4),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x3e0b34(0xab4),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x2a2968[_0x3e0b34(0x556)]='',createProjectModal['classList'][_0x3e0b34(0x5ca)](_0x3e0b34(0x9b3)),showMessage(_0x3e0b34(0xa58));}catch(_0x25b077){console[_0x3e0b34(0xb9a)](_0x3e0b34(0x92d),_0x25b077),showMessage(_0x3e0b34(0xc1d));}}),projectList[_0x5c7bd9(0x68b)](_0x5c7bd9(0x79e),async _0x346b4f=>{const _0x15c4ef=_0x5c7bd9,_0x5389e7=_0x346b4f[_0x15c4ef(0x5a4)]['closest']('.project-card-content'),_0xf5f269=_0x346b4f[_0x15c4ef(0x5a4)][_0x15c4ef(0x2d9)](_0x15c4ef(0x8f5)),_0x595a81=_0x346b4f[_0x15c4ef(0x5a4)][_0x15c4ef(0x2d9)](_0x15c4ef(0x6ea)),_0x18b699=_0x346b4f[_0x15c4ef(0x5a4)][_0x15c4ef(0x2d9)](_0x15c4ef(0x785));if(_0x595a81){const _0x4170dd=_0x595a81['dataset']['id'],_0x3401e8=doc(db,_0x15c4ef(0x52c),'dashboardConfig'),_0x58d727=globalDashboardSettings['pinnedProjects'];let _0xd69f38;_0x58d727[_0x15c4ef(0x918)](_0x4170dd)?_0xd69f38=_0x58d727[_0x15c4ef(0x920)](_0x503f07=>_0x503f07!==_0x4170dd):_0xd69f38=[..._0x58d727,_0x4170dd];try{await setDoc(_0x3401e8,{'pinnedProjects':_0xd69f38},{'merge':!![]});}catch(_0x3971cf){console[_0x15c4ef(0xb9a)]('Error\x20updating\x20pin\x20status:',_0x3971cf),showMessage(_0x15c4ef(0x9eb));}}else{if(_0x18b699){const _0x292411=_0x18b699['dataset']['id'];showColorPalette(_0x18b699,_0x292411);}else{if(_0x5389e7){const _0x5b9189=_0x5389e7[_0x15c4ef(0x6d1)]['id'];_0x5b9189===_0x15c4ef(0x7dc)?showStarredProjectView():(currentProjectId=_0x5b9189,await loadProjectDetails(currentProjectId),showView(_0x15c4ef(0xbd7)));}else{if(_0xf5f269){const _0xad9852=_0xf5f269['dataset']['id'],_0x125cbb=_0xf5f269['dataset']['name'];showConfirmation(_0x15c4ef(0xa6b)+_0x125cbb+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0xad9852));}}}}}),projectList[_0x5c7bd9(0x68b)](_0x5c7bd9(0x96c),_0x4fea68=>{const _0x3cb3a1=_0x5c7bd9,_0x1397f5=_0x4fea68['target'][_0x3cb3a1(0x2d9)](_0x3cb3a1(0x400));_0x1397f5&&_0x1397f5[_0x3cb3a1(0xbe2)]['add'](_0x3cb3a1(0xbeb));}),projectList[_0x5c7bd9(0x68b)](_0x5c7bd9(0x28a),_0xb66b60=>{const _0x5f0ef9=_0x5c7bd9,_0x12427b=_0xb66b60[_0x5f0ef9(0x5a4)]['closest'](_0x5f0ef9(0x400));_0x12427b&&_0x12427b[_0x5f0ef9(0xbe2)][_0x5f0ef9(0x521)](_0x5f0ef9(0xbeb));}),projectList['addEventListener'](_0x5c7bd9(0x604),_0x1efe2d=>{const _0x4102d1=_0x5c7bd9;_0x1efe2d[_0x4102d1(0xa73)]();const _0x1c1f9f=document[_0x4102d1(0x410)](_0x4102d1(0x9db));if(!_0x1c1f9f)return;const _0x4bbb68=getDragAfterElement(projectList,_0x1efe2d[_0x4102d1(0x394)]);_0x4bbb68==null?projectList[_0x4102d1(0x70c)](_0x1c1f9f):projectList[_0x4102d1(0x6f4)](_0x1c1f9f,_0x4bbb68);}),projectList[_0x5c7bd9(0x68b)](_0x5c7bd9(0x5a1),_0x2d3278=>{const _0x1d43b3=_0x5c7bd9;_0x2d3278['preventDefault']();const _0x12ffcd=[...projectList['querySelectorAll'](_0x1d43b3(0x924))]['map'](_0x39d943=>_0x39d943[_0x1d43b3(0x6d1)]['id']);saveProjectOrder(_0x12ffcd);});function renderBehaviorLog(_0x4d1d70){const _0x41b80c=_0x5c7bd9,_0x379627=document[_0x41b80c(0x82a)]('behavior-log-container');if(!_0x379627)return;const _0x2dde74=_0x4d1d70[_0x41b80c(0x920)](_0x26973b=>_0x26973b[_0x41b80c(0x610)]&&_0x26973b[_0x41b80c(0x610)][_0x41b80c(0x4d9)]>0x0);if(_0x2dde74['length']===0x0){_0x379627[_0x41b80c(0xa1c)]=_0x41b80c(0x9a6);return;}let _0x209707='';_0x2dde74[_0x41b80c(0x883)](_0x17c2da=>{const _0x1ecad9=_0x41b80c;_0x209707+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x17c2da[_0x1ecad9(0xb38)]+_0x1ecad9(0x71f),_0x17c2da[_0x1ecad9(0x610)][_0x1ecad9(0x74a)]((_0x228062,_0x2b9201)=>new Date(_0x2b9201[_0x1ecad9(0xa75)])-new Date(_0x228062[_0x1ecad9(0xa75)]))[_0x1ecad9(0x883)](_0x189826=>{const _0x44e3f8=_0x1ecad9,_0x14a42d=new Date(_0x189826['timestamp'])['toLocaleString'](_0x44e3f8(0x88f),{'dateStyle':_0x44e3f8(0x201),'timeStyle':_0x44e3f8(0x1c6)});_0x209707+=_0x44e3f8(0x92e)+_0x189826[_0x44e3f8(0x463)]+_0x44e3f8(0x384)+_0x14a42d+_0x44e3f8(0x2fa);}),_0x209707+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x379627[_0x41b80c(0xa1c)]=_0x209707;}function getDragAfterElement(_0x3f7cfe,_0x28006c){const _0x5ca7ff=_0x5c7bd9,_0x95e9e5=[..._0x3f7cfe[_0x5ca7ff(0xb24)]('.project-card-container:not(.opacity-50)')];return _0x95e9e5['reduce']((_0x1de4d0,_0x18c077)=>{const _0x1d9af6=_0x5ca7ff,_0x445cc7=_0x18c077[_0x1d9af6(0x541)](),_0x423f91=_0x28006c-_0x445cc7[_0x1d9af6(0xbc7)]-_0x445cc7[_0x1d9af6(0x38a)]/0x2;return _0x423f91<0x0&&_0x423f91>_0x1de4d0[_0x1d9af6(0x225)]?{'offset':_0x423f91,'element':_0x18c077}:_0x1de4d0;},{'offset':Number[_0x5ca7ff(0x9e6)]})['element'];}async function saveProjectOrder(_0x14bb77){const _0x2f4ba9=_0x5c7bd9,_0x2b9937=doc(db,'globalSettings',_0x2f4ba9(0x839));try{await setDoc(_0x2b9937,{'projectOrder':_0x14bb77},{'merge':!![]});}catch(_0x39a24c){console[_0x2f4ba9(0xb9a)]('Error\x20saving\x20project\x20order:',_0x39a24c),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x5418a0,_0x2040e2={}){const _0x40611e=_0x5c7bd9;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x40611e(0x76e)](_0x40611e(0x3d6));return;}const _0x571284=doc(db,'artifacts/'+appId+_0x40611e(0xb33)+currentQuizData['id']+_0x40611e(0x4a9),currentStudentName),_0x5d7824={'event':_0x5418a0,'timestamp':new Date()[_0x40611e(0x41a)](),..._0x2040e2};try{await updateDoc(_0x571284,{'behaviorLog':arrayUnion(_0x5d7824)}),console[_0x40611e(0x77c)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x40611e(0x53b));}catch(_0x29f946){_0x29f946['code']===_0x40611e(0x1ca)?console[_0x40611e(0x76e)](_0x40611e(0x925)+currentStudentName+_0x40611e(0x411)):console['error'](_0x40611e(0x25b),_0x29f946);}}function calculateMeanAndStdDev(_0x532883){const _0xc7a993=_0x5c7bd9;if(_0x532883['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x1d4320=_0x532883['reduce']((_0xfac496,_0x528c79)=>_0xfac496+_0x528c79,0x0)/_0x532883[_0xc7a993(0x4d9)];if(_0x532883[_0xc7a993(0x4d9)]===0x1)return{'mean':_0x1d4320,'stdDev':0x0};const _0x534d84=Math[_0xc7a993(0x1df)](_0x532883[_0xc7a993(0x98b)](_0x329106=>Math['pow'](_0x329106-_0x1d4320,0x2))[_0xc7a993(0x631)]((_0x1f00eb,_0x3bf4e8)=>_0x1f00eb+_0x3bf4e8,0x0)/(_0x532883[_0xc7a993(0x4d9)]-0x1));return{'mean':_0x1d4320,'stdDev':_0x534d84};}function calculateZScore(_0x255f2c,_0xae2f73,_0xb4131d){if(_0xb4131d===0x0)return 0x0;return(_0x255f2c-_0xae2f73)/_0xb4131d;}function calculateTScore(_0x3fcdd1){return 0xa*_0x3fcdd1+0x32;}function showStarredProjectView(){const _0x3865c0=_0x5c7bd9;currentProjectId=_0x3865c0(0x26d),currentProjectData=null,projectTitle[_0x3865c0(0xc26)]=_0x3865c0(0x1f0),projectIdDisplay[_0x3865c0(0xc26)]=_0x3865c0(0xaa6),showView('project-detail'),manageTab[_0x3865c0(0xbe2)][_0x3865c0(0x5ca)](_0x3865c0(0x9b3)),leaderboardTab[_0x3865c0(0xbe2)][_0x3865c0(0x5ca)](_0x3865c0(0x9b3)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x3e69ee){const _0x420f4e=_0x5c7bd9,_0x1f709d=doc(db,_0x420f4e(0x2fd)+appId+_0x420f4e(0x3eb),_0x3e69ee),_0x4d7784=await getDoc(_0x1f709d);if(_0x4d7784[_0x420f4e(0x4a4)]()){manageTab['classList']['remove'](_0x420f4e(0x9b3)),leaderboardTab[_0x420f4e(0xbe2)][_0x420f4e(0x521)](_0x420f4e(0x9b3)),currentProjectData=_0x4d7784[_0x420f4e(0x958)](),projectTitle['textContent']=currentProjectData[_0x420f4e(0x5da)],projectIdDisplay[_0x420f4e(0xc26)]=_0x3e69ee;const _0x3887f9=currentProjectData['settings']||{};document[_0x420f4e(0x82a)](_0x420f4e(0x364))[_0x420f4e(0x556)]=_0x3887f9['shuffleSetting']||_0x420f4e(0xab4);const _0x26ba47=document[_0x420f4e(0x82a)]('show-in-student-dashboard-checkbox');_0x26ba47[_0x420f4e(0x4be)]=_0x3887f9[_0x420f4e(0x502)]!==![];const _0x412424=document[_0x420f4e(0x82a)](_0x420f4e(0x2d4)),_0x22a45f=document[_0x420f4e(0x82a)]('passcode-input-container'),_0x5de5f8=document[_0x420f4e(0x82a)](_0x420f4e(0x2e4)),_0xe7af38=_0x3887f9[_0x420f4e(0x232)]||![];_0x412424[_0x420f4e(0x4be)]=_0xe7af38,_0x5de5f8[_0x420f4e(0x556)]=_0x3887f9[_0x420f4e(0x6a0)]||'',_0x22a45f[_0x420f4e(0xbe2)][_0x420f4e(0x6e9)](_0x420f4e(0x9b3),!_0xe7af38),_0x412424['onchange']=()=>{const _0x168f6e=_0x420f4e;_0x22a45f['classList'][_0x168f6e(0x6e9)](_0x168f6e(0x9b3),!_0x412424[_0x168f6e(0x4be)]);},document['getElementById'](_0x420f4e(0xaac))[_0x420f4e(0x4be)]=_0x3887f9[_0x420f4e(0x530)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x3e69ee),listenForProjectQuizzes(_0x3e69ee),listenForStudentProfiles(_0x3e69ee);}else showMessage(_0x420f4e(0x9fd)),showView(_0x420f4e(0x80b));}async function handleResetProjectOrder(){const _0x7d5fb4=_0x5c7bd9,_0xe62ff0=doc(db,_0x7d5fb4(0x52c),'dashboardConfig');try{await setDoc(_0xe62ff0,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x1d8316){console[_0x7d5fb4(0xb9a)]('Error\x20resetting\x20project\x20order:',_0x1d8316),showMessage(_0x7d5fb4(0x27b));}}async function handleTogglePinProject(_0x2ddc40){const _0x4a6142=_0x5c7bd9;if(!_0x2ddc40)return;const _0x8debca=doc(db,_0x4a6142(0x2fd)+appId+_0x4a6142(0x3eb),_0x2ddc40);try{const _0x4541ad=await getDoc(_0x8debca);if(_0x4541ad[_0x4a6142(0x4a4)]()){const _0x5cae7c=_0x4541ad[_0x4a6142(0x958)]()['isPinned']||![];await updateDoc(_0x8debca,{'isPinned':!_0x5cae7c});}}catch(_0x5c052f){console[_0x4a6142(0xb9a)](_0x4a6142(0x448),_0x5c052f),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x1069dd){const _0x5d17fe=_0x5c7bd9;try{const _0xb53c73=writeBatch(db),_0x3fd5c4=collection(db,_0x5d17fe(0x2fd)+appId+_0x5d17fe(0x74e)),_0x2a59af=query(_0x3fd5c4,where(_0x5d17fe(0x571),'==',_0x1069dd)),_0x277bec=await getDocs(_0x2a59af);for(const _0xe32914 of _0x277bec[_0x5d17fe(0x795)]){const _0x3d82d8=collection(db,_0x5d17fe(0x2fd)+appId+_0x5d17fe(0xb33)+_0xe32914['id']+_0x5d17fe(0x4a9)),_0x1ac277=await getDocs(_0x3d82d8);_0x1ac277[_0x5d17fe(0x883)](_0x1a314e=>{const _0x1dcd0d=_0x5d17fe;_0xb53c73[_0x1dcd0d(0xabf)](_0x1a314e[_0x1dcd0d(0x987)]);}),_0xb53c73[_0x5d17fe(0xabf)](_0xe32914[_0x5d17fe(0x987)]);}const _0x3d3367=collection(db,_0x5d17fe(0x2fd)+appId+_0x5d17fe(0x372)+_0x1069dd+_0x5d17fe(0x4bf)),_0x5a4f53=await getDocs(_0x3d3367);_0x5a4f53['forEach'](_0x500b18=>{const _0x2192b5=_0x5d17fe;_0xb53c73[_0x2192b5(0xabf)](_0x500b18['ref']);});const _0x49b952=doc(db,_0x5d17fe(0x2fd)+appId+'/public/data/projects',_0x1069dd);_0xb53c73[_0x5d17fe(0xabf)](_0x49b952),await _0xb53c73[_0x5d17fe(0xbf4)](),showMessage(_0x5d17fe(0x2e0)),showView(_0x5d17fe(0x80b));}catch(_0x198c2e){console[_0x5d17fe(0xb9a)]('Error\x20deleting\x20project:',_0x198c2e),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document['getElementById'](_0x5c7bd9(0x271))[_0x5c7bd9(0x68b)]('click',async()=>{const _0x309892=_0x5c7bd9;if(!currentProjectId)return;const _0xbe2dde={'defaultNumQuestions':parseInt(document[_0x309892(0x82a)](_0x309892(0x379))[_0x309892(0x556)]),'defaultNumChoices':parseInt(document[_0x309892(0x82a)](_0x309892(0x9ca))[_0x309892(0x556)]),'defaultPassingScore':parseInt(document[_0x309892(0x82a)](_0x309892(0x512))['value']),'resultsDisplay':document[_0x309892(0x82a)]('results-display-select')[_0x309892(0x556)],'shuffleSetting':document[_0x309892(0x82a)]('shuffle-setting-select')[_0x309892(0x556)],'timerMode':document['getElementById']('timer-mode-select')[_0x309892(0x556)],'timerDuration':parseInt(document[_0x309892(0x82a)](_0x309892(0x85b))[_0x309892(0x556)]),'isConfidenceScoringEnabled':document[_0x309892(0x82a)](_0x309892(0xaac))[_0x309892(0x4be)],'confidenceMode':document[_0x309892(0x82a)]('confidence-mode-select')['value']};try{const _0x303c03=doc(db,_0x309892(0x2fd)+appId+_0x309892(0x3eb),currentProjectId);await updateDoc(_0x303c03,{'settings':_0xbe2dde}),showMessage(_0x309892(0x45c));}catch(_0x49d04f){console[_0x309892(0xb9a)](_0x309892(0xbba),_0x49d04f),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x31dab0){const _0x4deb5e=_0x5c7bd9,_0x1dc808=doc(db,_0x4deb5e(0x2fd)+appId+'/public/data/projects',_0x31dab0);unsubscribeStudentsListener=onSnapshot(_0x1dc808,_0x4f8cee=>{const _0x63079c=_0x4deb5e;if(_0x4f8cee[_0x63079c(0x4a4)]()){const _0x14f0c6=_0x4f8cee[_0x63079c(0x958)]();currentProjectData=_0x14f0c6,renderStudentList(_0x14f0c6[_0x63079c(0x646)]||[]);}});}function renderStudentList(_0x28f9e0){const _0x2d0c83=_0x5c7bd9,_0x4eabe4=document['getElementById']('delete-all-students-btn');_0x28f9e0[_0x2d0c83(0x4d9)]===0x0?(studentList[_0x2d0c83(0xa1c)]=_0x2d0c83(0x4f2),_0x4eabe4[_0x2d0c83(0xbe2)][_0x2d0c83(0x5ca)](_0x2d0c83(0x9b3))):(studentList[_0x2d0c83(0xa1c)]=_0x28f9e0['map'](_0x5daa25=>_0x2d0c83(0x7d8)+_0x5daa25+_0x2d0c83(0xbd3)+_0x5daa25+_0x2d0c83(0x635))['join'](''),_0x4eabe4[_0x2d0c83(0xbe2)][_0x2d0c83(0x521)](_0x2d0c83(0x9b3)));}document['getElementById'](_0x5c7bd9(0x9e1))['addEventListener'](_0x5c7bd9(0x79e),async()=>{const _0x490548=_0x5c7bd9;if(!currentProjectId)return;const _0x297a7f=document[_0x490548(0x82a)](_0x490548(0xa60)),_0x3e5ca8=_0x297a7f[_0x490548(0x556)][_0x490548(0xbde)]();if(!_0x3e5ca8){showMessage(_0x490548(0x294));return;}const _0x2a609c=_0x3e5ca8[_0x490548(0x8ce)]('\x0a')[_0x490548(0x98b)](_0x33c759=>_0x33c759[_0x490548(0xbde)]())[_0x490548(0x920)](_0x2bb433=>_0x2bb433);if(_0x2a609c[_0x490548(0x4d9)]===0x0)return;try{const _0x570141=doc(db,'artifacts/'+appId+_0x490548(0x3eb),currentProjectId),_0x39c07d=await getDoc(_0x570141);if(_0x39c07d[_0x490548(0x4a4)]()){const _0x40098a=_0x39c07d[_0x490548(0x958)]()[_0x490548(0x646)]||[],_0x100fdc=[...new Set([..._0x40098a,..._0x2a609c])];await updateDoc(_0x570141,{'students':_0x100fdc}),_0x297a7f[_0x490548(0x556)]='';}}catch(_0x413b48){console[_0x490548(0xb9a)](_0x490548(0x24f),_0x413b48),showMessage(_0x490548(0xc14));}});async function handleManualQuizPairing(_0x3d1c63){const _0x518375=_0x5c7bd9,_0x1b9098=document['getElementById']('move-quiz-modal'),_0x44d270=document['getElementById'](_0x518375(0x347)),_0x38182a=_0x1b9098[_0x518375(0x410)]('h3'),_0x22198d=document[_0x518375(0x82a)]('confirm-move-quiz-btn'),_0x1ee39b=document[_0x518375(0x82a)]('cancel-move-quiz-btn');_0x38182a[_0x518375(0xc26)]=_0x518375(0x535),_0x44d270[_0x518375(0xa1c)]=_0x518375(0x68d),_0x22198d[_0x518375(0xc26)]=_0x518375(0x664),_0x1b9098[_0x518375(0xbe2)]['remove'](_0x518375(0x9b3));const _0x5264fe=allQuizzes[_0x518375(0x920)](_0x57da21=>_0x57da21['id']!==_0x3d1c63);_0x5264fe[_0x518375(0x4d9)]===0x0?(_0x44d270['innerHTML']='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x22198d[_0x518375(0x814)]=!![]):(_0x44d270[_0x518375(0xa1c)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x5264fe['map'](_0x458321=>_0x518375(0x4fa)+_0x458321['id']+'\x22>'+_0x458321[_0x518375(0x231)]+_0x518375(0xa8a))[_0x518375(0x5b3)](''),_0x22198d[_0x518375(0x814)]=![]);const _0x43964e=async()=>{const _0x3bbc18=_0x518375,_0x225400=_0x44d270['value'];if(!_0x225400){showMessage(_0x3bbc18(0x1e3));return;}_0x22198d['disabled']=!![],_0x22198d[_0x3bbc18(0xc26)]=_0x3bbc18(0x891);try{const _0x5ee259=doc(db,_0x3bbc18(0x2fd)+appId+_0x3bbc18(0x74e),_0x3d1c63),_0x38fc29=doc(db,_0x3bbc18(0x2fd)+appId+_0x3bbc18(0x74e),_0x225400),_0x548029=writeBatch(db);_0x548029[_0x3bbc18(0x570)](_0x5ee259,{'pairedQuizId':_0x225400}),_0x548029[_0x3bbc18(0x570)](_0x38fc29,{'pairedQuizId':_0x3d1c63}),await _0x548029['commit'](),showMessage(_0x3bbc18(0x40e)),_0x1b9098[_0x3bbc18(0xbe2)][_0x3bbc18(0x5ca)](_0x3bbc18(0x9b3));}catch(_0x43f5e6){console['error']('Error\x20pairing\x20quizzes:',_0x43f5e6),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x38182a[_0x3bbc18(0xc26)]=_0x3bbc18(0x660),_0x22198d[_0x3bbc18(0xc26)]=_0x3bbc18(0x612),_0x22198d['disabled']=![],_0x22198d[_0x3bbc18(0xb86)](_0x3bbc18(0x79e),_0x43964e),_0x1ee39b['removeEventListener'](_0x3bbc18(0x79e),_0x1311d9);}},_0x1311d9=()=>{const _0x4001da=_0x518375;_0x1b9098[_0x4001da(0xbe2)][_0x4001da(0x5ca)]('hidden'),_0x38182a[_0x4001da(0xc26)]=_0x4001da(0x660),_0x22198d[_0x4001da(0xc26)]=_0x4001da(0x612),_0x22198d[_0x4001da(0xb86)]('click',_0x43964e),_0x1ee39b['removeEventListener'](_0x4001da(0x79e),_0x1311d9);};_0x22198d[_0x518375(0x68b)]('click',_0x43964e),_0x1ee39b[_0x518375(0x68b)]('click',_0x1311d9);}function handleDeleteStudent(_0x55fd5e){const _0x384203=_0x5c7bd9;showConfirmation(_0x384203(0x536)+_0x55fd5e+_0x384203(0x598),async()=>{const _0x57d042=_0x384203;if(!currentProjectId||!currentProjectData)return;const _0x4ef66b=currentProjectData[_0x57d042(0x646)][_0x57d042(0x920)](_0x2ed95e=>_0x2ed95e!==_0x55fd5e);try{const _0x4000f4=doc(db,'artifacts/'+appId+_0x57d042(0x3eb),currentProjectId),_0x8694a=doc(db,_0x57d042(0x2fd)+appId+'/public/data/projects/'+currentProjectId+_0x57d042(0x4bf),_0x55fd5e),_0x1e7845=writeBatch(db);_0x1e7845['update'](_0x4000f4,{'students':_0x4ef66b}),_0x1e7845[_0x57d042(0xabf)](_0x8694a),await _0x1e7845[_0x57d042(0xbf4)]();}catch(_0x88be99){console[_0x57d042(0xb9a)]('Error\x20deleting\x20student:',_0x88be99),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x34ca16=_0x5c7bd9;showConfirmation(_0x34ca16(0x84a),async()=>{const _0x21a779=_0x34ca16;if(!currentProjectId)return;try{const _0x47cdc3=doc(db,_0x21a779(0x2fd)+appId+_0x21a779(0x3eb),currentProjectId),_0x269c78=collection(db,_0x21a779(0x2fd)+appId+_0x21a779(0x372)+currentProjectId+_0x21a779(0x4bf)),_0x39c415=await getDocs(_0x269c78),_0x33a42b=writeBatch(db);_0x33a42b[_0x21a779(0x570)](_0x47cdc3,{'students':[]}),_0x39c415[_0x21a779(0x883)](_0x50ff60=>_0x33a42b[_0x21a779(0xabf)](_0x50ff60[_0x21a779(0x987)])),await _0x33a42b[_0x21a779(0xbf4)]();}catch(_0x1e58e2){console[_0x21a779(0xb9a)](_0x21a779(0x9ed),_0x1e58e2),showMessage(_0x21a779(0x818));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x18e165){const _0x758cec=_0x5c7bd9,_0x7cfc7c=document[_0x758cec(0x82a)]('file-topics-list-container'),_0x4a0d24=document[_0x758cec(0x82a)](_0x758cec(0x78b));_0x7cfc7c[_0x758cec(0xbe2)][_0x758cec(0x521)](_0x758cec(0x9b3)),_0x4a0d24[_0x758cec(0xa1c)]=_0x758cec(0x961);try{const _0x15d778=new FileReader();_0x15d778['readAsDataURL'](_0x18e165),await new Promise((_0x3f4394,_0x1bfbc8)=>{const _0x28043c=_0x758cec;_0x15d778[_0x28043c(0x946)]=()=>{const _0x7edf87=_0x28043c;fileDataBase64=_0x15d778[_0x7edf87(0x93e)][_0x7edf87(0x8ce)](',')[0x1],fileMimeType=_0x18e165[_0x7edf87(0x1cc)],_0x3f4394();},_0x15d778['onerror']=_0x1a7dae=>_0x1bfbc8(_0x1a7dae);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0x5e1ad1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2b961e={'type':'OBJECT','properties':{'topics':{'type':_0x758cec(0xace),'items':{'type':_0x758cec(0x5e7)}}},'required':[_0x758cec(0x1be)]},_0x3ecbbb=[{'text':_0x5e1ad1},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0xa7a1fb=await handleApiCall(_0x3ecbbb,_0x758cec(0xb47),_0x2b961e,null,![]);if(_0xa7a1fb&&_0xa7a1fb[_0x758cec(0x1be)])extractedFileTopics=_0xa7a1fb['topics'],renderFileTopics();else throw new Error(_0x758cec(0x4d1));}catch(_0x347d83){console[_0x758cec(0xb9a)](_0x758cec(0xa46),_0x347d83),_0x4a0d24['innerHTML']=_0x758cec(0x3f6)+_0x347d83['message']+_0x758cec(0xc1e);}}function renderFileTopics(){const _0x5d41b7=_0x5c7bd9,_0x15993f=document[_0x5d41b7(0x82a)](_0x5d41b7(0x78b));if(extractedFileTopics[_0x5d41b7(0x4d9)]===0x0){_0x15993f['innerHTML']='<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>';return;}_0x15993f[_0x5d41b7(0xa1c)]=extractedFileTopics[_0x5d41b7(0x98b)](_0x39e414=>_0x5d41b7(0x35e)+_0x39e414+_0x5d41b7(0x4f1)+escape(_0x39e414)+_0x5d41b7(0xa57)+escape(_0x39e414)+_0x5d41b7(0x7ef))[_0x5d41b7(0x5b3)]('');}async function generateHybridQuizForTopic(_0x5863d7){const _0x13015a=_0x5c7bd9,_0x249c91=parseInt(document[_0x13015a(0x82a)](_0x13015a(0x379))[_0x13015a(0x556)],0xa),_0x43bf11=document[_0x13015a(0x82a)](_0x13015a(0x629))[_0x13015a(0x556)],_0x28b3fe=document[_0x13015a(0x82a)]('num-choices')[_0x13015a(0x556)],_0x9fc91b=document['getElementById'](_0x13015a(0x4a2))[_0x13015a(0x4be)],_0x4766f1=_0x9fc91b?_0x13015a(0x396):_0x13015a(0xbf1);let _0x8a1618='',_0x12e922;const _0x27d853={'type':_0x13015a(0x4f7),'properties':{'questionText':{'type':_0x13015a(0x5e7)},'options':{'type':_0x13015a(0xace),'items':{'type':_0x13015a(0x5e7)}},'correctAnswerIndex':{'type':_0x13015a(0x5c9)},'explanation':{'type':_0x13015a(0x5e7)},'imageCode':{'type':_0x13015a(0x5e7)}},'required':[_0x13015a(0xbc9),_0x13015a(0xb8c),_0x13015a(0x23d),'explanation']},_0x4c722c={'type':_0x13015a(0x4f7),'properties':{'questionText':{'type':_0x13015a(0x5e7)},'correctAnswer':{'type':_0x13015a(0x346)},'explanation':{'type':_0x13015a(0x5e7)},'imageCode':{'type':_0x13015a(0x5e7)}},'required':[_0x13015a(0xbc9),_0x13015a(0x684),'explanation']},_0x32a8e7={'type':_0x13015a(0x4f7),'properties':{'questionText':{'type':_0x13015a(0x5e7)},'idealAnswer':{'type':_0x13015a(0x5e7)},'explanation':{'type':_0x13015a(0x5e7)},'imageCode':{'type':_0x13015a(0x5e7)}},'required':[_0x13015a(0xbc9),_0x13015a(0x304),_0x13015a(0xac7)]},_0x5bd061={'type':_0x13015a(0x4f7),'properties':{'questionType':{'type':_0x13015a(0x5e7),'enum':['matching_item']},'stem':{'type':_0x13015a(0x5e7)},'correctResponse':{'type':_0x13015a(0x5e7)},'allResponses':{'type':_0x13015a(0xace),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x13015a(0x5e7)}},'required':[_0x13015a(0x6ab),_0x13015a(0x589),'correctResponse',_0x13015a(0x2c7),_0x13015a(0xac7)]};switch(_0x43bf11){case _0x13015a(0x943):_0x8a1618='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x28b3fe+_0x13015a(0x247),_0x12e922=_0x27d853;break;case _0x13015a(0xb61):_0x8a1618=_0x13015a(0x97d),_0x12e922=_0x4c722c;break;case _0x13015a(0xc12):_0x8a1618=_0x13015a(0x5ce),_0x12e922=_0x32a8e7;break;case _0x13015a(0xc0b):_0x8a1618='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x12e922=_0x5bd061;break;case _0x13015a(0x2c0):_0x8a1618='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x28b3fe+'\x20ตัวเลือก)',_0x12e922=_0x27d853;break;default:_0x8a1618=_0x13015a(0xb18)+_0x28b3fe+'\x20ตัวเลือก)',_0x12e922=_0x27d853;break;}const _0x449ca5=_0x13015a(0x7ba),_0x18287c=document['getElementById']('loader'),_0x973550=document[_0x13015a(0x82a)](_0x13015a(0x9ea)),_0x22a067=document[_0x13015a(0x82a)](_0x13015a(0x71b));document[_0x13015a(0x82a)]('quiz-generation-area')['classList'][_0x13015a(0x521)]('hidden'),_0x22a067[_0x13015a(0xa1c)]='',_0x18287c[_0x13015a(0xbe2)]['remove']('hidden'),_0x973550[_0x13015a(0xc26)]=_0x13015a(0x697)+_0x5863d7+'\x22\x20จำนวน\x20'+_0x249c91+'\x20ข้อ...';try{const _0x4408cb='\x20**[กฎเพิ่มเติมที่สำคัญที่สุด]:**\x20ต้องเน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET',_0x51268b=_0x13015a(0x40c)+_0x5863d7+_0x13015a(0x715)+_0x249c91+_0x13015a(0x57c)+_0x5863d7+_0x13015a(0xb4d)+_0x249c91+_0x13015a(0x461)+_0x4766f1+_0x13015a(0x296)+_0x8a1618+_0x13015a(0x5e4)+_0x449ca5+_0x13015a(0xa90)+_0x4408cb+_0x13015a(0x63f)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x544662={'type':_0x13015a(0x4f7),'properties':{'topic':{'type':_0x13015a(0x5e7)},'questions':{'type':'ARRAY','items':_0x12e922}},'required':[_0x13015a(0x231),_0x13015a(0x600)]},_0x450b98=[{'text':_0x51268b},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x450b98,'กำลังสร้างแบบทดสอบ\x20\x22'+_0x5863d7+_0x13015a(0x47e),_0x544662);}catch(_0x3ae8c0){console[_0x13015a(0xb9a)](_0x13015a(0x43b),_0x3ae8c0),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3ae8c0[_0x13015a(0x6a5)]),_0x22a067['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0x18287c[_0x13015a(0xbe2)][_0x13015a(0x5ca)]('hidden');}}async function handleGenerateFromFileClick(){const _0x3ab85d=_0x5c7bd9;if(!selectedFile){showMessage(_0x3ab85d(0x1de));return;}const _0x2e231c=document[_0x3ab85d(0x82a)](_0x3ab85d(0xb72)),_0x5bd49e=document['getElementById'](_0x3ab85d(0x9ea)),_0x260132=document['getElementById'](_0x3ab85d(0x71b)),_0x22c6c4=document[_0x3ab85d(0x82a)](_0x3ab85d(0x5c0));_0x22c6c4[_0x3ab85d(0x814)]=!![],document['getElementById'](_0x3ab85d(0xbd4))['classList'][_0x3ab85d(0x521)](_0x3ab85d(0x9b3)),_0x260132[_0x3ab85d(0xa1c)]='',_0x2e231c['classList'][_0x3ab85d(0x521)](_0x3ab85d(0x9b3)),_0x5bd49e[_0x3ab85d(0xc26)]=_0x3ab85d(0x59f);const _0x739707=new FileReader();_0x739707[_0x3ab85d(0x582)](selectedFile),_0x739707[_0x3ab85d(0x946)]=async()=>{const _0x4fc4d8=_0x3ab85d;try{const _0x5e9e5d=_0x739707['result'][_0x4fc4d8(0x8ce)](',')[0x1],_0x441626=selectedFile['type'];await generateQuizFromFile(_0x441626,_0x5e9e5d);}catch(_0x5838cf){console[_0x4fc4d8(0xb9a)](_0x4fc4d8(0x1ee),_0x5838cf),showMessage(_0x4fc4d8(0xba5)+_0x5838cf[_0x4fc4d8(0x6a5)]),_0x2e231c[_0x4fc4d8(0xbe2)][_0x4fc4d8(0x5ca)](_0x4fc4d8(0x9b3));}finally{}},_0x739707[_0x3ab85d(0x369)]=_0x431a82=>{const _0x49c944=_0x3ab85d;console[_0x49c944(0xb9a)]('FileReader\x20error:',_0x431a82),showMessage(_0x49c944(0x260)),_0x2e231c[_0x49c944(0xbe2)][_0x49c944(0x5ca)](_0x49c944(0x9b3)),_0x22c6c4['disabled']=![];};}function autoFormatMath(_0x488c1e){const _0x5dae63=_0x5c7bd9;if(typeof _0x488c1e!==_0x5dae63(0x2ac)||!_0x488c1e)return _0x488c1e;const _0x8cd711=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0xa3d283=_0x488c1e[_0x5dae63(0x973)](_0x8cd711,_0x560d24=>{const _0x404ac9=_0x5dae63;return'$'+_0x560d24[_0x404ac9(0xbde)]()+'$';});return _0xa3d283;}function sanitizeQuizData(_0x5b6d2a){const _0x54e224=_0x5c7bd9;if(!_0x5b6d2a||!_0x5b6d2a['questions'])return _0x5b6d2a;const _0x1f8858={'imes':'\x5ctimes','div':_0x54e224(0x6a2)},_0x32d050=_0x2a7425=>{const _0x5c988b=_0x54e224;if(typeof _0x2a7425!==_0x5c988b(0x2ac))return _0x2a7425;let _0x4d5d7a=_0x2a7425;for(const [_0x56ea83,_0xc5ccc4]of Object[_0x5c988b(0x9cb)](_0x1f8858)){const _0x7f7038=new RegExp('\x5cb'+_0x56ea83+'\x5cb','g');_0x4d5d7a=_0x4d5d7a[_0x5c988b(0x973)](_0x7f7038,_0xc5ccc4);}return _0x4d5d7a=_0x4d5d7a[_0x5c988b(0x973)](/\\\//g,_0x5c988b(0x6a2)),_0x4d5d7a=_0x4d5d7a[_0x5c988b(0x973)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x5c988b(0x6a2))[_0x5c988b(0x973)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x5c988b(0x969))['replace'](/÷/g,'\x5cdiv')[_0x5c988b(0x973)](/×/g,_0x5c988b(0x969)),_0x4d5d7a=_0x4d5d7a[_0x5c988b(0x973)](/(\d)(\\frac)/g,_0x5c988b(0x834)),_0x4d5d7a=autoFormatMath(_0x4d5d7a),_0x4d5d7a;};return _0x5b6d2a[_0x54e224(0x231)]&&(_0x5b6d2a[_0x54e224(0x231)]=_0x32d050(_0x5b6d2a[_0x54e224(0x231)])),_0x5b6d2a[_0x54e224(0x600)]['forEach'](_0x543c0a=>{const _0x3b1bcf=_0x54e224;_0x543c0a['questionText']=_0x32d050(_0x543c0a[_0x3b1bcf(0xbc9)]),_0x543c0a[_0x3b1bcf(0xb8c)]&&(_0x543c0a[_0x3b1bcf(0xb8c)]=_0x543c0a[_0x3b1bcf(0xb8c)][_0x3b1bcf(0x98b)](_0x32d050)),_0x543c0a[_0x3b1bcf(0xac7)]&&(_0x543c0a[_0x3b1bcf(0xac7)]=_0x32d050(_0x543c0a[_0x3b1bcf(0xac7)])),_0x543c0a[_0x3b1bcf(0x589)]&&(_0x543c0a[_0x3b1bcf(0x589)]=_0x32d050(_0x543c0a['stem'])),_0x543c0a[_0x3b1bcf(0x27f)]&&(_0x543c0a['correctResponse']=_0x32d050(_0x543c0a['correctResponse'])),_0x543c0a['allResponses']&&(_0x543c0a[_0x3b1bcf(0x2c7)]=_0x543c0a[_0x3b1bcf(0x2c7)][_0x3b1bcf(0x98b)](_0x32d050));}),_0x5b6d2a;}const simpleMathPrompt=_0x5c7bd9(0x526);async function handleGenerateFromLink(){const _0x16a1c0=_0x5c7bd9,_0x5bcf81=document[_0x16a1c0(0x82a)](_0x16a1c0(0x562)),_0x599bca=document[_0x16a1c0(0x82a)]('link-topic-input'),_0x8c6a4c=_0x5bcf81[_0x16a1c0(0x556)][_0x16a1c0(0xbde)](),_0x3f5f44=_0x599bca['value']['trim']();if(!_0x8c6a4c){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x3b480a=document[_0x16a1c0(0x82a)](_0x16a1c0(0xb72)),_0x25bdbf=document[_0x16a1c0(0x82a)](_0x16a1c0(0x9ea)),_0x299575=document[_0x16a1c0(0x82a)](_0x16a1c0(0x71b)),_0x2665d3=document[_0x16a1c0(0x82a)]('generate-from-link-btn');document['getElementById'](_0x16a1c0(0xbd4))['classList'][_0x16a1c0(0x521)](_0x16a1c0(0x9b3)),_0x299575['innerHTML']='',_0x3b480a[_0x16a1c0(0xbe2)][_0x16a1c0(0x521)]('hidden'),_0x25bdbf[_0x16a1c0(0xc26)]=_0x16a1c0(0xa22),_0x2665d3[_0x16a1c0(0x814)]=!![];try{const _0x311d94=_0x16a1c0(0xa97)+encodeURIComponent(_0x8c6a4c),_0x5a951c=await fetch(_0x311d94);if(!_0x5a951c['ok'])throw new Error(_0x16a1c0(0x494)+_0x5a951c[_0x16a1c0(0x6d5)]+')');const _0x125a92=await _0x5a951c[_0x16a1c0(0xab6)](),_0x3d0207=extractTextFromHtml(_0x125a92);if(!_0x3d0207||_0x3d0207['length']<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x3f5f44,_0x3d0207);}catch(_0x376635){console[_0x16a1c0(0xb9a)](_0x16a1c0(0x1bd),_0x376635),showMessage('เกิดข้อผิดพลาด:\x20'+_0x376635[_0x16a1c0(0x6a5)]),_0x299575[_0x16a1c0(0xa1c)]=_0x16a1c0(0x84f);}finally{_0x3b480a['classList'][_0x16a1c0(0x5ca)](_0x16a1c0(0x9b3)),_0x2665d3[_0x16a1c0(0x814)]=![];}}function extractTextFromHtml(_0x12c15e){const _0xe00cf0=_0x5c7bd9,_0x15510f=new DOMParser()['parseFromString'](_0x12c15e,_0xe00cf0(0x288));return _0x15510f[_0xe00cf0(0xb24)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0xe00cf0(0x883)](_0x37aea6=>_0x37aea6[_0xe00cf0(0x521)]()),_0x15510f[_0xe00cf0(0xab8)][_0xe00cf0(0xc26)]||'';}document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x8c1))[_0x5c7bd9(0x68b)](_0x5c7bd9(0x79e),()=>{const _0x24dfcd=_0x5c7bd9,_0x3a9cd8=document[_0x24dfcd(0x82a)](_0x24dfcd(0x3a1))['value'][_0x24dfcd(0xbde)]();generateQuiz(_0x3a9cd8,null);}),document[_0x5c7bd9(0x82a)](_0x5c7bd9(0x9d7))['addEventListener'](_0x5c7bd9(0x79e),()=>{const _0xd05b33=_0x5c7bd9,_0x45d726=document[_0xd05b33(0x82a)](_0xd05b33(0x537))['value'][_0xd05b33(0xbde)]();if(!_0x45d726){showMessage(_0xd05b33(0x4ac));return;}const _0x448908=document[_0xd05b33(0x82a)](_0xd05b33(0x3a1))['value']['trim']();generateQuiz(_0x448908,_0x45d726);});async function generateQuiz(_0x180cb2,_0x53df25,_0x3164d9=null,_0x3b2856=null,_0x24e9ac=![],_0x3c4c84=null,_0x4cac16=null,_0x1f97c4=![]){const _0x2f29ca=_0x5c7bd9;let _0x36d6fb={};if(_0x24e9ac&&blueprintPageSettings)console['log'](_0x2f29ca(0x278)),_0x36d6fb=blueprintPageSettings;else{console['log']('Not\x20called\x20from\x20Blueprint\x20or\x20no\x20temp\x20settings.\x20Using\x20main\x20project\x20settings.');const _0x1de755=document[_0x2f29ca(0xb24)]('#math-topics-checkbox-container\x20input:checked');_0x36d6fb={'quizType':document[_0x2f29ca(0x82a)](_0x2f29ca(0x629))['value'],'numQuestions':document['getElementById'](_0x2f29ca(0x379))[_0x2f29ca(0x556)],'numChoices':document[_0x2f29ca(0x82a)](_0x2f29ca(0x9ca))[_0x2f29ca(0x556)],'includeImages':document[_0x2f29ca(0x82a)](_0x2f29ca(0x4a2))[_0x2f29ca(0x4be)],'isNormalTopic':document[_0x2f29ca(0x82a)](_0x2f29ca(0x614))[_0x2f29ca(0x4be)],'difficultyValue':document[_0x2f29ca(0x82a)](_0x2f29ca(0xa45))['value'],'complexityValue':document['getElementById'](_0x2f29ca(0x2d8))[_0x2f29ca(0x556)],'selectedTopicNames':Array[_0x2f29ca(0x4a0)](_0x1de755)[_0x2f29ca(0x98b)](_0x22283d=>_0x22283d[_0x2f29ca(0x556)])};}const _0x2d76d0=_0x36d6fb[_0x2f29ca(0xb97)]?'':_0x2f29ca(0x8b5),_0xa3d8a=_0x36d6fb[_0x2f29ca(0x8b0)]!==_0x2f29ca(0xb04)?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x36d6fb['difficultyValue']+'\x22':'',_0x14375a=_0x36d6fb['complexityValue']!==_0x2f29ca(0xa11)?_0x2f29ca(0x407)+_0x36d6fb['complexityValue']+_0x2f29ca(0x33e):'';let _0x3c0638='';_0x36d6fb[_0x2f29ca(0x3a8)]&&_0x36d6fb[_0x2f29ca(0x3a8)]['length']>0x0&&(_0x3c0638='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x36d6fb[_0x2f29ca(0x3a8)]['join'](',\x20')+'.');let _0x5283e1='';_0x3b2856&&(_0x5283e1=_0x2f29ca(0x62b));let _0x1e4aa2='',_0x3e9d4e='',_0x3ad5f0,_0x47f745=_0x2f29ca(0x2e9)+_0x180cb2+'\x22';if(!_0x180cb2&&_0x53df25)_0x47f745='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x180cb2&&!_0x53df25&&(_0x47f745='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x337bc6={'type':_0x2f29ca(0x4f7),'properties':{'questionText':{'type':_0x2f29ca(0x5e7)},'options':{'type':'ARRAY','items':{'type':_0x2f29ca(0x5e7)}},'correctAnswerIndex':{'type':_0x2f29ca(0x5c9)},'explanation':{'type':_0x2f29ca(0x5e7)},'imageCode':{'type':_0x2f29ca(0x5e7)}},'required':['questionText',_0x2f29ca(0xb8c),_0x2f29ca(0x23d),_0x2f29ca(0xac7)]},_0x48f446={'type':_0x2f29ca(0x4f7),'properties':{'questionText':{'type':_0x2f29ca(0x5e7)},'idealAnswer':{'type':_0x2f29ca(0x5e7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2f29ca(0x5e7)}},'required':['questionText',_0x2f29ca(0x304),_0x2f29ca(0xac7)]},_0x14915d={'type':'OBJECT','properties':{'questionText':{'type':_0x2f29ca(0x5e7)},'questionType':{'type':_0x2f29ca(0x5e7),'enum':[_0x2f29ca(0x943),_0x2f29ca(0x9a5)]},'options':{'type':_0x2f29ca(0xace),'items':{'type':_0x2f29ca(0x5e7)}},'correctAnswerIndex':{'type':_0x2f29ca(0x5c9)},'idealAnswer':{'type':_0x2f29ca(0x5e7)},'explanation':{'type':_0x2f29ca(0x5e7)},'imageCode':{'type':_0x2f29ca(0x5e7)}},'required':[_0x2f29ca(0xbc9),_0x2f29ca(0x6ab),_0x2f29ca(0xac7)]},_0x176445={'type':_0x2f29ca(0x4f7),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2f29ca(0x5e7)}},'required':[_0x2f29ca(0xbc9),_0x2f29ca(0x684),_0x2f29ca(0xac7)]},_0x503b8b={'type':_0x2f29ca(0x4f7),'properties':{'questionType':{'type':_0x2f29ca(0x5e7),'enum':[_0x2f29ca(0x239)]},'stem':{'type':_0x2f29ca(0x5e7)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x2f29ca(0xace),'items':{'type':_0x2f29ca(0x5e7)}},'explanation':{'type':_0x2f29ca(0x5e7)},'imageCode':{'type':_0x2f29ca(0x5e7)}},'required':['questionType',_0x2f29ca(0x589),'correctResponse','allResponses',_0x2f29ca(0xac7)]};let _0x4c1a29;if(_0x3164d9!==null){const _0x3c961b=currentQuizData[_0x2f29ca(0x600)][_0x3164d9][_0x2f29ca(0x6ab)],_0x392751=_0x36d6fb[_0x2f29ca(0x758)]?_0x2f29ca(0x209):'';_0x1e4aa2=_0x2f29ca(0x519)+_0x47f745+'\x20'+_0x3c0638+'\x20'+_0xa3d8a+_0x2f29ca(0x76a)+_0x392751+'\x20'+simpleMathPrompt;if(_0x3c961b==='multiple_choice')_0x3ad5f0=_0x337bc6;else{if(_0x3c961b===_0x2f29ca(0x239))_0x3ad5f0={'type':_0x2f29ca(0x4f7),'properties':{'questionType':{'type':_0x2f29ca(0x5e7),'enum':['matching_item']},'stem':{'type':_0x2f29ca(0x5e7)},'correctResponse':{'type':_0x2f29ca(0x5e7)},'explanation':{'type':_0x2f29ca(0x5e7)},'imageCode':{'type':'STRING'}},'required':[_0x2f29ca(0x6ab),_0x2f29ca(0x589),_0x2f29ca(0x27f),_0x2f29ca(0xac7)]};else _0x3ad5f0=_0x48f446;}_0x4c1a29=_0x3ad5f0;}else{const _0x36e344=_0x36d6fb[_0x2f29ca(0x758)]?_0x2f29ca(0x9e8):'';switch(_0x36d6fb[_0x2f29ca(0x738)]){case _0x2f29ca(0x943):_0x1e4aa2=_0x2f29ca(0xaa9)+_0x2d76d0+'\x20'+_0x36d6fb['numQuestions']+_0x2f29ca(0x309)+_0x47f745+'\x20'+_0x3c0638+'\x20'+_0xa3d8a+'\x20'+_0x14375a+'\x20'+_0x5283e1+_0x2f29ca(0x5c1)+_0x36d6fb['numChoices']+_0x2f29ca(0x950)+_0x36e344+'\x20'+simpleMathPrompt,_0x3ad5f0=_0x337bc6;break;case _0x2f29ca(0x2c0):_0x1e4aa2='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2d76d0+'\x20'+_0x36d6fb['numQuestions']+_0x2f29ca(0x309)+_0x47f745+'\x20'+_0x3c0638+'\x20'+_0xa3d8a+'\x20'+_0x14375a+'\x20'+_0x5283e1+_0x2f29ca(0x944)+_0x36d6fb['numChoices']+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x36e344+'\x20'+simpleMathPrompt,_0x3ad5f0=_0x337bc6;break;case'fill_in_no_choices':_0x1e4aa2=_0x2f29ca(0x4d0)+_0x2d76d0+'\x20'+_0x36d6fb['numQuestions']+_0x2f29ca(0x309)+_0x47f745+'\x20'+_0x3c0638+'\x20'+_0xa3d8a+'\x20'+_0x14375a+'\x20'+_0x5283e1+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x36e344+'\x20'+simpleMathPrompt,_0x3ad5f0=_0x48f446;break;case'mixed':_0x1e4aa2=_0x2f29ca(0x93c)+_0x2d76d0+'\x20'+_0x36d6fb['numQuestions']+_0x2f29ca(0x309)+_0x47f745+'\x20'+_0x3c0638+'\x20'+_0xa3d8a+'\x20'+_0x14375a+'\x20'+_0x5283e1+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x36d6fb[_0x2f29ca(0x851)]+_0x2f29ca(0x7f6)+_0x36e344+'\x20'+simpleMathPrompt+'.',_0x3ad5f0=_0x14915d;break;case _0x2f29ca(0xb61):_0x1e4aa2=_0x2f29ca(0x754)+_0x2d76d0+'\x20'+_0x36d6fb['numQuestions']+_0x2f29ca(0x309)+_0x47f745+'\x20'+_0x3c0638+'\x20'+_0xa3d8a+'\x20'+_0x14375a+'\x20'+_0x5283e1+_0x2f29ca(0xc2f)+_0x36e344+'\x20'+simpleMathPrompt,_0x3ad5f0=_0x176445;break;case'matching':_0x1e4aa2=_0x2f29ca(0x72d)+_0x2d76d0+'\x20'+_0x36d6fb[_0x2f29ca(0x5e2)]+_0x2f29ca(0x900)+_0x47f745+'\x20'+_0x3c0638+'\x20'+_0xa3d8a+'\x20'+_0x14375a+'\x20'+_0x5283e1+_0x2f29ca(0x882)+_0x36e344+'\x20'+simpleMathPrompt,_0x3ad5f0=_0x503b8b;break;}_0x4c1a29={'type':_0x2f29ca(0x4f7),'properties':{'topic':{'type':_0x2f29ca(0x5e7)},'questions':{'type':_0x2f29ca(0xace),'items':_0x3ad5f0}},'required':['topic',_0x2f29ca(0x600)]};}const _0x2bd806=_0x2f29ca(0xb80);_0x53df25?(_0x1f97c4?_0x1e4aa2=_0x2f29ca(0xaed)+_0x53df25+_0x2f29ca(0xb5d)+_0x1e4aa2+_0x2bd806:_0x1e4aa2='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x53df25+_0x2f29ca(0xb5d)+_0x1e4aa2,_0x3e9d4e='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):(_0x1f97c4&&(_0x1e4aa2+=_0x2bd806),_0x3e9d4e=_0x2f29ca(0x377));let _0x36e9d5;return _0x3b2856?_0x36e9d5=[{'text':_0x1e4aa2},..._0x3b2856]:_0x36e9d5=_0x1e4aa2,handleApiCall(_0x36e9d5,_0x3e9d4e,_0x4c1a29,_0x3164d9,!![],_0x3c4c84,_0x4cac16);}async function generateQuizFromFile(_0x177376,_0x29010f){const _0x17b213=_0x5c7bd9,_0x248ecd=document[_0x17b213(0x82a)](_0x17b213(0x9fa))[_0x17b213(0x556)]['trim'](),_0x352d41=document['getElementById'](_0x17b213(0x629))[_0x17b213(0x556)],_0xd34ff1=document[_0x17b213(0x82a)](_0x17b213(0x379))['value'],_0x35fa9e=document[_0x17b213(0x82a)](_0x17b213(0x9ca))[_0x17b213(0x556)],_0x1d01b4=document[_0x17b213(0x82a)](_0x17b213(0x4a2))[_0x17b213(0x4be)],_0x579f71=document[_0x17b213(0x82a)](_0x17b213(0x614))[_0x17b213(0x4be)],_0x33db55=_0x579f71?'':'คณิตศาสตร์',_0x5b016d=document[_0x17b213(0x82a)](_0x17b213(0x2c4))['checked'];let _0x203ffc='',_0x386df8;const _0x2fe132=_0x1d01b4?_0x17b213(0x9e8):'';if(_0x5b016d)_0x203ffc='\x0a\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0a\x20\x20\x20\x20ภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0a\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x201.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a\x20\x20\x20\x202.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a\x20\x20\x20\x203.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a\x20\x20\x20\x204.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a\x20\x20\x20\x20'+_0x2fe132+_0x17b213(0x4b3)+simpleMathPrompt+'\x0a',_0x386df8={'type':_0x17b213(0x4f7),'properties':{'questionText':{'type':_0x17b213(0x5e7)},'questionType':{'type':_0x17b213(0x5e7),'enum':[_0x17b213(0x943),_0x17b213(0x9a5),_0x17b213(0xb61),_0x17b213(0x239)]},'options':{'type':_0x17b213(0xace),'items':{'type':_0x17b213(0x5e7)}},'correctAnswerIndex':{'type':_0x17b213(0x5c9)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':'STRING'},'correctResponse':{'type':_0x17b213(0x5e7)},'allResponses':{'type':_0x17b213(0xace),'items':{'type':_0x17b213(0x5e7)}},'explanation':{'type':_0x17b213(0x5e7)},'imageCode':{'type':_0x17b213(0x5e7)}},'required':[_0x17b213(0x6ab),'explanation']};else{let _0x2dcb31=_0x17b213(0x2e9)+_0x248ecd+'\x22';!_0x248ecd&&(_0x2dcb31=_0x17b213(0xbd0));switch(_0x352d41){case _0x17b213(0x943):_0x203ffc='สร้างแบบทดสอบปรนัย'+_0x33db55+'\x20'+_0xd34ff1+_0x17b213(0x309)+_0x2dcb31+_0x17b213(0x5c1)+_0x35fa9e+_0x17b213(0x950)+_0x2fe132+'\x20'+simpleMathPrompt,_0x386df8={'type':_0x17b213(0x4f7),'properties':{'questionText':{'type':_0x17b213(0x5e7)},'options':{'type':_0x17b213(0xace),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x17b213(0x5c9)},'explanation':{'type':_0x17b213(0x5e7)},'imageCode':{'type':'STRING'}},'required':[_0x17b213(0xbc9),_0x17b213(0xb8c),_0x17b213(0x23d),_0x17b213(0xac7)]};break;case'fill_in_with_choices':_0x203ffc=_0x17b213(0x4d0)+_0x33db55+'\x20'+_0xd34ff1+_0x17b213(0x309)+_0x2dcb31+_0x17b213(0x944)+_0x35fa9e+_0x17b213(0x226)+_0x2fe132+'\x20'+simpleMathPrompt,_0x386df8={'type':_0x17b213(0x4f7),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x17b213(0x5e7)}},'correctAnswerIndex':{'type':_0x17b213(0x5c9)},'explanation':{'type':_0x17b213(0x5e7)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x17b213(0xb8c),'correctAnswerIndex',_0x17b213(0xac7)]};break;case'fill_in_no_choices':_0x203ffc=_0x17b213(0x4d0)+_0x33db55+'\x20'+_0xd34ff1+_0x17b213(0x309)+_0x2dcb31+_0x17b213(0x9ee)+_0x2fe132+'\x20'+simpleMathPrompt,_0x386df8={'type':_0x17b213(0x4f7),'properties':{'questionText':{'type':_0x17b213(0x5e7)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x17b213(0x5e7)}},'required':[_0x17b213(0xbc9),_0x17b213(0x304),_0x17b213(0xac7)]};break;case'mixed':_0x203ffc=_0x17b213(0x93c)+_0x33db55+'\x20'+_0xd34ff1+_0x17b213(0x309)+_0x2dcb31+_0x17b213(0x61c)+_0x35fa9e+_0x17b213(0x7f6)+_0x2fe132+'\x20'+simpleMathPrompt+_0x17b213(0xaab),_0x386df8={'type':_0x17b213(0x4f7),'properties':{'questionText':{'type':_0x17b213(0x5e7)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x17b213(0x9a5)]},'options':{'type':_0x17b213(0xace),'items':{'type':_0x17b213(0x5e7)}},'correctAnswerIndex':{'type':_0x17b213(0x5c9)},'idealAnswer':{'type':_0x17b213(0x5e7)},'explanation':{'type':_0x17b213(0x5e7)},'imageCode':{'type':_0x17b213(0x5e7)}},'required':[_0x17b213(0xbc9),'questionType',_0x17b213(0xac7)]};break;case'true_false':_0x203ffc='สร้างคำถามแบบใช่/ไม่ใช่'+_0x33db55+'\x20'+_0xd34ff1+_0x17b213(0x309)+_0x2dcb31+_0x17b213(0x5a3)+_0x2fe132+'\x20'+simpleMathPrompt,_0x386df8={'type':_0x17b213(0x4f7),'properties':{'questionText':{'type':_0x17b213(0x5e7)},'correctAnswer':{'type':_0x17b213(0x346)},'explanation':{'type':_0x17b213(0x5e7)},'imageCode':{'type':_0x17b213(0x5e7)}},'required':[_0x17b213(0xbc9),_0x17b213(0x684),_0x17b213(0xac7)]};break;case _0x17b213(0xc0b):_0x203ffc='สร้างชุดคำถามจับคู่'+_0x33db55+'\x20'+_0xd34ff1+'\x20คู่\x20'+_0x2dcb31+_0x17b213(0xb10)+_0xd34ff1+_0x17b213(0x578)+_0x2fe132+'\x20'+simpleMathPrompt,_0x386df8={'type':_0x17b213(0x4f7),'properties':{'questionType':{'type':_0x17b213(0x5e7),'enum':[_0x17b213(0x239)]},'stem':{'type':_0x17b213(0x5e7)},'correctResponse':{'type':_0x17b213(0x5e7)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x17b213(0x5e7)},'imageCode':{'type':'STRING'}},'required':[_0x17b213(0x6ab),_0x17b213(0x589),_0x17b213(0x27f),_0x17b213(0x2c7),_0x17b213(0xac7)]};break;}}const _0x565635={'type':_0x17b213(0x4f7),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x386df8}},'required':[_0x17b213(0x231),_0x17b213(0x600)]},_0x348a5b=_0x17b213(0x84b)+_0x203ffc,_0x46b813={'contents':[{'parts':[{'text':_0x348a5b},{'inlineData':{'mimeType':_0x177376,'data':_0x29010f}}]}],'generationConfig':{'responseMimeType':_0x17b213(0x2f6),'responseSchema':_0x565635}};return handleApiCall(_0x46b813[_0x17b213(0x1e0)][0x0][_0x17b213(0x457)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x565635);}async function handleApiCall(_0x58d8aa,_0x2824d4,_0x414516,_0x34c2b3=null,_0x2a4b9e=!![],_0x12ba32=null,_0x12d7a2=null){const _0x10038a=_0x5c7bd9,_0x4c430a=document[_0x10038a(0x82a)](_0x10038a(0xbd4)),_0x5855c8=document[_0x10038a(0x82a)](_0x10038a(0xb72)),_0x5d0c0d=document[_0x10038a(0x82a)]('loader-text'),_0xe5446d=document[_0x10038a(0x82a)](_0x10038a(0x71b));_0x4c430a['classList']['remove'](_0x10038a(0x9b3));_0x34c2b3===null&&_0x2a4b9e&&(_0xe5446d[_0x10038a(0xa1c)]='');_0x5855c8[_0x10038a(0xbe2)]['remove'](_0x10038a(0x9b3)),_0x5d0c0d[_0x10038a(0xc26)]=_0x2824d4,document[_0x10038a(0x82a)](_0x10038a(0x8c1))[_0x10038a(0x814)]=!![],document['getElementById'](_0x10038a(0x9d7))[_0x10038a(0x814)]=!![],document[_0x10038a(0x82a)](_0x10038a(0x38d))[_0x10038a(0x814)]=!![];const _0x4de6fb=document['getElementById'](_0x10038a(0x5c0));if(_0x4de6fb)_0x4de6fb[_0x10038a(0x814)]=!![];const _0x3bbc3b=document[_0x10038a(0x82a)](_0x10038a(0x6be));if(_0x3bbc3b)_0x3bbc3b[_0x10038a(0x814)]=!![];const _0x1fcec0=document[_0x10038a(0x82a)](_0x10038a(0x58a));if(_0x1fcec0)_0x1fcec0['disabled']=!![];try{const _0x206e2f={'responseMimeType':'application/json','responseSchema':_0x414516},_0x521ac5=Array['isArray'](_0x58d8aa)?_0x58d8aa:[{'text':_0x58d8aa}],_0x29001a={'contents':[{'role':_0x10038a(0xc1f),'parts':_0x521ac5}],'generationConfig':_0x206e2f},_0x4421b1='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x3fd8e9='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x4421b1,_0x4754f7=await fetch(_0x3fd8e9,{'method':_0x10038a(0x87a),'headers':{'Content-Type':_0x10038a(0x2f6)},'body':JSON[_0x10038a(0x6b3)](_0x29001a)});if(!_0x4754f7['ok']){const _0x37b91a=await _0x4754f7[_0x10038a(0xab6)]();console[_0x10038a(0xb9a)](_0x10038a(0xab2),_0x37b91a);throw new Error(_0x10038a(0xc04)+_0x4754f7[_0x10038a(0x6d5)]);}const _0x2c19bd=await _0x4754f7[_0x10038a(0xafa)]();if(_0x2c19bd[_0x10038a(0x845)]?.[0x0]?.[_0x10038a(0x3e0)]?.['parts']?.[0x0]){let _0x1cfc05=_0x2c19bd[_0x10038a(0x845)][0x0][_0x10038a(0x3e0)][_0x10038a(0x457)][0x0][_0x10038a(0xab6)];if(_0x1cfc05[_0x10038a(0xb84)](_0x10038a(0x939)))_0x1cfc05=_0x1cfc05['substring'](0x7,_0x1cfc05[_0x10038a(0x4d9)]-0x3)[_0x10038a(0xbde)]();else _0x1cfc05[_0x10038a(0xb84)]('```')&&(_0x1cfc05=_0x1cfc05[_0x10038a(0x4c2)](0x3,_0x1cfc05['length']-0x3)[_0x10038a(0xbde)]());let _0x37c350=JSON[_0x10038a(0x4cb)](_0x1cfc05);if(_0x2a4b9e){if(_0x34c2b3!==null){if(_0x37c350['questionType']===_0x10038a(0x239)){const _0x49679d=currentQuizData[_0x10038a(0x600)][_0x10038a(0x98b)](_0x4bc1f4=>_0x4bc1f4[_0x10038a(0x27f)]);_0x37c350[_0x10038a(0x2c7)]=_0x49679d;const _0x50d834=currentQuizData[_0x10038a(0x600)][_0x34c2b3][_0x10038a(0x27f)],_0x5e7e27=_0x49679d['indexOf'](_0x50d834);_0x5e7e27>-0x1&&(_0x49679d[_0x5e7e27]=_0x37c350['correctResponse']),currentQuizData[_0x10038a(0x600)][_0x10038a(0x883)](_0x9c6b13=>{const _0x107a71=_0x10038a;if(_0x9c6b13[_0x107a71(0x6ab)]===_0x107a71(0x239))_0x9c6b13[_0x107a71(0x2c7)]=_0x49679d;});}currentQuizData[_0x10038a(0x600)][_0x34c2b3]=_0x37c350,displayGeneratedQuiz(currentQuizData,_0x12ba32,_0x12d7a2);}else{currentQuizData=_0x37c350;const _0xdb0804=document[_0x10038a(0x82a)](_0x10038a(0x629))[_0x10038a(0x556)];currentQuizData['quizType']=_0xdb0804,currentQuizData[_0x10038a(0x600)]&&currentQuizData[_0x10038a(0x600)]['forEach'](_0x41d528=>{const _0x39e254=_0x10038a;if(!_0x41d528[_0x39e254(0x6ab)]){if(_0xdb0804===_0x39e254(0x2c0))_0x41d528[_0x39e254(0x6ab)]=_0x39e254(0x943);else{if(_0xdb0804===_0x39e254(0xc12))_0x41d528[_0x39e254(0x6ab)]=_0x39e254(0x9a5);else _0x41d528[_0x39e254(0x6ab)]=_0xdb0804;}}}),displayGeneratedQuiz(currentQuizData,_0x12ba32,_0x12d7a2);}}return _0x37c350;}else{let _0x2988f0='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x2c19bd[_0x10038a(0x45f)]?.['blockReason'])_0x2988f0=_0x10038a(0xb87)+_0x2c19bd[_0x10038a(0x45f)][_0x10038a(0x5c6)]+'.';else _0x2c19bd[_0x10038a(0x845)]?.[0x0]?.[_0x10038a(0xc29)]&&_0x2c19bd[_0x10038a(0x845)][0x0][_0x10038a(0xc29)]!==_0x10038a(0x79b)&&(_0x2988f0=_0x10038a(0xbd2)+_0x2c19bd[_0x10038a(0x845)][0x0][_0x10038a(0xc29)]+'.');console['error'](_0x2988f0,JSON[_0x10038a(0x6b3)](_0x2c19bd));throw new Error(_0x2988f0);}}catch(_0x174bda){console[_0x10038a(0xb9a)](_0x10038a(0xb0f),_0x174bda),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ:\x20'+_0x174bda['message']);_0x34c2b3===null&&_0x2a4b9e&&(_0xe5446d[_0x10038a(0xa1c)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');throw _0x174bda;}finally{_0x5855c8[_0x10038a(0xbe2)][_0x10038a(0x5ca)](_0x10038a(0x9b3)),document['getElementById'](_0x10038a(0x8c1))[_0x10038a(0x814)]=![],document[_0x10038a(0x82a)](_0x10038a(0x9d7))[_0x10038a(0x814)]=![],document[_0x10038a(0x82a)](_0x10038a(0x38d))['disabled']=![];if(_0x4de6fb)_0x4de6fb[_0x10038a(0x814)]=![];if(_0x3bbc3b)_0x3bbc3b[_0x10038a(0x814)]=![];if(_0x1fcec0)_0x1fcec0[_0x10038a(0x814)]=![];}}function exitFullscreen(){const _0x3cea93=_0x5c7bd9;if(document[_0x3cea93(0xbee)])document[_0x3cea93(0xbee)]()[_0x3cea93(0xb4e)](_0x396183=>console[_0x3cea93(0xb9a)](_0x396183));else{if(document[_0x3cea93(0x59d)])document[_0x3cea93(0x59d)]();else document['msExitFullscreen']&&document[_0x3cea93(0x8d3)]();}}function enterFullscreen(){const _0x3ea8be=_0x5c7bd9,_0x1df24c=document[_0x3ea8be(0x870)];if(_0x1df24c['requestFullscreen'])_0x1df24c['requestFullscreen']()[_0x3ea8be(0xb4e)](_0x14eb5d=>{const _0x33000c=_0x3ea8be;console[_0x33000c(0xb9a)](_0x33000c(0x2b2)+_0x14eb5d[_0x33000c(0x6a5)]+'\x20('+_0x14eb5d[_0x33000c(0x97a)]+')');});else{if(_0x1df24c['webkitRequestFullscreen'])_0x1df24c[_0x3ea8be(0x2cd)]();else _0x1df24c[_0x3ea8be(0x820)]&&_0x1df24c['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x402afa=_0x5c7bd9;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x402afa(0xbdd),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x402afa(0x483)+maxCheatAttempts+_0x402afa(0x784)),document['getElementById']('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x402afa(0x98e),handleVisibilityChange),document[_0x402afa(0xb86)](_0x402afa(0x7da),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x402afa(0x54a),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x2bf27e=_0x5c7bd9;if(currentMode==='admin-testing'||!isQuizActive)return;if(document[_0x2bf27e(0x26f)]===_0x2bf27e(0x9b3))handleCheatingEvent();else document[_0x2bf27e(0x26f)]===_0x2bf27e(0xb0b)&&(console[_0x2bf27e(0x77c)](_0x2bf27e(0xb57)),requestWakeLock(),resetDimTimer());}function _0x34dc(_0x4ff5ef,_0x4e6e5d){const _0x3f69a5=_0x3f69();return _0x34dc=function(_0x34dcc4,_0x52b2c2){_0x34dcc4=_0x34dcc4-0x1a0;let _0x864f34=_0x3f69a5[_0x34dcc4];return _0x864f34;},_0x34dc(_0x4ff5ef,_0x4e6e5d);}function handleFullscreenChange(){const _0x21c51a=_0x5c7bd9;if(currentMode===_0x21c51a(0x41c)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x29a5c4,_0x1f6764=null,_0x3a9b19=null){const _0x16be73=_0x5c7bd9,_0x44333c=document[_0x16be73(0x82a)](_0x16be73(0x71b));let _0x5bce94='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x29a5c4[_0x16be73(0x231)]+_0x16be73(0x69d);_0x29a5c4[_0x16be73(0x600)][_0x16be73(0x883)]((_0x5c453b,_0x1400ee)=>{const _0x2a03bb=_0x16be73;!_0x5c453b['id']&&(_0x5c453b['id']='q_'+Date[_0x2a03bb(0x8cd)]()+'_'+_0x1400ee);const _0x2c5c94=_0x5c453b[_0x2a03bb(0x6ab)]||_0x29a5c4[_0x2a03bb(0x738)];_0x5bce94+=_0x2a03bb(0x5cc)+_0x1400ee+_0x2a03bb(0xa91)+_0x1400ee+_0x2a03bb(0xa4a)+_0x1400ee+_0x2a03bb(0x8ef);switch(_0x2c5c94){case _0x2a03bb(0x239):_0x5bce94+=_0x2a03bb(0x65d)+_0x1400ee+'\x22>'+(_0x1400ee+0x1)+'.\x20'+_0x5c453b[_0x2a03bb(0x589)]+'</p>';_0x5c453b[_0x2a03bb(0xb88)]&&(_0x5bce94+=_0x2a03bb(0x713)+_0x1400ee+_0x2a03bb(0x3bb)+_0x5c453b[_0x2a03bb(0xb88)]+'</div>');_0x5bce94+=_0x2a03bb(0x8bc)+_0x1400ee+'\x22>'+_0x5c453b[_0x2a03bb(0x27f)]+'</span></div>',_0x5bce94+=_0x2a03bb(0x303)+_0x1400ee+'\x22>'+_0x5c453b['explanation']+'</span></div>';break;case _0x2a03bb(0x9a5):_0x5bce94+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1400ee+'\x22>'+(_0x1400ee+0x1)+'.\x20'+_0x5c453b[_0x2a03bb(0xbc9)]+_0x2a03bb(0xc1e);_0x5c453b[_0x2a03bb(0xb88)]&&(_0x5bce94+=_0x2a03bb(0x713)+_0x1400ee+_0x2a03bb(0x3bb)+_0x5c453b['imageCode']+_0x2a03bb(0x59b));_0x5bce94+=_0x2a03bb(0x81b)+_0x1400ee+'\x22>'+_0x5c453b[_0x2a03bb(0x304)]+_0x2a03bb(0x8ed),_0x5bce94+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x1400ee+'\x22>'+_0x5c453b['explanation']+_0x2a03bb(0x8ed);break;case _0x2a03bb(0xb61):_0x5bce94+=_0x2a03bb(0x65d)+_0x1400ee+'\x22>'+(_0x1400ee+0x1)+'.\x20'+_0x5c453b['questionText']+_0x2a03bb(0xc1e);_0x5c453b['imageCode']&&(_0x5bce94+=_0x2a03bb(0x713)+_0x1400ee+_0x2a03bb(0x3bb)+_0x5c453b[_0x2a03bb(0xb88)]+_0x2a03bb(0x59b));_0x5bce94+=_0x2a03bb(0x7c2)+(_0x5c453b[_0x2a03bb(0x684)]===!![]?'text-green-600\x20font-bold':'')+_0x2a03bb(0x4cd)+(_0x5c453b[_0x2a03bb(0x684)]===![]?_0x2a03bb(0x6a6):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x5bce94+=_0x2a03bb(0x303)+_0x1400ee+'\x22>'+_0x5c453b[_0x2a03bb(0xac7)]+_0x2a03bb(0x8ed);break;case'fill_in_the_blank':case _0x2a03bb(0x943):default:_0x5bce94+=_0x2a03bb(0x65d)+_0x1400ee+'\x22>'+(_0x1400ee+0x1)+'.\x20'+_0x5c453b[_0x2a03bb(0xbc9)]+_0x2a03bb(0xc1e);_0x5c453b[_0x2a03bb(0xb88)]&&(_0x5bce94+='<div\x20id=\x22q-image-container-'+_0x1400ee+_0x2a03bb(0x3bb)+_0x5c453b['imageCode']+_0x2a03bb(0x59b));_0x5bce94+=_0x2a03bb(0x988)+_0x1400ee+_0x2a03bb(0x9f3)+(_0x5c453b['options']||[])[_0x2a03bb(0x98b)]((_0x5c3d69,_0x2269f7)=>_0x2a03bb(0x498)+(_0x2269f7===_0x5c453b[_0x2a03bb(0x23d)]?_0x2a03bb(0x6a6):'')+'\x22>'+_0x5c3d69+_0x2a03bb(0x516))[_0x2a03bb(0x5b3)]('')+_0x2a03bb(0x2ef),_0x5bce94+=_0x2a03bb(0x303)+_0x1400ee+'\x22>'+_0x5c453b[_0x2a03bb(0xac7)]+_0x2a03bb(0x8ed);break;}_0x5bce94+='</div>';}),_0x5bce94+=_0x16be73(0x3d1),_0x44333c[_0x16be73(0xa1c)]=_0x5bce94,document[_0x16be73(0xb24)](_0x16be73(0x47c))[_0x16be73(0x883)](_0x1b9adf=>_0x1b9adf[_0x16be73(0x68b)](_0x16be73(0x79e),handleEditQuestion)),document[_0x16be73(0xb24)](_0x16be73(0xab3))['forEach'](_0x2ea03b=>_0x2ea03b[_0x16be73(0x68b)](_0x16be73(0x79e),handleRegenerateQuestion)),document['getElementById'](_0x16be73(0xb76))['addEventListener'](_0x16be73(0x79e),exportQuizAsWorksheetPDF),document[_0x16be73(0x82a)]('verify-answers-btn')['addEventListener'](_0x16be73(0x79e),handleVerifyAnswers);const _0x26af63=document[_0x16be73(0x82a)](_0x16be73(0x89c));if(_0x26af63){const _0x3cc93d=_0x1f6764||currentProjectId;_0x26af63['addEventListener']('click',()=>saveQuiz(_0x3cc93d,_0x3a9b19));}if(window[_0x16be73(0x403)])window[_0x16be73(0x403)]['typesetPromise']([_0x44333c]);}function handleRegenerateQuestion(_0xb6e0e5){const _0x4c71c8=_0x5c7bd9,_0x294e87=_0xb6e0e5[_0x4c71c8(0x993)][_0x4c71c8(0x6d1)]['index'],_0x5aecfc=currentQuizData[_0x4c71c8(0x231)];showMessage(_0x4c71c8(0x42b)+(parseInt(_0x294e87)+0x1)+_0x4c71c8(0x9df)),generateQuiz(_0x5aecfc,null,parseInt(_0x294e87));}function getPointerPosition(_0x457e50,_0xec08ec){const _0x5f108c=_0x5c7bd9,_0x4ba6dd=_0x457e50[_0x5f108c(0xc28)]();let _0x390b21,_0x6794d;return _0xec08ec[_0x5f108c(0x886)]&&_0xec08ec[_0x5f108c(0x886)]['length']>0x0?(_0x390b21=_0xec08ec[_0x5f108c(0x886)][0x0]['clientX'],_0x6794d=_0xec08ec[_0x5f108c(0x886)][0x0][_0x5f108c(0x394)]):(_0x390b21=_0xec08ec[_0x5f108c(0x804)],_0x6794d=_0xec08ec[_0x5f108c(0x394)]),{'x':(_0x390b21-_0x4ba6dd['e'])/_0x4ba6dd['a'],'y':(_0x6794d-_0x4ba6dd['f'])/_0x4ba6dd['d']};}function startDrag(_0x728d93){const _0x27ffe2=_0x5c7bd9;_0x728d93[_0x27ffe2(0x1cc)]==='touchstart'&&_0x728d93['preventDefault']();const _0x336391=_0x728d93[_0x27ffe2(0x5a4)][_0x27ffe2(0x2d9)](_0x27ffe2(0x456));if(_0x336391){draggedSvgElement=_0x336391;const _0x5a8cbf=draggedSvgElement['ownerSVGElement'],_0x2608be=getPointerPosition(_0x5a8cbf,_0x728d93);svgOffset['x']=_0x2608be['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x2608be['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x2afaaf,_0x505387){const _0x1475a2=_0x5c7bd9,_0x18e397={};if(_0x505387[_0x1475a2(0x4d9)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x34e527=[..._0x505387][_0x1475a2(0x74a)]((_0x41cefc,_0x6af16b)=>{const _0x480e54=_0x1475a2,_0x6bc217=_0x6af16b[_0x480e54(0x2a0)]-_0x41cefc['latestScore'];if(_0x6bc217!==0x0)return _0x6bc217;const _0x26983c=_0x41cefc[_0x480e54(0x6b8)]?.[_0x480e54(0x4d9)]||0x1,_0x4c4303=_0x6af16b['attempts']?.[_0x480e54(0x4d9)]||0x1,_0x4ce8c8=_0x26983c-_0x4c4303;if(_0x4ce8c8!==0x0)return _0x4ce8c8;const _0x1f5493=new Date(_0x41cefc[_0x480e54(0x7b6)]),_0x1fa66a=new Date(_0x6af16b[_0x480e54(0x7b6)]),_0x1f2c35=_0x1f5493-_0x1fa66a;if(_0x1f2c35!==0x0)return _0x1f2c35;return _0x41cefc[_0x480e54(0xb38)][_0x480e54(0x318)](_0x6af16b[_0x480e54(0xb38)],'th');}),_0x57f36b=_0x34e527[_0x1475a2(0x4d9)],_0x30011c=Math[_0x1475a2(0xbda)](0x1,Math[_0x1475a2(0x33f)](_0x57f36b*0.33));if(_0x30011c===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x59c66c=_0x34e527['slice'](0x0,_0x30011c),_0x132906=_0x34e527['slice'](-_0x30011c),_0x22a6a7=_0x59c66c[_0x1475a2(0x98b)](_0x46c816=>_0x46c816[_0x1475a2(0xb38)]),_0x5694df=_0x132906[_0x1475a2(0x98b)](_0x1f3372=>_0x1f3372[_0x1475a2(0xb38)]);return _0x2afaaf['questions']['forEach']((_0x4ea47e,_0x81ff29)=>{const _0x178acb=_0x1475a2,_0x9ce7d=_0x4ea47e[_0x178acb(0x589)]||_0x4ea47e[_0x178acb(0xbc9)];let _0x1adf8b=0x0,_0x35a35e=0x0,_0x438950=0x0;const _0x3496c4=[],_0x2b5f74=[];_0x59c66c[_0x178acb(0x883)](_0x112ff4=>{const _0x41fe8a=_0x178acb,_0x577225=_0x112ff4['attempts'][_0x112ff4['attempts'][_0x41fe8a(0x4d9)]-0x1],_0x1a1e7c=_0x577225[_0x41fe8a(0x775)]['find'](_0x274473=>_0x274473[_0x41fe8a(0x872)]===_0x9ce7d);_0x3496c4['push']({'name':_0x112ff4[_0x41fe8a(0xb38)],'isCorrect':_0x1a1e7c?_0x1a1e7c[_0x41fe8a(0x548)]:![]}),_0x1a1e7c&&_0x1a1e7c[_0x41fe8a(0x548)]&&_0x35a35e++;}),_0x132906[_0x178acb(0x883)](_0x51960b=>{const _0x4d332f=_0x178acb,_0xa08761=_0x51960b[_0x4d332f(0x6b8)][_0x51960b[_0x4d332f(0x6b8)][_0x4d332f(0x4d9)]-0x1],_0x270695=_0xa08761[_0x4d332f(0x775)][_0x4d332f(0x241)](_0x5130c0=>_0x5130c0[_0x4d332f(0x872)]===_0x9ce7d);_0x2b5f74[_0x4d332f(0xbb1)]({'name':_0x51960b['studentName'],'isCorrect':_0x270695?_0x270695[_0x4d332f(0x548)]:![]}),_0x270695&&_0x270695[_0x4d332f(0x548)]&&_0x438950++;}),_0x505387['forEach'](_0x35dd07=>{const _0x33af2a=_0x178acb,_0x121138=_0x35dd07[_0x33af2a(0x6b8)][_0x35dd07[_0x33af2a(0x6b8)]['length']-0x1],_0x1a7419=_0x121138[_0x33af2a(0x775)][_0x33af2a(0x241)](_0x44dd50=>_0x44dd50[_0x33af2a(0x872)]===_0x9ce7d);_0x1a7419&&_0x1a7419['isCorrect']&&_0x1adf8b++;});const _0x3b2cfe=_0x57f36b>0x0?_0x1adf8b/_0x57f36b:0x0,_0x9a78fe=_0x30011c>0x0?_0x35a35e/_0x30011c-_0x438950/_0x30011c:0x0;_0x18e397[_0x81ff29]={'p':_0x3b2cfe,'r':_0x9a78fe,'upperGroupResponders':_0x3496c4,'lowerGroupResponders':_0x2b5f74};}),{'perQuestionStats':_0x18e397,'overallGroups':{'upperGroupNames':_0x22a6a7,'lowerGroupNames':_0x5694df}};}function drag(_0x5c529f){const _0x326741=_0x5c7bd9;if(draggedSvgElement){_0x5c529f['preventDefault']();const _0x14730d=draggedSvgElement[_0x326741(0x25d)],_0x1a05c4=getPointerPosition(_0x14730d,_0x5c529f),_0x6f8ed5=_0x14730d[_0x326741(0x3c5)][_0x326741(0xa98)];let _0x4877bb=_0x1a05c4['x']-svgOffset['x'],_0x48fa5b=_0x1a05c4['y']-svgOffset['y'];const _0x58c601=draggedSvgElement['getBBox']();_0x4877bb=Math[_0x326741(0xbda)](_0x6f8ed5['x'],Math[_0x326741(0x73b)](_0x4877bb,_0x6f8ed5['x']+_0x6f8ed5[_0x326741(0x257)]-_0x58c601[_0x326741(0x257)])),_0x48fa5b=Math[_0x326741(0xbda)](_0x6f8ed5['y'],Math['min'](_0x48fa5b,_0x6f8ed5['y']+_0x6f8ed5[_0x326741(0x38a)]-_0x58c601[_0x326741(0x38a)])),draggedSvgElement[_0x326741(0xb94)](null,'x',_0x4877bb),draggedSvgElement[_0x326741(0xb94)](null,'y',_0x48fa5b);}}function endDrag(_0x40b641){draggedSvgElement=null;}function handleSvgEditClick(_0x20eb92){const _0x43754f=_0x5c7bd9;if(_0x20eb92['target'][_0x43754f(0xbe2)][_0x43754f(0x5e6)](_0x43754f(0x223))){const _0x27db41=_0x20eb92['target'][_0x43754f(0x6d1)][_0x43754f(0x495)],_0x1fbd65=_0x20eb92[_0x43754f(0x993)],_0x1a2743=_0x1fbd65[_0x43754f(0x410)]('#'+_0x27db41);_0x1a2743&&_0x1a2743[_0x43754f(0x521)](),_0x20eb92[_0x43754f(0x5a4)]['remove']();}}function handleEditQuestion(_0x3dd70d){const _0x405776=_0x5c7bd9,_0xc99d34=_0x3dd70d[_0x405776(0x993)],_0xeed4e4=_0xc99d34['dataset'][_0x405776(0x94a)],_0x567054=currentQuizData['questions'][_0xeed4e4],_0x1c6753=document[_0x405776(0x82a)](_0x405776(0x53d)+_0xeed4e4),_0x393e03=document[_0x405776(0x82a)](_0x405776(0xa12)+_0xeed4e4),_0x2f6c8a=document[_0x405776(0x82a)](_0x405776(0xb5b)+_0xeed4e4);if(_0xc99d34['innerHTML'][_0x405776(0x918)](_0x405776(0x3c2))){_0xc99d34[_0x405776(0xa1c)]=_0x405776(0x6c4),_0xc99d34[_0x405776(0x947)]=_0x405776(0x43c);if(_0x1c6753)_0x1c6753[_0x405776(0x91b)]=!![];if(_0x393e03)_0x393e03[_0x405776(0x91b)]=!![];if(_0x2f6c8a){const _0x23655b=_0x2f6c8a[_0x405776(0x410)](_0x405776(0x267));if(_0x23655b){const _0x770046=_0x23655b[_0x405776(0xb24)](_0x405776(0xab6));_0x770046[_0x405776(0x883)]((_0x460ef2,_0x38a849)=>{const _0x3dcd2e=_0x405776,_0x2ad024=_0x3dcd2e(0x7c6)+_0xeed4e4+'-'+_0x38a849;_0x460ef2['id']=_0x2ad024,_0x460ef2[_0x3dcd2e(0xbe2)][_0x3dcd2e(0x5ca)](_0x3dcd2e(0x9d8)),_0x460ef2['style'][_0x3dcd2e(0xb6e)]=_0x3dcd2e(0x6d4);const _0xcd747d=document['createElementNS'](_0x3dcd2e(0x764),_0x3dcd2e(0x1f4)),_0x4327a6=_0x460ef2[_0x3dcd2e(0x802)]();_0xcd747d[_0x3dcd2e(0x2eb)]('cx',String(_0x4327a6['x']+_0x4327a6[_0x3dcd2e(0x257)]+0x5)),_0xcd747d[_0x3dcd2e(0x2eb)]('cy',String(_0x4327a6['y']+_0x4327a6[_0x3dcd2e(0x38a)]/0x2-0x5)),_0xcd747d['setAttribute']('r','5'),_0xcd747d[_0x3dcd2e(0x2eb)]('fill',_0x3dcd2e(0x7a5)),_0xcd747d[_0x3dcd2e(0x2eb)](_0x3dcd2e(0x72f),_0x3dcd2e(0x223)),_0xcd747d[_0x3dcd2e(0x6d1)]['targetId']=_0x2ad024,_0x460ef2[_0x3dcd2e(0x774)](_0xcd747d);}),_0x23655b[_0x405776(0x68b)]('mousedown',startDrag),_0x23655b[_0x405776(0x68b)]('mousemove',drag),_0x23655b[_0x405776(0x68b)](_0x405776(0x429),endDrag),_0x23655b[_0x405776(0x68b)]('mouseleave',endDrag),_0x23655b[_0x405776(0x68b)]('touchstart',startDrag,{'passive':![]}),_0x23655b[_0x405776(0x68b)](_0x405776(0x6fd),drag,{'passive':![]}),_0x23655b[_0x405776(0x68b)](_0x405776(0x4af),endDrag),_0x23655b[_0x405776(0x68b)]('touchcancel',endDrag),_0x23655b[_0x405776(0x68b)]('click',handleSvgEditClick);}}if(_0x1c6753)_0x1c6753[_0x405776(0x659)]();}else{_0xc99d34[_0x405776(0xa1c)]=_0x405776(0x60f),_0xc99d34[_0x405776(0x947)]='แก้ไขข้อนี้';if(_0x1c6753){_0x1c6753[_0x405776(0x91b)]=![];const _0x49cdac=_0x567054[_0x405776(0x6ab)]||currentQuizData[_0x405776(0x738)];_0x49cdac===_0x405776(0x239)?_0x567054[_0x405776(0x589)]=_0x1c6753['innerText']['substring'](_0x1c6753['innerText'][_0x405776(0x896)]('.')+0x2)[_0x405776(0xbde)]():_0x567054['questionText']=_0x1c6753[_0x405776(0x93d)][_0x405776(0x4c2)](_0x1c6753['innerText'][_0x405776(0x896)]('.')+0x2)['trim']();}_0x393e03&&(_0x393e03[_0x405776(0x91b)]=![],_0x567054[_0x405776(0xac7)]=_0x393e03[_0x405776(0x93d)]);if(_0x2f6c8a){const _0x1eb387=_0x2f6c8a[_0x405776(0x410)]('svg');if(_0x1eb387){const _0xcb7cbd=_0x1eb387[_0x405776(0x902)](!![]);_0xcb7cbd[_0x405776(0xb24)](_0x405776(0x797))[_0x405776(0x883)](_0x2bb2d4=>_0x2bb2d4[_0x405776(0x521)]()),_0xcb7cbd['querySelectorAll']('.draggable-text')[_0x405776(0x883)](_0xda6848=>{const _0x276808=_0x405776;_0xda6848[_0x276808(0xbe2)][_0x276808(0x521)]('draggable-text'),_0xda6848[_0x276808(0x95f)][_0x276808(0xb6e)]=_0x276808(0x574),_0xda6848['removeAttribute']('id');}),_0x567054[_0x405776(0xb88)]=_0xcb7cbd[_0x405776(0xaf2)],_0x1eb387[_0x405776(0xb86)]('mousedown',startDrag),_0x1eb387[_0x405776(0xb86)]('mousemove',drag),_0x1eb387[_0x405776(0xb86)](_0x405776(0x429),endDrag),_0x1eb387[_0x405776(0xb86)]('mouseleave',endDrag),_0x1eb387['removeEventListener']('touchstart',startDrag),_0x1eb387[_0x405776(0xb86)]('touchmove',drag),_0x1eb387['removeEventListener']('touchend',endDrag),_0x1eb387[_0x405776(0xb86)]('touchcancel',endDrag),_0x1eb387[_0x405776(0xb86)](_0x405776(0x79e),handleSvgEditClick),_0x1eb387[_0x405776(0xb24)]('.delete-svg-btn')[_0x405776(0x883)](_0x528b1e=>_0x528b1e[_0x405776(0x521)]()),_0x1eb387['querySelectorAll'](_0x405776(0x456))[_0x405776(0x883)](_0x32ae21=>{const _0x2598fe=_0x405776;_0x32ae21[_0x2598fe(0xbe2)][_0x2598fe(0x521)](_0x2598fe(0x9d8)),_0x32ae21[_0x2598fe(0x95f)][_0x2598fe(0xb6e)]=_0x2598fe(0x574);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x3058b7){const _0x4bb3d9=_0x5c7bd9,_0x5a6920=document['getElementById'](_0x4bb3d9(0x476)),_0x50b4dc=document[_0x4bb3d9(0x82a)](_0x4bb3d9(0x810));_0x50b4dc[_0x4bb3d9(0xa1c)]=_0x4bb3d9(0x2a1),_0x5a6920[_0x4bb3d9(0xbe2)]['remove'](_0x4bb3d9(0x9b3));try{const _0x4b9fc7=doc(db,_0x4bb3d9(0x2fd)+appId+_0x4bb3d9(0x74e),_0x3058b7),_0x1478c1=await getDoc(_0x4b9fc7);if(!_0x1478c1[_0x4bb3d9(0x4a4)]())throw new Error(_0x4bb3d9(0x2d3));currentEditingQuizData={'id':_0x3058b7,..._0x1478c1[_0x4bb3d9(0x958)]()},renderQuizEditor(currentEditingQuizData);}catch(_0xc700ce){console[_0x4bb3d9(0xb9a)](_0x4bb3d9(0x313),_0xc700ce),showMessage(_0x4bb3d9(0xaf7)),_0x5a6920['classList'][_0x4bb3d9(0x5ca)](_0x4bb3d9(0x9b3));}}function renderQuizEditor(_0x437e4b){const _0x326482=_0x5c7bd9;document[_0x326482(0x82a)](_0x326482(0x608))[_0x326482(0x556)]=_0x437e4b[_0x326482(0x231)];const _0xf39874=document[_0x326482(0x82a)](_0x326482(0x810));let _0x3a9ab7=_0x437e4b[_0x326482(0x600)]['map']((_0x3d3f04,_0x54fbf5)=>{const _0x2c97cc=_0x326482;let _0x3de4e6='';const _0x4b5e2b=_0x3d3f04[_0x2c97cc(0x6ab)]||_0x437e4b['quizType'];switch(_0x4b5e2b){case _0x2c97cc(0x943):const _0x4bf13b=(_0x3d3f04[_0x2c97cc(0xb8c)]||[])[_0x2c97cc(0x98b)]((_0x31157d,_0x36b3df)=>_0x2c97cc(0x528)+_0x54fbf5+_0x2c97cc(0x90a)+_0x36b3df+'\x22\x20'+(_0x36b3df===_0x3d3f04['correctAnswerIndex']?'checked':'')+_0x2c97cc(0x8d5)+_0x31157d+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2c97cc(0x5b3)]('');_0x3de4e6=_0x2c97cc(0x4d4)+_0x4bf13b+_0x2c97cc(0x248);break;case _0x2c97cc(0x9a5):_0x3de4e6=_0x2c97cc(0x8e6)+(_0x3d3f04[_0x2c97cc(0x304)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2c97cc(0xb61):_0x3de4e6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x54fbf5+_0x2c97cc(0x7c7)+(_0x3d3f04[_0x2c97cc(0x684)]===!![]?_0x2c97cc(0x4be):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x54fbf5+_0x2c97cc(0x7b8)+(_0x3d3f04[_0x2c97cc(0x684)]===![]?'checked':'')+_0x2c97cc(0xa51);break;case _0x2c97cc(0x239):_0x3de4e6=_0x2c97cc(0x1bc)+(_0x3d3f04[_0x2c97cc(0x27f)]||'')+_0x2c97cc(0x297);break;}const _0x527607=_0x3d3f04[_0x2c97cc(0xbc9)]||_0x3d3f04['stem']||'';return _0x2c97cc(0x903)+_0x54fbf5+_0x2c97cc(0x285)+_0x4b5e2b+_0x2c97cc(0x5eb)+(_0x54fbf5+0x1)+'\x20('+_0x4b5e2b+_0x2c97cc(0x927)+_0x527607+_0x2c97cc(0x744)+_0x3de4e6+_0x2c97cc(0x1ab);})[_0x326482(0x5b3)]('');_0xf39874[_0x326482(0xa1c)]=_0x3a9ab7,_0xf39874[_0x326482(0xb24)](_0x326482(0xa0a))[_0x326482(0x883)](_0x4000d0=>{const _0x21a649=_0x326482;_0x4000d0['addEventListener'](_0x21a649(0x79e),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x1be02e){const _0x4c9cc8=_0x5c7bd9,_0x577757=_0x1be02e['currentTarget'],_0x5ea649=_0x577757[_0x4c9cc8(0x2d9)](_0x4c9cc8(0xac0));if(!_0x5ea649)return;const _0x5e83e6=parseInt(_0x5ea649[_0x4c9cc8(0x6d1)][_0x4c9cc8(0x639)],0xa);if(isNaN(_0x5e83e6)||!currentEditingQuizData[_0x4c9cc8(0x600)][_0x5e83e6]){showMessage(_0x4c9cc8(0x7ce));return;}const _0x1f64e6=currentEditingQuizData['questions'][_0x5e83e6];_0x577757[_0x4c9cc8(0xa1c)]=_0x4c9cc8(0x2f7),_0x577757[_0x4c9cc8(0x814)]=!![];const _0x16554e=_0x4c9cc8(0xbc4)+JSON[_0x4c9cc8(0x6b3)](_0x1f64e6)+_0x4c9cc8(0x9dc);let _0x38383d;const _0x3adce9=_0x1f64e6[_0x4c9cc8(0x6ab)]||currentEditingQuizData[_0x4c9cc8(0x738)];switch(_0x3adce9){case _0x4c9cc8(0x9a5):_0x38383d={'type':'OBJECT','properties':{'questionText':{'type':_0x4c9cc8(0x5e7)},'idealAnswer':{'type':_0x4c9cc8(0x5e7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4c9cc8(0x5e7)}},'required':[_0x4c9cc8(0xbc9),_0x4c9cc8(0x304),_0x4c9cc8(0xac7)]};break;case _0x4c9cc8(0x943):default:_0x38383d={'type':_0x4c9cc8(0x4f7),'properties':{'questionText':{'type':_0x4c9cc8(0x5e7)},'options':{'type':_0x4c9cc8(0xace),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4c9cc8(0x5e7)}},'required':[_0x4c9cc8(0xbc9),_0x4c9cc8(0xb8c),'correctAnswerIndex','explanation']};break;}try{let _0x41c4f6=await callAnalysisApi(_0x16554e,_0x38383d);_0x41c4f6['options']&&Array[_0x4c9cc8(0x90e)](_0x41c4f6[_0x4c9cc8(0xb8c)])&&(_0x41c4f6[_0x4c9cc8(0xb8c)]=_0x41c4f6['options']['map'](_0x4fcec7=>typeof _0x4fcec7==='string'?_0x4fcec7[_0x4c9cc8(0x973)](/S(\s*[\d_]+?\s*)S/g,_0x4c9cc8(0x452)):_0x4fcec7)),_0x1f64e6['imageCode']&&_0x1f64e6[_0x4c9cc8(0xb88)][_0x4c9cc8(0x918)](_0x4c9cc8(0x716))&&(_0x41c4f6[_0x4c9cc8(0xb88)]=''),currentEditingQuizData['questions'][_0x5e83e6]={..._0x1f64e6,..._0x41c4f6},renderQuizEditor(currentEditingQuizData),showMessage(_0x4c9cc8(0xa7f));}catch(_0x648dbf){console[_0x4c9cc8(0xb9a)](_0x4c9cc8(0x6e7),_0x648dbf),showMessage(_0x4c9cc8(0x1a4)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x4fc1ab=_0x5c7bd9,_0x2d75ee=document[_0x4fc1ab(0x82a)](_0x4fc1ab(0x83c));_0x2d75ee[_0x4fc1ab(0x814)]=!![],_0x2d75ee[_0x4fc1ab(0xa1c)]=_0x4fc1ab(0x2af);try{const _0x26ba07=document[_0x4fc1ab(0x82a)](_0x4fc1ab(0x608))[_0x4fc1ab(0x556)],_0x1022af=document[_0x4fc1ab(0xb24)](_0x4fc1ab(0xac0));let _0x35d298=[];const _0x18e74e=Array[_0x4fc1ab(0x4a0)](_0x1022af)[_0x4fc1ab(0x98b)]((_0x5de577,_0x2c721e)=>{const _0x4b9a2c=_0x4fc1ab,_0x41072f=_0x5de577['dataset'][_0x4b9a2c(0x24a)],_0x12af13=_0x5de577[_0x4b9a2c(0x410)](_0x4b9a2c(0x1e4))[_0x4b9a2c(0x556)][_0x4b9a2c(0x973)](/\n/g,_0x4b9a2c(0x1eb));let _0x3975f0={'questionType':_0x41072f};const _0xa77113=currentEditingQuizData['questions'][_0x2c721e];switch(_0x41072f){case _0x4b9a2c(0x943):_0x3975f0[_0x4b9a2c(0xbc9)]=_0x12af13;const _0x44a5f1=_0x5de577[_0x4b9a2c(0xb24)](_0x4b9a2c(0x9ad));_0x3975f0[_0x4b9a2c(0xb8c)]=Array[_0x4b9a2c(0x4a0)](_0x44a5f1)[_0x4b9a2c(0x98b)](_0x2fcfca=>_0x2fcfca[_0x4b9a2c(0x556)]);const _0x4a5e49=_0x5de577[_0x4b9a2c(0x410)]('input[type=\x22radio\x22]:checked');_0x3975f0[_0x4b9a2c(0x23d)]=_0x4a5e49?parseInt(_0x4a5e49[_0x4b9a2c(0x556)]):0x0;break;case _0x4b9a2c(0x9a5):_0x3975f0[_0x4b9a2c(0xbc9)]=_0x12af13,_0x3975f0[_0x4b9a2c(0x304)]=_0x5de577[_0x4b9a2c(0x410)]('.ideal-answer-input')['value'];break;case'true_false':_0x3975f0['questionText']=_0x12af13;const _0x3a142c=_0x5de577['querySelector'](_0x4b9a2c(0x984));_0x3975f0[_0x4b9a2c(0x684)]=_0x3a142c?_0x3a142c[_0x4b9a2c(0x556)]==='true':!![];break;case _0x4b9a2c(0x239):_0x3975f0[_0x4b9a2c(0x589)]=_0x12af13;const _0xa5387f=_0x5de577[_0x4b9a2c(0x410)](_0x4b9a2c(0x8a4));_0x3975f0['correctResponse']=_0xa5387f?_0xa5387f[_0x4b9a2c(0x556)]:'',_0x35d298[_0x4b9a2c(0xbb1)](_0x3975f0[_0x4b9a2c(0x27f)]);break;default:_0x3975f0[_0x4b9a2c(0xbc9)]=_0x12af13;break;}return{..._0xa77113,..._0x3975f0};});_0x35d298[_0x4fc1ab(0x4d9)]>0x0&&_0x18e74e[_0x4fc1ab(0x883)](_0x376e9e=>{const _0x975f2a=_0x4fc1ab;_0x376e9e[_0x975f2a(0x6ab)]===_0x975f2a(0x239)&&(_0x376e9e[_0x975f2a(0x2c7)]=_0x35d298);});const _0x44b485=currentEditingQuizData['id'],_0x2de2d4=doc(db,_0x4fc1ab(0x2fd)+appId+_0x4fc1ab(0x74e),_0x44b485);await updateDoc(_0x2de2d4,{'topic':_0x26ba07,'questions':_0x18e74e}),document[_0x4fc1ab(0x82a)](_0x4fc1ab(0x476))['classList']['add']('hidden'),showMessage(_0x4fc1ab(0x499),()=>initiateReGradeProcess(_0x44b485));}catch(_0x4a4827){console[_0x4fc1ab(0xb9a)](_0x4fc1ab(0x58c),_0x4a4827),showMessage(_0x4fc1ab(0xa6d));}finally{_0x2d75ee[_0x4fc1ab(0x814)]=![],_0x2d75ee[_0x4fc1ab(0xa1c)]=_0x4fc1ab(0x9d1);}}function _0x3f69(){const _0x4246d9=['none','.quiz-result-card','text','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','body','workerSrc','พอใช้','ค่าเสื่อมราคา','ลบหัวข้อสำเร็จ','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้ภาษาที่เข้าใจง่าย\x20ใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','delete','.question-editor-item','worksheet-tab','confirm-join-game-btn','เปิดใช้งาน','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','ไม่พบแบบทดสอบสำหรับรหัสนี้','Error\x20saving\x20lesson\x20to\x20project:','explanation','ราชาคัมแบ็ก','1137488QHCOuG','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','topic-tab','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ARRAY','quizMode','cancel-passcode-btn','bg-green-50','\x27\x20ในหัวข้อ\x20\x27','ผ่าน','การจัดหมู่\x20(Combination)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','bank-quiz-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x20(สำหรับ\x20','เงินงวด\x20(อนุกรมเงินงวด)','modal-close-btn','เริ่มกิจกรรม:\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','.edit-custom-topic-btn','team-player-status-grid','border-gray-200','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','timer-bar','\x5cle','fixedData','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','key','ai-quiz-generator-v3','confidence-scoring-toggle','เรเดียนและการแปลงหน่วย','จากเนื้อหาต่อไปนี้:\x20\x22','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','.ideal-answer-input,\x20.correct-response-input','ตอบถูก\x203\x20ข้อติดต่อกัน','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','outerHTML','backgroundColor','ความเท่ากันทุกประการของสามเหลี่ยม','pop','ฟังก์ชันลอการิทึม','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','json','startTime','asc','reset-project-order-btn','การสร้างรูปด้วยวงเวียน–สันตรง','scores-tab-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','auto','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','กำลังเตรียมไฟล์ข้อสอบอ้างอิง...','earned-badges-container','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','visible','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','close-presentation-btn','27411472','Error\x20in\x20handleApiCall:','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','standard','blueprint-topics-list-container','ยังไม่มีนักเรียนส่งงาน','ร้อยละประยุกต์','บทเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','lessonPlan','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','แก้ไขสูตรคณิตศาสตร์\x20','กำลังโหลดคลังข้อสอบทั้งหมด...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','button[data-id]','border-red-300\x20bg-red-50','Failed\x20to\x20kick\x20player\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','suggestedAnswer','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','querySelectorAll','.unpair-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','rgba(239,\x2068,\x2068,\x200.9)','การลบ','คัดลอกรหัสแล้ว!','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','text-gray-400\x20hover:text-indigo-600','false','.cancel-edit-topic-btn','countdown-display','project-quizzes-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','#ffffff','/public/data/quizzes/','โดยเน้นสร้างเนื้อหาและโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','.parallel-quiz-btn','ความคาดหมาย\x20(Expected\x20value)','text-blue-700\x20bg-blue-100','studentName','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','file-input-area','ความชันเส้นสัมผัส','multiply','_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','confirm-global-live-btn','คะแนน','Error\x20deleting\x20submission:','next-drill-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','cos','\x5cfrac{$1}{$2}','กำลังวิเคราะห์หัวข้อ...','sync-manage-players-btn','กรุณาเลือกโปรเจคก่อน','ส่วนเบี่ยงเบนเฉลี่ย','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x22\x20data-name=\x22','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','catch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','เลือกโปรเจคเพื่อบันทึก','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','ไม่มีผู้ตอบตัวเลือกนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','team-quiz-topic','MathJax\x20re-render\x20failed:','อสมการเชิงเส้น','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','q-image-container-','ตรวจทานเฉลยเสร็จสิ้น!','\x22,\x20','.bp-delete-topic-btn','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','answer-grid-container','true_false','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','confirm-quiz-status-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','transform','random','bp-quiz-settings-btn','undo-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','total','cursor','Error\x20generating\x20worksheet:','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','reveal-answer-btn','loader','\x20ชุดสำเร็จ!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','textarea[name=\x22team_answer\x22]','export-worksheet-pdf-btn','upperGroupNames','submittedAt','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','แบบปรนัย\x204\x20ตัวเลือก','Loaded\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','เกิดข้อผิดพลาดในการเข้าร่วมเกม','submission-status-chart','\x20**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','lessonContent','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','startsWith','ดอทโปรดักต์\x20(dot)','removeEventListener','AI\x20request\x20was\x20blocked.\x20Reason:\x20','imageCode','preTScore','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-question','options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','upperGroupResponders','\x20หัวข้อ)','cancel-global-live-btn','-tab-content','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','setAttributeNS','.copy-quiz-id-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','isNormalTopic','tfrac','question','error','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','.quiz-bank-settings-btn','highlighter-tools-group','กรุณาพิมพ์คำตอบของกลุ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','cancel-delete-btn','lesson-view-modal','#E5E7EB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','ระยะเวลา\x20(นาที):','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','lesson-plan-content','ไม่มี','จำนวนเต็มลบ','ก่อนเรียน','close-student-rankings-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','แคลคูลัสเบื้องต้น','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','push','normal','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','live-race','#results-table\x20thead\x20tr','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wasConfident','comparison-individual-tab','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','Error\x20saving\x20settings:','\x22\x20data-pre-test-id=\x22','mainTopic','answeredCurrentQuestion','bg-black/10','resultsDisplay','quizId','players','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','PERFECT_SCORE','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','top','กรุณาป้อนรหัสแบบทดสอบ','questionText','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confirm-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-try-quiz-btn','ไม่พบข้อมูลบทเรียนที่บันทึกไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','input[type=\x22radio\x22][value=\x22','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','quiz-generation-area','inactive','source-over','project-detail','pen','text-yellow-800','max','คำถามดิบ:\x20\x22','bg-green-400\x20text-white\x20font-bold','screen_exit','trim','className','text-red-800','Error\x20joining\x20sync\x20game:','classList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-title','hint-btn','correct','comparison','getItem','opacity-50','bg-green-100','ring-purple-400','exitFullscreen','add-custom-math-topic-btn','ปริมาตรรูปทรงสามมิติ','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','comparison-modal','140569KxHBfI','commit','กรุณาเลือกโปรเจคปลายทาง','Error\x20during\x20class\x20analysis:','student-rankings-modal','manual_release','loopUntilPass','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','half_mark_status','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','removeChild','API\x20call\x20failed\x20with\x20status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','helvetica','\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','practiceProblems','matching','pen-tool-btn','การบวกเศษส่วน','/public/data/blueprintProjects','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','toLocaleString','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','fill_in_no_choices','lesson-view-title','ไม่สามารถเพิ่มนักเรียนได้','student-quiz-leaderboard-content','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</strong></p>','รหัสไม่ถูกต้อง','bar','td,\x20th','-options','ไม่สามารถสร้างโปรเจคได้','</p>','user','per-question-options','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','members','/public/data/learnedFixes','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textContent','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getScreenCTM','finishReason','generated','fa-dumbbell\x20text-gray-700','Re-grade\x20process\x20failed:','presentation-explanation','\x20คนที่ส่ง\x20ตอบถูก\x20(','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','per_question','Error\x20saving\x20to\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','rename-quiz-modal','scheduled_pending','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','setFont','authed_project_','</div>\x0a</div>\x0a','timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','wheel','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','การแจกแจงปกติและ\x20z-score','กรุณาป้อนหัวข้อสำหรับใบงาน','mousedown','frac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','kick-player-btn','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','student-quiz-leaderboard-tab','questionId','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Error\x20generating\x20from\x20link:','topics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','<div\x20class=\x22my-6\x22>','API\x20Error\x20Body:','medium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแก้ไข','toDataURL','not-found','กิจกรรมสิ้นสุดลงแล้ว','type','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','text-red-700','\x20|\x20ID:\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','applicationHTML','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','quiz-id-input','ท็อปฟอร์ม','bp-project-title','lower_group_count','abs','<p\x20class=\x22text-xl\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-search-input','กรุณาเลือกไฟล์ก่อน','sqrt','contents','eraser','confirm-game-start-modal','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','textarea','timerMode','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','bg-green-200\x20text-green-900\x20font-bold','<br>','rows','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','Error\x20processing\x20file\x20for\x20AI:','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','แบบทดสอบที่ติดดาว','bg-blue-100\x20text-blue-800','deselect-all-topics-btn','admin','circle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','badgesCount','analytics-summary-cards','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','หยุดระบบจับเวลาหรี่หน้าจอ','\x22>ใช่</p>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','shadowColor','text-blue-800','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','short','fa-shield-alt\x20text-gray-600','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','อัปเดตสถานะสำเร็จ','font-bold\x20text-red-700\x20line-through','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','results-tab','/public/data/teamQuizzes','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','project-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','move-quiz-modal','กำลังค้นหากิจกรรม...','พื้นที่ผิวรูปทรงสามมิติ','bg-gray-500','.topic-selection-btn','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เส้นจำนวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','ความคล้ายของรูป','student-team-join','close','quiz-end-time','.sortable-header','overallGroups','toLowerCase','\x22><i\x20class=\x22fas\x20','request','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','.generate-lesson-btn','.bp-try-btn','delete-svg-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','offset','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','.bp-create-content-quiz-btn','\x22\x20class=\x22color-palette-btn\x20','</label></div>','<div\x20class=\x22my-2\x22>','Error\x20starting\x20live\x20race:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</div></div></div>','.quiz-bank-delete-btn','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','กำลังสร้างบทเรียน:\x20','topic','isPasscodeEnabled','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','comparison-individual-content','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20จุด','bp-modal-include-images-checkbox','ปริมาตร/ความจุและการแปลง','matching_item','(หลังเรียน)\x20','confirm-team-players-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswerIndex','.delete-submission-btn','progress-student-select','จำนวนคละ','find','):\x20','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','post-test','confidence-choice-btn','display','\x20ตัวเลือก)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปิด\x20(จับเวลา)','qType','cancel-move-quiz-btn','Error\x20listening\x20for\x20custom\x20math\x20topics:','\x20pointer-events-none\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20adding\x20students:','.toggle-actions-btn','mainTopics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','blueprint-tab','blueprint-projects-modal','handleGenerateAndShowLesson','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','width','กรุณาเลือกชื่อของคุณ','jspdf','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','highlighter-size-slider','ownerSVGElement','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','student-reading-area','เกิดข้อผิดพลาดในการอ่านไฟล์','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','text-green-700','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','เกิดข้อผิดพลาด','.topic-name-input','svg','submissions','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','เรขาคณิต','incorrect','starred','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','visibilityState','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','save-settings-btn','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','\x22\x20สำเร็จ','date_desc','export-word-btn','prod','postScore','Called\x20from\x20Blueprint\x20page.\x20Using\x20temporary\x20settings.','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','cancel-team-selection-btn','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','COMEBACK_KING','back-from-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctResponse','แก้ระบบสมการด้วยเมทริกซ์','answered','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','true','\x22\x20data-q-type=\x22','แผนภาพกล่อง\x20(box\x20plot)','\x27\x20สำหรับส่วน\x20\x27POINT\x27\x20','text/html','ai-quiz-app-aefee.firebaseapp.com','dragend','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','bp-modal-question-complexity-select','document','.answered','first_try_ace','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</span>','กรุณาใส่ชื่อนักเรียน','\x5cneq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การแปลงรูปอัตลักษณ์','wakeLock','results-display-select','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','latestScore','<div\x20class=\x22loader\x20mx-auto\x22></div>','.bp-create-onet-quiz-btn','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','match','project-passcode-modal','beginPath','end-sync-game-btn','on_fire','หน่วยความยาวและการแปลง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22space-y-4\x22>','string','isLooping','Error\x20updating\x20project\x20name:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','bg-green-200','<p\x20class=\x22font-bold\x20text-sm\x20','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','trail-tool-btn','point','ความต่อเนื่อง','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','student-project-leaderboard-content','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','file-upload-input','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-num-choices','keyConcepts','fill_in_with_choices','player-count','แบบเติมคำตอบ','undefined','original-mode-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','allResponses','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','</body></html>','fa-fire\x20text-orange-500','handleGeneratePracticeTest','webkitRequestFullscreen','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','lesson-plan-modal','5811280TWrWBe','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','ไม่พบแบบทดสอบ','enable-passcode-checkbox','summaryContent','toDate','ลบแบบทดสอบสำเร็จแล้ว','question-complexity-select','closest','ปรับเพิ่ม/ลดเป็นร้อยละ','.topic-actions-view','back-to-student-home-btn','สร้างใหม่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','ลบโปรเจคสำเร็จแล้ว','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','project-passcode-input','blueprint-project-list','เกิดข้อผิดพลาดในการอัปเดตสถานะ','bp-modal-quiz-type-select','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','เกี่ยวกับหัวข้อ\x20\x22','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','กรุณาเลือกคำตอบของกลุ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','.color-palette-popup','การคูณทศนิยม','blueprint-settings-modal','color','<p\x20class=\x22text-2xl\x22>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','application/json','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','pinnedProjects','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การนับ','Failed\x20to\x20generate\x20practice\x20test:','artifacts/','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-results-display-select','manage','player-list-lobby','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','idealAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','manual-blueprint-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x20ข้อ\x20','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','Error\x20generating\x20parallel\x20test\x20from\x20bank:','Sync\x20Mode','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','tool','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','การคูณเศษส่วน','lesson-loader-text','Error\x20opening\x20quiz\x20editor:','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','ผู้ไม่ยอมแพ้','input[name=\x22drill_answer\x22]:checked','localeCompare','getDocument','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','globalCompositeOperation','/public/data/syncGames','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','.csv','rgba(79,\x2070,\x20229,\x200.8)','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-game-btn','SAFETY','<p><strong>คำตอบที่แนะนำ:</strong>\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','Error\x20adding\x20topic:','Error\x20saving\x20blueprint\x20project:','topicName','export-excel-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','เนื้อหาสำหรับสอน:\x20','sync-submit-btn','_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','not_confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','shadowBlur','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','#F59E0B','ไม่พบแบบทดสอบในระบบเลย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-player-list','afterend','ถูก','slide-counter','ไม่พบข้อมูลโปรเจค','BOOLEAN','move-quiz-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','lineCap','icon','confirmation-modal','สมการค่าสัมบูรณ์','ยังไม่สร้าง','Failed\x20to\x20get\x20hint:','block','student-quiz-area','Error\x20calling\x20Gemini\x20API:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','mode-switcher-btn','.scratchpad-content-wrapper','สรุปผลการวิเคราะห์:\x5cn','การหาร','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','#DBEAFE','student-initial-view','postTScore','blueprint-topics-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','subTopic','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบ\x20Sync\x20Game!','separate-by-content-from-file-checkbox','perfect_score_status','shuffle-setting-select','ไม่พบข้อมูลแบบทดสอบ','ดอกเบี้ยอย่างง่าย','mouse','translate(','onerror','bg-red-200\x20text-red-800','Error\x20updating\x20quiz\x20settings:','อัตราและอัตราหน่วย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','grid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','flex','all','/public/data/projects/','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','G-V90KRM0L63','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','ตอบถูกทุกข้อในแบบทดสอบนี้','กำลังสร้างแบบทดสอบจากหัวข้อ...','text-indigo-600','num-questions','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','modal-timer-duration-container','ระบบอสมการ','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','message-modal','quiz-leaderboard-table-container','106KaXTIn','parentElement',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','ปิดใช้งาน','quiz-status-modal','.lastAnswerIndex','bulk-quiz-settings-btn','height','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','badges','generate-from-link-btn','scrollY','Action:\x20Create\x20O-NET\x20Style\x20Quiz\x20from\x20Topic\x20Name.','เกิดข้อผิดพลาด:\x20','bg-purple-50','student-passcode-input','cancel-blueprint-projects-btn','clientY','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','Error\x20listening\x20for\x20projects:','write','Error\x20verifying\x20answers\x20in\x20editor:','selected-topics-count','leaderboard-tab-content','ไม่ผ่าน','\x22\x20data-quiz-id=\x22','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','รอเปิด','topic-input','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','<p>','leaderboard','bg-green-100\x20text-green-800','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','selectedTopicNames','กรุณาใส่ชื่อใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-manual-bp-btn','scale','.open-bp-project-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','cancel-admin-login-btn','set','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','ผิด','ยังไม่เต็มนะ','back-to-results-btn','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','bottom','specialist','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ข้อต่อไป','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','str','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','stopPropagation','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','pointermove','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','fa-pen','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับหัวข้อ\x20\x27','viewBox','back-to-dashboard-from-bp-btn','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','clear-all-links-btn','.lastAnswerCorrect','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','pointContent','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','export-lesson-to-pdf-btn','Error\x20saving\x20manual\x20blueprint\x20project:','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','text/csv;charset=utf-8;','label','.question-editor-item[data-q-index=\x22','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','ตัวประกอบและตัวประกอบเฉพาะ','submit','close-topic-bank-btn','องค์ประกอบของฟังก์ชัน','translate','ยกเลิกการจับคู่สำเร็จ','cancel-quiz-status-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/liveGames','content','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','prev-question-btn','.score','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','null','.start-live-race-btn','input[name=\x22status-option\x22]:checked','neq','confirmation-message','getContext','/public/data/projects','Error\x20loading\x20user\x20preferences:','API\x20call\x20failed','memoryContent','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','confirm-create-project-btn','Error\x20unlinking\x20quiz:','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','.export-pdf-list-btn','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','.presentation-option','start-quiz-btn','.duplicate-quiz-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','bg-gray-50','ปริพันธ์ไม่จำกัด','.project-card-container','practice-topic-btn','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','MathJax','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','rgba(59,\x20130,\x20246,\x200.7)','shuffle','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','ดอกเบี้ยทบต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','จับคู่แบบทดสอบสำเร็จ!','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','.bp-edit-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','เกิดข้อผิดพลาดในการลบผลสอบ','<div\x20class=\x22flex-1\x22></div>','mode','toISOString','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','admin-testing','analytics','end-game-btn','_opt0\x22\x20name=\x22question','teachingContent','.bp-unlink-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','mouseup','print','กำลังสร้างคำถามข้อ\x20','เส้นตรง:\x20ขนาน/ตั้งฉาก','.application-options\x20button','Blueprint\x20O-NET\x20ป.6','copy-quiz-id-btn','student-join-game-view','รูปหลายเหลี่ยมและมุมภายใน','.doc','show_results_only','.file-topic-selection-btn','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','file-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','Error\x20generating\x20hybrid\x20quiz:','บันทึกการแก้ไข','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','.ai-fix-formula-btn','เกมสิ้นสุดลงแล้ว','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','parseInline','ไม่ใช่','shuffledQuiz','line-through\x20text-red-700','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','values','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','Error\x20toggling\x20pin\x20status:','worksheet-topic-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','back-to-dashboard-btn','results-tab-content','confidence-modal',':</span><span>','$$$1$','ai-quiz-app-aefee.firebasestorage.app','toString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.draggable-text','parts','active','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ไม่พบข้อมูลหัวข้อที่จะบันทึก','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','บันทึกการตั้งค่าแล้ว','สอบซ่อม','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','promptFeedback','.answers','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','bg-green-100\x20font-bold','attemptNumber','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','text-red-600','geq','\x22\x20name=\x22drill_answer\x22\x20value=\x22','far\x20fa-star','rgba(79,\x2070,\x20229,\x201)','สถิติและความน่าจะเป็น','เกิดข้อผิดพลาดในการลบหัวข้อ','สเกลและแผนที่','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/practiceBank','รูปสี่เหลี่ยมและสมบัติ','</select>','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','right','manage-players-btn','dimmed','quiz-editor-modal','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','rgba(239,\x2068,\x2068,\x200.7)','AI\x20ไม่สามารถประมวลผลข้อมูลได้','.edit-question-btn','Error\x20joining\x20activity:','\x22...','close-lesson-plan-modal-btn','สมการราก\x20(radical)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','execCommand','ตรวจพบการออกจากหน้าจอครบ\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','onclick','.mb-6.p-4','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','redo-btn','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','scratchpad-close-btn','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','binom','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','targetId','checkbox','cancel-test-btn','<li\x20class=\x22','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ceil','\x20</div>\x0a\x20\x20\x20\x20','submission','bg-red-500','text-red-700\x20bg-red-100','from','textarea[name=\x22question_single\x22]','include-images-checkbox','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','exists','แบบทดสอบนี้ปิดใช้งานอยู่','(ก่อนเรียน)\x20','กฎของโคไซน์','Error\x20unpairing\x20quizzes:','/submissions','21tLKvIE','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','\x20คะแนน\x20','table','touchend','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','select[name=\x22question_single\x22]','manage-tab-content','\x0a\x20\x20\x20\x20','bp-modal-num-questions','topic-quiz-bank-modal','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','times','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','list','\x20(p=','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','กรุณาใส่ชื่อโปรเจค','bulk-results-display-select','checked','/studentProfiles','.topic-name-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','substring','presentation-modal','keys','ยอดเยี่ยม!','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','handleGenerateQuizFromBlueprintTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','แก้ไขชื่อหัวข้อย่อย:','parse','ใช่\x20/\x20ถูก','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','กำลังอัปเดตแบบทดสอบ\x20','สร้างคำถามแบบเติมคำในช่องว่าง','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','manual-bp-grade-level','ตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','left','ON_FIRE','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x20mb-2\x22>','length','student-progress-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','8gNNVuu','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','fill','summary','bg-amber-100\x20text-amber-800','student-list','382595cDNJqq','ฟังก์ชันสัมพัทธ์\x20(rational)','setTransform','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','การประยุกต์เวกเตอร์พื้นฐาน','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','project-sort-select','\x20link(s)\x20for\x20quiz\x20ID:\x20','export-pdf-modal','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','student-progress-content','ลบผลสอบของ\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','originalTopic','OBJECT','tooltipTarget','<svg','<option\x20value=\x22','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','curriculum','back-to-student-initial-btn','กฎบวกและกฎคูณ','highlighter','AI\x20Formula\x20Fix\x20Error:','pow','showInStudentDashboard','category','(คัดลอก)\x20','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','ฟังก์ชันราก\x20(root)','274192258111','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','px,\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','การลบเศษส่วน','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passing-score-input','perfect_score','หัวข้อหลักใหม่','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','</li>','Error\x20joining\x20live\x20game:','modal-passing-score-input','สร้างคำถามใหม่\x201\x20ข้อ\x20','results-quiz-title','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','\x20to\x20blueprint\x20topic\x20','.rename-quiz-btn','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','.linkedQuizId','.quiz-bank-try-btn','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','responseSchema','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','pairedQuizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','responses','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalSettings','getElementsByTagName','lesson-sections-container','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','isConfidenceScoringEnabled','disabled\x20bg-gray-400\x20cursor-not-allowed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','Remedial\x20quiz\x20generation\x20failed:','text-red-300\x20hover:text-red-100','จับคู่เพื่อเปรียบเทียบผล','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','text-content-input','answering','Error\x20confirming\x20players:','Error\x20fetching\x20quiz\x20settings:','\x20สำเร็จ','.live-answer-btn,\x20#sync-submit-btn','q-text-','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','getBoundingClientRect','globalAlpha','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','parallel-test-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','isCorrect','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','isScored','lineJoin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สมการเหตุผล\x20(rational)','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','อินเวอร์สของเมทริกซ์','export-leaderboard-excel-btn','</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','confirm-rename-quiz-btn','value','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','mandatory','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','modal-timer-mode-select','กำลังสร้างแบบทดสอบ:\x20','หน่วยเวลาและการคำนวณเวลา','moveTo','bg-red-500\x20text-white\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','bulk-confidence-mode-select','link-url-input','/public/data/customMathTopics','check-answer-btn','teacherSuggestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','back-to-project-btn','วงรี','คะแนนเฉลี่ย','กรุณาเลือกคำตอบ','thead\x20.sortable-header','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','leaderboard-quiz','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','parallel-test-upload-input','update','projectId','scores-tab-content','touch','default','student-team-selection-view','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบข้อมูลผู้ใช้','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','export-tutor-pdf-btn','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','.status','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','การบวก','ส่งแล้ว','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','confidence-mode-container','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','readAsDataURL','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','ฟังก์ชันเชิงเส้นและกราฟ','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stem','generate-from-parallel-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','Error\x20saving\x20quiz\x20edits:','.png','export-leaderboard-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','Failed\x20to\x20get\x20standardized\x20topic:','sync','passcode-error-msg','พื้นที่สามเหลี่ยม','FileReader\x20error:','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','settings','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','.linkedQuizIds','</div>','save-project-name-btn','webkitExitFullscreen','text-gray-200','กำลังอ่านและเตรียมไฟล์...','<option>กำลังโหลดโปรเจค...</option>','drop','.ideal-answer-input','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','target','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20confirming\x20players\x20for\x20sync\x20game:','createElement','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','กรุณาเลือกสถานะ','\x22\x20name=\x22question_single\x22\x20value=\x22','global-live-game-modal','behavior-log-tab-btn','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','manage-tab','confidence','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','join','px)\x20scale(','\x22>จาก:\x20','size','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','show_results_and_answers','project-name-input','quiz-settings-modal','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','add-from-global-bank-btn','\x0a---\x0a','คัดลอกไม่สำเร็จ','#student-quiz-leaderboard-content\x20thead','generate-from-file-btn','.\x20แต่ละข้อมี\x20','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','strength-weakness-analysis-container','blockReason','คะแนนยังไม่ถึงครึ่ง','border-green-300\x20bg-green-50','NUMBER','add','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','.quiz-bank-move-btn','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','onchange','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','gameData','สุดยอด!\x20ตอบถูกทุกข้อ','เลือกและบันทึก','.pen-color-btn','bp-add-topic-btn','bg-green-200\x20text-green-900','คณิตการเงิน/บูรณาการ','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','projectName','loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','href','แบบทดสอบจากคลังส่วนตัว','modal-confidence-scoring-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รอ...','numQuestions','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','createObjectURL','contains','STRING','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถโหลดรายการโปรเจคได้','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','modal-message','ตั้งเวลา\x20(เปิด)','(^|[^\x5c\x5c])\x5cb','Copy\x20command\x20failed','อัตราส่วนและสัดส่วน',',\x20r=','\x20(ID:\x20','test','.start-game-btn','.summary-bar-item','</p><p><strong>เฉลย:</strong>\x20','list-view-btn','modal-confidence-mode-select','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','sync-short-answer-input','student-result-area','questions','สำหรับโปรเจค:\x20','ถูกต้อง!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dragover','upper_group_count','กำลังสร้างรูปภาพ...','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','editor-quiz-topic','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','อยู่ในหัวข้อหลักใด:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','\x20ชุด)','results-table','fa-crown\x20text-yellow-500','<i\x20class=\x22fas\x20fa-pen\x22></i>','behaviorLog','All\x20groups\x20have\x20finished.\x20Ending\x20game.','ย้าย','บทเรียนเรื่อง:\x20','force-math-checkbox','Error\x20comparing\x20results:','pointerType','fill_in_the_blank','.delete-quiz-btn','game-start-mode','blueprint-project-manager-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','standardTopic','opacity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','rgba(16,\x20185,\x20129,\x200.7)','clearRect','results-table-container','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','quiz-type-select','Error\x20listening\x20for\x20student\x20profiles:','โดยให้อ้างอิงสไตล์และระดับความยากจากไฟล์ข้อสอบอ้างอิงที่แนบมาด้วย','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','hasPerfectScoreBonus','แก้ไขหัวข้อสำเร็จ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','copy','reduce','strokeStyle','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bestScore','.ai-content\x20h3','qIndex','พื้นที่วงกลม/ส่วนของวงกลม','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','.generate-post-test-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','Error\x20preparing\x20content\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comeback_king','pointercancel','ทฤษฎีทวินาม\x20(เบื้องต้น)','#E0E7FF','text-gray-700','canvas','students',')\x22>','\x22\x20ให้เป็นคำถามประเภท\x20\x22','ความเป็นอิสระของเหตุการณ์','1547388wyaSmJ','\x20จาก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','Error\x20updating\x20old\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','font-bold\x20text-green-700','Error\x20updating\x20quiz\x20status:','position','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','</span><span\x20class=\x22font-bold\x22>','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','Error\x20clearing\x20linked\x20quiz:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','focus','.generate-easy-version-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','substr','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ย้ายแบบทดสอบไปโปรเจคอื่น','ไม่มีคำอธิบาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20displaying\x20blueprint\x20project:','ยืนยันการจับคู่','results-quiz-id-display','#results-table','ยอดเยี่ยม','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','.quiz-bank-checkbox:checked','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x5csum','กำลังสแกนหาแบบทดสอบเก่า...','ชนิดของข้อมูลและการเก็บข้อมูล','การบวกทศนิยม','N/A','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','กลุ่มของคุณ','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','892710TkuMea','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pdf','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','quiz-bank-count','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','พื้นที่ใต้กราฟ/ระหว่างกราฟ','/preferences/main','นำแบบทดสอบออกจากคลังนี้แล้ว','ยกเลิกการเชื่อมโยงสำเร็จ','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topics.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-game-start-btn','classWeaknesses','correctAnswer','\x22\x20data-topic=\x22','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','ฟังก์ชันแบบชิ้นส่วน','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','input[type=\x22checkbox\x22]:checked','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','addEventListener','applicationData','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','sum','Error\x20deleting\x20topic:','#000000','math-topics-checkbox-container','firstScore','Error\x20adding\x20custom\x20topic:','bp-topic-list-container','progress-project-select','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','lesson-view-content','[data-field=\x22subTopic\x22]','projectView','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','</h3>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','passcode','scratchpad-modal','\x5cdiv','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-100','message','text-green-600\x20font-bold','modal-timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตอบ','การยืนยันตัวตนล้มเหลว','questionType','link-input-area','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','</div></div>','bg-green-500','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าสัมบูรณ์','per-question-timer-container','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','attempts','[data-topic-id=\x22','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','fix-lesson-latex-btn','retake-quiz-loop-btn','lesson-plan-title','generate-from-blueprint-btn','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังกลับเข้าสู่เกม\x20','select','lesson-loader','<i\x20class=\x22fas\x20fa-save\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','summary_chart','groups','linkedQuizIds','back-to-home-manual-release','คัดลอกแบบทดสอบสำเร็จ','bp-modal-passing-score-input','overline','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','dataset','quadraticCurveTo','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','move','status','results_','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','doughnut','open-quiz-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.start-presentation-list-btn','live-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','#FCE7F3','show_pass_fail_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','จัดการ','modal-shuffle-select','passingScore','สลับไปโหมดผู้ควบคุม','admin-password-input','Error\x20generating\x20lesson\x20plan:','AI\x20Fix\x20Error:','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toggle','.pin-project-btn','analyze-strengths-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','Enter','quiz-results-view','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','สมการยกกำลัง','div[data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','insertBefore','ไม่สามารถโหลดข้อมูลอันดับได้','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','ฮิสโตแกรม','Error\x20regenerating\x20question\x20in\x20editor:','ที่พิมพ์ได้\x20จำนวน\x20','submit-team-answer-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ลำดับเลขคณิต\x20(AP)','touchmove','confirm-move-quiz-btn','#FEE2E2','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gain','.highlighter-color-btn','confirm-game-start-btn','ไม่พบข้อมูลข้อสอบหลังเรียน','เส้นตรง:\x20รูปแบบสมการ','points','lineWidth','#retake-for-improvement-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ระยะเวลา\x20(วินาที):','.generate-content-btn','appendChild','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','text-input-area','confirm-manual-bp-btn','fullscreenElement','both','<div\x20id=\x22q-image-container-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','fix\x20the\x20option','bulk-shuffle-select','<p\x20class=\x22','ใช่','student-name-selection-view','generated-quiz-container','fas\x20fa-star\x20text-yellow-500','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','scores','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','actions-container-','showRankings','pre-test','MathJax\x20typeset\x20error\x20(analytics):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','.quiz-bank-item','#FFFFFF','comparison-overall-content','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1930rQgwdn','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','สร้างชุดคำถามจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','class','smooth','tGain','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','เกิดข้อผิดพลาดในการติดดาว','ดูผลสรุปสุดท้าย','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','ลิมิต','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','quizType','lowerGroupResponders','.flex.justify-between.items-center','min','student','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','scratchpad-options','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','responses.','เกิดข้อผิดพลาดในการส่งคำตอบ','<li>','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','sort','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','.topic-category','Invalid\x20response\x20structure\x20from\x20API.','/public/data/quizzes','เศษส่วน\x20(ย่อ/ขยาย)','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','keyup','fromCharCode','stroke','สร้างคำถามแบบใช่/ไม่ใช่','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','กราฟแท่ง\x20กราฟเส้น','หน่วยมวล/น้ำหนักและการแปลง','includeImages','[data-topic-container-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','กฎของไซน์','bg-red-100\x20text-red-800','ควรปรับปรุง','(เลือกแล้ว\x20','whole_quiz','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','http://www.w3.org/2000/svg','student-project-leaderboard-table-body','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20showing\x20quiz\x20detail\x20view:','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result','warn','closePath','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','after','answers','resize','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','หมดเวลา!\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','log','reference-pdf-upload','ความชันและเส้นตรง','สมการลอการิทึม','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','กรุณาสร้างบทเรียนก่อน','ตารางความถี่','function','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','.color-palette-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','สลับไปโหมดนักเรียน','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','file-topics-list','Error\x20generating\x20parallel\x20post-test:','game-start-quiz-id','export-leaderboard-word-btn','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','has','\x20quizzes\x20into\x20global\x20cache.','\x5ccdot','game-start-modal-title','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','docs','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','.delete-svg-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','Error\x20starting\x20group\x20quiz:','<tr\x20class=\x22','STOP','จำนวนเชิงซ้อน\x20(เสริม)','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','click','isFinished','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','splice','bg-black/20','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','red','files','ข้อ\x20','devicePixelRatio','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','round','บันทึกการตั้งค่าการแสดงผลสำเร็จ','Error\x20loading\x20quiz\x20for\x20student:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.bp-generate-lesson-btn','ไม่ระบุ','2-digit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','quiz-leaderboard-table-body','empty','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','latestSubmittedAt','บันทึกแบบทดสอบสำเร็จแล้ว!','\x22\x20value=\x22false\x22\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','มุมพิเศษ\x2045°-45°-90°','Error\x20deleting\x20quiz:','.delete-custom-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','พื้นที่สี่เหลี่ยม','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','s;\x22\x20title=\x22','close-game-final-btn','pointerup','editable-text-','\x22\x20value=\x22true\x22\x20','description','.verification-result-editor','(ก่อนเรียน)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','main-correct-answer-display','shouldSaveResults','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','currentMode','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','currentQuestionIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','desc','change','drill-feedback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เปลี่ยนชื่อโปรเจคสำเร็จ','fullscreenchange','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','starred-project','การกระจายและการจัดหมู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','show-results-btn','sara','\x20แบบทดสอบลงในคลังสำเร็จ!','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','duration-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','export-pdf-btn','(คู่ขนาน)\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','</h4>','solution','analytics-tab-btn','ระยะจากจุดถึงเส้นตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','รูปแบบการให้เหตุผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','การคูณ','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','ความสัมพันธ์ของมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','\x20ตัวเลือก.\x20','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','confirm-link-quiz-btn','cancel-bp-settings-btn','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20easy\x20version\x20quiz:','<div\x20class=\x22mb-3\x20topic-category\x22>','global-live-game-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Firebase\x20initialization\x20failed:','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cdot','getBBox','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','clientX','next-question-btn','การจัดกลุ่มข้อมูล','\x20ชุด)</span>','verify-answers-editor-btn','leq','ดีเทอร์มิแนนต์','admin-dashboard','removeItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','quiz-editor-questions-container','schedule','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','lastAnswerCorrect','disabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','Original\x20quiz\x20not\x20found','project-list','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจคนี้ทั้งหมด?','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x22\x20สำเร็จ!','generate-worksheet-btn','ring-2','text-indigo-700','msRequestFullscreen','$1\x5c%','</p></div>','uid','start-presentation-btn','.delete-bp-project-btn','cancel-rename-quiz-btn','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','หลังเรียน','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','getElementById','ระบบเลขและค่าประจำหลัก','bg-yellow-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','link-tab','บันทึกโปรเจค\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x20mx-1\x20text-lg\x22></i></span>','lastAnswerIndex','name_desc','$1\x20\x5cfrac','<span\x20class=\x22sort-indicator\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editable-quiz-topic','dashboardConfig','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','แผนการสอน','save-quiz-edits-btn','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','save-visibility-settings-btn','createdAt','manual-bp-content','interesting-stats-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','candidates','results','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','thead','live-player-management','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','จากไฟล์ที่แนบมานี้,\x20','checkAnswer','subTopics','highlighter-size-value','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','.quiz-status-btn','numChoices','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','memory','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.ai-content\x20blockquote','Failed\x20to\x20generate\x20lesson:','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','modal-timer-duration-label','next-question-timed-btn','timer-duration-input','เรขาคณิตวิเคราะห์','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','lowerGroupNames','mousemove','btn','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','#10B981','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Action:\x20Create\x20Standard\x20Quiz\x20from\x20Content.','approx','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','Error\x20renaming\x20quiz:','student-quiz-leaderboard-table-body','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','stdDev','Successfully\x20removed\x20','%</span>','</p><div>','documentElement','Error\x20loading\x20blueprint\x20projects:','originalQuestionText','start-sync-game-btn','get','cancel-bulk-quiz-settings-btn','#student-project-leaderboard-content\x20thead','ไม่ได้ตอบ','สาระที่\x201','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','POST','open-sync-scratchpad-btn','Error\x20saving\x20submission:','leaderboard-tab','QUICK_THINKER','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','forEach','getTextContent','button','touches','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','admin-password-modal','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','confident','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','Error\x20saving\x20quiz:','th-TH','<p><strong>คำตอบของคุณ:</strong>\x20','กำลังจับคู่...','text-green-700\x20bg-green-100','user-id-display','typesetPromise','Error\x20analyzing\x20blueprint\x20topics:','indexOf','\x22\x20name=\x22confidence','bg-red-50','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.sort-indicator','กรุณาเลือกคำตอบก่อนครับ','save-quiz-btn','\x20จุดเรียบร้อยแล้ว','<option\x20value=\x22\x22>กำลังโหลด...</option>','ไม่สามารถโหลดคลังข้อสอบได้','text-white','open-blueprint-projects-btn','Error\x20updating\x20project\x20color:','text-purple-600','.correct-response-input','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','isRemedial','classStrengths','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','padStart','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','เกิดข้อผิดพลาดในการโหลดโปรเจค','teacherTips','.live-summary-tooltip.visible','cancel-quiz-bank-btn','timerDuration','difficultyValue','#6366F1','isAdaptive','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','<div\x20class=\x22','คณิตศาสตร์','input','ไม่พบข้อมูลเกม','selected-answer-index-hidden','project-dashboard-view','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','วงกลม:\x20คอร์ดและเส้นสัมผัส','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','temp-loader-results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-topic-btn','.live-answer-btn','button[type=\x22submit\x22]','fa-bolt\x20text-blue-500','</td></tr>','projectSort','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','leaderboard-quiz-tab-content','Failed\x20to\x20end\x20group\x20mode\x20game:','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','.view-bp-lesson-btn','ยืนยันการกระทำ','now','split','scheduled','save-blueprint-as-project-btn','answer','</td>','msExitFullscreen','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','div','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','เกิดข้อผิดพลาดในการลบแบบทดสอบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','\x22\x20class=\x22delete-project-btn\x20','แบบทดสอบซ่อมเสริม','destroy','.confidence-choice-btn','(ไม่มีชื่อ)','.answeredCurrentQuestion','input[type=\x22checkbox\x22]','perQuestionStats','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','ห.ร.ม.\x20(GCD)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','Error\x20joining\x20team\x20quiz:','option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','</span></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','questions_only','.delete-project-btn','</span></td>','student-view','Team\x20Quiz','insertAdjacentHTML','quiz-results','/questionBank','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','next-sync-question-btn','\x20คู่\x20','\x20รายการ...','cloneNode','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','ค่าความจริง/ตารางค่าความจริง','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','จำนวนคู่:','team','\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','.pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isArray','isStarred','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','พาราโบลา','\x20|\x20','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','question-analytics-container','scratchpad-controls','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','modal-confidence-mode-container','includes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','bulk-confidence-scoring-checkbox','contentEditable','ดีมาก','.quiz-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','then','filter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20displaying\x20question\x20bank:','[*]','.project-card-container[data-id]','ไม่พบเอกสารการส่งงานของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','comparison-overall-tab','แบบทดสอบ:\x20','ไม่พบตารางสำหรับ\x20Export','deltaY','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','Error\x20creating\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','totalQuestions','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','gradeLevel','keydown','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27\x20','close-comparison-modal-footer-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','<button\x20data-quiz-id=\x22','Failed\x20to\x20resume\x20game\x20session:','กลุ่ม:\x20','```json','parent','stepByStepExamples','สร้างแบบทดสอบ','innerText','result','file-topics-list-container','0\x200','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','custom-math-topic-input','multiple_choice','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onload','title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','scratchpad-clear-btn','index','text-blue-700','ความน่าจะเป็นแบบมีเงื่อนไข','totalPoints','answerText','release','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','applicationContent','lobby','\x22><p\x20class=\x22font-semibold\x22>','bulk-quiz-settings-modal','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','data','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','<div>','ลำดับเรขาคณิต\x20(GP)','การหารทศนิยม','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','style','bulk-confidence-mode-container','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','mjx-container','timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Auto-linking\x20new\x20quiz\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Action:\x20Create\x20topic-based\x20Quiz.','\x5ctimes','playerName','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','dragstart','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','ตัวแปรและนิพจน์','เลือกและเริ่มสร้าง','<span\x20title=\x22','.bp-game-btn','fadeStartTime','replace','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','.quiz-bank-present-btn','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','name','ค่าคลาดเคลื่อนของการวัด','bg-red-100','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','text-tab','check-presentation-answer-btn','finished','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionDisplayedAt','podium','input[type=\x22radio\x22]:checked','Error\x20submitting\x20group\x20answer:','tan','ref','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','fas\x20fa-bookmark','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','map','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','visibilitychange','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','\x20กลุ่ม</p></div>','activeGameSession','currentTarget','ฐานนิยม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','บันทึกผลการเล่นเกมของ\x20','.regenerate-question-editor-btn','text-yellow-300','bp-modal-shuffle-setting-select','แผนภาพเวนน์','end-team-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','AI\x20grading\x20failed:','behavior-log-tab-content','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','สมการเชิงเส้นตัวแปรเดียว','blueprint-options-container','short_answer','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','00:00','No\x20player\x20data\x20to\x20save.','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','players.','.ai-content\x20p','timer-mode-select','input[type=\x22text\x22]','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','\x5cpm','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','hidden','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#view-rankings-btn','confirm-admin-login-btn','ตรวจคะแนนใหม่\x20','data:application/vnd.ms-word;charset=utf-8,','interesting-stats-wrapper','perseverance','modal-adaptive-quiz-checkbox','rename-quiz-input','quiz-leaderboard-table','พบ\x20Team\x20Quiz!','text-gray-500','คำถามถัดไป','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','groups.','bank-input-area','pre-test-checkbox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','touchstart','ไม่ใช่\x20/\x20ผิด','_opt1\x22>ไม่ใช่</label></div>','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','num-choices','entries','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','การวัด','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','findIndex','สัญกรณ์วิทยาศาสตร์','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','สมการตรีโกณมิติ','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','answerValue','questionIndex','generate-from-text-btn','draggable-text','text-red-900','date_asc','.project-card-container.opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','.bp-open-topic-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x20ใหม่...','พีชคณิตและฟังก์ชัน','add-student-btn','Error\x20deleting\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','การแยกตัวประกอบ','NEGATIVE_INFINITY','download','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','nickname-input','loader-text','เกิดข้อผิดพลาดในการปักหมุด','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20all\x20students:','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','endTime','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','quiz-bank-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','blueprint-input-area','อนุพันธ์:\x20กฎลูกโซ่','preTestId','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','file-topic-input','beforeend','questionStatus','ไม่พบโปรเจค','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<div\x20class=\x22p-2\x20rounded-md\x20','text-gray-300\x20hover:text-white','.ai-content\x20li','ผู้ควบคุม\x20(ทดสอบ)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','toFixed','.lessonContent','\x5cge','num-choices-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','.ai-fix-question-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x20in\x20all\x20blueprint\x20projects.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','score','quiz-form','mixed','q-explanation-','อัปเดตการตั้งค่าของแบบทดสอบ\x20','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','close-lesson-view-btn','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','group','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','Error\x20fetching\x20projects\x20for\x20move:','\x20คะแนน</span></div>','delete-all-students-btn','กำลังดึงข้อมูลจากลิงก์...','save','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','Error\x20duplicating\x20quiz:','every','ลบโปรเจคสำเร็จ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</tbody></table>','mean','cancel-export-pdf-btn','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','open','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','pointerdown','/users/','Error\x20fetching\x20project\x20quizzes:','เพิ่มรายการที่เลือก','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','จำนวนและการดำเนินการ','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','learningGaps','\x27,\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20/\x20','bp-modal-difficulty-level-select','.bp-create-topic-quiz-btn','[data-topic-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</form>','projectOrder','กรุณาพิมพ์คำตอบ','topic_','ทฤษฎีบทพื้นฐานของแคลคูลัส','difficulty-level-select','Error\x20analyzing\x20file\x20for\x20topics:','temp-loader-text-results','pin','ฟังก์ชันค่าสัมบูรณ์','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ปริพันธ์จำกัด','generationConfig','จำนวนข้อ:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x22\x20name=\x22team_answer\x22\x20value=\x22','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','deg','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','commonMistakes','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','สร้างโปรเจคสำเร็จ!','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','#e21b3c','label[for=\x22num-questions\x22]','confidenceMode','sync-player-management','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','.subTopic','student-name-input','#FEF3C7','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','close-lesson-plan-modal-footer-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-red-500\x20hover:text-red-700','bg-green-200\x20text-green-800','manual-bp-project-name','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','quiz-results-table-body','Invalid\x20response\x20structure\x20from\x20AI.','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','สมมาตร\x20(แกน/จุด)','เกิดข้อผิดพลาดในการบันทึก','<button\x20id=\x22','choices_only','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','จำนวนนักเรียน','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','preventDefault','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','timestamp','Error\x20committing\x20score\x20updates:','name_asc','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','<tr>','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','เกิดข้อผิดพลาดในการลบ','image/png','อยู่ในสาระการเรียนรู้ใด:','เกิดข้อผิดพลาดในการบันทึกโปรเจค','AI\x20แก้ไขคำถามสำเร็จ!','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','live-game','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','ความแปรปรวน','\x22.\x20Ideal\x20Answer:\x20\x22','\x20รายการสำเร็จ!','</tbody></table></div>','create-project-modal','</option>','แผนการสอน:\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','.pen-size-btn','export-leaderboard-image-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','autoTable','ระบบสมการเชิงเส้นสองตัวแปร','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://corsproxy.io/?','baseVal','quick_thinker','hasOwnProperty','trail','57111GbHKdM','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','confirm-bulk-quiz-settings-btn','setItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20','1:274192258111:web:4120c9118229b5644dd48a','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','behavior-log','หัวข้อที่สร้างเอง','pinned-items',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','.move-quiz-btn','สร้างแบบทดสอบปรนัย','bank-quiz-list','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','confidence-scoring-checkbox','projectSortOrder','text-green-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','restore','สร้างแล้ว','API\x20Error\x20Response:','.regenerate-question-btn'];_0x3f69=function(){return _0x4246d9;};return _0x3f69();}async function initiateReGradeProcess(_0x463ea5){const _0xb5eefc=_0x5c7bd9;showMessage(_0xb5eefc(0x73f));try{const _0x1875f8=doc(db,_0xb5eefc(0x2fd)+appId+_0xb5eefc(0x74e),_0x463ea5),_0x348ea5=await getDoc(_0x1875f8);if(!_0x348ea5[_0xb5eefc(0x4a4)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x442938={'id':_0x463ea5,..._0x348ea5[_0xb5eefc(0x958)]()},_0x3fc4d3=collection(db,'artifacts/'+appId+_0xb5eefc(0x74e),_0x463ea5,_0xb5eefc(0x268)),_0x4bf573=await getDocs(_0x3fc4d3);if(_0x4bf573[_0xb5eefc(0x7b4)]){showMessage(_0xb5eefc(0xa70));return;}const _0x1e38b5=_0x4bf573['docs']['map'](_0x5b3c9d=>reGradeSingleSubmission(_0x5b3c9d,_0x442938));await Promise[_0xb5eefc(0x371)](_0x1e38b5);if(_0x442938['projectId']){const _0xcd4190=doc(db,_0xb5eefc(0x2fd)+appId+_0xb5eefc(0x3eb),_0x442938[_0xb5eefc(0x571)]),_0x123825=await getDoc(_0xcd4190);if(_0x123825[_0xb5eefc(0x4a4)]()&&_0x123825[_0xb5eefc(0x958)]()[_0xb5eefc(0x646)]){const _0x594bc8=_0x123825[_0xb5eefc(0x958)]()['students'][_0xb5eefc(0x98b)](_0x4b0f82=>updateStudentProfile(_0x442938[_0xb5eefc(0x571)],_0x4b0f82));await Promise['all'](_0x594bc8);}}showMessage(_0xb5eefc(0x9b7)+_0x4bf573[_0xb5eefc(0x5b6)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x17150){console[_0xb5eefc(0xb9a)](_0xb5eefc(0xc2c),_0x17150),showMessage(_0xb5eefc(0x37a)+_0x17150[_0xb5eefc(0x6a5)]);}}async function reGradeSingleSubmission(_0x472ec2,_0x420c06){const _0x5e60fe=_0x5c7bd9,_0x205327=_0x472ec2[_0x5e60fe(0x958)](),_0x144c50=_0x205327[_0x5e60fe(0xb38)],_0x1b2159=_0x205327[_0x5e60fe(0x6b8)]||[],_0x3370b8=[];for(const _0x2e1ffa of _0x1b2159){let _0x3ce979=0x0,_0x536341=[],_0x416447=0x0;const _0x27a705=[];for(const _0x388c29 of _0x2e1ffa[_0x5e60fe(0x775)]){let _0x36042f;_0x388c29[_0x5e60fe(0x1b8)]&&(_0x36042f=_0x420c06[_0x5e60fe(0x600)][_0x5e60fe(0x241)](_0x1d199f=>_0x1d199f['id']===_0x388c29[_0x5e60fe(0x1b8)]));!_0x36042f&&_0x388c29['originalQuestionText']&&(_0x36042f=_0x420c06[_0x5e60fe(0x600)][_0x5e60fe(0x241)](_0x2d8a5e=>(_0x2d8a5e[_0x5e60fe(0x589)]||_0x2d8a5e[_0x5e60fe(0xbc9)])===_0x388c29[_0x5e60fe(0x872)]));let _0x5c6693=![];if(_0x36042f){const _0x24eb17=_0x36042f['questionType']||_0x420c06[_0x5e60fe(0x738)];switch(_0x24eb17){case _0x5e60fe(0x943):if(_0x36042f[_0x5e60fe(0xb8c)]&&_0x36042f[_0x5e60fe(0x23d)]<_0x36042f[_0x5e60fe(0xb8c)]['length']){const _0xbe763d=_0x36042f['options'][_0x36042f['correctAnswerIndex']];_0x5c6693=_0x388c29[_0x5e60fe(0x94e)]===_0xbe763d;}break;case _0x5e60fe(0xb61):const _0x55e09f=_0x388c29[_0x5e60fe(0x8d1)]===!![]||_0x388c29[_0x5e60fe(0x8d1)]===_0x5e60fe(0x284);_0x5c6693=_0x55e09f===_0x36042f[_0x5e60fe(0x684)];break;case _0x5e60fe(0x239):_0x5c6693=_0x388c29[_0x5e60fe(0x8d1)]===_0x36042f[_0x5e60fe(0x27f)];break;case _0x5e60fe(0x9a5):_0x5c6693=await gradeShortAnswer(_0x388c29[_0x5e60fe(0x8d1)],_0x36042f);break;default:_0x5c6693=_0x388c29[_0x5e60fe(0x548)];break;}}if(_0x5c6693){_0x3ce979++,_0x416447++;if(_0x416447===0x3)_0x536341[_0x5e60fe(0xbb1)](BADGES[_0x5e60fe(0x4d6)]['id']);}else _0x416447=0x0;_0x27a705[_0x5e60fe(0xbb1)]({..._0x388c29,'isCorrect':_0x5c6693});}let _0x362bf9=_0x3ce979*0xa;_0x3ce979===_0x420c06['questions'][_0x5e60fe(0x4d9)]&&(_0x362bf9+=0x32,_0x536341[_0x5e60fe(0xbb1)](BADGES[_0x5e60fe(0xbc5)]['id'])),_0x3370b8[_0x5e60fe(0xbb1)]({..._0x2e1ffa,'score':_0x3ce979,'points':_0x362bf9,'badges':Array[_0x5e60fe(0x4a0)](new Set(_0x536341)),'answers':_0x27a705});}const _0x3b1a58=_0x3370b8[_0x5e60fe(0x4d9)]>0x0?_0x3370b8[0x0][_0x5e60fe(0xa0f)]:0x0,_0x469648=Math[_0x5e60fe(0xbda)](..._0x3370b8[_0x5e60fe(0x98b)](_0x2ed919=>_0x2ed919[_0x5e60fe(0xa0f)])),_0x42e440=_0x3370b8[_0x5e60fe(0x4d9)]>0x0?_0x3370b8[_0x3370b8[_0x5e60fe(0x4d9)]-0x1]['score']:0x0,_0x3bf0c4=_0x3370b8[_0x5e60fe(0x4d9)]>0x0?_0x3370b8[_0x3370b8[_0x5e60fe(0x4d9)]-0x1][_0x5e60fe(0x706)]:0x0,_0x114032=doc(db,_0x5e60fe(0x2fd)+appId+_0x5e60fe(0xb33)+_0x420c06['id']+_0x5e60fe(0x4a9),_0x144c50);await updateDoc(_0x114032,{'attempts':_0x3370b8,'firstScore':_0x3b1a58,'bestScore':_0x469648,'latestScore':_0x42e440,'points':_0x3bf0c4});}function cleanupQuizOptions(_0x5c61b7){const _0x382c1e=_0x5c7bd9,_0xd65b0e=(_0x55b6d8,_0x39f6c6)=>_0x39f6c6===0x0?_0x55b6d8:_0xd65b0e(_0x39f6c6,_0x55b6d8%_0x39f6c6),_0x4e4a7b=_0x4c444d=>{const _0x57d951=_0x34dc;if(typeof _0x4c444d!=='string')return null;_0x4c444d=_0x4c444d['trim']();const _0x594853=_0x4c444d[_0x57d951(0x8ce)](/[ /]/)[_0x57d951(0x920)](_0x239b83=>_0x239b83!=='');if(_0x594853[_0x57d951(0x4d9)]===0x3)return parseInt(_0x594853[0x0])+parseInt(_0x594853[0x1])/parseInt(_0x594853[0x2]);else{if(_0x594853['length']===0x2)return parseInt(_0x594853[0x0])/parseInt(_0x594853[0x1]);else{if(_0x594853[_0x57d951(0x4d9)]===0x1&&!isNaN(_0x594853[0x0]))return parseFloat(_0x594853[0x0]);}}return null;},_0x576ac9=_0x5a6682=>{const _0x372fa8=_0x34dc;if(typeof _0x5a6682!==_0x372fa8(0x2ac))return _0x5a6682;const _0x185524=_0x5a6682[_0x372fa8(0x2a4)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x185524){const _0x3d422a=parseInt(_0x185524[0x1]);let _0x1a4f3f=parseInt(_0x185524[0x2]),_0xaa1a25=parseInt(_0x185524[0x3]);const _0x2542a0=_0xd65b0e(_0x1a4f3f,_0xaa1a25);_0x1a4f3f/=_0x2542a0,_0xaa1a25/=_0x2542a0;if(_0xaa1a25===0x1)return(_0x3d422a+_0x1a4f3f)[_0x372fa8(0x454)]();return _0x3d422a+'\x20'+_0x1a4f3f+'/'+_0xaa1a25;}return _0x5a6682;};return _0x5c61b7&&_0x5c61b7[_0x382c1e(0x600)]&&_0x5c61b7[_0x382c1e(0x600)][_0x382c1e(0x883)](_0x42c7ea=>{const _0x159669=_0x382c1e;if(_0x42c7ea['questionType']==='multiple_choice'&&_0x42c7ea[_0x159669(0xb8c)]){const _0x14972f=new Map(),_0x5c5b79=_0x42c7ea[_0x159669(0xb8c)][_0x42c7ea['correctAnswerIndex']];_0x42c7ea[_0x159669(0xb8c)]['forEach'](_0x1f37e8=>{const _0xd0209b=_0x576ac9(_0x1f37e8),_0xed7a5e=_0x4e4a7b(_0xd0209b);_0xed7a5e!==null&&!_0x14972f['has'](_0xed7a5e)&&_0x14972f['set'](_0xed7a5e,_0xd0209b);}),_0x42c7ea[_0x159669(0xb8c)]=Array[_0x159669(0x4a0)](_0x14972f[_0x159669(0x446)]());const _0x5ca421=_0x42c7ea['options'][_0x159669(0x9cf)](_0xc162b5=>_0xc162b5===_0x576ac9(_0x5c5b79));_0x42c7ea[_0x159669(0x23d)]=_0x5ca421!==-0x1?_0x5ca421:0x0;}}),_0x5c61b7;}function showGameStartConfirmationModal(_0x480b59,_0x4e2cb9,_0x24d34b){const _0x4ac076=_0x5c7bd9,_0x81ed2=document[_0x4ac076(0x82a)](_0x4ac076(0x1e2));document[_0x4ac076(0x82a)](_0x4ac076(0x793))['textContent']=_0x4ac076(0xade)+_0x24d34b,document['getElementById'](_0x4ac076(0x78d))[_0x4ac076(0x556)]=_0x480b59,document['getElementById'](_0x4ac076(0x619))[_0x4ac076(0x556)]=_0x4e2cb9,document[_0x4ac076(0x82a)]('save-game-results-checkbox')[_0x4ac076(0x4be)]=!![],_0x81ed2[_0x4ac076(0xbe2)][_0x4ac076(0x521)]('hidden');}async function saveGameResultsAsSubmissions(_0x299c08){const _0x4dfc13=_0x5c7bd9;console['log']('Attempting\x20to\x20save\x20game\x20results...',_0x299c08);const _0x5965fb=_0x299c08[_0x4dfc13(0xbc0)];let _0x414e2b=[];if(_0x299c08[_0x4dfc13(0xbc1)])_0x414e2b=Object[_0x4dfc13(0x9cb)](_0x299c08[_0x4dfc13(0xbc1)])[_0x4dfc13(0x98b)](([_0x3f4959,_0x1005ce])=>({'name':_0x3f4959,..._0x1005ce}));else{if(_0x299c08[_0x4dfc13(0x6ca)])Object['values'](_0x299c08[_0x4dfc13(0x6ca)])[_0x4dfc13(0x883)](_0x12208e=>{const _0x24d2d4=_0x4dfc13;_0x12208e['members'][_0x24d2d4(0x883)](_0x4964f1=>{const _0x2ffdd2=_0x24d2d4;_0x414e2b[_0x2ffdd2(0xbb1)]({'name':_0x4964f1,'score':_0x12208e[_0x2ffdd2(0xa0f)]});});});else _0x299c08['responses']&&Object['entries'](_0x299c08['responses'])['forEach'](([_0x1bfda1,_0x25ed04])=>{_0x414e2b['push']({'name':_0x1bfda1,..._0x25ed04});});}if(_0x414e2b[_0x4dfc13(0x4d9)]===0x0){console['log'](_0x4dfc13(0x9a8));return;}const _0x54692e=_0x299c08[_0x4dfc13(0x443)]?.['questions'][_0x4dfc13(0x4d9)]||currentQuizData['questions'][_0x4dfc13(0x4d9)],_0x507de8=writeBatch(db);for(const _0x14dde0 of _0x414e2b){const _0x379858=_0x14dde0['score']||0x0,_0x30c8da=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x5965fb+_0x4dfc13(0x4a9),_0x14dde0[_0x4dfc13(0x97a)]),_0x26ad5a=(_0x14dde0[_0x4dfc13(0x775)]||[])['filter'](_0x2eed23=>_0x2eed23[_0x4dfc13(0x548)])[_0x4dfc13(0x4d9)],_0x5271ef={'score':_0x26ad5a,'points':_0x379858,'badges':_0x14dde0[_0x4dfc13(0x38c)]||[],'submittedAt':new Date()[_0x4dfc13(0x41a)](),'answers':(_0x14dde0['answers']||[])[_0x4dfc13(0x98b)](_0x987994=>({'questionId':_0x987994[_0x4dfc13(0x1b8)],'answer':_0x987994['answer'],'answerText':_0x987994[_0x4dfc13(0x94e)],'isCorrect':_0x987994[_0x4dfc13(0x548)],'originalQuestionText':_0x987994[_0x4dfc13(0x872)],'wasConfident':_0x987994[_0x4dfc13(0xbb7)]}))},_0x1063c5=await getDoc(_0x30c8da),_0x3dc364=_0x1063c5[_0x4dfc13(0x4a4)]()?_0x1063c5['data']():{},_0x4824f6=_0x3dc364['bestScore']||0x0,_0x8cebc2=_0x3dc364[_0x4dfc13(0x6b8)]||[],_0x53033d={'studentName':_0x14dde0[_0x4dfc13(0x97a)],'totalQuestions':_0x54692e,'attempts':arrayUnion(_0x5271ef),'latestScore':_0x26ad5a,'points':_0x379858,'latestSubmittedAt':_0x5271ef[_0x4dfc13(0xb78)],'bestScore':Math[_0x4dfc13(0xbda)](_0x4824f6,_0x26ad5a),'firstScore':_0x8cebc2[_0x4dfc13(0x4d9)]===0x0?_0x26ad5a:_0x3dc364['firstScore']||0x0};_0x507de8['set'](_0x30c8da,_0x53033d,{'merge':!![]});}try{await _0x507de8[_0x4dfc13(0xbf4)](),showMessage(_0x4dfc13(0x996)+_0x414e2b[_0x4dfc13(0x4d9)]+'\x20รายการ\x20สำเร็จ!');const _0x598ba0=_0x299c08[_0x4dfc13(0x443)]?.[_0x4dfc13(0x571)]||currentQuizData?.['projectId']||currentProjectId;if(_0x598ba0){const _0x1ef31b=[...new Set(_0x414e2b[_0x4dfc13(0x98b)](_0x2e5990=>_0x2e5990[_0x4dfc13(0x97a)]))];for(const _0x2bb802 of _0x1ef31b){await updateStudentProfile(_0x598ba0,_0x2bb802);}}}catch(_0x4ffc3f){console['error']('Error\x20saving\x20game\x20results:',_0x4ffc3f),showMessage(_0x4dfc13(0xbfa));}}async function saveQuiz(_0x4a3eaf=null,_0x40f56f=null){const _0x15855b=_0x5c7bd9,_0xeff0b0=_0x4a3eaf||currentProjectId;if(!_0xeff0b0){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x15855b(0x600)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x1e7f4d=document[_0x15855b(0x82a)](_0x15855b(0x89c));_0x1e7f4d[_0x15855b(0x814)]=!![],_0x1e7f4d['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x1b6b7b=document['getElementById'](_0x15855b(0x9c4))[_0x15855b(0x4be)];let _0x1317fe=document[_0x15855b(0x82a)](_0x15855b(0x838))[_0x15855b(0x93d)][_0x15855b(0xbde)]();_0x1b6b7b&&!_0x1317fe['startsWith'](_0x15855b(0x7ca))&&(_0x1317fe=_0x15855b(0x4a6)+_0x1317fe);try{const _0x3a95bd={'resultsDisplay':document['getElementById'](_0x15855b(0x29d))[_0x15855b(0x556)],'shuffle':document[_0x15855b(0x82a)](_0x15855b(0x364))[_0x15855b(0x556)],'timerMode':document[_0x15855b(0x82a)](_0x15855b(0x9ac))['value'],'timerDuration':parseInt(document[_0x15855b(0x82a)](_0x15855b(0x85b))[_0x15855b(0x556)])||0xa,'passingScore':parseInt(document['getElementById'](_0x15855b(0x512))[_0x15855b(0x556)])||0x0,'isAdaptive':document[_0x15855b(0x82a)]('adaptive-quiz-checkbox')[_0x15855b(0x4be)],'loopUntilPass':document[_0x15855b(0x82a)](_0x15855b(0x5db))[_0x15855b(0x4be)]},_0x15877e=(currentQuizData['questions']||[])[_0x15855b(0x98b)]((_0x58c62e,_0x46f86e)=>{const _0x245940=_0x15855b,_0x20221f=document['getElementById'](_0x245940(0x629))[_0x245940(0x556)],_0x48adfb={'id':'q_'+Date[_0x245940(0x8cd)]()+'_'+_0x46f86e,'questionText':_0x58c62e[_0x245940(0xbc9)]||'','explanation':_0x58c62e[_0x245940(0xac7)]||'ไม่มีคำอธิบาย','questionType':_0x58c62e[_0x245940(0x6ab)]||_0x20221f,'imageCode':_0x58c62e[_0x245940(0xb88)]||null};return(_0x48adfb[_0x245940(0x6ab)]===_0x245940(0x943)||_0x48adfb[_0x245940(0x6ab)]===_0x245940(0x2c0)||_0x48adfb[_0x245940(0x6ab)]===_0x245940(0xa11)&&_0x58c62e['options'])&&(_0x48adfb[_0x245940(0xb8c)]=_0x58c62e['options']||[],_0x48adfb[_0x245940(0x23d)]=_0x58c62e['correctAnswerIndex']!==undefined?_0x58c62e[_0x245940(0x23d)]:0x0),(_0x48adfb[_0x245940(0x6ab)]==='short_answer'||_0x48adfb['questionType']===_0x245940(0xc12)||_0x48adfb['questionType']===_0x245940(0xa11)&&_0x58c62e[_0x245940(0x304)])&&(_0x48adfb['idealAnswer']=_0x58c62e[_0x245940(0x304)]||''),_0x48adfb[_0x245940(0x6ab)]===_0x245940(0xb61)&&(_0x48adfb[_0x245940(0x684)]=_0x58c62e[_0x245940(0x684)]===!![]),_0x48adfb[_0x245940(0x6ab)]===_0x245940(0x239)&&(_0x48adfb['stem']=_0x58c62e[_0x245940(0x589)]||'',_0x48adfb[_0x245940(0x27f)]=_0x58c62e[_0x245940(0x27f)]||'',_0x48adfb[_0x245940(0x2c7)]=_0x58c62e[_0x245940(0x2c7)]||[]),_0x48adfb;}),_0x368ad7={'topic':_0x1317fe,'quizType':currentQuizData[_0x15855b(0x738)]||_0x15855b(0x943),'questions':_0x15877e,'projectId':_0xeff0b0,'createdBy':userId,'createdAt':new Date()[_0x15855b(0x41a)](),'status':'active','settings':_0x3a95bd,'quizMode':_0x1b6b7b?_0x15855b(0x724):'standard','pairedQuizId':null,'lessonPlan':null};let _0x51d241;while(!![]){_0x51d241=Math['floor'](0x3e8+Math[_0x15855b(0xb68)]()*0x2328)[_0x15855b(0x454)]();const _0x3f99cd=await getDoc(doc(db,_0x15855b(0x2fd)+appId+_0x15855b(0x74e),_0x51d241));if(!_0x3f99cd[_0x15855b(0x4a4)]())break;}await setDoc(doc(db,_0x15855b(0x2fd)+appId+'/public/data/quizzes',_0x51d241),_0x368ad7);if(_0x40f56f&&currentBlueprintProjectId){console['log'](_0x15855b(0x966)+_0x51d241+_0x15855b(0x51c)+_0x40f56f);try{const _0x1ceec3=doc(db,_0x15855b(0x2fd)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x1ceec3,{['topics.'+_0x40f56f+_0x15855b(0x59a)]:arrayUnion(_0x51d241)});}catch(_0x39abba){console[_0x15855b(0xb9a)]('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x39abba);}}currentQuizData[_0x15855b(0x597)]=_0x3a95bd,currentQuizData['id']=_0x51d241;const _0x18dae6=document['getElementById']('generated-quiz-actions');_0x18dae6[_0x15855b(0xa1c)]=_0x15855b(0x7b2)+_0x51d241+_0x15855b(0x4e7),document[_0x15855b(0x82a)](_0x15855b(0x42f))[_0x15855b(0x68b)]('click',()=>copyTextToClipboard(_0x51d241,_0x15855b(0xb2a))),document[_0x15855b(0x82a)]('start-live-race-generated-btn')['addEventListener']('click',()=>handleStartLiveRace(_0x51d241)),document[_0x15855b(0x82a)](_0x15855b(0x824))[_0x15855b(0x68b)]('click',()=>startPresentation(currentQuizData)),document[_0x15855b(0x82a)](_0x15855b(0xbce))[_0x15855b(0x68b)](_0x15855b(0x79e),startAdminTest),showMessage(_0x15855b(0x7b7));}catch(_0x2961a6){console[_0x15855b(0xb9a)](_0x15855b(0x88e),_0x2961a6),showMessage(_0x15855b(0x70d));}finally{_0x1e7f4d[_0x15855b(0x814)]=![],_0x1e7f4d[_0x15855b(0xa1c)]=_0x15855b(0x423);}}function promptForProjectAndSave(){const _0x370804=_0x5c7bd9,_0xa097ad=document[_0x370804(0x82a)](_0x370804(0x20d)),_0x4855a8=document[_0x370804(0x82a)](_0x370804(0x347)),_0x25ef49=_0xa097ad['querySelector']('h3'),_0x38bd70=document[_0x370804(0x82a)](_0x370804(0x6fe));_0x25ef49['textContent']=_0x370804(0xb50),_0x38bd70[_0x370804(0xc26)]=_0x370804(0x5d3);allProjects['length']===0x0?(_0x4855a8[_0x370804(0xa1c)]=_0x370804(0xa24),_0x38bd70[_0x370804(0x814)]=!![]):(_0x4855a8[_0x370804(0xa1c)]=allProjects[_0x370804(0x98b)](_0x573f7e=>'<option\x20value=\x22'+_0x573f7e['id']+'\x22>'+_0x573f7e[_0x370804(0x5da)]+'</option>')[_0x370804(0x5b3)](''),_0x38bd70[_0x370804(0x814)]=![]);_0xa097ad[_0x370804(0xbe2)][_0x370804(0x521)](_0x370804(0x9b3));const _0x288096=()=>{const _0x25967a=_0x370804,_0x530f57=_0x4855a8['value'];_0x530f57?(currentProjectId=_0x530f57,_0xa097ad['classList'][_0x25967a(0x5ca)]('hidden'),saveQuiz(),_0x25ef49['textContent']=_0x25967a(0x660),_0x38bd70[_0x25967a(0xc26)]=_0x25967a(0x612),_0x38bd70[_0x25967a(0xb86)](_0x25967a(0x79e),_0x288096),_0x38bd70['addEventListener'](_0x25967a(0x79e),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x38bd70[_0x370804(0xb86)](_0x370804(0x79e),confirmMoveQuiz),_0x38bd70[_0x370804(0x68b)](_0x370804(0x79e),_0x288096);}function copyTextToClipboard(_0xb8497f,_0x25ba75){const _0x50c7bb=_0x5c7bd9,_0x1daccc=document['createElement']('textarea');_0x1daccc[_0x50c7bb(0x556)]=_0xb8497f,_0x1daccc['style'][_0x50c7bb(0x651)]='fixed',_0x1daccc[_0x50c7bb(0x95f)][_0x50c7bb(0x61e)]='0',document[_0x50c7bb(0xab8)][_0x50c7bb(0x70c)](_0x1daccc),_0x1daccc[_0x50c7bb(0x659)](),_0x1daccc[_0x50c7bb(0x6c2)]();try{const _0x3f3071=document[_0x50c7bb(0x482)](_0x50c7bb(0x630));showMessage(_0x3f3071?_0x25ba75:'คัดลอกไม่สำเร็จ');}catch(_0x130911){showMessage(_0x50c7bb(0x5be)),console[_0x50c7bb(0xb9a)](_0x50c7bb(0x5f3),_0x130911);}document[_0x50c7bb(0xab8)]['removeChild'](_0x1daccc);}function listenForProjectQuizzes(_0x3463ad){const _0x1a04a9=_0x5c7bd9,_0xd5931e=collection(db,'artifacts/'+appId+_0x1a04a9(0x74e)),_0x2a9ac3=query(_0xd5931e,where('projectId','==',_0x3463ad));unsubscribeQuizzesListener=onSnapshot(_0x2a9ac3,async _0x195e2e=>{const _0x482eab=_0x1a04a9;allQuizzes=_0x195e2e[_0x482eab(0x795)][_0x482eab(0x98b)](_0x54ef08=>({'id':_0x54ef08['id'],..._0x54ef08[_0x482eab(0x958)]()})),renderQuizzes();},_0x2bb129=>{const _0x15c3a3=_0x1a04a9;console[_0x15c3a3(0xb9a)](_0x15c3a3(0xa33),_0x2bb129),document[_0x15c3a3(0x82a)](_0x15c3a3(0xb30))[_0x15c3a3(0xa1c)]=_0x15c3a3(0xb39);});}async function renderQuizzes(){const _0x4b17bc=_0x5c7bd9,_0x2c47dc=document[_0x4b17bc(0x82a)](_0x4b17bc(0xb30)),_0x97335c=document[_0x4b17bc(0x82a)](_0x4b17bc(0x1dd))[_0x4b17bc(0x556)]['toLowerCase']();let _0x239717;currentProjectId===_0x4b17bc(0x26d)?_0x239717=starredQuizzes:_0x239717=allQuizzes;let _0x4bb1db=_0x239717[_0x4b17bc(0x920)](_0x43cb52=>_0x43cb52[_0x4b17bc(0x231)][_0x4b17bc(0x21d)]()[_0x4b17bc(0x918)](_0x97335c));_0x4bb1db[_0x4b17bc(0x74a)]((_0x5cd335,_0xe363ef)=>new Date(_0xe363ef['createdAt'])-new Date(_0x5cd335[_0x4b17bc(0x841)]));if(_0x4bb1db[_0x4b17bc(0x4d9)]===0x0){_0x2c47dc[_0x4b17bc(0xa1c)]=_0x4b17bc(0x9c9);return;}const _0x415e24={},_0x27b579=_0x4bb1db[_0x4b17bc(0x98b)](async _0x200667=>{const _0x481a7f=_0x4b17bc,_0x458d0d=collection(db,_0x481a7f(0x2fd)+appId+'/public/data/quizzes/'+_0x200667['id']+'/submissions'),_0x4b24f1=await getDocs(_0x458d0d);_0x415e24[_0x200667['id']]=_0x4b24f1[_0x481a7f(0x5b6)];});await Promise[_0x4b17bc(0x371)](_0x27b579);let _0x3bfd3d='';_0x4bb1db[_0x4b17bc(0x883)](_0x324b03=>{const _0x6d6ce2=_0x4b17bc,_0x460bce=_0x415e24[_0x324b03['id']]||0x0,_0x256367=_0x324b03[_0x6d6ce2(0x6d5)]||_0x6d6ce2(0x458),_0x257a78=_0x324b03['settings']?.[_0x6d6ce2(0x1e5)]||'none';let _0x447857='',_0x51daf8='';const _0x85ba09=new Date();let _0x37bb2e=_0x256367;if(_0x256367===_0x6d6ce2(0x8cf)){const _0x3900b5=_0x324b03[_0x6d6ce2(0xafb)]?new Date(_0x324b03[_0x6d6ce2(0xafb)]):null,_0x353675=_0x324b03[_0x6d6ce2(0x9ef)]?new Date(_0x324b03[_0x6d6ce2(0x9ef)]):null;if(_0x353675&&_0x85ba09>_0x353675)_0x37bb2e='inactive';else _0x3900b5&&_0x85ba09<_0x3900b5?_0x37bb2e=_0x6d6ce2(0x1a6):_0x37bb2e=_0x6d6ce2(0x458);}switch(_0x37bb2e){case _0x6d6ce2(0xbd5):_0x447857=_0x6d6ce2(0x386),_0x51daf8=_0x6d6ce2(0x49f);break;case _0x6d6ce2(0x1a6):_0x447857=_0x6d6ce2(0x3a0),_0x51daf8=_0x6d6ce2(0xb37);break;case _0x6d6ce2(0x458):_0x447857=_0x257a78!==_0x6d6ce2(0xab4)?_0x6d6ce2(0x249):_0x6d6ce2(0xac3),_0x51daf8=_0x6d6ce2(0x892);break;default:_0x447857=_0x6d6ce2(0x5f1),_0x51daf8=_0x6d6ce2(0x892);break;}let _0x29ea19='';const _0x13fff6={'day':'2-digit','month':_0x6d6ce2(0x7b1),'year':'numeric','hour':_0x6d6ce2(0x7b1),'minute':_0x6d6ce2(0x7b1),'hour12':![]};if(_0x256367===_0x6d6ce2(0x8cf)){if(_0x324b03['startTime'])_0x29ea19+=_0x6d6ce2(0x4bb)+new Date(_0x324b03[_0x6d6ce2(0xafb)])[_0x6d6ce2(0xc10)](_0x6d6ce2(0x88f),_0x13fff6)+'</p>';if(_0x324b03[_0x6d6ce2(0x9ef)])_0x29ea19+=_0x6d6ce2(0x4f5)+new Date(_0x324b03['endTime'])[_0x6d6ce2(0xc10)](_0x6d6ce2(0x88f),_0x13fff6)+_0x6d6ce2(0xc1e);}let _0x5d4b1d='';if(_0x324b03[_0x6d6ce2(0x527)]){const _0x5d6535=allQuizzes[_0x6d6ce2(0x241)](_0x3c71d1=>_0x3c71d1['id']===_0x324b03[_0x6d6ce2(0x527)]);if(_0x5d6535){let _0x45a5b5,_0x135e6a;new Date(_0x324b03[_0x6d6ce2(0x841)])<new Date(_0x5d6535[_0x6d6ce2(0x841)])?(_0x45a5b5=_0x324b03['id'],_0x135e6a=_0x5d6535['id']):(_0x45a5b5=_0x5d6535['id'],_0x135e6a=_0x324b03['id']),_0x5d4b1d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x135e6a+_0x6d6ce2(0xbbb)+_0x45a5b5+_0x6d6ce2(0x7fa);}}else _0x324b03[_0x6d6ce2(0xacf)]==='pre-test'&&(_0x5d4b1d+=_0x6d6ce2(0x964)+_0x324b03['id']+_0x6d6ce2(0x52b));if(_0x324b03[_0x6d6ce2(0xacf)]===_0x6d6ce2(0x724)&&_0x460bce>0x0)_0x5d4b1d+=_0x6d6ce2(0x964)+_0x324b03['id']+_0x6d6ce2(0x794);else!_0x324b03[_0x6d6ce2(0x527)]&&_0x324b03[_0x6d6ce2(0xacf)]!==_0x6d6ce2(0x724)&&_0x460bce>0x0&&(_0x5d4b1d+=_0x6d6ce2(0x964)+_0x324b03['id']+_0x6d6ce2(0x9a0));let _0x5e016d='';_0x324b03['pairedQuizId']?_0x5e016d=_0x6d6ce2(0x936)+_0x324b03['id']+_0x6d6ce2(0xb7d):_0x5e016d=_0x6d6ce2(0x936)+_0x324b03['id']+_0x6d6ce2(0xa2f),_0x3bfd3d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x324b03['id']+_0x6d6ce2(0xae3)+_0x324b03[_0x6d6ce2(0x231)]+_0x6d6ce2(0x6c7)+_0x324b03['questions'][_0x6d6ce2(0x4d9)]+_0x6d6ce2(0x424)+new Date(_0x324b03[_0x6d6ce2(0x841)])[_0x6d6ce2(0xc10)](_0x6d6ce2(0x88f))+_0x6d6ce2(0x7a9)+_0x460bce+_0x6d6ce2(0x3c3)+_0x29ea19+_0x6d6ce2(0x478)+_0x51daf8+'\x22>'+_0x447857+_0x6d6ce2(0x709)+_0x324b03['id']+_0x6d6ce2(0x98d)+_0x324b03['id']+_0x6d6ce2(0x2e8)+(_0x324b03[_0x6d6ce2(0x90f)]?_0x6d6ce2(0x71c):_0x6d6ce2(0x468))+_0x6d6ce2(0x1a7)+_0x5d4b1d+_0x6d6ce2(0x455)+_0x324b03['id']+_0x6d6ce2(0x86a)+_0x324b03['id']+_0x6d6ce2(0x83d)+_0x324b03['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x324b03['id']+_0x6d6ce2(0x55a)+_0x324b03['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x324b03['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x324b03['id']+'\x22\x20data-topic=\x22'+_0x324b03[_0x6d6ce2(0x231)]+_0x6d6ce2(0x4c9)+_0x324b03['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x324b03['id']+_0x6d6ce2(0x6b2)+_0x5e016d+_0x6d6ce2(0x83f)+_0x324b03['id']+_0x6d6ce2(0x7ee)+_0x324b03['id']+_0x6d6ce2(0x623)+_0x324b03['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x324b03['id']+_0x6d6ce2(0x5e9)+_0x324b03['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x324b03['id']+_0x6d6ce2(0x8fc)+_0x324b03['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x324b03['id']+'\x22\x20data-topic=\x22'+_0x324b03[_0x6d6ce2(0x231)]+_0x6d6ce2(0xa35)+_0x324b03['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2c47dc[_0x4b17bc(0xa1c)]=_0x3bfd3d,document[_0x4b17bc(0xb24)]('.quiz-result-card')['forEach'](_0x4349c4=>{const _0x2bd871=_0x4b17bc;_0x4349c4[_0x2bd871(0x68b)]('click',()=>{const _0x236f00=_0x2bd871,_0x3a5750=_0x4349c4[_0x236f00(0x6d1)][_0x236f00(0xbc0)];showQuizDetailView(_0x3a5750);});});}async function handleUnpairQuiz(_0x3f0580){const _0xcd1f19=_0x5c7bd9,_0x5edabe=allQuizzes['find'](_0x427835=>_0x427835['id']===_0x3f0580);if(!_0x5edabe||!_0x5edabe[_0xcd1f19(0x527)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0xcd1f19(0x585),async()=>{const _0x39b137=_0xcd1f19;try{const _0x50882b=doc(db,'artifacts/'+appId+_0x39b137(0x74e),_0x3f0580),_0xaa28e8=doc(db,_0x39b137(0x2fd)+appId+_0x39b137(0x74e),_0x5edabe[_0x39b137(0x527)]),_0x38dbc4=writeBatch(db);_0x38dbc4[_0x39b137(0x570)](_0x50882b,{'pairedQuizId':null}),_0x38dbc4[_0x39b137(0x570)](_0xaa28e8,{'pairedQuizId':null}),await _0x38dbc4['commit'](),showMessage(_0x39b137(0x3dc));}catch(_0xa4a67f){console[_0x39b137(0xb9a)](_0x39b137(0x4a8),_0xa4a67f),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x4c504a,_0x1d86c3){const _0x2f7c68=_0x5c7bd9,_0xc07c0c=window[_0x2f7c68(0xa2e)]('','_blank'),_0x5e4dbe=_0x2f7c68(0x4c1)+_0x1d86c3[_0x2f7c68(0x231)]+_0x2f7c68(0x1a3)+_0x1d86c3[_0x2f7c68(0x231)]+_0x2f7c68(0x426)+_0x4c504a[_0x2f7c68(0xa38)]['map'](_0x37178b=>_0x2f7c68(0x748)+_0x37178b+'</li>')[_0x2f7c68(0x5b3)]('')+_0x2f7c68(0x788)+_0x4c504a['teachingContent']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c504a[_0x2f7c68(0xc0a)][_0x2f7c68(0x98b)](_0x1d3bd9=>_0x2f7c68(0x2e3)+_0x1d3bd9[_0x2f7c68(0xb99)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x1d3bd9[_0x2f7c68(0x7ea)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2f7c68(0x5b3)]('')+_0x2f7c68(0x2c5);_0xc07c0c[_0x2f7c68(0x28e)][_0x2f7c68(0x398)](_0x5e4dbe),_0xc07c0c[_0x2f7c68(0x28e)][_0x2f7c68(0x219)](),_0xc07c0c[_0x2f7c68(0x946)]=function(){setTimeout(()=>{const _0x57d2e7=_0x34dc;_0xc07c0c[_0x57d2e7(0x42a)]();},0x3e8);};}async function handleAiFixFormula(_0x4aa1bb){const _0x44314b=_0x5c7bd9,_0x151d0a=document[_0x44314b(0x410)](_0x44314b(0x3d5)+_0x4aa1bb+'\x22]');if(!_0x151d0a)return;const _0x121eb5=_0x151d0a[_0x44314b(0x6d1)][_0x44314b(0x24a)],_0x4287f2=_0x151d0a['querySelector']('.ai-fix-formula-btn');let _0x1a2cb8={'question':_0x151d0a[_0x44314b(0x410)](_0x44314b(0x1e4))[_0x44314b(0x556)]};switch(_0x121eb5){case'multiple_choice':_0x1a2cb8[_0x44314b(0xb8c)]=Array[_0x44314b(0x4a0)](_0x151d0a[_0x44314b(0xb24)](_0x44314b(0x9ad)))[_0x44314b(0x98b)](_0x5eb2c8=>_0x5eb2c8[_0x44314b(0x556)]);break;case _0x44314b(0x9a5):_0x1a2cb8['idealAnswer']=_0x151d0a[_0x44314b(0x410)](_0x44314b(0x5a2))['value'];break;case'matching_item':_0x1a2cb8[_0x44314b(0x27f)]=_0x151d0a[_0x44314b(0x410)](_0x44314b(0x8a4))[_0x44314b(0x556)];break;}_0x4287f2['innerHTML']=_0x44314b(0x2f7),_0x4287f2[_0x44314b(0x814)]=!![];try{const _0x7c4efa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x44314b(0x6b3)](_0x1a2cb8)+_0x44314b(0x8c0),_0xba3ee2={'type':_0x44314b(0x4f7),'properties':{'fixedData':{'type':_0x44314b(0x4f7),'properties':{'question':{'type':_0x44314b(0x5e7)},'options':{'type':_0x44314b(0xace),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x44314b(0x5e7)},'correctResponse':{'type':'STRING'}},'required':[_0x44314b(0xb99)]}},'required':[_0x44314b(0xae6)]},_0x24d274=await callAnalysisApi(_0x7c4efa,_0xba3ee2);if(_0x24d274&&_0x24d274[_0x44314b(0xae6)]){const _0x52691b=_0x24d274['fixedData'];_0x151d0a[_0x44314b(0x410)]('textarea')[_0x44314b(0x556)]=_0x52691b['question']||_0x1a2cb8[_0x44314b(0xb99)];switch(_0x121eb5){case _0x44314b(0x943):_0x52691b[_0x44314b(0xb8c)]&&_0x52691b[_0x44314b(0xb8c)]['length']>0x0&&_0x151d0a['querySelectorAll'](_0x44314b(0x9ad))[_0x44314b(0x883)]((_0x4600f,_0x941de1)=>{const _0x15d5d8=_0x44314b;_0x4600f[_0x15d5d8(0x556)]=_0x52691b[_0x15d5d8(0xb8c)][_0x941de1]||_0x1a2cb8[_0x15d5d8(0xb8c)][_0x941de1];});break;case _0x44314b(0x9a5):_0x151d0a[_0x44314b(0x410)](_0x44314b(0x5a2))[_0x44314b(0x556)]=_0x52691b[_0x44314b(0x304)]||_0x1a2cb8['idealAnswer'];break;case'matching_item':_0x151d0a[_0x44314b(0x410)](_0x44314b(0x8a4))[_0x44314b(0x556)]=_0x52691b['correctResponse']||_0x1a2cb8[_0x44314b(0x27f)];break;}if(_0x1a2cb8['question']!==_0x52691b[_0x44314b(0xb99)])try{const _0x4274f5=collection(db,_0x44314b(0x2fd)+appId+_0x44314b(0xc23));await addDoc(_0x4274f5,{'broken':_0x1a2cb8[_0x44314b(0xb99)],'fixed':_0x52691b[_0x44314b(0xb99)],'createdAt':serverTimestamp()});}catch(_0x148e31){console[_0x44314b(0xb9a)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x148e31);}showMessage(_0x44314b(0xc01));}else throw new Error(_0x44314b(0x47b));}catch(_0x1c6142){console[_0x44314b(0xb9a)](_0x44314b(0x500),_0x1c6142),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x4287f2[_0x44314b(0xa1c)]=_0x44314b(0xb4b),_0x4287f2[_0x44314b(0x814)]=![];}}async function handleGenerateLessonPlan(_0x8fd82e){const _0xc06ca4=_0x5c7bd9;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0xd59d04=doc(db,_0xc06ca4(0x2fd)+appId+_0xc06ca4(0x74e),_0x8fd82e),_0x401734=await getDoc(_0xd59d04);if(!_0x401734[_0xc06ca4(0x4a4)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x23989a={'id':_0x8fd82e,..._0x401734[_0xc06ca4(0x958)]()},_0x2ce433=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x8fd82e,'submissions'),_0x3548ba=await getDocs(_0x2ce433),_0x220f70=_0x3548ba[_0xc06ca4(0x795)][_0xc06ca4(0x98b)](_0x508a3d=>_0x508a3d[_0xc06ca4(0x958)]());if(_0x220f70[_0xc06ca4(0x4d9)]===0x0)throw new Error(_0xc06ca4(0xb13));const _0x54c200=calculateItemAnalysis(_0x23989a,_0x220f70)[_0xc06ca4(0x8e3)],_0x3e8675=calculateDistractorAnalysis(_0x23989a,_0x220f70),_0x4e36b2=_0x7f6063=>{const _0xe12b14=_0xc06ca4;if(!_0x7f6063)return'';return _0x7f6063['replace'](/\\/g,'\x5c\x5c')[_0xe12b14(0x973)](/"/g,'\x5c\x22')[_0xe12b14(0x973)](/\n/g,'\x5cn');};let _0x2f6c25=_0xc06ca4(0x357);_0x23989a[_0xc06ca4(0x600)]['forEach']((_0x52219e,_0x1a4d14)=>{const _0x1873f5=_0xc06ca4,_0x5b78a3=_0x54c200[_0x1a4d14]?.['p'][_0x1873f5(0xa05)](0x2)||_0x1873f5(0x66f),_0x3ff267=_0x54c200[_0x1a4d14]?.['r']['toFixed'](0x2)||_0x1873f5(0x66f),_0x20db31=_0x4e36b2(_0x52219e[_0x1873f5(0xbc9)]||_0x52219e['stem']);_0x2f6c25+='-\x20ข้อ\x20'+(_0x1a4d14+0x1)+_0x1873f5(0x4ba)+_0x5b78a3+_0x1873f5(0x5f5)+_0x3ff267+_0x1873f5(0x242)+_0x20db31+'\x5cn';if(_0x52219e[_0x1873f5(0x6ab)]===_0x1873f5(0x943)&&_0x3e8675[_0x1a4d14]){const _0x222772=_0x3e8675[_0x1a4d14],_0x1dc656=Object['keys'](_0x222772)[_0x1873f5(0x920)](_0x5a96fa=>parseInt(_0x5a96fa)!==_0x52219e[_0x1873f5(0x23d)])['sort']((_0x5206b2,_0x1ceb43)=>_0x222772[_0x1ceb43]['total']-_0x222772[_0x5206b2]['total'])[0x0];if(_0x1dc656&&_0x222772[_0x1dc656][_0x1873f5(0xb6d)]>0x0){const _0x4a843c=_0x4e36b2(_0x222772[_0x1dc656][_0x1873f5(0xab6)]);_0x2f6c25+=_0x1873f5(0x39f)+_0x4a843c+'\x22\x5cn';}}});const _0x29d0c4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x23989a[_0xc06ca4(0x231)]+_0xc06ca4(0x4b6)+_0x2f6c25+_0xc06ca4(0xa3f),_0x18b6f2={'type':_0xc06ca4(0x4f7),'properties':{'learningGaps':{'type':_0xc06ca4(0xace),'items':{'type':_0xc06ca4(0x5e7)}},'teachingContent':{'type':_0xc06ca4(0x5e7)},'practiceProblems':{'type':_0xc06ca4(0xace),'items':{'type':_0xc06ca4(0x4f7),'properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}}}}},'required':[_0xc06ca4(0xa38),'teachingContent',_0xc06ca4(0xc0a)]},_0x27ba68=await callAnalysisApi(_0x29d0c4,_0x18b6f2);await updateDoc(_0xd59d04,{'lessonPlan':_0x27ba68});const _0x1da99b=_0xc06ca4(0x329)+_0x23989a[_0xc06ca4(0x231)]+_0xc06ca4(0xa62)+_0x27ba68['learningGaps'][_0xc06ca4(0x98b)](_0xf21c13=>_0xc06ca4(0x748)+_0xf21c13+'</li>')[_0xc06ca4(0x5b3)]('')+_0xc06ca4(0x3fb)+_0x27ba68[_0xc06ca4(0x420)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x27ba68['practiceProblems'][_0xc06ca4(0x98b)](_0x2ddca8=>_0xc06ca4(0x6ad)+_0x2ddca8[_0xc06ca4(0xb99)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x2ddca8[_0xc06ca4(0x7ea)]+_0xc06ca4(0x822))[_0xc06ca4(0x5b3)]('')+_0xc06ca4(0xb00);document['getElementById'](_0xc06ca4(0x6bd))['textContent']=_0xc06ca4(0xa8b)+_0x23989a['topic'],document[_0xc06ca4(0x82a)](_0xc06ca4(0xba9))['innerHTML']=_0x1da99b,document[_0xc06ca4(0x82a)](_0xc06ca4(0x2d0))['classList'][_0xc06ca4(0x521)](_0xc06ca4(0x9b3));if(window[_0xc06ca4(0x403)])MathJax[_0xc06ca4(0x894)]();messageModal['classList'][_0xc06ca4(0x5ca)](_0xc06ca4(0x9b3));}catch(_0x56811b){console['error'](_0xc06ca4(0x6e6),_0x56811b),showMessage(_0xc06ca4(0x390)+_0x56811b[_0xc06ca4(0x6a5)]);}}async function handleDuplicateQuiz(_0x458e5a){const _0x9fa030=_0x5c7bd9;try{const _0x298b39=doc(db,'artifacts/'+appId+_0x9fa030(0x74e),_0x458e5a),_0x3a0ff0=await getDoc(_0x298b39);if(_0x3a0ff0[_0x9fa030(0x4a4)]()){const _0x28f352=_0x3a0ff0[_0x9fa030(0x958)]();let _0x1f8ed1='',_0x4bb65c='standard',_0x64a817=null;if(_0x28f352['quizMode']===_0x9fa030(0x724)){let _0x5aca34=_0x28f352[_0x9fa030(0x231)][_0x9fa030(0x973)]('(ก่อนเรียน)','')[_0x9fa030(0xbde)]();_0x1f8ed1=_0x9fa030(0x23a)+_0x5aca34,_0x4bb65c=_0x9fa030(0x244),_0x64a817=_0x458e5a;}else _0x1f8ed1=_0x9fa030(0x504)+_0x28f352[_0x9fa030(0x231)];const _0x5a1925={..._0x28f352,'topic':_0x1f8ed1,'createdAt':new Date()[_0x9fa030(0x41a)](),'quizMode':_0x4bb65c,'pairedQuizId':_0x64a817};let _0x26397a;while(!![]){_0x26397a=Math['floor'](0x3e8+Math[_0x9fa030(0xb68)]()*0x2328)[_0x9fa030(0x454)]();const _0x1fb7c5=await getDoc(doc(db,'artifacts/'+appId+_0x9fa030(0x74e),_0x26397a));if(!_0x1fb7c5['exists']())break;}const _0x43347f=doc(db,'artifacts/'+appId+_0x9fa030(0x74e),_0x26397a);await setDoc(_0x43347f,_0x5a1925),_0x5a1925[_0x9fa030(0xacf)]==='post-test'&&await updateDoc(_0x298b39,{'pairedQuizId':_0x26397a}),showMessage(_0x9fa030(0x6cd));}else throw new Error(_0x9fa030(0x816));}catch(_0x2949dd){console[_0x9fa030(0xb9a)](_0x9fa030(0xa25),_0x2949dd),showMessage(_0x9fa030(0xb5f));}}async function handleDeleteQuiz(_0x36d0ca,_0x26a18d=!![]){const _0x59cf30=_0x5c7bd9;try{const _0x87d2ac=writeBatch(db),_0x2dfad8=collection(db,_0x59cf30(0x2fd)+appId+_0x59cf30(0xb33)+_0x36d0ca+_0x59cf30(0x4a9)),_0x41bfc2=await getDocs(_0x2dfad8);_0x41bfc2['forEach'](_0x41d0cf=>{_0x87d2ac['delete'](doc(_0x2dfad8,_0x41d0cf['id']));});const _0x19d48c=doc(db,_0x59cf30(0x2fd)+appId+_0x59cf30(0x74e),_0x36d0ca);_0x87d2ac[_0x59cf30(0xabf)](_0x19d48c),await _0x87d2ac[_0x59cf30(0xbf4)]();try{console[_0x59cf30(0x77c)]('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x36d0ca+_0x59cf30(0xa0d));const _0x2dd759=collection(db,'artifacts/'+appId+_0x59cf30(0xc0e)),_0x4304c3=await getDocs(_0x2dd759),_0x5e8beb=[];_0x4304c3[_0x59cf30(0x883)](_0x9c17d4=>{const _0xb0181f=_0x59cf30,_0x14aed7=_0x9c17d4['data'](),_0x3b4e38=_0x14aed7['topics']||{};let _0x17ef19=![];for(const _0x4d8fbb in _0x3b4e38){const _0x11f2f4=_0x3b4e38[_0x4d8fbb];if(_0x11f2f4['linkedQuizIds']&&_0x11f2f4[_0xb0181f(0x6cb)][_0xb0181f(0x918)](_0x36d0ca)){_0x17ef19=!![];const _0x148306=doc(db,_0xb0181f(0x2fd)+appId+'/public/data/blueprintProjects',_0x9c17d4['id']),_0x1b19e4=updateDoc(_0x148306,{[_0xb0181f(0x680)+_0x4d8fbb+_0xb0181f(0x59a)]:arrayRemove(_0x36d0ca)});_0x5e8beb[_0xb0181f(0xbb1)](_0x1b19e4);}}}),_0x5e8beb[_0x59cf30(0x4d9)]>0x0&&(await Promise[_0x59cf30(0x371)](_0x5e8beb),console[_0x59cf30(0x77c)](_0x59cf30(0x86d)+_0x5e8beb[_0x59cf30(0x4d9)]+_0x59cf30(0x4ee)+_0x36d0ca+'.'));}catch(_0x55688a){console[_0x59cf30(0xb9a)]('Error\x20during\x20blueprint\x20link\x20cleanup:',_0x55688a);}_0x26a18d&&showMessage(_0x59cf30(0x2d7));}catch(_0xf9d58c){console['error'](_0x59cf30(0x7bd),_0xf9d58c),_0x26a18d&&showMessage(_0x59cf30(0x8d8));}}async function showQuizDetailView(_0x3d2a8b){const _0x47b0f6=_0x5c7bd9;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x47b0f6(0x41d));try{const _0x2375df=doc(db,_0x47b0f6(0x2fd)+appId+'/public/data/quizzes',_0x3d2a8b),_0x2de3c6=await getDoc(_0x2375df);if(!_0x2de3c6[_0x47b0f6(0x4a4)]()){showMessage(_0x47b0f6(0x365));return;}const _0x43b10a={'id':_0x2de3c6['id'],..._0x2de3c6['data']()};currentQuizData=_0x43b10a;const _0x5b1407=doc(db,_0x47b0f6(0x2fd)+appId+_0x47b0f6(0x3eb),_0x43b10a['projectId']),_0x231f07=await getDoc(_0x5b1407);_0x231f07['exists']()?(currentProjectData=_0x231f07[_0x47b0f6(0x958)](),currentProjectId=_0x43b10a[_0x47b0f6(0x571)]):(currentProjectData={'students':[]},currentProjectId=_0x43b10a['projectId']);document[_0x47b0f6(0x82a)](_0x47b0f6(0x51a))[_0x47b0f6(0xc26)]=_0x43b10a[_0x47b0f6(0x231)],document[_0x47b0f6(0x82a)](_0x47b0f6(0x665))['textContent']=_0x3d2a8b;const _0x1db593=collection(db,_0x47b0f6(0x2fd)+appId+_0x47b0f6(0x74e),_0x3d2a8b,_0x47b0f6(0x268));unsubscribeSubmissionsListener=onSnapshot(_0x1db593,_0x2ca8ae=>{const _0x4762d5=_0x47b0f6,_0x14eed3=_0x2ca8ae['docs'][_0x4762d5(0x98b)](_0x436b22=>({'id':_0x436b22['id'],..._0x436b22['data']()}));currentSubmissions=_0x14eed3;const _0x35b364=_0x14eed3['filter'](_0x14c096=>_0x14c096[_0x4762d5(0x6b8)]&&_0x14c096[_0x4762d5(0x6b8)][_0x4762d5(0x4d9)]>0x0);renderBehaviorLog(_0x14eed3),renderAnswerGrid(currentProjectData['students'],_0x35b364,_0x43b10a),renderAnalytics(_0x43b10a,_0x35b364),renderQuizResultsTable(currentProjectData['students'],_0x14eed3,_0x43b10a),renderQuizLeaderboard(_0x35b364,_0x43b10a,'quiz-leaderboard-table-body');}),showView(_0x47b0f6(0x8fa));}catch(_0x4fdc34){console[_0x47b0f6(0xb9a)](_0x47b0f6(0x768),_0x4fdc34),showMessage(_0x47b0f6(0x447));}}function renderAnswerGrid(_0x36246d,_0x32d0ba,_0x15d37f){const _0x53bc9c=_0x5c7bd9,_0x2a5c17=document[_0x53bc9c(0x82a)](_0x53bc9c(0xb60));if(!_0x2a5c17)return;if(!_0x36246d||_0x36246d[_0x53bc9c(0x4d9)]===0x0){_0x2a5c17[_0x53bc9c(0xa1c)]=_0x53bc9c(0x87f);return;}const _0x5a5e1b=_0x15d37f['questions'],_0x570078=_0x32d0ba['reduce']((_0x5214d9,_0x5c6986)=>{const _0x4307fd=_0x53bc9c;return _0x5214d9[_0x5c6986[_0x4307fd(0xb38)]]=_0x5c6986,_0x5214d9;},{}),_0x4486e4=_0x454db0=>String[_0x53bc9c(0x752)](0x41+_0x454db0),_0x1110b0=_0x5ab6c7=>{const _0x39ddb7=_0x53bc9c,_0x59e441=_0x5ab6c7[_0x39ddb7(0x6ab)]||_0x15d37f[_0x39ddb7(0x738)];switch(_0x59e441){case _0x39ddb7(0x943):return _0x5ab6c7[_0x39ddb7(0xb8c)]&&_0x5ab6c7[_0x39ddb7(0xb8c)][_0x39ddb7(0x4d9)]>_0x5ab6c7[_0x39ddb7(0x23d)]?_0x4486e4(_0x5ab6c7['correctAnswerIndex']):'-';case _0x39ddb7(0xb61):const _0x34b87b=_0x5ab6c7[_0x39ddb7(0x684)]===!![]||String(_0x5ab6c7['correctAnswer'])[_0x39ddb7(0x21d)]()===_0x39ddb7(0x284);return _0x34b87b?_0x39ddb7(0x719):'ไม่ใช่';case'matching_item':return _0x5ab6c7[_0x39ddb7(0x27f)]||'-';case _0x39ddb7(0x9a5):return'พิมพ์ตอบ';default:return'-';}},_0x4b263d=(_0x16737c,_0x18317c)=>{const _0x1840ba=_0x53bc9c;if(_0x18317c[_0x1840ba(0x8d1)]===null||_0x18317c[_0x1840ba(0x8d1)]===undefined)return'-';const _0x7e8871=_0x16737c[_0x1840ba(0x6ab)]||_0x15d37f[_0x1840ba(0x738)];switch(_0x7e8871){case _0x1840ba(0x943):const _0x36e26a=_0x16737c[_0x1840ba(0xb8c)][_0x1840ba(0x9cf)](_0x232eb4=>_0x232eb4===_0x18317c[_0x1840ba(0x94e)]);return _0x36e26a!==-0x1?_0x4486e4(_0x36e26a):_0x18317c[_0x1840ba(0x94e)]||'-';case _0x1840ba(0xb61):if(_0x18317c['answer']=='0'||_0x18317c['answer']===!![]||_0x18317c['answer']==='true')return _0x1840ba(0x719);return _0x1840ba(0x442);default:return _0x18317c['answer'];}};let _0x24ea6e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a5e1b[_0x53bc9c(0x98b)]((_0x221305,_0x4914c5)=>_0x53bc9c(0x8d7)+(_0x4914c5+0x1)+'</th>')[_0x53bc9c(0x5b3)]('')+_0x53bc9c(0x46e)+_0x5a5e1b[_0x53bc9c(0x98b)](_0x1bc519=>_0x53bc9c(0xb82)+_0x1110b0(_0x1bc519)+_0x53bc9c(0x8d2))[_0x53bc9c(0x5b3)]('')+_0x53bc9c(0xc17);_0x36246d[_0x53bc9c(0x883)](_0x3af533=>{const _0x1f1e27=_0x53bc9c;_0x24ea6e+=_0x1f1e27(0xa79),_0x24ea6e+=_0x1f1e27(0x438)+_0x3af533+_0x1f1e27(0x8d2);const _0x2d46b0=_0x570078[_0x3af533];if(_0x2d46b0){const _0x4ed367=_0x2d46b0['attempts'][_0x2d46b0[_0x1f1e27(0x6b8)][_0x1f1e27(0x4d9)]-0x1];_0x5a5e1b[_0x1f1e27(0x883)]((_0x5ca372,_0x6cdce8)=>{const _0x3a717f=_0x1f1e27,_0x547629=_0x4ed367[_0x3a717f(0x775)][_0x3a717f(0x241)](_0x348d03=>_0x348d03[_0x3a717f(0x1b8)]===_0x5ca372['id']);if(_0x547629){let _0x6fd23a='';const _0x1091cb=_0x547629[_0x3a717f(0x548)]===!![],_0x6ef966=_0x547629['wasConfident']===!![]||_0x547629[_0x3a717f(0xbb7)]==='confident';_0x6ef966?_0x6fd23a=_0x1091cb?_0x3a717f(0xbdc):_0x3a717f(0x55f):_0x6fd23a=_0x1091cb?_0x3a717f(0xbec):'bg-red-100',_0x24ea6e+=_0x3a717f(0x2ed)+_0x6fd23a+'\x22>'+_0x4b263d(_0x5ca372,_0x547629)+_0x3a717f(0x8d2);}else _0x24ea6e+=_0x3a717f(0x780);});}else _0x24ea6e+=_0x5a5e1b[_0x1f1e27(0x98b)](()=>_0x1f1e27(0x8e7))['join']('');_0x24ea6e+='</tr>';}),_0x24ea6e+=_0x53bc9c(0xa29),_0x2a5c17['innerHTML']=_0x24ea6e;}function renderQuizResultsTable(_0x2527da,_0x1ed09b,_0x1a24bb){const _0x1c2b81=_0x5c7bd9,_0x5e8347=_0x1ed09b[_0x1c2b81(0x631)]((_0x3c9dcc,_0x1428de)=>{const _0x31b698=_0x1c2b81;return _0x3c9dcc[_0x1428de[_0x31b698(0xb38)]]=_0x1428de,_0x3c9dcc;},{}),_0x246250=document[_0x1c2b81(0x410)](_0x1c2b81(0xbb5));_0x246250&&!_0x246250[_0x1c2b81(0xa1c)]['includes'](_0x1c2b81(0x6e1))&&(_0x246250[_0x1c2b81(0xa1c)]+=_0x1c2b81(0xa14));const _0x3d3a64=document[_0x1c2b81(0x82a)](_0x1c2b81(0xa69));if(!_0x2527da||_0x2527da[_0x1c2b81(0x4d9)]===0x0){_0x3d3a64[_0x1c2b81(0xa1c)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x89ec7=_0x1a24bb[_0x1c2b81(0x8a6)]===!![],_0x3b16fc=_0x1a24bb[_0x1c2b81(0x597)]?.[_0x1c2b81(0x6e3)]??-0x1;let _0x3ebbf2='';_0x2527da[_0x1c2b81(0x883)](_0xe287ce=>{const _0x433709=_0x1c2b81,_0x859bab=_0x5e8347[_0xe287ce];let _0xd020ad=_0x433709(0xb20)+(_0x89ec7?_0x433709(0x4e2):_0x433709(0x1f1))+'\x22>'+(_0x89ec7?_0x433709(0x45d):'สอบปกติ')+_0x433709(0x8f6);if(_0x859bab){if(_0x859bab[_0x433709(0x6b8)]&&_0x859bab[_0x433709(0x6b8)][_0x433709(0x4d9)]>0x0){let _0x2c03d6=_0x89ec7?_0x859bab[_0x433709(0x637)]===_0x859bab[_0x433709(0x92f)]:_0x3b16fc!==-0x1&&_0x859bab[_0x433709(0x637)]>=_0x3b16fc;const _0x273804=_0x2c03d6?_0x433709(0x3a5):_0x433709(0x75e),_0x5ce4e4=_0x2c03d6?_0x433709(0xad3):_0x433709(0x39c),_0x18fbb5=_0x433709(0x40b)+_0x273804+'\x22>'+_0x5ce4e4+_0x433709(0x8f6),_0x4a3c04='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x859bab[_0x433709(0x6b8)]?.[_0x433709(0x4d9)]||0x1)+'\x20ครั้ง)</span></td>';_0x3ebbf2+=_0x433709(0x522)+_0xe287ce+_0x433709(0x464)+_0x859bab['bestScore']+'\x20/\x20'+_0x859bab[_0x433709(0x92f)]+_0x433709(0x2aa)+_0x18fbb5+_0x433709(0x340)+_0xd020ad+_0x433709(0xa84)+_0x859bab[_0x433709(0x692)]+'\x20/\x20'+_0x859bab[_0x433709(0x92f)]+_0x433709(0x8d9)+_0x859bab[_0x433709(0x2a0)]+_0x433709(0xa3b)+_0x859bab[_0x433709(0x92f)]+_0x433709(0x83e)+(_0x859bab['points']||0x0)+_0x433709(0x2aa)+_0x4a3c04+_0x433709(0x64c)+new Date(_0x859bab['latestSubmittedAt'])[_0x433709(0xc10)]('th-TH')+_0x433709(0x7cb)+_0xe287ce+_0x433709(0xb06);}else{const _0x1981ec=_0x433709(0xaa3);_0x3ebbf2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0xe287ce+_0x433709(0x360)+_0xd020ad+_0x433709(0x2ff)+_0x1981ec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x859bab['startedAt'])[_0x433709(0xc10)](_0x433709(0x88f))+_0x433709(0x634)+_0xe287ce+_0x433709(0xb06);}}else{const _0x476385=_0x433709(0xb0a);_0x3ebbf2+=_0x433709(0x65f)+_0xe287ce+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd020ad+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x476385+_0x433709(0xa0e);}}),_0x3d3a64['innerHTML']=_0x3ebbf2;}async function confirmRenameQuiz(){const _0x31681a=_0x5c7bd9,_0xb8b345=document[_0x31681a(0x82a)]('rename-quiz-input')[_0x31681a(0x556)]['trim']();if(!_0xb8b345){showMessage(_0x31681a(0x3a9));return;}if(!actionTargetId)return;const _0x4f5b4b=doc(db,'artifacts/'+appId+_0x31681a(0x74e),actionTargetId);try{await updateDoc(_0x4f5b4b,{'topic':_0xb8b345}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x31681a(0xbe2)][_0x31681a(0x5ca)](_0x31681a(0x9b3)),actionTargetId=null;}catch(_0x3a804c){console[_0x31681a(0xb9a)](_0x31681a(0x868),_0x3a804c),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x528e62){const _0xfcc72b=_0x5c7bd9;actionTargetId=_0x528e62;const _0x557a74=document[_0xfcc72b(0x82a)](_0xfcc72b(0x347));_0x557a74[_0xfcc72b(0xa1c)]=_0xfcc72b(0x5a0),moveQuizModal[_0xfcc72b(0xbe2)]['remove'](_0xfcc72b(0x9b3));try{const _0x29a5c3=collection(db,_0xfcc72b(0x2fd)+appId+_0xfcc72b(0x3eb)),_0x21e235=await getDocs(_0x29a5c3),_0x5f0e00=_0x21e235[_0xfcc72b(0x795)][_0xfcc72b(0x98b)](_0x5b164e=>({'id':_0x5b164e['id'],..._0x5b164e[_0xfcc72b(0x958)]()})),_0x3ee63f=_0x5f0e00[_0xfcc72b(0x920)](_0x39a9c3=>_0x39a9c3['id']!==currentProjectId);if(_0x3ee63f['length']===0x0){_0x557a74[_0xfcc72b(0xa1c)]=_0xfcc72b(0x737),document[_0xfcc72b(0x82a)](_0xfcc72b(0x6fe))['disabled']=!![];return;}_0x557a74[_0xfcc72b(0xa1c)]=_0x3ee63f[_0xfcc72b(0x98b)](_0x1a69db=>_0xfcc72b(0x4fa)+_0x1a69db['id']+'\x22>'+_0x1a69db['projectName']+'</option>')['join'](''),document[_0xfcc72b(0x82a)](_0xfcc72b(0x6fe))[_0xfcc72b(0x814)]=![];}catch(_0x56046c){console['error'](_0xfcc72b(0xa1f),_0x56046c),showMessage(_0xfcc72b(0x5ee)),moveQuizModal[_0xfcc72b(0xbe2)]['add']('hidden');}}async function confirmMoveQuiz(){const _0x2d8cfd=_0x5c7bd9,_0x1c8886=document[_0x2d8cfd(0x82a)]('move-quiz-project-select')[_0x2d8cfd(0x556)];if(!_0x1c8886){showMessage(_0x2d8cfd(0xbf5));return;}if(!actionTargetId)return;const _0x577256=doc(db,_0x2d8cfd(0x2fd)+appId+_0x2d8cfd(0x74e),actionTargetId);try{await updateDoc(_0x577256,{'projectId':_0x1c8886}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x2d8cfd(0xbe2)][_0x2d8cfd(0x5ca)]('hidden'),actionTargetId=null;}catch(_0x3559c0){console[_0x2d8cfd(0xb9a)]('Error\x20moving\x20quiz:',_0x3559c0),showMessage(_0x2d8cfd(0x559));}}async function handleQuizSettings(_0x4aeeaa){const _0x3d1e47=_0x5c7bd9;actionTargetId=_0x4aeeaa;const _0x11ff7a=doc(db,_0x3d1e47(0x2fd)+appId+_0x3d1e47(0x74e),_0x4aeeaa);try{const _0x2f0a7b=await getDoc(_0x11ff7a);if(_0x2f0a7b[_0x3d1e47(0x4a4)]()){const _0xacbe34=_0x2f0a7b[_0x3d1e47(0x958)](),_0x5c36e2=_0xacbe34[_0x3d1e47(0x597)]||{},_0x165c90=_0xacbe34['questions'][_0x3d1e47(0x4d9)];document[_0x3d1e47(0x82a)](_0x3d1e47(0x6e2))[_0x3d1e47(0x556)]=_0x5c36e2['shuffle']||_0x3d1e47(0xab4),document[_0x3d1e47(0x82a)](_0x3d1e47(0x300))['value']=_0x5c36e2[_0x3d1e47(0xbbf)]||_0x3d1e47(0x5b8),document[_0x3d1e47(0x82a)](_0x3d1e47(0x55b))[_0x3d1e47(0x556)]=_0x5c36e2[_0x3d1e47(0x1e5)]||_0x3d1e47(0xab4),document[_0x3d1e47(0x82a)](_0x3d1e47(0x6a7))[_0x3d1e47(0x556)]=_0x5c36e2[_0x3d1e47(0x8af)]||0xa,document['getElementById']('modal-passing-score-input')['value']=_0x5c36e2[_0x3d1e47(0x6e3)]||Math[_0x3d1e47(0x33f)](_0x165c90/0x2),document[_0x3d1e47(0x82a)](_0x3d1e47(0x518))[_0x3d1e47(0xbda)]=_0x165c90,document[_0x3d1e47(0x82a)](_0x3d1e47(0x9bb))[_0x3d1e47(0x4be)]=_0x5c36e2[_0x3d1e47(0x8b2)]||![],document[_0x3d1e47(0x82a)]('modal-loop-until-pass-checkbox')[_0x3d1e47(0x4be)]=_0x5c36e2[_0x3d1e47(0xbf9)]||![];const _0x410a74=_0x5c36e2['isConfidenceScoringEnabled']||![];document['getElementById'](_0x3d1e47(0x5df))[_0x3d1e47(0x4be)]=_0x410a74,document[_0x3d1e47(0x82a)](_0x3d1e47(0x5fc))[_0x3d1e47(0x556)]=_0x5c36e2['confidenceMode']||'checkbox';const _0x419a90=document['getElementById'](_0x3d1e47(0x917));_0x419a90[_0x3d1e47(0xbe2)]['toggle'](_0x3d1e47(0x9b3),!_0x410a74),document[_0x3d1e47(0x82a)]('modal-timer-mode-select')['dispatchEvent'](new Event(_0x3d1e47(0x7d6))),quizSettingsModal[_0x3d1e47(0xbe2)]['remove'](_0x3d1e47(0x9b3));}else showMessage(_0x3d1e47(0x365));}catch(_0x1849f8){console['error'](_0x3d1e47(0x53a),_0x1849f8),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x454eaa=_0x5c7bd9;if(!actionTargetId)return;const _0x1de1f1=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId),_0x1fe9b6={'shuffle':document[_0x454eaa(0x82a)](_0x454eaa(0x6e2))[_0x454eaa(0x556)],'resultsDisplay':document[_0x454eaa(0x82a)](_0x454eaa(0x300))['value'],'timerMode':document['getElementById']('modal-timer-mode-select')[_0x454eaa(0x556)],'timerDuration':parseInt(document[_0x454eaa(0x82a)]('modal-timer-duration-input')['value'])||0xa,'passingScore':parseInt(document['getElementById']('modal-passing-score-input')[_0x454eaa(0x556)])||0x0,'isAdaptive':document[_0x454eaa(0x82a)]('modal-adaptive-quiz-checkbox')[_0x454eaa(0x4be)],'loopUntilPass':document[_0x454eaa(0x82a)]('modal-loop-until-pass-checkbox')[_0x454eaa(0x4be)],'isConfidenceScoringEnabled':document[_0x454eaa(0x82a)]('modal-confidence-scoring-checkbox')[_0x454eaa(0x4be)],'confidenceMode':document[_0x454eaa(0x82a)](_0x454eaa(0x5fc))[_0x454eaa(0x556)]};try{await updateDoc(_0x1de1f1,{'settings':_0x1fe9b6}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x454eaa(0xbe2)][_0x454eaa(0x5ca)](_0x454eaa(0x9b3)),actionTargetId=null;}catch(_0x36f42e){console[_0x454eaa(0xb9a)](_0x454eaa(0x36b),_0x36f42e),showMessage(_0x454eaa(0xa6d));}}async function confirmQuizStatus(){const _0x3ff9be=_0x5c7bd9;if(!actionTargetId)return;const _0x582a72=doc(db,_0x3ff9be(0x2fd)+appId+_0x3ff9be(0x74e),actionTargetId),_0x20752c=document[_0x3ff9be(0x410)](_0x3ff9be(0x3e7));if(!_0x20752c){showMessage(_0x3ff9be(0x5a9));return;}const _0x582d17=_0x20752c[_0x3ff9be(0x556)];let _0x52e8ff={};if(_0x582d17===_0x3ff9be(0x458)||_0x582d17===_0x3ff9be(0xbd5))_0x52e8ff={'status':_0x582d17,'startTime':null,'endTime':null};else{if(_0x582d17===_0x3ff9be(0x811)){const _0x2aa167=document[_0x3ff9be(0x82a)]('quiz-start-time')['value'],_0x434d3a=document[_0x3ff9be(0x82a)](_0x3ff9be(0x21a))['value'];if(!_0x2aa167&&!_0x434d3a){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x52e8ff={'status':_0x3ff9be(0x8cf),'startTime':_0x2aa167?new Date(_0x2aa167)['toISOString']():null,'endTime':_0x434d3a?new Date(_0x434d3a)[_0x3ff9be(0x41a)]():null};}}try{await updateDoc(_0x582a72,_0x52e8ff),showMessage(_0x3ff9be(0x204)),quizStatusModal[_0x3ff9be(0xbe2)][_0x3ff9be(0x5ca)](_0x3ff9be(0x9b3)),actionTargetId=null;}catch(_0x4f9635){console[_0x3ff9be(0xb9a)](_0x3ff9be(0x650),_0x4f9635),showMessage(_0x3ff9be(0x2e6));}}function listenForStudentProfiles(_0x115eaa){const _0xfbf10f=_0x5c7bd9,_0x2955e3=collection(db,'artifacts/'+appId+_0xfbf10f(0x372)+_0x115eaa+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x2955e3,_0x174568=>{const _0x374fe9=_0xfbf10f,_0x4ce033=_0x174568['docs'][_0x374fe9(0x98b)](_0x5333cc=>_0x5333cc['data']());renderLeaderboard(_0x4ce033,'leaderboard-table-body');},_0x105328=>{const _0x5862c6=_0xfbf10f;console['error'](_0x5862c6(0x62a),_0x105328),document[_0x5862c6(0x82a)]('leaderboard-table-body')['innerHTML']=_0x5862c6(0x2c9);});}function renderLeaderboard(_0x519a8f,_0x6d5b41){const _0x25b9d7=_0x5c7bd9,_0x1b2dd4=document[_0x25b9d7(0x82a)](_0x6d5b41);if(!_0x519a8f||_0x519a8f['length']===0x0){_0x1b2dd4['innerHTML']=_0x25b9d7(0x37e);return;}_0x519a8f['sort']((_0x47ff28,_0x405d95)=>{const _0x301560=_0x25b9d7,_0x7b604f=(_0x405d95[_0x301560(0x94d)]||0x0)-(_0x47ff28[_0x301560(0x94d)]||0x0);if(_0x7b604f!==0x0)return _0x7b604f;const _0x5d807f=(_0x405d95[_0x301560(0x1f8)]?.[_0x301560(0x3b7)]||0x0)-(_0x47ff28[_0x301560(0x1f8)]?.['specialist']||0x0);if(_0x5d807f!==0x0)return _0x5d807f;const _0x28cda4=(_0x405d95[_0x301560(0x1f8)]?.[_0x301560(0x290)]||0x0)-(_0x47ff28[_0x301560(0x1f8)]?.[_0x301560(0x290)]||0x0);if(_0x28cda4!==0x0)return _0x28cda4;const _0x57f8f9=(_0x405d95[_0x301560(0x1f8)]?.[_0x301560(0x513)]||0x0)-(_0x47ff28['badgesCount']?.['perfect_score']||0x0);if(_0x57f8f9!==0x0)return _0x57f8f9;const _0x48f54a=(_0x405d95[_0x301560(0x1f8)]?.['quick_thinker']||0x0)-(_0x47ff28[_0x301560(0x1f8)]?.[_0x301560(0xa99)]||0x0);if(_0x48f54a!==0x0)return _0x48f54a;return _0x47ff28[_0x301560(0xb38)][_0x301560(0x318)](_0x405d95[_0x301560(0xb38)],'th');});let _0xe84a87='';_0x519a8f[_0x25b9d7(0x883)]((_0x1c721d,_0x122324)=>{const _0x53a63a=_0x25b9d7,_0x12b33f=_0x122324+0x1,_0x358b14=_0x1c721d[_0x53a63a(0x1f8)]||{};let _0x165d25='';const _0x3e6e6d=[_0x53a63a(0x3b7),_0x53a63a(0x513),_0x53a63a(0x290),_0x53a63a(0xa99)];_0x3e6e6d[_0x53a63a(0x883)](_0x4e85af=>{const _0x338ad0=_0x53a63a;if(_0x358b14[_0x4e85af]>0x0){const _0x186f7a=Object['values'](BADGES)[_0x338ad0(0x241)](_0x406e58=>_0x406e58['id']===_0x4e85af);_0x186f7a&&(_0x4e85af==='specialist'?_0x165d25+=_0x338ad0(0x479)+_0x186f7a[_0x338ad0(0x97a)]+_0x338ad0(0x459)+_0x186f7a[_0x338ad0(0x34c)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x165d25+=_0x338ad0(0x479)+_0x186f7a[_0x338ad0(0x97a)]+'\x20('+_0x358b14[_0x4e85af]+_0x338ad0(0x7a0)+_0x186f7a['icon']+_0x338ad0(0x69e)+_0x358b14[_0x4e85af]+_0x338ad0(0x3de));}}),_0xe84a87+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x12b33f+_0x53a63a(0x22c)+_0x1c721d[_0x53a63a(0xb38)]+_0x53a63a(0xb74)+(_0x1c721d[_0x53a63a(0x94d)]||0x0)+_0x53a63a(0x22c)+(_0x165d25||'-')+_0x53a63a(0x603);}),_0x1b2dd4[_0x25b9d7(0xa1c)]=_0xe84a87;}function displayLoopScreen(_0x4796aa,_0xeb5212,_0x11de5c){const _0x47a7d3=_0x5c7bd9;let _0x853d00='';_0x11de5c!==_0x47a7d3(0x6df)&&(_0x853d00=_0x47a7d3(0x2bc)+_0x4796aa+'\x20/\x20'+_0xeb5212+_0x47a7d3(0xc18));const _0x11d862='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x853d00+_0x47a7d3(0x439);studentResultArea[_0x47a7d3(0xa1c)]=_0x11d862,studentResultArea[_0x47a7d3(0xbe2)][_0x47a7d3(0x521)](_0x47a7d3(0x9b3)),studentQuizArea[_0x47a7d3(0xbe2)][_0x47a7d3(0x5ca)](_0x47a7d3(0x9b3)),document[_0x47a7d3(0x82a)](_0x47a7d3(0x6bc))[_0x47a7d3(0x68b)](_0x47a7d3(0x79e),()=>{const _0x14803e=_0x47a7d3;studentResultArea['classList'][_0x14803e(0x5ca)](_0x14803e(0x9b3)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x21f24b,_0x525f60,_0x44671d){const _0x2301a9=_0x5c7bd9,_0x41bf33=document[_0x2301a9(0x82a)](_0x44671d),_0x25b17b=_0x44671d===_0x2301a9(0x869),_0x1f4f8c=_0x525f60['questions']['length'],_0xecda4d=document[_0x2301a9(0x82a)](_0x44671d)[_0x2301a9(0x2d9)](_0x2301a9(0x4ae));if(_0xecda4d&&!_0x25b17b){const _0x36b39b=_0xecda4d[_0x2301a9(0x410)](_0x2301a9(0x848));_0x36b39b[_0x2301a9(0xa1c)]=_0x2301a9(0x6a8);}if(!_0x21f24b||_0x21f24b['length']===0x0){_0x41bf33['innerHTML']='<tr><td\x20colspan=\x22'+(_0x25b17b?0x6:0x8)+_0x2301a9(0x7db);return;}const _0x2578f3=[..._0x21f24b];_0x2578f3['sort']((_0x8586aa,_0x58d8f1)=>{const _0x2ab208=_0x2301a9;let _0x5f1cac,_0x23cd5a;switch(quizLeaderboardSortBy){case _0x2ab208(0xb38):_0x5f1cac=_0x8586aa[_0x2ab208(0xb38)]||'',_0x23cd5a=_0x58d8f1[_0x2ab208(0xb38)]||'';return quizLeaderboardSortOrder===_0x2ab208(0xafc)?_0x5f1cac['localeCompare'](_0x23cd5a,'th'):_0x23cd5a['localeCompare'](_0x5f1cac,'th');case _0x2ab208(0x706):_0x5f1cac=_0x8586aa[_0x2ab208(0x706)]||0x0,_0x23cd5a=_0x58d8f1[_0x2ab208(0x706)]||0x0;break;case _0x2ab208(0x6b8):_0x5f1cac=_0x8586aa[_0x2ab208(0x6b8)]?.[_0x2ab208(0x4d9)]||0x1,_0x23cd5a=_0x58d8f1['attempts']?.[_0x2ab208(0x4d9)]||0x1;break;case _0x2ab208(0x7b6):_0x5f1cac=new Date(_0x8586aa[_0x2ab208(0x7b6)]),_0x23cd5a=new Date(_0x58d8f1[_0x2ab208(0x7b6)]);break;case _0x2ab208(0x637):default:_0x5f1cac=_0x8586aa[_0x2ab208(0x637)],_0x23cd5a=_0x58d8f1[_0x2ab208(0x637)];break;}if(_0x5f1cac<_0x23cd5a)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x5f1cac>_0x23cd5a)return quizLeaderboardSortOrder===_0x2ab208(0xafc)?0x1:-0x1;return 0x0;});const _0x52ab01=_0x525f60[_0x2301a9(0x8a6)]===!![],_0x5603b0=_0x525f60[_0x2301a9(0x597)]?.[_0x2301a9(0x6e3)]??-0x1;let _0x25465a='';_0x2578f3[_0x2301a9(0x883)]((_0x16cdfb,_0x5bbf34)=>{const _0x32bd5b=_0x2301a9,_0x4563e1=_0x5bbf34+0x1;let _0x2aef99=_0x32bd5b(0x1fd);if(_0x52ab01||_0x5603b0!==-0x1){let _0x799681=_0x52ab01?_0x16cdfb['bestScore']===_0x1f4f8c:_0x16cdfb['bestScore']>=_0x5603b0;const _0x5dbaeb=_0x799681?_0x32bd5b(0x3a5):_0x32bd5b(0x75e),_0x36ebef=_0x799681?'ผ่าน':_0x32bd5b(0x39c);_0x2aef99=_0x32bd5b(0xc11)+_0x5dbaeb+'\x22>'+_0x36ebef+'</span></td>';}const _0x22edbb=_0x16cdfb[_0x32bd5b(0x6b8)][_0x16cdfb[_0x32bd5b(0x6b8)][_0x32bd5b(0x4d9)]-0x1],_0x54928e=(_0x22edbb[_0x32bd5b(0x38c)]||[])['map'](_0x1fc456=>{const _0x5bd121=_0x32bd5b,_0xaca3d4=Object['values'](BADGES)[_0x5bd121(0x241)](_0x159493=>_0x159493['id']===_0x1fc456);return _0xaca3d4?_0x5bd121(0x970)+_0xaca3d4['name']+_0x5bd121(0x21e)+_0xaca3d4['icon']+_0x5bd121(0x831):'';})[_0x32bd5b(0x5b3)]('');_0x25465a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x4563e1+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x16cdfb[_0x32bd5b(0xb38)]+_0x32bd5b(0xb27)+_0x16cdfb[_0x32bd5b(0x637)]+_0x32bd5b(0xa3b)+_0x1f4f8c+_0x32bd5b(0x745)+_0x2aef99+_0x32bd5b(0x26a)+(_0x16cdfb[_0x32bd5b(0x706)]||0x0)+_0x32bd5b(0x745)+(_0x25b17b?'':_0x32bd5b(0x9d4)+(_0x16cdfb[_0x32bd5b(0x6b8)]?.[_0x32bd5b(0x4d9)]||0x1)+_0x32bd5b(0x8d2))+_0x32bd5b(0x965)+(_0x25b17b?'':_0x32bd5b(0x740)+new Date(_0x16cdfb['latestSubmittedAt'])[_0x32bd5b(0xc10)](_0x32bd5b(0x88f))+'</td>')+_0x32bd5b(0x5af)+(_0x54928e||'-')+_0x32bd5b(0x44a);}),_0x41bf33['innerHTML']=_0x25465a,_0xecda4d&&!_0x25b17b&&_0xecda4d[_0x2301a9(0xb24)](_0x2301a9(0x56b))['forEach'](_0x2eebef=>{const _0x367df6=_0x2301a9,_0x314a9d=_0x2eebef[_0x367df6(0x410)](_0x367df6(0x89a));if(_0x314a9d)_0x314a9d[_0x367df6(0x521)]();_0x2eebef[_0x367df6(0x6d1)][_0x367df6(0x74a)]===quizLeaderboardSortBy&&(_0x2eebef[_0x367df6(0xa1c)]+=_0x367df6(0x835)+(quizLeaderboardSortOrder===_0x367df6(0xafc)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0xa70be1){const _0x34dc02=_0x5c7bd9;if(!currentQuizData||!currentQuizData['id']||!_0xa70be1){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x34dc02(0x777)+_0xa70be1+_0x34dc02(0x857),async()=>{const _0x2f073b=_0x34dc02,_0x36c211=currentQuizData['id'],_0x5d2ad6=doc(db,_0x2f073b(0x2fd)+appId+_0x2f073b(0xb33)+_0x36c211+_0x2f073b(0x4a9),_0xa70be1);try{await deleteDoc(_0x5d2ad6),showMessage(_0x2f073b(0x4f4)+_0xa70be1+'\x20สำเร็จ');}catch(_0x257609){console[_0x2f073b(0xb9a)](_0x2f073b(0xb41),_0x257609),showMessage(_0x2f073b(0x417));}});}async function handleLoadQuiz(){const _0x16c846=_0x5c7bd9,_0x383c7b=document['getElementById']('quiz-id-input'),_0x522a6e=_0x383c7b[_0x16c846(0x556)][_0x16c846(0xbde)]();if(!_0x522a6e){showMessage(_0x16c846(0xbc8));return;}loadQuizBtn['disabled']=!![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x32af81=doc(db,_0x16c846(0x2fd)+appId+_0x16c846(0x74e),_0x522a6e),_0x44234a=await getDoc(_0x32af81);if(!_0x44234a['exists']()){showMessage(_0x16c846(0xac5));return;}currentQuizData={'id':_0x44234a['id'],..._0x44234a['data']()};const _0x5d5452=currentQuizData[_0x16c846(0x6d5)]||_0x16c846(0x458),_0x41501d=new Date();if(_0x5d5452===_0x16c846(0xbd5)){showMessage(_0x16c846(0x4a5));return;}if(_0x5d5452==='scheduled'){const _0x29ba97=currentQuizData[_0x16c846(0xafb)]?new Date(currentQuizData['startTime']):null,_0x522a65=currentQuizData[_0x16c846(0x9ef)]?new Date(currentQuizData['endTime']):null;if(_0x29ba97&&_0x41501d<_0x29ba97){showMessage(_0x16c846(0x763)+_0x29ba97[_0x16c846(0xc10)]('th-TH',{'hour12':![]}));return;}if(_0x522a65&&_0x41501d>_0x522a65){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x29498e=currentQuizData['projectId'];currentProjectId=_0x29498e;const _0x1fd1d3=doc(db,_0x16c846(0x2fd)+appId+_0x16c846(0x3eb),_0x29498e),_0x455437=await getDoc(_0x1fd1d3);if(!_0x455437['exists']()){showMessage(_0x16c846(0xb93));return;}const _0x2b2643=_0x455437[_0x16c846(0x958)]();currentStudentProjectData=_0x2b2643,displayStudentNameSelector(_0x2b2643[_0x16c846(0x646)],currentQuizData[_0x16c846(0x231)]);}catch(_0x5969cf){console[_0x16c846(0xb9a)](_0x16c846(0x7ad),_0x5969cf),showMessage(_0x16c846(0x583));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x16c846(0xa1c)]=_0x16c846(0x30d);}}async function handleJoinLiveGame(){const _0x25665b=_0x5c7bd9,_0xaa6e33=document[_0x25665b(0x82a)]('game-pin-input'),_0x4916e6=document[_0x25665b(0x82a)](_0x25665b(0x9e9)),_0x251679=document[_0x25665b(0x82a)](_0x25665b(0xac2)),_0xe1da1f=_0xaa6e33[_0x25665b(0x556)]['trim'](),_0x3030bd=_0x4916e6[_0x25665b(0x556)]['trim']();if(!_0xe1da1f||!_0x3030bd){showMessage(_0x25665b(0x9f0));return;}_0x251679[_0x25665b(0x814)]=!![],_0x251679[_0x25665b(0xa1c)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x41bb48=collection(db,'artifacts/'+appId+_0x25665b(0x3df)),_0x2b524c=query(_0x41bb48,where('gamePin','==',_0xe1da1f),where('status','in',[_0x25665b(0x954),_0x25665b(0xb99)])),_0x5c5eab=await getDocs(_0x2b524c);if(_0x5c5eab[_0x25665b(0x7b4)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0xe4d6ae=_0x5c5eab[_0x25665b(0x795)][0x0],_0x1d3fd0=_0xe4d6ae[_0x25665b(0x958)]();currentLiveGameId=_0xe4d6ae['id'];const _0x236512=_0x1d3fd0['quizId'],_0x31a948=doc(db,'artifacts/'+appId+_0x25665b(0x74e),_0x236512),_0x51d7e6=await getDoc(_0x31a948);if(!_0x51d7e6[_0x25665b(0x4a4)]()){showMessage(_0x25665b(0x1fa));return;}currentQuizData={'id':_0x51d7e6['id'],..._0x51d7e6['data']()};if(_0x1d3fd0[_0x25665b(0xbc1)]&&_0x1d3fd0[_0x25665b(0xbc1)][_0x3030bd]){const _0x1ee15f=_0x1d3fd0[_0x25665b(0xbc1)][_0x3030bd];if(_0x1ee15f[_0x25665b(0x6d5)]==='inactive'){_0x251679[_0x25665b(0xa1c)]=_0x25665b(0x1ed);const _0x12376d={};_0x12376d['players.'+_0x3030bd+_0x25665b(0x57b)]=_0x25665b(0x458),await updateDoc(doc(db,_0x25665b(0x2fd)+appId+_0x25665b(0x3df),currentLiveGameId),_0x12376d),showView(_0x25665b(0xa83)),currentStudentName=_0x3030bd,listenForLiveGameUpdates();return;}else{showMessage(_0x25665b(0x7f3));return;}}if(_0x1d3fd0[_0x25665b(0x6d5)]!==_0x25665b(0x954)){showMessage(_0x25665b(0x50f));return;}_0x251679[_0x25665b(0xa1c)]=_0x25665b(0x263);const _0x24b50b={};_0x24b50b[_0x25665b(0x9aa)+_0x3030bd]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x25665b(0x458)},await updateDoc(doc(db,_0x25665b(0x2fd)+appId+_0x25665b(0x3df),currentLiveGameId),_0x24b50b),currentStudentName=_0x3030bd,listenForLiveGameUpdates();}catch(_0x29a711){console[_0x25665b(0xb9a)](_0x25665b(0x517),_0x29a711),showMessage(_0x25665b(0xb7e));}finally{_0x251679['disabled']=![],_0x251679[_0x25665b(0xa1c)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0xb9b68e,_0x309d14){const _0x2a10f1=_0x5c7bd9,_0x5e0bed=document[_0x2a10f1(0x82a)]('student-name-select');document['getElementById']('student-quiz-topic')[_0x2a10f1(0xc26)]=_0x2a10f1(0x929)+_0x309d14,!_0xb9b68e||_0xb9b68e['length']===0x0?(_0x5e0bed[_0x2a10f1(0xa1c)]=_0x2a10f1(0x543),startQuizBtn[_0x2a10f1(0x814)]=!![]):(_0x5e0bed[_0x2a10f1(0xa1c)]=_0x2a10f1(0xb5a),_0xb9b68e[_0x2a10f1(0x883)](_0x432cd0=>{const _0x5061a7=_0x2a10f1,_0xaaef6e=document[_0x5061a7(0x5a7)](_0x5061a7(0x8e9));_0xaaef6e[_0x5061a7(0x556)]=_0x432cd0,_0xaaef6e[_0x5061a7(0xc26)]=_0x432cd0,_0x5e0bed[_0x5061a7(0x70c)](_0xaaef6e);}),startQuizBtn[_0x2a10f1(0x814)]=![]),studentInitialView[_0x2a10f1(0xbe2)]['add'](_0x2a10f1(0x9b3)),studentNameSelectionView[_0x2a10f1(0xbe2)][_0x2a10f1(0x521)]('hidden');}function shuffleArray(_0x217780){const _0xc1be55=_0x5c7bd9;for(let _0x3ad08d=_0x217780['length']-0x1;_0x3ad08d>0x0;_0x3ad08d--){const _0x210793=Math[_0xc1be55(0x33f)](Math['random']()*(_0x3ad08d+0x1));[_0x217780[_0x3ad08d],_0x217780[_0x210793]]=[_0x217780[_0x210793],_0x217780[_0x3ad08d]];}}function getShuffledQuiz(_0x5cac77){const _0x539b51=_0x5c7bd9;let _0x3b4d8b=JSON['parse'](JSON[_0x539b51(0x6b3)](_0x5cac77));const _0x3fba14=_0x3b4d8b['settings']?.[_0x539b51(0x406)]||_0x539b51(0xab4);if(_0x3fba14===_0x539b51(0xab4))return _0x3b4d8b;return(_0x3fba14===_0x539b51(0x8f4)||_0x3fba14==='both')&&shuffleArray(_0x3b4d8b['questions']),(_0x3fba14===_0x539b51(0xa6f)||_0x3fba14===_0x539b51(0x712))&&_0x3b4d8b[_0x539b51(0x600)][_0x539b51(0x883)](_0xface49=>{const _0x25fd6c=_0x539b51,_0x4bb259=_0xface49[_0x25fd6c(0x6ab)]||_0x3b4d8b[_0x25fd6c(0x738)];if(_0xface49[_0x25fd6c(0xb8c)]){let _0x588393=_0xface49[_0x25fd6c(0xb8c)][_0x25fd6c(0x98b)]((_0x9713cb,_0x293f7f)=>({'text':_0x9713cb,'isCorrect':_0x293f7f===_0xface49[_0x25fd6c(0x23d)]}));shuffleArray(_0x588393),_0xface49[_0x25fd6c(0xb8c)]=_0x588393[_0x25fd6c(0x98b)](_0x4b1a0b=>_0x4b1a0b[_0x25fd6c(0xab6)]),_0xface49[_0x25fd6c(0x23d)]=_0x588393[_0x25fd6c(0x9cf)](_0x597848=>_0x597848[_0x25fd6c(0x548)]);}_0x4bb259===_0x25fd6c(0x239)&&_0xface49[_0x25fd6c(0x2c7)]&&shuffleArray(_0xface49[_0x25fd6c(0x2c7)]);}),_0x3b4d8b;}function displayQuizForStudent(_0x49b425){const _0x1c4375=_0x5c7bd9;studentQuizArea[_0x1c4375(0xbe2)][_0x1c4375(0x521)](_0x1c4375(0x9b3)),currentDisplayedQuiz=getShuffledQuiz(_0x49b425);currentMode!==_0x1c4375(0x41c)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x1c4375(0x68b)](_0x1c4375(0x7da),handleFullscreenChange),document[_0x1c4375(0x68b)](_0x1c4375(0x98e),handleVisibilityChange),enterFullscreen(),window[_0x1c4375(0x68b)](_0x1c4375(0x860),resetDimTimer),window[_0x1c4375(0x68b)](_0x1c4375(0x1b2),resetDimTimer),window['addEventListener'](_0x1c4375(0x9c6),resetDimTimer),window[_0x1c4375(0x68b)](_0x1c4375(0x932),resetDimTimer),resetDimTimer());const _0x528880=currentDisplayedQuiz[_0x1c4375(0x597)]?.[_0x1c4375(0x1e5)]||_0x1c4375(0xab4);if(_0x528880===_0x1c4375(0x761))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x1c4375(0x8af)]);else _0x528880===_0x1c4375(0x1a0)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x47dbb7=_0x5c7bd9,_0x201b0a=currentDisplayedQuiz['settings']?.[_0x47dbb7(0x530)]===!![],_0x138f5c=currentDisplayedQuiz['settings']?.[_0x47dbb7(0xa5c)]||_0x47dbb7(0x496);let _0x344573=_0x47dbb7(0xc08)+currentDisplayedQuiz['topic']+_0x47dbb7(0x511)+(currentMode===_0x47dbb7(0x41c)?_0x47dbb7(0x69b):'')+_0x47dbb7(0x54b);currentDisplayedQuiz[_0x47dbb7(0x600)]['forEach']((_0x5c545d,_0x39c3ca)=>{const _0x1bb0c6=_0x47dbb7,_0x49c545=_0x5c545d[_0x1bb0c6(0x6ab)]||currentDisplayedQuiz[_0x1bb0c6(0x738)];_0x344573+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x49c545===_0x1bb0c6(0x239)){}else _0x344573+=_0x1bb0c6(0x3a3)+(_0x39c3ca+0x1)+'.\x20'+(_0x5c545d['instructions']||_0x5c545d[_0x1bb0c6(0xbc9)])+_0x1bb0c6(0xc1e),_0x5c545d[_0x1bb0c6(0xb88)]&&(_0x344573+=_0x1bb0c6(0x428)+_0x5c545d['imageCode']+'</div>');_0x344573+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x49c545){case _0x1bb0c6(0x9a5):_0x344573+='<textarea\x20name=\x22question'+_0x39c3ca+_0x1bb0c6(0x50a);break;case _0x1bb0c6(0xb61):_0x344573+=_0x1bb0c6(0x8da)+_0x39c3ca+_0x1bb0c6(0x41f)+_0x39c3ca+_0x1bb0c6(0x8ca)+_0x39c3ca+'_opt0\x22>ใช่</label></div>',_0x344573+=_0x1bb0c6(0x8da)+_0x39c3ca+'_opt1\x22\x20name=\x22question'+_0x39c3ca+_0x1bb0c6(0x68a)+_0x39c3ca+_0x1bb0c6(0x9c8);break;case _0x1bb0c6(0x239):_0x344573+=_0x1bb0c6(0x772)+_0x5c545d[_0x1bb0c6(0x589)]+_0x1bb0c6(0x28b)+_0x39c3ca+_0x1bb0c6(0xa96)+_0x5c545d['allResponses'][_0x1bb0c6(0x98b)](_0x19929b=>_0x1bb0c6(0x4fa)+_0x19929b+'\x22>'+_0x19929b+'</option>')[_0x1bb0c6(0x5b3)]('')+_0x1bb0c6(0x6c6);break;default:_0x344573+=_0x5c545d[_0x1bb0c6(0xb8c)][_0x1bb0c6(0x98b)]((_0x2f22a7,_0x10e3db)=>_0x1bb0c6(0x65e)+_0x39c3ca+_0x1bb0c6(0xb3d)+_0x10e3db+_0x1bb0c6(0xc07)+_0x39c3ca+'\x22\x20value=\x22'+_0x10e3db+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x39c3ca+_0x1bb0c6(0xb3d)+_0x10e3db+'\x22>'+_0x2f22a7+_0x1bb0c6(0xa53))[_0x1bb0c6(0x5b3)]('');break;}_0x344573+='</div>',_0x201b0a&&(_0x344573+=_0x1bb0c6(0x2e2),_0x138f5c===_0x1bb0c6(0x558)?_0x344573+=_0x1bb0c6(0xb53)+_0x39c3ca+'\x22\x20name=\x22confidence'+_0x39c3ca+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x39c3ca+_0x1bb0c6(0x3a6)+_0x39c3ca+_0x1bb0c6(0x2ea):_0x344573+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x39c3ca+_0x1bb0c6(0x897)+_0x39c3ca+_0x1bb0c6(0xb01)+_0x39c3ca+_0x1bb0c6(0x235),_0x344573+=_0x1bb0c6(0x59b)),_0x344573+='</div>';}),_0x344573+=_0x47dbb7(0x4ea),_0x344573+=_0x47dbb7(0xa40),studentQuizArea['innerHTML']=_0x344573;if(currentMode===_0x47dbb7(0x41c)){const _0x5cbf2a=document[_0x47dbb7(0x82a)](_0x47dbb7(0x497));if(_0x5cbf2a)_0x5cbf2a[_0x47dbb7(0x68b)]('click',cancelAdminTest);}const _0x3ece77=document[_0x47dbb7(0x82a)](_0x47dbb7(0xa10));_0x3ece77&&(_0x3ece77[_0x47dbb7(0x68b)](_0x47dbb7(0x3d8),handleSubmitQuiz),_0x3ece77['addEventListener']('click',_0x2ecdd3=>{const _0x4bf579=_0x47dbb7;if(_0x2ecdd3[_0x4bf579(0x5a4)]['classList'][_0x4bf579(0x5e6)](_0x4bf579(0x245))){const _0x6d32f5=_0x2ecdd3[_0x4bf579(0x5a4)],_0x407f3a=_0x6d32f5[_0x4bf579(0x6d1)]['questionIndex'],_0x41e324=_0x6d32f5[_0x4bf579(0x6d1)][_0x4bf579(0x556)];document['getElementById']('confidence-input-'+_0x407f3a)[_0x4bf579(0x556)]=_0x41e324;const _0x118267=_0x6d32f5[_0x4bf579(0x383)];_0x118267[_0x4bf579(0xb24)](_0x4bf579(0x8df))[_0x4bf579(0x883)](_0x1f15f1=>_0x1f15f1['classList']['remove'](_0x4bf579(0x458))),_0x6d32f5['classList'][_0x4bf579(0x5ca)](_0x4bf579(0x458));}}));if(window['MathJax'])window[_0x47dbb7(0x403)]['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0xa64534){const _0x47eafc=_0x5c7bd9;if(_0xa64534)_0xa64534[_0x47eafc(0xa73)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x5db619=document[_0x47eafc(0x82a)](_0x47eafc(0xa10));if(!_0x5db619)return;const _0x11df1b=currentDisplayedQuiz[_0x47eafc(0x597)]?.[_0x47eafc(0x530)]===!![],_0x16a726=currentDisplayedQuiz[_0x47eafc(0x597)]?.['confidenceMode']||_0x47eafc(0x496);if(_0x11df1b&&_0x16a726===_0x47eafc(0x558)){let _0x42bdb7=!![];for(let _0x4818ca=0x0;_0x4818ca<currentDisplayedQuiz[_0x47eafc(0x600)]['length'];_0x4818ca++){const _0x524222=_0x5db619['querySelector']('#confidence-input-'+_0x4818ca);if(!_0x524222||_0x524222[_0x47eafc(0x556)]===''){_0x42bdb7=![];break;}}if(!_0x42bdb7){showMessage(_0x47eafc(0xa82));return;}}const _0x5b0f7f=_0x5db619[_0x47eafc(0x410)](_0x47eafc(0x8c3)),_0x12216b=currentDisplayedQuiz[_0x47eafc(0x600)]['some'](_0x40b71b=>_0x40b71b[_0x47eafc(0x6ab)]===_0x47eafc(0x9a5));_0x5b0f7f&&(_0x5b0f7f[_0x47eafc(0x814)]=!![],_0x5b0f7f['innerHTML']=_0x12216b?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x9a05e1=new FormData(_0x5db619),_0x1cba8b=currentDisplayedQuiz[_0x47eafc(0x600)][_0x47eafc(0x98b)]((_0x4cea7c,_0x312ea7)=>{const _0x4fd523=_0x47eafc,_0x111e6d=_0x9a05e1[_0x4fd523(0x874)](_0x4fd523(0xb99)+_0x312ea7);let _0x2da798;_0x16a726===_0x4fd523(0x558)?_0x2da798=_0x9a05e1[_0x4fd523(0x874)](_0x4fd523(0x5b1)+_0x312ea7):_0x2da798=_0x9a05e1['get'](_0x4fd523(0x5b1)+_0x312ea7)==='on';let _0x1cd5d1=null;if(_0x111e6d!==null&&_0x111e6d!==undefined){const _0x1567c7=_0x4cea7c['questionType']||currentDisplayedQuiz[_0x4fd523(0x738)];_0x1567c7===_0x4fd523(0x943)||_0x1567c7==='fill_in_the_blank'?_0x1cd5d1=parseInt(_0x111e6d):_0x1cd5d1=_0x111e6d;}return{'answer':_0x1cd5d1,'wasConfident':_0x2da798};}),_0x1cd4f0=currentQuizData['id'],_0x1f928a=doc(db,_0x47eafc(0x2fd)+appId+_0x47eafc(0xb33)+_0x1cd4f0+_0x47eafc(0x4a9),currentStudentName),_0x4266e3=await getDoc(_0x1f928a),_0xb2ffd4=_0x4266e3[_0x47eafc(0x4a4)]()?_0x4266e3[_0x47eafc(0x958)]():{},_0x67b418=_0xb2ffd4[_0x47eafc(0x6b8)]||[];await processAndSubmitAnswers(_0x1cba8b,_0x67b418);}async function gradeShortAnswerWithAI(_0x419608,_0x170596){const _0x32b521=_0x5c7bd9;if(!_0x419608||!_0x170596)return![];try{const _0x1e44ed=_0x32b521(0x609)+_0x419608+_0x32b521(0xa86)+_0x170596+_0x32b521(0xaee),_0x5527f0={'contents':[{'role':'user','parts':[{'text':_0x1e44ed}]}]},_0x1cc70a='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x5af2f5='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x1cc70a,_0x17b651=await fetch(_0x5af2f5,{'method':_0x32b521(0x87a),'headers':{'Content-Type':_0x32b521(0x2f6)},'body':JSON[_0x32b521(0x6b3)](_0x5527f0)});if(!_0x17b651['ok'])throw new Error(_0x32b521(0x3ed));const _0x29d8ff=await _0x17b651[_0x32b521(0xafa)](),_0x2c4786=_0x29d8ff[_0x32b521(0x845)][0x0][_0x32b521(0x3e0)]['parts'][0x0][_0x32b521(0xab6)][_0x32b521(0xbde)]()['toLowerCase']();return _0x2c4786===_0x32b521(0x284);}catch(_0x5af3ec){return console[_0x32b521(0xb9a)](_0x32b521(0x99d),_0x5af3ec),![];}}async function processAndSubmitAnswers(_0x3ad159,_0x24c8cf){const _0x4ce6c1=_0x5c7bd9;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x4ce6c1(0x7da),handleFullscreenChange),document[_0x4ce6c1(0xb86)](_0x4ce6c1(0x98e),handleVisibilityChange);let _0x437c74=0x0;const _0x843d92=[],_0x44cce1=currentDisplayedQuiz[_0x4ce6c1(0x600)][_0x4ce6c1(0x4d9)];let _0x32b435=0x0,_0x40a892=[];const _0x5d8108=currentDisplayedQuiz[_0x4ce6c1(0x600)];for(let _0x14b84c=0x0;_0x14b84c<_0x5d8108[_0x4ce6c1(0x4d9)];_0x14b84c++){const _0x38d862=_0x5d8108[_0x14b84c],_0x481f49=_0x3ad159[_0x14b84c],_0x7c56d1=_0x481f49?_0x481f49[_0x4ce6c1(0x8d1)]:null,_0x3d4a9a=_0x481f49?_0x481f49[_0x4ce6c1(0xbb7)]:null;let _0x5d2832=![],_0x4d9e46=0x0;if(_0x7c56d1!==null&&_0x7c56d1!==''){const _0x2b1cd7=_0x38d862[_0x4ce6c1(0x6ab)]||currentDisplayedQuiz[_0x4ce6c1(0x738)];switch(_0x2b1cd7){case'matching_item':_0x5d2832=_0x7c56d1===_0x38d862['correctResponse'];break;case _0x4ce6c1(0xb61):const _0x2e77e8=_0x7c56d1===!![]||_0x7c56d1===_0x4ce6c1(0x284);_0x5d2832=_0x2e77e8===_0x38d862[_0x4ce6c1(0x684)];break;case _0x4ce6c1(0x9a5):_0x5d2832=await gradeShortAnswer(_0x7c56d1,_0x38d862);break;case _0x4ce6c1(0x943):default:_0x5d2832=Number(_0x7c56d1)===_0x38d862[_0x4ce6c1(0x23d)];break;}}if(currentDisplayedQuiz[_0x4ce6c1(0x597)]?.[_0x4ce6c1(0x530)]){const _0x70a0f8=_0x481f49?_0x481f49[_0x4ce6c1(0xbb7)]:null;if(_0x5d2832&&(_0x70a0f8===!![]||_0x70a0f8===_0x4ce6c1(0x88c)))_0x4d9e46=0x2;else{if(_0x5d2832)_0x4d9e46=0x1;else{if(!_0x5d2832&&(_0x70a0f8===![]||_0x70a0f8===_0x4ce6c1(0x336)||_0x70a0f8===null))_0x4d9e46=0x0;else!_0x5d2832&&(_0x70a0f8===!![]||_0x70a0f8==='confident')&&(_0x4d9e46=-0x1);}}}else _0x4d9e46=_0x5d2832?0x1:0x0;_0x437c74+=_0x4d9e46;if(_0x5d2832){_0x32b435++;if(_0x32b435===0x3)_0x40a892[_0x4ce6c1(0xbb1)](BADGES['ON_FIRE']['id']);}else _0x32b435=0x0;let _0x3898e1=null;_0x38d862[_0x4ce6c1(0xb8c)]&&_0x7c56d1!==null&&(_0x3898e1=_0x38d862[_0x4ce6c1(0xb8c)][_0x7c56d1]),_0x843d92[_0x4ce6c1(0xbb1)]({'questionId':_0x38d862['id'],'answer':_0x7c56d1,'answerText':_0x3898e1,'isCorrect':_0x5d2832,'wasConfident':_0x3d4a9a,'pointsAwarded':_0x4d9e46,'originalQuestionText':_0x38d862[_0x4ce6c1(0x589)]||_0x38d862['questionText']});}const _0x512cf2=_0x843d92[_0x4ce6c1(0x920)](_0x5a1fe2=>_0x5a1fe2['isCorrect'])[_0x4ce6c1(0x4d9)],_0x4c6ec2=currentDisplayedQuiz[_0x4ce6c1(0x597)]?.['passingScore']??Math[_0x4ce6c1(0x33f)](_0x44cce1/0x2);_0x512cf2===_0x44cce1&&_0x44cce1>0x0&&!currentDisplayedQuiz[_0x4ce6c1(0x8a6)]&&_0x40a892[_0x4ce6c1(0xbb1)](BADGES[_0x4ce6c1(0xbc5)]['id']);const _0x4bdf5a=currentDisplayedQuiz['settings']?.[_0x4ce6c1(0x1e5)];if(_0x4bdf5a===_0x4ce6c1(0x761)&&quizStartTime){const _0x517a2b=(new Date()-quizStartTime)/0x3e8,_0x4a3151=currentDisplayedQuiz[_0x4ce6c1(0x597)]['timerDuration']*0x3c;_0x512cf2>=_0x4c6ec2&&_0x517a2b<_0x4a3151/0x2&&_0x40a892[_0x4ce6c1(0xbb1)](BADGES[_0x4ce6c1(0x87e)]['id']);}_0x24c8cf[_0x4ce6c1(0x4d9)]===0x0&&_0x512cf2===_0x44cce1&&_0x44cce1>0x0&&_0x40a892['push'](BADGES['FIRST_TRY_ACE']['id']);if(_0x24c8cf[_0x4ce6c1(0x4d9)]>0x0){const _0x314018=_0x24c8cf[0x0][_0x4ce6c1(0xa0f)];if(_0x314018<_0x4c6ec2&&_0x512cf2>=_0x4c6ec2){const _0x2eeec4=_0x24c8cf['some'](_0x1ef41e=>(_0x1ef41e['badges']||[])[_0x4ce6c1(0x918)](BADGES[_0x4ce6c1(0x27c)]['id']));!_0x2eeec4&&_0x40a892['push'](BADGES[_0x4ce6c1(0x27c)]['id']);}}_0x24c8cf[_0x4ce6c1(0x4d9)]===0x4&&_0x40a892[_0x4ce6c1(0xbb1)](BADGES['PERSEVERANCE']['id']);const _0x5dd637=currentDisplayedQuiz[_0x4ce6c1(0x597)][_0x4ce6c1(0xbbf)];if(currentMode===_0x4ce6c1(0x41c)){handleResultDisplay(_0x5dd637,_0x512cf2,_0x437c74,_0x40a892,_0x843d92,_0x44cce1);return;}const _0x5d4572=currentQuizData['id'],_0x23fbcb=doc(db,_0x4ce6c1(0x2fd)+appId+_0x4ce6c1(0xb33)+_0x5d4572+_0x4ce6c1(0x4a9),currentStudentName);try{const _0x5f2374=[..._0x24c8cf],_0xbda98e={'score':_0x512cf2,'points':_0x437c74,'badges':Array[_0x4ce6c1(0x4a0)](new Set(_0x40a892)),'submittedAt':new Date()[_0x4ce6c1(0x41a)](),'answers':_0x843d92};_0x5f2374[_0x4ce6c1(0xbb1)](_0xbda98e);const _0x1e048e=_0x24c8cf['length']===0x0?_0x512cf2:_0x24c8cf[0x0][_0x4ce6c1(0xa0f)]||0x0,_0x3cef03=Math[_0x4ce6c1(0xbda)](..._0x5f2374[_0x4ce6c1(0x98b)](_0x31e41d=>_0x31e41d[_0x4ce6c1(0xa0f)]));await setDoc(_0x23fbcb,{'studentName':currentStudentName,'totalQuestions':_0x44cce1,'attempts':_0x5f2374,'firstScore':_0x1e048e,'bestScore':_0x3cef03,'latestScore':_0x512cf2,'points':_0x437c74,'latestSubmittedAt':_0xbda98e['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x4ce6c1(0x571)],currentStudentName),handleResultDisplay(_0x5dd637,_0x512cf2,_0x437c74,_0x40a892,_0x843d92,_0x44cce1);}catch(_0x3b5db5){console[_0x4ce6c1(0xb9a)](_0x4ce6c1(0x87c),_0x3b5db5),showMessage(_0x4ce6c1(0x2f8));}}async function updateStudentProfile(_0x2746db,_0xb0748c){const _0x24c7f6=_0x5c7bd9,_0x966088=doc(db,_0x24c7f6(0x2fd)+appId+_0x24c7f6(0x372)+_0x2746db+_0x24c7f6(0x4bf),_0xb0748c);try{const _0xc7e511=query(collection(db,_0x24c7f6(0x2fd)+appId+_0x24c7f6(0x74e)),where('projectId','==',_0x2746db)),_0x47c0d2=await getDocs(_0xc7e511),_0x41d9dc=new Map(_0x47c0d2[_0x24c7f6(0x795)][_0x24c7f6(0x98b)](_0x4c6da9=>[_0x4c6da9['id'],_0x4c6da9[_0x24c7f6(0x958)]()])),_0x2c36c9=Array[_0x24c7f6(0x4a0)](_0x41d9dc[_0x24c7f6(0x4c4)]());await runTransaction(db,async _0x483857=>{const _0x1f9391=_0x24c7f6;let _0x50f6b7=0x0;const _0x14b81c={};let _0x127224=!![],_0x415940=0x0,_0x43d696=0x0;for(const _0x455c80 of _0x2c36c9){const _0x4e70ad=_0x41d9dc[_0x1f9391(0x874)](_0x455c80),_0x3009c6=doc(db,_0x1f9391(0x2fd)+appId+_0x1f9391(0xb33)+_0x455c80+_0x1f9391(0x4a9),_0xb0748c),_0x3aa5fd=await _0x483857[_0x1f9391(0x874)](_0x3009c6);if(_0x3aa5fd['exists']()){const _0x2a10c5=_0x3aa5fd[_0x1f9391(0x958)](),_0x25a87b=_0x2a10c5['attempts']||[];if(_0x25a87b[_0x1f9391(0x4d9)]>0x0){const _0x3d4182=_0x25a87b[_0x1f9391(0x631)]((_0x4a80c5,_0x287838)=>{const _0x2498d0=_0x1f9391;if(_0x287838[_0x2498d0(0xa0f)]>_0x4a80c5[_0x2498d0(0xa0f)])return _0x287838;if(_0x287838[_0x2498d0(0xa0f)]===_0x4a80c5[_0x2498d0(0xa0f)])return(_0x287838[_0x2498d0(0x706)]||0x0)>(_0x4a80c5[_0x2498d0(0x706)]||0x0)?_0x287838:_0x4a80c5;return _0x4a80c5;},{'score':-0x1,'points':-0x1});_0x3d4182['score']>-0x1&&(_0x50f6b7+=_0x3d4182[_0x1f9391(0x706)]||0x0,(_0x3d4182['badges']||[])[_0x1f9391(0x883)](_0x1a3fda=>{_0x14b81c[_0x1a3fda]=(_0x14b81c[_0x1a3fda]||0x0)+0x1;}));}}if(_0x4e70ad[_0x1f9391(0x231)]!==_0x1f9391(0x8dd)){_0x43d696++;if(_0x3aa5fd['exists']()){_0x415940++;const _0x37021e=_0x3aa5fd['data']();_0x37021e['bestScore']!==_0x37021e['totalQuestions']&&(_0x127224=![]);}else _0x127224=![];}}_0x43d696>0x0&&_0x415940===_0x43d696&&_0x127224?_0x14b81c['specialist']=0x1:_0x14b81c['specialist']=0x0,_0x483857[_0x1f9391(0x3b0)](_0x966088,{'studentName':_0xb0748c,'totalPoints':_0x50f6b7,'unlockedBadges':Object['keys'](_0x14b81c)[_0x1f9391(0x920)](_0x4a9a0e=>_0x14b81c[_0x4a9a0e]>0x0),'badgesCount':_0x14b81c},{'merge':!![]});});}catch(_0x39c191){console['error']('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x39c191),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x340ebe=_0x5c7bd9;if(!currentQuizData){showMessage(_0x340ebe(0x40d));return;}let _0x5d8ae2=JSON['parse'](JSON[_0x340ebe(0x6b3)](currentQuizData));currentMode=_0x340ebe(0x41c),currentStudentName=_0x340ebe(0xa02),adminView[_0x340ebe(0xbe2)][_0x340ebe(0x5ca)](_0x340ebe(0x9b3)),studentView[_0x340ebe(0xbe2)][_0x340ebe(0x521)]('hidden'),studentInitialView[_0x340ebe(0xbe2)][_0x340ebe(0x5ca)](_0x340ebe(0x9b3)),studentNameSelectionView['classList'][_0x340ebe(0x5ca)](_0x340ebe(0x9b3)),studentResultArea['classList'][_0x340ebe(0x5ca)](_0x340ebe(0x9b3)),studentQuizArea[_0x340ebe(0xbe2)][_0x340ebe(0x521)](_0x340ebe(0x9b3)),quizStartTime=new Date(),displayQuizForStudent(_0x5d8ae2);}function handleResultDisplay(_0x41be05,_0x182f47,_0x2e9f36,_0x14745c,_0x3d55cb,_0x41974d){const _0x2a3d59=_0x5c7bd9;if(_0x41be05===_0x2a3d59(0xbf8)){displaySubmissionConfirmation();return;}const _0x45bb51=currentDisplayedQuiz['settings']?.[_0x2a3d59(0x6e3)]??Math[_0x2a3d59(0x33f)](_0x41974d/0x2),_0xb93a73=currentDisplayedQuiz['settings']?.['isAdaptive']??![],_0x36a0fe=currentDisplayedQuiz[_0x2a3d59(0x597)]?.[_0x2a3d59(0xbf9)]===!![],_0x29ca37=_0x182f47<_0x45bb51,_0x24b128=_0x41be05===_0x2a3d59(0xbfc)||_0x41be05===_0x2a3d59(0x363);if(_0x36a0fe&&_0x29ca37&&!_0x24b128){_0x41be05===_0x2a3d59(0x5b8)?displayResultsWithAnswers(_0x182f47,_0x2e9f36,_0x14745c,_0x3d55cb,_0x41974d,!![]):displayLoopScreen(_0x182f47,_0x41974d,_0x41be05);return;}if(_0xb93a73&&_0x29ca37){startAdaptiveFlow(_0x3d55cb,_0x182f47,_0x41974d);return;}switch(_0x41be05){case'show_results_and_answers':displayResultsWithAnswers(_0x182f47,_0x2e9f36,_0x14745c,_0x3d55cb,_0x41974d);break;case _0x2a3d59(0x433):displayResultsScoreOnly(_0x182f47,_0x2e9f36,_0x14745c,_0x41974d);break;case _0x2a3d59(0x6df):displayPassFailOnly(_0x182f47,_0x41974d);break;case _0x2a3d59(0xbfc):displayHalfMarkResult(_0x182f47,_0x41974d);break;case'perfect_score_status':displayPerfectScoreResult(_0x182f47,_0x41974d);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x4349fd){const _0x51c0ed=_0x5c7bd9;studentReadingArea['innerHTML']=_0x51c0ed(0x31c);const _0x35bf10=_0x51c0ed(0x40a)+_0x4349fd+_0x51c0ed(0x6f6)+simpleMathPrompt+_0x51c0ed(0x4b3),_0x53d57d={'type':_0x51c0ed(0x4f7),'properties':{'questionText':{'type':_0x51c0ed(0x5e7)},'options':{'type':_0x51c0ed(0xace),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x51c0ed(0x5e7)}},'required':['questionText',_0x51c0ed(0xb8c),_0x51c0ed(0x23d),_0x51c0ed(0xac7)]},_0x54c019={'type':'OBJECT','properties':{'topic':{'type':_0x51c0ed(0x5e7)},'questions':{'type':'ARRAY','items':_0x53d57d}},'required':[_0x51c0ed(0x231),'questions']};try{const _0xc74993=await callAnalysisApi(_0x35bf10,_0x54c019);_0xc74993[_0x51c0ed(0x8a6)]=!![],studentReadingArea[_0x51c0ed(0xbe2)][_0x51c0ed(0x5ca)]('hidden');const _0x438fca={...currentDisplayedQuiz[_0x51c0ed(0x597)],'isAdaptive':![],'resultsDisplay':_0x51c0ed(0x5b8)};_0xc74993[_0x51c0ed(0x597)]=_0x438fca,displayQuizForStudent(_0xc74993);}catch(_0x52590f){console['error'](_0x51c0ed(0x533),_0x52590f),showMessage(_0x51c0ed(0x3b1)),showView(_0x51c0ed(0x73c));}}function displayPassFailOnly(_0x446169,_0x175783){const _0x5d96e1=_0x5c7bd9,_0x4317f5=currentDisplayedQuiz[_0x5d96e1(0x597)]?.[_0x5d96e1(0x6e3)]??-0x1,_0x3befa0=currentDisplayedQuiz[_0x5d96e1(0x8a6)]===!![];let _0x490a64='',_0x5f34cd=![];if(_0x3befa0||_0x4317f5!==-0x1){_0x5f34cd=_0x3befa0?_0x446169===_0x175783:_0x446169>=_0x4317f5;const _0x3f6daa=_0x5f34cd?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x257e66=_0x5f34cd?_0x5d96e1(0xad3):_0x5d96e1(0x39c);_0x490a64='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x3f6daa+'\x22>'+_0x257e66+_0x5d96e1(0x8ed);}else _0x490a64=_0x5d96e1(0xb51);let _0x1f4c26=_0x5d96e1(0x1a2)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x490a64+_0x5d96e1(0x82d);studentResultArea[_0x5d96e1(0xa1c)]=_0x1f4c26,studentResultArea[_0x5d96e1(0xbe2)][_0x5d96e1(0x521)](_0x5d96e1(0x9b3)),studentQuizArea['classList'][_0x5d96e1(0x5ca)](_0x5d96e1(0x9b3)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x5f34cd});}function cancelAdminTest(){const _0x4c96c4=_0x5c7bd9;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x4c96c4(0xb86)](_0x4c96c4(0x7da),handleFullscreenChange),document['removeEventListener'](_0x4c96c4(0x98e),handleVisibilityChange),currentMode=_0x4c96c4(0x1f3),studentView[_0x4c96c4(0xbe2)]['add'](_0x4c96c4(0x9b3)),adminView[_0x4c96c4(0xbe2)]['remove'](_0x4c96c4(0x9b3)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x4c96c4(0xbd7));}function setupResultScreenBackButton(_0x2aee04){const _0x755132=_0x5c7bd9,_0x59779e={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x2aee04};if(_0x59779e[_0x755132(0x2ad)]){const _0x49ed4a=_0x755132(0x1ad);studentResultArea[_0x755132(0x8f9)]('beforeend',_0x49ed4a),document[_0x755132(0x82a)](_0x755132(0x6bc))[_0x755132(0x68b)](_0x755132(0x79e),()=>{const _0x78850a=_0x755132;studentResultArea[_0x78850a(0xbe2)]['add'](_0x78850a(0x9b3)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x30ecb9=_0x755132(0x27d),_0x3b4842=currentMode===_0x755132(0x41c),_0x1034df=_0x3b4842?_0x755132(0x9a2):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x7ec605='';_0x59779e[_0x755132(0x723)]&&(_0x7ec605+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x2a1346=_0x59779e['showImproveButton'];_0x2a1346===undefined&&(_0x2a1346=_0x59779e[_0x755132(0xa0f)]<_0x59779e['totalQuestions']);_0x2a1346&&(_0x7ec605+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x7ec605+=_0x755132(0xa6e)+_0x30ecb9+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x1034df+_0x755132(0x553);const _0x20fe6c=_0x755132(0x51b)+_0x7ec605+'</div>';studentResultArea[_0x755132(0x8f9)](_0x755132(0x9fb),_0x20fe6c),studentResultArea[_0x755132(0x410)](_0x755132(0x9b5))?.[_0x755132(0x68b)]('click',handleShowStudentRankings);const _0x5aa10b=studentResultArea[_0x755132(0x410)](_0x755132(0x708));_0x5aa10b&&_0x5aa10b[_0x755132(0x68b)](_0x755132(0x79e),()=>{const _0x2b9bd3=_0x755132;studentResultArea[_0x2b9bd3(0xbe2)]['add'](_0x2b9bd3(0x9b3)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x755132(0x82a)](_0x30ecb9)[_0x755132(0x68b)](_0x755132(0x79e),()=>{const _0x3a861a=_0x755132;_0x3b4842?(currentMode=_0x3a861a(0x1f3),studentView['classList'][_0x3a861a(0x5ca)]('hidden'),adminView[_0x3a861a(0xbe2)][_0x3a861a(0x521)](_0x3a861a(0x9b3)),showView(_0x3a861a(0xbd7))):(showView(_0x3a861a(0x73c)),document[_0x3a861a(0x82a)]('quiz-id-input')[_0x3a861a(0x556)]='');});}function displayResultsWithAnswers(_0x9ece82,_0x4d6f4c,_0x15bac7,_0x2307bc,_0x2d2105,_0x2d55ad=![]){const _0x8a126c=_0x5c7bd9,_0x26c30d=_0x2d2105>0x0?_0x9ece82/_0x2d2105*0x64:0x0,_0x288226=currentDisplayedQuiz[_0x8a126c(0x597)]?.[_0x8a126c(0x6e3)]??-0x1,_0x3d2d4e=currentDisplayedQuiz['isRemedial']===!![];let _0x4e2187='';if(_0x3d2d4e||_0x288226!==-0x1){let _0x26f42c=_0x3d2d4e?_0x9ece82===_0x2d2105:_0x9ece82>=_0x288226;const _0x4d2174=_0x26f42c?_0x8a126c(0x3a5):'bg-red-100\x20text-red-800',_0x1c41ff=_0x26f42c?'ผ่าน':_0x8a126c(0x39c);_0x4e2187=_0x8a126c(0x679)+_0x4d2174+'\x22>'+_0x1c41ff+_0x8a126c(0xc1e);}let _0x324fc8=_0x8a126c(0x9de)+currentStudentName+_0x8a126c(0x335)+_0x9ece82+_0x8a126c(0x43d)+_0x2d2105+_0x8a126c(0x6c0)+_0x4e2187+_0x8a126c(0x977)+_0x4d6f4c+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x26c30d[_0x8a126c(0xa05)](0x0)+_0x8a126c(0x990);currentDisplayedQuiz[_0x8a126c(0x600)]['forEach']((_0x3ee4b2,_0x469db7)=>{const _0xec5727=_0x8a126c,_0x2c56b5=_0x2307bc[_0x469db7],_0x476099=_0x2c56b5[_0xec5727(0x8d1)],_0x1874a2=_0x2c56b5[_0xec5727(0x548)],_0x411e40=_0x3ee4b2[_0xec5727(0x6ab)]||currentDisplayedQuiz[_0xec5727(0x738)];_0x324fc8+=_0xec5727(0x9c1)+(_0x1874a2?_0xec5727(0x5c8):_0xec5727(0xb1e))+_0xec5727(0x955)+(_0x469db7+0x1)+'.\x20'+(_0x3ee4b2[_0xec5727(0x589)]||_0x3ee4b2['questionText'])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x411e40){case _0xec5727(0x239):const _0xdd188d=_0x476099||'ไม่ได้ตอบ',_0x5bd573=_0x3ee4b2[_0xec5727(0x27f)];_0x324fc8+=_0xec5727(0x6bf)+(!_0x1874a2?'line-through\x20text-red-700':'')+'\x22>'+_0xdd188d+'</span></p>';!_0x1874a2&&(_0x324fc8+=_0xec5727(0xacc)+_0x5bd573+'</p>');break;case _0xec5727(0x9a5):_0x324fc8+=_0xec5727(0x890)+(_0x476099||_0xec5727(0x877))+'</p>',_0x324fc8+=_0xec5727(0x83a)+_0x3ee4b2[_0xec5727(0x304)]+_0xec5727(0xc1e);break;case _0xec5727(0xb61):_0x324fc8+='<p\x20class=\x22'+(_0x3ee4b2[_0xec5727(0x684)]===!![]?_0xec5727(0x64f):'')+'\x20'+(_0x476099===_0xec5727(0x284)&&!_0x1874a2?_0xec5727(0x444):'')+_0xec5727(0x1fc),_0x324fc8+=_0xec5727(0x718)+(_0x3ee4b2[_0xec5727(0x684)]===![]?_0xec5727(0x64f):'')+'\x20'+(_0x476099===_0xec5727(0xb2d)&&!_0x1874a2?_0xec5727(0x444):'')+'\x22>ไม่ใช่</p>';break;default:_0x324fc8+=_0x3ee4b2[_0xec5727(0xb8c)][_0xec5727(0x98b)]((_0x1b47e3,_0x124c96)=>{const _0x1b6133=_0xec5727;let _0x4dcdbd='',_0xeccd9d='';if(_0x124c96===_0x3ee4b2['correctAnswerIndex'])_0x4dcdbd=_0x1b6133(0x64f),_0xeccd9d=_0x1b6133(0x829);else _0x124c96===_0x476099&&(_0x4dcdbd=_0x1b6133(0x205),_0xeccd9d='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x1b6133(0x8b4)+_0x4dcdbd+'\x22>'+_0xeccd9d+_0x1b47e3+'</div>';})['join']('');break;}_0x324fc8+=_0xec5727(0x5cb)+(_0x3ee4b2[_0xec5727(0xac7)]||_0xec5727(0x661))+'</div>';if(!_0x1874a2){const _0xe9e99e=_0x3ee4b2['stem']||_0x3ee4b2[_0xec5727(0xbc9)];_0x324fc8+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0xe9e99e)+_0xec5727(0x9e4);}_0x324fc8+=_0xec5727(0x59b);}),studentResultArea[_0x8a126c(0xa1c)]=_0x324fc8,renderEarnedBadges(_0x15bac7,_0x8a126c(0xb09)),studentResultArea['classList'][_0x8a126c(0x521)](_0x8a126c(0x9b3)),studentQuizArea[_0x8a126c(0xbe2)]['add'](_0x8a126c(0x9b3)),setupResultScreenBackButton({'isLooping':_0x2d55ad,'score':_0x9ece82,'totalQuestions':_0x2d2105,'showRankings':!![]});if(window[_0x8a126c(0x403)])window[_0x8a126c(0x403)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0xbbe01b,_0x1a6241,_0x8f32a2,_0x3bfd27){const _0x2c8496=_0x5c7bd9,_0x565a5f=_0x3bfd27>0x0?_0xbbe01b/_0x3bfd27*0x64:0x0,_0x94d388=currentDisplayedQuiz['settings']?.[_0x2c8496(0x6e3)]??-0x1,_0x16cb60=currentDisplayedQuiz['isRemedial']===!![];let _0x10ebbc='';if(_0x16cb60||_0x94d388!==-0x1){let _0x3f3c81=_0x16cb60?_0xbbe01b===_0x3bfd27:_0xbbe01b>=_0x94d388;const _0x426e56=_0x3f3c81?_0x2c8496(0x3a5):_0x2c8496(0x75e),_0xb373ed=_0x3f3c81?_0x2c8496(0xad3):_0x2c8496(0x39c);_0x10ebbc=_0x2c8496(0x679)+_0x426e56+'\x22>'+_0xb373ed+'</p>';}let _0x44cf53=_0x2c8496(0x1a2)+currentStudentName+_0x2c8496(0x1e8)+_0xbbe01b+_0x2c8496(0x735)+_0x3bfd27+_0x2c8496(0x6c0)+_0x10ebbc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x1a6241+_0x2c8496(0x796)+_0x565a5f[_0x2c8496(0xa05)](0x0)+_0x2c8496(0xa64);studentResultArea['innerHTML']=_0x44cf53,renderEarnedBadges(_0x8f32a2,'earned-badges-container'),studentResultArea['classList'][_0x2c8496(0x521)](_0x2c8496(0x9b3)),studentQuizArea[_0x2c8496(0xbe2)][_0x2c8496(0x5ca)](_0x2c8496(0x9b3)),setupResultScreenBackButton({'score':_0xbbe01b,'totalQuestions':_0x3bfd27,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x17a193=_0x5c7bd9;let _0x2c40ab=_0x17a193(0x252)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x17a193(0xa1c)]=_0x2c40ab,studentResultArea['classList'][_0x17a193(0x521)](_0x17a193(0x9b3)),studentQuizArea[_0x17a193(0xbe2)][_0x17a193(0x5ca)](_0x17a193(0x9b3)),document[_0x17a193(0x82a)](_0x17a193(0x6cc))[_0x17a193(0x68b)]('click',()=>{const _0xb8475b=_0x17a193;showView(_0xb8475b(0x73c)),document[_0xb8475b(0x82a)](_0xb8475b(0x1d4))[_0xb8475b(0x556)]='';});}function renderEarnedBadges(_0x56fa2d,_0x1c2f41){const _0x2e6f33=_0x5c7bd9,_0x4584cf=document[_0x2e6f33(0x82a)](_0x1c2f41);if(!_0x4584cf||!_0x56fa2d||_0x56fa2d[_0x2e6f33(0x4d9)]===0x0)return;let _0x360487='';_0x56fa2d[_0x2e6f33(0x883)]((_0x1b2f22,_0x3f1812)=>{const _0x419788=_0x2e6f33,_0xa434ee=Object[_0x419788(0x446)](BADGES)[_0x419788(0x241)](_0x5e557c=>_0x5e557c['id']===_0x1b2f22);_0xa434ee&&(_0x360487+=_0x419788(0x425)+_0x3f1812*0.2+_0x419788(0x7c3)+_0xa434ee[_0x419788(0x7c8)]+_0x419788(0xa28)+_0xa434ee[_0x419788(0x34c)]+_0x419788(0x7f7)+_0xa434ee[_0x419788(0x97a)]+_0x419788(0x481));}),_0x4584cf[_0x2e6f33(0xa1c)]=_0x360487;}function startPresentation(_0x317ec0){const _0x20b996=_0x5c7bd9;currentQuizData=getShuffledQuiz(_0x317ec0),currentPresentationSlide=0x0,presentationModal[_0x20b996(0x95f)][_0x20b996(0x246)]=_0x20b996(0x370),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0xc0ee16=_0x5c7bd9;document[_0xc0ee16(0x711)]&&document[_0xc0ee16(0xbee)](),presentationModal[_0xc0ee16(0x95f)]['display']='none';}function renderPresentationSlide(_0x10a2ee){const _0xb62e46=_0x5c7bd9,_0x484e19=document[_0xb62e46(0x82a)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0xb62e46(0x600)]||!currentQuizData['questions'][_0x10a2ee]){_0x484e19[_0xb62e46(0xa1c)]=_0xb62e46(0x2fe);return;}const _0x182073=currentQuizData[_0xb62e46(0x600)][_0x10a2ee],_0x3854b2=_0x182073[_0xb62e46(0x6ab)]||currentQuizData[_0xb62e46(0x738)];_0x484e19['innerHTML']='';let _0x45eb41=_0xb62e46(0x1dc)+(_0x182073[_0xb62e46(0xb88)]?_0xb62e46(0x428)+_0x182073[_0xb62e46(0xb88)]+_0xb62e46(0x59b):'')+_0xb62e46(0x5dc)+(_0x10a2ee+0x1)+'.\x20'+(_0x182073[_0xb62e46(0x589)]||_0x182073[_0xb62e46(0xbc9)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x3854b2){case _0xb62e46(0x239):_0x45eb41+=_0x182073[_0xb62e46(0x2c7)]['map'](_0x59e9a6=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x59e9a6+_0xb62e46(0x967))[_0xb62e46(0x5b3)]('');break;case _0xb62e46(0xb61):_0x45eb41+=_0xb62e46(0x282),_0x45eb41+=_0xb62e46(0x395);break;case _0xb62e46(0xc12):case'short_answer':_0x45eb41+=_0xb62e46(0x328);break;case _0xb62e46(0x617):case _0xb62e46(0x943):default:_0x45eb41+=_0x182073[_0xb62e46(0xb8c)][_0xb62e46(0x98b)]((_0x354dbb,_0x1b459c)=>_0xb62e46(0x815)+_0x1b459c+_0xb62e46(0x7a1)+_0x354dbb+_0xb62e46(0x967))['join']('');break;}_0x45eb41+=_0xb62e46(0xb3e)+(_0x182073[_0xb62e46(0xac7)]||'ไม่มีคำอธิบาย')+_0xb62e46(0x7fe),_0x484e19[_0xb62e46(0xa1c)]=_0x45eb41;if(window[_0xb62e46(0x403)])window[_0xb62e46(0x403)][_0xb62e46(0x894)]([_0x484e19]);let _0x342ff3=[];switch(_0x3854b2){case _0xb62e46(0x239):_0x342ff3=_0x182073[_0xb62e46(0x2c7)]||[];break;case _0xb62e46(0xb61):_0x342ff3=['ใช่','ไม่ใช่'];break;default:_0x342ff3=_0x182073[_0xb62e46(0xb8c)]||[];break;}const _0x4adf56=document['getElementById']('presentation-scratchpad-btn');_0x4adf56&&(_0x4adf56[_0xb62e46(0x485)]=()=>{openScratchpad(_0x182073,_0x342ff3);});document['querySelectorAll'](_0xb62e46(0x3f8))[_0xb62e46(0x883)](_0x29d724=>{const _0x46b121=_0xb62e46;_0x29d724[_0x46b121(0x68b)](_0x46b121(0x79e),_0x15e5e8=>revealAnswerForPresentation(_0x10a2ee,_0x15e5e8[_0x46b121(0x993)]));});const _0x444d67=document[_0xb62e46(0x82a)](_0xb62e46(0x97f));_0x444d67&&_0x444d67['addEventListener'](_0xb62e46(0x79e),()=>checkShortAnswerForPresentation(_0x10a2ee)),document[_0xb62e46(0x82a)](_0xb62e46(0x344))[_0xb62e46(0xc26)]=_0xb62e46(0x299)+(_0x10a2ee+0x1)+_0xb62e46(0xa3b)+currentQuizData[_0xb62e46(0x600)][_0xb62e46(0x4d9)],document[_0xb62e46(0x82a)]('prev-question-btn')[_0xb62e46(0x814)]=_0x10a2ee===0x0,document[_0xb62e46(0x82a)]('next-question-btn')[_0xb62e46(0x814)]=_0x10a2ee===currentQuizData[_0xb62e46(0x600)][_0xb62e46(0x4d9)]-0x1;}async function checkShortAnswerForPresentation(_0x337baa){const _0x144ac6=_0x5c7bd9,_0x501e09=currentQuizData[_0x144ac6(0x600)][_0x337baa],_0x5eba54=document['getElementById']('presentation-short-answer-input'),_0x36f8ce=document[_0x144ac6(0x82a)]('check-presentation-answer-btn'),_0x43c1e2=document[_0x144ac6(0x82a)]('presentation-ai-result'),_0x18fd05=document['getElementById'](_0x144ac6(0xc2d));if(!_0x5eba54||!_0x36f8ce||!_0x43c1e2||!_0x18fd05)return;const _0x542873=_0x5eba54[_0x144ac6(0x556)][_0x144ac6(0xbde)]();if(_0x542873==='')return;_0x36f8ce[_0x144ac6(0x814)]=!![],_0x36f8ce[_0x144ac6(0xa1c)]=_0x144ac6(0x484),_0x5eba54[_0x144ac6(0x814)]=!![];const _0x256318=await gradeShortAnswer(_0x542873,_0x501e09);_0x256318?_0x43c1e2[_0x144ac6(0xa1c)]=_0x144ac6(0x688):_0x43c1e2[_0x144ac6(0xa1c)]=_0x144ac6(0x880)+_0x501e09[_0x144ac6(0x304)]+')',_0x43c1e2['classList'][_0x144ac6(0x521)]('hidden'),_0x18fd05[_0x144ac6(0xbe2)][_0x144ac6(0x521)](_0x144ac6(0x9b3)),_0x36f8ce[_0x144ac6(0xbe2)][_0x144ac6(0x5ca)]('hidden');}function revealAnswerForPresentation(_0x16055b,_0x134a7b){const _0xaa3c1a=_0x5c7bd9,_0x4fd730=currentQuizData['questions'][_0x16055b],_0x46b86a=_0x4fd730['questionType']||currentQuizData[_0xaa3c1a(0x738)];document['querySelectorAll'](_0xaa3c1a(0x3f8))['forEach'](_0x5467a2=>{const _0x40d717=_0xaa3c1a;_0x5467a2[_0x40d717(0x814)]=!![],_0x5467a2['classList'][_0x40d717(0x521)]('hover:bg-indigo-100');let _0x450c59=![];if(_0x46b86a===_0x40d717(0x943)||_0x46b86a===_0x40d717(0x617)){const _0x2120bb=parseInt(_0x5467a2[_0x40d717(0x6d1)][_0x40d717(0x94a)]);_0x450c59=_0x2120bb===_0x4fd730['correctAnswerIndex'];}else{if(_0x46b86a===_0x40d717(0xb61)){const _0x55c0dc=_0x5467a2[_0x40d717(0x6d1)][_0x40d717(0x8d1)]===_0x40d717(0x284);_0x450c59=_0x55c0dc===_0x4fd730[_0x40d717(0x684)];}else _0x46b86a===_0x40d717(0x239)&&(_0x450c59=_0x5467a2[_0x40d717(0xc26)][_0x40d717(0xbde)]()===_0x4fd730[_0x40d717(0x27f)]);}_0x450c59?_0x5467a2[_0x40d717(0xbe2)]['add'](_0x40d717(0x6b1),_0x40d717(0x8a0),'border-green-700'):_0x5467a2[_0x40d717(0xbe2)][_0x40d717(0x5ca)](_0x40d717(0xbeb));}),_0x134a7b[_0xaa3c1a(0xbe2)]['remove']('opacity-50');let _0x374914=![];if(_0x46b86a===_0xaa3c1a(0x943))_0x374914=parseInt(_0x134a7b[_0xaa3c1a(0x6d1)][_0xaa3c1a(0x94a)])===_0x4fd730[_0xaa3c1a(0x23d)];else{if(_0x46b86a==='true_false')_0x374914=_0x134a7b[_0xaa3c1a(0x6d1)]['answer']===_0xaa3c1a(0x284)===_0x4fd730[_0xaa3c1a(0x684)];else _0x46b86a===_0xaa3c1a(0x239)&&(_0x374914=_0x134a7b[_0xaa3c1a(0xc26)][_0xaa3c1a(0xbde)]()===_0x4fd730['correctResponse']);}!_0x374914&&_0x134a7b[_0xaa3c1a(0xbe2)][_0xaa3c1a(0x5ca)]('bg-red-500','text-white','border-red-700'),document[_0xaa3c1a(0x82a)]('presentation-explanation')[_0xaa3c1a(0xbe2)][_0xaa3c1a(0x521)]('hidden');}function startWholeQuizTimer(_0xbd4e9b){const _0x2300b5=_0x5c7bd9,_0x2122d5=document['getElementById'](_0x2300b5(0x963));if(!_0x2122d5)return;const _0x3f7957=Date[_0x2300b5(0x8cd)]()+_0xbd4e9b*0x3c*0x3e8;_0x2122d5[_0x2300b5(0xa1c)]=_0x2300b5(0xbcd);const _0x35b04e=document['getElementById'](_0x2300b5(0xb2f));quizTimerInterval=setInterval(()=>{const _0x8d664e=_0x2300b5,_0x1de18e=_0x3f7957-Date[_0x8d664e(0x8cd)]();if(_0x1de18e<=0x0)clearInterval(quizTimerInterval),_0x35b04e[_0x8d664e(0xc26)]=_0x8d664e(0x9a7),showMessage(_0x8d664e(0x77a)),handleSubmitQuiz(null);else{const _0x31f250=Math['floor'](_0x1de18e/0x3e8/0x3c%0x3c)[_0x8d664e(0x454)]()[_0x8d664e(0x8a9)](0x2,'0'),_0x182959=Math[_0x8d664e(0x33f)](_0x1de18e/0x3e8%0x3c)['toString']()[_0x8d664e(0x8a9)](0x2,'0');_0x35b04e['textContent']=_0x31f250+':'+_0x182959;}},0x3e8);}function renderPerQuestionView(){const _0x32bb40=_0x5c7bd9;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x41e27a=currentDisplayedQuiz[_0x32bb40(0x600)][currentQuestionIndex],_0x5205a2=_0x41e27a['questionType']||currentDisplayedQuiz['quizType'],_0xf7be83=currentDisplayedQuiz[_0x32bb40(0x597)]?.[_0x32bb40(0x530)]===!![];let _0x97459a=_0x32bb40(0x30e)+(currentQuestionIndex+0x1)+_0x32bb40(0x64b)+currentDisplayedQuiz[_0x32bb40(0x600)][_0x32bb40(0x4d9)]+_0x32bb40(0xb64)+(currentMode===_0x32bb40(0x41c)?_0x32bb40(0x69b):'')+_0x32bb40(0xaaf)+currentDisplayedQuiz['topic']+_0x32bb40(0x67f);studentQuizArea['innerHTML']=_0x97459a;let _0x85751c=_0x41e27a[_0x32bb40(0x589)]||_0x41e27a[_0x32bb40(0xbc9)];_0x41e27a[_0x32bb40(0xb88)]&&(_0x85751c+=_0x32bb40(0x428)+_0x41e27a[_0x32bb40(0xb88)]+_0x32bb40(0x59b));let _0xea67a4='';switch(_0x5205a2){case _0x32bb40(0x9a5):case _0x32bb40(0xc12):_0xea67a4=_0x32bb40(0xa92);break;case _0x32bb40(0xb61):_0xea67a4=_0x32bb40(0xa8f);break;case _0x32bb40(0x239):_0xea67a4=_0x32bb40(0x654)+(_0x41e27a[_0x32bb40(0x2c7)]||[])[_0x32bb40(0x98b)](_0x535960=>_0x32bb40(0x4fa)+_0x535960+'\x22>'+_0x535960+_0x32bb40(0xa8a))[_0x32bb40(0x5b3)]('')+_0x32bb40(0x8ea);break;default:_0x41e27a[_0x32bb40(0xb8c)]&&(_0xea67a4=_0x41e27a[_0x32bb40(0xb8c)]['map']((_0x2e4582,_0x4cf4ee)=>_0x32bb40(0xadf)+_0x4cf4ee+_0x32bb40(0x5aa)+_0x4cf4ee+_0x32bb40(0x798)+_0x4cf4ee+'\x22>'+_0x2e4582+_0x32bb40(0x229))['join'](''));break;}document[_0x32bb40(0x82a)]('per-question-text')[_0x32bb40(0xa1c)]=_0x85751c,document[_0x32bb40(0x82a)](_0x32bb40(0xc20))[_0x32bb40(0xa1c)]=_0xea67a4;const _0x3f6a30=currentDisplayedQuiz[_0x32bb40(0x597)]?.[_0x32bb40(0x530)]===!![],_0x45d96e=currentDisplayedQuiz['settings']?.[_0x32bb40(0xa5c)]||_0x32bb40(0x496);if(_0x3f6a30&&_0x45d96e===_0x32bb40(0x496)){const _0x53df36='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x32bb40(0x410)](_0x32bb40(0x486))['insertAdjacentHTML'](_0x32bb40(0x9fb),_0x53df36);}studentQuizArea['insertAdjacentHTML']('beforeend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x32bb40(0x600)][_0x32bb40(0x4d9)]-0x1?'ส่งคำตอบ':_0x32bb40(0x9c0))+_0x32bb40(0x308));currentMode==='admin-testing'&&document[_0x32bb40(0x82a)](_0x32bb40(0x497))?.[_0x32bb40(0x68b)](_0x32bb40(0x79e),cancelAdminTest);document[_0x32bb40(0x82a)](_0x32bb40(0x85a))[_0x32bb40(0x68b)](_0x32bb40(0x79e),()=>handleNextQuestionInTimedMode(![]));if(window[_0x32bb40(0x403)])window['MathJax'][_0x32bb40(0x894)]([studentQuizArea]);currentDisplayedQuiz['settings']?.[_0x32bb40(0x1e5)]===_0x32bb40(0x1a0)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x329430=_0x5c7bd9,_0x44a70a=currentDisplayedQuiz[_0x329430(0x597)]['timerDuration'],_0x401f45=document[_0x329430(0x82a)](_0x329430(0x6b6));if(!_0x401f45)return;let _0x2cbb15=_0x44a70a;_0x401f45[_0x329430(0xa1c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x2cbb15+_0x329430(0x9ec);const _0x2b99c0=document[_0x329430(0x82a)](_0x329430(0xae4)),_0x445654=document[_0x329430(0x82a)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x1daf71=_0x329430;_0x2cbb15--;const _0x11f473=_0x2cbb15/_0x44a70a*0x64;_0x2b99c0[_0x1daf71(0x95f)][_0x1daf71(0x257)]=_0x11f473+'%',_0x445654[_0x1daf71(0xc26)]=_0x2cbb15,_0x2cbb15<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x3067c7=![]){const _0x163647=_0x5c7bd9;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x32f723=null,_0x1a64b9=![];if(!_0x3067c7){const _0x2514c7=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x4a8096=_0x2514c7[_0x163647(0x6ab)]||currentDisplayedQuiz[_0x163647(0x738)];if(_0x4a8096===_0x163647(0x9a5)||_0x4a8096===_0x163647(0xc12))_0x32f723=document[_0x163647(0x410)](_0x163647(0x4a1))?.[_0x163647(0x556)][_0x163647(0xbde)]()??'';else{if(_0x4a8096===_0x163647(0x239))_0x32f723=document['querySelector'](_0x163647(0x4b1))?.[_0x163647(0x556)]??'';else{const _0x5a4e14=document[_0x163647(0x410)]('input[name=\x22question_single\x22]:checked');_0x5a4e14&&(_0x32f723=_0x5a4e14[_0x163647(0x556)]);}}if(_0x32f723===null||_0x32f723===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x3386d4=currentDisplayedQuiz[_0x163647(0x597)]?.[_0x163647(0x530)]===!![],_0x58c6f4=currentDisplayedQuiz[_0x163647(0x597)]?.['confidenceMode']||'checkbox';if(_0x3386d4&&_0x58c6f4===_0x163647(0x558)){document[_0x163647(0x82a)](_0x163647(0x450))[_0x163647(0x6d1)][_0x163647(0x7d1)]='timed',document['getElementById']('selected-answer-index-hidden')[_0x163647(0x556)]=_0x32f723,document['getElementById'](_0x163647(0x450))[_0x163647(0xbe2)][_0x163647(0x521)](_0x163647(0x9b3));return;}const _0x4330d7=document['getElementById']('confidence_single');_0x4330d7&&(_0x1a64b9=_0x4330d7[_0x163647(0x4be)]);}const _0x15ad89={'answer':_0x32f723,'wasConfident':_0x1a64b9};proceedToNextQuestion(_0x15ad89);}async function finalizePerQuestionQuiz(){const _0xa33d4d=_0x5c7bd9,_0x1c28df=currentDisplayedQuiz[_0xa33d4d(0x600)]['some'](_0x39bbd2=>_0x39bbd2[_0xa33d4d(0x6ab)]==='short_answer');_0x1c28df?showMessage(_0xa33d4d(0x750)):showMessage(_0xa33d4d(0x976));const _0xf39303=currentQuizData['id'],_0x593a28=doc(db,'artifacts/'+appId+_0xa33d4d(0xb33)+_0xf39303+_0xa33d4d(0x4a9),currentStudentName),_0x4d0f7b=await getDoc(_0x593a28),_0x4fa338=_0x4d0f7b['exists']()?_0x4d0f7b['data']():{},_0x274709=_0x4fa338['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x274709);}function getResultsFilename(){const _0x222585=_0x5c7bd9,_0x2b8574=document['getElementById']('results-quiz-title')[_0x222585(0xc26)][_0x222585(0x973)](/[^a-z0-9]/gi,'_')[_0x222585(0x21d)]();return _0x222585(0x6d6)+(_0x2b8574||'quiz');}function exportResultsAsImage(){const _0x34cdcf=_0x5c7bd9,_0x543e6b=document[_0x34cdcf(0x82a)](_0x34cdcf(0x627));showMessage(_0x34cdcf(0x606)),html2canvas(_0x543e6b)[_0x34cdcf(0x91f)](_0x5b56b2=>{const _0x4ca074=_0x34cdcf,_0x12bcaa=document[_0x4ca074(0x5a7)]('a');_0x12bcaa[_0x4ca074(0x9e7)]=getResultsFilename()+'.png',_0x12bcaa['href']=_0x5b56b2[_0x4ca074(0x1c9)](_0x4ca074(0xa7c)),_0x12bcaa['click'](),messageModal[_0x4ca074(0xbe2)][_0x4ca074(0x5ca)](_0x4ca074(0x9b3));});}function exportResultsAsPDF(){const _0x192e39=_0x5c7bd9,{jsPDF:_0x5c2a35}=window[_0x192e39(0x259)],_0x10f7fa=new _0x5c2a35();_0x10f7fa[_0x192e39(0x1a9)]('helvetica',_0x192e39(0xbb2)),_0x10f7fa[_0x192e39(0xa93)]({'html':_0x192e39(0x666)}),_0x10f7fa[_0x192e39(0xa23)](getResultsFilename()+_0x192e39(0x676));}function exportResultsAsWord(){const _0x4a47ec=_0x5c7bd9,_0x35116d=_0x4a47ec(0x590)+_0x4a47ec(0x413)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x577ecd=_0x4a47ec(0x2ca),_0x47211b=_0x35116d+document[_0x4a47ec(0x82a)](_0x4a47ec(0x627))[_0x4a47ec(0xa1c)]+_0x577ecd,_0x1fe33d=_0x4a47ec(0x9b8)+encodeURIComponent(_0x47211b),_0x38db5a=document['createElement']('a');document[_0x4a47ec(0xab8)][_0x4a47ec(0x70c)](_0x38db5a),_0x38db5a[_0x4a47ec(0x5dd)]=_0x1fe33d,_0x38db5a[_0x4a47ec(0x9e7)]=getResultsFilename()+_0x4a47ec(0x432),_0x38db5a['click'](),document[_0x4a47ec(0xab8)][_0x4a47ec(0xc03)](_0x38db5a);}function exportResultsAsExcel(){const _0x6afc3e=_0x5c7bd9,_0x2491f5=document[_0x6afc3e(0x82a)](_0x6afc3e(0x60d));let _0x245e49=[];for(let _0x1ed83e=0x0;_0x1ed83e<_0x2491f5['rows'][_0x6afc3e(0x4d9)];_0x1ed83e++){let _0x1acb41=[],_0x2807c9=_0x2491f5[_0x6afc3e(0x1ec)][_0x1ed83e][_0x6afc3e(0xb24)](_0x6afc3e(0xc1b));for(let _0x502ce9=0x0;_0x502ce9<_0x2807c9['length'];_0x502ce9++){_0x1acb41[_0x6afc3e(0xbb1)]('\x22'+_0x2807c9[_0x502ce9][_0x6afc3e(0x93d)][_0x6afc3e(0x973)](/"/g,'\x22\x22')+'\x22');}_0x245e49[_0x6afc3e(0xbb1)](_0x1acb41['join'](','));}const _0x50529e=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x245e49['join']('\x0a')],{'type':_0x6afc3e(0x3d3)}),_0x2cc402=document[_0x6afc3e(0x5a7)]('a');_0x2cc402['href']=URL['createObjectURL'](_0x50529e),_0x2cc402['download']=getResultsFilename()+_0x6afc3e(0x320),_0x2cc402['click']();}function exportTableAsImage(_0x4e1339,_0x5eb6db){const _0x4937a7=_0x5c7bd9,_0x10829c=document[_0x4937a7(0x82a)](_0x4e1339);if(!_0x10829c){showMessage(_0x4937a7(0x92a));return;}showMessage(_0x4937a7(0x606)),html2canvas(_0x10829c)[_0x4937a7(0x91f)](_0xc9aec=>{const _0x266f94=_0x4937a7,_0x33fb58=document[_0x266f94(0x5a7)]('a');_0x33fb58[_0x266f94(0x9e7)]=_0x5eb6db+_0x266f94(0x58d),_0x33fb58[_0x266f94(0x5dd)]=_0xc9aec['toDataURL'](_0x266f94(0xa7c)),_0x33fb58['click'](),messageModal['classList'][_0x266f94(0x5ca)](_0x266f94(0x9b3));});}function exportTableAsPDF(_0x194077,_0x476b80){const _0x2dd08f=_0x5c7bd9,{jsPDF:_0x20d6ff}=window[_0x2dd08f(0x259)],_0x8a8ac8=new _0x20d6ff();_0x8a8ac8[_0x2dd08f(0x1a9)](_0x2dd08f(0xc06),_0x2dd08f(0xbb2)),_0x8a8ac8[_0x2dd08f(0xa93)]({'html':'#'+_0x194077}),_0x8a8ac8[_0x2dd08f(0xa23)](_0x476b80+_0x2dd08f(0x676));}function exportTableAsWord(_0x2928c7,_0x265386){const _0x2c69cc=_0x5c7bd9,_0x2b063c=document['getElementById'](_0x2928c7);if(!_0x2b063c){showMessage(_0x2c69cc(0x92a));return;}const _0x1691e1='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x2c69cc(0x413)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x2c69cc(0x5d9),_0x315c5e=_0x2c69cc(0x2ca),_0x102705=_0x1691e1+_0x2b063c[_0x2c69cc(0xa1c)]+_0x315c5e,_0x2dbaac=_0x2c69cc(0x9b8)+encodeURIComponent(_0x102705),_0x2d4317=document[_0x2c69cc(0x5a7)]('a');document[_0x2c69cc(0xab8)][_0x2c69cc(0x70c)](_0x2d4317),_0x2d4317[_0x2c69cc(0x5dd)]=_0x2dbaac,_0x2d4317['download']=_0x265386+_0x2c69cc(0x432),_0x2d4317[_0x2c69cc(0x79e)](),document[_0x2c69cc(0xab8)][_0x2c69cc(0xc03)](_0x2d4317);}function exportTableAsExcel(_0x3ab438,_0x5eb240){const _0x1c1b5d=_0x5c7bd9,_0x8d5420=document[_0x1c1b5d(0x82a)](_0x3ab438);if(!_0x8d5420){showMessage(_0x1c1b5d(0x92a));return;}let _0x5cd3f7=[];for(let _0x54d3d8=0x0;_0x54d3d8<_0x8d5420[_0x1c1b5d(0x1ec)][_0x1c1b5d(0x4d9)];_0x54d3d8++){let _0xa954c7=[],_0x5752be=_0x8d5420['rows'][_0x54d3d8]['querySelectorAll'](_0x1c1b5d(0xc1b));for(let _0xd6a96a=0x0;_0xd6a96a<_0x5752be[_0x1c1b5d(0x4d9)];_0xd6a96a++){_0xa954c7[_0x1c1b5d(0xbb1)]('\x22'+_0x5752be[_0xd6a96a][_0x1c1b5d(0x93d)][_0x1c1b5d(0x973)](/"/g,'\x22\x22')+'\x22');}_0x5cd3f7[_0x1c1b5d(0xbb1)](_0xa954c7[_0x1c1b5d(0x5b3)](','));}const _0x50d0df=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5cd3f7[_0x1c1b5d(0x5b3)]('\x0a')],{'type':_0x1c1b5d(0x3d3)}),_0x402c1c=document[_0x1c1b5d(0x5a7)]('a');_0x402c1c[_0x1c1b5d(0x5dd)]=URL[_0x1c1b5d(0x5e5)](_0x50d0df),_0x402c1c[_0x1c1b5d(0x9e7)]=_0x5eb240+'.csv',_0x402c1c[_0x1c1b5d(0x79e)]();}function renderAnalytics(_0x23fa76,_0x485a13){const _0x15509f=_0x5c7bd9,_0x3d92ca=_0x485a13[_0x15509f(0x920)](_0xc1f777=>_0xc1f777[_0x15509f(0x2a0)]!==undefined),_0x224350=currentProjectData['students'][_0x15509f(0x4d9)],_0x37e03b=_0x3d92ca[_0x15509f(0x4d9)],_0x40e7f1=_0x224350-_0x37e03b,_0x73dac1=_0x224350>0x0?_0x37e03b/_0x224350*0x64:0x0,_0x1dc035=_0x3d92ca[_0x15509f(0x98b)](_0xa8a18c=>_0xa8a18c[_0x15509f(0x2a0)]),_0x3740dd=_0x1dc035['length']>0x0?_0x1dc035[_0x15509f(0x631)]((_0x15e44f,_0x3558ba)=>_0x15e44f+_0x3558ba,0x0)/_0x1dc035['length']:0x0,_0xe58416=_0x23fa76[_0x15509f(0x600)][_0x15509f(0x4d9)],_0x437872=_0xe58416>0x0?_0x3740dd/_0xe58416*0x64:0x0,_0x49c3af=calculateItemAnalysis(_0x23fa76,_0x3d92ca),_0x20b0ce=calculateReliabilityKR20(_0x23fa76,_0x3d92ca,_0x49c3af[_0x15509f(0x8e3)]);let _0x458d9f='';if(_0x20b0ce!==null){let _0x3a7ab6='';if(_0x20b0ce>=0.9)_0x3a7ab6=_0x15509f(0x667);else{if(_0x20b0ce>=0.8)_0x3a7ab6=_0x15509f(0x91c);else{if(_0x20b0ce>=0.7)_0x3a7ab6='ดี';else{if(_0x20b0ce>=0.6)_0x3a7ab6=_0x15509f(0xaba);else _0x3a7ab6=_0x15509f(0x75f);}}}_0x458d9f=_0x15509f(0x9cc)+_0x20b0ce[_0x15509f(0xa05)](0x2)+_0x15509f(0x3c1)+_0x3a7ab6+_0x15509f(0x681);}const _0xaf808c=document[_0x15509f(0x82a)](_0x15509f(0x1f9));_0xaf808c['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x73dac1[_0x15509f(0xa05)](0x0)+_0x15509f(0xa81)+_0x37e03b+'/'+_0x224350+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x3740dd['toFixed'](0x2)+_0x15509f(0x61b)+_0x437872['toFixed'](0x0)+_0x15509f(0x9d2)+(_0x1dc035[_0x15509f(0x4d9)]>0x0?Math[_0x15509f(0xbda)](..._0x1dc035):_0x15509f(0x66f))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x1dc035['length']>0x0?Math[_0x15509f(0x73b)](..._0x1dc035):_0x15509f(0x66f))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x458d9f+'\x0a\x20\x20\x20\x20';const _0x575e11=document[_0x15509f(0x82a)](_0x15509f(0x9b9));_0x575e11&&_0x575e11[_0x15509f(0x521)]();const _0x1ff8cc=_0x15509f(0xaf8);_0xaf808c[_0x15509f(0x8f9)](_0x15509f(0x342),_0x1ff8cc);const _0x4e71c0=currentProjectData[_0x15509f(0x646)]||[];renderSubmissionChart(_0x37e03b,_0x40e7f1,_0x3d92ca,_0x4e71c0),renderScoreDistributionChart(_0x3d92ca,_0xe58416),renderQuestionAnalytics(_0x23fa76,_0x3d92ca,_0x4e71c0),renderInterestingStats(_0x23fa76,_0x3d92ca);}async function handleExportLessonPDF(){const _0x21aba5=_0x5c7bd9,_0x3bfb0b=document[_0x21aba5(0x82a)](_0x21aba5(0xba9)),_0x4c79c6=document['getElementById'](_0x21aba5(0x6bd))[_0x21aba5(0xc26)],_0x15c4e9=window[_0x21aba5(0xa2e)]('',_0x21aba5(0x333)),_0x1da018=_0x21aba5(0x315)+_0x4c79c6+_0x21aba5(0x524)+_0x3bfb0b[_0x21aba5(0xa1c)]+_0x21aba5(0x79d);_0x15c4e9[_0x21aba5(0x28e)][_0x21aba5(0x398)](_0x1da018),_0x15c4e9[_0x21aba5(0x28e)][_0x21aba5(0x219)](),_0x15c4e9[_0x21aba5(0x946)]=function(){setTimeout(()=>{_0x15c4e9['print']();},0x5dc);};}function renderInterestingStats(_0x3be253,_0x1c0c9d){const _0x39dfb2=_0x5c7bd9,_0x2d171e=document[_0x39dfb2(0x82a)](_0x39dfb2(0x843));if(!_0x2d171e)return;if(_0x1c0c9d[_0x39dfb2(0x4d9)]===0x0){_0x2d171e[_0x39dfb2(0xa1c)]=_0x39dfb2(0x881);return;}const _0x2c7a86=_0x3be253['questions'][_0x39dfb2(0x98b)]((_0x22a226,_0x32e320)=>({'index':_0x32e320+0x1,'text':_0x22a226[_0x39dfb2(0xbc9)]||_0x22a226[_0x39dfb2(0x589)],'correct':0x0}));_0x1c0c9d[_0x39dfb2(0x883)](_0x15efba=>{const _0x5a4183=_0x39dfb2,_0x12bdb8=_0x15efba[_0x5a4183(0x6b8)][_0x15efba[_0x5a4183(0x6b8)][_0x5a4183(0x4d9)]-0x1];_0x12bdb8&&_0x12bdb8['answers']&&_0x12bdb8[_0x5a4183(0x775)][_0x5a4183(0x883)](_0x20675e=>{const _0x39ba60=_0x5a4183,_0x1d9d1c=_0x2c7a86[_0x39ba60(0x241)](_0x17551c=>_0x17551c['text']===_0x20675e[_0x39ba60(0x872)]);_0x20675e[_0x39ba60(0x548)]&&_0x1d9d1c&&_0x1d9d1c['correct']++;});});const _0x9f3964=_0x1c0c9d[_0x39dfb2(0x4d9)],_0x3a2334=Math['max'](..._0x2c7a86['map'](_0x37a32d=>_0x37a32d[_0x39dfb2(0xbe8)])),_0x265ee4=Math[_0x39dfb2(0x73b)](..._0x2c7a86[_0x39dfb2(0x98b)](_0xbbf848=>_0xbbf848[_0x39dfb2(0xbe8)])),_0x10fa76=_0x2c7a86['filter'](_0x336fbc=>_0x336fbc['correct']===_0x3a2334)['map'](_0x527e9d=>'ข้อ\x20'+_0x527e9d['index']),_0x540ec7=_0x2c7a86[_0x39dfb2(0x920)](_0x526965=>_0x526965[_0x39dfb2(0xbe8)]===_0x265ee4)[_0x39dfb2(0x98b)](_0x51363b=>_0x39dfb2(0x7a7)+_0x51363b['index']),_0x23f669=_0x1c0c9d['sort']((_0x58f086,_0x4a1ddf)=>_0x4a1ddf[_0x39dfb2(0x2a0)]-_0x58f086[_0x39dfb2(0x2a0)])[_0x39dfb2(0x920)]((_0x309f09,_0x19f46f,_0x1c0954)=>_0x309f09[_0x39dfb2(0x2a0)]===_0x1c0954[0x0][_0x39dfb2(0x2a0)]),_0x3f3604=_0x1c0c9d[_0x39dfb2(0x74a)]((_0x2c17cc,_0x5095ae)=>_0x2c17cc[_0x39dfb2(0x2a0)]-_0x5095ae[_0x39dfb2(0x2a0)])[_0x39dfb2(0x920)]((_0x93a0bf,_0x5b1665,_0x159908)=>_0x93a0bf[_0x39dfb2(0x2a0)]===_0x159908[0x0][_0x39dfb2(0x2a0)]),_0x5a7356=_0x39dfb2(0x65b)+_0x10fa76[_0x39dfb2(0x5b3)](',\x20')+_0x39dfb2(0x4eb)+_0x3a2334+'\x20/\x20'+_0x9f3964+_0x39dfb2(0x677)+_0x540ec7['join'](',\x20')+_0x39dfb2(0x4eb)+(_0x9f3964-_0x265ee4)+_0x39dfb2(0xa3b)+_0x9f3964+_0x39dfb2(0x330)+_0x23f669[_0x39dfb2(0x98b)](_0x180128=>_0x180128['studentName'])['join'](',\x20')+_0x39dfb2(0x624)+_0x23f669[0x0]['latestScore']+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x3f3604[_0x39dfb2(0x98b)](_0x4dfd24=>_0x4dfd24['studentName'])['join'](',\x20')+_0x39dfb2(0x624)+_0x3f3604[0x0]['latestScore']+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2d171e['innerHTML']=_0x5a7356;}function renderSubmissionChart(_0x554793,_0x530ea1,_0x4a20be,_0x307e65){const _0x4e1b2d=_0x5c7bd9,_0x518cba=document[_0x4e1b2d(0x82a)](_0x4e1b2d(0xb7f))[_0x4e1b2d(0x3ea)]('2d'),_0x144183=_0x4a20be[_0x4e1b2d(0x98b)](_0xf0372a=>_0xf0372a[_0x4e1b2d(0xb38)]),_0x3b1682=_0x307e65['filter'](_0x3ac562=>!_0x144183[_0x4e1b2d(0x918)](_0x3ac562));chartInstances[_0x4e1b2d(0x49d)]&&chartInstances[_0x4e1b2d(0x49d)]['destroy'](),chartInstances[_0x4e1b2d(0x49d)]=new Chart(_0x518cba,{'type':_0x4e1b2d(0x6d8),'data':{'labels':[_0x4e1b2d(0x57e),'ยังไม่ส่ง'],'datasets':[{'data':[_0x554793,_0x530ea1],'backgroundColor':[_0x4e1b2d(0x863),_0x4e1b2d(0x33b)],'borderColor':[_0x4e1b2d(0xb32),_0x4e1b2d(0xb32)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x4e1b2d(0x3b6)},'tooltip':{'callbacks':{'label':function(_0x288eff){const _0x300d4c=_0x4e1b2d;let _0x3496ad=_0x288eff[_0x300d4c(0x3d4)]||'';return _0x3496ad&&(_0x3496ad+=':\x20'),_0x3496ad+=_0x288eff['raw'],_0x3496ad;},'afterLabel':function(_0x4d70d5){const _0x136408=_0x4e1b2d;let _0x284bbe;return _0x4d70d5['dataIndex']===0x0?_0x284bbe=_0x144183:_0x284bbe=_0x3b1682,_0x284bbe[_0x136408(0x4d9)]>0x0?_0x284bbe[_0x136408(0x5b3)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x5b5b9d,_0x52ece5){const _0xe8810a=_0x5c7bd9,_0x339205=document[_0xe8810a(0x82a)]('score-distribution-chart')['getContext']('2d'),_0x5ddb92={};for(let _0xb51df7=0x0;_0xb51df7<=_0x52ece5;_0xb51df7++){_0x5ddb92[_0xb51df7]=0x0;}_0x5b5b9d[_0xe8810a(0x883)](_0x1869e0=>{const _0x5c7ab8=_0xe8810a;_0x5ddb92[_0x1869e0[_0x5c7ab8(0x2a0)]]!==undefined&&_0x5ddb92[_0x1869e0['latestScore']]++;}),chartInstances[_0xe8810a(0xa0f)]&&chartInstances[_0xe8810a(0xa0f)]['destroy'](),chartInstances[_0xe8810a(0xa0f)]=new Chart(_0x339205,{'type':_0xe8810a(0xc1a),'data':{'labels':Object[_0xe8810a(0x4c4)](_0x5ddb92),'datasets':[{'label':_0xe8810a(0xa71),'data':Object[_0xe8810a(0x446)](_0x5ddb92),'backgroundColor':_0xe8810a(0x321),'borderColor':_0xe8810a(0x469),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0xe8810a(0xb40)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x11021a){const _0x22ebfb=_0xe8810a,_0x4f4a9d=_0x11021a[_0x22ebfb(0x3d4)],_0x2964aa=_0x5b5b9d[_0x22ebfb(0x920)](_0x56d15a=>_0x56d15a[_0x22ebfb(0x2a0)]==_0x4f4a9d)[_0x22ebfb(0x98b)](_0x3460d8=>_0x3460d8[_0x22ebfb(0xb38)]);return _0x2964aa['length']>0x0?_0x2964aa[_0x22ebfb(0x5b3)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x474d94,_0x231bca,_0x45691e){const _0x30e6e1=_0x5c7bd9,_0x53b3cf=document[_0x30e6e1(0x82a)](_0x30e6e1(0x914));if(_0x45691e[_0x30e6e1(0x4d9)]===0x0){_0x53b3cf[_0x30e6e1(0xa1c)]=_0x30e6e1(0xa8c);return;}const _0x3a3149=calculateItemAnalysis(_0x474d94,_0x231bca),_0x3f504e=calculateDistractorAnalysis(_0x474d94,_0x231bca);let _0x366b9b='';_0x3a3149[_0x30e6e1(0x21c)]&&(_0x366b9b=_0x30e6e1(0x8fd)+_0x3a3149['overallGroups'][_0x30e6e1(0xb77)][_0x30e6e1(0x4d9)]+_0x30e6e1(0xb7c)+_0x3a3149[_0x30e6e1(0x21c)][_0x30e6e1(0xb77)][_0x30e6e1(0x98b)](_0x3c109c=>_0x30e6e1(0x748)+_0x3c109c+_0x30e6e1(0x516))[_0x30e6e1(0x5b3)]('')+_0x30e6e1(0x6ec)+_0x3a3149['overallGroups'][_0x30e6e1(0x85f)]['length']+_0x30e6e1(0xb7c)+_0x3a3149['overallGroups'][_0x30e6e1(0x85f)][_0x30e6e1(0x98b)](_0x23a2b0=>_0x30e6e1(0x748)+_0x23a2b0+'</li>')[_0x30e6e1(0x5b3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x251337='';const _0xbcf7e5=_0x231bca['map'](_0x42a86e=>_0x42a86e[_0x30e6e1(0xb38)]),_0x2c939a=_0x22b320=>{const _0x1c7019=_0x30e6e1;if(_0x22b320>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x22b320>=0.6)return _0x1c7019(0x7b5);if(_0x22b320>=0.4)return _0x1c7019(0x1ba);if(_0x22b320>=0.2)return _0x1c7019(0x78a);return _0x1c7019(0x32a);},_0x4ab115=_0x39e4c6=>{const _0x1ee94d=_0x30e6e1;if(_0x39e4c6<0x0)return _0x1ee94d(0x9b2);if(_0x39e4c6>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x39e4c6>=0.3)return _0x1ee94d(0x75c);if(_0x39e4c6>=0.2)return _0x1ee94d(0x6af);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x45a47f=_0x90e95e=>{const _0x3e1da5=_0x30e6e1,_0x3def71=_0x90e95e[_0x3e1da5(0xa05)](0x0);if(parseFloat(_0x3def71)===0x64)return _0x3e1da5(0x349)+_0x3def71+_0x3e1da5(0x86e);if(_0x90e95e>=0x32)return _0x3e1da5(0x2b3)+_0x3def71+_0x3e1da5(0x86e);return _0x3e1da5(0x913)+_0x3def71+_0x3e1da5(0x86e);};_0x474d94[_0x30e6e1(0x600)][_0x30e6e1(0x883)]((_0x2365fc,_0x37a74d)=>{const _0x4a257b=_0x30e6e1,_0x170c73=_0x3a3149[_0x4a257b(0x8e3)][_0x37a74d],_0x157cc4=_0x3f504e[_0x37a74d],_0x52fd92=_0x2365fc[_0x4a257b(0x589)]||_0x2365fc[_0x4a257b(0xbc9)]||_0x2365fc['instructions'];let _0x3b7033=0x0;const _0x3e7b43=[],_0x11b7e6=[];_0x231bca[_0x4a257b(0x883)](_0x5b6ee7=>{const _0x53703d=_0x4a257b,_0x394abd=_0x5b6ee7[_0x53703d(0x6b8)][_0x5b6ee7[_0x53703d(0x6b8)][_0x53703d(0x4d9)]-0x1];if(_0x394abd&&_0x394abd['answers']){const _0x2ad1bb=_0x394abd[_0x53703d(0x775)][_0x53703d(0x241)](_0x3b46a2=>_0x3b46a2[_0x53703d(0x872)]===_0x52fd92)??_0x394abd[_0x53703d(0x775)][_0x37a74d]??null;_0x2ad1bb&&(_0x2ad1bb[_0x53703d(0x548)]?(_0x3b7033++,_0x3e7b43['push'](_0x5b6ee7[_0x53703d(0xb38)])):_0x11b7e6[_0x53703d(0xbb1)](_0x5b6ee7['studentName']));}});const _0x103223=_0x231bca['length']>0x0?_0x3b7033/_0x231bca[_0x4a257b(0x4d9)]*0x64:0x0,_0x2e0540=_0x45691e[_0x4a257b(0x920)](_0x42db19=>!_0xbcf7e5['includes'](_0x42db19)),_0x408718=_0x170c73?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x170c73['p'][_0x4a257b(0xa05)](0x2)+_0x4a257b(0x86f)+_0x2c939a(_0x170c73['p'])+_0x4a257b(0xb6b)+_0x170c73['r'][_0x4a257b(0xa05)](0x2)+_0x4a257b(0x86f)+_0x4ab115(_0x170c73['r'])+_0x4a257b(0xba7)+_0x45a47f(_0x103223)+_0x4a257b(0x9e3):'';let _0x1cf105='';_0x157cc4&&(_0x1cf105=_0x4a257b(0x256)+Object[_0x4a257b(0x4c4)](_0x157cc4)[_0x4a257b(0x98b)](_0x329757=>{const _0xfb2f40=_0x4a257b,_0x5836dc=_0x157cc4[_0x329757],_0x58f2ad=parseInt(_0x329757)===_0x2365fc[_0xfb2f40(0x23d)],_0x1c9cad=!_0x58f2ad&&_0x5836dc[_0xfb2f40(0x1d7)]>_0x5836dc[_0xfb2f40(0x605)];return _0xfb2f40(0x79a)+(_0x58f2ad?_0xfb2f40(0x462):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x58f2ad?'✔\x20':'')+_0x5836dc['text']+_0xfb2f40(0x8b3)+_0x5836dc[_0xfb2f40(0x605)]+_0xfb2f40(0x8b3)+_0x5836dc['lower_group_count']+'\x20'+(_0x1c9cad?'👍':'')+_0xfb2f40(0x8b3)+_0x5836dc['total']+_0xfb2f40(0x8c5);})[_0x4a257b(0x5b3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x11b52f='';_0x170c73&&_0x170c73[_0x4a257b(0xb8f)]&&(_0x11b52f=_0x4a257b(0x844)+_0x170c73['upperGroupResponders'][_0x4a257b(0x4d9)]+_0x4a257b(0x5b2)+_0x170c73[_0x4a257b(0xb8f)]['map'](_0x23e319=>'<li>'+(_0x23e319['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x4a257b(0x3bf))+'\x20'+_0x23e319['name']+'</li>')[_0x4a257b(0x5b3)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x170c73[_0x4a257b(0x739)][_0x4a257b(0x4d9)]+_0x4a257b(0x5b2)+_0x170c73['lowerGroupResponders'][_0x4a257b(0x98b)](_0x3a709e=>_0x4a257b(0x748)+(_0x3a709e[_0x4a257b(0x548)]?_0x4a257b(0x599):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x3a709e['name']+_0x4a257b(0x516))[_0x4a257b(0x5b3)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x251337+=_0x4a257b(0x7f5)+(_0x37a74d+0x1)+':\x20'+_0x52fd92+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x408718+_0x4a257b(0x48b)+_0x52fd92+_0x4a257b(0x3fd)+_0x3b7033+_0x4a257b(0x64b)+_0x231bca['length']+_0x4a257b(0xc2e)+_0x103223['toFixed'](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x3e7b43['length']+_0x4a257b(0x92c)+(_0x3e7b43[_0x4a257b(0x4d9)]>0x0?_0x3e7b43[_0x4a257b(0x5b3)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x11b7e6[_0x4a257b(0x4d9)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x11b7e6['length']>0x0?_0x11b7e6[_0x4a257b(0x5b3)](',\x20'):'ไม่มี')+_0x4a257b(0x9f1)+_0x2e0540['length']+_0x4a257b(0x92c)+(_0x2e0540[_0x4a257b(0x4d9)]>0x0?_0x2e0540['join'](',\x20'):_0x4a257b(0xbaa))+_0x4a257b(0x24e)+_0x1cf105+_0x4a257b(0x72e)+_0x11b52f+_0x4a257b(0x2b4);}),_0x53b3cf[_0x30e6e1(0xa1c)]=_0x366b9b+_0x251337;try{window[_0x30e6e1(0x403)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([_0x53b3cf]);}catch(_0x4e431f){console[_0x30e6e1(0xb9a)](_0x30e6e1(0x725),_0x4e431f);}}function calculateDistractorAnalysis(_0xf3523f,_0x4213b4){const _0x2dd3a7=_0x5c7bd9,_0xa80490={};if(_0x4213b4['length']<0x2)return _0xa80490;const _0x88923d=[..._0x4213b4]['sort']((_0x2e4ed9,_0x52531f)=>{const _0x494ad6=_0x34dc,_0x61d5da=_0x52531f[_0x494ad6(0x2a0)]-_0x2e4ed9['latestScore'];if(_0x61d5da!==0x0)return _0x61d5da;const _0x58c527=_0x2e4ed9[_0x494ad6(0x6b8)]?.[_0x494ad6(0x4d9)]||0x1,_0x42af9d=_0x52531f[_0x494ad6(0x6b8)]?.[_0x494ad6(0x4d9)]||0x1,_0x3ac8dc=_0x58c527-_0x42af9d;if(_0x3ac8dc!==0x0)return _0x3ac8dc;const _0x3d10fa=new Date(_0x2e4ed9[_0x494ad6(0x7b6)]),_0x500084=new Date(_0x52531f[_0x494ad6(0x7b6)]),_0x14b858=_0x3d10fa-_0x500084;if(_0x14b858!==0x0)return _0x14b858;return _0x2e4ed9[_0x494ad6(0xb38)][_0x494ad6(0x318)](_0x52531f[_0x494ad6(0xb38)],'th');}),_0x29d10c=_0x88923d[_0x2dd3a7(0x4d9)],_0x3790cd=Math[_0x2dd3a7(0xbda)](0x1,Math['floor'](_0x29d10c*0.33)),_0x3df60=_0x88923d[_0x2dd3a7(0xb02)](0x0,_0x3790cd),_0x4b984d=_0x88923d[_0x2dd3a7(0xb02)](-_0x3790cd);return _0xf3523f[_0x2dd3a7(0x600)][_0x2dd3a7(0x883)]((_0x34acbb,_0x1e69f2)=>{const _0x171406=_0x2dd3a7;if(_0x34acbb['questionType']!==_0x171406(0x943)||!_0x34acbb[_0x171406(0xb8c)])return;const _0x2faad5=_0x34acbb[_0x171406(0xbc9)],_0x2da394={};_0x34acbb[_0x171406(0xb8c)][_0x171406(0x883)]((_0x3a73b5,_0x4a6400)=>{_0x2da394[_0x4a6400]={'text':_0x3a73b5,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x88923d[_0x171406(0x883)](_0x2a8ec4=>{const _0x240589=_0x171406,_0x5b256f=_0x2a8ec4[_0x240589(0x6b8)][_0x2a8ec4['attempts'][_0x240589(0x4d9)]-0x1],_0x168453=_0x5b256f['answers'][_0x240589(0x241)](_0x5d6492=>_0x5d6492['originalQuestionText']===_0x2faad5);if(_0x168453&&_0x168453[_0x240589(0x8d1)]!==null){const _0x403d8c=_0x34acbb[_0x240589(0xb8c)]['findIndex'](_0x5caf12=>_0x5caf12===_0x168453[_0x240589(0x94e)]);_0x403d8c!==-0x1&&_0x2da394[_0x403d8c]&&(_0x2da394[_0x403d8c][_0x240589(0xb6d)]++,_0x3df60[_0x240589(0x918)](_0x2a8ec4)&&_0x2da394[_0x403d8c][_0x240589(0x605)]++,_0x4b984d[_0x240589(0x918)](_0x2a8ec4)&&_0x2da394[_0x403d8c][_0x240589(0x1d7)]++);}}),_0xa80490[_0x1e69f2]=_0x2da394;}),_0xa80490;}function calculateReliabilityKR20(_0x40f7f2,_0x296761,_0x2972fe){const _0x2897f0=_0x5c7bd9,_0x2a71c6=_0x40f7f2[_0x2897f0(0x600)]['length'];if(_0x2a71c6<0x2||_0x296761[_0x2897f0(0x4d9)]<0x2)return null;const _0x446a3b=_0x296761[_0x2897f0(0x98b)](_0x228f20=>_0x228f20[_0x2897f0(0x2a0)]),_0x13261f=_0x446a3b[_0x2897f0(0x631)]((_0x39a76f,_0x228e3d)=>_0x39a76f+_0x228e3d,0x0)/_0x446a3b[_0x2897f0(0x4d9)],_0x38bfe8=_0x446a3b[_0x2897f0(0x98b)](_0x19469d=>Math[_0x2897f0(0x501)](_0x19469d-_0x13261f,0x2))['reduce']((_0x214625,_0x49f1da)=>_0x214625+_0x49f1da,0x0)/_0x446a3b[_0x2897f0(0x4d9)];if(_0x38bfe8===0x0)return null;let _0x12e89e=0x0;for(let _0x8b5420=0x0;_0x8b5420<_0x2a71c6;_0x8b5420++){const _0x381f48=_0x2972fe[_0x8b5420]?.['p'];if(_0x381f48===undefined)continue;const _0xb37a45=0x1-_0x381f48;_0x12e89e+=_0x381f48*_0xb37a45;}if(_0x12e89e===0x0)return null;const _0x317aac=_0x2a71c6/(_0x2a71c6-0x1)*(0x1-_0x12e89e/_0x38bfe8);if(_0x317aac>0x1)return null;return _0x317aac;}async function handleAnalyzeClass(){const _0x1f79c4=_0x5c7bd9;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x1f79c4(0x7e8));return;}const _0x570185=collection(db,'artifacts/'+appId+_0x1f79c4(0xb33)+currentQuizData['id']+'/submissions'),_0x56814c=await getDocs(_0x570185),_0x48943a=_0x56814c[_0x1f79c4(0x795)][_0x1f79c4(0x98b)](_0x270b2b=>_0x270b2b['data']());if(_0x48943a[_0x1f79c4(0x4d9)]<0x2){showMessage(_0x1f79c4(0xaf9));return;}const _0x3d7982=document[_0x1f79c4(0x82a)](_0x1f79c4(0x5c5));_0x3d7982[_0x1f79c4(0xa1c)]=_0x1f79c4(0x354),document['getElementById'](_0x1f79c4(0x6eb))[_0x1f79c4(0x814)]=!![];const _0x46a0b5=_0x48943a[_0x1f79c4(0x98b)]((_0x5341e3,_0x29ef06)=>{const _0x37d3af=_0x1f79c4,_0xa9cd14=_0x5341e3[_0x37d3af(0x6b8)][_0x5341e3[_0x37d3af(0x6b8)][_0x37d3af(0x4d9)]-0x1];if(!_0xa9cd14)return'';return _0x37d3af(0x348)+(_0x29ef06+0x1)+'\x20('+_0x5341e3[_0x37d3af(0xb38)]+_0x37d3af(0x852)+_0xa9cd14[_0x37d3af(0xa0f)]+'/'+_0x5341e3['totalQuestions']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON['stringify'](_0xa9cd14[_0x37d3af(0x775)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1f79c4(0x5b3)](_0x1f79c4(0x5bd)),_0x1fb499='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x1f79c4(0x231)]+_0x1f79c4(0x2b8)+JSON[_0x1f79c4(0x6b3)](currentQuizData['questions'])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46a0b5+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x365533={'type':_0x1f79c4(0x4f7),'properties':{'classStrengths':{'type':_0x1f79c4(0xace),'items':{'type':_0x1f79c4(0x5e7)}},'classWeaknesses':{'type':_0x1f79c4(0xace),'items':{'type':_0x1f79c4(0x5e7)}},'teacherSuggestions':{'type':_0x1f79c4(0xace),'items':{'type':_0x1f79c4(0x5e7)}}},'required':[_0x1f79c4(0x8a7),'classWeaknesses',_0x1f79c4(0x565)]};try{const _0x327a33=await callAnalysisApi(_0x1fb499,_0x365533);displayClassAnalysis(_0x327a33);}catch(_0x46fdce){console[_0x1f79c4(0xb9a)](_0x1f79c4(0xbf6),_0x46fdce),_0x3d7982['innerHTML']=_0x1f79c4(0x3f4)+_0x46fdce[_0x1f79c4(0x6a5)]+_0x1f79c4(0x822);}finally{document['getElementById']('analyze-strengths-btn')['disabled']=![];}}function displayClassAnalysis(_0x408699){const _0x2f8529=_0x5c7bd9,_0x3c5b4f=document['getElementById']('strength-weakness-analysis-container');if(!_0x408699){_0x3c5b4f[_0x2f8529(0xa1c)]=_0x2f8529(0x1d0);return;}_0x3c5b4f[_0x2f8529(0xa1c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x408699['classStrengths'][_0x2f8529(0x98b)](_0x1ef6f0=>_0x2f8529(0x748)+_0x1ef6f0+_0x2f8529(0x516))[_0x2f8529(0x5b3)]('')+_0x2f8529(0xc00)+_0x408699[_0x2f8529(0x683)][_0x2f8529(0x98b)](_0x421e98=>_0x2f8529(0x748)+_0x421e98+_0x2f8529(0x516))[_0x2f8529(0x5b3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x408699[_0x2f8529(0x565)][_0x2f8529(0x98b)](_0x15e5a8=>_0x2f8529(0x748)+_0x15e5a8+'</li>')[_0x2f8529(0x5b3)]('')+_0x2f8529(0x54e);}function formatAndPrintWorksheet(_0x4611ff,_0x2ecd23){const _0x2ea203=_0x5c7bd9,_0x237a41='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x4611ff[_0x2ea203(0x231)]+_0x2ea203(0x491)+_0x4611ff[_0x2ea203(0x231)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4611ff[_0x2ea203(0x600)][_0x2ea203(0x98b)]((_0x5d9001,_0x1acfa0)=>_0x2ea203(0x787)+(_0x1acfa0+0x1)+'.\x20'+_0x5d9001[_0x2ea203(0xbc9)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5d9001[_0x2ea203(0xb88)]?_0x2ea203(0xbc2)+_0x5d9001['imageCode']+_0x2ea203(0x59b):'')+_0x2ea203(0xa1d))[_0x2ea203(0x5b3)]('')+_0x2ea203(0x4dd);_0x2ecd23['document'][_0x2ea203(0x398)](_0x237a41),_0x2ecd23[_0x2ea203(0x28e)]['close'](),_0x2ecd23[_0x2ea203(0x946)]=function(){setTimeout(()=>{const _0x26df0d=_0x34dc;_0x2ecd23[_0x26df0d(0x42a)]();},0x3e8);};}async function generateWorksheet(){const _0x388e78=_0x5c7bd9,_0x589cb0=document[_0x388e78(0x82a)](_0x388e78(0x449))[_0x388e78(0x556)]['trim']();if(!_0x589cb0){showMessage(_0x388e78(0x1b1));return;}const _0x41756e=document[_0x388e78(0x82a)](_0x388e78(0x614))[_0x388e78(0x4be)],_0x5bdfdb=_0x41756e?'':_0x388e78(0x8b5),_0x331f39=window[_0x388e78(0xa2e)]('',_0x388e78(0x333));_0x331f39['document'][_0x388e78(0x398)]('<h1></h1>');const _0x313544=parseInt(document[_0x388e78(0x82a)](_0x388e78(0x379))[_0x388e78(0x556)]),_0x3888c5=document[_0x388e78(0x82a)](_0x388e78(0x4a2))[_0x388e78(0x4be)],_0x2ea1b6=_0x3888c5?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x3e6c78='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x5bdfdb+_0x388e78(0x6f9)+_0x313544+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x589cb0+_0x388e78(0x941)+_0x2ea1b6+_0x388e78(0x6b7)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x5279f7={'type':_0x388e78(0x4f7),'properties':{'topic':{'type':_0x388e78(0x5e7)},'questions':{'type':_0x388e78(0xace),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x388e78(0x5e7)},'imageCode':{'type':'STRING'}},'required':[_0x388e78(0xbc9)]}}},'required':[_0x388e78(0x231),_0x388e78(0x600)]};document[_0x388e78(0x82a)](_0x388e78(0x9ea))['textContent']='',document[_0x388e78(0x82a)](_0x388e78(0xb72))['classList']['remove'](_0x388e78(0x9b3)),document[_0x388e78(0x82a)]('quiz-generation-area')[_0x388e78(0xbe2)][_0x388e78(0x521)]('hidden'),generateWorksheetBtn['disabled']=!![];try{const _0x40f1a5=await callAnalysisApi(_0x3e6c78,_0x5279f7);formatAndPrintWorksheet(_0x40f1a5,_0x331f39);}catch(_0x251d47){console[_0x388e78(0xb9a)](_0x388e78(0xb6f),_0x251d47);if(_0x331f39)_0x331f39[_0x388e78(0x219)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document['getElementById']('loader')[_0x388e78(0xbe2)][_0x388e78(0x5ca)](_0x388e78(0x9b3)),document[_0x388e78(0x82a)](_0x388e78(0xbd4))[_0x388e78(0xbe2)][_0x388e78(0x5ca)](_0x388e78(0x9b3)),generateWorksheetBtn[_0x388e78(0x814)]=![];}}async function callAnalysisApi(_0xc3a0f6,_0x101dcb){const _0x2f32a2=_0x5c7bd9,_0x1d73d6={'contents':[{'role':_0x2f32a2(0xc1f),'parts':[{'text':_0xc3a0f6}]}],'generationConfig':{'responseMimeType':_0x2f32a2(0x2f6),'responseSchema':_0x101dcb}},_0x94e253='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x455486=_0x2f32a2(0x96b)+_0x94e253,_0x572296=await fetch(_0x455486,{'method':_0x2f32a2(0x87a),'headers':{'Content-Type':_0x2f32a2(0x2f6)},'body':JSON[_0x2f32a2(0x6b3)](_0x1d73d6)});if(!_0x572296['ok'])throw new Error(_0x2f32a2(0xc04)+_0x572296['status']);const _0x3e126b=await _0x572296['json']();if(_0x3e126b[_0x2f32a2(0x845)]?.[0x0]?.['content']?.[_0x2f32a2(0x457)]?.[0x0])return JSON['parse'](_0x3e126b[_0x2f32a2(0x845)][0x0][_0x2f32a2(0x3e0)]['parts'][0x0][_0x2f32a2(0xab6)]);else{let _0x50f9d8=_0x2f32a2(0xa6a);if(_0x3e126b[_0x2f32a2(0x45f)]?.[_0x2f32a2(0x5c6)])_0x50f9d8=_0x2f32a2(0xb87)+_0x3e126b['promptFeedback']['blockReason']+'.';else _0x3e126b['candidates']?.[0x0]?.[_0x2f32a2(0xc29)]&&_0x3e126b[_0x2f32a2(0x845)][0x0][_0x2f32a2(0xc29)]!=='STOP'&&(_0x50f9d8=_0x2f32a2(0xbd2)+_0x3e126b[_0x2f32a2(0x845)][0x0]['finishReason']+'.');console['error'](_0x50f9d8,JSON[_0x2f32a2(0x6b3)](_0x3e126b));throw new Error(_0x50f9d8);}}async function handleStartSyncMode(_0x518871,_0x158bee=![]){const _0x3f514f=_0x5c7bd9,_0x3bafb9=allQuizzes[_0x3f514f(0x241)](_0x1bcade=>_0x1bcade['id']===_0x518871)||allQuizzesGlobal[_0x3f514f(0x241)](_0xd49f8=>_0xd49f8['id']===_0x518871);if(!_0x3bafb9){showMessage(_0x3f514f(0x365));return;}currentQuizData=getShuffledQuiz(_0x3bafb9);const _0x457787=Math[_0x3f514f(0x33f)](0x3e8+Math[_0x3f514f(0xb68)]()*0x2328)[_0x3f514f(0x454)]();try{const _0x2fc306=await addDoc(collection(db,_0x3f514f(0x2fd)+appId+_0x3f514f(0x31e)),{'quizId':_0x3bafb9['id'],'pin':_0x457787,'status':_0x3f514f(0x954),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x158bee,'players':{}});currentLiveGameId=_0x2fc306['id'],showView(_0x3f514f(0xa83)),renderSyncLobbyView(_0x457787,_0x3bafb9['topic']),listenForSyncGameUpdates();}catch(_0x5c79d0){console['error']('Error\x20starting\x20sync\x20game:',_0x5c79d0),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x388df0){const _0xc4e6ee=_0x5c7bd9;if(!_0x388df0||!_0x388df0[_0xc4e6ee(0x443)]||!_0x388df0[_0xc4e6ee(0xbc1)])return _0x388df0[_0xc4e6ee(0xbc1)]||{};const _0x48b6a6=_0x388df0['shuffledQuiz'][_0xc4e6ee(0x600)]['length'],_0x5b09a0=JSON[_0xc4e6ee(0x4cb)](JSON[_0xc4e6ee(0x6b3)](_0x388df0[_0xc4e6ee(0xbc1)]));return Object[_0xc4e6ee(0x446)](_0x5b09a0)[_0xc4e6ee(0x883)](_0x22eb4a=>{const _0x5ad5d2=_0xc4e6ee,_0x266099=_0x22eb4a[_0x5ad5d2(0xa0f)];let _0x93e369=0x0;_0x388df0[_0x5ad5d2(0x530)]&&_0x22eb4a[_0x5ad5d2(0x775)]&&_0x22eb4a[_0x5ad5d2(0x775)][_0x5ad5d2(0x883)](_0x22e7fb=>{const _0xa0ebf4=_0x5ad5d2;if(_0x22e7fb['isCorrect']&&_0x22e7fb[_0xa0ebf4(0xbb7)])_0x93e369+=0x1;else!_0x22e7fb[_0xa0ebf4(0x548)]&&_0x22e7fb[_0xa0ebf4(0xbb7)]&&(_0x93e369-=0x1);}),_0x22eb4a[_0x5ad5d2(0xa0f)]=_0x266099+_0x93e369,_0x48b6a6>0x0&&_0x266099===_0x48b6a6&&(_0x22eb4a[_0x5ad5d2(0xa0f)]+=0x1,_0x22eb4a[_0x5ad5d2(0x62d)]=!![]);}),_0x5b09a0;}function listenForSyncGameUpdates(){const _0x1986b3=_0x5c7bd9;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5e4bf7=doc(db,_0x1986b3(0x2fd)+appId+_0x1986b3(0x31e),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5e4bf7,_0xd85dea=>{const _0x721e7d=_0x1986b3;if(!_0xd85dea[_0x721e7d(0x4a4)]()){sessionStorage['removeItem']('activeGameSession');if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x721e7d(0x1cb));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x721e7d(0x1f3)?showView(_0x721e7d(0xbd7)):showView(_0x721e7d(0x73c));return;}const _0x399918=_0xd85dea[_0x721e7d(0x958)]();currentMode==='admin'?updateAdminSyncView(_0x399918):updateStudentSyncView(_0x399918);});}function renderSyncLobbyView(_0x54fe02,_0xbf044b){const _0x34b51e=_0x5c7bd9;liveGameView['innerHTML']=_0x34b51e(0x5ae)+_0xbf044b+_0x34b51e(0x71d)+_0x54fe02+_0x34b51e(0x7bf);const _0x207e95=document[_0x34b51e(0x82a)](_0x34b51e(0xaeb)),_0x44e480=document[_0x34b51e(0x82a)]('confidence-scoring-description');_0x207e95['addEventListener'](_0x34b51e(0x7d6),()=>{const _0x281404=_0x34b51e;_0x44e480[_0x281404(0x95f)][_0x281404(0x246)]=_0x207e95['checked']?_0x281404(0x351):_0x281404(0xab4);}),document['getElementById'](_0x34b51e(0x873))[_0x34b51e(0x68b)](_0x34b51e(0x79e),async()=>{const _0x5c0e95=_0x34b51e,_0x198244=doc(db,_0x5c0e95(0x2fd)+appId+_0x5c0e95(0x31e),currentLiveGameId),_0x2ecc88=document[_0x5c0e95(0x82a)]('confidence-scoring-toggle')[_0x5c0e95(0x4be)];await updateDoc(_0x198244,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x2ecc88});});}function updateAdminSyncView(_0x47d287){const _0xa5ed01=_0x5c7bd9;switch(_0x47d287[_0xa5ed01(0x6d5)]){case'lobby':renderSyncLobbyView(_0x47d287[_0xa5ed01(0xa48)],_0x47d287[_0xa5ed01(0x443)][_0xa5ed01(0x231)]);const _0x28060d=Object['entries'](_0x47d287[_0xa5ed01(0xbc1)]||{})['filter'](([_0x30867d,_0x33b100])=>_0x33b100[_0xa5ed01(0x6d5)]!==_0xa5ed01(0xbd5));document[_0xa5ed01(0x82a)](_0xa5ed01(0x2c1))[_0xa5ed01(0xc26)]=_0x28060d[_0xa5ed01(0x4d9)],document['getElementById']('player-list-lobby')['innerHTML']=_0x28060d[_0xa5ed01(0x98b)](([_0x3fedfe,_0x5433ef])=>_0xa5ed01(0xc05)+_0x3fedfe+_0xa5ed01(0x3cc)+_0x3fedfe+_0xa5ed01(0x72a))[_0xa5ed01(0x5b3)]('')||_0xa5ed01(0x1c1),document[_0xa5ed01(0x82a)](_0xa5ed01(0x873))[_0xa5ed01(0x814)]=_0x28060d['length']===0x0;break;case _0xa5ed01(0xb99):const _0x414071=Object[_0xa5ed01(0x446)](_0x47d287[_0xa5ed01(0xbc1)]||{})[_0xa5ed01(0x920)](_0x39b112=>_0x39b112[_0xa5ed01(0x6d5)]!=='inactive'),_0x481d25=_0x414071[_0xa5ed01(0x920)](_0x5ab0af=>_0x5ab0af[_0xa5ed01(0x281)])[_0xa5ed01(0x4d9)],_0x2bc531=_0x481d25===_0x414071[_0xa5ed01(0x4d9)]&&_0x414071['length']>0x0;if(_0x2bc531&&_0x47d287[_0xa5ed01(0x6d5)]===_0xa5ed01(0xb99)){const _0x5e0080=doc(db,_0xa5ed01(0x2fd)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x5e0080,{'status':_0xa5ed01(0x4e1)});}else{if(document[_0xa5ed01(0x82a)](_0xa5ed01(0xa5d))===null)renderAdminSyncQuestionView(_0x47d287);else{const _0x54af1f=document[_0xa5ed01(0x82a)]('answer-counter');_0x54af1f&&(_0x54af1f['textContent']=_0x481d25+'/'+_0x414071[_0xa5ed01(0x4d9)]);const _0x4534bc=document[_0xa5ed01(0x82a)](_0xa5ed01(0x341));_0x4534bc&&(_0x4534bc[_0xa5ed01(0xa1c)]=_0x414071['map'](_0x97aee1=>{const _0x1a57c9=_0xa5ed01,_0x29c993=_0x97aee1[_0x1a57c9(0x281)]?'bg-green-500':_0x1a57c9(0x210),_0x1f2c2c=_0x97aee1[_0x1a57c9(0x281)]?_0x1a57c9(0xc0f):_0x1a57c9(0x2c8);return _0x1a57c9(0x6c8)+_0x29c993+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f2c2c+_0x1a57c9(0x49a)+_0x97aee1['name']+_0x1a57c9(0x69f)+_0x97aee1[_0x1a57c9(0x97a)]+_0x1a57c9(0xacd);})[_0xa5ed01(0x5b3)](''));}}break;case _0xa5ed01(0x4e1):const _0x41b838=_0x47d287[_0xa5ed01(0x7d3)],_0x4ec6b9=_0x47d287['shuffledQuiz'][_0xa5ed01(0x600)][_0x41b838];renderSyncSummaryView(_0x47d287,_0x4ec6b9,!![]);break;case'results':renderAdminSyncDashboard(_0x47d287,!![]);break;case _0xa5ed01(0x983):_0x47d287[_0xa5ed01(0x7cd)]&&saveGameResultsAsSubmissions(_0x47d287);sessionStorage['removeItem'](_0xa5ed01(0x992));const _0x9e59e6=calculateFinalPodiumScores(_0x47d287);showPodiumView(_0x9e59e6,_0xa5ed01(0x592));break;}}function renderAdminSyncQuestionView(_0x5273a6){const _0x5f277e=_0x5c7bd9,_0x40dd3e=_0x5273a6[_0x5f277e(0x7d3)],_0x50656c=_0x5273a6['shuffledQuiz'][_0x5f277e(0x600)][_0x40dd3e],_0x2ab1ab=_0x5273a6[_0x5f277e(0x443)]['questions']['length'],_0x5a8064=Object[_0x5f277e(0x446)](_0x5273a6['players']||{})[_0x5f277e(0x920)](_0x4a036d=>_0x4a036d[_0x5f277e(0x6d5)]!=='inactive'),_0x12bb48=_0x5a8064[_0x5f277e(0x920)](_0x461341=>_0x461341[_0x5f277e(0x281)])['length'],_0x138d8b=_0x12bb48===_0x5a8064[_0x5f277e(0x4d9)]&&_0x5a8064[_0x5f277e(0x4d9)]>0x0,_0x5164e6=(_0x50656c[_0x5f277e(0xb8c)]||[])['map'](_0x2fb10b=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x2fb10b+_0x5f277e(0x59b))[_0x5f277e(0x5b3)]('');liveGameView[_0x5f277e(0xa1c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x40dd3e+0x1)+_0x5f277e(0xa3b)+_0x2ab1ab+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x12bb48+'/'+_0x5a8064[_0x5f277e(0x4d9)]+'</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x50656c[_0x5f277e(0xbc9)]+_0x5f277e(0xb9c)+_0x5164e6+_0x5f277e(0x45e)+(!_0x138d8b?_0x5f277e(0x814):'')+_0x5f277e(0x200);if(window[_0x5f277e(0x403)])MathJax[_0x5f277e(0x894)]();document[_0x5f277e(0x82a)](_0x5f277e(0x7df))[_0x5f277e(0x68b)](_0x5f277e(0x79e),async()=>{const _0x5e06f5=_0x5f277e,_0x342d12=doc(db,'artifacts/'+appId+_0x5e06f5(0x31e),currentLiveGameId);await updateDoc(_0x342d12,{'status':_0x5e06f5(0x846)});}),document[_0x5f277e(0x82a)](_0x5f277e(0x87b))[_0x5f277e(0x485)]=()=>{openScratchpad(_0x50656c,_0x50656c['options']||[]);},document['getElementById'](_0x5f277e(0xb48))[_0x5f277e(0x68b)](_0x5f277e(0x79e),()=>{const _0x488353=_0x5f277e;document['getElementById'](_0x488353(0xa5d))['classList'][_0x488353(0x6e9)](_0x488353(0x9b3));});}function renderSyncLeaderboardView(_0x114fab,_0x315947){const _0x32cd7c=_0x5c7bd9,_0x4e6b43=Object[_0x32cd7c(0x446)](_0x114fab[_0x32cd7c(0xbc1)]||{});_0x4e6b43[_0x32cd7c(0x74a)]((_0x1dc2f3,_0x4690f6)=>_0x4690f6[_0x32cd7c(0xa0f)]-_0x1dc2f3['score']);const _0x3b5f32=_0x4e6b43[_0x32cd7c(0xb02)](0x0,0x5);let _0x341fd3='';if(_0x315947){const _0x3573f0=_0x114fab[_0x32cd7c(0x7d3)]>=_0x114fab['shuffledQuiz']['questions'][_0x32cd7c(0x4d9)]-0x1;_0x341fd3=_0x32cd7c(0xb43)+(_0x3573f0?'ดูผลสรุปสุดท้าย':'ข้อต่อไป')+_0x32cd7c(0x57f);}else _0x341fd3=_0x32cd7c(0xa9e);liveGameView[_0x32cd7c(0xa1c)]=_0x32cd7c(0x778)+_0x3b5f32[_0x32cd7c(0x98b)]((_0xf51926,_0x411784)=>_0x32cd7c(0x322)+(_0x411784+0x1)+'.\x20'+_0xf51926[_0x32cd7c(0x97a)]+_0x32cd7c(0x653)+_0xf51926['score']+_0x32cd7c(0x8ed))['join']('')+_0x32cd7c(0x62f)+_0x341fd3+_0x32cd7c(0x82d),_0x315947&&document['getElementById'](_0x32cd7c(0x8ff))[_0x32cd7c(0x68b)](_0x32cd7c(0x79e),async()=>{const _0x424bd5=_0x32cd7c,_0x4d40a6=doc(db,_0x424bd5(0x2fd)+appId+_0x424bd5(0x31e),currentLiveGameId),_0x4e116b=_0x114fab[_0x424bd5(0x7d3)]+0x1;if(_0x4e116b<_0x114fab[_0x424bd5(0x443)][_0x424bd5(0x600)][_0x424bd5(0x4d9)]){const _0x3f063a={};Object['keys'](_0x114fab['players'])[_0x424bd5(0x883)](_0x3399c9=>{const _0x1300d5=_0x424bd5;_0x3f063a[_0x1300d5(0x9aa)+_0x3399c9+'.answered']=![];}),await updateDoc(_0x4d40a6,{..._0x3f063a,'status':'question','currentQuestionIndex':_0x4e116b,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4d40a6,{'status':_0x424bd5(0x983)});});}async function handleJoinSyncGame(){const _0x1bdd7c=_0x5c7bd9,_0x305e5f=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x305e5f||_0x305e5f[_0x1bdd7c(0xbde)]()['length']!==0x2){showMessage(_0x1bdd7c(0xc19));return;}try{const _0x51dccc=collection(db,_0x1bdd7c(0x2fd)+appId+_0x1bdd7c(0x31e)),_0x4dab2a=query(_0x51dccc,where(_0x1bdd7c(0xa48),'==',_0x305e5f['trim']()),where(_0x1bdd7c(0x6d5),'==',_0x1bdd7c(0x954))),_0x14160b=await getDocs(_0x4dab2a);if(_0x14160b[_0x1bdd7c(0x7b4)]){showMessage(_0x1bdd7c(0x66a));return;}const _0x3265c6=_0x14160b[_0x1bdd7c(0x795)][0x0];currentLiveGameId=_0x3265c6['id'];const _0x2d1752=_0x3265c6[_0x1bdd7c(0x958)](),_0x4b7e60=doc(db,_0x1bdd7c(0x2fd)+appId+_0x1bdd7c(0x74e),_0x2d1752[_0x1bdd7c(0xbc0)]),_0x142cc5=await getDoc(_0x4b7e60);if(!_0x142cc5['exists']())throw new Error(_0x1bdd7c(0x9af));const _0x10bea1=_0x142cc5[_0x1bdd7c(0x958)](),_0x459a0d=doc(db,'artifacts/'+appId+_0x1bdd7c(0x3eb),_0x10bea1['projectId']),_0x202eaf=await getDoc(_0x459a0d);if(!_0x202eaf[_0x1bdd7c(0x4a4)]())throw new Error(_0x1bdd7c(0x345));currentQuizData=_0x2d1752[_0x1bdd7c(0x443)];const _0xe831e0=_0x202eaf[_0x1bdd7c(0x958)]();showView('student-team-join'),showTeamPlayerSelection(_0xe831e0[_0x1bdd7c(0x646)],_0x10bea1[_0x1bdd7c(0x231)]);const _0x13e82c=document[_0x1bdd7c(0x82a)](_0x1bdd7c(0x23b));_0x13e82c[_0x1bdd7c(0x485)]=confirmAndJoinSyncGame;}catch(_0x4e2629){console['error'](_0x1bdd7c(0xbe1),_0x4e2629),showMessage(_0x1bdd7c(0x390)+_0x4e2629['message']);}}function updateStudentSyncView(_0x2ab255){const _0x287427=_0x5c7bd9,_0x3082c1=_0x2ab255[_0x287427(0xbc1)][localTeamPlayers[0x0]];switch(_0x2ab255['status']){case _0x287427(0x954):showView(_0x287427(0xa83)),liveGameView[_0x287427(0xa1c)]=_0x287427(0x2f5);break;case'question':const _0x58d345=localTeamPlayers[_0x287427(0xa26)](_0x3f57e0=>_0x2ab255[_0x287427(0xbc1)][_0x3f57e0]?.[_0x287427(0x281)]===!![]);_0x58d345?liveGameView[_0x287427(0xa1c)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>':renderStudentSyncQuestionView(_0x2ab255);break;case _0x287427(0x4e1):liveGameView[_0x287427(0xa1c)]=_0x287427(0x75a);break;case _0x287427(0x846):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x2ab255);break;case _0x287427(0x983):sessionStorage[_0x287427(0x80c)](_0x287427(0x992));const _0x11364d=calculateFinalPodiumScores(_0x2ab255);showPodiumView(_0x11364d,'sync');break;}}function renderStudentSyncResultsView(_0x310058){const _0x28891b=_0x5c7bd9,_0x3a64aa=localTeamPlayers['map'](_0x589e73=>_0x310058[_0x28891b(0xbc1)][_0x589e73])['filter'](Boolean);_0x3a64aa[_0x28891b(0x74a)]((_0x174f54,_0x51e27b)=>(_0x51e27b[_0x28891b(0xa0f)]||0x0)-(_0x174f54[_0x28891b(0xa0f)]||0x0));const _0x32c41a=_0x310058[_0x28891b(0x7d3)]>=_0x310058[_0x28891b(0x443)][_0x28891b(0x600)][_0x28891b(0x4d9)]-0x1;let _0x6577b2='';_0x32c41a?_0x6577b2=_0x28891b(0x906):_0x6577b2=_0x28891b(0x492);const _0x487da5=_0x28891b(0x546)+_0x3a64aa[_0x28891b(0x98b)]((_0x52555e,_0x57a8c7)=>_0x28891b(0xad5)+(_0x57a8c7+0x1)+_0x28891b(0x34a)+_0x52555e[_0x28891b(0x97a)]+_0x28891b(0x327)+_0x52555e['score']+_0x28891b(0x700))['join']('')+_0x28891b(0xa19)+_0x6577b2+_0x28891b(0x49c);liveGameView[_0x28891b(0xa1c)]=_0x487da5;}function renderStudentSyncQuestionView(_0x17476b){const _0x185b2c=_0x5c7bd9;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x17476b[_0x185b2c(0xbc1)][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x5144b1=localTeamPlayers[localPlayerTurnIndex];if(!_0x5144b1)return;const _0x319d7c=_0x17476b[_0x185b2c(0x7d3)],_0x5f5ccc=_0x17476b['shuffledQuiz'][_0x185b2c(0x600)][_0x185b2c(0x4d9)],_0x59482c=_0x17476b['shuffledQuiz'][_0x185b2c(0x600)][_0x319d7c],_0x35b1eb=_0x59482c[_0x185b2c(0x6ab)]||_0x17476b[_0x185b2c(0x443)][_0x185b2c(0x738)];let _0x25e5bb='',_0x212ce2=![];switch(_0x35b1eb){case _0x185b2c(0xb61):_0x25e5bb=_0x185b2c(0x323);break;case _0x185b2c(0x9a5):case'fill_in_no_choices':_0x212ce2=!![],_0x25e5bb=_0x185b2c(0x6b4);break;case _0x185b2c(0x239):_0x212ce2=!![],_0x25e5bb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x59482c[_0x185b2c(0x2c7)]||[])[_0x185b2c(0x98b)](_0x7b1d02=>'<option\x20value=\x22'+_0x7b1d02+'\x22>'+_0x7b1d02+'</option>')['join']('')+_0x185b2c(0x4c8);break;case _0x185b2c(0x943):default:_0x25e5bb=(_0x59482c[_0x185b2c(0xb8c)]||[])[_0x185b2c(0x98b)]((_0x77e34f,_0xbad7e8)=>'<button\x20data-value=\x22'+_0xbad7e8+_0x185b2c(0x7e2)+_0x77e34f+'</button>')[_0x185b2c(0x5b3)]('');break;}liveGameView[_0x185b2c(0xa1c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x319d7c+0x1)+_0x185b2c(0xa3b)+_0x5f5ccc+_0x185b2c(0x655)+_0x5144b1+_0x185b2c(0x7ae)+(_0x59482c[_0x185b2c(0xbc9)]||_0x59482c[_0x185b2c(0x589)])+_0x185b2c(0xa15)+_0x25e5bb+_0x185b2c(0x6a3);if(window[_0x185b2c(0x403)])MathJax[_0x185b2c(0x894)]();function _0x55fa72(_0xbf56c5,_0x408229,_0x1631b7,_0x55535b){const _0x1ae128=_0x185b2c,_0x47a888=_0x1631b7['isConfidenceScoringEnabled']===!![];if(_0x47a888){document[_0x1ae128(0x82a)]('confidence-modal')[_0x1ae128(0x6d1)][_0x1ae128(0x7d1)]=_0x1ae128(0x592);const _0x4cdb67=document['getElementById'](_0x1ae128(0x8b8));_0x4cdb67[_0x1ae128(0x6d1)][_0x1ae128(0x9d5)]=_0xbf56c5,_0x4cdb67[_0x1ae128(0x6d1)]['question']=JSON[_0x1ae128(0x6b3)](_0x408229),_0x4cdb67[_0x1ae128(0x6d1)][_0x1ae128(0x5d1)]=JSON['stringify'](_0x1631b7),_0x4cdb67['dataset'][_0x1ae128(0x96a)]=_0x55535b,document[_0x1ae128(0x82a)]('confidence-modal')[_0x1ae128(0xbe2)][_0x1ae128(0x521)]('hidden');}else handleSyncAnswerSubmit(_0xbf56c5,_0x408229,_0x1631b7,_0x55535b,![]);}_0x212ce2?document[_0x185b2c(0x82a)](_0x185b2c(0x332))[_0x185b2c(0x68b)]('click',()=>{const _0x4b2ae1=_0x185b2c,_0x495175=document[_0x4b2ae1(0x82a)](_0x4b2ae1(0x5fe))||document[_0x4b2ae1(0x82a)]('sync-matching-select');if(_0x495175[_0x4b2ae1(0x556)]['trim']()===''){showMessage(_0x4b2ae1(0x298));return;}_0x55fa72(_0x495175[_0x4b2ae1(0x556)],_0x59482c,_0x17476b,_0x5144b1);}):document[_0x185b2c(0xb24)](_0x185b2c(0x8c2))[_0x185b2c(0x883)](_0x484f52=>{const _0xa690ad=_0x185b2c;_0x484f52[_0xa690ad(0x68b)]('click',()=>{const _0x274c09=_0xa690ad;_0x55fa72(_0x484f52['dataset'][_0x274c09(0x556)],_0x59482c,_0x17476b,_0x5144b1);});});}async function handleSyncAnswerSubmit(_0x4e4eaa,_0x52a9e8,_0x5a63ae,_0xedbd9c,_0x108e60){const _0xa9b21c=_0x5c7bd9;document[_0xa9b21c(0xb24)](_0xa9b21c(0x53c))[_0xa9b21c(0x883)](_0x327b9b=>_0x327b9b['disabled']=!![]);const _0x5495d9=_0x52a9e8[_0xa9b21c(0x6ab)]||_0x5a63ae[_0xa9b21c(0x443)][_0xa9b21c(0x738)];let _0x37e3c1=![],_0x162630=_0x4e4eaa;switch(_0x5495d9){case _0xa9b21c(0xb61):const _0x14597b=parseInt(_0x4e4eaa),_0xd9bbd0=_0x52a9e8[_0xa9b21c(0x684)]===!![]||String(_0x52a9e8[_0xa9b21c(0x684)])[_0xa9b21c(0x21d)]()===_0xa9b21c(0x284);_0x37e3c1=_0x14597b===0x0&&_0xd9bbd0||_0x14597b===0x1&&!_0xd9bbd0,_0x162630=_0x14597b===0x0?_0xa9b21c(0x4cc):_0xa9b21c(0x9c7);break;case _0xa9b21c(0x9a5):case _0xa9b21c(0xc12):_0x37e3c1=await gradeShortAnswer(_0x4e4eaa,_0x52a9e8);break;case'matching_item':_0x37e3c1=_0x4e4eaa===_0x52a9e8[_0xa9b21c(0x27f)];break;case'multiple_choice':default:const _0x52b9e5=parseInt(_0x4e4eaa);_0x37e3c1=_0x52b9e5===_0x52a9e8['correctAnswerIndex'];_0x52a9e8['options']&&_0x52a9e8[_0xa9b21c(0xb8c)][_0x52b9e5]&&(_0x162630=_0x52a9e8['options'][_0x52b9e5]);break;}let _0x416eac=0x0;if(_0x37e3c1&&_0x108e60)_0x416eac=0x2;else{if(_0x37e3c1)_0x416eac=0x1;else!_0x37e3c1&&_0x108e60&&(_0x416eac=-0x1);}const _0x17b96d=doc(db,'artifacts/'+appId+_0xa9b21c(0x31e),currentLiveGameId),_0x20768d={};_0x20768d['players.'+_0xedbd9c+_0xa9b21c(0x3e3)]=increment(_0x416eac),_0x20768d[_0xa9b21c(0x9aa)+_0xedbd9c+_0xa9b21c(0x28f)]=!![];let _0xc1c58d=null;(_0x5495d9===_0xa9b21c(0x943)||_0x5495d9==='true_false'||_0x5495d9==='fill_in_with_choices')&&(_0xc1c58d=parseInt(_0x4e4eaa));_0x20768d[_0xa9b21c(0x9aa)+_0xedbd9c+_0xa9b21c(0x388)]=_0xc1c58d;const _0x1f1d82={'questionIndex':_0x5a63ae[_0xa9b21c(0x7d3)],'questionId':_0x52a9e8['id'],'answer':_0x4e4eaa,'answerText':_0x162630,'isCorrect':_0x37e3c1,'originalQuestionText':_0x52a9e8[_0xa9b21c(0xbc9)]||_0x52a9e8['stem'],'wasConfident':_0x108e60};_0x20768d[_0xa9b21c(0x9aa)+_0xedbd9c+_0xa9b21c(0x460)]=arrayUnion(_0x1f1d82),await updateDoc(_0x17b96d,_0x20768d);}initialize();
