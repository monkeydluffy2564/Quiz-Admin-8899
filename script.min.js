const _0x5cd971=_0x1129;(function(_0x54306d,_0x43af22){const _0x55bd55=_0x1129,_0x421a31=_0x54306d();while(!![]){try{const _0x28b86e=parseInt(_0x55bd55(0x437))/0x1*(-parseInt(_0x55bd55(0x174))/0x2)+-parseInt(_0x55bd55(0x4bf))/0x3+-parseInt(_0x55bd55(0x893))/0x4*(-parseInt(_0x55bd55(0x8d5))/0x5)+-parseInt(_0x55bd55(0xa48))/0x6*(-parseInt(_0x55bd55(0x9b3))/0x7)+-parseInt(_0x55bd55(0xafc))/0x8+-parseInt(_0x55bd55(0x949))/0x9+parseInt(_0x55bd55(0x188))/0xa;if(_0x28b86e===_0x43af22)break;else _0x421a31['push'](_0x421a31['shift']());}catch(_0x138e92){_0x421a31['push'](_0x421a31['shift']());}}}(_0x3d48,0xa9cdd));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x5de72d=_0x1129;if(_0x5de72d(0x684)in navigator)try{wakeLock=await navigator[_0x5de72d(0x684)]['request'](_0x5de72d(0x7d3)),console[_0x5de72d(0xa63)](_0x5de72d(0x1b1)),wakeLock[_0x5de72d(0x1ce)](_0x5de72d(0x2b7),()=>{const _0x2b3779=_0x5de72d;console[_0x2b3779(0xa63)](_0x2b3779(0x8ae));});}catch(_0xe482e7){console[_0x5de72d(0x5a8)](_0x5de72d(0x897)+_0xe482e7[_0x5de72d(0xa5e)]+',\x20'+_0xe482e7['message']);}else console['warn'](_0x5de72d(0xa7e));},releaseWakeLock=async()=>{const _0x343ff2=_0x1129;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console['log'](_0x343ff2(0x715)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x38d50a=_0x1129;if(dimTimer)clearTimeout(dimTimer);document[_0x38d50a(0x23e)]['classList'][_0x38d50a(0x6b7)](_0x38d50a(0x6b6)),dimTimer=setTimeout(()=>{const _0x3d00a0=_0x38d50a;document[_0x3d00a0(0x23e)][_0x3d00a0(0x445)][_0x3d00a0(0x874)](_0x3d00a0(0x6b6)),console[_0x3d00a0(0xa63)](_0x3d00a0(0xaae));},inactivityTime);}function stopDimTimer(){const _0x569f9b=_0x1129;if(dimTimer)clearTimeout(dimTimer);document[_0x569f9b(0x23e)][_0x569f9b(0x445)][_0x569f9b(0x6b7)](_0x569f9b(0x6b6)),window[_0x569f9b(0x3b4)](_0x569f9b(0x98a),resetDimTimer),window[_0x569f9b(0x3b4)](_0x569f9b(0x691),resetDimTimer),window[_0x569f9b(0x3b4)]('touchstart',resetDimTimer),window[_0x569f9b(0x3b4)]('keydown',resetDimTimer),console[_0x569f9b(0xa63)](_0x569f9b(0xafd));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0;async function handleStartTeamQuiz(_0x1c9815,_0x118bb5=![]){const _0x36a674=_0x1129,_0x45c43a=allQuizzes[_0x36a674(0x3fd)](_0x281f7e=>_0x281f7e['id']===_0x1c9815)||allQuizzesGlobal[_0x36a674(0x3fd)](_0x5d896c=>_0x5d896c['id']===_0x1c9815);if(!_0x45c43a){showMessage(_0x36a674(0x838));return;}currentQuizData=getShuffledQuiz(_0x45c43a);const _0x317e0d=Math[_0x36a674(0x68d)](0x3e8+Math[_0x36a674(0x309)]()*0x2328)['toString']();try{const _0x3ea965=await addDoc(collection(db,_0x36a674(0xab3)+appId+_0x36a674(0x78c)),{'quizId':_0x45c43a['id'],'projectId':_0x45c43a[_0x36a674(0x868)],'status':'lobby','pin':_0x317e0d,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x118bb5});currentTeamQuizId=_0x3ea965['id'],showView(_0x36a674(0x9ad)),renderAdminTeamQuizDashboard(_0x317e0d,_0x45c43a['topic']),listenForTeamQuizUpdates();}catch(_0xf2a387){console[_0x36a674(0x5a8)](_0x36a674(0x181),_0xf2a387),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x2e4897,_0x414396,_0x1bb65f=_0x5cd971(0x82d)){const _0x511808=_0x5cd971,_0x5999dd=_0x1bb65f==='group'?_0x511808(0xa89):_0x511808(0x4c2);liveGameView['innerHTML']=_0x511808(0x2da)+_0x5999dd+':\x20'+_0x414396+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x2e4897+_0x511808(0x3c3),document['getElementById']('end-team-quiz-btn')[_0x511808(0x1ce)](_0x511808(0x420),async()=>{const _0x44f8ef=_0x511808;showConfirmation(_0x44f8ef(0x541),async()=>{const _0x464bd7=_0x44f8ef;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x464bd7(0xab3)+appId+_0x464bd7(0x78c),currentTeamQuizId)),showView(_0x464bd7(0x237));});});}function listenForTeamQuizUpdates(){const _0x2f50c9=_0x5cd971;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x48e00a=doc(db,_0x2f50c9(0xab3)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x48e00a,_0x58ffc7=>{const _0x38533e=_0x2f50c9;if(!_0x58ffc7[_0x38533e(0x540)]()){sessionStorage[_0x38533e(0xab1)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode==='admin')showMessage(_0x38533e(0x397));showView(currentMode===_0x38533e(0x957)?_0x38533e(0x237):_0x38533e(0x17a));return;}const _0x3c0fc9=_0x58ffc7[_0x38533e(0x730)]();if(currentMode===_0x38533e(0x957)){if(_0x3c0fc9[_0x38533e(0x67b)]===_0x38533e(0xae3)&&_0x3c0fc9[_0x38533e(0x6c8)]!==_0x38533e(0x510)&&_0x3c0fc9['status']!==_0x38533e(0xa19)){const _0x259171=Object[_0x38533e(0xa88)](_0x3c0fc9[_0x38533e(0x967)]||{});if(_0x259171[_0x38533e(0x963)]>0x0){const _0x2955bd=_0x259171[_0x38533e(0x7d4)](_0x5bae9b=>_0x5bae9b['isFinished']===!![]);_0x2955bd&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x3c0fc9);}else{if(_0x3c0fc9['status']===_0x38533e(0x510)||_0x3c0fc9[_0x38533e(0x6c8)]===_0x38533e(0xa19)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x3c0fc9[_0x38533e(0x67b)]===_0x38533e(0xae3)){const _0x1573b8=_0x3c0fc9[_0x38533e(0x967)][userId];(!_0x1573b8||!_0x1573b8[_0x38533e(0x3a5)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x378c9d){const _0x2925fe=_0x5cd971;console[_0x2925fe(0xa63)](_0x2925fe(0x6d1));const _0x47529f=doc(db,_0x2925fe(0xab3)+appId+'/public/data/teamQuizzes',_0x378c9d);try{const _0x15c1f9=await getDoc(_0x47529f);if(_0x15c1f9[_0x2925fe(0x540)]()){const _0x186353=_0x15c1f9[_0x2925fe(0x730)]();_0x186353[_0x2925fe(0x3e5)]&&await saveGameResultsAsSubmissions(_0x186353);}await updateDoc(_0x47529f,{'status':_0x2925fe(0x510)});}catch(_0x2ba606){console[_0x2925fe(0x5a8)](_0x2925fe(0x368),_0x2ba606);}}function updateAdminTeamDashboard(_0x13986d){const _0x1f0594=_0x5cd971,_0x5a74e7=document[_0x1f0594(0xa59)]('team-player-status-grid');if(!_0x5a74e7)return;const _0x63c479=_0x13986d[_0x1f0594(0x67b)]||_0x1f0594(0x82d),_0x4a381d=currentQuizData['questions'][_0x1f0594(0x963)];if(_0x63c479===_0x1f0594(0xae3)){const _0x547fb=Object['values'](_0x13986d[_0x1f0594(0x967)]||{});if(_0x547fb[_0x1f0594(0x963)]===0x0){_0x5a74e7[_0x1f0594(0x43a)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x2fde81=[..._0x547fb][_0x1f0594(0x695)]((_0x2d1123,_0x434c09)=>_0x434c09[_0x1f0594(0x3e9)]-_0x2d1123[_0x1f0594(0x3e9)]),_0x4d55df=_0x2fde81[_0x1f0594(0x6e4)]((_0x11b049,_0xf3cef7)=>{const _0x4de45e=_0x1f0594,_0x449321=_0x11b049[_0x4de45e(0x89e)]?.['length']||0x0;return _0x4de45e(0x517)+(_0xf3cef7+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x11b049['members'][_0x4de45e(0x386)](',\x20')+_0x4de45e(0x8dc)+_0x449321+'/'+_0x4a381d+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x11b049[_0x4de45e(0x3e9)]+_0x4de45e(0x4b3);})['join'](''),_0xe766bd=currentQuizData[_0x1f0594(0x1e6)][_0x1f0594(0x6e4)]((_0x6bab08,_0x506c64)=>{const _0x23d2da=_0x1f0594;let _0x4c1f39=0x0,_0x117a5c=0x0;_0x547fb[_0x23d2da(0x5d5)](_0x1750f7=>{const _0x4f9781=_0x23d2da,_0x427ffd=_0x1750f7[_0x4f9781(0x89e)]?.[_0x4f9781(0x3fd)](_0x161322=>_0x161322[_0x4f9781(0x32d)]===_0x506c64);if(_0x427ffd){_0x117a5c++;if(_0x427ffd[_0x4f9781(0x8cc)])_0x4c1f39++;}});const _0x196d25=_0x117a5c>0x0&&_0x117a5c===_0x547fb['length'],_0x54a5a3=_0x196d25?'bg-green-200\x20text-green-900\x20font-bold':_0x23d2da(0x89a),_0x3a85b8=_0x196d25?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return _0x23d2da(0x17e)+_0x54a5a3+_0x23d2da(0x901)+(_0x506c64+0x1)+_0x23d2da(0xa7f)+_0x3a85b8+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x4c1f39+'/'+_0x547fb[_0x23d2da(0x963)]+'\x20กลุ่ม</p></div>';})[_0x1f0594(0x386)]('');_0x5a74e7[_0x1f0594(0x43a)]=_0x1f0594(0xa1a)+_0x4d55df+_0x1f0594(0x3f7)+_0xe766bd+_0x1f0594(0x516);return;}const _0x363fc8=_0x13986d['responses']||{},_0x5afaa2=Object[_0x1f0594(0xa57)](_0x363fc8);if(_0x5afaa2[_0x1f0594(0x963)]===0x0){_0x5a74e7[_0x1f0594(0x43a)]=_0x1f0594(0x721);return;}const _0x258da3=_0x5afaa2[_0x1f0594(0x6e4)](_0x357df2=>({'name':_0x357df2,'score':_0x363fc8[_0x357df2][_0x1f0594(0x3e9)]||0x0}))[_0x1f0594(0x695)]((_0x320c6a,_0x33b11d)=>_0x33b11d[_0x1f0594(0x3e9)]-_0x320c6a['score']),_0x447c99=_0x258da3['map'](_0x1f9465=>{const _0x5d66dd=_0x1f0594,_0x2e21d3=_0x363fc8[_0x1f9465[_0x5d66dd(0xa5e)]]?.[_0x5d66dd(0x89e)]?.[_0x5d66dd(0x963)]||0x0,_0x452466=Math['ceil'](_0x4a381d/_0x5afaa2[_0x5d66dd(0x963)]);return _0x5d66dd(0x8ab)+_0x1f9465[_0x5d66dd(0xa5e)]+_0x5d66dd(0x290)+_0x2e21d3+'/'+_0x452466+'\x20ตา)</span></span><span\x20class=\x22font-bold\x22>'+_0x1f9465[_0x5d66dd(0x3e9)]+_0x5d66dd(0x896);})[_0x1f0594(0x386)](''),_0x2236b1=_0x5afaa2[_0x1f0594(0x8db)]((_0x3f2d00,_0x4b5185)=>_0x3f2d00+(_0x363fc8[_0x4b5185][_0x1f0594(0x89e)]?.[_0x1f0594(0x963)]||0x0),0x0),_0x5137e4=currentQuizData['questions'][_0x1f0594(0x6e4)]((_0xd4d5cf,_0x321242)=>{const _0x2a72f3=_0x1f0594;let _0x4b8d84=null,_0x273503=null;for(const _0x319e00 of _0x5afaa2){const _0x400ad8=_0x363fc8[_0x319e00]['answers']?.[_0x2a72f3(0x3fd)](_0x361514=>_0x361514[_0x2a72f3(0x32d)]===_0x321242);if(_0x400ad8){_0x4b8d84=_0x400ad8,_0x273503=_0x319e00;break;}}const _0x168fda=!!_0x4b8d84,_0x4090ec=_0x168fda&&_0x4b8d84[_0x2a72f3(0x8cc)],_0x345354=(Math[_0x2a72f3(0x68d)](_0x321242/_0x5afaa2[_0x2a72f3(0x963)])+0x1)*_0x5afaa2[_0x2a72f3(0x963)],_0x164f3a=_0x2236b1>=_0x345354,_0x4e1fe1=_0x164f3a?'bg-green-200\x20text-green-900':_0x2a72f3(0x89a),_0x5aa906=_0x164f3a?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0x1be4e3=_0x2a72f3(0x46f);return _0x168fda&&(_0x1be4e3=_0x273503+_0x2a72f3(0x8ec)+(_0x4090ec?_0x2a72f3(0x69d):_0x2a72f3(0x3ae))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x4e1fe1+_0x2a72f3(0x901)+(_0x321242+0x1)+_0x2a72f3(0xa7f)+_0x5aa906+_0x2a72f3(0x7b4)+_0x1be4e3+'</p></div>';})['join']('');_0x5a74e7[_0x1f0594(0x43a)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x447c99+_0x1f0594(0x587)+_0x5137e4+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x66b90a=_0x5cd971,_0x6c994f=prompt(_0x66b90a(0x948));if(!_0x6c994f||_0x6c994f[_0x66b90a(0x56b)]()['length']!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x1764d3=collection(db,_0x66b90a(0xab3)+appId+_0x66b90a(0x78c)),_0x25c26c=query(_0x1764d3,where(_0x66b90a(0x5eb),'==',_0x6c994f[_0x66b90a(0x56b)]()),where(_0x66b90a(0x6c8),'==','lobby')),_0x3cbf9b=await getDocs(_0x25c26c);if(_0x3cbf9b[_0x66b90a(0x246)]){showMessage(_0x66b90a(0x95b));return;}const _0x491543=_0x3cbf9b[_0x66b90a(0x354)][0x0];currentTeamQuizId=_0x491543['id'];const _0x36d5fe=_0x491543[_0x66b90a(0x730)](),_0x172f8e=doc(db,_0x66b90a(0xab3)+appId+_0x66b90a(0x6d8),_0x36d5fe[_0x66b90a(0x868)]),_0x330df5=doc(db,_0x66b90a(0xab3)+appId+_0x66b90a(0xaf2),_0x36d5fe[_0x66b90a(0x5b7)]),[_0xa061fb,_0x3e7602]=await Promise['all']([getDoc(_0x172f8e),getDoc(_0x330df5)]);if(!_0xa061fb[_0x66b90a(0x540)]()||!_0x3e7602[_0x66b90a(0x540)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x3e7602['id'],..._0x3e7602[_0x66b90a(0x730)]()});const _0x100aad=_0xa061fb[_0x66b90a(0x730)]();showTeamPlayerSelection(_0x100aad['students'],currentQuizData[_0x66b90a(0xaad)]);}catch(_0x493fe6){console['error'](_0x66b90a(0x257),_0x493fe6),showMessage(_0x66b90a(0x9db)+_0x493fe6[_0x66b90a(0x1f3)]);}}async function handleJoinGroupActivity(){const _0x329dab=_0x5cd971,_0x433620=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x433620||_0x433620[_0x329dab(0x56b)]()[_0x329dab(0x963)]!==0x4){showMessage(_0x329dab(0x330));return;}const _0x455fba=_0x433620['trim']();showMessage(_0x329dab(0x270));try{const _0x1347aa=collection(db,_0x329dab(0xab3)+appId+_0x329dab(0x78c)),_0x4f02b6=query(_0x1347aa,where(_0x329dab(0x5eb),'==',_0x455fba),where('status','==',_0x329dab(0x3f2))),_0x5502b2=await getDocs(_0x4f02b6);if(!_0x5502b2['empty']){console['log'](_0x329dab(0x8be)),await proceedWithTeamQuizJoin(_0x5502b2['docs'][0x0]);return;}const _0x26a612=collection(db,'artifacts/'+appId+'/public/data/syncGames'),_0x56e785=query(_0x26a612,where(_0x329dab(0x5eb),'==',_0x455fba),where(_0x329dab(0x6c8),'==','lobby')),_0x416d40=await getDocs(_0x56e785);if(!_0x416d40[_0x329dab(0x246)]){console[_0x329dab(0xa63)](_0x329dab(0x8e6)),await proceedWithSyncQuizJoin(_0x416d40[_0x329dab(0x354)][0x0]);return;}showMessage(_0x329dab(0x484));}catch(_0x4e413e){console[_0x329dab(0x5a8)](_0x329dab(0x1de),_0x4e413e),showMessage(_0x329dab(0x3bc)+_0x4e413e[_0x329dab(0x1f3)]);}}async function proceedWithTeamQuizJoin(_0x4e82fa){const _0x3dd39a=_0x5cd971;currentTeamQuizId=_0x4e82fa['id'];const _0x51cc08=_0x4e82fa[_0x3dd39a(0x730)](),_0x2f51b4=doc(db,_0x3dd39a(0xab3)+appId+'/public/data/projects',_0x51cc08[_0x3dd39a(0x868)]),_0x268637=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x51cc08[_0x3dd39a(0x5b7)]),[_0x2bcce5,_0xc1da31]=await Promise['all']([getDoc(_0x2f51b4),getDoc(_0x268637)]);if(!_0x2bcce5[_0x3dd39a(0x540)]()||!_0xc1da31[_0x3dd39a(0x540)]())throw new Error(_0x3dd39a(0xa32));currentQuizData=getShuffledQuiz({'id':_0xc1da31['id'],..._0xc1da31[_0x3dd39a(0x730)]()}),showTeamPlayerSelection(_0x2bcce5[_0x3dd39a(0x730)]()[_0x3dd39a(0x6e3)],currentQuizData[_0x3dd39a(0xaad)],_0x51cc08['mode']||_0x3dd39a(0x82d)),messageModal['classList'][_0x3dd39a(0x874)]('hidden');}async function proceedWithSyncQuizJoin(_0x1f0900){const _0x1e59c8=_0x5cd971;currentLiveGameId=_0x1f0900['id'];const _0x3d545e=_0x1f0900['data'](),_0x1ff89f=doc(db,_0x1e59c8(0xab3)+appId+_0x1e59c8(0xaf2),_0x3d545e[_0x1e59c8(0x5b7)]),_0x56b815=await getDoc(_0x1ff89f);if(!_0x56b815[_0x1e59c8(0x540)]())throw new Error(_0x1e59c8(0x838));const _0x12a23d=_0x56b815[_0x1e59c8(0x730)](),_0x4b6de8=doc(db,_0x1e59c8(0xab3)+appId+_0x1e59c8(0x6d8),_0x12a23d[_0x1e59c8(0x868)]),_0x3b4309=await getDoc(_0x4b6de8);if(!_0x3b4309[_0x1e59c8(0x540)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x3d545e[_0x1e59c8(0x642)],showView(_0x1e59c8(0x9b4)),showTeamPlayerSelection(_0x3b4309[_0x1e59c8(0x730)]()[_0x1e59c8(0x6e3)],_0x12a23d[_0x1e59c8(0xaad)],_0x1e59c8(0x32e)),document['getElementById'](_0x1e59c8(0x7fb))['onclick']=confirmAndJoinSyncGame,messageModal[_0x1e59c8(0x445)][_0x1e59c8(0x874)](_0x1e59c8(0x318));}function showTeamPlayerSelection(_0x3056cb,_0x3f211d,_0x4b3e38=_0x5cd971(0x82d)){const _0x36310d=_0x5cd971;studentInitialView[_0x36310d(0x445)][_0x36310d(0x874)](_0x36310d(0x318)),studentJoinGameView[_0x36310d(0x445)][_0x36310d(0x874)](_0x36310d(0x318)),document['getElementById'](_0x36310d(0xa35))['classList']['remove'](_0x36310d(0x318));let _0x25d570=_0x36310d(0x4c2);if(_0x4b3e38==='group')_0x25d570=_0x36310d(0xa89);else _0x4b3e38==='sync'&&(_0x25d570='Sync\x20Mode');document[_0x36310d(0xa59)](_0x36310d(0x978))['textContent']=_0x25d570+':\x20'+_0x3f211d;const _0x2562b8=document[_0x36310d(0xa59)](_0x36310d(0x284));if(!_0x3056cb||_0x3056cb[_0x36310d(0x963)]===0x0){_0x2562b8[_0x36310d(0x43a)]=_0x36310d(0xae4),document[_0x36310d(0xa59)](_0x36310d(0x7fb))[_0x36310d(0x3cd)]=!![];return;}_0x2562b8[_0x36310d(0x43a)]=_0x3056cb[_0x36310d(0x6e4)](_0x499678=>_0x36310d(0x273)+_0x499678+_0x36310d(0x2e4)+_0x499678+_0x36310d(0xa94))['join'](''),document['getElementById'](_0x36310d(0x7fb))[_0x36310d(0x3cd)]=![];}async function confirmAndStartTeamQuiz(){const _0x36c07d=_0x5cd971,_0x490f0a=Array[_0x36c07d(0x96a)](document[_0x36c07d(0x1f8)]('input[name=\x22team_player\x22]:checked'))[_0x36c07d(0x6e4)](_0x54869a=>_0x54869a[_0x36c07d(0x630)]);if(_0x490f0a[_0x36c07d(0x963)]===0x0){showMessage(_0x36c07d(0x7eb));return;}localTeamPlayers=_0x490f0a,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x16993b=doc(db,_0x36c07d(0xab3)+appId+_0x36c07d(0x78c),currentTeamQuizId);try{const _0x48d00d=await getDoc(_0x16993b);if(!_0x48d00d[_0x36c07d(0x540)]())throw new Error(_0x36c07d(0x36f));const _0x513cb5=_0x48d00d['data']();if(_0x513cb5[_0x36c07d(0x67b)]==='group'){const _0x556886={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x16993b,_0x556886);}else{const _0x4a147e=_0x513cb5[_0x36c07d(0x55c)]||{};localTeamPlayers[_0x36c07d(0x5d5)](_0x383113=>{!_0x4a147e[_0x383113]&&(_0x4a147e[_0x383113]={'score':0x0,'answers':[]});}),await updateDoc(_0x16993b,{'responses':_0x4a147e});}document['getElementById']('student-team-selection-view')[_0x36c07d(0x445)][_0x36c07d(0x874)]('hidden'),renderTeamQuizQuestion();const _0x132fd1={'gameId':currentTeamQuizId,'mode':_0x513cb5[_0x36c07d(0x67b)]||_0x36c07d(0x82d),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x36c07d(0x8d9)](_0x36c07d(0x310),JSON[_0x36c07d(0xae0)](_0x132fd1)),listenForTeamQuizUpdates();}catch(_0x3771be){console[_0x36c07d(0x5a8)](_0x36c07d(0x762),_0x3771be),showMessage(_0x36c07d(0x7ac));}}async function renderTeamQuizQuestion(){const _0x280c7f=_0x5cd971;if(localQuestionIndex>=currentQuizData['questions'][_0x280c7f(0x963)]){displayTeamQuizFinalResults();return;}const _0x54f7f9=currentQuizData[_0x280c7f(0x1e6)][localQuestionIndex],_0x507744=localTeamPlayers[localPlayerIndex],_0x2dff34=_0x54f7f9['questionType']||currentQuizData['quizType'];let _0x375e44=_0x54f7f9[_0x280c7f(0x5ce)]||_0x54f7f9['questionText'],_0x494692='';switch(_0x2dff34){case'multiple_choice':case'fill_in_with_choices':_0x494692=_0x54f7f9[_0x280c7f(0x369)][_0x280c7f(0x6e4)]((_0x433fea,_0x42b266)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x42b266+_0x280c7f(0x939)+_0x42b266+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x42b266+'\x22>'+_0x433fea+'</label></div>')['join']('');break;case _0x280c7f(0x8fe):_0x494692=_0x280c7f(0x316);break;case _0x280c7f(0x536):case _0x280c7f(0x732):_0x494692=_0x280c7f(0x26a);break;case _0x280c7f(0x845):_0x494692='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x54f7f9['allResponses']['map'](_0x4cb2ca=>'<option\x20value=\x22'+_0x4cb2ca+'\x22>'+_0x4cb2ca+_0x280c7f(0x51b))['join']('')+_0x280c7f(0x69f);break;default:_0x494692=_0x280c7f(0x4d8);break;}studentQuizArea['innerHTML']=_0x280c7f(0x1bc)+(localQuestionIndex+0x1)+_0x280c7f(0x288)+currentQuizData[_0x280c7f(0x1e6)][_0x280c7f(0x963)]+_0x280c7f(0x22a)+_0x507744+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x375e44+_0x280c7f(0x4fe)+(_0x54f7f9['imageCode']?_0x280c7f(0x698)+_0x54f7f9['imageCode']+'</div>':'')+_0x280c7f(0x796)+_0x494692+_0x280c7f(0x800),studentQuizArea[_0x280c7f(0x445)][_0x280c7f(0x6b7)](_0x280c7f(0x318));if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0x280c7f(0x7cb))[_0x280c7f(0x1ce)](_0x280c7f(0x420),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x1c2293=_0x5cd971,_0x10402b=currentQuizData[_0x1c2293(0x1e6)][localQuestionIndex],_0x3a1d6f=_0x10402b['questionType']||currentQuizData[_0x1c2293(0x42e)];let _0x26b2b1=null,_0x4c13a4=![];if(_0x3a1d6f===_0x1c2293(0x536)||_0x3a1d6f===_0x1c2293(0x732)){const _0xc11c93=document['querySelector'](_0x1c2293(0x7c2));if(!_0xc11c93||!_0xc11c93[_0x1c2293(0x630)]['trim']()){showMessage(_0x1c2293(0x1f4));return;}_0x26b2b1=_0xc11c93['value'][_0x1c2293(0x56b)](),_0x4c13a4=await gradeShortAnswer(_0x26b2b1,_0x10402b);}else{const _0x4f2089=document[_0x1c2293(0x5b4)](_0x1c2293(0x360));if(!_0x4f2089||_0x4f2089[_0x1c2293(0x630)]===''){showMessage(_0x1c2293(0x720));return;}_0x26b2b1=_0x4f2089[_0x1c2293(0x630)];switch(_0x3a1d6f){case _0x1c2293(0x8fe):_0x4c13a4=_0x26b2b1===_0x1c2293(0x870)===_0x10402b[_0x1c2293(0x276)];break;case'matching_item':_0x4c13a4=_0x26b2b1===_0x10402b['correctResponse'];break;default:_0x4c13a4=parseInt(_0x26b2b1)===_0x10402b[_0x1c2293(0x501)];break;}}const _0x27c90a={'questionIndex':localQuestionIndex,'isCorrect':_0x4c13a4},_0xca5d20=userId,_0x3909f8={['groups.'+_0xca5d20+_0x1c2293(0x47a)]:arrayUnion(_0x27c90a)};_0x4c13a4&&(_0x3909f8[_0x1c2293(0x32c)+_0xca5d20+_0x1c2293(0x3bf)]=increment(0x1));try{await updateDoc(doc(db,_0x1c2293(0xab3)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x3909f8),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x1c2293(0x1e6)][_0x1c2293(0x963)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0xcb7aba){console['error'](_0x1c2293(0xa18),_0xcb7aba),showMessage(_0x1c2293(0x54f));}}async function handleTeamAnswerSubmit(){const _0x44d1af=_0x5cd971,_0xc4f72a=await getDoc(doc(db,_0x44d1af(0xab3)+appId+_0x44d1af(0x78c),currentTeamQuizId));if(!_0xc4f72a['exists']())return;const _0x16d6e9=_0xc4f72a[_0x44d1af(0x730)]();if(_0x16d6e9[_0x44d1af(0x67b)]===_0x44d1af(0xae3)){handleGroupAnswerSubmit();return;}const _0x2322da=localTeamPlayers[localPlayerIndex],_0x251ed0=currentQuizData[_0x44d1af(0x1e6)][localQuestionIndex],_0x15af9e=_0x251ed0[_0x44d1af(0x969)]||currentQuizData[_0x44d1af(0x42e)];let _0x594c6f=null,_0x460612=![];if(_0x15af9e===_0x44d1af(0x536)||_0x15af9e===_0x44d1af(0x732)){const _0x8aebe5=document['querySelector'](_0x44d1af(0x7c2));if(!_0x8aebe5||!_0x8aebe5[_0x44d1af(0x630)][_0x44d1af(0x56b)]()){showMessage(_0x44d1af(0x959));return;}_0x594c6f=_0x8aebe5[_0x44d1af(0x630)][_0x44d1af(0x56b)](),_0x460612=await gradeShortAnswer(_0x594c6f,_0x251ed0);}else{const _0x5b9f18=document[_0x44d1af(0x5b4)](_0x44d1af(0x360));if(!_0x5b9f18||_0x5b9f18[_0x44d1af(0x630)]===''){showMessage(_0x44d1af(0x38d));return;}_0x594c6f=_0x5b9f18['value'];switch(_0x15af9e){case _0x44d1af(0x8fe):_0x460612=_0x594c6f==='true'===_0x251ed0['correctAnswer'];break;case'matching_item':_0x460612=_0x594c6f===_0x251ed0[_0x44d1af(0x4ae)];break;default:_0x460612=parseInt(_0x594c6f)===_0x251ed0[_0x44d1af(0x501)];break;}}const _0xaa447b={'questionIndex':localQuestionIndex,'isCorrect':_0x460612,'answerValue':_0x594c6f},_0x307a82={['responses.'+_0x2322da+_0x44d1af(0x47a)]:arrayUnion(_0xaa447b)};_0x460612&&(_0x307a82[_0x44d1af(0x7b0)+_0x2322da+_0x44d1af(0x3bf)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x307a82),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x44d1af(0x963)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x42f6b3){console[_0x44d1af(0x5a8)](_0x44d1af(0x392),_0x42f6b3),showMessage(_0x44d1af(0x54f));}}async function displayTeamQuizFinalResults(){const _0x5e2308=_0x5cd971;studentQuizArea['classList'][_0x5e2308(0x874)](_0x5e2308(0x318)),studentResultArea[_0x5e2308(0x445)]['remove'](_0x5e2308(0x318));const _0x47fefd=doc(db,'artifacts/'+appId+_0x5e2308(0x78c),currentTeamQuizId),_0x5389ab=await getDoc(_0x47fefd);if(!_0x5389ab['exists']()){studentResultArea[_0x5e2308(0x43a)]=_0x5e2308(0x739);return;}const _0x18ddfd=_0x5389ab['data']();let _0x51008c=[];const _0x1e5e64=_0x18ddfd[_0x5e2308(0x67b)]||_0x5e2308(0x82d);if(_0x1e5e64==='group'){const _0x554703=_0x18ddfd['groups'][userId];_0x554703?_0x51008c=[{'name':_0x5e2308(0xa93)+localTeamPlayers[_0x5e2308(0x386)](',\x20'),'score':_0x554703['score']||0x0}]:_0x51008c=[{'name':_0x5e2308(0x446),'score':_0x5e2308(0x6c2)}];}else _0x51008c=localTeamPlayers['map'](_0x504b40=>({'name':_0x504b40,'score':_0x18ddfd[_0x5e2308(0x55c)][_0x504b40]?.[_0x5e2308(0x3e9)]||0x0}))[_0x5e2308(0x695)]((_0x1b8ae7,_0x4d98eb)=>_0x4d98eb[_0x5e2308(0x3e9)]-_0x1b8ae7['score']);studentResultArea[_0x5e2308(0x43a)]=_0x5e2308(0x400)+_0x51008c['map'](_0x5ab672=>_0x5e2308(0x355)+_0x5ab672[_0x5e2308(0xa5e)]+_0x5e2308(0x3da)+_0x5ab672['score']+_0x5e2308(0xaca))[_0x5e2308(0x386)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x5e2308(0xab1)](_0x5e2308(0x310)),currentMode===_0x5e2308(0x957)&&currentTeamQuizId&&setTimeout(()=>{const _0x112d10=_0x5e2308;deleteDoc(doc(db,_0x112d10(0xab3)+appId+_0x112d10(0x78c),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;function _0x1129(_0x562d60,_0x29cccc){const _0x3d48f7=_0x3d48();return _0x1129=function(_0x1129d5,_0x4d58ef){_0x1129d5=_0x1129d5-0x16b;let _0x15450c=_0x3d48f7[_0x1129d5];return _0x15450c;},_0x1129(_0x562d60,_0x29cccc);}let isQuizActive=![],globalDashboardSettings={'projectSort':_0x5cd971(0x48c),'pinnedProjects':[],'projectView':_0x5cd971(0x229)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x5cd971(0x415)},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x9eb)},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0xaa9)},{'category':_0x5cd971(0x47b),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x5cd971(0x47b),'name':'การบวก'},{'category':_0x5cd971(0x47b),'name':'การลบ'},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x84f)},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x335)},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0xa0e)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มลบ'},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x4f6)},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x7c5)},{'category':_0x5cd971(0x47b),'name':'เส้นจำนวน'},{'category':_0x5cd971(0x47b),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x5cd971(0x47b),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x5cd971(0x47b),'name':'ค.ร.น.\x20(LCM)'},{'category':_0x5cd971(0x47b),'name':'อัตราส่วนและสัดส่วน'},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x9d6)},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x794)},{'category':'จำนวนและการดำเนินการ','name':_0x5cd971(0x4db)},{'category':_0x5cd971(0x47b),'name':'การลบเศษส่วน'},{'category':_0x5cd971(0x47b),'name':'การคูณเศษส่วน'},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x890)},{'category':_0x5cd971(0x47b),'name':'จำนวนคละ'},{'category':_0x5cd971(0x47b),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x8eb)},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x888)},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x48f)},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x70e)},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x5fe)},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x873)},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x208)},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x482)},{'category':_0x5cd971(0x47b),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x46e)},{'category':'จำนวนและการดำเนินการ','name':_0x5cd971(0x3ce)},{'category':_0x5cd971(0x47b),'name':_0x5cd971(0x18c)},{'category':'การวัด','name':_0x5cd971(0x2f0)},{'category':_0x5cd971(0x3e4),'name':_0x5cd971(0x734)},{'category':_0x5cd971(0x3e4),'name':_0x5cd971(0x53f)},{'category':'การวัด','name':_0x5cd971(0x2e3)},{'category':_0x5cd971(0x3e4),'name':_0x5cd971(0x56c)},{'category':'การวัด','name':'เส้นรอบรูป'},{'category':'การวัด','name':_0x5cd971(0x86d)},{'category':_0x5cd971(0x3e4),'name':_0x5cd971(0x85b)},{'category':_0x5cd971(0x3e4),'name':_0x5cd971(0x1f2)},{'category':_0x5cd971(0x3e4),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x5cd971(0x3e4),'name':_0x5cd971(0x224)},{'category':_0x5cd971(0x3e4),'name':_0x5cd971(0xa9a)},{'category':_0x5cd971(0x3e4),'name':_0x5cd971(0x1ac)},{'category':_0x5cd971(0x3e4),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x5cd971(0x521),'name':_0x5cd971(0x197)},{'category':'เรขาคณิต','name':_0x5cd971(0x2cd)},{'category':_0x5cd971(0x521),'name':_0x5cd971(0x9b1)},{'category':'เรขาคณิต','name':'พื้นที่สามเหลี่ยม'},{'category':'เรขาคณิต','name':_0x5cd971(0x98c)},{'category':_0x5cd971(0x521),'name':_0x5cd971(0x846)},{'category':'เรขาคณิต','name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x5cd971(0x521),'name':_0x5cd971(0x6a6)},{'category':_0x5cd971(0x521),'name':_0x5cd971(0x863)},{'category':_0x5cd971(0x521),'name':_0x5cd971(0xadc)},{'category':'เรขาคณิต','name':_0x5cd971(0x80f)},{'category':_0x5cd971(0x521),'name':_0x5cd971(0x398)},{'category':_0x5cd971(0x521),'name':_0x5cd971(0x72c)},{'category':'เรขาคณิต','name':_0x5cd971(0x542)},{'category':_0x5cd971(0x521),'name':_0x5cd971(0xad6)},{'category':_0x5cd971(0x26b),'name':'ตัวแปรและนิพจน์'},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0x85e)},{'category':_0x5cd971(0x26b),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x5cd971(0x26b),'name':'การแยกตัวประกอบ'},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0x16d)},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5cd971(0x96b)},{'category':_0x5cd971(0x26b),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0x2fd)},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0x4f4)},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0x1da)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5cd971(0x382)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5cd971(0x662)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5cd971(0x577)},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0x346)},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0x650)},{'category':_0x5cd971(0x26b),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0x1d5)},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0x497)},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0x7e1)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5cd971(0x8b1)},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0x899)},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0xa70)},{'category':_0x5cd971(0x26b),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0x908)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x5cd971(0x26b),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x5cd971(0x26b),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0x6ea)},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0x706)},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0x784)},{'category':_0x5cd971(0x26b),'name':_0x5cd971(0xa7c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5cd971(0x9f5)},{'category':_0x5cd971(0x877),'name':_0x5cd971(0x3b8)},{'category':_0x5cd971(0x877),'name':_0x5cd971(0x30b)},{'category':_0x5cd971(0x877),'name':_0x5cd971(0x808)},{'category':_0x5cd971(0x877),'name':_0x5cd971(0x5ec)},{'category':_0x5cd971(0x877),'name':_0x5cd971(0x869)},{'category':_0x5cd971(0x877),'name':_0x5cd971(0x4ad)},{'category':_0x5cd971(0x877),'name':_0x5cd971(0x7d8)},{'category':_0x5cd971(0x877),'name':_0x5cd971(0x305)},{'category':_0x5cd971(0x877),'name':_0x5cd971(0x594)},{'category':_0x5cd971(0x7d0),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x5cd971(0x7d0),'name':_0x5cd971(0x2b2)},{'category':_0x5cd971(0x7d0),'name':_0x5cd971(0x402)},{'category':_0x5cd971(0x7d0),'name':_0x5cd971(0x414)},{'category':'ตรีโกณมิติ','name':_0x5cd971(0xad1)},{'category':_0x5cd971(0x7d0),'name':_0x5cd971(0x6a2)},{'category':_0x5cd971(0x7d0),'name':_0x5cd971(0x3c5)},{'category':_0x5cd971(0x7d0),'name':_0x5cd971(0x342)},{'category':_0x5cd971(0x7d0),'name':_0x5cd971(0x4e7)},{'category':'ตรีโกณมิติ','name':_0x5cd971(0x6dd)},{'category':_0x5cd971(0x7d0),'name':_0x5cd971(0x468)},{'category':'สถิติและความน่าจะเป็น','name':_0x5cd971(0x8ff)},{'category':_0x5cd971(0x3ab),'name':_0x5cd971(0x855)},{'category':_0x5cd971(0x3ab),'name':_0x5cd971(0x78e)},{'category':_0x5cd971(0x3ab),'name':_0x5cd971(0x5b9)},{'category':_0x5cd971(0x3ab),'name':_0x5cd971(0x16c)},{'category':_0x5cd971(0x3ab),'name':_0x5cd971(0x990)},{'category':_0x5cd971(0x3ab),'name':_0x5cd971(0x87b)},{'category':_0x5cd971(0x3ab),'name':'มัธยฐาน'},{'category':_0x5cd971(0x3ab),'name':_0x5cd971(0x90a)},{'category':_0x5cd971(0x3ab),'name':_0x5cd971(0x79b)},{'category':_0x5cd971(0x3ab),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x5cd971(0x3ab),'name':'ความแปรปรวน'},{'category':'สถิติและความน่าจะเป็น','name':_0x5cd971(0x60e)},{'category':_0x5cd971(0x3ab),'name':_0x5cd971(0x98b)},{'category':_0x5cd971(0x3ab),'name':_0x5cd971(0x27c)},{'category':_0x5cd971(0x3ab),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':_0x5cd971(0x63a)},{'category':_0x5cd971(0x3ab),'name':_0x5cd971(0x59c)},{'category':_0x5cd971(0x3ab),'name':_0x5cd971(0x912)},{'category':'สถิติและความน่าจะเป็น','name':_0x5cd971(0x7a9)},{'category':_0x5cd971(0x3ab),'name':_0x5cd971(0x8f5)},{'category':_0x5cd971(0x3ab),'name':'การจัดหมู่\x20(Combination)'},{'category':_0x5cd971(0x3ab),'name':_0x5cd971(0x8cf)},{'category':'สถิติและความน่าจะเป็น','name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x5cd971(0x94d),'name':_0x5cd971(0x6f2)},{'category':_0x5cd971(0x94d),'name':'ความต่อเนื่อง'},{'category':_0x5cd971(0x94d),'name':_0x5cd971(0x6b2)},{'category':_0x5cd971(0x94d),'name':_0x5cd971(0x228)},{'category':_0x5cd971(0x94d),'name':_0x5cd971(0x5f3)},{'category':_0x5cd971(0x94d),'name':_0x5cd971(0x2e1)},{'category':_0x5cd971(0x94d),'name':_0x5cd971(0xa09)},{'category':_0x5cd971(0x94d),'name':_0x5cd971(0x661)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5cd971(0xa10)},{'category':_0x5cd971(0x94d),'name':'ปริพันธ์ไม่จำกัด'},{'category':_0x5cd971(0x94d),'name':'ปริพันธ์จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':'แคลคูลัสเบื้องต้น','name':_0x5cd971(0x629)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x5cd971(0x8c1)},{'category':_0x5cd971(0x327),'name':_0x5cd971(0x758)},{'category':_0x5cd971(0x327),'name':_0x5cd971(0x425)},{'category':_0x5cd971(0x327),'name':_0x5cd971(0x773)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x5cd971(0x94e)},{'category':_0x5cd971(0x327),'name':_0x5cd971(0x410)},{'category':_0x5cd971(0x327),'name':_0x5cd971(0x76f)},{'category':_0x5cd971(0x2ff),'name':_0x5cd971(0x26d)},{'category':_0x5cd971(0x2ff),'name':'ดอกเบี้ยทบต้น'},{'category':'คณิตการเงิน/บูรณาการ','name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x5cd971(0x2ff),'name':_0x5cd971(0x7c3)},{'category':_0x5cd971(0x2ff),'name':_0x5cd971(0x665)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x5cd971(0x826)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'รูปแบบการให้เหตุผล'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x46c429=_0x5cd971,_0x2e25e0=document[_0x46c429(0xa59)](_0x46c429(0x252));if(!_0x2e25e0)return;const _0x12dd66=allMathTopics,_0x486ddb=customMathTopics[_0x46c429(0x6e4)](_0x5b387b=>({'id':_0x5b387b['id'],'category':_0x46c429(0x52d),'name':_0x5b387b[_0x46c429(0xa5e)]})),_0x16904d=[..._0x12dd66,..._0x486ddb],_0x4a67b1=_0x16904d[_0x46c429(0x8db)]((_0x28e994,_0x4bbde5)=>{const _0x43e371=_0x46c429;return!_0x28e994[_0x4bbde5[_0x43e371(0x44d)]]&&(_0x28e994[_0x4bbde5[_0x43e371(0x44d)]]=[]),_0x28e994[_0x4bbde5[_0x43e371(0x44d)]]['push'](_0x4bbde5),_0x28e994;},{});let _0x2a1a26='';const _0x3c8979=['หัวข้อที่สร้างเอง',...Object[_0x46c429(0xa57)](_0x4a67b1)['filter'](_0x615c9b=>_0x615c9b!==_0x46c429(0x52d))];for(const _0x29b271 of _0x3c8979){if(_0x4a67b1[_0x29b271]){const _0x281c9e=_0x29b271===_0x46c429(0x52d),_0x35c3f4=_0x281c9e?'fas\x20fa-user-edit':_0x46c429(0x6c1),_0x384c2a=_0x281c9e?_0x46c429(0x23b):'text-indigo-700';_0x2a1a26+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x2a1a26+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x384c2a+_0x46c429(0x44a)+_0x35c3f4+_0x46c429(0x943)+_0x29b271+_0x46c429(0xae8),_0x4a67b1[_0x29b271][_0x46c429(0x5d5)](_0xf29b48=>{const _0x2833ca=_0x46c429,_0x3dc7b7=!!_0xf29b48['id'],_0x40001c=_0x3dc7b7?_0x2833ca(0x3bd)+_0xf29b48['id']+_0x2833ca(0x6aa)+_0xf29b48['id']+_0x2833ca(0x1a0)+_0xf29b48['id']+_0x2833ca(0xac9)+_0xf29b48['id']+_0x2833ca(0x6fe):'';_0x2a1a26+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0xf29b48['id']||'')+_0x2833ca(0x8b6)+_0xf29b48['name']+_0x2833ca(0x2a8)+_0xf29b48[_0x2833ca(0xa5e)]+_0x2833ca(0x5a9)+(_0x3dc7b7?_0x2833ca(0x64b)+_0xf29b48[_0x2833ca(0xa5e)]+'\x22>':'')+_0x2833ca(0x583)+_0x40001c+_0x2833ca(0x31d);}),_0x2a1a26+='</div>';}}_0x2e25e0['innerHTML']=_0x2a1a26||_0x46c429(0x6bc),_0x2e25e0['removeEventListener'](_0x46c429(0x562),updateSelectedTopicsCount),_0x2e25e0[_0x46c429(0x1ce)](_0x46c429(0x562),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x331118,_0x2fdcd8){const _0x21ad85=_0x5cd971;if(!_0x331118||!_0x2fdcd8[_0x21ad85(0x56b)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x59d147=doc(db,'artifacts/'+appId+_0x21ad85(0xa27),_0x331118);await updateDoc(_0x59d147,{'name':_0x2fdcd8[_0x21ad85(0x56b)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x53d871){console[_0x21ad85(0x5a8)](_0x21ad85(0x334),_0x53d871),showMessage(_0x21ad85(0x5bc));}}function toggleTopicEditMode(_0x2eeb06,_0x377f19){const _0x55c0be=_0x5cd971;if(!_0x2eeb06)return;const _0x1dfca4=_0x2eeb06['querySelector'](_0x55c0be(0xaa4)),_0x4a506b=_0x2eeb06[_0x55c0be(0x5b4)](_0x55c0be(0xa80)),_0x3bd911=_0x2eeb06[_0x55c0be(0x5b4)]('.topic-actions-view'),_0x13b079=_0x2eeb06['querySelector'](_0x55c0be(0x8c9));_0x1dfca4[_0x55c0be(0x445)][_0x55c0be(0x367)](_0x55c0be(0x318),_0x377f19),_0x4a506b['classList'][_0x55c0be(0x367)](_0x55c0be(0x318),!_0x377f19),_0x3bd911['classList'][_0x55c0be(0x367)](_0x55c0be(0x318),_0x377f19),_0x13b079['classList'][_0x55c0be(0x367)](_0x55c0be(0x318),!_0x377f19),_0x377f19&&(_0x4a506b[_0x55c0be(0x35a)](),_0x4a506b['select']());}async function handleStartLiveRace(_0x56df1e){const _0x2f9064=_0x5cd971;let _0xb48c34=allQuizzes[_0x2f9064(0x3fd)](_0x4e8b80=>_0x4e8b80['id']===_0x56df1e);if(!_0xb48c34){const _0xf47a0e=doc(db,_0x2f9064(0xab3)+appId+_0x2f9064(0xaf2),_0x56df1e),_0x5b30b5=await getDoc(_0xf47a0e);if(!_0x5b30b5[_0x2f9064(0x540)]()){showMessage(_0x2f9064(0x838));return;}_0xb48c34={'id':_0x5b30b5['id'],..._0x5b30b5[_0x2f9064(0x730)]()};}const _0x37fe33=getShuffledQuiz(_0xb48c34);currentQuizData=_0x37fe33;const _0x9fc4b9=_0xb48c34[_0x2f9064(0x868)]||currentProjectId||null,_0x1af06a=Math[_0x2f9064(0x68d)](0x3e8+Math[_0x2f9064(0x309)]()*0x2328)[_0x2f9064(0x5ea)]();currentLiveGamePin=_0x1af06a;try{const _0x457ee4=await addDoc(collection(db,_0x2f9064(0xab3)+appId+'/public/data/liveGames'),{'quizId':_0x56df1e,'projectId':_0x9fc4b9,'status':_0x2f9064(0x3f2),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x1af06a,'createdAt':serverTimestamp(),'shuffledQuiz':_0x37fe33});currentLiveGameId=_0x457ee4['id'],showAdminLobbyView(_0x1af06a,_0xb48c34[_0x2f9064(0xaad)]),listenForLiveGameUpdates();}catch(_0x2aa25a){console['error'](_0x2f9064(0x97d),_0x2aa25a),showMessage(_0x2f9064(0x96c));}}function updateSelectedTopicsCount(){const _0x11d3ae=_0x5cd971,_0x1bca0e=document[_0x11d3ae(0xa59)](_0x11d3ae(0x252)),_0x2938bb=_0x1bca0e[_0x11d3ae(0x1f8)](_0x11d3ae(0x25c))[_0x11d3ae(0x963)],_0xbebc7a=document[_0x11d3ae(0xa59)](_0x11d3ae(0x743));_0x2938bb>0x0?_0xbebc7a[_0x11d3ae(0x2e0)]=_0x11d3ae(0x26f)+_0x2938bb+'\x20หัวข้อ)':_0xbebc7a['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x5cd971(0x17a),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x5cd971(0x42b),quizLeaderboardSortOrder=_0x5cd971(0x9ea),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x5cd971(0x34e),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x5cd971(0x7f6),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x2a1e8e,_0x4d8653){const _0x5d0d7d=_0x5cd971;return Math[_0x5d0d7d(0x66f)](Math[_0x5d0d7d(0x7a4)](_0x2a1e8e['x']-_0x4d8653['x'],0x2)+Math[_0x5d0d7d(0x7a4)](_0x2a1e8e['y']-_0x4d8653['y'],0x2));}function getMidpoint(_0x512ae6,_0x34a385){return{'x':(_0x512ae6['x']+_0x34a385['x'])/0x2,'y':(_0x512ae6['y']+_0x34a385['y'])/0x2};}function getTransformedPoint(_0x29d27d,_0x4c3d7a){return{'x':(_0x29d27d-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4c3d7a-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x554b2f=_0x5cd971;if(!scratchpadCtx)return;const _0x5f1246=scratchpadCtx['canvas'],_0x15cf5a=window[_0x554b2f(0x223)]||0x1,_0x9773ee=document[_0x554b2f(0xa59)](_0x554b2f(0x193));_0x9773ee&&(_0x9773ee[_0x554b2f(0x588)]['transformOrigin']=_0x554b2f(0x51c),_0x9773ee[_0x554b2f(0x588)][_0x554b2f(0x337)]='translate('+scratchpadOffset['x']+_0x554b2f(0x487)+scratchpadOffset['y']+_0x554b2f(0x1fa)+scratchpadScale+')'),scratchpadCtx[_0x554b2f(0x88b)](),scratchpadCtx[_0x554b2f(0x8e0)](_0x15cf5a,0x0,0x0,_0x15cf5a,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x5f1246[_0x554b2f(0x523)],_0x5f1246[_0x554b2f(0x898)]),scratchpadCtx['restore'](),scratchpadCtx[_0x554b2f(0x88b)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x554b2f(0x447)](scratchpadScale,scratchpadScale),strokes[_0x554b2f(0x5d5)](_0x442ff1=>{drawStroke(_0x442ff1);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x554b2f(0xab2)]();}function renderGroupModeQuestion(){const _0x3c7916=_0x5cd971;if(localQuestionIndex>=currentQuizData['questions'][_0x3c7916(0x963)]){displayTeamQuizFinalResults();return;}const _0x58d1f5=currentQuizData[_0x3c7916(0x1e6)][localQuestionIndex],_0x48ab9e=_0x58d1f5[_0x3c7916(0x969)]||currentQuizData[_0x3c7916(0x42e)];let _0x423958=_0x58d1f5[_0x3c7916(0x5ce)]||_0x58d1f5[_0x3c7916(0x2a7)],_0x548a49='';switch(_0x48ab9e){case _0x3c7916(0xa76):case'fill_in_with_choices':_0x548a49=_0x58d1f5[_0x3c7916(0x369)]['map']((_0x4afc78,_0x1de065)=>_0x3c7916(0x69c)+_0x1de065+_0x3c7916(0x939)+_0x1de065+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x1de065+'\x22>'+_0x4afc78+_0x3c7916(0x240))['join']('');break;case'true_false':_0x548a49=_0x3c7916(0x316);break;case _0x3c7916(0x536):case'fill_in_no_choices':_0x548a49=_0x3c7916(0x8bd);break;case _0x3c7916(0x845):_0x548a49=_0x3c7916(0xa9f)+_0x58d1f5[_0x3c7916(0x70c)][_0x3c7916(0x6e4)](_0xa23338=>_0x3c7916(0x99f)+_0xa23338+'\x22>'+_0xa23338+'</option>')['join']('')+_0x3c7916(0x69f);break;default:_0x548a49=_0x3c7916(0x4d8);break;}studentQuizArea[_0x3c7916(0x43a)]=_0x3c7916(0x1bc)+(localQuestionIndex+0x1)+_0x3c7916(0x288)+currentQuizData[_0x3c7916(0x1e6)][_0x3c7916(0x963)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers[_0x3c7916(0x386)](',\x20')+_0x3c7916(0x9ed)+(localQuestionIndex+0x1)+'.\x20'+_0x423958+_0x3c7916(0x4fe)+(_0x58d1f5['imageCode']?_0x3c7916(0x698)+_0x58d1f5['imageCode']+_0x3c7916(0x552):'')+_0x3c7916(0x796)+_0x548a49+_0x3c7916(0x6e1),studentQuizArea[_0x3c7916(0x445)][_0x3c7916(0x6b7)](_0x3c7916(0x318));if(window[_0x3c7916(0x28d)])MathJax['typesetPromise']([studentQuizArea]);document[_0x3c7916(0xa59)](_0x3c7916(0x9c0))['addEventListener']('click',handleGroupAnswerSubmit);}function handlePointerDown(_0x11906c){const _0x23fa8d=_0x5cd971;_0x11906c['preventDefault']();const _0x41cc40=scratchpadCtx[_0x23fa8d(0x311)],_0x41159=_0x41cc40[_0x23fa8d(0x96f)](),_0x17fe76=_0x11906c['pointerType']||(_0x11906c[_0x23fa8d(0x4ff)]?'touch':_0x23fa8d(0x4d0));if(_0x17fe76===_0x23fa8d(0x7de)||_0x17fe76==='mouse'){if(_0x11906c[_0x23fa8d(0x340)]==='mouse'&&_0x11906c[_0x23fa8d(0x336)]!==0x0){_0x11906c[_0x23fa8d(0x336)]===0x1&&(isMousePanning=!![],panStart={'x':_0x11906c[_0x23fa8d(0x48e)],'y':_0x11906c[_0x23fa8d(0x66c)]},_0x41cc40[_0x23fa8d(0x588)]['cursor']=_0x23fa8d(0x8b2));return;}activeTool===_0x23fa8d(0x312)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x404e20=getTransformedPoint(_0x11906c[_0x23fa8d(0x48e)]-_0x41159['left'],_0x11906c[_0x23fa8d(0x66c)]-_0x41159[_0x23fa8d(0x422)]);let _0x41b2e9={'tool':activeTool,'points':[_0x404e20]};if(activeTool==='highlighter')_0x41b2e9[_0x23fa8d(0x526)]=scratchpadHighlighterColor,_0x41b2e9['size']=scratchpadHighlighterSize;else activeTool===_0x23fa8d(0x312)?(_0x41b2e9['color']=scratchpadPenColor,_0x41b2e9[_0x23fa8d(0x2b4)]=scratchpadPenSize):(_0x41b2e9['color']=scratchpadPenColor,_0x41b2e9[_0x23fa8d(0x2b4)]=scratchpadPenSize);currentStroke=_0x41b2e9;}else _0x11906c[_0x23fa8d(0x4ff)]&&(_0x11906c[_0x23fa8d(0x4ff)][_0x23fa8d(0x963)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x11906c[_0x23fa8d(0x4ff)][0x0][_0x23fa8d(0x48e)],'y':_0x11906c[_0x23fa8d(0x4ff)][0x0][_0x23fa8d(0x66c)]},{'x':_0x11906c[_0x23fa8d(0x4ff)][0x1][_0x23fa8d(0x48e)],'y':_0x11906c[_0x23fa8d(0x4ff)][0x1][_0x23fa8d(0x66c)]}),initialPinchDistance=getDistance({'x':_0x11906c[_0x23fa8d(0x4ff)][0x0][_0x23fa8d(0x48e)],'y':_0x11906c[_0x23fa8d(0x4ff)][0x0][_0x23fa8d(0x66c)]},{'x':_0x11906c[_0x23fa8d(0x4ff)][0x1][_0x23fa8d(0x48e)],'y':_0x11906c[_0x23fa8d(0x4ff)][0x1][_0x23fa8d(0x66c)]})));}function animateTrail(){const _0x424860=_0x5cd971,_0x506ecf=Date['now']();let _0x1f8ec7=![];for(let _0x564985=strokes['length']-0x1;_0x564985>=0x0;_0x564985--){const _0x3e3821=strokes[_0x564985];if(_0x3e3821[_0x424860(0x19d)]===_0x424860(0x312)&&_0x3e3821[_0x424860(0xad5)]){const _0x3e7338=_0x506ecf-_0x3e3821[_0x424860(0xad5)];_0x3e7338>=TRAIL_DURATION?strokes['splice'](_0x564985,0x1):(_0x3e3821['opacity']=0x1-_0x3e7338/TRAIL_DURATION,_0x1f8ec7=!![]);}}redrawScratchpad(),_0x1f8ec7?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x4bd5b4){const _0x578a2d=_0x5cd971;if(!_0x4bd5b4||_0x4bd5b4[_0x578a2d(0x9cb)][_0x578a2d(0x963)]<0x1)return;scratchpadCtx[_0x578a2d(0x88b)](),scratchpadCtx[_0x578a2d(0x85a)]='round',scratchpadCtx[_0x578a2d(0x980)]=_0x578a2d(0x534);if(_0x4bd5b4[_0x578a2d(0x19d)]===_0x578a2d(0x312)){const _0x1f827d=_0x4bd5b4['size']/scratchpadScale;scratchpadCtx['globalAlpha']=_0x4bd5b4[_0x578a2d(0xa82)]??0x1,scratchpadCtx[_0x578a2d(0x7f2)]=_0x578a2d(0x4df),scratchpadCtx[_0x578a2d(0x4a3)]=_0x1f827d*0x3,scratchpadCtx['strokeStyle']=_0x578a2d(0x674),scratchpadCtx[_0x578a2d(0x925)]=_0x1f827d*2.5,scratchpadCtx[_0x578a2d(0x3d0)](),scratchpadCtx['moveTo'](_0x4bd5b4[_0x578a2d(0x9cb)][0x0]['x'],_0x4bd5b4[_0x578a2d(0x9cb)][0x0]['y']);for(let _0x41c1a8=0x1;_0x41c1a8<_0x4bd5b4['points']['length']-0x1;_0x41c1a8++){const _0x3c5922=getMidpoint(_0x4bd5b4['points'][_0x41c1a8],_0x4bd5b4[_0x578a2d(0x9cb)][_0x41c1a8+0x1]);scratchpadCtx[_0x578a2d(0x728)](_0x4bd5b4['points'][_0x41c1a8]['x'],_0x4bd5b4['points'][_0x41c1a8]['y'],_0x3c5922['x'],_0x3c5922['y']);}scratchpadCtx[_0x578a2d(0x201)](),scratchpadCtx['shadowColor']='transparent',scratchpadCtx[_0x578a2d(0x4a3)]=0x0,scratchpadCtx[_0x578a2d(0x555)]='#FFFFFF',scratchpadCtx[_0x578a2d(0x925)]=_0x1f827d,scratchpadCtx[_0x578a2d(0x201)](),scratchpadCtx[_0x578a2d(0x5a0)]();}else{if(_0x4bd5b4[_0x578a2d(0x19d)]==='highlighter'){scratchpadCtx[_0x578a2d(0x37f)]=_0x578a2d(0x2bf),scratchpadCtx['strokeStyle']=_0x4bd5b4['color'],scratchpadCtx[_0x578a2d(0x925)]=_0x4bd5b4[_0x578a2d(0x2b4)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x578a2d(0x8f2)](_0x4bd5b4[_0x578a2d(0x9cb)][0x0]['x'],_0x4bd5b4[_0x578a2d(0x9cb)][0x0]['y']);for(let _0x32a152=0x1;_0x32a152<_0x4bd5b4[_0x578a2d(0x9cb)]['length']-0x1;_0x32a152++){const _0x2c93de=getMidpoint(_0x4bd5b4[_0x578a2d(0x9cb)][_0x32a152],_0x4bd5b4['points'][_0x32a152+0x1]);scratchpadCtx[_0x578a2d(0x728)](_0x4bd5b4[_0x578a2d(0x9cb)][_0x32a152]['x'],_0x4bd5b4[_0x578a2d(0x9cb)][_0x32a152]['y'],_0x2c93de['x'],_0x2c93de['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x578a2d(0x5a0)]();}else{scratchpadCtx[_0x578a2d(0x37f)]=_0x4bd5b4[_0x578a2d(0x19d)]===_0x578a2d(0x7b2)?_0x578a2d(0x95a):_0x578a2d(0x45c),scratchpadCtx[_0x578a2d(0x555)]=_0x4bd5b4[_0x578a2d(0x526)],scratchpadCtx[_0x578a2d(0x925)]=_0x4bd5b4[_0x578a2d(0x2b4)],scratchpadCtx[_0x578a2d(0x3d0)](),scratchpadCtx[_0x578a2d(0x8f2)](_0x4bd5b4[_0x578a2d(0x9cb)][0x0]['x'],_0x4bd5b4[_0x578a2d(0x9cb)][0x0]['y']);for(let _0x3b2222=0x1;_0x3b2222<_0x4bd5b4[_0x578a2d(0x9cb)]['length']-0x1;_0x3b2222++){const _0x2a963c=getMidpoint(_0x4bd5b4[_0x578a2d(0x9cb)][_0x3b2222],_0x4bd5b4['points'][_0x3b2222+0x1]);scratchpadCtx[_0x578a2d(0x728)](_0x4bd5b4['points'][_0x3b2222]['x'],_0x4bd5b4['points'][_0x3b2222]['y'],_0x2a963c['x'],_0x2a963c['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x578a2d(0x5a0)]();}}scratchpadCtx[_0x578a2d(0xab2)]();}function handlePointerMove(_0x456127){const _0x3bee8c=_0x5cd971;_0x456127['preventDefault']();const _0x335e22=scratchpadCtx[_0x3bee8c(0x311)],_0x121378=_0x335e22[_0x3bee8c(0x96f)]();if(_0x456127[_0x3bee8c(0x4ff)]){if(_0x456127[_0x3bee8c(0x4ff)][_0x3bee8c(0x963)]===0x1&&isDrawingOnScratchpad){const _0x5affc5=getTransformedPoint(_0x456127[_0x3bee8c(0x4ff)][0x0][_0x3bee8c(0x48e)]-_0x121378[_0x3bee8c(0x245)],_0x456127['touches'][0x0][_0x3bee8c(0x66c)]-_0x121378['top']);currentStroke[_0x3bee8c(0x9cb)][_0x3bee8c(0x34a)](_0x5affc5),redrawScratchpad();}else{if(_0x456127['touches'][_0x3bee8c(0x963)]===0x2&&isPanning){const _0x494fb4=getDistance({'x':_0x456127[_0x3bee8c(0x4ff)][0x0][_0x3bee8c(0x48e)],'y':_0x456127[_0x3bee8c(0x4ff)][0x0][_0x3bee8c(0x66c)]},{'x':_0x456127[_0x3bee8c(0x4ff)][0x1][_0x3bee8c(0x48e)],'y':_0x456127[_0x3bee8c(0x4ff)][0x1][_0x3bee8c(0x66c)]}),_0x1e1773=getMidpoint({'x':_0x456127[_0x3bee8c(0x4ff)][0x0][_0x3bee8c(0x48e)],'y':_0x456127[_0x3bee8c(0x4ff)][0x0][_0x3bee8c(0x66c)]},{'x':_0x456127['touches'][0x1]['clientX'],'y':_0x456127[_0x3bee8c(0x4ff)][0x1][_0x3bee8c(0x66c)]}),_0x4601a4=_0x494fb4/ initialPinchDistance,_0x2000d6=Math[_0x3bee8c(0x452)](Math['max'](scratchpadScale*_0x4601a4,MIN_SCALE),MAX_SCALE),_0x47d264=_0x1e1773['x']-panStart['x'],_0x5d42c6=_0x1e1773['y']-panStart['y'];scratchpadOffset['x']=_0x1e1773['x']-(_0x1e1773['x']-scratchpadOffset['x'])*(_0x2000d6/scratchpadScale),scratchpadOffset['y']=_0x1e1773['y']-(_0x1e1773['y']-scratchpadOffset['y'])*(_0x2000d6/scratchpadScale),scratchpadOffset['x']+=_0x47d264,scratchpadOffset['y']+=_0x5d42c6,scratchpadScale=_0x2000d6,initialPinchDistance=_0x494fb4,panStart=_0x1e1773,redrawScratchpad();}}}else{if(isMousePanning){const _0x204fa2=_0x456127[_0x3bee8c(0x48e)]-panStart['x'],_0x51277c=_0x456127[_0x3bee8c(0x66c)]-panStart['y'];scratchpadOffset['x']+=_0x204fa2,scratchpadOffset['y']+=_0x51277c,panStart={'x':_0x456127[_0x3bee8c(0x48e)],'y':_0x456127[_0x3bee8c(0x66c)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x52d4a7=getTransformedPoint(_0x456127['clientX']-_0x121378['left'],_0x456127['clientY']-_0x121378['top']);currentStroke[_0x3bee8c(0x9cb)]['push'](_0x52d4a7),redrawScratchpad();}}}}function handlePointerUp(_0x309b60){const _0x2a48e3=_0x5cd971;_0x309b60[_0x2a48e3(0x67d)]();const _0x373696=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x373696[_0x2a48e3(0x588)][_0x2a48e3(0x8e5)]=_0x2a48e3(0x983)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x2a48e3(0x9cb)]['length']>0x1&&(strokes['push'](currentStroke),currentStroke[_0x2a48e3(0x19d)]===_0x2a48e3(0x312)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x18c736=_0x2a48e3,_0x5392d5=strokes['filter'](_0x4a4450=>_0x4a4450[_0x18c736(0x19d)]===_0x18c736(0x312)&&!_0x4a4450[_0x18c736(0xad5)]);if(_0x5392d5[_0x18c736(0x963)]>0x0){const _0x290813=Date[_0x18c736(0x3fe)]();_0x5392d5[_0x18c736(0x5d5)](_0x6fe2da=>_0x6fe2da[_0x18c736(0xad5)]=_0x290813),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x431830){const _0x20b75d=_0x5cd971;_0x431830['preventDefault']();const _0x3bfff4=_0x431830['deltaY']*-0.005,_0xf47e87=Math[_0x20b75d(0x452)](Math[_0x20b75d(0x2ce)](scratchpadScale+_0x3bfff4,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x431830[_0x20b75d(0x48e)]-(_0x431830[_0x20b75d(0x48e)]-scratchpadOffset['x'])*(_0xf47e87/scratchpadScale),scratchpadOffset['y']=_0x431830[_0x20b75d(0x66c)]-(_0x431830['clientY']-scratchpadOffset['y'])*(_0xf47e87/scratchpadScale),scratchpadScale=_0xf47e87,redrawScratchpad();}function undo(){const _0x451990=_0x5cd971;strokes[_0x451990(0x963)]>0x0&&(redoStrokes[_0x451990(0x34a)](strokes[_0x451990(0x7be)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x4625e8=_0x5cd971;redoStrokes['length']>0x0&&(strokes[_0x4625e8(0x34a)](redoStrokes[_0x4625e8(0x7be)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x55b553=_0x5cd971;document['getElementById']('undo-btn')[_0x55b553(0x3cd)]=strokes[_0x55b553(0x963)]===0x0,document['getElementById'](_0x55b553(0x476))[_0x55b553(0x3cd)]=redoStrokes[_0x55b553(0x963)]===0x0;}function openScratchpad(_0x53be05,_0x58156c){const _0x587e6f=_0x5cd971,_0x3edf90=document[_0x587e6f(0xa59)](_0x587e6f(0x34d)),_0x8e7ea2=document[_0x587e6f(0xa59)](_0x587e6f(0xaa5)),_0x35d918=document[_0x587e6f(0xa59)](_0x587e6f(0x489)),_0x203ab2=document[_0x587e6f(0xa59)](_0x587e6f(0x97e));_0x8e7ea2[_0x587e6f(0x43a)]=_0x53be05['stem']||_0x53be05[_0x587e6f(0x2a7)],_0x35d918['innerHTML']=_0x58156c[_0x587e6f(0x6e4)]((_0x1c840e,_0x66ebbf)=>_0x587e6f(0x16b)+String[_0x587e6f(0x353)](0x41+_0x66ebbf)+'.\x20'+_0x1c840e+_0x587e6f(0x552))[_0x587e6f(0x386)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x3edf90['classList'][_0x587e6f(0x6b7)]('hidden'),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x587e6f(0x28d)])MathJax[_0x587e6f(0x2b6)]([_0x8e7ea2,_0x35d918]);}function initializeScratchpadCanvas(){const _0x42ad44=_0x5cd971,_0x19c4d0=document['getElementById'](_0x42ad44(0x190)),_0x44ea3c=document[_0x42ad44(0x5b4)](_0x42ad44(0x830));if(!_0x19c4d0||!_0x44ea3c)return;scratchpadCtx=_0x19c4d0['getContext']('2d',{'willReadFrequently':!![]});const _0x1a1c00=window[_0x42ad44(0x223)]||0x1,_0x39ca95=_0x44ea3c[_0x42ad44(0x96f)]();_0x19c4d0['width']=_0x39ca95[_0x42ad44(0x523)]*_0x1a1c00,_0x19c4d0[_0x42ad44(0x898)]=_0x39ca95[_0x42ad44(0x898)]*_0x1a1c00,_0x19c4d0[_0x42ad44(0x588)][_0x42ad44(0x523)]=_0x39ca95[_0x42ad44(0x523)]+'px',_0x19c4d0[_0x42ad44(0x588)][_0x42ad44(0x898)]=_0x39ca95[_0x42ad44(0x898)]+'px',scratchpadCtx[_0x42ad44(0x447)](_0x1a1c00,_0x1a1c00),scratchpadCtx[_0x42ad44(0x85a)]=_0x42ad44(0x534),scratchpadCtx[_0x42ad44(0x980)]=_0x42ad44(0x534),_0x19c4d0[_0x42ad44(0x3b4)](_0x42ad44(0x49a),handlePointerDown),_0x19c4d0[_0x42ad44(0x3b4)](_0x42ad44(0x20d),handlePointerMove),_0x19c4d0[_0x42ad44(0x3b4)](_0x42ad44(0x659),handlePointerUp),_0x19c4d0[_0x42ad44(0x3b4)](_0x42ad44(0xa17),handlePointerUp),_0x19c4d0[_0x42ad44(0x3b4)]('wheel',handleWheel),_0x19c4d0[_0x42ad44(0x3b4)](_0x42ad44(0x3d2),handlePointerDown),_0x19c4d0[_0x42ad44(0x3b4)](_0x42ad44(0x9ce),handlePointerMove),_0x19c4d0[_0x42ad44(0x3b4)](_0x42ad44(0x384),handlePointerUp),_0x19c4d0[_0x42ad44(0x1ce)](_0x42ad44(0x49a),handlePointerDown),_0x19c4d0[_0x42ad44(0x1ce)](_0x42ad44(0x20d),handlePointerMove),_0x19c4d0[_0x42ad44(0x1ce)](_0x42ad44(0x659),handlePointerUp),_0x19c4d0['addEventListener'](_0x42ad44(0xa17),handlePointerUp),_0x19c4d0['addEventListener'](_0x42ad44(0x16f),handleWheel,{'passive':![]}),_0x19c4d0[_0x42ad44(0x1ce)](_0x42ad44(0x3d2),handlePointerDown,{'passive':![]}),_0x19c4d0[_0x42ad44(0x1ce)](_0x42ad44(0x9ce),handlePointerMove,{'passive':![]}),_0x19c4d0[_0x42ad44(0x1ce)](_0x42ad44(0x384),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x2f8bba=_0x5cd971,_0x2be268=document[_0x2f8bba(0xa59)](_0x2f8bba(0x34d)),_0x2991af=document[_0x2f8bba(0xa59)](_0x2f8bba(0x97e));_0x2991af[_0x2f8bba(0x43a)]=_0x2f8bba(0xa0c)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x5109d9=document['getElementById']('pen-tool-btn'),_0x4d1feb=document[_0x2f8bba(0xa59)](_0x2f8bba(0x563)),_0x4dc102=document[_0x2f8bba(0xa59)](_0x2f8bba(0x3c7)),_0x11427c=document[_0x2f8bba(0xa59)]('highlighter-tool-btn'),_0x22c1fc=document[_0x2f8bba(0xa59)](_0x2f8bba(0xa52)),_0x15527e=document[_0x2f8bba(0xa59)](_0x2f8bba(0x98e)),_0x13281c=[_0x5109d9,_0x4d1feb,_0x4dc102,_0x11427c];document[_0x2f8bba(0xa59)]('scratchpad-close-btn')[_0x2f8bba(0x1ce)](_0x2f8bba(0x420),()=>_0x2be268[_0x2f8bba(0x445)][_0x2f8bba(0x874)](_0x2f8bba(0x318))),document['getElementById']('reset-view-btn')[_0x2f8bba(0x1ce)](_0x2f8bba(0x420),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x2f8bba(0xa59)](_0x2f8bba(0x265))[_0x2f8bba(0x1ce)](_0x2f8bba(0x420),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x2f8bba(0xa8a))[_0x2f8bba(0x1ce)](_0x2f8bba(0x420),undo),document[_0x2f8bba(0xa59)](_0x2f8bba(0x476))[_0x2f8bba(0x1ce)](_0x2f8bba(0x420),redo);const _0x4dfcf1=_0x4e324e=>{const _0x220d98=_0x2f8bba;_0x13281c[_0x220d98(0x5d5)](_0x30f69f=>_0x30f69f[_0x220d98(0x445)]['remove'](_0x220d98(0x18e))),_0x4e324e[_0x220d98(0x445)][_0x220d98(0x874)](_0x220d98(0x18e));const _0x1f08c5=_0x4e324e===_0x11427c;_0x22c1fc[_0x220d98(0x445)][_0x220d98(0x367)]('hidden',_0x1f08c5),_0x15527e['classList'][_0x220d98(0x367)](_0x220d98(0x318),!_0x1f08c5);};_0x5109d9['addEventListener']('click',()=>{const _0x4f1837=_0x2f8bba;activeTool=_0x4f1837(0x7de),_0x4dfcf1(_0x5109d9);}),_0x4d1feb[_0x2f8bba(0x1ce)](_0x2f8bba(0x420),()=>{activeTool='eraser',_0x4dfcf1(_0x4d1feb);}),_0x4dc102[_0x2f8bba(0x1ce)](_0x2f8bba(0x420),()=>{const _0x478a61=_0x2f8bba;activeTool=_0x478a61(0x312),_0x4dfcf1(_0x4dc102);}),_0x11427c[_0x2f8bba(0x1ce)]('click',()=>{activeTool='highlighter',_0x4dfcf1(_0x11427c);}),_0x22c1fc[_0x2f8bba(0x1f8)]('.pen-size-btn')[_0x2f8bba(0x5d5)](_0x4e330d=>{const _0x5604d2=_0x2f8bba;_0x4e330d[_0x5604d2(0x1ce)](_0x5604d2(0x420),_0x213d97=>{const _0x3fcd56=_0x5604d2;scratchpadPenSize=parseInt(_0x213d97['target']['dataset']['size'],0xa),_0x22c1fc['querySelectorAll']('.pen-size-btn')['forEach'](_0x37b33a=>_0x37b33a[_0x3fcd56(0x445)][_0x3fcd56(0x6b7)](_0x3fcd56(0x18e))),_0x213d97[_0x3fcd56(0x1f5)][_0x3fcd56(0x445)]['add'](_0x3fcd56(0x18e));});}),_0x22c1fc[_0x2f8bba(0x1f8)](_0x2f8bba(0x6e8))['forEach'](_0x175caf=>{const _0x4a26a4=_0x2f8bba;_0x175caf[_0x4a26a4(0x1ce)](_0x4a26a4(0x420),_0x4a88a3=>{const _0x319080=_0x4a26a4;scratchpadPenColor=_0x4a88a3[_0x319080(0x1f5)][_0x319080(0xafb)]['color'],_0x22c1fc[_0x319080(0x1f8)](_0x319080(0x6e8))[_0x319080(0x5d5)](_0x4e2ccd=>_0x4e2ccd[_0x319080(0x445)][_0x319080(0x6b7)](_0x319080(0x18e))),_0x4a88a3[_0x319080(0x1f5)][_0x319080(0x445)][_0x319080(0x874)]('active');});}),_0x15527e[_0x2f8bba(0x1f8)](_0x2f8bba(0x528))[_0x2f8bba(0x5d5)](_0x575781=>{const _0x19646e=_0x2f8bba;_0x575781[_0x19646e(0x1ce)](_0x19646e(0x420),_0x5aae54=>{const _0x4fdeb6=_0x19646e;scratchpadHighlighterColor=_0x5aae54[_0x4fdeb6(0x1f5)]['dataset'][_0x4fdeb6(0x526)],_0x15527e[_0x4fdeb6(0x1f8)](_0x4fdeb6(0x528))['forEach'](_0x15652e=>_0x15652e['classList'][_0x4fdeb6(0x6b7)](_0x4fdeb6(0x18e))),_0x5aae54[_0x4fdeb6(0x1f5)][_0x4fdeb6(0x445)]['add'](_0x4fdeb6(0x18e));});});const _0x17c0db=document[_0x2f8bba(0xa59)](_0x2f8bba(0x1cf)),_0x16bcf6=document[_0x2f8bba(0xa59)](_0x2f8bba(0x847));_0x17c0db[_0x2f8bba(0x1ce)](_0x2f8bba(0x5cc),_0x4afbe6=>{const _0x4289ba=_0x2f8bba,_0x161110=parseInt(_0x4afbe6[_0x4289ba(0x1f5)][_0x4289ba(0x630)],0xa);scratchpadHighlighterSize=_0x161110,_0x16bcf6[_0x4289ba(0x2e0)]=_0x161110;}),window['addEventListener'](_0x2f8bba(0x58d),()=>{const _0x47fa6b=_0x2f8bba;!_0x2be268[_0x47fa6b(0x445)][_0x47fa6b(0x914)](_0x47fa6b(0x318))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x5cd971(0x34c),'name':_0x5cd971(0x649),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x5cd971(0x8fa),'name':_0x5cd971(0x7ee),'description':_0x5cd971(0x941),'icon':_0x5cd971(0x443)},'ON_FIRE':{'id':_0x5cd971(0x5b3),'name':_0x5cd971(0x4c4),'description':_0x5cd971(0x8fc),'icon':_0x5cd971(0x628)},'FIRST_TRY_ACE':{'id':_0x5cd971(0x231),'name':_0x5cd971(0x3d7),'description':_0x5cd971(0x62c),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x5cd971(0x746),'name':_0x5cd971(0x5d1),'description':_0x5cd971(0x2d5),'icon':_0x5cd971(0x6a4)},'SPECIALIST':{'id':'specialist','name':_0x5cd971(0x8cd),'description':_0x5cd971(0x6b8),'icon':_0x5cd971(0x492)},'PERSEVERANCE':{'id':_0x5cd971(0x958),'name':_0x5cd971(0x560),'description':_0x5cd971(0x3a9),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x5cd971(0x326),'authDomain':_0x5cd971(0x457),'projectId':_0x5cd971(0x581),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':'274192258111','appId':_0x5cd971(0x50b),'measurementId':_0x5cd971(0x232)},appId=typeof __app_id!=='undefined'?__app_id:_0x5cd971(0x323),adminView=document[_0x5cd971(0xa59)](_0x5cd971(0x8dd)),studentView=document[_0x5cd971(0xa59)](_0x5cd971(0x768)),projectDashboardView=document[_0x5cd971(0xa59)](_0x5cd971(0x609)),projectDetailView=document[_0x5cd971(0xa59)](_0x5cd971(0x3cb)),quizResultsView=document[_0x5cd971(0xa59)]('quiz-results-view'),projectList=document[_0x5cd971(0xa59)](_0x5cd971(0x4b0)),noProjectsMsg=document[_0x5cd971(0xa59)](_0x5cd971(0x180)),projectTitle=document[_0x5cd971(0xa59)](_0x5cd971(0x206)),projectIdDisplay=document[_0x5cd971(0xa59)](_0x5cd971(0xa0d)),studentList=document[_0x5cd971(0xa59)](_0x5cd971(0x618)),messageModal=document[_0x5cd971(0xa59)](_0x5cd971(0x5f0)),modalMessage=document['getElementById']('modal-message'),createProjectModal=document[_0x5cd971(0xa59)](_0x5cd971(0x79d)),adminPasswordModal=document[_0x5cd971(0xa59)]('admin-password-modal'),confirmationModal=document[_0x5cd971(0xa59)](_0x5cd971(0x8a7)),userIdDisplay=document['getElementById']('user-id-display'),topicTab=document[_0x5cd971(0xa59)](_0x5cd971(0x8b5)),textTab=document['getElementById'](_0x5cd971(0x91c)),topicInputArea=document[_0x5cd971(0xa59)](_0x5cd971(0x477)),textInputArea=document['getElementById'](_0x5cd971(0x9f4)),manageTab=document['getElementById'](_0x5cd971(0x99e)),resultsTab=document[_0x5cd971(0xa59)](_0x5cd971(0x22d)),leaderboardTab=document[_0x5cd971(0xa59)](_0x5cd971(0x5a4)),manageTabContent=document['getElementById']('manage-tab-content'),resultsTabContent=document[_0x5cd971(0xa59)](_0x5cd971(0xab4)),leaderboardTabContent=document[_0x5cd971(0xa59)](_0x5cd971(0x1f0)),projectQuizzesList=document[_0x5cd971(0xa59)](_0x5cd971(0x1b5)),fileTab=document[_0x5cd971(0xa59)](_0x5cd971(0x8e7)),fileInputArea=document['getElementById'](_0x5cd971(0x4d4)),fileUploadInput=document[_0x5cd971(0xa59)](_0x5cd971(0x711)),worksheetTab=document['getElementById'](_0x5cd971(0x1bd)),worksheetInputArea=document[_0x5cd971(0xa59)](_0x5cd971(0x202)),generateWorksheetBtn=document[_0x5cd971(0xa59)](_0x5cd971(0x5d6)),studentInitialView=document[_0x5cd971(0xa59)](_0x5cd971(0x434)),studentNameSelectionView=document['getElementById'](_0x5cd971(0x18f)),studentQuizArea=document[_0x5cd971(0xa59)]('student-quiz-area'),studentResultArea=document['getElementById'](_0x5cd971(0x6f9)),studentReadingArea=document[_0x5cd971(0xa59)](_0x5cd971(0x68f)),loadQuizBtn=document[_0x5cd971(0xa59)](_0x5cd971(0x5d0)),startQuizBtn=document[_0x5cd971(0xa59)](_0x5cd971(0x764)),studentJoinGameView=document['getElementById'](_0x5cd971(0x3e2)),presentationModal=document[_0x5cd971(0xa59)](_0x5cd971(0xa6c)),renameQuizModal=document[_0x5cd971(0xa59)]('rename-quiz-modal'),moveQuizModal=document[_0x5cd971(0xa59)]('move-quiz-modal'),quizSettingsModal=document[_0x5cd971(0xa59)]('quiz-settings-modal'),quizStatusModal=document[_0x5cd971(0xa59)](_0x5cd971(0x6e6)),liveGameView=document[_0x5cd971(0xa59)](_0x5cd971(0x5e6));function handleAutoFixLatex(){const _0x139778=_0x5cd971,_0xca252c=document[_0x139778(0xa59)](_0x139778(0x3bb))||document,_0x2e7183=_0xca252c['querySelectorAll']([_0x139778(0x910),'input[type=\x22text\x22]','[contenteditable=\x22true\x22]','[role=\x22textbox\x22]',_0x139778(0x61b),'label',_0x139778(0x759),_0x139778(0x786),_0x139778(0xaaf)][_0x139778(0x386)](','));let _0x2f59b5=0x0;const _0x341d12=_0x1cb704=>_0x139778(0x630)in _0x1cb704?String(_0x1cb704[_0x139778(0x630)]):_0x1cb704[_0x139778(0x182)]!==undefined?_0x1cb704['innerText']:_0x1cb704['textContent']||'',_0x2a84ae=(_0x7ccb2d,_0x5f1fc0)=>{const _0x513df5=_0x139778;if('value'in _0x7ccb2d){_0x7ccb2d[_0x513df5(0x630)]=_0x5f1fc0;return;}if(_0x7ccb2d[_0x513df5(0x5b4)]&&_0x7ccb2d[_0x513df5(0x5b4)]('mjx-container'))return;if(_0x7ccb2d[_0x513df5(0x182)]!==undefined)_0x7ccb2d[_0x513df5(0x182)]=_0x5f1fc0;else _0x7ccb2d['textContent']=_0x5f1fc0;},_0x13da1e=_0x284cba=>_0x284cba['replace'](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x139778(0x263)](/\r\n?/g,'\x0a'),_0x4b6c10=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x5ba3ec=_0x6e858b=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x139778(0xa33)](_0x6e858b),_0x44f248=_0x216de8=>{const _0x21e977=_0x139778,_0xee7e92=(_0x216de8[_0x21e977(0x627)](/\{/g)||[])[_0x21e977(0x963)],_0x1994dc=(_0x216de8['match'](/\}/g)||[])[_0x21e977(0x963)];if(_0xee7e92>_0x1994dc)_0x216de8=_0x216de8+'}'['repeat'](_0xee7e92-_0x1994dc);return _0x216de8;},_0x51cd32=_0x1c6f75=>{const _0x3d1af4=_0x139778;let _0x23447d=_0x1c6f75[_0x3d1af4(0x56b)]();const _0x161166=['frac',_0x3d1af4(0x7a6),_0x3d1af4(0x2a1),'sqrt',_0x3d1af4(0x282),_0x3d1af4(0x33c),_0x3d1af4(0x3b2),'div','leq','geq','le','ge',_0x3d1af4(0x5a6),'pm','approx',_0x3d1af4(0x694),'cos',_0x3d1af4(0x745),_0x3d1af4(0xa63),'ln',_0x3d1af4(0x179),'prod','binom',_0x3d1af4(0x245),_0x3d1af4(0x219),_0x3d1af4(0x262),'underline',_0x3d1af4(0x351),_0x3d1af4(0x919)];_0x23447d=_0x23447d['replace'](new RegExp(_0x3d1af4(0x7c7)+_0x161166['join']('|')+_0x3d1af4(0xa26),'g'),'\x5c'),_0x161166['forEach'](_0x2552c9=>{const _0x1cde48=_0x3d1af4;_0x23447d=_0x23447d['replace'](new RegExp(_0x1cde48(0xa25)+_0x2552c9+'\x5cb','g'),(_0x190472,_0x10050c)=>_0x10050c+'\x5c'+_0x2552c9);});const _0x3b3093=[[/×/g,_0x3d1af4(0x6eb)],[/·/g,_0x3d1af4(0x5d9)],[/÷/g,_0x3d1af4(0x178)],[/≤/g,_0x3d1af4(0x795)],[/≥/g,_0x3d1af4(0x71f)],[/≠/g,_0x3d1af4(0x1ad)],[/±/g,'\x5cpm'],[/∑/g,_0x3d1af4(0x44e)],[/−/g,'-']];_0x3b3093['forEach'](([_0x4ab687,_0x1259c5])=>{_0x23447d=_0x23447d['replace'](_0x4ab687,_0x1259c5);}),_0x23447d=_0x23447d[_0x3d1af4(0x263)](/√\s*\(([^)]*)\)/g,'\x5csqrt{$1}'),_0x23447d=_0x23447d['replace'](/√\s*([A-Za-z0-9]+)/g,_0x3d1af4(0x71d)),_0x23447d=_0x23447d[_0x3d1af4(0x263)](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')[_0x3d1af4(0x263)](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')['replace'](/(^|[^\\])ext\{/g,_0x3d1af4(0x722))[_0x3d1af4(0x263)](/(^|[^\\])ext\(/g,'$1\x5ctext(')[_0x3d1af4(0x263)](/\\text\(([^)]*)\)/g,_0x3d1af4(0x96e))[_0x3d1af4(0x263)](/\s\\frac/g,'\x5cfrac'),_0x23447d=_0x23447d['replace'](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x5eba62,_0x3f7261,_0x2d1664,_0x499780)=>_0x3f7261+_0x3d1af4(0x23c)+_0x2d1664+'}{'+_0x499780+'}'),_0x23447d=_0x23447d[_0x3d1af4(0x263)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x3d1af4(0x1cd))[_0x3d1af4(0x263)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x3d1af4(0x1cd))['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x3d1af4(0x1cd)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x3d1af4(0x9d2)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x3d1af4(0x9d2)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x3d1af4(0x9d2)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x3d1af4(0x9d2)],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x3d1af4(0x2df)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x3d1af4(0x5d5)](([_0x374632,_0x334d1c])=>{const _0x3a7fae=_0x3d1af4;_0x23447d=_0x23447d[_0x3a7fae(0x263)](_0x374632,_0x334d1c);}),_0x23447d=_0x23447d['replace'](/(\d+)\s*%/g,_0x3d1af4(0x9d1)),_0x23447d=_0x23447d[_0x3d1af4(0x263)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x3d1af4(0x17b))[_0x3d1af4(0x263)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x3d1af4(0x727))[_0x3d1af4(0x263)](/\{\{([^\{\}]+)\}\}/g,'{$1}'),[_0x3d1af4(0x694),'cos',_0x3d1af4(0x745),_0x3d1af4(0xa63),'ln'][_0x3d1af4(0x5d5)](_0x4f3dca=>{const _0x4af80a=_0x3d1af4;_0x23447d=_0x23447d[_0x4af80a(0x263)](new RegExp(_0x4af80a(0xa25)+_0x4f3dca+_0x4af80a(0x6c6),'g'),(_0x331d12,_0x5cedce)=>_0x5cedce+'\x5c'+_0x4f3dca+'(');});const _0x2ce020=(_0x23447d['match'](/\\left\b/g)||[])['length'],_0x4f1540=(_0x23447d[_0x3d1af4(0x627)](/\\right\b/g)||[])[_0x3d1af4(0x963)];if(_0x2ce020!==_0x4f1540)_0x23447d=_0x23447d[_0x3d1af4(0x263)](/\\left\b/g,'')[_0x3d1af4(0x263)](/\\right\b/g,'');return _0x23447d=_0x44f248(_0x23447d),_0x23447d;},_0xe46ff7=_0x31baaf=>{const _0x440c1d=_0x139778;if(/\$|\\\(|\\\[/[_0x440c1d(0xa33)](_0x31baaf))return _0x31baaf;if(!_0x4b6c10['test'](_0x31baaf))return _0x31baaf;const _0xc67bc4=_0x31baaf['match'](/^\s*/)[0x0],_0x534ab9=_0x31baaf[_0x440c1d(0x627)](/\s*$/)[0x0],_0x395c7b=_0x31baaf[_0x440c1d(0x56b)]();return _0xc67bc4+'$'+_0x51cd32(_0x395c7b)+'$'+_0x534ab9;},_0x5be845=_0x1a5ce2=>_0x1a5ce2[_0x139778(0x819)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x2e7183['forEach'](_0x5f3ea0=>{const _0x17a024=_0x139778;if(_0x5f3ea0[_0x17a024(0x5b4)]&&_0x5f3ea0[_0x17a024(0x5b4)]('mjx-container'))return;const _0xaf7b27=_0x341d12(_0x5f3ea0);let _0x3167ac=_0x13da1e(_0xaf7b27);_0x3167ac=_0x3167ac['replace'](/\$\$([\s\S]*?)\$\$/g,(_0x26fa3a,_0x3e2aa0)=>'$$'+_0x51cd32(_0x3e2aa0)+'$$')[_0x17a024(0x263)](/\$([^$]*?)\$/g,(_0x15487d,_0x56bd93)=>'$'+_0x51cd32(_0x56bd93)+'$')[_0x17a024(0x263)](/\\\(([\s\S]*?)\\\)/g,(_0x43453c,_0x3598e3)=>'\x5c('+_0x51cd32(_0x3598e3)+'\x5c)')[_0x17a024(0x263)](/\\\[([\s\S]*?)\\\]/g,(_0x13d434,_0x57fc6a)=>'\x5c['+_0x51cd32(_0x57fc6a)+'\x5c]');let _0x2ebb46=_0x3167ac,_0x2dff91=0x0;const _0x5e605b=_0x27b7d7=>_0x27b7d7[_0x17a024(0x263)](/S([^S]{0,2000}?)S/g,(_0x2b8280,_0x20f297)=>_0x4b6c10[_0x17a024(0xa33)](_0x20f297)?'$'+_0x51cd32(_0x20f297)+'$':_0x2b8280);while(_0x2dff91++<0x14){const _0x2f495a=_0x5e605b(_0x2ebb46);if(_0x2f495a===_0x2ebb46)break;_0x2ebb46=_0x2f495a;}_0x3167ac=_0x2ebb46,_0x3167ac=_0x3167ac[_0x17a024(0x819)]('\x0a')[_0x17a024(0x6e4)](_0x51d513=>{const _0x33a1a6=_0x17a024;if(!(/[,\u3001，;；]/[_0x33a1a6(0xa33)](_0x51d513)||/\s(?:และ|หรือ)\s/['test'](_0x51d513))||!_0x4b6c10[_0x33a1a6(0xa33)](_0x51d513))return _0x51d513;return _0x5be845(_0x51d513)[_0x33a1a6(0x6e4)](_0x3ea7a6=>{const _0x3e229a=_0x33a1a6;if(/^\s(?:และ|หรือ)\s$/['test'](_0x3ea7a6)||/^[,\u3001，;；]$/[_0x3e229a(0xa33)](_0x3ea7a6))return _0x3ea7a6;return _0xe46ff7(_0x3ea7a6);})['join']('');})[_0x17a024(0x386)]('\x0a'),_0x3167ac=_0x3167ac[_0x17a024(0x819)]('\x0a')[_0x17a024(0x6e4)](_0x2039d2=>{const _0x585dbc=_0x17a024,_0x8e19a8=_0x2039d2[_0x585dbc(0x56b)]();if(!_0x8e19a8)return _0x2039d2;const _0x46a433=/\$|\\\(|\\\[/[_0x585dbc(0xa33)](_0x8e19a8),_0x479afa=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x585dbc(0xa33)](_0x8e19a8);if(_0x46a433||!_0x479afa||_0x5ba3ec(_0x8e19a8))return _0x2039d2;return _0x2039d2[_0x585dbc(0x263)](_0x8e19a8,'$'+_0x51cd32(_0x8e19a8)+'$');})[_0x17a024(0x386)]('\x0a'),_0x3167ac=_0x3167ac[_0x17a024(0x263)](/(\d+)\s*°\s*C\b/g,(_0x3799e7,_0x50a5d5,_0x467e8c,_0x4bbd3b)=>{const _0x3161dd=_0x17a024,_0x5a0a70=_0x4bbd3b[_0x467e8c-0x1];if(_0x5a0a70==='$'||_0x5a0a70==='S'||_0x5a0a70==='\x5c')return _0x3799e7;return'$'+_0x50a5d5+_0x3161dd(0x4e5);})[_0x17a024(0x263)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x5c90ce,_0x461123,_0x3d9bb4,_0x1d32a2)=>{const _0x38e0c3=_0x1d32a2[_0x3d9bb4-0x1];if(_0x38e0c3==='$'||_0x38e0c3==='S'||_0x38e0c3==='\x5c')return _0x5c90ce;return'$'+_0x461123+'^{\x5ccirc}\x5ctext{C}$';})[_0x17a024(0x263)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x140e06,_0x28e38b,_0x2b72b0,_0x369b9e)=>{const _0x3b9f0f=_0x17a024,_0x37e49c=_0x369b9e[_0x2b72b0-0x1];if(_0x37e49c==='$'||_0x37e49c==='S'||_0x37e49c==='\x5c')return _0x140e06;return'$'+_0x28e38b+_0x3b9f0f(0x4e5);}),_0x3167ac=_0x3167ac[_0x17a024(0x263)](/\$\s*\$/g,'$$'),_0x3167ac!==_0xaf7b27&&(_0x2a84ae(_0x5f3ea0,_0x3167ac),_0x2f59b5++);});if(_0x2f59b5>0x0){showMessage(_0x139778(0xade)+_0x2f59b5+_0x139778(0x6d3));try{if(window['MathJax']&&MathJax[_0x139778(0x2b6)])MathJax[_0x139778(0x2b6)]();window[_0x139778(0x580)]&&typeof renderMathInElement==='function'&&renderMathInElement(_0xca252c,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x43a8ef){}}else showMessage(_0x139778(0x2cc));}async function listenForCustomMathTopics(){const _0x636585=_0x5cd971,_0x3dcc91=collection(db,_0x636585(0xab3)+appId+_0x636585(0xa27));onSnapshot(_0x3dcc91,_0xa2318=>{const _0x24d8bb=_0x636585;customMathTopics=_0xa2318['docs'][_0x24d8bb(0x6e4)](_0x44008b=>({'id':_0x44008b['id'],..._0x44008b[_0x24d8bb(0x730)]()})),renderTopicCheckboxes();},_0x1c46a9=>{const _0x3a36fb=_0x636585;console[_0x3a36fb(0x5a8)](_0x3a36fb(0x926),_0x1c46a9);});}function handleSelectAllTopics(){const _0x42048d=_0x5cd971,_0x2f414b=document['getElementById']('math-topics-checkbox-container'),_0x134918=_0x2f414b[_0x42048d(0x1f8)](_0x42048d(0x183));_0x134918[_0x42048d(0x5d5)](_0x44e013=>{_0x44e013['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x477174=_0x5cd971,_0x244e2d=document[_0x477174(0xa59)](_0x477174(0x252)),_0xf4014f=_0x244e2d['querySelectorAll'](_0x477174(0x183));_0xf4014f[_0x477174(0x5d5)](_0x1b4546=>{const _0x3fbe34=_0x477174;_0x1b4546[_0x3fbe34(0x31a)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x218bbf){const _0x220ff8=_0x5cd971;if(!_0x218bbf)return;try{const _0x533b19=doc(db,_0x220ff8(0xab3)+appId+'/public/data/customMathTopics',_0x218bbf);await deleteDoc(_0x533b19),showMessage(_0x220ff8(0xaf3));}catch(_0x3c90da){console[_0x220ff8(0x5a8)]('Error\x20deleting\x20custom\x20topic:',_0x3c90da),showMessage(_0x220ff8(0x8e3));}}async function handleAddCustomMathTopic(){const _0x4b2b61=_0x5cd971,_0x1e033d=document[_0x4b2b61(0xa59)](_0x4b2b61(0x931)),_0x497ccd=_0x1e033d[_0x4b2b61(0x630)][_0x4b2b61(0x56b)]();if(!_0x497ccd){showMessage(_0x4b2b61(0x7af));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x54c9a3=collection(db,_0x4b2b61(0xab3)+appId+_0x4b2b61(0xa27));await addDoc(_0x54c9a3,{'name':_0x497ccd,'createdAt':serverTimestamp()}),_0x1e033d[_0x4b2b61(0x630)]='',showMessage(_0x4b2b61(0x4d1)+_0x497ccd+_0x4b2b61(0x479));}catch(_0x53166b){console[_0x4b2b61(0x5a8)](_0x4b2b61(0x49d),_0x53166b),showMessage(_0x4b2b61(0x5ac));}}async function handleUpdateOldQuizzes(){const _0x202449=_0x5cd971;showConfirmation(_0x202449(0x405),async()=>{const _0x395441=_0x202449,_0xadaa65=document[_0x395441(0xa59)](_0x395441(0x5c6)),_0xb3b2a2=document[_0x395441(0xa59)](_0x395441(0x8ed)),_0x4385c2=_0xb3b2a2[_0x395441(0x2e0)];_0xadaa65[_0x395441(0x445)][_0x395441(0x6b7)]('hidden'),_0xb3b2a2['textContent']=_0x395441(0x51f);try{const _0x4799f2=collection(db,'artifacts/'+appId+_0x395441(0xaf2)),_0x4e55e7=await getDocs(_0x4799f2);if(_0x4e55e7[_0x395441(0x246)]){showMessage(_0x395441(0x383));return;}const _0x5d6f6f=writeBatch(db);let _0x36d49e=0x0;_0x4e55e7[_0x395441(0x5d5)](_0x5dba91=>{const _0x7c6c66=_0x395441,_0x236210=_0x5dba91[_0x7c6c66(0x730)](),_0xa858af=_0x5dba91['id'];if(_0x236210[_0x7c6c66(0x1e6)]&&_0x236210[_0x7c6c66(0x1e6)]['length']>0x0&&!_0x236210['questions'][0x0]['hasOwnProperty']('id')){console['log'](_0x7c6c66(0x4f1)+_0xa858af+'\x20('+_0x236210[_0x7c6c66(0xaad)]+')'),_0x36d49e++;const _0x1d6a86=_0x236210[_0x7c6c66(0x1e6)]['map']((_0xc46cde,_0x2ddb2a)=>{const _0x40dbe4=_0x7c6c66;return{..._0xc46cde,'id':_0xc46cde['id']||'q_'+Date[_0x40dbe4(0x3fe)]()+'_'+_0xa858af+'_'+_0x2ddb2a};}),_0x52c04a=doc(db,_0x7c6c66(0xab3)+appId+_0x7c6c66(0xaf2),_0xa858af);_0x5d6f6f['update'](_0x52c04a,{'questions':_0x1d6a86});}}),_0x36d49e>0x0?(_0xb3b2a2[_0x395441(0x2e0)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x36d49e+_0x395441(0x2a6),await _0x5d6f6f[_0x395441(0xaa2)](),showMessage(_0x395441(0x5c5)+_0x36d49e+_0x395441(0x955))):showMessage(_0x395441(0x8d6));}catch(_0x5a84bf){console[_0x395441(0x5a8)](_0x395441(0x5c7),_0x5a84bf),showMessage(_0x395441(0x7bf)+_0x5a84bf['message']);}finally{_0xadaa65[_0x395441(0x445)][_0x395441(0x874)]('hidden'),_0xb3b2a2[_0x395441(0x2e0)]=_0x4385c2;}});}async function handleBulkUpdateQuizSettings(){const _0x4220fa=_0x5cd971,_0x2bf8c9={'shuffle':document[_0x4220fa(0xa59)](_0x4220fa(0xada))[_0x4220fa(0x630)],'resultsDisplay':document[_0x4220fa(0xa59)](_0x4220fa(0x736))[_0x4220fa(0x630)],'loopUntilPass':document['getElementById'](_0x4220fa(0x1e8))[_0x4220fa(0x31a)],'isConfidenceScoringEnabled':document[_0x4220fa(0xa59)](_0x4220fa(0x3a4))[_0x4220fa(0x31a)],'confidenceMode':document['getElementById']('bulk-confidence-mode-select')[_0x4220fa(0x630)]};try{showMessage(_0x4220fa(0xa9d));const _0x339973=await getDocs(collection(db,_0x4220fa(0xab3)+appId+_0x4220fa(0xaf2))),_0x56505a=_0x339973[_0x4220fa(0x354)][_0x4220fa(0x6e4)](_0x306a53=>({'id':_0x306a53['id'],'data':_0x306a53[_0x4220fa(0x730)]()})),_0xa25498=_0x56505a['length'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0xa25498+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x2904aa=_0x4220fa,_0x5c0d26=document[_0x2904aa(0xa59)](_0x2904aa(0x2eb));_0x5c0d26[_0x2904aa(0x3cd)]=!![],_0x5c0d26['innerHTML']=_0x2904aa(0x343);try{const _0x32e681=writeBatch(db);_0x56505a[_0x2904aa(0x5d5)](_0x56f600=>{const _0x2b05d2=_0x2904aa,_0x3e0b96=doc(db,'artifacts/'+appId+_0x2b05d2(0xaf2),_0x56f600['id']),_0x54bfc2={..._0x56f600[_0x2b05d2(0x730)][_0x2b05d2(0x1d2)]||{},..._0x2bf8c9};_0x32e681[_0x2b05d2(0x2f6)](_0x3e0b96,{'settings':_0x54bfc2});}),await _0x32e681[_0x2904aa(0xaa2)](),document[_0x2904aa(0xa59)](_0x2904aa(0x496))[_0x2904aa(0x445)][_0x2904aa(0x874)](_0x2904aa(0x318)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0xa25498+_0x2904aa(0x450));}catch(_0x286157){console[_0x2904aa(0x5a8)](_0x2904aa(0xa38),_0x286157),showMessage(_0x2904aa(0x503));}finally{_0x5c0d26[_0x2904aa(0x3cd)]=![],_0x5c0d26[_0x2904aa(0x43a)]=_0x2904aa(0x63c);}});}catch(_0x43ac5e){console[_0x4220fa(0x5a8)](_0x4220fa(0x448),_0x43ac5e),showMessage(_0x4220fa(0x747));}}async function handleSaveProjectName(){const _0x31a197=_0x5cd971,_0x3fba86=document[_0x31a197(0xa59)](_0x31a197(0x206)),_0x50f7d0=document['getElementById'](_0x31a197(0x363)),_0x4aca74=_0x3fba86['textContent'][_0x31a197(0x56b)]();if(!_0x4aca74||!currentProjectId){showMessage(_0x31a197(0x8af)),_0x3fba86[_0x31a197(0x2e0)]=currentProjectData['projectName'];return;}_0x50f7d0[_0x31a197(0x3cd)]=!![],_0x50f7d0[_0x31a197(0x43a)]=_0x31a197(0x64c);try{const _0x5fdbac=doc(db,_0x31a197(0xab3)+appId+_0x31a197(0x6d8),currentProjectId);await updateDoc(_0x5fdbac,{'projectName':_0x4aca74}),currentProjectData&&(currentProjectData[_0x31a197(0x1ff)]=_0x4aca74),showMessage(_0x31a197(0x7e2));}catch(_0xdffc87){console['error']('Error\x20updating\x20project\x20name:',_0xdffc87),showMessage(_0x31a197(0xaea)),_0x3fba86[_0x31a197(0x2e0)]=currentProjectData[_0x31a197(0x1ff)];}finally{_0x50f7d0[_0x31a197(0x445)]['add'](_0x31a197(0x318)),_0x50f7d0[_0x31a197(0x3cd)]=![],_0x50f7d0[_0x31a197(0x43a)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}async function initialize(){const _0xda1eab=_0x5cd971;try{const _0x48cbf3=initializeApp(firebaseConfig);db=getFirestore(_0x48cbf3),auth=getAuth(_0x48cbf3),setupAuthListener(),setupEventListeners(),showView(_0xda1eab(0x17a)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x546142){console[_0xda1eab(0x5a8)](_0xda1eab(0x6a0),_0x546142),showMessage(_0xda1eab(0x601));}}async function handleVerifyAnswersInEditor(){const _0x536c2c=_0x5cd971,_0x347b50=document[_0x536c2c(0xa59)]('quiz-editor-modal');if(!_0x347b50)return;const _0x5702ed=document[_0x536c2c(0xa59)](_0x536c2c(0x620));_0x5702ed['disabled']=!![],_0x5702ed[_0x536c2c(0x43a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x521251=_0x347b50[_0x536c2c(0x1f8)](_0x536c2c(0x685)),_0x365073=Array[_0x536c2c(0x96a)](_0x521251)[_0x536c2c(0x6e4)]((_0x5c0e5d,_0xffd105)=>{const _0x36f157=_0x536c2c,_0x32c6cf=_0x5c0e5d[_0x36f157(0xafb)]['qType'],_0x2de265=_0x5c0e5d[_0x36f157(0x5b4)]('textarea')[_0x36f157(0x630)];let _0x118345=null,_0x231b31='';switch(_0x32c6cf){case _0x36f157(0xa76):const _0x16aa4f=_0x5c0e5d['querySelectorAll'](_0x36f157(0x94a));_0x118345=Array[_0x36f157(0x96a)](_0x16aa4f)[_0x36f157(0x6e4)](_0x3db777=>_0x3db777['value']);const _0x8e0359=_0x5c0e5d[_0x36f157(0x5b4)](_0x36f157(0x7cd));_0x8e0359&&(_0x231b31=_0x118345[parseInt(_0x8e0359[_0x36f157(0x630)])]);break;case _0x36f157(0x536):_0x231b31=_0x5c0e5d['querySelector'](_0x36f157(0x1eb))['value'];break;case _0x36f157(0x8fe):const _0x20c882=_0x5c0e5d['querySelector'](_0x36f157(0x7cd));_0x231b31=_0x20c882?_0x20c882['value']:'';break;case _0x36f157(0x845):_0x231b31=_0x5c0e5d[_0x36f157(0x5b4)](_0x36f157(0xa2a))['value'];break;}return{'question':_0x2de265,'options':_0x118345,'proposedAnswer':_0x231b31};}),_0x560cf9=_0x536c2c(0x5db)+JSON[_0x536c2c(0xae0)](_0x365073)+_0x536c2c(0x32a),_0x20d4dd={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x536c2c(0x95d)},'isCorrect':{'type':_0x536c2c(0x5c2)},'justification':{'type':_0x536c2c(0x81e)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x536c2c(0x32d),_0x536c2c(0x8cc),_0x536c2c(0xaa3)]}},_0x2fe84b=await callAnalysisApi(_0x560cf9,{'type':_0x536c2c(0x3b9),'properties':{'result':_0x20d4dd},'required':['result']});displayVerificationResultsInEditor(_0x2fe84b[_0x536c2c(0x412)]);}catch(_0xa6888c){console[_0x536c2c(0x5a8)](_0x536c2c(0x2ef),_0xa6888c),showMessage(_0x536c2c(0x4a0));}finally{_0x5702ed[_0x536c2c(0x3cd)]=![],_0x5702ed[_0x536c2c(0x43a)]=_0x536c2c(0x83f);}}function displayVerificationResultsInEditor(_0x4b1aee){const _0x3112af=_0x5cd971;_0x4b1aee[_0x3112af(0x5d5)](_0x5ec5d5=>{const _0x2220cf=_0x3112af,_0xe581af=document[_0x2220cf(0x5b4)](_0x2220cf(0x616)+_0x5ec5d5[_0x2220cf(0x32d)]+'\x22]');if(!_0xe581af)return;const _0x2d7374=_0xe581af[_0x2220cf(0x5b4)](_0x2220cf(0x230));if(_0x2d7374)_0x2d7374[_0x2220cf(0x6b7)]();let _0x21153b='';if(_0x5ec5d5['isCorrect'])_0x21153b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{const _0x51bde6=_0x5ec5d5[_0x2220cf(0x4ab)]?_0x2220cf(0x26e):'';_0x21153b=_0x2220cf(0x55a)+_0x51bde6+_0x2220cf(0xa31)+_0x5ec5d5[_0x2220cf(0xaa3)]+_0x2220cf(0x83a)+(_0x5ec5d5[_0x2220cf(0x4ab)]?_0x2220cf(0x9c2)+_0x5ec5d5[_0x2220cf(0x4ab)]+'</p>':'')+_0x2220cf(0x59b);}_0xe581af[_0x2220cf(0x269)](_0x2220cf(0x90d),_0x21153b);if(!_0x5ec5d5[_0x2220cf(0x8cc)]&&_0x5ec5d5[_0x2220cf(0x4ab)]){const _0x562d74=_0xe581af[_0x2220cf(0xafb)][_0x2220cf(0x1f9)],_0x40f57f=_0xf98f85=>{const _0x4ab380=_0x2220cf;if(!_0xf98f85)return;_0xf98f85[_0x4ab380(0x445)][_0x4ab380(0x874)](_0x4ab380(0x561),_0x4ab380(0x854),_0x4ab380(0x1aa)),setTimeout(()=>{const _0x457ee3=_0x4ab380;_0xf98f85[_0x457ee3(0x445)]['remove']('bg-green-200');},0x9c4);};if(_0x562d74===_0x2220cf(0xa76)){const _0x4fe05d=Array[_0x2220cf(0x96a)](_0xe581af['querySelectorAll'](_0x2220cf(0x94a))),_0x4dd6c3=_0x4fe05d[_0x2220cf(0x29c)](_0x59d73b=>_0x59d73b[_0x2220cf(0x630)]['trim']()[_0x2220cf(0x57d)]()===_0x5ec5d5['suggestedAnswer'][_0x2220cf(0x56b)]()[_0x2220cf(0x57d)]());if(_0x4dd6c3!==-0x1){const _0x17c8ec=_0xe581af[_0x2220cf(0x5b4)]('input[type=\x22radio\x22][value=\x22'+_0x4dd6c3+'\x22]');_0x17c8ec&&(_0x17c8ec['checked']=!![],_0x40f57f(_0x17c8ec['closest'](_0x2220cf(0x904))));}}else{if(_0x562d74==='short_answer'||_0x562d74===_0x2220cf(0x845)){const _0x13e2b1=_0xe581af['querySelector'](_0x2220cf(0x611));_0x13e2b1&&(_0x13e2b1['value']=_0x5ec5d5[_0x2220cf(0x4ab)],_0x40f57f(_0x13e2b1));}else{if(_0x562d74==='true_false'){const _0x207fc7=_0x5ec5d5[_0x2220cf(0x4ab)]['trim']()['toLowerCase'](),_0x462699=_0xe581af['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x207fc7+'\x22]');_0x462699&&(_0x462699[_0x2220cf(0x31a)]=!![],_0x40f57f(_0x462699['closest'](_0x2220cf(0x904))));}}}}}),showMessage(_0x3112af(0x499));}async function handleVerifyAnswers(){const _0x2d31dc=_0x5cd971;if(!currentQuizData||!currentQuizData[_0x2d31dc(0x1e6)]){showMessage(_0x2d31dc(0x6f7));return;}const _0xc12037=document[_0x2d31dc(0xa59)](_0x2d31dc(0x77e));_0xc12037['disabled']=!![],_0xc12037[_0x2d31dc(0x43a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x2f3bab=currentQuizData['questions'][_0x2d31dc(0x6e4)]((_0x221a6d,_0x544170)=>{const _0x402121=_0x2d31dc;let _0x4987f6='';const _0x171640=_0x221a6d[_0x402121(0x969)]||currentQuizData['quizType'];switch(_0x171640){case _0x402121(0xa76):_0x4987f6=_0x221a6d[_0x402121(0x369)][_0x221a6d[_0x402121(0x501)]];break;case _0x402121(0x536):_0x4987f6=_0x221a6d[_0x402121(0x5e7)];break;case _0x402121(0x8fe):_0x4987f6=_0x221a6d[_0x402121(0x276)][_0x402121(0x5ea)]();break;case'matching_item':_0x4987f6=_0x221a6d['correctResponse'];break;}return{'question':_0x221a6d[_0x402121(0x5ce)]||_0x221a6d['questionText'],'options':_0x221a6d[_0x402121(0x369)]||null,'proposedAnswer':_0x4987f6};}),_0x10a47d=_0x2d31dc(0x9de)+JSON[_0x2d31dc(0xae0)](_0x2f3bab)+_0x2d31dc(0x83c),_0x54d040={'type':_0x2d31dc(0x3af),'items':{'type':_0x2d31dc(0x3b9),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x2d31dc(0x81e)},'suggestedAnswer':{'type':_0x2d31dc(0x81e)}},'required':[_0x2d31dc(0x32d),_0x2d31dc(0x8cc),_0x2d31dc(0xaa3)]}},_0x7adb5f=await callAnalysisApi(_0x10a47d,{'type':'OBJECT','properties':{'result':_0x54d040},'required':[_0x2d31dc(0x412)]});displayVerificationResults(_0x7adb5f[_0x2d31dc(0x412)]);}catch(_0x5951c2){console[_0x2d31dc(0x5a8)](_0x2d31dc(0x2ca),_0x5951c2),showMessage(_0x2d31dc(0x4a0));}finally{_0xc12037[_0x2d31dc(0x3cd)]=![],_0xc12037[_0x2d31dc(0x43a)]=_0x2d31dc(0x76b);}}function displayVerificationResults(_0x3c4c80){const _0x5e6030=_0x5cd971;_0x3c4c80[_0x5e6030(0x5d5)](_0x42b016=>{const _0x3c026f=_0x5e6030,_0x2cadb9=document[_0x3c026f(0x5b4)](_0x3c026f(0x2d7)+_0x42b016[_0x3c026f(0x32d)]+'\x22]');if(_0x2cadb9){const _0x3e7af6=_0x2cadb9[_0x3c026f(0x5b4)](_0x3c026f(0x41c));if(_0x3e7af6)_0x3e7af6['remove']();let _0x5843bb='';_0x42b016[_0x3c026f(0x8cc)]?_0x5843bb=_0x3c026f(0x1ae):_0x5843bb=_0x3c026f(0x605)+_0x42b016[_0x3c026f(0xaa3)]+_0x3c026f(0x95e)+(_0x42b016[_0x3c026f(0x4ab)]?_0x3c026f(0x9c2)+_0x42b016[_0x3c026f(0x4ab)]+_0x3c026f(0xae8):'')+_0x3c026f(0x474),_0x2cadb9[_0x3c026f(0x269)](_0x3c026f(0x90d),_0x5843bb);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x4140dc,_0x29d645){const _0x334a83=_0x5cd971,_0x2b5dd4=String(_0x4140dc)[_0x334a83(0x263)](',','.')[_0x334a83(0x263)](/[^\d.-]/g,'')['trim'](),_0x4df404=String(_0x29d645)[_0x334a83(0x263)](',','.')[_0x334a83(0x263)](/[^\d.-]/g,'')[_0x334a83(0x56b)]();if(_0x2b5dd4===''||_0x4df404==='')return![];const _0x3ebdff=parseFloat(_0x2b5dd4),_0x1b3407=parseFloat(_0x4df404);if(isNaN(_0x3ebdff)||isNaN(_0x1b3407))return![];return Math[_0x334a83(0x76c)](_0x3ebdff-_0x1b3407)<0.001;}function isPotentiallyNumeric(_0x5b5a41){const _0x4b5d5e=_0x5cd971;if(typeof _0x5b5a41!==_0x4b5d5e(0x436)&&typeof _0x5b5a41!==_0x4b5d5e(0x173))return![];const _0x36acfd=String(_0x5b5a41)[_0x4b5d5e(0x263)](',','.')[_0x4b5d5e(0x56b)]();return _0x36acfd!==''&&!isNaN(parseFloat(_0x36acfd))&&isFinite(_0x36acfd);}async function gradeShortAnswer(_0x503e96,_0x50ed3f){const _0x157c3d=_0x5cd971,_0x547bab=_0x50ed3f[_0x157c3d(0x5e7)],_0x1b3cca=String(_0x503e96)[_0x157c3d(0x263)](/\$/g,'')[_0x157c3d(0x56b)](),_0x3d146f=String(_0x547bab)[_0x157c3d(0x263)](/\$/g,'')['trim']();if(_0x1b3cca[_0x157c3d(0x57d)]()===_0x3d146f['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x1b3cca)&&isPotentiallyNumeric(_0x3d146f)){if(compareNumericalAnswers(_0x1b3cca,_0x3d146f))return!![];}return console['log'](_0x157c3d(0xa3a)),await gradeShortAnswerWithAI(_0x503e96,_0x547bab);}async function revealAnswerForAdmin(_0x55b83c,_0x11d096){const _0x39a9b5=_0x5cd971,_0x3d96b1=doc(db,_0x39a9b5(0xab3)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x3d96b1,{'questionStatus':_0x39a9b5(0x8e9)});}function showTop5LeaderboardView(_0x4ac52e){const _0x50bce8=_0x5cd971,_0x5ba5a5=Object[_0x50bce8(0xa88)](_0x4ac52e[_0x50bce8(0x8d7)]||{})['filter'](_0x20f179=>_0x20f179[_0x50bce8(0x6c8)]===_0x50bce8(0x18e));_0x5ba5a5[_0x50bce8(0x695)]((_0x1e8b89,_0x23c6b6)=>_0x23c6b6[_0x50bce8(0x3e9)]-_0x1e8b89[_0x50bce8(0x3e9)]);const _0x225efb=_0x5ba5a5[_0x50bce8(0x30e)](0x0,0x5),_0x450bc5=_0x50bce8(0x776)+_0x225efb[_0x50bce8(0x6e4)]((_0x1d4bd0,_0x900c35)=>_0x50bce8(0x433)+(_0x900c35+0x1)+'.\x20'+(_0x1d4bd0[_0x50bce8(0xa5e)]||Object[_0x50bce8(0xa57)](_0x4ac52e[_0x50bce8(0x8d7)])[_0x50bce8(0x3fd)](_0xe1954a=>_0x4ac52e['players'][_0xe1954a]===_0x1d4bd0))+_0x50bce8(0x36a)+_0x1d4bd0['score']+_0x50bce8(0x837))[_0x50bce8(0x386)]('')+_0x50bce8(0xab7)+(_0x4ac52e[_0x50bce8(0x34b)]+0x1===currentQuizData[_0x50bce8(0x1e6)][_0x50bce8(0x963)]?_0x50bce8(0x4cf):'ข้อต่อไป')+_0x50bce8(0x7ca);liveGameView[_0x50bce8(0x43a)]=_0x450bc5,document[_0x50bce8(0xa59)](_0x50bce8(0x5ab))[_0x50bce8(0x1ce)](_0x50bce8(0x420),async()=>{const _0x205a17=_0x50bce8,_0x542d6d=doc(db,'artifacts/'+appId+_0x205a17(0x52e),currentLiveGameId),_0x23f531=_0x4ac52e['currentQuestionIndex']+0x1;if(_0x23f531<currentQuizData[_0x205a17(0x1e6)][_0x205a17(0x963)]){const _0x14e7b7={'currentQuestionIndex':_0x23f531,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x205a17(0x7df)};Object[_0x205a17(0xa57)](_0x4ac52e[_0x205a17(0x8d7)])[_0x205a17(0x5d5)](_0x44cbde=>{const _0x3a0294=_0x205a17;_0x14e7b7[_0x3a0294(0x8b4)+_0x44cbde+_0x3a0294(0x5ae)]=![];}),await updateDoc(_0x542d6d,_0x14e7b7);}else await updateDoc(_0x542d6d,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x32d136=>{const _0x59f2d5=_0x1129;if(_0x32d136){userId=_0x32d136[_0x59f2d5(0x345)],userIdDisplay[_0x59f2d5(0x2e0)]=userId;const _0x40f9fe=await loadUserPreferences();_0x40f9fe[_0x59f2d5(0x559)]&&(document[_0x59f2d5(0xa59)](_0x59f2d5(0x5a5))[_0x59f2d5(0x630)]=_0x40f9fe['projectSortOrder']);globalDashboardSettings[_0x59f2d5(0x6f6)]=_0x40f9fe[_0x59f2d5(0x6f6)]||_0x59f2d5(0x229);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x1f0dfb,_0x8993ec){const _0x49a52a=_0x5cd971;if(!userId)return;try{const _0x51709d=doc(db,_0x49a52a(0xab3)+appId+_0x49a52a(0x92f)+userId+'/preferences/main'),_0x7fad5b={};_0x7fad5b[_0x1f0dfb]=_0x8993ec,await setDoc(_0x51709d,_0x7fad5b,{'merge':!![]});}catch(_0x4c6add){console[_0x49a52a(0x5a8)](_0x49a52a(0x17d),_0x4c6add);}}async function loadUserPreferences(){const _0x27d064=_0x5cd971;if(!userId)return{};try{const _0x227ec3=doc(db,_0x27d064(0xab3)+appId+_0x27d064(0x92f)+userId+'/preferences/main'),_0x783888=await getDoc(_0x227ec3);if(_0x783888['exists']())return _0x783888[_0x27d064(0x730)]();return{};}catch(_0x54642c){return console[_0x27d064(0x5a8)]('Error\x20loading\x20user\x20preferences:',_0x54642c),{};}}function showPodiumView(_0x1ab286,_0x1719de=_0x5cd971(0x241)){const _0x8f8bbb=_0x5cd971,_0x2de992=Object[_0x8f8bbb(0x811)](_0x1ab286)[_0x8f8bbb(0x6e4)](([_0x537ad3,_0x3a336a])=>({'name':_0x537ad3,'score':_0x3a336a[_0x8f8bbb(0x3e9)]||0x0,'badges':_0x3a336a[_0x8f8bbb(0x798)]||[],'hasPerfectScoreBonus':_0x3a336a[_0x8f8bbb(0x58e)]||![]}));_0x2de992[_0x8f8bbb(0x695)]((_0x2d8947,_0x1e0d1e)=>{const _0x4a6f00=_0x8f8bbb,_0x5ea646=_0x1e0d1e[_0x4a6f00(0x3e9)]-_0x2d8947['score'];if(_0x5ea646!==0x0)return _0x5ea646;return(_0x1e0d1e[_0x4a6f00(0x798)]['length']||0x0)-(_0x2d8947['badges'][_0x4a6f00(0x963)]||0x0);});const _0x369033=_0x5b6935=>{const _0x318c5e=_0x8f8bbb;if(!_0x5b6935||_0x5b6935[_0x318c5e(0x963)]===0x0)return'';const _0x3d224c={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x318c5e(0x663)+_0x5b6935['map'](_0x1ca383=>_0x3d224c[_0x1ca383]||'')[_0x318c5e(0x386)]('')+'</div>';},_0x4b6a9f=_0x2de992[_0x8f8bbb(0x30e)](0x3),_0x5d65c5=_0x4b6a9f[_0x8f8bbb(0x963)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b6a9f[_0x8f8bbb(0x6e4)]((_0x41059c,_0x84a9f0)=>{const _0x38ba7c=_0x8f8bbb,_0x501d13=_0x41059c[_0x38ba7c(0x58e)]?_0x38ba7c(0x725):'';return _0x38ba7c(0x40b)+(_0x84a9f0+0x4)+_0x38ba7c(0x5dd)+_0x41059c['name']+_0x38ba7c(0xabe)+_0x41059c[_0x38ba7c(0x3e9)]+_0x38ba7c(0x719)+_0x501d13+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x8f8bbb(0x386)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x530196=_0x8f8bbb(0x946)+(_0x2de992[0x1]?_0x8f8bbb(0x57e)+_0x2de992[0x1][_0x8f8bbb(0xa5e)]+_0x8f8bbb(0xae8)+_0x369033(_0x2de992[0x1][_0x8f8bbb(0x798)])+_0x8f8bbb(0x1d9)+_0x2de992[0x1][_0x8f8bbb(0x3e9)]+_0x8f8bbb(0x719)+(_0x2de992[0x1][_0x8f8bbb(0x58e)]?_0x8f8bbb(0x95c):'')+_0x8f8bbb(0x37c):_0x8f8bbb(0x512))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2de992[0x0]?_0x8f8bbb(0x596)+_0x2de992[0x0][_0x8f8bbb(0xa5e)]+_0x8f8bbb(0xae8)+_0x369033(_0x2de992[0x0][_0x8f8bbb(0x798)])+'<p\x20class=\x22text-2xl\x22>'+_0x2de992[0x0][_0x8f8bbb(0x3e9)]+'\x20คะแนน\x20'+(_0x2de992[0x0]['hasPerfectScoreBonus']?_0x8f8bbb(0x95c):'')+_0x8f8bbb(0x782):_0x8f8bbb(0x512))+_0x8f8bbb(0x2c5)+(_0x2de992[0x2]?_0x8f8bbb(0x724)+_0x2de992[0x2][_0x8f8bbb(0xa5e)]+'</p>'+_0x369033(_0x2de992[0x2][_0x8f8bbb(0x798)])+'<p\x20class=\x22text-xl\x22>'+_0x2de992[0x2][_0x8f8bbb(0x3e9)]+_0x8f8bbb(0x719)+(_0x2de992[0x2]['hasPerfectScoreBonus']?_0x8f8bbb(0x95c):'')+_0x8f8bbb(0x929):_0x8f8bbb(0x512))+_0x8f8bbb(0x658)+_0x5d65c5+_0x8f8bbb(0x9a1)+(currentMode==='admin'?_0x8f8bbb(0x660):_0x8f8bbb(0x7fd))+_0x8f8bbb(0xa56);liveGameView[_0x8f8bbb(0x43a)]=_0x530196,currentMode==='admin'&&document[_0x8f8bbb(0xa59)](_0x8f8bbb(0x940))[_0x8f8bbb(0x1ce)](_0x8f8bbb(0x420),async()=>{const _0x23db10=_0x8f8bbb;let _0x3cf538;_0x1719de===_0x23db10(0x32e)?_0x3cf538=doc(db,_0x23db10(0xab3)+appId+_0x23db10(0x805),currentLiveGameId):_0x3cf538=doc(db,_0x23db10(0xab3)+appId+_0x23db10(0x52e),currentLiveGameId),await deleteDoc(_0x3cf538);});}function renderSyncSummaryView(_0x96d6e,_0x38f014,_0xea1c1){const _0x4b557b=_0x5cd971,_0x589d34=Object['values'](_0x96d6e[_0x4b557b(0x8d7)]||{}),_0x2129ff=_0x38f014[_0x4b557b(0x969)]||_0x96d6e['shuffledQuiz'][_0x4b557b(0x42e)];let _0xfed43e=[];_0x2129ff===_0x4b557b(0x8fe)?_0xfed43e=[_0x4b557b(0xa11),'ไม่ใช่\x20/\x20ผิด']:_0xfed43e=_0x38f014[_0x4b557b(0x369)]||[];const _0xb29c63=new Array(_0xfed43e[_0x4b557b(0x963)])['fill'](0x0),_0x307cd0={};_0xfed43e[_0x4b557b(0x5d5)]((_0x3d7a1b,_0x2bc55f)=>{_0x307cd0[_0x2bc55f]=[];}),Object['entries'](_0x96d6e[_0x4b557b(0x8d7)]||{})[_0x4b557b(0x5d5)](([_0x507d32,_0x1dec34])=>{const _0x2fe0ae=_0x4b557b;if(_0x1dec34['status']!==_0x2fe0ae(0x6ce)&&_0x1dec34['lastAnswerIndex']!==undefined&&_0x1dec34['lastAnswerIndex']!==null){const _0x95745f=_0x1dec34[_0x2fe0ae(0x4a7)];_0x307cd0[_0x95745f]!==undefined&&(_0x307cd0[_0x95745f][_0x2fe0ae(0x34a)](_0x507d32),_0xb29c63[_0x95745f]++);}});let _0x263c17='';_0xea1c1?_0x263c17=_0x4b557b(0x99d):_0x263c17=_0x4b557b(0x4a9);const _0x154664=_0x4b557b(0x57b)+_0x38f014[_0x4b557b(0x2a7)]+_0x4b557b(0x365)+_0xb29c63[_0x4b557b(0x6e4)]((_0x421f09,_0x4c0523)=>{const _0x47b333=_0x4b557b,_0x2f0ed2=_0x307cd0[_0x4c0523][_0x47b333(0x963)]>0x0?_0x307cd0[_0x4c0523][_0x47b333(0x386)](',\x20'):_0x47b333(0x668),_0xc61caa=_0x47b333(0x192);return _0x47b333(0x6e7)+_0x421f09+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0xc61caa+_0x47b333(0x473)+_0x4c0523+_0x47b333(0x1b3)+_0xfed43e[_0x4c0523]+_0x47b333(0x756)+_0x4c0523+_0x47b333(0xa47)+_0x2f0ed2+_0x47b333(0x804);})[_0x4b557b(0x386)]('')+_0x4b557b(0x2a2)+_0x263c17+_0x4b557b(0x88a);liveGameView[_0x4b557b(0x43a)]=_0x154664;if(window['MathJax'])MathJax[_0x4b557b(0x2b6)]();_0xea1c1&&(document[_0x4b557b(0xa59)](_0x4b557b(0x385))[_0x4b557b(0x1ce)](_0x4b557b(0x420),async()=>{const _0x373ea1=_0x4b557b,_0x4c0dd1=doc(db,'artifacts/'+appId+_0x373ea1(0x805),currentLiveGameId);await updateDoc(_0x4c0dd1,{'status':'results'});}),document[_0x4b557b(0xa59)]('open-sync-scratchpad-btn')[_0x4b557b(0x62f)]=()=>{openScratchpad(_0x38f014,_0xfed43e);});}async function handleShowStudentRankings(){const _0x4372e1=_0x5cd971,_0x44c3f8=document[_0x4372e1(0x5b4)](_0x4372e1(0x76d));_0x44c3f8&&(_0x44c3f8['innerHTML']=_0x4372e1(0x603));const _0x4ea0f5=document[_0x4372e1(0x5b4)](_0x4372e1(0x570));_0x4ea0f5&&(_0x4ea0f5[_0x4372e1(0x43a)]=_0x4372e1(0x449));const _0x51489f=document[_0x4372e1(0xa59)](_0x4372e1(0x677));_0x51489f['classList'][_0x4372e1(0x6b7)](_0x4372e1(0x318)),document[_0x4372e1(0xa59)](_0x4372e1(0x215))[_0x4372e1(0x62f)]=()=>_0x51489f[_0x4372e1(0x445)][_0x4372e1(0x874)](_0x4372e1(0x318));const _0x173b53=document[_0x4372e1(0xa59)](_0x4372e1(0x6dc)),_0xd6d25f=document['getElementById'](_0x4372e1(0x1d4)),_0x1da028=document[_0x4372e1(0xa59)]('student-quiz-leaderboard-content'),_0x6dc1b3=document[_0x4372e1(0xa59)](_0x4372e1(0x92b));_0x173b53[_0x4372e1(0x62f)]=()=>{const _0x943cf5=_0x4372e1;_0x173b53[_0x943cf5(0x445)][_0x943cf5(0x874)](_0x943cf5(0x18e)),_0xd6d25f[_0x943cf5(0x445)][_0x943cf5(0x6b7)]('active'),_0x1da028[_0x943cf5(0x445)][_0x943cf5(0x6b7)]('hidden'),_0x6dc1b3['classList'][_0x943cf5(0x874)](_0x943cf5(0x318));},_0xd6d25f[_0x4372e1(0x62f)]=()=>{const _0x197520=_0x4372e1;_0xd6d25f[_0x197520(0x445)][_0x197520(0x874)](_0x197520(0x18e)),_0x173b53[_0x197520(0x445)][_0x197520(0x6b7)]('active'),_0x6dc1b3[_0x197520(0x445)][_0x197520(0x6b7)](_0x197520(0x318)),_0x1da028['classList']['add'](_0x197520(0x318));};try{const _0x1883f6=collection(db,_0x4372e1(0xab3)+appId+_0x4372e1(0xa37)+currentQuizData['id']+'/submissions'),_0x49b461=await getDocs(_0x1883f6),_0x1fe434=_0x49b461[_0x4372e1(0x354)]['map'](_0x364b17=>_0x364b17[_0x4372e1(0x730)]());renderQuizLeaderboard(_0x1fe434,currentQuizData,_0x4372e1(0x77f));const _0xdcd7c4=collection(db,_0x4372e1(0xab3)+appId+'/public/data/projects/'+currentQuizData[_0x4372e1(0x868)]+'/studentProfiles'),_0xba9229=await getDocs(_0xdcd7c4),_0x26f388=_0xba9229[_0x4372e1(0x354)][_0x4372e1(0x6e4)](_0x306474=>_0x306474['data']());renderLeaderboard(_0x26f388,'student-project-leaderboard-table-body');}catch(_0xc8dd12){console[_0x4372e1(0x5a8)]('Error\x20fetching\x20student\x20rankings:',_0xc8dd12),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x58ec80){const _0x363c7e=_0x5cd971,_0x1d0926=_0x58ec80['currentTarget'],_0x1c6526=_0x1d0926[_0x363c7e(0xafb)][_0x363c7e(0x321)],_0x5a23f4=currentQuizData[_0x363c7e(0x1e6)][_0x1c6526];if(!userId){showMessage(_0x363c7e(0x21e));return;}try{const _0x35c754={..._0x5a23f4,'originalTopic':currentQuizData[_0x363c7e(0xaad)],'savedAt':serverTimestamp()},_0x3ef3a5=collection(db,_0x363c7e(0xab3)+appId+'/users/'+userId+'/questionBank');await addDoc(_0x3ef3a5,_0x35c754),showMessage(_0x363c7e(0x5fc)),_0x1d0926[_0x363c7e(0x445)][_0x363c7e(0x6b7)]('text-purple-600'),_0x1d0926['classList'][_0x363c7e(0x874)](_0x363c7e(0x81a)),_0x1d0926[_0x363c7e(0x3cd)]=!![];}catch(_0xed199d){console['error']('Error\x20saving\x20to\x20question\x20bank:',_0xed199d),showMessage(_0x363c7e(0xaea));}}function listenForStarredQuizzes(){const _0x4daa1d=_0x5cd971;if(!userId)return;const _0x5eeeeb=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x3a0ed3=query(_0x5eeeeb,where(_0x4daa1d(0x783),'==',!![]));onSnapshot(_0x3a0ed3,_0x298d19=>{const _0xc95924=_0x4daa1d;starredQuizzes=_0x298d19[_0xc95924(0x354)]['map'](_0x15aa1b=>({'id':_0x15aa1b['id'],..._0x15aa1b[_0xc95924(0x730)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x128b2d=>{const _0x5d9e31=_0x4daa1d;console[_0x5d9e31(0x5a8)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x128b2d);});}function _0x3d48(){const _0x4c10c3=['preScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','mean','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x20จาก\x20','#FFFFFF','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','8376Sgruqd','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','ยกเลิกการจับคู่สำเร็จ','shuffle','<div\x20class=\x22','-tab-content','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','analyze-strengths-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pen-tools-group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','p-2\x20bg-black/10\x20rounded-md','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','keys','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','getElementById','</span></p>','catch','confirm-quiz-settings-btn','numeric','name','cancel-test-btn','Failed\x20to\x20get\x20standardized\x20topic:','คัดลอกแบบทดสอบสำเร็จ','.sortable-header','log','function','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','retake-quiz-loop-btn','nickname-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','close-lesson-plan-modal-btn','เกิดข้อผิดพลาดในการบันทึกลำดับ','Error\x20saving\x20questions\x20to\x20practice\x20bank:','presentation-modal','\x22\x20name=\x22drill_answer\x22\x20value=\x22','.unpair-quiz-btn','leaderboard-quiz','ฟังก์ชันสัมพัทธ์\x20(rational)','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','option','analytics-summary-cards','multiple_choice','confidence-modal','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','start-game-btn','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','auto','ทฤษฎีทวินาม\x20(เบื้องต้น)','questionId','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API',':</span><span>','.topic-name-input','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','opacity','passcode-error-msg','lessonPlan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','values','Group\x20Mode','undo-btn','_opt1\x22>ไม่ใช่</label></div>','startTime','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','Error\x20during\x20class\x20analysis:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22><p\x20class=\x22font-semibold\x22>','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','gain','กลุ่ม:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','bg-green-500','สร้างใหม่','timer-bar','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','Error\x20regenerating\x20question\x20in\x20editor:','มุมและการวัดมุม','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','create-project-btn','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','wasConfident','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','.quiz-bank-settings-btn','gamePin','commit','justification','.topic-name-display','scratchpad-question','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การปัดเศษและประมาณค่า','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','.answer-text','input[name=\x22team_player\x22]:checked','removeItem','restore','artifacts/','results-tab-content','block','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[*]','กำลังสร้างรูปภาพ...','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','.export-pdf-list-btn','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','text-red-700\x20bg-red-100','strength-weakness-analysis-container','Attempting\x20to\x20save\x20game\x20results...','timer-mode-select','<p\x20class=\x22','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','documentElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.copy-quiz-id-list-btn','some','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','กฎของไซน์','createObjectURL','Invalid\x20response\x20structure\x20from\x20AI:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fadeStartTime','ทฤษฎีบทพีทาโกรัสและการประยุกต์','\x20ตัวเลือก.\x20','text-green-600\x20font-bold','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','bulk-shuffle-select','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','presentation-short-answer-input','stringify','.project-card-container','user','group','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','text/html','.star-quiz-btn','</p>','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','เกิดข้อผิดพลาดในการบันทึก','Error\x20fetching\x20quiz\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','display','/public/data/quizzes','ลบหัวข้อสำเร็จ','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','keyConcepts','start-live-race-generated-btn','timerMode','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','text-gray-500','files','dataset','2199016axOuWf','หยุดระบบจับเวลาหรี่หน้าจอ','generate-from-text-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','confirm-admin-login-btn','<div>','ฮิสโตแกรม','สมการเชิงเส้นตัวแปรเดียว','submit','wheel','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','#results-table','แผนการสอน:\x20','number','7706GdfoRx','scores-tab-content','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','.lastAnswerIndex','\x5cdiv','sum','student','$1^{$2}','text-green-700\x20bg-green-100','Error\x20saving\x20user\x20preference:','<div\x20class=\x22p-2\x20rounded-md\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','no-projects-msg','Error\x20starting\x20team\x20quiz:','innerText','input[type=\x22checkbox\x22]','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','rows','Error\x20saving\x20project\x20order:','imageCode','9531170Ghkcjr','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','แบบทดสอบซ่อมเสริม','answer-grid-container','สัญกรณ์วิทยาศาสตร์','upper_group_count','active','student-name-selection-view','scratchpad-canvas','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','#6366F1','scratchpad-header','move','#FEF3C7','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','จุด\x20เส้น\x20ระนาบ','onchange','.duplicate-quiz-btn','countdown-display','สรุปผลการวิเคราะห์:\x5cn','คะแนน','tool','webkitExitFullscreen','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isConfidenceScoringEnabled','ลบโปรเจคสำเร็จแล้ว','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','instructions','Error\x20deleting\x20all\x20students:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','modal-confidence-mode-container','เกิดข้อผิดพลาดในการลบนักเรียน','scheduled_pending','duration-300','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','สเกลและแผนที่','\x5cneq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.delete-svg-btn','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','draggable-text','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','project-quizzes-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','กรุณาเลือกคำตอบก่อนครับ','parts','next-question-btn','Error\x20listening\x20for\x20student\x20profiles:','ไม่ได้ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','worksheet-tab','text-red-500\x20hover:text-red-700','comparison-chart','offsetWidth','แบบทดสอบนี้ปิดใช้งานอยู่','gameData','includes','latestSubmittedAt','ตรวจคะแนนใหม่\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','ระยะเวลา\x20(นาที):','cancel-team-selection-btn','isLooping','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x5cfrac{$1}{$2}','addEventListener','highlighter-size-slider','</span></div>','(คู่ขนาน)\x20','settings','timer-container','student-project-leaderboard-tab','ฟังก์ชันผกผัน','save-visibility-settings-btn','finishReason','confidence-scoring-description','<p\x20class=\x22text-xl\x22>','สมการราก\x20(radical)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','include-images-checkbox','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','Error\x20joining\x20activity:','POST','num-choices','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','lesson-plan-title','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','questions','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','bulk-loop-until-pass-checkbox','00:00','Failed\x20to\x20create/update\x20submission\x20record:','.ideal-answer-input','Error\x20generating\x20lesson\x20plan:','results_','\x20คู่\x20','คัดลอกไม่สำเร็จ','leaderboard-tab-content','localeCompare','พื้นที่วงกลม/ส่วนของวงกลม','message','กรุณาพิมพ์คำตอบของกลุ่ม','target','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','querySelectorAll','qType','px)\x20scale(','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quizMode','timerDuration','projectName','blueprint-input-area','stroke','worksheet-input-area','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','modal-timer-duration-container','แบบทดสอบที่ติดดาว','project-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','ปรับเพิ่ม/ลดเป็นร้อยละ','Error\x20updating\x20sort\x20preference:','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','คะแนนเต็ม!','close','pointermove','th-TH','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','list-view-btn','sync-player-management','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_the_blank','close-student-rankings-btn','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','Failed\x20to\x20get\x20hint:','right','_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปแต่ละหัวข้อให้สั้น\x20กระชับ\x20และเข้าใจง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ไม่ต้องใส่รหัสตัวชี้วัดหรือรายละเอียดปลีกย่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตอบกลับมาเป็น\x20JSON\x20array\x20ของ\x20string\x20เท่านั้น\x20โดยแต่ละ\x20string\x20คือชื่อหัวข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์ที่ต้องการ:\x20[\x22การบวก\x20ลบ\x20คูณ\x20หารระคน\x22,\x20\x22การเปรียบเทียบเศษส่วน\x22,\x20\x22โจทย์ปัญหาอัตราส่วนและร้อยละ\x22,\x20\x22ความยาวรอบรูปและพื้นที่ของวงกลม\x22]\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ผ่าน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้ใช้','modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','studentName','devicePixelRatio','ปริมาตรรูปทรงสามมิติ','bg-red-200\x20text-red-800','confirm-global-live-btn','isArray','อนุพันธ์:\x20กฎลูกโซ่','grid','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','#DBEAFE','webkitRequestFullscreen','results-tab','back-to-student-home-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','.verification-result-editor','first_try_ace','G-V90KRM0L63','get','cancel-delete-btn','live-player-list','modal-shuffle-select','project-detail','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-blue-700','\x5cfrac{','ไม่ใช่\x20/\x20ผิด','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','</label></div>','live-race','confidence_single','Error\x20generating\x20parallel\x20post-test:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','left','empty','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','save-quiz-edits-btn','พิมพ์ตอบ','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','title','sync-player-list','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','fa-pen','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','print','math-topics-checkbox-container','cancel-quiz-settings-btn','font-bold\x20text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','Error\x20joining\x20team\x20quiz:','export-pdf-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','timed','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','\x20</div>\x0a\x20\x20\x20\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','overline','replace','button[type=\x22submit\x22]','scratchpad-clear-btn','generate-from-topic-btn','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','then','insertAdjacentHTML','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','พีชคณิตและฟังก์ชัน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','ดอกเบี้ยอย่างง่าย','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','(เลือกแล้ว\x20','กำลังค้นหากิจกรรม...','shuffle-setting-select','content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20renaming\x20quiz:','correctAnswer','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','.lastAnswerValue','bg-purple-50','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','interesting-stats-wrapper','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','normal','text-red-900','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','student-progress-view','text','label','team-student-list','2.\x20วิเคราะห์\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','export-word-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x20/\x20','deselect-all-topics-btn','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','ยังไม่เต็มนะ','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','MathJax','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','set','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','แบบทดสอบ:\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','สำหรับโปรเจค:\x20','bottom','</p><div>','main-correct-answer-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log-tab-content','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','tfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20//\x20<---\x20เพิ่มคำสั่งใหม่ตรงนี้\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เนื้อหาจาก\x20Test\x20Blueprint:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toFixed','starred','\x20รายการ...','questionText','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','game-start-mode','submittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','#10B981','.live-answer-btn,\x20#sync-submit-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','q-image-container-','มุมพิเศษ\x2030°-60°-90°','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','size','.generate-post-test-btn','typesetPromise','release','.summary-bar-item','summary','/public/data/projects/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','both','multiply','blockReason','table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','scheduled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confidenceMode','ระยะเวลา\x20(วินาที):','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','Error\x20verifying\x20answers:','text-green-700','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','ความสัมพันธ์ของมุม','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20projects:','hover:bg-indigo-100','/submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','undefined','div[data-question-index=\x22','presentation-scratchpad-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์หลักสูตรการศึกษา\x20(Curriculum\x20Analyst)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือการอ่านและวิเคราะห์ข้อความที่คัดลอกมาจากเอกสาร\x20\x22Test\x20Blueprint\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อความต่อไปนี้\x20ให้ระบุ\x20\x22สาระการเรียนรู้\x22\x20หรือ\x20\x22หัวข้อหลัก\x22\x20ที่จะทำการทดสอบออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อความจาก\x20Blueprint:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','$1^{\x5ccirc}','textContent','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริมาตร/ความจุและการแปลง','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','link-input-area','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','join-group-activity-btn','leaderboard-quiz-tab-content','confirm-bulk-quiz-settings-btn','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x22>ใช่</p>','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','Error\x20verifying\x20answers\x20in\x20editor:','หน่วยความยาวและการแปลง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ยังไม่ส่ง','.status','update','admin-dashboard','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','destroy','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','สมการค่าสัมบูรณ์','per-q-countdown','คณิตการเงิน/บูรณาการ','.toggle-actions-btn','baseVal','textarea[name=\x22question_single\x22]','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','hint','วงรี','generate-from-link-btn','copy-quiz-id-btn','.mb-6.p-4','random','perQuestionStats','ความชันและเส้นตรง','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','slice','dragstart','activeGameSession','canvas','trail','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','text-red-700','บันทึกการแก้ไข','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','.quiz-settings-btn','hidden','quiz-results','checked','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','file-topic-input','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','index','comparison-overall-tab','ai-quiz-generator-v3','auto-fix-latex-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','เวกเตอร์และเมทริกซ์\x20(เสริม)','จัดการ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','groups.','questionIndex','sync','Error\x20saving\x20visibility\x20settings:','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','commonMistakes','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','end-game-btn','Error\x20updating\x20custom\x20topic:','การหาร','button','transform','bg-black/20','show_pass_fail_only','has','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','times','-tab','prev-question-btn','fixed','pointerType','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','การแปลงรูปอัตลักษณ์','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','จากเนื้อหาต่อไปนี้:\x20\x22','uid','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','API\x20call\x20failed\x20with\x20status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','AI\x20grading\x20failed:','push','currentQuestionIndex','perfect_score','scratchpad-modal','rgba(255,\x20255,\x200,\x200.5)','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','เกี่ยวกับหัวข้อ\x20\x22','circ','results','fromCharCode','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตสถานะสำเร็จ','<span\x20class=\x22font-bold\x20','.draggable-text','focus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','.parallel-quiz-btn','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากไฟล์ข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปิดใช้งาน','save-project-name-btn','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','toggle','Failed\x20to\x20end\x20group\x20mode\x20game:','options','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','passcode','กำลังจับคู่...','เปิด\x20(จับเวลา)','ไม่พบข้อมูลเกม','fill_in_with_choices','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','Enter','project-name-input','admin-password-input','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','.start-presentation-list-btn','getItem','specialist','.ai-fix-formula-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','\x22\x20data-q-type=\x22','เกิดข้อผิดพลาดในการนำผู้เล่นออก','globalCompositeOperation','msRequestFullscreen','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','อสมการเชิงเส้น','ไม่พบแบบทดสอบในระบบเลย','touchend','show-results-btn','join','กำลังดึงข้อมูลจากลิงก์...','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','#D1FAE5','createElementNS','กำลังสร้างคำถามข้อ\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','กรุณาเลือกคำตอบ','text/csv;charset=utf-8;','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','แบบเติมคำตอบ','modal-confidence-scoring-checkbox','Error\x20submitting\x20team\x20answer:','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data:application/vnd.ms-word;charset=utf-8,','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','<div\x20class=\x22my-6\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','bg-red-50','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confidence-scoring-toggle','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','จับคู่แบบทดสอบสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-confidence-mode-container','bulk-confidence-scoring-checkbox','isFinished','asc','Authentication\x20failed:','bg-yellow-100','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','export-worksheet-pdf-btn','สถิติและความน่าจะเป็น','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','export-excel-btn','ผิด','ARRAY','API\x20call\x20failed','save-quiz-btn','cdot','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','removeEventListener','substring','showRankings','createElement','ระยะทางและจุดกึ่งกลาง','OBJECT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-questions-container','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fixedData','.score','<button\x20data-value=\x22','dashboardConfig','appendChild','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','editable-text-','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','trail-tool-btn','.quiz-bank-item','text-white','red','project-detail-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','disabled','รูปสแควร์รูท\x20(surd)','กำลังสร้างเนื้อหา:\x20','beginPath','createdAt','touchstart','confirm-game-start-modal','confidence-scoring-checkbox','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','worksheet-topic-input','ผ่านฉลุย','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','bg-red-100','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','</td>','สร้างแบบทดสอบปรนัย','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','endTime','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','student-join-game-view','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','การวัด','shouldSaveResults','</li>','#F59E0B','blueprint-topics-list-container','score','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','jspdf','text-red-300\x20hover:text-red-100','comparison','analytics','Error\x20deleting\x20project:','badgesCount','lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','playerName','join-live-game-btn','#E5E7EB','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','getBBox','ไม่พบตารางสำหรับ\x20Export','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STOP','bg-red-500','find','now','startedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','มุมพิเศษ\x2045°-45°-90°','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','element','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','msExitFullscreen','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','.submittedAt','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','document','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','ดีเทอร์มิแนนต์','original-mode-checkbox','result','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','เรเดียนและการแปลงหน่วย','การนับ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','cancel-quiz-edits-btn-footer','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','practiceProblems','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.verification-result','mode-switcher-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','quiz-form','click','พบข้อสอบ\x20','top','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','แก้ไขข้อนี้','การประยุกต์เวกเตอร์พื้นฐาน','Error\x20saving\x20game\x20results:','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','.move-quiz-btn','bestScore','timestamp','cancel-export-pdf-btn','quizType','comparison-overall-content','grid-view-btn','rgba(79,\x2070,\x20229,\x200.8)','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','student-initial-view','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','string','37zEdSrs','Error\x20showing\x20quiz\x20detail\x20view:','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','innerHTML','COMEBACK_KING','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','outerHTML','</p><p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-container','bar','เปลี่ยนชื่อแบบทดสอบสำเร็จ','fa-bolt\x20text-blue-500','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','classList','กลุ่มของคุณ','scale','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','modal-results-display-select','category','\x5csum','.doc','\x20ชุดสำเร็จ!','keydown','min','\x20mx-1\x20text-lg\x22></i></span>','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','num-questions','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','ai-quiz-app-aefee.firebaseapp.com','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','source-over','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','ควรปรับปรุง','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stdDev','showImproveButton','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อใหม่','cancel-move-quiz-btn','student-name-select','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','rgba(79,\x2070,\x20229,\x201)','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','รากที่สองและที่สาม','รอ...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','selected-answer-index-hidden','_opt0\x22>ใช่</label></div>',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','line-through\x20text-red-700','redo-btn','topic-input-area','next-drill-btn','\x22\x20สำเร็จ','.answers','จำนวนและการดำเนินการ','AI\x20ไม่สามารถประมวลผลข้อมูลได้','show_results_only','thead\x20.sortable-header','sync-matching-select','เกิดข้อผิดพลาดในการเปลี่ยนสี','game-start-quiz-id','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','close-comparison-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','px,\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scratchpad-options','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.isScored','date_desc','bank-tab','clientX','การคูณทศนิยม','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.edit-quiz-btn','fa-user-astronaut\x20text-blue-700','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bulk-quiz-settings-modal','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','ตรวจทานเฉลยเสร็จสิ้น!','pointerdown','helvetica','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','Error\x20adding\x20custom\x20topic:','schedule','toLocaleDateString','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','cancel-game-start-btn','shadowBlur','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','.quiz-bank-try-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','lastAnswerIndex','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','</span>','suggestedAnswer','not_confident','วงกลม:\x20สมการและสมบัติ','correctResponse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','Error\x20saving\x20quiz\x20edits:','.project-card-container:not(.opacity-50)','_opt1\x22\x20name=\x22question','text-blue-700\x20bg-blue-100','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-close-btn','resultsDisplay','.csv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','2120349BxPJvI','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','Team\x20Quiz','score-distribution-chart','ท็อปฟอร์ม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointsLastQuestion','เนื้อหาสำหรับสอน:\x20','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','\x22\x20data-pre-test-id=\x22','ไม่ใช่','items','per-question-options','bg-blue-100\x20text-blue-800','จำนวนคู่:','สรุปผลสุดท้าย','mouse','เพิ่มหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','btn','file-input-area','total','.live-answer-btn','results-quiz-id-display','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','lowerGroupNames','.admin-try-quiz-list-btn','การบวกเศษส่วน','backgroundColor','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','rgba(239,\x2068,\x2068,\x200.9)','ทำคะแนนได้เกินครึ่ง','className','<li\x20class=\x22','text-red-600','<div\x20class=\x22loader\x20mx-auto\x22></div>','^{\x5ccirc}\x5ctext{C}$','Error\x20generating\x20easy\x20version\x20quiz:','สมการตรีโกณมิติ','firstScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','ข้อที่\x20','[data-topic-container-id]','cancel-quiz-status-btn','generate-from-file-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','bg-gray-50','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','\x22\x20class=\x22delete-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','สมการเหตุผล\x20(rational)','cancel-bulk-quiz-settings-btn','ศูนย์','quiz-search-input','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','position','border-green-700','AI\x20ไม่สามารถแยกหัวข้อได้','```json','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touches','modal-adaptive-quiz-checkbox','correctAnswerIndex','parallel-test-tab','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','ไม่พบเอกสารการส่งงานของ\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','modal-timer-duration-input','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','1:274192258111:web:4120c9118229b5644dd48a','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-upload-input','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','question-analytics-container','podium','write','<div\x20class=\x22flex-1\x22></div>','false','Error\x20analyzing\x20blueprint\x20topics:','Error\x20processing\x20file\x20for\x20AI:','</div></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','export-leaderboard-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</option>','0\x200','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.delete-custom-topic-btn','กำลังสแกนหาแบบทดสอบเก่า...','.live-answer-btn,\x20#live-submit-short-answer-btn','เรขาคณิต','Invalid\x20response\x20structure\x20from\x20AI.','width','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','.topic-category','color','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','.highlighter-color-btn','(คัดลอก)\x20','visibilityState','getContext','back-to-project-btn','หัวข้อที่สร้างเอง','/public/data/liveGames','behaviorLog','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','close-presentation-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','move-quiz-project-select','round','ON_FIRE','short_answer','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x22','#view-rankings-btn','save-settings-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','หน่วยเวลาและการคำนวณเวลา','exists','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','การสร้างรูปด้วยวงเวียน–สันตรง','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200\x20text-green-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','save-game-results-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','ownerSVGElement','export-leaderboard-image-btn','Error\x20fetching\x20project\x20quizzes:','เกิดข้อผิดพลาดในการส่งคำตอบ','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','indexOf','strokeStyle','lesson-plan-content','text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','projectSortOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','responses','removeAttribute','confident','showInStudentDashboard','ผู้ไม่ยอมแพ้','bg-green-200','change','eraser-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-modal','2-digit','isScored','\x22>ไม่ใช่</p>','ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','trim','อุณหภูมิและการแปลง','modal-timer-duration-label','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','ยอดเยี่ยม','#student-project-leaderboard-content\x20thead','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20submission:','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','dataIndex','.cancel-edit-topic-btn','ระบบอสมการ','getAttributeNS','.quiz-result-card','close-comparison-modal-footer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','Error\x20unpairing\x20quizzes:','toLowerCase','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','workerSrc','katex','ai-quiz-app-aefee','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','parentElement','answerValue','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','style','เกิดข้อผิดพลาดในการสร้างใบงาน','player-count','rgba(16,\x20185,\x20129,\x200.7)','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','resize','hasPerfectScoreBonus','player-list-lobby','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','input[name=\x22question_single\x22]:checked','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','ไฮเพอร์โบลา','removeChild','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','.delete-student-btn','Error\x20displaying\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','แผนภาพเวนน์','difficulty-level-select','ไม่พบข้อมูลโปรเจค','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','closePath','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','</p></div>','leaderboard-tab','project-sort-select','neq','ย้าย','error','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','goto-next-question-btn','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','.answeredCurrentQuestion','ring-2','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','answer-counter','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','on_fire','querySelector','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-400\x20text-white\x20font-bold','quizId','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','กราฟแท่ง\x20กราฟเส้น','next-sync-question-btn','</tr>','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','parse','กรุณาใส่ชื่อโปรเจค','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','.start-game-btn','Error\x20starting\x20group\x20quiz:','BOOLEAN','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','อัปเดตแบบทดสอบเก่า\x20','loader','Error\x20updating\x20old\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','open-quiz-bank-btn','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-not-confident','input','</div>\x0a</div>\x0a','stem','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','load-quiz-btn','ราชาคัมแบ็ก','confirm-create-project-btn','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','#ffffff','forEach','generate-worksheet-btn','บันทึกผลการเล่นเกมของ\x20','NEGATIVE_INFINITY','\x5ccdot','<textarea\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','export-tutor-pdf-btn','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','name_asc','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','Error\x20generating\x20from\x20link:','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertBefore','live-game-view','idealAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','toString','pin','เส้นตรง:\x20ขนาน/ตั้งฉาก','เกิดข้อผิดพลาดในการอ่านไฟล์','show-leaderboard-btn','Error\x20creating\x20project:','message-modal','setAttribute','Error\x20generating\x20quiz:','อนุพันธ์:\x20ผลคูณ/ผลหาร','อัปเดตพฤติกรรมสำหรับ\x20','Error\x20updating\x20project\x20color:','Error\x20saving\x20settings:','classStrengths','สุดยอด!\x20ตอบถูกทุกข้อ','MathJax\x20typeset\x20error\x20(analytics):','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','.presentation-option','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','offset','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','.answered','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','totalQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','(ก่อนเรียน)','project-dashboard-view','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','tooltipTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนเบี่ยงเบนมาตรฐาน','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','cloneNode','.ideal-answer-input,\x20.correct-response-input','fas\x20fa-star\x20text-yellow-500','currentTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.question-editor-item[data-q-index=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','student-list','generated-quiz-container','interesting-stats-container','.ql-editor','student-quiz-topic','toLocaleString','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','</body></html>','verify-answers-editor-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dispatchEvent','%</span>','):\x20','learningGaps','<tr\x20class=\x22','match','fa-fire\x20text-orange-500','พื้นที่ใต้กราฟ/ระหว่างกราฟ','leaderboard_','Error\x20saving\x20submission:','ทำคะแนนเต็มในการทำครั้งแรก','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','date_asc','onclick','value','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','Error\x20adding\x20students:','fullscreenElement','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','กฎบวกและกฎคูณ','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','ยืนยันและอัปเดตทั้งหมด','PERFECT_SCORE','ผู้ควบคุม\x20(ทดสอบ)','shuffleSetting','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffledQuiz','delete','cancel-passcode-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20parse\x20JSON\x20from\x20AI','matching','.edit-question-btn','คะแนนเต็ม','text-gray-400\x20hover:text-indigo-600','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','thead','passing-score-input','โดเมนและเรนจ์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','project-search-input','q-text-','\x22.\x20Ideal\x20Answer:\x20\x22','Failed\x20to\x20resume\x20game\x20session:','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','rgba(59,\x20130,\x20246,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointerup','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อมี\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','execCommand','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','อัตราการเปลี่ยนแปลงทันที','อสมการค่าสัมบูรณ์','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','visibilitychange','ร้อยละประยุกต์','null','upperGroupNames','ไม่มีผู้ตอบตัวเลือกนี้','bg-blue-100','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-present-btn','sqrt','\x22\x20ให้เป็นคำถามประเภท\x20\x22','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','student-progress-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','rgba(239,\x2068,\x2068,\x200.7)','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','presentation-explanation','student-rankings-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','\x20(ID:\x20','mode','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preventDefault','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','reveal-answer-btn','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','questions_only','wakeLock','.question-editor-item','bg-yellow-50','ref','\x22.\x20','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','toDataURL','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','floor','text-yellow-800','student-reading-area','เกิดข้อผิดพลาดในการปักหมุด','mousedown','live-options-container','answeredCurrentQuestion','sin','sort','ปิดใช้งาน','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','ยืนยันการกระทำ','.compare-results-btn','arrayBuffer','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','ถูก','export-leaderboard-excel-btn','</select>','Firebase\x20initialization\x20failed:','results-table-container','กฎของโคไซน์','type','fa-shield-alt\x20text-gray-600','สู้ๆ\x20ลองอีกครั้งนะ','รูปหลายเหลี่ยมและมุมภายใน','isAdaptive','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</tbody></table>','\x20ชุด)','bg-green-100\x20font-bold','global-live-game-count','(หลังเรียน)\x20','<div\x20class=\x22space-y-4\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','อนุพันธ์:\x20กฎพื้นฐาน','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','dimmed','remove','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','.generate-easy-version-btn','icon',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','text-emerald-800','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-bookmark','N/A','</div><div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','s;\x22\x20title=\x22','\x5cs*\x5c(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','Error\x20loading\x20quiz\x20for\x20student:','_blank','answer','inactive','href','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','All\x20groups\x20have\x20finished.\x20Ending\x20game.','blueprint-options-container','\x20ช่อง','\x22><i\x20class=\x22fas\x20','autoTable','Error\x20joining\x20live\x20game:','post-test','/public/data/projects','global-live-game-modal','\x20\x20\x20-\x20','start-sync-game-btn','student-quiz-leaderboard-tab','กราฟฟังก์ชันตรีโกณ','บันทึกคำถามใหม่\x20','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</tbody></table></div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','students','map','description','quiz-status-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','.pen-color-btn','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','ลำดับเลขคณิต\x20(AP)','\x5ctimes','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','readAsDataURL','select-all-topics-btn','ลิมิต','add-student-btn','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','projectView','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','analytics-tab-btn','student-result-area','(ฉบับง่าย)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','Error\x20starting\x20sync\x20game:','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบแบบทดสอบ','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','ไม่สามารถสร้างโปรเจคได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','text-gray-700','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','teachingContent','ลำดับเรขาคณิต\x20(GP)','totalPoints','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22,\x20','allResponses','targetId','การหารทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','standard','file-upload-input','.color-palette-btn','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','bg-green-100\x20text-green-800','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','fill','.sort-indicator','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x20คะแนน\x20','pairedQuizId','force-math-checkbox','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x5csqrt{$1}','results-display-select','\x5cge','กรุณาเลือกคำตอบของกลุ่ม','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','$1\x5ctext{','<tr>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','sync-short-answer-input','$1_{$2}','quadraticCurveTo','<p\x20class=\x22text-gray-500\x22>ไม่พบหัวข้อที่ชัดเจนใน\x20Blueprint\x20นี้</p>','quiz-id-input','adaptive-quiz-checkbox','สมมาตร\x20(แกน/จุด)','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','results-table','data','ย้ายแบบทดสอบสำเร็จ','fill_in_no_choices','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยมวล/น้ำหนักและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','bulk-results-display-select','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','student-passcode-input','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','after','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','Error\x20updating\x20quiz\x20settings:','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','show_results_and_answers','Error\x20deleting\x20quiz:','parent','comparison-individual-content','.quiz-bank-move-btn','selected-topics-count','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','tan','comeback_king','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','cancel-admin-login-btn','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20rendering\x20student\x20progress:','confirm-game-start-btn','closest','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','preTestId','check-answer-btn','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','cancel-rename-quiz-btn','text-indigo-600','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','AI\x20Fix\x20Error:','ดอทโปรดักต์\x20(dot)','.choice-text','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','คัดลอกรหัสแล้ว!','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correct','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','filter','cancel-global-live-btn','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','Error\x20confirming\x20players:','generate-from-parallel-test-btn','start-quiz-btn','link-tab','confirm-rename-quiz-btn','comparison-individual-tab','student-view','json','password-error-msg','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','abs','#student-quiz-leaderboard-content\x20thead','drop','แก้ระบบสมการด้วยเมทริกซ์','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20data-topic=\x22','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','เมทริกซ์:\x20บวก/คูณ','open-global-live-btn',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','สร้างคำถามแบบเติมคำในช่องว่าง','ไม่สามารถบันทึกการตั้งค่าได้','bg-green-50','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','verify-answers-btn','student-quiz-leaderboard-table-body','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lesson-plan-modal','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','isStarred','ผลรวมอนุกรม\x20(Σ)','stepByStepExamples','.option-text',',\x20r=','link-url-input','flex\x20flex-col\x20gap-2','/studentProfiles','drill-feedback','/public/data/teamQuizzes','submission','ตารางความถี่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','solution','เศษส่วน\x20(ย่อ/ขยาย)','\x5cle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','สร้างคำถามแบบใช่/ไม่ใช่','badges','tGain','reset-project-order-btn','พิสัย','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','create-project-modal','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','manual_release','export-compact-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','PERSEVERANCE','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','pow','border-green-300\x20bg-green-50','dfrac','quiz-leaderboard-table-body','mixed','ความเป็นอิสระของเหตุการณ์','modal-loop-until-pass-checkbox','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','quiz-generation-area','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','responses.','generate-from-blueprint-btn','eraser','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','บันทึกการตั้งค่าแล้ว','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22sort-indicator\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','check-presentation-answer-btn','ข้อ\x20','bank-quiz-list','classWeaknesses','pop','เกิดข้อผิดพลาดในการอัปเดต:\x20','select','แบบทดสอบนี้หมดเวลาแล้ว','textarea[name=\x22team_answer\x22]','ค่าเสื่อมราคา','promptFeedback','ค่าสัมบูรณ์','isRemedial','\x5c\x5c\x5c\x5c(?=(','<p>','ข้อต่อไป','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submit-team-answer-btn','modal-timer-mode-select','input[type=\x22radio\x22]:checked','.delete-quiz-btn','กรุณาเลือกโปรเจคปลายทาง','ตรีโกณมิติ','half_mark_status','.pair-quiz-btn','screen','every','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','พาราโบลา','Failed\x20to\x20kick\x20player\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','bg-red-500\x20text-white\x20font-bold','qIndex','pen','answering','ไม่พบโปรเจค','ฟังก์ชันเชิงเส้นและกราฟ','เปลี่ยนชื่อโปรเจคสำเร็จ','globalSettings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','code','questionDisplayedAt','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','close-lesson-plan-modal-footer-btn','กำลังสร้างแบบทดสอบจากหัวข้อ...','เซียนสมองไว','\x20ครั้ง)</span></td>','stopPropagation','editor-quiz-topic','shadowColor','ย้ายแบบทดสอบไปโปรเจคอื่น','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','show-in-student-dashboard-checkbox','#000000','upperGroupResponders','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','การยืนยันตัวตนล้มเหลว','#FEE2E2','confirm-team-players-btn','confidence-choice-btn','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','.ai-fix-question-btn','</form>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','whole_quiz','fullscreenchange','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','/public/data/syncGames','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','สลับไปโหมดนักเรียน','เส้นตรง:\x20รูปแบบสมการ','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','#results-table\x20thead\x20tr','td,\x20th','behavior-log-container','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','entries','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','หมดเวลาสำหรับข้อนี้!','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','originalTopic','</th>','standardTopic','\x20\x0a\x20\x20\x20\x20','split','text-green-600','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','STRING','.confidence-choice-btn','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','behavior-log','questionStatus','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x20mb-2\x22>','results-quiz-title','ค่าความจริง/ตารางค่าความจริง','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','export-pdf-modal','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','slide-counter','image/png','team','<option>กำลังโหลดโปรเจค...</option>','confirm-delete-btn','.scratchpad-content-wrapper','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','enable-passcode-checkbox','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','Error\x20generating\x20teaching\x20content:','game-pin-input','modal-confidence-mode-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','ไม่สามารถเพิ่มนักเรียนได้','open','answered','กำลังกลับเข้าสู่เกม\x20','ไม่มีคำอธิบาย','matching_item','ความคล้ายของรูป','highlighter-size-value','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','export-image-btn','กรุณาเลือกโปรเจคที่ต้องการบันทึก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','Error\x20toggling\x20star\x20status:','การคูณ','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','.pointsLastQuestion','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','.generate-content-btn','transition-all','การจัดกลุ่มข้อมูล','4.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับไฟล์ข้อสอบอ้างอิง**','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lower_group_count','bank-quiz-search-input','lineJoin','พื้นที่สามเหลี่ยม','touchcancel','admin-testing','การกระจายและการจัดหมู่','quiz-editor-modal','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','<button\x20data-quiz-id=\x22','earned-badges-container','วงกลม:\x20คอร์ดและเส้นสัมผัส','กรุณาเลือกชื่อของคุณ','passingScore','overallGroups','Error\x20resetting\x20project\x20order:','projectId','ระยะจากจุดถึงเส้นตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20value=\x22true\x22\x20','next-question-timed-btn','พื้นที่สี่เหลี่ยม','เกิดข้อผิดพลาดในการลบโปรเจค','<li>','true','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','create-from-bank-btn','ร้อยละพื้นฐาน','add','submission-status-chart','delete-all-students-btn','เรขาคณิตวิเคราะห์','lastAnswerCorrect','border-gray-200','timer-duration-input','ค่าเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','loop-until-pass-checkbox','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','#E0E7FF','setFont','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','คะแนนยังไม่ถึงครึ่ง','Error\x20generating\x20worksheet:','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','การลบทศนิยม','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','save','circle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','/public/data/practiceBank','.project-card-container.opacity-50','การหารเศษส่วน','quiz-leaderboard-table','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','98960HhXtmF','exitFullscreen','behavior-log-tab-btn','\x20คะแนน</span></div>','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','height','ฟังก์ชันพหุนาม','bg-black/10','<span\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','answers','กรุณาป้อนรหัสแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','candidates','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','pinned-items','generated-quiz-actions','back-to-home-manual-release','question-complexity-select','confirmation-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','.group','Original\x20quiz\x20not\x20found','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','screen_exit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','ชื่อโปรเจคห้ามว่าง','กำลังอ่านและเตรียมไฟล์...','ฟังก์ชันกำลังสองและกราฟ','grabbing','ส่งแล้ว','players.','topic-tab','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','quiz-type-select','text-red-800','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','bg-gray-500','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','พบ\x20Team\x20Quiz!','\x22...','getPage','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','live-submit-short-answer-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','export-leaderboard-pdf-btn','leaderboard','Error\x20toggling\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','.topic-actions-edit','opacity-50','<button\x20id=\x22','isCorrect','ผู้เชี่ยวชาญ','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','การแจกแจงทวินาม\x20(พื้นฐาน)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setAttributeNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','ดูผลสรุปสุดท้าย','140SQnRYf','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','players','ring-purple-400','setItem','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reduce','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','admin-view','topics','\x20(p=','setTransform','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','เกิดข้อผิดพลาดในการลบหัวข้อ','open-sync-scratchpad-btn','cursor','พบ\x20Sync\x20Game!','file-tab','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','summary_chart','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','การบวกทศนิยม','\x20ตอบ','loader-text','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','moveTo','จากไฟล์ที่แนบมานี้,\x20','หลังเรียน','การเรียงสับเปลี่ยน\x20(Permutation)','analytics-tab-content','.rename-quiz-btn','bg-emerald-100','practice-topic-btn','quick_thinker','\x22\x20name=\x22confidence','ตอบถูก\x203\x20ข้อติดต่อกัน','mandatory','true_false','ชนิดของข้อมูลและการเก็บข้อมูล','.topic-selection-btn','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','div','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','.quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','ฟังก์ชันค่าสัมบูรณ์','numPages','ฐานนิยม','FileReader\x20error:','เลือกโปรเจคเพื่อบันทึก','beforeend','</span><span\x20class=\x22font-bold\x22>','\x20ใหม่...','textarea','visible','ความน่าจะเป็นแบบมีเงื่อนไข','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','contains','ยอดเยี่ยม!','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','bulk-quiz-settings-btn','คะแนนเฉลี่ย','deg','isPinned','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','text-tab','createdBy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preTScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','padStart','leaderboard-quiz-tab-btn','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','lineWidth','Error\x20listening\x20for\x20custom\x20math\x20topics:','comparison-modal','onerror','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','student-project-leaderboard-content','toISOString','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','#FCE7F3','/users/','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','custom-math-topic-input','temp-loader-text-results','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','รหัสไม่ถูกต้อง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','none','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ข้อ\x20','\x22\x20name=\x22team_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','end-sync-game-btn','.lastAnswerCorrect','starred-project','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','\x20รายการ\x20สำเร็จ!','close-game-final-btn','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','Error\x20updating\x20pin\x20status:','\x20mr-2\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20pairing\x20quizzes:','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','3133827LNTcFH','input[type=\x22text\x22]','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','แคลคูลัสเบื้องต้น','อินเวอร์สของเมทริกซ์','Error\x20deleting\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>จาก:\x20','\x20รายการสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','admin','perseverance','กรุณาพิมพ์คำตอบ','destination-out','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','NUMBER','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','submissions','#math-topics-checkbox-container\x20input:checked','length','\x22\x5cn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','Error\x20starting\x20game:','groups','editable-quiz-topic','questionType','from','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','เกิดข้อผิดพลาดในการสร้างห้องเกม','confirm-move-quiz-btn','\x5ctext{$1}','getBoundingClientRect','confidence','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','pinnedProjects','application/json','getDocument','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','team-quiz-topic','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','attempts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20live\x20race:','scratchpad-controls','num-choices-container','lineCap','contentEditable','latestScore','default','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','loopUntilPass','AI\x20request\x20was\x20blocked.\x20Reason:\x20','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','download','ใช่','mousemove','การแจกแจงปกติและ\x20z-score','ความเท่ากันทุกประการของสามเหลี่ยม','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','highlighter-tools-group','ที่พิมพ์ได้\x20จำนวน\x20','แผนภาพกล่อง\x20(box\x20plot)','scores-tab-btn','blueprint-topics-list','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','pre-test','เกิดข้อผิดพลาดในการโหลดโปรเจค','confirm-join-game-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','เกิดข้อผิดพลาดในการลบผลสอบ','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','manage-tab','<option\x20value=\x22','viewBox','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','</td></tr>','.live-summary-tooltip.visible','button[data-id]','Error\x20moving\x20quiz:','ลบแบบทดสอบสำเร็จแล้ว','สร้างชุดคำถามจับคู่','ยืนยันการจับคู่','hint-btn','all','student-name-input','live-game','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','originalQuestionText','สามเหลี่ยม\x20(ชนิด/สมบัติ)','presentation-slide-container','2618ElDhua','student-team-join','projectSort','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','startsWith','passcode-prompt-message','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','currentMode','key','submit-group-answer-btn','quiz-end-time','<p><strong>คำตอบที่แนะนำ:</strong>\x20','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','warn','not-found','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20opening\x20quiz\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','points','Leaderboard\x20update\x20transaction\x20failed:\x20','per_question','touchmove','members','#F3E8FF','$1\x5c%','$1^{\x5ccirc}\x5ctext{C}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','temp-loader-results','keyup','อัตราและอัตราหน่วย','far\x20fa-star','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','quiz-bank-count','flex','เกิดข้อผิดพลาด:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','text-indigo-800','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','สร้างโปรเจคสำเร็จ!','ตรวจพบการออกจากหน้าจอครบ\x20','copy','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','confirm-confident','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','blueprint-tab','desc','ระบบเลขและค่าประจำหลัก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','onload','<div\x20id=\x22q-image-container-','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','Error\x20duplicating\x20quiz:','</strong></p>','text-input-area','จำนวนเชิงซ้อน\x20(เสริม)','topic-input','isPasscodeEnabled','delete-svg-btn','<br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','explanation','answerText','quiz-results-table-body','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','blueprint-upload-input','\x20\x20\x20-\x20คำตอบ:\x20','คำถามดิบ:\x20\x22','ดีมาก','ไม่พบข้อมูลข้อสอบหลังเรียน','</h3>','toDate','(ไม่มีชื่อ)','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','ความชันเส้นสัมผัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','project-id-display','จำนวนเต็มบวก','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','ใช่\x20/\x20ถูก','text-yellow-300','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','bank-input-area','\x22\x20value=\x22','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','pointercancel','Error\x20submitting\x20group\x20answer:','finished','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','move-quiz-modal','สร้างแบบทดสอบ','\x20สำเร็จ','project-passcode-modal','\x20from\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','rename-quiz-input','$$$1$','text-green-800','(^|[^\x5c\x5c])\x5cb',')\x5cb)','/public/data/customMathTopics','sync-submit-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','.correct-response-input','projectOrder','แบบทดสอบจากคลังส่วนตัว','timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','back-from-results-btn','.png','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','test','.delete-submission-btn','student-team-selection-view','.quiz-bank-delete-btn','/public/data/quizzes/','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','per-question-timer-container','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','label[for=\x22num-questions\x22]','lowerGroupResponders','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','quiz-leaderboard-table-container','scrollY'];_0x3d48=function(){return _0x4c10c3;};return _0x3d48();}function exportQuizAsWorksheetPDF(){const _0x49336f=_0x5cd971;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x2df775=currentQuizData,_0x4034bd=window['open']('',_0x49336f(0x6cc)),_0x13a847=_0x31f4f7=>String[_0x49336f(0x353)](0x41+_0x31f4f7),_0x1d0f76=_0x49336f(0xa29)+_0x2df775[_0x49336f(0xaad)]+_0x49336f(0x65c)+_0x2df775['topic']+_0x49336f(0x65a)+_0x2df775[_0x49336f(0x1e6)]['map']((_0x39334b,_0x1de5e9)=>{const _0x11742a=_0x49336f;let _0x4037a8='';const _0x280c07=_0x39334b[_0x11742a(0x969)]||_0x2df775[_0x11742a(0x42e)];switch(_0x280c07){case _0x11742a(0xa76):case _0x11742a(0x370):_0x4037a8=_0x11742a(0x2e8)+_0x39334b[_0x11742a(0x369)][_0x11742a(0x6e4)]((_0x401eab,_0x73df70)=>_0x11742a(0x4b1)+_0x13a847(_0x73df70)+'.\x20'+_0x401eab+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x11742a(0x386)](_0x11742a(0x9f9))+_0x11742a(0x552);break;case _0x11742a(0x8fe):_0x4037a8=_0x11742a(0x770);break;default:_0x4037a8='<div\x20class=\x22answer-space\x22></div>';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x1de5e9+0x1)+_0x11742a(0x8ce)+(_0x39334b[_0x11742a(0x5ce)]||_0x39334b[_0x11742a(0x2a7)])+_0x11742a(0x81b)+(_0x39334b[_0x11742a(0x187)]?'<div\x20class=\x22my-2\x22>'+_0x39334b[_0x11742a(0x187)]+_0x11742a(0x552):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4037a8+_0x11742a(0xa51);})[_0x49336f(0x386)]('')+_0x49336f(0xa54);_0x4034bd[_0x49336f(0x40e)][_0x49336f(0x511)](_0x1d0f76),_0x4034bd[_0x49336f(0x40e)][_0x49336f(0x20c)](),_0x4034bd[_0x49336f(0x9ee)]=function(){setTimeout(()=>{const _0x5ae8e6=_0x1129;_0x4034bd[_0x5ae8e6(0x251)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x301718=_0x5cd971;if(!currentQuizData||!currentQuizData[_0x301718(0x1e6)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x49b2b4=currentQuizData,_0x21a717=window[_0x301718(0x841)]('','_blank'),_0x901c53=_0x125f33=>String[_0x301718(0x353)](0x41+_0x125f33),_0x2cd579=_0x301718(0x1f6)+_0x49b2b4[_0x301718(0xaad)]+_0x301718(0x2b3)+_0x49b2b4['questions'][_0x301718(0x6e4)]((_0x225171,_0x4cf29b)=>{const _0x2f0728=_0x301718;let _0x44bf44='';const _0x2dcc25=_0x225171[_0x2f0728(0x969)]||_0x49b2b4[_0x2f0728(0x42e)];switch(_0x2dcc25){case _0x2f0728(0xa76):case _0x2f0728(0x370):_0x44bf44='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x225171[_0x2f0728(0x369)][_0x2f0728(0x6e4)]((_0x5abe1c,_0xc2b275)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x901c53(_0xc2b275)+'.\x20'+_0x5abe1c+_0x2f0728(0x4aa))['join'](_0x2f0728(0x9f9))+_0x2f0728(0x59b);break;case _0x2f0728(0x8fe):_0x44bf44=_0x2f0728(0x9c7);break;default:_0x44bf44='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x49b2b4['topic']+_0x2f0728(0x93e)+(_0x4cf29b+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x225171[_0x2f0728(0x5ce)]||_0x225171[_0x2f0728(0x2a7)])+_0x2f0728(0x81b)+(_0x225171[_0x2f0728(0x187)]?_0x2f0728(0x399)+_0x225171[_0x2f0728(0x187)]+'</div>':'')+_0x2f0728(0x6c7)+_0x44bf44+_0x2f0728(0x5e2);})[_0x301718(0x386)]('')+_0x301718(0xa68);_0x21a717[_0x301718(0x40e)][_0x301718(0x511)](_0x2cd579),_0x21a717[_0x301718(0x40e)][_0x301718(0x20c)](),_0x21a717[_0x301718(0x9ee)]=function(){setTimeout(()=>{const _0x4a7625=_0x1129;_0x21a717[_0x4a7625(0x251)]();},0x5dc);};}async function handleToggleStarQuiz(_0x136263){const _0x2c0692=_0x5cd971,_0x5a511d=doc(db,'artifacts/'+appId+_0x2c0692(0xaf2),_0x136263);try{const _0x5d777f=await getDoc(_0x5a511d);if(_0x5d777f['exists']()){const _0x1e0cd6=_0x5d777f[_0x2c0692(0x730)]()['isStarred']||![];await updateDoc(_0x5a511d,{'isStarred':!_0x1e0cd6});}}catch(_0x12129c){console['error'](_0x2c0692(0x84e),_0x12129c),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x46cb3e=_0x5cd971,_0x531034=document[_0x46cb3e(0xa59)](_0x46cb3e(0xa14));_0x531034[_0x46cb3e(0x43a)]=_0x46cb3e(0x4e4);try{const _0x22b073=collection(db,_0x46cb3e(0xab3)+appId+'/users/'+userId+'/questionBank'),_0xd260cd=query(_0x22b073),_0x3d1fca=await getDocs(_0xd260cd);if(_0x3d1fca[_0x46cb3e(0x246)]){_0x531034[_0x46cb3e(0x43a)]=_0x46cb3e(0x80b);return;}let _0x427bff=_0x3d1fca[_0x46cb3e(0x354)][_0x46cb3e(0x6e4)](_0x2a69c6=>{const _0x137f20=_0x46cb3e,_0x9b8187=_0x2a69c6[_0x137f20(0x730)](),_0x25212c=_0x2a69c6['id'];return _0x137f20(0x828)+JSON[_0x137f20(0xae0)](_0x9b8187)+_0x137f20(0x4f9)+(_0x9b8187[_0x137f20(0x2a7)]||_0x9b8187[_0x137f20(0x5ce)])+_0x137f20(0x532)+_0x9b8187[_0x137f20(0x815)]+_0x137f20(0x733);})[_0x46cb3e(0x386)]('');_0x531034['innerHTML']=_0x46cb3e(0x6ed)+_0x427bff+_0x46cb3e(0x39d),document[_0x46cb3e(0xa59)](_0x46cb3e(0x872))[_0x46cb3e(0x1ce)](_0x46cb3e(0x420),createQuizFromBank);}catch(_0x39ab48){console[_0x46cb3e(0x5a8)](_0x46cb3e(0x598),_0x39ab48),_0x531034[_0x46cb3e(0x43a)]=_0x46cb3e(0x803);}}function showAdminLiveQuestionView(_0x279c60,_0x38b92c,_0x5aeaf3){const _0x52ddfb=_0x5cd971,_0x33de0c=_0x279c60[_0x52ddfb(0x969)]||currentQuizData[_0x52ddfb(0x42e)];let _0x16695f='';if(_0x33de0c===_0x52ddfb(0xa76)||_0x33de0c==='true_false'){const _0x4630bf=_0x33de0c===_0x52ddfb(0x8fe)?[_0x52ddfb(0x989),_0x52ddfb(0x4ca)]:_0x279c60[_0x52ddfb(0x369)],_0x2f01cd=_0x33de0c===_0x52ddfb(0x8fe)?_0x279c60[_0x52ddfb(0x276)]?0x0:0x1:_0x279c60[_0x52ddfb(0x501)];_0x16695f=_0x4630bf[_0x52ddfb(0x6e4)]((_0xe5111c,_0x183635)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x183635===_0x2f01cd)+_0x52ddfb(0x50c)+_0xe5111c+_0x52ddfb(0xacd))[_0x52ddfb(0x386)]('');}else{if(_0x33de0c===_0x52ddfb(0x845)){const _0xe3901d=_0x279c60['allResponses']||[];_0x16695f=_0xe3901d[_0x52ddfb(0x6e4)](_0x333dd9=>_0x52ddfb(0x87c)+(_0x333dd9===_0x279c60[_0x52ddfb(0x4ae)])+_0x52ddfb(0x50c)+_0x333dd9+_0x52ddfb(0xacd))[_0x52ddfb(0x386)]('');}}const _0x509081=_0x279c60['stem']||_0x279c60[_0x52ddfb(0x2a7)],_0x3f4210=_0x52ddfb(0x31e)+(_0x38b92c+0x1)+'\x20/\x20'+_0x5aeaf3+_0x52ddfb(0x212)+currentLiveGamePin+_0x52ddfb(0x88d)+_0x509081+_0x52ddfb(0x7b6)+_0x16695f+_0x52ddfb(0x7e9);liveGameView[_0x52ddfb(0x43a)]=_0x3f4210,window[_0x52ddfb(0x28d)]&&MathJax[_0x52ddfb(0x2b6)]&&MathJax[_0x52ddfb(0x2b6)]([liveGameView]),document['getElementById'](_0x52ddfb(0x67f))[_0x52ddfb(0x1ce)](_0x52ddfb(0x420),()=>revealAnswerForAdmin(_0x38b92c,_0x5aeaf3)),document[_0x52ddfb(0xa59)](_0x52ddfb(0x333))[_0x52ddfb(0x1ce)](_0x52ddfb(0x420),async()=>{const _0x23bd1c=_0x52ddfb;showConfirmation(_0x23bd1c(0x524),async()=>{const _0x56a5ca=_0x23bd1c,_0x51b2e4=doc(db,_0x56a5ca(0xab3)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x51b2e4,{'status':_0x56a5ca(0x510)});});}),document['getElementById']('manage-players-btn')['addEventListener'](_0x52ddfb(0x420),()=>{const _0x56df66=_0x52ddfb;document[_0x56df66(0xa59)]('live-player-management')['classList'][_0x56df66(0x367)]('hidden');});}function showStudentLiveQuestionView(_0x17a24b,_0x4cfd43,_0x136246){const _0x5233f3=_0x5cd971,_0x3ac000=_0x17a24b['questionType']||currentQuizData['quizType'];let _0x376ab0='';if(_0x3ac000===_0x5233f3(0xa76)||_0x3ac000===_0x5233f3(0x8fe)){const _0x40db9f=_0x3ac000===_0x5233f3(0x8fe)?[_0x5233f3(0x989),'ไม่ใช่']:_0x17a24b[_0x5233f3(0x369)];_0x376ab0=_0x40db9f[_0x5233f3(0x6e4)]((_0xdd1e6c,_0xdfcdfc)=>_0x5233f3(0x4b4)+_0xdfcdfc+_0x5233f3(0x45f)+_0xdd1e6c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5233f3(0x386)]('');}else{if(_0x3ac000===_0x5233f3(0x845)){const _0x7cfe6d=_0x17a24b[_0x5233f3(0x70c)]||[];_0x376ab0=_0x7cfe6d['map']((_0x5b6a78,_0x205b81)=>_0x5233f3(0x4b4)+_0x205b81+_0x5233f3(0x45f)+_0x5b6a78+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else _0x3ac000==='short_answer'&&(_0x376ab0=_0x5233f3(0xad4));}const _0x21c702=_0x17a24b['stem']||_0x17a24b[_0x5233f3(0x2a7)],_0x319242='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x4cfd43+0x1)+_0x5233f3(0x288)+_0x136246+_0x5233f3(0x2e6)+_0x21c702+_0x5233f3(0x59f)+_0x376ab0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x5233f3(0x43a)]=_0x319242;window[_0x5233f3(0x28d)]&&MathJax[_0x5233f3(0x2b6)]&&MathJax[_0x5233f3(0x2b6)]([liveGameView]);const _0x2ce722=document[_0x5233f3(0xa59)](_0x5233f3(0x8c2));_0x2ce722&&_0x2ce722[_0x5233f3(0x1ce)](_0x5233f3(0x420),()=>{const _0x9253d4=_0x5233f3,_0x1e1e6d=document[_0x9253d4(0xa59)]('live-short-answer-input')['value'];handleLiveAnswer(_0x1e1e6d,_0x17a24b);}),document[_0x5233f3(0xa59)](_0x5233f3(0x692))[_0x5233f3(0x1ce)](_0x5233f3(0x420),_0x4363a5=>{const _0x414571=_0x5233f3,_0xdd34ae=_0x4363a5[_0x414571(0x1f5)][_0x414571(0x74e)]('.live-answer-btn');if(_0xdd34ae){const _0x3de394=parseInt(_0xdd34ae[_0x414571(0xafb)][_0x414571(0x321)]);handleLiveAnswer(_0x3de394,_0x17a24b);}});}async function handleLiveAnswer(_0x10016e,_0x246206){const _0xf7df9c=_0x5cd971;document[_0xf7df9c(0x1f8)](_0xf7df9c(0x520))[_0xf7df9c(0x5d5)](_0x2df96e=>_0x2df96e[_0xf7df9c(0x3cd)]=!![]);const _0x58a72f=_0x246206[_0xf7df9c(0x969)]||currentQuizData[_0xf7df9c(0x42e)];let _0x279b98=![],_0x2c2f31=_0x10016e;if(_0x58a72f===_0xf7df9c(0x536)){const _0x31c70b=(_0x10016e||'')[_0xf7df9c(0x5ea)]();_0x279b98=await gradeShortAnswer(_0x31c70b,_0x246206);}else{if(_0x58a72f===_0xf7df9c(0xa76))_0x279b98=_0x10016e===_0x246206[_0xf7df9c(0x501)];else{if(_0x58a72f===_0xf7df9c(0x8fe)){const _0x12eaf7=_0x246206[_0xf7df9c(0x276)];_0x279b98=_0x10016e===0x0&&_0x12eaf7||_0x10016e===0x1&&!_0x12eaf7;}else{if(_0x58a72f===_0xf7df9c(0x845)){const _0x7db63c=_0x246206['allResponses'][_0x10016e];_0x279b98=_0x7db63c===_0x246206[_0xf7df9c(0x4ae)],_0x2c2f31=_0x7db63c;}}}}const _0x11d15b=doc(db,'artifacts/'+appId+_0xf7df9c(0x52e),currentLiveGameId),_0x4769c4={};_0x4769c4[_0xf7df9c(0x8b4)+currentStudentName+_0xf7df9c(0x5ae)]=!![],_0x4769c4[_0xf7df9c(0x8b4)+currentStudentName+_0xf7df9c(0x93c)]=_0x279b98,_0x4769c4['players.'+currentStudentName+_0xf7df9c(0x177)]=_0x58a72f===_0xf7df9c(0x536)||_0x58a72f==='matching_item'?null:_0x10016e,_0x4769c4[_0xf7df9c(0x8b4)+currentStudentName+_0xf7df9c(0x278)]=_0x2c2f31,_0x4769c4[_0xf7df9c(0x8b4)+currentStudentName+_0xf7df9c(0x40c)]=serverTimestamp(),_0x4769c4[_0xf7df9c(0x8b4)+currentStudentName+_0xf7df9c(0x48b)]=![],await updateDoc(_0x11d15b,_0x4769c4),liveGameView[_0xf7df9c(0x43a)]=_0xf7df9c(0x933);}function showAdminSummaryView(_0x7b5649,_0x52a1a1){const _0x57b917=_0x5cd971,_0x4732e8=Object[_0x57b917(0xa88)](_0x7b5649[_0x57b917(0x8d7)]||{}),_0x3f3464=_0x52a1a1['questionType']||currentQuizData[_0x57b917(0x42e)],_0x510eef=_0x3f3464===_0x57b917(0x8fe)?[_0x57b917(0x989),_0x57b917(0x4ca)]:_0x52a1a1[_0x57b917(0x369)]||_0x52a1a1[_0x57b917(0x70c)]||[],_0x220cc1={},_0x313940=new Array(_0x510eef[_0x57b917(0x963)])[_0x57b917(0x716)](0x0);_0x510eef['forEach']((_0x33652a,_0x3165b7)=>{_0x220cc1[_0x3165b7]=[];}),Object[_0x57b917(0x811)](_0x7b5649[_0x57b917(0x8d7)]||{})[_0x57b917(0x5d5)](([_0x2be885,_0x21c3bd])=>{const _0x4b0984=_0x57b917;if(_0x21c3bd[_0x4b0984(0x6c8)]==='active'&&_0x21c3bd['lastAnswerIndex']!==undefined){const _0x41558c=_0x21c3bd[_0x4b0984(0x4a7)];_0x220cc1[_0x41558c]&&(_0x220cc1[_0x41558c][_0x4b0984(0x34a)](_0x2be885),_0x313940[_0x41558c]++);}});const _0x40e235=Math['max'](..._0x313940,0x1),_0x5b9f79=_0x57b917(0x632)+(_0x52a1a1['stem']||_0x52a1a1[_0x57b917(0x2a7)])+_0x57b917(0x4ee)+_0x313940['map']((_0x2cd62e,_0x2fc72b)=>{const _0x1960c8=_0x57b917,_0xde9731=_0x220cc1[_0x2fc72b][_0x1960c8(0x963)]>0x0?_0x220cc1[_0x2fc72b][_0x1960c8(0x386)](',\x20'):_0x1960c8(0x668);let _0x113bd5=![];if(_0x3f3464===_0x1960c8(0xa76))_0x113bd5=_0x2fc72b===_0x52a1a1['correctAnswerIndex'];else{if(_0x3f3464===_0x1960c8(0x8fe)){const _0x19f624=_0x52a1a1[_0x1960c8(0x276)];_0x113bd5=_0x19f624&&_0x2fc72b===0x0||!_0x19f624&&_0x2fc72b===0x1;}else _0x3f3464==='matching_item'&&(_0x113bd5=_0x510eef[_0x2fc72b]===_0x52a1a1[_0x1960c8(0x4ae)]);}const _0x48b4b=_0x113bd5?'#26890c':'#e21b3c';return _0x1960c8(0x60c)+_0x2cd62e+_0x1960c8(0x5b8)+_0x48b4b+_0x1960c8(0x473)+_0x2fc72b+_0x1960c8(0xa3b)+_0x510eef[_0x2fc72b]+_0x1960c8(0x756)+_0x2fc72b+_0x1960c8(0xa47)+_0xde9731+_0x1960c8(0x804);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x5b9f79;if(window[_0x57b917(0x28d)])MathJax[_0x57b917(0x2b6)]();document[_0x57b917(0xa59)](_0x57b917(0x5ee))[_0x57b917(0x1ce)](_0x57b917(0x420),async()=>{const _0x2401c8=_0x57b917,_0x2ef8ac=doc(db,'artifacts/'+appId+_0x2401c8(0x52e),currentLiveGameId);await updateDoc(_0x2ef8ac,{'questionStatus':_0x2401c8(0x8c6)});}),document[_0x57b917(0xa59)]('open-scratchpad-btn')['addEventListener'](_0x57b917(0x420),()=>{openScratchpad(_0x52a1a1,_0x510eef);});}function showPlayerSummaryView(_0x42bd42,_0x4e2830){const _0x2fcb7e=_0x5cd971,_0x5d755f=Object['values'](_0x42bd42['players']||{}),_0x54006b=_0x42bd42[_0x2fcb7e(0x8d7)][_0x4e2830],_0x3071da=_0x5d755f[_0x2fcb7e(0x75f)](_0x519f5c=>_0x519f5c['status']===_0x2fcb7e(0x18e))['sort']((_0xba8b57,_0xde9580)=>_0xde9580[_0x2fcb7e(0x3e9)]-_0xba8b57[_0x2fcb7e(0x3e9)]),_0x2dd8f9=_0x3071da[_0x2fcb7e(0x29c)](_0x3d046c=>_0x3d046c===_0x54006b)+0x1,_0x3850d0=_0x54006b[_0x2fcb7e(0x878)]?'ถูกต้อง!':_0x2fcb7e(0x3ae),_0x3913ba=_0x54006b[_0x2fcb7e(0x878)]?'bg-green-500':_0x2fcb7e(0x3fc),_0x583e93=_0x54006b[_0x2fcb7e(0x4c6)]||0x0,_0x378dd5=_0x2fcb7e(0x456),_0x3862ed=_0x2fcb7e(0x920)+_0x378dd5+_0x2fcb7e(0x469)+_0x3913ba+_0x2fcb7e(0x293)+_0x3850d0+_0x2fcb7e(0x74f)+_0x583e93+_0x2fcb7e(0x8ef)+(_0x2dd8f9>0x0?_0x2dd8f9:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x2fcb7e(0x43a)]=_0x3862ed;}function createQuizFromBank(){const _0x6ccb2f=_0x5cd971,_0xb1a899=document[_0x6ccb2f(0x1f8)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0xb1a899['length']===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x5647b8=[];_0xb1a899[_0x6ccb2f(0x5d5)](_0x1c2009=>{const _0x2087d2=_0x6ccb2f;_0x5647b8['push'](JSON[_0x2087d2(0x5bd)](_0x1c2009[_0x2087d2(0x630)]));});const _0x488493={'topic':_0x6ccb2f(0xa2c),'questions':_0x5647b8};displayGeneratedQuiz(_0x488493);}function showAdminLobbyView(_0x3f6098,_0x448eb3){const _0x2a0fd7=_0x5cd971;showView(_0x2a0fd7(0x9ad));const _0x3fa14c=_0x2a0fd7(0x78f)+_0x448eb3+_0x2a0fd7(0xa4f)+_0x3f6098+_0x2a0fd7(0x780);liveGameView[_0x2a0fd7(0x43a)]=_0x3fa14c,document[_0x2a0fd7(0xa59)]('start-game-btn')['addEventListener'](_0x2a0fd7(0x420),async()=>{const _0x4bd7b8=_0x2a0fd7;if(!currentQuizData||!currentQuizData[_0x4bd7b8(0x1e6)]||currentQuizData['questions'][_0x4bd7b8(0x963)]===0x0){showMessage(_0x4bd7b8(0x1fb));return;}try{const _0x54d272=doc(db,_0x4bd7b8(0xab3)+appId+_0x4bd7b8(0x52e),currentLiveGameId);await updateDoc(_0x54d272,{'status':_0x4bd7b8(0x6ee),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x38758=currentQuizData[_0x4bd7b8(0x1e6)][0x0],_0x4a6bda=currentQuizData[_0x4bd7b8(0x1e6)][_0x4bd7b8(0x963)];showAdminLiveQuestionView(_0x38758,0x0,_0x4a6bda);}catch(_0x38780f){console[_0x4bd7b8(0x5a8)](_0x4bd7b8(0x966),_0x38780f),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x57bb3e=_0x5cd971;if(allQuizzesGlobal[_0x57bb3e(0x963)]===0x0){const _0x3f5585=await getDocs(collection(db,_0x57bb3e(0xab3)+appId+_0x57bb3e(0xaf2)));allQuizzesGlobal=_0x3f5585[_0x57bb3e(0x354)][_0x57bb3e(0x6e4)](_0x2d1819=>({'id':_0x2d1819['id'],..._0x2d1819['data']()}));}renderGlobalQuizList(''),document[_0x57bb3e(0xa59)](_0x57bb3e(0x6d9))[_0x57bb3e(0x445)][_0x57bb3e(0x6b7)](_0x57bb3e(0x318));}async function openQuizBankModal(){const _0x49d522=_0x5cd971;if(allQuizzesGlobal[_0x49d522(0x963)]===0x0){const _0x1e3f71=await getDocs(collection(db,_0x49d522(0xab3)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x1e3f71[_0x49d522(0x354)][_0x49d522(0x6e4)](_0x34b880=>({'id':_0x34b880['id'],..._0x34b880['data']()}));}renderQuizBankList(''),document[_0x49d522(0xa59)](_0x49d522(0x565))[_0x49d522(0x445)][_0x49d522(0x6b7)](_0x49d522(0x318));}function renderQuizBankList(_0x5d528c=''){const _0x5691b9=_0x5cd971,_0x37f45d=document[_0x5691b9(0xa59)](_0x5691b9(0x7bc)),_0x267940=_0x5d528c[_0x5691b9(0x57d)]()[_0x5691b9(0x56b)](),_0x3e1532=allQuizzesGlobal['map'](_0x4c59e3=>({..._0x4c59e3,'projectName':allProjects[_0x5691b9(0x3fd)](_0x300b83=>_0x300b83['id']===_0x4c59e3[_0x5691b9(0x868)])?.[_0x5691b9(0x1ff)]||_0x5691b9(0x6c2)}))[_0x5691b9(0x75f)](_0x3f28e8=>(_0x3f28e8[_0x5691b9(0xaad)]||'')[_0x5691b9(0x57d)]()[_0x5691b9(0x1c3)](_0x267940)||(_0x3f28e8['projectName']||'')['toLowerCase']()[_0x5691b9(0x1c3)](_0x267940)||_0x3f28e8['id'][_0x5691b9(0x5ea)]()[_0x5691b9(0x1c3)](_0x267940));document[_0x5691b9(0xa59)](_0x5691b9(0x9d9))[_0x5691b9(0x2e0)]='('+_0x3e1532['length']+_0x5691b9(0x6ac),_0x37f45d['innerHTML']=_0x3e1532['length']?_0x3e1532[_0x5691b9(0x6e4)](_0x5f1b11=>_0x5691b9(0x8a2)+_0x5f1b11['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x5f1b11['topic']||_0x5691b9(0xa07))+_0x5691b9(0x17f)+(_0x5f1b11[_0x5691b9(0x1e6)]?.[_0x5691b9(0x963)]||0x0)+_0x5691b9(0x46c)+_0x5f1b11[_0x5691b9(0x1ff)]+_0x5691b9(0x31b)+_0x5f1b11['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5f1b11['id']+_0x5691b9(0x5a1)+_0x5f1b11['id']+_0x5691b9(0x820)+_0x5f1b11['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5f1b11['id']+_0x5691b9(0x772)+_0x5f1b11['id']+_0x5691b9(0x7f8)+_0x5f1b11['id']+_0x5691b9(0x771)+_0x5f1b11[_0x5691b9(0xaad)]+_0x5691b9(0x951))['join'](''):_0x5691b9(0x749),_0x37f45d[_0x5691b9(0x1f8)](_0x5691b9(0x3c8))[_0x5691b9(0x5d5)](_0x54eef3=>{const _0x202e31=_0x5691b9;_0x54eef3[_0x202e31(0x1ce)]('click',()=>{const _0x2be4f8=_0x202e31,_0x55b509=_0x54eef3[_0x2be4f8(0xafb)]['id'];document[_0x2be4f8(0xa59)](_0x2be4f8(0x565))[_0x2be4f8(0x445)][_0x2be4f8(0x874)](_0x2be4f8(0x318)),showQuizDetailView(_0x55b509);});}),_0x37f45d[_0x5691b9(0x1f8)](_0x5691b9(0x4a5))[_0x5691b9(0x5d5)](_0x41b47d=>{const _0x1f929a=_0x5691b9;_0x41b47d['addEventListener'](_0x1f929a(0x420),_0x49db5b=>{const _0x412e6b=_0x1f929a;_0x49db5b[_0x412e6b(0x7f0)]();const _0x305231=_0x41b47d[_0x412e6b(0xafb)]['id'],_0x447a95=allQuizzesGlobal[_0x412e6b(0x3fd)](_0x5c1904=>_0x5c1904['id']===_0x305231);_0x447a95?(currentQuizData=_0x447a95,document[_0x412e6b(0xa59)](_0x412e6b(0x565))[_0x412e6b(0x445)]['add'](_0x412e6b(0x318)),startAdminTest()):showMessage(_0x412e6b(0x838));});}),_0x37f45d['querySelectorAll']('.quiz-bank-parallel-btn')[_0x5691b9(0x5d5)](_0xb0ed33=>{const _0xc75491=_0x5691b9;_0xb0ed33[_0xc75491(0x1ce)](_0xc75491(0x420),_0x653bb9=>{const _0x3facc2=_0xc75491;_0x653bb9[_0x3facc2(0x7f0)]();const _0x2efd36=_0xb0ed33[_0x3facc2(0xafb)]['id'],_0x28064d=allQuizzesGlobal[_0x3facc2(0x3fd)](_0x3e5cf6=>_0x3e5cf6['id']===_0x2efd36);_0x28064d?(document[_0x3facc2(0xa59)]('quiz-bank-modal')[_0x3facc2(0x445)][_0x3facc2(0x874)](_0x3facc2(0x318)),handleGenerateParallelFromBank(_0x28064d)):showMessage(_0x3facc2(0x838));});}),_0x37f45d[_0x5691b9(0x1f8)](_0x5691b9(0x66e))[_0x5691b9(0x5d5)](_0x73e5f=>{_0x73e5f['addEventListener']('click',_0x3036fa=>{const _0x5e29e6=_0x1129;_0x3036fa[_0x5e29e6(0x7f0)]();const _0x537e3c=_0x73e5f['dataset']['id'],_0x3e4eaf=allQuizzesGlobal['find'](_0x4e6848=>_0x4e6848['id']===_0x537e3c);_0x3e4eaf?(document[_0x5e29e6(0xa59)](_0x5e29e6(0x565))[_0x5e29e6(0x445)][_0x5e29e6(0x874)](_0x5e29e6(0x318)),startPresentation(_0x3e4eaf)):showMessage(_0x5e29e6(0x838));});}),_0x37f45d[_0x5691b9(0x1f8)](_0x5691b9(0x742))[_0x5691b9(0x5d5)](_0x2e9636=>{const _0x37d028=_0x5691b9;_0x2e9636[_0x37d028(0x1ce)](_0x37d028(0x420),_0xfc6e13=>{const _0x6d253a=_0x37d028;_0xfc6e13[_0x6d253a(0x7f0)]();const _0x5d7e70=_0x2e9636['dataset']['id'];document[_0x6d253a(0xa59)](_0x6d253a(0x565))[_0x6d253a(0x445)][_0x6d253a(0x874)](_0x6d253a(0x318)),handleMoveQuiz(_0x5d7e70);});}),_0x37f45d['querySelectorAll'](_0x5691b9(0xaa0))[_0x5691b9(0x5d5)](_0x5a3db4=>{const _0x2913f9=_0x5691b9;_0x5a3db4['addEventListener'](_0x2913f9(0x420),_0x53cc61=>{const _0x2cd62d=_0x2913f9;_0x53cc61[_0x2cd62d(0x7f0)]();const _0xfd8a90=_0x5a3db4[_0x2cd62d(0xafb)]['id'];document[_0x2cd62d(0xa59)](_0x2cd62d(0x565))[_0x2cd62d(0x445)][_0x2cd62d(0x874)]('hidden'),handleQuizSettings(_0xfd8a90);});}),_0x37f45d[_0x5691b9(0x1f8)](_0x5691b9(0xa36))['forEach'](_0x2342b7=>{const _0x1523cd=_0x5691b9;_0x2342b7['addEventListener'](_0x1523cd(0x420),_0x5028ef=>{const _0x202cb8=_0x1523cd;_0x5028ef[_0x202cb8(0x7f0)]();const _0x257dfa=_0x2342b7['dataset']['id'],_0x5231bb=_0x2342b7[_0x202cb8(0xafb)][_0x202cb8(0xaad)];showConfirmation(_0x202cb8(0x2f2)+_0x5231bb+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x257dfa));});});}async function handleCompareResults(_0x13cc6e,_0x34e93c){const _0x2a9802=_0x5cd971,_0x1a5af7=document[_0x2a9802(0xa59)](_0x2a9802(0x927)),_0xa1e760=document['getElementById'](_0x2a9802(0x42f)),_0x16eed1=document[_0x2a9802(0xa59)](_0x2a9802(0x741));document['getElementById'](_0x2a9802(0x322))[_0x2a9802(0x445)][_0x2a9802(0x874)]('active'),document['getElementById'](_0x2a9802(0x767))['classList'][_0x2a9802(0x6b7)](_0x2a9802(0x18e)),_0xa1e760[_0x2a9802(0x445)][_0x2a9802(0x6b7)]('hidden'),_0x16eed1[_0x2a9802(0x445)][_0x2a9802(0x874)](_0x2a9802(0x318)),_0xa1e760[_0x2a9802(0x43a)]=_0x2a9802(0x4e4),_0x16eed1[_0x2a9802(0x43a)]='',_0x1a5af7[_0x2a9802(0x445)][_0x2a9802(0x6b7)]('hidden');try{const _0x34faff=doc(db,_0x2a9802(0xab3)+appId+_0x2a9802(0xaf2),_0x13cc6e),_0x1a8df2=await getDoc(_0x34faff);if(!_0x1a8df2[_0x2a9802(0x540)]())throw new Error(_0x2a9802(0xa04));const _0x118835=_0x1a8df2[_0x2a9802(0x730)](),_0x311c52=_0x118835[_0x2a9802(0x1e6)][_0x2a9802(0x963)],_0x4d460b=collection(db,_0x2a9802(0xab3)+appId+_0x2a9802(0xa37)+_0x34e93c+_0x2a9802(0x2d3)),_0x2d78d9=collection(db,_0x2a9802(0xab3)+appId+'/public/data/quizzes/'+_0x13cc6e+_0x2a9802(0x2d3)),[_0x4f22a3,_0x1c0473]=await Promise[_0x2a9802(0x9ab)]([getDocs(_0x4d460b),getDocs(_0x2d78d9)]),_0x3df31c=_0x4f22a3[_0x2a9802(0x354)]['map'](_0x2504a1=>_0x2504a1[_0x2a9802(0x730)]()),_0x53f1de=_0x1c0473[_0x2a9802(0x354)][_0x2a9802(0x6e4)](_0x307629=>_0x307629[_0x2a9802(0x730)]()),_0x1723ec=_0x3df31c[_0x2a9802(0x6e4)](_0x1fa3ad=>_0x1fa3ad[_0x2a9802(0x982)]),_0x2fd8e6=_0x53f1de['map'](_0x26ccd0=>_0x26ccd0[_0x2a9802(0x982)]),_0xf08d70=calculateMeanAndStdDev(_0x1723ec),_0x3a6853=calculateMeanAndStdDev(_0x2fd8e6),_0x37cf2e=_0xf08d70['mean'],_0x136f38=_0x3a6853['mean'],_0x243212=_0x136f38-_0x37cf2e;let _0x1a5433=_0x2a9802(0x2bb)+_0x37cf2e[_0x2a9802(0x2a4)](0x2)+_0x2a9802(0x812)+_0x136f38[_0x2a9802(0x2a4)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x243212>=0x0?_0x2a9802(0x8f8):_0x2a9802(0x3d9))+_0x2a9802(0x45d)+(_0x243212>=0x0?_0x2a9802(0x6be):_0x2a9802(0x8ba))+_0x2a9802(0x791)+(_0x243212>=0x0?'text-emerald-900':_0x2a9802(0x27e))+'\x22>'+(_0x243212>=0x0?'+':'')+_0x243212[_0x2a9802(0x2a4)](0x2)+_0x2a9802(0x1e5);_0xa1e760[_0x2a9802(0x43a)]=_0x1a5433;const _0x21997e=document['getElementById'](_0x2a9802(0x1bf))[_0x2a9802(0x52b)]('2d');if(chartInstances[_0x2a9802(0x3ee)])chartInstances[_0x2a9802(0x3ee)][_0x2a9802(0x2f9)]();chartInstances['comparison']=new Chart(_0x21997e,{'type':_0x2a9802(0x441),'data':{'labels':[_0x2a9802(0x918)],'datasets':[{'label':'ก่อนเรียน','data':[_0x37cf2e],'backgroundColor':_0x2a9802(0x657)},{'label':_0x2a9802(0x8f4),'data':[_0x136f38],'backgroundColor':_0x2a9802(0x58b)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x311c52}}}});const _0x168a5a=currentProjectData[_0x2a9802(0x6e3)]||[],_0xbb3394=_0x168a5a['map'](_0x26ee38=>{const _0x83411a=_0x2a9802,_0x13489d=_0x3df31c[_0x83411a(0x3fd)](_0x47d88f=>_0x47d88f['studentName']===_0x26ee38),_0x35fcff=_0x53f1de[_0x83411a(0x3fd)](_0x5554af=>_0x5554af[_0x83411a(0x222)]===_0x26ee38),_0x25ee54=_0x13489d?_0x13489d[_0x83411a(0x982)]:null,_0x5d0063=_0x35fcff?_0x35fcff[_0x83411a(0x982)]:null,_0x508c6f=_0x25ee54!==null&&_0x5d0063!==null?_0x5d0063-_0x25ee54:null,_0x1e3f41=_0x25ee54!==null?calculateZScore(_0x25ee54,_0xf08d70[_0x83411a(0xa43)],_0xf08d70[_0x83411a(0x460)]):null,_0x34e146=_0x5d0063!==null?calculateZScore(_0x5d0063,_0x3a6853[_0x83411a(0xa43)],_0x3a6853[_0x83411a(0x460)]):null,_0x5be81d=_0x1e3f41!==null?calculateTScore(_0x1e3f41):null,_0x1ae670=_0x34e146!==null?calculateTScore(_0x34e146):null,_0x45dde=_0x5be81d!==null&&_0x1ae670!==null?_0x1ae670-_0x5be81d:null;return{'name':_0x26ee38,'preScore':_0x25ee54,'postScore':_0x5d0063,'gain':_0x508c6f,'preTScore':_0x5be81d,'postTScore':_0x1ae670,'tGain':_0x45dde};});renderIndividualComparisonTable(_0xbb3394,_0x16eed1);}catch(_0x33e3aa){console[_0x2a9802(0x5a8)]('Error\x20comparing\x20results:',_0x33e3aa),_0xa1e760[_0x2a9802(0x43a)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x503302,_0x1cb196){const _0x34d26d=_0x5cd971,_0x58d587=_0x503302>=_0x1cb196/0x2,_0x2b26f3=_0x58d587?'bg-green-100':'bg-red-100',_0x27dfb4=_0x58d587?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x1ebb72=_0x58d587?_0x34d26d(0xa24):_0x34d26d(0x8ba),_0x5a4857=_0x58d587?_0x34d26d(0x4e0):_0x34d26d(0x885),_0x44418=_0x58d587?_0x34d26d(0x915):_0x34d26d(0x6a5);let _0x42e627='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x2b26f3+_0x34d26d(0xaa8)+_0x27dfb4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x1ebb72+_0x34d26d(0x824)+_0x5a4857+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x44418+_0x34d26d(0x937);studentResultArea[_0x34d26d(0x43a)]=_0x42e627,studentResultArea[_0x34d26d(0x445)][_0x34d26d(0x6b7)]('hidden'),studentQuizArea['classList'][_0x34d26d(0x874)](_0x34d26d(0x318)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x58d587});}function displayPerfectScoreResult(_0x3680df,_0x3be5fa){const _0x4e8d54=_0x5cd971,_0x49640d=_0x3680df===_0x3be5fa,_0xb09445=_0x49640d?_0x4e8d54(0x3a8):_0x4e8d54(0x669),_0x588bcd=_0x49640d?_0x4e8d54(0x639):_0x4e8d54(0xaf0),_0x1fa704=_0x49640d?_0x4e8d54(0x68e):_0x4e8d54(0x557),_0x23fd11=_0x49640d?_0x4e8d54(0x20b):_0x4e8d54(0x28b),_0x86e93c=_0x49640d?_0x4e8d54(0x5f8):_0x4e8d54(0x833);let _0x2ce2ac=_0x4e8d54(0x1b6)+_0xb09445+_0x4e8d54(0xaa8)+_0x588bcd+_0x4e8d54(0x976)+_0x1fa704+_0x4e8d54(0x824)+_0x23fd11+_0x4e8d54(0x5ad)+_0x86e93c+_0x4e8d54(0x937);studentResultArea[_0x4e8d54(0x43a)]=_0x2ce2ac,studentResultArea[_0x4e8d54(0x445)][_0x4e8d54(0x6b7)](_0x4e8d54(0x318)),studentQuizArea[_0x4e8d54(0x445)]['add'](_0x4e8d54(0x318)),setupResultScreenBackButton({'showRankings':![],'score':_0x3680df,'totalQuestions':_0x3be5fa});}function renderIndividualComparisonTable(_0x5d936a,_0x76c38e){const _0x2cfe4a=_0x5cd971;_0x5d936a[_0x2cfe4a(0x695)]((_0xc1efb9,_0x2594ed)=>(_0x2594ed['tGain']??-Infinity)-(_0xc1efb9['tGain']??-Infinity));let _0x462f1a=_0x2cfe4a(0x972);_0x5d936a[_0x2cfe4a(0x963)]===0x0?_0x462f1a+=_0x2cfe4a(0x45a):_0x5d936a[_0x2cfe4a(0x5d5)]((_0x19cea1,_0x41caac)=>{const _0x1ab364=_0x2cfe4a;let _0x3273fa='-',_0x2f1d1b='';if(_0x19cea1[_0x1ab364(0xa92)]!==null){const _0x27ccf7=_0x19cea1[_0x1ab364(0xa92)]>0x0?_0x1ab364(0x81a):_0x19cea1[_0x1ab364(0xa92)]<0x0?_0x1ab364(0x4e3):'text-gray-500',_0x553856=_0x19cea1['gain']>0x0?'+':'';_0x3273fa=_0x1ab364(0x358)+_0x27ccf7+'\x22>'+_0x553856+_0x19cea1[_0x1ab364(0xa92)]+'</span>';if(_0x19cea1[_0x1ab364(0xa92)]>0x0)_0x2f1d1b=_0x1ab364(0x987);else _0x19cea1[_0x1ab364(0xa92)]<0x0?_0x2f1d1b=_0x1ab364(0x429):_0x2f1d1b=_0x1ab364(0x5bf);}let _0x13a46d='-';if(_0x19cea1['tGain']!==null){const _0x5ea34f=_0x19cea1['tGain']>0x0?_0x1ab364(0x81a):_0x19cea1[_0x1ab364(0x799)]<0x0?_0x1ab364(0x4e3):_0x1ab364(0xaf9),_0x10f800=_0x19cea1['tGain']>0x0?'+':'';_0x13a46d=_0x1ab364(0x358)+_0x5ea34f+'\x22>'+_0x10f800+_0x19cea1[_0x1ab364(0x799)][_0x1ab364(0x2a4)](0x2)+_0x1ab364(0x4aa);}_0x462f1a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x41caac+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x19cea1['name']+_0x1ab364(0x839)+(_0x19cea1[_0x1ab364(0xa41)]??'-')+_0x1ab364(0x498)+(_0x19cea1['postScore']??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x3273fa+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x2f1d1b+_0x1ab364(0x256)+(_0x19cea1[_0x1ab364(0x91f)]?.['toFixed'](0x2)??'-')+_0x1ab364(0x428)+(_0x19cea1['postTScore']?.[_0x1ab364(0x2a4)](0x2)??'-')+_0x1ab364(0x839)+_0x13a46d+_0x1ab364(0x7ea);}),_0x462f1a+=_0x2cfe4a(0x6e0),_0x76c38e[_0x2cfe4a(0x43a)]=_0x462f1a;}function handleRenameQuiz(_0x5671d3,_0x4345d6){const _0x3f7d93=_0x5cd971;actionTargetId=_0x5671d3,document[_0x3f7d93(0xa59)](_0x3f7d93(0xa22))[_0x3f7d93(0x630)]=_0x4345d6,renameQuizModal[_0x3f7d93(0x445)]['remove'](_0x3f7d93(0x318));}function setupComparisonModalTabs(){const _0x4d72b0=_0x5cd971,_0x519b97=document[_0x4d72b0(0xa59)](_0x4d72b0(0x322)),_0x5ca943=document[_0x4d72b0(0xa59)]('comparison-individual-tab'),_0x5163ae=document['getElementById']('comparison-overall-content'),_0x99accc=document[_0x4d72b0(0xa59)]('comparison-individual-content');_0x519b97[_0x4d72b0(0x1ce)](_0x4d72b0(0x420),()=>{const _0x440170=_0x4d72b0;_0x519b97[_0x440170(0x445)][_0x440170(0x874)](_0x440170(0x18e)),_0x5ca943['classList'][_0x440170(0x6b7)]('active'),_0x5163ae['classList'][_0x440170(0x6b7)]('hidden'),_0x99accc['classList'][_0x440170(0x874)](_0x440170(0x318));}),_0x5ca943['addEventListener'](_0x4d72b0(0x420),()=>{const _0x32a0cd=_0x4d72b0;_0x5ca943[_0x32a0cd(0x445)][_0x32a0cd(0x874)](_0x32a0cd(0x18e)),_0x519b97['classList'][_0x32a0cd(0x6b7)](_0x32a0cd(0x18e)),_0x99accc[_0x32a0cd(0x445)][_0x32a0cd(0x6b7)](_0x32a0cd(0x318)),_0x5163ae[_0x32a0cd(0x445)]['add'](_0x32a0cd(0x318));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x5da176=''){const _0x4cb597=_0x5cd971,_0x2e7fe7=document[_0x4cb597(0xa59)]('global-quiz-list'),_0x48b1fe=_0x5da176['toLowerCase']()[_0x4cb597(0x56b)](),_0x31efc1=allQuizzesGlobal[_0x4cb597(0x6e4)](_0x33807b=>({..._0x33807b,'projectName':allProjects[_0x4cb597(0x3fd)](_0x468f5f=>_0x468f5f['id']===_0x33807b[_0x4cb597(0x868)])?.[_0x4cb597(0x1ff)]||_0x33807b[_0x4cb597(0x868)]}))[_0x4cb597(0x75f)](_0x134013=>(_0x134013[_0x4cb597(0xaad)]||'')[_0x4cb597(0x57d)]()[_0x4cb597(0x1c3)](_0x48b1fe)||(_0x134013[_0x4cb597(0x1ff)]||'')['toLowerCase']()[_0x4cb597(0x1c3)](_0x48b1fe));document[_0x4cb597(0xa59)](_0x4cb597(0x6ae))[_0x4cb597(0x2e0)]='('+_0x31efc1[_0x4cb597(0x963)]+'\x20ชุด)',_0x2e7fe7[_0x4cb597(0x43a)]=_0x31efc1[_0x4cb597(0x963)]?_0x31efc1[_0x4cb597(0x6e4)](_0x2d81b4=>_0x4cb597(0x89c)+_0x2d81b4['id']+_0x4cb597(0xaff)+(_0x2d81b4[_0x4cb597(0xaad)]||_0x4cb597(0xa07))+_0x4cb597(0x607)+(_0x2d81b4[_0x4cb597(0x1e6)]?.[_0x4cb597(0x963)]||0x0)+_0x4cb597(0x74a)+_0x2d81b4[_0x4cb597(0x1ff)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')[_0x4cb597(0x386)](''):_0x4cb597(0x9b8),selectedGlobalQuizId=null,document[_0x4cb597(0xa59)](_0x4cb597(0x226))[_0x4cb597(0x3cd)]=!![],_0x2e7fe7[_0x4cb597(0x1f8)](_0x4cb597(0x9a5))[_0x4cb597(0x5d5)](_0x931c32=>{const _0x10b0ce=_0x4cb597;_0x931c32['addEventListener'](_0x10b0ce(0x420),()=>{const _0x1cb541=_0x10b0ce;selectedGlobalQuizId=_0x931c32[_0x1cb541(0xafb)]['id'],_0x2e7fe7['querySelectorAll'](_0x1cb541(0x336))[_0x1cb541(0x5d5)](_0x48b450=>_0x48b450[_0x1cb541(0x445)][_0x1cb541(0x6b7)]('bg-purple-50',_0x1cb541(0x5af),_0x1cb541(0x8d8))),_0x931c32['classList']['add'](_0x1cb541(0x279),'ring-2',_0x1cb541(0x8d8)),document[_0x1cb541(0xa59)]('confirm-global-live-btn')[_0x1cb541(0x3cd)]=![];});});}function listenForLiveGameUpdates(){const _0x4142ab=_0x5cd971;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3d80fd=doc(db,_0x4142ab(0xab3)+appId+_0x4142ab(0x52e),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3d80fd,_0x540173=>{const _0x3febbe=_0x4142ab;if(!_0x540173[_0x3febbe(0x540)]()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x2c7aa1=_0x540173['data']();_0x2c7aa1['shuffledQuiz']&&(currentQuizData=_0x2c7aa1['shuffledQuiz']);!currentQuizData&&_0x2c7aa1[_0x3febbe(0x5b7)]&&((async()=>{const _0x2f8402=_0x3febbe;try{const _0x3701b0=doc(db,_0x2f8402(0xab3)+appId+'/public/data/quizzes',_0x2c7aa1[_0x2f8402(0x5b7)]),_0x544fd4=await getDoc(_0x3701b0);_0x544fd4['exists']()&&(currentQuizData={'id':_0x544fd4['id'],..._0x544fd4[_0x2f8402(0x730)]()});}catch(_0xd17c60){console['error'](_0x2f8402(0x191),_0xd17c60);}})());switch(_0x2c7aa1[_0x3febbe(0x6c8)]){case _0x3febbe(0x3f2):if(currentMode===_0x3febbe(0x957)){const _0x1a0269=_0x2c7aa1[_0x3febbe(0x8d7)]?Object[_0x3febbe(0x811)](_0x2c7aa1['players']):[],_0x1d943a=_0x1a0269[_0x3febbe(0x75f)](([_0x42c3a1,_0x27357a])=>_0x27357a[_0x3febbe(0x6c8)]===_0x3febbe(0x18e)),_0x1a94db=document['getElementById']('player-count');if(_0x1a94db)_0x1a94db['textContent']=_0x1d943a[_0x3febbe(0x963)];const _0x2ddf91=document[_0x3febbe(0xa59)]('player-list-lobby');_0x2ddf91&&(_0x2ddf91[_0x3febbe(0x43a)]=_0x1d943a[_0x3febbe(0x6e4)](([_0x164007,_0xd5d5c4])=>_0x3febbe(0x93a)+_0x164007+_0x3febbe(0xa72)+_0x164007+_0x3febbe(0x571))[_0x3febbe(0x386)](''));const _0x420204=document[_0x3febbe(0xa59)](_0x3febbe(0xa79));_0x420204&&(_0x420204[_0x3febbe(0x3cd)]=_0x1d943a[_0x3febbe(0x963)]===0x0);}else showView(_0x3febbe(0x9ad)),liveGameView['innerHTML']=_0x3febbe(0x1c6)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x3febbe(0x6ee):const _0x534a4c=_0x2c7aa1['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x3febbe(0x1e6)][_0x534a4c]){const _0x4e689b=currentQuizData[_0x3febbe(0x1e6)][_0x534a4c],_0x412990=_0x2c7aa1[_0x3febbe(0x822)]||_0x3febbe(0x7df);switch(_0x412990){case _0x3febbe(0x8e9):currentMode==='admin'?showAdminSummaryView(_0x2c7aa1,_0x4e689b):showPlayerSummaryView(_0x2c7aa1,currentStudentName);break;case _0x3febbe(0x8c6):currentMode===_0x3febbe(0x957)&&showTop5LeaderboardView(_0x2c7aa1);break;case _0x3febbe(0x7df):default:if(currentMode===_0x3febbe(0x957)){const _0x18f93d=writeBatch(db);let _0x5179b2=![];Object['entries'](_0x2c7aa1['players'])[_0x3febbe(0x5d5)](([_0x95504d,_0x1a0635])=>{const _0x5988c0=_0x3febbe;if(_0x1a0635[_0x5988c0(0x6c8)]===_0x5988c0(0x18e)&&_0x1a0635['submittedAt']&&!_0x1a0635[_0x5988c0(0x567)]){_0x5179b2=!![];const _0x1f59d0=_0x1a0635[_0x5988c0(0x2aa)][_0x5988c0(0xa06)]()-_0x2c7aa1[_0x5988c0(0x7e7)][_0x5988c0(0xa06)]();let _0x3d6a70=0x0;if(_0x1a0635[_0x5988c0(0x878)]){const _0x7894f8=0x3e8,_0x46b510=0x1f4,_0x3da2e3=0x4e20;let _0x2c7bfe=_0x1f59d0/_0x3da2e3;if(_0x2c7bfe>0x1)_0x2c7bfe=0x1;const _0x116cca=Math[_0x5988c0(0x534)](_0x2c7bfe*_0x46b510);_0x3d6a70=_0x7894f8-_0x116cca;}const _0x32c9a8=doc(db,_0x5988c0(0xab3)+appId+_0x5988c0(0x52e),currentLiveGameId);_0x18f93d[_0x5988c0(0x2f6)](_0x32c9a8,{[_0x5988c0(0x8b4)+_0x95504d+_0x5988c0(0x3bf)]:increment(_0x3d6a70),['players.'+_0x95504d+_0x5988c0(0x851)]:_0x3d6a70,[_0x5988c0(0x8b4)+_0x95504d+'.isScored']:!![]});}});_0x5179b2&&_0x18f93d[_0x3febbe(0xaa2)]()[_0x3febbe(0xa5b)](_0x3ca50c=>console['error']('Error\x20committing\x20score\x20updates:',_0x3ca50c));lastRenderedAdminQuestionIndex!==_0x534a4c&&(showAdminLiveQuestionView(_0x4e689b,_0x534a4c,currentQuizData[_0x3febbe(0x1e6)][_0x3febbe(0x963)]),lastRenderedAdminQuestionIndex=_0x534a4c);const _0x5bd780=_0x2c7aa1[_0x3febbe(0x8d7)]||{},_0x56b6ac=Object[_0x3febbe(0xa88)](_0x5bd780)[_0x3febbe(0x75f)](_0x2f2615=>_0x2f2615[_0x3febbe(0x6c8)]===_0x3febbe(0x18e)),_0x43d54f=_0x56b6ac[_0x3febbe(0x963)],_0x5b2e0e=_0x56b6ac['filter'](_0x43cfac=>_0x43cfac[_0x3febbe(0x693)]===!![])[_0x3febbe(0x963)],_0x464d2e=document['getElementById'](_0x3febbe(0x5b1));if(_0x464d2e)_0x464d2e[_0x3febbe(0x2e0)]=_0x5b2e0e+'/'+_0x43d54f;const _0x18147b=document[_0x3febbe(0xa59)](_0x3febbe(0x235));if(_0x18147b){let _0x1376ef=Object[_0x3febbe(0x811)](_0x5bd780)[_0x3febbe(0x75f)](([_0x51a3ab,_0x24df0d])=>_0x24df0d['status']===_0x3febbe(0x18e))[_0x3febbe(0x6e4)](([_0x5db8bb,_0x1bfb40])=>{const _0x1da280=_0x3febbe,_0x597ecf=_0x1bfb40[_0x1da280(0x693)]===!![],_0x4d53ff=_0x597ecf?'bg-green-500':_0x1da280(0x8bc),_0x548a5a=_0x597ecf?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x1da280(0x778);return _0x1da280(0x30d)+_0x4d53ff+_0x1da280(0x29e)+_0x548a5a+_0x1da280(0x2f3)+_0x5db8bb+_0x1da280(0x504)+_0x5db8bb+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3febbe(0x386)]('');_0x18147b[_0x3febbe(0x43a)]=_0x1376ef||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x43d54f>0x0&&_0x5b2e0e===_0x43d54f&&revealAnswerForAdmin(_0x534a4c,currentQuizData[_0x3febbe(0x1e6)]['length']);}else{const _0xa90c2a=_0x2c7aa1[_0x3febbe(0x8d7)][currentStudentName];_0xa90c2a&&!_0xa90c2a[_0x3febbe(0x693)]&&showStudentLiveQuestionView(_0x4e689b,_0x534a4c,currentQuizData[_0x3febbe(0x1e6)][_0x3febbe(0x963)]);}break;}}break;case'podium':showPodiumView(_0x2c7aa1[_0x3febbe(0x8d7)],_0x3febbe(0x241));break;}});}async function handleKickPlayer(_0x27bd3b){const _0x5c07ba=_0x5cd971;if(!currentLiveGameId||!_0x27bd3b)return;const _0x38abe8=doc(db,_0x5c07ba(0xab3)+appId+'/public/data/liveGames',currentLiveGameId),_0x476da1={};_0x476da1['players.'+_0x27bd3b+_0x5c07ba(0x2f5)]=_0x5c07ba(0x6ce);try{await updateDoc(_0x38abe8,_0x476da1);}catch(_0x16132e){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x27bd3b+':',_0x16132e),showMessage(_0x5c07ba(0x37e));}}async function authenticateUser(){const _0x35bf70=_0x5cd971;try{typeof __initial_auth_token!==_0x35bf70(0x2d6)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5c8b1c){console['error'](_0x35bf70(0x3a7),_0x5c8b1c),showMessage(_0x35bf70(0x7f9));}}function showView(_0x485ba8){const _0x4411ac=_0x5cd971;adminView[_0x4411ac(0x445)][_0x4411ac(0x874)]('hidden'),studentView[_0x4411ac(0x445)][_0x4411ac(0x874)](_0x4411ac(0x318)),projectDashboardView['classList']['add'](_0x4411ac(0x318)),projectDetailView['classList'][_0x4411ac(0x874)](_0x4411ac(0x318)),quizResultsView[_0x4411ac(0x445)]['add'](_0x4411ac(0x318)),liveGameView[_0x4411ac(0x445)]['add'](_0x4411ac(0x318)),studentInitialView[_0x4411ac(0x445)][_0x4411ac(0x874)](_0x4411ac(0x318)),studentJoinGameView[_0x4411ac(0x445)][_0x4411ac(0x874)](_0x4411ac(0x318)),studentNameSelectionView[_0x4411ac(0x445)]['add'](_0x4411ac(0x318)),studentQuizArea[_0x4411ac(0x445)][_0x4411ac(0x874)](_0x4411ac(0x318)),studentResultArea['classList'][_0x4411ac(0x874)](_0x4411ac(0x318)),studentReadingArea['classList']['add'](_0x4411ac(0x318));const _0x46e1a4=document[_0x4411ac(0xa59)](_0x4411ac(0xa35)),_0x1d7417=document[_0x4411ac(0xa59)](_0x4411ac(0x281));if(_0x46e1a4)_0x46e1a4[_0x4411ac(0x445)]['add'](_0x4411ac(0x318));if(_0x1d7417)_0x1d7417[_0x4411ac(0x445)][_0x4411ac(0x874)](_0x4411ac(0x318));switch(_0x485ba8){case _0x4411ac(0x2f7):adminView[_0x4411ac(0x445)][_0x4411ac(0x6b7)](_0x4411ac(0x318)),projectDashboardView[_0x4411ac(0x445)][_0x4411ac(0x6b7)](_0x4411ac(0x318));break;case _0x4411ac(0x237):adminView[_0x4411ac(0x445)][_0x4411ac(0x6b7)]('hidden'),projectDetailView[_0x4411ac(0x445)]['remove'](_0x4411ac(0x318));break;case _0x4411ac(0x319):adminView[_0x4411ac(0x445)][_0x4411ac(0x6b7)](_0x4411ac(0x318)),quizResultsView['classList']['remove'](_0x4411ac(0x318));break;case _0x4411ac(0x17a):studentView[_0x4411ac(0x445)][_0x4411ac(0x6b7)](_0x4411ac(0x318)),studentInitialView['classList'][_0x4411ac(0x6b7)](_0x4411ac(0x318));break;case _0x4411ac(0x9ad):liveGameView[_0x4411ac(0x445)][_0x4411ac(0x6b7)](_0x4411ac(0x318));break;case _0x4411ac(0x9b4):studentView[_0x4411ac(0x445)][_0x4411ac(0x6b7)]('hidden');if(_0x46e1a4)_0x46e1a4[_0x4411ac(0x445)][_0x4411ac(0x6b7)](_0x4411ac(0x318));break;case'student-progress':studentView['classList'][_0x4411ac(0x6b7)]('hidden');if(_0x1d7417)_0x1d7417[_0x4411ac(0x445)][_0x4411ac(0x6b7)](_0x4411ac(0x318));break;default:studentView['classList'][_0x4411ac(0x6b7)](_0x4411ac(0x318)),studentInitialView[_0x4411ac(0x445)]['remove'](_0x4411ac(0x318));break;}}function showJoinGameView(){const _0x535dcd=_0x5cd971;studentInitialView[_0x535dcd(0x445)][_0x535dcd(0x874)](_0x535dcd(0x318)),studentJoinGameView[_0x535dcd(0x445)][_0x535dcd(0x6b7)](_0x535dcd(0x318));}async function handleSaveVisibilitySettings(){const _0x16db7b=_0x5cd971;if(!currentProjectId)return;const _0x2d3e8a=doc(db,_0x16db7b(0xab3)+appId+_0x16db7b(0x6d8),currentProjectId);try{await updateDoc(_0x2d3e8a,{'settings.showInStudentDashboard':document[_0x16db7b(0xa59)](_0x16db7b(0x7f5))[_0x16db7b(0x31a)],'settings.isPasscodeEnabled':document[_0x16db7b(0xa59)](_0x16db7b(0x832))['checked'],'settings.passcode':document[_0x16db7b(0xa59)]('project-passcode-input')['value'][_0x16db7b(0x56b)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x32f865){console[_0x16db7b(0x5a8)](_0x16db7b(0x32f),_0x32f865),showMessage(_0x16db7b(0xaea));}}function setupEventListeners(){const _0x9c9119=_0x5cd971,_0x3986f7=document['getElementById'](_0x9c9119(0x3a4)),_0x3fb48f=document[_0x9c9119(0xa59)](_0x9c9119(0x3a3));_0x3986f7[_0x9c9119(0x1ce)](_0x9c9119(0x562),()=>{const _0x5333e1=_0x9c9119;_0x3fb48f['classList'][_0x5333e1(0x367)](_0x5333e1(0x318),!_0x3986f7[_0x5333e1(0x31a)]);});const _0x39a9f4=document[_0x9c9119(0xa59)](_0x9c9119(0x3d4)),_0x392b2f=document[_0x9c9119(0xa59)]('confidence-mode-container');_0x39a9f4[_0x9c9119(0x1ce)](_0x9c9119(0x562),()=>{const _0x5286cc=_0x9c9119;_0x392b2f[_0x5286cc(0x445)][_0x5286cc(0x367)](_0x5286cc(0x318),!_0x39a9f4[_0x5286cc(0x31a)]);});const _0x23d279=document['getElementById'](_0x9c9119(0x391)),_0x4d73d4=document[_0x9c9119(0xa59)](_0x9c9119(0x1a7));_0x23d279[_0x9c9119(0x1ce)]('change',()=>{const _0x38bb58=_0x9c9119;_0x4d73d4[_0x38bb58(0x445)]['toggle']('hidden',!_0x23d279['checked']);});const _0xdaaae8=document[_0x9c9119(0xa59)](_0x9c9119(0xa77)),_0x128d20=async _0x4bde61=>{const _0xd8b86d=_0x9c9119,_0x41148e=document[_0xd8b86d(0xa59)](_0xd8b86d(0xa77)),_0x9254f5=_0x41148e[_0xd8b86d(0xafb)][_0xd8b86d(0x9be)],_0x5f41da=document[_0xd8b86d(0xa59)](_0xd8b86d(0x471));_0x41148e[_0xd8b86d(0x445)][_0xd8b86d(0x874)](_0xd8b86d(0x318));if(_0x9254f5===_0xd8b86d(0x25e)){const _0x5b5dc7=_0x5f41da[_0xd8b86d(0x630)],_0x477959={'answer':_0x5b5dc7,'wasConfident':_0x4bde61};proceedToNextQuestion(_0x477959);}else{if(_0x9254f5==='sync'){const _0x3c3163=_0x5f41da[_0xd8b86d(0xafb)][_0xd8b86d(0x586)],_0x1d0270=JSON[_0xd8b86d(0x5bd)](_0x5f41da[_0xd8b86d(0xafb)]['question']),_0x15b85f=JSON['parse'](_0x5f41da[_0xd8b86d(0xafb)]['gameData']),_0x116ba5=_0x5f41da[_0xd8b86d(0xafb)][_0xd8b86d(0x3f4)];handleSyncAnswerSubmit(_0x3c3163,_0x1d0270,_0x15b85f,_0x116ba5,_0x4bde61);}}_0x41148e['dataset'][_0xd8b86d(0x9be)]='';};document['getElementById'](_0x9c9119(0x9e7))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>_0x128d20(!![])),document[_0x9c9119(0xa59)](_0x9c9119(0x5cb))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>_0x128d20(![])),liveGameView[_0x9c9119(0x1ce)](_0x9c9119(0x420),_0x44ad9f=>{const _0x3e6ed8=_0x9c9119,_0x239ec8=_0x44ad9f[_0x3e6ed8(0x1f5)][_0x3e6ed8(0x74e)]('.kick-player-btn-sync');if(_0x239ec8){const _0x1d94a6=_0x239ec8[_0x3e6ed8(0xafb)][_0x3e6ed8(0x3f4)];_0x1d94a6&&handleKickPlayerSync(_0x1d94a6);}});const _0x12de2e=document[_0x9c9119(0xa59)](_0x9c9119(0x74d)),_0x319271=document[_0x9c9119(0xa59)](_0x9c9119(0x4a2));_0x319271[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x5961f6=_0x9c9119;document['getElementById'](_0x5961f6(0x3d3))['classList'][_0x5961f6(0x874)](_0x5961f6(0x318));}),_0x12de2e['addEventListener'](_0x9c9119(0x420),()=>{const _0x1b447c=_0x9c9119,_0x13f813=document[_0x1b447c(0xa59)](_0x1b447c(0x481))[_0x1b447c(0x630)],_0x40ba71=document[_0x1b447c(0xa59)]('game-start-mode')[_0x1b447c(0x630)],_0x4ea856=document[_0x1b447c(0xa59)]('save-game-results-checkbox')['checked'];document[_0x1b447c(0xa59)]('confirm-game-start-modal')[_0x1b447c(0x445)][_0x1b447c(0x874)](_0x1b447c(0x318));switch(_0x40ba71){case _0x1b447c(0x241):handleStartLiveRace(_0x13f813,_0x4ea856);break;case'team':handleStartTeamQuiz(_0x13f813,_0x4ea856);break;case _0x1b447c(0xae3):handleStartGroupMode(_0x13f813,_0x4ea856);break;case _0x1b447c(0x32e):handleStartSyncMode(_0x13f813,_0x4ea856);break;}}),document[_0x9c9119(0xa59)](_0x9c9119(0x2e9))[_0x9c9119(0x1ce)]('click',handleJoinGroupActivity),liveGameView[_0x9c9119(0x1ce)](_0x9c9119(0x420),_0x35f3d9=>{const _0x45da16=_0x9c9119,_0x1b3b23=_0x35f3d9[_0x45da16(0x1f5)][_0x45da16(0x74e)](_0x45da16(0x2b8));document[_0x45da16(0x1f8)](_0x45da16(0x9a4))[_0x45da16(0x5d5)](_0x5c6058=>{const _0x3bdddc=_0x45da16;(!_0x1b3b23||_0x5c6058['id']!==_0x1b3b23[_0x3bdddc(0xafb)][_0x3bdddc(0x60b)])&&_0x5c6058['classList'][_0x3bdddc(0x6b7)](_0x3bdddc(0x911));});if(!_0x1b3b23)return;const _0x4dcc81=_0x1b3b23[_0x45da16(0xafb)]['tooltipTarget'],_0x5b144b=document[_0x45da16(0xa59)](_0x4dcc81);_0x5b144b&&_0x5b144b['classList'][_0x45da16(0x367)](_0x45da16(0x911));}),liveGameView[_0x9c9119(0x1ce)]('click',_0x568ba0=>{const _0x29b4ee=_0x9c9119;if(_0x568ba0[_0x29b4ee(0x1f5)][_0x29b4ee(0x445)][_0x29b4ee(0x914)]('kick-player-btn')){const _0x36615c=_0x568ba0[_0x29b4ee(0x1f5)][_0x29b4ee(0xafb)][_0x29b4ee(0x3f4)];_0x36615c&&handleKickPlayer(_0x36615c);}}),document[_0x9c9119(0xa59)](_0x9c9119(0x206))[_0x9c9119(0x1ce)]('focus',()=>document[_0x9c9119(0xa59)](_0x9c9119(0x363))[_0x9c9119(0x445)][_0x9c9119(0x6b7)](_0x9c9119(0x318))),document[_0x9c9119(0xa59)](_0x9c9119(0x363))[_0x9c9119(0x1ce)](_0x9c9119(0x420),handleSaveProjectName),document['getElementById']('project-title')[_0x9c9119(0x1ce)](_0x9c9119(0x451),_0x13e09c=>{const _0xad1aef=_0x9c9119;_0x13e09c['key']===_0xad1aef(0x372)&&(_0x13e09c[_0xad1aef(0x67d)](),_0x13e09c[_0xad1aef(0x1f5)]['blur'](),handleSaveProjectName());}),document[_0x9c9119(0xa59)](_0x9c9119(0x917))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x1497a9=_0x9c9119;document[_0x1497a9(0xa59)](_0x1497a9(0x496))[_0x1497a9(0x445)][_0x1497a9(0x6b7)](_0x1497a9(0x318));}),document[_0x9c9119(0xa59)](_0x9c9119(0x4f5))['addEventListener'](_0x9c9119(0x420),()=>{const _0x561b99=_0x9c9119;document['getElementById'](_0x561b99(0x496))['classList'][_0x561b99(0x874)](_0x561b99(0x318));}),document[_0x9c9119(0xa59)](_0x9c9119(0x2eb))[_0x9c9119(0x1ce)]('click',handleBulkUpdateQuizSettings),document[_0x9c9119(0xa59)](_0x9c9119(0x41d))[_0x9c9119(0x1ce)]('click',handleModeSwitch),document[_0x9c9119(0xa59)]('update-old-quizzes-btn')[_0x9c9119(0x1ce)](_0x9c9119(0x420),handleUpdateOldQuizzes),document[_0x9c9119(0xa59)](_0x9c9119(0x79a))[_0x9c9119(0x1ce)](_0x9c9119(0x420),handleResetProjectOrder),document[_0x9c9119(0xa59)](_0x9c9119(0x1d6))[_0x9c9119(0x1ce)](_0x9c9119(0x420),handleSaveVisibilitySettings),document['getElementById']('add-custom-math-topic-btn')[_0x9c9119(0x1ce)](_0x9c9119(0x420),handleAddCustomMathTopic),document['getElementById'](_0x9c9119(0x6f1))['addEventListener']('click',handleSelectAllTopics),document['getElementById'](_0x9c9119(0x289))[_0x9c9119(0x1ce)](_0x9c9119(0x420),handleDeselectAllTopics),document['getElementById']('back-to-dashboard-btn')[_0x9c9119(0x1ce)]('click',()=>{const _0x28d579=_0x9c9119;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x28d579(0x2f7));}),document[_0x9c9119(0xa59)](_0x9c9119(0x52c))[_0x9c9119(0x1ce)]('click',()=>{const _0x1643d8=_0x9c9119;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x1643d8(0x237));}),document[_0x9c9119(0xa59)]('back-to-dashboard-from-results-btn')[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x4509d7=_0x9c9119;showView(_0x4509d7(0x2f7));}),document[_0x9c9119(0xa59)](_0x9c9119(0x4bb))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x5828b0=_0x9c9119;messageModal['classList'][_0x5828b0(0x874)](_0x5828b0(0x318)),typeof modalConfirmAction===_0x5828b0(0xa64)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x9c9119(0xa9c))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>createProjectModal['classList'][_0x9c9119(0x6b7)](_0x9c9119(0x318))),document[_0x9c9119(0xa59)]('cancel-create-project-btn')['addEventListener'](_0x9c9119(0x420),()=>createProjectModal[_0x9c9119(0x445)]['add']('hidden')),document[_0x9c9119(0xa59)](_0x9c9119(0x748))[_0x9c9119(0x1ce)]('click',()=>adminPasswordModal['classList'][_0x9c9119(0x874)](_0x9c9119(0x318))),document[_0x9c9119(0xa59)](_0x9c9119(0xb00))[_0x9c9119(0x1ce)](_0x9c9119(0x420),handleAdminLogin),document[_0x9c9119(0xa59)](_0x9c9119(0x374))[_0x9c9119(0x1ce)](_0x9c9119(0x9d5),_0x54bd25=>{const _0x485249=_0x9c9119;if(_0x54bd25[_0x485249(0x9bf)]==='Enter')handleAdminLogin();}),document[_0x9c9119(0xa59)](_0x9c9119(0x234))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x83905a=_0x9c9119;confirmationModal['classList']['add'](_0x83905a(0x318)),confirmAction=null;}),document[_0x9c9119(0xa59)](_0x9c9119(0x82f))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x511c16=_0x9c9119;confirmAction&&confirmAction(),confirmationModal[_0x511c16(0x445)]['add'](_0x511c16(0x318)),confirmAction=null;}),document[_0x9c9119(0xa59)](_0x9c9119(0x754))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>renameQuizModal['classList']['add'](_0x9c9119(0x318))),document['getElementById'](_0x9c9119(0x766))[_0x9c9119(0x1ce)]('click',confirmRenameQuiz),document[_0x9c9119(0xa59)](_0x9c9119(0x466))['addEventListener'](_0x9c9119(0x420),()=>moveQuizModal[_0x9c9119(0x445)][_0x9c9119(0x874)](_0x9c9119(0x318))),document[_0x9c9119(0xa59)]('confirm-move-quiz-btn')[_0x9c9119(0x1ce)](_0x9c9119(0x420),confirmMoveQuiz),document['getElementById'](_0x9c9119(0x253))['addEventListener'](_0x9c9119(0x420),()=>quizSettingsModal[_0x9c9119(0x445)][_0x9c9119(0x874)]('hidden')),document[_0x9c9119(0xa59)](_0x9c9119(0xa5c))[_0x9c9119(0x1ce)]('click',confirmQuizSettings),document['getElementById'](_0x9c9119(0x4ec))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>quizStatusModal[_0x9c9119(0x445)][_0x9c9119(0x874)](_0x9c9119(0x318))),document['getElementById']('confirm-quiz-status-btn')[_0x9c9119(0x1ce)](_0x9c9119(0x420),confirmQuizStatus);const _0x209539=document[_0x9c9119(0xa59)](_0x9c9119(0x829));document[_0x9c9119(0xa59)](_0x9c9119(0x42d))['addEventListener']('click',()=>{const _0x3dfd65=_0x9c9119;_0x209539[_0x3dfd65(0x445)][_0x3dfd65(0x874)](_0x3dfd65(0x318));}),document[_0x9c9119(0xa59)](_0x9c9119(0x7a0))[_0x9c9119(0x1ce)](_0x9c9119(0x420),async()=>{const _0x1e6ae8=_0x9c9119,_0x2f1f6e=allQuizzes[_0x1e6ae8(0x3fd)](_0x500f5e=>_0x500f5e['id']===actionTargetId);_0x2f1f6e?(currentQuizData=_0x2f1f6e,exportQuizAsWorksheetPDF()):showMessage(_0x1e6ae8(0x838)),_0x209539[_0x1e6ae8(0x445)]['add'](_0x1e6ae8(0x318));}),document[_0x9c9119(0xa59)](_0x9c9119(0x5dc))['addEventListener']('click',async()=>{const _0x5b7b73=_0x9c9119,_0x155207=allQuizzes[_0x5b7b73(0x3fd)](_0x10533a=>_0x10533a['id']===actionTargetId);_0x155207?(currentQuizData=_0x155207,exportQuizAsTutorPDF()):showMessage(_0x5b7b73(0x838)),_0x209539[_0x5b7b73(0x445)][_0x5b7b73(0x874)]('hidden');}),document['getElementById'](_0x9c9119(0x774))[_0x9c9119(0x1ce)](_0x9c9119(0x420),openGlobalLiveModal),document[_0x9c9119(0xa59)](_0x9c9119(0x760))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x348b58=_0x9c9119;document['getElementById'](_0x348b58(0x6d9))['classList'][_0x348b58(0x874)]('hidden'),selectedGlobalQuizId=null;}),document[_0x9c9119(0xa59)]('global-quiz-search-input')['addEventListener'](_0x9c9119(0x5cc),_0x350989=>renderGlobalQuizList(_0x350989['target'][_0x9c9119(0x630)])),document[_0x9c9119(0xa59)](_0x9c9119(0x226))['addEventListener'](_0x9c9119(0x420),()=>{const _0x505492=_0x9c9119,_0xa8722c=selectedGlobalQuizId;if(!_0xa8722c)return;document[_0x505492(0xa59)]('global-live-game-modal')[_0x505492(0x445)][_0x505492(0x874)](_0x505492(0x318)),handleStartLiveRace(_0xa8722c);}),document[_0x9c9119(0xa59)]('project-search-input')[_0x9c9119(0x1ce)](_0x9c9119(0x5cc),renderProjects),document['getElementById'](_0x9c9119(0x5a5))[_0x9c9119(0x1ce)]('change',async()=>{const _0x525e53=_0x9c9119,_0x27d3bd=document[_0x525e53(0xa59)]('project-sort-select')[_0x525e53(0x630)],_0x250997=doc(db,'globalSettings',_0x525e53(0x3c1));try{await setDoc(_0x250997,{'projectSort':_0x27d3bd},{'merge':!![]});}catch(_0x20c81b){console['error'](_0x525e53(0x209),_0x20c81b),showMessage(_0x525e53(0x3db));}}),document[_0x9c9119(0xa59)](_0x9c9119(0x4f7))[_0x9c9119(0x1ce)](_0x9c9119(0x5cc),renderQuizzes),document['getElementById']('grid-view-btn')[_0x9c9119(0x1ce)]('click',()=>{const _0x2b0a1c=_0x9c9119;globalDashboardSettings['projectView']=_0x2b0a1c(0x229),saveUserPreference('projectView','grid'),renderProjects();}),document['getElementById'](_0x9c9119(0x210))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x4387aa=_0x9c9119;globalDashboardSettings['projectView']='list',saveUserPreference(_0x4387aa(0x6f6),_0x4387aa(0x544)),renderProjects();}),manageTab[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>switchProjectTab('manage')),resultsTab['addEventListener'](_0x9c9119(0x420),()=>switchProjectTab(_0x9c9119(0x352))),leaderboardTab[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>switchProjectTab('leaderboard')),document[_0x9c9119(0xa59)]('analytics-tab-btn')[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>switchQuizDetailTab(_0x9c9119(0x3ef))),document[_0x9c9119(0xa59)](_0x9c9119(0x991))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>switchQuizDetailTab('scores')),document[_0x9c9119(0xa59)](_0x9c9119(0x923))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>switchQuizDetailTab(_0x9c9119(0xa6f))),document['getElementById'](_0x9c9119(0x895))['addEventListener'](_0x9c9119(0x420),()=>switchQuizDetailTab(_0x9c9119(0x821))),document[_0x9c9119(0xa59)]('analyze-strengths-btn')['addEventListener']('click',handleAnalyzeClass),generateWorksheetBtn[_0x9c9119(0x1ce)](_0x9c9119(0x420),generateWorksheet);const _0x3b1cf2=document[_0x9c9119(0xa59)](_0x9c9119(0x765)),_0x575ec1=document[_0x9c9119(0xa59)](_0x9c9119(0x2e7)),_0x135864=document[_0x9c9119(0xa59)](_0x9c9119(0x9e9)),_0x51f213=document[_0x9c9119(0xa59)](_0x9c9119(0x200)),_0x5746ba=document[_0x9c9119(0xa59)](_0x9c9119(0x502)),_0x12c054=document[_0x9c9119(0xa59)]('parallel-test-input-area');topicTab[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x448a4b=_0x9c9119;topicTab[_0x448a4b(0x445)][_0x448a4b(0x874)]('active'),textTab[_0x448a4b(0x445)][_0x448a4b(0x6b7)](_0x448a4b(0x18e)),fileTab['classList']['remove'](_0x448a4b(0x18e)),worksheetTab[_0x448a4b(0x445)][_0x448a4b(0x6b7)](_0x448a4b(0x18e));if(_0x3b1cf2)_0x3b1cf2[_0x448a4b(0x445)][_0x448a4b(0x6b7)](_0x448a4b(0x18e));if(_0x135864)_0x135864['classList'][_0x448a4b(0x6b7)](_0x448a4b(0x18e));if(_0x5746ba)_0x5746ba[_0x448a4b(0x445)]['remove'](_0x448a4b(0x18e));topicInputArea['classList'][_0x448a4b(0x6b7)](_0x448a4b(0x318)),textInputArea[_0x448a4b(0x445)][_0x448a4b(0x874)]('hidden'),fileInputArea['classList'][_0x448a4b(0x874)](_0x448a4b(0x318)),worksheetInputArea[_0x448a4b(0x445)][_0x448a4b(0x874)](_0x448a4b(0x318));if(_0x575ec1)_0x575ec1[_0x448a4b(0x445)][_0x448a4b(0x874)](_0x448a4b(0x318));if(_0x51f213)_0x51f213['classList'][_0x448a4b(0x874)]('hidden');if(_0x12c054)_0x12c054[_0x448a4b(0x445)]['add'](_0x448a4b(0x318));}),textTab[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x319fe9=_0x9c9119;textTab[_0x319fe9(0x445)][_0x319fe9(0x874)](_0x319fe9(0x18e)),topicTab[_0x319fe9(0x445)]['remove'](_0x319fe9(0x18e)),fileTab[_0x319fe9(0x445)]['remove'](_0x319fe9(0x18e)),worksheetTab[_0x319fe9(0x445)]['remove'](_0x319fe9(0x18e));if(_0x3b1cf2)_0x3b1cf2['classList'][_0x319fe9(0x6b7)](_0x319fe9(0x18e));if(_0x135864)_0x135864[_0x319fe9(0x445)][_0x319fe9(0x6b7)](_0x319fe9(0x18e));if(_0x5746ba)_0x5746ba[_0x319fe9(0x445)][_0x319fe9(0x6b7)]('active');textInputArea[_0x319fe9(0x445)][_0x319fe9(0x6b7)](_0x319fe9(0x318)),topicInputArea[_0x319fe9(0x445)][_0x319fe9(0x874)](_0x319fe9(0x318)),fileInputArea['classList'][_0x319fe9(0x874)](_0x319fe9(0x318)),worksheetInputArea[_0x319fe9(0x445)][_0x319fe9(0x874)](_0x319fe9(0x318));if(_0x575ec1)_0x575ec1[_0x319fe9(0x445)][_0x319fe9(0x874)]('hidden');if(_0x51f213)_0x51f213['classList'][_0x319fe9(0x874)](_0x319fe9(0x318));if(_0x12c054)_0x12c054[_0x319fe9(0x445)][_0x319fe9(0x874)](_0x319fe9(0x318));}),fileTab[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x52c0a8=_0x9c9119;fileTab[_0x52c0a8(0x445)][_0x52c0a8(0x874)](_0x52c0a8(0x18e)),topicTab[_0x52c0a8(0x445)][_0x52c0a8(0x6b7)](_0x52c0a8(0x18e)),textTab['classList']['remove'](_0x52c0a8(0x18e)),worksheetTab['classList'][_0x52c0a8(0x6b7)](_0x52c0a8(0x18e));if(_0x3b1cf2)_0x3b1cf2[_0x52c0a8(0x445)]['remove'](_0x52c0a8(0x18e));if(_0x135864)_0x135864[_0x52c0a8(0x445)][_0x52c0a8(0x6b7)]('active');if(_0x5746ba)_0x5746ba[_0x52c0a8(0x445)]['remove'](_0x52c0a8(0x18e));fileInputArea[_0x52c0a8(0x445)][_0x52c0a8(0x6b7)](_0x52c0a8(0x318)),topicInputArea[_0x52c0a8(0x445)][_0x52c0a8(0x874)]('hidden'),textInputArea[_0x52c0a8(0x445)]['add'](_0x52c0a8(0x318)),worksheetInputArea[_0x52c0a8(0x445)]['add']('hidden');if(_0x575ec1)_0x575ec1['classList'][_0x52c0a8(0x874)](_0x52c0a8(0x318));if(_0x51f213)_0x51f213[_0x52c0a8(0x445)][_0x52c0a8(0x874)](_0x52c0a8(0x318));if(_0x12c054)_0x12c054[_0x52c0a8(0x445)][_0x52c0a8(0x874)](_0x52c0a8(0x318));}),worksheetTab[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x4fda8f=_0x9c9119;worksheetTab[_0x4fda8f(0x445)][_0x4fda8f(0x874)](_0x4fda8f(0x18e)),topicTab[_0x4fda8f(0x445)]['remove'](_0x4fda8f(0x18e)),textTab[_0x4fda8f(0x445)][_0x4fda8f(0x6b7)](_0x4fda8f(0x18e)),fileTab[_0x4fda8f(0x445)][_0x4fda8f(0x6b7)](_0x4fda8f(0x18e));if(_0x3b1cf2)_0x3b1cf2[_0x4fda8f(0x445)][_0x4fda8f(0x6b7)](_0x4fda8f(0x18e));if(_0x135864)_0x135864[_0x4fda8f(0x445)][_0x4fda8f(0x6b7)]('active');if(_0x5746ba)_0x5746ba[_0x4fda8f(0x445)][_0x4fda8f(0x6b7)](_0x4fda8f(0x18e));worksheetInputArea[_0x4fda8f(0x445)]['remove'](_0x4fda8f(0x318)),topicInputArea['classList']['add']('hidden'),textInputArea['classList'][_0x4fda8f(0x874)](_0x4fda8f(0x318)),fileInputArea[_0x4fda8f(0x445)]['add']('hidden');if(_0x575ec1)_0x575ec1[_0x4fda8f(0x445)][_0x4fda8f(0x874)](_0x4fda8f(0x318));if(_0x51f213)_0x51f213['classList']['add'](_0x4fda8f(0x318));if(_0x12c054)_0x12c054[_0x4fda8f(0x445)][_0x4fda8f(0x874)](_0x4fda8f(0x318));});const _0x5a7aeb=document[_0x9c9119(0xa59)](_0x9c9119(0x48d)),_0xfe7af2=document[_0x9c9119(0xa59)](_0x9c9119(0xa14));_0x5a7aeb&&_0x5a7aeb['addEventListener'](_0x9c9119(0x420),()=>{const _0x442038=_0x9c9119;topicTab['classList'][_0x442038(0x6b7)]('active'),textTab['classList'][_0x442038(0x6b7)](_0x442038(0x18e)),fileTab['classList'][_0x442038(0x6b7)](_0x442038(0x18e)),worksheetTab[_0x442038(0x445)]['remove'](_0x442038(0x18e));if(_0x3b1cf2)_0x3b1cf2[_0x442038(0x445)]['remove'](_0x442038(0x18e));if(_0x135864)_0x135864[_0x442038(0x445)][_0x442038(0x6b7)](_0x442038(0x18e));if(_0x5746ba)_0x5746ba[_0x442038(0x445)]['remove'](_0x442038(0x18e));_0x5a7aeb[_0x442038(0x445)][_0x442038(0x874)](_0x442038(0x18e)),topicInputArea[_0x442038(0x445)]['add'](_0x442038(0x318)),textInputArea[_0x442038(0x445)][_0x442038(0x874)](_0x442038(0x318)),fileInputArea['classList'][_0x442038(0x874)](_0x442038(0x318)),worksheetInputArea[_0x442038(0x445)]['add'](_0x442038(0x318));if(_0x575ec1)_0x575ec1[_0x442038(0x445)]['add'](_0x442038(0x318));if(_0x51f213)_0x51f213[_0x442038(0x445)]['add'](_0x442038(0x318));if(_0x12c054)_0x12c054['classList'][_0x442038(0x874)](_0x442038(0x318));_0xfe7af2[_0x442038(0x445)]['remove'](_0x442038(0x318)),displayQuestionBank();});_0x3b1cf2&&(_0x3b1cf2[_0x9c9119(0x1ce)]('click',()=>{const _0x4adbbe=_0x9c9119;_0x3b1cf2[_0x4adbbe(0x445)]['add'](_0x4adbbe(0x18e)),topicTab[_0x4adbbe(0x445)][_0x4adbbe(0x6b7)]('active'),textTab[_0x4adbbe(0x445)][_0x4adbbe(0x6b7)](_0x4adbbe(0x18e)),fileTab['classList'][_0x4adbbe(0x6b7)](_0x4adbbe(0x18e)),worksheetTab['classList'][_0x4adbbe(0x6b7)](_0x4adbbe(0x18e));if(_0x135864)_0x135864[_0x4adbbe(0x445)][_0x4adbbe(0x6b7)](_0x4adbbe(0x18e));if(_0x5746ba)_0x5746ba[_0x4adbbe(0x445)][_0x4adbbe(0x6b7)](_0x4adbbe(0x18e));_0x575ec1[_0x4adbbe(0x445)]['remove'](_0x4adbbe(0x318)),topicInputArea[_0x4adbbe(0x445)][_0x4adbbe(0x874)]('hidden'),textInputArea['classList'][_0x4adbbe(0x874)](_0x4adbbe(0x318)),fileInputArea[_0x4adbbe(0x445)][_0x4adbbe(0x874)](_0x4adbbe(0x318)),worksheetInputArea[_0x4adbbe(0x445)][_0x4adbbe(0x874)](_0x4adbbe(0x318));if(_0x51f213)_0x51f213[_0x4adbbe(0x445)][_0x4adbbe(0x874)](_0x4adbbe(0x318));if(_0x12c054)_0x12c054['classList'][_0x4adbbe(0x874)](_0x4adbbe(0x318));}),document[_0x9c9119(0xa59)](_0x9c9119(0x306))['addEventListener']('click',handleGenerateFromLink));_0x135864&&_0x135864['addEventListener'](_0x9c9119(0x420),()=>{const _0x12bd0e=_0x9c9119;_0x135864[_0x12bd0e(0x445)][_0x12bd0e(0x874)]('active'),topicTab[_0x12bd0e(0x445)]['remove']('active'),textTab[_0x12bd0e(0x445)][_0x12bd0e(0x6b7)](_0x12bd0e(0x18e)),fileTab[_0x12bd0e(0x445)][_0x12bd0e(0x6b7)](_0x12bd0e(0x18e)),worksheetTab[_0x12bd0e(0x445)][_0x12bd0e(0x6b7)](_0x12bd0e(0x18e));if(_0x3b1cf2)_0x3b1cf2[_0x12bd0e(0x445)]['remove'](_0x12bd0e(0x18e));if(_0x5a7aeb)_0x5a7aeb[_0x12bd0e(0x445)]['remove'](_0x12bd0e(0x18e));if(_0x5746ba)_0x5746ba[_0x12bd0e(0x445)][_0x12bd0e(0x6b7)](_0x12bd0e(0x18e));_0x51f213[_0x12bd0e(0x445)][_0x12bd0e(0x6b7)](_0x12bd0e(0x318)),topicInputArea[_0x12bd0e(0x445)][_0x12bd0e(0x874)](_0x12bd0e(0x318)),textInputArea[_0x12bd0e(0x445)]['add']('hidden'),fileInputArea[_0x12bd0e(0x445)][_0x12bd0e(0x874)](_0x12bd0e(0x318)),worksheetInputArea[_0x12bd0e(0x445)][_0x12bd0e(0x874)]('hidden');if(_0x575ec1)_0x575ec1[_0x12bd0e(0x445)][_0x12bd0e(0x874)](_0x12bd0e(0x318));if(_0xfe7af2)_0xfe7af2[_0x12bd0e(0x445)][_0x12bd0e(0x874)](_0x12bd0e(0x318));if(_0x12c054)_0x12c054['classList'][_0x12bd0e(0x874)](_0x12bd0e(0x318));});_0x5746ba&&_0x5746ba[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0xbceac1=_0x9c9119;_0x5746ba['classList'][_0xbceac1(0x874)](_0xbceac1(0x18e)),topicTab[_0xbceac1(0x445)][_0xbceac1(0x6b7)](_0xbceac1(0x18e)),textTab[_0xbceac1(0x445)][_0xbceac1(0x6b7)](_0xbceac1(0x18e)),fileTab[_0xbceac1(0x445)]['remove'](_0xbceac1(0x18e)),worksheetTab['classList'][_0xbceac1(0x6b7)](_0xbceac1(0x18e));if(_0x3b1cf2)_0x3b1cf2[_0xbceac1(0x445)]['remove']('active');if(_0x135864)_0x135864[_0xbceac1(0x445)][_0xbceac1(0x6b7)](_0xbceac1(0x18e));if(_0x5a7aeb)_0x5a7aeb[_0xbceac1(0x445)]['remove'](_0xbceac1(0x18e));_0x12c054[_0xbceac1(0x445)][_0xbceac1(0x6b7)](_0xbceac1(0x318)),topicInputArea[_0xbceac1(0x445)][_0xbceac1(0x874)](_0xbceac1(0x318)),textInputArea[_0xbceac1(0x445)]['add'](_0xbceac1(0x318)),fileInputArea[_0xbceac1(0x445)]['add']('hidden'),worksheetInputArea[_0xbceac1(0x445)][_0xbceac1(0x874)]('hidden');if(_0x575ec1)_0x575ec1[_0xbceac1(0x445)]['add'](_0xbceac1(0x318));if(_0x51f213)_0x51f213[_0xbceac1(0x445)][_0xbceac1(0x874)](_0xbceac1(0x318));if(_0xfe7af2)_0xfe7af2[_0xbceac1(0x445)][_0xbceac1(0x874)](_0xbceac1(0x318));});const _0x474b40=document['getElementById']('blueprint-upload-input'),_0x51db95=document[_0x9c9119(0xa59)](_0x9c9119(0x7b1));if(_0x474b40){const _0x35700c=document[_0x9c9119(0xa59)](_0x9c9119(0xa00)),_0x4cad22=document['getElementById'](_0x9c9119(0x7b1)),_0x59df44=document[_0x9c9119(0xa59)](_0x9c9119(0x6d2)),_0x2812f0=document[_0x9c9119(0xa59)]('separate-by-content-checkbox'),_0x7372b=document['getElementById'](_0x9c9119(0x3e8)),_0x2b6035=document[_0x9c9119(0xa59)](_0x9c9119(0x992));_0x35700c&&_0x35700c[_0x9c9119(0x1ce)](_0x9c9119(0x562),async _0x43d9d5=>{const _0x3292c8=_0x9c9119;_0x59df44[_0x3292c8(0x445)][_0x3292c8(0x874)](_0x3292c8(0x318)),_0x7372b[_0x3292c8(0x445)][_0x3292c8(0x874)](_0x3292c8(0x318)),_0x2812f0[_0x3292c8(0x31a)]=![],_0x4cad22[_0x3292c8(0x3cd)]=!![];const _0x4e0315=_0x43d9d5[_0x3292c8(0x1f5)][_0x3292c8(0xafa)][0x0];if(_0x4e0315){_0x4cad22[_0x3292c8(0x3cd)]=![];try{const _0x547361=await extractTextFromPdf(_0x4e0315);await analyzeBlueprintForTopics(_0x547361);}catch(_0xb1009d){showMessage(_0x3292c8(0x753)),_0x59df44['classList']['add'](_0x3292c8(0x318));}}}),_0x2812f0&&_0x2812f0[_0x9c9119(0x1ce)](_0x9c9119(0x562),_0x240762=>{const _0xff9315=_0x9c9119,_0x2d5507=_0x240762['target'][_0xff9315(0x31a)];_0x7372b['classList']['toggle'](_0xff9315(0x318),!_0x2d5507),_0x4cad22['disabled']=_0x2d5507;}),_0x2b6035&&(_0x2b6035&&_0x2b6035['addEventListener'](_0x9c9119(0x420),_0x5b1738=>{const _0x1f9614=_0x9c9119,_0x442e17=_0x5b1738['target'][_0x1f9614(0x74e)](_0x1f9614(0x900)),_0x1db2ab=_0x5b1738[_0x1f9614(0x1f5)][_0x1f9614(0x74e)](_0x1f9614(0x853));if(_0x442e17){const _0x2b5fad=unescape(_0x442e17[_0x1f9614(0xafb)][_0x1f9614(0xaad)]);generateQuizForSingleTopic(_0x2b5fad);}else{if(_0x1db2ab){const _0x4018dd=unescape(_0x1db2ab[_0x1f9614(0xafb)]['topic']);handleGenerateTeachingContent(_0x4018dd);}}}));}_0x51db95&&_0x51db95[_0x9c9119(0x1ce)]('click',handleGenerateFromBlueprint);const _0x1c29cb=document[_0x9c9119(0xa59)]('parallel-test-upload-input'),_0x4d22ed=document['getElementById'](_0x9c9119(0x763));_0x1c29cb&&_0x1c29cb[_0x9c9119(0x1ce)]('change',_0xd43619=>{const _0x41fe30=_0x9c9119;_0x4d22ed[_0x41fe30(0x3cd)]=_0xd43619[_0x41fe30(0x1f5)][_0x41fe30(0xafa)][_0x41fe30(0x963)]===0x0;});_0x4d22ed&&_0x4d22ed['addEventListener'](_0x9c9119(0x420),handleGenerateParallelTest);loadQuizBtn[_0x9c9119(0x1ce)](_0x9c9119(0x420),handleLoadQuiz),startQuizBtn[_0x9c9119(0x1ce)](_0x9c9119(0x420),async()=>{const _0x22e032=_0x9c9119,_0x5833e1=document[_0x22e032(0xa59)]('student-name-select');currentStudentName=_0x5833e1[_0x22e032(0x630)];if(!currentStudentName){showMessage(_0x22e032(0x864));return;}try{const _0x512a78=currentQuizData['id'],_0x1997a9=doc(db,_0x22e032(0xab3)+appId+_0x22e032(0xa37)+_0x512a78+_0x22e032(0x2d3),currentStudentName),_0x3c922a=await getDoc(_0x1997a9);!_0x3c922a[_0x22e032(0x540)]()?await setDoc(_0x1997a9,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x1997a9,{'startedAt':new Date()['toISOString']()});}catch(_0x5d74e8){console[_0x22e032(0x5a8)](_0x22e032(0x1ea),_0x5d74e8),showMessage(_0x22e032(0x280));return;}studentNameSelectionView['classList'][_0x22e032(0x874)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x9c9119(0xa59)](_0x9c9119(0x3f5))[_0x9c9119(0x1ce)]('click',showJoinGameView),document[_0x9c9119(0xa59)](_0x9c9119(0x996))[_0x9c9119(0x1ce)](_0x9c9119(0x420),handleJoinLiveGame),document[_0x9c9119(0xa59)]('back-to-student-initial-btn')[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>showView(_0x9c9119(0x17a)));const _0x24555d=()=>{const _0x1f9e78=_0x9c9119,_0x34be02=document['getElementById'](_0x1f9e78(0x825))['textContent'][_0x1f9e78(0x263)](/[^a-z0-9]/gi,'_')[_0x1f9e78(0x57d)]();return _0x1f9e78(0x1ed)+(_0x34be02||_0x1f9e78(0x604));},_0xf83541=document['getElementById']('math-topic-search-input');_0xf83541&&_0xf83541['addEventListener'](_0x9c9119(0x5cc),_0x5971e7=>{const _0x4c87ae=_0x9c9119,_0x3d78c7=_0x5971e7[_0x4c87ae(0x1f5)][_0x4c87ae(0x630)]['toLowerCase']()[_0x4c87ae(0x56b)](),_0x554969=document['getElementById'](_0x4c87ae(0x252)),_0x597f89=_0x554969['querySelectorAll'](_0x4c87ae(0x525));_0x597f89[_0x4c87ae(0x5d5)](_0x33f8b3=>{const _0x2748aa=_0x4c87ae;let _0x4b4743=![];const _0x3e61a3=_0x33f8b3[_0x2748aa(0x1f8)]('.topic-row');_0x3e61a3['forEach'](_0x5b9f2c=>{const _0x405fa5=_0x2748aa,_0x50b21c=_0x5b9f2c[_0x405fa5(0x5b4)]('.topic-name-display')[_0x405fa5(0x2e0)][_0x405fa5(0x57d)]();_0x50b21c['includes'](_0x3d78c7)?(_0x5b9f2c[_0x405fa5(0x588)][_0x405fa5(0xaf1)]=_0x405fa5(0x9da),_0x4b4743=!![]):_0x5b9f2c[_0x405fa5(0x588)][_0x405fa5(0xaf1)]=_0x405fa5(0x936);}),_0x4b4743?_0x33f8b3[_0x2748aa(0x588)][_0x2748aa(0xaf1)]=_0x2748aa(0xab5):_0x33f8b3[_0x2748aa(0x588)]['display']=_0x2748aa(0x936);});});document[_0x9c9119(0xa59)](_0x9c9119(0x849))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>exportTableAsImage(_0x9c9119(0x6a1),_0x24555d())),document[_0x9c9119(0xa59)](_0x9c9119(0x258))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>exportTableAsPDF(_0x9c9119(0x72f),_0x24555d())),document[_0x9c9119(0xa59)](_0x9c9119(0x286))['addEventListener'](_0x9c9119(0x420),()=>exportTableAsWord(_0x9c9119(0x6a1),_0x24555d())),document[_0x9c9119(0xa59)](_0x9c9119(0x3ad))[_0x9c9119(0x1ce)]('click',()=>exportTableAsExcel(_0x9c9119(0x72f),_0x24555d()));const _0x5c8aae=()=>{const _0x219c16=_0x9c9119,_0x12a3b3=document['getElementById']('results-quiz-title')['textContent'][_0x219c16(0x263)](/[^a-z0-9]/gi,'_')[_0x219c16(0x57d)]();return _0x219c16(0x62a)+(_0x12a3b3||'quiz');};document[_0x9c9119(0xa59)](_0x9c9119(0x54d))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>exportTableAsImage(_0x9c9119(0xa3f),_0x5c8aae())),document[_0x9c9119(0xa59)](_0x9c9119(0x8c5))['addEventListener'](_0x9c9119(0x420),()=>exportTableAsPDF(_0x9c9119(0x891),_0x5c8aae())),document[_0x9c9119(0xa59)](_0x9c9119(0x519))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>exportTableAsWord(_0x9c9119(0xa3f),_0x5c8aae())),document[_0x9c9119(0xa59)](_0x9c9119(0x69e))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>exportTableAsExcel(_0x9c9119(0x891),_0x5c8aae())),projectQuizzesList[_0x9c9119(0x1ce)](_0x9c9119(0x420),async _0x426d2a=>{const _0x5aa5db=_0x9c9119,_0x289fa8=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0x579)),_0x5b27fc=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0x2b5)),_0xe2584c=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0x69a)),_0x419cff=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)]('.generate-lesson-btn'),_0x28e95a=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0xae7)),_0x43c87a=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0xace)),_0x50f824=_0x426d2a['target']['closest'](_0x5aa5db(0x491)),_0x56f760=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0x317)),_0x4b2ff0=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0x199)),_0x51fd55=_0x426d2a[_0x5aa5db(0x1f5)]['closest'](_0x5aa5db(0x8f7)),_0x154b85=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0x35d)),_0x2a0ea4=_0x426d2a['target']['closest'](_0x5aa5db(0x42a)),_0x4eeabc=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0x7d2)),_0x26056f=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0xa6e)),_0x52eeac=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0x376)),_0xf08582=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0x4da)),_0x2f7af6=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0xac1)),_0x52eadb=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0x7ce)),_0x16d1a8=_0x426d2a[_0x5aa5db(0x1f5)]['closest'](_0x5aa5db(0x906)),_0x5f0818=_0x426d2a['target']['closest'](_0x5aa5db(0x300)),_0x3c3dae=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0x6b9)),_0x120efa=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)](_0x5aa5db(0x5c0)),_0x805b38=_0x426d2a[_0x5aa5db(0x1f5)][_0x5aa5db(0x74e)]('.start-live-race-btn');if(_0x120efa){const _0x200e07=_0x120efa['dataset']['quizId'],_0x129751=_0x120efa[_0x5aa5db(0xafb)][_0x5aa5db(0x67b)],_0x575a53=allQuizzes[_0x5aa5db(0x3fd)](_0x1958f6=>_0x1958f6['id']===_0x200e07);_0x575a53&&showGameStartConfirmationModal(_0x200e07,_0x129751,_0x575a53['topic']);}else{if(_0x805b38){const _0x3ed451=_0x805b38[_0x5aa5db(0xafb)][_0x5aa5db(0x5b7)];handleStartLiveRace(_0x3ed451);}else{if(_0x5f0818){const _0x2a77ed=_0x5f0818[_0x5aa5db(0xafb)][_0x5aa5db(0x5b7)],_0x4b39e0=document['getElementById']('actions-container-'+_0x2a77ed);_0x4b39e0&&_0x4b39e0[_0x5aa5db(0x445)][_0x5aa5db(0x367)](_0x5aa5db(0x318));}else{if(_0x5b27fc){const _0xa41d1d=_0x5b27fc['dataset'][_0x5aa5db(0x5b7)],_0x27d009=allQuizzes['find'](_0x56fe27=>_0x56fe27['id']===_0xa41d1d);_0x27d009&&handleGenerateParallelPostTest(_0x27d009);}else{if(_0xe2584c)handleCompareResults(_0xe2584c['dataset']['quizId'],_0xe2584c[_0x5aa5db(0xafb)][_0x5aa5db(0x751)]);else{if(_0x419cff){const _0x482e04=_0x419cff[_0x5aa5db(0xafb)][_0x5aa5db(0x5b7)],_0x3c1490=allQuizzes[_0x5aa5db(0x3fd)](_0x5a5207=>_0x5a5207['id']===_0x482e04);_0x3c1490&&_0x3c1490[_0x5aa5db(0xa84)]?(displayLessonPlan(_0x3c1490[_0x5aa5db(0xa84)],_0x3c1490),showConfirmation(_0x5aa5db(0x689),()=>handleGenerateLessonPlan(_0x482e04)),document[_0x5aa5db(0xa59)](_0x5aa5db(0x8a7))[_0x5aa5db(0x5b4)]('h3')['textContent']='แผนการสอน',document[_0x5aa5db(0xa59)](_0x5aa5db(0x82f))[_0x5aa5db(0x2e0)]=_0x5aa5db(0xa96)):handleGenerateLessonPlan(_0x482e04);}else{if(_0x28e95a)handleToggleStarQuiz(_0x28e95a[_0x5aa5db(0xafb)][_0x5aa5db(0x5b7)]);else{if(_0x43c87a)copyTextToClipboard(_0x43c87a['dataset'][_0x5aa5db(0x5b7)],_0x5aa5db(0x75b));else{if(_0x50f824)handleOpenQuizEditor(_0x50f824[_0x5aa5db(0xafb)]['quizId']);else{if(_0x56f760)handleQuizSettings(_0x56f760['dataset'][_0x5aa5db(0x5b7)]);else{if(_0x4b2ff0)handleDuplicateQuiz(_0x4b2ff0[_0x5aa5db(0xafb)]['quizId']);else{if(_0x51fd55)handleRenameQuiz(_0x51fd55[_0x5aa5db(0xafb)][_0x5aa5db(0x5b7)],_0x51fd55['dataset'][_0x5aa5db(0xaad)]);else{if(_0x154b85){const _0x3b07e3=_0x154b85[_0x5aa5db(0xafb)][_0x5aa5db(0x5b7)],_0x315c6e=allQuizzes[_0x5aa5db(0x3fd)](_0x442cef=>_0x442cef['id']===_0x3b07e3);_0x315c6e&&handleGenerateParallelFromBank(_0x315c6e);}else{if(_0x2a0ea4)handleMoveQuiz(_0x2a0ea4['dataset'][_0x5aa5db(0x5b7)]);else{if(_0x4eeabc)handleManualQuizPairing(_0x4eeabc['dataset'][_0x5aa5db(0x5b7)]);else{if(_0x26056f)handleUnpairQuiz(_0x26056f[_0x5aa5db(0xafb)]['quizId']);else{if(_0x52eeac){const _0x39dd70=_0x52eeac[_0x5aa5db(0xafb)]['quizId'],_0xbb91ef=allQuizzes[_0x5aa5db(0x3fd)](_0x5ed292=>_0x5ed292['id']===_0x39dd70);if(_0xbb91ef)startPresentation(_0xbb91ef);}else{if(_0xf08582){const _0x50c49d=_0xf08582[_0x5aa5db(0xafb)][_0x5aa5db(0x5b7)],_0x194ac6=allQuizzes[_0x5aa5db(0x3fd)](_0x256b95=>_0x256b95['id']===_0x50c49d);_0x194ac6&&(currentQuizData=_0x194ac6,startAdminTest());}else{if(_0x2f7af6)actionTargetId=_0x2f7af6[_0x5aa5db(0xafb)][_0x5aa5db(0x5b7)],document['getElementById'](_0x5aa5db(0x829))['classList'][_0x5aa5db(0x6b7)](_0x5aa5db(0x318));else{if(_0x52eadb)showConfirmation(_0x5aa5db(0x2f2)+_0x52eadb['dataset'][_0x5aa5db(0xaad)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x52eadb['dataset']['quizId']));else{if(_0x16d1a8)handleQuizStatus(_0x16d1a8['dataset']['quizId']);else{if(_0x3c3dae)handleGenerateEasyVersionQuiz(_0x3c3dae[_0x5aa5db(0xafb)][_0x5aa5db(0x5b7)]);else _0x289fa8&&showQuizDetailView(_0x289fa8[_0x5aa5db(0xafb)][_0x5aa5db(0x5b7)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x9c9119(0x1c8))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>showView('student')),document['getElementById'](_0x9c9119(0x7fb))[_0x9c9119(0x1ce)](_0x9c9119(0x420),confirmAndStartTeamQuiz),document['getElementById']('quiz-leaderboard-table')[_0x9c9119(0x5b4)](_0x9c9119(0x64e))[_0x9c9119(0x1ce)](_0x9c9119(0x420),_0x3bc2e0=>{const _0x3068e1=_0x9c9119,_0xd7c43e=_0x3bc2e0[_0x3068e1(0x1f5)]['closest'](_0x3068e1(0xa62));if(!_0xd7c43e||!_0xd7c43e['dataset'][_0x3068e1(0x695)])return;const _0x1cbf5c=_0xd7c43e[_0x3068e1(0xafb)][_0x3068e1(0x695)];if(quizLeaderboardSortBy===_0x1cbf5c)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x3068e1(0x3a6)?_0x3068e1(0x9ea):_0x3068e1(0x3a6);else{quizLeaderboardSortBy=_0x1cbf5c;const _0x43af82=['studentName'];quizLeaderboardSortOrder=_0x43af82[_0x3068e1(0x1c3)](_0x1cbf5c)?_0x3068e1(0x3a6):_0x3068e1(0x9ea);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x3068e1(0x7a7));}),document[_0x9c9119(0xa59)](_0x9c9119(0x531))['addEventListener'](_0x9c9119(0x420),closePresentation),document[_0x9c9119(0xa59)](_0x9c9119(0x33e))['addEventListener'](_0x9c9119(0x420),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x9c9119(0xa59)]('next-question-btn')[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x1b011c=_0x9c9119;currentQuizData[_0x1b011c(0x1e6)]&&currentPresentationSlide<currentQuizData[_0x1b011c(0x1e6)][_0x1b011c(0x963)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x9c9119(0x1ce)]('fullscreenchange',()=>{const _0x1e589e=_0x9c9119;!document['fullscreenElement']&&(presentationModal['style'][_0x1e589e(0xaf1)]='none');}),document['getElementById']('delete-all-students-btn')[_0x9c9119(0x1ce)](_0x9c9119(0x420),handleDeleteAllStudents),studentList[_0x9c9119(0x1ce)]('click',_0x196e0c=>{const _0x5da682=_0x9c9119,_0x12b55d=_0x196e0c[_0x5da682(0x1f5)][_0x5da682(0x74e)](_0x5da682(0x597));if(_0x12b55d){const _0x1ffd2a=_0x12b55d[_0x5da682(0xafb)][_0x5da682(0x222)];handleDeleteStudent(_0x1ffd2a);}}),document[_0x9c9119(0xa59)](_0x9c9119(0x4ed))['addEventListener'](_0x9c9119(0x420),handleGenerateFromFileClick),fileUploadInput[_0x9c9119(0x1ce)](_0x9c9119(0x562),_0x2f33b9=>{const _0x18c72e=_0x9c9119,_0x5ea67b=_0x2f33b9[_0x18c72e(0x1f5)][_0x18c72e(0xafa)][0x0],_0x54fff4=document[_0x18c72e(0xa59)](_0x18c72e(0x4ed));_0x5ea67b?(selectedFile=_0x5ea67b,_0x54fff4[_0x18c72e(0x3cd)]=![]):(selectedFile=null,_0x54fff4[_0x18c72e(0x3cd)]=!![]);}),document[_0x9c9119(0xa59)](_0x9c9119(0xac7))[_0x9c9119(0x1ce)]('change',_0x343193=>{const _0xd9a253=_0x9c9119,_0x19127a=document['getElementById'](_0xd9a253(0x440)),_0x21ef57=document[_0xd9a253(0xa59)](_0xd9a253(0xa2d)),_0x3c29c8=document[_0xd9a253(0xa59)](_0xd9a253(0x87a));_0x343193['target'][_0xd9a253(0x630)]==='none'?_0x19127a[_0xd9a253(0x445)][_0xd9a253(0x874)](_0xd9a253(0x318)):(_0x19127a[_0xd9a253(0x445)]['remove'](_0xd9a253(0x318)),_0x343193[_0xd9a253(0x1f5)][_0xd9a253(0x630)]===_0xd9a253(0x801)?(_0x21ef57[_0xd9a253(0x2e0)]=_0xd9a253(0x1c7),_0x3c29c8[_0xd9a253(0x630)]='10'):(_0x21ef57[_0xd9a253(0x2e0)]=_0xd9a253(0x2c8),_0x3c29c8['value']='30'));}),document[_0x9c9119(0xa59)](_0x9c9119(0x8b9))['addEventListener'](_0x9c9119(0x562),_0x3d5e22=>{const _0x35728b=_0x9c9119,_0xd91af0=document[_0x35728b(0xa59)](_0x35728b(0x97f)),_0x51d0fb=_0x3d5e22[_0x35728b(0x1f5)][_0x35728b(0x630)],_0x1bd8b3=document[_0x35728b(0x5b4)](_0x35728b(0xa3c)),_0x1e0fff=document[_0x35728b(0xa59)](_0x35728b(0x64f)),_0x274b9e=document[_0x35728b(0xa59)](_0x35728b(0x455));_0x51d0fb===_0x35728b(0x647)?_0x1bd8b3[_0x35728b(0x2e0)]=_0x35728b(0x4ce):_0x1bd8b3['textContent']='จำนวนข้อ:',_0x51d0fb===_0x35728b(0xa76)||_0x51d0fb===_0x35728b(0x370)||_0x51d0fb===_0x35728b(0x7a8)?_0xd91af0[_0x35728b(0x445)][_0x35728b(0x6b7)]('hidden'):_0xd91af0[_0x35728b(0x445)][_0x35728b(0x874)](_0x35728b(0x318)),_0x1e0fff[_0x35728b(0x2ce)]=_0x274b9e[_0x35728b(0x630)];}),document['getElementById'](_0x9c9119(0x455))[_0x9c9119(0x1ce)](_0x9c9119(0x5cc),_0xe25a89=>{const _0x18cf89=_0x9c9119;document[_0x18cf89(0xa59)](_0x18cf89(0x64f))['max']=_0xe25a89[_0x18cf89(0x1f5)][_0x18cf89(0x630)];}),document['getElementById'](_0x9c9119(0x7cc))[_0x9c9119(0x1ce)](_0x9c9119(0x562),_0x5d7f41=>{const _0x2ae0c1=_0x9c9119,_0x4ab74e=document[_0x2ae0c1(0xa59)](_0x2ae0c1(0x204)),_0x4614cb=document['getElementById'](_0x2ae0c1(0x56d)),_0x37d0be=document[_0x2ae0c1(0xa59)](_0x2ae0c1(0x509));_0x5d7f41['target'][_0x2ae0c1(0x630)]==='none'?_0x4ab74e[_0x2ae0c1(0x445)][_0x2ae0c1(0x874)](_0x2ae0c1(0x318)):(_0x4ab74e[_0x2ae0c1(0x445)]['remove'](_0x2ae0c1(0x318)),_0x5d7f41['target'][_0x2ae0c1(0x630)]==='whole_quiz'?_0x4614cb[_0x2ae0c1(0x2e0)]=_0x2ae0c1(0x1c7):_0x4614cb['textContent']=_0x2ae0c1(0x2c8));}),document[_0x9c9119(0xa59)]('cancel-quiz-edits-btn')[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x2075eb=_0x9c9119;document[_0x2075eb(0xa59)]('quiz-editor-modal')['classList'][_0x2075eb(0x874)](_0x2075eb(0x318));}),document[_0x9c9119(0xa59)](_0x9c9119(0x417))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x2fe3fe=_0x9c9119;document[_0x2fe3fe(0xa59)](_0x2fe3fe(0x85f))[_0x2fe3fe(0x445)][_0x2fe3fe(0x874)](_0x2fe3fe(0x318));}),document[_0x9c9119(0xa59)](_0x9c9119(0x620))[_0x9c9119(0x1ce)]('click',handleVerifyAnswersInEditor),document[_0x9c9119(0xa59)]('save-quiz-edits-btn')[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x199bc7=_0x9c9119;document[_0x199bc7(0xa59)](_0x199bc7(0x85f))[_0x199bc7(0x445)]['add']('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x9c9119(0xa59)](_0x9c9119(0x324))[_0x9c9119(0x1ce)](_0x9c9119(0x420),handleAutoFixLatex);const _0x1ca094=document[_0x9c9119(0xa59)](_0x9c9119(0x3bb));_0x1ca094&&_0x1ca094['addEventListener'](_0x9c9119(0x420),_0x189e7c=>{const _0x45f8d5=_0x9c9119,_0x44d2f7=_0x189e7c[_0x45f8d5(0x1f5)][_0x45f8d5(0x74e)]('.regenerate-question-editor-btn'),_0x4413fd=_0x189e7c[_0x45f8d5(0x1f5)]['closest'](_0x45f8d5(0x379));if(_0x44d2f7){const _0x10cf59=_0x44d2f7['closest'](_0x45f8d5(0x685)),_0xf1107b=parseInt(_0x10cf59[_0x45f8d5(0xafb)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0xf1107b);}else{if(_0x4413fd){const _0x414bb2=_0x4413fd[_0x45f8d5(0x74e)]('.question-editor-item'),_0xfaf907=parseInt(_0x414bb2[_0x45f8d5(0xafb)][_0x45f8d5(0x7dd)],0xa);handleAiFixFormula(_0xfaf907);}}});document[_0x9c9119(0xa59)](_0x9c9119(0x5c9))['addEventListener'](_0x9c9119(0x420),openQuizBankModal),document[_0x9c9119(0xa59)]('cancel-quiz-bank-btn')['addEventListener'](_0x9c9119(0x420),()=>{const _0x35c1a4=_0x9c9119;document['getElementById'](_0x35c1a4(0x565))[_0x35c1a4(0x445)][_0x35c1a4(0x874)](_0x35c1a4(0x318));}),document[_0x9c9119(0xa59)](_0x9c9119(0x859))[_0x9c9119(0x1ce)](_0x9c9119(0x5cc),_0x135987=>renderQuizBankList(_0x135987[_0x9c9119(0x1f5)][_0x9c9119(0x630)]));const _0x2635fd=document[_0x9c9119(0xa59)](_0x9c9119(0x252));if(_0x2635fd){let _0x282851=null;_0x2635fd[_0x9c9119(0x1ce)](_0x9c9119(0x420),_0x408118=>{const _0x4762a9=_0x9c9119,_0x446ea2=_0x408118[_0x4762a9(0x1f5)],_0x25ac97=_0x446ea2['closest']('.edit-custom-topic-btn'),_0x1c88c9=_0x446ea2['closest'](_0x4762a9(0x51e)),_0xad4f67=_0x446ea2[_0x4762a9(0x74e)]('.save-custom-topic-btn'),_0x347475=_0x446ea2['closest'](_0x4762a9(0x576));if(_0x1c88c9){_0x408118[_0x4762a9(0x67d)]();const _0x46df6a=_0x1c88c9[_0x4762a9(0xafb)]['id'],_0x2769c5=_0x1c88c9[_0x4762a9(0x74e)](_0x4762a9(0x8a9))[_0x4762a9(0x5b4)]('.topic-name-display')[_0x4762a9(0x2e0)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x2769c5+'\x22?',()=>handleDeleteCustomTopic(_0x46df6a));}else{if(_0x25ac97){_0x408118['preventDefault']();_0x282851&&toggleTopicEditMode(_0x282851,![]);const _0x162381=_0x25ac97[_0x4762a9(0x74e)](_0x4762a9(0x4eb));_0x282851=_0x162381,toggleTopicEditMode(_0x162381,!![]);}else{if(_0xad4f67){_0x408118[_0x4762a9(0x67d)]();const _0x48290d=_0xad4f67[_0x4762a9(0xafb)]['id'],_0x2ffa0c=_0xad4f67[_0x4762a9(0x74e)]('[data-topic-container-id]'),_0x3d54d5=_0x2ffa0c[_0x4762a9(0x5b4)](_0x4762a9(0xa80))['value'];handleUpdateCustomTopic(_0x48290d,_0x3d54d5),_0x282851=null;}else{if(_0x347475){_0x408118['preventDefault']();const _0xc0acac=_0x347475[_0x4762a9(0x74e)]('[data-topic-container-id]');toggleTopicEditMode(_0xc0acac,![]),_0x282851=null;}}}}}),document['getElementById'](_0x9c9119(0xa69))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0xb25cc9=_0x9c9119;document[_0xb25cc9(0xa59)]('lesson-plan-modal')['classList'][_0xb25cc9(0x874)](_0xb25cc9(0x318));}),document[_0x9c9119(0xa59)](_0x9c9119(0x7ec))['addEventListener'](_0x9c9119(0x420),()=>{const _0x26e7f4=_0x9c9119;document['getElementById']('lesson-plan-modal')[_0x26e7f4(0x445)][_0x26e7f4(0x874)](_0x26e7f4(0x318));}),document['getElementById']('export-lesson-pdf-btn')[_0x9c9119(0x1ce)](_0x9c9119(0x420),handleExportLessonPDF);}document[_0x9c9119(0xa59)](_0x9c9119(0x485))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x812804=_0x9c9119;document[_0x812804(0xa59)](_0x812804(0x927))[_0x812804(0x445)][_0x812804(0x874)](_0x812804(0x318));}),document[_0x9c9119(0xa59)](_0x9c9119(0x57a))[_0x9c9119(0x1ce)](_0x9c9119(0x420),()=>{const _0x5d2b7b=_0x9c9119;document[_0x5d2b7b(0xa59)](_0x5d2b7b(0x927))[_0x5d2b7b(0x445)]['add'](_0x5d2b7b(0x318));}),setupComparisonModalTabs(),document[_0x9c9119(0x23e)][_0x9c9119(0x1ce)](_0x9c9119(0x420),function(_0x4a2b42){const _0x4cc60b=_0x9c9119;if(_0x4a2b42[_0x4cc60b(0x1f5)]['classList']['contains'](_0x4cc60b(0x8f9))){const _0x39ff6b=unescape(_0x4a2b42[_0x4cc60b(0x1f5)][_0x4cc60b(0xafb)][_0x4cc60b(0xaad)]);startSkillPractice(_0x39ff6b);}}),document[_0x9c9119(0xa59)](_0x9c9119(0x175))[_0x9c9119(0x1ce)](_0x9c9119(0x420),_0x451560=>{const _0x51f7e6=_0x9c9119,_0x37ded3=_0x451560[_0x51f7e6(0x1f5)][_0x51f7e6(0x74e)](_0x51f7e6(0xa34));if(_0x37ded3){const _0x54e70f=_0x37ded3[_0x51f7e6(0xafb)]['studentName'];handleDeleteSubmission(_0x54e70f);}});}async function handleStartGroupMode(_0x52fb30,_0x14a206=![]){const _0x3be10b=_0x5cd971,_0x1be0a3=allQuizzes[_0x3be10b(0x3fd)](_0x237d6b=>_0x237d6b['id']===_0x52fb30)||allQuizzesGlobal[_0x3be10b(0x3fd)](_0xabaec7=>_0xabaec7['id']===_0x52fb30);if(!_0x1be0a3){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x1be0a3);const _0x3a3b49=Math['floor'](0x3e8+Math[_0x3be10b(0x309)]()*0x2328)[_0x3be10b(0x5ea)]();try{const _0x4fbafc=await addDoc(collection(db,_0x3be10b(0xab3)+appId+_0x3be10b(0x78c)),{'quizId':_0x1be0a3['id'],'projectId':_0x1be0a3[_0x3be10b(0x868)],'status':_0x3be10b(0x3f2),'pin':_0x3a3b49,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x14a206});currentTeamQuizId=_0x4fbafc['id'],showView(_0x3be10b(0x9ad)),renderAdminTeamQuizDashboard(_0x3a3b49,_0x1be0a3[_0x3be10b(0xaad)],'group'),listenForTeamQuizUpdates();}catch(_0x14ef19){console[_0x3be10b(0x5a8)](_0x3be10b(0x5c1),_0x14ef19),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x425922=_0x5cd971;studentInitialView['classList']['add'](_0x425922(0x318)),document[_0x425922(0xa59)]('student-progress-view')[_0x425922(0x445)]['remove'](_0x425922(0x318));const _0x104907=document[_0x425922(0xa59)]('progress-project-select'),_0x45f6a9=document[_0x425922(0xa59)]('progress-student-select'),_0x3b1e3c=document[_0x425922(0xa59)](_0x425922(0x672));_0x3b1e3c[_0x425922(0x43a)]=_0x425922(0x3ea),_0x45f6a9[_0x425922(0x43a)]=_0x425922(0x396),_0x45f6a9['disabled']=!![],_0x104907['innerHTML']='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects['length']===0x0){const _0x196ca3=collection(db,_0x425922(0xab3)+appId+_0x425922(0x6d8)),_0xd65fbc=await getDocs(_0x196ca3);allProjects=_0xd65fbc['docs']['map'](_0x454b0a=>({'id':_0x454b0a['id'],..._0x454b0a['data']()}));}const _0x271cad=allProjects['filter'](_0x617dd7=>_0x617dd7[_0x425922(0x1d2)]?.[_0x425922(0x55f)]!==![]);_0x271cad[_0x425922(0x695)]((_0xd5c8c8,_0x26baba)=>_0xd5c8c8[_0x425922(0x1ff)][_0x425922(0x1f1)](_0x26baba[_0x425922(0x1ff)],'th')),_0x104907[_0x425922(0x43a)]=_0x425922(0x366)+_0x271cad[_0x425922(0x6e4)](_0x19ea55=>_0x425922(0x99f)+_0x19ea55['id']+'\x22>'+_0x19ea55[_0x425922(0x1ff)]+_0x425922(0x51b))['join'](''),_0x104907['onchange']=()=>{const _0x5c3912=_0x425922,_0x33c69e=_0x45f6a9[_0x5c3912(0x630)],_0x141b87=_0x104907[_0x5c3912(0x630)];_0x45f6a9['disabled']=!![],_0x45f6a9[_0x5c3912(0x43a)]=_0x5c3912(0x396),_0x3b1e3c[_0x5c3912(0x43a)]=_0x5c3912(0x543);if(!_0x141b87)return;const _0x301954=allProjects[_0x5c3912(0x3fd)](_0x26374c=>_0x26374c['id']===_0x141b87);if(!_0x301954||!_0x301954['students'])return;const _0x46bebb=()=>{const _0x42c7d9=_0x5c3912;_0x45f6a9[_0x42c7d9(0x43a)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x301954[_0x42c7d9(0x6e3)][_0x42c7d9(0x6e4)](_0x2ed486=>_0x42c7d9(0x99f)+_0x2ed486+'\x22>'+_0x2ed486+_0x42c7d9(0x51b))[_0x42c7d9(0x386)](''),_0x45f6a9[_0x42c7d9(0x3cd)]=![];const _0x28c737=Array[_0x42c7d9(0x96a)](_0x45f6a9['options'])[_0x42c7d9(0x6e4)](_0x791d76=>_0x791d76[_0x42c7d9(0x630)]);if(_0x33c69e&&_0x28c737[_0x42c7d9(0x1c3)](_0x33c69e))_0x45f6a9[_0x42c7d9(0x630)]=_0x33c69e,_0x45f6a9[_0x42c7d9(0x622)](new Event(_0x42c7d9(0x562)));else _0x301954['students'][_0x42c7d9(0x963)]===0x1&&(_0x45f6a9[_0x42c7d9(0x630)]=_0x301954['students'][0x0],_0x45f6a9[_0x42c7d9(0x622)](new Event(_0x42c7d9(0x562))));};if(_0x301954[_0x5c3912(0x1d2)]?.[_0x5c3912(0x9f7)]){if(sessionStorage[_0x5c3912(0x377)]('authed_project_'+_0x141b87)==='true'){_0x46bebb();return;}const _0x4ae34f=document['getElementById'](_0x5c3912(0xa1e)),_0x174b9f=document[_0x5c3912(0xa59)]('confirm-passcode-btn'),_0x48a459=document['getElementById'](_0x5c3912(0x644)),_0x31933b=document['getElementById'](_0x5c3912(0x738)),_0x60426d=document[_0x5c3912(0xa59)](_0x5c3912(0xa83));document[_0x5c3912(0xa59)](_0x5c3912(0x9ba))[_0x5c3912(0x2e0)]=_0x5c3912(0x294)+_0x301954[_0x5c3912(0x1ff)],_0x31933b[_0x5c3912(0x630)]='',_0x60426d[_0x5c3912(0x445)][_0x5c3912(0x874)]('hidden'),_0x4ae34f['classList']['remove'](_0x5c3912(0x318));const _0x2d25f1=()=>{const _0x157706=_0x5c3912,_0x359263=_0x31933b[_0x157706(0x630)][_0x157706(0x56b)]();_0x359263===_0x301954[_0x157706(0x1d2)]['passcode']?(sessionStorage[_0x157706(0x8d9)]('authed_project_'+_0x141b87,'true'),_0x4ae34f['classList']['add'](_0x157706(0x318)),_0x46bebb(),_0x174b9f[_0x157706(0x3b4)](_0x157706(0x420),_0x2d25f1)):_0x60426d['classList'][_0x157706(0x6b7)]('hidden');};_0x174b9f[_0x5c3912(0x62f)]=_0x2d25f1,_0x48a459[_0x5c3912(0x62f)]=()=>{const _0x14a9eb=_0x5c3912;_0x4ae34f['classList'][_0x14a9eb(0x874)](_0x14a9eb(0x318)),_0x104907[_0x14a9eb(0x630)]='',_0x174b9f[_0x14a9eb(0x3b4)](_0x14a9eb(0x420),_0x2d25f1);};}else _0x46bebb();},_0x45f6a9[_0x425922(0x198)]=()=>{const _0x42130f=_0x425922,_0xa654c5=_0x104907['value'],_0x3da24a=_0x45f6a9[_0x42130f(0x630)];_0xa654c5&&_0x3da24a&&renderStudentProgressDashboard(_0xa654c5,_0x3da24a);};}async function confirmAndJoinSyncGame(){const _0xab92ce=_0x5cd971,_0x4efde1=Array['from'](document['querySelectorAll'](_0xab92ce(0xab0)))['map'](_0x5c4b77=>_0x5c4b77['value']);if(_0x4efde1['length']===0x0){showMessage(_0xab92ce(0x7eb));return;}localTeamPlayers=_0x4efde1,localPlayerTurnIndex=0x0;const _0x26d665=doc(db,_0xab92ce(0xab3)+appId+_0xab92ce(0x805),currentLiveGameId);try{const _0x1aa2bd=await getDoc(_0x26d665);if(!_0x1aa2bd[_0xab92ce(0x540)]())throw new Error(_0xab92ce(0x36f));const _0x3677f7=_0x1aa2bd[_0xab92ce(0x730)]()[_0xab92ce(0x8d7)]||{};_0x4efde1[_0xab92ce(0x5d5)](_0x17fabd=>{const _0x5ddfc5=_0xab92ce;!_0x3677f7[_0x17fabd]&&(_0x3677f7[_0x17fabd]={'name':_0x17fabd,'score':0x0,'answered':![],'status':_0x5ddfc5(0x18e)});}),await updateDoc(_0x26d665,{'players':_0x3677f7}),document[_0xab92ce(0xa59)](_0xab92ce(0xa35))['classList'][_0xab92ce(0x874)]('hidden'),currentStudentName=_0x4efde1[0x0],listenForSyncGameUpdates();const _0x1505f6={'gameId':currentLiveGameId,'mode':_0xab92ce(0x32e),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0xab92ce(0x310),JSON['stringify'](_0x1505f6));}catch(_0x241bc3){console[_0xab92ce(0x5a8)]('Error\x20confirming\x20players\x20for\x20sync\x20game:',_0x241bc3),showMessage(_0xab92ce(0x7ac));}}async function resumeActiveGameSession(){const _0x4b609b=_0x5cd971,_0x232e2a=sessionStorage[_0x4b609b(0x377)](_0x4b609b(0x310));if(!_0x232e2a)return;const _0xf680be=JSON[_0x4b609b(0x5bd)](_0x232e2a),{gameId:_0x499770,mode:_0x49ea20,players:_0x4171b6,turnIndex:_0x30fc8a}=_0xf680be;try{let _0x48cb80,_0xd97e0e;_0x49ea20===_0x4b609b(0x32e)?_0x48cb80=doc(db,_0x4b609b(0xab3)+appId+'/public/data/syncGames',_0x499770):_0x48cb80=doc(db,_0x4b609b(0xab3)+appId+_0x4b609b(0x78c),_0x499770);_0xd97e0e=await getDoc(_0x48cb80);if(!_0xd97e0e[_0x4b609b(0x540)]()||_0xd97e0e[_0x4b609b(0x730)]()['status']==='finished'||_0xd97e0e['data']()['status']===_0x4b609b(0x510)){sessionStorage[_0x4b609b(0xab1)](_0x4b609b(0x310));return;}console[_0x4b609b(0xa63)](_0x4b609b(0x843)+_0x49ea20+_0x4b609b(0x67a)+_0x499770+')'),localTeamPlayers=_0x4171b6,localPlayerTurnIndex=_0x30fc8a;if(_0x49ea20===_0x4b609b(0x32e))currentLiveGameId=_0x499770,currentStudentName=_0x4171b6[0x0],showView('live-game'),listenForSyncGameUpdates();else{currentTeamQuizId=_0x499770;const _0x4e31a1=_0xd97e0e[_0x4b609b(0x730)](),_0x3ff466=doc(db,_0x4b609b(0xab3)+appId+_0x4b609b(0xaf2),_0x4e31a1[_0x4b609b(0x5b7)]),_0x44ae48=await getDoc(_0x3ff466);_0x44ae48[_0x4b609b(0x540)]()&&(currentQuizData=getShuffledQuiz({'id':_0x44ae48['id'],..._0x44ae48[_0x4b609b(0x730)]()}),showView(_0x4b609b(0x17a)),studentInitialView['classList'][_0x4b609b(0x874)](_0x4b609b(0x318)),renderTeamQuizQuestion());}}catch(_0x18b26f){console[_0x4b609b(0x5a8)](_0x4b609b(0x655),_0x18b26f),sessionStorage[_0x4b609b(0xab1)]('activeGameSession');}}async function handleKickPlayerSync(_0x15d167){const _0x429389=_0x5cd971;if(!currentLiveGameId||!_0x15d167)return;const _0xb11050=doc(db,_0x429389(0xab3)+appId+_0x429389(0x805),currentLiveGameId),_0x16afa9={};_0x16afa9['players.'+_0x15d167+'.status']='inactive';try{await updateDoc(_0xb11050,_0x16afa9);}catch(_0x5a8bd3){console[_0x429389(0x5a8)](_0x429389(0x7d9)+_0x15d167+_0x429389(0xa1f),_0x5a8bd3),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0x5059ad,_0x5c539e){const _0x3637fa=_0x5cd971,_0x4221da=document[_0x3637fa(0xa59)]('student-progress-content');_0x4221da[_0x3637fa(0x43a)]=_0x3637fa(0x4e4);try{const _0x309f3d=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x772da2=query(_0x309f3d,where('projectId','==',_0x5059ad)),_0x2b7e74=await getDocs(_0x772da2),_0x2dc963=_0x2b7e74[_0x3637fa(0x354)][_0x3637fa(0x6e4)](_0x26e14b=>({'id':_0x26e14b['id'],..._0x26e14b[_0x3637fa(0x730)]()})),_0x2a5236=_0x2dc963['map'](_0x7b0fca=>getDoc(doc(db,_0x3637fa(0xab3)+appId+_0x3637fa(0xa37)+_0x7b0fca['id']+_0x3637fa(0x2d3),_0x5c539e))),_0x5adbc9=await Promise[_0x3637fa(0x9ab)](_0x2a5236),_0x32fbfb=_0x5adbc9[_0x3637fa(0x75f)](_0x1d8169=>_0x1d8169[_0x3637fa(0x540)]())[_0x3637fa(0x6e4)](_0x36da6f=>({'quizId':_0x36da6f[_0x3637fa(0x687)][_0x3637fa(0x740)][_0x3637fa(0x740)]['id'],..._0x36da6f[_0x3637fa(0x730)]()}));if(_0x32fbfb[_0x3637fa(0x963)]===0x0){_0x4221da['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x389ab3=_0x3637fa(0x6b0);_0x32fbfb[_0x3637fa(0x5d5)](_0x291291=>{const _0x5d1bcc=_0x3637fa,_0x19a251=_0x2dc963[_0x5d1bcc(0x3fd)](_0x2ec5ac=>_0x2ec5ac['id']===_0x291291[_0x5d1bcc(0x5b7)]),_0x26421a=_0x19a251['settings']?.[_0x5d1bcc(0x4bc)]||'show_results_and_answers',_0x10067c=_0x19a251['settings']?.['passingScore']??0x0,_0x39f262=_0x291291[_0x5d1bcc(0x42b)]>=_0x10067c;let _0x58f437='',_0x1aac37=_0x5d1bcc(0x4f0);switch(_0x26421a){case _0x5d1bcc(0x73e):case _0x5d1bcc(0x47d):_0x1aac37=_0x39f262?'bg-green-50':_0x5d1bcc(0x39b),_0x58f437='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x39f262?_0x5d1bcc(0x2cb):_0x5d1bcc(0x314))+'\x22>'+_0x291291[_0x5d1bcc(0x42b)]+_0x5d1bcc(0x288)+_0x291291[_0x5d1bcc(0x602)]+_0x5d1bcc(0x8a8)+(_0x39f262?_0x5d1bcc(0x546):_0x5d1bcc(0x225))+'\x22>'+(_0x39f262?'ผ่าน':_0x5d1bcc(0x21c))+_0x5d1bcc(0x4fe);break;case _0x5d1bcc(0x339):_0x1aac37=_0x39f262?_0x5d1bcc(0x77b):_0x5d1bcc(0x39b),_0x58f437='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x39f262?_0x5d1bcc(0x546):_0x5d1bcc(0x225))+'\x22>'+(_0x39f262?'ผ่าน':_0x5d1bcc(0x21c))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'manual_release':_0x1aac37=_0x5d1bcc(0x686),_0x58f437=_0x5d1bcc(0x4ba);break;}_0x389ab3+=_0x5d1bcc(0x9bc)+_0x1aac37+_0x5d1bcc(0x239)+_0x19a251[_0x5d1bcc(0xaad)]+_0x5d1bcc(0x25f)+_0x291291[_0x5d1bcc(0x97b)][_0x5d1bcc(0x963)]+_0x5d1bcc(0xac3)+new Date(_0x291291['latestSubmittedAt'])[_0x5d1bcc(0x49f)](_0x5d1bcc(0x20e))+_0x5d1bcc(0x944)+_0x58f437+_0x5d1bcc(0x2d4);}),_0x389ab3+=_0x3637fa(0x552),_0x4221da[_0x3637fa(0x43a)]=_0x389ab3;}catch(_0x46feca){console[_0x3637fa(0x5a8)](_0x3637fa(0x74c),_0x46feca),_0x4221da[_0x3637fa(0x43a)]=_0x3637fa(0x573);}}function setupStudentProgressListeners(){const _0x3bb2e5=_0x5cd971;document[_0x3bb2e5(0xa59)]('view-my-progress-btn')['addEventListener'](_0x3bb2e5(0x420),showStudentProgressView),document[_0x3bb2e5(0xa59)](_0x3bb2e5(0x22e))[_0x3bb2e5(0x1ce)](_0x3bb2e5(0x420),()=>{const _0x1e6cd4=_0x3bb2e5;document[_0x1e6cd4(0xa59)](_0x1e6cd4(0x281))['classList'][_0x1e6cd4(0x874)](_0x1e6cd4(0x318)),document[_0x1e6cd4(0xa59)]('student-initial-view')[_0x1e6cd4(0x445)][_0x1e6cd4(0x6b7)](_0x1e6cd4(0x318));});}async function startSkillPractice(_0x260cc8){const _0x320a90=_0x5cd971;studentResultArea[_0x320a90(0x445)][_0x320a90(0x874)]('hidden'),studentQuizArea[_0x320a90(0x43a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea['classList'][_0x320a90(0x6b7)](_0x320a90(0x318));try{const _0x50791d=await getStandardizedTopic(_0x260cc8);console['log'](_0x320a90(0xa02)+_0x260cc8+_0x320a90(0x656)+_0x50791d+'\x22'),studentQuizArea['querySelector']('p')[_0x320a90(0x2e0)]=_0x320a90(0x5e1)+_0x50791d+_0x320a90(0x8bf);const _0x1d09cf=collection(db,'artifacts/'+appId+'/public/data/practiceBank'),_0x1f257b=query(_0x1d09cf,where(_0x320a90(0xaad),'==',_0x50791d)),_0x74db86=await getDocs(_0x1f257b);if(_0x74db86[_0x320a90(0x354)][_0x320a90(0x963)]>=0x3){console[_0x320a90(0xa63)](_0x320a90(0x421)+_0x74db86[_0x320a90(0x354)][_0x320a90(0x963)]+_0x320a90(0x6e9)+_0x50791d+_0x320a90(0x34f));let _0x5dc896=_0x74db86[_0x320a90(0x354)][_0x320a90(0x6e4)](_0x3241c4=>_0x3241c4[_0x320a90(0x730)]());shuffleArray(_0x5dc896);const _0x444f9c={'topic':_0x50791d,'questions':_0x5dc896[_0x320a90(0x30e)](0x0,0x3)};displaySkillPracticeDrill(_0x444f9c);}else{console[_0x320a90(0xa63)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x50791d+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x2d0902=await generatePracticeQuestions(_0x50791d);await saveDrillToPracticeBank(_0x2d0902,_0x50791d),displaySkillPracticeDrill(_0x2d0902);}}catch(_0x234761){console['error']('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x234761),showMessage(_0x320a90(0x814)),studentQuizArea['classList'][_0x320a90(0x874)]('hidden'),studentResultArea[_0x320a90(0x445)][_0x320a90(0x6b7)](_0x320a90(0x318));}}async function saveDrillToPracticeBank(_0x96f09,_0x277e08){const _0x18bd1f=_0x5cd971,_0x5e4076=collection(db,'artifacts/'+appId+_0x18bd1f(0x88e)),_0x2694a1=writeBatch(db);_0x96f09[_0x18bd1f(0x1e6)][_0x18bd1f(0x5d5)](_0x82a9d1=>{const _0x138b79=_0x18bd1f,_0x100ac1=doc(_0x5e4076);_0x2694a1[_0x138b79(0x28f)](_0x100ac1,{'topic':_0x277e08,'questionText':_0x82a9d1[_0x138b79(0x2a7)],'options':_0x82a9d1[_0x138b79(0x369)],'correctAnswerIndex':_0x82a9d1[_0x138b79(0x501)],'explanation':_0x82a9d1[_0x138b79(0x9fc)],'createdAt':serverTimestamp()});});try{await _0x2694a1[_0x18bd1f(0xaa2)](),console[_0x18bd1f(0xa63)](_0x18bd1f(0x6de)+_0x96f09[_0x18bd1f(0x1e6)][_0x18bd1f(0x963)]+_0x18bd1f(0x25b));}catch(_0x387966){console[_0x18bd1f(0x5a8)](_0x18bd1f(0xa6b),_0x387966);}}async function getStandardizedTopic(_0x5625e7){const _0x20abce=_0x5cd971,_0x2bb63d=_0x20abce(0x401)+_0x5625e7+_0x20abce(0x53d),_0x31f3cf={'type':_0x20abce(0x3b9),'properties':{'standardTopic':{'type':_0x20abce(0x81e)}},'required':[_0x20abce(0x817)]};try{const _0x332ac2=await callAnalysisApi(_0x2bb63d,_0x31f3cf);return _0x332ac2[_0x20abce(0x817)];}catch(_0x247db8){return console[_0x20abce(0x5a8)](_0x20abce(0xa60),_0x247db8),_0x5625e7;}}async function handleGenerateEasyVersionQuiz(_0x3d571c){const _0x1d9d29=_0x5cd971,_0x1f434b=document['getElementById'](_0x1d9d29(0xab4)),_0x29363e=document[_0x1d9d29(0xa59)](_0x1d9d29(0x1b5));_0x29363e[_0x1d9d29(0x445)]['add']('hidden');const _0x84448e=_0x1d9d29(0x1cc);_0x1f434b[_0x1d9d29(0x269)](_0x1d9d29(0x90d),_0x84448e);try{const _0x952181=allQuizzes[_0x1d9d29(0x3fd)](_0x43828f=>_0x43828f['id']===_0x3d571c);if(!_0x952181)throw new Error(_0x1d9d29(0x409));const _0x12bc8e=_0x1d9d29(0x207)+JSON['stringify'](_0x952181[_0x1d9d29(0x1e6)])+_0x1d9d29(0x274),_0x32eaec={'type':_0x1d9d29(0x3b9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x1d9d29(0x81e)},'options':{'type':_0x1d9d29(0x3af),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1d9d29(0x95d)},'idealAnswer':{'type':_0x1d9d29(0x81e)},'explanation':{'type':_0x1d9d29(0x81e)},'imageCode':{'type':_0x1d9d29(0x81e)}},'required':['questionText',_0x1d9d29(0x969),_0x1d9d29(0x9fc)]},_0x369922={'type':_0x1d9d29(0x3b9),'properties':{'questions':{'type':_0x1d9d29(0x3af),'items':_0x32eaec}},'required':[_0x1d9d29(0x1e6)]},_0x543d2f=await callAnalysisApi(_0x12bc8e,_0x369922);_0x543d2f&&_0x543d2f[_0x1d9d29(0x1e6)]&&_0x543d2f['questions'][_0x1d9d29(0x5d5)](_0x523f68=>{const _0x2fa1df=_0x1d9d29;if(_0x523f68['hasOwnProperty'](_0x2fa1df(0x187))){const _0x45872e=String(_0x523f68[_0x2fa1df(0x187)])[_0x2fa1df(0x56b)]();(_0x45872e===''||_0x45872e['toLowerCase']()===_0x2fa1df(0x666)||!_0x45872e['startsWith']('<svg'))&&delete _0x523f68[_0x2fa1df(0x187)];}});if(!_0x543d2f||!_0x543d2f[_0x1d9d29(0x1e6)]||_0x543d2f['questions'][_0x1d9d29(0x963)]===0x0)throw new Error(_0x1d9d29(0x680));const _0x44c4f4=_0x543d2f['questions'][_0x1d9d29(0x6e4)]((_0x284f10,_0xac7a7)=>({..._0x284f10,'id':'q_'+Date[_0x1d9d29(0x3fe)]()+'_'+_0xac7a7})),_0x5f1cea={'projectId':_0x952181['projectId'],'quizType':_0x952181[_0x1d9d29(0x42e)],'settings':_0x952181[_0x1d9d29(0x1d2)],'createdBy':_0x952181[_0x1d9d29(0x91d)],'status':'active','topic':_0x1d9d29(0x6fa)+_0x952181[_0x1d9d29(0xaad)],'questions':_0x44c4f4,'createdAt':new Date()[_0x1d9d29(0x92c)](),'quizMode':_0x1d9d29(0x710),'pairedQuizId':null};let _0x4395cd;while(!![]){_0x4395cd=Math[_0x1d9d29(0x68d)](0x3e8+Math[_0x1d9d29(0x309)]()*0x2328)[_0x1d9d29(0x5ea)]();const _0xcffe8=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4395cd));if(!_0xcffe8['exists']())break;}await setDoc(doc(db,_0x1d9d29(0xab3)+appId+_0x1d9d29(0xaf2),_0x4395cd),_0x5f1cea),showMessage(_0x1d9d29(0x979));}catch(_0x11d5e6){console[_0x1d9d29(0x5a8)](_0x1d9d29(0x4e6),_0x11d5e6),showMessage(_0x1d9d29(0x9db)+_0x11d5e6[_0x1d9d29(0x1f3)]);}finally{const _0x5e6b9f=document[_0x1d9d29(0xa59)]('temp-loader-results');_0x5e6b9f&&_0x5e6b9f['remove'](),_0x29363e['classList'][_0x1d9d29(0x6b7)](_0x1d9d29(0x318));}}async function generatePracticeQuestions(_0x121096){const _0x55a7d8=_0x5cd971,_0x4016a7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x121096+_0x55a7d8(0x636)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x2f8f15={'type':'OBJECT','properties':{'questionText':{'type':_0x55a7d8(0x81e)},'options':{'type':_0x55a7d8(0x3af),'items':{'type':_0x55a7d8(0x81e)}},'correctAnswerIndex':{'type':_0x55a7d8(0x95d)},'explanation':{'type':_0x55a7d8(0x81e)}},'required':['questionText','options',_0x55a7d8(0x501),_0x55a7d8(0x9fc)]},_0x565465={'type':'OBJECT','properties':{'topic':{'type':_0x55a7d8(0x81e)},'questions':{'type':_0x55a7d8(0x3af),'items':_0x2f8f15}},'required':[_0x55a7d8(0xaad),_0x55a7d8(0x1e6)]};return await callAnalysisApi(_0x4016a7,_0x565465);}function displayLessonPlan(_0x3bc8bc,_0x402361){const _0x1278cb=_0x5cd971,_0x33b5c5=_0x1278cb(0x255)+_0x402361[_0x1278cb(0xaad)]+_0x1278cb(0x592)+_0x3bc8bc['learningGaps'][_0x1278cb(0x6e4)](_0x321389=>_0x1278cb(0x86f)+_0x321389+_0x1278cb(0x3e6))[_0x1278cb(0x386)]('')+_0x1278cb(0x39a)+_0x3bc8bc['teachingContent']+_0x1278cb(0x5e3)+_0x3bc8bc[_0x1278cb(0x41a)][_0x1278cb(0x6e4)](_0x495d1a=>_0x1278cb(0xa71)+_0x495d1a['question']+_0x1278cb(0x43e)+_0x495d1a[_0x1278cb(0x793)]+_0x1278cb(0x5a3))[_0x1278cb(0x386)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x1278cb(0xa59)](_0x1278cb(0x1e4))[_0x1278cb(0x2e0)]=_0x1278cb(0x172)+_0x402361[_0x1278cb(0xaad)],document['getElementById'](_0x1278cb(0x556))[_0x1278cb(0x43a)]=_0x33b5c5,document[_0x1278cb(0xa59)]('lesson-plan-modal')[_0x1278cb(0x445)][_0x1278cb(0x6b7)](_0x1278cb(0x318));if(window[_0x1278cb(0x28d)])MathJax[_0x1278cb(0x2b6)]();}function displaySkillPracticeDrill(_0x291fdb){const _0x4bc7ad=_0x5cd971;let _0x156230=0x0;const _0x7c073c=_0x291fdb[_0x4bc7ad(0x1e6)],_0xcef5fe=()=>{const _0x27dc42=_0x4bc7ad,_0x1e3004=_0x7c073c[_0x156230],_0x1b179e=_0x27dc42(0x984)+(_0x156230+0x1)+_0x27dc42(0x288)+_0x7c073c['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x1e3004[_0x27dc42(0x2a7)]+_0x27dc42(0x790)+_0x1e3004[_0x27dc42(0x369)][_0x27dc42(0x6e4)]((_0xe76b2d,_0x5318ea)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x5318ea+_0x27dc42(0xa6d)+_0x5318ea+_0x27dc42(0x29a)+_0x5318ea+'\x22>'+_0xe76b2d+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x27dc42(0x298);studentQuizArea['innerHTML']=_0x1b179e;if(window[_0x27dc42(0x28d)])MathJax[_0x27dc42(0x2b6)]([studentQuizArea]);document[_0x27dc42(0xa59)](_0x27dc42(0x9aa))[_0x27dc42(0x1ce)]('click',async()=>{const _0x122337=await getHintForQuestion(_0x1e3004['questionText']);showMessage(_0x122337);}),document[_0x27dc42(0xa59)](_0x27dc42(0x752))[_0x27dc42(0x1ce)](_0x27dc42(0x420),()=>{const _0x388f01=_0x27dc42,_0x2490e7=document[_0x388f01(0x5b4)]('input[name=\x22drill_answer\x22]:checked');if(!_0x2490e7){showMessage(_0x388f01(0x1b7));return;}const _0x3af317=document['getElementById'](_0x388f01(0x78b)),_0x1db4bd=parseInt(_0x2490e7['value'])===_0x1e3004[_0x388f01(0x501)];_0x1db4bd?(_0x3af317[_0x388f01(0x4e1)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x3af317[_0x388f01(0x43a)]=_0x388f01(0x35f)+_0x1e3004[_0x388f01(0x9fc)]):(_0x3af317[_0x388f01(0x4e1)]=_0x388f01(0x916),_0x3af317[_0x388f01(0x43a)]=_0x388f01(0x40d)+_0x1e3004[_0x388f01(0x9fc)]);_0x3af317[_0x388f01(0x445)][_0x388f01(0x6b7)](_0x388f01(0x318));if(window['MathJax'])MathJax['typesetPromise']([_0x3af317]);document[_0x388f01(0xa59)]('check-answer-btn')[_0x388f01(0x445)]['add'](_0x388f01(0x318)),document['getElementById']('hint-btn')[_0x388f01(0x445)]['add']('hidden'),document[_0x388f01(0xa59)](_0x388f01(0x478))[_0x388f01(0x445)][_0x388f01(0x6b7)]('hidden');}),document[_0x27dc42(0xa59)](_0x27dc42(0x478))['addEventListener']('click',()=>{const _0x5bc6d7=_0x27dc42;_0x156230++,_0x156230<_0x7c073c[_0x5bc6d7(0x963)]?_0xcef5fe():(studentQuizArea[_0x5bc6d7(0x43a)]=_0x5bc6d7(0x2d0),document['getElementById']('back-to-results-btn')[_0x5bc6d7(0x1ce)](_0x5bc6d7(0x420),()=>{const _0x324566=_0x5bc6d7;studentQuizArea['classList'][_0x324566(0x874)](_0x324566(0x318)),studentResultArea['classList'][_0x324566(0x6b7)](_0x324566(0x318));}));});};_0xcef5fe();}async function getHintForQuestion(_0x4fe116){const _0x353dd5=_0x5cd971,_0x25a3c2='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x4fe116+_0x353dd5(0x83e),_0xa8b677={'type':_0x353dd5(0x3b9),'properties':{'hint':{'type':'STRING'}},'required':[_0x353dd5(0x304)]};try{const _0x5492a8=await callAnalysisApi(_0x25a3c2,_0xa8b677);return _0x5492a8[_0x353dd5(0x304)];}catch(_0x481fee){return console['error'](_0x353dd5(0x218),_0x481fee),_0x353dd5(0x527);}}async function extractTextFromPdf(_0x201714){const _0x380712=_0x5cd971;pdfjsLib[_0x380712(0x6f4)][_0x380712(0x57f)]=_0x380712(0x427);const _0x181bda=await _0x201714[_0x380712(0x69b)](),_0x50a030=await pdfjsLib[_0x380712(0x975)](_0x181bda)['promise'],_0xf6d11e=_0x50a030[_0x380712(0x909)];let _0xdb90dd='';for(let _0x13617b=0x1;_0x13617b<=_0xf6d11e;_0x13617b++){const _0x425de1=await _0x50a030[_0x380712(0x8c0)](_0x13617b),_0x5e7cfa=await _0x425de1['getTextContent'](),_0xe5bc22=_0x5e7cfa[_0x380712(0x4cb)]['map'](_0x35cb99=>_0x35cb99['str'])[_0x380712(0x386)]('\x20');_0xdb90dd+=_0xe5bc22+'\x0a\x0a';}return _0xdb90dd;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x4f478a){const _0x9fc4c6=_0x5cd971,_0x438393=document[_0x9fc4c6(0xa59)](_0x9fc4c6(0x6d2)),_0x681f8e=document[_0x9fc4c6(0xa59)]('blueprint-topics-list');_0x438393[_0x9fc4c6(0x445)]['remove'](_0x9fc4c6(0x318)),_0x681f8e[_0x9fc4c6(0x43a)]=_0x9fc4c6(0xa65);try{const _0x40a15c=_0x9fc4c6(0x2dd)+_0x4f478a+_0x9fc4c6(0x21b),_0x2a3d12={'type':_0x9fc4c6(0x3b9),'properties':{'topics':{'type':_0x9fc4c6(0x3af),'items':{'type':_0x9fc4c6(0x81e)}}},'required':['topics']},_0x3b5fde=await callAnalysisApi(_0x40a15c,_0x2a3d12);if(_0x3b5fde&&_0x3b5fde[_0x9fc4c6(0x8de)])extractedBlueprintTopics=_0x3b5fde[_0x9fc4c6(0x8de)],renderBlueprintTopics();else throw new Error(_0x9fc4c6(0x4fc));}catch(_0x3a1b93){console[_0x9fc4c6(0x5a8)](_0x9fc4c6(0x514),_0x3a1b93),_0x681f8e[_0x9fc4c6(0x43a)]=_0x9fc4c6(0x4de);}}function renderBlueprintTopics(){const _0xbaef83=_0x5cd971,_0x114cbb=document[_0xbaef83(0xa59)](_0xbaef83(0x992));if(extractedBlueprintTopics[_0xbaef83(0x963)]===0x0){_0x114cbb[_0xbaef83(0x43a)]=_0xbaef83(0x729);return;}_0x114cbb[_0xbaef83(0x43a)]=extractedBlueprintTopics[_0xbaef83(0x6e4)](_0xe8f5c5=>_0xbaef83(0x584)+_0xe8f5c5+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0xe8f5c5)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0xe8f5c5)+_0xbaef83(0x2f1))['join']('');}async function handleGenerateTeachingContent(_0x4e2679){const _0x2262df=_0x5cd971,_0x4380d3=document[_0x2262df(0xa59)]('lesson-plan-modal'),_0x12e748=document[_0x2262df(0xa59)](_0x2262df(0x556));document[_0x2262df(0xa59)]('lesson-plan-title')[_0x2262df(0x2e0)]=_0x2262df(0x3cf)+_0x4e2679,_0x12e748['innerHTML']=_0x2262df(0x64d),_0x4380d3[_0x2262df(0x445)][_0x2262df(0x6b7)](_0x2262df(0x318));try{const _0x432056=_0x2262df(0x4c1)+_0x4e2679+_0x2262df(0x490),_0x1fc875={'type':_0x2262df(0x3b9),'properties':{'keyConcepts':{'type':_0x2262df(0x3af),'items':{'type':'STRING'}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x2262df(0x81e)}},'stepByStepExamples':{'type':_0x2262df(0x3af),'items':{'type':_0x2262df(0x3b9),'properties':{'question':{'type':_0x2262df(0x81e)},'solution':{'type':_0x2262df(0x81e)}},'required':['question',_0x2262df(0x793)]}},'teacherTips':{'type':_0x2262df(0x3af),'items':{'type':'STRING'}}},'required':['keyConcepts',_0x2262df(0x331),_0x2262df(0x785),'teacherTips']},_0x4ba181=await callAnalysisApi(_0x432056,_0x1fc875);displayTeachingContent(_0x4ba181,_0x4e2679);}catch(_0x4f5bbb){console[_0x2262df(0x5a8)](_0x2262df(0x834),_0x4f5bbb),_0x12e748[_0x2262df(0x43a)]=_0x2262df(0x393)+_0x4f5bbb[_0x2262df(0x1f3)]+_0x2262df(0xae8);}}function displayTeachingContent(_0x5857c0,_0x8dd856){const _0x2e7d0f=_0x5cd971,_0x3e6f7d=document[_0x2e7d0f(0xa59)](_0x2e7d0f(0x556));document['getElementById']('lesson-plan-title')[_0x2e7d0f(0x2e0)]=_0x2e7d0f(0x4c7)+_0x8dd856;const _0x4e53b8=_0x2e7d0f(0x2fc)+_0x5857c0[_0x2e7d0f(0xaf5)][_0x2e7d0f(0x6e4)](_0x5d6040=>_0x2e7d0f(0x86f)+_0x5d6040+'</li>')[_0x2e7d0f(0x386)]('')+_0x2e7d0f(0x550)+_0x5857c0[_0x2e7d0f(0x331)]['map'](_0xf9fa2b=>'<li>'+_0xf9fa2b+_0x2e7d0f(0x3e6))[_0x2e7d0f(0x386)]('')+_0x2e7d0f(0x56e)+_0x5857c0['stepByStepExamples'][_0x2e7d0f(0x6e4)](_0x5b3242=>_0x2e7d0f(0x23f)+_0x5b3242[_0x2e7d0f(0x6ee)]+_0x2e7d0f(0x5c4)+_0x5b3242[_0x2e7d0f(0x793)]+_0x2e7d0f(0x9dc))[_0x2e7d0f(0x386)]('')+_0x2e7d0f(0x8ee)+_0x5857c0['teacherTips'][_0x2e7d0f(0x6e4)](_0x43abb4=>_0x2e7d0f(0x86f)+_0x43abb4+_0x2e7d0f(0x3e6))[_0x2e7d0f(0x386)]('')+_0x2e7d0f(0x1fc);_0x3e6f7d['innerHTML']=_0x4e53b8;if(window[_0x2e7d0f(0x28d)])MathJax[_0x2e7d0f(0x2b6)]([_0x3e6f7d]);}function generateQuizForSingleTopic(_0x5c67ff){const _0x49f774=_0x5cd971;console[_0x49f774(0xa63)](_0x49f774(0x27a)+_0x5c67ff+'\x22'),generateQuiz(_0x5c67ff,null);}async function handleGenerateFromBlueprint(){const _0x28c8c9=_0x5cd971,_0x1b4e4d=document['getElementById'](_0x28c8c9(0xa00)),_0x151d5c=document[_0x28c8c9(0xa59)]('reference-pdf-upload'),_0x4b34e9=_0x1b4e4d[_0x28c8c9(0xafa)][0x0],_0x4ee5cd=_0x151d5c[_0x28c8c9(0xafa)][_0x28c8c9(0x963)]>0x0?_0x151d5c[_0x28c8c9(0xafa)][0x0]:null;if(!_0x4b34e9){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x407ac0=document[_0x28c8c9(0xa59)]('loader'),_0x24ff12=document[_0x28c8c9(0xa59)]('loader-text'),_0x5bf803=document[_0x28c8c9(0xa59)]('generated-quiz-container'),_0x35adba=document[_0x28c8c9(0xa59)](_0x28c8c9(0x7b1));_0x35adba[_0x28c8c9(0x3cd)]=!![],document[_0x28c8c9(0xa59)](_0x28c8c9(0x7ae))[_0x28c8c9(0x445)][_0x28c8c9(0x6b7)]('hidden'),_0x5bf803[_0x28c8c9(0x43a)]='',_0x407ac0[_0x28c8c9(0x445)]['remove']('hidden');try{_0x24ff12['textContent']='กำลังเตรียมไฟล์\x20Test\x20Blueprint...';const _0x29f580=await extractTextFromPdf(_0x4b34e9),_0x34d7ad='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20พยายามทดสอบความเข้าใจในแต่ละหัวข้อจากหลายๆ\x20มุมมอง\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x555a2a=_0x4ee5cd?_0x28c8c9(0x285):'',_0x5d29dd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22เนื้อหาจาก\x20Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x555a2a+_0x28c8c9(0x599)+(_0x4ee5cd?_0x28c8c9(0x856):'')+_0x28c8c9(0x361)+_0x34d7ad+_0x28c8c9(0x2a3)+_0x29f580+_0x28c8c9(0x564)+simpleMathPrompt+_0x28c8c9(0x4af),_0x5efefb={'type':_0x28c8c9(0x3b9),'properties':{'questionText':{'type':_0x28c8c9(0x81e)},'questionType':{'type':'STRING','enum':[_0x28c8c9(0xa76),'short_answer']},'options':{'type':_0x28c8c9(0x3af),'items':{'type':_0x28c8c9(0x81e)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x28c8c9(0x81e)},'explanation':{'type':_0x28c8c9(0x81e)},'imageCode':{'type':'STRING'}},'required':[_0x28c8c9(0x2a7),_0x28c8c9(0x969),_0x28c8c9(0x9fc)]},_0x318db5={'type':'OBJECT','properties':{'topic':{'type':_0x28c8c9(0x81e)},'questions':{'type':'ARRAY','items':_0x5efefb}},'required':[_0x28c8c9(0xaad),_0x28c8c9(0x1e6)]};await handleApiCall(_0x5d29dd,'กำลังสร้างแบบทดสอบจาก\x20Blueprint\x20และไฟล์อ้างอิง...',_0x318db5);}catch(_0x6007dd){console[_0x28c8c9(0x5a8)]('Error\x20generating\x20from\x20blueprint:',_0x6007dd),showMessage('เกิดข้อผิดพลาด:\x20'+_0x6007dd[_0x28c8c9(0x1f3)]),_0x5bf803[_0x28c8c9(0x43a)]=_0x28c8c9(0x6b5);}finally{_0x407ac0[_0x28c8c9(0x445)][_0x28c8c9(0x874)](_0x28c8c9(0x318)),_0x35adba[_0x28c8c9(0x3cd)]=![];}}function proceedToNextQuestion(_0x51d161){const _0x22aec0=_0x5cd971;studentAnswersPerQuestion['push'](_0x51d161),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x22aec0(0x1e6)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x1acf68,_0x5f1548){const _0x229e1d=_0x5cd971,_0xedfcad=Object[_0x229e1d(0xa88)](_0x1acf68['players']||{}),_0x50dc76=_0xedfcad[_0x229e1d(0x963)],_0x4167f3=[..._0xedfcad][_0x229e1d(0x695)]((_0x58f43d,_0x4f6c6a)=>_0x4f6c6a[_0x229e1d(0x3e9)]-_0x58f43d[_0x229e1d(0x3e9)]),_0x633a82=_0x1acf68['currentQuestionIndex'];let _0x29fd34='';const _0x1bba2d=_0x1acf68[_0x229e1d(0x642)][_0x229e1d(0x1e6)],_0x3f7a20=_0x1bba2d[_0x633a82],_0x2c2f54=_0x57ea13=>String[_0x229e1d(0x353)](0x41+_0x57ea13);let _0x21ddf8='',_0x3ad1dc='';if(_0x3f7a20){const _0x116f79=_0x3f7a20['questionType']||_0x1acf68[_0x229e1d(0x642)]['quizType'];if(_0x116f79==='multiple_choice'&&_0x3f7a20[_0x229e1d(0x369)]&&_0x3f7a20[_0x229e1d(0x501)]!==undefined){const _0x2a1ee6=_0x3f7a20[_0x229e1d(0x501)];_0x21ddf8=_0x3f7a20[_0x229e1d(0x369)][_0x2a1ee6],_0x3ad1dc=_0x2c2f54(_0x2a1ee6)+'.';}else{if(_0x116f79===_0x229e1d(0x8fe)){const _0x4df7a2=_0x3f7a20[_0x229e1d(0x276)]===!![]||String(_0x3f7a20[_0x229e1d(0x276)])['toLowerCase']()==='true';_0x4df7a2?(_0x21ddf8=_0x229e1d(0xa11),_0x3ad1dc='ก.'):(_0x21ddf8=_0x229e1d(0x23d),_0x3ad1dc='ข.');}else{if(_0x116f79==='matching_item')_0x21ddf8=_0x3f7a20[_0x229e1d(0x4ae)]||'-',_0x3ad1dc='';else _0x116f79===_0x229e1d(0x536)&&(_0x21ddf8=_0x3f7a20[_0x229e1d(0x5e7)]||'-',_0x3ad1dc='');}}}_0x21ddf8&&(_0x29fd34='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20'+(_0x633a82+0x1)+_0x229e1d(0x24d)+_0x3ad1dc+'\x20'+_0x21ddf8+_0x229e1d(0x547));const _0x4775e3=_0x4167f3[_0x229e1d(0x6e4)](_0x4d2647=>{const _0x26f4af=_0x229e1d;let _0xf7572d=![];if(_0x4d2647[_0x26f4af(0x89e)]&&_0x633a82!==-0x1){const _0x3a691d=_0x4d2647[_0x26f4af(0x89e)][_0x26f4af(0x3fd)](_0x4270c7=>_0x4270c7[_0x26f4af(0x32d)]===_0x633a82);_0x3a691d&&_0x3a691d[_0x26f4af(0x8cc)]&&(_0xf7572d=!![]);}const _0x5a5933=_0xf7572d?_0x26f4af(0x7db):_0x26f4af(0x338);return _0x26f4af(0x40f)+_0x5a5933+'\x22><span>'+_0x4d2647[_0x26f4af(0xa5e)]+_0x26f4af(0x90e)+_0x4d2647[_0x26f4af(0x3e9)]+_0x26f4af(0x896);})[_0x229e1d(0x386)](''),_0x5e0543=_0x1bba2d[_0x229e1d(0x6e4)]((_0x375772,_0x2b620e)=>{const _0x808c50=_0x229e1d,_0x190092=_0xedfcad[_0x808c50(0x75f)](_0x1e2c9c=>_0x1e2c9c[_0x808c50(0x89e)]&&_0x1e2c9c['answers']['find'](_0x1f2e88=>_0x1f2e88['questionIndex']===_0x2b620e&&_0x1f2e88['isCorrect']))[_0x808c50(0x963)],_0x7b2ff8=_0x2b620e===_0x633a82,_0x1bc94c=_0x7b2ff8?_0x808c50(0x960):_0x808c50(0xa55);return _0x808c50(0x6c4)+_0x1bc94c+_0x808c50(0x325)+(_0x2b620e+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x190092+'\x20/\x20'+_0x50dc76+_0x808c50(0x671);})[_0x229e1d(0x386)]('');let _0x5c48a2='',_0x4d2058='';if(_0x5f1548){const _0x44510d=_0x1acf68[_0x229e1d(0x34b)]>=_0x1bba2d[_0x229e1d(0x963)]-0x1;_0x5c48a2=_0x229e1d(0x292)+(_0x44510d?_0x229e1d(0x8d4):_0x229e1d(0x7c9))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x4d2058=_0x229e1d(0x3b3);}const _0x4adcf8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x1acf68['shuffledQuiz'][_0x229e1d(0xaad)]+_0x229e1d(0x997)+_0x4d2058+_0x229e1d(0xaec)+_0x29fd34+_0x229e1d(0x1e3)+(_0x4775e3||_0x229e1d(0x99b))+_0x229e1d(0xa9b)+_0x5e0543+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5f1548?_0x229e1d(0xa16)+_0x5c48a2+_0x229e1d(0x552):'')+_0x229e1d(0x86a);liveGameView[_0x229e1d(0x43a)]=_0x4adcf8;if(window['MathJax']){const _0x4f88ee=document[_0x229e1d(0xa59)](_0x229e1d(0x297));_0x4f88ee&&MathJax[_0x229e1d(0x2b6)]([_0x4f88ee]);}if(_0x5f1548){document['getElementById'](_0x229e1d(0x5ba))['onclick']=async()=>{const _0x385e4c=_0x229e1d,_0x31a61b=doc(db,_0x385e4c(0xab3)+appId+_0x385e4c(0x805),currentLiveGameId),_0x39a62b=_0x1acf68[_0x385e4c(0x34b)]+0x1;if(_0x39a62b<_0x1bba2d[_0x385e4c(0x963)]){const _0x21db62={};Object[_0x385e4c(0xa57)](_0x1acf68['players'])[_0x385e4c(0x5d5)](_0x18f473=>{const _0x1567ad=_0x385e4c;_0x21db62[_0x1567ad(0x8b4)+_0x18f473+_0x1567ad(0x600)]=![],_0x21db62['players.'+_0x18f473+'.lastAnswerIndex']=null;}),await updateDoc(_0x31a61b,{..._0x21db62,'status':_0x385e4c(0x6ee),'currentQuestionIndex':_0x39a62b,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x31a61b,{'status':_0x385e4c(0x510)});};const _0x292f6c=document[_0x229e1d(0xa59)](_0x229e1d(0x93b));_0x292f6c&&(_0x292f6c[_0x229e1d(0x62f)]=()=>{const _0x21d121=_0x229e1d;showConfirmation(_0x21d121(0x524),async()=>{const _0x4c87fd=_0x21d121,_0x2f5035=doc(db,'artifacts/'+appId+_0x4c87fd(0x805),currentLiveGameId);await updateDoc(_0x2f5035,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x21283a){const _0x4876e3=_0x5cd971,_0x51fbf6=document[_0x4876e3(0xa59)](_0x4876e3(0xab4)),_0x49ef72=document[_0x4876e3(0xa59)](_0x4876e3(0x1b5));_0x49ef72[_0x4876e3(0x445)][_0x4876e3(0x874)](_0x4876e3(0x318));const _0x87b47d=_0x4876e3(0x83d)+_0x21283a[_0x4876e3(0xaad)]+_0x4876e3(0x29b);_0x51fbf6['insertAdjacentHTML'](_0x4876e3(0x90d),_0x87b47d);const _0x4c335d=document[_0x4876e3(0xa59)](_0x4876e3(0x932));try{const _0x5158de=_0x21283a['questions'][_0x4876e3(0x6e4)]((_0xff5a1b,_0x2f88c9)=>{const _0x30a8f0=_0x4876e3;let _0x593050=_0x2f88c9+0x1+'.\x20'+(_0xff5a1b[_0x30a8f0(0x2a7)]||_0xff5a1b[_0x30a8f0(0x5ce)])+'\x0a';if(_0xff5a1b[_0x30a8f0(0x369)])_0x593050+=_0xff5a1b['options'][_0x30a8f0(0x6e4)]((_0x3a7100,_0x4aa897)=>_0x30a8f0(0x6da)+(_0x4aa897===_0xff5a1b['correctAnswerIndex']?_0x30a8f0(0xab8):'')+'\x20'+_0x3a7100)[_0x30a8f0(0x386)]('\x0a');else _0xff5a1b[_0x30a8f0(0x5e7)]&&(_0x593050+=_0x30a8f0(0xa01)+_0xff5a1b[_0x30a8f0(0x5e7)]);return _0x593050;})[_0x4876e3(0x386)]('\x0a\x0a');_0x4c335d[_0x4876e3(0x2e0)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x426d90='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x21283a[_0x4876e3(0xaad)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5158de+_0x4876e3(0x91e)+simpleMathPrompt+_0x4876e3(0x4af),_0x35f819={'type':_0x4876e3(0x3b9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x4876e3(0x81e),'enum':[_0x4876e3(0xa76),_0x4876e3(0x536),_0x4876e3(0x8fe),_0x4876e3(0x845)]},'options':{'type':_0x4876e3(0x3af),'items':{'type':_0x4876e3(0x81e)}},'correctAnswerIndex':{'type':_0x4876e3(0x95d)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x4876e3(0x81e)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x4876e3(0x3af),'items':{'type':_0x4876e3(0x81e)}},'explanation':{'type':_0x4876e3(0x81e)},'imageCode':{'type':'STRING'}},'required':[_0x4876e3(0x969),_0x4876e3(0x9fc)]},_0x1756ea={'type':_0x4876e3(0x3b9),'properties':{'topic':{'type':_0x4876e3(0x81e)},'questions':{'type':_0x4876e3(0x3af),'items':_0x35f819}},'required':[_0x4876e3(0xaad),_0x4876e3(0x1e6)]},_0x46101d=await callAnalysisApi(_0x426d90,_0x1756ea),_0x343d8c=_0x46101d['questions'][_0x4876e3(0x6e4)]((_0x4f8648,_0x137d6b)=>({..._0x4f8648,'id':'q_'+Date[_0x4876e3(0x3fe)]()+'_'+_0x137d6b})),_0x57026e=_0x4876e3(0x1d1)+_0x21283a[_0x4876e3(0xaad)],_0x61cee8={'topic':_0x57026e,'questions':_0x343d8c,'quizType':_0x21283a[_0x4876e3(0x42e)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x4876e3(0x92c)](),'status':_0x4876e3(0x18e),'settings':_0x21283a[_0x4876e3(0x1d2)],'quizMode':_0x4876e3(0x710),'pairedQuizId':null,'lessonPlan':null};let _0x1b83a4;while(!![]){_0x1b83a4=Math[_0x4876e3(0x68d)](0x3e8+Math[_0x4876e3(0x309)]()*0x2328)[_0x4876e3(0x5ea)]();const _0x115dd1=await getDoc(doc(db,_0x4876e3(0xab3)+appId+'/public/data/quizzes',_0x1b83a4));if(!_0x115dd1[_0x4876e3(0x540)]())break;}await setDoc(doc(db,_0x4876e3(0xab3)+appId+_0x4876e3(0xaf2),_0x1b83a4),_0x61cee8),showMessage(_0x4876e3(0xabb));}catch(_0x4414db){console[_0x4876e3(0x5a8)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x4414db),showMessage(_0x4876e3(0x9db)+_0x4414db[_0x4876e3(0x1f3)]);}finally{const _0x4a9973=document[_0x4876e3(0xa59)]('temp-loader-results');_0x4a9973&&_0x4a9973['remove'](),_0x49ef72['classList'][_0x4876e3(0x6b7)](_0x4876e3(0x318));}}async function handleGenerateParallelPostTest(_0x30741f){const _0x884b76=_0x5cd971,_0xb9c719=document[_0x884b76(0xa59)](_0x884b76(0xab4)),_0x1cfb3e=document[_0x884b76(0xa59)](_0x884b76(0x1b5));_0x1cfb3e['classList'][_0x884b76(0x874)]('hidden');const _0xe4ca3e=_0x884b76(0x6fb);_0xb9c719[_0x884b76(0x269)](_0x884b76(0x90d),_0xe4ca3e);try{const _0x589dfe=_0x30741f[_0x884b76(0x1e6)]['map']((_0x59c7cf,_0x4e9304)=>{const _0x36393a=_0x884b76;let _0x6dba2e=_0x4e9304+0x1+'.\x20'+(_0x59c7cf[_0x36393a(0x2a7)]||_0x59c7cf[_0x36393a(0x5ce)]);if(_0x59c7cf[_0x36393a(0x369)])_0x6dba2e+=_0x36393a(0x413)+_0x59c7cf['options'][_0x36393a(0x386)](',\x20');return _0x6dba2e;})[_0x884b76(0x386)]('\x0a\x0a'),_0x38be83='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x30741f['topic']+_0x884b76(0x216)+_0x589dfe+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x884b76(0x4af),_0x70ef38={'type':_0x884b76(0x3b9),'properties':{'topic':{'type':_0x884b76(0x81e)},'questions':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionText':{'type':_0x884b76(0x81e)},'questionType':{'type':_0x884b76(0x81e)},'options':{'type':_0x884b76(0x3af),'items':{'type':_0x884b76(0x81e)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x884b76(0x81e)},'explanation':{'type':_0x884b76(0x81e)}},'required':[_0x884b76(0x2a7),_0x884b76(0x9fc)]}}},'required':[_0x884b76(0xaad),_0x884b76(0x1e6)]},_0x3f40f5=await callAnalysisApi(_0x38be83,_0x70ef38),_0x373eb2=_0x30741f[_0x884b76(0xaad)][_0x884b76(0x263)](_0x884b76(0x608),'')[_0x884b76(0x56b)](),_0xbb9023=_0x884b76(0x6af)+_0x373eb2,_0x4bc6f6={..._0x3f40f5,'topic':_0xbb9023,'quizType':_0x30741f[_0x884b76(0x42e)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x884b76(0x92c)](),'status':_0x884b76(0x18e),'settings':_0x30741f['settings'],'quizMode':_0x884b76(0x6d7),'pairedQuizId':_0x30741f['id']};let _0x56f248;while(!![]){_0x56f248=Math[_0x884b76(0x68d)](0x3e8+Math['random']()*0x2328)[_0x884b76(0x5ea)]();const _0x5384d1=await getDoc(doc(db,_0x884b76(0xab3)+appId+_0x884b76(0xaf2),_0x56f248));if(!_0x5384d1[_0x884b76(0x540)]())break;}await setDoc(doc(db,_0x884b76(0xab3)+appId+_0x884b76(0xaf2),_0x56f248),_0x4bc6f6);const _0x1f879f=doc(db,_0x884b76(0xab3)+appId+_0x884b76(0xaf2),_0x30741f['id']);await updateDoc(_0x1f879f,{'pairedQuizId':_0x56f248}),showMessage(_0x884b76(0x998));}catch(_0x567bd7){console[_0x884b76(0x5a8)](_0x884b76(0x243),_0x567bd7),showMessage(_0x884b76(0x9db)+_0x567bd7[_0x884b76(0x1f3)]);}finally{const _0x102f70=document['getElementById'](_0x884b76(0x9d4));if(_0x102f70)_0x102f70['remove']();_0x1cfb3e[_0x884b76(0x445)]['remove'](_0x884b76(0x318));}}async function handleGenerateParallelTest(){const _0x14033f=_0x5cd971,_0x595d0a=document[_0x14033f(0xa59)](_0x14033f(0x50d)),_0x4190ea=_0x595d0a['files'][0x0];if(!_0x4190ea){showMessage(_0x14033f(0x4c8));return;}const _0x3d9b71=document[_0x14033f(0xa59)](_0x14033f(0x5c6)),_0x16690b=document[_0x14033f(0xa59)](_0x14033f(0x8ed)),_0x193453=document[_0x14033f(0xa59)](_0x14033f(0x619)),_0x282601=document['getElementById'](_0x14033f(0x763));_0x282601[_0x14033f(0x3cd)]=!![],document[_0x14033f(0xa59)](_0x14033f(0x7ae))[_0x14033f(0x445)][_0x14033f(0x6b7)]('hidden'),_0x193453[_0x14033f(0x43a)]='',_0x3d9b71['classList'][_0x14033f(0x6b7)](_0x14033f(0x318)),_0x16690b[_0x14033f(0x2e0)]=_0x14033f(0x9bd);const _0x4ab793=new FileReader();_0x4ab793[_0x14033f(0x6f0)](_0x4190ea),_0x4ab793[_0x14033f(0x9ee)]=async()=>{const _0x526a7b=_0x14033f;try{const _0x529bec=_0x4ab793[_0x526a7b(0x412)]['split'](',')[0x1],_0x240668=_0x4190ea['type'];_0x16690b['textContent']=_0x526a7b(0x54b);const _0x7539bc=document[_0x526a7b(0xa59)]('include-images-checkbox')[_0x526a7b(0x31a)],_0x36f533=_0x7539bc?_0x526a7b(0x971):'',_0x515bad=_0x526a7b(0x6c0)+_0x36f533+_0x526a7b(0x2c5)+simpleMathPrompt+_0x526a7b(0x97c),_0x37dd37={'type':'OBJECT','properties':{'questionText':{'type':_0x526a7b(0x81e)},'questionType':{'type':_0x526a7b(0x81e),'enum':[_0x526a7b(0xa76),_0x526a7b(0x536)]},'options':{'type':_0x526a7b(0x3af),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x526a7b(0x95d)},'idealAnswer':{'type':_0x526a7b(0x81e)},'explanation':{'type':_0x526a7b(0x81e)},'imageCode':{'type':_0x526a7b(0x81e)}},'required':['questionText','questionType','explanation']},_0x38474d={'type':_0x526a7b(0x3b9),'properties':{'topic':{'type':_0x526a7b(0x81e)},'questions':{'type':_0x526a7b(0x3af),'items':_0x37dd37}},'required':[_0x526a7b(0xaad),'questions']},_0x2d1772=[{'text':_0x515bad},{'inlineData':{'mimeType':_0x240668,'data':_0x529bec}}];await handleApiCall(_0x2d1772,_0x526a7b(0x84d),_0x38474d);}catch(_0x211df3){console['error']('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x211df3),showMessage('เกิดข้อผิดพลาด:\x20'+_0x211df3[_0x526a7b(0x1f3)]),_0x193453[_0x526a7b(0x43a)]=_0x526a7b(0x6d0);}finally{_0x3d9b71[_0x526a7b(0x445)]['add']('hidden'),_0x282601[_0x526a7b(0x3cd)]=![];}},_0x4ab793[_0x14033f(0x928)]=_0x4f7dcd=>{const _0xca5378=_0x14033f;console['error'](_0xca5378(0x90b),_0x4f7dcd),showMessage(_0xca5378(0x5ed)),_0x3d9b71[_0xca5378(0x445)][_0xca5378(0x874)](_0xca5378(0x318)),_0x282601[_0xca5378(0x3cd)]=![];};}async function handleRegenerateQuestionInEditor(_0x92562b){const _0xea48d5=_0x5cd971;if(currentEditingQuizData===null)return;const _0x1ace39=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x92562b+'\x22]');_0x1ace39&&(_0x1ace39[_0xea48d5(0x43a)]=_0xea48d5(0x8f0));const _0x25bd36=currentEditingQuizData['questions'][_0x92562b],_0x54cace=currentEditingQuizData[_0xea48d5(0xaad)],_0x2cdbea=_0x25bd36[_0xea48d5(0x969)],_0x43e576={'type':'OBJECT','properties':{'questionText':{'type':_0xea48d5(0x81e)},'options':{'type':_0xea48d5(0x3af),'items':{'type':_0xea48d5(0x81e)}},'correctAnswerIndex':{'type':_0xea48d5(0x95d)},'explanation':{'type':_0xea48d5(0x81e)}},'required':[_0xea48d5(0x2a7),_0xea48d5(0x369),_0xea48d5(0x501),_0xea48d5(0x9fc)]},_0x39a4eb={'type':_0xea48d5(0x3b9),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xea48d5(0x81e)}},'required':[_0xea48d5(0x2a7),'idealAnswer',_0xea48d5(0x9fc)]};let _0x302127,_0x199866='';_0x2cdbea===_0xea48d5(0xa76)?(_0x302127=_0x43e576,_0x199866='แบบปรนัย\x204\x20ตัวเลือก'):(_0x302127=_0x39a4eb,_0x199866=_0xea48d5(0x390));const _0x383f74=_0xea48d5(0x930)+_0x54cace+_0xea48d5(0x670)+_0x199866+_0xea48d5(0x7f4)+(_0x25bd36[_0xea48d5(0x2a7)]||_0x25bd36[_0xea48d5(0x5ce)])+_0xea48d5(0x688)+simpleMathPrompt;try{const _0x22aead=await callAnalysisApi(_0x383f74,_0x302127);currentEditingQuizData[_0xea48d5(0x1e6)][_0x92562b]={..._0x25bd36,..._0x22aead},renderQuizEditor(currentEditingQuizData);}catch(_0xefdd73){console[_0xea48d5(0x5a8)](_0xea48d5(0xa99),_0xefdd73),showMessage(_0xea48d5(0x38f)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x1b5a34=_0x5cd971,_0x209ed0=document['getElementById'](_0x1b5a34(0x41d));currentMode==='student'?(currentMode=_0x1b5a34(0x957),_0x209ed0[_0x1b5a34(0x43a)]=_0x1b5a34(0x81d),_0x209ed0[_0x1b5a34(0x24b)]=_0x1b5a34(0x807),showView('admin-dashboard')):(currentMode=_0x1b5a34(0x17a),_0x209ed0[_0x1b5a34(0x43a)]=_0x1b5a34(0x921),_0x209ed0[_0x1b5a34(0x24b)]='สลับไปโหมดผู้ควบคุม',showView(_0x1b5a34(0x17a)));}function handleAdminLogin(){const _0x1d3c39=_0x5cd971,_0xbd412f=document[_0x1d3c39(0xa59)](_0x1d3c39(0x374)),_0x278ab0=document[_0x1d3c39(0xa59)](_0x1d3c39(0x76a));if(_0xbd412f[_0x1d3c39(0x630)]==='27411472'){adminPasswordModal[_0x1d3c39(0x445)][_0x1d3c39(0x874)]('hidden'),_0xbd412f[_0x1d3c39(0x630)]='',_0x278ab0[_0x1d3c39(0x445)]['add'](_0x1d3c39(0x318)),currentMode='admin';const _0x2bcde9=document[_0x1d3c39(0xa59)](_0x1d3c39(0x41d));_0x2bcde9[_0x1d3c39(0x43a)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x2bcde9[_0x1d3c39(0x24b)]='สลับไปโหมดนักเรียน',showView('admin-dashboard');}else _0x278ab0[_0x1d3c39(0x445)][_0x1d3c39(0x6b7)](_0x1d3c39(0x318)),_0xbd412f[_0x1d3c39(0x630)]='';}function switchProjectTab(_0x457b21){const _0x555eda=_0x5cd971;['manage',_0x555eda(0x352),_0x555eda(0x8c6)]['forEach'](_0x32c877=>{const _0x28304f=_0x555eda;document[_0x28304f(0xa59)](_0x32c877+_0x28304f(0x33d))[_0x28304f(0x445)][_0x28304f(0x6b7)](_0x28304f(0x18e)),document[_0x28304f(0xa59)](_0x32c877+_0x28304f(0xa4d))['classList'][_0x28304f(0x874)](_0x28304f(0x318));}),document['getElementById'](_0x457b21+_0x555eda(0x33d))[_0x555eda(0x445)]['add'](_0x555eda(0x18e)),document[_0x555eda(0xa59)](_0x457b21+_0x555eda(0xa4d))['classList'][_0x555eda(0x6b7)](_0x555eda(0x318));}function switchQuizDetailTab(_0x329591){const _0x4b6302=_0x5cd971,_0x29b5c2={'analytics':{'btn':_0x4b6302(0x6f8),'content':_0x4b6302(0x8f6)},'scores':{'btn':'scores-tab-btn','content':_0x4b6302(0x175)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x4b6302(0x2ea)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x4b6302(0x29f)}};for(const _0x1db265 in _0x29b5c2){document[_0x4b6302(0xa59)](_0x29b5c2[_0x1db265][_0x4b6302(0x4d3)])[_0x4b6302(0x445)][_0x4b6302(0x6b7)](_0x4b6302(0x18e)),document['getElementById'](_0x29b5c2[_0x1db265]['content'])[_0x4b6302(0x445)][_0x4b6302(0x874)](_0x4b6302(0x318));}document[_0x4b6302(0xa59)](_0x29b5c2[_0x329591][_0x4b6302(0x4d3)])[_0x4b6302(0x445)][_0x4b6302(0x874)](_0x4b6302(0x18e)),document['getElementById'](_0x29b5c2[_0x329591]['content'])[_0x4b6302(0x445)][_0x4b6302(0x6b7)](_0x4b6302(0x318));}function showMessage(_0x76d916,_0x1d5aa4=null){const _0x582c8d=_0x5cd971;modalMessage[_0x582c8d(0x2e0)]=_0x76d916,modalConfirmAction=_0x1d5aa4,messageModal[_0x582c8d(0x445)][_0x582c8d(0x6b7)](_0x582c8d(0x318));}function showConfirmation(_0x1f31c1,_0x498b9c){const _0x250dd0=_0x5cd971;document[_0x250dd0(0xa59)]('confirmation-message')[_0x250dd0(0x2e0)]=_0x1f31c1,document[_0x250dd0(0xa59)](_0x250dd0(0x8a7))[_0x250dd0(0x5b4)]('h3')['textContent']=_0x250dd0(0x699),confirmAction=_0x498b9c,confirmationModal['classList'][_0x250dd0(0x6b7)](_0x250dd0(0x318));}function listenForProjects(){const _0x3cc626=_0x5cd971,_0x2ebaa5=doc(db,_0x3cc626(0x7e3),_0x3cc626(0x3c1));onSnapshot(_0x2ebaa5,_0x262bc3=>{const _0x4fa20c=_0x3cc626;if(_0x262bc3[_0x4fa20c(0x540)]()){const _0x5c7cb5=_0x262bc3[_0x4fa20c(0x730)]();globalDashboardSettings[_0x4fa20c(0x9b5)]=_0x5c7cb5[_0x4fa20c(0x9b5)]||_0x4fa20c(0x48c),globalDashboardSettings[_0x4fa20c(0x973)]=_0x5c7cb5['pinnedProjects']||[],globalDashboardSettings[_0x4fa20c(0xa2b)]=_0x5c7cb5[_0x4fa20c(0xa2b)]||[];}allProjects[_0x4fa20c(0x963)]>0x0&&renderProjects();});const _0x23172b=collection(db,_0x3cc626(0xab3)+appId+_0x3cc626(0x6d8));unsubscribeProjectsListener=onSnapshot(_0x23172b,_0x94ad7b=>{const _0x531900=_0x3cc626;allProjects=_0x94ad7b[_0x531900(0x354)][_0x531900(0x6e4)](_0x20e4a6=>({'id':_0x20e4a6['id'],..._0x20e4a6[_0x531900(0x730)]()})),renderProjects();},_0x2e5d0c=>{const _0x163c60=_0x3cc626;console['error'](_0x163c60(0x2d1),_0x2e5d0c),showMessage(_0x163c60(0x995));});}function showColorPalette(_0x524be3,_0x2e96d7){const _0x428039=_0x5cd971;document[_0x428039(0x1f8)]('.color-palette-popup')[_0x428039(0x5d5)](_0x64dc53=>_0x64dc53[_0x428039(0x6b7)]());const _0x2421fd=[_0x428039(0xa46),_0x428039(0x7fa),_0x428039(0x195),_0x428039(0x389),_0x428039(0x22b),_0x428039(0x87f),_0x428039(0x9d0),_0x428039(0x92e),_0x428039(0x3f6)],_0x936a51=document[_0x428039(0x3b7)](_0x428039(0x904));_0x936a51[_0x428039(0x4e1)]=_0x428039(0x681),_0x2421fd[_0x428039(0x5d5)](_0x4e6570=>{const _0x549491=_0x428039,_0x41e173=document[_0x549491(0x3b7)](_0x549491(0x904));_0x41e173[_0x549491(0x4e1)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x41e173[_0x549491(0x588)][_0x549491(0x4dc)]=_0x4e6570,_0x41e173[_0x549491(0x1ce)](_0x549491(0x420),()=>{const _0x2e989b=_0x549491;handleProjectColorChange(_0x2e96d7,_0x4e6570),_0x936a51[_0x2e989b(0x6b7)]();}),_0x936a51[_0x549491(0x3c2)](_0x41e173);}),document[_0x428039(0x23e)][_0x428039(0x3c2)](_0x936a51);const _0x1563bf=_0x524be3[_0x428039(0x96f)]();_0x936a51['style'][_0x428039(0x422)]=_0x1563bf['bottom']+window[_0x428039(0xa40)]+'px',_0x936a51[_0x428039(0x588)][_0x428039(0x245)]=_0x1563bf['left']+window['scrollX']-_0x936a51[_0x428039(0x1c0)]/0x2+'px';}async function handleProjectColorChange(_0x1189f8,_0x327bcf){const _0x2b0e2f=_0x5cd971,_0x4f1c0c=doc(db,_0x2b0e2f(0xab3)+appId+'/public/data/projects',_0x1189f8);try{await updateDoc(_0x4f1c0c,{'color':_0x327bcf});}catch(_0x33eab5){console[_0x2b0e2f(0x5a8)](_0x2b0e2f(0x5f5),_0x33eab5),showMessage(_0x2b0e2f(0x480));}}async function renderProjects(){const _0x10a526=_0x5cd971,_0x3fb0a9=globalDashboardSettings[_0x10a526(0x9b5)]||_0x10a526(0x48c),_0x153993=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x4fa977=globalDashboardSettings[_0x10a526(0x6f6)]||'grid',_0x5c4074=document['getElementById'](_0x10a526(0x430)),_0x48a948=document[_0x10a526(0xa59)](_0x10a526(0x210));_0x5c4074['classList']['toggle'](_0x10a526(0x18e),_0x4fa977===_0x10a526(0x229)),_0x48a948['classList'][_0x10a526(0x367)](_0x10a526(0x18e),_0x4fa977===_0x10a526(0x544)),document[_0x10a526(0xa59)](_0x10a526(0x5a5))['value']=_0x3fb0a9;const _0x37f474=document[_0x10a526(0xa59)](_0x10a526(0x652))[_0x10a526(0x630)][_0x10a526(0x57d)]();let _0x3f7b65=allProjects[_0x10a526(0x75f)](_0x2478dc=>_0x2478dc[_0x10a526(0x1ff)][_0x10a526(0x57d)]()['includes'](_0x37f474));const _0x50096a=_0x3f7b65[_0x10a526(0x75f)](_0x5595bc=>_0x153993[_0x10a526(0x33a)](_0x5595bc['id'])),_0x3f73db=_0x3f7b65[_0x10a526(0x75f)](_0x1d6c19=>!_0x153993['has'](_0x1d6c19['id'])),_0x50e940=(_0x23d36d,_0x4ed190)=>{const _0x3c0b40=_0x10a526;switch(_0x3fb0a9){case _0x3c0b40(0x5de):return _0x23d36d[_0x3c0b40(0x1ff)][_0x3c0b40(0x1f1)](_0x4ed190[_0x3c0b40(0x1ff)],'th');case'name_desc':return _0x4ed190[_0x3c0b40(0x1ff)][_0x3c0b40(0x1f1)](_0x23d36d[_0x3c0b40(0x1ff)],'th');case _0x3c0b40(0x62e):return new Date(_0x23d36d['createdAt'])-new Date(_0x4ed190[_0x3c0b40(0x3d1)]);default:return new Date(_0x4ed190[_0x3c0b40(0x3d1)])-new Date(_0x23d36d[_0x3c0b40(0x3d1)]);}};_0x50096a[_0x10a526(0x695)](_0x50e940),_0x3f73db[_0x10a526(0x695)](_0x50e940);const _0x2f7649=[..._0x50096a,..._0x3f73db],_0x2f184f=globalDashboardSettings['projectOrder']||[];_0x2f184f['length']>0x0&&_0x4fa977===_0x10a526(0x229)&&_0x2f7649['sort']((_0xebfe85,_0x19701a)=>{const _0x1acd2d=_0x10a526,_0x6e74ec=_0x2f184f[_0x1acd2d(0x554)](_0xebfe85['id']),_0xf66916=_0x2f184f[_0x1acd2d(0x554)](_0x19701a['id']);if(_0x6e74ec===-0x1)return 0x1;if(_0xf66916===-0x1)return-0x1;return _0x6e74ec-_0xf66916;});const _0x581709={};await Promise[_0x10a526(0x9ab)](_0x2f7649[_0x10a526(0x6e4)](async _0x566d3d=>{const _0xd51438=_0x10a526,_0x44882b=query(collection(db,_0xd51438(0xab3)+appId+_0xd51438(0xaf2)),where(_0xd51438(0x868),'==',_0x566d3d['id'])),_0x8f2a95=await getDocs(_0x44882b);_0x581709[_0x566d3d['id']]=_0x8f2a95[_0xd51438(0x2b4)];}));const _0x41a9ee=document[_0x10a526(0xa59)](_0x10a526(0x4b0));let _0x53ec4b='';if(_0x4fa977==='grid'){_0x41a9ee[_0x10a526(0x4e1)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes['length']>0x0&&_0x37f474===''){const _0x432113=starredQuizzes[_0x10a526(0x6e4)](_0x597db8=>{const _0x425103=_0x10a526,_0x7d25cc=allProjects['find'](_0x3ea7ce=>_0x3ea7ce['id']===_0x597db8[_0x425103(0x868)]);return{..._0x597db8,'projectName':_0x7d25cc?_0x7d25cc[_0x425103(0x1ff)]:'N/A'};});_0x53ec4b+=_0x10a526(0x65f)+_0x432113['map'](_0x7539f7=>_0x10a526(0xa2e)+_0x7539f7[_0x10a526(0xaad)]+'\x22>'+_0x7539f7[_0x10a526(0xaad)]+_0x10a526(0x49c)+_0x7539f7[_0x10a526(0x1ff)]+_0x10a526(0x954)+_0x7539f7[_0x10a526(0x1ff)]+_0x10a526(0x4c5))[_0x10a526(0x386)]('')+_0x10a526(0x9ec)+starredQuizzes[_0x10a526(0x963)]+_0x10a526(0x537);}_0x2f7649[_0x10a526(0x5d5)](_0x2b4332=>{const _0x31a6b9=_0x10a526,_0x34f288=_0x581709[_0x2b4332['id']]??0x0,_0x322d46=_0x153993[_0x31a6b9(0x33a)](_0x2b4332['id']),_0x13b345=_0x2b4332[_0x31a6b9(0x526)]||_0x31a6b9(0xa46),_0x593902=parseInt(_0x13b345[_0x31a6b9(0x3b5)](0x1,0x3),0x10)*0.299+parseInt(_0x13b345[_0x31a6b9(0x3b5)](0x3,0x5),0x10)*0.587+parseInt(_0x13b345[_0x31a6b9(0x3b5)](0x5,0x7),0x10)*0.114<0xba,_0x50647a=_0x593902?_0x31a6b9(0x3c9):_0x31a6b9(0x9df),_0x660374=_0x593902?'text-gray-200':_0x31a6b9(0xaf9);_0x53ec4b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x322d46?_0x31a6b9(0x9f1):_0x31a6b9(0x879))+_0x31a6b9(0x403)+_0x13b345+';\x22\x20data-id=\x22'+_0x2b4332['id']+_0x31a6b9(0x495)+_0x2b4332['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x593902?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2b4332['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x593902?'text-gray-300\x20hover:text-white':_0x31a6b9(0x64a))+_0x31a6b9(0x44b)+(_0x322d46?_0x593902?_0x31a6b9(0xa12):_0x31a6b9(0x755):'')+_0x31a6b9(0x313)+_0x2b4332['id']+_0x31a6b9(0x39c)+_0x50647a+'\x20pointer-events-none\x22>'+_0x2b4332[_0x31a6b9(0x1ff)]+_0x31a6b9(0xa4e)+_0x660374+_0x31a6b9(0x6ca)+new Date(_0x2b4332[_0x31a6b9(0x3d1)])[_0x31a6b9(0x49f)](_0x31a6b9(0x20e))+_0x31a6b9(0xaa7)+(_0x593902?'text-gray-100':_0x31a6b9(0x703))+_0x31a6b9(0xa7a)+_0x34f288+_0x31a6b9(0x488)+_0x2b4332['id']+'\x22\x20data-name=\x22'+_0x2b4332[_0x31a6b9(0x1ff)]+_0x31a6b9(0x4f2)+(_0x593902?_0x31a6b9(0x3ed):_0x31a6b9(0x1be))+_0x31a6b9(0x530);});}else _0x41a9ee[_0x10a526(0x4e1)]=_0x10a526(0x789),starredQuizzes[_0x10a526(0x963)]>0x0&&_0x37f474===''&&(_0x53ec4b+=_0x10a526(0x41e)+starredQuizzes[_0x10a526(0x963)]+_0x10a526(0x41b)),_0x53ec4b+=_0x10a526(0x95f),_0x2f7649[_0x10a526(0x5d5)](_0x2b94f7=>{const _0x2633d1=_0x10a526,_0x393e64=_0x581709[_0x2b94f7['id']]??0x0,_0xf9e12=_0x153993[_0x2633d1(0x33a)](_0x2b94f7['id']);_0x53ec4b+=_0x2633d1(0x506)+(_0x2b94f7[_0x2633d1(0x526)]||_0x2633d1(0x3f6))+_0x2633d1(0x2e5)+_0x2b94f7['id']+_0x2633d1(0x651)+_0x2b94f7[_0x2633d1(0x1ff)]+_0x2633d1(0x26c)+_0x393e64+_0x2633d1(0x881)+new Date(_0x2b94f7[_0x2633d1(0x3d1)])[_0x2633d1(0x61d)]('th-TH')+_0x2633d1(0x470)+_0x2b94f7['id']+_0x2633d1(0x887)+(_0xf9e12?_0x2633d1(0x755):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2b94f7['id']+'\x22\x20data-name=\x22'+_0x2b94f7[_0x2633d1(0x1ff)]+_0x2633d1(0x8da);});projectList[_0x10a526(0x43a)]=_0x53ec4b,noProjectsMsg[_0x10a526(0x445)]['toggle'](_0x10a526(0x318),_0x53ec4b['length']>0x0);}document[_0x5cd971(0xa59)](_0x5cd971(0x5d2))[_0x5cd971(0x1ce)](_0x5cd971(0x420),async()=>{const _0x1ac712=_0x5cd971,_0x565c08=document[_0x1ac712(0xa59)](_0x1ac712(0x373)),_0x1c5cfd=_0x565c08[_0x1ac712(0x630)][_0x1ac712(0x56b)]();if(!_0x1c5cfd){showMessage(_0x1ac712(0x5be));return;}try{const _0x5936c6=doc(collection(db,_0x1ac712(0xab3)+appId+'/public/data/projects'));await setDoc(_0x5936c6,{'projectName':_0x1c5cfd,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x1ac712(0x936),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x1ac712(0x936),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x1ac712(0x92c)]()}),_0x565c08[_0x1ac712(0x630)]='',createProjectModal[_0x1ac712(0x445)][_0x1ac712(0x874)](_0x1ac712(0x318)),showMessage(_0x1ac712(0x9e1));}catch(_0x484998){console[_0x1ac712(0x5a8)](_0x1ac712(0x5ef),_0x484998),showMessage(_0x1ac712(0x701));}}),projectList['addEventListener'](_0x5cd971(0x420),async _0x3b6bad=>{const _0x533123=_0x5cd971,_0x1e9a0c=_0x3b6bad[_0x533123(0x1f5)][_0x533123(0x74e)]('.project-card-content'),_0x50c3da=_0x3b6bad[_0x533123(0x1f5)][_0x533123(0x74e)]('.delete-project-btn'),_0x42a352=_0x3b6bad['target']['closest']('.pin-project-btn'),_0x2a2818=_0x3b6bad['target'][_0x533123(0x74e)](_0x533123(0x712));if(_0x42a352){const _0x531ac3=_0x42a352['dataset']['id'],_0x18eb35=doc(db,_0x533123(0x7e3),_0x533123(0x3c1)),_0x197eb2=globalDashboardSettings[_0x533123(0x973)];let _0x58bc82;_0x197eb2['includes'](_0x531ac3)?_0x58bc82=_0x197eb2['filter'](_0x539c5b=>_0x539c5b!==_0x531ac3):_0x58bc82=[..._0x197eb2,_0x531ac3];try{await setDoc(_0x18eb35,{'pinnedProjects':_0x58bc82},{'merge':!![]});}catch(_0x147f78){console['error'](_0x533123(0x942),_0x147f78),showMessage(_0x533123(0x690));}}else{if(_0x2a2818){const _0x4b6c4e=_0x2a2818['dataset']['id'];showColorPalette(_0x2a2818,_0x4b6c4e);}else{if(_0x1e9a0c){const _0x5e0a80=_0x1e9a0c[_0x533123(0xafb)]['id'];_0x5e0a80===_0x533123(0x93d)?showStarredProjectView():(currentProjectId=_0x5e0a80,await loadProjectDetails(currentProjectId),showView(_0x533123(0x237)));}else{if(_0x50c3da){const _0x4993f1=_0x50c3da[_0x533123(0xafb)]['id'],_0x2f4f70=_0x50c3da[_0x533123(0xafb)][_0x533123(0xa5e)];showConfirmation(_0x533123(0xaf4)+_0x2f4f70+_0x533123(0x9e0),()=>handleDeleteProject(_0x4993f1));}}}}}),projectList[_0x5cd971(0x1ce)](_0x5cd971(0x30f),_0x1361a3=>{const _0x5a3296=_0x5cd971,_0x30baea=_0x1361a3[_0x5a3296(0x1f5)]['closest']('.project-card-container');_0x30baea&&_0x30baea[_0x5a3296(0x445)][_0x5a3296(0x874)](_0x5a3296(0x8ca));}),projectList[_0x5cd971(0x1ce)]('dragend',_0x3bacf4=>{const _0x245dad=_0x5cd971,_0x4a46d3=_0x3bacf4[_0x245dad(0x1f5)][_0x245dad(0x74e)](_0x245dad(0xae1));_0x4a46d3&&_0x4a46d3[_0x245dad(0x445)][_0x245dad(0x6b7)](_0x245dad(0x8ca));}),projectList[_0x5cd971(0x1ce)]('dragover',_0x424dca=>{const _0xfa3471=_0x5cd971;_0x424dca['preventDefault']();const _0x1bf1ed=document[_0xfa3471(0x5b4)](_0xfa3471(0x88f));if(!_0x1bf1ed)return;const _0x2f4319=getDragAfterElement(projectList,_0x424dca[_0xfa3471(0x66c)]);_0x2f4319==null?projectList[_0xfa3471(0x3c2)](_0x1bf1ed):projectList[_0xfa3471(0x5e5)](_0x1bf1ed,_0x2f4319);}),projectList[_0x5cd971(0x1ce)](_0x5cd971(0x76e),_0x31aa97=>{const _0x137bb4=_0x5cd971;_0x31aa97['preventDefault']();const _0x4e5006=[...projectList[_0x137bb4(0x1f8)]('.project-card-container[data-id]')][_0x137bb4(0x6e4)](_0x5912ea=>_0x5912ea[_0x137bb4(0xafb)]['id']);saveProjectOrder(_0x4e5006);});function renderBehaviorLog(_0x52c02d){const _0x38560d=_0x5cd971,_0x409764=document['getElementById'](_0x38560d(0x80e));if(!_0x409764)return;const _0x321feb=_0x52c02d[_0x38560d(0x75f)](_0x4762e0=>_0x4762e0['behaviorLog']&&_0x4762e0[_0x38560d(0x52f)][_0x38560d(0x963)]>0x0);if(_0x321feb[_0x38560d(0x963)]===0x0){_0x409764[_0x38560d(0x43a)]=_0x38560d(0x3ac);return;}let _0x4e0314='';_0x321feb[_0x38560d(0x5d5)](_0x508bfd=>{const _0x327608=_0x38560d;_0x4e0314+=_0x327608(0x3a1)+_0x508bfd[_0x327608(0x222)]+_0x327608(0x464),_0x508bfd[_0x327608(0x52f)][_0x327608(0x695)]((_0x401eb6,_0x31c2a0)=>new Date(_0x31c2a0[_0x327608(0x42c)])-new Date(_0x401eb6[_0x327608(0x42c)]))[_0x327608(0x5d5)](_0x459895=>{const _0x5865ef=_0x327608,_0x143482=new Date(_0x459895['timestamp'])[_0x5865ef(0x61d)](_0x5865ef(0x20e),{'dateStyle':'short','timeStyle':'medium'});_0x4e0314+=_0x5865ef(0x89d)+_0x459895['attemptNumber']+_0x5865ef(0x6bb)+_0x143482+_0x5865ef(0x259);}),_0x4e0314+=_0x327608(0x614);}),_0x409764['innerHTML']=_0x4e0314;}function getDragAfterElement(_0x5336fe,_0x2cb231){const _0x5abf39=_0x5cd971,_0x89611a=[..._0x5336fe[_0x5abf39(0x1f8)](_0x5abf39(0x4b6))];return _0x89611a[_0x5abf39(0x8db)]((_0x478439,_0x1f9ac7)=>{const _0x3eace5=_0x5abf39,_0xf4c3f4=_0x1f9ac7[_0x3eace5(0x96f)](),_0x478249=_0x2cb231-_0xf4c3f4[_0x3eace5(0x422)]-_0xf4c3f4[_0x3eace5(0x898)]/0x2;return _0x478249<0x0&&_0x478249>_0x478439[_0x3eace5(0x5fd)]?{'offset':_0x478249,'element':_0x1f9ac7}:_0x478439;},{'offset':Number[_0x5abf39(0x5d8)]})[_0x5abf39(0x404)];}async function saveProjectOrder(_0x5db33a){const _0x3c7ed8=_0x5cd971,_0x2e55c4=doc(db,_0x3c7ed8(0x7e3),'dashboardConfig');try{await setDoc(_0x2e55c4,{'projectOrder':_0x5db33a},{'merge':!![]});}catch(_0x22b1d8){console['error'](_0x3c7ed8(0x186),_0x22b1d8),showMessage(_0x3c7ed8(0xa6a));}}async function logBehaviorEvent(_0x1912df,_0x226179={}){const _0x35a90d=_0x5cd971;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x35a90d(0x9c5)](_0x35a90d(0x73b));return;}const _0x3bc675=doc(db,_0x35a90d(0xab3)+appId+_0x35a90d(0xa37)+currentQuizData['id']+_0x35a90d(0x2d3),currentStudentName),_0xab65c={'event':_0x1912df,'timestamp':new Date()['toISOString'](),..._0x226179};try{await updateDoc(_0x3bc675,{'behaviorLog':arrayUnion(_0xab65c)}),console['log'](_0x35a90d(0x5f4)+currentStudentName+'\x20สำเร็จ');}catch(_0x312721){_0x312721[_0x35a90d(0x7e6)]===_0x35a90d(0x9c6)?console[_0x35a90d(0x9c5)](_0x35a90d(0x507)+currentStudentName+_0x35a90d(0xaee)):console[_0x35a90d(0x5a8)](_0x35a90d(0x20f),_0x312721);}}function calculateMeanAndStdDev(_0x3cf122){const _0xd3e1e2=_0x5cd971;if(_0x3cf122['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x419d53=_0x3cf122[_0xd3e1e2(0x8db)]((_0x4d9987,_0x4e8394)=>_0x4d9987+_0x4e8394,0x0)/_0x3cf122['length'];if(_0x3cf122[_0xd3e1e2(0x963)]===0x1)return{'mean':_0x419d53,'stdDev':0x0};const _0x23ed3b=Math[_0xd3e1e2(0x66f)](_0x3cf122['map'](_0xcb07d3=>Math['pow'](_0xcb07d3-_0x419d53,0x2))[_0xd3e1e2(0x8db)]((_0x790eba,_0x7d11e9)=>_0x790eba+_0x7d11e9,0x0)/(_0x3cf122[_0xd3e1e2(0x963)]-0x1));return{'mean':_0x419d53,'stdDev':_0x23ed3b};}function calculateZScore(_0x2b4749,_0x4b181e,_0x229393){if(_0x229393===0x0)return 0x0;return(_0x2b4749-_0x4b181e)/_0x229393;}function calculateTScore(_0xd45519){return 0xa*_0xd45519+0x32;}function showStarredProjectView(){const _0x21b908=_0x5cd971;currentProjectId=_0x21b908(0x2a5),currentProjectData=null,projectTitle[_0x21b908(0x2e0)]=_0x21b908(0x205),projectIdDisplay[_0x21b908(0x2e0)]=_0x21b908(0x8a3),showView(_0x21b908(0x237)),manageTab[_0x21b908(0x445)]['add'](_0x21b908(0x318)),leaderboardTab[_0x21b908(0x445)]['add'](_0x21b908(0x318)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x3e6332){const _0x1613ad=_0x5cd971,_0x2f928f=doc(db,_0x1613ad(0xab3)+appId+'/public/data/projects',_0x3e6332),_0x20cfb5=await getDoc(_0x2f928f);if(_0x20cfb5[_0x1613ad(0x540)]()){manageTab[_0x1613ad(0x445)][_0x1613ad(0x6b7)](_0x1613ad(0x318)),leaderboardTab[_0x1613ad(0x445)][_0x1613ad(0x6b7)](_0x1613ad(0x318)),currentProjectData=_0x20cfb5[_0x1613ad(0x730)](),projectTitle['textContent']=currentProjectData[_0x1613ad(0x1ff)],projectIdDisplay['textContent']=_0x3e6332;const _0x2a4fe2=currentProjectData[_0x1613ad(0x1d2)]||{};document[_0x1613ad(0xa59)](_0x1613ad(0x271))[_0x1613ad(0x630)]=_0x2a4fe2[_0x1613ad(0x63f)]||_0x1613ad(0x936);const _0xd09563=document[_0x1613ad(0xa59)]('show-in-student-dashboard-checkbox');_0xd09563[_0x1613ad(0x31a)]=_0x2a4fe2['showInStudentDashboard']!==![];const _0x305a43=document['getElementById'](_0x1613ad(0x832)),_0x1a2a82=document[_0x1613ad(0xa59)]('passcode-input-container'),_0x10914c=document[_0x1613ad(0xa59)]('project-passcode-input'),_0x49f073=_0x2a4fe2['isPasscodeEnabled']||![];_0x305a43[_0x1613ad(0x31a)]=_0x49f073,_0x10914c['value']=_0x2a4fe2[_0x1613ad(0x36c)]||'',_0x1a2a82[_0x1613ad(0x445)]['toggle']('hidden',!_0x49f073),_0x305a43[_0x1613ad(0x198)]=()=>{const _0x52711c=_0x1613ad;_0x1a2a82[_0x52711c(0x445)][_0x52711c(0x367)](_0x52711c(0x318),!_0x305a43['checked']);},document[_0x1613ad(0xa59)](_0x1613ad(0x3d4))['checked']=_0x2a4fe2[_0x1613ad(0x1a1)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x3e6332),listenForProjectQuizzes(_0x3e6332),listenForStudentProfiles(_0x3e6332);}else showMessage(_0x1613ad(0x7e0)),showView(_0x1613ad(0x2f7));}async function handleResetProjectOrder(){const _0x9bd541=_0x5cd971,_0x388b52=doc(db,_0x9bd541(0x7e3),_0x9bd541(0x3c1));try{await setDoc(_0x388b52,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0xa6871d){console[_0x9bd541(0x5a8)](_0x9bd541(0x867),_0xa6871d),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x365c9b){const _0x23fbe2=_0x5cd971;if(!_0x365c9b)return;const _0x43d61e=doc(db,_0x23fbe2(0xab3)+appId+'/public/data/projects',_0x365c9b);try{const _0x311606=await getDoc(_0x43d61e);if(_0x311606['exists']()){const _0x1a8201=_0x311606[_0x23fbe2(0x730)]()[_0x23fbe2(0x91a)]||![];await updateDoc(_0x43d61e,{'isPinned':!_0x1a8201});}}catch(_0x269768){console['error'](_0x23fbe2(0x8c7),_0x269768),showMessage(_0x23fbe2(0x690));}}async function handleDeleteProject(_0x56b6e2){const _0x135e1a=_0x5cd971;try{const _0x1b49fa=writeBatch(db),_0x48ad1e=collection(db,_0x135e1a(0xab3)+appId+_0x135e1a(0xaf2)),_0x808f84=query(_0x48ad1e,where(_0x135e1a(0x868),'==',_0x56b6e2)),_0x57f094=await getDocs(_0x808f84);for(const _0x417dab of _0x57f094[_0x135e1a(0x354)]){const _0x4fa777=collection(db,_0x135e1a(0xab3)+appId+_0x135e1a(0xa37)+_0x417dab['id']+'/submissions'),_0x47db88=await getDocs(_0x4fa777);_0x47db88['forEach'](_0x335090=>{const _0x58ef73=_0x135e1a;_0x1b49fa['delete'](_0x335090[_0x58ef73(0x687)]);}),_0x1b49fa[_0x135e1a(0x643)](_0x417dab[_0x135e1a(0x687)]);}const _0x450d5a=collection(db,_0x135e1a(0xab3)+appId+_0x135e1a(0x2ba)+_0x56b6e2+_0x135e1a(0x78a)),_0x73f7f5=await getDocs(_0x450d5a);_0x73f7f5[_0x135e1a(0x5d5)](_0x36676e=>{const _0x1594c3=_0x135e1a;_0x1b49fa[_0x1594c3(0x643)](_0x36676e['ref']);});const _0x36a8a5=doc(db,_0x135e1a(0xab3)+appId+_0x135e1a(0x6d8),_0x56b6e2);_0x1b49fa[_0x135e1a(0x643)](_0x36a8a5),await _0x1b49fa[_0x135e1a(0xaa2)](),showMessage(_0x135e1a(0x1a2)),showView('admin-dashboard');}catch(_0x2cce6d){console[_0x135e1a(0x5a8)](_0x135e1a(0x3f0),_0x2cce6d),showMessage(_0x135e1a(0x86e));}}document[_0x5cd971(0xa59)](_0x5cd971(0x53c))[_0x5cd971(0x1ce)](_0x5cd971(0x420),async()=>{const _0x1ef6cd=_0x5cd971;if(!currentProjectId)return;const _0x4e2280={'defaultNumQuestions':parseInt(document[_0x1ef6cd(0xa59)]('num-questions')['value']),'defaultNumChoices':parseInt(document['getElementById'](_0x1ef6cd(0x1e0))[_0x1ef6cd(0x630)]),'defaultPassingScore':parseInt(document[_0x1ef6cd(0xa59)](_0x1ef6cd(0x64f))[_0x1ef6cd(0x630)]),'resultsDisplay':document[_0x1ef6cd(0xa59)](_0x1ef6cd(0x71e))[_0x1ef6cd(0x630)],'shuffleSetting':document[_0x1ef6cd(0xa59)](_0x1ef6cd(0x271))['value'],'timerMode':document[_0x1ef6cd(0xa59)]('timer-mode-select')[_0x1ef6cd(0x630)],'timerDuration':parseInt(document['getElementById'](_0x1ef6cd(0x87a))[_0x1ef6cd(0x630)]),'isConfidenceScoringEnabled':document['getElementById'](_0x1ef6cd(0x3d4))[_0x1ef6cd(0x31a)],'confidenceMode':document[_0x1ef6cd(0xa59)]('confidence-mode-select')[_0x1ef6cd(0x630)]};try{const _0x4759e8=doc(db,_0x1ef6cd(0xab3)+appId+_0x1ef6cd(0x6d8),currentProjectId);await updateDoc(_0x4759e8,{'settings':_0x4e2280}),showMessage(_0x1ef6cd(0x7b5));}catch(_0x4302d7){console[_0x1ef6cd(0x5a8)](_0x1ef6cd(0x5f6),_0x4302d7),showMessage(_0x1ef6cd(0x77a));}});function listenForStudents(_0x1c2cf7){const _0x4a6cb9=_0x5cd971,_0x1c29cf=doc(db,_0x4a6cb9(0xab3)+appId+'/public/data/projects',_0x1c2cf7);unsubscribeStudentsListener=onSnapshot(_0x1c29cf,_0x4817af=>{const _0x7d6db0=_0x4a6cb9;if(_0x4817af[_0x7d6db0(0x540)]()){const _0x1694d2=_0x4817af[_0x7d6db0(0x730)]();currentProjectData=_0x1694d2,renderStudentList(_0x1694d2['students']||[]);}});}function renderStudentList(_0x11f66c){const _0x3389b1=_0x5cd971,_0x274203=document[_0x3389b1(0xa59)](_0x3389b1(0x876));_0x11f66c[_0x3389b1(0x963)]===0x0?(studentList[_0x3389b1(0x43a)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x274203[_0x3389b1(0x445)][_0x3389b1(0x874)](_0x3389b1(0x318))):(studentList['innerHTML']=_0x11f66c[_0x3389b1(0x6e4)](_0x468419=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x468419+_0x3389b1(0x965)+_0x468419+_0x3389b1(0x60d))['join'](''),_0x274203[_0x3389b1(0x445)][_0x3389b1(0x6b7)](_0x3389b1(0x318)));}document[_0x5cd971(0xa59)](_0x5cd971(0x6f3))[_0x5cd971(0x1ce)]('click',async()=>{const _0x52f9e6=_0x5cd971;if(!currentProjectId)return;const _0x196112=document['getElementById'](_0x52f9e6(0x9ac)),_0x5d881c=_0x196112[_0x52f9e6(0x630)]['trim']();if(!_0x5d881c){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x5a9bbe=_0x5d881c[_0x52f9e6(0x819)]('\x0a')[_0x52f9e6(0x6e4)](_0x10d171=>_0x10d171['trim']())['filter'](_0x247baf=>_0x247baf);if(_0x5a9bbe[_0x52f9e6(0x963)]===0x0)return;try{const _0x4e28b5=doc(db,'artifacts/'+appId+_0x52f9e6(0x6d8),currentProjectId),_0x6ca638=await getDoc(_0x4e28b5);if(_0x6ca638[_0x52f9e6(0x540)]()){const _0x24b2b3=_0x6ca638['data']()['students']||[],_0x4e9393=[...new Set([..._0x24b2b3,..._0x5a9bbe])];await updateDoc(_0x4e28b5,{'students':_0x4e9393}),_0x196112[_0x52f9e6(0x630)]='';}}catch(_0x110844){console['error'](_0x52f9e6(0x633),_0x110844),showMessage(_0x52f9e6(0x840));}});async function handleManualQuizPairing(_0x2fe4f7){const _0x5d0c3d=_0x5cd971,_0x562d28=document['getElementById'](_0x5d0c3d(0xa1b)),_0x5c308b=document[_0x5d0c3d(0xa59)](_0x5d0c3d(0x533)),_0x2c0d97=_0x562d28[_0x5d0c3d(0x5b4)]('h3'),_0x79cdad=document['getElementById'](_0x5d0c3d(0x96d)),_0x514148=document[_0x5d0c3d(0xa59)](_0x5d0c3d(0x466));_0x2c0d97[_0x5d0c3d(0x2e0)]='จับคู่เพื่อเปรียบเทียบผล',_0x5c308b['innerHTML']='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x79cdad[_0x5d0c3d(0x2e0)]=_0x5d0c3d(0x9a9),_0x562d28[_0x5d0c3d(0x445)][_0x5d0c3d(0x6b7)]('hidden');const _0x4d4c07=allQuizzes[_0x5d0c3d(0x75f)](_0x3d7bdb=>_0x3d7bdb['id']!==_0x2fe4f7);_0x4d4c07[_0x5d0c3d(0x963)]===0x0?(_0x5c308b['innerHTML']=_0x5d0c3d(0x9ca),_0x79cdad[_0x5d0c3d(0x3cd)]=!![]):(_0x5c308b['innerHTML']=_0x5d0c3d(0x1e2)+_0x4d4c07[_0x5d0c3d(0x6e4)](_0x2cfcba=>'<option\x20value=\x22'+_0x2cfcba['id']+'\x22>'+_0x2cfcba[_0x5d0c3d(0xaad)]+'</option>')[_0x5d0c3d(0x386)](''),_0x79cdad[_0x5d0c3d(0x3cd)]=![]);const _0x2ed1eb=async()=>{const _0x93bd2e=_0x5d0c3d,_0x40e598=_0x5c308b[_0x93bd2e(0x630)];if(!_0x40e598){showMessage(_0x93bd2e(0x24a));return;}_0x79cdad[_0x93bd2e(0x3cd)]=!![],_0x79cdad[_0x93bd2e(0x2e0)]=_0x93bd2e(0x36d);try{const _0x2b9117=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2fe4f7),_0x52b0ed=doc(db,_0x93bd2e(0xab3)+appId+_0x93bd2e(0xaf2),_0x40e598),_0x1448c7=writeBatch(db);_0x1448c7['update'](_0x2b9117,{'pairedQuizId':_0x40e598}),_0x1448c7['update'](_0x52b0ed,{'pairedQuizId':_0x2fe4f7}),await _0x1448c7[_0x93bd2e(0xaa2)](),showMessage(_0x93bd2e(0x3a0)),_0x562d28[_0x93bd2e(0x445)][_0x93bd2e(0x874)](_0x93bd2e(0x318));}catch(_0x503f8c){console[_0x93bd2e(0x5a8)](_0x93bd2e(0x947),_0x503f8c),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x2c0d97[_0x93bd2e(0x2e0)]=_0x93bd2e(0x7f3),_0x79cdad[_0x93bd2e(0x2e0)]=_0x93bd2e(0x5a7),_0x79cdad[_0x93bd2e(0x3cd)]=![],_0x79cdad['removeEventListener'](_0x93bd2e(0x420),_0x2ed1eb),_0x514148[_0x93bd2e(0x3b4)](_0x93bd2e(0x420),_0x58e756);}},_0x58e756=()=>{const _0x199ccb=_0x5d0c3d;_0x562d28[_0x199ccb(0x445)][_0x199ccb(0x874)](_0x199ccb(0x318)),_0x2c0d97[_0x199ccb(0x2e0)]=_0x199ccb(0x7f3),_0x79cdad[_0x199ccb(0x2e0)]='ย้าย',_0x79cdad[_0x199ccb(0x3b4)](_0x199ccb(0x420),_0x2ed1eb),_0x514148['removeEventListener'](_0x199ccb(0x420),_0x58e756);};_0x79cdad['addEventListener'](_0x5d0c3d(0x420),_0x2ed1eb),_0x514148[_0x5d0c3d(0x1ce)](_0x5d0c3d(0x420),_0x58e756);}function handleDeleteStudent(_0xeb6708){const _0x125c7c=_0x5cd971;showConfirmation(_0x125c7c(0x72d)+_0xeb6708+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x4b5291=_0x125c7c;if(!currentProjectId||!currentProjectData)return;const _0x1b10b5=currentProjectData[_0x4b5291(0x6e3)][_0x4b5291(0x75f)](_0x1ec937=>_0x1ec937!==_0xeb6708);try{const _0x25391e=doc(db,_0x4b5291(0xab3)+appId+'/public/data/projects',currentProjectId),_0x291753=doc(db,_0x4b5291(0xab3)+appId+_0x4b5291(0x2ba)+currentProjectId+'/studentProfiles',_0xeb6708),_0x5d3b2e=writeBatch(db);_0x5d3b2e['update'](_0x25391e,{'students':_0x1b10b5}),_0x5d3b2e['delete'](_0x291753),await _0x5d3b2e[_0x4b5291(0xaa2)]();}catch(_0x5c0f0b){console[_0x4b5291(0x5a8)](_0x4b5291(0x94f),_0x5c0f0b),showMessage(_0x4b5291(0x1a8));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x46b6e9=_0x1129;if(!currentProjectId)return;try{const _0x536e68=doc(db,_0x46b6e9(0xab3)+appId+_0x46b6e9(0x6d8),currentProjectId),_0x49631c=collection(db,_0x46b6e9(0xab3)+appId+_0x46b6e9(0x2ba)+currentProjectId+_0x46b6e9(0x78a)),_0x17aa1a=await getDocs(_0x49631c),_0x5b7e00=writeBatch(db);_0x5b7e00['update'](_0x536e68,{'students':[]}),_0x17aa1a[_0x46b6e9(0x5d5)](_0x392aa9=>_0x5b7e00[_0x46b6e9(0x643)](_0x392aa9[_0x46b6e9(0x687)])),await _0x5b7e00['commit']();}catch(_0x21b062){console[_0x46b6e9(0x5a8)](_0x46b6e9(0x1a5),_0x21b062),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}async function handleGenerateFromFileClick(){const _0x139b4f=_0x5cd971;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x529447=document[_0x139b4f(0xa59)]('loader'),_0x492bbf=document[_0x139b4f(0xa59)](_0x139b4f(0x8ed)),_0x5716b1=document[_0x139b4f(0xa59)](_0x139b4f(0x619)),_0x4ad6df=document[_0x139b4f(0xa59)]('generate-from-file-btn');_0x4ad6df[_0x139b4f(0x3cd)]=!![],document[_0x139b4f(0xa59)](_0x139b4f(0x7ae))[_0x139b4f(0x445)][_0x139b4f(0x6b7)](_0x139b4f(0x318)),_0x5716b1[_0x139b4f(0x43a)]='',_0x529447[_0x139b4f(0x445)][_0x139b4f(0x6b7)](_0x139b4f(0x318)),_0x492bbf['textContent']=_0x139b4f(0x8b0);const _0x43776c=new FileReader();_0x43776c[_0x139b4f(0x6f0)](selectedFile),_0x43776c['onload']=async()=>{const _0x3f588d=_0x139b4f;try{const _0x4ad049=_0x43776c[_0x3f588d(0x412)][_0x3f588d(0x819)](',')[0x1],_0x12e087=selectedFile[_0x3f588d(0x6a3)];await generateQuizFromFile(_0x12e087,_0x4ad049);}catch(_0x31808){console[_0x3f588d(0x5a8)](_0x3f588d(0x515),_0x31808),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x31808[_0x3f588d(0x1f3)]),_0x529447[_0x3f588d(0x445)][_0x3f588d(0x874)](_0x3f588d(0x318));}finally{}},_0x43776c[_0x139b4f(0x928)]=_0x2ca869=>{const _0x4f4213=_0x139b4f;console[_0x4f4213(0x5a8)]('FileReader\x20error:',_0x2ca869),showMessage(_0x4f4213(0x5ed)),_0x529447[_0x4f4213(0x445)][_0x4f4213(0x874)](_0x4f4213(0x318)),_0x4ad6df[_0x4f4213(0x3cd)]=![];};}function autoFormatMath(_0x4a81fb){const _0x490898=_0x5cd971;if(typeof _0x4a81fb!==_0x490898(0x436)||!_0x4a81fb)return _0x4a81fb;const _0x512ba7=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x5e5498=_0x4a81fb[_0x490898(0x263)](_0x512ba7,_0x3cc443=>{const _0x2e3039=_0x490898;return'$'+_0x3cc443[_0x2e3039(0x56b)]()+'$';});return _0x5e5498;}function sanitizeQuizData(_0x320e96){const _0x940e68=_0x5cd971;if(!_0x320e96||!_0x320e96[_0x940e68(0x1e6)])return _0x320e96;const _0x5f5b91={'imes':_0x940e68(0x6eb),'div':_0x940e68(0x178)},_0x140ee5=_0x38d679=>{const _0x57cc1f=_0x940e68;if(typeof _0x38d679!==_0x57cc1f(0x436))return _0x38d679;let _0x17dfc3=_0x38d679;for(const [_0x10176f,_0x20b002]of Object[_0x57cc1f(0x811)](_0x5f5b91)){const _0x1c0726=new RegExp('\x5cb'+_0x10176f+'\x5cb','g');_0x17dfc3=_0x17dfc3[_0x57cc1f(0x263)](_0x1c0726,_0x20b002);}return _0x17dfc3=_0x17dfc3[_0x57cc1f(0x263)](/\\\//g,'\x5cdiv'),_0x17dfc3=_0x17dfc3['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x57cc1f(0x178))[_0x57cc1f(0x263)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x57cc1f(0x6eb))[_0x57cc1f(0x263)](/÷/g,_0x57cc1f(0x178))['replace'](/×/g,_0x57cc1f(0x6eb)),_0x17dfc3=_0x17dfc3[_0x57cc1f(0x263)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x17dfc3=autoFormatMath(_0x17dfc3),_0x17dfc3;};return _0x320e96[_0x940e68(0xaad)]&&(_0x320e96[_0x940e68(0xaad)]=_0x140ee5(_0x320e96[_0x940e68(0xaad)])),_0x320e96[_0x940e68(0x1e6)][_0x940e68(0x5d5)](_0x4d6dd8=>{const _0x227d66=_0x940e68;_0x4d6dd8[_0x227d66(0x2a7)]=_0x140ee5(_0x4d6dd8[_0x227d66(0x2a7)]),_0x4d6dd8['options']&&(_0x4d6dd8['options']=_0x4d6dd8['options'][_0x227d66(0x6e4)](_0x140ee5)),_0x4d6dd8[_0x227d66(0x9fc)]&&(_0x4d6dd8['explanation']=_0x140ee5(_0x4d6dd8[_0x227d66(0x9fc)])),_0x4d6dd8[_0x227d66(0x5ce)]&&(_0x4d6dd8[_0x227d66(0x5ce)]=_0x140ee5(_0x4d6dd8[_0x227d66(0x5ce)])),_0x4d6dd8[_0x227d66(0x4ae)]&&(_0x4d6dd8[_0x227d66(0x4ae)]=_0x140ee5(_0x4d6dd8[_0x227d66(0x4ae)])),_0x4d6dd8[_0x227d66(0x70c)]&&(_0x4d6dd8['allResponses']=_0x4d6dd8[_0x227d66(0x70c)]['map'](_0x140ee5));}),_0x320e96;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x2fc890=_0x5cd971,_0x7610d9=document[_0x2fc890(0xa59)](_0x2fc890(0x788)),_0xfa983e=document[_0x2fc890(0xa59)]('link-topic-input'),_0x3c526c=_0x7610d9[_0x2fc890(0x630)][_0x2fc890(0x56b)](),_0x2502af=_0xfa983e[_0x2fc890(0x630)][_0x2fc890(0x56b)]();if(!_0x3c526c){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x532aa7=document[_0x2fc890(0xa59)](_0x2fc890(0x5c6)),_0x5ccece=document[_0x2fc890(0xa59)](_0x2fc890(0x8ed)),_0x1312a0=document[_0x2fc890(0xa59)]('generated-quiz-container'),_0x4f32a9=document['getElementById']('generate-from-link-btn');document[_0x2fc890(0xa59)](_0x2fc890(0x7ae))[_0x2fc890(0x445)][_0x2fc890(0x6b7)]('hidden'),_0x1312a0[_0x2fc890(0x43a)]='',_0x532aa7[_0x2fc890(0x445)]['remove'](_0x2fc890(0x318)),_0x5ccece[_0x2fc890(0x2e0)]=_0x2fc890(0x387),_0x4f32a9[_0x2fc890(0x3cd)]=!![];try{const _0x271529='https://corsproxy.io/?'+encodeURIComponent(_0x3c526c),_0x573cc4=await fetch(_0x271529);if(!_0x573cc4['ok'])throw new Error(_0x2fc890(0x2c9)+_0x573cc4[_0x2fc890(0x6c8)]+')');const _0x154c77=await _0x573cc4['text'](),_0x5bc450=extractTextFromHtml(_0x154c77);if(!_0x5bc450||_0x5bc450[_0x2fc890(0x963)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x2502af,_0x5bc450);}catch(_0x487f5b){console[_0x2fc890(0x5a8)](_0x2fc890(0x5e0),_0x487f5b),showMessage(_0x2fc890(0x9db)+_0x487f5b[_0x2fc890(0x1f3)]),_0x1312a0[_0x2fc890(0x43a)]=_0x2fc890(0x617);}finally{_0x532aa7[_0x2fc890(0x445)]['add']('hidden'),_0x4f32a9[_0x2fc890(0x3cd)]=![];}}function extractTextFromHtml(_0x521fdd){const _0x36eb17=_0x5cd971,_0x2a6da5=new DOMParser()['parseFromString'](_0x521fdd,_0x36eb17(0xae6));return _0x2a6da5['querySelectorAll'](_0x36eb17(0x4a1))[_0x36eb17(0x5d5)](_0x21a73d=>_0x21a73d[_0x36eb17(0x6b7)]()),_0x2a6da5['body'][_0x36eb17(0x2e0)]||'';}document['getElementById'](_0x5cd971(0x266))[_0x5cd971(0x1ce)](_0x5cd971(0x420),()=>{const _0x4efbe2=_0x5cd971,_0x8137c2=document[_0x4efbe2(0xa59)](_0x4efbe2(0x9f6))['value'][_0x4efbe2(0x56b)]();generateQuiz(_0x8137c2,null);}),document[_0x5cd971(0xa59)](_0x5cd971(0xafe))[_0x5cd971(0x1ce)](_0x5cd971(0x420),()=>{const _0x2f357e=_0x5cd971,_0x46431b=document[_0x2f357e(0xa59)]('text-content-input')[_0x2f357e(0x630)]['trim']();if(!_0x46431b){showMessage(_0x2f357e(0xad9));return;}const _0x33610b=document[_0x2f357e(0xa59)](_0x2f357e(0x9f6))['value'][_0x2f357e(0x56b)]();generateQuiz(_0x33610b,_0x46431b);});async function generateQuiz(_0x3ce59c,_0x57e974,_0x22727e=null){const _0x13c148=_0x5cd971,_0x3712d4=document[_0x13c148(0xa59)](_0x13c148(0x1dc))['checked'],_0x328762=document[_0x13c148(0xa59)](_0x13c148(0x8b9))[_0x13c148(0x630)],_0x438253=document[_0x13c148(0xa59)](_0x13c148(0x455))['value'],_0x5198ec=document[_0x13c148(0xa59)](_0x13c148(0x1e0))[_0x13c148(0x630)],_0x200443=document['getElementById']('force-math-checkbox')['checked'],_0x231706=_0x200443?'':'คณิตศาสตร์',_0x5dd3e7=document['getElementById'](_0x13c148(0x59d)),_0x19d017=_0x5dd3e7[_0x13c148(0x630)];let _0x2b5369='';_0x19d017!==_0x13c148(0xa7b)&&(_0x2b5369=_0x13c148(0xa49)+_0x19d017+'\x22');const _0x53158c=document['getElementById'](_0x13c148(0x8a6)),_0x2d0088=_0x53158c[_0x13c148(0x630)];let _0x39c9c2='';_0x2d0088!==_0x13c148(0x7a8)&&(_0x39c9c2=_0x13c148(0x3eb)+_0x2d0088+_0x13c148(0x806));const _0x559842=document['querySelectorAll'](_0x13c148(0x962)),_0x278d70=Array[_0x13c148(0x96a)](_0x559842)[_0x13c148(0x6e4)](_0x3ba117=>_0x3ba117[_0x13c148(0x630)]);let _0x4fae21='';_0x278d70[_0x13c148(0x963)]>0x0&&(_0x4fae21=_0x13c148(0x277)+_0x278d70['join'](',\x20')+_0x13c148(0x99a));let _0x2e0385='',_0x22a97c='',_0x1da9c4,_0x181678=_0x13c148(0x350)+_0x3ce59c+'\x22';if(!_0x3ce59c&&_0x57e974)_0x181678=_0x13c148(0x60a);else!_0x3ce59c&&!_0x57e974&&(_0x181678=_0x13c148(0x1ca));const _0x1fed6f={'type':_0x13c148(0x3b9),'properties':{'questionText':{'type':_0x13c148(0x81e)},'options':{'type':_0x13c148(0x3af),'items':{'type':_0x13c148(0x81e)}},'correctAnswerIndex':{'type':_0x13c148(0x95d)},'explanation':{'type':_0x13c148(0x81e)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x13c148(0x369),'correctAnswerIndex',_0x13c148(0x9fc)]},_0x107189={'type':_0x13c148(0x3b9),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x13c148(0x81e)},'imageCode':{'type':_0x13c148(0x81e)}},'required':[_0x13c148(0x2a7),_0x13c148(0x5e7),'explanation']},_0xeda9d0={'type':_0x13c148(0x3b9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x13c148(0xa76),_0x13c148(0x536)]},'options':{'type':_0x13c148(0x3af),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x13c148(0x81e)},'explanation':{'type':_0x13c148(0x81e)},'imageCode':{'type':_0x13c148(0x81e)}},'required':[_0x13c148(0x2a7),_0x13c148(0x969),_0x13c148(0x9fc)]},_0x5cb091={'type':_0x13c148(0x3b9),'properties':{'questionText':{'type':_0x13c148(0x81e)},'correctAnswer':{'type':_0x13c148(0x5c2)},'explanation':{'type':_0x13c148(0x81e)},'imageCode':{'type':_0x13c148(0x81e)}},'required':['questionText',_0x13c148(0x276),'explanation']},_0x5bb611={'type':'OBJECT','properties':{'questionType':{'type':_0x13c148(0x81e),'enum':[_0x13c148(0x845)]},'stem':{'type':_0x13c148(0x81e)},'correctResponse':{'type':_0x13c148(0x81e)},'allResponses':{'type':'ARRAY','items':{'type':_0x13c148(0x81e)}},'explanation':{'type':_0x13c148(0x81e)},'imageCode':{'type':_0x13c148(0x81e)}},'required':['questionType',_0x13c148(0x5ce),'correctResponse','allResponses',_0x13c148(0x9fc)]};let _0x4e881c;if(_0x22727e!==null){const _0x48c0d9=currentQuizData[_0x13c148(0x1e6)][_0x22727e][_0x13c148(0x969)],_0x5aa99b=_0x3712d4?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x2e0385=_0x13c148(0x38c)+_0x181678+'\x20'+_0x4fae21+'\x20'+_0x2b5369+_0x13c148(0x505)+_0x5aa99b+'\x20'+simpleMathPrompt;if(_0x48c0d9==='multiple_choice')_0x1da9c4=_0x1fed6f;else{if(_0x48c0d9===_0x13c148(0x845))_0x1da9c4={'type':_0x13c148(0x3b9),'properties':{'questionType':{'type':_0x13c148(0x81e),'enum':[_0x13c148(0x845)]},'stem':{'type':_0x13c148(0x81e)},'correctResponse':{'type':_0x13c148(0x81e)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x13c148(0x81e)}},'required':[_0x13c148(0x969),_0x13c148(0x5ce),_0x13c148(0x4ae),_0x13c148(0x9fc)]};else _0x1da9c4=_0x107189;}_0x4e881c=_0x1da9c4;}else{const _0x32901c=_0x3712d4?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'',_0x44245c=_0x13c148(0x6a8);switch(_0x328762){case _0x13c148(0xa76):_0x2e0385=_0x13c148(0x3de)+_0x231706+'\x20'+_0x438253+_0x13c148(0x938)+_0x181678+'\x20'+_0x4fae21+'\x20'+_0x2b5369+'\x20'+_0x39c9c2+_0x13c148(0x65b)+_0x5198ec+_0x13c148(0x924)+_0x32901c+'\x20'+simpleMathPrompt,_0x1da9c4=_0x1fed6f;break;case _0x13c148(0x370):_0x2e0385='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x231706+'\x20'+_0x438253+_0x13c148(0x938)+_0x181678+'\x20'+_0x4fae21+'\x20'+_0x2b5369+'\x20'+_0x39c9c2+_0x13c148(0x462)+_0x5198ec+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x32901c+'\x20'+simpleMathPrompt,_0x1da9c4=_0x1fed6f;break;case _0x13c148(0x732):_0x2e0385=_0x13c148(0x779)+_0x231706+'\x20'+_0x438253+_0x13c148(0x938)+_0x181678+'\x20'+_0x4fae21+'\x20'+_0x2b5369+'\x20'+_0x39c9c2+_0x13c148(0x432)+_0x32901c+'\x20'+simpleMathPrompt,_0x1da9c4=_0x107189;break;case _0x13c148(0x7a8):_0x2e0385=_0x13c148(0xa1c)+_0x231706+'\x20'+_0x438253+_0x13c148(0x938)+_0x181678+'\x20'+_0x4fae21+'\x20'+_0x2b5369+'\x20'+_0x39c9c2+_0x13c148(0x775)+_0x5198ec+_0x13c148(0xad7)+_0x32901c+'\x20'+simpleMathPrompt+'.',_0x1da9c4=_0xeda9d0;break;case _0x13c148(0x8fe):_0x2e0385=_0x13c148(0x797)+_0x231706+'\x20'+_0x438253+_0x13c148(0x938)+_0x181678+'\x20'+_0x4fae21+'\x20'+_0x2b5369+'\x20'+_0x39c9c2+_0x13c148(0x8d3)+_0x32901c+'\x20'+simpleMathPrompt,_0x1da9c4=_0x5cb091;break;case _0x13c148(0x647):_0x2e0385=_0x13c148(0x9a8)+_0x231706+'\x20'+_0x438253+_0x13c148(0x1ee)+_0x181678+'\x20'+_0x4fae21+'\x20'+_0x2b5369+'\x20'+_0x39c9c2+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x32901c+'\x20'+simpleMathPrompt,_0x1da9c4=_0x5bb611;break;}_0x4e881c={'type':_0x13c148(0x3b9),'properties':{'topic':{'type':_0x13c148(0x81e)},'questions':{'type':_0x13c148(0x3af),'items':_0x1da9c4}},'required':[_0x13c148(0xaad),_0x13c148(0x1e6)]};}return _0x57e974?(_0x2e0385=_0x13c148(0x344)+_0x57e974+_0x13c148(0x70b)+_0x2e0385,_0x22a97c=_0x13c148(0x3df)):_0x22a97c=_0x13c148(0x7ed),handleApiCall(_0x2e0385,_0x22a97c,_0x4e881c,_0x22727e);}async function generateQuizFromFile(_0x5b7b63,_0x4977b9){const _0x31f8cf=_0x5cd971,_0x43395f=document[_0x31f8cf(0xa59)](_0x31f8cf(0x31f))[_0x31f8cf(0x630)][_0x31f8cf(0x56b)](),_0x2d828e=document[_0x31f8cf(0xa59)](_0x31f8cf(0x8b9))[_0x31f8cf(0x630)],_0x5614a6=document[_0x31f8cf(0xa59)](_0x31f8cf(0x455))['value'],_0x1fc433=document[_0x31f8cf(0xa59)](_0x31f8cf(0x1e0))[_0x31f8cf(0x630)],_0x5bbe7f=document['getElementById'](_0x31f8cf(0x1dc))[_0x31f8cf(0x31a)],_0x11d626=document[_0x31f8cf(0xa59)](_0x31f8cf(0x71b))[_0x31f8cf(0x31a)],_0xfebaa3=_0x11d626?'':'คณิตศาสตร์',_0x3f926a=document['getElementById'](_0x31f8cf(0x411))[_0x31f8cf(0x31a)];let _0x1f18b2='',_0x1b6327;const _0x1d9045=_0x5bbe7f?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x3f926a)_0x1f18b2='\x0a\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0a\x20\x20\x20\x20ภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0a\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x201.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a\x20\x20\x20\x202.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a\x20\x20\x20\x203.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a\x20\x20\x20\x204.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a\x20\x20\x20\x20'+_0x1d9045+_0x31f8cf(0x777)+simpleMathPrompt+'\x0a',_0x1b6327={'type':_0x31f8cf(0x3b9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x31f8cf(0xa76),_0x31f8cf(0x536),'true_false','matching_item']},'options':{'type':_0x31f8cf(0x3af),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x31f8cf(0x95d)},'idealAnswer':{'type':_0x31f8cf(0x81e)},'correctAnswer':{'type':_0x31f8cf(0x5c2)},'stem':{'type':_0x31f8cf(0x81e)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x31f8cf(0x3af),'items':{'type':_0x31f8cf(0x81e)}},'explanation':{'type':_0x31f8cf(0x81e)},'imageCode':{'type':_0x31f8cf(0x81e)}},'required':['questionType','explanation']};else{let _0x590626=_0x31f8cf(0x350)+_0x43395f+'\x22';!_0x43395f&&(_0x590626='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');switch(_0x2d828e){case _0x31f8cf(0xa76):_0x1f18b2=_0x31f8cf(0x3de)+_0xfebaa3+'\x20'+_0x5614a6+_0x31f8cf(0x938)+_0x590626+_0x31f8cf(0x65b)+_0x1fc433+_0x31f8cf(0x924)+_0x1d9045+'\x20'+simpleMathPrompt,_0x1b6327={'type':'OBJECT','properties':{'questionText':{'type':_0x31f8cf(0x81e)},'options':{'type':_0x31f8cf(0x3af),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x31f8cf(0x95d)},'explanation':{'type':_0x31f8cf(0x81e)},'imageCode':{'type':_0x31f8cf(0x81e)}},'required':[_0x31f8cf(0x2a7),_0x31f8cf(0x369),'correctAnswerIndex','explanation']};break;case _0x31f8cf(0x370):_0x1f18b2=_0x31f8cf(0x779)+_0xfebaa3+'\x20'+_0x5614a6+_0x31f8cf(0x938)+_0x590626+_0x31f8cf(0x462)+_0x1fc433+_0x31f8cf(0xa44)+_0x1d9045+'\x20'+simpleMathPrompt,_0x1b6327={'type':_0x31f8cf(0x3b9),'properties':{'questionText':{'type':_0x31f8cf(0x81e)},'options':{'type':_0x31f8cf(0x3af),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x31f8cf(0x95d)},'explanation':{'type':_0x31f8cf(0x81e)},'imageCode':{'type':_0x31f8cf(0x81e)}},'required':['questionText','options',_0x31f8cf(0x501),_0x31f8cf(0x9fc)]};break;case _0x31f8cf(0x732):_0x1f18b2='สร้างคำถามแบบเติมคำในช่องว่าง'+_0xfebaa3+'\x20'+_0x5614a6+_0x31f8cf(0x938)+_0x590626+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x1d9045+'\x20'+simpleMathPrompt,_0x1b6327={'type':_0x31f8cf(0x3b9),'properties':{'questionText':{'type':_0x31f8cf(0x81e)},'idealAnswer':{'type':_0x31f8cf(0x81e)},'explanation':{'type':_0x31f8cf(0x81e)},'imageCode':{'type':_0x31f8cf(0x81e)}},'required':[_0x31f8cf(0x2a7),_0x31f8cf(0x5e7),_0x31f8cf(0x9fc)]};break;case _0x31f8cf(0x7a8):_0x1f18b2=_0x31f8cf(0xa1c)+_0xfebaa3+'\x20'+_0x5614a6+_0x31f8cf(0x938)+_0x590626+_0x31f8cf(0x70a)+_0x1fc433+'\x20ตัวเลือก.\x20'+_0x1d9045+'\x20'+simpleMathPrompt+_0x31f8cf(0x708),_0x1b6327={'type':_0x31f8cf(0x3b9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x31f8cf(0x81e),'enum':['multiple_choice',_0x31f8cf(0x536)]},'options':{'type':_0x31f8cf(0x3af),'items':{'type':_0x31f8cf(0x81e)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x31f8cf(0x81e)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x31f8cf(0x81e)}},'required':['questionText',_0x31f8cf(0x969),_0x31f8cf(0x9fc)]};break;case _0x31f8cf(0x8fe):_0x1f18b2='สร้างคำถามแบบใช่/ไม่ใช่'+_0xfebaa3+'\x20'+_0x5614a6+'\x20ข้อ\x20'+_0x590626+_0x31f8cf(0x81c)+_0x1d9045+'\x20'+simpleMathPrompt,_0x1b6327={'type':_0x31f8cf(0x3b9),'properties':{'questionText':{'type':_0x31f8cf(0x81e)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x31f8cf(0x81e)},'imageCode':{'type':'STRING'}},'required':[_0x31f8cf(0x2a7),_0x31f8cf(0x276),_0x31f8cf(0x9fc)]};break;case _0x31f8cf(0x647):_0x1f18b2=_0x31f8cf(0x9a8)+_0xfebaa3+'\x20'+_0x5614a6+_0x31f8cf(0x1ee)+_0x590626+_0x31f8cf(0x63b)+_0x5614a6+_0x31f8cf(0x37b)+_0x1d9045+'\x20'+simpleMathPrompt,_0x1b6327={'type':_0x31f8cf(0x3b9),'properties':{'questionType':{'type':_0x31f8cf(0x81e),'enum':[_0x31f8cf(0x845)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x31f8cf(0x81e)},'allResponses':{'type':_0x31f8cf(0x3af),'items':{'type':_0x31f8cf(0x81e)}},'explanation':{'type':_0x31f8cf(0x81e)},'imageCode':{'type':_0x31f8cf(0x81e)}},'required':[_0x31f8cf(0x969),_0x31f8cf(0x5ce),_0x31f8cf(0x4ae),_0x31f8cf(0x70c),_0x31f8cf(0x9fc)]};break;}}const _0x851940={'type':_0x31f8cf(0x3b9),'properties':{'topic':{'type':_0x31f8cf(0x81e)},'questions':{'type':_0x31f8cf(0x3af),'items':_0x1b6327}},'required':[_0x31f8cf(0xaad),_0x31f8cf(0x1e6)]},_0x1f304d=_0x31f8cf(0x8f3)+_0x1f18b2,_0x16aa01={'contents':[{'parts':[{'text':_0x1f304d},{'inlineData':{'mimeType':_0x5b7b63,'data':_0x4977b9}}]}],'generationConfig':{'responseMimeType':_0x31f8cf(0x974),'responseSchema':_0x851940}};return handleApiCall(_0x16aa01['contents'][0x0][_0x31f8cf(0x1b8)],_0x31f8cf(0xa8d),_0x851940);}async function handleApiCall(_0x6cdc50,_0x274fa9,_0x3a01f2,_0x14a0a1=null){const _0x277022=_0x5cd971,_0xd93883=document['getElementById']('quiz-generation-area'),_0x67dca3=document[_0x277022(0xa59)](_0x277022(0x5c6)),_0x26631f=document[_0x277022(0xa59)](_0x277022(0x8ed)),_0x534545=document['getElementById']('generated-quiz-container');_0xd93883['classList'][_0x277022(0x6b7)](_0x277022(0x318));_0x14a0a1===null&&(_0x534545[_0x277022(0x43a)]='');_0x67dca3['classList'][_0x277022(0x6b7)]('hidden'),_0x26631f[_0x277022(0x2e0)]=_0x274fa9,document[_0x277022(0xa59)]('generate-from-topic-btn')[_0x277022(0x3cd)]=!![],document[_0x277022(0xa59)](_0x277022(0xafe))[_0x277022(0x3cd)]=!![],document[_0x277022(0xa59)](_0x277022(0x306))['disabled']=!![];try{const _0x19d27a={'responseMimeType':_0x277022(0x974),'responseSchema':_0x3a01f2},_0x23b135=Array[_0x277022(0x227)](_0x6cdc50)?_0x6cdc50:[{'text':_0x6cdc50}],_0x3c0a62={'contents':[{'role':_0x277022(0xae2),'parts':_0x23b135}],'generationConfig':_0x19d27a},_0x213ff9=_0x277022(0xaba),_0x3dc49e='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x213ff9,_0x11c22e=await fetch(_0x3dc49e,{'method':_0x277022(0x1df),'headers':{'Content-Type':_0x277022(0x974)},'body':JSON[_0x277022(0xae0)](_0x3c0a62)});if(!_0x11c22e['ok'])throw new Error(_0x277022(0x347)+_0x11c22e['status']);const _0x54c12d=await _0x11c22e[_0x277022(0x769)]();if(_0x54c12d[_0x277022(0x8a1)]?.[0x0]?.[_0x277022(0x272)]?.['parts']?.[0x0]){let _0xb51f89=_0x54c12d[_0x277022(0x8a1)][0x0][_0x277022(0x272)][_0x277022(0x1b8)][0x0][_0x277022(0x282)],_0xd6c3f2;try{if(_0xb51f89['startsWith'](_0x277022(0x4fd)))_0xb51f89=_0xb51f89['substring'](0x7,_0xb51f89[_0x277022(0x963)]-0x3)[_0x277022(0x56b)]();else _0xb51f89['startsWith']('```')&&(_0xb51f89=_0xb51f89[_0x277022(0x3b5)](0x3,_0xb51f89[_0x277022(0x963)]-0x3)['trim']());_0xd6c3f2=JSON['parse'](_0xb51f89);}catch(_0x2ee611){console[_0x277022(0x5a8)](_0x277022(0x646),_0x2ee611,_0xb51f89);throw new Error(_0x277022(0x522));}if(_0x14a0a1!==null){if(_0xd6c3f2[_0x277022(0x969)]===_0x277022(0x845)){const _0x186a39=currentQuizData[_0x277022(0x1e6)][_0x277022(0x6e4)](_0x540e4c=>_0x540e4c['correctResponse']);_0xd6c3f2[_0x277022(0x70c)]=_0x186a39;const _0x11d445=currentQuizData[_0x277022(0x1e6)][_0x14a0a1][_0x277022(0x4ae)],_0x4713ff=_0x186a39['indexOf'](_0x11d445);_0x4713ff>-0x1&&(_0x186a39[_0x4713ff]=_0xd6c3f2[_0x277022(0x4ae)]),currentQuizData['questions'][_0x277022(0x5d5)](_0x3ea174=>{const _0x3c83fe=_0x277022;if(_0x3ea174['questionType']===_0x3c83fe(0x845))_0x3ea174['allResponses']=_0x186a39;});}currentQuizData[_0x277022(0x1e6)][_0x14a0a1]=_0xd6c3f2,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0xd6c3f2;const _0x1425e1=document[_0x277022(0xa59)](_0x277022(0x8b9))['value'];currentQuizData[_0x277022(0x42e)]=_0x1425e1,currentQuizData[_0x277022(0x1e6)]&&currentQuizData[_0x277022(0x1e6)][_0x277022(0x5d5)](_0x302463=>{const _0x569ab5=_0x277022;if(!_0x302463[_0x569ab5(0x969)]){if(_0x1425e1==='fill_in_with_choices')_0x302463[_0x569ab5(0x969)]=_0x569ab5(0xa76);else _0x1425e1===_0x569ab5(0x732)?_0x302463[_0x569ab5(0x969)]=_0x569ab5(0x536):_0x302463[_0x569ab5(0x969)]=_0x1425e1;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x277022(0x5a8)](_0x277022(0xad3),JSON['stringify'](_0x54c12d));throw new Error(_0x277022(0x522));}}catch(_0x469138){console['error'](_0x277022(0x5f2),_0x469138),showMessage(_0x277022(0x92a)),_0x14a0a1===null&&(_0x534545['innerHTML']=_0x277022(0x850));}finally{_0x67dca3[_0x277022(0x445)][_0x277022(0x874)](_0x277022(0x318)),document['getElementById'](_0x277022(0x266))['disabled']=![],document[_0x277022(0xa59)]('generate-from-text-btn')['disabled']=![],document['getElementById'](_0x277022(0x306))[_0x277022(0x3cd)]=![];const _0x4d60d4=document['getElementById'](_0x277022(0x4ed));_0x4d60d4&&(_0x4d60d4[_0x277022(0x3cd)]=![]);}}function exitFullscreen(){const _0x8d565b=_0x5cd971;if(document[_0x8d565b(0x894)])document[_0x8d565b(0x894)]()[_0x8d565b(0xa5b)](_0x155274=>console[_0x8d565b(0x5a8)](_0x155274));else{if(document[_0x8d565b(0x19e)])document[_0x8d565b(0x19e)]();else document['msExitFullscreen']&&document[_0x8d565b(0x407)]();}}function enterFullscreen(){const _0x77d8fd=_0x5cd971,_0x5931b3=document[_0x77d8fd(0xacb)];if(_0x5931b3['requestFullscreen'])_0x5931b3['requestFullscreen']()[_0x77d8fd(0xa5b)](_0x582ce0=>{const _0x2e8275=_0x77d8fd;console[_0x2e8275(0x5a8)]('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x582ce0[_0x2e8275(0x1f3)]+'\x20('+_0x582ce0[_0x2e8275(0xa5e)]+')');});else{if(_0x5931b3['webkitRequestFullscreen'])_0x5931b3[_0x77d8fd(0x22c)]();else _0x5931b3[_0x77d8fd(0x380)]&&_0x5931b3[_0x77d8fd(0x380)]();}}function handleCheatingEvent(){const _0x1596e1=_0x5cd971;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x1596e1(0x8ac),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x1596e1(0x9e2)+maxCheatAttempts+_0x1596e1(0xa0b)),document[_0x1596e1(0xa59)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x1596e1(0x3b4)](_0x1596e1(0x664),handleVisibilityChange),document[_0x1596e1(0x3b4)](_0x1596e1(0x802),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x1596e1(0x82a),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0xb84132=_0x5cd971;if(currentMode===_0xb84132(0x85d)||!isQuizActive)return;if(document[_0xb84132(0x52a)]===_0xb84132(0x318))handleCheatingEvent();else document['visibilityState']===_0xb84132(0x911)&&(console[_0xb84132(0xa63)](_0xb84132(0x35c)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x55c9da=_0x5cd971;if(currentMode===_0x55c9da(0x85d)||!isQuizActive)return;!document[_0x55c9da(0x634)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4e359d){const _0x531b0b=_0x5cd971,_0xccbfec=document[_0x531b0b(0xa59)](_0x531b0b(0x619));let _0x1c0e6a='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x4e359d[_0x531b0b(0xaad)]+_0x531b0b(0xa05);_0x4e359d[_0x531b0b(0x1e6)][_0x531b0b(0x5d5)]((_0x48e7bf,_0x24edbb)=>{const _0x206264=_0x531b0b;!_0x48e7bf['id']&&(_0x48e7bf['id']='q_'+Date['now']()+'_'+_0x24edbb);const _0x477176=_0x48e7bf[_0x206264(0x969)]||_0x4e359d[_0x206264(0x42e)];_0x1c0e6a+=_0x206264(0x8c8)+_0x24edbb+_0x206264(0x7d6)+_0x24edbb+_0x206264(0x6df)+_0x24edbb+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x477176){case'matching_item':_0x1c0e6a+=_0x206264(0x809)+_0x24edbb+'\x22>'+(_0x24edbb+0x1)+'.\x20'+_0x48e7bf[_0x206264(0x5ce)]+_0x206264(0xae8);_0x48e7bf[_0x206264(0x187)]&&(_0x1c0e6a+=_0x206264(0x9ef)+_0x24edbb+_0x206264(0x388)+_0x48e7bf[_0x206264(0x187)]+_0x206264(0x552));_0x1c0e6a+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x24edbb+'\x22>'+_0x48e7bf[_0x206264(0x4ae)]+_0x206264(0x1d0),_0x1c0e6a+=_0x206264(0xa0f)+_0x24edbb+'\x22>'+_0x48e7bf['explanation']+_0x206264(0x1d0);break;case _0x206264(0x536):_0x1c0e6a+=_0x206264(0x809)+_0x24edbb+'\x22>'+(_0x24edbb+0x1)+'.\x20'+_0x48e7bf['questionText']+'</p>';_0x48e7bf['imageCode']&&(_0x1c0e6a+=_0x206264(0x9ef)+_0x24edbb+_0x206264(0x388)+_0x48e7bf[_0x206264(0x187)]+_0x206264(0x552));_0x1c0e6a+=_0x206264(0x98d)+_0x24edbb+'\x22>'+_0x48e7bf[_0x206264(0x5e7)]+_0x206264(0x1d0),_0x1c0e6a+=_0x206264(0xa0f)+_0x24edbb+'\x22>'+_0x48e7bf[_0x206264(0x9fc)]+_0x206264(0x1d0);break;case'true_false':_0x1c0e6a+=_0x206264(0x809)+_0x24edbb+'\x22>'+(_0x24edbb+0x1)+'.\x20'+_0x48e7bf[_0x206264(0x2a7)]+_0x206264(0xae8);_0x48e7bf[_0x206264(0x187)]&&(_0x1c0e6a+='<div\x20id=\x22q-image-container-'+_0x24edbb+_0x206264(0x388)+_0x48e7bf[_0x206264(0x187)]+'</div>');_0x1c0e6a+=_0x206264(0x71c)+(_0x48e7bf['correctAnswer']===!![]?_0x206264(0xad8):'')+_0x206264(0x6b3)+(_0x48e7bf[_0x206264(0x276)]===![]?_0x206264(0xad8):'')+_0x206264(0x261),_0x1c0e6a+=_0x206264(0xa0f)+_0x24edbb+'\x22>'+_0x48e7bf[_0x206264(0x9fc)]+'</span></div>';break;case'fill_in_the_blank':case _0x206264(0xa76):default:_0x1c0e6a+=_0x206264(0x809)+_0x24edbb+'\x22>'+(_0x24edbb+0x1)+'.\x20'+_0x48e7bf[_0x206264(0x2a7)]+_0x206264(0xae8);_0x48e7bf['imageCode']&&(_0x1c0e6a+=_0x206264(0x9ef)+_0x24edbb+_0x206264(0x388)+_0x48e7bf['imageCode']+_0x206264(0x552));_0x1c0e6a+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x24edbb+_0x206264(0x645)+_0x48e7bf['options'][_0x206264(0x6e4)]((_0x474899,_0x188863)=>_0x206264(0x4e2)+(_0x188863===_0x48e7bf[_0x206264(0x501)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x474899+_0x206264(0x3e6))['join']('')+_0x206264(0x6c9),_0x1c0e6a+=_0x206264(0xa0f)+_0x24edbb+'\x22>'+_0x48e7bf['explanation']+_0x206264(0x1d0);break;}_0x1c0e6a+='</div>';}),_0x1c0e6a+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0xccbfec[_0x531b0b(0x43a)]=_0x1c0e6a,document['querySelectorAll'](_0x531b0b(0x648))[_0x531b0b(0x5d5)](_0x3c32d3=>_0x3c32d3['addEventListener']('click',handleEditQuestion)),document[_0x531b0b(0x1f8)]('.regenerate-question-btn')[_0x531b0b(0x5d5)](_0x13439f=>_0x13439f[_0x531b0b(0x1ce)](_0x531b0b(0x420),handleRegenerateQuestion)),document[_0x531b0b(0xa59)](_0x531b0b(0x3aa))['addEventListener'](_0x531b0b(0x420),exportQuizAsWorksheetPDF),document['getElementById'](_0x531b0b(0x3b1))[_0x531b0b(0x1ce)]('click',saveQuiz),document['getElementById']('verify-answers-btn')['addEventListener']('click',handleVerifyAnswers);if(window[_0x531b0b(0x28d)])window['MathJax'][_0x531b0b(0x2b6)]([_0xccbfec]);}function handleRegenerateQuestion(_0x1eb0cb){const _0x30bd0f=_0x5cd971,_0x47a185=_0x1eb0cb[_0x30bd0f(0x613)][_0x30bd0f(0xafb)]['index'],_0x353010=currentQuizData[_0x30bd0f(0xaad)];showMessage(_0x30bd0f(0x38b)+(parseInt(_0x47a185)+0x1)+_0x30bd0f(0x90f)),generateQuiz(_0x353010,null,parseInt(_0x47a185));}function getPointerPosition(_0x1816c5,_0xdf17d6){const _0x572164=_0x5cd971,_0x1334fd=_0x1816c5['getScreenCTM']();let _0x3d5f94,_0x27e4ca;return _0xdf17d6[_0x572164(0x4ff)]&&_0xdf17d6['touches'][_0x572164(0x963)]>0x0?(_0x3d5f94=_0xdf17d6[_0x572164(0x4ff)][0x0]['clientX'],_0x27e4ca=_0xdf17d6['touches'][0x0][_0x572164(0x66c)]):(_0x3d5f94=_0xdf17d6[_0x572164(0x48e)],_0x27e4ca=_0xdf17d6['clientY']),{'x':(_0x3d5f94-_0x1334fd['e'])/_0x1334fd['a'],'y':(_0x27e4ca-_0x1334fd['f'])/_0x1334fd['d']};}function startDrag(_0x1b3d03){const _0x7ad7d0=_0x5cd971;_0x1b3d03['type']==='touchstart'&&_0x1b3d03[_0x7ad7d0(0x67d)]();const _0x297dcd=_0x1b3d03[_0x7ad7d0(0x1f5)][_0x7ad7d0(0x74e)](_0x7ad7d0(0x359));if(_0x297dcd){draggedSvgElement=_0x297dcd;const _0x275700=draggedSvgElement[_0x7ad7d0(0x54c)],_0x495f79=getPointerPosition(_0x275700,_0x1b3d03);svgOffset['x']=_0x495f79['x']-parseFloat(draggedSvgElement[_0x7ad7d0(0x578)](null,'x')),svgOffset['y']=_0x495f79['y']-parseFloat(draggedSvgElement[_0x7ad7d0(0x578)](null,'y'));}}function calculateItemAnalysis(_0x103622,_0x3a1f16){const _0x306704=_0x5cd971,_0x12adf2={};if(_0x3a1f16['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x266e50=[..._0x3a1f16][_0x306704(0x695)]((_0x521c03,_0x12e320)=>{const _0x2d7bf3=_0x306704,_0x2c75c6=_0x12e320[_0x2d7bf3(0x982)]-_0x521c03[_0x2d7bf3(0x982)];if(_0x2c75c6!==0x0)return _0x2c75c6;const _0x2bced3=_0x521c03['attempts']?.['length']||0x1,_0x33d77f=_0x12e320['attempts']?.['length']||0x1,_0x1481a0=_0x2bced3-_0x33d77f;if(_0x1481a0!==0x0)return _0x1481a0;const _0x239fe0=new Date(_0x521c03['latestSubmittedAt']),_0xc3563d=new Date(_0x12e320[_0x2d7bf3(0x1c4)]),_0x5e0f52=_0x239fe0-_0xc3563d;if(_0x5e0f52!==0x0)return _0x5e0f52;return _0x521c03['studentName']['localeCompare'](_0x12e320[_0x2d7bf3(0x222)],'th');}),_0x40b056=_0x266e50[_0x306704(0x963)],_0x15f1ed=Math[_0x306704(0x2ce)](0x1,Math[_0x306704(0x68d)](_0x40b056*0.33));if(_0x15f1ed===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x242deb=_0x266e50[_0x306704(0x30e)](0x0,_0x15f1ed),_0x53c098=_0x266e50[_0x306704(0x30e)](-_0x15f1ed),_0x5788c7=_0x242deb['map'](_0xbb611=>_0xbb611['studentName']),_0x286c95=_0x53c098[_0x306704(0x6e4)](_0x13202d=>_0x13202d[_0x306704(0x222)]);return _0x103622['questions'][_0x306704(0x5d5)]((_0x161c77,_0x3903f8)=>{const _0xf7ef52=_0x306704,_0x2e7a92=_0x161c77[_0xf7ef52(0x5ce)]||_0x161c77['questionText'];let _0x4334c8=0x0,_0x264a51=0x0,_0xf65caa=0x0;const _0x15ccb9=[],_0x30e675=[];_0x242deb[_0xf7ef52(0x5d5)](_0x54ca14=>{const _0x405519=_0xf7ef52,_0x51236f=_0x54ca14[_0x405519(0x97b)][_0x54ca14[_0x405519(0x97b)][_0x405519(0x963)]-0x1],_0x26cef3=_0x51236f[_0x405519(0x89e)][_0x405519(0x3fd)](_0x1b818a=>_0x1b818a[_0x405519(0x9b0)]===_0x2e7a92);_0x15ccb9[_0x405519(0x34a)]({'name':_0x54ca14[_0x405519(0x222)],'isCorrect':_0x26cef3?_0x26cef3[_0x405519(0x8cc)]:![]}),_0x26cef3&&_0x26cef3['isCorrect']&&_0x264a51++;}),_0x53c098[_0xf7ef52(0x5d5)](_0x5a7c30=>{const _0x31d8c4=_0xf7ef52,_0x254a96=_0x5a7c30[_0x31d8c4(0x97b)][_0x5a7c30[_0x31d8c4(0x97b)][_0x31d8c4(0x963)]-0x1],_0x551453=_0x254a96[_0x31d8c4(0x89e)][_0x31d8c4(0x3fd)](_0x5f0b93=>_0x5f0b93[_0x31d8c4(0x9b0)]===_0x2e7a92);_0x30e675[_0x31d8c4(0x34a)]({'name':_0x5a7c30[_0x31d8c4(0x222)],'isCorrect':_0x551453?_0x551453[_0x31d8c4(0x8cc)]:![]}),_0x551453&&_0x551453[_0x31d8c4(0x8cc)]&&_0xf65caa++;}),_0x3a1f16[_0xf7ef52(0x5d5)](_0x174a25=>{const _0xc7dcf3=_0xf7ef52,_0x47699b=_0x174a25[_0xc7dcf3(0x97b)][_0x174a25[_0xc7dcf3(0x97b)][_0xc7dcf3(0x963)]-0x1],_0x3a96c1=_0x47699b[_0xc7dcf3(0x89e)][_0xc7dcf3(0x3fd)](_0x55b872=>_0x55b872[_0xc7dcf3(0x9b0)]===_0x2e7a92);_0x3a96c1&&_0x3a96c1[_0xc7dcf3(0x8cc)]&&_0x4334c8++;});const _0x220ed9=_0x40b056>0x0?_0x4334c8/_0x40b056:0x0,_0x4e838b=_0x15f1ed>0x0?_0x264a51/_0x15f1ed-_0xf65caa/_0x15f1ed:0x0;_0x12adf2[_0x3903f8]={'p':_0x220ed9,'r':_0x4e838b,'upperGroupResponders':_0x15ccb9,'lowerGroupResponders':_0x30e675};}),{'perQuestionStats':_0x12adf2,'overallGroups':{'upperGroupNames':_0x5788c7,'lowerGroupNames':_0x286c95}};}function drag(_0x36ad56){const _0x2f5dd5=_0x5cd971;if(draggedSvgElement){_0x36ad56[_0x2f5dd5(0x67d)]();const _0x2da769=draggedSvgElement[_0x2f5dd5(0x54c)],_0x4aad53=getPointerPosition(_0x2da769,_0x36ad56),_0x482846=_0x2da769[_0x2f5dd5(0x9a0)][_0x2f5dd5(0x301)];let _0x481055=_0x4aad53['x']-svgOffset['x'],_0x11bbfe=_0x4aad53['y']-svgOffset['y'];const _0x14e336=draggedSvgElement[_0x2f5dd5(0x3f8)]();_0x481055=Math[_0x2f5dd5(0x2ce)](_0x482846['x'],Math[_0x2f5dd5(0x452)](_0x481055,_0x482846['x']+_0x482846[_0x2f5dd5(0x523)]-_0x14e336['width'])),_0x11bbfe=Math[_0x2f5dd5(0x2ce)](_0x482846['y'],Math[_0x2f5dd5(0x452)](_0x11bbfe,_0x482846['y']+_0x482846[_0x2f5dd5(0x898)]-_0x14e336[_0x2f5dd5(0x898)])),draggedSvgElement[_0x2f5dd5(0x8d1)](null,'x',_0x481055),draggedSvgElement['setAttributeNS'](null,'y',_0x11bbfe);}}function endDrag(_0x4375d0){draggedSvgElement=null;}function handleSvgEditClick(_0x1bc467){const _0x185964=_0x5cd971;if(_0x1bc467[_0x185964(0x1f5)][_0x185964(0x445)][_0x185964(0x914)](_0x185964(0x9f8))){const _0x19fb9c=_0x1bc467['target'][_0x185964(0xafb)][_0x185964(0x70d)],_0x427971=_0x1bc467['currentTarget'],_0x5b39ca=_0x427971[_0x185964(0x5b4)]('#'+_0x19fb9c);_0x5b39ca&&_0x5b39ca['remove'](),_0x1bc467[_0x185964(0x1f5)][_0x185964(0x6b7)]();}}function handleEditQuestion(_0x58255b){const _0x1e11b2=_0x5cd971,_0x4d1f2f=_0x58255b[_0x1e11b2(0x613)],_0x566ab0=_0x4d1f2f[_0x1e11b2(0xafb)][_0x1e11b2(0x321)],_0x4dd8a3=currentQuizData[_0x1e11b2(0x1e6)][_0x566ab0],_0x36ee8a=document[_0x1e11b2(0xa59)](_0x1e11b2(0x653)+_0x566ab0),_0x2476ce=document[_0x1e11b2(0xa59)]('q-explanation-'+_0x566ab0),_0x1af8f4=document[_0x1e11b2(0xa59)](_0x1e11b2(0x2b1)+_0x566ab0);if(_0x4d1f2f[_0x1e11b2(0x43a)][_0x1e11b2(0x1c3)](_0x1e11b2(0x24f))){_0x4d1f2f[_0x1e11b2(0x43a)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x4d1f2f[_0x1e11b2(0x24b)]=_0x1e11b2(0x315);if(_0x36ee8a)_0x36ee8a[_0x1e11b2(0x981)]=!![];if(_0x2476ce)_0x2476ce['contentEditable']=!![];if(_0x1af8f4){const _0x2ae291=_0x1af8f4[_0x1e11b2(0x5b4)]('svg');if(_0x2ae291){const _0x35bd9f=_0x2ae291[_0x1e11b2(0x1f8)](_0x1e11b2(0x282));_0x35bd9f[_0x1e11b2(0x5d5)]((_0x198dc0,_0x437047)=>{const _0x4ca68d=_0x1e11b2,_0x346a1f=_0x4ca68d(0x3c4)+_0x566ab0+'-'+_0x437047;_0x198dc0['id']=_0x346a1f,_0x198dc0[_0x4ca68d(0x445)]['add'](_0x4ca68d(0x1b2)),_0x198dc0[_0x4ca68d(0x588)][_0x4ca68d(0x8e5)]=_0x4ca68d(0x194);const _0x21db9b=document[_0x4ca68d(0x38a)]('http://www.w3.org/2000/svg',_0x4ca68d(0x88c)),_0x16fc17=_0x198dc0[_0x4ca68d(0x3f8)]();_0x21db9b[_0x4ca68d(0x5f1)]('cx',String(_0x16fc17['x']+_0x16fc17[_0x4ca68d(0x523)]+0x5)),_0x21db9b[_0x4ca68d(0x5f1)]('cy',String(_0x16fc17['y']+_0x16fc17[_0x4ca68d(0x898)]/0x2-0x5)),_0x21db9b[_0x4ca68d(0x5f1)]('r','5'),_0x21db9b[_0x4ca68d(0x5f1)](_0x4ca68d(0x716),_0x4ca68d(0x3ca)),_0x21db9b['setAttribute']('class',_0x4ca68d(0x9f8)),_0x21db9b[_0x4ca68d(0xafb)][_0x4ca68d(0x70d)]=_0x346a1f,_0x198dc0[_0x4ca68d(0x73a)](_0x21db9b);}),_0x2ae291[_0x1e11b2(0x1ce)](_0x1e11b2(0x691),startDrag),_0x2ae291[_0x1e11b2(0x1ce)](_0x1e11b2(0x98a),drag),_0x2ae291[_0x1e11b2(0x1ce)]('mouseup',endDrag),_0x2ae291[_0x1e11b2(0x1ce)]('mouseleave',endDrag),_0x2ae291[_0x1e11b2(0x1ce)](_0x1e11b2(0x3d2),startDrag,{'passive':![]}),_0x2ae291[_0x1e11b2(0x1ce)](_0x1e11b2(0x9ce),drag,{'passive':![]}),_0x2ae291['addEventListener']('touchend',endDrag),_0x2ae291[_0x1e11b2(0x1ce)](_0x1e11b2(0x85c),endDrag),_0x2ae291[_0x1e11b2(0x1ce)](_0x1e11b2(0x420),handleSvgEditClick);}}if(_0x36ee8a)_0x36ee8a[_0x1e11b2(0x35a)]();}else{_0x4d1f2f['innerHTML']='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x4d1f2f['title']=_0x1e11b2(0x424);if(_0x36ee8a){_0x36ee8a[_0x1e11b2(0x981)]=![];const _0x2352a2=_0x4dd8a3[_0x1e11b2(0x969)]||currentQuizData[_0x1e11b2(0x42e)];_0x2352a2===_0x1e11b2(0x845)?_0x4dd8a3['stem']=_0x36ee8a[_0x1e11b2(0x182)][_0x1e11b2(0x3b5)](_0x36ee8a[_0x1e11b2(0x182)]['indexOf']('.')+0x2)[_0x1e11b2(0x56b)]():_0x4dd8a3[_0x1e11b2(0x2a7)]=_0x36ee8a['innerText']['substring'](_0x36ee8a[_0x1e11b2(0x182)][_0x1e11b2(0x554)]('.')+0x2)[_0x1e11b2(0x56b)]();}_0x2476ce&&(_0x2476ce[_0x1e11b2(0x981)]=![],_0x4dd8a3[_0x1e11b2(0x9fc)]=_0x2476ce[_0x1e11b2(0x182)]);if(_0x1af8f4){const _0xfa4d61=_0x1af8f4[_0x1e11b2(0x5b4)]('svg');if(_0xfa4d61){const _0x30280a=_0xfa4d61[_0x1e11b2(0x610)](!![]);_0x30280a['querySelectorAll'](_0x1e11b2(0x1b0))['forEach'](_0x3bd2b7=>_0x3bd2b7[_0x1e11b2(0x6b7)]()),_0x30280a['querySelectorAll'](_0x1e11b2(0x359))['forEach'](_0x13f56b=>{const _0x14a974=_0x1e11b2;_0x13f56b[_0x14a974(0x445)][_0x14a974(0x6b7)](_0x14a974(0x1b2)),_0x13f56b[_0x14a974(0x588)][_0x14a974(0x8e5)]=_0x14a974(0x983),_0x13f56b[_0x14a974(0x55d)]('id');}),_0x4dd8a3[_0x1e11b2(0x187)]=_0x30280a[_0x1e11b2(0x43d)],_0xfa4d61[_0x1e11b2(0x3b4)](_0x1e11b2(0x691),startDrag),_0xfa4d61[_0x1e11b2(0x3b4)](_0x1e11b2(0x98a),drag),_0xfa4d61['removeEventListener']('mouseup',endDrag),_0xfa4d61[_0x1e11b2(0x3b4)]('mouseleave',endDrag),_0xfa4d61[_0x1e11b2(0x3b4)]('touchstart',startDrag),_0xfa4d61[_0x1e11b2(0x3b4)](_0x1e11b2(0x9ce),drag),_0xfa4d61[_0x1e11b2(0x3b4)](_0x1e11b2(0x384),endDrag),_0xfa4d61[_0x1e11b2(0x3b4)](_0x1e11b2(0x85c),endDrag),_0xfa4d61['removeEventListener'](_0x1e11b2(0x420),handleSvgEditClick),_0xfa4d61[_0x1e11b2(0x1f8)](_0x1e11b2(0x1b0))[_0x1e11b2(0x5d5)](_0xc1cb63=>_0xc1cb63['remove']()),_0xfa4d61[_0x1e11b2(0x1f8)]('.draggable-text')[_0x1e11b2(0x5d5)](_0x27ad27=>{const _0x5d8926=_0x1e11b2;_0x27ad27[_0x5d8926(0x445)][_0x5d8926(0x6b7)](_0x5d8926(0x1b2)),_0x27ad27['style'][_0x5d8926(0x8e5)]=_0x5d8926(0x983);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x296856){const _0x59ca8a=_0x5cd971,_0x7bd59b=document[_0x59ca8a(0xa59)](_0x59ca8a(0x85f)),_0x338c2a=document[_0x59ca8a(0xa59)](_0x59ca8a(0x3bb));_0x338c2a[_0x59ca8a(0x43a)]=_0x59ca8a(0x4e4),_0x7bd59b[_0x59ca8a(0x445)]['remove'](_0x59ca8a(0x318));try{const _0x4c10f8=doc(db,'artifacts/'+appId+_0x59ca8a(0xaf2),_0x296856),_0x373230=await getDoc(_0x4c10f8);if(!_0x373230[_0x59ca8a(0x540)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x296856,..._0x373230['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0xaddb4a){console['error'](_0x59ca8a(0x9c8),_0xaddb4a),showMessage(_0x59ca8a(0xac2)),_0x7bd59b[_0x59ca8a(0x445)][_0x59ca8a(0x874)](_0x59ca8a(0x318));}}function renderQuizEditor(_0x50245d){const _0x281a14=_0x5cd971;document[_0x281a14(0xa59)](_0x281a14(0x7f1))[_0x281a14(0x630)]=_0x50245d['topic'];const _0x3e147c=document[_0x281a14(0xa59)](_0x281a14(0x3bb));let _0x51ae02=_0x50245d['questions'][_0x281a14(0x6e4)]((_0x143d63,_0x52249b)=>{const _0x3aa318=_0x281a14;let _0x4019fe='';const _0x59340f=_0x143d63[_0x3aa318(0x969)]||_0x50245d[_0x3aa318(0x42e)];switch(_0x59340f){case _0x3aa318(0xa76):const _0x2e1a77=(_0x143d63['options']||[])[_0x3aa318(0x6e4)]((_0x546c6d,_0x519471)=>_0x3aa318(0x55b)+_0x52249b+_0x3aa318(0xa15)+_0x519471+'\x22\x20'+(_0x519471===_0x143d63['correctAnswerIndex']?_0x3aa318(0x31a):'')+_0x3aa318(0x48a)+_0x546c6d+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3aa318(0x386)]('');_0x4019fe=_0x3aa318(0xa42)+_0x2e1a77+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':_0x4019fe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x143d63[_0x3aa318(0x5e7)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x3aa318(0x8fe):_0x4019fe=_0x3aa318(0x7a1)+_0x52249b+_0x3aa318(0x86b)+(_0x143d63['correctAnswer']===!![]?_0x3aa318(0x31a):'')+_0x3aa318(0x75e)+_0x52249b+'\x22\x20value=\x22false\x22\x20'+(_0x143d63[_0x3aa318(0x276)]===![]?'checked':'')+_0x3aa318(0x7ab);break;case _0x3aa318(0x845):_0x4019fe=_0x3aa318(0x4f3)+(_0x143d63[_0x3aa318(0x4ae)]||'')+_0x3aa318(0x2ae);break;}const _0x367fd4=_0x143d63[_0x3aa318(0x2a7)]||_0x143d63[_0x3aa318(0x5ce)]||'';return _0x3aa318(0x8b8)+_0x52249b+_0x3aa318(0x37d)+_0x59340f+_0x3aa318(0x444)+(_0x52249b+0x1)+'\x20('+_0x59340f+_0x3aa318(0xa58)+_0x367fd4+_0x3aa318(0x860)+_0x4019fe+_0x3aa318(0x5cd);})['join']('');_0x3e147c[_0x281a14(0x43a)]=_0x51ae02,_0x3e147c[_0x281a14(0x1f8)](_0x281a14(0x7fe))['forEach'](_0x4c4858=>{const _0x64cf2f=_0x281a14;_0x4c4858['addEventListener'](_0x64cf2f(0x420),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x2e131b){const _0x45484e=_0x5cd971,_0x5b02f4=_0x2e131b[_0x45484e(0x613)],_0x162f7b=_0x5b02f4['closest'](_0x45484e(0x685));if(!_0x162f7b)return;const _0x2e8ee7=parseInt(_0x162f7b[_0x45484e(0xafb)][_0x45484e(0x7dd)],0xa);if(isNaN(_0x2e8ee7)||!currentEditingQuizData[_0x45484e(0x1e6)][_0x2e8ee7]){showMessage(_0x45484e(0x5b0));return;}const _0x5b6d8a=currentEditingQuizData[_0x45484e(0x1e6)][_0x2e8ee7];_0x5b02f4[_0x45484e(0x43a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x5b02f4[_0x45484e(0x3cd)]=!![];const _0xbb557c=_0x45484e(0x9d3)+JSON[_0x45484e(0xae0)](_0x5b6d8a)+_0x45484e(0x9c9);let _0x199b76;const _0x25cf09=_0x5b6d8a[_0x45484e(0x969)]||currentEditingQuizData['quizType'];switch(_0x25cf09){case _0x45484e(0x536):_0x199b76={'type':_0x45484e(0x3b9),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x45484e(0x81e)},'imageCode':{'type':_0x45484e(0x81e)}},'required':[_0x45484e(0x2a7),_0x45484e(0x5e7),'explanation']};break;case _0x45484e(0xa76):default:_0x199b76={'type':_0x45484e(0x3b9),'properties':{'questionText':{'type':_0x45484e(0x81e)},'options':{'type':_0x45484e(0x3af),'items':{'type':_0x45484e(0x81e)}},'correctAnswerIndex':{'type':_0x45484e(0x95d)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x45484e(0x81e)}},'required':['questionText',_0x45484e(0x369),_0x45484e(0x501),'explanation']};break;}try{let _0x2987e6=await callAnalysisApi(_0xbb557c,_0x199b76);_0x2987e6['options']&&Array[_0x45484e(0x227)](_0x2987e6['options'])&&(_0x2987e6[_0x45484e(0x369)]=_0x2987e6[_0x45484e(0x369)][_0x45484e(0x6e4)](_0x4d43a4=>typeof _0x4d43a4===_0x45484e(0x436)?_0x4d43a4[_0x45484e(0x263)](/S(\s*[\d_]+?\s*)S/g,_0x45484e(0xa23)):_0x4d43a4)),_0x5b6d8a[_0x45484e(0x187)]&&_0x5b6d8a['imageCode']['includes']('fix\x20the\x20option')&&(_0x2987e6[_0x45484e(0x187)]=''),currentEditingQuizData[_0x45484e(0x1e6)][_0x2e8ee7]={..._0x5b6d8a,..._0x2987e6},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x39248){console[_0x45484e(0x5a8)](_0x45484e(0x757),_0x39248),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0xdbb5c3=_0x5cd971,_0xce3ede=document['getElementById'](_0xdbb5c3(0x248));_0xce3ede[_0xdbb5c3(0x3cd)]=!![],_0xce3ede[_0xdbb5c3(0x43a)]=_0xdbb5c3(0x8bb);try{const _0xcda0f3=document[_0xdbb5c3(0xa59)](_0xdbb5c3(0x7f1))[_0xdbb5c3(0x630)],_0x244ea4=document['querySelectorAll'](_0xdbb5c3(0x685));let _0x1dfa1f=[];const _0x520b41=Array[_0xdbb5c3(0x96a)](_0x244ea4)[_0xdbb5c3(0x6e4)]((_0x3e19cf,_0x220dc0)=>{const _0x38d440=_0xdbb5c3,_0xf7758d=_0x3e19cf['dataset']['qType'],_0x4dd768=_0x3e19cf['querySelector'](_0x38d440(0x910))[_0x38d440(0x630)][_0x38d440(0x263)](/\n/g,_0x38d440(0x9f9));let _0x41468e={'questionType':_0xf7758d};const _0x5a6add=currentEditingQuizData['questions'][_0x220dc0];switch(_0xf7758d){case'multiple_choice':_0x41468e[_0x38d440(0x2a7)]=_0x4dd768;const _0x202217=_0x3e19cf[_0x38d440(0x1f8)](_0x38d440(0x94a));_0x41468e[_0x38d440(0x369)]=Array[_0x38d440(0x96a)](_0x202217)[_0x38d440(0x6e4)](_0x18ec2f=>_0x18ec2f[_0x38d440(0x630)]);const _0x3371ac=_0x3e19cf[_0x38d440(0x5b4)](_0x38d440(0x7cd));_0x41468e[_0x38d440(0x501)]=_0x3371ac?parseInt(_0x3371ac['value']):0x0;break;case _0x38d440(0x536):_0x41468e[_0x38d440(0x2a7)]=_0x4dd768,_0x41468e[_0x38d440(0x5e7)]=_0x3e19cf[_0x38d440(0x5b4)](_0x38d440(0x1eb))[_0x38d440(0x630)];break;case _0x38d440(0x8fe):_0x41468e[_0x38d440(0x2a7)]=_0x4dd768;const _0x465f51=_0x3e19cf[_0x38d440(0x5b4)](_0x38d440(0x7cd));_0x41468e[_0x38d440(0x276)]=_0x465f51?_0x465f51[_0x38d440(0x630)]==='true':!![];break;case'matching_item':_0x41468e['stem']=_0x4dd768;const _0x2e3286=_0x3e19cf[_0x38d440(0x5b4)]('.correct-response-input');_0x41468e['correctResponse']=_0x2e3286?_0x2e3286['value']:'',_0x1dfa1f[_0x38d440(0x34a)](_0x41468e[_0x38d440(0x4ae)]);break;default:_0x41468e[_0x38d440(0x2a7)]=_0x4dd768;break;}return{..._0x5a6add,..._0x41468e};});_0x1dfa1f[_0xdbb5c3(0x963)]>0x0&&_0x520b41[_0xdbb5c3(0x5d5)](_0x157f3c=>{const _0x569d3c=_0xdbb5c3;_0x157f3c[_0x569d3c(0x969)]===_0x569d3c(0x845)&&(_0x157f3c[_0x569d3c(0x70c)]=_0x1dfa1f);});const _0x51fae8=currentEditingQuizData['id'],_0x3ee742=doc(db,_0xdbb5c3(0xab3)+appId+'/public/data/quizzes',_0x51fae8);await updateDoc(_0x3ee742,{'topic':_0xcda0f3,'questions':_0x520b41}),document[_0xdbb5c3(0xa59)](_0xdbb5c3(0x85f))[_0xdbb5c3(0x445)]['add']('hidden'),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x51fae8));}catch(_0x554264){console[_0xdbb5c3(0x5a8)](_0xdbb5c3(0x4b5),_0x554264),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0xce3ede['disabled']=![],_0xce3ede[_0xdbb5c3(0x43a)]=_0xdbb5c3(0x371);}}async function initiateReGradeProcess(_0x26bf12){const _0x3d00f4=_0x5cd971;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x4bf1c2=doc(db,_0x3d00f4(0xab3)+appId+'/public/data/quizzes',_0x26bf12),_0x189e07=await getDoc(_0x4bf1c2);if(!_0x189e07[_0x3d00f4(0x540)]())throw new Error(_0x3d00f4(0x838));const _0x4bbd1e={'id':_0x26bf12,..._0x189e07[_0x3d00f4(0x730)]()},_0x139e4d=collection(db,_0x3d00f4(0xab3)+appId+_0x3d00f4(0xaf2),_0x26bf12,_0x3d00f4(0x961)),_0x1b3f26=await getDocs(_0x139e4d);if(_0x1b3f26[_0x3d00f4(0x246)]){showMessage(_0x3d00f4(0x977));return;}const _0x59b565=_0x1b3f26['docs']['map'](_0x3e062e=>reGradeSingleSubmission(_0x3e062e,_0x4bbd1e));await Promise[_0x3d00f4(0x9ab)](_0x59b565);if(_0x4bbd1e['projectId']){const _0x173d28=doc(db,'artifacts/'+appId+_0x3d00f4(0x6d8),_0x4bbd1e[_0x3d00f4(0x868)]),_0x139fab=await getDoc(_0x173d28);if(_0x139fab[_0x3d00f4(0x540)]()&&_0x139fab[_0x3d00f4(0x730)]()[_0x3d00f4(0x6e3)]){const _0x263cd3=_0x139fab[_0x3d00f4(0x730)]()['students'][_0x3d00f4(0x6e4)](_0x2b8ff9=>updateStudentProfile(_0x4bbd1e[_0x3d00f4(0x868)],_0x2b8ff9));await Promise[_0x3d00f4(0x9ab)](_0x263cd3);}}showMessage(_0x3d00f4(0x1c5)+_0x1b3f26['size']+_0x3d00f4(0x9fb));}catch(_0x30981d){console[_0x3d00f4(0x5a8)]('Re-grade\x20process\x20failed:',_0x30981d),showMessage(_0x3d00f4(0x303)+_0x30981d[_0x3d00f4(0x1f3)]);}}async function reGradeSingleSubmission(_0x1b4018,_0x47bfae){const _0x3b6179=_0x5cd971,_0x9917a2=_0x1b4018[_0x3b6179(0x730)](),_0x3cca62=_0x9917a2[_0x3b6179(0x222)],_0x5a50bd=_0x9917a2[_0x3b6179(0x97b)]||[],_0x497557=[];for(const _0x12682d of _0x5a50bd){let _0x1baa3c=0x0,_0x515e5a=[],_0x6c89ff=0x0;const _0x5ee5ca=[];for(const _0x393623 of _0x12682d[_0x3b6179(0x89e)]){let _0x5b7a05;_0x393623['questionId']&&(_0x5b7a05=_0x47bfae[_0x3b6179(0x1e6)][_0x3b6179(0x3fd)](_0x59d419=>_0x59d419['id']===_0x393623[_0x3b6179(0xa7d)]));!_0x5b7a05&&_0x393623[_0x3b6179(0x9b0)]&&(_0x5b7a05=_0x47bfae[_0x3b6179(0x1e6)]['find'](_0xa59232=>(_0xa59232['stem']||_0xa59232[_0x3b6179(0x2a7)])===_0x393623[_0x3b6179(0x9b0)]));let _0x24ba94=![];if(_0x5b7a05){const _0x38fa89=_0x5b7a05[_0x3b6179(0x969)]||_0x47bfae[_0x3b6179(0x42e)];switch(_0x38fa89){case _0x3b6179(0xa76):if(_0x5b7a05[_0x3b6179(0x369)]&&_0x5b7a05['correctAnswerIndex']<_0x5b7a05[_0x3b6179(0x369)]['length']){const _0x598e42=_0x5b7a05[_0x3b6179(0x369)][_0x5b7a05[_0x3b6179(0x501)]];_0x24ba94=_0x393623['answerText']===_0x598e42;}break;case _0x3b6179(0x8fe):const _0x496ff2=_0x393623[_0x3b6179(0x6cd)]===!![]||_0x393623[_0x3b6179(0x6cd)]===_0x3b6179(0x870);_0x24ba94=_0x496ff2===_0x5b7a05[_0x3b6179(0x276)];break;case _0x3b6179(0x845):_0x24ba94=_0x393623[_0x3b6179(0x6cd)]===_0x5b7a05[_0x3b6179(0x4ae)];break;case'short_answer':_0x24ba94=await gradeShortAnswer(_0x393623[_0x3b6179(0x6cd)],_0x5b7a05);break;default:_0x24ba94=_0x393623[_0x3b6179(0x8cc)];break;}}if(_0x24ba94){_0x1baa3c++,_0x6c89ff++;if(_0x6c89ff===0x3)_0x515e5a[_0x3b6179(0x34a)](BADGES['ON_FIRE']['id']);}else _0x6c89ff=0x0;_0x5ee5ca[_0x3b6179(0x34a)]({..._0x393623,'isCorrect':_0x24ba94});}let _0x2b8aab=_0x1baa3c*0xa;_0x1baa3c===_0x47bfae[_0x3b6179(0x1e6)][_0x3b6179(0x963)]&&(_0x2b8aab+=0x32,_0x515e5a['push'](BADGES[_0x3b6179(0x63d)]['id'])),_0x497557[_0x3b6179(0x34a)]({..._0x12682d,'score':_0x1baa3c,'points':_0x2b8aab,'badges':Array[_0x3b6179(0x96a)](new Set(_0x515e5a)),'answers':_0x5ee5ca});}const _0x6f6621=_0x497557['length']>0x0?_0x497557[0x0][_0x3b6179(0x3e9)]:0x0,_0x5be07a=Math['max'](..._0x497557[_0x3b6179(0x6e4)](_0x1426a2=>_0x1426a2[_0x3b6179(0x3e9)])),_0x217949=_0x497557[_0x3b6179(0x963)]>0x0?_0x497557[_0x497557['length']-0x1]['score']:0x0,_0x5073cb=_0x497557['length']>0x0?_0x497557[_0x497557[_0x3b6179(0x963)]-0x1][_0x3b6179(0x9cb)]:0x0,_0x16997f=doc(db,_0x3b6179(0xab3)+appId+_0x3b6179(0xa37)+_0x47bfae['id']+_0x3b6179(0x2d3),_0x3cca62);await updateDoc(_0x16997f,{'attempts':_0x497557,'firstScore':_0x6f6621,'bestScore':_0x5be07a,'latestScore':_0x217949,'points':_0x5073cb});}function cleanupQuizOptions(_0x28fc67){const _0x19a1f6=_0x5cd971,_0x242451=(_0x3a01c9,_0x1071dc)=>_0x1071dc===0x0?_0x3a01c9:_0x242451(_0x1071dc,_0x3a01c9%_0x1071dc),_0x4f1e06=_0x1c26ac=>{const _0x43e89b=_0x1129;if(typeof _0x1c26ac!==_0x43e89b(0x436))return null;_0x1c26ac=_0x1c26ac[_0x43e89b(0x56b)]();const _0x363f4c=_0x1c26ac['split'](/[ /]/)['filter'](_0x39108e=>_0x39108e!=='');if(_0x363f4c[_0x43e89b(0x963)]===0x3)return parseInt(_0x363f4c[0x0])+parseInt(_0x363f4c[0x1])/parseInt(_0x363f4c[0x2]);else{if(_0x363f4c['length']===0x2)return parseInt(_0x363f4c[0x0])/parseInt(_0x363f4c[0x1]);else{if(_0x363f4c[_0x43e89b(0x963)]===0x1&&!isNaN(_0x363f4c[0x0]))return parseFloat(_0x363f4c[0x0]);}}return null;},_0x81332c=_0x4912d1=>{const _0x3a1e41=_0x1129;if(typeof _0x4912d1!==_0x3a1e41(0x436))return _0x4912d1;const _0x27db94=_0x4912d1['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x27db94){const _0x1fc692=parseInt(_0x27db94[0x1]);let _0x1b1968=parseInt(_0x27db94[0x2]),_0x182891=parseInt(_0x27db94[0x3]);const _0x1a64a8=_0x242451(_0x1b1968,_0x182891);_0x1b1968/=_0x1a64a8,_0x182891/=_0x1a64a8;if(_0x182891===0x1)return(_0x1fc692+_0x1b1968)[_0x3a1e41(0x5ea)]();return _0x1fc692+'\x20'+_0x1b1968+'/'+_0x182891;}return _0x4912d1;};return _0x28fc67&&_0x28fc67[_0x19a1f6(0x1e6)]&&_0x28fc67[_0x19a1f6(0x1e6)][_0x19a1f6(0x5d5)](_0x11a7de=>{const _0x3c7141=_0x19a1f6;if(_0x11a7de['questionType']===_0x3c7141(0xa76)&&_0x11a7de[_0x3c7141(0x369)]){const _0x4819c2=new Map(),_0x19dcba=_0x11a7de[_0x3c7141(0x369)][_0x11a7de[_0x3c7141(0x501)]];_0x11a7de[_0x3c7141(0x369)][_0x3c7141(0x5d5)](_0x50fdd0=>{const _0x5960ab=_0x3c7141,_0x39bdc9=_0x81332c(_0x50fdd0),_0x2e2418=_0x4f1e06(_0x39bdc9);_0x2e2418!==null&&!_0x4819c2['has'](_0x2e2418)&&_0x4819c2[_0x5960ab(0x28f)](_0x2e2418,_0x39bdc9);}),_0x11a7de[_0x3c7141(0x369)]=Array[_0x3c7141(0x96a)](_0x4819c2[_0x3c7141(0xa88)]());const _0x3e9eac=_0x11a7de[_0x3c7141(0x369)][_0x3c7141(0x29c)](_0x52be06=>_0x52be06===_0x81332c(_0x19dcba));_0x11a7de[_0x3c7141(0x501)]=_0x3e9eac!==-0x1?_0x3e9eac:0x0;}}),_0x28fc67;}function showGameStartConfirmationModal(_0x4661b3,_0x47a3e2,_0x213a6e){const _0x4885ba=_0x5cd971,_0x548adc=document[_0x4885ba(0xa59)]('confirm-game-start-modal');document[_0x4885ba(0xa59)]('game-start-modal-title')[_0x4885ba(0x2e0)]='เริ่มกิจกรรม:\x20'+_0x213a6e,document[_0x4885ba(0xa59)](_0x4885ba(0x481))[_0x4885ba(0x630)]=_0x4661b3,document[_0x4885ba(0xa59)](_0x4885ba(0x2a9))[_0x4885ba(0x630)]=_0x47a3e2,document[_0x4885ba(0xa59)](_0x4885ba(0x548))[_0x4885ba(0x31a)]=!![],_0x548adc[_0x4885ba(0x445)][_0x4885ba(0x6b7)]('hidden');}async function saveGameResultsAsSubmissions(_0x2a057f){const _0xbcb901=_0x5cd971;console[_0xbcb901(0xa63)](_0xbcb901(0xac6),_0x2a057f);const _0x5ec0f7=_0x2a057f[_0xbcb901(0x5b7)];let _0x1fffe3=[];if(_0x2a057f[_0xbcb901(0x8d7)])_0x1fffe3=Object[_0xbcb901(0x811)](_0x2a057f[_0xbcb901(0x8d7)])[_0xbcb901(0x6e4)](([_0x6f66d6,_0x31b75a])=>({'name':_0x6f66d6,..._0x31b75a}));else{if(_0x2a057f[_0xbcb901(0x967)])Object[_0xbcb901(0xa88)](_0x2a057f['groups'])[_0xbcb901(0x5d5)](_0x55c98c=>{const _0x5f331b=_0xbcb901;_0x55c98c[_0x5f331b(0x9cf)][_0x5f331b(0x5d5)](_0x231d79=>{_0x1fffe3['push']({'name':_0x231d79,'score':_0x55c98c['score']});});});else _0x2a057f[_0xbcb901(0x55c)]&&Object[_0xbcb901(0x811)](_0x2a057f[_0xbcb901(0x55c)])['forEach'](([_0x4023be,_0x2c44eb])=>{_0x1fffe3['push']({'name':_0x4023be,..._0x2c44eb});});}if(_0x1fffe3['length']===0x0){console[_0xbcb901(0xa63)]('No\x20player\x20data\x20to\x20save.');return;}const _0x722a41=_0x2a057f[_0xbcb901(0x642)]?.[_0xbcb901(0x1e6)][_0xbcb901(0x963)]||currentQuizData[_0xbcb901(0x1e6)][_0xbcb901(0x963)],_0x2f61ee=writeBatch(db);for(const _0x37aa43 of _0x1fffe3){const _0x5165c2=_0x37aa43['score']||0x0,_0x4c9536=doc(db,_0xbcb901(0xab3)+appId+_0xbcb901(0xa37)+_0x5ec0f7+_0xbcb901(0x2d3),_0x37aa43[_0xbcb901(0xa5e)]),_0x1175cf=(_0x37aa43[_0xbcb901(0x89e)]||[])[_0xbcb901(0x75f)](_0x16cf94=>_0x16cf94[_0xbcb901(0x8cc)])[_0xbcb901(0x963)],_0x3c4550={'score':_0x1175cf,'points':_0x5165c2,'badges':_0x37aa43[_0xbcb901(0x798)]||[],'submittedAt':new Date()[_0xbcb901(0x92c)](),'answers':(_0x37aa43[_0xbcb901(0x89e)]||[])[_0xbcb901(0x6e4)](_0x50b3cc=>({'questionId':_0x50b3cc[_0xbcb901(0xa7d)],'answer':_0x50b3cc[_0xbcb901(0x6cd)],'answerText':_0x50b3cc[_0xbcb901(0x9fd)],'isCorrect':_0x50b3cc[_0xbcb901(0x8cc)],'originalQuestionText':_0x50b3cc[_0xbcb901(0x9b0)],'wasConfident':_0x50b3cc['wasConfident']}))},_0x40d286=await getDoc(_0x4c9536),_0x1a0e7a=_0x40d286[_0xbcb901(0x540)]()?_0x40d286[_0xbcb901(0x730)]():{},_0x145b99=_0x1a0e7a[_0xbcb901(0x42b)]||0x0,_0x104004=_0x1a0e7a[_0xbcb901(0x97b)]||[],_0x197b3d={'studentName':_0x37aa43['name'],'totalQuestions':_0x722a41,'attempts':arrayUnion(_0x3c4550),'latestScore':_0x1175cf,'points':_0x5165c2,'latestSubmittedAt':_0x3c4550['submittedAt'],'bestScore':Math['max'](_0x145b99,_0x1175cf),'firstScore':_0x104004['length']===0x0?_0x1175cf:_0x1a0e7a[_0xbcb901(0x4e8)]||0x0};_0x2f61ee[_0xbcb901(0x28f)](_0x4c9536,_0x197b3d,{'merge':!![]});}try{await _0x2f61ee[_0xbcb901(0xaa2)](),showMessage(_0xbcb901(0x5d7)+_0x1fffe3[_0xbcb901(0x963)]+_0xbcb901(0x93f));const _0x1fcdca=_0x2a057f['shuffledQuiz']?.['projectId']||currentQuizData?.[_0xbcb901(0x868)]||currentProjectId;if(_0x1fcdca){const _0x13b22f=[...new Set(_0x1fffe3['map'](_0x461420=>_0x461420[_0xbcb901(0xa5e)]))];for(const _0x5310f2 of _0x13b22f){await updateStudentProfile(_0x1fcdca,_0x5310f2);}}}catch(_0x130fa3){console['error'](_0xbcb901(0x426),_0x130fa3),showMessage(_0xbcb901(0x40a));}}async function saveQuiz(){const _0x49e4c2=_0x5cd971;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x49e4c2(0x1e6)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x324d69=document[_0x49e4c2(0xa59)]('save-quiz-btn');_0x324d69[_0x49e4c2(0x3cd)]=!![],_0x324d69['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x5c9c3c=document[_0x49e4c2(0xa59)]('pre-test-checkbox')[_0x49e4c2(0x31a)];let _0x5be93c=document[_0x49e4c2(0xa59)](_0x49e4c2(0x968))[_0x49e4c2(0x182)][_0x49e4c2(0x56b)]();_0x5c9c3c&&!_0x5be93c[_0x49e4c2(0x9b9)](_0x49e4c2(0x608))&&(_0x5be93c='(ก่อนเรียน)\x20'+_0x5be93c);try{const _0x144f65={'resultsDisplay':document[_0x49e4c2(0xa59)](_0x49e4c2(0x71e))[_0x49e4c2(0x630)],'shuffle':document[_0x49e4c2(0xa59)](_0x49e4c2(0x271))[_0x49e4c2(0x630)],'timerMode':document[_0x49e4c2(0xa59)](_0x49e4c2(0xac7))[_0x49e4c2(0x630)],'timerDuration':parseInt(document['getElementById']('timer-duration-input')[_0x49e4c2(0x630)])||0xa,'passingScore':parseInt(document[_0x49e4c2(0xa59)](_0x49e4c2(0x64f))['value'])||0x0,'isAdaptive':document[_0x49e4c2(0xa59)](_0x49e4c2(0x72b))[_0x49e4c2(0x31a)],'loopUntilPass':document[_0x49e4c2(0xa59)](_0x49e4c2(0x87d))[_0x49e4c2(0x31a)]},_0x56d800=(currentQuizData['questions']||[])['map']((_0x2db36a,_0x4551e9)=>{const _0x2e4634=_0x49e4c2,_0x4931e2=document[_0x2e4634(0xa59)](_0x2e4634(0x8b9))[_0x2e4634(0x630)],_0x3b0622={'id':'q_'+Date['now']()+'_'+_0x4551e9,'questionText':_0x2db36a['questionText']||'','explanation':_0x2db36a[_0x2e4634(0x9fc)]||_0x2e4634(0x844),'questionType':_0x2db36a[_0x2e4634(0x969)]||_0x4931e2,'imageCode':_0x2db36a['imageCode']||null};return(_0x3b0622[_0x2e4634(0x969)]===_0x2e4634(0xa76)||_0x3b0622[_0x2e4634(0x969)]===_0x2e4634(0x370)||_0x3b0622[_0x2e4634(0x969)]===_0x2e4634(0x7a8)&&_0x2db36a[_0x2e4634(0x369)])&&(_0x3b0622['options']=_0x2db36a[_0x2e4634(0x369)]||[],_0x3b0622[_0x2e4634(0x501)]=_0x2db36a[_0x2e4634(0x501)]!==undefined?_0x2db36a[_0x2e4634(0x501)]:0x0),(_0x3b0622['questionType']===_0x2e4634(0x536)||_0x3b0622[_0x2e4634(0x969)]===_0x2e4634(0x732)||_0x3b0622[_0x2e4634(0x969)]==='mixed'&&_0x2db36a['idealAnswer'])&&(_0x3b0622[_0x2e4634(0x5e7)]=_0x2db36a['idealAnswer']||''),_0x3b0622[_0x2e4634(0x969)]===_0x2e4634(0x8fe)&&(_0x3b0622[_0x2e4634(0x276)]=_0x2db36a[_0x2e4634(0x276)]===!![]),_0x3b0622[_0x2e4634(0x969)]==='matching_item'&&(_0x3b0622['stem']=_0x2db36a[_0x2e4634(0x5ce)]||'',_0x3b0622[_0x2e4634(0x4ae)]=_0x2db36a['correctResponse']||'',_0x3b0622[_0x2e4634(0x70c)]=_0x2db36a[_0x2e4634(0x70c)]||[]),_0x3b0622;}),_0x39c6bf={'topic':_0x5be93c,'quizType':currentQuizData['quizType']||_0x49e4c2(0xa76),'questions':_0x56d800,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x49e4c2(0x92c)](),'status':_0x49e4c2(0x18e),'settings':_0x144f65,'quizMode':_0x5c9c3c?_0x49e4c2(0x994):_0x49e4c2(0x710),'pairedQuizId':null,'lessonPlan':null};let _0x1b0271;while(!![]){_0x1b0271=Math[_0x49e4c2(0x68d)](0x3e8+Math[_0x49e4c2(0x309)]()*0x2328)[_0x49e4c2(0x5ea)]();const _0x2bab78=await getDoc(doc(db,_0x49e4c2(0xab3)+appId+'/public/data/quizzes',_0x1b0271));if(!_0x2bab78['exists']())break;}await setDoc(doc(db,_0x49e4c2(0xab3)+appId+'/public/data/quizzes',_0x1b0271),_0x39c6bf),currentQuizData['settings']=_0x144f65,currentQuizData['id']=_0x1b0271;const _0x1fcb32=document['getElementById'](_0x49e4c2(0x8a4));_0x1fcb32[_0x49e4c2(0x43a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x1b0271+_0x49e4c2(0x99c),document[_0x49e4c2(0xa59)](_0x49e4c2(0x307))[_0x49e4c2(0x1ce)]('click',()=>copyTextToClipboard(_0x1b0271,'คัดลอกรหัสแล้ว!')),document[_0x49e4c2(0xa59)](_0x49e4c2(0xaf6))['addEventListener'](_0x49e4c2(0x420),()=>handleStartLiveRace(_0x1b0271)),document[_0x49e4c2(0xa59)]('start-presentation-btn')[_0x49e4c2(0x1ce)]('click',()=>startPresentation(currentQuizData)),document[_0x49e4c2(0xa59)]('admin-try-quiz-btn')[_0x49e4c2(0x1ce)](_0x49e4c2(0x420),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x544bc3){console[_0x49e4c2(0x5a8)]('Error\x20saving\x20quiz:',_0x544bc3),showMessage(_0x49e4c2(0xaf8)),_0x324d69['disabled']=![],_0x324d69[_0x49e4c2(0x43a)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x9bb07b=_0x5cd971,_0x2ce3ad=document[_0x9bb07b(0xa59)](_0x9bb07b(0xa1b)),_0x390090=document[_0x9bb07b(0xa59)](_0x9bb07b(0x533)),_0x26d404=_0x2ce3ad[_0x9bb07b(0x5b4)]('h3'),_0x81c851=document['getElementById']('confirm-move-quiz-btn');_0x26d404[_0x9bb07b(0x2e0)]=_0x9bb07b(0x90c),_0x81c851[_0x9bb07b(0x2e0)]='เลือกและบันทึก';allProjects[_0x9bb07b(0x963)]===0x0?(_0x390090[_0x9bb07b(0x43a)]=_0x9bb07b(0x73d),_0x81c851[_0x9bb07b(0x3cd)]=!![]):(_0x390090[_0x9bb07b(0x43a)]=allProjects['map'](_0x25e7f9=>_0x9bb07b(0x99f)+_0x25e7f9['id']+'\x22>'+_0x25e7f9[_0x9bb07b(0x1ff)]+_0x9bb07b(0x51b))[_0x9bb07b(0x386)](''),_0x81c851['disabled']=![]);_0x2ce3ad['classList'][_0x9bb07b(0x6b7)](_0x9bb07b(0x318));const _0x36b863=()=>{const _0x1cdac2=_0x9bb07b,_0x979179=_0x390090[_0x1cdac2(0x630)];_0x979179?(currentProjectId=_0x979179,_0x2ce3ad[_0x1cdac2(0x445)][_0x1cdac2(0x874)](_0x1cdac2(0x318)),saveQuiz(),_0x26d404['textContent']=_0x1cdac2(0x7f3),_0x81c851[_0x1cdac2(0x2e0)]=_0x1cdac2(0x5a7),_0x81c851[_0x1cdac2(0x3b4)](_0x1cdac2(0x420),_0x36b863),_0x81c851[_0x1cdac2(0x1ce)](_0x1cdac2(0x420),confirmMoveQuiz)):showMessage(_0x1cdac2(0x84a));};_0x81c851[_0x9bb07b(0x3b4)]('click',confirmMoveQuiz),_0x81c851['addEventListener'](_0x9bb07b(0x420),_0x36b863);}function copyTextToClipboard(_0x441181,_0x118b1){const _0x5a87ca=_0x5cd971,_0x5d1e1e=document[_0x5a87ca(0x3b7)](_0x5a87ca(0x910));_0x5d1e1e[_0x5a87ca(0x630)]=_0x441181,_0x5d1e1e[_0x5a87ca(0x588)][_0x5a87ca(0x4fa)]=_0x5a87ca(0x33f),_0x5d1e1e['style']['opacity']='0',document[_0x5a87ca(0x23e)]['appendChild'](_0x5d1e1e),_0x5d1e1e[_0x5a87ca(0x35a)](),_0x5d1e1e[_0x5a87ca(0x7c0)]();try{const _0x4296c6=document[_0x5a87ca(0x65d)](_0x5a87ca(0x9e3));showMessage(_0x4296c6?_0x118b1:_0x5a87ca(0x1ef));}catch(_0x4073ce){showMessage(_0x5a87ca(0x1ef)),console[_0x5a87ca(0x5a8)]('Copy\x20command\x20failed',_0x4073ce);}document[_0x5a87ca(0x23e)][_0x5a87ca(0x595)](_0x5d1e1e);}function listenForProjectQuizzes(_0x2e8c3b){const _0x24b2f4=_0x5cd971,_0x14726a=collection(db,_0x24b2f4(0xab3)+appId+'/public/data/quizzes'),_0x3582d2=query(_0x14726a,where(_0x24b2f4(0x868),'==',_0x2e8c3b));unsubscribeQuizzesListener=onSnapshot(_0x3582d2,async _0x459981=>{const _0x5055fe=_0x24b2f4;allQuizzes=_0x459981[_0x5055fe(0x354)][_0x5055fe(0x6e4)](_0x2dc308=>({'id':_0x2dc308['id'],..._0x2dc308[_0x5055fe(0x730)]()})),renderQuizzes();},_0x5d4711=>{const _0x6cf166=_0x24b2f4;console[_0x6cf166(0x5a8)](_0x6cf166(0x54e),_0x5d4711),document[_0x6cf166(0xa59)]('project-quizzes-list')[_0x6cf166(0x43a)]=_0x6cf166(0x79e);});}async function renderQuizzes(){const _0x41d73f=_0x5cd971,_0x13a667=document[_0x41d73f(0xa59)](_0x41d73f(0x1b5)),_0x31f95c=document[_0x41d73f(0xa59)](_0x41d73f(0x4f7))[_0x41d73f(0x630)][_0x41d73f(0x57d)]();let _0x19cad5;currentProjectId===_0x41d73f(0x2a5)?_0x19cad5=starredQuizzes:_0x19cad5=allQuizzes;let _0x476d17=_0x19cad5['filter'](_0x48522d=>_0x48522d['topic']['toLowerCase']()[_0x41d73f(0x1c3)](_0x31f95c));_0x476d17['sort']((_0x129014,_0x487127)=>new Date(_0x487127[_0x41d73f(0x3d1)])-new Date(_0x129014[_0x41d73f(0x3d1)]));if(_0x476d17[_0x41d73f(0x963)]===0x0){_0x13a667[_0x41d73f(0x43a)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x5876db={},_0x25e1a3=_0x476d17['map'](async _0x34699e=>{const _0x2b9f1b=_0x41d73f,_0x10c5b7=collection(db,_0x2b9f1b(0xab3)+appId+_0x2b9f1b(0xa37)+_0x34699e['id']+_0x2b9f1b(0x2d3)),_0x5f3c3a=await getDocs(_0x10c5b7);_0x5876db[_0x34699e['id']]=_0x5f3c3a[_0x2b9f1b(0x2b4)];});await Promise[_0x41d73f(0x9ab)](_0x25e1a3);let _0x572fce='';_0x476d17[_0x41d73f(0x5d5)](_0xfe0c98=>{const _0x187e9d=_0x41d73f,_0x5e03fd=_0x5876db[_0xfe0c98['id']]||0x0,_0x2431b3=_0xfe0c98[_0x187e9d(0x6c8)]||_0x187e9d(0x18e),_0x21b51d=_0xfe0c98['settings']?.[_0x187e9d(0xaf7)]||_0x187e9d(0x936);let _0xcf20cf='',_0x55b147='';const _0x181145=new Date();let _0x31f6e7=_0x2431b3;if(_0x2431b3===_0x187e9d(0x2c4)){const _0x26df38=_0xfe0c98[_0x187e9d(0xa8c)]?new Date(_0xfe0c98[_0x187e9d(0xa8c)]):null,_0x10b6e4=_0xfe0c98[_0x187e9d(0x3e0)]?new Date(_0xfe0c98['endTime']):null;if(_0x10b6e4&&_0x181145>_0x10b6e4)_0x31f6e7='inactive';else _0x26df38&&_0x181145<_0x26df38?_0x31f6e7=_0x187e9d(0x1a9):_0x31f6e7=_0x187e9d(0x18e);}switch(_0x31f6e7){case'inactive':_0xcf20cf=_0x187e9d(0x696),_0x55b147=_0x187e9d(0xac4);break;case _0x187e9d(0x1a9):_0xcf20cf='รอเปิด',_0x55b147=_0x187e9d(0x4b8);break;case _0x187e9d(0x18e):_0xcf20cf=_0x21b51d!==_0x187e9d(0x936)?_0x187e9d(0x36e):_0x187e9d(0x362),_0x55b147='text-green-700\x20bg-green-100';break;default:_0xcf20cf='ตั้งเวลา\x20(เปิด)',_0x55b147=_0x187e9d(0x17c);break;}let _0x2f4cf8='';const _0x2d70f6={'day':_0x187e9d(0x566),'month':_0x187e9d(0x566),'year':_0x187e9d(0xa5d),'hour':_0x187e9d(0x566),'minute':_0x187e9d(0x566),'hour12':![]};if(_0x2431b3==='scheduled'){if(_0xfe0c98[_0x187e9d(0xa8c)])_0x2f4cf8+=_0x187e9d(0x92d)+new Date(_0xfe0c98[_0x187e9d(0xa8c)])['toLocaleString'](_0x187e9d(0x20e),_0x2d70f6)+'</p>';if(_0xfe0c98['endTime'])_0x2f4cf8+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0xfe0c98[_0x187e9d(0x3e0)])[_0x187e9d(0x61d)](_0x187e9d(0x20e),_0x2d70f6)+_0x187e9d(0xae8);}let _0x132b3c='';if(_0xfe0c98[_0x187e9d(0x71a)]){const _0x3d8ba5=allQuizzes['find'](_0x220406=>_0x220406['id']===_0xfe0c98[_0x187e9d(0x71a)]);if(_0x3d8ba5){let _0x4aa0ae,_0x545e7a;new Date(_0xfe0c98[_0x187e9d(0x3d1)])<new Date(_0x3d8ba5[_0x187e9d(0x3d1)])?(_0x4aa0ae=_0xfe0c98['id'],_0x545e7a=_0x3d8ba5['id']):(_0x4aa0ae=_0x3d8ba5['id'],_0x545e7a=_0xfe0c98['id']),_0x132b3c+=_0x187e9d(0x2cf)+_0x545e7a+_0x187e9d(0x4c9)+_0x4aa0ae+_0x187e9d(0x3a2);}}else _0xfe0c98[_0x187e9d(0x1fd)]===_0x187e9d(0x994)&&(_0x132b3c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xfe0c98['id']+_0x187e9d(0x3fa));if(_0xfe0c98['quizMode']==='pre-test'&&_0x5e03fd>0x0)_0x132b3c+=_0x187e9d(0x35b)+_0xfe0c98['id']+_0x187e9d(0x827);else!_0xfe0c98['pairedQuizId']&&_0xfe0c98[_0x187e9d(0x1fd)]!=='pre-test'&&_0x5e03fd>0x0&&(_0x132b3c+=_0x187e9d(0x35b)+_0xfe0c98['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x48318a='';_0xfe0c98[_0x187e9d(0x71a)]?_0x48318a=_0x187e9d(0x861)+_0xfe0c98['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x48318a=_0x187e9d(0x861)+_0xfe0c98['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x572fce+=_0x187e9d(0x907)+_0xfe0c98['id']+_0x187e9d(0xaa6)+_0xfe0c98[_0x187e9d(0xaad)]+_0x187e9d(0xa73)+_0xfe0c98[_0x187e9d(0x1e6)][_0x187e9d(0x963)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0xfe0c98[_0x187e9d(0x3d1)])[_0x187e9d(0x61d)]('th-TH')+_0x187e9d(0x77c)+_0x5e03fd+_0x187e9d(0x952)+_0x2f4cf8+_0x187e9d(0x549)+_0x55b147+'\x22>'+_0xcf20cf+_0x187e9d(0x45b)+_0xfe0c98['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xfe0c98['id']+_0x187e9d(0x892)+(_0xfe0c98[_0x187e9d(0x783)]?_0x187e9d(0x612):_0x187e9d(0x9d7))+_0x187e9d(0x621)+_0x132b3c+_0x187e9d(0x25d)+_0xfe0c98['id']+_0x187e9d(0x574)+_0xfe0c98['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xfe0c98['id']+_0x187e9d(0xaab)+_0xfe0c98['id']+_0x187e9d(0x87e)+_0xfe0c98['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xfe0c98['id']+_0x187e9d(0x615)+_0xfe0c98['id']+_0x187e9d(0x771)+_0xfe0c98[_0x187e9d(0xaad)]+_0x187e9d(0x458)+_0xfe0c98['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xfe0c98['id']+_0x187e9d(0x5ca)+_0x48318a+_0x187e9d(0x2ab)+_0xfe0c98['id']+_0x187e9d(0x2c6)+_0xfe0c98['id']+_0x187e9d(0x72e)+_0xfe0c98['id']+_0x187e9d(0x9b7)+_0xfe0c98['id']+_0x187e9d(0x483)+_0xfe0c98['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xfe0c98['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xfe0c98['id']+_0x187e9d(0x913)+_0xfe0c98['id']+'\x22\x20data-topic=\x22'+_0xfe0c98[_0x187e9d(0xaad)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0xfe0c98['id']+_0x187e9d(0x675);}),_0x13a667[_0x41d73f(0x43a)]=_0x572fce,document['querySelectorAll'](_0x41d73f(0x579))[_0x41d73f(0x5d5)](_0xde63d4=>{const _0x27fd2e=_0x41d73f;_0xde63d4[_0x27fd2e(0x1ce)](_0x27fd2e(0x420),()=>{const _0x4ba098=_0x27fd2e,_0x2a4029=_0xde63d4[_0x4ba098(0xafb)][_0x4ba098(0x5b7)];showQuizDetailView(_0x2a4029);});});}async function handleUnpairQuiz(_0x319ab3){const _0x2f780b=_0x5cd971,_0x1563b6=allQuizzes[_0x2f780b(0x3fd)](_0x1edec9=>_0x1edec9['id']===_0x319ab3);if(!_0x1563b6||!_0x1563b6['pairedQuizId']){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x2f780b(0x299),async()=>{const _0x4faddb=_0x2f780b;try{const _0xb3dd49=doc(db,_0x4faddb(0xab3)+appId+_0x4faddb(0xaf2),_0x319ab3),_0x5637d6=doc(db,_0x4faddb(0xab3)+appId+_0x4faddb(0xaf2),_0x1563b6[_0x4faddb(0x71a)]),_0x243a3a=writeBatch(db);_0x243a3a[_0x4faddb(0x2f6)](_0xb3dd49,{'pairedQuizId':null}),_0x243a3a[_0x4faddb(0x2f6)](_0x5637d6,{'pairedQuizId':null}),await _0x243a3a[_0x4faddb(0xaa2)](),showMessage(_0x4faddb(0xa4a));}catch(_0x400617){console['error'](_0x4faddb(0x57c),_0x400617),showMessage(_0x4faddb(0x637));}});}function formatAndPrintLessonPlan(_0x369603,_0x1a92ee){const _0x260607=_0x5cd971,_0x8a660b=window[_0x260607(0x841)]('',_0x260607(0x6cc)),_0x72ae00=_0x260607(0x6e2)+_0x1a92ee['topic']+_0x260607(0xa81)+_0x1a92ee[_0x260607(0xaad)]+_0x260607(0x23a)+_0x369603[_0x260607(0x625)][_0x260607(0x6e4)](_0x30a4fb=>'<li>'+_0x30a4fb+_0x260607(0x3e6))[_0x260607(0x386)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x369603[_0x260607(0x705)]+_0x260607(0x65e)+_0x369603[_0x260607(0x41a)][_0x260607(0x6e4)](_0x2fd34a=>_0x260607(0x7b8)+_0x2fd34a[_0x260607(0x6ee)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x2fd34a[_0x260607(0x793)]+_0x260607(0x953))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x8a660b['document'][_0x260607(0x511)](_0x72ae00),_0x8a660b[_0x260607(0x40e)][_0x260607(0x20c)](),_0x8a660b[_0x260607(0x9ee)]=function(){setTimeout(()=>{const _0x1543f1=_0x1129;_0x8a660b[_0x1543f1(0x251)]();},0x3e8);};}async function handleAiFixFormula(_0x394c71){const _0x24e770=_0x5cd971,_0x39f889=document[_0x24e770(0x5b4)](_0x24e770(0x616)+_0x394c71+'\x22]');if(!_0x39f889)return;const _0x28212d=_0x39f889[_0x24e770(0xafb)][_0x24e770(0x1f9)],_0x1c29cd=_0x39f889[_0x24e770(0x5b4)](_0x24e770(0x379));let _0x5878e7={'question':_0x39f889[_0x24e770(0x5b4)](_0x24e770(0x910))[_0x24e770(0x630)]};switch(_0x28212d){case'multiple_choice':_0x5878e7['options']=Array[_0x24e770(0x96a)](_0x39f889[_0x24e770(0x1f8)](_0x24e770(0x94a)))[_0x24e770(0x6e4)](_0x28ccb2=>_0x28ccb2[_0x24e770(0x630)]);break;case'short_answer':_0x5878e7[_0x24e770(0x5e7)]=_0x39f889[_0x24e770(0x5b4)](_0x24e770(0x1eb))[_0x24e770(0x630)];break;case _0x24e770(0x845):_0x5878e7['correctResponse']=_0x39f889[_0x24e770(0x5b4)]('.correct-response-input')[_0x24e770(0x630)];break;}_0x1c29cd['innerHTML']=_0x24e770(0x64c),_0x1c29cd[_0x24e770(0x3cd)]=!![];try{const _0x5e8b3e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON['stringify'](_0x5878e7)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x48fc0c={'type':_0x24e770(0x3b9),'properties':{'fixedData':{'type':_0x24e770(0x3b9),'properties':{'question':{'type':_0x24e770(0x81e)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'idealAnswer':{'type':_0x24e770(0x81e)},'correctResponse':{'type':_0x24e770(0x81e)}},'required':[_0x24e770(0x6ee)]}},'required':[_0x24e770(0x3be)]},_0x324be8=await callAnalysisApi(_0x5e8b3e,_0x48fc0c);if(_0x324be8&&_0x324be8['fixedData']){const _0x2ab425=_0x324be8[_0x24e770(0x3be)];_0x39f889[_0x24e770(0x5b4)](_0x24e770(0x910))['value']=_0x2ab425[_0x24e770(0x6ee)]||_0x5878e7['question'];switch(_0x28212d){case _0x24e770(0xa76):_0x2ab425[_0x24e770(0x369)]&&_0x2ab425[_0x24e770(0x369)][_0x24e770(0x963)]>0x0&&_0x39f889[_0x24e770(0x1f8)](_0x24e770(0x94a))['forEach']((_0x2548ef,_0x5bee02)=>{const _0x1e991f=_0x24e770;_0x2548ef[_0x1e991f(0x630)]=_0x2ab425[_0x1e991f(0x369)][_0x5bee02]||_0x5878e7[_0x1e991f(0x369)][_0x5bee02];});break;case _0x24e770(0x536):_0x39f889[_0x24e770(0x5b4)]('.ideal-answer-input')[_0x24e770(0x630)]=_0x2ab425['idealAnswer']||_0x5878e7[_0x24e770(0x5e7)];break;case _0x24e770(0x845):_0x39f889[_0x24e770(0x5b4)]('.correct-response-input')['value']=_0x2ab425[_0x24e770(0x4ae)]||_0x5878e7['correctResponse'];break;}if(_0x5878e7[_0x24e770(0x6ee)]!==_0x2ab425[_0x24e770(0x6ee)])try{const _0xcb6a51=collection(db,_0x24e770(0xab3)+appId+'/public/data/learnedFixes');await addDoc(_0xcb6a51,{'broken':_0x5878e7[_0x24e770(0x6ee)],'fixed':_0x2ab425['question'],'createdAt':serverTimestamp()});}catch(_0x2d39d2){console[_0x24e770(0x5a8)](_0x24e770(0x7d5),_0x2d39d2);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x24e770(0x47c));}catch(_0x510aa2){console['error']('AI\x20Formula\x20Fix\x20Error:',_0x510aa2),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x1c29cd[_0x24e770(0x43a)]='<i\x20class=\x22fas\x20fa-magic\x22></i>',_0x1c29cd[_0x24e770(0x3cd)]=![];}}async function handleGenerateLessonPlan(_0x169727){const _0x313d7f=_0x5cd971;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x37374a=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x169727),_0x3cef4c=await getDoc(_0x37374a);if(!_0x3cef4c['exists']())throw new Error(_0x313d7f(0x838));const _0x151510={'id':_0x169727,..._0x3cef4c['data']()},_0x2072a3=collection(db,_0x313d7f(0xab3)+appId+_0x313d7f(0xaf2),_0x169727,_0x313d7f(0x961)),_0x18e117=await getDocs(_0x2072a3),_0x434ea7=_0x18e117[_0x313d7f(0x354)][_0x313d7f(0x6e4)](_0x466f17=>_0x466f17[_0x313d7f(0x730)]());if(_0x434ea7['length']===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x5e9a68=calculateItemAnalysis(_0x151510,_0x434ea7)[_0x313d7f(0x30a)],_0x54b11e=calculateDistractorAnalysis(_0x151510,_0x434ea7),_0x208afb=_0x11f2e0=>{const _0x4921ee=_0x313d7f;if(!_0x11f2e0)return'';return _0x11f2e0[_0x4921ee(0x263)](/\\/g,'\x5c\x5c')[_0x4921ee(0x263)](/"/g,'\x5c\x22')[_0x4921ee(0x263)](/\n/g,'\x5cn');};let _0x973674=_0x313d7f(0x19b);_0x151510['questions'][_0x313d7f(0x5d5)]((_0x5d2994,_0x3d74c1)=>{const _0x2edb60=_0x313d7f,_0x2ebb59=_0x5e9a68[_0x3d74c1]?.['p'][_0x2edb60(0x2a4)](0x2)||_0x2edb60(0x6c2),_0x4f13f1=_0x5e9a68[_0x3d74c1]?.['r'][_0x2edb60(0x2a4)](0x2)||_0x2edb60(0x6c2),_0x38e540=_0x208afb(_0x5d2994['questionText']||_0x5d2994[_0x2edb60(0x5ce)]);_0x973674+='-\x20ข้อ\x20'+(_0x3d74c1+0x1)+_0x2edb60(0x8df)+_0x2ebb59+_0x2edb60(0x787)+_0x4f13f1+_0x2edb60(0x624)+_0x38e540+'\x5cn';if(_0x5d2994[_0x2edb60(0x969)]===_0x2edb60(0xa76)&&_0x54b11e[_0x3d74c1]){const _0x12ed0d=_0x54b11e[_0x3d74c1],_0x220dee=Object[_0x2edb60(0xa57)](_0x12ed0d)[_0x2edb60(0x75f)](_0x2da292=>parseInt(_0x2da292)!==_0x5d2994[_0x2edb60(0x501)])[_0x2edb60(0x695)]((_0x11a109,_0x524f81)=>_0x12ed0d[_0x524f81][_0x2edb60(0x4d5)]-_0x12ed0d[_0x11a109][_0x2edb60(0x4d5)])[0x0];if(_0x220dee&&_0x12ed0d[_0x220dee]['total']>0x0){const _0x48bdfa=_0x208afb(_0x12ed0d[_0x220dee][_0x2edb60(0x282)]);_0x973674+=_0x2edb60(0x381)+_0x48bdfa+_0x2edb60(0x964);}}});const _0x274572=_0x313d7f(0xabd)+_0x151510[_0x313d7f(0xaad)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x973674+_0x313d7f(0x5c8),_0x4e49c7={'type':_0x313d7f(0x3b9),'properties':{'learningGaps':{'type':_0x313d7f(0x3af),'items':{'type':_0x313d7f(0x81e)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x313d7f(0x3af),'items':{'type':_0x313d7f(0x3b9),'properties':{'question':{'type':_0x313d7f(0x81e)},'solution':{'type':_0x313d7f(0x81e)}}}}},'required':[_0x313d7f(0x625),_0x313d7f(0x705),_0x313d7f(0x41a)]},_0x3b6067=await callAnalysisApi(_0x274572,_0x4e49c7);await updateDoc(_0x37374a,{'lessonPlan':_0x3b6067});const _0x46df14=_0x313d7f(0x25a)+_0x151510[_0x313d7f(0xaad)]+_0x313d7f(0x203)+_0x3b6067[_0x313d7f(0x625)][_0x313d7f(0x6e4)](_0x2a0ba1=>_0x313d7f(0x86f)+_0x2a0ba1+_0x313d7f(0x3e6))[_0x313d7f(0x386)]('')+_0x313d7f(0x704)+_0x3b6067[_0x313d7f(0x705)]+_0x313d7f(0xab6)+_0x3b6067[_0x313d7f(0x41a)]['map'](_0x32a77e=>_0x313d7f(0xa71)+_0x32a77e[_0x313d7f(0x6ee)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x32a77e[_0x313d7f(0x793)]+_0x313d7f(0x5a3))[_0x313d7f(0x386)]('')+_0x313d7f(0x9d8);document[_0x313d7f(0xa59)](_0x313d7f(0x1e4))[_0x313d7f(0x2e0)]=_0x313d7f(0x172)+_0x151510[_0x313d7f(0xaad)],document[_0x313d7f(0xa59)](_0x313d7f(0x556))['innerHTML']=_0x46df14,document[_0x313d7f(0xa59)](_0x313d7f(0x781))[_0x313d7f(0x445)]['remove'](_0x313d7f(0x318));if(window[_0x313d7f(0x28d)])MathJax[_0x313d7f(0x2b6)]();messageModal[_0x313d7f(0x445)][_0x313d7f(0x874)](_0x313d7f(0x318));}catch(_0xdadbe8){console[_0x313d7f(0x5a8)](_0x313d7f(0x1ec),_0xdadbe8),showMessage(_0x313d7f(0x9db)+_0xdadbe8[_0x313d7f(0x1f3)]);}}async function handleDuplicateQuiz(_0x152c59){const _0x3bc335=_0x5cd971;try{const _0x21af08=doc(db,_0x3bc335(0xab3)+appId+'/public/data/quizzes',_0x152c59),_0x4caa4f=await getDoc(_0x21af08);if(_0x4caa4f[_0x3bc335(0x540)]()){const _0x567df1=_0x4caa4f[_0x3bc335(0x730)]();let _0x11dc53='',_0xb60c78=_0x3bc335(0x710),_0x5c195b=null;if(_0x567df1[_0x3bc335(0x1fd)]==='pre-test'){let _0x43f8aa=_0x567df1[_0x3bc335(0xaad)][_0x3bc335(0x263)]('(ก่อนเรียน)','')['trim']();_0x11dc53=_0x3bc335(0x6af)+_0x43f8aa,_0xb60c78=_0x3bc335(0x6d7),_0x5c195b=_0x152c59;}else _0x11dc53=_0x3bc335(0x529)+_0x567df1[_0x3bc335(0xaad)];const _0x40bdb1={..._0x567df1,'topic':_0x11dc53,'createdAt':new Date()[_0x3bc335(0x92c)](),'quizMode':_0xb60c78,'pairedQuizId':_0x5c195b};let _0x1bc30c;while(!![]){_0x1bc30c=Math[_0x3bc335(0x68d)](0x3e8+Math[_0x3bc335(0x309)]()*0x2328)[_0x3bc335(0x5ea)]();const _0x1874ca=await getDoc(doc(db,_0x3bc335(0xab3)+appId+_0x3bc335(0xaf2),_0x1bc30c));if(!_0x1874ca[_0x3bc335(0x540)]())break;}const _0x579f69=doc(db,_0x3bc335(0xab3)+appId+_0x3bc335(0xaf2),_0x1bc30c);await setDoc(_0x579f69,_0x40bdb1),_0x40bdb1['quizMode']===_0x3bc335(0x6d7)&&await updateDoc(_0x21af08,{'pairedQuizId':_0x1bc30c}),showMessage(_0x3bc335(0xa61));}else throw new Error(_0x3bc335(0x8aa));}catch(_0x1ea99c){console[_0x3bc335(0x5a8)](_0x3bc335(0x9f2),_0x1ea99c),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x49bebd,_0x386272=!![]){const _0x332ace=_0x5cd971;try{const _0x2b8efd=writeBatch(db),_0x3dd105=collection(db,_0x332ace(0xab3)+appId+_0x332ace(0xa37)+_0x49bebd+_0x332ace(0x2d3)),_0x549c9a=await getDocs(_0x3dd105);_0x549c9a['forEach'](_0x23a2e7=>{const _0x4c684d=_0x332ace;_0x2b8efd[_0x4c684d(0x643)](doc(_0x3dd105,_0x23a2e7['id']));});const _0x3e8d25=doc(db,'artifacts/'+appId+_0x332ace(0xaf2),_0x49bebd);_0x2b8efd['delete'](_0x3e8d25),await _0x2b8efd[_0x332ace(0xaa2)](),_0x386272&&showMessage(_0x332ace(0x9a7));}catch(_0x2665b6){console['error'](_0x332ace(0x73f),_0x2665b6),_0x386272&&showMessage(_0x332ace(0x6ff));}}async function showQuizDetailView(_0x4c38e4){const _0x2bd228=_0x5cd971;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x42d7fc=doc(db,_0x2bd228(0xab3)+appId+_0x2bd228(0xaf2),_0x4c38e4),_0x540d54=await getDoc(_0x42d7fc);if(!_0x540d54[_0x2bd228(0x540)]()){showMessage(_0x2bd228(0x838));return;}const _0x46bb62={'id':_0x540d54['id'],..._0x540d54[_0x2bd228(0x730)]()};currentQuizData=_0x46bb62;const _0xed2e3c=doc(db,_0x2bd228(0xab3)+appId+'/public/data/projects',_0x46bb62['projectId']),_0x4813ce=await getDoc(_0xed2e3c);_0x4813ce['exists']()?(currentProjectData=_0x4813ce['data'](),currentProjectId=_0x46bb62[_0x2bd228(0x868)]):(currentProjectData={'students':[]},currentProjectId=_0x46bb62[_0x2bd228(0x868)]);document[_0x2bd228(0xa59)](_0x2bd228(0x825))[_0x2bd228(0x2e0)]=_0x46bb62[_0x2bd228(0xaad)],document[_0x2bd228(0xa59)](_0x2bd228(0x4d7))[_0x2bd228(0x2e0)]=_0x4c38e4;const _0x5dde76=collection(db,'artifacts/'+appId+_0x2bd228(0xaf2),_0x4c38e4,_0x2bd228(0x961));unsubscribeSubmissionsListener=onSnapshot(_0x5dde76,_0x411cc0=>{const _0x5719e8=_0x2bd228,_0x2207a6=_0x411cc0[_0x5719e8(0x354)][_0x5719e8(0x6e4)](_0x43b1f5=>({'id':_0x43b1f5['id'],..._0x43b1f5[_0x5719e8(0x730)]()}));currentSubmissions=_0x2207a6;const _0xfdd153=_0x2207a6[_0x5719e8(0x75f)](_0x18e9eb=>_0x18e9eb[_0x5719e8(0x97b)]&&_0x18e9eb[_0x5719e8(0x97b)][_0x5719e8(0x963)]>0x0);renderBehaviorLog(_0x2207a6),renderAnswerGrid(currentProjectData[_0x5719e8(0x6e3)],_0xfdd153,_0x46bb62),renderAnalytics(_0x46bb62,_0xfdd153),renderQuizResultsTable(currentProjectData[_0x5719e8(0x6e3)],_0x2207a6,_0x46bb62),renderQuizLeaderboard(_0xfdd153,_0x46bb62,_0x5719e8(0x7a7));}),showView(_0x2bd228(0x319));}catch(_0x135549){console['error'](_0x2bd228(0x438),_0x135549),showMessage(_0x2bd228(0x9a2));}}function renderAnswerGrid(_0xad0a5f,_0x18876b,_0x4256a1){const _0x322522=_0x5cd971,_0x518277=document[_0x322522(0xa59)](_0x322522(0x18b));if(!_0x518277)return;if(!_0xad0a5f||_0xad0a5f['length']===0x0){_0x518277[_0x322522(0x43a)]=_0x322522(0x170);return;}const _0x2e3bbc=_0x4256a1[_0x322522(0x1e6)],_0x3a175c=_0x18876b[_0x322522(0x8db)]((_0x381e50,_0x597f64)=>{const _0x16c145=_0x322522;return _0x381e50[_0x597f64[_0x16c145(0x222)]]=_0x597f64,_0x381e50;},{}),_0xa4cd36=_0x2cf1a1=>String[_0x322522(0x353)](0x41+_0x2cf1a1),_0x51f947=_0x497a71=>{const _0x388677=_0x322522,_0x354b02=_0x497a71[_0x388677(0x969)]||_0x4256a1[_0x388677(0x42e)];switch(_0x354b02){case _0x388677(0xa76):return _0x497a71[_0x388677(0x369)]&&_0x497a71[_0x388677(0x369)][_0x388677(0x963)]>_0x497a71[_0x388677(0x501)]?_0xa4cd36(_0x497a71['correctAnswerIndex']):'-';case _0x388677(0x8fe):const _0x1aca42=_0x497a71['correctAnswer']===!![]||String(_0x497a71['correctAnswer'])[_0x388677(0x57d)]()===_0x388677(0x870);return _0x1aca42?_0x388677(0x989):_0x388677(0x4ca);case _0x388677(0x845):return _0x497a71[_0x388677(0x4ae)]||'-';case _0x388677(0x536):return _0x388677(0x249);default:return'-';}},_0x241caa=(_0xb76835,_0x127d65)=>{const _0x56da10=_0x322522;if(_0x127d65[_0x56da10(0x6cd)]===null||_0x127d65['answer']===undefined)return'-';const _0x4ec129=_0xb76835[_0x56da10(0x969)]||_0x4256a1[_0x56da10(0x42e)];switch(_0x4ec129){case'multiple_choice':const _0x35ae1b=_0xb76835['options']['findIndex'](_0x16a5ae=>_0x16a5ae===_0x127d65[_0x56da10(0x9fd)]);return _0x35ae1b!==-0x1?_0xa4cd36(_0x35ae1b):_0x127d65['answerText']||'-';case _0x56da10(0x8fe):if(_0x127d65[_0x56da10(0x6cd)]=='0'||_0x127d65[_0x56da10(0x6cd)]===!![]||_0x127d65[_0x56da10(0x6cd)]==='true')return'ใช่';return'ไม่ใช่';default:return _0x127d65[_0x56da10(0x6cd)];}};let _0x2b28f9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e3bbc[_0x322522(0x6e4)]((_0x197208,_0x45f01a)=>_0x322522(0x19f)+(_0x45f01a+0x1)+_0x322522(0x816))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e3bbc[_0x322522(0x6e4)](_0x1ede62=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x51f947(_0x1ede62)+_0x322522(0x3dd))[_0x322522(0x386)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0xad0a5f[_0x322522(0x5d5)](_0x933fc4=>{const _0x45aad6=_0x322522;_0x2b28f9+=_0x45aad6(0x723),_0x2b28f9+=_0x45aad6(0x66a)+_0x933fc4+_0x45aad6(0x3dd);const _0x3a685f=_0x3a175c[_0x933fc4];if(_0x3a685f){const _0xc81208=_0x3a685f[_0x45aad6(0x97b)][_0x3a685f[_0x45aad6(0x97b)][_0x45aad6(0x963)]-0x1];_0x2e3bbc[_0x45aad6(0x5d5)]((_0x57b41f,_0x43bad8)=>{const _0x56452a=_0x45aad6,_0x2d9d74=_0xc81208[_0x56452a(0x89e)][_0x56452a(0x3fd)](_0xba5634=>_0xba5634[_0x56452a(0xa7d)]===_0x57b41f['id']);if(_0x2d9d74){let _0x45cbf7='';const _0x14350a=_0x2d9d74[_0x56452a(0x8cc)]===!![],_0x17a1ac=_0x2d9d74['wasConfident']===!![]||_0x2d9d74[_0x56452a(0xa9e)]==='confident';_0x17a1ac?_0x45cbf7=_0x14350a?_0x56452a(0x5b6):_0x56452a(0x7dc):_0x45cbf7=_0x14350a?'bg-green-100':_0x56452a(0x3d9),_0x2b28f9+=_0x56452a(0x582)+_0x45cbf7+'\x22>'+_0x241caa(_0x57b41f,_0x2d9d74)+_0x56452a(0x3dd);}else _0x2b28f9+=_0x56452a(0x46d);});}else _0x2b28f9+=_0x2e3bbc[_0x45aad6(0x6e4)](()=>_0x45aad6(0x62d))['join']('');_0x2b28f9+=_0x45aad6(0x5bb);}),_0x2b28f9+=_0x322522(0x6ab),_0x518277[_0x322522(0x43a)]=_0x2b28f9;}function renderQuizResultsTable(_0x41dfde,_0x5e86ec,_0x10b29f){const _0x398d3a=_0x5cd971,_0x505bc7=_0x5e86ec[_0x398d3a(0x8db)]((_0x355fdc,_0x1009fc)=>{const _0x780946=_0x398d3a;return _0x355fdc[_0x1009fc[_0x780946(0x222)]]=_0x1009fc,_0x355fdc;},{}),_0x5a315a=document[_0x398d3a(0x5b4)](_0x398d3a(0x80c));_0x5a315a&&!_0x5a315a[_0x398d3a(0x43a)][_0x398d3a(0x1c3)](_0x398d3a(0x328))&&(_0x5a315a[_0x398d3a(0x43a)]+=_0x398d3a(0x36b));const _0x405a8e=document[_0x398d3a(0xa59)](_0x398d3a(0x9fe));if(!_0x41dfde||_0x41dfde['length']===0x0){_0x405a8e[_0x398d3a(0x43a)]=_0x398d3a(0x3c6);return;}const _0x4d6ea3=_0x10b29f[_0x398d3a(0x7c6)]===!![],_0x4db992=_0x10b29f['settings']?.[_0x398d3a(0x865)]??-0x1;let _0x74bc9a='';_0x41dfde[_0x398d3a(0x5d5)](_0x348895=>{const _0x2e572c=_0x398d3a,_0x5a8293=_0x505bc7[_0x348895];let _0x28ae0f=_0x2e572c(0x6fc)+(_0x4d6ea3?'bg-amber-100\x20text-amber-800':_0x2e572c(0x4cd))+'\x22>'+(_0x4d6ea3?'สอบซ่อม':'สอบปกติ')+_0x2e572c(0x945);if(_0x5a8293){if(_0x5a8293[_0x2e572c(0x97b)]&&_0x5a8293[_0x2e572c(0x97b)]['length']>0x0){let _0x5ec1d4=_0x4d6ea3?_0x5a8293[_0x2e572c(0x42b)]===_0x5a8293[_0x2e572c(0x602)]:_0x4db992!==-0x1&&_0x5a8293[_0x2e572c(0x42b)]>=_0x4db992;const _0x5ea4a6=_0x5ec1d4?_0x2e572c(0x714):_0x2e572c(0x31c),_0x4268ac=_0x5ec1d4?_0x2e572c(0x569):_0x2e572c(0x21c),_0x4fb36a=_0x2e572c(0x6b1)+_0x5ea4a6+'\x22>'+_0x4268ac+_0x2e572c(0x945),_0x1325f1=_0x2e572c(0x3d8)+(_0x5a8293[_0x2e572c(0x97b)]?.[_0x2e572c(0x963)]||0x1)+_0x2e572c(0x7ef);_0x74bc9a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x348895+_0x2e572c(0x8b7)+_0x5a8293[_0x2e572c(0x42b)]+_0x2e572c(0x288)+_0x5a8293[_0x2e572c(0x602)]+_0x2e572c(0x9bb)+_0x4fb36a+_0x2e572c(0x7e4)+_0x28ae0f+_0x2e572c(0x5e8)+_0x5a8293[_0x2e572c(0x4e8)]+_0x2e572c(0x288)+_0x5a8293[_0x2e572c(0x602)]+_0x2e572c(0x176)+_0x5a8293['latestScore']+'\x20/\x20'+_0x5a8293[_0x2e572c(0x602)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x5a8293[_0x2e572c(0x9cb)]||0x0)+_0x2e572c(0x9bb)+_0x1325f1+_0x2e572c(0x2af)+new Date(_0x5a8293['latestSubmittedAt'])[_0x2e572c(0x61d)]('th-TH')+_0x2e572c(0x408)+_0x348895+_0x2e572c(0x75c);}else{const _0x32a830=_0x2e572c(0x6a9);_0x74bc9a+=_0x2e572c(0xae5)+_0x348895+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28ae0f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x32a830+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x5a8293[_0x2e572c(0x3ff)])[_0x2e572c(0x61d)](_0x2e572c(0x20e))+_0x2e572c(0xabc)+_0x348895+_0x2e572c(0x75c);}}else{const _0x1e1140=_0x2e572c(0x4a4);_0x74bc9a+=_0x2e572c(0xadd)+_0x348895+_0x2e572c(0x21d)+_0x28ae0f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e1140+_0x2e572c(0x70f);}}),_0x405a8e[_0x398d3a(0x43a)]=_0x74bc9a;}async function confirmRenameQuiz(){const _0x3b23a4=_0x5cd971,_0x46cb54=document[_0x3b23a4(0xa59)]('rename-quiz-input')[_0x3b23a4(0x630)]['trim']();if(!_0x46cb54){showMessage(_0x3b23a4(0x465));return;}if(!actionTargetId)return;const _0x51b4d=doc(db,_0x3b23a4(0xab3)+appId+_0x3b23a4(0xaf2),actionTargetId);try{await updateDoc(_0x51b4d,{'topic':_0x46cb54}),showMessage(_0x3b23a4(0x442)),renameQuizModal[_0x3b23a4(0x445)]['add'](_0x3b23a4(0x318)),actionTargetId=null;}catch(_0x416fb4){console[_0x3b23a4(0x5a8)](_0x3b23a4(0x275),_0x416fb4),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x3f7ed5){const _0xa25e7b=_0x5cd971;actionTargetId=_0x3f7ed5;const _0x1eb58a=document[_0xa25e7b(0xa59)](_0xa25e7b(0x533));_0x1eb58a['innerHTML']=_0xa25e7b(0x82e),moveQuizModal['classList'][_0xa25e7b(0x6b7)](_0xa25e7b(0x318));try{const _0x5c9ce4=collection(db,'artifacts/'+appId+_0xa25e7b(0x6d8)),_0x23ad42=await getDocs(_0x5c9ce4),_0x1e6081=_0x23ad42[_0xa25e7b(0x354)]['map'](_0x1fce95=>({'id':_0x1fce95['id'],..._0x1fce95[_0xa25e7b(0x730)]()})),_0x5d3845=_0x1e6081[_0xa25e7b(0x75f)](_0x8c6b3f=>_0x8c6b3f['id']!==currentProjectId);if(_0x5d3845['length']===0x0){_0x1eb58a['innerHTML']=_0xa25e7b(0x697),document[_0xa25e7b(0xa59)]('confirm-move-quiz-btn')[_0xa25e7b(0x3cd)]=!![];return;}_0x1eb58a[_0xa25e7b(0x43a)]=_0x5d3845[_0xa25e7b(0x6e4)](_0x12681c=>_0xa25e7b(0x99f)+_0x12681c['id']+'\x22>'+_0x12681c[_0xa25e7b(0x1ff)]+_0xa25e7b(0x51b))['join'](''),document[_0xa25e7b(0xa59)](_0xa25e7b(0x96d))['disabled']=![];}catch(_0x239b22){console[_0xa25e7b(0x5a8)]('Error\x20fetching\x20projects\x20for\x20move:',_0x239b22),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal['classList'][_0xa25e7b(0x874)]('hidden');}}async function confirmMoveQuiz(){const _0x57a861=_0x5cd971,_0x47c249=document[_0x57a861(0xa59)](_0x57a861(0x533))['value'];if(!_0x47c249){showMessage(_0x57a861(0x7cf));return;}if(!actionTargetId)return;const _0x6cc809=doc(db,_0x57a861(0xab3)+appId+_0x57a861(0xaf2),actionTargetId);try{await updateDoc(_0x6cc809,{'projectId':_0x47c249}),showMessage(_0x57a861(0x731)),moveQuizModal[_0x57a861(0x445)][_0x57a861(0x874)](_0x57a861(0x318)),actionTargetId=null;}catch(_0x524d33){console[_0x57a861(0x5a8)](_0x57a861(0x9a6),_0x524d33),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x542417){const _0x5263b2=_0x5cd971;actionTargetId=_0x542417;const _0x3d5ff7=doc(db,_0x5263b2(0xab3)+appId+_0x5263b2(0xaf2),_0x542417);try{const _0xeda2a9=await getDoc(_0x3d5ff7);if(_0xeda2a9[_0x5263b2(0x540)]()){const _0x4e29de=_0xeda2a9[_0x5263b2(0x730)](),_0x39d826=_0x4e29de[_0x5263b2(0x1d2)]||{},_0x1c1666=_0x4e29de['questions']['length'];document[_0x5263b2(0xa59)](_0x5263b2(0x236))[_0x5263b2(0x630)]=_0x39d826[_0x5263b2(0xa4b)]||_0x5263b2(0x936),document[_0x5263b2(0xa59)](_0x5263b2(0x44c))[_0x5263b2(0x630)]=_0x39d826[_0x5263b2(0x4bc)]||_0x5263b2(0x73e),document[_0x5263b2(0xa59)](_0x5263b2(0x7cc))[_0x5263b2(0x630)]=_0x39d826['timerMode']||_0x5263b2(0x936),document[_0x5263b2(0xa59)]('modal-timer-duration-input')[_0x5263b2(0x630)]=_0x39d826[_0x5263b2(0x1fe)]||0xa,document['getElementById'](_0x5263b2(0x21f))[_0x5263b2(0x630)]=_0x39d826[_0x5263b2(0x865)]||Math['floor'](_0x1c1666/0x2),document[_0x5263b2(0xa59)]('modal-passing-score-input')['max']=_0x1c1666,document['getElementById']('modal-adaptive-quiz-checkbox')[_0x5263b2(0x31a)]=_0x39d826[_0x5263b2(0x6a7)]||![],document[_0x5263b2(0xa59)](_0x5263b2(0x7aa))[_0x5263b2(0x31a)]=_0x39d826['loopUntilPass']||![];const _0x35a74d=_0x39d826[_0x5263b2(0x1a1)]||![];document['getElementById'](_0x5263b2(0x391))[_0x5263b2(0x31a)]=_0x35a74d,document[_0x5263b2(0xa59)](_0x5263b2(0x836))['value']=_0x39d826[_0x5263b2(0x2c7)]||_0x5263b2(0x538);const _0x1ca91=document[_0x5263b2(0xa59)](_0x5263b2(0x1a7));_0x1ca91[_0x5263b2(0x445)][_0x5263b2(0x367)]('hidden',!_0x35a74d),document[_0x5263b2(0xa59)](_0x5263b2(0x7cc))[_0x5263b2(0x622)](new Event(_0x5263b2(0x562))),quizSettingsModal[_0x5263b2(0x445)][_0x5263b2(0x6b7)](_0x5263b2(0x318));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x516549){console[_0x5263b2(0x5a8)](_0x5263b2(0xaeb),_0x516549),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x5b6453=_0x5cd971;if(!actionTargetId)return;const _0x37fda4=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId),_0x591fa4={'shuffle':document[_0x5b6453(0xa59)](_0x5b6453(0x236))[_0x5b6453(0x630)],'resultsDisplay':document[_0x5b6453(0xa59)](_0x5b6453(0x44c))[_0x5b6453(0x630)],'timerMode':document['getElementById'](_0x5b6453(0x7cc))[_0x5b6453(0x630)],'timerDuration':parseInt(document[_0x5b6453(0xa59)](_0x5b6453(0x509))['value'])||0xa,'passingScore':parseInt(document['getElementById'](_0x5b6453(0x21f))['value'])||0x0,'isAdaptive':document[_0x5b6453(0xa59)](_0x5b6453(0x500))['checked'],'loopUntilPass':document['getElementById'](_0x5b6453(0x7aa))[_0x5b6453(0x31a)],'isConfidenceScoringEnabled':document[_0x5b6453(0xa59)](_0x5b6453(0x391))[_0x5b6453(0x31a)],'confidenceMode':document['getElementById']('modal-confidence-mode-select')['value']};try{await updateDoc(_0x37fda4,{'settings':_0x591fa4}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x5b6453(0x445)][_0x5b6453(0x874)](_0x5b6453(0x318)),actionTargetId=null;}catch(_0x5b32af){console['error'](_0x5b6453(0x73c),_0x5b32af),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x2879a5=_0x5cd971;if(!actionTargetId)return;const _0x6df807=doc(db,'artifacts/'+appId+_0x2879a5(0xaf2),actionTargetId),_0x54e898=document[_0x2879a5(0x5b4)]('input[name=\x22status-option\x22]:checked');if(!_0x54e898){showMessage('กรุณาเลือกสถานะ');return;}const _0x34885c=_0x54e898['value'];let _0x3b5e3c={};if(_0x34885c===_0x2879a5(0x18e)||_0x34885c===_0x2879a5(0x6ce))_0x3b5e3c={'status':_0x34885c,'startTime':null,'endTime':null};else{if(_0x34885c===_0x2879a5(0x49e)){const _0x44fee4=document['getElementById']('quiz-start-time')[_0x2879a5(0x630)],_0x2c6bee=document[_0x2879a5(0xa59)](_0x2879a5(0x9c1))[_0x2879a5(0x630)];if(!_0x44fee4&&!_0x2c6bee){showMessage(_0x2879a5(0x7e8));return;}_0x3b5e3c={'status':_0x2879a5(0x2c4),'startTime':_0x44fee4?new Date(_0x44fee4)[_0x2879a5(0x92c)]():null,'endTime':_0x2c6bee?new Date(_0x2c6bee)[_0x2879a5(0x92c)]():null};}}try{await updateDoc(_0x6df807,_0x3b5e3c),showMessage(_0x2879a5(0x357)),quizStatusModal[_0x2879a5(0x445)]['add'](_0x2879a5(0x318)),actionTargetId=null;}catch(_0x57d3f3){console[_0x2879a5(0x5a8)]('Error\x20updating\x20quiz\x20status:',_0x57d3f3),showMessage(_0x2879a5(0x494));}}function listenForStudentProfiles(_0x30213d){const _0x554e40=_0x5cd971,_0x178183=collection(db,_0x554e40(0xab3)+appId+'/public/data/projects/'+_0x30213d+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x178183,_0x5ae040=>{const _0xe3dca4=_0x554e40,_0x24def8=_0x5ae040[_0xe3dca4(0x354)][_0xe3dca4(0x6e4)](_0x7d53eb=>_0x7d53eb[_0xe3dca4(0x730)]());renderLeaderboard(_0x24def8,'leaderboard-table-body');},_0x2861de=>{const _0x1d10ca=_0x554e40;console['error'](_0x1d10ca(0x1ba),_0x2861de),document[_0x1d10ca(0xa59)]('leaderboard-table-body')[_0x1d10ca(0x43a)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x25c981,_0x14a74c){const _0x450395=_0x5cd971,_0x566321=document[_0x450395(0xa59)](_0x14a74c);if(!_0x25c981||_0x25c981[_0x450395(0x963)]===0x0){_0x566321[_0x450395(0x43a)]=_0x450395(0x9e8);return;}_0x25c981['sort']((_0x4c90ac,_0x27e87b)=>{const _0x54632a=_0x450395,_0xd20eef=(_0x27e87b[_0x54632a(0x707)]||0x0)-(_0x4c90ac[_0x54632a(0x707)]||0x0);if(_0xd20eef!==0x0)return _0xd20eef;const _0x1b2798=(_0x27e87b['badgesCount']?.['specialist']||0x0)-(_0x4c90ac[_0x54632a(0x3f1)]?.['specialist']||0x0);if(_0x1b2798!==0x0)return _0x1b2798;const _0x294c32=(_0x27e87b[_0x54632a(0x3f1)]?.['first_try_ace']||0x0)-(_0x4c90ac[_0x54632a(0x3f1)]?.[_0x54632a(0x231)]||0x0);if(_0x294c32!==0x0)return _0x294c32;const _0x2128a0=(_0x27e87b[_0x54632a(0x3f1)]?.[_0x54632a(0x34c)]||0x0)-(_0x4c90ac[_0x54632a(0x3f1)]?.[_0x54632a(0x34c)]||0x0);if(_0x2128a0!==0x0)return _0x2128a0;const _0x339d73=(_0x27e87b[_0x54632a(0x3f1)]?.['quick_thinker']||0x0)-(_0x4c90ac[_0x54632a(0x3f1)]?.[_0x54632a(0x8fa)]||0x0);if(_0x339d73!==0x0)return _0x339d73;return _0x4c90ac[_0x54632a(0x222)][_0x54632a(0x1f1)](_0x27e87b[_0x54632a(0x222)],'th');});let _0x1e9002='';_0x25c981['forEach']((_0x2a1800,_0x1df67b)=>{const _0x3ee562=_0x450395,_0x12b72d=_0x1df67b+0x1,_0xc9a169=_0x2a1800[_0x3ee562(0x3f1)]||{};let _0x248356='';const _0x1e7d6f=[_0x3ee562(0x378),_0x3ee562(0x34c),_0x3ee562(0x231),_0x3ee562(0x8fa)];_0x1e7d6f[_0x3ee562(0x5d5)](_0x4dd604=>{const _0x427983=_0x3ee562;if(_0xc9a169[_0x4dd604]>0x0){const _0x2b553e=Object[_0x427983(0xa88)](BADGES)[_0x427983(0x3fd)](_0x2f6c31=>_0x2f6c31['id']===_0x4dd604);_0x2b553e&&(_0x4dd604===_0x427983(0x378)?_0x248356+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x2b553e[_0x427983(0xa5e)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x2b553e[_0x427983(0x6ba)]+_0x427983(0x213):_0x248356+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x2b553e[_0x427983(0xa5e)]+'\x20('+_0xc9a169[_0x4dd604]+_0x427983(0x6bf)+_0x2b553e[_0x427983(0x6ba)]+_0x427983(0xaed)+_0xc9a169[_0x4dd604]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x1e9002+=_0x3ee562(0x419)+_0x12b72d+_0x3ee562(0x416)+_0x2a1800['studentName']+_0x3ee562(0x3e3)+(_0x2a1800[_0x3ee562(0x707)]||0x0)+_0x3ee562(0x416)+(_0x248356||'-')+_0x3ee562(0x6b4);}),_0x566321[_0x450395(0x43a)]=_0x1e9002;}function displayLoopScreen(_0x1a94a3,_0x333e82,_0x2c30d7){const _0x50c06c=_0x5cd971;let _0x2053f3='';_0x2c30d7!==_0x50c06c(0x339)&&(_0x2053f3=_0x50c06c(0x8f1)+_0x1a94a3+_0x50c06c(0x288)+_0x333e82+_0x50c06c(0x9f3));const _0x47453a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2053f3+_0x50c06c(0x29d);studentResultArea[_0x50c06c(0x43a)]=_0x47453a,studentResultArea[_0x50c06c(0x445)][_0x50c06c(0x6b7)](_0x50c06c(0x318)),studentQuizArea[_0x50c06c(0x445)]['add'](_0x50c06c(0x318)),document[_0x50c06c(0xa59)]('retake-quiz-loop-btn')['addEventListener'](_0x50c06c(0x420),()=>{const _0x173cad=_0x50c06c;studentResultArea[_0x173cad(0x445)]['add'](_0x173cad(0x318)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x4ea260,_0x49f503,_0x6e7046){const _0x2462be=_0x5cd971,_0x392179=document['getElementById'](_0x6e7046),_0x310f57=_0x6e7046===_0x2462be(0x77f),_0x3836b3=_0x49f503['questions'][_0x2462be(0x963)],_0x5ba4a1=document[_0x2462be(0xa59)](_0x6e7046)[_0x2462be(0x74e)](_0x2462be(0x2c1));if(_0x5ba4a1&&!_0x310f57){const _0xf8ad0b=_0x5ba4a1[_0x2462be(0x5b4)]('thead');_0xf8ad0b[_0x2462be(0x43a)]=_0x2462be(0x51a);}if(!_0x4ea260||_0x4ea260[_0x2462be(0x963)]===0x0){_0x392179[_0x2462be(0x43a)]=_0x2462be(0x53a)+(_0x310f57?0x6:0x8)+_0x2462be(0x7e5);return;}const _0x4ff37e=[..._0x4ea260];_0x4ff37e[_0x2462be(0x695)]((_0x85b234,_0x513b7f)=>{const _0x19c55b=_0x2462be;let _0x5d828d,_0x2e7c82;switch(quizLeaderboardSortBy){case _0x19c55b(0x222):_0x5d828d=_0x85b234[_0x19c55b(0x222)]||'',_0x2e7c82=_0x513b7f[_0x19c55b(0x222)]||'';return quizLeaderboardSortOrder==='asc'?_0x5d828d['localeCompare'](_0x2e7c82,'th'):_0x2e7c82[_0x19c55b(0x1f1)](_0x5d828d,'th');case _0x19c55b(0x9cb):_0x5d828d=_0x85b234[_0x19c55b(0x9cb)]||0x0,_0x2e7c82=_0x513b7f[_0x19c55b(0x9cb)]||0x0;break;case _0x19c55b(0x97b):_0x5d828d=_0x85b234[_0x19c55b(0x97b)]?.['length']||0x1,_0x2e7c82=_0x513b7f[_0x19c55b(0x97b)]?.[_0x19c55b(0x963)]||0x1;break;case _0x19c55b(0x1c4):_0x5d828d=new Date(_0x85b234[_0x19c55b(0x1c4)]),_0x2e7c82=new Date(_0x513b7f[_0x19c55b(0x1c4)]);break;case _0x19c55b(0x42b):default:_0x5d828d=_0x85b234[_0x19c55b(0x42b)],_0x2e7c82=_0x513b7f[_0x19c55b(0x42b)];break;}if(_0x5d828d<_0x2e7c82)return quizLeaderboardSortOrder===_0x19c55b(0x3a6)?-0x1:0x1;if(_0x5d828d>_0x2e7c82)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x153e58=_0x49f503[_0x2462be(0x7c6)]===!![],_0x4bf700=_0x49f503['settings']?.[_0x2462be(0x865)]??-0x1;let _0x528401='';_0x4ff37e[_0x2462be(0x5d5)]((_0x4b9fba,_0x20beed)=>{const _0x486e85=_0x2462be,_0x3fc3db=_0x20beed+0x1;let _0x3a33c5='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x153e58||_0x4bf700!==-0x1){let _0x1928d6=_0x153e58?_0x4b9fba['bestScore']===_0x3836b3:_0x4b9fba['bestScore']>=_0x4bf700;const _0x2bd930=_0x1928d6?_0x486e85(0x714):'bg-red-100\x20text-red-800',_0x5de8e5=_0x1928d6?'ผ่าน':_0x486e85(0x21c);_0x3a33c5=_0x486e85(0x22f)+_0x2bd930+'\x22>'+_0x5de8e5+_0x486e85(0x945);}const _0x280bfc=_0x4b9fba[_0x486e85(0x97b)][_0x4b9fba[_0x486e85(0x97b)][_0x486e85(0x963)]-0x1],_0x825b1d=(_0x280bfc[_0x486e85(0x798)]||[])[_0x486e85(0x6e4)](_0xd9f725=>{const _0x20353e=_0x486e85,_0x511e44=Object[_0x20353e(0xa88)](BADGES)[_0x20353e(0x3fd)](_0x55d69a=>_0x55d69a['id']===_0xd9f725);return _0x511e44?_0x20353e(0x89b)+_0x511e44[_0x20353e(0xa5e)]+_0x20353e(0x6d4)+_0x511e44['icon']+_0x20353e(0x453):'';})[_0x486e85(0x386)]('');_0x528401+=_0x486e85(0x5e9)+_0x3fc3db+_0x486e85(0x6ec)+_0x4b9fba['studentName']+_0x486e85(0x1db)+_0x4b9fba['bestScore']+'\x20/\x20'+_0x3836b3+_0x486e85(0x641)+_0x3a33c5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x4b9fba[_0x486e85(0x9cb)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x310f57?'':_0x486e85(0x68b)+(_0x4b9fba[_0x486e85(0x97b)]?.[_0x486e85(0x963)]||0x1)+'</td>')+_0x486e85(0x2c5)+(_0x310f57?'':_0x486e85(0x77d)+new Date(_0x4b9fba[_0x486e85(0x1c4)])['toLocaleString'](_0x486e85(0x20e))+_0x486e85(0x3dd))+_0x486e85(0x74b)+(_0x825b1d||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x392179[_0x2462be(0x43a)]=_0x528401,_0x5ba4a1&&!_0x310f57&&_0x5ba4a1['querySelectorAll'](_0x2462be(0x47e))[_0x2462be(0x5d5)](_0x2470ec=>{const _0x51fdc2=_0x2462be,_0x5f3d2c=_0x2470ec[_0x51fdc2(0x5b4)](_0x51fdc2(0x717));if(_0x5f3d2c)_0x5f3d2c[_0x51fdc2(0x6b7)]();_0x2470ec[_0x51fdc2(0xafb)][_0x51fdc2(0x695)]===quizLeaderboardSortBy&&(_0x2470ec[_0x51fdc2(0x43a)]+=_0x51fdc2(0x7b7)+(quizLeaderboardSortOrder===_0x51fdc2(0x3a6)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x4e9b5a){const _0x360e05=_0x5cd971;if(!currentQuizData||!currentQuizData['id']||!_0x4e9b5a){showMessage(_0x360e05(0x435));return;}showConfirmation(_0x360e05(0x2ee)+_0x4e9b5a+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x2c938f=_0x360e05,_0x432645=currentQuizData['id'],_0x1c4956=doc(db,'artifacts/'+appId+_0x2c938f(0xa37)+_0x432645+'/submissions',_0x4e9b5a);try{await deleteDoc(_0x1c4956),showMessage('ลบผลสอบของ\x20'+_0x4e9b5a+_0x2c938f(0xa1d));}catch(_0x5bb236){console[_0x2c938f(0x5a8)](_0x2c938f(0x572),_0x5bb236),showMessage(_0x2c938f(0x999));}});}async function handleLoadQuiz(){const _0x4fed81=_0x5cd971,_0x49f3b5=document[_0x4fed81(0xa59)](_0x4fed81(0x72a)),_0x42e36d=_0x49f3b5[_0x4fed81(0x630)]['trim']();if(!_0x42e36d){showMessage(_0x4fed81(0x89f));return;}loadQuizBtn[_0x4fed81(0x3cd)]=!![],loadQuizBtn[_0x4fed81(0x43a)]=_0x4fed81(0x375);try{const _0x4b4548=doc(db,_0x4fed81(0xab3)+appId+_0x4fed81(0xaf2),_0x42e36d),_0x21f30e=await getDoc(_0x4b4548);if(!_0x21f30e[_0x4fed81(0x540)]()){showMessage(_0x4fed81(0x4b9));return;}currentQuizData={'id':_0x21f30e['id'],..._0x21f30e[_0x4fed81(0x730)]()};const _0x2678fe=currentQuizData[_0x4fed81(0x6c8)]||_0x4fed81(0x18e),_0x122b9c=new Date();if(_0x2678fe===_0x4fed81(0x6ce)){showMessage(_0x4fed81(0x1c1));return;}if(_0x2678fe===_0x4fed81(0x2c4)){const _0x2b4e67=currentQuizData[_0x4fed81(0xa8c)]?new Date(currentQuizData['startTime']):null,_0x4df01b=currentQuizData[_0x4fed81(0x3e0)]?new Date(currentQuizData[_0x4fed81(0x3e0)]):null;if(_0x2b4e67&&_0x122b9c<_0x2b4e67){showMessage(_0x4fed81(0x80a)+_0x2b4e67['toLocaleString'](_0x4fed81(0x20e),{'hour12':![]}));return;}if(_0x4df01b&&_0x122b9c>_0x4df01b){showMessage(_0x4fed81(0x7c1));return;}}const _0x41c330=currentQuizData['projectId'];currentProjectId=_0x41c330;const _0x2405be=doc(db,_0x4fed81(0xab3)+appId+_0x4fed81(0x6d8),_0x41c330),_0x263950=await getDoc(_0x2405be);if(!_0x263950[_0x4fed81(0x540)]()){showMessage(_0x4fed81(0x7ad));return;}const _0x3a1f56=_0x263950[_0x4fed81(0x730)]();currentStudentProjectData=_0x3a1f56,displayStudentNameSelector(_0x3a1f56['students'],currentQuizData['topic']);}catch(_0x376b0c){console[_0x4fed81(0x5a8)](_0x4fed81(0x6cb),_0x376b0c),showMessage(_0x4fed81(0x46a));}finally{loadQuizBtn[_0x4fed81(0x3cd)]=![],loadQuizBtn[_0x4fed81(0x43a)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x927618=_0x5cd971,_0x25ded8=document[_0x927618(0xa59)](_0x927618(0x835)),_0x4a298b=document[_0x927618(0xa59)](_0x927618(0xa67)),_0x5243a8=document['getElementById'](_0x927618(0x996)),_0x1c1382=_0x25ded8[_0x927618(0x630)][_0x927618(0x56b)](),_0x7067c9=_0x4a298b['value'][_0x927618(0x56b)]();if(!_0x1c1382||!_0x7067c9){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x5243a8[_0x927618(0x3cd)]=!![],_0x5243a8[_0x927618(0x43a)]=_0x927618(0x5fa);try{const _0x38bf79=collection(db,'artifacts/'+appId+_0x927618(0x52e)),_0xc68290=query(_0x38bf79,where(_0x927618(0xaa1),'==',_0x1c1382),where(_0x927618(0x6c8),'in',[_0x927618(0x3f2),_0x927618(0x6ee)])),_0x388ab8=await getDocs(_0xc68290);if(_0x388ab8[_0x927618(0x246)]){showMessage(_0x927618(0x882));return;}const _0x3ee1e4=_0x388ab8['docs'][0x0],_0x3f4f99=_0x3ee1e4[_0x927618(0x730)]();currentLiveGameId=_0x3ee1e4['id'];const _0x1915ec=_0x3f4f99[_0x927618(0x5b7)],_0x47e277=doc(db,_0x927618(0xab3)+appId+'/public/data/quizzes',_0x1915ec),_0x4f943c=await getDoc(_0x47e277);if(!_0x4f943c[_0x927618(0x540)]()){showMessage(_0x927618(0x9c4));return;}currentQuizData={'id':_0x4f943c['id'],..._0x4f943c[_0x927618(0x730)]()};if(_0x3f4f99['players']&&_0x3f4f99['players'][_0x7067c9]){const _0x4e9d77=_0x3f4f99['players'][_0x7067c9];if(_0x4e9d77[_0x927618(0x6c8)]===_0x927618(0x6ce)){_0x5243a8[_0x927618(0x43a)]=_0x927618(0x1ab);const _0x1876fb={};_0x1876fb[_0x927618(0x8b4)+_0x7067c9+'.status']=_0x927618(0x18e),await updateDoc(doc(db,_0x927618(0xab3)+appId+_0x927618(0x52e),currentLiveGameId),_0x1876fb),showView(_0x927618(0x9ad)),currentStudentName=_0x7067c9,listenForLiveGameUpdates();return;}else{showMessage(_0x927618(0x20a));return;}}if(_0x3f4f99['status']!==_0x927618(0x3f2)){showMessage(_0x927618(0x744));return;}_0x5243a8[_0x927618(0x43a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x4bd0ab={};_0x4bd0ab[_0x927618(0x8b4)+_0x7067c9]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x927618(0x18e)},await updateDoc(doc(db,_0x927618(0xab3)+appId+_0x927618(0x52e),currentLiveGameId),_0x4bd0ab),currentStudentName=_0x7067c9,listenForLiveGameUpdates();}catch(_0x1eb042){console[_0x927618(0x5a8)](_0x927618(0x6d6),_0x1eb042),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x5243a8[_0x927618(0x3cd)]=![],_0x5243a8[_0x927618(0x43a)]=_0x927618(0x4c0);}}function displayStudentNameSelector(_0x231783,_0x3ee18f){const _0x4b983c=_0x5cd971,_0x16397f=document[_0x4b983c(0xa59)](_0x4b983c(0x467));document['getElementById'](_0x4b983c(0x61c))[_0x4b983c(0x2e0)]=_0x4b983c(0x291)+_0x3ee18f,!_0x231783||_0x231783[_0x4b983c(0x963)]===0x0?(_0x16397f[_0x4b983c(0x43a)]=_0x4b983c(0x97a),startQuizBtn['disabled']=!![]):(_0x16397f['innerHTML']=_0x4b983c(0x463),_0x231783[_0x4b983c(0x5d5)](_0x30577f=>{const _0x511c05=_0x4b983c,_0xfdceb9=document['createElement'](_0x511c05(0xa74));_0xfdceb9['value']=_0x30577f,_0xfdceb9[_0x511c05(0x2e0)]=_0x30577f,_0x16397f['appendChild'](_0xfdceb9);}),startQuizBtn[_0x4b983c(0x3cd)]=![]),studentInitialView[_0x4b983c(0x445)][_0x4b983c(0x874)]('hidden'),studentNameSelectionView[_0x4b983c(0x445)][_0x4b983c(0x6b7)](_0x4b983c(0x318));}function shuffleArray(_0x2787af){const _0x478081=_0x5cd971;for(let _0x14a5a8=_0x2787af[_0x478081(0x963)]-0x1;_0x14a5a8>0x0;_0x14a5a8--){const _0x424006=Math[_0x478081(0x68d)](Math[_0x478081(0x309)]()*(_0x14a5a8+0x1));[_0x2787af[_0x14a5a8],_0x2787af[_0x424006]]=[_0x2787af[_0x424006],_0x2787af[_0x14a5a8]];}}function getShuffledQuiz(_0x506055){const _0x4cdcb2=_0x5cd971;let _0x2fa594=JSON[_0x4cdcb2(0x5bd)](JSON[_0x4cdcb2(0xae0)](_0x506055));const _0x4a12d6=_0x2fa594[_0x4cdcb2(0x1d2)]?.[_0x4cdcb2(0xa4b)]||_0x4cdcb2(0x936);if(_0x4a12d6===_0x4cdcb2(0x936))return _0x2fa594;return(_0x4a12d6===_0x4cdcb2(0x683)||_0x4a12d6===_0x4cdcb2(0x2be))&&shuffleArray(_0x2fa594['questions']),(_0x4a12d6==='choices_only'||_0x4a12d6===_0x4cdcb2(0x2be))&&_0x2fa594[_0x4cdcb2(0x1e6)][_0x4cdcb2(0x5d5)](_0x40a750=>{const _0xd2a1ce=_0x4cdcb2,_0x23cbb9=_0x40a750[_0xd2a1ce(0x969)]||_0x2fa594[_0xd2a1ce(0x42e)];if(_0x40a750['options']){let _0xf0660e=_0x40a750[_0xd2a1ce(0x369)][_0xd2a1ce(0x6e4)]((_0x565673,_0x50e2f9)=>({'text':_0x565673,'isCorrect':_0x50e2f9===_0x40a750[_0xd2a1ce(0x501)]}));shuffleArray(_0xf0660e),_0x40a750[_0xd2a1ce(0x369)]=_0xf0660e[_0xd2a1ce(0x6e4)](_0x432d65=>_0x432d65[_0xd2a1ce(0x282)]),_0x40a750[_0xd2a1ce(0x501)]=_0xf0660e[_0xd2a1ce(0x29c)](_0x240302=>_0x240302[_0xd2a1ce(0x8cc)]);}_0x23cbb9===_0xd2a1ce(0x845)&&_0x40a750['allResponses']&&shuffleArray(_0x40a750[_0xd2a1ce(0x70c)]);}),_0x2fa594;}function displayQuizForStudent(_0x38e0c6){const _0x5b102=_0x5cd971;studentQuizArea['classList'][_0x5b102(0x6b7)](_0x5b102(0x318)),currentDisplayedQuiz=getShuffledQuiz(_0x38e0c6);currentMode!==_0x5b102(0x85d)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x5b102(0x1ce)](_0x5b102(0x802),handleFullscreenChange),document['addEventListener'](_0x5b102(0x664),handleVisibilityChange),enterFullscreen(),window[_0x5b102(0x1ce)](_0x5b102(0x98a),resetDimTimer),window[_0x5b102(0x1ce)]('mousedown',resetDimTimer),window[_0x5b102(0x1ce)](_0x5b102(0x3d2),resetDimTimer),window[_0x5b102(0x1ce)]('keydown',resetDimTimer),resetDimTimer());const _0x1c8db6=currentDisplayedQuiz[_0x5b102(0x1d2)]?.['timerMode']||'none';if(_0x1c8db6==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x5b102(0x1d2)]['timerDuration']);else _0x1c8db6===_0x5b102(0x9cd)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x47dd70=_0x5cd971,_0x26b87f=currentDisplayedQuiz['settings']?.[_0x47dd70(0x1a1)]===!![],_0x57345e=currentDisplayedQuiz[_0x47dd70(0x1d2)]?.[_0x47dd70(0x2c7)]||_0x47dd70(0x538);let _0x43dbcd=_0x47dd70(0x7b9)+currentDisplayedQuiz[_0x47dd70(0xaad)]+_0x47dd70(0x8c3)+(currentMode==='admin-testing'?_0x47dd70(0xabf):'')+_0x47dd70(0x673);currentDisplayedQuiz['questions'][_0x47dd70(0x5d5)]((_0x206b4b,_0xf5268d)=>{const _0x2928a4=_0x47dd70,_0x2e5e81=_0x206b4b['questionType']||currentDisplayedQuiz[_0x2928a4(0x42e)];_0x43dbcd+=_0x2928a4(0x67e);if(_0x2e5e81===_0x2928a4(0x845)){}else _0x43dbcd+=_0x2928a4(0x7c8)+(_0xf5268d+0x1)+'.\x20'+(_0x206b4b[_0x2928a4(0x1a4)]||_0x206b4b[_0x2928a4(0x2a7)])+'</p>',_0x206b4b[_0x2928a4(0x187)]&&(_0x43dbcd+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x206b4b[_0x2928a4(0x187)]+_0x2928a4(0x552));_0x43dbcd+=_0x2928a4(0x6c3);switch(_0x2e5e81){case _0x2928a4(0x536):_0x43dbcd+=_0x2928a4(0x5da)+_0xf5268d+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x2928a4(0x8fe):_0x43dbcd+=_0x2928a4(0x2d9)+_0xf5268d+'_opt0\x22\x20name=\x22question'+_0xf5268d+_0x2928a4(0x5aa)+_0xf5268d+_0x2928a4(0x472),_0x43dbcd+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0xf5268d+_0x2928a4(0x4b7)+_0xf5268d+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0xf5268d+_0x2928a4(0xa8b);break;case'matching_item':_0x43dbcd+=_0x2928a4(0x2db)+_0x206b4b[_0x2928a4(0x5ce)]+_0x2928a4(0xadb)+_0xf5268d+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x206b4b[_0x2928a4(0x70c)][_0x2928a4(0x6e4)](_0x325279=>_0x2928a4(0x99f)+_0x325279+'\x22>'+_0x325279+_0x2928a4(0x51b))[_0x2928a4(0x386)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;default:_0x43dbcd+=_0x206b4b[_0x2928a4(0x369)][_0x2928a4(0x6e4)]((_0x4670e6,_0x595357)=>_0x2928a4(0x7b3)+_0xf5268d+_0x2928a4(0x21a)+_0x595357+'\x22\x20name=\x22question'+_0xf5268d+'\x22\x20value=\x22'+_0x595357+_0x2928a4(0xa3e)+_0xf5268d+_0x2928a4(0x21a)+_0x595357+'\x22>'+_0x4670e6+_0x2928a4(0x8e8))[_0x2928a4(0x386)]('');break;}_0x43dbcd+=_0x2928a4(0x552),_0x26b87f&&(_0x43dbcd+=_0x2928a4(0x590),_0x57345e===_0x2928a4(0x8fd)?_0x43dbcd+=_0x2928a4(0x2c3)+_0xf5268d+_0x2928a4(0x8fb)+_0xf5268d+_0x2928a4(0x28a)+_0xf5268d+_0x2928a4(0x94c)+_0xf5268d+_0x2928a4(0x356):_0x43dbcd+=_0x2928a4(0xa85)+_0xf5268d+_0x2928a4(0x8fb)+_0xf5268d+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0xf5268d+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x43dbcd+=_0x2928a4(0x552)),_0x43dbcd+='</div>';}),_0x43dbcd+=_0x47dd70(0x761),_0x43dbcd+=_0x47dd70(0x7ff),studentQuizArea[_0x47dd70(0x43a)]=_0x43dbcd;if(currentMode===_0x47dd70(0x85d)){const _0xceeeaa=document[_0x47dd70(0xa59)](_0x47dd70(0xa5f));if(_0xceeeaa)_0xceeeaa[_0x47dd70(0x1ce)](_0x47dd70(0x420),cancelAdminTest);}const _0x4079ca=document['getElementById'](_0x47dd70(0x41f));_0x4079ca&&(_0x4079ca[_0x47dd70(0x1ce)](_0x47dd70(0x16e),handleSubmitQuiz),_0x4079ca[_0x47dd70(0x1ce)](_0x47dd70(0x420),_0x48c734=>{const _0x298042=_0x47dd70;if(_0x48c734[_0x298042(0x1f5)][_0x298042(0x445)][_0x298042(0x914)](_0x298042(0x7fc))){const _0x37e69a=_0x48c734['target'],_0x2dd28b=_0x37e69a[_0x298042(0xafb)]['questionIndex'],_0x4ad163=_0x37e69a['dataset'][_0x298042(0x630)];document['getElementById']('confidence-input-'+_0x2dd28b)[_0x298042(0x630)]=_0x4ad163;const _0x472513=_0x37e69a[_0x298042(0x585)];_0x472513[_0x298042(0x1f8)](_0x298042(0x81f))[_0x298042(0x5d5)](_0x6b21c5=>_0x6b21c5[_0x298042(0x445)][_0x298042(0x6b7)](_0x298042(0x18e))),_0x37e69a[_0x298042(0x445)][_0x298042(0x874)](_0x298042(0x18e));}}));if(window[_0x47dd70(0x28d)])window[_0x47dd70(0x28d)][_0x47dd70(0x2b6)]([studentQuizArea]);}async function handleSubmitQuiz(_0x5cd9f7){const _0x182575=_0x5cd971;if(_0x5cd9f7)_0x5cd9f7['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x9c5691=document['getElementById']('quiz-form');if(!_0x9c5691)return;const _0x5f3cc4=currentDisplayedQuiz[_0x182575(0x1d2)]?.[_0x182575(0x1a1)]===!![],_0x5e3565=currentDisplayedQuiz[_0x182575(0x1d2)]?.[_0x182575(0x2c7)]||_0x182575(0x538);if(_0x5f3cc4&&_0x5e3565==='mandatory'){let _0x191fe6=!![];for(let _0x446340=0x0;_0x446340<currentDisplayedQuiz['questions'][_0x182575(0x963)];_0x446340++){const _0x6d573e=_0x9c5691[_0x182575(0x5b4)]('#confidence-input-'+_0x446340);if(!_0x6d573e||_0x6d573e[_0x182575(0x630)]===''){_0x191fe6=![];break;}}if(!_0x191fe6){showMessage(_0x182575(0x593));return;}}const _0x193931=_0x9c5691[_0x182575(0x5b4)](_0x182575(0x264)),_0x1f3dd1=currentDisplayedQuiz[_0x182575(0x1e6)]['some'](_0x10e6a5=>_0x10e6a5['questionType']==='short_answer');_0x193931&&(_0x193931[_0x182575(0x3cd)]=!![],_0x193931[_0x182575(0x43a)]=_0x1f3dd1?_0x182575(0x2f8):_0x182575(0x1b4));const _0x5cde6c=new FormData(_0x9c5691),_0x44311d=currentDisplayedQuiz['questions']['map']((_0xf6a837,_0x4eaccd)=>{const _0x3aadc5=_0x182575,_0x48d4df=_0x5cde6c['get'](_0x3aadc5(0x6ee)+_0x4eaccd);let _0x15132a;_0x5e3565===_0x3aadc5(0x8fd)?_0x15132a=_0x5cde6c[_0x3aadc5(0x233)](_0x3aadc5(0x970)+_0x4eaccd):_0x15132a=_0x5cde6c[_0x3aadc5(0x233)](_0x3aadc5(0x970)+_0x4eaccd)==='on';let _0x336bbd=null;if(_0x48d4df!==null&&_0x48d4df!==undefined){const _0x2aa9e6=_0xf6a837[_0x3aadc5(0x969)]||currentDisplayedQuiz[_0x3aadc5(0x42e)];_0x2aa9e6===_0x3aadc5(0xa76)||_0x2aa9e6===_0x3aadc5(0x214)?_0x336bbd=parseInt(_0x48d4df):_0x336bbd=_0x48d4df;}return{'answer':_0x336bbd,'wasConfident':_0x15132a};}),_0x465de3=currentQuizData['id'],_0x1d0532=doc(db,_0x182575(0xab3)+appId+_0x182575(0xa37)+_0x465de3+'/submissions',currentStudentName),_0x3739f7=await getDoc(_0x1d0532),_0x5405b3=_0x3739f7[_0x182575(0x540)]()?_0x3739f7[_0x182575(0x730)]():{},_0x1598e0=_0x5405b3[_0x182575(0x97b)]||[];await processAndSubmitAnswers(_0x44311d,_0x1598e0);}async function gradeShortAnswerWithAI(_0x38a3aa,_0x2404f9){const _0x47bfa5=_0x5cd971;if(!_0x38a3aa||!_0x2404f9)return![];try{const _0x5983fd=_0x47bfa5(0x75a)+_0x38a3aa+_0x47bfa5(0x654)+_0x2404f9+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x53d51d={'contents':[{'role':'user','parts':[{'text':_0x5983fd}]}]},_0x51a6ec=_0x47bfa5(0xaba),_0x1b5a7e=_0x47bfa5(0x53e)+_0x51a6ec,_0x54304c=await fetch(_0x1b5a7e,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x47bfa5(0xae0)](_0x53d51d)});if(!_0x54304c['ok'])throw new Error(_0x47bfa5(0x3b0));const _0x220b0e=await _0x54304c[_0x47bfa5(0x769)](),_0x2ffab6=_0x220b0e[_0x47bfa5(0x8a1)][0x0][_0x47bfa5(0x272)][_0x47bfa5(0x1b8)][0x0][_0x47bfa5(0x282)][_0x47bfa5(0x56b)]()[_0x47bfa5(0x57d)]();return _0x2ffab6===_0x47bfa5(0x870);}catch(_0x2437ea){return console[_0x47bfa5(0x5a8)](_0x47bfa5(0x349),_0x2437ea),![];}}async function processAndSubmitAnswers(_0x1c2b88,_0x40e75a){const _0x5c28fc=_0x5cd971;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x5c28fc(0x3b4)](_0x5c28fc(0x802),handleFullscreenChange),document[_0x5c28fc(0x3b4)](_0x5c28fc(0x664),handleVisibilityChange);let _0x43d7f4=0x0;const _0x5ceca5=[],_0x2c7e01=currentDisplayedQuiz[_0x5c28fc(0x1e6)][_0x5c28fc(0x963)];let _0xa92a81=0x0,_0x6a2f48=[];const _0x38144c=currentDisplayedQuiz[_0x5c28fc(0x1e6)];for(let _0xc932a0=0x0;_0xc932a0<_0x38144c[_0x5c28fc(0x963)];_0xc932a0++){const _0x2d1f51=_0x38144c[_0xc932a0],_0x511470=_0x1c2b88[_0xc932a0],_0x2f7cf6=_0x511470?_0x511470['answer']:null,_0x471576=_0x511470?_0x511470[_0x5c28fc(0xa9e)]:null;let _0x476914=![],_0x3de807=0x0;if(_0x2f7cf6!==null&&_0x2f7cf6!==''){const _0x1dfccf=_0x2d1f51['questionType']||currentDisplayedQuiz[_0x5c28fc(0x42e)];switch(_0x1dfccf){case _0x5c28fc(0x845):_0x476914=_0x2f7cf6===_0x2d1f51[_0x5c28fc(0x4ae)];break;case'true_false':const _0x3e73fd=_0x2f7cf6===!![]||_0x2f7cf6===_0x5c28fc(0x870);_0x476914=_0x3e73fd===_0x2d1f51[_0x5c28fc(0x276)];break;case'short_answer':_0x476914=await gradeShortAnswer(_0x2f7cf6,_0x2d1f51);break;case _0x5c28fc(0xa76):default:_0x476914=Number(_0x2f7cf6)===_0x2d1f51[_0x5c28fc(0x501)];break;}}if(currentDisplayedQuiz[_0x5c28fc(0x1d2)]?.['isConfidenceScoringEnabled']){const _0x441463=_0x511470?_0x511470['wasConfident']:null;if(_0x476914&&(_0x441463===!![]||_0x441463==='confident'))_0x3de807=0x2;else{if(_0x476914)_0x3de807=0x1;else{if(!_0x476914&&(_0x441463===![]||_0x441463===_0x5c28fc(0x4ac)||_0x441463===null))_0x3de807=0x0;else!_0x476914&&(_0x441463===!![]||_0x441463===_0x5c28fc(0x55e))&&(_0x3de807=-0x1);}}}else _0x3de807=_0x476914?0x1:0x0;_0x43d7f4+=_0x3de807;if(_0x476914){_0xa92a81++;if(_0xa92a81===0x3)_0x6a2f48[_0x5c28fc(0x34a)](BADGES[_0x5c28fc(0x535)]['id']);}else _0xa92a81=0x0;let _0x1b09da=null;_0x2d1f51['options']&&_0x2f7cf6!==null&&(_0x1b09da=_0x2d1f51[_0x5c28fc(0x369)][_0x2f7cf6]),_0x5ceca5[_0x5c28fc(0x34a)]({'questionId':_0x2d1f51['id'],'answer':_0x2f7cf6,'answerText':_0x1b09da,'isCorrect':_0x476914,'wasConfident':_0x471576,'pointsAwarded':_0x3de807,'originalQuestionText':_0x2d1f51[_0x5c28fc(0x5ce)]||_0x2d1f51['questionText']});}const _0x1c290f=_0x5ceca5[_0x5c28fc(0x75f)](_0x41537f=>_0x41537f['isCorrect'])[_0x5c28fc(0x963)],_0x150f4f=currentDisplayedQuiz[_0x5c28fc(0x1d2)]?.[_0x5c28fc(0x865)]??Math[_0x5c28fc(0x68d)](_0x2c7e01/0x2);_0x1c290f===_0x2c7e01&&_0x2c7e01>0x0&&!currentDisplayedQuiz[_0x5c28fc(0x7c6)]&&_0x6a2f48[_0x5c28fc(0x34a)](BADGES[_0x5c28fc(0x63d)]['id']);const _0x287362=currentDisplayedQuiz[_0x5c28fc(0x1d2)]?.[_0x5c28fc(0xaf7)];if(_0x287362==='whole_quiz'&&quizStartTime){const _0x30e096=(new Date()-quizStartTime)/0x3e8,_0x26555f=currentDisplayedQuiz['settings'][_0x5c28fc(0x1fe)]*0x3c;_0x1c290f>=_0x150f4f&&_0x30e096<_0x26555f/0x2&&_0x6a2f48[_0x5c28fc(0x34a)](BADGES['QUICK_THINKER']['id']);}_0x40e75a[_0x5c28fc(0x963)]===0x0&&_0x1c290f===_0x2c7e01&&_0x2c7e01>0x0&&_0x6a2f48[_0x5c28fc(0x34a)](BADGES['FIRST_TRY_ACE']['id']);if(_0x40e75a[_0x5c28fc(0x963)]>0x0){const _0x43aa56=_0x40e75a[0x0][_0x5c28fc(0x3e9)];if(_0x43aa56<_0x150f4f&&_0x1c290f>=_0x150f4f){const _0x1ad19d=_0x40e75a[_0x5c28fc(0xacf)](_0x6ed515=>(_0x6ed515[_0x5c28fc(0x798)]||[])['includes'](BADGES[_0x5c28fc(0x43b)]['id']));!_0x1ad19d&&_0x6a2f48[_0x5c28fc(0x34a)](BADGES[_0x5c28fc(0x43b)]['id']);}}_0x40e75a[_0x5c28fc(0x963)]===0x4&&_0x6a2f48[_0x5c28fc(0x34a)](BADGES[_0x5c28fc(0x7a2)]['id']);const _0x5f2e73=currentDisplayedQuiz['settings'][_0x5c28fc(0x4bc)];if(currentMode===_0x5c28fc(0x85d)){handleResultDisplay(_0x5f2e73,_0x1c290f,_0x43d7f4,_0x6a2f48,_0x5ceca5,_0x2c7e01);return;}const _0x31e58a=currentQuizData['id'],_0x41d15c=doc(db,_0x5c28fc(0xab3)+appId+'/public/data/quizzes/'+_0x31e58a+_0x5c28fc(0x2d3),currentStudentName);try{const _0x12fbf8=[..._0x40e75a],_0x26d543={'score':_0x1c290f,'points':_0x43d7f4,'badges':Array[_0x5c28fc(0x96a)](new Set(_0x6a2f48)),'submittedAt':new Date()[_0x5c28fc(0x92c)](),'answers':_0x5ceca5};_0x12fbf8[_0x5c28fc(0x34a)](_0x26d543);const _0xa53a5=_0x40e75a['length']===0x0?_0x1c290f:_0x40e75a[0x0][_0x5c28fc(0x3e9)]||0x0,_0x11af50=Math[_0x5c28fc(0x2ce)](..._0x12fbf8[_0x5c28fc(0x6e4)](_0x2d8642=>_0x2d8642[_0x5c28fc(0x3e9)]));await setDoc(_0x41d15c,{'studentName':currentStudentName,'totalQuestions':_0x2c7e01,'attempts':_0x12fbf8,'firstScore':_0xa53a5,'bestScore':_0x11af50,'latestScore':_0x1c290f,'points':_0x43d7f4,'latestSubmittedAt':_0x26d543[_0x5c28fc(0x2aa)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x5c28fc(0x868)],currentStudentName),handleResultDisplay(_0x5f2e73,_0x1c290f,_0x43d7f4,_0x6a2f48,_0x5ceca5,_0x2c7e01);}catch(_0x20b2c6){console[_0x5c28fc(0x5a8)](_0x5c28fc(0x62b),_0x20b2c6),showMessage(_0x5c28fc(0x700));}}async function updateStudentProfile(_0x408f8b,_0xfee9dd){const _0x32ac6f=_0x5cd971,_0x479a76=doc(db,_0x32ac6f(0xab3)+appId+_0x32ac6f(0x2ba)+_0x408f8b+_0x32ac6f(0x78a),_0xfee9dd);try{const _0x494a2e=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where(_0x32ac6f(0x868),'==',_0x408f8b)),_0x513d80=await getDocs(_0x494a2e),_0x1b83a8=new Map(_0x513d80[_0x32ac6f(0x354)][_0x32ac6f(0x6e4)](_0x273877=>[_0x273877['id'],_0x273877['data']()])),_0x295252=Array[_0x32ac6f(0x96a)](_0x1b83a8[_0x32ac6f(0xa57)]());await runTransaction(db,async _0x5cc9c1=>{const _0x30b4ac=_0x32ac6f;let _0x500dae=0x0;const _0xfbbbdf={};let _0x16aa62=!![],_0x2303d8=0x0,_0x2d47aa=0x0;for(const _0x47c323 of _0x295252){const _0x440dd7=_0x1b83a8[_0x30b4ac(0x233)](_0x47c323),_0x59b7d9=doc(db,'artifacts/'+appId+_0x30b4ac(0xa37)+_0x47c323+_0x30b4ac(0x2d3),_0xfee9dd),_0x6325aa=await _0x5cc9c1[_0x30b4ac(0x233)](_0x59b7d9);if(_0x6325aa[_0x30b4ac(0x540)]()){const _0x596019=_0x6325aa[_0x30b4ac(0x730)](),_0x23f230=_0x596019['attempts']||[];if(_0x23f230[_0x30b4ac(0x963)]>0x0){const _0x181a02=_0x23f230[_0x30b4ac(0x8db)]((_0x11aa46,_0x47bff1)=>{const _0x41863b=_0x30b4ac;if(_0x47bff1['score']>_0x11aa46['score'])return _0x47bff1;if(_0x47bff1[_0x41863b(0x3e9)]===_0x11aa46[_0x41863b(0x3e9)])return(_0x47bff1['points']||0x0)>(_0x11aa46[_0x41863b(0x9cb)]||0x0)?_0x47bff1:_0x11aa46;return _0x11aa46;},{'score':-0x1,'points':-0x1});_0x181a02['score']>-0x1&&(_0x500dae+=_0x181a02[_0x30b4ac(0x9cb)]||0x0,(_0x181a02[_0x30b4ac(0x798)]||[])[_0x30b4ac(0x5d5)](_0x317aab=>{_0xfbbbdf[_0x317aab]=(_0xfbbbdf[_0x317aab]||0x0)+0x1;}));}}if(_0x440dd7[_0x30b4ac(0xaad)]!==_0x30b4ac(0x18a)){_0x2d47aa++;if(_0x6325aa['exists']()){_0x2303d8++;const _0x5ca7ef=_0x6325aa[_0x30b4ac(0x730)]();_0x5ca7ef[_0x30b4ac(0x42b)]!==_0x5ca7ef[_0x30b4ac(0x602)]&&(_0x16aa62=![]);}else _0x16aa62=![];}}_0x2d47aa>0x0&&_0x2303d8===_0x2d47aa&&_0x16aa62?_0xfbbbdf[_0x30b4ac(0x378)]=0x1:_0xfbbbdf[_0x30b4ac(0x378)]=0x0,_0x5cc9c1['set'](_0x479a76,{'studentName':_0xfee9dd,'totalPoints':_0x500dae,'unlockedBadges':Object['keys'](_0xfbbbdf)[_0x30b4ac(0x75f)](_0x28d67f=>_0xfbbbdf[_0x28d67f]>0x0),'badgesCount':_0xfbbbdf},{'merge':!![]});});}catch(_0x7ad576){console['error'](_0x32ac6f(0x9cc),_0x7ad576),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x4d9e58=_0x5cd971;if(!currentQuizData){showMessage(_0x4d9e58(0x5d3));return;}let _0x4a59f2=JSON[_0x4d9e58(0x5bd)](JSON['stringify'](currentQuizData));currentMode=_0x4d9e58(0x85d),currentStudentName=_0x4d9e58(0x63e),adminView[_0x4d9e58(0x445)][_0x4d9e58(0x874)](_0x4d9e58(0x318)),studentView['classList'][_0x4d9e58(0x6b7)]('hidden'),studentInitialView['classList']['add'](_0x4d9e58(0x318)),studentNameSelectionView[_0x4d9e58(0x445)][_0x4d9e58(0x874)]('hidden'),studentResultArea['classList'][_0x4d9e58(0x874)](_0x4d9e58(0x318)),studentQuizArea[_0x4d9e58(0x445)][_0x4d9e58(0x6b7)](_0x4d9e58(0x318)),quizStartTime=new Date(),displayQuizForStudent(_0x4a59f2);}function handleResultDisplay(_0x504190,_0x55877d,_0x43279d,_0x20998d,_0x537530,_0x440f9e){const _0x2c445b=_0x5cd971;if(_0x504190===_0x2c445b(0x79f)){displaySubmissionConfirmation();return;}const _0x51e4c1=currentDisplayedQuiz[_0x2c445b(0x1d2)]?.[_0x2c445b(0x865)]??Math['floor'](_0x440f9e/0x2),_0x2684d8=currentDisplayedQuiz['settings']?.['isAdaptive']??![],_0x5d2428=currentDisplayedQuiz[_0x2c445b(0x1d2)]?.[_0x2c445b(0x985)]===!![],_0xc1e56f=_0x55877d<_0x51e4c1,_0x4941dd=_0x504190==='half_mark_status'||_0x504190==='perfect_score_status';if(_0x5d2428&&_0xc1e56f&&!_0x4941dd){_0x504190===_0x2c445b(0x73e)?displayResultsWithAnswers(_0x55877d,_0x43279d,_0x20998d,_0x537530,_0x440f9e,!![]):displayLoopScreen(_0x55877d,_0x440f9e,_0x504190);return;}if(_0x2684d8&&_0xc1e56f){startAdaptiveFlow(_0x537530,_0x55877d,_0x440f9e);return;}switch(_0x504190){case _0x2c445b(0x73e):displayResultsWithAnswers(_0x55877d,_0x43279d,_0x20998d,_0x537530,_0x440f9e);break;case _0x2c445b(0x47d):displayResultsScoreOnly(_0x55877d,_0x43279d,_0x20998d,_0x440f9e);break;case'show_pass_fail_only':displayPassFailOnly(_0x55877d,_0x440f9e);break;case _0x2c445b(0x7d1):displayHalfMarkResult(_0x55877d,_0x440f9e);break;case'perfect_score_status':displayPerfectScoreResult(_0x55877d,_0x440f9e);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x2f423a){const _0x2b3b45=_0x5cd971;studentReadingArea[_0x2b3b45(0x43a)]=_0x2b3b45(0x486);const _0x278de3=_0x2b3b45(0x8a0)+_0x2f423a+_0x2b3b45(0x631)+simpleMathPrompt+_0x2b3b45(0x777),_0x5067fd={'type':_0x2b3b45(0x3b9),'properties':{'questionText':{'type':_0x2b3b45(0x81e)},'options':{'type':_0x2b3b45(0x3af),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x2b3b45(0x81e)}},'required':[_0x2b3b45(0x2a7),_0x2b3b45(0x369),'correctAnswerIndex',_0x2b3b45(0x9fc)]},_0x286360={'type':'OBJECT','properties':{'topic':{'type':_0x2b3b45(0x81e)},'questions':{'type':_0x2b3b45(0x3af),'items':_0x5067fd}},'required':['topic',_0x2b3b45(0x1e6)]};try{const _0x1af4db=await callAnalysisApi(_0x278de3,_0x286360);_0x1af4db[_0x2b3b45(0x7c6)]=!![],studentReadingArea['classList'][_0x2b3b45(0x874)](_0x2b3b45(0x318));const _0x1aca90={...currentDisplayedQuiz[_0x2b3b45(0x1d2)],'isAdaptive':![],'resultsDisplay':_0x2b3b45(0x73e)};_0x1af4db[_0x2b3b45(0x1d2)]=_0x1aca90,displayQuizForStudent(_0x1af4db);}catch(_0x805fdc){console['error']('Remedial\x20quiz\x20generation\x20failed:',_0x805fdc),showMessage(_0x2b3b45(0x1dd)),showView('student');}}function displayPassFailOnly(_0x4e5e50,_0x1a2f19){const _0x338b38=_0x5cd971,_0x38ec9f=currentDisplayedQuiz[_0x338b38(0x1d2)]?.[_0x338b38(0x865)]??-0x1,_0x429ccb=currentDisplayedQuiz[_0x338b38(0x7c6)]===!![];let _0x2bc019='',_0x1efd36=![];if(_0x429ccb||_0x38ec9f!==-0x1){_0x1efd36=_0x429ccb?_0x4e5e50===_0x1a2f19:_0x4e5e50>=_0x38ec9f;const _0x4468c9=_0x1efd36?_0x338b38(0x714):_0x338b38(0x31c),_0x22e620=_0x1efd36?'ผ่าน':_0x338b38(0x21c);_0x2bc019=_0x338b38(0xa13)+_0x4468c9+'\x22>'+_0x22e620+'</span></div>';}else _0x2bc019=_0x338b38(0x2ec);let _0x244227=_0x338b38(0x735)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2bc019+_0x338b38(0x86a);studentResultArea[_0x338b38(0x43a)]=_0x244227,studentResultArea[_0x338b38(0x445)][_0x338b38(0x6b7)]('hidden'),studentQuizArea[_0x338b38(0x445)][_0x338b38(0x874)](_0x338b38(0x318)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x1efd36});}function cancelAdminTest(){const _0x19fb1f=_0x5cd971;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x19fb1f(0x3b4)](_0x19fb1f(0x802),handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange),currentMode=_0x19fb1f(0x957),studentView['classList'][_0x19fb1f(0x874)](_0x19fb1f(0x318)),adminView[_0x19fb1f(0x445)][_0x19fb1f(0x6b7)](_0x19fb1f(0x318)),showView(_0x19fb1f(0x237));}function setupResultScreenBackButton(_0xf47a7e){const _0x36edd9=_0x5cd971,_0xc14107={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0xf47a7e};if(_0xc14107[_0x36edd9(0x1c9)]){const _0x430eb3=_0x36edd9(0x606);studentResultArea[_0x36edd9(0x269)](_0x36edd9(0x90d),_0x430eb3),document[_0x36edd9(0xa59)](_0x36edd9(0xa66))[_0x36edd9(0x1ce)](_0x36edd9(0x420),()=>{const _0x22b94a=_0x36edd9;studentResultArea[_0x22b94a(0x445)][_0x22b94a(0x874)](_0x22b94a(0x318)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x2bc5df=_0x36edd9(0xa2f),_0x4a48c1=currentMode==='admin-testing',_0x18e0f7=_0x4a48c1?_0x36edd9(0x889):_0x36edd9(0x871);let _0x1f238e='';_0xc14107[_0x36edd9(0x3b6)]&&(_0x1f238e+=_0x36edd9(0x993));let _0x3a08d5=_0xc14107[_0x36edd9(0x461)];_0x3a08d5===undefined&&(_0x3a08d5=_0xc14107[_0x36edd9(0x3e9)]<_0xc14107[_0x36edd9(0x602)]);_0x3a08d5&&(_0x1f238e+=_0x36edd9(0x320));_0x1f238e+=_0x36edd9(0x8cb)+_0x2bc5df+_0x36edd9(0x884)+_0x18e0f7+'</button>';const _0x16779d=_0x36edd9(0x9e5)+_0x1f238e+_0x36edd9(0x552);studentResultArea[_0x36edd9(0x269)](_0x36edd9(0x90d),_0x16779d),studentResultArea[_0x36edd9(0x5b4)](_0x36edd9(0x53b))?.['addEventListener'](_0x36edd9(0x420),handleShowStudentRankings);const _0x112354=studentResultArea[_0x36edd9(0x5b4)]('#retake-for-improvement-btn');_0x112354&&_0x112354[_0x36edd9(0x1ce)](_0x36edd9(0x420),()=>{const _0x1c1872=_0x36edd9;studentResultArea['classList'][_0x1c1872(0x874)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x2bc5df)[_0x36edd9(0x1ce)]('click',()=>{const _0x1d88e0=_0x36edd9;_0x4a48c1?(currentMode=_0x1d88e0(0x957),studentView[_0x1d88e0(0x445)][_0x1d88e0(0x874)](_0x1d88e0(0x318)),adminView[_0x1d88e0(0x445)]['remove'](_0x1d88e0(0x318)),showView('project-detail')):(showView(_0x1d88e0(0x17a)),document[_0x1d88e0(0xa59)](_0x1d88e0(0x72a))[_0x1d88e0(0x630)]='');});}function displayResultsWithAnswers(_0x385105,_0x158507,_0x50acab,_0x29a93a,_0x5cd14c,_0xdd9da=![]){const _0x34a0e9=_0x5cd971,_0x34f02e=_0x5cd14c>0x0?_0x385105/_0x5cd14c*0x64:0x0,_0x378b16=currentDisplayedQuiz[_0x34a0e9(0x1d2)]?.[_0x34a0e9(0x865)]??-0x1,_0x41edaf=currentDisplayedQuiz['isRemedial']===!![];let _0x2c6bb1='';if(_0x41edaf||_0x378b16!==-0x1){let _0x323fed=_0x41edaf?_0x385105===_0x5cd14c:_0x385105>=_0x378b16;const _0x128ccd=_0x323fed?_0x34a0e9(0x714):'bg-red-100\x20text-red-800',_0x232b47=_0x323fed?_0x34a0e9(0x569):_0x34a0e9(0x21c);_0x2c6bb1=_0x34a0e9(0x1f7)+_0x128ccd+'\x22>'+_0x232b47+_0x34a0e9(0xae8);}let _0xaec9a3=_0x34a0e9(0x558)+currentStudentName+_0x34a0e9(0x810)+_0x385105+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x5cd14c+_0x34a0e9(0xaac)+_0x2c6bb1+_0x34a0e9(0x950)+_0x158507+_0x34a0e9(0x423)+_0x34f02e[_0x34a0e9(0x2a4)](0x0)+_0x34a0e9(0x8c4);currentDisplayedQuiz[_0x34a0e9(0x1e6)]['forEach']((_0x149bdb,_0x2e3c69)=>{const _0x972c47=_0x34a0e9,_0x4dbe05=_0x29a93a[_0x2e3c69],_0x62bc5=_0x4dbe05[_0x972c47(0x6cd)],_0x16c075=_0x4dbe05[_0x972c47(0x8cc)],_0x1b5365=_0x149bdb['questionType']||currentDisplayedQuiz[_0x972c47(0x42e)];_0xaec9a3+=_0x972c47(0x638)+(_0x16c075?_0x972c47(0x7a5):'border-red-300\x20bg-red-50')+_0x972c47(0xa90)+(_0x2e3c69+0x1)+'.\x20'+(_0x149bdb[_0x972c47(0x5ce)]||_0x149bdb[_0x972c47(0x2a7)])+_0x972c47(0x189);switch(_0x1b5365){case _0x972c47(0x845):const _0x4c942c=_0x62bc5||_0x972c47(0x1bb),_0x125e46=_0x149bdb[_0x972c47(0x4ae)];_0xaec9a3+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x16c075?'line-through\x20text-red-700':'')+'\x22>'+_0x4c942c+_0x972c47(0xa5a);!_0x16c075&&(_0xaec9a3+=_0x972c47(0x8e1)+_0x125e46+_0x972c47(0xae8));break;case _0x972c47(0x536):_0xaec9a3+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x62bc5||_0x972c47(0x1bb))+_0x972c47(0xae8),_0xaec9a3+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x149bdb[_0x972c47(0x5e7)]+_0x972c47(0xae8);break;case _0x972c47(0x8fe):_0xaec9a3+=_0x972c47(0xac8)+(_0x149bdb[_0x972c47(0x276)]===!![]?_0x972c47(0x254):'')+'\x20'+(_0x62bc5===_0x972c47(0x870)&&!_0x16c075?_0x972c47(0x475):'')+_0x972c47(0x2ed),_0xaec9a3+=_0x972c47(0xac8)+(_0x149bdb[_0x972c47(0x276)]===![]?_0x972c47(0x254):'')+'\x20'+(_0x62bc5===_0x972c47(0x513)&&!_0x16c075?_0x972c47(0x475):'')+_0x972c47(0x568);break;default:_0xaec9a3+=_0x149bdb['options']['map']((_0x4fcbf5,_0x19db53)=>{const _0x1bcb18=_0x972c47;let _0x4838e9='',_0x3c2e34='';if(_0x19db53===_0x149bdb['correctAnswerIndex'])_0x4838e9='font-bold\x20text-green-700',_0x3c2e34=_0x1bcb18(0x7a3);else _0x19db53===_0x62bc5&&(_0x4838e9='font-bold\x20text-red-700\x20line-through',_0x3c2e34='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x1bcb18(0xa4c)+_0x4838e9+'\x22>'+_0x3c2e34+_0x4fcbf5+_0x1bcb18(0x552);})[_0x972c47(0x386)]('');break;}_0xaec9a3+=_0x972c47(0x4a8)+(_0x149bdb[_0x972c47(0x9fc)]||_0x972c47(0x844))+_0x972c47(0x552);if(!_0x16c075){const _0x3b1165=_0x149bdb[_0x972c47(0x5ce)]||_0x149bdb[_0x972c47(0x2a7)];_0xaec9a3+=_0x972c47(0xa98)+escape(_0x3b1165)+_0x972c47(0x79c);}_0xaec9a3+=_0x972c47(0x552);}),studentResultArea['innerHTML']=_0xaec9a3,renderEarnedBadges(_0x50acab,_0x34a0e9(0x862)),studentResultArea[_0x34a0e9(0x445)][_0x34a0e9(0x6b7)](_0x34a0e9(0x318)),studentQuizArea['classList'][_0x34a0e9(0x874)](_0x34a0e9(0x318)),setupResultScreenBackButton({'isLooping':_0xdd9da,'score':_0x385105,'totalQuestions':_0x5cd14c,'showRankings':!![]});if(window['MathJax'])window[_0x34a0e9(0x28d)][_0x34a0e9(0x2b6)]([studentResultArea]);}function displayResultsScoreOnly(_0x16ce6e,_0x50546e,_0x5e3050,_0x7cee93){const _0x9b2b98=_0x5cd971,_0x37ba7a=_0x7cee93>0x0?_0x16ce6e/_0x7cee93*0x64:0x0,_0x5c6f07=currentDisplayedQuiz['settings']?.[_0x9b2b98(0x865)]??-0x1,_0x5dd740=currentDisplayedQuiz[_0x9b2b98(0x7c6)]===!![];let _0x881af3='';if(_0x5dd740||_0x5c6f07!==-0x1){let _0x32ae85=_0x5dd740?_0x16ce6e===_0x7cee93:_0x16ce6e>=_0x5c6f07;const _0x367887=_0x32ae85?'bg-green-100\x20text-green-800':_0x9b2b98(0x31c),_0x28181d=_0x32ae85?_0x9b2b98(0x569):_0x9b2b98(0x21c);_0x881af3='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x367887+'\x22>'+_0x28181d+_0x9b2b98(0xae8);}let _0x2ec01b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x9b2b98(0x406)+_0x16ce6e+_0x9b2b98(0x9f0)+_0x7cee93+_0x9b2b98(0xaac)+_0x881af3+_0x9b2b98(0x950)+_0x50546e+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x37ba7a[_0x9b2b98(0x2a4)](0x0)+_0x9b2b98(0x857);studentResultArea[_0x9b2b98(0x43a)]=_0x2ec01b,renderEarnedBadges(_0x5e3050,_0x9b2b98(0x862)),studentResultArea[_0x9b2b98(0x445)][_0x9b2b98(0x6b7)](_0x9b2b98(0x318)),studentQuizArea[_0x9b2b98(0x445)]['add'](_0x9b2b98(0x318)),setupResultScreenBackButton({'score':_0x16ce6e,'totalQuestions':_0x7cee93,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x7d4486=_0x5cd971;let _0x130e97=_0x7d4486(0x6bd)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x7d4486(0x43a)]=_0x130e97,studentResultArea[_0x7d4486(0x445)][_0x7d4486(0x6b7)](_0x7d4486(0x318)),studentQuizArea[_0x7d4486(0x445)]['add'](_0x7d4486(0x318)),document['getElementById'](_0x7d4486(0x8a5))['addEventListener'](_0x7d4486(0x420),()=>{const _0x9f9294=_0x7d4486;showView(_0x9f9294(0x17a)),document['getElementById'](_0x9f9294(0x72a))[_0x9f9294(0x630)]='';});}function renderEarnedBadges(_0x4486f2,_0x31e186){const _0x350695=_0x5cd971,_0x263174=document[_0x350695(0xa59)](_0x31e186);if(!_0x263174||!_0x4486f2||_0x4486f2[_0x350695(0x963)]===0x0)return;let _0x4d95cc='';_0x4486f2['forEach']((_0x1ce2fb,_0x4bdbfc)=>{const _0x36d731=_0x350695,_0x19e6bb=Object[_0x36d731(0xa88)](BADGES)[_0x36d731(0x3fd)](_0x3f2436=>_0x3f2436['id']===_0x1ce2fb);_0x19e6bb&&(_0x4d95cc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x4bdbfc*0.2+_0x36d731(0x6c5)+_0x19e6bb[_0x36d731(0x6e5)]+_0x36d731(0x287)+_0x19e6bb['icon']+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x19e6bb['name']+_0x36d731(0x709));}),_0x263174['innerHTML']=_0x4d95cc;}function startPresentation(_0x3eca62){const _0x1da704=_0x5cd971;currentQuizData=getShuffledQuiz(_0x3eca62),currentPresentationSlide=0x0,presentationModal[_0x1da704(0x588)][_0x1da704(0xaf1)]=_0x1da704(0x9da),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x3cc523=_0x5cd971;document[_0x3cc523(0x634)]&&document[_0x3cc523(0x894)](),presentationModal[_0x3cc523(0x588)][_0x3cc523(0xaf1)]=_0x3cc523(0x936);}function renderPresentationSlide(_0xfc4ee3){const _0x2815f4=_0x5cd971,_0x1f54e0=document[_0x2815f4(0xa59)](_0x2815f4(0x9b2));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x2815f4(0x1e6)][_0xfc4ee3]){_0x1f54e0[_0x2815f4(0x43a)]=_0x2815f4(0x831);return;}const _0x259c34=currentQuizData[_0x2815f4(0x1e6)][_0xfc4ee3],_0x553304=_0x259c34['questionType']||currentQuizData['quizType'];_0x1f54e0[_0x2815f4(0x43a)]='';let _0x15efd6=_0x2815f4(0x43f)+(_0x259c34[_0x2815f4(0x187)]?_0x2815f4(0x698)+_0x259c34[_0x2815f4(0x187)]+_0x2815f4(0x552):'')+_0x2815f4(0x6f5)+(_0xfc4ee3+0x1)+'.\x20'+(_0x259c34[_0x2815f4(0x5ce)]||_0x259c34[_0x2815f4(0x2a7)])+_0x2815f4(0x8d0);switch(_0x553304){case _0x2815f4(0x845):_0x15efd6+=_0x259c34[_0x2815f4(0x70c)][_0x2815f4(0x6e4)](_0x4e73e9=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e73e9+_0x2815f4(0x394))[_0x2815f4(0x386)]('');break;case _0x2815f4(0x8fe):_0x15efd6+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x15efd6+=_0x2815f4(0x823);break;case _0x2815f4(0x732):case _0x2815f4(0x536):_0x15efd6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2815f4(0x214):case'multiple_choice':default:_0x15efd6+=_0x259c34[_0x2815f4(0x369)][_0x2815f4(0x6e4)]((_0x19b7bb,_0x26e868)=>_0x2815f4(0x3cc)+_0x26e868+_0x2815f4(0x250)+_0x19b7bb+_0x2815f4(0x394))[_0x2815f4(0x386)]('');break;}_0x15efd6+=_0x2815f4(0x3f3)+(_0x259c34[_0x2815f4(0x9fc)]||'ไม่มีคำอธิบาย')+_0x2815f4(0x2d4),_0x1f54e0[_0x2815f4(0x43a)]=_0x15efd6;if(window[_0x2815f4(0x28d)])window[_0x2815f4(0x28d)][_0x2815f4(0x2b6)]([_0x1f54e0]);let _0x47ac83=[];switch(_0x553304){case _0x2815f4(0x845):_0x47ac83=_0x259c34[_0x2815f4(0x70c)]||[];break;case _0x2815f4(0x8fe):_0x47ac83=[_0x2815f4(0x989),_0x2815f4(0x4ca)];break;default:_0x47ac83=_0x259c34[_0x2815f4(0x369)]||[];break;}const _0x333962=document[_0x2815f4(0xa59)](_0x2815f4(0x2d8));_0x333962&&(_0x333962[_0x2815f4(0x62f)]=()=>{openScratchpad(_0x259c34,_0x47ac83);});document[_0x2815f4(0x1f8)](_0x2815f4(0x5fb))[_0x2815f4(0x5d5)](_0x4373e0=>{const _0x453d98=_0x2815f4;_0x4373e0[_0x453d98(0x1ce)](_0x453d98(0x420),_0x47a5a5=>revealAnswerForPresentation(_0xfc4ee3,_0x47a5a5[_0x453d98(0x613)]));});const _0x3a63e1=document[_0x2815f4(0xa59)](_0x2815f4(0x7ba));_0x3a63e1&&_0x3a63e1['addEventListener'](_0x2815f4(0x420),()=>checkShortAnswerForPresentation(_0xfc4ee3)),document[_0x2815f4(0xa59)](_0x2815f4(0x82b))[_0x2815f4(0x2e0)]=_0x2815f4(0x4ea)+(_0xfc4ee3+0x1)+'\x20/\x20'+currentQuizData[_0x2815f4(0x1e6)]['length'],document['getElementById']('prev-question-btn')[_0x2815f4(0x3cd)]=_0xfc4ee3===0x0,document[_0x2815f4(0xa59)](_0x2815f4(0x1b9))[_0x2815f4(0x3cd)]=_0xfc4ee3===currentQuizData[_0x2815f4(0x1e6)][_0x2815f4(0x963)]-0x1;}async function checkShortAnswerForPresentation(_0x4fb198){const _0x4d78b6=_0x5cd971,_0x51861e=currentQuizData[_0x4d78b6(0x1e6)][_0x4fb198],_0x392c3e=document[_0x4d78b6(0xa59)](_0x4d78b6(0xadf)),_0x56e7f6=document[_0x4d78b6(0xa59)]('check-presentation-answer-btn'),_0x26dcac=document['getElementById']('presentation-ai-result'),_0x169b47=document[_0x4d78b6(0xa59)](_0x4d78b6(0x676));if(!_0x392c3e||!_0x56e7f6||!_0x26dcac||!_0x169b47)return;const _0x3f912d=_0x392c3e[_0x4d78b6(0x630)][_0x4d78b6(0x56b)]();if(_0x3f912d==='')return;_0x56e7f6[_0x4d78b6(0x3cd)]=!![],_0x56e7f6['innerHTML']=_0x4d78b6(0x30c),_0x392c3e['disabled']=!![];const _0x44efa6=await gradeShortAnswer(_0x3f912d,_0x51861e);_0x44efa6?_0x26dcac['innerHTML']=_0x4d78b6(0x903):_0x26dcac[_0x4d78b6(0x43a)]=_0x4d78b6(0x39f)+_0x51861e['idealAnswer']+')',_0x26dcac[_0x4d78b6(0x445)][_0x4d78b6(0x6b7)](_0x4d78b6(0x318)),_0x169b47['classList']['remove']('hidden'),_0x56e7f6[_0x4d78b6(0x445)][_0x4d78b6(0x874)]('hidden');}function revealAnswerForPresentation(_0x2b222a,_0x12816b){const _0x543616=_0x5cd971,_0x1a602=currentQuizData[_0x543616(0x1e6)][_0x2b222a],_0x17357c=_0x1a602[_0x543616(0x969)]||currentQuizData['quizType'];document[_0x543616(0x1f8)](_0x543616(0x5fb))[_0x543616(0x5d5)](_0xd9d79b=>{const _0x56b0d4=_0x543616;_0xd9d79b[_0x56b0d4(0x3cd)]=!![],_0xd9d79b[_0x56b0d4(0x445)][_0x56b0d4(0x6b7)](_0x56b0d4(0x2d2));let _0x495e0d=![];if(_0x17357c==='multiple_choice'||_0x17357c===_0x56b0d4(0x214)){const _0xf8c638=parseInt(_0xd9d79b['dataset'][_0x56b0d4(0x321)]);_0x495e0d=_0xf8c638===_0x1a602[_0x56b0d4(0x501)];}else{if(_0x17357c===_0x56b0d4(0x8fe)){const _0x4f1f79=_0xd9d79b[_0x56b0d4(0xafb)]['answer']===_0x56b0d4(0x870);_0x495e0d=_0x4f1f79===_0x1a602[_0x56b0d4(0x276)];}else _0x17357c==='matching_item'&&(_0x495e0d=_0xd9d79b[_0x56b0d4(0x2e0)][_0x56b0d4(0x56b)]()===_0x1a602[_0x56b0d4(0x4ae)]);}_0x495e0d?_0xd9d79b[_0x56b0d4(0x445)][_0x56b0d4(0x874)](_0x56b0d4(0xa95),_0x56b0d4(0x3c9),_0x56b0d4(0x4fb)):_0xd9d79b[_0x56b0d4(0x445)][_0x56b0d4(0x874)](_0x56b0d4(0x8ca));}),_0x12816b[_0x543616(0x445)]['remove'](_0x543616(0x8ca));let _0x123b85=![];if(_0x17357c==='multiple_choice')_0x123b85=parseInt(_0x12816b[_0x543616(0xafb)]['index'])===_0x1a602['correctAnswerIndex'];else{if(_0x17357c===_0x543616(0x8fe))_0x123b85=_0x12816b[_0x543616(0xafb)][_0x543616(0x6cd)]==='true'===_0x1a602[_0x543616(0x276)];else _0x17357c===_0x543616(0x845)&&(_0x123b85=_0x12816b[_0x543616(0x2e0)][_0x543616(0x56b)]()===_0x1a602[_0x543616(0x4ae)]);}!_0x123b85&&_0x12816b[_0x543616(0x445)][_0x543616(0x874)](_0x543616(0x3fc),_0x543616(0x3c9),'border-red-700'),document['getElementById'](_0x543616(0x676))[_0x543616(0x445)][_0x543616(0x6b7)](_0x543616(0x318));}function startWholeQuizTimer(_0x2d5a89){const _0x51bf76=_0x5cd971,_0x544c52=document[_0x51bf76(0xa59)](_0x51bf76(0x1d3));if(!_0x544c52)return;const _0x481a08=Date[_0x51bf76(0x3fe)]()+_0x2d5a89*0x3c*0x3e8;_0x544c52[_0x51bf76(0x43a)]=_0x51bf76(0x66b);const _0x1233a7=document[_0x51bf76(0xa59)](_0x51bf76(0x19a));quizTimerInterval=setInterval(()=>{const _0x350bb9=_0x51bf76,_0x4bee62=_0x481a08-Date['now']();if(_0x4bee62<=0x0)clearInterval(quizTimerInterval),_0x1233a7['textContent']=_0x350bb9(0x1e9),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x4f48d3=Math[_0x350bb9(0x68d)](_0x4bee62/0x3e8/0x3c%0x3c)[_0x350bb9(0x5ea)]()[_0x350bb9(0x922)](0x2,'0'),_0x1f5c86=Math[_0x350bb9(0x68d)](_0x4bee62/0x3e8%0x3c)[_0x350bb9(0x5ea)]()[_0x350bb9(0x922)](0x2,'0');_0x1233a7[_0x350bb9(0x2e0)]=_0x4f48d3+':'+_0x1f5c86;}},0x3e8);}function renderPerQuestionView(){const _0x512195=_0x5cd971;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x237948=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x45284d=_0x237948[_0x512195(0x969)]||currentDisplayedQuiz['quizType'],_0x4a25f8=currentDisplayedQuiz['settings']?.[_0x512195(0x1a1)]===!![];let _0x59466d=_0x512195(0xa20)+(currentQuestionIndex+0x1)+_0x512195(0xa45)+currentDisplayedQuiz[_0x512195(0x1e6)]['length']+_0x512195(0x539)+(currentMode===_0x512195(0x85d)?_0x512195(0xabf):'')+_0x512195(0x217)+currentDisplayedQuiz[_0x512195(0xaad)]+_0x512195(0x1af);studentQuizArea[_0x512195(0x43a)]=_0x59466d;let _0x373d55=_0x237948[_0x512195(0x5ce)]||_0x237948['questionText'];_0x237948[_0x512195(0x187)]&&(_0x373d55+=_0x512195(0x698)+_0x237948[_0x512195(0x187)]+_0x512195(0x552));let _0x38a02d='';switch(_0x45284d){case _0x512195(0x536):case'fill_in_no_choices':_0x38a02d=_0x512195(0x8ea);break;case _0x512195(0x8fe):_0x38a02d=_0x512195(0x4a6);break;case _0x512195(0x845):_0x38a02d=_0x512195(0x267)+(_0x237948[_0x512195(0x70c)]||[])[_0x512195(0x6e4)](_0x10ff1a=>_0x512195(0x99f)+_0x10ff1a+'\x22>'+_0x10ff1a+'</option>')[_0x512195(0x386)]('')+_0x512195(0x5ff);break;default:_0x237948[_0x512195(0x369)]&&(_0x38a02d=_0x237948[_0x512195(0x369)][_0x512195(0x6e4)]((_0x36aba4,_0x377035)=>_0x512195(0x1cb)+_0x377035+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x377035+_0x512195(0x83b)+_0x377035+'\x22>'+_0x36aba4+_0x512195(0x240))['join'](''));break;}document['getElementById']('per-question-text')['innerHTML']=_0x373d55,document[_0x512195(0xa59)](_0x512195(0x4cc))[_0x512195(0x43a)]=_0x38a02d;const _0x1ff03d=currentDisplayedQuiz['settings']?.[_0x512195(0x1a1)]===!![],_0x4200c0=currentDisplayedQuiz['settings']?.[_0x512195(0x2c7)]||_0x512195(0x538);if(_0x1ff03d&&_0x4200c0==='checkbox'){const _0x44ef16='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x512195(0x5b4)](_0x512195(0x308))['insertAdjacentHTML'](_0x512195(0x90d),_0x44ef16);}studentQuizArea[_0x512195(0x269)](_0x512195(0x90d),_0x512195(0x5e4)+(currentQuestionIndex===currentDisplayedQuiz[_0x512195(0x1e6)]['length']-0x1?'ส่งคำตอบ':'คำถามถัดไป')+_0x512195(0x2c2));currentMode==='admin-testing'&&document[_0x512195(0xa59)](_0x512195(0xa5f))?.['addEventListener'](_0x512195(0x420),cancelAdminTest);document[_0x512195(0xa59)](_0x512195(0x86c))[_0x512195(0x1ce)](_0x512195(0x420),()=>handleNextQuestionInTimedMode(![]));if(window[_0x512195(0x28d)])window['MathJax'][_0x512195(0x2b6)]([studentQuizArea]);currentDisplayedQuiz[_0x512195(0x1d2)]?.[_0x512195(0xaf7)]===_0x512195(0x9cd)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x508aa1=_0x5cd971,_0x5fa57c=currentDisplayedQuiz[_0x508aa1(0x1d2)][_0x508aa1(0x1fe)],_0x334f97=document[_0x508aa1(0xa59)](_0x508aa1(0xa39));if(!_0x334f97)return;let _0x3b5cf8=_0x5fa57c;_0x334f97[_0x508aa1(0x43a)]=_0x508aa1(0x4e9)+_0x3b5cf8+_0x508aa1(0x364);const _0x24ff62=document[_0x508aa1(0xa59)](_0x508aa1(0xa97)),_0x11a101=document['getElementById'](_0x508aa1(0x2fe));perQuestionTimerInterval=setInterval(()=>{const _0x47dc1d=_0x508aa1;_0x3b5cf8--;const _0x14fba=_0x3b5cf8/_0x5fa57c*0x64;_0x24ff62[_0x47dc1d(0x588)][_0x47dc1d(0x523)]=_0x14fba+'%',_0x11a101[_0x47dc1d(0x2e0)]=_0x3b5cf8,_0x3b5cf8<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x47dc1d(0x813)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x41e274=![]){const _0x35ea6c=_0x5cd971;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x192eab=null,_0x57f421=![];if(!_0x41e274){const _0x3240c4=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x5298d1=_0x3240c4[_0x35ea6c(0x969)]||currentDisplayedQuiz[_0x35ea6c(0x42e)];if(_0x5298d1==='short_answer'||_0x5298d1===_0x35ea6c(0x732))_0x192eab=document[_0x35ea6c(0x5b4)](_0x35ea6c(0x302))?.[_0x35ea6c(0x630)][_0x35ea6c(0x56b)]()??'';else{if(_0x5298d1===_0x35ea6c(0x845))_0x192eab=document[_0x35ea6c(0x5b4)]('select[name=\x22question_single\x22]')?.[_0x35ea6c(0x630)]??'';else{const _0x2a8ed6=document['querySelector'](_0x35ea6c(0x591));_0x2a8ed6&&(_0x192eab=_0x2a8ed6[_0x35ea6c(0x630)]);}}if(_0x192eab===null||_0x192eab===''){showMessage(_0x35ea6c(0x4f8)),startPerQuestionTimer();return;}const _0x4712a5=currentDisplayedQuiz[_0x35ea6c(0x1d2)]?.['isConfidenceScoringEnabled']===!![],_0x466a22=currentDisplayedQuiz[_0x35ea6c(0x1d2)]?.[_0x35ea6c(0x2c7)]||_0x35ea6c(0x538);if(_0x4712a5&&_0x466a22===_0x35ea6c(0x8fd)){document['getElementById'](_0x35ea6c(0xa77))[_0x35ea6c(0xafb)]['currentMode']=_0x35ea6c(0x25e),document['getElementById']('selected-answer-index-hidden')[_0x35ea6c(0x630)]=_0x192eab,document[_0x35ea6c(0xa59)](_0x35ea6c(0xa77))[_0x35ea6c(0x445)][_0x35ea6c(0x6b7)](_0x35ea6c(0x318));return;}const _0xba5d48=document[_0x35ea6c(0xa59)](_0x35ea6c(0x242));_0xba5d48&&(_0x57f421=_0xba5d48['checked']);}const _0x3aaca5={'answer':_0x192eab,'wasConfident':_0x57f421};proceedToNextQuestion(_0x3aaca5);}async function finalizePerQuestionQuiz(){const _0xe8b803=_0x5cd971,_0x26a4d0=currentDisplayedQuiz[_0xe8b803(0x1e6)][_0xe8b803(0xacf)](_0x4f9145=>_0x4f9145[_0xe8b803(0x969)]==='short_answer');_0x26a4d0?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0xe8b803(0x3e1));const _0xc05c5a=currentQuizData['id'],_0x3cabf8=doc(db,_0xe8b803(0xab3)+appId+_0xe8b803(0xa37)+_0xc05c5a+'/submissions',currentStudentName),_0xdc7e2a=await getDoc(_0x3cabf8),_0x22c33d=_0xdc7e2a[_0xe8b803(0x540)]()?_0xdc7e2a['data']():{},_0x36ede6=_0x22c33d[_0xe8b803(0x97b)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x36ede6);}function getResultsFilename(){const _0x401f3e=_0x5cd971,_0x401c49=document[_0x401f3e(0xa59)](_0x401f3e(0x825))[_0x401f3e(0x2e0)][_0x401f3e(0x263)](/[^a-z0-9]/gi,'_')[_0x401f3e(0x57d)]();return'results_'+(_0x401c49||_0x401f3e(0x604));}function exportResultsAsImage(){const _0x28f554=_0x5cd971,_0x1d8752=document['getElementById'](_0x28f554(0x6a1));showMessage(_0x28f554(0xab9)),html2canvas(_0x1d8752)[_0x28f554(0x268)](_0x987b56=>{const _0x57b533=_0x28f554,_0x13fd9a=document[_0x57b533(0x3b7)]('a');_0x13fd9a[_0x57b533(0x988)]=getResultsFilename()+_0x57b533(0xa30),_0x13fd9a[_0x57b533(0x6cf)]=_0x987b56[_0x57b533(0x68a)](_0x57b533(0x82c)),_0x13fd9a[_0x57b533(0x420)](),messageModal['classList'][_0x57b533(0x874)](_0x57b533(0x318));});}function exportResultsAsPDF(){const _0x4c3fc3=_0x5cd971,{jsPDF:_0xfc83e3}=window['jspdf'],_0x781fe9=new _0xfc83e3();_0x781fe9[_0x4c3fc3(0x880)](_0x4c3fc3(0x49b),_0x4c3fc3(0x27d)),_0x781fe9[_0x4c3fc3(0x6d5)]({'html':_0x4c3fc3(0x171)}),_0x781fe9[_0x4c3fc3(0x88b)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x28fab1=_0x5cd971,_0xdb5cd0='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x28fab1(0xa78)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x28fab1(0x94b),_0x220ffa=_0x28fab1(0x61f),_0x539772=_0xdb5cd0+document[_0x28fab1(0xa59)](_0x28fab1(0x6a1))['innerHTML']+_0x220ffa,_0x2452e7=_0x28fab1(0x395)+encodeURIComponent(_0x539772),_0x23400=document['createElement']('a');document[_0x28fab1(0x23e)][_0x28fab1(0x3c2)](_0x23400),_0x23400['href']=_0x2452e7,_0x23400[_0x28fab1(0x988)]=getResultsFilename()+_0x28fab1(0x44f),_0x23400['click'](),document[_0x28fab1(0x23e)][_0x28fab1(0x595)](_0x23400);}function exportResultsAsExcel(){const _0x34c27a=_0x5cd971,_0x592b11=document[_0x34c27a(0xa59)](_0x34c27a(0x72f));let _0x5d633d=[];for(let _0x1f5b4e=0x0;_0x1f5b4e<_0x592b11['rows'][_0x34c27a(0x963)];_0x1f5b4e++){let _0x3f24c3=[],_0x4c4f85=_0x592b11[_0x34c27a(0x185)][_0x1f5b4e][_0x34c27a(0x1f8)](_0x34c27a(0x80d));for(let _0x995cac=0x0;_0x995cac<_0x4c4f85[_0x34c27a(0x963)];_0x995cac++){_0x3f24c3[_0x34c27a(0x34a)]('\x22'+_0x4c4f85[_0x995cac][_0x34c27a(0x182)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x5d633d[_0x34c27a(0x34a)](_0x3f24c3[_0x34c27a(0x386)](','));}const _0x52e76a=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5d633d[_0x34c27a(0x386)]('\x0a')],{'type':_0x34c27a(0x38e)}),_0x482234=document[_0x34c27a(0x3b7)]('a');_0x482234[_0x34c27a(0x6cf)]=URL['createObjectURL'](_0x52e76a),_0x482234['download']=getResultsFilename()+_0x34c27a(0x4bd),_0x482234[_0x34c27a(0x420)]();}function exportTableAsImage(_0x88acdf,_0x57269b){const _0x4c7bd1=_0x5cd971,_0x4e1d75=document[_0x4c7bd1(0xa59)](_0x88acdf);if(!_0x4e1d75){showMessage(_0x4c7bd1(0x3f9));return;}showMessage(_0x4c7bd1(0xab9)),html2canvas(_0x4e1d75)[_0x4c7bd1(0x268)](_0x434e27=>{const _0x1a3374=_0x4c7bd1,_0x3b59f5=document[_0x1a3374(0x3b7)]('a');_0x3b59f5['download']=_0x57269b+_0x1a3374(0xa30),_0x3b59f5['href']=_0x434e27[_0x1a3374(0x68a)](_0x1a3374(0x82c)),_0x3b59f5[_0x1a3374(0x420)](),messageModal['classList'][_0x1a3374(0x874)](_0x1a3374(0x318));});}function exportTableAsPDF(_0xba2205,_0x349741){const _0x55d3a8=_0x5cd971,{jsPDF:_0x312ee3}=window[_0x55d3a8(0x3ec)],_0x1154b1=new _0x312ee3();_0x1154b1[_0x55d3a8(0x880)](_0x55d3a8(0x49b),_0x55d3a8(0x27d)),_0x1154b1[_0x55d3a8(0x6d5)]({'html':'#'+_0xba2205}),_0x1154b1[_0x55d3a8(0x88b)](_0x349741+'.pdf');}function exportTableAsWord(_0x443453,_0x5902fd){const _0x1bac04=_0x5cd971,_0x31ac94=document[_0x1bac04(0xa59)](_0x443453);if(!_0x31ac94){showMessage(_0x1bac04(0x3f9));return;}const _0x3eb5fc=_0x1bac04(0x28c)+_0x1bac04(0xa78)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x1bac04(0x94b),_0x51cf1a=_0x1bac04(0x61f),_0xd08328=_0x3eb5fc+_0x31ac94['innerHTML']+_0x51cf1a,_0xc6101e=_0x1bac04(0x395)+encodeURIComponent(_0xd08328),_0x3358e2=document['createElement']('a');document[_0x1bac04(0x23e)][_0x1bac04(0x3c2)](_0x3358e2),_0x3358e2[_0x1bac04(0x6cf)]=_0xc6101e,_0x3358e2['download']=_0x5902fd+_0x1bac04(0x44f),_0x3358e2[_0x1bac04(0x420)](),document[_0x1bac04(0x23e)]['removeChild'](_0x3358e2);}function exportTableAsExcel(_0x4465ea,_0x5b58aa){const _0x2dd181=_0x5cd971,_0x532a5a=document[_0x2dd181(0xa59)](_0x4465ea);if(!_0x532a5a){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x1689fa=[];for(let _0x16833c=0x0;_0x16833c<_0x532a5a[_0x2dd181(0x185)][_0x2dd181(0x963)];_0x16833c++){let _0x434aff=[],_0x50d230=_0x532a5a[_0x2dd181(0x185)][_0x16833c][_0x2dd181(0x1f8)]('td,\x20th');for(let _0x148137=0x0;_0x148137<_0x50d230[_0x2dd181(0x963)];_0x148137++){_0x434aff[_0x2dd181(0x34a)]('\x22'+_0x50d230[_0x148137]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x1689fa[_0x2dd181(0x34a)](_0x434aff[_0x2dd181(0x386)](','));}const _0x2d2e1f=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1689fa['join']('\x0a')],{'type':_0x2dd181(0x38e)}),_0x92ae60=document[_0x2dd181(0x3b7)]('a');_0x92ae60[_0x2dd181(0x6cf)]=URL[_0x2dd181(0xad2)](_0x2d2e1f),_0x92ae60[_0x2dd181(0x988)]=_0x5b58aa+_0x2dd181(0x4bd),_0x92ae60[_0x2dd181(0x420)]();}function renderAnalytics(_0x43195c,_0x556f7c){const _0x2cb475=_0x5cd971,_0x3c5a0b=_0x556f7c[_0x2cb475(0x75f)](_0x2e46e4=>_0x2e46e4['latestScore']!==undefined),_0x4ec574=currentProjectData['students'][_0x2cb475(0x963)],_0x545af8=_0x3c5a0b[_0x2cb475(0x963)],_0x10c2ee=_0x4ec574-_0x545af8,_0x308fa6=_0x4ec574>0x0?_0x545af8/_0x4ec574*0x64:0x0,_0x31e8d7=_0x3c5a0b[_0x2cb475(0x6e4)](_0x59d269=>_0x59d269[_0x2cb475(0x982)]),_0x419282=_0x31e8d7['length']>0x0?_0x31e8d7[_0x2cb475(0x8db)]((_0x32c90b,_0x1c52ea)=>_0x32c90b+_0x1c52ea,0x0)/_0x31e8d7[_0x2cb475(0x963)]:0x0,_0x374ca0=_0x43195c[_0x2cb475(0x1e6)][_0x2cb475(0x963)],_0x4d9c05=_0x374ca0>0x0?_0x419282/_0x374ca0*0x64:0x0,_0x56cd39=calculateItemAnalysis(_0x43195c,_0x3c5a0b),_0x26593c=calculateReliabilityKR20(_0x43195c,_0x3c5a0b,_0x56cd39[_0x2cb475(0x30a)]);let _0x7ef1f3='';if(_0x26593c!==null){let _0x5204ad='';if(_0x26593c>=0.9)_0x5204ad=_0x2cb475(0x56f);else{if(_0x26593c>=0.8)_0x5204ad=_0x2cb475(0xa03);else{if(_0x26593c>=0.7)_0x5204ad='ดี';else{if(_0x26593c>=0.6)_0x5204ad='พอใช้';else _0x5204ad=_0x2cb475(0x45e);}}}_0x7ef1f3=_0x2cb475(0x56a)+_0x26593c[_0x2cb475(0x2a4)](0x2)+_0x2cb475(0x678)+_0x5204ad+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x3a1c4c=document['getElementById'](_0x2cb475(0xa75));_0x3a1c4c[_0x2cb475(0x43a)]=_0x2cb475(0x4ef)+_0x308fa6[_0x2cb475(0x2a4)](0x0)+_0x2cb475(0x341)+_0x545af8+'/'+_0x4ec574+_0x2cb475(0x459)+_0x419282[_0x2cb475(0x2a4)](0x2)+_0x2cb475(0x1e1)+_0x4d9c05[_0x2cb475(0x2a4)](0x0)+_0x2cb475(0x27f)+(_0x31e8d7[_0x2cb475(0x963)]>0x0?Math['max'](..._0x31e8d7):_0x2cb475(0x6c2))+_0x2cb475(0x9ae)+(_0x31e8d7[_0x2cb475(0x963)]>0x0?Math[_0x2cb475(0x452)](..._0x31e8d7):'N/A')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7ef1f3+'\x0a\x20\x20\x20\x20';const _0x39f6ac=document[_0x2cb475(0xa59)](_0x2cb475(0x27b));_0x39f6ac&&_0x39f6ac[_0x2cb475(0x6b7)]();const _0x2d2446=_0x2cb475(0x902);_0x3a1c4c['insertAdjacentHTML']('afterend',_0x2d2446);const _0x5884fc=currentProjectData[_0x2cb475(0x6e3)]||[];renderSubmissionChart(_0x545af8,_0x10c2ee,_0x3c5a0b,_0x5884fc),renderScoreDistributionChart(_0x3c5a0b,_0x374ca0),renderQuestionAnalytics(_0x43195c,_0x3c5a0b,_0x5884fc),renderInterestingStats(_0x43195c,_0x3c5a0b);}async function handleExportLessonPDF(){const _0x5ce4db=_0x5cd971,_0x15ca17=document[_0x5ce4db(0xa59)]('lesson-plan-content'),_0x495af0=document[_0x5ce4db(0xa59)](_0x5ce4db(0x1e4))[_0x5ce4db(0x2e0)],_0x3568a7=window[_0x5ce4db(0x841)]('',_0x5ce4db(0x6cc)),_0x406270=_0x5ce4db(0x640)+_0x495af0+_0x5ce4db(0x238)+_0x15ca17['innerHTML']+_0x5ce4db(0x718);_0x3568a7['document']['write'](_0x406270),_0x3568a7[_0x5ce4db(0x40e)][_0x5ce4db(0x20c)](),_0x3568a7['onload']=function(){setTimeout(()=>{const _0x3040aa=_0x1129;_0x3568a7[_0x3040aa(0x251)]();},0x5dc);};}function renderInterestingStats(_0x30d9af,_0x2e136d){const _0x1f36f6=_0x5cd971,_0x84e50d=document['getElementById'](_0x1f36f6(0x61a));if(!_0x84e50d)return;if(_0x2e136d[_0x1f36f6(0x963)]===0x0){_0x84e50d[_0x1f36f6(0x43a)]=_0x1f36f6(0x43c);return;}const _0x5ce640=_0x30d9af[_0x1f36f6(0x1e6)][_0x1f36f6(0x6e4)]((_0x598e2e,_0x3c26c6)=>({'index':_0x3c26c6+0x1,'text':_0x598e2e[_0x1f36f6(0x2a7)]||_0x598e2e[_0x1f36f6(0x5ce)],'correct':0x0}));_0x2e136d[_0x1f36f6(0x5d5)](_0x3c9601=>{const _0x5e3cd8=_0x1f36f6,_0x4a4986=_0x3c9601['attempts'][_0x3c9601[_0x5e3cd8(0x97b)][_0x5e3cd8(0x963)]-0x1];_0x4a4986&&_0x4a4986[_0x5e3cd8(0x89e)]&&_0x4a4986[_0x5e3cd8(0x89e)][_0x5e3cd8(0x5d5)](_0x42a164=>{const _0x230b3b=_0x5e3cd8,_0x5729fa=_0x5ce640[_0x230b3b(0x3fd)](_0x6f22d=>_0x6f22d[_0x230b3b(0x282)]===_0x42a164[_0x230b3b(0x9b0)]);_0x42a164['isCorrect']&&_0x5729fa&&_0x5729fa[_0x230b3b(0x75d)]++;});});const _0x5f559a=_0x2e136d[_0x1f36f6(0x963)],_0x147ddc=Math[_0x1f36f6(0x2ce)](..._0x5ce640[_0x1f36f6(0x6e4)](_0x1a089f=>_0x1a089f[_0x1f36f6(0x75d)])),_0x390116=Math[_0x1f36f6(0x452)](..._0x5ce640[_0x1f36f6(0x6e4)](_0x2e3c3e=>_0x2e3c3e[_0x1f36f6(0x75d)])),_0x58b4d3=_0x5ce640[_0x1f36f6(0x75f)](_0x44418d=>_0x44418d[_0x1f36f6(0x75d)]===_0x147ddc)[_0x1f36f6(0x6e4)](_0x15bb80=>_0x1f36f6(0x7bb)+_0x15bb80[_0x1f36f6(0x321)]),_0x2a472c=_0x5ce640[_0x1f36f6(0x75f)](_0x2ed0f6=>_0x2ed0f6[_0x1f36f6(0x75d)]===_0x390116)[_0x1f36f6(0x6e4)](_0x276e55=>_0x1f36f6(0x7bb)+_0x276e55['index']),_0x5bf621=_0x2e136d[_0x1f36f6(0x695)]((_0x1ed8a2,_0xed4e57)=>_0xed4e57[_0x1f36f6(0x982)]-_0x1ed8a2['latestScore'])[_0x1f36f6(0x75f)]((_0xca0a21,_0x343cf4,_0x3e54f5)=>_0xca0a21[_0x1f36f6(0x982)]===_0x3e54f5[0x0]['latestScore']),_0x342d21=_0x2e136d['sort']((_0x91a251,_0x2c7455)=>_0x91a251[_0x1f36f6(0x982)]-_0x2c7455['latestScore'])[_0x1f36f6(0x75f)]((_0x16a9e8,_0x1baf54,_0x4bfc2a)=>_0x16a9e8[_0x1f36f6(0x982)]===_0x4bfc2a[0x0][_0x1f36f6(0x982)]),_0x1293fd=_0x1f36f6(0x348)+_0x58b4d3[_0x1f36f6(0x386)](',\x20')+_0x1f36f6(0x1a6)+_0x147ddc+'\x20/\x20'+_0x5f559a+_0x1f36f6(0x9ff)+_0x2a472c['join'](',\x20')+_0x1f36f6(0x1a6)+(_0x5f559a-_0x390116)+_0x1f36f6(0x288)+_0x5f559a+_0x1f36f6(0x493)+_0x5bf621[_0x1f36f6(0x6e4)](_0x2e44d7=>_0x2e44d7[_0x1f36f6(0x222)])['join'](',\x20')+_0x1f36f6(0x84b)+_0x5bf621[0x0]['latestScore']+_0x1f36f6(0x8e2)+_0x342d21[_0x1f36f6(0x6e4)](_0xbddd93=>_0xbddd93[_0x1f36f6(0x222)])[_0x1f36f6(0x386)](',\x20')+_0x1f36f6(0x84b)+_0x342d21[0x0]['latestScore']+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x84e50d[_0x1f36f6(0x43a)]=_0x1293fd;}function renderSubmissionChart(_0x19dbe6,_0x1d2469,_0x1cfdc7,_0x1395d5){const _0x162524=_0x5cd971,_0x1636a9=document[_0x162524(0xa59)](_0x162524(0x875))[_0x162524(0x52b)]('2d'),_0x4d98ca=_0x1cfdc7[_0x162524(0x6e4)](_0x512615=>_0x512615['studentName']),_0x12294b=_0x1395d5[_0x162524(0x75f)](_0xe26394=>!_0x4d98ca['includes'](_0xe26394));chartInstances[_0x162524(0x78d)]&&chartInstances[_0x162524(0x78d)][_0x162524(0x2f9)](),chartInstances[_0x162524(0x78d)]=new Chart(_0x1636a9,{'type':'doughnut','data':{'labels':[_0x162524(0x8b3),_0x162524(0x2f4)],'datasets':[{'data':[_0x19dbe6,_0x1d2469],'backgroundColor':[_0x162524(0x2ac),_0x162524(0x3e7)],'borderColor':[_0x162524(0x5d4),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x162524(0x295)},'tooltip':{'callbacks':{'label':function(_0x2f83e8){const _0x36dbf5=_0x162524;let _0x1a5930=_0x2f83e8[_0x36dbf5(0x283)]||'';return _0x1a5930&&(_0x1a5930+=':\x20'),_0x1a5930+=_0x2f83e8['raw'],_0x1a5930;},'afterLabel':function(_0x84a3ca){const _0x37b90b=_0x162524;let _0x10ec08;return _0x84a3ca[_0x37b90b(0x575)]===0x0?_0x10ec08=_0x4d98ca:_0x10ec08=_0x12294b,_0x10ec08[_0x37b90b(0x963)]>0x0?_0x10ec08[_0x37b90b(0x386)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x45d61c,_0x41cc43){const _0x544157=_0x5cd971,_0x4a842c=document[_0x544157(0xa59)](_0x544157(0x4c3))[_0x544157(0x52b)]('2d'),_0x45edff={};for(let _0x1a6a66=0x0;_0x1a6a66<=_0x41cc43;_0x1a6a66++){_0x45edff[_0x1a6a66]=0x0;}_0x45d61c[_0x544157(0x5d5)](_0x40b89f=>{const _0x51f9fd=_0x544157;_0x45edff[_0x40b89f['latestScore']]!==undefined&&_0x45edff[_0x40b89f[_0x51f9fd(0x982)]]++;}),chartInstances['score']&&chartInstances[_0x544157(0x3e9)]['destroy'](),chartInstances[_0x544157(0x3e9)]=new Chart(_0x4a842c,{'type':_0x544157(0x441),'data':{'labels':Object[_0x544157(0xa57)](_0x45edff),'datasets':[{'label':'จำนวนนักเรียน','data':Object['values'](_0x45edff),'backgroundColor':_0x544157(0x431),'borderColor':_0x544157(0x46b),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x544157(0x19c)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x25f118){const _0x4619d2=_0x544157,_0x1f1667=_0x25f118[_0x4619d2(0x283)],_0x3f093a=_0x45d61c[_0x4619d2(0x75f)](_0x24cd57=>_0x24cd57[_0x4619d2(0x982)]==_0x1f1667)[_0x4619d2(0x6e4)](_0x23ef8a=>_0x23ef8a[_0x4619d2(0x222)]);return _0x3f093a[_0x4619d2(0x963)]>0x0?_0x3f093a[_0x4619d2(0x386)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x340162,_0x163e86,_0x406d3d){const _0x4ff721=_0x5cd971,_0x38a1c7=document[_0x4ff721(0xa59)](_0x4ff721(0x50f));if(_0x406d3d[_0x4ff721(0x963)]===0x0){_0x38a1c7[_0x4ff721(0x43a)]=_0x4ff721(0x848);return;}const _0x92daba=calculateItemAnalysis(_0x340162,_0x163e86),_0x4ef652=calculateDistractorAnalysis(_0x340162,_0x163e86);let _0x36dc17='';_0x92daba[_0x4ff721(0x866)]&&(_0x36dc17=_0x4ff721(0x6ef)+_0x92daba[_0x4ff721(0x866)][_0x4ff721(0x667)][_0x4ff721(0x963)]+_0x4ff721(0x2bc)+_0x92daba[_0x4ff721(0x866)][_0x4ff721(0x667)][_0x4ff721(0x6e4)](_0x2ee438=>'<li>'+_0x2ee438+_0x4ff721(0x3e6))[_0x4ff721(0x386)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x92daba[_0x4ff721(0x866)][_0x4ff721(0x4d9)][_0x4ff721(0x963)]+_0x4ff721(0x2bc)+_0x92daba[_0x4ff721(0x866)]['lowerGroupNames'][_0x4ff721(0x6e4)](_0x5cf71d=>'<li>'+_0x5cf71d+_0x4ff721(0x3e6))[_0x4ff721(0x386)]('')+_0x4ff721(0x956));let _0x2539ee='';const _0x5b1263=_0x163e86[_0x4ff721(0x6e4)](_0x125ff9=>_0x125ff9[_0x4ff721(0x222)]),_0x3fed7a=_0x5a4759=>{const _0x27eb1d=_0x4ff721;if(_0x5a4759>=0.8)return _0x27eb1d(0xa08);if(_0x5a4759>=0.6)return _0x27eb1d(0x2de);if(_0x5a4759>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x5a4759>=0.2)return _0x27eb1d(0x852);return _0x27eb1d(0x439);},_0x7835a4=_0x49fb99=>{const _0x541668=_0x4ff721;if(_0x49fb99<0x0)return _0x541668(0x196);if(_0x49fb99>=0.4)return _0x541668(0x3d5);if(_0x49fb99>=0.3)return _0x541668(0x5b2);if(_0x49fb99>=0.2)return _0x541668(0x35e);return _0x541668(0x68c);},_0x5c8ead=_0x18985a=>{const _0x202a52=_0x4ff721,_0x47363c=_0x18985a[_0x202a52(0x2a4)](0x0);if(parseFloat(_0x47363c)===0x64)return _0x202a52(0x2fb)+_0x47363c+_0x202a52(0x623);if(_0x18985a>=0x32)return _0x202a52(0x58c)+_0x47363c+_0x202a52(0x623);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x47363c+_0x202a52(0x623);};_0x340162['questions'][_0x4ff721(0x5d5)]((_0x3581b6,_0x20a49d)=>{const _0x462249=_0x4ff721,_0x11eaa6=_0x92daba['perQuestionStats'][_0x20a49d],_0x11c4d3=_0x4ef652[_0x20a49d],_0x35f1fe=_0x3581b6[_0x462249(0x5ce)]||_0x3581b6[_0x462249(0x2a7)]||_0x3581b6[_0x462249(0x1a4)];let _0x13388a=0x0;const _0xdaf235=[],_0x3ec007=[];_0x163e86['forEach'](_0x2a945d=>{const _0x5a5290=_0x462249,_0x5e6317=_0x2a945d['attempts'][_0x2a945d[_0x5a5290(0x97b)][_0x5a5290(0x963)]-0x1];if(_0x5e6317&&_0x5e6317[_0x5a5290(0x89e)]){const _0xdc6b7=_0x5e6317[_0x5a5290(0x89e)]['find'](_0x1f01f4=>_0x1f01f4[_0x5a5290(0x9b0)]===_0x35f1fe)??_0x5e6317[_0x5a5290(0x89e)][_0x20a49d]??null;_0xdc6b7&&(_0xdc6b7[_0x5a5290(0x8cc)]?(_0x13388a++,_0xdaf235[_0x5a5290(0x34a)](_0x2a945d[_0x5a5290(0x222)])):_0x3ec007[_0x5a5290(0x34a)](_0x2a945d[_0x5a5290(0x222)]));}});const _0x4ab45b=_0x163e86[_0x462249(0x963)]>0x0?_0x13388a/_0x163e86[_0x462249(0x963)]*0x64:0x0,_0x5c4036=_0x406d3d[_0x462249(0x75f)](_0xcd3f16=>!_0x5b1263['includes'](_0xcd3f16)),_0x4f1c7b=_0x11eaa6?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x11eaa6['p'][_0x462249(0x2a4)](0x2)+_0x462249(0x296)+_0x3fed7a(_0x11eaa6['p'])+_0x462249(0x24e)+_0x11eaa6['r']['toFixed'](0x2)+_0x462249(0x296)+_0x7835a4(_0x11eaa6['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c8ead(_0x4ab45b)+_0x462249(0xacc):'';let _0x5ecb9a='';_0x11c4d3&&(_0x5ecb9a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x462249(0xa57)](_0x11c4d3)[_0x462249(0x6e4)](_0x398410=>{const _0x369df3=_0x462249,_0x536609=_0x11c4d3[_0x398410],_0x8de3e5=parseInt(_0x398410)===_0x3581b6[_0x369df3(0x501)],_0xc949b6=!_0x8de3e5&&_0x536609[_0x369df3(0x858)]>_0x536609[_0x369df3(0x18d)];return _0x369df3(0x626)+(_0x8de3e5?_0x369df3(0x6ad):'')+_0x369df3(0x905)+(_0x8de3e5?'✔\x20':'')+_0x536609[_0x369df3(0x282)]+_0x369df3(0xaef)+_0x536609[_0x369df3(0x18d)]+_0x369df3(0xaef)+_0x536609['lower_group_count']+'\x20'+(_0xc949b6?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x536609[_0x369df3(0x4d5)]+_0x369df3(0x9a3);})[_0x462249(0x386)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x4c11ee='';_0x11eaa6&&_0x11eaa6[_0x462249(0x7f7)]&&(_0x4c11ee=_0x462249(0x9dd)+_0x11eaa6[_0x462249(0x7f7)][_0x462249(0x963)]+_0x462249(0x61e)+_0x11eaa6[_0x462249(0x7f7)][_0x462249(0x6e4)](_0x4663ea=>'<li>'+(_0x4663ea[_0x462249(0x8cc)]?_0x462249(0xad0):_0x462249(0x184))+'\x20'+_0x4663ea[_0x462249(0xa5e)]+_0x462249(0x3e6))[_0x462249(0x386)]('')+_0x462249(0x2fa)+_0x11eaa6[_0x462249(0xa3d)][_0x462249(0x963)]+_0x462249(0x61e)+_0x11eaa6[_0x462249(0xa3d)][_0x462249(0x6e4)](_0x5be917=>_0x462249(0x86f)+(_0x5be917[_0x462249(0x8cc)]?_0x462249(0xad0):_0x462249(0x184))+'\x20'+_0x5be917[_0x462249(0xa5e)]+'</li>')['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x2539ee+=_0x462249(0x2bd)+(_0x20a49d+0x1)+':\x20'+_0x35f1fe+_0x462249(0x244)+_0x4f1c7b+_0x462249(0x883)+_0x35f1fe+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x13388a+'\x20จาก\x20'+_0x163e86[_0x462249(0x963)]+_0x462249(0x9b6)+_0x4ab45b['toFixed'](0x0)+_0x462249(0x508)+_0xdaf235[_0x462249(0x963)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0xdaf235[_0x462249(0x963)]>0x0?_0xdaf235['join'](',\x20'):_0x462249(0x59a))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x3ec007[_0x462249(0x963)]+_0x462249(0x60f)+(_0x3ec007[_0x462249(0x963)]>0x0?_0x3ec007[_0x462249(0x386)](',\x20'):_0x462249(0x59a))+_0x462249(0x2a0)+_0x5c4036['length']+_0x462249(0x60f)+(_0x5c4036[_0x462249(0x963)]>0x0?_0x5c4036[_0x462249(0x386)](',\x20'):'ไม่มี')+_0x462249(0x5b5)+_0x5ecb9a+_0x462249(0x4d2)+_0x4c11ee+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x38a1c7[_0x4ff721(0x43a)]=_0x36dc17+_0x2539ee;try{window['MathJax']&&MathJax[_0x4ff721(0x2b6)]&&MathJax[_0x4ff721(0x2b6)]([_0x38a1c7]);}catch(_0x3b5784){console[_0x4ff721(0x5a8)](_0x4ff721(0x5f9),_0x3b5784);}}function calculateDistractorAnalysis(_0xda7fb5,_0x58411e){const _0x509622=_0x5cd971,_0x3fa189={};if(_0x58411e[_0x509622(0x963)]<0x2)return _0x3fa189;const _0x17c6cc=[..._0x58411e][_0x509622(0x695)]((_0x9b9d2f,_0x1c44cf)=>{const _0x7e57cc=_0x509622,_0x14cdc0=_0x1c44cf[_0x7e57cc(0x982)]-_0x9b9d2f[_0x7e57cc(0x982)];if(_0x14cdc0!==0x0)return _0x14cdc0;const _0x4ea983=_0x9b9d2f[_0x7e57cc(0x97b)]?.[_0x7e57cc(0x963)]||0x1,_0x53e1c1=_0x1c44cf[_0x7e57cc(0x97b)]?.[_0x7e57cc(0x963)]||0x1,_0x121ddf=_0x4ea983-_0x53e1c1;if(_0x121ddf!==0x0)return _0x121ddf;const _0xfc11c1=new Date(_0x9b9d2f[_0x7e57cc(0x1c4)]),_0x58b734=new Date(_0x1c44cf[_0x7e57cc(0x1c4)]),_0x32509a=_0xfc11c1-_0x58b734;if(_0x32509a!==0x0)return _0x32509a;return _0x9b9d2f[_0x7e57cc(0x222)][_0x7e57cc(0x1f1)](_0x1c44cf[_0x7e57cc(0x222)],'th');}),_0x182538=_0x17c6cc['length'],_0x547b9d=Math[_0x509622(0x2ce)](0x1,Math[_0x509622(0x68d)](_0x182538*0.33)),_0x47c537=_0x17c6cc[_0x509622(0x30e)](0x0,_0x547b9d),_0x129221=_0x17c6cc[_0x509622(0x30e)](-_0x547b9d);return _0xda7fb5[_0x509622(0x1e6)][_0x509622(0x5d5)]((_0xe5b98a,_0x193874)=>{const _0x191941=_0x509622;if(_0xe5b98a[_0x191941(0x969)]!==_0x191941(0xa76)||!_0xe5b98a['options'])return;const _0x7ebec7=_0xe5b98a[_0x191941(0x2a7)],_0x143318={};_0xe5b98a[_0x191941(0x369)][_0x191941(0x5d5)]((_0x446ceb,_0x32866d)=>{_0x143318[_0x32866d]={'text':_0x446ceb,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x17c6cc[_0x191941(0x5d5)](_0x36206c=>{const _0x2dff49=_0x191941,_0x1cdc93=_0x36206c[_0x2dff49(0x97b)][_0x36206c[_0x2dff49(0x97b)][_0x2dff49(0x963)]-0x1],_0x271f80=_0x1cdc93[_0x2dff49(0x89e)][_0x2dff49(0x3fd)](_0x13763d=>_0x13763d['originalQuestionText']===_0x7ebec7);if(_0x271f80&&_0x271f80[_0x2dff49(0x6cd)]!==null){const _0x4ec89d=_0xe5b98a['options'][_0x2dff49(0x29c)](_0xc2ea8e=>_0xc2ea8e===_0x271f80['answerText']);_0x4ec89d!==-0x1&&_0x143318[_0x4ec89d]&&(_0x143318[_0x4ec89d][_0x2dff49(0x4d5)]++,_0x47c537[_0x2dff49(0x1c3)](_0x36206c)&&_0x143318[_0x4ec89d][_0x2dff49(0x18d)]++,_0x129221[_0x2dff49(0x1c3)](_0x36206c)&&_0x143318[_0x4ec89d]['lower_group_count']++);}}),_0x3fa189[_0x193874]=_0x143318;}),_0x3fa189;}function calculateReliabilityKR20(_0x23f566,_0x206f13,_0x41c4f5){const _0x599d55=_0x5cd971,_0x31bab2=_0x23f566['questions']['length'];if(_0x31bab2<0x2||_0x206f13[_0x599d55(0x963)]<0x2)return null;const _0x59ac0b=_0x206f13[_0x599d55(0x6e4)](_0x48d63c=>_0x48d63c[_0x599d55(0x982)]),_0x5afffe=_0x59ac0b[_0x599d55(0x8db)]((_0x2107f9,_0x12168d)=>_0x2107f9+_0x12168d,0x0)/_0x59ac0b[_0x599d55(0x963)],_0x3c5432=_0x59ac0b[_0x599d55(0x6e4)](_0x58c9b9=>Math[_0x599d55(0x7a4)](_0x58c9b9-_0x5afffe,0x2))[_0x599d55(0x8db)]((_0x59a1bc,_0x33f8c9)=>_0x59a1bc+_0x33f8c9,0x0)/_0x59ac0b[_0x599d55(0x963)];if(_0x3c5432===0x0)return null;let _0x53dfb9=0x0;for(let _0x454f7b=0x0;_0x454f7b<_0x31bab2;_0x454f7b++){const _0x5dd275=_0x41c4f5[_0x454f7b]?.['p'];if(_0x5dd275===undefined)continue;const _0x3875e4=0x1-_0x5dd275;_0x53dfb9+=_0x5dd275*_0x3875e4;}if(_0x53dfb9===0x0)return null;const _0x28827c=_0x31bab2/(_0x31bab2-0x1)*(0x1-_0x53dfb9/_0x3c5432);if(_0x28827c>0x1)return null;return _0x28827c;}async function handleAnalyzeClass(){const _0x2622a7=_0x5cd971;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x5378e0=collection(db,_0x2622a7(0xab3)+appId+_0x2622a7(0xa37)+currentQuizData['id']+_0x2622a7(0x2d3)),_0x272a97=await getDocs(_0x5378e0),_0x265064=_0x272a97[_0x2622a7(0x354)]['map'](_0x62cbba=>_0x62cbba[_0x2622a7(0x730)]());if(_0x265064[_0x2622a7(0x963)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x34cf92=document[_0x2622a7(0xa59)](_0x2622a7(0xac5));_0x34cf92[_0x2622a7(0x43a)]=_0x2622a7(0xa8f),document['getElementById'](_0x2622a7(0xa50))[_0x2622a7(0x3cd)]=!![];const _0x25d4ea=_0x265064[_0x2622a7(0x6e4)]((_0x25a3a2,_0x21db89)=>{const _0x58a84d=_0x2622a7,_0x4d3563=_0x25a3a2[_0x58a84d(0x97b)][_0x25a3a2[_0x58a84d(0x97b)][_0x58a84d(0x963)]-0x1];if(!_0x4d3563)return'';return _0x58a84d(0xa0a)+(_0x21db89+0x1)+'\x20('+_0x25a3a2[_0x58a84d(0x222)]+_0x58a84d(0x713)+_0x4d3563[_0x58a84d(0x3e9)]+'/'+_0x25a3a2['totalQuestions']+_0x58a84d(0x551)+JSON[_0x58a84d(0xae0)](_0x4d3563[_0x58a84d(0x89e)])+_0x58a84d(0x4af);})[_0x2622a7(0x386)]('\x0a---\x0a'),_0x300a13=_0x2622a7(0x679)+currentQuizData[_0x2622a7(0xaad)]+_0x2622a7(0x5df)+JSON[_0x2622a7(0xae0)](currentQuizData[_0x2622a7(0x1e6)])+_0x2622a7(0x9e4)+_0x25d4ea+_0x2622a7(0x518),_0x588b1d={'type':_0x2622a7(0x3b9),'properties':{'classStrengths':{'type':_0x2622a7(0x3af),'items':{'type':_0x2622a7(0x81e)}},'classWeaknesses':{'type':_0x2622a7(0x3af),'items':{'type':'STRING'}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x2622a7(0x81e)}}},'required':[_0x2622a7(0x5f7),_0x2622a7(0x7bd),'teacherSuggestions']};try{const _0x3d0dec=await callAnalysisApi(_0x300a13,_0x588b1d);displayClassAnalysis(_0x3d0dec);}catch(_0x42c048){console['error'](_0x2622a7(0xa8e),_0x42c048),_0x34cf92[_0x2622a7(0x43a)]=_0x2622a7(0x737)+_0x42c048[_0x2622a7(0x1f3)]+'</p></div>';}finally{document[_0x2622a7(0xa59)](_0x2622a7(0xa50))[_0x2622a7(0x3cd)]=![];}}function displayClassAnalysis(_0x3756c5){const _0x2c72f1=_0x5cd971,_0x5c2eb0=document['getElementById'](_0x2c72f1(0xac5));if(!_0x3756c5){_0x5c2eb0['innerHTML']=_0x2c72f1(0x91b);return;}_0x5c2eb0[_0x2c72f1(0x43a)]=_0x2c72f1(0x553)+_0x3756c5[_0x2c72f1(0x5f7)][_0x2c72f1(0x6e4)](_0x4d4eff=>_0x2c72f1(0x86f)+_0x4d4eff+_0x2c72f1(0x3e6))[_0x2c72f1(0x386)]('')+_0x2c72f1(0x9fa)+_0x3756c5[_0x2c72f1(0x7bd)][_0x2c72f1(0x6e4)](_0x536875=>'<li>'+_0x536875+_0x2c72f1(0x3e6))['join']('')+_0x2c72f1(0xa53)+_0x3756c5['teacherSuggestions'][_0x2c72f1(0x6e4)](_0xe54f65=>_0x2c72f1(0x86f)+_0xe54f65+_0x2c72f1(0x3e6))[_0x2c72f1(0x386)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x5214e6,_0x21edb6){const _0x5dcae6=_0x5cd971,_0x1f1a65=_0x5dcae6(0x750)+_0x5214e6[_0x5dcae6(0xaad)]+_0x5dcae6(0x32b)+_0x5214e6[_0x5dcae6(0xaad)]+_0x5dcae6(0xaaa)+_0x5214e6[_0x5dcae6(0x1e6)][_0x5dcae6(0x6e4)]((_0x32b22c,_0x4ddbcd)=>_0x5dcae6(0x84c)+(_0x4ddbcd+0x1)+'.\x20'+_0x32b22c[_0x5dcae6(0x2a7)]+_0x5dcae6(0x4dd)+(_0x32b22c['imageCode']?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x32b22c[_0x5dcae6(0x187)]+_0x5dcae6(0x552):'')+_0x5dcae6(0x545))['join']('')+_0x5dcae6(0xa54);_0x21edb6[_0x5dcae6(0x40e)][_0x5dcae6(0x511)](_0x1f1a65),_0x21edb6[_0x5dcae6(0x40e)]['close'](),_0x21edb6[_0x5dcae6(0x9ee)]=function(){setTimeout(()=>{const _0x3bce25=_0x1129;_0x21edb6[_0x3bce25(0x251)]();},0x3e8);};}async function generateWorksheet(){const _0x6f21c6=_0x5cd971,_0x591067=document[_0x6f21c6(0xa59)](_0x6f21c6(0x3d6))[_0x6f21c6(0x630)]['trim']();if(!_0x591067){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x130ca3=document[_0x6f21c6(0xa59)](_0x6f21c6(0x71b))[_0x6f21c6(0x31a)],_0x47ec57=_0x130ca3?'':'คณิตศาสตร์',_0x2da319=window[_0x6f21c6(0x841)]('',_0x6f21c6(0x6cc));_0x2da319[_0x6f21c6(0x40e)][_0x6f21c6(0x511)]('<h1></h1>');const _0x4ae910=parseInt(document[_0x6f21c6(0xa59)](_0x6f21c6(0x455))[_0x6f21c6(0x630)]),_0x414b62=document['getElementById'](_0x6f21c6(0x1dc))[_0x6f21c6(0x31a)],_0x3fc72a=_0x414b62?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x50a31d=_0x6f21c6(0x7d7)+_0x47ec57+_0x6f21c6(0x98f)+_0x4ae910+_0x6f21c6(0x5cf)+_0x591067+_0x6f21c6(0x792)+_0x3fc72a+_0x6f21c6(0x9af)+simpleMathPrompt+_0x6f21c6(0x818),_0x4faaf3={'type':'OBJECT','properties':{'topic':{'type':_0x6f21c6(0x81e)},'questions':{'type':_0x6f21c6(0x3af),'items':{'type':_0x6f21c6(0x3b9),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x6f21c6(0x81e)}},'required':[_0x6f21c6(0x2a7)]}}},'required':[_0x6f21c6(0xaad),_0x6f21c6(0x1e6)]};document[_0x6f21c6(0xa59)](_0x6f21c6(0x8ed))[_0x6f21c6(0x2e0)]='',document[_0x6f21c6(0xa59)](_0x6f21c6(0x5c6))[_0x6f21c6(0x445)][_0x6f21c6(0x6b7)](_0x6f21c6(0x318)),document['getElementById']('quiz-generation-area')[_0x6f21c6(0x445)][_0x6f21c6(0x6b7)](_0x6f21c6(0x318)),generateWorksheetBtn[_0x6f21c6(0x3cd)]=!![];try{const _0x12fbf2=await callAnalysisApi(_0x50a31d,_0x4faaf3);formatAndPrintWorksheet(_0x12fbf2,_0x2da319);}catch(_0x463ff9){console[_0x6f21c6(0x5a8)](_0x6f21c6(0x886),_0x463ff9);if(_0x2da319)_0x2da319[_0x6f21c6(0x20c)]();showMessage(_0x6f21c6(0x589));}finally{document['getElementById'](_0x6f21c6(0x5c6))[_0x6f21c6(0x445)]['add']('hidden'),document[_0x6f21c6(0xa59)](_0x6f21c6(0x7ae))['classList']['add'](_0x6f21c6(0x318)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x134761,_0x5d1cf9){const _0x234fe7=_0x5cd971,_0x3001b2={'contents':[{'role':_0x234fe7(0xae2),'parts':[{'text':_0x134761}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x5d1cf9}},_0x1574a8=_0x234fe7(0xaba),_0x24d6cb=_0x234fe7(0x53e)+_0x1574a8,_0x13741e=await fetch(_0x24d6cb,{'method':_0x234fe7(0x1df),'headers':{'Content-Type':_0x234fe7(0x974)},'body':JSON[_0x234fe7(0xae0)](_0x3001b2)});if(!_0x13741e['ok'])throw new Error(_0x234fe7(0x347)+_0x13741e[_0x234fe7(0x6c8)]);const _0x5131bb=await _0x13741e[_0x234fe7(0x769)]();if(_0x5131bb[_0x234fe7(0x8a1)]?.[0x0]?.['content']?.[_0x234fe7(0x1b8)]?.[0x0])return JSON[_0x234fe7(0x5bd)](_0x5131bb['candidates'][0x0][_0x234fe7(0x272)][_0x234fe7(0x1b8)][0x0][_0x234fe7(0x282)]);else{let _0x30b19c=_0x234fe7(0x522);if(_0x5131bb['promptFeedback']?.[_0x234fe7(0x2c0)])_0x30b19c=_0x234fe7(0x986)+_0x5131bb[_0x234fe7(0x7c4)][_0x234fe7(0x2c0)]+'.';else _0x5131bb[_0x234fe7(0x8a1)]?.[0x0]?.[_0x234fe7(0x1d7)]&&_0x5131bb[_0x234fe7(0x8a1)][0x0][_0x234fe7(0x1d7)]!==_0x234fe7(0x3fb)&&(_0x30b19c=_0x234fe7(0x332)+_0x5131bb['candidates'][0x0][_0x234fe7(0x1d7)]+'.');console[_0x234fe7(0x5a8)](_0x30b19c,JSON[_0x234fe7(0xae0)](_0x5131bb));throw new Error(_0x30b19c);}}async function handleStartSyncMode(_0xef0236,_0x2218ef=![]){const _0x43e0ae=_0x5cd971,_0x55fbb=allQuizzes[_0x43e0ae(0x3fd)](_0x53d25c=>_0x53d25c['id']===_0xef0236)||allQuizzesGlobal[_0x43e0ae(0x3fd)](_0x2e8962=>_0x2e8962['id']===_0xef0236);if(!_0x55fbb){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x55fbb);const _0x4b41d2=Math[_0x43e0ae(0x68d)](0x3e8+Math[_0x43e0ae(0x309)]()*0x2328)[_0x43e0ae(0x5ea)]();try{const _0x8d46af=await addDoc(collection(db,_0x43e0ae(0xab3)+appId+'/public/data/syncGames'),{'quizId':_0x55fbb['id'],'pin':_0x4b41d2,'status':_0x43e0ae(0x3f2),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2218ef,'players':{}});currentLiveGameId=_0x8d46af['id'],showView(_0x43e0ae(0x9ad)),renderSyncLobbyView(_0x4b41d2,_0x55fbb['topic']),listenForSyncGameUpdates();}catch(_0x92fba6){console[_0x43e0ae(0x5a8)](_0x43e0ae(0x6fd),_0x92fba6),showMessage(_0x43e0ae(0x247));}}function calculateFinalPodiumScores(_0x386990){const _0x3e0b6e=_0x5cd971;if(!_0x386990||!_0x386990[_0x3e0b6e(0x642)]||!_0x386990[_0x3e0b6e(0x8d7)])return _0x386990[_0x3e0b6e(0x8d7)]||{};const _0x1b6033=_0x386990[_0x3e0b6e(0x642)][_0x3e0b6e(0x1e6)]['length'],_0x20b611=JSON[_0x3e0b6e(0x5bd)](JSON[_0x3e0b6e(0xae0)](_0x386990[_0x3e0b6e(0x8d7)]));return Object[_0x3e0b6e(0xa88)](_0x20b611)['forEach'](_0x391102=>{const _0x51671f=_0x3e0b6e,_0x48bbaa=_0x391102['score'];let _0x58a09b=0x0;_0x386990[_0x51671f(0x1a1)]&&_0x391102[_0x51671f(0x89e)]&&_0x391102[_0x51671f(0x89e)][_0x51671f(0x5d5)](_0x5e543a=>{const _0x23c310=_0x51671f;if(_0x5e543a[_0x23c310(0x8cc)]&&_0x5e543a[_0x23c310(0xa9e)])_0x58a09b+=0x1;else!_0x5e543a[_0x23c310(0x8cc)]&&_0x5e543a['wasConfident']&&(_0x58a09b-=0x1);}),_0x391102['score']=_0x48bbaa+_0x58a09b,_0x1b6033>0x0&&_0x48bbaa===_0x1b6033&&(_0x391102[_0x51671f(0x3e9)]+=0x1,_0x391102['hasPerfectScoreBonus']=!![]);}),_0x20b611;}function listenForSyncGameUpdates(){const _0x393316=_0x5cd971;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5c40f4=doc(db,_0x393316(0xab3)+appId+_0x393316(0x805),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5c40f4,_0x48241f=>{const _0x4bf82c=_0x393316;if(!_0x48241f[_0x4bf82c(0x540)]()){sessionStorage['removeItem'](_0x4bf82c(0x310));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว'),showView(currentMode==='admin'?'project-detail':'student');return;}const _0x314970=_0x48241f['data']();currentMode===_0x4bf82c(0x957)?updateAdminSyncView(_0x314970):updateStudentSyncView(_0x314970);});}function renderSyncLobbyView(_0x345d31,_0x400ab2){const _0x27da09=_0x5cd971;liveGameView[_0x27da09(0x43a)]=_0x27da09(0xa87)+_0x400ab2+_0x27da09(0xa4f)+_0x345d31+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x20ece6=document[_0x27da09(0xa59)](_0x27da09(0x39e)),_0x12d7b8=document[_0x27da09(0xa59)](_0x27da09(0x1d8));_0x20ece6[_0x27da09(0x1ce)]('change',()=>{const _0x359594=_0x27da09;_0x12d7b8[_0x359594(0x588)][_0x359594(0xaf1)]=_0x20ece6[_0x359594(0x31a)]?'block':'none';}),document[_0x27da09(0xa59)]('start-sync-game-btn')['addEventListener'](_0x27da09(0x420),async()=>{const _0x531b31=_0x27da09,_0x2c1b3f=doc(db,_0x531b31(0xab3)+appId+'/public/data/syncGames',currentLiveGameId),_0x343bca=document[_0x531b31(0xa59)](_0x531b31(0x39e))[_0x531b31(0x31a)];await updateDoc(_0x2c1b3f,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x343bca});});}function updateAdminSyncView(_0x43dc4b){const _0x42de0c=_0x5cd971;switch(_0x43dc4b['status']){case _0x42de0c(0x3f2):renderSyncLobbyView(_0x43dc4b[_0x42de0c(0x5eb)],_0x43dc4b['shuffledQuiz'][_0x42de0c(0xaad)]);const _0x210f8c=Object[_0x42de0c(0x811)](_0x43dc4b['players']||{})[_0x42de0c(0x75f)](([_0x80849,_0x566ed0])=>_0x566ed0['status']!==_0x42de0c(0x6ce));document[_0x42de0c(0xa59)](_0x42de0c(0x58a))['textContent']=_0x210f8c[_0x42de0c(0x963)],document[_0x42de0c(0xa59)](_0x42de0c(0x58f))[_0x42de0c(0x43a)]=_0x210f8c[_0x42de0c(0x6e4)](([_0x27b11a,_0x38e480])=>_0x42de0c(0x221)+_0x27b11a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x27b11a+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x42de0c(0x386)]('')||_0x42de0c(0x454),document[_0x42de0c(0xa59)](_0x42de0c(0x6db))['disabled']=_0x210f8c[_0x42de0c(0x963)]===0x0;break;case _0x42de0c(0x6ee):const _0x47183d=Object[_0x42de0c(0xa88)](_0x43dc4b[_0x42de0c(0x8d7)]||{})['filter'](_0x20479a=>_0x20479a['status']!==_0x42de0c(0x6ce)),_0x5dbc48=_0x47183d[_0x42de0c(0x75f)](_0x3c1fd1=>_0x3c1fd1['answered'])[_0x42de0c(0x963)],_0x285685=_0x5dbc48===_0x47183d[_0x42de0c(0x963)]&&_0x47183d[_0x42de0c(0x963)]>0x0;if(_0x285685&&_0x43dc4b[_0x42de0c(0x6c8)]===_0x42de0c(0x6ee)){const _0x56dbfb=doc(db,_0x42de0c(0xab3)+appId+_0x42de0c(0x805),currentLiveGameId);updateDoc(_0x56dbfb,{'status':_0x42de0c(0x2b9)});}else{if(document[_0x42de0c(0xa59)](_0x42de0c(0x211))===null)renderAdminSyncQuestionView(_0x43dc4b);else{const _0x48c9e5=document[_0x42de0c(0xa59)]('answer-counter');_0x48c9e5&&(_0x48c9e5['textContent']=_0x5dbc48+'/'+_0x47183d['length']);const _0xcd7d05=document[_0x42de0c(0xa59)](_0x42de0c(0x24c));_0xcd7d05&&(_0xcd7d05[_0x42de0c(0x43a)]=_0x47183d['map'](_0x31dc3d=>{const _0x434a45=_0x42de0c,_0x3d6b03=_0x31dc3d[_0x434a45(0x842)]?_0x434a45(0xa95):_0x434a45(0x8bc),_0x306bdb=_0x31dc3d[_0x434a45(0x842)]?_0x434a45(0x1e7):_0x434a45(0x778);return _0x434a45(0x2b0)+_0x3d6b03+_0x434a45(0x2e2)+_0x306bdb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x31dc3d[_0x434a45(0xa5e)]+_0x434a45(0x682)+_0x31dc3d[_0x434a45(0xa5e)]+_0x434a45(0x67c);})[_0x42de0c(0x386)](''));}}break;case'summary':const _0x34fef2=_0x43dc4b[_0x42de0c(0x34b)],_0x1a02e2=_0x43dc4b['shuffledQuiz']['questions'][_0x34fef2];renderSyncSummaryView(_0x43dc4b,_0x1a02e2,!![]);break;case _0x42de0c(0x352):renderAdminSyncDashboard(_0x43dc4b,!![]);break;case _0x42de0c(0x510):_0x43dc4b[_0x42de0c(0x3e5)]&&saveGameResultsAsSubmissions(_0x43dc4b);sessionStorage[_0x42de0c(0xab1)](_0x42de0c(0x310));const _0x32862a=calculateFinalPodiumScores(_0x43dc4b);showPodiumView(_0x32862a,_0x42de0c(0x32e));break;}}function renderAdminSyncQuestionView(_0x2ec9bb){const _0x3c0766=_0x5cd971,_0x440be0=_0x2ec9bb[_0x3c0766(0x34b)],_0x4cfbc1=_0x2ec9bb[_0x3c0766(0x642)][_0x3c0766(0x1e6)][_0x440be0],_0x1cd310=_0x2ec9bb[_0x3c0766(0x642)][_0x3c0766(0x1e6)][_0x3c0766(0x963)],_0x55670e=Object['values'](_0x2ec9bb[_0x3c0766(0x8d7)]||{})[_0x3c0766(0x75f)](_0xa68a03=>_0xa68a03['status']!=='inactive'),_0x1c62fd=_0x55670e[_0x3c0766(0x75f)](_0x124cd2=>_0x124cd2[_0x3c0766(0x842)])['length'],_0x218ded=_0x1c62fd===_0x55670e[_0x3c0766(0x963)]&&_0x55670e[_0x3c0766(0x963)]>0x0,_0x5aade9=(_0x4cfbc1[_0x3c0766(0x369)]||[])[_0x3c0766(0x6e4)](_0x3bf415=>_0x3c0766(0xae9)+_0x3bf415+'</div>')[_0x3c0766(0x386)]('');liveGameView['innerHTML']=_0x3c0766(0x8d2)+(_0x440be0+0x1)+_0x3c0766(0x288)+_0x1cd310+_0x3c0766(0x418)+_0x1c62fd+'/'+_0x55670e[_0x3c0766(0x963)]+_0x3c0766(0x33b)+_0x4cfbc1[_0x3c0766(0x2a7)]+_0x3c0766(0x50e)+_0x5aade9+_0x3c0766(0x50a)+(!_0x218ded?_0x3c0766(0x3cd):'')+_0x3c0766(0x28e);if(window[_0x3c0766(0x28d)])MathJax[_0x3c0766(0x2b6)]();document[_0x3c0766(0xa59)](_0x3c0766(0x385))[_0x3c0766(0x1ce)]('click',async()=>{const _0x3314f8=_0x3c0766,_0x4aa2c1=doc(db,_0x3314f8(0xab3)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x4aa2c1,{'status':_0x3314f8(0x352)});}),document[_0x3c0766(0xa59)](_0x3c0766(0x8e4))['onclick']=()=>{openScratchpad(_0x4cfbc1,_0x4cfbc1['options']||[]);},document[_0x3c0766(0xa59)]('sync-manage-players-btn')['addEventListener'](_0x3c0766(0x420),()=>{const _0x11550b=_0x3c0766;document[_0x11550b(0xa59)](_0x11550b(0x211))[_0x11550b(0x445)]['toggle'](_0x11550b(0x318));});}function renderSyncLeaderboardView(_0x40dae4,_0x25ed55){const _0x594a38=_0x5cd971,_0x1e55ef=Object['values'](_0x40dae4[_0x594a38(0x8d7)]||{});_0x1e55ef[_0x594a38(0x695)]((_0x31f0e9,_0x491359)=>_0x491359['score']-_0x31f0e9[_0x594a38(0x3e9)]);const _0x10c9c3=_0x1e55ef[_0x594a38(0x30e)](0x0,0x5);let _0x5c34f5='';if(_0x25ed55){const _0x58e3df=_0x40dae4['currentQuestionIndex']>=_0x40dae4[_0x594a38(0x642)][_0x594a38(0x1e6)]['length']-0x1;_0x5c34f5=_0x594a38(0xa86)+(_0x58e3df?'ดูผลสรุปสุดท้าย':_0x594a38(0x7c9))+_0x594a38(0x9e6);}else _0x5c34f5='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0x594a38(0x43a)]=_0x594a38(0x220)+_0x10c9c3['map']((_0x11598b,_0x2d8d9f)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x2d8d9f+0x1)+'.\x20'+_0x11598b['name']+_0x594a38(0x90e)+_0x11598b[_0x594a38(0x3e9)]+_0x594a38(0x1d0))[_0x594a38(0x386)]('')+_0x594a38(0x1a3)+_0x5c34f5+_0x594a38(0x86a),_0x25ed55&&document[_0x594a38(0xa59)](_0x594a38(0x5ba))[_0x594a38(0x1ce)](_0x594a38(0x420),async()=>{const _0xac81e=_0x594a38,_0x212481=doc(db,'artifacts/'+appId+_0xac81e(0x805),currentLiveGameId),_0x3cedb7=_0x40dae4['currentQuestionIndex']+0x1;if(_0x3cedb7<_0x40dae4[_0xac81e(0x642)][_0xac81e(0x1e6)][_0xac81e(0x963)]){const _0xb470cd={};Object[_0xac81e(0xa57)](_0x40dae4[_0xac81e(0x8d7)])['forEach'](_0xfa6046=>{const _0xe13952=_0xac81e;_0xb470cd[_0xe13952(0x8b4)+_0xfa6046+'.answered']=![];}),await updateDoc(_0x212481,{..._0xb470cd,'status':_0xac81e(0x6ee),'currentQuestionIndex':_0x3cedb7,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x212481,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x3e8499=_0x5cd971,_0x35895f=prompt(_0x3e8499(0xa91));if(!_0x35895f||_0x35895f[_0x3e8499(0x56b)]()[_0x3e8499(0x963)]!==0x2){showMessage(_0x3e8499(0x934));return;}try{const _0x40f880=collection(db,'artifacts/'+appId+_0x3e8499(0x805)),_0x4b5e67=query(_0x40f880,where(_0x3e8499(0x5eb),'==',_0x35895f[_0x3e8499(0x56b)]()),where(_0x3e8499(0x6c8),'==',_0x3e8499(0x3f2))),_0x1c8c9e=await getDocs(_0x4b5e67);if(_0x1c8c9e[_0x3e8499(0x246)]){showMessage(_0x3e8499(0x5c3));return;}const _0xa387d1=_0x1c8c9e[_0x3e8499(0x354)][0x0];currentLiveGameId=_0xa387d1['id'];const _0xf08d06=_0xa387d1[_0x3e8499(0x730)](),_0x453b1c=doc(db,_0x3e8499(0xab3)+appId+_0x3e8499(0xaf2),_0xf08d06['quizId']),_0x153d2b=await getDoc(_0x453b1c);if(!_0x153d2b[_0x3e8499(0x540)]())throw new Error(_0x3e8499(0x9c3));const _0x39eb10=_0x153d2b[_0x3e8499(0x730)](),_0x4bb191=doc(db,_0x3e8499(0xab3)+appId+_0x3e8499(0x6d8),_0x39eb10[_0x3e8499(0x868)]),_0x11087b=await getDoc(_0x4bb191);if(!_0x11087b[_0x3e8499(0x540)]())throw new Error(_0x3e8499(0x59e));currentQuizData=_0xf08d06[_0x3e8499(0x642)];const _0x644eaf=_0x11087b['data']();showView(_0x3e8499(0x9b4)),showTeamPlayerSelection(_0x644eaf[_0x3e8499(0x6e3)],_0x39eb10[_0x3e8499(0xaad)]);const _0x34a543=document['getElementById']('confirm-team-players-btn');_0x34a543[_0x3e8499(0x62f)]=confirmAndJoinSyncGame;}catch(_0xa60230){console[_0x3e8499(0x5a8)]('Error\x20joining\x20sync\x20game:',_0xa60230),showMessage(_0x3e8499(0x9db)+_0xa60230['message']);}}function updateStudentSyncView(_0x4a4a26){const _0x37cbe5=_0x5cd971,_0x33cbe9=_0x4a4a26[_0x37cbe5(0x8d7)][localTeamPlayers[0x0]];switch(_0x4a4a26[_0x37cbe5(0x6c8)]){case'lobby':showView(_0x37cbe5(0x9ad)),liveGameView[_0x37cbe5(0x43a)]=_0x37cbe5(0xa21);break;case'question':const _0x4c8076=localTeamPlayers[_0x37cbe5(0x7d4)](_0x5665b0=>_0x4a4a26['players'][_0x5665b0]?.['answered']===!![]);_0x4c8076?liveGameView[_0x37cbe5(0x43a)]=_0x37cbe5(0x5a2):renderStudentSyncQuestionView(_0x4a4a26);break;case _0x37cbe5(0x2b9):liveGameView[_0x37cbe5(0x43a)]=_0x37cbe5(0x37a);break;case _0x37cbe5(0x352):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x4a4a26);break;case _0x37cbe5(0x510):sessionStorage[_0x37cbe5(0xab1)](_0x37cbe5(0x310));const _0xcf695b=calculateFinalPodiumScores(_0x4a4a26);showPodiumView(_0xcf695b,_0x37cbe5(0x32e));break;}}function renderStudentSyncResultsView(_0xdbae61){const _0x4727ee=_0x5cd971,_0x1a164f=localTeamPlayers[_0x4727ee(0x6e4)](_0x535127=>_0xdbae61[_0x4727ee(0x8d7)][_0x535127])[_0x4727ee(0x75f)](Boolean);_0x1a164f['sort']((_0x19325f,_0x1a198f)=>(_0x1a198f[_0x4727ee(0x3e9)]||0x0)-(_0x19325f[_0x4727ee(0x3e9)]||0x0));const _0x1872a9=_0xdbae61[_0x4727ee(0x34b)]>=_0xdbae61[_0x4727ee(0x642)][_0x4727ee(0x1e6)][_0x4727ee(0x963)]-0x1;let _0x565819='';_0x1872a9?_0x565819=_0x4727ee(0x2dc):_0x565819=_0x4727ee(0x3dc);const _0xe79975=_0x4727ee(0x66d)+_0x1a164f[_0x4727ee(0x6e4)]((_0x26ecc5,_0x31a995)=>_0x4727ee(0x4be)+(_0x31a995+0x1)+_0x4727ee(0x51d)+_0x26ecc5[_0x4727ee(0xa5e)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x26ecc5['score']+_0x4727ee(0xaca))[_0x4727ee(0x386)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x565819+_0x4727ee(0x260);liveGameView[_0x4727ee(0x43a)]=_0xe79975;}function renderStudentSyncQuestionView(_0x13b6f6){const _0x133ac1=_0x5cd971;while(localPlayerTurnIndex<localTeamPlayers[_0x133ac1(0x963)]&&_0x13b6f6['players'][localTeamPlayers[localPlayerTurnIndex]]?.[_0x133ac1(0x842)]===!![]){localPlayerTurnIndex++;}const _0x293915=localTeamPlayers[localPlayerTurnIndex];if(!_0x293915)return;const _0x6ce605=_0x13b6f6[_0x133ac1(0x34b)],_0x373714=_0x13b6f6[_0x133ac1(0x642)]['questions'][_0x133ac1(0x963)],_0x195c24=_0x13b6f6[_0x133ac1(0x642)][_0x133ac1(0x1e6)][_0x6ce605],_0x3b0c18=_0x195c24['questionType']||_0x13b6f6[_0x133ac1(0x642)]['quizType'];let _0x1f16a1='',_0x10b6c2=![];switch(_0x3b0c18){case _0x133ac1(0x8fe):_0x1f16a1=_0x133ac1(0x4b2);break;case _0x133ac1(0x536):case _0x133ac1(0x732):_0x10b6c2=!![],_0x1f16a1=_0x133ac1(0x3ba);break;case _0x133ac1(0x845):_0x10b6c2=!![],_0x1f16a1=_0x133ac1(0x54a)+(_0x195c24[_0x133ac1(0x70c)]||[])[_0x133ac1(0x6e4)](_0x142dfd=>_0x133ac1(0x99f)+_0x142dfd+'\x22>'+_0x142dfd+_0x133ac1(0x51b))[_0x133ac1(0x386)]('')+_0x133ac1(0x8ad);break;case _0x133ac1(0xa76):default:_0x1f16a1=(_0x195c24[_0x133ac1(0x369)]||[])[_0x133ac1(0x6e4)]((_0xed22db,_0x413a26)=>_0x133ac1(0x3c0)+_0x413a26+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0xed22db+'</button>')['join']('');break;}liveGameView[_0x133ac1(0x43a)]=_0x133ac1(0xac0)+(_0x6ce605+0x1)+_0x133ac1(0x288)+_0x373714+_0x133ac1(0x702)+_0x293915+_0x133ac1(0x935)+(_0x195c24['questionText']||_0x195c24[_0x133ac1(0x5ce)])+_0x133ac1(0x7da)+_0x1f16a1+_0x133ac1(0x329);if(window[_0x133ac1(0x28d)])MathJax['typesetPromise']();function _0x26cdd2(_0x1861fa,_0x2b3073,_0xfb2e,_0x4f33e7){const _0x493803=_0x133ac1,_0x9e56df=_0xfb2e[_0x493803(0x1a1)]===!![];if(_0x9e56df){document[_0x493803(0xa59)](_0x493803(0xa77))[_0x493803(0xafb)][_0x493803(0x9be)]=_0x493803(0x32e);const _0x19f335=document['getElementById'](_0x493803(0x471));_0x19f335['dataset']['answerValue']=_0x1861fa,_0x19f335[_0x493803(0xafb)][_0x493803(0x6ee)]=JSON[_0x493803(0xae0)](_0x2b3073),_0x19f335['dataset'][_0x493803(0x1c2)]=JSON[_0x493803(0xae0)](_0xfb2e),_0x19f335[_0x493803(0xafb)][_0x493803(0x3f4)]=_0x4f33e7,document['getElementById'](_0x493803(0xa77))['classList']['remove'](_0x493803(0x318));}else handleSyncAnswerSubmit(_0x1861fa,_0x2b3073,_0xfb2e,_0x4f33e7,![]);}_0x10b6c2?document[_0x133ac1(0xa59)](_0x133ac1(0xa28))[_0x133ac1(0x1ce)](_0x133ac1(0x420),()=>{const _0x50dcb1=_0x133ac1,_0x373c08=document[_0x50dcb1(0xa59)](_0x50dcb1(0x726))||document[_0x50dcb1(0xa59)](_0x50dcb1(0x47f));if(_0x373c08[_0x50dcb1(0x630)][_0x50dcb1(0x56b)]()===''){showMessage(_0x50dcb1(0x635));return;}_0x26cdd2(_0x373c08[_0x50dcb1(0x630)],_0x195c24,_0x13b6f6,_0x293915);}):document[_0x133ac1(0x1f8)](_0x133ac1(0x4d6))[_0x133ac1(0x5d5)](_0x398eff=>{const _0x267f47=_0x133ac1;_0x398eff[_0x267f47(0x1ce)](_0x267f47(0x420),()=>{_0x26cdd2(_0x398eff['dataset']['value'],_0x195c24,_0x13b6f6,_0x293915);});});}async function handleSyncAnswerSubmit(_0x50e73a,_0x27570b,_0xc0c368,_0xfb0ca3,_0x3c2a98){const _0x40eac7=_0x5cd971;document['querySelectorAll'](_0x40eac7(0x2ad))[_0x40eac7(0x5d5)](_0x2cc324=>_0x2cc324[_0x40eac7(0x3cd)]=!![]);const _0x103fc9=_0x27570b[_0x40eac7(0x969)]||_0xc0c368['shuffledQuiz']['quizType'];let _0x339055=![],_0x5300f6=_0x50e73a;switch(_0x103fc9){case _0x40eac7(0x8fe):const _0x689d5e=parseInt(_0x50e73a),_0x42567d=_0x27570b[_0x40eac7(0x276)]===!![]||String(_0x27570b['correctAnswer'])['toLowerCase']()===_0x40eac7(0x870);_0x339055=_0x689d5e===0x0&&_0x42567d||_0x689d5e===0x1&&!_0x42567d,_0x5300f6=_0x689d5e===0x0?_0x40eac7(0xa11):'ไม่ใช่\x20/\x20ผิด';break;case _0x40eac7(0x536):case _0x40eac7(0x732):_0x339055=await gradeShortAnswer(_0x50e73a,_0x27570b);break;case _0x40eac7(0x845):_0x339055=_0x50e73a===_0x27570b[_0x40eac7(0x4ae)];break;case _0x40eac7(0xa76):default:const _0x301df7=parseInt(_0x50e73a);_0x339055=_0x301df7===_0x27570b[_0x40eac7(0x501)];_0x27570b[_0x40eac7(0x369)]&&_0x27570b[_0x40eac7(0x369)][_0x301df7]&&(_0x5300f6=_0x27570b[_0x40eac7(0x369)][_0x301df7]);break;}let _0x3d55b7=0x0;if(_0x339055&&_0x3c2a98)_0x3d55b7=0x2;else{if(_0x339055)_0x3d55b7=0x1;else!_0x339055&&_0x3c2a98&&(_0x3d55b7=-0x1);}const _0x2772f5=doc(db,_0x40eac7(0xab3)+appId+_0x40eac7(0x805),currentLiveGameId),_0x470ae={};_0x470ae[_0x40eac7(0x8b4)+_0xfb0ca3+'.score']=increment(_0x3d55b7),_0x470ae[_0x40eac7(0x8b4)+_0xfb0ca3+_0x40eac7(0x600)]=!![];let _0x24bdbd=null;(_0x103fc9===_0x40eac7(0xa76)||_0x103fc9==='true_false'||_0x103fc9===_0x40eac7(0x370))&&(_0x24bdbd=parseInt(_0x50e73a));_0x470ae[_0x40eac7(0x8b4)+_0xfb0ca3+'.lastAnswerIndex']=_0x24bdbd;const _0x3ca28a={'questionIndex':_0xc0c368['currentQuestionIndex'],'questionId':_0x27570b['id'],'answer':_0x50e73a,'answerText':_0x5300f6,'isCorrect':_0x339055,'originalQuestionText':_0x27570b[_0x40eac7(0x2a7)]||_0x27570b[_0x40eac7(0x5ce)],'wasConfident':_0x3c2a98};_0x470ae[_0x40eac7(0x8b4)+_0xfb0ca3+_0x40eac7(0x47a)]=arrayUnion(_0x3ca28a),await updateDoc(_0x2772f5,_0x470ae);}initialize();
