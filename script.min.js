const _0x4f829b=_0x9ccb;(function(_0x575263,_0x153c8f){const _0x3b102c=_0x9ccb,_0xca9cfd=_0x575263();while(!![]){try{const _0x127c16=-parseInt(_0x3b102c(0xf0))/0x1+parseInt(_0x3b102c(0x5f0))/0x2*(parseInt(_0x3b102c(0x5c6))/0x3)+parseInt(_0x3b102c(0x2d2))/0x4+-parseInt(_0x3b102c(0x4f2))/0x5*(parseInt(_0x3b102c(0x761))/0x6)+-parseInt(_0x3b102c(0x514))/0x7+-parseInt(_0x3b102c(0x91d))/0x8+parseInt(_0x3b102c(0x5cd))/0x9*(parseInt(_0x3b102c(0x2e7))/0xa);if(_0x127c16===_0x153c8f)break;else _0xca9cfd['push'](_0xca9cfd['shift']());}catch(_0x17aa25){_0xca9cfd['push'](_0xca9cfd['shift']());}}}(_0x2571,0xc5579));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x3e6fc5=_0x9ccb;if(_0x3e6fc5(0x59b)in navigator)try{wakeLock=await navigator[_0x3e6fc5(0x59b)]['request']('screen'),console[_0x3e6fc5(0x3f9)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x3e6fc5(0x8ef)](_0x3e6fc5(0x294),()=>{const _0x591547=_0x3e6fc5;console[_0x591547(0x3f9)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x1a8bc3){console[_0x3e6fc5(0x713)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x1a8bc3['name']+',\x20'+_0x1a8bc3[_0x3e6fc5(0x1ce)]);}else console[_0x3e6fc5(0x434)](_0x3e6fc5(0x7e7));},releaseWakeLock=async()=>{const _0x2cc5ef=_0x9ccb;wakeLock!==null&&(await wakeLock[_0x2cc5ef(0x294)](),wakeLock=null,console[_0x2cc5ef(0x3f9)](_0x2cc5ef(0x69d)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x2ffa56=_0x9ccb;if(dimTimer)clearTimeout(dimTimer);document[_0x2ffa56(0x497)][_0x2ffa56(0x61a)][_0x2ffa56(0x193)](_0x2ffa56(0x25e)),dimTimer=setTimeout(()=>{const _0x39565a=_0x2ffa56;document[_0x39565a(0x497)][_0x39565a(0x61a)]['add']('dimmed'),console['log'](_0x39565a(0x33c));},inactivityTime);}function stopDimTimer(){const _0x4c18ac=_0x9ccb;if(dimTimer)clearTimeout(dimTimer);document[_0x4c18ac(0x497)][_0x4c18ac(0x61a)][_0x4c18ac(0x193)](_0x4c18ac(0x25e)),window[_0x4c18ac(0x429)](_0x4c18ac(0x33b),resetDimTimer),window[_0x4c18ac(0x429)](_0x4c18ac(0x72f),resetDimTimer),window[_0x4c18ac(0x429)](_0x4c18ac(0x58c),resetDimTimer),window['removeEventListener'](_0x4c18ac(0x5d1),resetDimTimer),console['log'](_0x4c18ac(0x4fe));}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x4f829b(0x690),'pinnedProjects':[],'projectView':_0x4f829b(0x7fe)};const allMathTopics=[{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x72c)},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x2f5)},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x3bf)},{'category':_0x4f829b(0x4c6),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':'จำนวนและการดำเนินการ','name':_0x4f829b(0x4f4)},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x64c)},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x5c7)},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x1f7)},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x8cc)},{'category':_0x4f829b(0x4c6),'name':'จำนวนเต็มลบ'},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x7c2)},{'category':_0x4f829b(0x4c6),'name':'ค่าสัมบูรณ์'},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x383)},{'category':_0x4f829b(0x4c6),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x24d)},{'category':'จำนวนและการดำเนินการ','name':'ค.ร.น.\x20(LCM)'},{'category':_0x4f829b(0x4c6),'name':'อัตราส่วนและสัดส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x4f829b(0x2f3)},{'category':'จำนวนและการดำเนินการ','name':_0x4f829b(0x548)},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x2e3)},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x89d)},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x660)},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x277)},{'category':'จำนวนและการดำเนินการ','name':_0x4f829b(0x5a6)},{'category':'จำนวนและการดำเนินการ','name':_0x4f829b(0x111)},{'category':_0x4f829b(0x4c6),'name':'การบวกทศนิยม'},{'category':_0x4f829b(0x4c6),'name':'การลบทศนิยม'},{'category':_0x4f829b(0x4c6),'name':'การคูณทศนิยม'},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x4a4)},{'category':_0x4f829b(0x4c6),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x15f)},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x391)},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x767)},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x3ea)},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x13f)},{'category':_0x4f829b(0x4c6),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x4f829b(0x4c6),'name':_0x4f829b(0x4e7)},{'category':_0x4f829b(0x882),'name':_0x4f829b(0x187)},{'category':_0x4f829b(0x882),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x4f829b(0x882),'name':_0x4f829b(0x31a)},{'category':_0x4f829b(0x882),'name':_0x4f829b(0x726)},{'category':_0x4f829b(0x882),'name':_0x4f829b(0x958)},{'category':_0x4f829b(0x882),'name':'เส้นรอบรูป'},{'category':_0x4f829b(0x882),'name':_0x4f829b(0x5c1)},{'category':_0x4f829b(0x882),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x4f829b(0x882),'name':_0x4f829b(0x62d)},{'category':'การวัด','name':_0x4f829b(0x3ad)},{'category':'การวัด','name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x4f829b(0x882),'name':_0x4f829b(0x827)},{'category':_0x4f829b(0x882),'name':_0x4f829b(0x52e)},{'category':'การวัด','name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x4f829b(0x258),'name':_0x4f829b(0x1b4)},{'category':_0x4f829b(0x258),'name':'ความสัมพันธ์ของมุม'},{'category':_0x4f829b(0x258),'name':_0x4f829b(0x633)},{'category':'เรขาคณิต','name':'พื้นที่สามเหลี่ยม'},{'category':'เรขาคณิต','name':_0x4f829b(0x43e)},{'category':_0x4f829b(0x258),'name':_0x4f829b(0x146)},{'category':_0x4f829b(0x258),'name':_0x4f829b(0x8ea)},{'category':'เรขาคณิต','name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':'เรขาคณิต','name':_0x4f829b(0x8d2)},{'category':_0x4f829b(0x258),'name':_0x4f829b(0x190)},{'category':_0x4f829b(0x258),'name':_0x4f829b(0x917)},{'category':_0x4f829b(0x258),'name':_0x4f829b(0x75f)},{'category':'เรขาคณิต','name':_0x4f829b(0x63d)},{'category':_0x4f829b(0x258),'name':_0x4f829b(0x41a)},{'category':_0x4f829b(0x258),'name':_0x4f829b(0x299)},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x8a8)},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x1f8)},{'category':_0x4f829b(0x73b),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x401)},{'category':_0x4f829b(0x73b),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4f829b(0xf1)},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x445)},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x1a2)},{'category':_0x4f829b(0x73b),'name':'สมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4f829b(0x710)},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x825)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4f829b(0x14e)},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x444)},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการเชิงเส้น'},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x4cd)},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบอสมการ'},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x775)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4f829b(0x746)},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x913)},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x102)},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x2e5)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4f829b(0x2cc)},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x892)},{'category':_0x4f829b(0x73b),'name':'ฟังก์ชันพหุนาม'},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x15d)},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x2ed)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x666)},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x965)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4f829b(0x159)},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x477)},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x437)},{'category':'พีชคณิตและฟังก์ชัน','name':'ผลรวมอนุกรม\x20(Σ)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4f829b(0x143)},{'category':_0x4f829b(0x73b),'name':_0x4f829b(0x4aa)},{'category':_0x4f829b(0x650),'name':_0x4f829b(0x600)},{'category':'เรขาคณิตวิเคราะห์','name':_0x4f829b(0x7d7)},{'category':_0x4f829b(0x650),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x4f829b(0x650),'name':_0x4f829b(0x6ab)},{'category':_0x4f829b(0x650),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x4f829b(0x650),'name':_0x4f829b(0x2c0)},{'category':_0x4f829b(0x650),'name':'พาราโบลา'},{'category':_0x4f829b(0x650),'name':'วงรี'},{'category':_0x4f829b(0x650),'name':'ไฮเพอร์โบลา'},{'category':_0x4f829b(0x37a),'name':_0x4f829b(0x733)},{'category':'ตรีโกณมิติ','name':_0x4f829b(0x411)},{'category':_0x4f829b(0x37a),'name':_0x4f829b(0x310)},{'category':_0x4f829b(0x37a),'name':_0x4f829b(0x3ac)},{'category':_0x4f829b(0x37a),'name':_0x4f829b(0x5bc)},{'category':'ตรีโกณมิติ','name':_0x4f829b(0x3a1)},{'category':'ตรีโกณมิติ','name':_0x4f829b(0x6ca)},{'category':'ตรีโกณมิติ','name':_0x4f829b(0x1ab)},{'category':'ตรีโกณมิติ','name':_0x4f829b(0x636)},{'category':_0x4f829b(0x37a),'name':_0x4f829b(0xe5)},{'category':_0x4f829b(0x37a),'name':_0x4f829b(0x8b1)},{'category':_0x4f829b(0x337),'name':_0x4f829b(0x888)},{'category':_0x4f829b(0x337),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x4f829b(0x337),'name':'ตารางความถี่'},{'category':_0x4f829b(0x337),'name':_0x4f829b(0x67f)},{'category':_0x4f829b(0x337),'name':_0x4f829b(0x462)},{'category':_0x4f829b(0x337),'name':_0x4f829b(0x320)},{'category':_0x4f829b(0x337),'name':_0x4f829b(0x946)},{'category':_0x4f829b(0x337),'name':_0x4f829b(0x459)},{'category':_0x4f829b(0x337),'name':_0x4f829b(0x717)},{'category':_0x4f829b(0x337),'name':_0x4f829b(0x579)},{'category':_0x4f829b(0x337),'name':_0x4f829b(0x7ba)},{'category':_0x4f829b(0x337),'name':'ความแปรปรวน'},{'category':_0x4f829b(0x337),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x4f829b(0x337),'name':_0x4f829b(0x897)},{'category':_0x4f829b(0x337),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':'สถิติและความน่าจะเป็น','name':_0x4f829b(0x7d6)},{'category':'สถิติและความน่าจะเป็น','name':_0x4f829b(0x32c)},{'category':'สถิติและความน่าจะเป็น','name':_0x4f829b(0x741)},{'category':'สถิติและความน่าจะเป็น','name':_0x4f829b(0x7f9)},{'category':_0x4f829b(0x337),'name':_0x4f829b(0x79b)},{'category':'สถิติและความน่าจะเป็น','name':_0x4f829b(0x7d8)},{'category':_0x4f829b(0x337),'name':_0x4f829b(0x298)},{'category':'สถิติและความน่าจะเป็น','name':_0x4f829b(0x213)},{'category':_0x4f829b(0x337),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x4f829b(0x8cb),'name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':_0x4f829b(0x8c0)},{'category':_0x4f829b(0x8cb),'name':_0x4f829b(0x447)},{'category':_0x4f829b(0x8cb),'name':_0x4f829b(0x75c)},{'category':_0x4f829b(0x8cb),'name':_0x4f829b(0x26f)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4f829b(0x61b)},{'category':'แคลคูลัสเบื้องต้น','name':'ความชันเส้นสัมผัส'},{'category':_0x4f829b(0x8cb),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':'แคลคูลัสเบื้องต้น','name':_0x4f829b(0x573)},{'category':_0x4f829b(0x8cb),'name':_0x4f829b(0x62b)},{'category':_0x4f829b(0x8cb),'name':_0x4f829b(0x21e)},{'category':_0x4f829b(0x8cb),'name':_0x4f829b(0x728)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4f829b(0x8fa)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4f829b(0xee)},{'category':_0x4f829b(0x1d6),'name':_0x4f829b(0x3b9)},{'category':_0x4f829b(0x1d6),'name':_0x4f829b(0x8fd)},{'category':_0x4f829b(0x1d6),'name':_0x4f829b(0x1a7)},{'category':_0x4f829b(0x1d6),'name':_0x4f829b(0x30a)},{'category':_0x4f829b(0x1d6),'name':_0x4f829b(0x60b)},{'category':_0x4f829b(0x1d6),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4f829b(0x71d)},{'category':_0x4f829b(0x557),'name':_0x4f829b(0x270)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4f829b(0x42f)},{'category':_0x4f829b(0x557),'name':_0x4f829b(0x841)},{'category':_0x4f829b(0x557),'name':'ร้อยละประยุกต์'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'ค่าความจริง/ตารางค่าความจริง'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x4f829b(0x4b7)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x4f829b(0x910)}];function renderTopicCheckboxes(){const _0x4fb5b3=_0x4f829b,_0x2ceaf3=document[_0x4fb5b3(0x40e)](_0x4fb5b3(0x5c0));if(!_0x2ceaf3)return;const _0x197a9e=allMathTopics,_0x57be33=customMathTopics['map'](_0x4f964d=>({'id':_0x4f964d['id'],'category':_0x4fb5b3(0x1c5),'name':_0x4f964d['name']})),_0x1bb817=[..._0x197a9e,..._0x57be33],_0x5162cb=_0x1bb817[_0x4fb5b3(0x912)]((_0x4e05a4,_0x6b7ae5)=>{const _0x1a1139=_0x4fb5b3;return!_0x4e05a4[_0x6b7ae5[_0x1a1139(0x380)]]&&(_0x4e05a4[_0x6b7ae5[_0x1a1139(0x380)]]=[]),_0x4e05a4[_0x6b7ae5['category']]['push'](_0x6b7ae5),_0x4e05a4;},{});let _0x4110d9='';const _0x467ee1=[_0x4fb5b3(0x1c5),...Object[_0x4fb5b3(0x205)](_0x5162cb)[_0x4fb5b3(0x89b)](_0x1eca7c=>_0x1eca7c!==_0x4fb5b3(0x1c5))];for(const _0x11f1cb of _0x467ee1){if(_0x5162cb[_0x11f1cb]){const _0x218466=_0x11f1cb===_0x4fb5b3(0x1c5),_0x370946=_0x218466?_0x4fb5b3(0x19a):_0x4fb5b3(0x8ba),_0x43784d=_0x218466?_0x4fb5b3(0x773):_0x4fb5b3(0x163);_0x4110d9+=_0x4fb5b3(0x750),_0x4110d9+=_0x4fb5b3(0x388)+_0x43784d+_0x4fb5b3(0x55d)+_0x370946+_0x4fb5b3(0x8ca)+_0x11f1cb+_0x4fb5b3(0x19e),_0x5162cb[_0x11f1cb][_0x4fb5b3(0x840)](_0x3230e7=>{const _0x3d5e59=_0x4fb5b3,_0x1d2319=!!_0x3230e7['id'],_0x32f862=_0x1d2319?_0x3d5e59(0x5af)+_0x3230e7['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3230e7['id']+_0x3d5e59(0x1c2)+_0x3230e7['id']+_0x3d5e59(0x6d0)+_0x3230e7['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x4110d9+=_0x3d5e59(0x2de)+(_0x3230e7['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x3230e7[_0x3d5e59(0x3ab)]+_0x3d5e59(0x65a)+_0x3230e7[_0x3d5e59(0x3ab)]+_0x3d5e59(0x50c)+(_0x1d2319?_0x3d5e59(0x5ff)+_0x3230e7[_0x3d5e59(0x3ab)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x32f862+_0x3d5e59(0x902);}),_0x4110d9+=_0x4fb5b3(0x930);}}_0x2ceaf3[_0x4fb5b3(0x848)]=_0x4110d9||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x2ceaf3['removeEventListener']('change',updateSelectedTopicsCount),_0x2ceaf3[_0x4fb5b3(0x8ef)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x31b945,_0x2bc117){const _0x4dd99a=_0x4f829b;if(!_0x31b945||!_0x2bc117[_0x4dd99a(0x108)]()){showMessage(_0x4dd99a(0x74e));return;}try{const _0x2ecce5=doc(db,_0x4dd99a(0x65b)+appId+_0x4dd99a(0x590),_0x31b945);await updateDoc(_0x2ecce5,{'name':_0x2bc117[_0x4dd99a(0x108)]()}),showMessage(_0x4dd99a(0x44d));}catch(_0x495cf9){console['error']('Error\x20updating\x20custom\x20topic:',_0x495cf9),showMessage(_0x4dd99a(0x57b));}}function toggleTopicEditMode(_0x5bbe13,_0x34d83c){const _0x5bc32a=_0x4f829b;if(!_0x5bbe13)return;const _0x32af67=_0x5bbe13['querySelector'](_0x5bc32a(0x562)),_0x5f3ef7=_0x5bbe13[_0x5bc32a(0x7ac)](_0x5bc32a(0x81b)),_0x553a67=_0x5bbe13[_0x5bc32a(0x7ac)](_0x5bc32a(0x8ce)),_0x623f5f=_0x5bbe13['querySelector'](_0x5bc32a(0x7ff));_0x32af67['classList'][_0x5bc32a(0x2e0)]('hidden',_0x34d83c),_0x5f3ef7[_0x5bc32a(0x61a)][_0x5bc32a(0x2e0)]('hidden',!_0x34d83c),_0x553a67[_0x5bc32a(0x61a)][_0x5bc32a(0x2e0)]('hidden',_0x34d83c),_0x623f5f['classList'][_0x5bc32a(0x2e0)](_0x5bc32a(0x64a),!_0x34d83c),_0x34d83c&&(_0x5f3ef7[_0x5bc32a(0x535)](),_0x5f3ef7[_0x5bc32a(0x6b4)]());}function updateSelectedTopicsCount(){const _0x2dab7a=_0x4f829b,_0x1d04c9=document[_0x2dab7a(0x40e)](_0x2dab7a(0x5c0)),_0x376cda=_0x1d04c9[_0x2dab7a(0x18c)](_0x2dab7a(0x4d2))['length'],_0x44347a=document[_0x2dab7a(0x40e)](_0x2dab7a(0x26a));_0x376cda>0x0?_0x44347a['textContent']='(เลือกแล้ว\x20'+_0x376cda+_0x2dab7a(0x1d5):_0x44347a['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x4f829b(0x140),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x4f829b(0x75e),quizLeaderboardSortOrder=_0x4f829b(0x556),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x4f829b(0x446),scratchpadPenColor=_0x4f829b(0x807),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x1952d9,_0x1568aa){const _0x37c9e9=_0x4f829b;return Math[_0x37c9e9(0x295)](Math[_0x37c9e9(0x322)](_0x1952d9['x']-_0x1568aa['x'],0x2)+Math[_0x37c9e9(0x322)](_0x1952d9['y']-_0x1568aa['y'],0x2));}function getMidpoint(_0x6a587f,_0x4b4894){return{'x':(_0x6a587f['x']+_0x4b4894['x'])/0x2,'y':(_0x6a587f['y']+_0x4b4894['y'])/0x2};}function getTransformedPoint(_0x1a87e7,_0x49d071){return{'x':(_0x1a87e7-scratchpadOffset['x'])/scratchpadScale,'y':(_0x49d071-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x37c5c3=_0x4f829b;if(!scratchpadCtx)return;const _0x1a3a97=scratchpadCtx[_0x37c5c3(0x264)],_0x18d665=window[_0x37c5c3(0x4b5)]||0x1,_0x334f9=document[_0x37c5c3(0x40e)](_0x37c5c3(0x153));_0x334f9&&(_0x334f9[_0x37c5c3(0x49c)][_0x37c5c3(0x925)]=_0x37c5c3(0x308),_0x334f9[_0x37c5c3(0x49c)][_0x37c5c3(0x47b)]=_0x37c5c3(0x5d2)+scratchpadOffset['x']+_0x37c5c3(0x66e)+scratchpadOffset['y']+_0x37c5c3(0x922)+scratchpadScale+')'),scratchpadCtx[_0x37c5c3(0x27d)](),scratchpadCtx[_0x37c5c3(0x71c)](_0x18d665,0x0,0x0,_0x18d665,0x0,0x0),scratchpadCtx[_0x37c5c3(0x47f)](0x0,0x0,_0x1a3a97[_0x37c5c3(0x3c5)],_0x1a3a97[_0x37c5c3(0x30b)]),scratchpadCtx[_0x37c5c3(0x95d)](),scratchpadCtx['save'](),scratchpadCtx[_0x37c5c3(0x969)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x37c5c3(0x17b)](scratchpadScale,scratchpadScale),strokes[_0x37c5c3(0x840)](_0x2f2ed8=>{drawStroke(_0x2f2ed8);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x37c5c3(0x95d)]();}function handlePointerDown(_0x5652c0){const _0x2e3fd6=_0x4f829b;_0x5652c0['preventDefault']();const _0x565767=scratchpadCtx[_0x2e3fd6(0x264)],_0x5c2c07=_0x565767['getBoundingClientRect'](),_0x69ca1b=_0x5652c0['pointerType']||(_0x5652c0[_0x2e3fd6(0x3f2)]?_0x2e3fd6(0x800):'mouse');if(_0x69ca1b===_0x2e3fd6(0x446)||_0x69ca1b===_0x2e3fd6(0x58f)){if(_0x5652c0[_0x2e3fd6(0x48d)]==='mouse'&&_0x5652c0[_0x2e3fd6(0x89f)]!==0x0){_0x5652c0['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x5652c0[_0x2e3fd6(0x1e9)],'y':_0x5652c0[_0x2e3fd6(0x931)]},_0x565767[_0x2e3fd6(0x49c)][_0x2e3fd6(0x292)]=_0x2e3fd6(0x32a));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x1f9a0e=getTransformedPoint(_0x5652c0[_0x2e3fd6(0x1e9)]-_0x5c2c07[_0x2e3fd6(0x96f)],_0x5652c0[_0x2e3fd6(0x931)]-_0x5c2c07[_0x2e3fd6(0x7a7)]);let _0x44a11a={'tool':activeTool,'points':[_0x1f9a0e]};if(activeTool===_0x2e3fd6(0x48f))_0x44a11a[_0x2e3fd6(0x856)]=scratchpadHighlighterColor,_0x44a11a[_0x2e3fd6(0x78a)]=scratchpadHighlighterSize;else activeTool===_0x2e3fd6(0x2f1)?(_0x44a11a[_0x2e3fd6(0x856)]=scratchpadPenColor,_0x44a11a[_0x2e3fd6(0x78a)]=scratchpadPenSize):(_0x44a11a[_0x2e3fd6(0x856)]=scratchpadPenColor,_0x44a11a['size']=scratchpadPenSize);currentStroke=_0x44a11a;}else _0x5652c0['touches']&&(_0x5652c0['touches'][_0x2e3fd6(0x71e)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x5652c0[_0x2e3fd6(0x3f2)][0x0][_0x2e3fd6(0x1e9)],'y':_0x5652c0[_0x2e3fd6(0x3f2)][0x0][_0x2e3fd6(0x931)]},{'x':_0x5652c0[_0x2e3fd6(0x3f2)][0x1]['clientX'],'y':_0x5652c0[_0x2e3fd6(0x3f2)][0x1][_0x2e3fd6(0x931)]}),initialPinchDistance=getDistance({'x':_0x5652c0[_0x2e3fd6(0x3f2)][0x0][_0x2e3fd6(0x1e9)],'y':_0x5652c0[_0x2e3fd6(0x3f2)][0x0][_0x2e3fd6(0x931)]},{'x':_0x5652c0[_0x2e3fd6(0x3f2)][0x1]['clientX'],'y':_0x5652c0[_0x2e3fd6(0x3f2)][0x1][_0x2e3fd6(0x931)]})));}function animateTrail(){const _0x49d384=_0x4f829b,_0x3cae7a=Date[_0x49d384(0x142)]();let _0x482eb2=![];for(let _0x54ecf6=strokes[_0x49d384(0x71e)]-0x1;_0x54ecf6>=0x0;_0x54ecf6--){const _0x5ee99a=strokes[_0x54ecf6];if(_0x5ee99a[_0x49d384(0x4a9)]===_0x49d384(0x2f1)&&_0x5ee99a[_0x49d384(0x67a)]){const _0x592bca=_0x3cae7a-_0x5ee99a[_0x49d384(0x67a)];_0x592bca>=TRAIL_DURATION?strokes['splice'](_0x54ecf6,0x1):(_0x5ee99a['opacity']=0x1-_0x592bca/TRAIL_DURATION,_0x482eb2=!![]);}}redrawScratchpad(),_0x482eb2?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x4d5eaf){const _0x472ae7=_0x4f829b;if(!_0x4d5eaf||_0x4d5eaf['points'][_0x472ae7(0x71e)]<0x1)return;scratchpadCtx[_0x472ae7(0x27d)](),scratchpadCtx[_0x472ae7(0x224)]='round',scratchpadCtx['lineCap']=_0x472ae7(0x698);if(_0x4d5eaf[_0x472ae7(0x4a9)]===_0x472ae7(0x2f1)){const _0x53fef0=_0x4d5eaf[_0x472ae7(0x78a)]/scratchpadScale;scratchpadCtx[_0x472ae7(0x21b)]=_0x4d5eaf['opacity']??0x1,scratchpadCtx[_0x472ae7(0x56e)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x472ae7(0x42d)]=_0x53fef0*0x3,scratchpadCtx[_0x472ae7(0x706)]=_0x472ae7(0x637),scratchpadCtx[_0x472ae7(0x333)]=_0x53fef0*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x472ae7(0xf2)](_0x4d5eaf[_0x472ae7(0x8fb)][0x0]['x'],_0x4d5eaf['points'][0x0]['y']);for(let _0x1cedbc=0x1;_0x1cedbc<_0x4d5eaf['points'][_0x472ae7(0x71e)]-0x1;_0x1cedbc++){const _0x3de283=getMidpoint(_0x4d5eaf[_0x472ae7(0x8fb)][_0x1cedbc],_0x4d5eaf[_0x472ae7(0x8fb)][_0x1cedbc+0x1]);scratchpadCtx['quadraticCurveTo'](_0x4d5eaf[_0x472ae7(0x8fb)][_0x1cedbc]['x'],_0x4d5eaf[_0x472ae7(0x8fb)][_0x1cedbc]['y'],_0x3de283['x'],_0x3de283['y']);}scratchpadCtx[_0x472ae7(0x593)](),scratchpadCtx[_0x472ae7(0x56e)]=_0x472ae7(0x115),scratchpadCtx[_0x472ae7(0x42d)]=0x0,scratchpadCtx[_0x472ae7(0x706)]=_0x472ae7(0x381),scratchpadCtx[_0x472ae7(0x333)]=_0x53fef0,scratchpadCtx[_0x472ae7(0x593)](),scratchpadCtx['closePath']();}else{if(_0x4d5eaf[_0x472ae7(0x4a9)]==='highlighter'){scratchpadCtx['globalCompositeOperation']=_0x472ae7(0x4b8),scratchpadCtx['strokeStyle']=_0x4d5eaf['color'],scratchpadCtx[_0x472ae7(0x333)]=_0x4d5eaf[_0x472ae7(0x78a)],scratchpadCtx[_0x472ae7(0x893)](),scratchpadCtx[_0x472ae7(0xf2)](_0x4d5eaf[_0x472ae7(0x8fb)][0x0]['x'],_0x4d5eaf[_0x472ae7(0x8fb)][0x0]['y']);for(let _0x4d7889=0x1;_0x4d7889<_0x4d5eaf[_0x472ae7(0x8fb)][_0x472ae7(0x71e)]-0x1;_0x4d7889++){const _0x3a4d37=getMidpoint(_0x4d5eaf[_0x472ae7(0x8fb)][_0x4d7889],_0x4d5eaf[_0x472ae7(0x8fb)][_0x4d7889+0x1]);scratchpadCtx[_0x472ae7(0x605)](_0x4d5eaf[_0x472ae7(0x8fb)][_0x4d7889]['x'],_0x4d5eaf[_0x472ae7(0x8fb)][_0x4d7889]['y'],_0x3a4d37['x'],_0x3a4d37['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x472ae7(0x4fd)]();}else{scratchpadCtx[_0x472ae7(0x687)]=_0x4d5eaf[_0x472ae7(0x4a9)]===_0x472ae7(0x1f6)?_0x472ae7(0x542):_0x472ae7(0x66d),scratchpadCtx['strokeStyle']=_0x4d5eaf[_0x472ae7(0x856)],scratchpadCtx[_0x472ae7(0x333)]=_0x4d5eaf[_0x472ae7(0x78a)],scratchpadCtx[_0x472ae7(0x893)](),scratchpadCtx['moveTo'](_0x4d5eaf[_0x472ae7(0x8fb)][0x0]['x'],_0x4d5eaf[_0x472ae7(0x8fb)][0x0]['y']);for(let _0xb109db=0x1;_0xb109db<_0x4d5eaf[_0x472ae7(0x8fb)]['length']-0x1;_0xb109db++){const _0x101344=getMidpoint(_0x4d5eaf[_0x472ae7(0x8fb)][_0xb109db],_0x4d5eaf[_0x472ae7(0x8fb)][_0xb109db+0x1]);scratchpadCtx[_0x472ae7(0x605)](_0x4d5eaf[_0x472ae7(0x8fb)][_0xb109db]['x'],_0x4d5eaf[_0x472ae7(0x8fb)][_0xb109db]['y'],_0x101344['x'],_0x101344['y']);}scratchpadCtx[_0x472ae7(0x593)](),scratchpadCtx[_0x472ae7(0x4fd)]();}}scratchpadCtx[_0x472ae7(0x95d)]();}function handlePointerMove(_0x4417e4){const _0x1ec740=_0x4f829b;_0x4417e4[_0x1ec740(0x65f)]();const _0x135a06=scratchpadCtx[_0x1ec740(0x264)],_0x3334ea=_0x135a06[_0x1ec740(0x93c)]();if(_0x4417e4['touches']){if(_0x4417e4[_0x1ec740(0x3f2)][_0x1ec740(0x71e)]===0x1&&isDrawingOnScratchpad){const _0x5819b5=getTransformedPoint(_0x4417e4['touches'][0x0][_0x1ec740(0x1e9)]-_0x3334ea[_0x1ec740(0x96f)],_0x4417e4['touches'][0x0][_0x1ec740(0x931)]-_0x3334ea[_0x1ec740(0x7a7)]);currentStroke['points']['push'](_0x5819b5),redrawScratchpad();}else{if(_0x4417e4[_0x1ec740(0x3f2)]['length']===0x2&&isPanning){const _0x300901=getDistance({'x':_0x4417e4[_0x1ec740(0x3f2)][0x0][_0x1ec740(0x1e9)],'y':_0x4417e4[_0x1ec740(0x3f2)][0x0][_0x1ec740(0x931)]},{'x':_0x4417e4[_0x1ec740(0x3f2)][0x1][_0x1ec740(0x1e9)],'y':_0x4417e4['touches'][0x1]['clientY']}),_0x1a0069=getMidpoint({'x':_0x4417e4[_0x1ec740(0x3f2)][0x0]['clientX'],'y':_0x4417e4[_0x1ec740(0x3f2)][0x0][_0x1ec740(0x931)]},{'x':_0x4417e4[_0x1ec740(0x3f2)][0x1][_0x1ec740(0x1e9)],'y':_0x4417e4[_0x1ec740(0x3f2)][0x1][_0x1ec740(0x931)]}),_0x40c1ea=_0x300901/ initialPinchDistance,_0x226374=Math[_0x1ec740(0x1c1)](Math['max'](scratchpadScale*_0x40c1ea,MIN_SCALE),MAX_SCALE),_0x17b52f=_0x1a0069['x']-panStart['x'],_0x497b9a=_0x1a0069['y']-panStart['y'];scratchpadOffset['x']=_0x1a0069['x']-(_0x1a0069['x']-scratchpadOffset['x'])*(_0x226374/scratchpadScale),scratchpadOffset['y']=_0x1a0069['y']-(_0x1a0069['y']-scratchpadOffset['y'])*(_0x226374/scratchpadScale),scratchpadOffset['x']+=_0x17b52f,scratchpadOffset['y']+=_0x497b9a,scratchpadScale=_0x226374,initialPinchDistance=_0x300901,panStart=_0x1a0069,redrawScratchpad();}}}else{if(isMousePanning){const _0xbc76ec=_0x4417e4[_0x1ec740(0x1e9)]-panStart['x'],_0x3688a0=_0x4417e4[_0x1ec740(0x931)]-panStart['y'];scratchpadOffset['x']+=_0xbc76ec,scratchpadOffset['y']+=_0x3688a0,panStart={'x':_0x4417e4[_0x1ec740(0x1e9)],'y':_0x4417e4[_0x1ec740(0x931)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x26cfaf=getTransformedPoint(_0x4417e4[_0x1ec740(0x1e9)]-_0x3334ea[_0x1ec740(0x96f)],_0x4417e4['clientY']-_0x3334ea[_0x1ec740(0x7a7)]);currentStroke[_0x1ec740(0x8fb)]['push'](_0x26cfaf),redrawScratchpad();}}}}function handlePointerUp(_0x29387f){const _0x149522=_0x4f829b;_0x29387f[_0x149522(0x65f)]();const _0x59de5d=scratchpadCtx[_0x149522(0x264)];isMousePanning&&(isMousePanning=![],_0x59de5d[_0x149522(0x49c)]['cursor']=_0x149522(0x692)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0x149522(0x71e)]>0x1&&(strokes[_0x149522(0x91e)](currentStroke),currentStroke['tool']===_0x149522(0x2f1)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x3e6cd5=_0x149522,_0x40f433=strokes[_0x3e6cd5(0x89b)](_0x5a52ba=>_0x5a52ba[_0x3e6cd5(0x4a9)]==='trail'&&!_0x5a52ba[_0x3e6cd5(0x67a)]);if(_0x40f433[_0x3e6cd5(0x71e)]>0x0){const _0x412207=Date[_0x3e6cd5(0x142)]();_0x40f433[_0x3e6cd5(0x840)](_0x42b244=>_0x42b244[_0x3e6cd5(0x67a)]=_0x412207),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x28cc5c){const _0x11444f=_0x4f829b;_0x28cc5c[_0x11444f(0x65f)]();const _0x4aacd4=_0x28cc5c[_0x11444f(0x730)]*-0.005,_0x476fa1=Math[_0x11444f(0x1c1)](Math[_0x11444f(0x67b)](scratchpadScale+_0x4aacd4,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x28cc5c[_0x11444f(0x1e9)]-(_0x28cc5c['clientX']-scratchpadOffset['x'])*(_0x476fa1/scratchpadScale),scratchpadOffset['y']=_0x28cc5c[_0x11444f(0x931)]-(_0x28cc5c[_0x11444f(0x931)]-scratchpadOffset['y'])*(_0x476fa1/scratchpadScale),scratchpadScale=_0x476fa1,redrawScratchpad();}function undo(){const _0x51b329=_0x4f829b;strokes[_0x51b329(0x71e)]>0x0&&(redoStrokes[_0x51b329(0x91e)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x1e84e6=_0x4f829b;redoStrokes[_0x1e84e6(0x71e)]>0x0&&(strokes[_0x1e84e6(0x91e)](redoStrokes[_0x1e84e6(0x5a5)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x14fa09=_0x4f829b;document[_0x14fa09(0x40e)](_0x14fa09(0x118))[_0x14fa09(0x1e2)]=strokes[_0x14fa09(0x71e)]===0x0,document[_0x14fa09(0x40e)](_0x14fa09(0x86e))[_0x14fa09(0x1e2)]=redoStrokes[_0x14fa09(0x71e)]===0x0;}function openScratchpad(_0x2f949f,_0x675cfc){const _0x143b59=_0x4f829b,_0x2d2d70=document[_0x143b59(0x40e)](_0x143b59(0x116)),_0x295465=document[_0x143b59(0x40e)](_0x143b59(0x371)),_0x299e5d=document['getElementById'](_0x143b59(0x6cf)),_0x336c66=document['getElementById']('scratchpad-controls');_0x295465['textContent']=_0x2f949f[_0x143b59(0x425)]||_0x2f949f[_0x143b59(0x1f5)],_0x299e5d[_0x143b59(0x848)]=_0x675cfc[_0x143b59(0x670)]((_0x1b738e,_0x137e94)=>_0x143b59(0x440)+String['fromCharCode'](0x41+_0x137e94)+'.\x20'+_0x1b738e+_0x143b59(0x930))['join'](''),_0x336c66['innerHTML']=_0x143b59(0x2c6),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x2d2d70[_0x143b59(0x61a)]['remove']('hidden'),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x143b59(0x2f0)]([_0x295465,_0x299e5d]);}function initializeScratchpadCanvas(){const _0x44927d=_0x4f829b,_0x488aa6=document[_0x44927d(0x40e)]('scratchpad-canvas'),_0x3bcc60=document['querySelector'](_0x44927d(0x76a));if(!_0x488aa6||!_0x3bcc60)return;scratchpadCtx=_0x488aa6['getContext']('2d',{'willReadFrequently':!![]});const _0x3ae9ca=window[_0x44927d(0x4b5)]||0x1,_0xffea06=_0x3bcc60['getBoundingClientRect']();_0x488aa6[_0x44927d(0x3c5)]=_0xffea06[_0x44927d(0x3c5)]*_0x3ae9ca,_0x488aa6[_0x44927d(0x30b)]=_0xffea06[_0x44927d(0x30b)]*_0x3ae9ca,_0x488aa6[_0x44927d(0x49c)][_0x44927d(0x3c5)]=_0xffea06[_0x44927d(0x3c5)]+'px',_0x488aa6['style'][_0x44927d(0x30b)]=_0xffea06[_0x44927d(0x30b)]+'px',scratchpadCtx['scale'](_0x3ae9ca,_0x3ae9ca),scratchpadCtx[_0x44927d(0x224)]=_0x44927d(0x698),scratchpadCtx[_0x44927d(0x8ff)]=_0x44927d(0x698),_0x488aa6[_0x44927d(0x429)](_0x44927d(0x278),handlePointerDown),_0x488aa6[_0x44927d(0x429)](_0x44927d(0x11f),handlePointerMove),_0x488aa6[_0x44927d(0x429)](_0x44927d(0x20b),handlePointerUp),_0x488aa6[_0x44927d(0x429)](_0x44927d(0x259),handlePointerUp),_0x488aa6[_0x44927d(0x429)](_0x44927d(0x598),handleWheel),_0x488aa6['removeEventListener'](_0x44927d(0x58c),handlePointerDown),_0x488aa6['removeEventListener'](_0x44927d(0x8f0),handlePointerMove),_0x488aa6[_0x44927d(0x429)](_0x44927d(0x5b1),handlePointerUp),_0x488aa6[_0x44927d(0x8ef)]('pointerdown',handlePointerDown),_0x488aa6[_0x44927d(0x8ef)](_0x44927d(0x11f),handlePointerMove),_0x488aa6[_0x44927d(0x8ef)](_0x44927d(0x20b),handlePointerUp),_0x488aa6[_0x44927d(0x8ef)](_0x44927d(0x259),handlePointerUp),_0x488aa6[_0x44927d(0x8ef)](_0x44927d(0x598),handleWheel,{'passive':![]}),_0x488aa6[_0x44927d(0x8ef)](_0x44927d(0x58c),handlePointerDown,{'passive':![]}),_0x488aa6['addEventListener'](_0x44927d(0x8f0),handlePointerMove,{'passive':![]}),_0x488aa6[_0x44927d(0x8ef)](_0x44927d(0x5b1),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x5d75c9=_0x4f829b,_0x53f1db=document[_0x5d75c9(0x40e)](_0x5d75c9(0x116)),_0x428763=document[_0x5d75c9(0x40e)](_0x5d75c9(0x596));_0x428763['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x5d75c9(0x34a);const _0x2220b0=document['getElementById'](_0x5d75c9(0x684)),_0x141200=document['getElementById'](_0x5d75c9(0x467)),_0x11a304=document[_0x5d75c9(0x40e)](_0x5d75c9(0x5d4)),_0x269bf0=document['getElementById'](_0x5d75c9(0x560)),_0x3c0de1=document[_0x5d75c9(0x40e)](_0x5d75c9(0x289)),_0x2ab60b=document['getElementById'](_0x5d75c9(0x51f)),_0x14c3c4=[_0x2220b0,_0x141200,_0x11a304,_0x269bf0];document[_0x5d75c9(0x40e)](_0x5d75c9(0x281))[_0x5d75c9(0x8ef)](_0x5d75c9(0x349),()=>_0x53f1db['classList'][_0x5d75c9(0x4e9)](_0x5d75c9(0x64a))),document[_0x5d75c9(0x40e)](_0x5d75c9(0x79e))[_0x5d75c9(0x8ef)](_0x5d75c9(0x349),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x5d75c9(0x40e)](_0x5d75c9(0x5a2))['addEventListener'](_0x5d75c9(0x349),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x5d75c9(0x40e)](_0x5d75c9(0x118))[_0x5d75c9(0x8ef)](_0x5d75c9(0x349),undo),document[_0x5d75c9(0x40e)](_0x5d75c9(0x86e))[_0x5d75c9(0x8ef)](_0x5d75c9(0x349),redo);const _0x12e798=_0x27e223=>{const _0x258e61=_0x5d75c9;_0x14c3c4[_0x258e61(0x840)](_0x4a2d0a=>_0x4a2d0a[_0x258e61(0x61a)]['remove']('active')),_0x27e223[_0x258e61(0x61a)][_0x258e61(0x4e9)](_0x258e61(0x36d));const _0x2fd132=_0x27e223===_0x269bf0;_0x3c0de1[_0x258e61(0x61a)]['toggle']('hidden',_0x2fd132),_0x2ab60b[_0x258e61(0x61a)]['toggle'](_0x258e61(0x64a),!_0x2fd132);};_0x2220b0[_0x5d75c9(0x8ef)](_0x5d75c9(0x349),()=>{const _0x21a28f=_0x5d75c9;activeTool=_0x21a28f(0x446),_0x12e798(_0x2220b0);}),_0x141200[_0x5d75c9(0x8ef)](_0x5d75c9(0x349),()=>{const _0x338360=_0x5d75c9;activeTool=_0x338360(0x1f6),_0x12e798(_0x141200);}),_0x11a304[_0x5d75c9(0x8ef)]('click',()=>{activeTool='trail',_0x12e798(_0x11a304);}),_0x269bf0['addEventListener']('click',()=>{const _0xa8eb7e=_0x5d75c9;activeTool=_0xa8eb7e(0x48f),_0x12e798(_0x269bf0);}),_0x3c0de1['querySelectorAll'](_0x5d75c9(0x863))[_0x5d75c9(0x840)](_0x3551b5=>{const _0x4d2f5a=_0x5d75c9;_0x3551b5[_0x4d2f5a(0x8ef)]('click',_0x206ea9=>{const _0x397837=_0x4d2f5a;scratchpadPenSize=parseInt(_0x206ea9[_0x397837(0x261)][_0x397837(0x850)][_0x397837(0x78a)],0xa),_0x3c0de1[_0x397837(0x18c)](_0x397837(0x863))[_0x397837(0x840)](_0x2e09b6=>_0x2e09b6[_0x397837(0x61a)][_0x397837(0x193)](_0x397837(0x36d))),_0x206ea9[_0x397837(0x261)][_0x397837(0x61a)]['add']('active');});}),_0x3c0de1['querySelectorAll']('.pen-color-btn')[_0x5d75c9(0x840)](_0x36f8f5=>{const _0x597277=_0x5d75c9;_0x36f8f5[_0x597277(0x8ef)](_0x597277(0x349),_0x335d3=>{const _0x327ada=_0x597277;scratchpadPenColor=_0x335d3[_0x327ada(0x261)][_0x327ada(0x850)]['color'],_0x3c0de1[_0x327ada(0x18c)](_0x327ada(0x2ee))[_0x327ada(0x840)](_0x5e713f=>_0x5e713f[_0x327ada(0x61a)][_0x327ada(0x193)](_0x327ada(0x36d))),_0x335d3['target'][_0x327ada(0x61a)][_0x327ada(0x4e9)](_0x327ada(0x36d));});}),_0x2ab60b[_0x5d75c9(0x18c)]('.highlighter-color-btn')[_0x5d75c9(0x840)](_0x192dbd=>{_0x192dbd['addEventListener']('click',_0x5e1197=>{const _0x1edb50=_0x9ccb;scratchpadHighlighterColor=_0x5e1197[_0x1edb50(0x261)]['dataset'][_0x1edb50(0x856)],_0x2ab60b['querySelectorAll'](_0x1edb50(0x416))[_0x1edb50(0x840)](_0xbf18e0=>_0xbf18e0[_0x1edb50(0x61a)][_0x1edb50(0x193)]('active')),_0x5e1197[_0x1edb50(0x261)][_0x1edb50(0x61a)][_0x1edb50(0x4e9)](_0x1edb50(0x36d));});});const _0x3ce1bb=document['getElementById']('highlighter-size-slider'),_0x38c09d=document[_0x5d75c9(0x40e)](_0x5d75c9(0x646));_0x3ce1bb[_0x5d75c9(0x8ef)](_0x5d75c9(0x6b0),_0x3c25c9=>{const _0x5903db=_0x5d75c9,_0x1d0f29=parseInt(_0x3c25c9[_0x5903db(0x261)][_0x5903db(0x2f4)],0xa);scratchpadHighlighterSize=_0x1d0f29,_0x38c09d[_0x5903db(0x41f)]=_0x1d0f29;}),window[_0x5d75c9(0x8ef)](_0x5d75c9(0x285),()=>{const _0x3d6d69=_0x5d75c9;!_0x53f1db['classList']['contains'](_0x3d6d69(0x64a))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x4f829b(0x374),'name':_0x4f829b(0x657),'description':_0x4f829b(0x612),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x4f829b(0x7e8),'name':_0x4f829b(0x8dd),'description':_0x4f829b(0x473),'icon':_0x4f829b(0x635)},'ON_FIRE':{'id':'on_fire','name':_0x4f829b(0x74f),'description':_0x4f829b(0x3a3),'icon':_0x4f829b(0x5e0)},'FIRST_TRY_ACE':{'id':_0x4f829b(0x330),'name':_0x4f829b(0x86a),'description':_0x4f829b(0x952),'icon':_0x4f829b(0x846)},'COMEBACK_KING':{'id':'comeback_king','name':_0x4f829b(0x382),'description':_0x4f829b(0x8cd),'icon':_0x4f829b(0x236)},'SPECIALIST':{'id':_0x4f829b(0x46e),'name':'ผู้เชี่ยวชาญ','description':_0x4f829b(0x499),'icon':_0x4f829b(0x274)},'PERSEVERANCE':{'id':_0x4f829b(0x8e4),'name':'ผู้ไม่ยอมแพ้','description':_0x4f829b(0x937),'icon':_0x4f829b(0x234)}},firebaseConfig={'apiKey':_0x4f829b(0x54a),'authDomain':_0x4f829b(0x8a1),'projectId':_0x4f829b(0x249),'storageBucket':_0x4f829b(0x31d),'messagingSenderId':_0x4f829b(0x481),'appId':_0x4f829b(0x586),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x4f829b(0x519)?__app_id:_0x4f829b(0x56f),adminView=document[_0x4f829b(0x40e)](_0x4f829b(0x490)),studentView=document['getElementById'](_0x4f829b(0x948)),projectDashboardView=document[_0x4f829b(0x40e)](_0x4f829b(0x5bb)),projectDetailView=document[_0x4f829b(0x40e)]('project-detail-view'),quizResultsView=document[_0x4f829b(0x40e)](_0x4f829b(0x8e1)),projectList=document[_0x4f829b(0x40e)](_0x4f829b(0x8bf)),noProjectsMsg=document['getElementById'](_0x4f829b(0x679)),projectTitle=document[_0x4f829b(0x40e)](_0x4f829b(0x8b8)),projectIdDisplay=document['getElementById'](_0x4f829b(0x82d)),studentList=document[_0x4f829b(0x40e)]('student-list'),messageModal=document[_0x4f829b(0x40e)]('message-modal'),modalMessage=document['getElementById'](_0x4f829b(0x176)),createProjectModal=document[_0x4f829b(0x40e)](_0x4f829b(0x927)),adminPasswordModal=document['getElementById'](_0x4f829b(0x2a5)),confirmationModal=document['getElementById'](_0x4f829b(0x727)),userIdDisplay=document['getElementById'](_0x4f829b(0x88f)),topicTab=document[_0x4f829b(0x40e)](_0x4f829b(0x4f3)),textTab=document['getElementById'](_0x4f829b(0x1e8)),topicInputArea=document[_0x4f829b(0x40e)](_0x4f829b(0x364)),textInputArea=document[_0x4f829b(0x40e)]('text-input-area'),manageTab=document[_0x4f829b(0x40e)](_0x4f829b(0x524)),resultsTab=document[_0x4f829b(0x40e)](_0x4f829b(0x220)),leaderboardTab=document[_0x4f829b(0x40e)](_0x4f829b(0x297)),manageTabContent=document['getElementById']('manage-tab-content'),resultsTabContent=document[_0x4f829b(0x40e)](_0x4f829b(0x565)),leaderboardTabContent=document[_0x4f829b(0x40e)]('leaderboard-tab-content'),projectQuizzesList=document[_0x4f829b(0x40e)](_0x4f829b(0x510)),fileTab=document[_0x4f829b(0x40e)](_0x4f829b(0x47d)),fileInputArea=document['getElementById'](_0x4f829b(0x6fd)),fileUploadInput=document[_0x4f829b(0x40e)]('file-upload-input'),worksheetTab=document['getElementById'](_0x4f829b(0x237)),worksheetInputArea=document['getElementById']('worksheet-input-area'),generateWorksheetBtn=document[_0x4f829b(0x40e)](_0x4f829b(0x435)),studentInitialView=document[_0x4f829b(0x40e)](_0x4f829b(0x70d)),studentNameSelectionView=document[_0x4f829b(0x40e)](_0x4f829b(0x6a4)),studentQuizArea=document[_0x4f829b(0x40e)](_0x4f829b(0x65e)),studentResultArea=document[_0x4f829b(0x40e)]('student-result-area'),studentReadingArea=document[_0x4f829b(0x40e)](_0x4f829b(0x2aa)),loadQuizBtn=document[_0x4f829b(0x40e)](_0x4f829b(0x4eb)),startQuizBtn=document[_0x4f829b(0x40e)](_0x4f829b(0x49f)),studentJoinGameView=document['getElementById'](_0x4f829b(0xfc)),presentationModal=document[_0x4f829b(0x40e)](_0x4f829b(0x8ad)),renameQuizModal=document[_0x4f829b(0x40e)](_0x4f829b(0x103)),moveQuizModal=document[_0x4f829b(0x40e)](_0x4f829b(0x3c9)),quizSettingsModal=document[_0x4f829b(0x40e)](_0x4f829b(0x916)),quizStatusModal=document[_0x4f829b(0x40e)](_0x4f829b(0x2b6)),liveGameView=document[_0x4f829b(0x40e)](_0x4f829b(0x405));function handleAutoFixLatex(){const _0x24df98=_0x4f829b,_0x2891b3=document['getElementById'](_0x24df98(0x4ba))||document,_0x449629=_0x2891b3['querySelectorAll']([_0x24df98(0x571),_0x24df98(0x518),_0x24df98(0x4b2),'[role=\x22textbox\x22]',_0x24df98(0x833),_0x24df98(0x476),_0x24df98(0x6b9),'.option-text',_0x24df98(0x5ba)][_0x24df98(0x14b)](','));let _0x490133=0x0;const _0x5322dd=_0x477f24=>'value'in _0x477f24?String(_0x477f24[_0x24df98(0x2f4)]):_0x477f24[_0x24df98(0x3a0)]!==undefined?_0x477f24[_0x24df98(0x3a0)]:_0x477f24[_0x24df98(0x41f)]||'',_0x2ee16c=(_0x54dc23,_0x2901bc)=>{const _0x80194a=_0x24df98;if(_0x80194a(0x2f4)in _0x54dc23){_0x54dc23[_0x80194a(0x2f4)]=_0x2901bc;return;}if(_0x54dc23['querySelector']&&_0x54dc23[_0x80194a(0x7ac)](_0x80194a(0x5f2)))return;if(_0x54dc23[_0x80194a(0x3a0)]!==undefined)_0x54dc23[_0x80194a(0x3a0)]=_0x2901bc;else _0x54dc23[_0x80194a(0x41f)]=_0x2901bc;},_0x5435e1=_0x35842f=>_0x35842f[_0x24df98(0x745)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x24df98(0x745)](/\r\n?/g,'\x0a'),_0x3f6ad9=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x54352f=_0x378a84=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x24df98(0x305)](_0x378a84),_0xbd4b5e=_0x15e53c=>{const _0x56d086=_0x24df98,_0x53246a=(_0x15e53c[_0x56d086(0x78f)](/\{/g)||[])['length'],_0x8a7808=(_0x15e53c[_0x56d086(0x78f)](/\}/g)||[])[_0x56d086(0x71e)];if(_0x53246a>_0x8a7808)_0x15e53c=_0x15e53c+'}'[_0x56d086(0x523)](_0x53246a-_0x8a7808);return _0x15e53c;},_0x32b36d=_0x4948fa=>{const _0x4be8e2=_0x24df98;let _0x30ba40=_0x4948fa[_0x4be8e2(0x108)]();const _0xd24b90=[_0x4be8e2(0xf8),'dfrac','tfrac',_0x4be8e2(0x295),_0x4be8e2(0x6f7),_0x4be8e2(0x94c),_0x4be8e2(0x15e),'div',_0x4be8e2(0x83e),_0x4be8e2(0x1cf),'le','ge','neq','pm',_0x4be8e2(0x56b),'sin','cos',_0x4be8e2(0xe2),_0x4be8e2(0x3f9),'ln',_0x4be8e2(0x268),_0x4be8e2(0x31c),_0x4be8e2(0x929),'left','right',_0x4be8e2(0x63f),_0x4be8e2(0x7c1),'circ',_0x4be8e2(0x703)];_0x30ba40=_0x30ba40[_0x4be8e2(0x745)](new RegExp(_0x4be8e2(0x785)+_0xd24b90[_0x4be8e2(0x14b)]('|')+')\x5cb)','g'),'\x5c'),_0xd24b90[_0x4be8e2(0x840)](_0x4a9676=>{const _0x2d48da=_0x4be8e2;_0x30ba40=_0x30ba40[_0x2d48da(0x745)](new RegExp(_0x2d48da(0x7b5)+_0x4a9676+'\x5cb','g'),(_0x318b86,_0xa05da)=>_0xa05da+'\x5c'+_0x4a9676);});const _0x383e73=[[/×/g,_0x4be8e2(0x96d)],[/·/g,_0x4be8e2(0x26c)],[/÷/g,_0x4be8e2(0x5e4)],[/≤/g,_0x4be8e2(0x57f)],[/≥/g,_0x4be8e2(0x4da)],[/≠/g,_0x4be8e2(0x227)],[/±/g,_0x4be8e2(0x834)],[/∑/g,_0x4be8e2(0x422)],[/−/g,'-']];_0x383e73[_0x4be8e2(0x840)](([_0x23e143,_0x5b7687])=>{const _0x3b7d2c=_0x4be8e2;_0x30ba40=_0x30ba40[_0x3b7d2c(0x745)](_0x23e143,_0x5b7687);}),_0x30ba40=_0x30ba40[_0x4be8e2(0x745)](/√\s*\(([^)]*)\)/g,_0x4be8e2(0x1ee)),_0x30ba40=_0x30ba40[_0x4be8e2(0x745)](/√\s*([A-Za-z0-9]+)/g,_0x4be8e2(0x1ee)),_0x30ba40=_0x30ba40['replace'](/(^|[^\\])\bimes\b/g,_0x4be8e2(0x59d))[_0x4be8e2(0x745)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x4be8e2(0x52c))[_0x4be8e2(0x745)](/(^|[^\\])ext\{/g,'$1\x5ctext{')[_0x4be8e2(0x745)](/(^|[^\\])ext\(/g,_0x4be8e2(0x28f))[_0x4be8e2(0x745)](/\\text\(([^)]*)\)/g,_0x4be8e2(0x857))[_0x4be8e2(0x745)](/\s\\frac/g,_0x4be8e2(0x66f)),_0x30ba40=_0x30ba40[_0x4be8e2(0x745)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x5e0ef1,_0x3a7ab9,_0x5c2004,_0x5b3011)=>_0x3a7ab9+_0x4be8e2(0x7c0)+_0x5c2004+'}{'+_0x5b3011+'}'),_0x30ba40=_0x30ba40[_0x4be8e2(0x745)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x4be8e2(0x21f))[_0x4be8e2(0x745)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x4be8e2(0x21f))[_0x4be8e2(0x745)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,'\x5cfrac{$1}{$2}'),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x4be8e2(0x6f4)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x4be8e2(0x6f4)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x4be8e2(0x6f4)],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x4be8e2(0x6f4)],[/(\d+)\s*°\s*C/g,_0x4be8e2(0x6f4)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,'$1^{\x5ccirc}'],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x4be8e2(0x840)](([_0x59394b,_0x37c60e])=>{const _0x4e1f20=_0x4be8e2;_0x30ba40=_0x30ba40[_0x4e1f20(0x745)](_0x59394b,_0x37c60e);}),_0x30ba40=_0x30ba40[_0x4be8e2(0x745)](/(\d+)\s*%/g,'$1\x5c%'),_0x30ba40=_0x30ba40[_0x4be8e2(0x745)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x4be8e2(0x1e6))[_0x4be8e2(0x745)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x4be8e2(0x822))[_0x4be8e2(0x745)](/\{\{([^\{\}]+)\}\}/g,'{$1}'),[_0x4be8e2(0x84b),_0x4be8e2(0x31f),_0x4be8e2(0xe2),'log','ln']['forEach'](_0x5e533b=>{const _0x4ef1c1=_0x4be8e2;_0x30ba40=_0x30ba40[_0x4ef1c1(0x745)](new RegExp(_0x4ef1c1(0x7b5)+_0x5e533b+_0x4ef1c1(0x68e),'g'),(_0x527993,_0xde27c0)=>_0xde27c0+'\x5c'+_0x5e533b+'(');});const _0x47f7b9=(_0x30ba40[_0x4be8e2(0x78f)](/\\left\b/g)||[])[_0x4be8e2(0x71e)],_0x3b819a=(_0x30ba40[_0x4be8e2(0x78f)](/\\right\b/g)||[])[_0x4be8e2(0x71e)];if(_0x47f7b9!==_0x3b819a)_0x30ba40=_0x30ba40[_0x4be8e2(0x745)](/\\left\b/g,'')[_0x4be8e2(0x745)](/\\right\b/g,'');return _0x30ba40=_0xbd4b5e(_0x30ba40),_0x30ba40;},_0xfc9ca3=_0x5a7eb2=>{const _0x53db4b=_0x24df98;if(/\$|\\\(|\\\[/[_0x53db4b(0x305)](_0x5a7eb2))return _0x5a7eb2;if(!_0x3f6ad9[_0x53db4b(0x305)](_0x5a7eb2))return _0x5a7eb2;const _0x14b8c1=_0x5a7eb2[_0x53db4b(0x78f)](/^\s*/)[0x0],_0xae0697=_0x5a7eb2['match'](/\s*$/)[0x0],_0x2382cb=_0x5a7eb2[_0x53db4b(0x108)]();return _0x14b8c1+'$'+_0x32b36d(_0x2382cb)+'$'+_0xae0697;},_0x22688d=_0xfc5f2a=>_0xfc5f2a[_0x24df98(0x6a0)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x449629[_0x24df98(0x840)](_0x3834f1=>{const _0x44f620=_0x24df98;if(_0x3834f1[_0x44f620(0x7ac)]&&_0x3834f1[_0x44f620(0x7ac)](_0x44f620(0x5f2)))return;const _0x5c438a=_0x5322dd(_0x3834f1);let _0x100fe2=_0x5435e1(_0x5c438a);_0x100fe2=_0x100fe2[_0x44f620(0x745)](/\$\$([\s\S]*?)\$\$/g,(_0x26dc67,_0xe326a4)=>'$$'+_0x32b36d(_0xe326a4)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x5ab70e,_0x2af5b5)=>'$'+_0x32b36d(_0x2af5b5)+'$')[_0x44f620(0x745)](/\\\(([\s\S]*?)\\\)/g,(_0x34d136,_0x15cdbe)=>'\x5c('+_0x32b36d(_0x15cdbe)+'\x5c)')[_0x44f620(0x745)](/\\\[([\s\S]*?)\\\]/g,(_0x4a24fe,_0x2e2f31)=>'\x5c['+_0x32b36d(_0x2e2f31)+'\x5c]');let _0x381757=_0x100fe2,_0x520004=0x0;const _0x359fc1=_0x553de2=>_0x553de2[_0x44f620(0x745)](/S([^S]{0,2000}?)S/g,(_0x3200c3,_0x384e0c)=>_0x3f6ad9[_0x44f620(0x305)](_0x384e0c)?'$'+_0x32b36d(_0x384e0c)+'$':_0x3200c3);while(_0x520004++<0x14){const _0x4eb61a=_0x359fc1(_0x381757);if(_0x4eb61a===_0x381757)break;_0x381757=_0x4eb61a;}_0x100fe2=_0x381757,_0x100fe2=_0x100fe2['split']('\x0a')[_0x44f620(0x670)](_0x2b651a=>{const _0x47338a=_0x44f620;if(!(/[,\u3001，;；]/[_0x47338a(0x305)](_0x2b651a)||/\s(?:และ|หรือ)\s/[_0x47338a(0x305)](_0x2b651a))||!_0x3f6ad9[_0x47338a(0x305)](_0x2b651a))return _0x2b651a;return _0x22688d(_0x2b651a)[_0x47338a(0x670)](_0x319b68=>{const _0x500627=_0x47338a;if(/^\s(?:และ|หรือ)\s$/[_0x500627(0x305)](_0x319b68)||/^[,\u3001，;；]$/[_0x500627(0x305)](_0x319b68))return _0x319b68;return _0xfc9ca3(_0x319b68);})[_0x47338a(0x14b)]('');})[_0x44f620(0x14b)]('\x0a'),_0x100fe2=_0x100fe2[_0x44f620(0x6a0)]('\x0a')[_0x44f620(0x670)](_0x522e66=>{const _0x57c596=_0x44f620,_0x1dae7b=_0x522e66[_0x57c596(0x108)]();if(!_0x1dae7b)return _0x522e66;const _0x31d7e9=/\$|\\\(|\\\[/[_0x57c596(0x305)](_0x1dae7b),_0x598c8f=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x57c596(0x305)](_0x1dae7b);if(_0x31d7e9||!_0x598c8f||_0x54352f(_0x1dae7b))return _0x522e66;return _0x522e66[_0x57c596(0x745)](_0x1dae7b,'$'+_0x32b36d(_0x1dae7b)+'$');})[_0x44f620(0x14b)]('\x0a'),_0x100fe2=_0x100fe2[_0x44f620(0x745)](/(\d+)\s*°\s*C\b/g,(_0x1f8305,_0x383a9a,_0x4e48f9,_0xda5be4)=>{const _0x58b118=_0x44f620,_0x520209=_0xda5be4[_0x4e48f9-0x1];if(_0x520209==='$'||_0x520209==='S'||_0x520209==='\x5c')return _0x1f8305;return'$'+_0x383a9a+_0x58b118(0x81d);})['replace'](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x84c236,_0x42ca3d,_0x4a198d,_0x345da4)=>{const _0x1489ac=_0x44f620,_0x202bf0=_0x345da4[_0x4a198d-0x1];if(_0x202bf0==='$'||_0x202bf0==='S'||_0x202bf0==='\x5c')return _0x84c236;return'$'+_0x42ca3d+_0x1489ac(0x81d);})[_0x44f620(0x745)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x504261,_0x37d645,_0xbddea3,_0x4d46de)=>{const _0x4e7e2c=_0x44f620,_0x39efd8=_0x4d46de[_0xbddea3-0x1];if(_0x39efd8==='$'||_0x39efd8==='S'||_0x39efd8==='\x5c')return _0x504261;return'$'+_0x37d645+_0x4e7e2c(0x81d);}),_0x100fe2=_0x100fe2[_0x44f620(0x745)](/\$\s*\$/g,'$$'),_0x100fe2!==_0x5c438a&&(_0x2ee16c(_0x3834f1,_0x100fe2),_0x490133++);});if(_0x490133>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x490133+_0x24df98(0x5ee));try{if(window['MathJax']&&MathJax[_0x24df98(0x2f0)])MathJax[_0x24df98(0x2f0)]();window[_0x24df98(0x6e9)]&&typeof renderMathInElement==='function'&&renderMathInElement(_0x2891b3,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x492c7b){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x4190c1=_0x4f829b,_0x576d20=collection(db,_0x4190c1(0x65b)+appId+_0x4190c1(0x590));onSnapshot(_0x576d20,_0x1dd2f4=>{const _0x1972cf=_0x4190c1;customMathTopics=_0x1dd2f4[_0x1972cf(0x1f1)][_0x1972cf(0x670)](_0x1a8471=>({'id':_0x1a8471['id'],..._0x1a8471[_0x1972cf(0x114)]()})),renderTopicCheckboxes();},_0x19c3f7=>{const _0x452f30=_0x4190c1;console[_0x452f30(0x713)](_0x452f30(0x3ef),_0x19c3f7);});}function handleSelectAllTopics(){const _0x542958=_0x4f829b,_0x19d48f=document['getElementById'](_0x542958(0x5c0)),_0x31ff4e=_0x19d48f[_0x542958(0x18c)](_0x542958(0x94e));_0x31ff4e['forEach'](_0x56ff4c=>{const _0x355467=_0x542958;_0x56ff4c[_0x355467(0x137)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x41bfb1=_0x4f829b,_0x198be4=document[_0x41bfb1(0x40e)](_0x41bfb1(0x5c0)),_0x468dfd=_0x198be4[_0x41bfb1(0x18c)]('input[type=\x22checkbox\x22]');_0x468dfd[_0x41bfb1(0x840)](_0x1462ab=>{const _0x37fc05=_0x41bfb1;_0x1462ab[_0x37fc05(0x137)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x3de7de){const _0x4db3e5=_0x4f829b;if(!_0x3de7de)return;try{const _0x27bffa=doc(db,_0x4db3e5(0x65b)+appId+_0x4db3e5(0x590),_0x3de7de);await deleteDoc(_0x27bffa),showMessage(_0x4db3e5(0x572));}catch(_0x278324){console[_0x4db3e5(0x713)]('Error\x20deleting\x20custom\x20topic:',_0x278324),showMessage(_0x4db3e5(0x3d6));}}async function handleAddCustomMathTopic(){const _0x886374=_0x4f829b,_0x51a405=document['getElementById'](_0x886374(0x2c9)),_0x3512ee=_0x51a405[_0x886374(0x2f4)][_0x886374(0x108)]();if(!_0x3512ee){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x886374(0x790));return;}try{const _0x4b7a79=collection(db,_0x886374(0x65b)+appId+_0x886374(0x590));await addDoc(_0x4b7a79,{'name':_0x3512ee,'createdAt':serverTimestamp()}),_0x51a405[_0x886374(0x2f4)]='',showMessage(_0x886374(0x1ba)+_0x3512ee+_0x886374(0x634));}catch(_0x9faf0a){console[_0x886374(0x713)](_0x886374(0x3ee),_0x9faf0a),showMessage(_0x886374(0x286));}}async function handleUpdateOldQuizzes(){const _0x2a9af5=_0x4f829b;showConfirmation(_0x2a9af5(0x7d9),async()=>{const _0x1f90ec=_0x2a9af5,_0x4798a0=document[_0x1f90ec(0x40e)]('loader'),_0x4fbf66=document[_0x1f90ec(0x40e)](_0x1f90ec(0x3e5)),_0x4b24e4=_0x4fbf66[_0x1f90ec(0x41f)];_0x4798a0[_0x1f90ec(0x61a)][_0x1f90ec(0x193)]('hidden'),_0x4fbf66[_0x1f90ec(0x41f)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x4b7c27=collection(db,_0x1f90ec(0x65b)+appId+_0x1f90ec(0x5fb)),_0x8d158d=await getDocs(_0x4b7c27);if(_0x8d158d['empty']){showMessage(_0x1f90ec(0x408));return;}const _0x184f97=writeBatch(db);let _0x413df1=0x0;_0x8d158d[_0x1f90ec(0x840)](_0x9d0bb4=>{const _0x190a89=_0x1f90ec,_0x20180b=_0x9d0bb4[_0x190a89(0x114)](),_0x239e40=_0x9d0bb4['id'];if(_0x20180b[_0x190a89(0x75d)]&&_0x20180b[_0x190a89(0x75d)][_0x190a89(0x71e)]>0x0&&!_0x20180b[_0x190a89(0x75d)][0x0]['hasOwnProperty']('id')){console['log']('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x239e40+'\x20('+_0x20180b[_0x190a89(0x7e9)]+')'),_0x413df1++;const _0xb75f24=_0x20180b['questions'][_0x190a89(0x670)]((_0x3606f4,_0x100df9)=>{const _0x1a71eb=_0x190a89;return{..._0x3606f4,'id':_0x3606f4['id']||'q_'+Date[_0x1a71eb(0x142)]()+'_'+_0x239e40+'_'+_0x100df9};}),_0x4c018a=doc(db,_0x190a89(0x65b)+appId+'/public/data/quizzes',_0x239e40);_0x184f97[_0x190a89(0x809)](_0x4c018a,{'questions':_0xb75f24});}}),_0x413df1>0x0?(_0x4fbf66[_0x1f90ec(0x41f)]=_0x1f90ec(0x23c)+_0x413df1+_0x1f90ec(0x936),await _0x184f97['commit'](),showMessage(_0x1f90ec(0x28d)+_0x413df1+'\x20รายการสำเร็จ!')):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x18099f){console[_0x1f90ec(0x713)](_0x1f90ec(0x344),_0x18099f),showMessage(_0x1f90ec(0x65d)+_0x18099f['message']);}finally{_0x4798a0[_0x1f90ec(0x61a)][_0x1f90ec(0x4e9)](_0x1f90ec(0x64a)),_0x4fbf66['textContent']=_0x4b24e4;}});}async function handleBulkUpdateQuizSettings(){const _0x476710=_0x4f829b,_0x41792a={'shuffle':document[_0x476710(0x40e)](_0x476710(0x2df))[_0x476710(0x2f4)],'resultsDisplay':document[_0x476710(0x40e)]('bulk-results-display-select')[_0x476710(0x2f4)],'loopUntilPass':document['getElementById']('bulk-loop-until-pass-checkbox')[_0x476710(0x137)]},_0x30f052=allQuizzesGlobal[_0x476710(0x71e)];showConfirmation(_0x476710(0x257)+_0x30f052+_0x476710(0x119),async()=>{const _0x2b80dd=_0x476710,_0x3a8579=document[_0x2b80dd(0x40e)](_0x2b80dd(0x6a7));_0x3a8579[_0x2b80dd(0x1e2)]=!![],_0x3a8579[_0x2b80dd(0x848)]=_0x2b80dd(0x1a5);try{const _0x58b34b=writeBatch(db);allQuizzesGlobal[_0x2b80dd(0x840)](_0xde9cbe=>{const _0x2c62a9=_0x2b80dd,_0xb0c2af=doc(db,_0x2c62a9(0x65b)+appId+_0x2c62a9(0x5fb),_0xde9cbe['id']),_0x2cdbe5={..._0xde9cbe['settings']||{},..._0x41792a};_0x58b34b[_0x2c62a9(0x809)](_0xb0c2af,{'settings':_0x2cdbe5});}),await _0x58b34b[_0x2b80dd(0x1c8)](),document[_0x2b80dd(0x40e)]('bulk-quiz-settings-modal')[_0x2b80dd(0x61a)][_0x2b80dd(0x4e9)]('hidden'),showMessage(_0x2b80dd(0x3be)+_0x30f052+_0x2b80dd(0x26d));}catch(_0x2e20f6){console[_0x2b80dd(0x713)](_0x2b80dd(0x3b3),_0x2e20f6),showMessage(_0x2b80dd(0x18e));}finally{_0x3a8579['disabled']=![],_0x3a8579[_0x2b80dd(0x848)]=_0x2b80dd(0x29f);}});}async function handleSaveProjectName(){const _0x48f2ec=_0x4f829b,_0x1b2bb6=document[_0x48f2ec(0x40e)]('project-title'),_0x267374=document[_0x48f2ec(0x40e)](_0x48f2ec(0x69a)),_0x2f8d4b=_0x1b2bb6[_0x48f2ec(0x41f)][_0x48f2ec(0x108)]();if(!_0x2f8d4b||!currentProjectId){showMessage(_0x48f2ec(0x80d)),_0x1b2bb6[_0x48f2ec(0x41f)]=currentProjectData[_0x48f2ec(0x943)];return;}_0x267374[_0x48f2ec(0x1e2)]=!![],_0x267374['innerHTML']=_0x48f2ec(0x21a);try{const _0x21fbd9=doc(db,_0x48f2ec(0x65b)+appId+_0x48f2ec(0x6fe),currentProjectId);await updateDoc(_0x21fbd9,{'projectName':_0x2f8d4b}),currentProjectData&&(currentProjectData[_0x48f2ec(0x943)]=_0x2f8d4b),showMessage(_0x48f2ec(0x1a6));}catch(_0x51ea26){console['error'](_0x48f2ec(0x492),_0x51ea26),showMessage(_0x48f2ec(0x610)),_0x1b2bb6[_0x48f2ec(0x41f)]=currentProjectData[_0x48f2ec(0x943)];}finally{_0x267374[_0x48f2ec(0x61a)]['add'](_0x48f2ec(0x64a)),_0x267374[_0x48f2ec(0x1e2)]=![],_0x267374[_0x48f2ec(0x848)]=_0x48f2ec(0x79c);}}async function initialize(){const _0x17a435=_0x4f829b;try{const _0x448d98=initializeApp(firebaseConfig);db=getFirestore(_0x448d98),auth=getAuth(_0x448d98),setupAuthListener(),setupEventListeners(),showView(_0x17a435(0x140)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x282d35){console[_0x17a435(0x713)](_0x17a435(0x4c5),_0x282d35),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x141f2d=_0x4f829b,_0xc7d426=document[_0x141f2d(0x40e)](_0x141f2d(0x7f8));if(!_0xc7d426)return;const _0x30bc20=document[_0x141f2d(0x40e)](_0x141f2d(0x77d));_0x30bc20['disabled']=!![],_0x30bc20[_0x141f2d(0x848)]=_0x141f2d(0x861);try{const _0x3fc72d=_0xc7d426[_0x141f2d(0x18c)]('.question-editor-item'),_0x484d19=Array[_0x141f2d(0x8c6)](_0x3fc72d)[_0x141f2d(0x670)]((_0x5dd869,_0x482be6)=>{const _0x3aaee=_0x141f2d,_0x458857=_0x5dd869['dataset']['qType'],_0x59eb67=_0x5dd869[_0x3aaee(0x7ac)]('textarea')[_0x3aaee(0x2f4)];let _0xa6d1e4=null,_0x31fb2b='';switch(_0x458857){case _0x3aaee(0x7c3):const _0xd44eb6=_0x5dd869[_0x3aaee(0x18c)](_0x3aaee(0x518));_0xa6d1e4=Array['from'](_0xd44eb6)[_0x3aaee(0x670)](_0x3ae0cc=>_0x3ae0cc[_0x3aaee(0x2f4)]);const _0x361ec8=_0x5dd869[_0x3aaee(0x7ac)](_0x3aaee(0x6ea));_0x361ec8&&(_0x31fb2b=_0xa6d1e4[parseInt(_0x361ec8[_0x3aaee(0x2f4)])]);break;case'short_answer':_0x31fb2b=_0x5dd869[_0x3aaee(0x7ac)](_0x3aaee(0x332))[_0x3aaee(0x2f4)];break;case _0x3aaee(0x421):const _0x4e57e4=_0x5dd869[_0x3aaee(0x7ac)]('input[type=\x22radio\x22]:checked');_0x31fb2b=_0x4e57e4?_0x4e57e4[_0x3aaee(0x2f4)]:'';break;case _0x3aaee(0x402):_0x31fb2b=_0x5dd869['querySelector'](_0x3aaee(0x77c))[_0x3aaee(0x2f4)];break;}return{'question':_0x59eb67,'options':_0xa6d1e4,'proposedAnswer':_0x31fb2b};}),_0x2bab05='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON['stringify'](_0x484d19)+_0x141f2d(0x74d),_0x41e566={'type':'ARRAY','items':{'type':_0x141f2d(0x5dd),'properties':{'questionIndex':{'type':_0x141f2d(0x797)},'isCorrect':{'type':_0x141f2d(0x558)},'justification':{'type':_0x141f2d(0x44e)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x141f2d(0x87c),_0x141f2d(0x550),'justification']}},_0x146e50=await callAnalysisApi(_0x2bab05,{'type':'OBJECT','properties':{'result':_0x41e566},'required':[_0x141f2d(0x466)]});displayVerificationResultsInEditor(_0x146e50[_0x141f2d(0x466)]);}catch(_0x2d426b){console['error'](_0x141f2d(0x158),_0x2d426b),showMessage(_0x141f2d(0x300));}finally{_0x30bc20[_0x141f2d(0x1e2)]=![],_0x30bc20[_0x141f2d(0x848)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x109ddb){const _0x25e2f3=_0x4f829b;_0x109ddb[_0x25e2f3(0x840)](_0x465019=>{const _0xc802e4=_0x25e2f3,_0x30ad16=document['querySelector'](_0xc802e4(0x949)+_0x465019['questionIndex']+'\x22]');if(!_0x30ad16)return;const _0x4fef6a=_0x30ad16['querySelector']('.verification-result-editor');if(_0x4fef6a)_0x4fef6a[_0xc802e4(0x193)]();let _0x1a2e8b='';if(_0x465019[_0xc802e4(0x550)])_0x1a2e8b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{const _0x5a7354=_0x465019[_0xc802e4(0x904)]?_0xc802e4(0x39f):'';_0x1a2e8b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x5a7354+_0xc802e4(0x2fd)+_0x465019['justification']+_0xc802e4(0x4bd)+(_0x465019[_0xc802e4(0x904)]?_0xc802e4(0x729)+_0x465019[_0xc802e4(0x904)]+'</p>':'')+_0xc802e4(0x174);}_0x30ad16[_0xc802e4(0x3cc)](_0xc802e4(0x2be),_0x1a2e8b);if(!_0x465019[_0xc802e4(0x550)]&&_0x465019[_0xc802e4(0x904)]){const _0x3c40e3=_0x30ad16[_0xc802e4(0x850)][_0xc802e4(0x869)],_0x4f7459=_0x1e737c=>{const _0x18ddd8=_0xc802e4;if(!_0x1e737c)return;_0x1e737c[_0x18ddd8(0x61a)][_0x18ddd8(0x4e9)](_0x18ddd8(0x5d5),_0x18ddd8(0x735),'duration-300'),setTimeout(()=>{const _0x933515=_0x18ddd8;_0x1e737c['classList'][_0x933515(0x193)](_0x933515(0x5d5));},0x9c4);};if(_0x3c40e3==='multiple_choice'){const _0x1e8724=Array[_0xc802e4(0x8c6)](_0x30ad16[_0xc802e4(0x18c)](_0xc802e4(0x518))),_0x306600=_0x1e8724['findIndex'](_0x59b9b8=>_0x59b9b8['value'][_0xc802e4(0x108)]()[_0xc802e4(0x7bf)]()===_0x465019[_0xc802e4(0x904)]['trim']()[_0xc802e4(0x7bf)]());if(_0x306600!==-0x1){const _0x53960d=_0x30ad16[_0xc802e4(0x7ac)](_0xc802e4(0x8c5)+_0x306600+'\x22]');_0x53960d&&(_0x53960d['checked']=!![],_0x4f7459(_0x53960d['closest'](_0xc802e4(0x3dc))));}}else{if(_0x3c40e3==='short_answer'||_0x3c40e3===_0xc802e4(0x402)){const _0x338834=_0x30ad16[_0xc802e4(0x7ac)](_0xc802e4(0x769));_0x338834&&(_0x338834[_0xc802e4(0x2f4)]=_0x465019[_0xc802e4(0x904)],_0x4f7459(_0x338834));}else{if(_0x3c40e3==='true_false'){const _0x2406d5=_0x465019[_0xc802e4(0x904)][_0xc802e4(0x108)]()[_0xc802e4(0x7bf)](),_0x11a4ef=_0x30ad16[_0xc802e4(0x7ac)](_0xc802e4(0x8c5)+_0x2406d5+'\x22]');_0x11a4ef&&(_0x11a4ef['checked']=!![],_0x4f7459(_0x11a4ef[_0xc802e4(0x871)](_0xc802e4(0x3dc))));}}}}}),showMessage(_0x25e2f3(0x1a0));}async function handleVerifyAnswers(){const _0x2e70f5=_0x4f829b;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x2e70f5(0x45a));return;}const _0x20914b=document[_0x2e70f5(0x40e)](_0x2e70f5(0x564));_0x20914b[_0x2e70f5(0x1e2)]=!![],_0x20914b['innerHTML']=_0x2e70f5(0x861);try{const _0x2c21e2=currentQuizData[_0x2e70f5(0x75d)]['map']((_0x16c83c,_0xc7d50d)=>{const _0x264e72=_0x2e70f5;let _0x16af77='';const _0x107aac=_0x16c83c[_0x264e72(0x1eb)]||currentQuizData[_0x264e72(0x4a1)];switch(_0x107aac){case'multiple_choice':_0x16af77=_0x16c83c[_0x264e72(0x4b9)][_0x16c83c[_0x264e72(0x71a)]];break;case _0x264e72(0x52b):_0x16af77=_0x16c83c[_0x264e72(0x2dd)];break;case'true_false':_0x16af77=_0x16c83c['correctAnswer']['toString']();break;case'matching_item':_0x16af77=_0x16c83c[_0x264e72(0x2bf)];break;}return{'question':_0x16c83c[_0x264e72(0x425)]||_0x16c83c[_0x264e72(0x1f5)],'options':_0x16c83c[_0x264e72(0x4b9)]||null,'proposedAnswer':_0x16af77};}),_0x9b5d22='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x2e70f5(0x461)](_0x2c21e2)+_0x2e70f5(0x656),_0xff7b54={'type':_0x2e70f5(0x5f3),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x2e70f5(0x797)},'isCorrect':{'type':_0x2e70f5(0x558)},'justification':{'type':_0x2e70f5(0x44e)},'suggestedAnswer':{'type':_0x2e70f5(0x44e)}},'required':['questionIndex',_0x2e70f5(0x550),'justification']}},_0x122f2d=await callAnalysisApi(_0x9b5d22,{'type':_0x2e70f5(0x5dd),'properties':{'result':_0xff7b54},'required':[_0x2e70f5(0x466)]});displayVerificationResults(_0x122f2d[_0x2e70f5(0x466)]);}catch(_0x3aef16){console[_0x2e70f5(0x713)](_0x2e70f5(0x33e),_0x3aef16),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x20914b[_0x2e70f5(0x1e2)]=![],_0x20914b[_0x2e70f5(0x848)]=_0x2e70f5(0x324);}}function displayVerificationResults(_0x243fef){const _0x4c3d29=_0x4f829b;_0x243fef[_0x4c3d29(0x840)](_0x87d1d0=>{const _0x3ecb94=_0x4c3d29,_0x501ec8=document[_0x3ecb94(0x7ac)](_0x3ecb94(0x329)+_0x87d1d0['questionIndex']+'\x22]');if(_0x501ec8){const _0x4f7488=_0x501ec8['querySelector'](_0x3ecb94(0x76c));if(_0x4f7488)_0x4f7488['remove']();let _0x4ceff3='';_0x87d1d0['isCorrect']?_0x4ceff3=_0x3ecb94(0x3cb):_0x4ceff3=_0x3ecb94(0x73d)+_0x87d1d0[_0x3ecb94(0x25d)]+_0x3ecb94(0x483)+(_0x87d1d0[_0x3ecb94(0x904)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x87d1d0['suggestedAnswer']+_0x3ecb94(0x19e):'')+_0x3ecb94(0x55a),_0x501ec8[_0x3ecb94(0x3cc)](_0x3ecb94(0x2be),_0x4ceff3);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x140baf,_0x4015ec){const _0x4b1695=_0x4f829b,_0x35f90f=String(_0x140baf)[_0x4b1695(0x745)](',','.')[_0x4b1695(0x745)](/[^\d.-]/g,'')[_0x4b1695(0x108)](),_0x1f8796=String(_0x4015ec)[_0x4b1695(0x745)](',','.')[_0x4b1695(0x745)](/[^\d.-]/g,'')[_0x4b1695(0x108)]();if(_0x35f90f===''||_0x1f8796==='')return![];const _0x25eda3=parseFloat(_0x35f90f),_0x384fa6=parseFloat(_0x1f8796);if(isNaN(_0x25eda3)||isNaN(_0x384fa6))return![];return Math[_0x4b1695(0x6ee)](_0x25eda3-_0x384fa6)<0.001;}async function gradeShortAnswer(_0x557316,_0x16ca25){const _0x1dd35a=_0x4f829b,_0x2cbcd9=_0x16ca25[_0x1dd35a(0x2dd)];if(String(_0x557316)['trim']()[_0x1dd35a(0x7bf)]()===String(_0x2cbcd9)['trim']()[_0x1dd35a(0x7bf)]())return!![];if(compareNumericalAnswers(_0x557316,_0x2cbcd9))return!![];return console['log'](_0x1dd35a(0x17a)),await gradeShortAnswerWithAI(_0x557316,_0x2cbcd9);}async function revealAnswerForAdmin(_0x4a0185,_0x2fb41b){const _0x21c180=_0x4f829b,_0x1ae52d=doc(db,_0x21c180(0x65b)+appId+_0x21c180(0x92c),currentLiveGameId);await updateDoc(_0x1ae52d,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x280520){const _0x4f8e53=_0x4f829b,_0x274bab=Object[_0x4f8e53(0x4cc)](_0x280520[_0x4f8e53(0x5c4)]||{})['filter'](_0x5673d9=>_0x5673d9[_0x4f8e53(0x29a)]===_0x4f8e53(0x36d));_0x274bab['sort']((_0x459c78,_0x541c07)=>_0x541c07[_0x4f8e53(0x3e0)]-_0x459c78[_0x4f8e53(0x3e0)]);const _0x54b598=_0x274bab[_0x4f8e53(0x12a)](0x0,0x5),_0x47d7aa=_0x4f8e53(0x489)+_0x54b598[_0x4f8e53(0x670)]((_0x20dd91,_0x400671)=>_0x4f8e53(0x659)+(_0x400671+0x1)+'.\x20'+(_0x20dd91[_0x4f8e53(0x3ab)]||Object[_0x4f8e53(0x205)](_0x280520[_0x4f8e53(0x5c4)])[_0x4f8e53(0x742)](_0x5d69a5=>_0x280520['players'][_0x5d69a5]===_0x20dd91))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x20dd91[_0x4f8e53(0x3e0)]+_0x4f8e53(0x222))[_0x4f8e53(0x14b)]('')+_0x4f8e53(0x7f3)+(_0x280520[_0x4f8e53(0x245)]+0x1===currentQuizData['questions']['length']?_0x4f8e53(0x847):'ข้อต่อไป')+_0x4f8e53(0x8a6);liveGameView[_0x4f8e53(0x848)]=_0x47d7aa,document[_0x4f8e53(0x40e)](_0x4f8e53(0x282))[_0x4f8e53(0x8ef)](_0x4f8e53(0x349),async()=>{const _0x20a379=_0x4f8e53,_0x19f6c3=doc(db,'artifacts/'+appId+_0x20a379(0x92c),currentLiveGameId),_0x4cb99f=_0x280520[_0x20a379(0x245)]+0x1;if(_0x4cb99f<currentQuizData[_0x20a379(0x75d)][_0x20a379(0x71e)]){const _0x528a7a={'currentQuestionIndex':_0x4cb99f,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x20a379(0x6aa)};Object[_0x20a379(0x205)](_0x280520[_0x20a379(0x5c4)])[_0x20a379(0x840)](_0x2790c9=>{const _0xce49c0=_0x20a379;_0x528a7a['players.'+_0x2790c9+_0xce49c0(0x588)]=![];}),await updateDoc(_0x19f6c3,_0x528a7a);}else await updateDoc(_0x19f6c3,{'status':_0x20a379(0x498)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x550e9f=>{const _0x1a1afa=_0x9ccb;if(_0x550e9f){userId=_0x550e9f[_0x1a1afa(0x377)],userIdDisplay[_0x1a1afa(0x41f)]=userId;const _0x6f270f=await loadUserPreferences();_0x6f270f[_0x1a1afa(0x7ca)]&&(document['getElementById'](_0x1a1afa(0x654))['value']=_0x6f270f[_0x1a1afa(0x7ca)]);globalDashboardSettings[_0x1a1afa(0x52d)]=_0x6f270f[_0x1a1afa(0x52d)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}function _0x2571(){const _0x2768f2=['update','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','select-all-topics-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','ชื่อโปรเจคห้ามว่าง','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','timer-duration-label','ON_FIRE','grid-view-btn','true','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','catch','\x22\x20data-topic=\x22','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','scrollX','analytics-tab-content',',\x20r=','.topic-name-input','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','^{\x5ccirc}\x5ctext{C}$','กรุณาใส่ชื่อใหม่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','adaptive-quiz-checkbox','getContext','$1_{$2}','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','.pdf','สมการราก\x20(radical)','opacity-50','มุมและการวัดมุม','text-red-300\x20hover:text-red-100','$$$1$','rename-quiz-input','Error\x20deleting\x20student:','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','project-id-display','lesson-plan-modal','manage','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','sort','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','.ql-editor','\x5cpm','fixedData','<li\x20class=\x22','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','FileReader\x20error:','สร้างชุดคำถามจับคู่','progress-student-select','ลบผลสอบของ\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','leq','\x20คนที่ส่ง\x20ตอบถูก\x20(','forEach','ค่าเสื่อมราคา','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ลบแบบทดสอบสำเร็จแล้ว','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','Failed\x20to\x20create\x20initial\x20submission\x20record:','fa-rocket\x20text-purple-500','สรุปผลสุดท้าย','innerHTML','live-game','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','sin','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','</span></div>','quiz-bank-modal','isArray','dataset','execCommand','สอบซ่อม','quiz-results-table-body','actions-container-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','color','\x5ctext{$1}','submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-start-time','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','export-excel-btn','กรุณาใส่ชื่อโปรเจค','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pen-size-btn','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','\x22\x20value=\x22','Error\x20joining\x20live\x20game:','qType','ผ่านฉลุย','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','Error\x20generating\x20parallel\x20post-test:','element','redo-btn','คัดลอกรหัสแล้ว!','bg-gray-50','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','screen_exit','temp-loader-results','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','standardTopic','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','questionIndex','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','stdDev','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การวัด','opacity','analytics-tab-btn','_blank','ระยะเวลา\x20(นาที):','str','ชนิดของข้อมูลและการเก็บข้อมูล','</h3>','ไม่พบตารางสำหรับ\x20Export','รอเปิด','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','AI\x20แก้ไขคำถามสำเร็จ!','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','user-id-display','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-quiz','ฟังก์ชันกำลังสองและกราฟ','beginPath','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันการกระทำ','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงปกติและ\x20z-score','presentation-explanation','answerText','#FCE7F3','filter','presentation-ai-result','การลบเศษส่วน','mode-switcher-btn','button','parseFromString','ai-quiz-app-aefee.firebaseapp.com','drill-feedback','</li>','\x20ใหม่...','ไม่พบแบบทดสอบ','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','ตัวแปรและนิพจน์','input[name=\x22status-option\x22]:checked','bg-green-100\x20font-bold','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','.status','presentation-modal','substring','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex-1\x22></div>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','results-quiz-title','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','gain','shuffleSetting','\x22\x20value=\x22false\x22\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','project-title','<button\x20data-quiz-id=\x22','fas\x20fa-bookmark','ring-purple-400','fill_in_the_blank','answeredCurrentQuestion','.isScored','project-list','ความต่อเนื่อง','(คัดลอก)\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<textarea\x20name=\x22question','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22][value=\x22','from','delete-all-students-btn','text-red-600','#student-project-leaderboard-content\x20thead','\x20mr-2\x22></i>','แคลคูลัสเบื้องต้น','จำนวนเต็มบวก','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','.topic-actions-view','Original\x20quiz\x20not\x20found','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','Error\x20starting\x20game:','วงกลม:\x20คอร์ดและเส้นสัมผัส','open-global-live-btn','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-yellow-300','\x22\x5cn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20',';\x22\x20data-id=\x22','เซียนสมองไว','<i\x20class=\x22fas\x20fa-pen\x22></i>','Copy\x20command\x20failed','timer-duration-input','quiz-results-view','bg-red-100\x20text-red-800','leaderboard-quiz-tab-content','perseverance','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/practiceBank','PERFECT_SCORE','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','รูปสี่เหลี่ยมและสมบัติ','student-progress-content','insertBefore','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','live-short-answer-input','addEventListener','touchmove','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','#E0E7FF','show-in-student-dashboard-checkbox','.rename-quiz-btn','export-leaderboard-excel-btn','.quiz-bank-settings-btn','viewBox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-drill-btn','พื้นที่ใต้กราฟ/ระหว่างกราฟ','points','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','การประยุกต์เวกเตอร์พื้นฐาน','student-quiz-topic','lineCap','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tGain','suggestedAnswer','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','<tr><td\x20colspan=\x22','fix\x20the\x20option','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','ควรปรับปรุง','dashboardConfig','firstScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','reduce','องค์ประกอบของฟังก์ชัน','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','quiz-settings-modal','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','show_results_and_answers','เลือกและบันทึก','rgba(16,\x20185,\x20129,\x200.7)','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','1508640QStapv','push','เกิดข้อผิดพลาดในการปักหมุด','cancel-export-pdf-btn','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','px)\x20scale(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','transformOrigin','<tr\x20class=\x22','create-project-modal','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','binom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-topic-input','/public/data/liveGames','num-choices','date_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div>','clientY','\x20ชุด)','กรุณาวาง\x20URL\x20ของบทความก่อน','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x20รายการ...','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','https://corsproxy.io/?','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22','</tbody></table>','getBoundingClientRect','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','#F59E0B','.live-answer-btn','removeChild','-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','projectName','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','ค่าเฉลี่ย','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','student-view','.question-editor-item[data-q-index=\x22','setItem','loopUntilPass','times','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','input[type=\x22checkbox\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','circle','จำนวนข้อ:','ทำคะแนนเต็มในการทำครั้งแรก','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','\x20mx-1\x20text-lg\x22></i></span>','mean','อุณหภูมิและการแปลง','Error\x20fetching\x20student\x20rankings:','สำหรับโปรเจค:\x20','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','badges','restore','Error\x20loading\x20quiz\x20for\x20student:','blueprint-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','lesson-plan-title','ไม่พบข้อมูลการจับคู่','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','คะแนนเฉลี่ย','ฟังก์ชันยกกำลัง','candidates','เกิดข้อผิดพลาดในการจับคู่','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','translate','total','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x5ctimes','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','left','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','ข้อที่\x20','modal-adaptive-quiz-checkbox','tan','.delete-student-btn','<p><strong>คำตอบของคุณ:</strong>\x20','กราฟฟังก์ชันตรีโกณ','modal-timer-mode-select','<option>กำลังโหลดโปรเจค...</option>','กรุณาเลือกโปรเจคที่ต้องการบันทึก','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','.quiz-bank-try-btn','student-name-select','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','1575285lPjvEr','ระบบสมการเชิงเส้นสองตัวแปร','moveTo','promise','พบข้อสอบ\x20','items','application/json','Error\x20updating\x20pin\x20status:','frac','\x22\x20class=\x22delete-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','student-join-game-view','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','bg-red-200\x20text-red-800','(ไม่มีชื่อ)','bg-emerald-100','.color-palette-popup','ฟังก์ชันผกผัน','rename-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bottom','<div\x20class=\x22answer-space\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','trim','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','.delete-custom-topic-btn','passing-score-input','\x20(p=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','player-list-lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทศนิยม\x20(ค่าประจำหลัก)','code','.sort-indicator','data','transparent','scratchpad-modal','both','undo-btn','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','#FEE2E2','show_results_only','border-red-700','lower_group_count','cancel-test-btn','pointermove','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','reset-project-order-btn','back-from-results-btn','สร้างคำถามแบบใช่/ไม่ใช่','\x20ตัวเลือก.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','progress-project-select','getScreenCTM','slice','ไม่พบเอกสารการส่งงานของ\x20','manual_release','ไม่พบแบบทดสอบสำหรับรหัสนี้','text-indigo-600','close-lesson-plan-modal-btn','per-question-timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','.group','question-analytics-container','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','checked','student-name-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20creating\x20project:','</strong></p>','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','รากที่สองและที่สาม','student','leaderboard-quiz-tab-btn','now','ทฤษฎีทวินาม\x20(เบื้องต้น)','<span\x20title=\x22','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','ความคล้ายของรูป','.project-card-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','join','touchcancel','(ก่อนเรียน)','สมการยกกำลัง','cancel-quiz-edits-btn','loop-until-pass-checkbox','targetId','font-bold\x20text-red-700\x20line-through','scratchpad-header','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','readAsDataURL','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','quiz-schedule-end-container','Error\x20verifying\x20answers\x20in\x20editor:','ฟังก์ชันลอการิทึม','bar','scrollY','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ฟังก์ชันสัมพัทธ์\x20(rational)','cdot','ร้อยละพื้นฐาน','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.score','text-indigo-700','kick-player-btn','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','quiz-id-input','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','student-rankings-modal','currentTarget','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','pre-test','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','generate-from-blueprint-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bank-quiz-list','modal-message','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','arrayBuffer','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','scale','lowerGroupResponders','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20-\x20คำตอบ:\x20','คะแนนเต็ม!','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','normal','parse','math-topic-search-input','หน่วยความยาวและการแปลง','fullscreenElement','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','modal-timer-duration-container','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','querySelectorAll','เกิดข้อผิดพลาดในการติดดาว','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','เกิดข้อผิดพลาด:\x20','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','text-red-900','remove','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','Error\x20listening\x20for\x20student\x20profiles:','td,\x20th','hint-btn','.edit-quiz-btn','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fas\x20fa-user-edit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','name_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','ตรวจทานเฉลยเสร็จสิ้น!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','#D1FAE5','endTime','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','เปลี่ยนชื่อโปรเจคสำเร็จ','เมทริกซ์:\x20บวก/คูณ','close','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','cancel-quiz-edits-btn-footer','การแปลงรูปอัตลักษณ์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','set','toLocaleString','Error\x20generating\x20quiz:','#E5E7EB','type','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','answers','จุด\x20เส้น\x20ระนาบ','getAttributeNS','.quiz-bank-parallel-btn','<div\x20class=\x22loader\x20mx-auto\x22></div>','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','modal-passing-score-input','เพิ่มหัวข้อ\x20\x22','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','preTScore','</td>','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','then','min','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หัวข้อที่สร้างเอง','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','commit','toISOString','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','toDataURL','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','message','geq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','text-blue-700\x20bg-blue-100','แผนการสอน:\x20','.topic-category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20หัวข้อ)','เวกเตอร์และเมทริกซ์\x20(เสริม)','copy','คัดลอกไม่สำเร็จ','scores','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','FIRST_TRY_ACE','quizMode','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalSettings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.admin-try-quiz-list-btn','disabled','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','gamePin','$1^{$2}','/studentProfiles','text-tab','clientX','projectOrder','questionType','comparison-modal','_opt0\x22\x20name=\x22question','\x5csqrt{$1}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','title','docs','อัปเดตสถานะสำเร็จ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','password-error-msg','questionText','eraser','การหาร','การกระจายและการจัดหมู่','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','findIndex','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','<div\x20id=\x22q-image-container-','dataIndex','appendChild','passcode','\x20จาก\x20','keys','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','cancel-admin-login-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','จำนวนนักเรียน','pointerup','contentEditable','\x22\x20ให้เป็นคำถามประเภท\x20\x22','scores-tab-content','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','การแจกแจงทวินาม\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','quiz-type-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','globalAlpha','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Invalid\x20response\x20structure\x20from\x20AI.','ปริพันธ์จำกัด','\x5cfrac{$1}{$2}','results-tab','Error\x20opening\x20quiz\x20editor:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-400\x20hover:text-indigo-600','lineJoin','key','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x5cneq','files','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','Enter','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','(ตัวเลือกผิดพลาด)','.question-editor-item','QUICK_THINKER','</div>\x0a</div>\x0a','Error\x20saving\x20to\x20question\x20bank:','%</span>','destroy','fa-dumbbell\x20text-gray-700','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','fa-shield-alt\x20text-gray-600','worksheet-tab','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','text-green-700','instructions','ยอดเยี่ยม','กำลังอัปเดตแบบทดสอบ\x20','Error\x20updating\x20project\x20color:','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','behaviorLog','isAdaptive','\x22\x20data-pre-test-id=\x22','กำลังสร้างรูปภาพ...','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','player-count','currentQuestionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','<div\x20class=\x22','leaderboard_','ai-quiz-app-aefee','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','live-player-management','drop','ห.ร.ม.\x20(GCD)','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','correct','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','.ai-fix-formula-btn','\x22\x20name=\x22drill_answer\x22\x20value=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x20/\x20','href','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','เรขาคณิต','pointercancel','lesson-plan-content','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','justification','dimmed','results-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','target','<p>','text-red-700\x20bg-red-100','canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','sum','เกิดข้อผิดพลาดในการเปลี่ยนสี','selected-topics-count','Error\x20listening\x20for\x20projects:','\x5ccdot','\x20ชุดสำเร็จ!','text-gray-300\x20hover:text-white','อนุพันธ์:\x20ผลคูณ/ผลหาร','ดอกเบี้ยทบต้น','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','MathJax','fa-user-astronaut\x20text-blue-700','lessonPlan','starred','การหารเศษส่วน','pointerdown','-tab','\x22\x20class=\x22color-palette-btn\x20','.quiz-bank-delete-btn','font-bold\x20text-green-700','save','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','analyze-strengths-btn','.png','scratchpad-close-btn','goto-next-question-btn','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','/public/data/learnedFixes','resize','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','cancel-quiz-settings-btn','border-gray-200','pen-tools-group','doughnut','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','explanation','อัปเดตแบบทดสอบเก่า\x20','Failed\x20to\x20get\x20standardized\x20topic:','$1\x5ctext(','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x20ครั้ง)</span></td>','cursor','Error\x20toggling\x20star\x20status:','release','sqrt','learningGaps','leaderboard-tab','การจัดหมู่\x20(Combination)','ทฤษฎีบทพีทาโกรัสและการประยุกต์','status','.generate-post-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','ยืนยันและอัปเดตทั้งหมด','ไม่มี','modal-loop-until-pass-checkbox','คำเตือน\x20(','bg-red-500','export-leaderboard-pdf-btn','admin-password-modal','กำลังดึงข้อมูลจากลิงก์...','parts','แบบทดสอบ:\x20','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','student-reading-area','student-passcode-input','quiz-leaderboard-table-container','</form>','option','students','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','COMEBACK_KING','\x22,\x20','setAttributeNS','/submissions','passcode-error-msg','quiz-status-modal','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','API\x20call\x20failed','ยอดเยี่ยม!','editor-quiz-topic','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','beforeend','correctResponse','วงกลม:\x20สมการและสมบัติ','generate-from-file-btn','</p></div>','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','text-green-600\x20font-bold','Error\x20moving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x09\x09\x09<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้','analytics-summary-cards','custom-math-topic-input','exists','bg-blue-100\x20text-blue-800','ฟังก์ชันเชิงเส้นและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-content','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','4351308yEIXjt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-close-btn','postTScore','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','</td></tr>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','idealAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','bulk-shuffle-select','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','quiz-generation-area','การบวกเศษส่วน','.start-presentation-list-btn','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','timer-bar','2570hTgFEt','confirm-move-quiz-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','entries','Failed\x20to\x20kick\x20player\x20','ฟังก์ชันราก\x20(root)','.pen-color-btn','some','typesetPromise','trail','เกิดข้อผิดพลาดในการสร้างห้องเกม','อัตราและอัตราหน่วย','value','ระบบเลขและค่าประจำหลัก','finishReason','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','Error\x20fetching\x20quiz\x20status:','back-to-project-btn','.project-card-container.opacity-50','visibilityState','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','empty','quiz-end-time','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','คัดลอกแบบทดสอบสำเร็จ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','back-to-results-btn','global-quiz-list','test','schedule','qIndex','0\x200','results-table-container','อินเวอร์สของเมทริกซ์','height','Error\x20generating\x20worksheet:','</button>','quiz','passcode-input-container','มุมพิเศษ\x2045°-45°-90°','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','admin-password-input','data:application/vnd.ms-word;charset=utf-8,','preScore','.lastAnswerIndex','สร้างแบบทดสอบ','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','index','ไม่ใช่','หน่วยเวลาและการคำนวณเวลา','bg-purple-50','prod','ai-quiz-app-aefee.firebasestorage.app','onload','cos','แผนภาพกล่อง\x20(box\x20plot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','pow','fullscreenchange','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','เปิด\x20(จับเวลา)','กรุณาป้อนรหัสแบบทดสอบ','Error\x20adding\x20students:','scrollIntoView','div[data-question-index=\x22','grabbing','ดีมาก','กฎบวกและกฎคูณ','(ก่อนเรียน)\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','blueprint-upload-input','first_try_ace','admin-dashboard','.ideal-answer-input','lineWidth','Error\x20pairing\x20quizzes:','rgba(79,\x2070,\x20229,\x200.8)','post-test','สถิติและความน่าจะเป็น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','<button\x20id=\x22','mousemove','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','Error\x20verifying\x20answers:','quiz-bank-count','</span></p>','ลบโปรเจคสำเร็จแล้ว','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','comparison-overall-content','Error\x20updating\x20old\x20quizzes:','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','confirm-quiz-status-btn','text-red-800','</p><div>','click','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','comparison-overall-tab','สลับไปโหมดนักเรียน','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/quizzes/','.quiz-status-btn','back-to-student-home-btn','#ffffff','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','back-to-home-manual-release','startsWith','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','export-image-btn','ยืนยันการจับคู่','Invalid\x20response\x20structure\x20from\x20AI:','สลับไปโหมดผู้ควบคุม','.ai-fix-question-btn','confirm-passcode-btn','after','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22','topic-input-area','text-gray-500','per_question','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','list','bg-green-100','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','global-live-game-modal','active','แบบทดสอบจากคลังส่วนตัว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#26890c','scratchpad-question','stopPropagation','timer-duration-container','perfect_score','quiz-leaderboard-table','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','uid','cancel-bulk-quiz-settings-btn','has','ตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','AI\x20ไม่สามารถประมวลผลข้อมูลได้','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','jspdf','mouseleave','category','#FFFFFF','ราชาคัมแบ็ก','เส้นจำนวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x201)','กำลังอ่านและเตรียมไฟล์...','onclick','<p\x20class=\x22font-bold\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','admin-try-quiz-btn','คะแนนยังไม่ถึงครึ่ง','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','attempts','presentation-short-answer-input','ปรับเพิ่ม/ลดเป็นร้อยละ','cloneNode','bank-input-area','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','far\x20fa-star','results','content','.parallel-quiz-btn','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','resultsDisplay','.duplicate-quiz-btn','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','innerText','กฎของโคไซน์','latestScore','ตอบถูก\x203\x20ข้อติดต่อกัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','Error\x20fetching\x20quiz\x20settings:','#FEF3C7','toFixed','Error\x20generating\x20from\x20link:','overallGroups','name','เรเดียนและการแปลงหน่วย','พื้นที่ผิวรูปทรงสามมิติ','text-white','null','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','GlobalWorkerOptions','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','msRequestFullscreen','export-pdf-btn','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','<tr>','ไม่สามารถเริ่มเกมได้','ดอทโปรดักต์\x20(dot)','timestamp','mouseup','text-red-700','.delete-submission-btn','อัปเดตการตั้งค่าของแบบทดสอบ\x20','การปัดเศษและประมาณค่า','project-detail-view','lowerGroupNames','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','perfect_score_status','bulk-quiz-settings-btn','width','bank-tab','API\x20call\x20failed\x20with\x20status:\x20','Error\x20toggling\x20pin\x20status:','move-quiz-modal','http://www.w3.org/2000/svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertAdjacentHTML','download','.sortable-header','whole_quiz','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','):\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-choices-container','เกิดข้อผิดพลาดในการลบหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></td>','.live-answer-btn,\x20#live-submit-short-answer-btn','questionId','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','div','ไม่มีผู้ตอบตัวเลือกนี้','บันทึกการแก้ไข','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','score','start-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','exitFullscreen','เกี่ยวกับหัวข้อ\x20\x22','loader-text','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังวิเคราะห์ข้อสอบ\x20\x22','description','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','2-digit','keyup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','Error\x20adding\x20custom\x20topic:','Error\x20listening\x20for\x20custom\x20math\x20topics:','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','showInStudentDashboard','touches','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','string','พิมพ์ตอบ','asc','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','bg-green-200\x20text-green-800','log','\x22.\x20','visible','#results-table\x20thead\x20tr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20parallel\x20test\x20from\x20bank:','modal-shuffle-select','analytics','การแยกตัวประกอบ','matching_item','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','preTestId','live-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','ไม่พบแบบทดสอบในระบบเลย','.regenerate-question-btn','starred-project','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','getElementById','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20processing\x20file\x20for\x20AI:','มุมพิเศษ\x2030°-60°-90°','players.','leaderboard-table-body','bg-green-500','</span>','.highlighter-color-btn','close-game-final-btn','ย้าย','export-compact-pdf-btn','การสร้างรูปด้วยวงเวียน–สันตรง','blur','N/A','parallel-test-input-area','blueprint-input-area','textContent','thead','true_false','\x5csum','confirm-rename-quiz-btn','allResponses','stem','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ownerSVGElement','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeEventListener','blockReason','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','generate-from-text-btn','shadowBlur','baseVal','เงินงวด\x20(อนุกรมเงินงวด)','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','isRemedial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/questionBank','warn','generate-worksheet-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ลำดับเรขาคณิต\x20(GP)','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','view-my-progress-btn','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-save\x22></i>','.project-card-container:not(.opacity-50)','ความเท่ากันทุกประการของสามเหลี่ยม','per-question-options','<div>','get','text-emerald-800','force-math-checkbox','สมการลอการิทึม','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','pen','อนุพันธ์:\x20กฎพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container','Error\x20generating\x20from\x20blueprint:','lastAnswerCorrect','POST','แก้ไขหัวข้อสำเร็จ','STRING','\x20คู่\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','confirm-quiz-settings-btn','คณิตศาสตร์','toLocaleDateString','.quiz-result-card','cancel-move-quiz-btn','Error\x20showing\x20quiz\x20detail\x20view:','สร้างแบบทดสอบปรนัย','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','มัธยฐาน','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','ผู้ควบคุม\x20(ทดสอบ)','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','</tbody></table></div>','inactive','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stringify','ฮิสโตแกรม','retake-quiz-loop-btn','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','text-green-800','result','eraser-tool-btn','fill','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','comparison-individual-tab','#e21b3c','.color-palette-btn','specialist','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','label','ลำดับเลขคณิต\x20(AP)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','<span\x20class=\x22font-bold\x20','transform','cancel-rename-quiz-btn','file-tab','.move-quiz-btn','clearRect','leaderboard','274192258111','เปิดใช้งาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','earned-badges-container','ไม่พบข้อมูลผู้ใช้','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','pointerType','</option>','highlighter','admin-view','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20project\x20name:','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pinned-items','เกิดข้อผิดพลาดในการโหลดโปรเจค','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','body','podium','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','border-green-300\x20bg-green-50','style','comparison-individual-content','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','start-quiz-btn','\x22>จาก:\x20','quizType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','input[name=\x22question_single\x22]:checked','การหารทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','global-quiz-search-input','Error\x20unpairing\x20quizzes:','behavior-log-tab-btn','tool','จำนวนเชิงซ้อน\x20(เสริม)','delete-svg-btn','บันทึกคำถามใหม่\x20','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','\x22\x20name=\x22question','link-input-area','shuffle-setting-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','[contenteditable=\x22true\x22]','.regenerate-question-editor-btn','เกิดข้อผิดพลาดในการอ่านไฟล์','devicePixelRatio','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','รูปแบบการให้เหตุผล','multiply','options','quiz-editor-questions-container','ส่งคำตอบ','show-leaderboard-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','afterend','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','half_mark_status','createElement','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','live-submit-short-answer-btn','/public/data/projects/','Firebase\x20initialization\x20failed:','จำนวนและการดำเนินการ',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','fa-pen','27411472','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','values','อสมการค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','รีเซ็ตลำดับโปรเจคแล้ว','.csv','dragstart','input[type=\x22checkbox\x22]:checked','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','th-TH','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','table','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีคำอธิบาย','\x5cge','padStart','generate-from-parallel-test-btn','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','bg-green-50','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','/preferences/main','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','bg-gray-500','answer','bg-yellow-50','สัญกรณ์วิทยาศาสตร์','project-search-input','add','delete','load-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','function','Error\x20fetching\x20project\x20quizzes:','choices_only','input[name=\x22drill_answer\x22]:checked','matching','480515NrTwNk','topic-tab','การบวก','thead\x20.sortable-header','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','imageCode','attemptNumber','pairedQuizId','open-quiz-bank-btn','closePath','หยุดระบบจับเวลาหรี่หน้าจอ','showRankings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','quizId','ref','getPage','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','student-project-leaderboard-table-body','totalQuestions','link-topic-input','แบบปรนัย\x204\x20ตัวเลือก','\x22>ใช่</p>','.quiz-settings-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','passingScore','project-quizzes-list','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','[data-topic-container-id]','สร้างคำถามใหม่\x201\x20ข้อ\x20','1138207zFPCrR','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','button[data-id]','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','input[type=\x22text\x22]','undefined','AI\x20Formula\x20Fix\x20Error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x0a---\x0a','ไม่พบข้อมูลแบบทดสอบ','fill_in_no_choices','highlighter-tools-group','strength-weakness-analysis-container','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','Error\x20loading\x20user\x20preferences:','repeat','manage-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-form','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','originalQuestionText','line-through\x20text-red-700','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','short_answer','$1\x5cfrac','projectView','สเกลและแผนที่','project-passcode-input','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-pdf-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','กรุณาเลือกคำตอบก่อนครับ','\x22.\x20Ideal\x20Answer:\x20\x22','focus','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','visibilitychange','.toggle-actions-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','confirm-admin-login-btn','list-view-btn','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','setFont','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','admin-testing','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','settings','destination-out','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','#view-rankings-btn','generate-from-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','สร้างใหม่','เศษส่วน\x20(ย่อ/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','display','save-visibility-settings-btn','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Authentication\x20failed:','isCorrect','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','</p><p><strong>เฉลย:</strong>\x20','move-quiz-project-select','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','isScored','desc','คณิตการเงิน/บูรณาการ','BOOLEAN','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-settings-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','.lastAnswerCorrect','[*]','highlighter-tool-btn','project-detail','.topic-name-display','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','verify-answers-btn','results-tab-content','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','q-image-container-','ไม่สามารถโหลดรายการโปรเจคได้','answer-counter','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','approx','\x22\x20name=\x22question_single\x22\x20value=\x22','กรุณาเลือกโปรเจคปลายทาง','shadowColor','ai-quiz-generator-v3','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','textarea','ลบหัวข้อสำเร็จ','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','ผิด','confirm-create-project-btn','close-comparison-modal-footer-btn','พิสัย','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','ยังไม่เต็มนะ','\x5cle','onchange','enable-passcode-checkbox','ไม่พบโปรเจค','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','pointsLastQuestion','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','1:274192258111:web:4120c9118229b5644dd48a','class','.answeredCurrentQuestion','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','#per-question-options\x20textarea','touchstart','ผ่าน','/users/','mouse','/public/data/customMathTopics','getDocument','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','stroke','.doc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','scratchpad-controls','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','wheel','raw','ไม่สามารถเพิ่มนักเรียนได้','wakeLock','(ฉบับง่าย)\x20','$1\x5ctimes','authed_project_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','bg-amber-100\x20text-amber-800','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','scratchpad-clear-btn','check-presentation-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','pop','จำนวนคละ','<br>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','document','ไม่ผ่าน','</body></html>',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','Error\x20generating\x20easy\x20version\x20quiz:','หมดเวลา!\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#DBEAFE','touchend','manage-tab-content','short','.topic-row','border-indigo-400\x20ring-2\x20ring-indigo-200','save-quiz-edits-btn','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','localeCompare','.answer-text','project-dashboard-view','กฎของไซน์','input[name=\x22status-option\x22]','quiz-status-options','false','math-topics-checkbox-container','พื้นที่สี่เหลี่ยม','rows','$1\x20\x5cfrac','players','createdAt','307011YTapCL','การคูณ','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','Failed\x20to\x20get\x20hint:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','check-answer-btn','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','64188ZLQTiH','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','num-questions','keydown','translate(','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','trail-tool-btn','bg-green-200','\x20\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','comparison','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','createdBy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','OBJECT','ทำคะแนนได้เกินครึ่ง','move','fa-fire\x20text-orange-500','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','comparison-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x5cdiv','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กรุณาเลือกชื่อของคุณ','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','.cancel-edit-topic-btn','สร้างโปรเจคสำเร็จ!','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','กำลังสร้างแบบทดสอบจากหัวข้อ...','confirm-delete-btn','\x20ช่อง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2KxEemd','not-found','mjx-container','ARRAY','\x22\x20data-name=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','results_','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contents','/public/data/quizzes','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','ระยะทางและจุดกึ่งกลาง','Error\x20updating\x20quiz\x20status:','Error\x20rendering\x20student\x20progress:','change','create-project-btn','quadraticCurveTo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','Error\x20fetching\x20projects\x20for\x20move:','Re-grade\x20process\x20failed:','rgba(59,\x20130,\x20246,\x200.7)','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','ดีเทอร์มิแนนต์','presentation-scratchpad-btn','copy-quiz-id-btn','smooth','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึก','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','ตอบถูกทุกข้อในแบบทดสอบนี้','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','link-tab','mixed','parallel-test-upload-input','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','<div\x20class=\x22space-y-4\x22>','classList','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','ไม่สามารถบันทึกการตั้งค่าได้','standard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','```','position','แก้ไขข้อนี้','perQuestionStats','เปลี่ยนชื่อแบบทดสอบสำเร็จ','contains','projectSort','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-800','ปริพันธ์ไม่จำกัด','toDate','พื้นที่วงกลม/ส่วนของวงกลม','loader','<option\x20value=\x22','```json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x22\x20สำเร็จ','fa-bolt\x20text-blue-500','สมการตรีโกณมิติ','rgba(239,\x2068,\x2068,\x200.7)','\x20ข้อ\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ใช่','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','สมมาตร\x20(แกน/จุด)','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overline','text-yellow-800','ระยะเวลา\x20(วินาที):','submittedAt','Error\x20saving\x20settings:','fill_in_with_choices','<div\x20class=\x22my-6\x22>','highlighter-size-value','createElementNS','จากเนื้อหาต่อไปนี้:\x20\x22','แบบทดสอบที่ติดดาว','hidden','user','การลบ','.quiz-bank-item','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','สอบปกติ','เรขาคณิตวิเคราะห์','createObjectURL','ที่พิมพ์ได้\x20จำนวน\x20','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','project-sort-select','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนเต็ม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','artifacts/','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','เกิดข้อผิดพลาดในการอัปเดต:\x20','student-quiz-area','preventDefault','การคูณเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer-grid-container','start-live-race-generated-btn','แผนการสอน','ฟังก์ชันแบบชิ้นส่วน','text-content-input','questionDisplayedAt','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','autoTable','\x22\x20เพื่อสร้างชุดคู่ขนาน...','shuffledQuiz','source-over','px,\x20','\x5cfrac','map','close-student-rankings-btn','จับคู่แบบทดสอบสำเร็จ!','ข้อ\x20','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','กรุณาใส่ชื่อนักเรียน','name_desc','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','setAttribute','no-projects-msg','fadeStartTime','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','getBBox','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','กราฟแท่ง\x20กราฟเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','pen-tool-btn','json','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','globalCompositeOperation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','_opt1\x22>ไม่ใช่</label></div>','.delete-svg-btn','close-comparison-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','Error\x20deleting\x20submission:','\x5cs*\x5c(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','date_desc','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default','export-leaderboard-image-btn','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-options-container','#math-topics-checkbox-container\x20input:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','round','generated-quiz-container','save-project-name-btn','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','isStarred','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','split','.generate-lesson-btn','.live-summary-tooltip.visible','parent','student-name-selection-view','<div\x20class=\x22my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-bulk-quiz-settings-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','answering','เส้นตรง:\x20ขนาน/ตั้งฉาก','per-question-text','projectId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-student-btn','Error\x20comparing\x20results:','select','tooltipTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22...','confirmation-message','.choice-text','_opt','toString','modal-timer-duration-input','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','isPasscodeEnabled','webkitExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','-\x20ข้อ\x20','MathJax\x20typeset\x20error\x20(analytics):','<li>','className','playerName','\x22\x20ซึ่งมีทั้งหมด\x20','timer-mode-select','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','slide-counter','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','</label>\x0a\x20\x20\x20\x20</div>\x0a','text-green-700\x20bg-green-100','scratchpad-options','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','practiceProblems','(หลังเรียน)\x20','label[for=\x22num-questions\x22]','quiz-leaderboard-table-body','close-presentation-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','.compare-results-btn','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','export-lesson-pdf-btn','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','write','next-question-btn','random','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','summary_chart','<div><input\x20type=\x22radio\x22\x20id=\x22q','numPages','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ได้ตอบ','pinnedProjects','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','Error\x20renaming\x20quiz:','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','katex','input[type=\x22radio\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lobby','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','abs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','presentation-slide-container','bg-green-100\x20text-green-800','project-name-input','บันทึกการตั้งค่าการแสดงผลสำเร็จ','$1^{\x5ccirc}\x5ctext{C}','border-red-300\x20bg-red-50','save-quiz-btn','text','scheduled','indexOf','interesting-stats-wrapper','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','dispatchEvent','file-input-area','/public/data/projects','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ring-2','ไม่สามารถโหลดข้อมูลอันดับได้','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','deg','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','text-emerald-900','strokeStyle','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','เกิดข้อผิดพลาดในการอัปเดตสถานะ','student-progress-view','onerror','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','student-initial-view','#per-question-options\x20select','webkitRequestFullscreen','สมการเหตุผล\x20(rational)','เกิดข้อผิดพลาดในการลบแบบทดสอบ','cancel-create-project-btn','error','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','text-green-600','floor','ฐานนิยม','border-green-700','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','correctAnswerIndex','helvetica','setTransform','ดอกเบี้ยอย่างง่าย','length','_opt0\x22>ใช่</label></div>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','button[type=\x22submit\x22]','\x20สำเร็จ','solution','project-passcode-modal','icon','ปริมาตร/ความจุและการแปลง','confirmation-modal','ทฤษฎีบทพื้นฐานของแคลคูลัส','<p><strong>คำตอบที่แนะนำ:</strong>\x20','show_pass_fail_only','กรุณาเลือกสถานะ','การนับ','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','mousedown','deltaY','text/csv;charset=utf-8;','none','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','nickname-input','transition-all','generate-from-link-btn','timerMode','.save-custom-topic-btn','คะแนน','text/html','พีชคณิตและฟังก์ชัน','badgesCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','dragover','postScore','แผนภาพเวนน์','find','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','.presentation-option','replace','โดเมนและเรนจ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','ไม่สามารถสร้างโปรเจคได้','fromCharCode','จำนวนคู่:','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','bulk-quiz-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชื่อหัวข้อห้ามว่าง','ท็อปฟอร์ม','<div\x20class=\x22mb-3\x20topic-category\x22>','_opt1\x22\x20name=\x22question','ย้ายแบบทดสอบสำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswer','teacherSuggestions','Error\x20starting\x20live\x20race:','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','ยกเลิกการจับคู่สำเร็จ','อนุพันธ์:\x20กฎลูกโซ่','questions','bestScore','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','สร้างคำถามแบบเติมคำในช่องว่าง','18njjvlh','text-blue-800','include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','startTime','bank-quiz-search-input','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','isPinned','.ideal-answer-input,\x20.correct-response-input','.scratchpad-content-wrapper','reveal-answer-btn','.verification-result','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question','red','cancel-global-live-btn','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','global-live-game-count','text-blue-700','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','confirm-join-game-btn','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','Error\x20saving\x20questions\x20to\x20practice\x20bank:','.correct-response-input','verify-answers-editor-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','เกิดข้อผิดพลาดในการลบผลสอบ','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x5c\x5c\x5c\x5c(?=(','bg-red-100','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','totalPoints','includes','size','difficulty-level-select','.project-card-container[data-id]','msExitFullscreen','pre-test-checkbox','match','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','all','end-game-btn','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','requestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NUMBER','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','upperGroupResponders','ความเป็นอิสระของเหตุการณ์','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','หลังเรียน','reset-view-btn','numeric','คำถามดิบ:\x20\x22','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','upper_group_count','Leaderboard\x20update\x20transaction\x20failed:\x20','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','แบบทดสอบซ่อมเสริม','top','q-text-','Error\x20updating\x20sort\x20preference:','medium','Error\x20during\x20class\x20analysis:','querySelector','print','ปิดใช้งาน','.export-pdf-list-btn','auto','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','classWeaknesses','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','prev-question-btn','(^|[^\x5c\x5c])\x5cb','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','results-display-select','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','#10B981','ส่วนเบี่ยงเบนเฉลี่ย','สุดยอด!\x20ตอบถูกทุกข้อ','originalTopic','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','toLowerCase','\x5cfrac{','underline','ศูนย์','multiple_choice','hint','timerDuration','บันทึกการตั้งค่าแล้ว','questionStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','projectSortOrder','คำถามถัดไป','draggable-text','s;\x22\x20title=\x22','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20generating\x20lesson\x20plan:','จัดการ','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','ความชันและเส้นตรง','การเรียงสับเปลี่ยน\x20(Permutation)','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','start-game-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อมี\x20','scheduled_pending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','promptFeedback','submission','.draggable-text','studentName','getTextContent','q-explanation-','ก่อนเรียน','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','quick_thinker','topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin','AI\x20grading\x20failed:','teachingContent','behavior-log-tab-content','modal-results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','quiz-editor-modal','ความน่าจะเป็นแบบมีเงื่อนไข','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','#results-table','quiz-results','classStrengths','grid','.topic-actions-edit','touch','confirm-global-live-btn','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','quiz-search-input','#000000','latestSubmittedAt'];_0x2571=function(){return _0x2768f2;};return _0x2571();}async function saveUserPreference(_0x2c1709,_0x1d93ff){const _0x3bf0ed=_0x4f829b;if(!userId)return;try{const _0x50dce1=doc(db,'artifacts/'+appId+_0x3bf0ed(0x58e)+userId+_0x3bf0ed(0x4e1)),_0x5c2124={};_0x5c2124[_0x2c1709]=_0x1d93ff,await setDoc(_0x50dce1,_0x5c2124,{'merge':!![]});}catch(_0x2eeeec){console[_0x3bf0ed(0x713)]('Error\x20saving\x20user\x20preference:',_0x2eeeec);}}async function loadUserPreferences(){const _0x349aa3=_0x4f829b;if(!userId)return{};try{const _0x363b6b=doc(db,'artifacts/'+appId+_0x349aa3(0x58e)+userId+_0x349aa3(0x4e1)),_0x4a6dee=await getDoc(_0x363b6b);if(_0x4a6dee[_0x349aa3(0x2ca)]())return _0x4a6dee[_0x349aa3(0x114)]();return{};}catch(_0x3405f9){return console[_0x349aa3(0x713)](_0x349aa3(0x522),_0x3405f9),{};}}function showPodiumView(_0x3fc11c){const _0x5e8b25=_0x4f829b,_0x3ce4b1=Object[_0x5e8b25(0x2eb)](_0x3fc11c)['map'](([_0x2d1035,_0x330f8f])=>({'name':_0x2d1035,'score':_0x330f8f[_0x5e8b25(0x3e0)]||0x0,'badges':_0x330f8f[_0x5e8b25(0x95c)]||[]}));_0x3ce4b1[_0x5e8b25(0x831)]((_0x15a92e,_0x52ea5d)=>{const _0x1ff7a=_0x5e8b25,_0x367298=_0x52ea5d[_0x1ff7a(0x3e0)]-_0x15a92e[_0x1ff7a(0x3e0)];if(_0x367298!==0x0)return _0x367298;return(_0x52ea5d[_0x1ff7a(0x95c)][_0x1ff7a(0x71e)]||0x0)-(_0x15a92e[_0x1ff7a(0x95c)][_0x1ff7a(0x71e)]||0x0);});const _0xd9e15a=_0x4ba612=>{const _0x422041=_0x5e8b25;if(!_0x4ba612||_0x4ba612[_0x422041(0x71e)]===0x0)return'';const _0x407bea={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x422041(0x211)+_0x4ba612['map'](_0x4e7e72=>_0x407bea[_0x4e7e72]||'')[_0x422041(0x14b)]('')+'</div>';},_0x1cd636=_0x3ce4b1[_0x5e8b25(0x12a)](0x3),_0x483fe7=_0x1cd636[_0x5e8b25(0x71e)]>0x0?_0x5e8b25(0x680)+_0x1cd636[_0x5e8b25(0x670)]((_0xace7be,_0x3a7df9)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x3a7df9+0x4)+_0x5e8b25(0x5e5)+_0xace7be[_0x5e8b25(0x3ab)]+_0x5e8b25(0x511)+_0xace7be[_0x5e8b25(0x3e0)]+_0x5e8b25(0x1bf))[_0x5e8b25(0x14b)]('')+_0x5e8b25(0x1ef):'',_0x5ed0b2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3ce4b1[0x1]?_0x5e8b25(0xfa)+_0x3ce4b1[0x1][_0x5e8b25(0x3ab)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd9e15a(_0x3ce4b1[0x1][_0x5e8b25(0x95c)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x3ce4b1[0x1][_0x5e8b25(0x3e0)]+_0x5e8b25(0x85b):_0x5e8b25(0x8b0))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3ce4b1[0x0]?_0x5e8b25(0x6ef)+_0x3ce4b1[0x0]['name']+_0x5e8b25(0x4bd)+_0xd9e15a(_0x3ce4b1[0x0][_0x5e8b25(0x95c)])+_0x5e8b25(0x4b6)+_0x3ce4b1[0x0][_0x5e8b25(0x3e0)]+_0x5e8b25(0x890):_0x5e8b25(0x8b0))+_0x5e8b25(0x21c)+(_0x3ce4b1[0x2]?_0x5e8b25(0x46a)+_0x3ce4b1[0x2][_0x5e8b25(0x3ab)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd9e15a(_0x3ce4b1[0x2][_0x5e8b25(0x95c)])+_0x5e8b25(0x68c)+_0x3ce4b1[0x2][_0x5e8b25(0x3e0)]+_0x5e8b25(0x702):_0x5e8b25(0x8b0))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x483fe7+_0x5e8b25(0x6e3)+(currentMode==='admin'?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x5e8b25(0x34b))+_0x5e8b25(0x54e);liveGameView['innerHTML']=_0x5ed0b2,currentMode===_0x5e8b25(0x7ec)&&document[_0x5e8b25(0x40e)](_0x5e8b25(0x417))[_0x5e8b25(0x8ef)](_0x5e8b25(0x349),async()=>{const _0x1fc308=_0x5e8b25,_0x238caf=doc(db,_0x1fc308(0x65b)+appId+_0x1fc308(0x92c),currentLiveGameId);await deleteDoc(_0x238caf),showView(_0x1fc308(0x331));});}async function handleStartLiveRace(_0x17f2d7){const _0x305c5b=_0x4f829b;let _0x3667b1=allQuizzes['find'](_0x30ea2b=>_0x30ea2b['id']===_0x17f2d7);if(!_0x3667b1){const _0x2e6d17=doc(db,_0x305c5b(0x65b)+appId+_0x305c5b(0x5fb),_0x17f2d7),_0x3bdb84=await getDoc(_0x2e6d17);if(!_0x3bdb84[_0x305c5b(0x2ca)]()){showMessage(_0x305c5b(0x51d));return;}_0x3667b1={'id':_0x3bdb84['id'],..._0x3bdb84[_0x305c5b(0x114)]()};}const _0x270fce=getShuffledQuiz(_0x3667b1);currentQuizData=_0x270fce;const _0x95931a=_0x3667b1['projectId']||currentProjectId||null,_0x226df5=Math[_0x305c5b(0x716)](0xa+Math[_0x305c5b(0x6de)]()*0x5a)[_0x305c5b(0x6bb)]();currentLiveGamePin=_0x226df5;try{const _0x39f0cf=await addDoc(collection(db,_0x305c5b(0x65b)+appId+_0x305c5b(0x92c)),{'quizId':_0x17f2d7,'projectId':_0x95931a,'status':_0x305c5b(0x6ec),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x226df5,'createdAt':serverTimestamp(),'shuffledQuiz':_0x270fce});currentLiveGameId=_0x39f0cf['id'],showAdminLobbyView(_0x226df5,_0x3667b1[_0x305c5b(0x7e9)]),listenForLiveGameUpdates();}catch(_0x29ccb8){console[_0x305c5b(0x713)](_0x305c5b(0x758),_0x29ccb8),showMessage(_0x305c5b(0x2f2));}}async function handleShowStudentRankings(){const _0x2c2dc0=_0x4f829b,_0xec22cd=document['querySelector']('#student-quiz-leaderboard-content\x20thead');_0xec22cd&&(_0xec22cd[_0x2c2dc0(0x848)]=_0x2c2dc0(0x90d));const _0x3f16d5=document[_0x2c2dc0(0x7ac)](_0x2c2dc0(0x8c9));_0x3f16d5&&(_0x3f16d5[_0x2c2dc0(0x848)]=_0x2c2dc0(0x272));const _0x5d42e9=document[_0x2c2dc0(0x40e)](_0x2c2dc0(0x16a));_0x5d42e9[_0x2c2dc0(0x61a)][_0x2c2dc0(0x193)]('hidden'),document[_0x2c2dc0(0x40e)](_0x2c2dc0(0x671))[_0x2c2dc0(0x387)]=()=>_0x5d42e9[_0x2c2dc0(0x61a)]['add'](_0x2c2dc0(0x64a));const _0x1b46e4=document[_0x2c2dc0(0x40e)]('student-quiz-leaderboard-tab'),_0x4c3424=document[_0x2c2dc0(0x40e)]('student-project-leaderboard-tab'),_0x5235d3=document[_0x2c2dc0(0x40e)](_0x2c2dc0(0x2ce)),_0x41a864=document[_0x2c2dc0(0x40e)]('student-project-leaderboard-content');_0x1b46e4[_0x2c2dc0(0x387)]=()=>{const _0x49a303=_0x2c2dc0;_0x1b46e4[_0x49a303(0x61a)][_0x49a303(0x4e9)](_0x49a303(0x36d)),_0x4c3424['classList'][_0x49a303(0x193)](_0x49a303(0x36d)),_0x5235d3[_0x49a303(0x61a)][_0x49a303(0x193)](_0x49a303(0x64a)),_0x41a864[_0x49a303(0x61a)][_0x49a303(0x4e9)](_0x49a303(0x64a));},_0x4c3424[_0x2c2dc0(0x387)]=()=>{const _0x248be6=_0x2c2dc0;_0x4c3424[_0x248be6(0x61a)]['add'](_0x248be6(0x36d)),_0x1b46e4[_0x248be6(0x61a)]['remove'](_0x248be6(0x36d)),_0x41a864[_0x248be6(0x61a)][_0x248be6(0x193)](_0x248be6(0x64a)),_0x5235d3[_0x248be6(0x61a)]['add'](_0x248be6(0x64a));};try{const _0x5406b1=collection(db,'artifacts/'+appId+_0x2c2dc0(0x351)+currentQuizData['id']+'/submissions'),_0x43cdd1=await getDocs(_0x5406b1),_0x3f9ce6=_0x43cdd1['docs'][_0x2c2dc0(0x670)](_0x6f1131=>_0x6f1131[_0x2c2dc0(0x114)]());renderQuizLeaderboard(_0x3f9ce6,currentQuizData,'student-quiz-leaderboard-table-body');const _0x55e247=collection(db,'artifacts/'+appId+'/public/data/projects/'+currentQuizData[_0x2c2dc0(0x6ad)]+_0x2c2dc0(0x1e7)),_0x49ac21=await getDocs(_0x55e247),_0x572cd7=_0x49ac21[_0x2c2dc0(0x1f1)][_0x2c2dc0(0x670)](_0x5b2188=>_0x5b2188[_0x2c2dc0(0x114)]());renderLeaderboard(_0x572cd7,_0x2c2dc0(0x506));}catch(_0x2d605d){console['error'](_0x2c2dc0(0x959),_0x2d605d),showMessage(_0x2c2dc0(0x701));}}async function handleSaveToBank(_0x28abc0){const _0x1b5d1f=_0x4f829b,_0x383df1=_0x28abc0[_0x1b5d1f(0x16b)],_0x4070fb=_0x383df1[_0x1b5d1f(0x850)][_0x1b5d1f(0x318)],_0x4d1d93=currentQuizData[_0x1b5d1f(0x75d)][_0x4070fb];if(!userId){showMessage(_0x1b5d1f(0x487));return;}try{const _0x1d14af={..._0x4d1d93,'originalTopic':currentQuizData[_0x1b5d1f(0x7e9)],'savedAt':serverTimestamp()},_0x48f61b=collection(db,_0x1b5d1f(0x65b)+appId+_0x1b5d1f(0x58e)+userId+'/questionBank');await addDoc(_0x48f61b,_0x1d14af),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x383df1[_0x1b5d1f(0x61a)][_0x1b5d1f(0x193)]('text-purple-600'),_0x383df1[_0x1b5d1f(0x61a)]['add'](_0x1b5d1f(0x715)),_0x383df1[_0x1b5d1f(0x1e2)]=!![];}catch(_0x1d7950){console[_0x1b5d1f(0x713)](_0x1b5d1f(0x231),_0x1d7950),showMessage(_0x1b5d1f(0x610));}}function listenForStarredQuizzes(){const _0x519b25=_0x4f829b;if(!userId)return;const _0x292728=collection(db,_0x519b25(0x65b)+appId+'/public/data/quizzes'),_0xd25ac9=query(_0x292728,where(_0x519b25(0x69c),'==',!![]));onSnapshot(_0xd25ac9,_0x28d994=>{const _0xb308e7=_0x519b25;starredQuizzes=_0x28d994[_0xb308e7(0x1f1)][_0xb308e7(0x670)](_0x4805c7=>({'id':_0x4805c7['id'],..._0x4805c7[_0xb308e7(0x114)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x4ce131=>{console['error']('Error\x20listening\x20for\x20starred\x20quizzes:',_0x4ce131);});}function exportQuizAsWorksheetPDF(){const _0x2ec558=_0x4f829b;if(!currentQuizData||!currentQuizData[_0x2ec558(0x75d)]){showMessage(_0x2ec558(0x189));return;}const _0x50b8b9=currentQuizData,_0x151947=window[_0x2ec558(0x20f)]('','_blank'),_0x5d2ba4=_0x3a2191=>String['fromCharCode'](0x41+_0x3a2191),_0x4c212d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x50b8b9['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x50b8b9['topic']+_0x2ec558(0x4bf)+_0x50b8b9['questions'][_0x2ec558(0x670)]((_0x1cd316,_0x28476c)=>{const _0x4b71b4=_0x2ec558;let _0x296a86='';const _0x4d1e8f=_0x1cd316[_0x4b71b4(0x1eb)]||_0x50b8b9[_0x4b71b4(0x4a1)];switch(_0x4d1e8f){case _0x4b71b4(0x7c3):case _0x4b71b4(0x644):_0x296a86=_0x4b71b4(0x24f)+_0x1cd316[_0x4b71b4(0x4b9)][_0x4b71b4(0x670)]((_0x5ad577,_0x312ba3)=>_0x4b71b4(0x207)+_0x5d2ba4(_0x312ba3)+'.\x20'+_0x5ad577+_0x4b71b4(0x8d7))[_0x4b71b4(0x14b)](_0x4b71b4(0x5a7))+_0x4b71b4(0x930);break;case _0x4b71b4(0x421):_0x296a86=_0x4b71b4(0x1e0);break;default:_0x296a86=_0x4b71b4(0x106);break;}return _0x4b71b4(0x688)+(_0x28476c+0x1)+_0x4b71b4(0x8c2)+(_0x1cd316[_0x4b71b4(0x425)]||_0x1cd316[_0x4b71b4(0x1f5)])+_0x4b71b4(0x777)+(_0x1cd316[_0x4b71b4(0x4f9)]?_0x4b71b4(0x6a5)+_0x1cd316[_0x4b71b4(0x4f9)]+_0x4b71b4(0x930):'')+_0x4b71b4(0x755)+_0x296a86+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x2ec558(0x14b)]('')+_0x2ec558(0x49a);_0x151947[_0x2ec558(0x5a9)][_0x2ec558(0x6dc)](_0x4c212d),_0x151947[_0x2ec558(0x5a9)][_0x2ec558(0x1a8)](),_0x151947[_0x2ec558(0x31e)]=function(){setTimeout(()=>{const _0x52bbbc=_0x9ccb;_0x151947[_0x52bbbc(0x7ad)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x203392=_0x4f829b;if(!currentQuizData||!currentQuizData[_0x203392(0x75d)]){showMessage(_0x203392(0x189));return;}const _0xe8388=currentQuizData,_0x3e6289=window['open']('',_0x203392(0x885)),_0x378b0b=_0x656165=>String[_0x203392(0x749)](0x41+_0x656165),_0x287b69=_0x203392(0x747)+_0xe8388['topic']+_0x203392(0x1dd)+_0xe8388[_0x203392(0x75d)][_0x203392(0x670)]((_0x449bc1,_0x4d2efa)=>{const _0x2ce010=_0x203392;let _0x42224f='';const _0x39186a=_0x449bc1[_0x2ce010(0x1eb)]||_0xe8388[_0x2ce010(0x4a1)];switch(_0x39186a){case _0x2ce010(0x7c3):case _0x2ce010(0x644):_0x42224f=_0x2ce010(0x905)+_0x449bc1[_0x2ce010(0x4b9)][_0x2ce010(0x670)]((_0x387c76,_0x4192e0)=>_0x2ce010(0x859)+_0x378b0b(_0x4192e0)+'.\x20'+_0x387c76+'</span>')[_0x2ce010(0x14b)](_0x2ce010(0x5a7))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'true_false':_0x42224f='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x42224f='';break;}return _0x2ce010(0x1d0)+_0xe8388[_0x2ce010(0x7e9)]+_0x2ce010(0x170)+(_0x4d2efa+0x1)+_0x2ce010(0x179)+(_0x449bc1[_0x2ce010(0x425)]||_0x449bc1[_0x2ce010(0x1f5)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x449bc1['imageCode']?_0x2ce010(0x645)+_0x449bc1[_0x2ce010(0x4f9)]+_0x2ce010(0x930):'')+_0x2ce010(0x755)+_0x42224f+_0x2ce010(0x682);})[_0x203392(0x14b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3e6289['document'][_0x203392(0x6dc)](_0x287b69),_0x3e6289[_0x203392(0x5a9)][_0x203392(0x1a8)](),_0x3e6289[_0x203392(0x31e)]=function(){setTimeout(()=>{const _0x1f66b4=_0x9ccb;_0x3e6289[_0x1f66b4(0x7ad)]();},0x5dc);};}async function handleToggleStarQuiz(_0x2d3af1){const _0x3a0a3d=_0x4f829b,_0x26715e=doc(db,'artifacts/'+appId+_0x3a0a3d(0x5fb),_0x2d3af1);try{const _0x51e138=await getDoc(_0x26715e);if(_0x51e138[_0x3a0a3d(0x2ca)]()){const _0x15ff53=_0x51e138['data']()[_0x3a0a3d(0x69c)]||![];await updateDoc(_0x26715e,{'isStarred':!_0x15ff53});}}catch(_0x15d41c){console[_0x3a0a3d(0x713)](_0x3a0a3d(0x293),_0x15d41c),showMessage(_0x3a0a3d(0x18d));}}async function displayQuestionBank(){const _0x1531e4=_0x4f829b,_0x4833de=document['getElementById'](_0x1531e4(0x393));_0x4833de[_0x1531e4(0x848)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x733831=collection(db,_0x1531e4(0x65b)+appId+_0x1531e4(0x58e)+userId+_0x1531e4(0x433)),_0x2055b7=query(_0x733831),_0x65215c=await getDocs(_0x2055b7);if(_0x65215c[_0x1531e4(0x2fe)]){_0x4833de[_0x1531e4(0x848)]=_0x1531e4(0x6a8);return;}let _0x28c9cc=_0x65215c[_0x1531e4(0x1f1)][_0x1531e4(0x670)](_0x590600=>{const _0x1e36d0=_0x1531e4,_0xc0bd9c=_0x590600[_0x1e36d0(0x114)](),_0x51dda8=_0x590600['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON['stringify'](_0xc0bd9c)+_0x1e36d0(0x63a)+(_0xc0bd9c[_0x1e36d0(0x1f5)]||_0xc0bd9c['stem'])+_0x1e36d0(0x4b1)+_0xc0bd9c[_0x1e36d0(0x7bc)]+_0x1e36d0(0x7db);})[_0x1531e4(0x14b)]('');_0x4833de[_0x1531e4(0x848)]=_0x1531e4(0x67c)+_0x28c9cc+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById']('create-from-bank-btn')[_0x1531e4(0x8ef)]('click',createQuizFromBank);}catch(_0x4c3184){console[_0x1531e4(0x713)]('Error\x20displaying\x20question\x20bank:',_0x4c3184),_0x4833de[_0x1531e4(0x848)]=_0x1531e4(0x7f7);}}function showAdminLiveQuestionView(_0xf79355,_0xec72ae,_0x34588f){const _0x59ad27=_0x4f829b,_0x40f91c=_0xf79355['questionType']||currentQuizData['quizType'];let _0x12954f='';if(_0x40f91c===_0x59ad27(0x7c3)||_0x40f91c==='true_false'){const _0x5ce3ec=_0x40f91c===_0x59ad27(0x421)?['ใช่',_0x59ad27(0x319)]:_0xf79355[_0x59ad27(0x4b9)],_0x20c225=_0x40f91c==='true_false'?_0xf79355[_0x59ad27(0x756)]?0x0:0x1:_0xf79355[_0x59ad27(0x71a)];_0x12954f=_0x5ce3ec[_0x59ad27(0x670)]((_0x492ae3,_0x3061b1)=>_0x59ad27(0x69e)+(_0x3061b1===_0x20c225)+_0x59ad27(0x48a)+_0x492ae3+_0x59ad27(0x924))[_0x59ad27(0x14b)]('');}else{if(_0x40f91c==='matching_item'){const _0xb332f3=_0xf79355[_0x59ad27(0x424)]||[];_0x12954f=_0xb332f3[_0x59ad27(0x670)](_0x439c87=>_0x59ad27(0x69e)+(_0x439c87===_0xf79355[_0x59ad27(0x2bf)])+_0x59ad27(0x48a)+_0x439c87+_0x59ad27(0x924))[_0x59ad27(0x14b)]('');}}const _0x3ea65d=_0xf79355[_0x59ad27(0x425)]||_0xf79355[_0x59ad27(0x1f5)],_0x4530fb=_0x59ad27(0x484)+(_0xec72ae+0x1)+'\x20/\x20'+_0x34588f+_0x59ad27(0x714)+currentLiveGamePin+_0x59ad27(0x3f3)+_0x3ea65d+_0x59ad27(0x7d2)+_0x12954f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x4530fb,window['MathJax']&&MathJax[_0x59ad27(0x2f0)]&&MathJax[_0x59ad27(0x2f0)]([liveGameView]),document[_0x59ad27(0x40e)](_0x59ad27(0x76b))[_0x59ad27(0x8ef)](_0x59ad27(0x349),()=>revealAnswerForAdmin(_0xec72ae,_0x34588f)),document[_0x59ad27(0x40e)](_0x59ad27(0x792))[_0x59ad27(0x8ef)]('click',async()=>{const _0x57932d=_0x59ad27;showConfirmation(_0x57932d(0x86b),async()=>{const _0x139c64=_0x57932d,_0x13d4da=doc(db,_0x139c64(0x65b)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x13d4da,{'status':_0x139c64(0x498)});});}),document['getElementById']('manage-players-btn')[_0x59ad27(0x8ef)]('click',()=>{const _0x59e2ef=_0x59ad27;document[_0x59e2ef(0x40e)](_0x59e2ef(0x24b))[_0x59e2ef(0x61a)][_0x59e2ef(0x2e0)]('hidden');});}function showStudentLiveQuestionView(_0x2cd2f2,_0x43d6c5,_0x2693dd){const _0x183ed7=_0x4f829b,_0x55e746=_0x2cd2f2[_0x183ed7(0x1eb)]||currentQuizData[_0x183ed7(0x4a1)];let _0x5e5a5e='';if(_0x55e746===_0x183ed7(0x7c3)||_0x55e746===_0x183ed7(0x421)){const _0x438e24=_0x55e746==='true_false'?[_0x183ed7(0x63b),_0x183ed7(0x319)]:_0x2cd2f2['options'];_0x5e5a5e=_0x438e24[_0x183ed7(0x670)]((_0x358c92,_0x514aca)=>_0x183ed7(0x595)+_0x514aca+_0x183ed7(0x25b)+_0x358c92+_0x183ed7(0x7f6))[_0x183ed7(0x14b)]('');}else{if(_0x55e746===_0x183ed7(0x402)){const _0x14ff3f=_0x2cd2f2['allResponses']||[];_0x5e5a5e=_0x14ff3f[_0x183ed7(0x670)]((_0x57d99f,_0x2b44eb)=>_0x183ed7(0x595)+_0x2b44eb+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57d99f+_0x183ed7(0x7f6))['join']('');}else _0x55e746===_0x183ed7(0x52b)&&(_0x5e5a5e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x14339f=_0x2cd2f2['stem']||_0x2cd2f2[_0x183ed7(0x1f5)],_0x2eb759=_0x183ed7(0x5e3)+(_0x43d6c5+0x1)+'\x20/\x20'+_0x2693dd+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x14339f+_0x183ed7(0x1fe)+_0x5e5a5e+_0x183ed7(0x107);liveGameView[_0x183ed7(0x848)]=_0x2eb759;window[_0x183ed7(0x273)]&&MathJax[_0x183ed7(0x2f0)]&&MathJax[_0x183ed7(0x2f0)]([liveGameView]);const _0x24e4f1=document[_0x183ed7(0x40e)](_0x183ed7(0x4c3));_0x24e4f1&&_0x24e4f1[_0x183ed7(0x8ef)](_0x183ed7(0x349),()=>{const _0xef3167=_0x183ed7,_0xb9cf57=document[_0xef3167(0x40e)](_0xef3167(0x8ee))[_0xef3167(0x2f4)];handleLiveAnswer(_0xb9cf57,_0x2cd2f2);}),document[_0x183ed7(0x40e)](_0x183ed7(0x695))[_0x183ed7(0x8ef)](_0x183ed7(0x349),_0x70474a=>{const _0x2e8cb9=_0x183ed7,_0x30bce6=_0x70474a[_0x2e8cb9(0x261)][_0x2e8cb9(0x871)](_0x2e8cb9(0x93f));if(_0x30bce6){const _0x1f1dca=parseInt(_0x30bce6[_0x2e8cb9(0x850)][_0x2e8cb9(0x318)]);handleLiveAnswer(_0x1f1dca,_0x2cd2f2);}});}async function handleLiveAnswer(_0x7cb50,_0x4e3be3){const _0x22a0ff=_0x4f829b;document[_0x22a0ff(0x18c)](_0x22a0ff(0x3d9))[_0x22a0ff(0x840)](_0x2eabc8=>_0x2eabc8[_0x22a0ff(0x1e2)]=!![]);const _0x280a68=_0x4e3be3[_0x22a0ff(0x1eb)]||currentQuizData[_0x22a0ff(0x4a1)];let _0x12e03f=![],_0x278b68=_0x7cb50;if(_0x280a68==='short_answer'){const _0x2c20ea=(_0x7cb50||'')[_0x22a0ff(0x6bb)]();_0x12e03f=await gradeShortAnswer(_0x2c20ea,_0x4e3be3);}else{if(_0x280a68===_0x22a0ff(0x7c3))_0x12e03f=_0x7cb50===_0x4e3be3[_0x22a0ff(0x71a)];else{if(_0x280a68===_0x22a0ff(0x421)){const _0x3734ce=_0x4e3be3[_0x22a0ff(0x756)];_0x12e03f=_0x7cb50===0x0&&_0x3734ce||_0x7cb50===0x1&&!_0x3734ce;}else{if(_0x280a68===_0x22a0ff(0x402)){const _0xa973fc=_0x4e3be3[_0x22a0ff(0x424)][_0x7cb50];_0x12e03f=_0xa973fc===_0x4e3be3[_0x22a0ff(0x2bf)],_0x278b68=_0xa973fc;}}}}const _0x464634=doc(db,_0x22a0ff(0x65b)+appId+_0x22a0ff(0x92c),currentLiveGameId),_0x1909d5={};_0x1909d5['players.'+currentStudentName+_0x22a0ff(0x588)]=!![],_0x1909d5[_0x22a0ff(0x412)+currentStudentName+_0x22a0ff(0x55e)]=_0x12e03f,_0x1909d5[_0x22a0ff(0x412)+currentStudentName+_0x22a0ff(0x315)]=_0x280a68===_0x22a0ff(0x52b)||_0x280a68===_0x22a0ff(0x402)?null:_0x7cb50,_0x1909d5[_0x22a0ff(0x412)+currentStudentName+'.lastAnswerValue']=_0x278b68,_0x1909d5[_0x22a0ff(0x412)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x1909d5[_0x22a0ff(0x412)+currentStudentName+_0x22a0ff(0x8be)]=![],await updateDoc(_0x464634,_0x1909d5),liveGameView[_0x22a0ff(0x848)]=_0x22a0ff(0x135);}function showAdminSummaryView(_0x3bb6a7,_0x4a1778){const _0x4ea33b=_0x4f829b,_0x53ff35=Object[_0x4ea33b(0x4cc)](_0x3bb6a7[_0x4ea33b(0x5c4)]||{}),_0x4a2e57=_0x4a1778[_0x4ea33b(0x1eb)]||currentQuizData['quizType'],_0x501abf=_0x4a2e57==='true_false'?[_0x4ea33b(0x63b),'ไม่ใช่']:_0x4a1778[_0x4ea33b(0x4b9)]||_0x4a1778[_0x4ea33b(0x424)]||[],_0xc7a712={},_0x1b1dd4=new Array(_0x501abf[_0x4ea33b(0x71e)])[_0x4ea33b(0x468)](0x0);_0x501abf[_0x4ea33b(0x840)]((_0x581438,_0x2738cd)=>{_0xc7a712[_0x2738cd]=[];}),Object[_0x4ea33b(0x2eb)](_0x3bb6a7[_0x4ea33b(0x5c4)]||{})['forEach'](([_0x91a26d,_0x13bdbf])=>{const _0x30e4a3=_0x4ea33b;if(_0x13bdbf[_0x30e4a3(0x29a)]===_0x30e4a3(0x36d)&&_0x13bdbf['lastAnswerIndex']!==undefined){const _0x8e0056=_0x13bdbf['lastAnswerIndex'];_0xc7a712[_0x8e0056]&&(_0xc7a712[_0x8e0056]['push'](_0x91a26d),_0x1b1dd4[_0x8e0056]++);}});const _0x179a75=Math[_0x4ea33b(0x67b)](..._0x1b1dd4,0x1),_0x5b8528=_0x4ea33b(0x406)+(_0x4a1778[_0x4ea33b(0x425)]||_0x4a1778['questionText'])+_0x4ea33b(0x149)+_0x1b1dd4[_0x4ea33b(0x670)]((_0xdd33c5,_0xa7bf0f)=>{const _0x1afdd4=_0x4ea33b,_0x34a3ae=_0xc7a712[_0xa7bf0f][_0x1afdd4(0x71e)]>0x0?_0xc7a712[_0xa7bf0f][_0x1afdd4(0x14b)](',\x20'):_0x1afdd4(0x3dd);let _0x5b8582=![];if(_0x4a2e57===_0x1afdd4(0x7c3))_0x5b8582=_0xa7bf0f===_0x4a1778[_0x1afdd4(0x71a)];else{if(_0x4a2e57===_0x1afdd4(0x421)){const _0x29fa41=_0x4a1778[_0x1afdd4(0x756)];_0x5b8582=_0x29fa41&&_0xa7bf0f===0x0||!_0x29fa41&&_0xa7bf0f===0x1;}else _0x4a2e57===_0x1afdd4(0x402)&&(_0x5b8582=_0x501abf[_0xa7bf0f]===_0x4a1778[_0x1afdd4(0x2bf)]);}const _0x235768=_0x5b8582?_0x1afdd4(0x370):_0x1afdd4(0x46c);return _0x1afdd4(0x865)+_0xdd33c5+_0x1afdd4(0x60a)+_0x235768+_0x1afdd4(0x4c7)+_0xa7bf0f+_0x1afdd4(0x173)+_0x501abf[_0xa7bf0f]+_0x1afdd4(0x597)+_0xa7bf0f+_0x1afdd4(0x669)+_0x34a3ae+_0x1afdd4(0x7d3);})[_0x4ea33b(0x14b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x5b8528;if(window[_0x4ea33b(0x273)])MathJax['typesetPromise']();document[_0x4ea33b(0x40e)](_0x4ea33b(0x4bc))[_0x4ea33b(0x8ef)](_0x4ea33b(0x349),async()=>{const _0x131233=_0x4ea33b,_0x427ef9=doc(db,_0x131233(0x65b)+appId+_0x131233(0x92c),currentLiveGameId);await updateDoc(_0x427ef9,{'questionStatus':_0x131233(0x480)});}),document['getElementById']('open-scratchpad-btn')[_0x4ea33b(0x8ef)](_0x4ea33b(0x349),()=>{openScratchpad(_0x4a1778,_0x501abf);});}function showPlayerSummaryView(_0x49b8c6,_0x133981){const _0x42ad75=_0x4f829b,_0x5047d7=Object[_0x42ad75(0x4cc)](_0x49b8c6['players']||{}),_0x29e07d=_0x49b8c6['players'][_0x133981],_0x2b33dd=_0x5047d7['filter'](_0x30f3a3=>_0x30f3a3[_0x42ad75(0x29a)]===_0x42ad75(0x36d))['sort']((_0x3969cc,_0x2bd037)=>_0x2bd037[_0x42ad75(0x3e0)]-_0x3969cc[_0x42ad75(0x3e0)]),_0x14fd2e=_0x2b33dd['findIndex'](_0x41c900=>_0x41c900===_0x29e07d)+0x1,_0x5a5b9c=_0x29e07d[_0x42ad75(0x44b)]?'ถูกต้อง!':_0x42ad75(0x576),_0x4a9b0c=_0x29e07d['lastAnswerCorrect']?_0x42ad75(0x414):'bg-red-500',_0x3481e8=_0x29e07d[_0x42ad75(0x584)]||0x0,_0xa99311=_0x42ad75(0x832),_0x287a50='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0xa99311+_0x42ad75(0x551)+_0x4a9b0c+_0x42ad75(0x3df)+_0x5a5b9c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x3481e8+_0x42ad75(0x5a1)+(_0x14fd2e>0x0?_0x14fd2e:'-')+_0x42ad75(0x17f);liveGameView[_0x42ad75(0x848)]=_0x287a50;}function createQuizFromBank(){const _0x43845f=_0x4f829b,_0x642373=document['querySelectorAll'](_0x43845f(0x191));if(_0x642373[_0x43845f(0x71e)]===0x0){showMessage(_0x43845f(0x617));return;}const _0x31a0e2=[];_0x642373['forEach'](_0x2f9d81=>{const _0x535766=_0x43845f;_0x31a0e2[_0x535766(0x91e)](JSON['parse'](_0x2f9d81[_0x535766(0x2f4)]));});const _0x318267={'topic':_0x43845f(0x36e),'questions':_0x31a0e2};displayGeneratedQuiz(_0x318267);}function showAdminLobbyView(_0x3efdcc,_0x1f9dff){const _0x156b84=_0x4f829b;showView(_0x156b84(0x849));const _0xad8fae=_0x156b84(0x804)+_0x1f9dff+_0x156b84(0x64e)+_0x3efdcc+_0x156b84(0x629);liveGameView[_0x156b84(0x848)]=_0xad8fae,document[_0x156b84(0x40e)](_0x156b84(0x7da))[_0x156b84(0x8ef)](_0x156b84(0x349),async()=>{const _0x295dd3=_0x156b84;if(!currentQuizData||!currentQuizData[_0x295dd3(0x75d)]||currentQuizData[_0x295dd3(0x75d)][_0x295dd3(0x71e)]===0x0){showMessage(_0x295dd3(0x1bc));return;}try{const _0x526a98=doc(db,_0x295dd3(0x65b)+appId+_0x295dd3(0x92c),currentLiveGameId);await updateDoc(_0x526a98,{'status':_0x295dd3(0x76e),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1fcbef=currentQuizData[_0x295dd3(0x75d)][0x0],_0x230f71=currentQuizData['questions'][_0x295dd3(0x71e)];showAdminLiveQuestionView(_0x1fcbef,0x0,_0x230f71);}catch(_0x4e9029){console[_0x295dd3(0x713)](_0x295dd3(0x8d1),_0x4e9029),showMessage(_0x295dd3(0x3b8));}});}async function openGlobalLiveModal(){const _0x545a36=_0x4f829b;if(allQuizzesGlobal[_0x545a36(0x71e)]===0x0){const _0x300de4=await getDocs(collection(db,_0x545a36(0x65b)+appId+_0x545a36(0x5fb)));allQuizzesGlobal=_0x300de4['docs'][_0x545a36(0x670)](_0x5cb98d=>({'id':_0x5cb98d['id'],..._0x5cb98d[_0x545a36(0x114)]()}));}renderGlobalQuizList(''),document[_0x545a36(0x40e)]('global-live-game-modal')['classList'][_0x545a36(0x193)]('hidden');}async function openQuizBankModal(){const _0x3eb643=_0x4f829b;if(allQuizzesGlobal[_0x3eb643(0x71e)]===0x0){const _0x3debf4=await getDocs(collection(db,_0x3eb643(0x65b)+appId+_0x3eb643(0x5fb)));allQuizzesGlobal=_0x3debf4[_0x3eb643(0x1f1)][_0x3eb643(0x670)](_0x26a249=>({'id':_0x26a249['id'],..._0x26a249[_0x3eb643(0x114)]()}));}renderQuizBankList(''),document[_0x3eb643(0x40e)](_0x3eb643(0x84e))[_0x3eb643(0x61a)][_0x3eb643(0x193)](_0x3eb643(0x64a));}function renderQuizBankList(_0x11e209=''){const _0x46f79c=_0x4f829b,_0x30fb6f=document[_0x46f79c(0x40e)](_0x46f79c(0x175)),_0x4d2e9c=_0x11e209[_0x46f79c(0x7bf)]()[_0x46f79c(0x108)](),_0xd03a0e=allQuizzesGlobal['map'](_0x1621db=>({..._0x1621db,'projectName':allProjects[_0x46f79c(0x742)](_0x347adf=>_0x347adf['id']===_0x1621db['projectId'])?.[_0x46f79c(0x943)]||'N/A'}))[_0x46f79c(0x89b)](_0x95a0de=>(_0x95a0de[_0x46f79c(0x7e9)]||'')[_0x46f79c(0x7bf)]()[_0x46f79c(0x789)](_0x4d2e9c)||(_0x95a0de[_0x46f79c(0x943)]||'')[_0x46f79c(0x7bf)]()[_0x46f79c(0x789)](_0x4d2e9c)||_0x95a0de['id'][_0x46f79c(0x6bb)]()[_0x46f79c(0x789)](_0x4d2e9c));document[_0x46f79c(0x40e)](_0x46f79c(0x33f))[_0x46f79c(0x41f)]='('+_0xd03a0e[_0x46f79c(0x71e)]+_0x46f79c(0x932),_0x30fb6f['innerHTML']=_0xd03a0e[_0x46f79c(0x71e)]?_0xd03a0e[_0x46f79c(0x670)](_0xeaf184=>_0x46f79c(0x355)+_0xeaf184['id']+_0x46f79c(0x707)+(_0xeaf184['topic']||'(ไม่มีชื่อ)')+_0x46f79c(0x681)+(_0xeaf184[_0x46f79c(0x75d)]?.['length']||0x0)+_0x46f79c(0x7d1)+_0xeaf184[_0x46f79c(0x943)]+_0x46f79c(0x2d0)+_0xeaf184['id']+_0x46f79c(0x485)+_0xeaf184['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0xeaf184['id']+_0x46f79c(0x3c2)+_0xeaf184['id']+_0x46f79c(0x7d0)+_0xeaf184['id']+_0x46f79c(0x914)+_0xeaf184['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0xeaf184['id']+_0x46f79c(0x815)+_0xeaf184[_0x46f79c(0x7e9)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x46f79c(0x14b)](''):_0x46f79c(0x5cf),_0x30fb6f['querySelectorAll'](_0x46f79c(0x64d))[_0x46f79c(0x840)](_0x430d20=>{_0x430d20['addEventListener']('click',()=>{const _0x598300=_0x9ccb,_0x307e9e=_0x430d20[_0x598300(0x850)]['id'];document[_0x598300(0x40e)](_0x598300(0x84e))['classList'][_0x598300(0x4e9)]('hidden'),showQuizDetailView(_0x307e9e);});}),_0x30fb6f['querySelectorAll'](_0x46f79c(0xec))[_0x46f79c(0x840)](_0x80e096=>{const _0x107c22=_0x46f79c;_0x80e096[_0x107c22(0x8ef)]('click',_0x2ec5c0=>{const _0x5e91ba=_0x107c22;_0x2ec5c0[_0x5e91ba(0x372)]();const _0x30fd33=_0x80e096[_0x5e91ba(0x850)]['id'],_0x574aef=allQuizzesGlobal['find'](_0xc1b8f8=>_0xc1b8f8['id']===_0x30fd33);_0x574aef?(currentQuizData=_0x574aef,document['getElementById']('quiz-bank-modal')[_0x5e91ba(0x61a)][_0x5e91ba(0x4e9)](_0x5e91ba(0x64a)),startAdminTest()):showMessage(_0x5e91ba(0x51d));});}),_0x30fb6f[_0x46f79c(0x18c)](_0x46f79c(0x1b6))[_0x46f79c(0x840)](_0x2730aa=>{const _0x11c0b2=_0x46f79c;_0x2730aa['addEventListener'](_0x11c0b2(0x349),_0x5ae080=>{const _0x3f0bc8=_0x11c0b2;_0x5ae080['stopPropagation']();const _0x51b613=_0x2730aa[_0x3f0bc8(0x850)]['id'],_0x533ef7=allQuizzesGlobal[_0x3f0bc8(0x742)](_0x39b7bb=>_0x39b7bb['id']===_0x51b613);_0x533ef7?(document[_0x3f0bc8(0x40e)](_0x3f0bc8(0x84e))[_0x3f0bc8(0x61a)]['add'](_0x3f0bc8(0x64a)),handleGenerateParallelFromBank(_0x533ef7)):showMessage(_0x3f0bc8(0x51d));});}),_0x30fb6f[_0x46f79c(0x18c)]('.quiz-bank-present-btn')['forEach'](_0x1d09e0=>{const _0x433264=_0x46f79c;_0x1d09e0[_0x433264(0x8ef)](_0x433264(0x349),_0x12e2e4=>{const _0x41d68e=_0x433264;_0x12e2e4[_0x41d68e(0x372)]();const _0x404675=_0x1d09e0['dataset']['id'],_0x4cd12b=allQuizzesGlobal['find'](_0x57a0e6=>_0x57a0e6['id']===_0x404675);_0x4cd12b?(document[_0x41d68e(0x40e)](_0x41d68e(0x84e))['classList']['add'](_0x41d68e(0x64a)),startPresentation(_0x4cd12b)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x30fb6f[_0x46f79c(0x18c)]('.quiz-bank-move-btn')[_0x46f79c(0x840)](_0x115619=>{const _0x268432=_0x46f79c;_0x115619[_0x268432(0x8ef)](_0x268432(0x349),_0x14715d=>{const _0x2253b6=_0x268432;_0x14715d['stopPropagation']();const _0x4d4dda=_0x115619[_0x2253b6(0x850)]['id'];document['getElementById'](_0x2253b6(0x84e))[_0x2253b6(0x61a)][_0x2253b6(0x4e9)]('hidden'),handleMoveQuiz(_0x4d4dda);});}),_0x30fb6f[_0x46f79c(0x18c)](_0x46f79c(0x8f6))[_0x46f79c(0x840)](_0x3ab4df=>{const _0x4dc580=_0x46f79c;_0x3ab4df[_0x4dc580(0x8ef)](_0x4dc580(0x349),_0x17bb10=>{const _0x1851a1=_0x4dc580;_0x17bb10[_0x1851a1(0x372)]();const _0x389058=_0x3ab4df[_0x1851a1(0x850)]['id'];document[_0x1851a1(0x40e)](_0x1851a1(0x84e))['classList']['add'](_0x1851a1(0x64a)),handleQuizSettings(_0x389058);});}),_0x30fb6f['querySelectorAll'](_0x46f79c(0x27b))[_0x46f79c(0x840)](_0x3a6e92=>{const _0x1fa86e=_0x46f79c;_0x3a6e92[_0x1fa86e(0x8ef)](_0x1fa86e(0x349),_0xc34374=>{const _0x369d95=_0x1fa86e;_0xc34374[_0x369d95(0x372)]();const _0x273cf5=_0x3a6e92[_0x369d95(0x850)]['id'],_0x21e883=_0x3a6e92[_0x369d95(0x850)][_0x369d95(0x7e9)];showConfirmation(_0x369d95(0x683)+_0x21e883+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x273cf5));});});}async function handleCompareResults(_0x4c8faf,_0x412cf1){const _0x5498d9=_0x4f829b,_0x43ad07=document['getElementById'](_0x5498d9(0x1ec)),_0x4ff6c2=document[_0x5498d9(0x40e)](_0x5498d9(0x343)),_0x4d946e=document[_0x5498d9(0x40e)](_0x5498d9(0x49d));document[_0x5498d9(0x40e)](_0x5498d9(0x34e))['classList'][_0x5498d9(0x4e9)]('active'),document['getElementById'](_0x5498d9(0x46b))[_0x5498d9(0x61a)]['remove'](_0x5498d9(0x36d)),_0x4ff6c2['classList']['remove'](_0x5498d9(0x64a)),_0x4d946e[_0x5498d9(0x61a)]['add'](_0x5498d9(0x64a)),_0x4ff6c2[_0x5498d9(0x848)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x4d946e[_0x5498d9(0x848)]='',_0x43ad07[_0x5498d9(0x61a)]['remove']('hidden');try{const _0x1cff9a=doc(db,'artifacts/'+appId+_0x5498d9(0x5fb),_0x4c8faf),_0xacc46c=await getDoc(_0x1cff9a);if(!_0xacc46c['exists']())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x14a231=_0xacc46c[_0x5498d9(0x114)](),_0x201557=_0x14a231[_0x5498d9(0x75d)][_0x5498d9(0x71e)],_0x34c0f6=collection(db,'artifacts/'+appId+_0x5498d9(0x351)+_0x412cf1+_0x5498d9(0x2b4)),_0x50de9d=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x4c8faf+_0x5498d9(0x2b4)),[_0x4a43d8,_0x3f04dc]=await Promise[_0x5498d9(0x791)]([getDocs(_0x34c0f6),getDocs(_0x50de9d)]),_0x2f7839=_0x4a43d8['docs'][_0x5498d9(0x670)](_0x1a3002=>_0x1a3002[_0x5498d9(0x114)]()),_0x4b93a5=_0x3f04dc[_0x5498d9(0x1f1)][_0x5498d9(0x670)](_0x17b221=>_0x17b221[_0x5498d9(0x114)]()),_0x39cf78=_0x2f7839[_0x5498d9(0x670)](_0x4ffa33=>_0x4ffa33[_0x5498d9(0x3a2)]),_0x7c9dae=_0x4b93a5[_0x5498d9(0x670)](_0x15bbd7=>_0x15bbd7['latestScore']),_0x5c98f2=calculateMeanAndStdDev(_0x39cf78),_0x2c5e9d=calculateMeanAndStdDev(_0x7c9dae),_0x506a82=_0x5c98f2[_0x5498d9(0x957)],_0x38b0d0=_0x2c5e9d[_0x5498d9(0x957)],_0x519add=_0x38b0d0-_0x506a82;let _0x3b9b38=_0x5498d9(0xea)+_0x506a82[_0x5498d9(0x3a8)](0x2)+_0x5498d9(0x376)+_0x38b0d0[_0x5498d9(0x3a8)](0x2)+_0x5498d9(0x22b)+(_0x519add>=0x0?_0x5498d9(0x100):'bg-red-100')+_0x5498d9(0x345)+(_0x519add>=0x0?_0x5498d9(0x442):_0x5498d9(0x347))+_0x5498d9(0x8ed)+(_0x519add>=0x0?_0x5498d9(0x705):_0x5498d9(0x192))+'\x22>'+(_0x519add>=0x0?'+':'')+_0x519add[_0x5498d9(0x3a8)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x4ff6c2[_0x5498d9(0x848)]=_0x3b9b38;const _0xd775cd=document['getElementById'](_0x5498d9(0x5e2))['getContext']('2d');if(chartInstances[_0x5498d9(0x5d8)])chartInstances['comparison']['destroy']();chartInstances[_0x5498d9(0x5d8)]=new Chart(_0xd775cd,{'type':_0x5498d9(0x15a),'data':{'labels':[_0x5498d9(0x964)],'datasets':[{'label':_0x5498d9(0x7e6),'data':[_0x506a82],'backgroundColor':_0x5498d9(0x609)},{'label':_0x5498d9(0x79d),'data':[_0x38b0d0],'backgroundColor':_0x5498d9(0x91b)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x201557}}}});const _0x17744a=currentProjectData[_0x5498d9(0x2af)]||[],_0x331071=_0x17744a[_0x5498d9(0x670)](_0x1aa850=>{const _0x3438d0=_0x5498d9,_0x1515f8=_0x2f7839[_0x3438d0(0x742)](_0x1f9b59=>_0x1f9b59[_0x3438d0(0x7e3)]===_0x1aa850),_0x591ddf=_0x4b93a5[_0x3438d0(0x742)](_0x57cd2b=>_0x57cd2b['studentName']===_0x1aa850),_0x11f2c7=_0x1515f8?_0x1515f8[_0x3438d0(0x3a2)]:null,_0x4fdf2c=_0x591ddf?_0x591ddf[_0x3438d0(0x3a2)]:null,_0x450ba7=_0x11f2c7!==null&&_0x4fdf2c!==null?_0x4fdf2c-_0x11f2c7:null,_0x8b1717=_0x11f2c7!==null?calculateZScore(_0x11f2c7,_0x5c98f2[_0x3438d0(0x957)],_0x5c98f2[_0x3438d0(0x880)]):null,_0x59d0f7=_0x4fdf2c!==null?calculateZScore(_0x4fdf2c,_0x2c5e9d[_0x3438d0(0x957)],_0x2c5e9d[_0x3438d0(0x880)]):null,_0x51a518=_0x8b1717!==null?calculateTScore(_0x8b1717):null,_0x4911dd=_0x59d0f7!==null?calculateTScore(_0x59d0f7):null,_0x5a8b4c=_0x51a518!==null&&_0x4911dd!==null?_0x4911dd-_0x51a518:null;return{'name':_0x1aa850,'preScore':_0x11f2c7,'postScore':_0x4fdf2c,'gain':_0x450ba7,'preTScore':_0x51a518,'postTScore':_0x4911dd,'tGain':_0x5a8b4c};});renderIndividualComparisonTable(_0x331071,_0x4d946e);}catch(_0x3e9168){console['error'](_0x5498d9(0x6b3),_0x3e9168),_0x4ff6c2['innerHTML']=_0x5498d9(0x283);}}function displayHalfMarkResult(_0x181be6,_0x3bfda8){const _0x17088d=_0x4f829b,_0x5d7df3=_0x181be6>=_0x3bfda8/0x2,_0x2b7d64=_0x5d7df3?'bg-green-100':_0x17088d(0x786),_0x1e706d=_0x5d7df3?_0x17088d(0x8b7):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x4b7b5d=_0x5d7df3?_0x17088d(0x465):'text-red-800',_0xd56ffb=_0x5d7df3?_0x17088d(0x5de):_0x17088d(0x38c),_0x4c7a1e=_0x5d7df3?_0x17088d(0x2ba):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x2d819d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x2b7d64+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e706d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x4b7b5d+'\x20mb-2\x22>'+_0xd56ffb+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x4c7a1e+_0x17088d(0x3e7);studentResultArea[_0x17088d(0x848)]=_0x2d819d,studentResultArea[_0x17088d(0x61a)][_0x17088d(0x193)](_0x17088d(0x64a)),studentQuizArea[_0x17088d(0x61a)][_0x17088d(0x4e9)](_0x17088d(0x64a)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x5d7df3});}function displayPerfectScoreResult(_0x2aff1b,_0x40391e){const _0xc91f24=_0x4f829b,_0x1e0a11=_0x2aff1b===_0x40391e,_0x39db81=_0x1e0a11?'bg-yellow-100':'bg-blue-100',_0x456e8a=_0x1e0a11?_0xc91f24(0x7a5):_0xc91f24(0x8d0),_0x7183b8=_0x1e0a11?_0xc91f24(0x640):_0xc91f24(0x762),_0x4fd656=_0x1e0a11?_0xc91f24(0x181):_0xc91f24(0x57e),_0x201d73=_0x1e0a11?_0xc91f24(0x7bb):_0xc91f24(0x953);let _0x213279=_0xc91f24(0x212)+_0x39db81+_0xc91f24(0x1c6)+_0x456e8a+_0xc91f24(0x606)+_0x7183b8+'\x20mb-2\x22>'+_0x4fd656+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x201d73+_0xc91f24(0x3e7);studentResultArea[_0xc91f24(0x848)]=_0x213279,studentResultArea[_0xc91f24(0x61a)][_0xc91f24(0x193)](_0xc91f24(0x64a)),studentQuizArea[_0xc91f24(0x61a)][_0xc91f24(0x4e9)](_0xc91f24(0x64a)),setupResultScreenBackButton({'showRankings':![],'score':_0x2aff1b,'totalQuestions':_0x40391e});}function renderIndividualComparisonTable(_0xd2cb25,_0xa07228){const _0x5930c1=_0x4f829b;_0xd2cb25[_0x5930c1(0x831)]((_0x2de1ea,_0x5efe67)=>(_0x5efe67['tGain']??-Infinity)-(_0x2de1ea['tGain']??-Infinity));let _0xc4e633='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0xd2cb25[_0x5930c1(0x71e)]===0x0?_0xc4e633+=_0x5930c1(0x5ea):_0xd2cb25['forEach']((_0x5f2e32,_0x5441c8)=>{const _0x398b7c=_0x5930c1;let _0x3032cc='-',_0x2b31aa='';if(_0x5f2e32['gain']!==null){const _0x256135=_0x5f2e32['gain']>0x0?_0x398b7c(0x715):_0x5f2e32['gain']<0x0?_0x398b7c(0x8c8):_0x398b7c(0x365),_0x239f87=_0x5f2e32[_0x398b7c(0x8b4)]>0x0?'+':'';_0x3032cc=_0x398b7c(0x47a)+_0x256135+'\x22>'+_0x239f87+_0x5f2e32['gain']+_0x398b7c(0x415);if(_0x5f2e32[_0x398b7c(0x8b4)]>0x0)_0x2b31aa='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x5f2e32['gain']<0x0?_0x2b31aa=_0x398b7c(0x403):_0x2b31aa=_0x398b7c(0x6af);}let _0x19b23f='-';if(_0x5f2e32['tGain']!==null){const _0x231b32=_0x5f2e32['tGain']>0x0?'text-green-600':_0x5f2e32[_0x398b7c(0x903)]<0x0?_0x398b7c(0x8c8):_0x398b7c(0x365),_0x49ab2e=_0x5f2e32[_0x398b7c(0x903)]>0x0?'+':'';_0x19b23f='<span\x20class=\x22font-bold\x20'+_0x231b32+'\x22>'+_0x49ab2e+_0x5f2e32['tGain']['toFixed'](0x2)+_0x398b7c(0x415);}_0xc4e633+=_0x398b7c(0x48b)+(_0x5441c8+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x5f2e32[_0x398b7c(0x3ab)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x5f2e32[_0x398b7c(0x314)]??'-')+_0x398b7c(0x93d)+(_0x5f2e32[_0x398b7c(0x740)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x3032cc+_0x398b7c(0x532)+_0x2b31aa+_0x398b7c(0x81f)+(_0x5f2e32[_0x398b7c(0x1bd)]?.[_0x398b7c(0x3a8)](0x2)??'-')+_0x398b7c(0x658)+(_0x5f2e32[_0x398b7c(0x2d5)]?.[_0x398b7c(0x3a8)](0x2)??'-')+_0x398b7c(0x96b)+_0x19b23f+_0x398b7c(0x4d8);}),_0xc4e633+=_0x5930c1(0x45d),_0xa07228[_0x5930c1(0x848)]=_0xc4e633;}function handleRenameQuiz(_0xb18c18,_0x2f306f){const _0x3b3786=_0x4f829b;actionTargetId=_0xb18c18,document[_0x3b3786(0x40e)](_0x3b3786(0x82a))[_0x3b3786(0x2f4)]=_0x2f306f,renameQuizModal['classList'][_0x3b3786(0x193)]('hidden');}function setupComparisonModalTabs(){const _0x558cb7=_0x4f829b,_0x4a3f7a=document['getElementById'](_0x558cb7(0x34e)),_0x42760d=document[_0x558cb7(0x40e)](_0x558cb7(0x46b)),_0x542230=document[_0x558cb7(0x40e)](_0x558cb7(0x343)),_0x3df975=document[_0x558cb7(0x40e)](_0x558cb7(0x49d));_0x4a3f7a[_0x558cb7(0x8ef)](_0x558cb7(0x349),()=>{const _0x59a3ae=_0x558cb7;_0x4a3f7a[_0x59a3ae(0x61a)][_0x59a3ae(0x4e9)]('active'),_0x42760d['classList']['remove'](_0x59a3ae(0x36d)),_0x542230[_0x59a3ae(0x61a)][_0x59a3ae(0x193)](_0x59a3ae(0x64a)),_0x3df975[_0x59a3ae(0x61a)][_0x59a3ae(0x4e9)](_0x59a3ae(0x64a));}),_0x42760d['addEventListener'](_0x558cb7(0x349),()=>{const _0xf5593c=_0x558cb7;_0x42760d['classList'][_0xf5593c(0x4e9)](_0xf5593c(0x36d)),_0x4a3f7a[_0xf5593c(0x61a)][_0xf5593c(0x193)](_0xf5593c(0x36d)),_0x3df975[_0xf5593c(0x61a)][_0xf5593c(0x193)]('hidden'),_0x542230[_0xf5593c(0x61a)][_0xf5593c(0x4e9)](_0xf5593c(0x64a));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x3795da=''){const _0x4b0a80=_0x4f829b,_0xe58e2e=document[_0x4b0a80(0x40e)](_0x4b0a80(0x304)),_0xdf8cad=_0x3795da[_0x4b0a80(0x7bf)]()['trim'](),_0x498dcd=allQuizzesGlobal[_0x4b0a80(0x670)](_0x186e72=>({..._0x186e72,'projectName':allProjects[_0x4b0a80(0x742)](_0x46d856=>_0x46d856['id']===_0x186e72['projectId'])?.[_0x4b0a80(0x943)]||_0x186e72[_0x4b0a80(0x6ad)]}))[_0x4b0a80(0x89b)](_0x787ab0=>(_0x787ab0[_0x4b0a80(0x7e9)]||'')[_0x4b0a80(0x7bf)]()['includes'](_0xdf8cad)||(_0x787ab0[_0x4b0a80(0x943)]||'')[_0x4b0a80(0x7bf)]()[_0x4b0a80(0x789)](_0xdf8cad));document['getElementById'](_0x4b0a80(0x772))['textContent']='('+_0x498dcd[_0x4b0a80(0x71e)]+_0x4b0a80(0x932),_0xe58e2e[_0x4b0a80(0x848)]=_0x498dcd['length']?_0x498dcd[_0x4b0a80(0x670)](_0x5d6aa4=>_0x4b0a80(0x50e)+_0x5d6aa4['id']+_0x4b0a80(0x85e)+(_0x5d6aa4[_0x4b0a80(0x7e9)]||_0x4b0a80(0xff))+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x5d6aa4['questions']?.[_0x4b0a80(0x71e)]||0x0)+_0x4b0a80(0x22c)+_0x5d6aa4[_0x4b0a80(0x943)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')[_0x4b0a80(0x14b)](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document[_0x4b0a80(0x40e)](_0x4b0a80(0x801))[_0x4b0a80(0x1e2)]=!![],_0xe58e2e[_0x4b0a80(0x18c)](_0x4b0a80(0x516))[_0x4b0a80(0x840)](_0x491424=>{const _0xc1d575=_0x4b0a80;_0x491424[_0xc1d575(0x8ef)](_0xc1d575(0x349),()=>{const _0x14c768=_0xc1d575;selectedGlobalQuizId=_0x491424[_0x14c768(0x850)]['id'],_0xe58e2e[_0x14c768(0x18c)](_0x14c768(0x89f))[_0x14c768(0x840)](_0x3cf818=>_0x3cf818[_0x14c768(0x61a)][_0x14c768(0x193)](_0x14c768(0x31b),'ring-2',_0x14c768(0x8bb))),_0x491424[_0x14c768(0x61a)][_0x14c768(0x4e9)](_0x14c768(0x31b),_0x14c768(0x700),_0x14c768(0x8bb)),document['getElementById'](_0x14c768(0x801))[_0x14c768(0x1e2)]=![];});});}function listenForLiveGameUpdates(){const _0x4adc9c=_0x4f829b;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3a11ca=doc(db,'artifacts/'+appId+_0x4adc9c(0x92c),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3a11ca,_0x21fda1=>{const _0x13822d=_0x4adc9c;if(!_0x21fda1[_0x13822d(0x2ca)]()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x44c7b5=_0x21fda1['data']();_0x44c7b5[_0x13822d(0x66c)]&&(currentQuizData=_0x44c7b5['shuffledQuiz']);!currentQuizData&&_0x44c7b5[_0x13822d(0x501)]&&((async()=>{const _0x4e464f=_0x13822d;try{const _0x39f6d9=doc(db,_0x4e464f(0x65b)+appId+_0x4e464f(0x5fb),_0x44c7b5[_0x4e464f(0x501)]),_0x3b9d74=await getDoc(_0x39f6d9);_0x3b9d74[_0x4e464f(0x2ca)]()&&(currentQuizData={'id':_0x3b9d74['id'],..._0x3b9d74[_0x4e464f(0x114)]()});}catch(_0x4fa0d8){console[_0x4e464f(0x713)](_0x4e464f(0x6db),_0x4fa0d8);}})());switch(_0x44c7b5[_0x13822d(0x29a)]){case'lobby':if(currentMode===_0x13822d(0x7ec)){const _0x233beb=_0x44c7b5[_0x13822d(0x5c4)]?Object[_0x13822d(0x2eb)](_0x44c7b5['players']):[],_0x32250e=_0x233beb[_0x13822d(0x89b)](([_0x3152c0,_0x428632])=>_0x428632[_0x13822d(0x29a)]===_0x13822d(0x36d)),_0x29c654=document['getElementById'](_0x13822d(0x244));if(_0x29c654)_0x29c654[_0x13822d(0x41f)]=_0x32250e[_0x13822d(0x71e)];const _0x3d9b0d=document[_0x13822d(0x40e)](_0x13822d(0x10e));_0x3d9b0d&&(_0x3d9b0d[_0x13822d(0x848)]=_0x32250e['map'](([_0x1abea7,_0x2f079c])=>_0x13822d(0x321)+_0x1abea7+_0x13822d(0x6ed)+_0x1abea7+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x13822d(0x14b)](''));const _0x3099d7=document[_0x13822d(0x40e)](_0x13822d(0x7da));_0x3099d7&&(_0x3099d7['disabled']=_0x32250e[_0x13822d(0x71e)]===0x0);}else showView('live-game'),liveGameView[_0x13822d(0x848)]=_0x13822d(0x19f)+currentStudentName+_0x13822d(0x472);break;case _0x13822d(0x76e):const _0x18edb9=_0x44c7b5['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x13822d(0x75d)][_0x18edb9]){const _0x25d53b=currentQuizData['questions'][_0x18edb9],_0x4512cd=_0x44c7b5[_0x13822d(0x7c7)]||_0x13822d(0x6aa);switch(_0x4512cd){case _0x13822d(0x6e0):currentMode===_0x13822d(0x7ec)?showAdminSummaryView(_0x44c7b5,_0x25d53b):showPlayerSummaryView(_0x44c7b5,currentStudentName);break;case _0x13822d(0x480):currentMode===_0x13822d(0x7ec)&&showTop5LeaderboardView(_0x44c7b5);break;case'answering':default:if(currentMode===_0x13822d(0x7ec)){const _0x4220ab=writeBatch(db);let _0x2f78fb=![];Object[_0x13822d(0x2eb)](_0x44c7b5['players'])['forEach'](([_0x3e60df,_0x52f2c9])=>{const _0x27f817=_0x13822d;if(_0x52f2c9[_0x27f817(0x29a)]==='active'&&_0x52f2c9['submittedAt']&&!_0x52f2c9[_0x27f817(0x555)]){_0x2f78fb=!![];const _0x2438ce=_0x52f2c9[_0x27f817(0x642)][_0x27f817(0x62c)]()-_0x44c7b5[_0x27f817(0x668)][_0x27f817(0x62c)]();let _0x1e4589=0x0;if(_0x52f2c9[_0x27f817(0x44b)]){const _0x2d36d9=0x3e8,_0x7aed43=0x1f4,_0x18898b=0x4e20;let _0x3cef14=_0x2438ce/_0x18898b;if(_0x3cef14>0x1)_0x3cef14=0x1;const _0x1997bc=Math[_0x27f817(0x698)](_0x3cef14*_0x7aed43);_0x1e4589=_0x2d36d9-_0x1997bc;}const _0x1625e8=doc(db,_0x27f817(0x65b)+appId+_0x27f817(0x92c),currentLiveGameId);_0x4220ab[_0x27f817(0x809)](_0x1625e8,{[_0x27f817(0x412)+_0x3e60df+_0x27f817(0x162)]:increment(_0x1e4589),['players.'+_0x3e60df+'.pointsLastQuestion']:_0x1e4589,[_0x27f817(0x412)+_0x3e60df+_0x27f817(0x8be)]:!![]});}});_0x2f78fb&&_0x4220ab['commit']()[_0x13822d(0x814)](_0x22ef29=>console[_0x13822d(0x713)]('Error\x20committing\x20score\x20updates:',_0x22ef29));lastRenderedAdminQuestionIndex!==_0x18edb9&&(showAdminLiveQuestionView(_0x25d53b,_0x18edb9,currentQuizData[_0x13822d(0x75d)][_0x13822d(0x71e)]),lastRenderedAdminQuestionIndex=_0x18edb9);const _0x46a666=_0x44c7b5[_0x13822d(0x5c4)]||{},_0x3bc765=Object[_0x13822d(0x4cc)](_0x46a666)[_0x13822d(0x89b)](_0x2f0899=>_0x2f0899['status']==='active'),_0x3f104a=_0x3bc765['length'],_0x44cde3=_0x3bc765['filter'](_0x2c0c34=>_0x2c0c34[_0x13822d(0x8bd)]===!![])['length'],_0x120d2b=document['getElementById'](_0x13822d(0x569));if(_0x120d2b)_0x120d2b[_0x13822d(0x41f)]=_0x44cde3+'/'+_0x3f104a;const _0x5380cb=document['getElementById']('live-player-list');if(_0x5380cb){let _0x55007c=Object[_0x13822d(0x2eb)](_0x46a666)[_0x13822d(0x89b)](([_0x5c50fa,_0x3c6e20])=>_0x3c6e20[_0x13822d(0x29a)]===_0x13822d(0x36d))[_0x13822d(0x670)](([_0x2e0692,_0x31aea2])=>{const _0xc11247=_0x13822d,_0x52b76f=_0x31aea2[_0xc11247(0x8bd)]===!![],_0x3a6948=_0x52b76f?_0xc11247(0x414):_0xc11247(0x4e4),_0xbf74ae=_0x52b76f?_0xc11247(0x183):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0xc11247(0x1fc)+_0x3a6948+_0xc11247(0x855)+_0xbf74ae+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2e0692+_0xc11247(0x7b1)+_0x2e0692+_0xc11247(0x694);})[_0x13822d(0x14b)]('');_0x5380cb[_0x13822d(0x848)]=_0x55007c||_0x13822d(0x955);}_0x3f104a>0x0&&_0x44cde3===_0x3f104a&&revealAnswerForAdmin(_0x18edb9,currentQuizData[_0x13822d(0x75d)][_0x13822d(0x71e)]);}else{const _0x422483=_0x44c7b5[_0x13822d(0x5c4)][currentStudentName];_0x422483&&!_0x422483[_0x13822d(0x8bd)]&&showStudentLiveQuestionView(_0x25d53b,_0x18edb9,currentQuizData['questions'][_0x13822d(0x71e)]);}break;}}break;case _0x13822d(0x498):showPodiumView(_0x44c7b5[_0x13822d(0x5c4)]);break;}});}async function handleKickPlayer(_0x14edc0){const _0x37864b=_0x4f829b;if(!currentLiveGameId||!_0x14edc0)return;const _0x3ce77e=doc(db,'artifacts/'+appId+_0x37864b(0x92c),currentLiveGameId),_0x4ec192={};_0x4ec192['players.'+_0x14edc0+_0x37864b(0x8ac)]='inactive';try{await updateDoc(_0x3ce77e,_0x4ec192);}catch(_0x52dee4){console[_0x37864b(0x713)](_0x37864b(0x2ec)+_0x14edc0+':',_0x52dee4),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x32c3bb=_0x4f829b;try{typeof __initial_auth_token!==_0x32c3bb(0x519)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x19f717){console[_0x32c3bb(0x713)](_0x32c3bb(0x54f),_0x19f717),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x4bffc5){const _0x47968c=_0x4f829b,_0x253ea6=[_0x47968c(0x490),_0x47968c(0x948),_0x47968c(0x5bb),_0x47968c(0x3c0),'quiz-results-view',_0x47968c(0x405),_0x47968c(0x709)];_0x253ea6[_0x47968c(0x840)](_0x5cc894=>document[_0x47968c(0x40e)](_0x5cc894)?.[_0x47968c(0x61a)][_0x47968c(0x4e9)](_0x47968c(0x64a)));if(_0x4bffc5===_0x47968c(0x331))adminView[_0x47968c(0x61a)]['remove'](_0x47968c(0x64a)),projectDashboardView[_0x47968c(0x61a)][_0x47968c(0x193)]('hidden');else{if(_0x4bffc5===_0x47968c(0x140))studentView[_0x47968c(0x61a)]['remove']('hidden'),studentInitialView[_0x47968c(0x61a)][_0x47968c(0x193)](_0x47968c(0x64a)),studentNameSelectionView['classList'][_0x47968c(0x4e9)](_0x47968c(0x64a)),studentQuizArea['classList'][_0x47968c(0x4e9)](_0x47968c(0x64a)),studentResultArea[_0x47968c(0x61a)][_0x47968c(0x4e9)](_0x47968c(0x64a)),studentReadingArea[_0x47968c(0x61a)][_0x47968c(0x4e9)](_0x47968c(0x64a)),studentJoinGameView[_0x47968c(0x61a)]['add']('hidden');else{if(_0x4bffc5==='project-detail')adminView[_0x47968c(0x61a)][_0x47968c(0x193)](_0x47968c(0x64a)),projectDetailView['classList'][_0x47968c(0x193)]('hidden');else{if(_0x4bffc5===_0x47968c(0x7fc))adminView[_0x47968c(0x61a)][_0x47968c(0x193)]('hidden'),quizResultsView['classList']['remove']('hidden');else _0x4bffc5===_0x47968c(0x849)&&liveGameView[_0x47968c(0x61a)]['remove'](_0x47968c(0x64a));}}}}function showJoinGameView(){const _0x4d143c=_0x4f829b;studentInitialView[_0x4d143c(0x61a)]['add']('hidden'),studentJoinGameView[_0x4d143c(0x61a)][_0x4d143c(0x193)](_0x4d143c(0x64a));}async function handleSaveVisibilitySettings(){const _0x3534c9=_0x4f829b;if(!currentProjectId)return;const _0x5939f9=doc(db,_0x3534c9(0x65b)+appId+_0x3534c9(0x6fe),currentProjectId);try{await updateDoc(_0x5939f9,{'settings.showInStudentDashboard':document[_0x3534c9(0x40e)](_0x3534c9(0x8f3))[_0x3534c9(0x137)],'settings.isPasscodeEnabled':document[_0x3534c9(0x40e)]('enable-passcode-checkbox')[_0x3534c9(0x137)],'settings.passcode':document['getElementById']('project-passcode-input')['value'][_0x3534c9(0x108)]()}),showMessage(_0x3534c9(0x6f3));}catch(_0x5d87b5){console[_0x3534c9(0x713)]('Error\x20saving\x20visibility\x20settings:',_0x5d87b5),showMessage(_0x3534c9(0x610));}}function setupEventListeners(){const _0x32f345=_0x4f829b,_0x54da0f=document[_0x32f345(0x40e)](_0x32f345(0x405));_0x54da0f[_0x32f345(0x8ef)](_0x32f345(0x349),_0x333d4d=>{const _0x554e30=_0x32f345,_0x4cb55c=_0x333d4d[_0x554e30(0x261)][_0x554e30(0x871)]('.summary-bar-item');document[_0x554e30(0x18c)](_0x554e30(0x6a2))[_0x554e30(0x840)](_0x380a6b=>{const _0x6ff7e5=_0x554e30;(!_0x4cb55c||_0x380a6b['id']!==_0x4cb55c[_0x6ff7e5(0x850)][_0x6ff7e5(0x6b5)])&&_0x380a6b[_0x6ff7e5(0x61a)][_0x6ff7e5(0x193)](_0x6ff7e5(0x3fb));});if(!_0x4cb55c)return;const _0x71fe94=_0x4cb55c[_0x554e30(0x850)][_0x554e30(0x6b5)],_0x3e0032=document[_0x554e30(0x40e)](_0x71fe94);_0x3e0032&&_0x3e0032['classList'][_0x554e30(0x2e0)](_0x554e30(0x3fb));}),_0x54da0f[_0x32f345(0x8ef)](_0x32f345(0x349),_0x36aa14=>{const _0x2d0992=_0x32f345;if(_0x36aa14['target'][_0x2d0992(0x61a)][_0x2d0992(0x624)](_0x2d0992(0x164))){const _0x4f3b18=_0x36aa14[_0x2d0992(0x261)][_0x2d0992(0x850)][_0x2d0992(0x6c6)];_0x4f3b18&&handleKickPlayer(_0x4f3b18);}}),document[_0x32f345(0x40e)](_0x32f345(0x8b8))['addEventListener']('focus',()=>document['getElementById'](_0x32f345(0x69a))[_0x32f345(0x61a)][_0x32f345(0x193)](_0x32f345(0x64a))),document[_0x32f345(0x40e)](_0x32f345(0x69a))['addEventListener'](_0x32f345(0x349),handleSaveProjectName),document['getElementById'](_0x32f345(0x8b8))['addEventListener'](_0x32f345(0x5d1),_0x2a3ef8=>{const _0x977c7b=_0x32f345;_0x2a3ef8[_0x977c7b(0x225)]===_0x977c7b(0x22a)&&(_0x2a3ef8[_0x977c7b(0x65f)](),_0x2a3ef8['target'][_0x977c7b(0x41b)](),handleSaveProjectName());}),document[_0x32f345(0x40e)](_0x32f345(0x3c4))[_0x32f345(0x8ef)]('click',()=>{const _0x42193a=_0x32f345;document[_0x42193a(0x40e)](_0x42193a(0x74c))[_0x42193a(0x61a)][_0x42193a(0x193)](_0x42193a(0x64a));}),document[_0x32f345(0x40e)](_0x32f345(0x378))[_0x32f345(0x8ef)](_0x32f345(0x349),()=>{const _0x17f687=_0x32f345;document[_0x17f687(0x40e)](_0x17f687(0x74c))[_0x17f687(0x61a)][_0x17f687(0x4e9)](_0x17f687(0x64a));}),document['getElementById'](_0x32f345(0x6a7))[_0x32f345(0x8ef)](_0x32f345(0x349),handleBulkUpdateQuizSettings),document['getElementById'](_0x32f345(0x89e))[_0x32f345(0x8ef)]('click',handleModeSwitch),document[_0x32f345(0x40e)]('update-old-quizzes-btn')[_0x32f345(0x8ef)](_0x32f345(0x349),handleUpdateOldQuizzes),document[_0x32f345(0x40e)](_0x32f345(0x121))['addEventListener'](_0x32f345(0x349),handleResetProjectOrder),document[_0x32f345(0x40e)](_0x32f345(0x54c))[_0x32f345(0x8ef)](_0x32f345(0x349),handleSaveVisibilitySettings),document['getElementById']('add-custom-math-topic-btn')[_0x32f345(0x8ef)]('click',handleAddCustomMathTopic),document[_0x32f345(0x40e)](_0x32f345(0x80b))[_0x32f345(0x8ef)](_0x32f345(0x349),handleSelectAllTopics),document[_0x32f345(0x40e)]('deselect-all-topics-btn')['addEventListener'](_0x32f345(0x349),handleDeselectAllTopics),document[_0x32f345(0x40e)]('back-to-dashboard-btn')[_0x32f345(0x8ef)](_0x32f345(0x349),()=>{const _0x579a1d=_0x32f345;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x579a1d(0x331));}),document[_0x32f345(0x40e)](_0x32f345(0x2fa))[_0x32f345(0x8ef)](_0x32f345(0x349),()=>{const _0x3ea6d4=_0x32f345;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x3ea6d4(0x561));}),document['getElementById']('back-to-dashboard-from-results-btn')[_0x32f345(0x8ef)](_0x32f345(0x349),()=>{const _0x18eb08=_0x32f345;showView(_0x18eb08(0x331));}),document[_0x32f345(0x40e)](_0x32f345(0x2d4))[_0x32f345(0x8ef)](_0x32f345(0x349),()=>{const _0x376413=_0x32f345;messageModal[_0x376413(0x61a)][_0x376413(0x4e9)](_0x376413(0x64a)),typeof modalConfirmAction===_0x376413(0x4ed)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x32f345(0x40e)](_0x32f345(0x604))['addEventListener'](_0x32f345(0x349),()=>createProjectModal[_0x32f345(0x61a)]['remove'](_0x32f345(0x64a))),document[_0x32f345(0x40e)](_0x32f345(0x712))[_0x32f345(0x8ef)]('click',()=>createProjectModal[_0x32f345(0x61a)][_0x32f345(0x4e9)](_0x32f345(0x64a))),document[_0x32f345(0x40e)](_0x32f345(0x208))['addEventListener'](_0x32f345(0x349),()=>adminPasswordModal[_0x32f345(0x61a)][_0x32f345(0x4e9)](_0x32f345(0x64a))),document[_0x32f345(0x40e)](_0x32f345(0x53a))[_0x32f345(0x8ef)](_0x32f345(0x349),handleAdminLogin),document[_0x32f345(0x40e)](_0x32f345(0x312))[_0x32f345(0x8ef)](_0x32f345(0x3ec),_0x5c03b8=>{const _0x3ce5cd=_0x32f345;if(_0x5c03b8[_0x3ce5cd(0x225)]==='Enter')handleAdminLogin();}),document[_0x32f345(0x40e)]('cancel-delete-btn')['addEventListener'](_0x32f345(0x349),()=>{const _0xd4b30e=_0x32f345;confirmationModal[_0xd4b30e(0x61a)][_0xd4b30e(0x4e9)](_0xd4b30e(0x64a)),confirmAction=null;}),document[_0x32f345(0x40e)](_0x32f345(0x5ed))['addEventListener'](_0x32f345(0x349),()=>{const _0x3fdc5b=_0x32f345;confirmAction&&confirmAction(),confirmationModal[_0x3fdc5b(0x61a)][_0x3fdc5b(0x4e9)](_0x3fdc5b(0x64a)),confirmAction=null;}),document[_0x32f345(0x40e)](_0x32f345(0x47c))[_0x32f345(0x8ef)](_0x32f345(0x349),()=>renameQuizModal[_0x32f345(0x61a)][_0x32f345(0x4e9)]('hidden')),document['getElementById'](_0x32f345(0x423))[_0x32f345(0x8ef)]('click',confirmRenameQuiz),document[_0x32f345(0x40e)](_0x32f345(0x455))['addEventListener'](_0x32f345(0x349),()=>moveQuizModal[_0x32f345(0x61a)][_0x32f345(0x4e9)]('hidden')),document['getElementById']('confirm-move-quiz-btn')['addEventListener'](_0x32f345(0x349),confirmMoveQuiz),document[_0x32f345(0x40e)](_0x32f345(0x287))['addEventListener'](_0x32f345(0x349),()=>quizSettingsModal['classList'][_0x32f345(0x4e9)](_0x32f345(0x64a))),document['getElementById'](_0x32f345(0x451))[_0x32f345(0x8ef)](_0x32f345(0x349),confirmQuizSettings),document[_0x32f345(0x40e)]('cancel-quiz-status-btn')['addEventListener'](_0x32f345(0x349),()=>quizStatusModal[_0x32f345(0x61a)][_0x32f345(0x4e9)](_0x32f345(0x64a))),document['getElementById'](_0x32f345(0x346))[_0x32f345(0x8ef)](_0x32f345(0x349),confirmQuizStatus);const _0x22bee3=document[_0x32f345(0x40e)](_0x32f345(0x531));document['getElementById'](_0x32f345(0x920))[_0x32f345(0x8ef)](_0x32f345(0x349),()=>{const _0x5ddba0=_0x32f345;_0x22bee3['classList']['add'](_0x5ddba0(0x64a));}),document[_0x32f345(0x40e)](_0x32f345(0x419))['addEventListener'](_0x32f345(0x349),async()=>{const _0x3ff021=_0x32f345,_0x5adca4=allQuizzes['find'](_0x5f3766=>_0x5f3766['id']===actionTargetId);_0x5adca4?(currentQuizData=_0x5adca4,exportQuizAsWorksheetPDF()):showMessage(_0x3ff021(0x51d)),_0x22bee3[_0x3ff021(0x61a)]['add'](_0x3ff021(0x64a));}),document[_0x32f345(0x40e)]('export-tutor-pdf-btn')[_0x32f345(0x8ef)](_0x32f345(0x349),async()=>{const _0x1de87c=_0x32f345,_0x41da9d=allQuizzes[_0x1de87c(0x742)](_0x94ba86=>_0x94ba86['id']===actionTargetId);_0x41da9d?(currentQuizData=_0x41da9d,exportQuizAsTutorPDF()):showMessage(_0x1de87c(0x51d)),_0x22bee3['classList'][_0x1de87c(0x4e9)](_0x1de87c(0x64a));}),document['getElementById'](_0x32f345(0x8d3))[_0x32f345(0x8ef)]('click',openGlobalLiveModal),document['getElementById'](_0x32f345(0x770))[_0x32f345(0x8ef)]('click',()=>{const _0x5ed8a9=_0x32f345;document['getElementById'](_0x5ed8a9(0x36c))[_0x5ed8a9(0x61a)][_0x5ed8a9(0x4e9)](_0x5ed8a9(0x64a)),selectedGlobalQuizId=null;}),document[_0x32f345(0x40e)](_0x32f345(0x4a6))[_0x32f345(0x8ef)](_0x32f345(0x6b0),_0x476be7=>renderGlobalQuizList(_0x476be7[_0x32f345(0x261)]['value'])),document['getElementById'](_0x32f345(0x801))[_0x32f345(0x8ef)](_0x32f345(0x349),()=>{const _0x59d0d6=_0x32f345,_0xabfcb6=selectedGlobalQuizId;if(!_0xabfcb6)return;document[_0x59d0d6(0x40e)]('global-live-game-modal')['classList'][_0x59d0d6(0x4e9)](_0x59d0d6(0x64a)),handleStartLiveRace(_0xabfcb6);}),document[_0x32f345(0x40e)](_0x32f345(0x4e8))[_0x32f345(0x8ef)](_0x32f345(0x6b0),renderProjects),document[_0x32f345(0x40e)](_0x32f345(0x654))[_0x32f345(0x8ef)](_0x32f345(0x603),async()=>{const _0x54edb3=_0x32f345,_0x16e204=document[_0x54edb3(0x40e)](_0x54edb3(0x654))[_0x54edb3(0x2f4)],_0x168a6b=doc(db,_0x54edb3(0x1de),_0x54edb3(0x90b));try{await setDoc(_0x168a6b,{'projectSort':_0x16e204},{'merge':!![]});}catch(_0x5b4832){console[_0x54edb3(0x713)](_0x54edb3(0x7a9),_0x5b4832),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x32f345(0x40e)](_0x32f345(0x806))['addEventListener']('input',renderQuizzes),document[_0x32f345(0x40e)](_0x32f345(0x811))[_0x32f345(0x8ef)]('click',()=>{const _0x2c1a50=_0x32f345;globalDashboardSettings[_0x2c1a50(0x52d)]='grid',saveUserPreference(_0x2c1a50(0x52d),_0x2c1a50(0x7fe)),renderProjects();}),document[_0x32f345(0x40e)](_0x32f345(0x53b))[_0x32f345(0x8ef)](_0x32f345(0x349),()=>{const _0x239250=_0x32f345;globalDashboardSettings['projectView']=_0x239250(0x368),saveUserPreference(_0x239250(0x52d),_0x239250(0x368)),renderProjects();}),manageTab[_0x32f345(0x8ef)](_0x32f345(0x349),()=>switchProjectTab('manage')),resultsTab['addEventListener']('click',()=>switchProjectTab(_0x32f345(0x399))),leaderboardTab['addEventListener']('click',()=>switchProjectTab(_0x32f345(0x480))),document['getElementById']('analytics-tab-btn')['addEventListener'](_0x32f345(0x349),()=>switchQuizDetailTab('analytics')),document[_0x32f345(0x40e)]('scores-tab-btn')[_0x32f345(0x8ef)](_0x32f345(0x349),()=>switchQuizDetailTab(_0x32f345(0x1d9))),document[_0x32f345(0x40e)](_0x32f345(0x141))[_0x32f345(0x8ef)]('click',()=>switchQuizDetailTab(_0x32f345(0x891))),document['getElementById'](_0x32f345(0x4a8))[_0x32f345(0x8ef)](_0x32f345(0x349),()=>switchQuizDetailTab('behavior-log')),document['getElementById']('analyze-strengths-btn')[_0x32f345(0x8ef)]('click',handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x32f345(0x349),generateWorksheet);const _0x56bb07=document[_0x32f345(0x40e)](_0x32f345(0x614)),_0x15aa19=document['getElementById'](_0x32f345(0x4af)),_0x3d76ad=document[_0x32f345(0x40e)](_0x32f345(0x95f)),_0x40a8cf=document[_0x32f345(0x40e)](_0x32f345(0x41e)),_0x38c730=document[_0x32f345(0x40e)]('parallel-test-tab'),_0x2a351e=document[_0x32f345(0x40e)](_0x32f345(0x41d));topicTab[_0x32f345(0x8ef)]('click',()=>{const _0x23f3ef=_0x32f345;topicTab[_0x23f3ef(0x61a)]['add'](_0x23f3ef(0x36d)),textTab[_0x23f3ef(0x61a)][_0x23f3ef(0x193)]('active'),fileTab[_0x23f3ef(0x61a)][_0x23f3ef(0x193)](_0x23f3ef(0x36d)),worksheetTab[_0x23f3ef(0x61a)]['remove']('active');if(_0x56bb07)_0x56bb07[_0x23f3ef(0x61a)][_0x23f3ef(0x193)]('active');if(_0x3d76ad)_0x3d76ad['classList'][_0x23f3ef(0x193)](_0x23f3ef(0x36d));if(_0x38c730)_0x38c730[_0x23f3ef(0x61a)][_0x23f3ef(0x193)]('active');topicInputArea['classList'][_0x23f3ef(0x193)](_0x23f3ef(0x64a)),textInputArea[_0x23f3ef(0x61a)][_0x23f3ef(0x4e9)]('hidden'),fileInputArea[_0x23f3ef(0x61a)][_0x23f3ef(0x4e9)]('hidden'),worksheetInputArea[_0x23f3ef(0x61a)][_0x23f3ef(0x4e9)](_0x23f3ef(0x64a));if(_0x15aa19)_0x15aa19[_0x23f3ef(0x61a)][_0x23f3ef(0x4e9)](_0x23f3ef(0x64a));if(_0x40a8cf)_0x40a8cf[_0x23f3ef(0x61a)]['add'](_0x23f3ef(0x64a));if(_0x2a351e)_0x2a351e['classList']['add'](_0x23f3ef(0x64a));}),textTab['addEventListener'](_0x32f345(0x349),()=>{const _0x3fe8b1=_0x32f345;textTab['classList'][_0x3fe8b1(0x4e9)](_0x3fe8b1(0x36d)),topicTab['classList']['remove'](_0x3fe8b1(0x36d)),fileTab[_0x3fe8b1(0x61a)][_0x3fe8b1(0x193)](_0x3fe8b1(0x36d)),worksheetTab[_0x3fe8b1(0x61a)][_0x3fe8b1(0x193)](_0x3fe8b1(0x36d));if(_0x56bb07)_0x56bb07[_0x3fe8b1(0x61a)][_0x3fe8b1(0x193)]('active');if(_0x3d76ad)_0x3d76ad[_0x3fe8b1(0x61a)][_0x3fe8b1(0x193)](_0x3fe8b1(0x36d));if(_0x38c730)_0x38c730[_0x3fe8b1(0x61a)]['remove'](_0x3fe8b1(0x36d));textInputArea['classList'][_0x3fe8b1(0x193)]('hidden'),topicInputArea[_0x3fe8b1(0x61a)][_0x3fe8b1(0x4e9)]('hidden'),fileInputArea[_0x3fe8b1(0x61a)][_0x3fe8b1(0x4e9)](_0x3fe8b1(0x64a)),worksheetInputArea[_0x3fe8b1(0x61a)]['add'](_0x3fe8b1(0x64a));if(_0x15aa19)_0x15aa19['classList'][_0x3fe8b1(0x4e9)](_0x3fe8b1(0x64a));if(_0x40a8cf)_0x40a8cf['classList']['add'](_0x3fe8b1(0x64a));if(_0x2a351e)_0x2a351e[_0x3fe8b1(0x61a)]['add']('hidden');}),fileTab['addEventListener']('click',()=>{const _0x1934dc=_0x32f345;fileTab[_0x1934dc(0x61a)]['add'](_0x1934dc(0x36d)),topicTab[_0x1934dc(0x61a)][_0x1934dc(0x193)](_0x1934dc(0x36d)),textTab['classList']['remove']('active'),worksheetTab[_0x1934dc(0x61a)][_0x1934dc(0x193)](_0x1934dc(0x36d));if(_0x56bb07)_0x56bb07[_0x1934dc(0x61a)][_0x1934dc(0x193)]('active');if(_0x3d76ad)_0x3d76ad[_0x1934dc(0x61a)][_0x1934dc(0x193)](_0x1934dc(0x36d));if(_0x38c730)_0x38c730[_0x1934dc(0x61a)][_0x1934dc(0x193)]('active');fileInputArea[_0x1934dc(0x61a)]['remove'](_0x1934dc(0x64a)),topicInputArea['classList'][_0x1934dc(0x4e9)]('hidden'),textInputArea[_0x1934dc(0x61a)][_0x1934dc(0x4e9)](_0x1934dc(0x64a)),worksheetInputArea['classList'][_0x1934dc(0x4e9)]('hidden');if(_0x15aa19)_0x15aa19['classList'][_0x1934dc(0x4e9)](_0x1934dc(0x64a));if(_0x40a8cf)_0x40a8cf[_0x1934dc(0x61a)]['add'](_0x1934dc(0x64a));if(_0x2a351e)_0x2a351e[_0x1934dc(0x61a)][_0x1934dc(0x4e9)](_0x1934dc(0x64a));}),worksheetTab['addEventListener'](_0x32f345(0x349),()=>{const _0x51657e=_0x32f345;worksheetTab[_0x51657e(0x61a)][_0x51657e(0x4e9)](_0x51657e(0x36d)),topicTab[_0x51657e(0x61a)][_0x51657e(0x193)](_0x51657e(0x36d)),textTab['classList'][_0x51657e(0x193)]('active'),fileTab[_0x51657e(0x61a)][_0x51657e(0x193)](_0x51657e(0x36d));if(_0x56bb07)_0x56bb07[_0x51657e(0x61a)]['remove'](_0x51657e(0x36d));if(_0x3d76ad)_0x3d76ad[_0x51657e(0x61a)]['remove'](_0x51657e(0x36d));if(_0x38c730)_0x38c730[_0x51657e(0x61a)]['remove'](_0x51657e(0x36d));worksheetInputArea[_0x51657e(0x61a)][_0x51657e(0x193)](_0x51657e(0x64a)),topicInputArea[_0x51657e(0x61a)]['add'](_0x51657e(0x64a)),textInputArea[_0x51657e(0x61a)][_0x51657e(0x4e9)](_0x51657e(0x64a)),fileInputArea[_0x51657e(0x61a)][_0x51657e(0x4e9)]('hidden');if(_0x15aa19)_0x15aa19[_0x51657e(0x61a)][_0x51657e(0x4e9)](_0x51657e(0x64a));if(_0x40a8cf)_0x40a8cf['classList'][_0x51657e(0x4e9)](_0x51657e(0x64a));if(_0x2a351e)_0x2a351e[_0x51657e(0x61a)][_0x51657e(0x4e9)](_0x51657e(0x64a));});const _0x226aa9=document['getElementById'](_0x32f345(0x3c6)),_0x31517a=document['getElementById'](_0x32f345(0x393));_0x226aa9&&_0x226aa9[_0x32f345(0x8ef)](_0x32f345(0x349),()=>{const _0x2f9f38=_0x32f345;topicTab['classList'][_0x2f9f38(0x193)]('active'),textTab[_0x2f9f38(0x61a)][_0x2f9f38(0x193)](_0x2f9f38(0x36d)),fileTab[_0x2f9f38(0x61a)][_0x2f9f38(0x193)](_0x2f9f38(0x36d)),worksheetTab[_0x2f9f38(0x61a)][_0x2f9f38(0x193)]('active');if(_0x56bb07)_0x56bb07[_0x2f9f38(0x61a)][_0x2f9f38(0x193)](_0x2f9f38(0x36d));if(_0x3d76ad)_0x3d76ad[_0x2f9f38(0x61a)]['remove'](_0x2f9f38(0x36d));if(_0x38c730)_0x38c730['classList'][_0x2f9f38(0x193)](_0x2f9f38(0x36d));_0x226aa9['classList'][_0x2f9f38(0x4e9)](_0x2f9f38(0x36d)),topicInputArea[_0x2f9f38(0x61a)][_0x2f9f38(0x4e9)](_0x2f9f38(0x64a)),textInputArea[_0x2f9f38(0x61a)][_0x2f9f38(0x4e9)](_0x2f9f38(0x64a)),fileInputArea[_0x2f9f38(0x61a)]['add'](_0x2f9f38(0x64a)),worksheetInputArea[_0x2f9f38(0x61a)][_0x2f9f38(0x4e9)](_0x2f9f38(0x64a));if(_0x15aa19)_0x15aa19[_0x2f9f38(0x61a)][_0x2f9f38(0x4e9)](_0x2f9f38(0x64a));if(_0x40a8cf)_0x40a8cf[_0x2f9f38(0x61a)][_0x2f9f38(0x4e9)]('hidden');if(_0x2a351e)_0x2a351e[_0x2f9f38(0x61a)][_0x2f9f38(0x4e9)](_0x2f9f38(0x64a));_0x31517a[_0x2f9f38(0x61a)][_0x2f9f38(0x193)]('hidden'),displayQuestionBank();});_0x56bb07&&(_0x56bb07[_0x32f345(0x8ef)](_0x32f345(0x349),()=>{const _0x4bf2b8=_0x32f345;_0x56bb07['classList'][_0x4bf2b8(0x4e9)]('active'),topicTab['classList']['remove'](_0x4bf2b8(0x36d)),textTab['classList'][_0x4bf2b8(0x193)]('active'),fileTab[_0x4bf2b8(0x61a)][_0x4bf2b8(0x193)]('active'),worksheetTab[_0x4bf2b8(0x61a)][_0x4bf2b8(0x193)](_0x4bf2b8(0x36d));if(_0x3d76ad)_0x3d76ad[_0x4bf2b8(0x61a)][_0x4bf2b8(0x193)](_0x4bf2b8(0x36d));if(_0x38c730)_0x38c730[_0x4bf2b8(0x61a)]['remove'](_0x4bf2b8(0x36d));_0x15aa19['classList'][_0x4bf2b8(0x193)]('hidden'),topicInputArea['classList'][_0x4bf2b8(0x4e9)](_0x4bf2b8(0x64a)),textInputArea['classList'][_0x4bf2b8(0x4e9)](_0x4bf2b8(0x64a)),fileInputArea[_0x4bf2b8(0x61a)][_0x4bf2b8(0x4e9)]('hidden'),worksheetInputArea[_0x4bf2b8(0x61a)][_0x4bf2b8(0x4e9)](_0x4bf2b8(0x64a));if(_0x40a8cf)_0x40a8cf[_0x4bf2b8(0x61a)]['add'](_0x4bf2b8(0x64a));if(_0x2a351e)_0x2a351e[_0x4bf2b8(0x61a)]['add'](_0x4bf2b8(0x64a));}),document['getElementById']('generate-from-link-btn')[_0x32f345(0x8ef)]('click',handleGenerateFromLink));_0x3d76ad&&_0x3d76ad[_0x32f345(0x8ef)](_0x32f345(0x349),()=>{const _0x11fca6=_0x32f345;_0x3d76ad['classList'][_0x11fca6(0x4e9)](_0x11fca6(0x36d)),topicTab[_0x11fca6(0x61a)][_0x11fca6(0x193)](_0x11fca6(0x36d)),textTab[_0x11fca6(0x61a)][_0x11fca6(0x193)](_0x11fca6(0x36d)),fileTab['classList'][_0x11fca6(0x193)](_0x11fca6(0x36d)),worksheetTab[_0x11fca6(0x61a)][_0x11fca6(0x193)](_0x11fca6(0x36d));if(_0x56bb07)_0x56bb07[_0x11fca6(0x61a)][_0x11fca6(0x193)](_0x11fca6(0x36d));if(_0x226aa9)_0x226aa9['classList']['remove'](_0x11fca6(0x36d));if(_0x38c730)_0x38c730[_0x11fca6(0x61a)]['remove'](_0x11fca6(0x36d));_0x40a8cf[_0x11fca6(0x61a)][_0x11fca6(0x193)](_0x11fca6(0x64a)),topicInputArea[_0x11fca6(0x61a)][_0x11fca6(0x4e9)](_0x11fca6(0x64a)),textInputArea[_0x11fca6(0x61a)][_0x11fca6(0x4e9)](_0x11fca6(0x64a)),fileInputArea[_0x11fca6(0x61a)][_0x11fca6(0x4e9)](_0x11fca6(0x64a)),worksheetInputArea[_0x11fca6(0x61a)][_0x11fca6(0x4e9)](_0x11fca6(0x64a));if(_0x15aa19)_0x15aa19[_0x11fca6(0x61a)]['add'](_0x11fca6(0x64a));if(_0x31517a)_0x31517a[_0x11fca6(0x61a)][_0x11fca6(0x4e9)](_0x11fca6(0x64a));if(_0x2a351e)_0x2a351e[_0x11fca6(0x61a)]['add']('hidden');});_0x38c730&&_0x38c730[_0x32f345(0x8ef)]('click',()=>{const _0x436f48=_0x32f345;_0x38c730['classList'][_0x436f48(0x4e9)](_0x436f48(0x36d)),topicTab[_0x436f48(0x61a)]['remove'](_0x436f48(0x36d)),textTab['classList'][_0x436f48(0x193)](_0x436f48(0x36d)),fileTab[_0x436f48(0x61a)][_0x436f48(0x193)]('active'),worksheetTab['classList'][_0x436f48(0x193)](_0x436f48(0x36d));if(_0x56bb07)_0x56bb07[_0x436f48(0x61a)][_0x436f48(0x193)](_0x436f48(0x36d));if(_0x3d76ad)_0x3d76ad['classList'][_0x436f48(0x193)](_0x436f48(0x36d));if(_0x226aa9)_0x226aa9['classList']['remove'](_0x436f48(0x36d));_0x2a351e[_0x436f48(0x61a)][_0x436f48(0x193)](_0x436f48(0x64a)),topicInputArea[_0x436f48(0x61a)][_0x436f48(0x4e9)](_0x436f48(0x64a)),textInputArea[_0x436f48(0x61a)][_0x436f48(0x4e9)]('hidden'),fileInputArea[_0x436f48(0x61a)][_0x436f48(0x4e9)](_0x436f48(0x64a)),worksheetInputArea[_0x436f48(0x61a)][_0x436f48(0x4e9)](_0x436f48(0x64a));if(_0x15aa19)_0x15aa19[_0x436f48(0x61a)][_0x436f48(0x4e9)](_0x436f48(0x64a));if(_0x40a8cf)_0x40a8cf[_0x436f48(0x61a)][_0x436f48(0x4e9)]('hidden');if(_0x31517a)_0x31517a['classList'][_0x436f48(0x4e9)](_0x436f48(0x64a));});const _0x2ce0d8=document[_0x32f345(0x40e)]('blueprint-upload-input'),_0x1f36a5=document[_0x32f345(0x40e)](_0x32f345(0x172));_0x2ce0d8&&_0x2ce0d8[_0x32f345(0x8ef)](_0x32f345(0x603),_0x270489=>{const _0x1068e7=_0x32f345;_0x270489[_0x1068e7(0x261)]['files']['length']>0x0?_0x1f36a5[_0x1068e7(0x1e2)]=![]:_0x1f36a5[_0x1068e7(0x1e2)]=!![];});_0x1f36a5&&_0x1f36a5[_0x32f345(0x8ef)](_0x32f345(0x349),handleGenerateFromBlueprint);const _0x47c287=document[_0x32f345(0x40e)](_0x32f345(0x616)),_0x487772=document['getElementById'](_0x32f345(0x4dc));_0x47c287&&_0x47c287[_0x32f345(0x8ef)](_0x32f345(0x603),_0x32b104=>{const _0x2343bd=_0x32f345;_0x487772[_0x2343bd(0x1e2)]=_0x32b104[_0x2343bd(0x261)][_0x2343bd(0x228)][_0x2343bd(0x71e)]===0x0;});_0x487772&&_0x487772[_0x32f345(0x8ef)](_0x32f345(0x349),handleGenerateParallelTest);loadQuizBtn[_0x32f345(0x8ef)]('click',handleLoadQuiz),startQuizBtn['addEventListener'](_0x32f345(0x349),async()=>{const _0x1e0838=_0x32f345,_0x84ab9e=document[_0x1e0838(0x40e)](_0x1e0838(0xed));currentStudentName=_0x84ab9e[_0x1e0838(0x2f4)];if(!currentStudentName){showMessage(_0x1e0838(0x5e6));return;}try{const _0x40160a=currentQuizData['id'],_0x3f3f3b=doc(db,_0x1e0838(0x65b)+appId+_0x1e0838(0x351)+_0x40160a+'/submissions',currentStudentName);await setDoc(_0x3f3f3b,{'studentName':currentStudentName,'startedAt':new Date()[_0x1e0838(0x1c9)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x1e9219){console[_0x1e0838(0x713)](_0x1e0838(0x845),_0x1e9219),showMessage(_0x1e0838(0x5c8));return;}studentNameSelectionView[_0x1e0838(0x61a)][_0x1e0838(0x4e9)](_0x1e0838(0x64a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x32f345(0x40e)]('join-live-game-btn')[_0x32f345(0x8ef)](_0x32f345(0x349),showJoinGameView),document[_0x32f345(0x40e)](_0x32f345(0x779))[_0x32f345(0x8ef)](_0x32f345(0x349),handleJoinLiveGame),document[_0x32f345(0x40e)]('back-to-student-initial-btn')['addEventListener'](_0x32f345(0x349),()=>showView(_0x32f345(0x140)));const _0x1fef41=()=>{const _0xcfe476=_0x32f345,_0x406c54=document[_0xcfe476(0x40e)](_0xcfe476(0x8b2))[_0xcfe476(0x41f)][_0xcfe476(0x745)](/[^a-z0-9]/gi,'_')[_0xcfe476(0x7bf)]();return'results_'+(_0x406c54||_0xcfe476(0x30e));},_0x5e1858=document[_0x32f345(0x40e)](_0x32f345(0x186));_0x5e1858&&_0x5e1858[_0x32f345(0x8ef)](_0x32f345(0x6b0),_0x1e31f2=>{const _0xcf4f3f=_0x32f345,_0x1f19d1=_0x1e31f2[_0xcf4f3f(0x261)][_0xcf4f3f(0x2f4)][_0xcf4f3f(0x7bf)]()[_0xcf4f3f(0x108)](),_0x1793be=document[_0xcf4f3f(0x40e)](_0xcf4f3f(0x5c0)),_0x4eb69d=_0x1793be[_0xcf4f3f(0x18c)](_0xcf4f3f(0x1d3));_0x4eb69d[_0xcf4f3f(0x840)](_0x18ce6d=>{const _0x43539c=_0xcf4f3f;let _0x3f7d28=![];const _0x3b9382=_0x18ce6d[_0x43539c(0x18c)](_0x43539c(0x5b4));_0x3b9382[_0x43539c(0x840)](_0x243160=>{const _0x333cb1=_0x43539c,_0xec4d2e=_0x243160[_0x333cb1(0x7ac)](_0x333cb1(0x562))[_0x333cb1(0x41f)][_0x333cb1(0x7bf)]();_0xec4d2e[_0x333cb1(0x789)](_0x1f19d1)?(_0x243160[_0x333cb1(0x49c)][_0x333cb1(0x54b)]=_0x333cb1(0x45f),_0x3f7d28=!![]):_0x243160['style']['display']='none';}),_0x3f7d28?_0x18ce6d['style'][_0x43539c(0x54b)]='block':_0x18ce6d[_0x43539c(0x49c)][_0x43539c(0x54b)]=_0x43539c(0x732);});});document[_0x32f345(0x40e)](_0x32f345(0x35a))[_0x32f345(0x8ef)]('click',()=>exportTableAsImage('results-table-container',_0x1fef41())),document[_0x32f345(0x40e)](_0x32f345(0x3b5))[_0x32f345(0x8ef)](_0x32f345(0x349),()=>exportTableAsPDF(_0x32f345(0x25f),_0x1fef41())),document[_0x32f345(0x40e)]('export-word-btn')[_0x32f345(0x8ef)]('click',()=>exportTableAsWord(_0x32f345(0x309),_0x1fef41())),document[_0x32f345(0x40e)](_0x32f345(0x85f))['addEventListener'](_0x32f345(0x349),()=>exportTableAsExcel(_0x32f345(0x25f),_0x1fef41()));const _0x359886=()=>{const _0x2f094a=_0x32f345,_0x15cc4e=document[_0x2f094a(0x40e)](_0x2f094a(0x8b2))[_0x2f094a(0x41f)][_0x2f094a(0x745)](/[^a-z0-9]/gi,'_')[_0x2f094a(0x7bf)]();return _0x2f094a(0x248)+(_0x15cc4e||_0x2f094a(0x30e));};document[_0x32f345(0x40e)](_0x32f345(0x693))[_0x32f345(0x8ef)](_0x32f345(0x349),()=>exportTableAsImage(_0x32f345(0x2ac),_0x359886())),document[_0x32f345(0x40e)](_0x32f345(0x2a4))[_0x32f345(0x8ef)](_0x32f345(0x349),()=>exportTableAsPDF(_0x32f345(0x375),_0x359886())),document[_0x32f345(0x40e)]('export-leaderboard-word-btn')['addEventListener'](_0x32f345(0x349),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x359886())),document['getElementById'](_0x32f345(0x8f5))[_0x32f345(0x8ef)](_0x32f345(0x349),()=>exportTableAsExcel(_0x32f345(0x375),_0x359886())),projectQuizzesList[_0x32f345(0x8ef)](_0x32f345(0x349),async _0x131df9=>{const _0x12b43b=_0x32f345,_0x5ad886=_0x131df9[_0x12b43b(0x261)][_0x12b43b(0x871)](_0x12b43b(0x454)),_0x44104a=_0x131df9[_0x12b43b(0x261)][_0x12b43b(0x871)](_0x12b43b(0x29b)),_0x4b1d5b=_0x131df9[_0x12b43b(0x261)]['closest'](_0x12b43b(0x6d8)),_0x4dd32f=_0x131df9['target'][_0x12b43b(0x871)](_0x12b43b(0x6a1)),_0x354fe2=_0x131df9['target']['closest']('.star-quiz-btn'),_0x4f0bd3=_0x131df9['target'][_0x12b43b(0x871)]('.copy-quiz-id-list-btn'),_0x26a396=_0x131df9[_0x12b43b(0x261)]['closest'](_0x12b43b(0x198)),_0x4cac00=_0x131df9['target'][_0x12b43b(0x871)](_0x12b43b(0x50b)),_0x3527d9=_0x131df9[_0x12b43b(0x261)][_0x12b43b(0x871)](_0x12b43b(0x39e)),_0x4ae1e7=_0x131df9[_0x12b43b(0x261)]['closest'](_0x12b43b(0x8f4)),_0x1f343e=_0x131df9[_0x12b43b(0x261)][_0x12b43b(0x871)](_0x12b43b(0x39b)),_0x207adb=_0x131df9[_0x12b43b(0x261)][_0x12b43b(0x871)](_0x12b43b(0x47e)),_0x149803=_0x131df9['target'][_0x12b43b(0x871)]('.pair-quiz-btn'),_0x160d32=_0x131df9['target'][_0x12b43b(0x871)]('.unpair-quiz-btn'),_0x37239d=_0x131df9[_0x12b43b(0x261)][_0x12b43b(0x871)](_0x12b43b(0x2e4)),_0x38b21d=_0x131df9[_0x12b43b(0x261)][_0x12b43b(0x871)](_0x12b43b(0x1e1)),_0x2d877e=_0x131df9[_0x12b43b(0x261)][_0x12b43b(0x871)]('.start-live-race-btn'),_0x33a6ad=_0x131df9['target'][_0x12b43b(0x871)](_0x12b43b(0x7af)),_0x4883b7=_0x131df9['target']['closest']('.delete-quiz-btn'),_0x26725f=_0x131df9[_0x12b43b(0x261)][_0x12b43b(0x871)](_0x12b43b(0x352)),_0x16c060=_0x131df9[_0x12b43b(0x261)][_0x12b43b(0x871)](_0x12b43b(0x538)),_0x3569aa=_0x131df9[_0x12b43b(0x261)]['closest']('.generate-easy-version-btn');if(_0x16c060){const _0x33b76f=_0x16c060[_0x12b43b(0x850)][_0x12b43b(0x501)],_0x400ebe=document[_0x12b43b(0x40e)](_0x12b43b(0x854)+_0x33b76f);_0x400ebe&&_0x400ebe['classList']['toggle'](_0x12b43b(0x64a));}else{if(_0x44104a){const _0x5ddfbf=_0x44104a[_0x12b43b(0x850)][_0x12b43b(0x501)],_0xf697da=allQuizzes[_0x12b43b(0x742)](_0xfa0d9e=>_0xfa0d9e['id']===_0x5ddfbf);_0xf697da&&handleGenerateParallelPostTest(_0xf697da);}else{if(_0x4b1d5b)handleCompareResults(_0x4b1d5b[_0x12b43b(0x850)]['quizId'],_0x4b1d5b[_0x12b43b(0x850)][_0x12b43b(0x404)]);else{if(_0x4dd32f){const _0x4cbb82=_0x4dd32f['dataset'][_0x12b43b(0x501)],_0x13319d=allQuizzes[_0x12b43b(0x742)](_0x5af226=>_0x5af226['id']===_0x4cbb82);_0x13319d&&_0x13319d[_0x12b43b(0x275)]?(displayLessonPlan(_0x13319d['lessonPlan'],_0x13319d),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x4cbb82)),document['getElementById']('confirmation-modal')['querySelector']('h3')[_0x12b43b(0x41f)]=_0x12b43b(0x665),document[_0x12b43b(0x40e)]('confirm-delete-btn')[_0x12b43b(0x41f)]=_0x12b43b(0x547)):handleGenerateLessonPlan(_0x4cbb82);}else{if(_0x354fe2)handleToggleStarQuiz(_0x354fe2[_0x12b43b(0x850)]['quizId']);else{if(_0x4f0bd3)copyTextToClipboard(_0x4f0bd3[_0x12b43b(0x850)][_0x12b43b(0x501)],'คัดลอกรหัสแล้ว!');else{if(_0x26a396)handleOpenQuizEditor(_0x26a396[_0x12b43b(0x850)][_0x12b43b(0x501)]);else{if(_0x4cac00)handleQuizSettings(_0x4cac00['dataset'][_0x12b43b(0x501)]);else{if(_0x3527d9)handleDuplicateQuiz(_0x3527d9[_0x12b43b(0x850)][_0x12b43b(0x501)]);else{if(_0x4ae1e7)handleRenameQuiz(_0x4ae1e7[_0x12b43b(0x850)][_0x12b43b(0x501)],_0x4ae1e7[_0x12b43b(0x850)][_0x12b43b(0x7e9)]);else{if(_0x1f343e){const _0x2a6d67=_0x1f343e[_0x12b43b(0x850)][_0x12b43b(0x501)],_0x25c398=allQuizzes[_0x12b43b(0x742)](_0x1e22e1=>_0x1e22e1['id']===_0x2a6d67);_0x25c398&&handleGenerateParallelFromBank(_0x25c398);}else{if(_0x207adb)handleMoveQuiz(_0x207adb[_0x12b43b(0x850)][_0x12b43b(0x501)]);else{if(_0x149803)handleManualQuizPairing(_0x149803[_0x12b43b(0x850)][_0x12b43b(0x501)]);else{if(_0x160d32)handleUnpairQuiz(_0x160d32[_0x12b43b(0x850)]['quizId']);else{if(_0x37239d){const _0x21ea1d=_0x37239d['dataset'][_0x12b43b(0x501)],_0x2c6b80=allQuizzes[_0x12b43b(0x742)](_0x1eb56b=>_0x1eb56b['id']===_0x21ea1d);if(_0x2c6b80)startPresentation(_0x2c6b80);}else{if(_0x38b21d){const _0x29ebc2=_0x38b21d[_0x12b43b(0x850)][_0x12b43b(0x501)],_0x48d630=allQuizzes[_0x12b43b(0x742)](_0x2c6ac1=>_0x2c6ac1['id']===_0x29ebc2);_0x48d630&&(currentQuizData=_0x48d630,startAdminTest());}else{if(_0x2d877e)handleStartLiveRace(_0x2d877e['dataset'][_0x12b43b(0x501)]);else{if(_0x33a6ad)actionTargetId=_0x33a6ad[_0x12b43b(0x850)][_0x12b43b(0x501)],document['getElementById'](_0x12b43b(0x531))[_0x12b43b(0x61a)][_0x12b43b(0x193)](_0x12b43b(0x64a));else{if(_0x4883b7)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x4883b7['dataset'][_0x12b43b(0x7e9)]+_0x12b43b(0x1a9),()=>handleDeleteQuiz(_0x4883b7[_0x12b43b(0x850)][_0x12b43b(0x501)]));else{if(_0x26725f)handleQuizStatus(_0x26725f[_0x12b43b(0x850)][_0x12b43b(0x501)]);else{if(_0x3569aa)handleGenerateEasyVersionQuiz(_0x3569aa[_0x12b43b(0x850)]['quizId']);else _0x5ad886&&showQuizDetailView(_0x5ad886[_0x12b43b(0x850)][_0x12b43b(0x501)]);}}}}}}}}}}}}}}}}}}}}}),document[_0x32f345(0x40e)](_0x32f345(0x375))[_0x32f345(0x7ac)](_0x32f345(0x420))[_0x32f345(0x8ef)](_0x32f345(0x349),_0x41ca21=>{const _0x328bf6=_0x32f345,_0x59033f=_0x41ca21[_0x328bf6(0x261)][_0x328bf6(0x871)](_0x328bf6(0x3ce));if(!_0x59033f||!_0x59033f[_0x328bf6(0x850)]['sort'])return;const _0x2cdf41=_0x59033f['dataset'][_0x328bf6(0x831)];if(quizLeaderboardSortBy===_0x2cdf41)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x328bf6(0x3f6)?_0x328bf6(0x556):_0x328bf6(0x3f6);else{quizLeaderboardSortBy=_0x2cdf41;const _0x16e371=[_0x328bf6(0x7e3)];quizLeaderboardSortOrder=_0x16e371['includes'](_0x2cdf41)?_0x328bf6(0x3f6):_0x328bf6(0x556);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document['getElementById'](_0x32f345(0x6d6))['addEventListener'](_0x32f345(0x349),closePresentation),document[_0x32f345(0x40e)](_0x32f345(0x7b4))[_0x32f345(0x8ef)](_0x32f345(0x349),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x32f345(0x40e)]('next-question-btn')['addEventListener']('click',()=>{const _0x37448a=_0x32f345;currentQuizData[_0x37448a(0x75d)]&&currentPresentationSlide<currentQuizData[_0x37448a(0x75d)][_0x37448a(0x71e)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x32f345(0x8ef)](_0x32f345(0x323),()=>{const _0x288ae5=_0x32f345;!document[_0x288ae5(0x188)]&&(presentationModal[_0x288ae5(0x49c)][_0x288ae5(0x54b)]=_0x288ae5(0x732));}),document['getElementById'](_0x32f345(0x8c7))[_0x32f345(0x8ef)](_0x32f345(0x349),handleDeleteAllStudents),studentList[_0x32f345(0x8ef)](_0x32f345(0x349),_0x2c6cbe=>{const _0x50684f=_0x32f345,_0x284173=_0x2c6cbe[_0x50684f(0x261)][_0x50684f(0x871)](_0x50684f(0xe3));if(_0x284173){const _0x2e5ecd=_0x284173[_0x50684f(0x850)][_0x50684f(0x7e3)];handleDeleteStudent(_0x2e5ecd);}}),document[_0x32f345(0x40e)](_0x32f345(0x2c1))[_0x32f345(0x8ef)]('click',handleGenerateFromFileClick),fileUploadInput[_0x32f345(0x8ef)](_0x32f345(0x603),_0x566730=>{const _0x2cf291=_0x32f345,_0x33104d=_0x566730['target'][_0x2cf291(0x228)][0x0],_0x10f340=document[_0x2cf291(0x40e)](_0x2cf291(0x2c1));_0x33104d?(selectedFile=_0x33104d,_0x10f340[_0x2cf291(0x1e2)]=![]):(selectedFile=null,_0x10f340[_0x2cf291(0x1e2)]=!![]);}),document[_0x32f345(0x40e)](_0x32f345(0x6c8))[_0x32f345(0x8ef)](_0x32f345(0x603),_0x2387f7=>{const _0x532357=_0x32f345,_0x54fe2c=document[_0x532357(0x40e)](_0x532357(0x373)),_0x594164=document['getElementById'](_0x532357(0x80f)),_0x201878=document[_0x532357(0x40e)](_0x532357(0x8e0));_0x2387f7['target']['value']===_0x532357(0x732)?_0x54fe2c[_0x532357(0x61a)][_0x532357(0x4e9)](_0x532357(0x64a)):(_0x54fe2c[_0x532357(0x61a)][_0x532357(0x193)](_0x532357(0x64a)),_0x2387f7[_0x532357(0x261)][_0x532357(0x2f4)]==='whole_quiz'?(_0x594164['textContent']=_0x532357(0x886),_0x201878[_0x532357(0x2f4)]='10'):(_0x594164[_0x532357(0x41f)]=_0x532357(0x641),_0x201878[_0x532357(0x2f4)]='30'));}),document[_0x32f345(0x40e)](_0x32f345(0x216))[_0x32f345(0x8ef)](_0x32f345(0x603),_0x389fa6=>{const _0x12b8ac=_0x32f345,_0x22e751=document[_0x12b8ac(0x40e)](_0x12b8ac(0x3d5)),_0x481c2d=_0x389fa6['target'][_0x12b8ac(0x2f4)],_0x493aac=document[_0x12b8ac(0x7ac)](_0x12b8ac(0x6d4)),_0x57eea0=document[_0x12b8ac(0x40e)](_0x12b8ac(0x10b)),_0x105a38=document[_0x12b8ac(0x40e)](_0x12b8ac(0x5d0));_0x481c2d===_0x12b8ac(0x4f1)?_0x493aac['textContent']=_0x12b8ac(0x74a):_0x493aac[_0x12b8ac(0x41f)]=_0x12b8ac(0x951),_0x481c2d===_0x12b8ac(0x7c3)||_0x481c2d===_0x12b8ac(0x644)||_0x481c2d===_0x12b8ac(0x615)?_0x22e751[_0x12b8ac(0x61a)][_0x12b8ac(0x193)](_0x12b8ac(0x64a)):_0x22e751['classList']['add'](_0x12b8ac(0x64a)),_0x57eea0['max']=_0x105a38['value'];}),document['getElementById'](_0x32f345(0x5d0))['addEventListener'](_0x32f345(0x6b0),_0x43fc6e=>{const _0x20c420=_0x32f345;document[_0x20c420(0x40e)](_0x20c420(0x10b))['max']=_0x43fc6e['target']['value'];}),document[_0x32f345(0x40e)](_0x32f345(0xe6))[_0x32f345(0x8ef)](_0x32f345(0x603),_0x4ca47e=>{const _0xcf249b=_0x32f345,_0x189ed6=document[_0xcf249b(0x40e)](_0xcf249b(0x18a)),_0x102269=document[_0xcf249b(0x40e)]('modal-timer-duration-label'),_0xcb0dfd=document[_0xcf249b(0x40e)]('modal-timer-duration-input');_0x4ca47e[_0xcf249b(0x261)][_0xcf249b(0x2f4)]===_0xcf249b(0x732)?_0x189ed6[_0xcf249b(0x61a)][_0xcf249b(0x4e9)](_0xcf249b(0x64a)):(_0x189ed6[_0xcf249b(0x61a)][_0xcf249b(0x193)](_0xcf249b(0x64a)),_0x4ca47e[_0xcf249b(0x261)][_0xcf249b(0x2f4)]===_0xcf249b(0x3cf)?_0x102269['textContent']=_0xcf249b(0x886):_0x102269[_0xcf249b(0x41f)]='ระยะเวลา\x20(วินาที):');}),document[_0x32f345(0x40e)](_0x32f345(0x14f))[_0x32f345(0x8ef)]('click',()=>{const _0x2868d8=_0x32f345;document[_0x2868d8(0x40e)]('quiz-editor-modal')[_0x2868d8(0x61a)][_0x2868d8(0x4e9)](_0x2868d8(0x64a));}),document[_0x32f345(0x40e)](_0x32f345(0x1aa))[_0x32f345(0x8ef)]('click',()=>{const _0x31f17c=_0x32f345;document['getElementById'](_0x31f17c(0x7f8))[_0x31f17c(0x61a)][_0x31f17c(0x4e9)](_0x31f17c(0x64a));}),document[_0x32f345(0x40e)](_0x32f345(0x77d))[_0x32f345(0x8ef)](_0x32f345(0x349),handleVerifyAnswersInEditor),document[_0x32f345(0x40e)](_0x32f345(0x5b6))['addEventListener'](_0x32f345(0x349),()=>{const _0x53998f=_0x32f345;document[_0x53998f(0x40e)](_0x53998f(0x7f8))['classList'][_0x53998f(0x4e9)]('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x32f345(0x40e)]('auto-fix-latex-btn')[_0x32f345(0x8ef)](_0x32f345(0x349),handleAutoFixLatex);const _0x5eb73c=document[_0x32f345(0x40e)](_0x32f345(0x4ba));_0x5eb73c&&_0x5eb73c['addEventListener']('click',_0x2b2f92=>{const _0x237adc=_0x32f345,_0x5a1efa=_0x2b2f92[_0x237adc(0x261)][_0x237adc(0x871)](_0x237adc(0x4b3)),_0x5ef4b8=_0x2b2f92[_0x237adc(0x261)][_0x237adc(0x871)](_0x237adc(0x252));if(_0x5a1efa){const _0x446037=_0x5a1efa['closest'](_0x237adc(0x22e)),_0x419f0f=parseInt(_0x446037[_0x237adc(0x850)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x419f0f);}else{if(_0x5ef4b8){const _0xbf1256=_0x5ef4b8['closest']('.question-editor-item'),_0x115da0=parseInt(_0xbf1256[_0x237adc(0x850)][_0x237adc(0x307)],0xa);handleAiFixFormula(_0x115da0);}}});document[_0x32f345(0x40e)](_0x32f345(0x4fc))[_0x32f345(0x8ef)]('click',openQuizBankModal),document[_0x32f345(0x40e)]('cancel-quiz-bank-btn')[_0x32f345(0x8ef)](_0x32f345(0x349),()=>{const _0x1851b7=_0x32f345;document[_0x1851b7(0x40e)](_0x1851b7(0x84e))[_0x1851b7(0x61a)][_0x1851b7(0x4e9)](_0x1851b7(0x64a));}),document[_0x32f345(0x40e)](_0x32f345(0x766))['addEventListener'](_0x32f345(0x6b0),_0x1f6051=>renderQuizBankList(_0x1f6051[_0x32f345(0x261)][_0x32f345(0x2f4)]));const _0x4d2cf8=document['getElementById'](_0x32f345(0x5c0));if(_0x4d2cf8){let _0x173806=null;_0x4d2cf8[_0x32f345(0x8ef)]('click',_0x4cc2f8=>{const _0x1a4d5e=_0x32f345,_0x1d3b0b=_0x4cc2f8[_0x1a4d5e(0x261)],_0x23d716=_0x1d3b0b[_0x1a4d5e(0x871)]('.edit-custom-topic-btn'),_0x18ecca=_0x1d3b0b[_0x1a4d5e(0x871)](_0x1a4d5e(0x10a)),_0x1eb604=_0x1d3b0b[_0x1a4d5e(0x871)](_0x1a4d5e(0x738)),_0x60c9af=_0x1d3b0b[_0x1a4d5e(0x871)](_0x1a4d5e(0x5e8));if(_0x18ecca){_0x4cc2f8[_0x1a4d5e(0x65f)]();const _0x5694a1=_0x18ecca[_0x1a4d5e(0x850)]['id'],_0x53c3d5=_0x18ecca['closest'](_0x1a4d5e(0x133))[_0x1a4d5e(0x7ac)](_0x1a4d5e(0x562))[_0x1a4d5e(0x41f)];showConfirmation(_0x1a4d5e(0x85a)+_0x53c3d5+'\x22?',()=>handleDeleteCustomTopic(_0x5694a1));}else{if(_0x23d716){_0x4cc2f8[_0x1a4d5e(0x65f)]();_0x173806&&toggleTopicEditMode(_0x173806,![]);const _0x259965=_0x23d716[_0x1a4d5e(0x871)](_0x1a4d5e(0x512));_0x173806=_0x259965,toggleTopicEditMode(_0x259965,!![]);}else{if(_0x1eb604){_0x4cc2f8['preventDefault']();const _0x3d2550=_0x1eb604['dataset']['id'],_0x368e6d=_0x1eb604[_0x1a4d5e(0x871)]('[data-topic-container-id]'),_0x43371c=_0x368e6d[_0x1a4d5e(0x7ac)](_0x1a4d5e(0x81b))[_0x1a4d5e(0x2f4)];handleUpdateCustomTopic(_0x3d2550,_0x43371c),_0x173806=null;}else{if(_0x60c9af){_0x4cc2f8['preventDefault']();const _0x353066=_0x60c9af[_0x1a4d5e(0x871)](_0x1a4d5e(0x512));toggleTopicEditMode(_0x353066,![]),_0x173806=null;}}}}}),document[_0x32f345(0x40e)](_0x32f345(0x12f))['addEventListener']('click',()=>{const _0x41e219=_0x32f345;document[_0x41e219(0x40e)](_0x41e219(0x82e))[_0x41e219(0x61a)][_0x41e219(0x4e9)](_0x41e219(0x64a));}),document[_0x32f345(0x40e)]('close-lesson-plan-modal-footer-btn')['addEventListener'](_0x32f345(0x349),()=>{const _0x3d139c=_0x32f345;document['getElementById'](_0x3d139c(0x82e))[_0x3d139c(0x61a)][_0x3d139c(0x4e9)](_0x3d139c(0x64a));}),document['getElementById'](_0x32f345(0x6da))['addEventListener']('click',handleExportLessonPDF);}document['getElementById'](_0x32f345(0x68b))[_0x32f345(0x8ef)](_0x32f345(0x349),()=>{const _0x1764df=_0x32f345;document[_0x1764df(0x40e)](_0x1764df(0x1ec))['classList'][_0x1764df(0x4e9)]('hidden');}),document[_0x32f345(0x40e)](_0x32f345(0x578))[_0x32f345(0x8ef)]('click',()=>{const _0x12786c=_0x32f345;document[_0x12786c(0x40e)]('comparison-modal')[_0x12786c(0x61a)][_0x12786c(0x4e9)](_0x12786c(0x64a));}),setupComparisonModalTabs(),document['body']['addEventListener'](_0x32f345(0x349),function(_0x240515){const _0x230144=_0x32f345;if(_0x240515[_0x230144(0x261)][_0x230144(0x61a)]['contains']('practice-topic-btn')){const _0x490221=unescape(_0x240515[_0x230144(0x261)][_0x230144(0x850)]['topic']);startSkillPractice(_0x490221);}}),document[_0x32f345(0x40e)](_0x32f345(0x20e))['addEventListener'](_0x32f345(0x349),_0x4eddae=>{const _0x1e4fff=_0x32f345,_0x3c8e7b=_0x4eddae[_0x1e4fff(0x261)][_0x1e4fff(0x871)](_0x1e4fff(0x3bd));if(_0x3c8e7b){const _0x433668=_0x3c8e7b[_0x1e4fff(0x850)][_0x1e4fff(0x7e3)];handleDeleteSubmission(_0x433668);}});}async function showStudentProgressView(){const _0x4f1011=_0x4f829b;studentInitialView['classList']['add'](_0x4f1011(0x64a)),document['getElementById'](_0x4f1011(0x709))['classList'][_0x4f1011(0x193)](_0x4f1011(0x64a));const _0x4d8a22=document[_0x4f1011(0x40e)](_0x4f1011(0x128)),_0x25ca94=document[_0x4f1011(0x40e)](_0x4f1011(0x83b)),_0x7e4f3d=document[_0x4f1011(0x40e)](_0x4f1011(0x8eb));_0x7e4f3d[_0x4f1011(0x848)]=_0x4f1011(0x82c),_0x25ca94[_0x4f1011(0x848)]=_0x4f1011(0x65c),_0x25ca94[_0x4f1011(0x1e2)]=!![],_0x4d8a22[_0x4f1011(0x848)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x4f1011(0x71e)]===0x0){const _0x12b537=collection(db,_0x4f1011(0x65b)+appId+'/public/data/projects'),_0x43bd63=await getDocs(_0x12b537);allProjects=_0x43bd63[_0x4f1011(0x1f1)]['map'](_0x262593=>({'id':_0x262593['id'],..._0x262593['data']()}));}const _0x438892=allProjects['filter'](_0x36dcb8=>_0x36dcb8[_0x4f1011(0x541)]?.[_0x4f1011(0x3f1)]!==![]);_0x438892[_0x4f1011(0x831)]((_0x583ee3,_0x26ed30)=>_0x583ee3[_0x4f1011(0x943)][_0x4f1011(0x5b9)](_0x26ed30[_0x4f1011(0x943)],'th')),_0x4d8a22[_0x4f1011(0x848)]=_0x4f1011(0x2f7)+_0x438892[_0x4f1011(0x670)](_0x3c63a4=>_0x4f1011(0x62f)+_0x3c63a4['id']+'\x22>'+_0x3c63a4[_0x4f1011(0x943)]+_0x4f1011(0x48e))[_0x4f1011(0x14b)](''),_0x4d8a22[_0x4f1011(0x580)]=()=>{const _0x2e1b55=_0x4f1011,_0x4e7d7a=_0x25ca94[_0x2e1b55(0x2f4)],_0x36ed8b=_0x4d8a22['value'];_0x25ca94[_0x2e1b55(0x1e2)]=!![],_0x25ca94['innerHTML']=_0x2e1b55(0x65c),_0x7e4f3d[_0x2e1b55(0x848)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x36ed8b)return;const _0x1e8dc4=allProjects[_0x2e1b55(0x742)](_0x44525f=>_0x44525f['id']===_0x36ed8b);if(!_0x1e8dc4||!_0x1e8dc4['students'])return;const _0x16f71b=()=>{const _0x7d90bb=_0x2e1b55;_0x25ca94[_0x7d90bb(0x848)]=_0x7d90bb(0x65c)+_0x1e8dc4[_0x7d90bb(0x2af)][_0x7d90bb(0x670)](_0xe32280=>_0x7d90bb(0x62f)+_0xe32280+'\x22>'+_0xe32280+_0x7d90bb(0x48e))['join'](''),_0x25ca94[_0x7d90bb(0x1e2)]=![];const _0x115fef=Array[_0x7d90bb(0x8c6)](_0x25ca94['options'])[_0x7d90bb(0x670)](_0x4f1f17=>_0x4f1f17[_0x7d90bb(0x2f4)]);if(_0x4e7d7a&&_0x115fef[_0x7d90bb(0x789)](_0x4e7d7a))_0x25ca94[_0x7d90bb(0x2f4)]=_0x4e7d7a,_0x25ca94[_0x7d90bb(0x6fc)](new Event(_0x7d90bb(0x603)));else _0x1e8dc4[_0x7d90bb(0x2af)][_0x7d90bb(0x71e)]===0x1&&(_0x25ca94['value']=_0x1e8dc4[_0x7d90bb(0x2af)][0x0],_0x25ca94[_0x7d90bb(0x6fc)](new Event(_0x7d90bb(0x603))));};if(_0x1e8dc4[_0x2e1b55(0x541)]?.[_0x2e1b55(0x6bf)]){if(sessionStorage['getItem'](_0x2e1b55(0x59e)+_0x36ed8b)===_0x2e1b55(0x812)){_0x16f71b();return;}const _0x3473e3=document[_0x2e1b55(0x40e)](_0x2e1b55(0x724)),_0x1f8fab=document[_0x2e1b55(0x40e)](_0x2e1b55(0x35f)),_0x9e4155=document['getElementById']('cancel-passcode-btn'),_0x53b40f=document[_0x2e1b55(0x40e)](_0x2e1b55(0x2ab)),_0xbcf7ba=document[_0x2e1b55(0x40e)](_0x2e1b55(0x2b5));document[_0x2e1b55(0x40e)]('passcode-prompt-message')['textContent']=_0x2e1b55(0x95a)+_0x1e8dc4[_0x2e1b55(0x943)],_0x53b40f['value']='',_0xbcf7ba[_0x2e1b55(0x61a)][_0x2e1b55(0x4e9)](_0x2e1b55(0x64a)),_0x3473e3[_0x2e1b55(0x61a)][_0x2e1b55(0x193)](_0x2e1b55(0x64a));const _0x5494cf=()=>{const _0x172673=_0x2e1b55,_0x4f606b=_0x53b40f[_0x172673(0x2f4)][_0x172673(0x108)]();_0x4f606b===_0x1e8dc4[_0x172673(0x541)][_0x172673(0x203)]?(sessionStorage[_0x172673(0x94a)](_0x172673(0x59e)+_0x36ed8b,_0x172673(0x812)),_0x3473e3[_0x172673(0x61a)][_0x172673(0x4e9)](_0x172673(0x64a)),_0x16f71b(),_0x1f8fab[_0x172673(0x429)]('click',_0x5494cf)):_0xbcf7ba[_0x172673(0x61a)][_0x172673(0x193)]('hidden');};_0x1f8fab[_0x2e1b55(0x387)]=_0x5494cf,_0x9e4155[_0x2e1b55(0x387)]=()=>{const _0x411703=_0x2e1b55;_0x3473e3[_0x411703(0x61a)]['add']('hidden'),_0x4d8a22['value']='',_0x1f8fab[_0x411703(0x429)]('click',_0x5494cf);};}else _0x16f71b();},_0x25ca94[_0x4f1011(0x580)]=()=>{const _0x466e02=_0x4f1011,_0x34c3b8=_0x4d8a22['value'],_0x3c64e9=_0x25ca94[_0x466e02(0x2f4)];_0x34c3b8&&_0x3c64e9&&renderStudentProgressDashboard(_0x34c3b8,_0x3c64e9);};}async function renderStudentProgressDashboard(_0x2388fe,_0x3a0bf5){const _0x4ed5eb=_0x4f829b,_0x15f73d=document[_0x4ed5eb(0x40e)](_0x4ed5eb(0x8eb));_0x15f73d['innerHTML']=_0x4ed5eb(0x1b7);try{const _0x4506bf=collection(db,_0x4ed5eb(0x65b)+appId+_0x4ed5eb(0x5fb)),_0x4d2813=query(_0x4506bf,where(_0x4ed5eb(0x6ad),'==',_0x2388fe)),_0x8bfa7a=await getDocs(_0x4d2813),_0x429434=_0x8bfa7a[_0x4ed5eb(0x1f1)][_0x4ed5eb(0x670)](_0x2968a2=>({'id':_0x2968a2['id'],..._0x2968a2[_0x4ed5eb(0x114)]()})),_0x125b94=_0x429434['map'](_0x4ad837=>getDoc(doc(db,_0x4ed5eb(0x65b)+appId+_0x4ed5eb(0x351)+_0x4ad837['id']+'/submissions',_0x3a0bf5))),_0x2212fd=await Promise[_0x4ed5eb(0x791)](_0x125b94),_0x26a419=_0x2212fd[_0x4ed5eb(0x89b)](_0x51f6b1=>_0x51f6b1[_0x4ed5eb(0x2ca)]())[_0x4ed5eb(0x670)](_0x405ec7=>({'quizId':_0x405ec7[_0x4ed5eb(0x502)][_0x4ed5eb(0x6a3)][_0x4ed5eb(0x6a3)]['id'],..._0x405ec7[_0x4ed5eb(0x114)]()}));if(_0x26a419[_0x4ed5eb(0x71e)]===0x0){_0x15f73d[_0x4ed5eb(0x848)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x3f9fe5=_0x4ed5eb(0x619);_0x26a419['forEach'](_0x368baa=>{const _0x4633da=_0x4ed5eb,_0x42965f=_0x429434[_0x4633da(0x742)](_0x465db2=>_0x465db2['id']===_0x368baa[_0x4633da(0x501)]),_0x431687=_0x42965f[_0x4633da(0x541)]?.[_0x4633da(0x39d)]||_0x4633da(0x919),_0x13b875=_0x42965f['settings']?.[_0x4633da(0x50f)]??0x0,_0x426a50=_0x368baa[_0x4633da(0x75e)]>=_0x13b875;let _0x2acf37='',_0x485bcd=_0x4633da(0x870);switch(_0x431687){case _0x4633da(0x919):case _0x4633da(0x11b):_0x485bcd=_0x426a50?_0x4633da(0x4de):'bg-red-50',_0x2acf37=_0x4633da(0x500)+(_0x426a50?_0x4633da(0x239):_0x4633da(0x3bc))+'\x22>'+_0x368baa[_0x4633da(0x75e)]+_0x4633da(0x255)+_0x368baa[_0x4633da(0x507)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x426a50?_0x4633da(0x3f8):_0x4633da(0xfe))+'\x22>'+(_0x426a50?_0x4633da(0x58d):_0x4633da(0x5aa))+_0x4633da(0x8f8);break;case'show_pass_fail_only':_0x485bcd=_0x426a50?_0x4633da(0x4de):'bg-red-50',_0x2acf37=_0x4633da(0x219)+(_0x426a50?_0x4633da(0x3f8):_0x4633da(0xfe))+'\x22>'+(_0x426a50?_0x4633da(0x58d):_0x4633da(0x5aa))+_0x4633da(0x8f8);break;case _0x4633da(0x12c):_0x485bcd=_0x4633da(0x4e6),_0x2acf37=_0x4633da(0x3a4);break;}_0x3f9fe5+=_0x4633da(0x29c)+_0x485bcd+_0x4633da(0x426)+_0x42965f[_0x4633da(0x7e9)]+_0x4633da(0x4ca)+_0x368baa[_0x4633da(0x38f)]['length']+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x368baa[_0x4633da(0x808)])[_0x4633da(0x453)]('th-TH')+_0x4633da(0x662)+_0x2acf37+_0x4633da(0x1ef);}),_0x3f9fe5+=_0x4ed5eb(0x930),_0x15f73d[_0x4ed5eb(0x848)]=_0x3f9fe5;}catch(_0x2ba9c7){console[_0x4ed5eb(0x713)](_0x4ed5eb(0x602),_0x2ba9c7),_0x15f73d['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function setupStudentProgressListeners(){const _0x199c7c=_0x4f829b;document['getElementById'](_0x199c7c(0x439))[_0x199c7c(0x8ef)](_0x199c7c(0x349),showStudentProgressView),document[_0x199c7c(0x40e)](_0x199c7c(0x353))[_0x199c7c(0x8ef)](_0x199c7c(0x349),()=>{const _0x2c2558=_0x199c7c;document[_0x2c2558(0x40e)]('student-progress-view')[_0x2c2558(0x61a)][_0x2c2558(0x4e9)](_0x2c2558(0x64a)),document[_0x2c2558(0x40e)]('student-initial-view')[_0x2c2558(0x61a)][_0x2c2558(0x193)]('hidden');});}async function startSkillPractice(_0x3936ec){const _0x3bad37=_0x4f829b;studentResultArea[_0x3bad37(0x61a)]['add'](_0x3bad37(0x64a)),studentQuizArea[_0x3bad37(0x848)]=_0x3bad37(0x1fa),studentQuizArea['classList'][_0x3bad37(0x193)](_0x3bad37(0x64a));try{const _0x7b67e6=await getStandardizedTopic(_0x3936ec);console[_0x3bad37(0x3f9)](_0x3bad37(0x7a0)+_0x3936ec+_0x3bad37(0x14a)+_0x7b67e6+'\x22'),studentQuizArea['querySelector']('p')['textContent']=_0x3bad37(0x84c)+_0x7b67e6+_0x3bad37(0x6b7);const _0x4a6ffa=collection(db,'artifacts/'+appId+_0x3bad37(0x8e7)),_0x5a9ac7=query(_0x4a6ffa,where(_0x3bad37(0x7e9),'==',_0x7b67e6)),_0x103e51=await getDocs(_0x5a9ac7);if(_0x103e51[_0x3bad37(0x1f1)][_0x3bad37(0x71e)]>=0x3){console[_0x3bad37(0x3f9)](_0x3bad37(0xf4)+_0x103e51[_0x3bad37(0x1f1)][_0x3bad37(0x71e)]+_0x3bad37(0x798)+_0x7b67e6+_0x3bad37(0x627));let _0xb7d7a6=_0x103e51[_0x3bad37(0x1f1)][_0x3bad37(0x670)](_0x2f34ac=>_0x2f34ac[_0x3bad37(0x114)]());shuffleArray(_0xb7d7a6);const _0x169dd5={'topic':_0x7b67e6,'questions':_0xb7d7a6[_0x3bad37(0x12a)](0x0,0x3)};displaySkillPracticeDrill(_0x169dd5);}else{console[_0x3bad37(0x3f9)](_0x3bad37(0x754)+_0x7b67e6+_0x3bad37(0x94d));const _0x374feb=await generatePracticeQuestions(_0x7b67e6);await saveDrillToPracticeBank(_0x374feb,_0x7b67e6),displaySkillPracticeDrill(_0x374feb);}}catch(_0x3e6792){console[_0x3bad37(0x713)](_0x3bad37(0x53c),_0x3e6792),showMessage(_0x3bad37(0x677)),studentQuizArea[_0x3bad37(0x61a)]['add']('hidden'),studentResultArea[_0x3bad37(0x61a)][_0x3bad37(0x193)]('hidden');}}async function saveDrillToPracticeBank(_0x12f65d,_0x4df053){const _0x37899b=_0x4f829b,_0x3a65ba=collection(db,'artifacts/'+appId+_0x37899b(0x8e7)),_0x102cbb=writeBatch(db);_0x12f65d[_0x37899b(0x75d)][_0x37899b(0x840)](_0x4b483e=>{const _0x1d04b4=_0x37899b,_0x39be37=doc(_0x3a65ba);_0x102cbb['set'](_0x39be37,{'topic':_0x4df053,'questionText':_0x4b483e[_0x1d04b4(0x1f5)],'options':_0x4b483e[_0x1d04b4(0x4b9)],'correctAnswerIndex':_0x4b483e[_0x1d04b4(0x71a)],'explanation':_0x4b483e['explanation'],'createdAt':serverTimestamp()});});try{await _0x102cbb[_0x37899b(0x1c8)](),console[_0x37899b(0x3f9)](_0x37899b(0x4ac)+_0x12f65d[_0x37899b(0x75d)][_0x37899b(0x71e)]+_0x37899b(0x80e));}catch(_0x11ec20){console[_0x37899b(0x713)](_0x37899b(0x77b),_0x11ec20);}}async function getStandardizedTopic(_0x3a277d){const _0x253068=_0x4f829b,_0x4fb01d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x3a277d+_0x253068(0x27e),_0x350dd5={'type':_0x253068(0x5dd),'properties':{'standardTopic':{'type':_0x253068(0x44e)}},'required':[_0x253068(0x87a)]};try{const _0x47e490=await callAnalysisApi(_0x4fb01d,_0x350dd5);return _0x47e490[_0x253068(0x87a)];}catch(_0x38432c){return console[_0x253068(0x713)](_0x253068(0x28e),_0x38432c),_0x3a277d;}}async function handleGenerateEasyVersionQuiz(_0x34c7b5){const _0x4325ea=_0x4f829b;showConfirmation(_0x4325ea(0x2c7),async()=>{const _0x2e2e01=_0x4325ea;showMessage(_0x2e2e01(0x632));try{const _0x534d38=allQuizzes['find'](_0x4afc53=>_0x4afc53['id']===_0x34c7b5);if(!_0x534d38)throw new Error(_0x2e2e01(0x771));const _0x4c2323=_0x2e2e01(0x4ec)+JSON[_0x2e2e01(0x461)](_0x534d38[_0x2e2e01(0x75d)])+_0x2e2e01(0x428),_0x1a41d3={'type':_0x2e2e01(0x5dd),'properties':{'questionText':{'type':_0x2e2e01(0x44e)},'questionType':{'type':'STRING'},'options':{'type':_0x2e2e01(0x5f3),'items':{'type':_0x2e2e01(0x44e)}},'correctAnswerIndex':{'type':_0x2e2e01(0x797)},'idealAnswer':{'type':_0x2e2e01(0x44e)},'explanation':{'type':_0x2e2e01(0x44e)},'imageCode':{'type':_0x2e2e01(0x44e)}},'required':[_0x2e2e01(0x1f5),'questionType',_0x2e2e01(0x28c)]},_0x2899f8={'type':_0x2e2e01(0x5dd),'properties':{'questions':{'type':'ARRAY','items':_0x1a41d3}},'required':[_0x2e2e01(0x75d)]},_0x572aae=await callAnalysisApi(_0x4c2323,_0x2899f8);_0x572aae&&_0x572aae[_0x2e2e01(0x75d)]&&_0x572aae['questions'][_0x2e2e01(0x840)](_0x356930=>{const _0x50fa74=_0x2e2e01;_0x356930[_0x50fa74(0x1f5)]&&(_0x356930[_0x50fa74(0x1f5)]=_0x356930[_0x50fa74(0x1f5)][_0x50fa74(0x108)]()[_0x50fa74(0x745)](/,$/,'')['trim']());_0x356930[_0x50fa74(0x4b9)]&&Array[_0x50fa74(0x84f)](_0x356930[_0x50fa74(0x4b9)])&&(_0x356930[_0x50fa74(0x4b9)]=_0x356930[_0x50fa74(0x4b9)][_0x50fa74(0x670)](_0x29707b=>_0x29707b||_0x50fa74(0x22d)));if(_0x356930['imageCode']){const _0x327736=_0x356930[_0x50fa74(0x4f9)][_0x50fa74(0x108)]();_0x327736===''||_0x327736['toLowerCase']()===_0x50fa74(0x3af)||!_0x327736['startsWith']('<svg')?delete _0x356930[_0x50fa74(0x4f9)]:_0x356930[_0x50fa74(0x4f9)]=_0x327736;}});if(!_0x572aae||!_0x572aae[_0x2e2e01(0x75d)]||_0x572aae[_0x2e2e01(0x75d)][_0x2e2e01(0x71e)]===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x40526f={'projectId':_0x534d38[_0x2e2e01(0x6ad)],'quizType':_0x534d38[_0x2e2e01(0x4a1)],'settings':_0x534d38[_0x2e2e01(0x541)],'createdBy':_0x534d38[_0x2e2e01(0x5db)],'status':_0x2e2e01(0x36d),'topic':_0x2e2e01(0x59c)+_0x534d38[_0x2e2e01(0x7e9)],'questions':_0x572aae[_0x2e2e01(0x75d)],'createdAt':new Date()[_0x2e2e01(0x1c9)](),'quizMode':'standard','pairedQuizId':null};let _0x3c245e;while(!![]){_0x3c245e=Math[_0x2e2e01(0x716)](0x3e8+Math['random']()*0x2328)[_0x2e2e01(0x6bb)]();const _0x4fc433=await getDoc(doc(db,_0x2e2e01(0x65b)+appId+_0x2e2e01(0x5fb),_0x3c245e));if(!_0x4fc433[_0x2e2e01(0x2ca)]())break;}await setDoc(doc(db,_0x2e2e01(0x65b)+appId+_0x2e2e01(0x5fb),_0x3c245e),_0x40526f),showMessage(_0x2e2e01(0x8e5));}catch(_0x31fd95){console[_0x2e2e01(0x713)](_0x2e2e01(0x5ad),_0x31fd95),showMessage(_0x2e2e01(0x18f)+_0x31fd95[_0x2e2e01(0x1ce)]);}});}async function generatePracticeQuestions(_0x1edbba){const _0x57c4f9=_0x4f829b,_0x43f749=_0x57c4f9(0x29e)+_0x1edbba+_0x57c4f9(0x628)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x373968={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x57c4f9(0x5f3),'items':{'type':_0x57c4f9(0x44e)}},'correctAnswerIndex':{'type':_0x57c4f9(0x797)},'explanation':{'type':_0x57c4f9(0x44e)}},'required':[_0x57c4f9(0x1f5),'options',_0x57c4f9(0x71a),_0x57c4f9(0x28c)]},_0x5b09b0={'type':_0x57c4f9(0x5dd),'properties':{'topic':{'type':_0x57c4f9(0x44e)},'questions':{'type':_0x57c4f9(0x5f3),'items':_0x373968}},'required':[_0x57c4f9(0x7e9),'questions']};return await callAnalysisApi(_0x43f749,_0x5b09b0);}function displayLessonPlan(_0x2c1c8c,_0xcee11){const _0x219daf=_0x4f829b,_0x1fa5be=_0x219daf(0x5a4)+_0xcee11[_0x219daf(0x7e9)]+_0x219daf(0x5f6)+_0x2c1c8c[_0x219daf(0x296)][_0x219daf(0x670)](_0x3fa982=>_0x219daf(0x6c4)+_0x3fa982+_0x219daf(0x8a3))[_0x219daf(0x14b)]('')+_0x219daf(0x563)+_0x2c1c8c[_0x219daf(0x7ee)]+_0x219daf(0x80c)+_0x2c1c8c[_0x219daf(0x6d2)]['map'](_0x1635a6=>_0x219daf(0x8db)+_0x1635a6[_0x219daf(0x76e)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x1635a6[_0x219daf(0x723)]+_0x219daf(0x2c2))[_0x219daf(0x14b)]('')+_0x219daf(0x816);document[_0x219daf(0x40e)]('lesson-plan-title')[_0x219daf(0x41f)]=_0x219daf(0x1d2)+_0xcee11['topic'],document['getElementById']('lesson-plan-content')[_0x219daf(0x848)]=_0x1fa5be,document[_0x219daf(0x40e)](_0x219daf(0x82e))['classList']['remove'](_0x219daf(0x64a));if(window[_0x219daf(0x273)])MathJax[_0x219daf(0x2f0)]();}function displaySkillPracticeDrill(_0x31bd2a){const _0x14ba81=_0x4f829b;let _0x3171b4=0x0;const _0x3f835b=_0x31bd2a[_0x14ba81(0x75d)],_0x2b5aeb=()=>{const _0x274b42=_0x14ba81,_0x7efe2f=_0x3f835b[_0x3171b4],_0x137d31=_0x274b42(0x59f)+(_0x3171b4+0x1)+_0x274b42(0x255)+_0x3f835b['length']+_0x274b42(0x6d1)+_0x7efe2f[_0x274b42(0x1f5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7efe2f[_0x274b42(0x4b9)][_0x274b42(0x670)]((_0x3fa5dc,_0x30ebea)=>_0x274b42(0x970)+_0x30ebea+_0x274b42(0x253)+_0x30ebea+_0x274b42(0x87b)+_0x30ebea+'\x22>'+_0x3fa5dc+_0x274b42(0x881))['join']('')+_0x274b42(0x384);studentQuizArea[_0x274b42(0x848)]=_0x137d31;if(window['MathJax'])MathJax[_0x274b42(0x2f0)]([studentQuizArea]);document['getElementById'](_0x274b42(0x197))[_0x274b42(0x8ef)](_0x274b42(0x349),async()=>{const _0x39b135=_0x274b42,_0x23d411=await getHintForQuestion(_0x7efe2f[_0x39b135(0x1f5)]);showMessage(_0x23d411);}),document['getElementById']('check-answer-btn')['addEventListener'](_0x274b42(0x349),()=>{const _0x5bf3a2=_0x274b42,_0x1bc911=document[_0x5bf3a2(0x7ac)](_0x5bf3a2(0x4f0));if(!_0x1bc911){showMessage(_0x5bf3a2(0x533));return;}const _0x4485f8=document['getElementById'](_0x5bf3a2(0x8a2)),_0xc4fc11=parseInt(_0x1bc911[_0x5bf3a2(0x2f4)])===_0x7efe2f[_0x5bf3a2(0x71a)];_0xc4fc11?(_0x4485f8[_0x5bf3a2(0x6c5)]=_0x5bf3a2(0x69b),_0x4485f8['innerHTML']=_0x5bf3a2(0x915)+_0x7efe2f['explanation']):(_0x4485f8[_0x5bf3a2(0x6c5)]=_0x5bf3a2(0x5da),_0x4485f8[_0x5bf3a2(0x848)]=_0x5bf3a2(0xfd)+_0x7efe2f[_0x5bf3a2(0x28c)]);_0x4485f8[_0x5bf3a2(0x61a)][_0x5bf3a2(0x193)](_0x5bf3a2(0x64a));if(window['MathJax'])MathJax['typesetPromise']([_0x4485f8]);document['getElementById'](_0x5bf3a2(0x5cb))[_0x5bf3a2(0x61a)][_0x5bf3a2(0x4e9)](_0x5bf3a2(0x64a)),document['getElementById'](_0x5bf3a2(0x197))['classList'][_0x5bf3a2(0x4e9)]('hidden'),document[_0x5bf3a2(0x40e)](_0x5bf3a2(0x8f9))[_0x5bf3a2(0x61a)][_0x5bf3a2(0x193)](_0x5bf3a2(0x64a));}),document['getElementById'](_0x274b42(0x8f9))[_0x274b42(0x8ef)](_0x274b42(0x349),()=>{const _0x243827=_0x274b42;_0x3171b4++,_0x3171b4<_0x3f835b[_0x243827(0x71e)]?_0x2b5aeb():(studentQuizArea[_0x243827(0x848)]=_0x243827(0x3d7),document['getElementById'](_0x243827(0x303))[_0x243827(0x8ef)]('click',()=>{const _0x52601d=_0x243827;studentQuizArea[_0x52601d(0x61a)][_0x52601d(0x4e9)](_0x52601d(0x64a)),studentResultArea[_0x52601d(0x61a)][_0x52601d(0x193)](_0x52601d(0x64a));}));});};_0x2b5aeb();}async function getHintForQuestion(_0x2a93b4){const _0x16550b=_0x4f829b,_0x293a9d='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x2a93b4+_0x16550b(0x32e),_0x330b48={'type':_0x16550b(0x5dd),'properties':{'hint':{'type':_0x16550b(0x44e)}},'required':[_0x16550b(0x7c4)]};try{const _0x1e4f4a=await callAnalysisApi(_0x293a9d,_0x330b48);return _0x1e4f4a[_0x16550b(0x7c4)];}catch(_0x109e68){return console[_0x16550b(0x713)](_0x16550b(0x5c9),_0x109e68),_0x16550b(0x618);}}async function extractTextFromPdf(_0xaf816c){const _0x12eebb=_0x4f829b;pdfjsLib[_0x12eebb(0x3b2)]['workerSrc']=_0x12eebb(0x3f7);const _0x52f85b=await _0xaf816c[_0x12eebb(0x178)](),_0x2e333a=await pdfjsLib[_0x12eebb(0x591)](_0x52f85b)[_0x12eebb(0xf3)],_0x1d6747=_0x2e333a[_0x12eebb(0x6e2)];let _0x524bb6='';for(let _0x4f7999=0x1;_0x4f7999<=_0x1d6747;_0x4f7999++){const _0x22bb60=await _0x2e333a[_0x12eebb(0x503)](_0x4f7999),_0x1cd340=await _0x22bb60[_0x12eebb(0x7e4)](),_0x1e1f18=_0x1cd340[_0x12eebb(0xf5)][_0x12eebb(0x670)](_0x5918e3=>_0x5918e3[_0x12eebb(0x887)])[_0x12eebb(0x14b)]('\x20');_0x524bb6+=_0x1e1f18+'\x0a\x0a';}return _0x524bb6;}async function handleGenerateFromBlueprint(){const _0x141a33=_0x4f829b,_0x58cf8e=document[_0x141a33(0x40e)](_0x141a33(0x32f)),_0x2a2099=document[_0x141a33(0x40e)]('reference-pdf-upload'),_0xd498bb=_0x58cf8e[_0x141a33(0x228)][0x0],_0x42c172=_0x2a2099[_0x141a33(0x228)][_0x141a33(0x71e)]>0x0?_0x2a2099[_0x141a33(0x228)][0x0]:null;if(!_0xd498bb){showMessage(_0x141a33(0x145));return;}const _0x46ab93=document[_0x141a33(0x40e)](_0x141a33(0x62e)),_0x15a87f=document[_0x141a33(0x40e)]('loader-text'),_0x2c92a4=document[_0x141a33(0x40e)](_0x141a33(0x699)),_0x45797b=document[_0x141a33(0x40e)]('generate-from-blueprint-btn');_0x45797b['disabled']=!![],document[_0x141a33(0x40e)](_0x141a33(0x2e2))[_0x141a33(0x61a)][_0x141a33(0x193)](_0x141a33(0x64a)),_0x2c92a4[_0x141a33(0x848)]='',_0x46ab93[_0x141a33(0x61a)]['remove'](_0x141a33(0x64a));try{_0x15a87f[_0x141a33(0x41f)]='กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...';const _0x290476=await extractTextFromPdf(_0xd498bb);if(!_0x290476['trim']())throw new Error(_0x141a33(0x4c2));let _0x145304='';_0x42c172&&(_0x15a87f[_0x141a33(0x41f)]='กำลังอ่านไฟล์ข้อสอบอ้างอิง...',_0x145304=await extractTextFromPdf(_0x42c172));_0x15a87f[_0x141a33(0x41f)]=_0x141a33(0x793);const _0x1c9ce3=document['getElementById'](_0x141a33(0x763))[_0x141a33(0x137)],_0x43969a=_0x1c9ce3?_0x141a33(0x1cd):'',_0x69267e=_0x145304?_0x141a33(0x161)+_0x145304+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0xe7cf1d=_0x141a33(0x110)+(_0x145304?'2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ':'')+_0x141a33(0x19d)+_0x290476+_0x141a33(0x3d4)+_0x69267e+_0x141a33(0x46f)+_0x43969a+_0x141a33(0x104)+simpleMathPrompt+_0x141a33(0x2cd),_0x55c3a7={'type':_0x141a33(0x5dd),'properties':{'questionText':{'type':_0x141a33(0x44e)},'questionType':{'type':_0x141a33(0x44e),'enum':[_0x141a33(0x7c3),'short_answer']},'options':{'type':_0x141a33(0x5f3),'items':{'type':_0x141a33(0x44e)}},'correctAnswerIndex':{'type':_0x141a33(0x797)},'idealAnswer':{'type':_0x141a33(0x44e)},'explanation':{'type':_0x141a33(0x44e)},'imageCode':{'type':_0x141a33(0x44e)}},'required':['questionText',_0x141a33(0x1eb),'explanation']},_0x1ca5e6={'type':_0x141a33(0x5dd),'properties':{'topic':{'type':_0x141a33(0x44e)},'questions':{'type':_0x141a33(0x5f3),'items':_0x55c3a7}},'required':[_0x141a33(0x7e9),_0x141a33(0x75d)]};await handleApiCall(_0xe7cf1d,_0x141a33(0x505),_0x1ca5e6);}catch(_0x42a329){console[_0x141a33(0x713)](_0x141a33(0x44a),_0x42a329),showMessage(_0x141a33(0x18f)+_0x42a329[_0x141a33(0x1ce)]),_0x2c92a4[_0x141a33(0x848)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>';}finally{_0x46ab93[_0x141a33(0x61a)][_0x141a33(0x4e9)](_0x141a33(0x64a)),_0x45797b[_0x141a33(0x1e2)]=![];}}async function handleGenerateParallelFromBank(_0x403a84){const _0x259767=_0x4f829b;switchProjectTab(_0x259767(0x82f));const _0x2ba3ca=document[_0x259767(0x40e)]('loader'),_0x36aabf=document[_0x259767(0x40e)]('loader-text'),_0x3ea360=document[_0x259767(0x40e)](_0x259767(0x699));document[_0x259767(0x40e)](_0x259767(0x2e2))[_0x259767(0x61a)][_0x259767(0x193)]('hidden'),_0x3ea360[_0x259767(0x848)]='',_0x2ba3ca[_0x259767(0x61a)]['remove'](_0x259767(0x64a)),_0x36aabf[_0x259767(0x41f)]=_0x259767(0x3e8)+_0x403a84[_0x259767(0x7e9)]+_0x259767(0x66b);try{const _0x1ee686=_0x403a84[_0x259767(0x75d)][_0x259767(0x670)]((_0x7961b,_0x2dc449)=>{const _0x1dd33d=_0x259767;let _0xfce027=_0x2dc449+0x1+'.\x20'+(_0x7961b[_0x1dd33d(0x1f5)]||_0x7961b['stem'])+'\x0a';if(_0x7961b[_0x1dd33d(0x4b9)])_0xfce027+=_0x7961b['options'][_0x1dd33d(0x670)]((_0x6cad95,_0x291cf0)=>'\x20\x20\x20-\x20'+(_0x291cf0===_0x7961b['correctAnswerIndex']?_0x1dd33d(0x55f):'')+'\x20'+_0x6cad95)[_0x1dd33d(0x14b)]('\x0a');else _0x7961b[_0x1dd33d(0x2dd)]&&(_0xfce027+=_0x1dd33d(0x180)+_0x7961b[_0x1dd33d(0x2dd)]);return _0xfce027;})['join']('\x0a\x0a');_0x36aabf[_0x259767(0x41f)]=_0x259767(0x7a1);const _0x5b1072=_0x403a84['questions'][_0x259767(0x71e)],_0x40b97e=_0x259767(0x93a)+_0x403a84[_0x259767(0x7e9)]+_0x259767(0x6c7)+_0x5b1072+'\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ee686+_0x259767(0x7ea)+_0x5b1072+_0x259767(0x2bc)+simpleMathPrompt+_0x259767(0x2cd),_0x196e2a={'type':_0x259767(0x5dd),'properties':{'questionText':{'type':_0x259767(0x44e)},'questionType':{'type':_0x259767(0x44e),'enum':['multiple_choice','short_answer',_0x259767(0x421),_0x259767(0x402)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x259767(0x44e)},'correctAnswer':{'type':_0x259767(0x558)},'stem':{'type':_0x259767(0x44e)},'correctResponse':{'type':_0x259767(0x44e)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x259767(0x44e)}},'required':['questionText',_0x259767(0x1eb),_0x259767(0x28c)]},_0x2e89e7={'type':_0x259767(0x5dd),'properties':{'topic':{'type':_0x259767(0x44e)},'questions':{'type':_0x259767(0x5f3),'items':_0x196e2a}},'required':[_0x259767(0x7e9),_0x259767(0x75d)]},_0x3ecf3f=await callAnalysisApi(_0x40b97e,_0x2e89e7);_0x3ecf3f[_0x259767(0x75d)][_0x259767(0x71e)]>_0x5b1072&&(_0x3ecf3f[_0x259767(0x75d)]=_0x3ecf3f['questions'][_0x259767(0x12a)](0x0,_0x5b1072)),_0x3ecf3f[_0x259767(0x7e9)]='(คู่ขนาน)\x20'+_0x403a84['topic'],_0x3ecf3f['quizType']=_0x403a84['quizType'],currentQuizData=_0x3ecf3f,displayGeneratedQuiz(_0x3ecf3f),document[_0x259767(0x40e)](_0x259767(0x5b2))[_0x259767(0x328)]({'behavior':_0x259767(0x60e)});}catch(_0x18449b){console[_0x259767(0x713)](_0x259767(0x3fe),_0x18449b),showMessage(_0x259767(0x18f)+_0x18449b['message']),_0x3ea360[_0x259767(0x848)]=_0x259767(0x7c9);}finally{_0x2ba3ca[_0x259767(0x61a)][_0x259767(0x4e9)](_0x259767(0x64a));}}async function handleGenerateParallelPostTest(_0x2cfe38){const _0x4b6434=_0x4f829b,_0x5c0bdf=document[_0x4b6434(0x40e)](_0x4b6434(0x565)),_0x156468=document[_0x4b6434(0x40e)](_0x4b6434(0x510));_0x156468[_0x4b6434(0x61a)][_0x4b6434(0x4e9)](_0x4b6434(0x64a));const _0x1fae09=_0x4b6434(0x432);_0x5c0bdf[_0x4b6434(0x3cc)](_0x4b6434(0x2be),_0x1fae09);try{const _0x4ea211=_0x2cfe38[_0x4b6434(0x75d)]['map']((_0x3ac8a7,_0x140657)=>{const _0x3205ca=_0x4b6434;let _0x2ece46=_0x140657+0x1+'.\x20'+(_0x3ac8a7['questionText']||_0x3ac8a7['stem']);if(_0x3ac8a7['options'])_0x2ece46+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x3ac8a7[_0x3205ca(0x4b9)][_0x3205ca(0x14b)](',\x20');return _0x2ece46;})[_0x4b6434(0x14b)]('\x0a\x0a'),_0x39aaff=_0x4b6434(0x260)+_0x2cfe38[_0x4b6434(0x7e9)]+_0x4b6434(0x794)+_0x4ea211+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x4b6434(0x2cd),_0x466cbf={'type':_0x4b6434(0x5dd),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':{'type':_0x4b6434(0x5dd),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x4b6434(0x44e)},'options':{'type':_0x4b6434(0x5f3),'items':{'type':_0x4b6434(0x44e)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4b6434(0x44e)},'explanation':{'type':_0x4b6434(0x44e)}},'required':[_0x4b6434(0x1f5),'explanation']}}},'required':[_0x4b6434(0x7e9),_0x4b6434(0x75d)]},_0x56c4d2=await callAnalysisApi(_0x39aaff,_0x466cbf),_0x370fd0=_0x2cfe38[_0x4b6434(0x7e9)]['replace'](_0x4b6434(0x14d),'')['trim'](),_0x5175d4=_0x4b6434(0x6d3)+_0x370fd0,_0x2a70c6={..._0x56c4d2,'topic':_0x5175d4,'quizType':_0x2cfe38['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x4b6434(0x1c9)](),'status':_0x4b6434(0x36d),'settings':_0x2cfe38[_0x4b6434(0x541)],'quizMode':_0x4b6434(0x336),'pairedQuizId':_0x2cfe38['id']};let _0x30a278;while(!![]){_0x30a278=Math[_0x4b6434(0x716)](0x3e8+Math[_0x4b6434(0x6de)]()*0x2328)[_0x4b6434(0x6bb)]();const _0x1c9abc=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x30a278));if(!_0x1c9abc[_0x4b6434(0x2ca)]())break;}await setDoc(doc(db,_0x4b6434(0x65b)+appId+_0x4b6434(0x5fb),_0x30a278),_0x2a70c6);const _0x341ba5=doc(db,_0x4b6434(0x65b)+appId+'/public/data/quizzes',_0x2cfe38['id']);await updateDoc(_0x341ba5,{'pairedQuizId':_0x30a278}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x970563){console[_0x4b6434(0x713)](_0x4b6434(0x86c),_0x970563),showMessage(_0x4b6434(0x18f)+_0x970563[_0x4b6434(0x1ce)]);}finally{const _0x27fafb=document[_0x4b6434(0x40e)](_0x4b6434(0x876));if(_0x27fafb)_0x27fafb[_0x4b6434(0x193)]();_0x156468[_0x4b6434(0x61a)][_0x4b6434(0x193)](_0x4b6434(0x64a));}}async function handleGenerateParallelTest(){const _0x5d6be5=_0x4f829b,_0x50358a=document[_0x5d6be5(0x40e)](_0x5d6be5(0x616)),_0x463fa4=_0x50358a[_0x5d6be5(0x228)][0x0];if(!_0x463fa4){showMessage(_0x5d6be5(0x802));return;}const _0x4eaa55=document[_0x5d6be5(0x40e)](_0x5d6be5(0x62e)),_0x5b78b2=document[_0x5d6be5(0x40e)](_0x5d6be5(0x3e5)),_0x916d34=document[_0x5d6be5(0x40e)](_0x5d6be5(0x699)),_0x409733=document['getElementById'](_0x5d6be5(0x4dc));_0x409733[_0x5d6be5(0x1e2)]=!![],document[_0x5d6be5(0x40e)](_0x5d6be5(0x2e2))[_0x5d6be5(0x61a)][_0x5d6be5(0x193)](_0x5d6be5(0x64a)),_0x916d34[_0x5d6be5(0x848)]='',_0x4eaa55[_0x5d6be5(0x61a)]['remove'](_0x5d6be5(0x64a)),_0x5b78b2[_0x5d6be5(0x41f)]='กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...';try{const _0x4e3a3c=await extractTextFromPdf(_0x463fa4);if(!_0x4e3a3c['trim']())throw new Error(_0x5d6be5(0x488));_0x5b78b2['textContent']=_0x5d6be5(0x7a1);const _0xd84864=document[_0x5d6be5(0x40e)]('include-images-checkbox')[_0x5d6be5(0x137)],_0x4411c7=_0xd84864?_0x5d6be5(0x1cd):'',_0x169fd2=_0x5d6be5(0x460)+_0x4e3a3c+_0x5d6be5(0x214)+_0x4411c7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x5d6be5(0x2cd),_0x3af465={'type':'OBJECT','properties':{'questionText':{'type':_0x5d6be5(0x44e)},'questionType':{'type':_0x5d6be5(0x44e),'enum':[_0x5d6be5(0x7c3),'short_answer']},'options':{'type':_0x5d6be5(0x5f3),'items':{'type':_0x5d6be5(0x44e)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x5d6be5(0x44e)},'explanation':{'type':_0x5d6be5(0x44e)},'imageCode':{'type':_0x5d6be5(0x44e)}},'required':[_0x5d6be5(0x1f5),'questionType','explanation']},_0x25deed={'type':_0x5d6be5(0x5dd),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5d6be5(0x5f3),'items':_0x3af465}},'required':['topic','questions']};await handleApiCall(_0x169fd2,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x25deed);}catch(_0x19a511){console[_0x5d6be5(0x713)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x19a511),showMessage(_0x5d6be5(0x18f)+_0x19a511[_0x5d6be5(0x1ce)]),_0x916d34[_0x5d6be5(0x848)]=_0x5d6be5(0x7c9);}finally{_0x4eaa55[_0x5d6be5(0x61a)]['add'](_0x5d6be5(0x64a)),_0x409733[_0x5d6be5(0x1e2)]=![];}}async function handleRegenerateQuestionInEditor(_0x56d3c7){const _0x52f9ed=_0x4f829b;if(currentEditingQuizData===null)return;const _0x1492de=document[_0x52f9ed(0x7ac)](_0x52f9ed(0x949)+_0x56d3c7+'\x22]');_0x1492de&&(_0x1492de[_0x52f9ed(0x848)]=_0x52f9ed(0x4f8));const _0x18b19c=currentEditingQuizData['questions'][_0x56d3c7],_0x53382c=currentEditingQuizData[_0x52f9ed(0x7e9)],_0x91efd=_0x18b19c['questionType'],_0xaf8f58={'type':_0x52f9ed(0x5dd),'properties':{'questionText':{'type':_0x52f9ed(0x44e)},'options':{'type':_0x52f9ed(0x5f3),'items':{'type':_0x52f9ed(0x44e)}},'correctAnswerIndex':{'type':_0x52f9ed(0x797)},'explanation':{'type':_0x52f9ed(0x44e)}},'required':['questionText',_0x52f9ed(0x4b9),_0x52f9ed(0x71a),'explanation']},_0x86e12e={'type':_0x52f9ed(0x5dd),'properties':{'questionText':{'type':_0x52f9ed(0x44e)},'idealAnswer':{'type':_0x52f9ed(0x44e)},'explanation':{'type':_0x52f9ed(0x44e)}},'required':[_0x52f9ed(0x1f5),_0x52f9ed(0x2dd),_0x52f9ed(0x28c)]};let _0x87302f,_0x1d8a7e='';_0x91efd===_0x52f9ed(0x7c3)?(_0x87302f=_0xaf8f58,_0x1d8a7e=_0x52f9ed(0x509)):(_0x87302f=_0x86e12e,_0x1d8a7e='แบบเติมคำตอบ');const _0x234c85=_0x52f9ed(0x438)+_0x53382c+_0x52f9ed(0x20d)+_0x1d8a7e+_0x52f9ed(0x774)+(_0x18b19c[_0x52f9ed(0x1f5)]||_0x18b19c[_0x52f9ed(0x425)])+_0x52f9ed(0x3fa)+simpleMathPrompt;try{const _0x15ed26=await callAnalysisApi(_0x234c85,_0x87302f);currentEditingQuizData['questions'][_0x56d3c7]={..._0x18b19c,..._0x15ed26},renderQuizEditor(currentEditingQuizData);}catch(_0x59518c){console[_0x52f9ed(0x713)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x59518c),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x4d4dc9=_0x4f829b,_0x382833=document[_0x4d4dc9(0x40e)]('mode-switcher-btn');currentMode===_0x4d4dc9(0x140)?(currentMode=_0x4d4dc9(0x7ec),_0x382833[_0x4d4dc9(0x848)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x382833[_0x4d4dc9(0x1f0)]='สลับไปโหมดนักเรียน',showView(_0x4d4dc9(0x331))):(currentMode='student',_0x382833[_0x4d4dc9(0x848)]=_0x4d4dc9(0x7df),_0x382833[_0x4d4dc9(0x1f0)]=_0x4d4dc9(0x35d),showView(_0x4d4dc9(0x140)));}function handleAdminLogin(){const _0x1117f0=_0x4f829b,_0x27cc3f=document['getElementById'](_0x1117f0(0x312)),_0x47b1fd=document[_0x1117f0(0x40e)](_0x1117f0(0x1f4));if(_0x27cc3f[_0x1117f0(0x2f4)]===_0x1117f0(0x4c9)){adminPasswordModal['classList'][_0x1117f0(0x4e9)](_0x1117f0(0x64a)),_0x27cc3f[_0x1117f0(0x2f4)]='',_0x47b1fd[_0x1117f0(0x61a)][_0x1117f0(0x4e9)](_0x1117f0(0x64a)),currentMode=_0x1117f0(0x7ec);const _0x2eee2f=document[_0x1117f0(0x40e)]('mode-switcher-btn');_0x2eee2f['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x2eee2f[_0x1117f0(0x1f0)]=_0x1117f0(0x34f),showView(_0x1117f0(0x331));}else _0x47b1fd[_0x1117f0(0x61a)][_0x1117f0(0x193)](_0x1117f0(0x64a)),_0x27cc3f[_0x1117f0(0x2f4)]='';}function switchProjectTab(_0x28e821){const _0x3314c6=_0x4f829b;[_0x3314c6(0x82f),'results','leaderboard'][_0x3314c6(0x840)](_0x1f48c5=>{const _0x2f66f9=_0x3314c6;document[_0x2f66f9(0x40e)](_0x1f48c5+_0x2f66f9(0x279))[_0x2f66f9(0x61a)][_0x2f66f9(0x193)]('active'),document[_0x2f66f9(0x40e)](_0x1f48c5+_0x2f66f9(0x941))[_0x2f66f9(0x61a)][_0x2f66f9(0x4e9)]('hidden');}),document['getElementById'](_0x28e821+_0x3314c6(0x279))[_0x3314c6(0x61a)][_0x3314c6(0x4e9)](_0x3314c6(0x36d)),document[_0x3314c6(0x40e)](_0x28e821+_0x3314c6(0x941))[_0x3314c6(0x61a)]['remove'](_0x3314c6(0x64a));}function switchQuizDetailTab(_0x58cf37){const _0x525f07=_0x4f829b,_0x23f7dc={'analytics':{'btn':_0x525f07(0x884),'content':_0x525f07(0x819)},'scores':{'btn':'scores-tab-btn','content':_0x525f07(0x20e)},'leaderboard-quiz':{'btn':_0x525f07(0x141),'content':_0x525f07(0x8e3)},'behavior-log':{'btn':_0x525f07(0x4a8),'content':_0x525f07(0x7ef)}};for(const _0x12c161 in _0x23f7dc){document[_0x525f07(0x40e)](_0x23f7dc[_0x12c161]['btn'])[_0x525f07(0x61a)][_0x525f07(0x193)](_0x525f07(0x36d)),document[_0x525f07(0x40e)](_0x23f7dc[_0x12c161][_0x525f07(0x39a)])['classList']['add']('hidden');}document[_0x525f07(0x40e)](_0x23f7dc[_0x58cf37]['btn'])[_0x525f07(0x61a)]['add'](_0x525f07(0x36d)),document[_0x525f07(0x40e)](_0x23f7dc[_0x58cf37][_0x525f07(0x39a)])[_0x525f07(0x61a)][_0x525f07(0x193)]('hidden');}function showMessage(_0x37bad4,_0x1f71d5=null){const _0x1c335f=_0x4f829b;modalMessage[_0x1c335f(0x41f)]=_0x37bad4,modalConfirmAction=_0x1f71d5,messageModal[_0x1c335f(0x61a)][_0x1c335f(0x193)]('hidden');}function _0x9ccb(_0x172f4e,_0x536bdd){const _0x2571e4=_0x2571();return _0x9ccb=function(_0x9ccb50,_0x479634){_0x9ccb50=_0x9ccb50-0xe1;let _0x5a5282=_0x2571e4[_0x9ccb50];return _0x5a5282;},_0x9ccb(_0x172f4e,_0x536bdd);}function showConfirmation(_0x4a821f,_0x2acf60){const _0x46a070=_0x4f829b;document[_0x46a070(0x40e)](_0x46a070(0x6b8))[_0x46a070(0x41f)]=_0x4a821f,document['getElementById']('confirmation-modal')['querySelector']('h3')['textContent']=_0x46a070(0x895),confirmAction=_0x2acf60,confirmationModal['classList'][_0x46a070(0x193)](_0x46a070(0x64a));}function listenForProjects(){const _0x318178=_0x4f829b,_0x1af186=doc(db,_0x318178(0x1de),_0x318178(0x90b));onSnapshot(_0x1af186,_0x50fe84=>{const _0x5cea73=_0x318178;if(_0x50fe84[_0x5cea73(0x2ca)]()){const _0x3b4245=_0x50fe84['data']();globalDashboardSettings[_0x5cea73(0x625)]=_0x3b4245[_0x5cea73(0x625)]||_0x5cea73(0x690),globalDashboardSettings['pinnedProjects']=_0x3b4245[_0x5cea73(0x6e5)]||[],globalDashboardSettings[_0x5cea73(0x1ea)]=_0x3b4245[_0x5cea73(0x1ea)]||[];}allProjects[_0x5cea73(0x71e)]>0x0&&renderProjects();});const _0x241b10=collection(db,'artifacts/'+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x241b10,_0x17e37f=>{const _0x184896=_0x318178;allProjects=_0x17e37f['docs'][_0x184896(0x670)](_0x409d42=>({'id':_0x409d42['id'],..._0x409d42['data']()})),renderProjects();},_0xdf4285=>{const _0x4a7ad4=_0x318178;console[_0x4a7ad4(0x713)](_0x4a7ad4(0x26b),_0xdf4285),showMessage(_0x4a7ad4(0x495));});}function showColorPalette(_0x3a65a5,_0x5db0d9){const _0x31d037=_0x4f829b;document['querySelectorAll'](_0x31d037(0x101))['forEach'](_0x2dd39a=>_0x2dd39a[_0x31d037(0x193)]());const _0x5c95a4=[_0x31d037(0x381),_0x31d037(0x11a),_0x31d037(0x3a7),_0x31d037(0x1a3),_0x31d037(0x5b0),_0x31d037(0x8f2),'#F3E8FF',_0x31d037(0x89a),'#E5E7EB'],_0x248673=document[_0x31d037(0x4c1)](_0x31d037(0x3dc));_0x248673[_0x31d037(0x6c5)]=_0x31d037(0x921),_0x5c95a4[_0x31d037(0x840)](_0x2189ab=>{const _0x3e6955=_0x31d037,_0x260eea=document['createElement'](_0x3e6955(0x3dc));_0x260eea[_0x3e6955(0x6c5)]=_0x3e6955(0x49e),_0x260eea[_0x3e6955(0x49c)]['backgroundColor']=_0x2189ab,_0x260eea[_0x3e6955(0x8ef)]('click',()=>{const _0x505a43=_0x3e6955;handleProjectColorChange(_0x5db0d9,_0x2189ab),_0x248673[_0x505a43(0x193)]();}),_0x248673[_0x3e6955(0x202)](_0x260eea);}),document[_0x31d037(0x497)][_0x31d037(0x202)](_0x248673);const _0x3be6b2=_0x3a65a5[_0x31d037(0x93c)]();_0x248673[_0x31d037(0x49c)][_0x31d037(0x7a7)]=_0x3be6b2[_0x31d037(0x105)]+window[_0x31d037(0x15b)]+'px',_0x248673[_0x31d037(0x49c)][_0x31d037(0x96f)]=_0x3be6b2['left']+window[_0x31d037(0x818)]-_0x248673['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x4661b6,_0x5d6b90){const _0x111c74=_0x4f829b,_0x7fa28c=doc(db,_0x111c74(0x65b)+appId+'/public/data/projects',_0x4661b6);try{await updateDoc(_0x7fa28c,{'color':_0x5d6b90});}catch(_0x44f521){console['error'](_0x111c74(0x23d),_0x44f521),showMessage(_0x111c74(0x269));}}async function renderProjects(){const _0x5c3fe1=_0x4f829b,_0x2a730c=globalDashboardSettings['projectSort']||'date_desc',_0x4a33a8=new Set(globalDashboardSettings[_0x5c3fe1(0x6e5)]||[]),_0x3326c2=globalDashboardSettings[_0x5c3fe1(0x52d)]||_0x5c3fe1(0x7fe),_0x46c02b=document[_0x5c3fe1(0x40e)](_0x5c3fe1(0x811)),_0x34b892=document['getElementById']('list-view-btn');_0x46c02b[_0x5c3fe1(0x61a)]['toggle']('active',_0x3326c2==='grid'),_0x34b892['classList'][_0x5c3fe1(0x2e0)]('active',_0x3326c2===_0x5c3fe1(0x368)),document[_0x5c3fe1(0x40e)](_0x5c3fe1(0x654))[_0x5c3fe1(0x2f4)]=_0x2a730c;const _0x147b85=document[_0x5c3fe1(0x40e)]('project-search-input')[_0x5c3fe1(0x2f4)][_0x5c3fe1(0x7bf)]();let _0x98b65b=allProjects[_0x5c3fe1(0x89b)](_0x3908cb=>_0x3908cb[_0x5c3fe1(0x943)]['toLowerCase']()[_0x5c3fe1(0x789)](_0x147b85));const _0x3d109a=_0x98b65b['filter'](_0x507998=>_0x4a33a8[_0x5c3fe1(0x379)](_0x507998['id'])),_0x224047=_0x98b65b[_0x5c3fe1(0x89b)](_0x5192db=>!_0x4a33a8[_0x5c3fe1(0x379)](_0x5192db['id'])),_0x4f48e5=(_0x48e346,_0x49ee02)=>{const _0x38c936=_0x5c3fe1;switch(_0x2a730c){case _0x38c936(0x19c):return _0x48e346['projectName'][_0x38c936(0x5b9)](_0x49ee02[_0x38c936(0x943)],'th');case _0x38c936(0x676):return _0x49ee02[_0x38c936(0x943)][_0x38c936(0x5b9)](_0x48e346[_0x38c936(0x943)],'th');case _0x38c936(0x92e):return new Date(_0x48e346['createdAt'])-new Date(_0x49ee02[_0x38c936(0x5c5)]);default:return new Date(_0x49ee02[_0x38c936(0x5c5)])-new Date(_0x48e346[_0x38c936(0x5c5)]);}};_0x3d109a[_0x5c3fe1(0x831)](_0x4f48e5),_0x224047[_0x5c3fe1(0x831)](_0x4f48e5);const _0xbf70af=[..._0x3d109a,..._0x224047],_0x28c929=globalDashboardSettings[_0x5c3fe1(0x1ea)]||[];_0x28c929[_0x5c3fe1(0x71e)]>0x0&&_0x3326c2==='grid'&&_0xbf70af[_0x5c3fe1(0x831)]((_0x1c29c8,_0x4bca66)=>{const _0x3e646d=_0x5c3fe1,_0x43022f=_0x28c929['indexOf'](_0x1c29c8['id']),_0x1017f3=_0x28c929[_0x3e646d(0x6f9)](_0x4bca66['id']);if(_0x43022f===-0x1)return 0x1;if(_0x1017f3===-0x1)return-0x1;return _0x43022f-_0x1017f3;});const _0x4bef11={};await Promise[_0x5c3fe1(0x791)](_0xbf70af[_0x5c3fe1(0x670)](async _0x45975c=>{const _0x12f061=_0x5c3fe1,_0x4d7d68=query(collection(db,_0x12f061(0x65b)+appId+'/public/data/quizzes'),where('projectId','==',_0x45975c['id'])),_0x2a0b87=await getDocs(_0x4d7d68);_0x4bef11[_0x45975c['id']]=_0x2a0b87[_0x12f061(0x78a)];}));const _0x195096=document[_0x5c3fe1(0x40e)](_0x5c3fe1(0x8bf));let _0x5340da='';if(_0x3326c2===_0x5c3fe1(0x7fe)){_0x195096[_0x5c3fe1(0x6c5)]=_0x5c3fe1(0x24e);if(starredQuizzes['length']>0x0&&_0x147b85===''){const _0x306b2c=starredQuizzes[_0x5c3fe1(0x670)](_0x21320c=>{const _0x57bcb0=_0x5c3fe1,_0x692e45=allProjects[_0x57bcb0(0x742)](_0x35d49d=>_0x35d49d['id']===_0x21320c[_0x57bcb0(0x6ad)]);return{..._0x21320c,'projectName':_0x692e45?_0x692e45['projectName']:_0x57bcb0(0x41c)};});_0x5340da+=_0x5c3fe1(0x2da)+_0x306b2c['map'](_0x1a4566=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x1a4566['topic']+'\x22>'+_0x1a4566['topic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x1a4566[_0x5c3fe1(0x943)]+_0x5c3fe1(0x4a0)+_0x1a4566['projectName']+_0x5c3fe1(0x17d))[_0x5c3fe1(0x14b)]('')+_0x5c3fe1(0x246)+starredQuizzes[_0x5c3fe1(0x71e)]+_0x5c3fe1(0x639);}_0xbf70af['forEach'](_0x2dac50=>{const _0x1f6abf=_0x5c3fe1,_0x9960db=_0x4bef11[_0x2dac50['id']]??0x0,_0x530923=_0x4a33a8[_0x1f6abf(0x379)](_0x2dac50['id']),_0xaa3a06=_0x2dac50['color']||'#FFFFFF',_0x33746b=parseInt(_0xaa3a06[_0x1f6abf(0x8ae)](0x1,0x3),0x10)*0.299+parseInt(_0xaa3a06['substring'](0x3,0x5),0x10)*0.587+parseInt(_0xaa3a06[_0x1f6abf(0x8ae)](0x5,0x7),0x10)*0.114<0xba,_0x32fe47=_0x33746b?'text-white':_0x1f6abf(0x62a),_0x117987=_0x33746b?'text-gray-200':_0x1f6abf(0x365);_0x5340da+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x530923?_0x1f6abf(0x5b5):_0x1f6abf(0x288))+_0x1f6abf(0x407)+_0xaa3a06+_0x1f6abf(0x8dc)+_0x2dac50['id']+_0x1f6abf(0x6c9)+_0x2dac50['id']+_0x1f6abf(0x27a)+(_0x33746b?_0x1f6abf(0x26e):_0x1f6abf(0x223))+_0x1f6abf(0x7f5)+_0x2dac50['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x33746b?_0x1f6abf(0x26e):_0x1f6abf(0x223))+_0x1f6abf(0x2d1)+(_0x530923?_0x33746b?_0x1f6abf(0x8d5):_0x1f6abf(0x12e):'')+_0x1f6abf(0x55c)+_0x2dac50['id']+_0x1f6abf(0x56a)+_0x32fe47+'\x20pointer-events-none\x22>'+_0x2dac50[_0x1f6abf(0x943)]+_0x1f6abf(0x5b7)+_0x117987+_0x1f6abf(0x878)+new Date(_0x2dac50[_0x1f6abf(0x5c5)])[_0x1f6abf(0x453)](_0x1f6abf(0x4d5))+_0x1f6abf(0x570)+(_0x33746b?'text-gray-100':'text-gray-700')+_0x1f6abf(0x3a5)+_0x9960db+_0x1f6abf(0x8d4)+_0x2dac50['id']+_0x1f6abf(0x5f4)+_0x2dac50[_0x1f6abf(0x943)]+_0x1f6abf(0xf9)+(_0x33746b?_0x1f6abf(0x828):'text-red-500\x20hover:text-red-700')+_0x1f6abf(0x87f);});}else _0x195096[_0x5c3fe1(0x6c5)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x5c3fe1(0x71e)]>0x0&&_0x147b85===''&&(_0x5340da+=_0x5c3fe1(0x40c)+starredQuizzes['length']+_0x5c3fe1(0x84a)),_0x5340da+=_0x5c3fe1(0x43b),_0xbf70af['forEach'](_0x136b6a=>{const _0x188e7e=_0x5c3fe1,_0x5914bb=_0x4bef11[_0x136b6a['id']]??0x0,_0x43080a=_0x4a33a8['has'](_0x136b6a['id']);_0x5340da+=_0x188e7e(0x4d6)+(_0x136b6a[_0x188e7e(0x856)]||_0x188e7e(0x1b0))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x136b6a['id']+_0x188e7e(0x7fa)+_0x136b6a[_0x188e7e(0x943)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x5914bb+_0x188e7e(0x28b)+new Date(_0x136b6a['createdAt'])['toLocaleString']('th-TH')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x136b6a['id']+_0x188e7e(0x243)+(_0x43080a?_0x188e7e(0x12e):'')+_0x188e7e(0x842)+_0x136b6a['id']+_0x188e7e(0x5f4)+_0x136b6a[_0x188e7e(0x943)]+_0x188e7e(0x1f9);});projectList['innerHTML']=_0x5340da,noProjectsMsg[_0x5c3fe1(0x61a)][_0x5c3fe1(0x2e0)](_0x5c3fe1(0x64a),_0x5340da[_0x5c3fe1(0x71e)]>0x0);}document[_0x4f829b(0x40e)](_0x4f829b(0x577))[_0x4f829b(0x8ef)]('click',async()=>{const _0x14f08e=_0x4f829b,_0x31b10d=document[_0x14f08e(0x40e)](_0x14f08e(0x6f2)),_0x8a0792=_0x31b10d['value'][_0x14f08e(0x108)]();if(!_0x8a0792){showMessage(_0x14f08e(0x860));return;}try{const _0xd762de=doc(collection(db,_0x14f08e(0x65b)+appId+'/public/data/projects'));await setDoc(_0xd762de,{'projectName':_0x8a0792,'students':[],'settings':{'resultsDisplay':_0x14f08e(0x919),'shuffleSetting':_0x14f08e(0x732),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x14f08e(0x732),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x14f08e(0x1c9)]()}),_0x31b10d['value']='',createProjectModal[_0x14f08e(0x61a)][_0x14f08e(0x4e9)](_0x14f08e(0x64a)),showMessage(_0x14f08e(0x5e9));}catch(_0x421c9c){console[_0x14f08e(0x713)](_0x14f08e(0x13a),_0x421c9c),showMessage(_0x14f08e(0x748));}}),projectList['addEventListener'](_0x4f829b(0x349),async _0x9c0609=>{const _0x558c76=_0x4f829b,_0x52ef1f=_0x9c0609[_0x558c76(0x261)][_0x558c76(0x871)](_0x558c76(0x147)),_0x143e69=_0x9c0609['target'][_0x558c76(0x871)]('.delete-project-btn'),_0x4e2061=_0x9c0609['target']['closest']('.pin-project-btn'),_0x7cfdc8=_0x9c0609[_0x558c76(0x261)][_0x558c76(0x871)](_0x558c76(0x46d));if(_0x4e2061){const _0x54779b=_0x4e2061[_0x558c76(0x850)]['id'],_0x5e87a4=doc(db,_0x558c76(0x1de),_0x558c76(0x90b)),_0x2e66d=globalDashboardSettings['pinnedProjects'];let _0x2e5590;_0x2e66d[_0x558c76(0x789)](_0x54779b)?_0x2e5590=_0x2e66d[_0x558c76(0x89b)](_0x4d992c=>_0x4d992c!==_0x54779b):_0x2e5590=[..._0x2e66d,_0x54779b];try{await setDoc(_0x5e87a4,{'pinnedProjects':_0x2e5590},{'merge':!![]});}catch(_0x523534){console['error'](_0x558c76(0xf7),_0x523534),showMessage(_0x558c76(0x91f));}}else{if(_0x7cfdc8){const _0x5759c5=_0x7cfdc8[_0x558c76(0x850)]['id'];showColorPalette(_0x7cfdc8,_0x5759c5);}else{if(_0x52ef1f){const _0x2c3955=_0x52ef1f['dataset']['id'];_0x2c3955===_0x558c76(0x40a)?showStarredProjectView():(currentProjectId=_0x2c3955,await loadProjectDetails(currentProjectId),showView(_0x558c76(0x561)));}else{if(_0x143e69){const _0x1b9f65=_0x143e69['dataset']['id'],_0x14773a=_0x143e69['dataset'][_0x558c76(0x3ab)];showConfirmation(_0x558c76(0x238)+_0x14773a+_0x558c76(0x1a9),()=>handleDeleteProject(_0x1b9f65));}}}}}),projectList['addEventListener'](_0x4f829b(0x4d1),_0x100b39=>{const _0x3b5c22=_0x4f829b,_0x2d37d6=_0x100b39[_0x3b5c22(0x261)]['closest']('.project-card-container');_0x2d37d6&&_0x2d37d6[_0x3b5c22(0x61a)]['add']('opacity-50');}),projectList[_0x4f829b(0x8ef)]('dragend',_0x182586=>{const _0x203c9c=_0x4f829b,_0x17756d=_0x182586['target']['closest'](_0x203c9c(0x449));_0x17756d&&_0x17756d[_0x203c9c(0x61a)][_0x203c9c(0x193)](_0x203c9c(0x826));}),projectList[_0x4f829b(0x8ef)](_0x4f829b(0x73f),_0x4b11b9=>{const _0x1df252=_0x4f829b;_0x4b11b9[_0x1df252(0x65f)]();const _0x1ff3ad=document['querySelector'](_0x1df252(0x2fb));if(!_0x1ff3ad)return;const _0x2803db=getDragAfterElement(projectList,_0x4b11b9['clientY']);_0x2803db==null?projectList[_0x1df252(0x202)](_0x1ff3ad):projectList[_0x1df252(0x8ec)](_0x1ff3ad,_0x2803db);}),projectList[_0x4f829b(0x8ef)](_0x4f829b(0x24c),_0x4cf488=>{const _0x15657d=_0x4f829b;_0x4cf488[_0x15657d(0x65f)]();const _0x21c837=[...projectList[_0x15657d(0x18c)](_0x15657d(0x78c))][_0x15657d(0x670)](_0x5ab245=>_0x5ab245[_0x15657d(0x850)]['id']);saveProjectOrder(_0x21c837);});function renderBehaviorLog(_0x140a03){const _0x56d12b=_0x4f829b,_0x5012d1=document[_0x56d12b(0x40e)]('behavior-log-container');if(!_0x5012d1)return;const _0x1d2650=_0x140a03['filter'](_0x5ae3ae=>_0x5ae3ae[_0x56d12b(0x23f)]&&_0x5ae3ae[_0x56d12b(0x23f)][_0x56d12b(0x71e)]>0x0);if(_0x1d2650['length']===0x0){_0x5012d1['innerHTML']=_0x56d12b(0x4e2);return;}let _0x4163c2='';_0x1d2650['forEach'](_0x485369=>{const _0x48f183=_0x56d12b;_0x4163c2+=_0x48f183(0x697)+_0x485369[_0x48f183(0x7e3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x485369['behaviorLog'][_0x48f183(0x831)]((_0x297d07,_0x1e68cf)=>new Date(_0x1e68cf[_0x48f183(0x3ba)])-new Date(_0x297d07[_0x48f183(0x3ba)]))[_0x48f183(0x840)](_0x2f15d8=>{const _0x545eba=_0x48f183,_0x4c1060=new Date(_0x2f15d8['timestamp'])[_0x545eba(0x1ae)](_0x545eba(0x4d5),{'dateStyle':_0x545eba(0x5b3),'timeStyle':_0x545eba(0x7aa)});_0x4163c2+=_0x545eba(0x265)+_0x2f15d8[_0x545eba(0x4fa)]+_0x545eba(0x5ac)+_0x4c1060+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4163c2+=_0x48f183(0x61e);}),_0x5012d1[_0x56d12b(0x848)]=_0x4163c2;}function getDragAfterElement(_0x291844,_0x1de747){const _0x53dcee=_0x4f829b,_0x7bc210=[..._0x291844[_0x53dcee(0x18c)](_0x53dcee(0x43d))];return _0x7bc210[_0x53dcee(0x912)]((_0x381dec,_0x33bfbc)=>{const _0x312140=_0x53dcee,_0x137510=_0x33bfbc['getBoundingClientRect'](),_0x36c544=_0x1de747-_0x137510[_0x312140(0x7a7)]-_0x137510[_0x312140(0x30b)]/0x2;return _0x36c544<0x0&&_0x36c544>_0x381dec['offset']?{'offset':_0x36c544,'element':_0x33bfbc}:_0x381dec;},{'offset':Number['NEGATIVE_INFINITY']})[_0x53dcee(0x86d)];}async function saveProjectOrder(_0x5aff27){const _0x5a3dca=_0x4f829b,_0x3adb5c=doc(db,_0x5a3dca(0x1de),_0x5a3dca(0x90b));try{await setDoc(_0x3adb5c,{'projectOrder':_0x5aff27},{'merge':!![]});}catch(_0x142faa){console[_0x5a3dca(0x713)]('Error\x20saving\x20project\x20order:',_0x142faa),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x5a1057,_0x45ac1c={}){const _0x1998a3=_0x4f829b;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x1998a3(0x434)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x21e217=doc(db,_0x1998a3(0x65b)+appId+_0x1998a3(0x351)+currentQuizData['id']+_0x1998a3(0x2b4),currentStudentName),_0x202aa2={'event':_0x5a1057,'timestamp':new Date()[_0x1998a3(0x1c9)](),..._0x45ac1c};try{await updateDoc(_0x21e217,{'behaviorLog':arrayUnion(_0x202aa2)}),console[_0x1998a3(0x3f9)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x1998a3(0x722));}catch(_0x54b9ed){_0x54b9ed[_0x1998a3(0x112)]===_0x1998a3(0x5f1)?console[_0x1998a3(0x434)](_0x1998a3(0x12b)+currentStudentName+_0x1998a3(0x517)):console['error']('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x54b9ed);}}function calculateMeanAndStdDev(_0x4f30f3){const _0x48c85e=_0x4f829b;if(_0x4f30f3[_0x48c85e(0x71e)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x2cd946=_0x4f30f3[_0x48c85e(0x912)]((_0x59e88c,_0x3a7d3e)=>_0x59e88c+_0x3a7d3e,0x0)/_0x4f30f3[_0x48c85e(0x71e)];if(_0x4f30f3[_0x48c85e(0x71e)]===0x1)return{'mean':_0x2cd946,'stdDev':0x0};const _0x5d0953=Math[_0x48c85e(0x295)](_0x4f30f3[_0x48c85e(0x670)](_0x39f8dc=>Math[_0x48c85e(0x322)](_0x39f8dc-_0x2cd946,0x2))[_0x48c85e(0x912)]((_0x5a0c67,_0x2a9419)=>_0x5a0c67+_0x2a9419,0x0)/(_0x4f30f3[_0x48c85e(0x71e)]-0x1));return{'mean':_0x2cd946,'stdDev':_0x5d0953};}function calculateZScore(_0x3f80cb,_0x63cb49,_0x35e66b){if(_0x35e66b===0x0)return 0x0;return(_0x3f80cb-_0x63cb49)/_0x35e66b;}function calculateTScore(_0x5d8ec9){return 0xa*_0x5d8ec9+0x32;}function showStarredProjectView(){const _0x4b1cdf=_0x4f829b;currentProjectId=_0x4b1cdf(0x276),currentProjectData=null,projectTitle['textContent']=_0x4b1cdf(0x649),projectIdDisplay['textContent']=_0x4b1cdf(0x494),showView(_0x4b1cdf(0x561)),manageTab[_0x4b1cdf(0x61a)][_0x4b1cdf(0x4e9)](_0x4b1cdf(0x64a)),leaderboardTab[_0x4b1cdf(0x61a)][_0x4b1cdf(0x4e9)](_0x4b1cdf(0x64a)),switchProjectTab(_0x4b1cdf(0x399)),renderQuizzes();}async function loadProjectDetails(_0x5bd1e8){const _0x3a2dc9=_0x4f829b,_0x2d1c6c=doc(db,_0x3a2dc9(0x65b)+appId+_0x3a2dc9(0x6fe),_0x5bd1e8),_0x348964=await getDoc(_0x2d1c6c);if(_0x348964['exists']()){manageTab[_0x3a2dc9(0x61a)][_0x3a2dc9(0x193)]('hidden'),leaderboardTab[_0x3a2dc9(0x61a)]['remove'](_0x3a2dc9(0x64a)),currentProjectData=_0x348964[_0x3a2dc9(0x114)](),projectTitle['textContent']=currentProjectData[_0x3a2dc9(0x943)],projectIdDisplay['textContent']=_0x5bd1e8;const _0x4f0eb2=currentProjectData[_0x3a2dc9(0x541)]||{};document[_0x3a2dc9(0x40e)](_0x3a2dc9(0x4b0))['value']=_0x4f0eb2[_0x3a2dc9(0x8b5)]||_0x3a2dc9(0x732);const _0xa599f3=document[_0x3a2dc9(0x40e)](_0x3a2dc9(0x8f3));_0xa599f3[_0x3a2dc9(0x137)]=_0x4f0eb2[_0x3a2dc9(0x3f1)]!==![];const _0x2db9fa=document[_0x3a2dc9(0x40e)](_0x3a2dc9(0x581)),_0x14856c=document[_0x3a2dc9(0x40e)](_0x3a2dc9(0x30f)),_0x39463e=document[_0x3a2dc9(0x40e)](_0x3a2dc9(0x52f)),_0x6761a7=_0x4f0eb2[_0x3a2dc9(0x6bf)]||![];_0x2db9fa['checked']=_0x6761a7,_0x39463e['value']=_0x4f0eb2[_0x3a2dc9(0x203)]||'',_0x14856c[_0x3a2dc9(0x61a)][_0x3a2dc9(0x2e0)](_0x3a2dc9(0x64a),!_0x6761a7),_0x2db9fa[_0x3a2dc9(0x580)]=()=>{const _0x18acf1=_0x3a2dc9;_0x14856c[_0x18acf1(0x61a)][_0x18acf1(0x2e0)](_0x18acf1(0x64a),!_0x2db9fa[_0x18acf1(0x137)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x5bd1e8),listenForProjectQuizzes(_0x5bd1e8),listenForStudentProfiles(_0x5bd1e8);}else showMessage(_0x3a2dc9(0x582)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x111ba2=_0x4f829b,_0xa93636=doc(db,_0x111ba2(0x1de),_0x111ba2(0x90b));try{await setDoc(_0xa93636,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x111ba2(0x4cf));}catch(_0x530f4f){console[_0x111ba2(0x713)]('Error\x20resetting\x20project\x20order:',_0x530f4f),showMessage(_0x111ba2(0x5d3));}}async function handleTogglePinProject(_0x16f20a){const _0x2c84d9=_0x4f829b;if(!_0x16f20a)return;const _0x524f1d=doc(db,'artifacts/'+appId+_0x2c84d9(0x6fe),_0x16f20a);try{const _0x7a3711=await getDoc(_0x524f1d);if(_0x7a3711[_0x2c84d9(0x2ca)]()){const _0x35a2bf=_0x7a3711[_0x2c84d9(0x114)]()[_0x2c84d9(0x768)]||![];await updateDoc(_0x524f1d,{'isPinned':!_0x35a2bf});}}catch(_0x18d832){console['error'](_0x2c84d9(0x3c8),_0x18d832),showMessage(_0x2c84d9(0x91f));}}async function handleDeleteProject(_0x48f89c){const _0x1bbd3b=_0x4f829b;try{const _0x6612f2=writeBatch(db),_0x2b2105=collection(db,'artifacts/'+appId+_0x1bbd3b(0x5fb)),_0x20162b=query(_0x2b2105,where('projectId','==',_0x48f89c)),_0x3463af=await getDocs(_0x20162b);for(const _0x293826 of _0x3463af[_0x1bbd3b(0x1f1)]){const _0x5c791d=collection(db,_0x1bbd3b(0x65b)+appId+'/public/data/quizzes/'+_0x293826['id']+_0x1bbd3b(0x2b4)),_0x30541f=await getDocs(_0x5c791d);_0x30541f['forEach'](_0x557c65=>{_0x6612f2['delete'](_0x557c65['ref']);}),_0x6612f2[_0x1bbd3b(0x4ea)](_0x293826[_0x1bbd3b(0x502)]);}const _0x2c2a47=collection(db,_0x1bbd3b(0x65b)+appId+'/public/data/projects/'+_0x48f89c+'/studentProfiles'),_0x81f0cf=await getDocs(_0x2c2a47);_0x81f0cf['forEach'](_0x18fed1=>{const _0x38af46=_0x1bbd3b;_0x6612f2[_0x38af46(0x4ea)](_0x18fed1['ref']);});const _0x8d79fc=doc(db,_0x1bbd3b(0x65b)+appId+_0x1bbd3b(0x6fe),_0x48f89c);_0x6612f2[_0x1bbd3b(0x4ea)](_0x8d79fc),await _0x6612f2[_0x1bbd3b(0x1c8)](),showMessage(_0x1bbd3b(0x341)),showView(_0x1bbd3b(0x331));}catch(_0x44011d){console[_0x1bbd3b(0x713)]('Error\x20deleting\x20project:',_0x44011d),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x4f829b(0x40e)](_0x4f829b(0x55b))['addEventListener'](_0x4f829b(0x349),async()=>{const _0x3baf79=_0x4f829b;if(!currentProjectId)return;const _0x313d9a={'defaultNumQuestions':parseInt(document[_0x3baf79(0x40e)](_0x3baf79(0x5d0))[_0x3baf79(0x2f4)]),'defaultNumChoices':parseInt(document[_0x3baf79(0x40e)](_0x3baf79(0x92d))['value']),'defaultPassingScore':parseInt(document[_0x3baf79(0x40e)](_0x3baf79(0x10b))[_0x3baf79(0x2f4)]),'resultsDisplay':document[_0x3baf79(0x40e)]('results-display-select')['value'],'shuffleSetting':document[_0x3baf79(0x40e)]('shuffle-setting-select')[_0x3baf79(0x2f4)],'timerMode':document[_0x3baf79(0x40e)](_0x3baf79(0x6c8))[_0x3baf79(0x2f4)],'timerDuration':parseInt(document['getElementById']('timer-duration-input')[_0x3baf79(0x2f4)])};try{const _0x473e01=doc(db,_0x3baf79(0x65b)+appId+_0x3baf79(0x6fe),currentProjectId);await updateDoc(_0x473e01,{'settings':_0x313d9a}),showMessage(_0x3baf79(0x7c6));}catch(_0x4c7bc0){console[_0x3baf79(0x713)](_0x3baf79(0x643),_0x4c7bc0),showMessage(_0x3baf79(0x61c));}});function listenForStudents(_0x507b91){const _0x50c45d=_0x4f829b,_0xb081f0=doc(db,_0x50c45d(0x65b)+appId+_0x50c45d(0x6fe),_0x507b91);unsubscribeStudentsListener=onSnapshot(_0xb081f0,_0xbc6f21=>{const _0x3867e4=_0x50c45d;if(_0xbc6f21[_0x3867e4(0x2ca)]()){const _0x4297ac=_0xbc6f21['data']();currentProjectData=_0x4297ac,renderStudentList(_0x4297ac[_0x3867e4(0x2af)]||[]);}});}function renderStudentList(_0x4421af){const _0x322756=_0x4f829b,_0x1bf54a=document[_0x322756(0x40e)](_0x322756(0x8c7));_0x4421af[_0x322756(0x71e)]===0x0?(studentList[_0x322756(0x848)]=_0x322756(0x6df),_0x1bf54a['classList'][_0x322756(0x4e9)](_0x322756(0x64a))):(studentList[_0x322756(0x848)]=_0x4421af['map'](_0x151d7c=>_0x322756(0x515)+_0x151d7c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x151d7c+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x322756(0x14b)](''),_0x1bf54a[_0x322756(0x61a)][_0x322756(0x193)](_0x322756(0x64a)));}document['getElementById'](_0x4f829b(0x6b2))[_0x4f829b(0x8ef)](_0x4f829b(0x349),async()=>{const _0x5b9250=_0x4f829b;if(!currentProjectId)return;const _0x1bde4d=document[_0x5b9250(0x40e)](_0x5b9250(0x138)),_0x267a16=_0x1bde4d[_0x5b9250(0x2f4)][_0x5b9250(0x108)]();if(!_0x267a16){showMessage(_0x5b9250(0x675));return;}const _0xe4025b=_0x267a16['split']('\x0a')[_0x5b9250(0x670)](_0x21a060=>_0x21a060[_0x5b9250(0x108)]())[_0x5b9250(0x89b)](_0x5e9cc3=>_0x5e9cc3);if(_0xe4025b[_0x5b9250(0x71e)]===0x0)return;try{const _0x3cb3b3=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x3b3f9f=await getDoc(_0x3cb3b3);if(_0x3b3f9f['exists']()){const _0xb35531=_0x3b3f9f[_0x5b9250(0x114)]()[_0x5b9250(0x2af)]||[],_0x2d5545=[...new Set([..._0xb35531,..._0xe4025b])];await updateDoc(_0x3cb3b3,{'students':_0x2d5545}),_0x1bde4d[_0x5b9250(0x2f4)]='';}}catch(_0x44abb2){console[_0x5b9250(0x713)](_0x5b9250(0x327),_0x44abb2),showMessage(_0x5b9250(0x59a));}});async function handleManualQuizPairing(_0x2d6aba){const _0x40dd54=_0x4f829b,_0x311778=document[_0x40dd54(0x40e)]('move-quiz-modal'),_0x140555=document[_0x40dd54(0x40e)](_0x40dd54(0x553)),_0x3e8504=_0x311778['querySelector']('h3'),_0x60b5d4=document[_0x40dd54(0x40e)]('confirm-move-quiz-btn'),_0x4fe796=document['getElementById'](_0x40dd54(0x455));_0x3e8504[_0x40dd54(0x41f)]='จับคู่เพื่อเปรียบเทียบผล',_0x140555[_0x40dd54(0x848)]=_0x40dd54(0x7f2),_0x60b5d4[_0x40dd54(0x41f)]=_0x40dd54(0x35b),_0x311778[_0x40dd54(0x61a)][_0x40dd54(0x193)](_0x40dd54(0x64a));const _0x30a290=allQuizzes['filter'](_0x1d4aab=>_0x1d4aab['id']!==_0x2d6aba);_0x30a290['length']===0x0?(_0x140555['innerHTML']=_0x40dd54(0x8a7),_0x60b5d4[_0x40dd54(0x1e2)]=!![]):(_0x140555['innerHTML']=_0x40dd54(0x50d)+_0x30a290['map'](_0x199255=>_0x40dd54(0x62f)+_0x199255['id']+'\x22>'+_0x199255['topic']+_0x40dd54(0x48e))['join'](''),_0x60b5d4['disabled']=![]);const _0x4da91e=async()=>{const _0x5cd3e5=_0x40dd54,_0xaba11a=_0x140555['value'];if(!_0xaba11a){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x60b5d4[_0x5cd3e5(0x1e2)]=!![],_0x60b5d4['textContent']='กำลังจับคู่...';try{const _0x4af7f6=doc(db,_0x5cd3e5(0x65b)+appId+_0x5cd3e5(0x5fb),_0x2d6aba),_0x362443=doc(db,_0x5cd3e5(0x65b)+appId+_0x5cd3e5(0x5fb),_0xaba11a),_0x307a2d=writeBatch(db);_0x307a2d['update'](_0x4af7f6,{'pairedQuizId':_0xaba11a}),_0x307a2d[_0x5cd3e5(0x809)](_0x362443,{'pairedQuizId':_0x2d6aba}),await _0x307a2d[_0x5cd3e5(0x1c8)](),showMessage(_0x5cd3e5(0x672)),_0x311778['classList']['add'](_0x5cd3e5(0x64a));}catch(_0x20cee7){console['error'](_0x5cd3e5(0x334),_0x20cee7),showMessage(_0x5cd3e5(0x967));}finally{_0x3e8504[_0x5cd3e5(0x41f)]=_0x5cd3e5(0x218),_0x60b5d4['textContent']=_0x5cd3e5(0x418),_0x60b5d4['disabled']=![],_0x60b5d4[_0x5cd3e5(0x429)]('click',_0x4da91e),_0x4fe796[_0x5cd3e5(0x429)](_0x5cd3e5(0x349),_0x6fb2ad);}},_0x6fb2ad=()=>{const _0x860a8c=_0x40dd54;_0x311778[_0x860a8c(0x61a)][_0x860a8c(0x4e9)](_0x860a8c(0x64a)),_0x3e8504['textContent']=_0x860a8c(0x218),_0x60b5d4[_0x860a8c(0x41f)]=_0x860a8c(0x418),_0x60b5d4[_0x860a8c(0x429)](_0x860a8c(0x349),_0x4da91e),_0x4fe796[_0x860a8c(0x429)]('click',_0x6fb2ad);};_0x60b5d4[_0x40dd54(0x8ef)](_0x40dd54(0x349),_0x4da91e),_0x4fe796[_0x40dd54(0x8ef)](_0x40dd54(0x349),_0x6fb2ad);}function handleDeleteStudent(_0x18d434){const _0x4f0e38=_0x4f829b;showConfirmation(_0x4f0e38(0x169)+_0x18d434+_0x4f0e38(0x4df),async()=>{const _0x41b3f8=_0x4f0e38;if(!currentProjectId||!currentProjectData)return;const _0x1b6dd1=currentProjectData['students'][_0x41b3f8(0x89b)](_0x1c2d73=>_0x1c2d73!==_0x18d434);try{const _0x525a30=doc(db,'artifacts/'+appId+_0x41b3f8(0x6fe),currentProjectId),_0x73d067=doc(db,_0x41b3f8(0x65b)+appId+'/public/data/projects/'+currentProjectId+_0x41b3f8(0x1e7),_0x18d434),_0x7f34d3=writeBatch(db);_0x7f34d3[_0x41b3f8(0x809)](_0x525a30,{'students':_0x1b6dd1}),_0x7f34d3['delete'](_0x73d067),await _0x7f34d3[_0x41b3f8(0x1c8)]();}catch(_0x41e3ae){console['error'](_0x41b3f8(0x82b),_0x41e3ae),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x336cf3=_0x4f829b;showConfirmation(_0x336cf3(0x5f5),async()=>{const _0x263da7=_0x336cf3;if(!currentProjectId)return;try{const _0x4b19af=doc(db,_0x263da7(0x65b)+appId+_0x263da7(0x6fe),currentProjectId),_0x105b77=collection(db,_0x263da7(0x65b)+appId+'/public/data/projects/'+currentProjectId+_0x263da7(0x1e7)),_0x578dc2=await getDocs(_0x105b77),_0x19d6ee=writeBatch(db);_0x19d6ee['update'](_0x4b19af,{'students':[]}),_0x578dc2[_0x263da7(0x840)](_0x52fba9=>_0x19d6ee[_0x263da7(0x4ea)](_0x52fba9[_0x263da7(0x502)])),await _0x19d6ee[_0x263da7(0x1c8)]();}catch(_0x2d13f5){console[_0x263da7(0x713)]('Error\x20deleting\x20all\x20students:',_0x2d13f5),showMessage(_0x263da7(0x2f8));}});}async function handleGenerateFromFileClick(){const _0x5971d0=_0x4f829b;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x44a8d4=document[_0x5971d0(0x40e)]('loader'),_0x1cacf4=document[_0x5971d0(0x40e)](_0x5971d0(0x3e5)),_0x44d626=document[_0x5971d0(0x40e)](_0x5971d0(0x699)),_0x464ebd=document['getElementById'](_0x5971d0(0x2c1));_0x464ebd[_0x5971d0(0x1e2)]=!![],document['getElementById'](_0x5971d0(0x2e2))[_0x5971d0(0x61a)][_0x5971d0(0x193)]('hidden'),_0x44d626['innerHTML']='',_0x44a8d4[_0x5971d0(0x61a)][_0x5971d0(0x193)](_0x5971d0(0x64a)),_0x1cacf4[_0x5971d0(0x41f)]=_0x5971d0(0x386);const _0x1431d2=new FileReader();_0x1431d2[_0x5971d0(0x155)](selectedFile),_0x1431d2[_0x5971d0(0x31e)]=async()=>{const _0x47d44b=_0x5971d0;try{const _0x2611db=_0x1431d2[_0x47d44b(0x466)]['split'](',')[0x1],_0x2170c9=selectedFile[_0x47d44b(0x1b1)];await generateQuizFromFile(_0x2170c9,_0x2611db);}catch(_0x4a372a){console['error'](_0x47d44b(0x410),_0x4a372a),showMessage(_0x47d44b(0x13d)+_0x4a372a[_0x47d44b(0x1ce)]),_0x44a8d4['classList'][_0x47d44b(0x4e9)](_0x47d44b(0x64a));}finally{}},_0x1431d2[_0x5971d0(0x70a)]=_0x3e4fba=>{const _0x3849ed=_0x5971d0;console[_0x3849ed(0x713)](_0x3849ed(0x839),_0x3e4fba),showMessage(_0x3849ed(0x4b4)),_0x44a8d4['classList'][_0x3849ed(0x4e9)](_0x3849ed(0x64a)),_0x464ebd['disabled']=![];};}function autoFormatMath(_0xa5222f){const _0x10a3ed=_0x4f829b;if(typeof _0xa5222f!==_0x10a3ed(0x3f4)||!_0xa5222f)return _0xa5222f;const _0x61d041=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x4b6d45=_0xa5222f[_0x10a3ed(0x745)](_0x61d041,_0x7ab3b5=>{const _0x3dd59d=_0x10a3ed;return'$'+_0x7ab3b5[_0x3dd59d(0x108)]()+'$';});return _0x4b6d45;}function sanitizeQuizData(_0x1732a4){const _0x39ca14=_0x4f829b;if(!_0x1732a4||!_0x1732a4['questions'])return _0x1732a4;const _0x101063={'imes':_0x39ca14(0x96d),'div':_0x39ca14(0x5e4)},_0x3ac1ef=_0x38e832=>{const _0x4e8a68=_0x39ca14;if(typeof _0x38e832!==_0x4e8a68(0x3f4))return _0x38e832;let _0x26d585=_0x38e832;for(const [_0x5840b9,_0x110f4a]of Object[_0x4e8a68(0x2eb)](_0x101063)){const _0x12fef3=new RegExp('\x5cb'+_0x5840b9+'\x5cb','g');_0x26d585=_0x26d585[_0x4e8a68(0x745)](_0x12fef3,_0x110f4a);}return _0x26d585=_0x26d585[_0x4e8a68(0x745)](/\\\//g,_0x4e8a68(0x5e4)),_0x26d585=_0x26d585['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x4e8a68(0x5e4))[_0x4e8a68(0x745)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x4e8a68(0x96d))[_0x4e8a68(0x745)](/÷/g,_0x4e8a68(0x5e4))[_0x4e8a68(0x745)](/×/g,_0x4e8a68(0x96d)),_0x26d585=_0x26d585[_0x4e8a68(0x745)](/(\d)(\\frac)/g,_0x4e8a68(0x5c3)),_0x26d585=autoFormatMath(_0x26d585),_0x26d585;};return _0x1732a4[_0x39ca14(0x7e9)]&&(_0x1732a4[_0x39ca14(0x7e9)]=_0x3ac1ef(_0x1732a4[_0x39ca14(0x7e9)])),_0x1732a4['questions'][_0x39ca14(0x840)](_0xae97a4=>{const _0x4003cc=_0x39ca14;_0xae97a4[_0x4003cc(0x1f5)]=_0x3ac1ef(_0xae97a4[_0x4003cc(0x1f5)]),_0xae97a4[_0x4003cc(0x4b9)]&&(_0xae97a4['options']=_0xae97a4[_0x4003cc(0x4b9)]['map'](_0x3ac1ef)),_0xae97a4[_0x4003cc(0x28c)]&&(_0xae97a4[_0x4003cc(0x28c)]=_0x3ac1ef(_0xae97a4[_0x4003cc(0x28c)])),_0xae97a4[_0x4003cc(0x425)]&&(_0xae97a4[_0x4003cc(0x425)]=_0x3ac1ef(_0xae97a4['stem'])),_0xae97a4['correctResponse']&&(_0xae97a4['correctResponse']=_0x3ac1ef(_0xae97a4[_0x4003cc(0x2bf)])),_0xae97a4[_0x4003cc(0x424)]&&(_0xae97a4[_0x4003cc(0x424)]=_0xae97a4[_0x4003cc(0x424)][_0x4003cc(0x670)](_0x3ac1ef));}),_0x1732a4;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x2c5c18=_0x4f829b,_0x527454=document[_0x2c5c18(0x40e)]('link-url-input'),_0xd1b9c4=document[_0x2c5c18(0x40e)](_0x2c5c18(0x508)),_0x3af4e1=_0x527454[_0x2c5c18(0x2f4)][_0x2c5c18(0x108)](),_0xd3c931=_0xd1b9c4[_0x2c5c18(0x2f4)]['trim']();if(!_0x3af4e1){showMessage(_0x2c5c18(0x933));return;}const _0x545775=document['getElementById'](_0x2c5c18(0x62e)),_0x4ddce6=document[_0x2c5c18(0x40e)](_0x2c5c18(0x3e5)),_0x3842c9=document[_0x2c5c18(0x40e)](_0x2c5c18(0x699)),_0x4de201=document[_0x2c5c18(0x40e)](_0x2c5c18(0x736));document[_0x2c5c18(0x40e)](_0x2c5c18(0x2e2))[_0x2c5c18(0x61a)][_0x2c5c18(0x193)](_0x2c5c18(0x64a)),_0x3842c9[_0x2c5c18(0x848)]='',_0x545775['classList'][_0x2c5c18(0x193)](_0x2c5c18(0x64a)),_0x4ddce6[_0x2c5c18(0x41f)]=_0x2c5c18(0x2a6),_0x4de201['disabled']=!![];try{const _0x1a5809=_0x2c5c18(0x938)+encodeURIComponent(_0x3af4e1),_0x468215=await fetch(_0x1a5809);if(!_0x468215['ok'])throw new Error(_0x2c5c18(0x935)+_0x468215[_0x2c5c18(0x29a)]+')');const _0x6338f9=await _0x468215[_0x2c5c18(0x6f7)](),_0x1e9b03=extractTextFromHtml(_0x6338f9);if(!_0x1e9b03||_0x1e9b03['length']<0x64)throw new Error(_0x2c5c18(0x8e9));await generateQuiz(_0xd3c931,_0x1e9b03);}catch(_0x56114b){console[_0x2c5c18(0x713)](_0x2c5c18(0x3a9),_0x56114b),showMessage(_0x2c5c18(0x18f)+_0x56114b[_0x2c5c18(0x1ce)]),_0x3842c9['innerHTML']=_0x2c5c18(0x4e0);}finally{_0x545775[_0x2c5c18(0x61a)][_0x2c5c18(0x4e9)](_0x2c5c18(0x64a)),_0x4de201[_0x2c5c18(0x1e2)]=![];}}function extractTextFromHtml(_0x14cae1){const _0x186d71=_0x4f829b,_0x3eb16f=new DOMParser()[_0x186d71(0x8a0)](_0x14cae1,_0x186d71(0x73a));return _0x3eb16f[_0x186d71(0x18c)](_0x186d71(0x43a))[_0x186d71(0x840)](_0x2a7c11=>_0x2a7c11[_0x186d71(0x193)]()),_0x3eb16f[_0x186d71(0x497)]['textContent']||'';}document['getElementById'](_0x4f829b(0x545))['addEventListener'](_0x4f829b(0x349),()=>{const _0x53c750=_0x4f829b,_0x51fafd=document[_0x53c750(0x40e)]('topic-input')[_0x53c750(0x2f4)][_0x53c750(0x108)]();generateQuiz(_0x51fafd,null);}),document[_0x4f829b(0x40e)]('generate-from-text-btn')[_0x4f829b(0x8ef)](_0x4f829b(0x349),()=>{const _0x32a5b0=_0x4f829b,_0x142eca=document[_0x32a5b0(0x40e)](_0x32a5b0(0x667))[_0x32a5b0(0x2f4)]['trim']();if(!_0x142eca){showMessage(_0x32a5b0(0x704));return;}const _0xc4458f=document[_0x32a5b0(0x40e)]('topic-input')[_0x32a5b0(0x2f4)]['trim']();generateQuiz(_0xc4458f,_0x142eca);});async function generateQuiz(_0x36fb97,_0x171d68,_0x189905=null){const _0xf1aea7=_0x4f829b,_0xd6a5e7=document[_0xf1aea7(0x40e)](_0xf1aea7(0x763))['checked'],_0x2de584=document[_0xf1aea7(0x40e)](_0xf1aea7(0x216))[_0xf1aea7(0x2f4)],_0x1b7e98=document[_0xf1aea7(0x40e)]('num-questions')['value'],_0x461c29=document['getElementById'](_0xf1aea7(0x92d))[_0xf1aea7(0x2f4)],_0x5404f6=document[_0xf1aea7(0x40e)](_0xf1aea7(0x443))[_0xf1aea7(0x137)],_0x4a3ae4=_0x5404f6?'':_0xf1aea7(0x452),_0xdd2d47=document[_0xf1aea7(0x40e)](_0xf1aea7(0x78b)),_0x10a98d=_0xdd2d47[_0xf1aea7(0x2f4)];let _0x2bdea5='';_0x10a98d!==_0xf1aea7(0x7b0)&&(_0x2bdea5=_0xf1aea7(0x1b8)+_0x10a98d+'\x22');const _0x594a58=document['getElementById']('question-complexity-select'),_0x38cc9f=_0x594a58[_0xf1aea7(0x2f4)];let _0x3b3aee='';_0x38cc9f!==_0xf1aea7(0x615)&&(_0x3b3aee='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x38cc9f+_0xf1aea7(0x39c));const _0x122ef7=document[_0xf1aea7(0x18c)](_0xf1aea7(0x696)),_0x5efc0d=Array[_0xf1aea7(0x8c6)](_0x122ef7)[_0xf1aea7(0x670)](_0x30d18c=>_0x30d18c[_0xf1aea7(0x2f4)]);let _0x41af96='';_0x5efc0d[_0xf1aea7(0x71e)]>0x0&&(_0x41af96='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x5efc0d[_0xf1aea7(0x14b)](',\x20')+_0xf1aea7(0x6cc));let _0x29412e='',_0x444046='',_0x29c1f1,_0x5889b7=_0xf1aea7(0x3e4)+_0x36fb97+'\x22';if(!_0x36fb97&&_0x171d68)_0x5889b7=_0xf1aea7(0x96c);else!_0x36fb97&&!_0x171d68&&(_0x5889b7='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0xfeedcc={'type':_0xf1aea7(0x5dd),'properties':{'questionText':{'type':_0xf1aea7(0x44e)},'options':{'type':_0xf1aea7(0x5f3),'items':{'type':_0xf1aea7(0x44e)}},'correctAnswerIndex':{'type':_0xf1aea7(0x797)},'explanation':{'type':_0xf1aea7(0x44e)},'imageCode':{'type':_0xf1aea7(0x44e)}},'required':[_0xf1aea7(0x1f5),_0xf1aea7(0x4b9),_0xf1aea7(0x71a),_0xf1aea7(0x28c)]},_0x1c45b5={'type':_0xf1aea7(0x5dd),'properties':{'questionText':{'type':_0xf1aea7(0x44e)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xf1aea7(0x44e)},'imageCode':{'type':_0xf1aea7(0x44e)}},'required':[_0xf1aea7(0x1f5),_0xf1aea7(0x2dd),_0xf1aea7(0x28c)]},_0x44e4a7={'type':_0xf1aea7(0x5dd),'properties':{'questionText':{'type':_0xf1aea7(0x44e)},'questionType':{'type':'STRING','enum':['multiple_choice',_0xf1aea7(0x52b)]},'options':{'type':_0xf1aea7(0x5f3),'items':{'type':_0xf1aea7(0x44e)}},'correctAnswerIndex':{'type':_0xf1aea7(0x797)},'idealAnswer':{'type':_0xf1aea7(0x44e)},'explanation':{'type':_0xf1aea7(0x44e)},'imageCode':{'type':_0xf1aea7(0x44e)}},'required':['questionText',_0xf1aea7(0x1eb),_0xf1aea7(0x28c)]},_0x112715={'type':_0xf1aea7(0x5dd),'properties':{'questionText':{'type':_0xf1aea7(0x44e)},'correctAnswer':{'type':_0xf1aea7(0x558)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xf1aea7(0x44e)}},'required':[_0xf1aea7(0x1f5),_0xf1aea7(0x756),_0xf1aea7(0x28c)]},_0x21b5e8={'type':_0xf1aea7(0x5dd),'properties':{'questionType':{'type':_0xf1aea7(0x44e),'enum':[_0xf1aea7(0x402)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0xf1aea7(0x44e)},'allResponses':{'type':_0xf1aea7(0x5f3),'items':{'type':_0xf1aea7(0x44e)}},'explanation':{'type':_0xf1aea7(0x44e)},'imageCode':{'type':_0xf1aea7(0x44e)}},'required':[_0xf1aea7(0x1eb),_0xf1aea7(0x425),'correctResponse','allResponses',_0xf1aea7(0x28c)]};let _0x52f71e;if(_0x189905!==null){const _0x127d2b=currentQuizData[_0xf1aea7(0x75d)][_0x189905][_0xf1aea7(0x1eb)],_0x43fc7f=_0xd6a5e7?_0xf1aea7(0x1da):'';_0x29412e=_0xf1aea7(0x513)+_0x5889b7+'\x20'+_0x41af96+'\x20'+_0x2bdea5+_0xf1aea7(0x2cf)+_0x43fc7f+'\x20'+simpleMathPrompt;if(_0x127d2b==='multiple_choice')_0x29c1f1=_0xfeedcc;else{if(_0x127d2b===_0xf1aea7(0x402))_0x29c1f1={'type':'OBJECT','properties':{'questionType':{'type':_0xf1aea7(0x44e),'enum':[_0xf1aea7(0x402)]},'stem':{'type':_0xf1aea7(0x44e)},'correctResponse':{'type':_0xf1aea7(0x44e)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xf1aea7(0x44e)}},'required':['questionType','stem',_0xf1aea7(0x2bf),'explanation']};else _0x29c1f1=_0x1c45b5;}_0x52f71e=_0x29c1f1;}else{const _0x554fb1=_0xd6a5e7?_0xf1aea7(0x474):'',_0x4f9d33=_0xf1aea7(0x127);switch(_0x2de584){case _0xf1aea7(0x7c3):_0x29412e=_0xf1aea7(0x457)+_0x4a3ae4+'\x20'+_0x1b7e98+'\x20ข้อ\x20'+_0x5889b7+'\x20'+_0x41af96+'\x20'+_0x2bdea5+'\x20'+_0x3b3aee+_0xf1aea7(0x7dc)+_0x461c29+_0xf1aea7(0x6e8)+_0x554fb1+'\x20'+simpleMathPrompt,_0x29c1f1=_0xfeedcc;break;case'fill_in_with_choices':_0x29412e='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4a3ae4+'\x20'+_0x1b7e98+'\x20ข้อ\x20'+_0x5889b7+'\x20'+_0x41af96+'\x20'+_0x2bdea5+'\x20'+_0x3b3aee+_0xf1aea7(0x73e)+_0x461c29+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x554fb1+'\x20'+simpleMathPrompt,_0x29c1f1=_0xfeedcc;break;case _0xf1aea7(0x51e):_0x29412e=_0xf1aea7(0x760)+_0x4a3ae4+'\x20'+_0x1b7e98+_0xf1aea7(0x638)+_0x5889b7+'\x20'+_0x41af96+'\x20'+_0x2bdea5+'\x20'+_0x3b3aee+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x554fb1+'\x20'+simpleMathPrompt,_0x29c1f1=_0x1c45b5;break;case _0xf1aea7(0x615):_0x29412e=_0xf1aea7(0x316)+_0x4a3ae4+'\x20'+_0x1b7e98+'\x20ข้อ\x20'+_0x5889b7+'\x20'+_0x41af96+'\x20'+_0x2bdea5+'\x20'+_0x3b3aee+_0xf1aea7(0x8d8)+_0x461c29+_0xf1aea7(0x124)+_0x554fb1+'\x20'+simpleMathPrompt+'.',_0x29c1f1=_0x44e4a7;break;case'true_false':_0x29412e=_0xf1aea7(0x123)+_0x4a3ae4+'\x20'+_0x1b7e98+'\x20ข้อ\x20'+_0x5889b7+'\x20'+_0x41af96+'\x20'+_0x2bdea5+'\x20'+_0x3b3aee+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x554fb1+'\x20'+simpleMathPrompt,_0x29c1f1=_0x112715;break;case _0xf1aea7(0x4f1):_0x29412e=_0xf1aea7(0x83a)+_0x4a3ae4+'\x20'+_0x1b7e98+_0xf1aea7(0x44f)+_0x5889b7+'\x20'+_0x41af96+'\x20'+_0x2bdea5+'\x20'+_0x3b3aee+_0xf1aea7(0x2b8)+_0x554fb1+'\x20'+simpleMathPrompt,_0x29c1f1=_0x21b5e8;break;}_0x52f71e={'type':_0xf1aea7(0x5dd),'properties':{'topic':{'type':_0xf1aea7(0x44e)},'questions':{'type':'ARRAY','items':_0x29c1f1}},'required':[_0xf1aea7(0x7e9),_0xf1aea7(0x75d)]};}return _0x171d68?(_0x29412e=_0xf1aea7(0x648)+_0x171d68+_0xf1aea7(0x2b2)+_0x29412e,_0x444046=_0xf1aea7(0x945)):_0x444046=_0xf1aea7(0x5ec),handleApiCall(_0x29412e,_0x444046,_0x52f71e,_0x189905);}async function generateQuizFromFile(_0x17f491,_0x243cbb){const _0x24dffa=_0x4f829b,_0xc4e368=document[_0x24dffa(0x40e)](_0x24dffa(0x92b))[_0x24dffa(0x2f4)][_0x24dffa(0x108)](),_0x5541ea=document[_0x24dffa(0x40e)](_0x24dffa(0x216))[_0x24dffa(0x2f4)],_0x25da5f=document[_0x24dffa(0x40e)](_0x24dffa(0x5d0))['value'],_0x571add=document[_0x24dffa(0x40e)](_0x24dffa(0x92d))[_0x24dffa(0x2f4)],_0x1f125b=document['getElementById']('include-images-checkbox')[_0x24dffa(0x137)],_0x4f1271=document[_0x24dffa(0x40e)](_0x24dffa(0x443))[_0x24dffa(0x137)],_0xb2d2dc=_0x4f1271?'':'คณิตศาสตร์';let _0xea7c4b='',_0x1d3d38,_0x232cf5='เกี่ยวกับหัวข้อ\x20\x22'+_0xc4e368+'\x22';!_0xc4e368&&(_0x232cf5=_0x24dffa(0x267));const _0x5daf6e=_0x1f125b?_0x24dffa(0x474):'';switch(_0x5541ea){case _0x24dffa(0x7c3):_0xea7c4b='สร้างแบบทดสอบปรนัย'+_0xb2d2dc+'\x20'+_0x25da5f+_0x24dffa(0x638)+_0x232cf5+_0x24dffa(0x7dc)+_0x571add+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x5daf6e+'\x20'+simpleMathPrompt,_0x1d3d38={'type':_0x24dffa(0x5dd),'properties':{'questionText':{'type':_0x24dffa(0x44e)},'options':{'type':_0x24dffa(0x5f3),'items':{'type':_0x24dffa(0x44e)}},'correctAnswerIndex':{'type':_0x24dffa(0x797)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x24dffa(0x4b9),'correctAnswerIndex',_0x24dffa(0x28c)]};break;case _0x24dffa(0x644):_0xea7c4b=_0x24dffa(0x760)+_0xb2d2dc+'\x20'+_0x25da5f+_0x24dffa(0x638)+_0x232cf5+_0x24dffa(0x73e)+_0x571add+_0x24dffa(0x177)+_0x5daf6e+'\x20'+simpleMathPrompt,_0x1d3d38={'type':_0x24dffa(0x5dd),'properties':{'questionText':{'type':_0x24dffa(0x44e)},'options':{'type':_0x24dffa(0x5f3),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x24dffa(0x44e)},'imageCode':{'type':_0x24dffa(0x44e)}},'required':['questionText',_0x24dffa(0x4b9),'correctAnswerIndex',_0x24dffa(0x28c)]};break;case _0x24dffa(0x51e):_0xea7c4b='สร้างคำถามแบบเติมคำในช่องว่าง'+_0xb2d2dc+'\x20'+_0x25da5f+_0x24dffa(0x638)+_0x232cf5+_0x24dffa(0x83d)+_0x5daf6e+'\x20'+simpleMathPrompt,_0x1d3d38={'type':_0x24dffa(0x5dd),'properties':{'questionText':{'type':_0x24dffa(0x44e)},'idealAnswer':{'type':_0x24dffa(0x44e)},'explanation':{'type':_0x24dffa(0x44e)},'imageCode':{'type':_0x24dffa(0x44e)}},'required':['questionText',_0x24dffa(0x2dd),_0x24dffa(0x28c)]};break;case _0x24dffa(0x615):_0xea7c4b=_0x24dffa(0x316)+_0xb2d2dc+'\x20'+_0x25da5f+'\x20ข้อ\x20'+_0x232cf5+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x571add+'\x20ตัวเลือก.\x20'+_0x5daf6e+'\x20'+simpleMathPrompt+_0x24dffa(0x361),_0x1d3d38={'type':_0x24dffa(0x5dd),'properties':{'questionText':{'type':_0x24dffa(0x44e)},'questionType':{'type':_0x24dffa(0x44e),'enum':[_0x24dffa(0x7c3),_0x24dffa(0x52b)]},'options':{'type':_0x24dffa(0x5f3),'items':{'type':_0x24dffa(0x44e)}},'correctAnswerIndex':{'type':_0x24dffa(0x797)},'idealAnswer':{'type':_0x24dffa(0x44e)},'explanation':{'type':_0x24dffa(0x44e)},'imageCode':{'type':_0x24dffa(0x44e)}},'required':[_0x24dffa(0x1f5),'questionType',_0x24dffa(0x28c)]};break;case'true_false':_0xea7c4b=_0x24dffa(0x123)+_0xb2d2dc+'\x20'+_0x25da5f+_0x24dffa(0x638)+_0x232cf5+_0x24dffa(0x450)+_0x5daf6e+'\x20'+simpleMathPrompt,_0x1d3d38={'type':'OBJECT','properties':{'questionText':{'type':_0x24dffa(0x44e)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x24dffa(0x44e)}},'required':[_0x24dffa(0x1f5),'correctAnswer',_0x24dffa(0x28c)]};break;case _0x24dffa(0x4f1):_0xea7c4b='สร้างชุดคำถามจับคู่'+_0xb2d2dc+'\x20'+_0x25da5f+_0x24dffa(0x44f)+_0x232cf5+_0x24dffa(0x90e)+_0x25da5f+_0x24dffa(0x5d9)+_0x5daf6e+'\x20'+simpleMathPrompt,_0x1d3d38={'type':_0x24dffa(0x5dd),'properties':{'questionType':{'type':_0x24dffa(0x44e),'enum':[_0x24dffa(0x402)]},'stem':{'type':_0x24dffa(0x44e)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x24dffa(0x44e)},'imageCode':{'type':_0x24dffa(0x44e)}},'required':[_0x24dffa(0x1eb),'stem','correctResponse',_0x24dffa(0x424),_0x24dffa(0x28c)]};break;}const _0x187c32={'type':'OBJECT','properties':{'topic':{'type':_0x24dffa(0x44e)},'questions':{'type':'ARRAY','items':_0x1d3d38}},'required':[_0x24dffa(0x7e9),'questions']},_0x1da6f8='จากไฟล์ที่แนบมานี้,\x20'+_0xea7c4b,_0x19f42f={'contents':[{'parts':[{'text':_0x1da6f8},{'inlineData':{'mimeType':_0x17f491,'data':_0x243cbb}}]}],'generationConfig':{'responseMimeType':_0x24dffa(0xf6),'responseSchema':_0x187c32}};return handleApiCall(_0x19f42f[_0x24dffa(0x5fa)][0x0]['parts'],_0x24dffa(0xef),_0x187c32);}async function handleApiCall(_0x4d2ca9,_0x544cb1,_0x25cb8f,_0x549672=null){const _0xe18e3c=_0x4f829b,_0xd49e80=document[_0xe18e3c(0x40e)](_0xe18e3c(0x2e2)),_0x55f913=document[_0xe18e3c(0x40e)](_0xe18e3c(0x62e)),_0x888f47=document[_0xe18e3c(0x40e)]('loader-text'),_0x2036b0=document[_0xe18e3c(0x40e)](_0xe18e3c(0x699));_0xd49e80['classList'][_0xe18e3c(0x193)](_0xe18e3c(0x64a));_0x549672===null&&(_0x2036b0[_0xe18e3c(0x848)]='');_0x55f913[_0xe18e3c(0x61a)][_0xe18e3c(0x193)](_0xe18e3c(0x64a)),_0x888f47[_0xe18e3c(0x41f)]=_0x544cb1,document[_0xe18e3c(0x40e)]('generate-from-topic-btn')[_0xe18e3c(0x1e2)]=!![],document[_0xe18e3c(0x40e)](_0xe18e3c(0x42c))[_0xe18e3c(0x1e2)]=!![],document['getElementById']('generate-from-link-btn')['disabled']=!![];try{const _0x42a843={'responseMimeType':_0xe18e3c(0xf6),'responseSchema':_0x25cb8f},_0x12dd4e=Array['isArray'](_0x4d2ca9)?_0x4d2ca9:[{'text':_0x4d2ca9}],_0x4c66f5={'contents':[{'role':'user','parts':_0x12dd4e}],'generationConfig':_0x42a843},_0x184efd=_0xe18e3c(0x29d),_0x21447e=_0xe18e3c(0x1e3)+_0x184efd,_0x5027a9=await fetch(_0x21447e,{'method':_0xe18e3c(0x44c),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x4c66f5)});if(!_0x5027a9['ok'])throw new Error(_0xe18e3c(0x3c7)+_0x5027a9['status']);const _0x1109cc=await _0x5027a9[_0xe18e3c(0x685)]();if(_0x1109cc[_0xe18e3c(0x966)]?.[0x0]?.[_0xe18e3c(0x39a)]?.[_0xe18e3c(0x2a7)]?.[0x0]){let _0x2581be=_0x1109cc[_0xe18e3c(0x966)][0x0][_0xe18e3c(0x39a)][_0xe18e3c(0x2a7)][0x0][_0xe18e3c(0x6f7)],_0x477bf6;try{if(_0x2581be[_0xe18e3c(0x358)](_0xe18e3c(0x630)))_0x2581be=_0x2581be[_0xe18e3c(0x8ae)](0x7,_0x2581be[_0xe18e3c(0x71e)]-0x3)['trim']();else _0x2581be[_0xe18e3c(0x358)](_0xe18e3c(0x61f))&&(_0x2581be=_0x2581be[_0xe18e3c(0x8ae)](0x3,_0x2581be[_0xe18e3c(0x71e)]-0x3)[_0xe18e3c(0x108)]());_0x477bf6=JSON['parse'](_0x2581be);}catch(_0x23fdf0){console[_0xe18e3c(0x713)]('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x23fdf0,_0x2581be);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0x549672!==null){if(_0x477bf6[_0xe18e3c(0x1eb)]===_0xe18e3c(0x402)){const _0x3035f1=currentQuizData['questions']['map'](_0x59ed63=>_0x59ed63[_0xe18e3c(0x2bf)]);_0x477bf6[_0xe18e3c(0x424)]=_0x3035f1;const _0x1fcade=currentQuizData[_0xe18e3c(0x75d)][_0x549672][_0xe18e3c(0x2bf)],_0x393d5f=_0x3035f1[_0xe18e3c(0x6f9)](_0x1fcade);_0x393d5f>-0x1&&(_0x3035f1[_0x393d5f]=_0x477bf6[_0xe18e3c(0x2bf)]),currentQuizData[_0xe18e3c(0x75d)][_0xe18e3c(0x840)](_0x487b42=>{const _0x5a77d9=_0xe18e3c;if(_0x487b42[_0x5a77d9(0x1eb)]==='matching_item')_0x487b42[_0x5a77d9(0x424)]=_0x3035f1;});}currentQuizData['questions'][_0x549672]=_0x477bf6,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x477bf6;const _0x3ea372=document[_0xe18e3c(0x40e)](_0xe18e3c(0x216))['value'];currentQuizData['quizType']=_0x3ea372,currentQuizData[_0xe18e3c(0x75d)]&&currentQuizData[_0xe18e3c(0x75d)][_0xe18e3c(0x840)](_0x546cbc=>{const _0x4cdb14=_0xe18e3c;if(!_0x546cbc[_0x4cdb14(0x1eb)]){if(_0x3ea372===_0x4cdb14(0x644))_0x546cbc[_0x4cdb14(0x1eb)]=_0x4cdb14(0x7c3);else _0x3ea372===_0x4cdb14(0x51e)?_0x546cbc['questionType']=_0x4cdb14(0x52b):_0x546cbc['questionType']=_0x3ea372;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0xe18e3c(0x713)](_0xe18e3c(0x35c),JSON[_0xe18e3c(0x461)](_0x1109cc));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x4f404d){console['error'](_0xe18e3c(0x1af),_0x4f404d),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง'),_0x549672===null&&(_0x2036b0[_0xe18e3c(0x848)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');}finally{_0x55f913[_0xe18e3c(0x61a)][_0xe18e3c(0x4e9)]('hidden'),document[_0xe18e3c(0x40e)](_0xe18e3c(0x545))['disabled']=![],document['getElementById'](_0xe18e3c(0x42c))[_0xe18e3c(0x1e2)]=![],document[_0xe18e3c(0x40e)]('generate-from-link-btn')[_0xe18e3c(0x1e2)]=![];const _0x434d79=document[_0xe18e3c(0x40e)](_0xe18e3c(0x2c1));_0x434d79&&(_0x434d79[_0xe18e3c(0x1e2)]=![]);}}function exitFullscreen(){const _0x200823=_0x4f829b;if(document[_0x200823(0x3e3)])document['exitFullscreen']()[_0x200823(0x814)](_0xaefb3f=>console[_0x200823(0x713)](_0xaefb3f));else{if(document[_0x200823(0x6c0)])document[_0x200823(0x6c0)]();else document[_0x200823(0x78d)]&&document[_0x200823(0x78d)]();}}function enterFullscreen(){const _0x49f81b=_0x4f829b,_0x1ebeb1=document['documentElement'];if(_0x1ebeb1[_0x49f81b(0x795)])_0x1ebeb1[_0x49f81b(0x795)]()['catch'](_0x14ee62=>{const _0x54ba2d=_0x49f81b;console[_0x54ba2d(0x713)](_0x54ba2d(0x395)+_0x14ee62[_0x54ba2d(0x1ce)]+'\x20('+_0x14ee62['name']+')');});else{if(_0x1ebeb1[_0x49f81b(0x70f)])_0x1ebeb1['webkitRequestFullscreen']();else _0x1ebeb1[_0x49f81b(0x3b4)]&&_0x1ebeb1[_0x49f81b(0x3b4)]();}}function handleCheatingEvent(){const _0x53a41b=_0x4f829b;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x53a41b(0x875),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x53a41b(0x40e)](_0x53a41b(0x526))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x53a41b(0x429)](_0x53a41b(0x537),handleVisibilityChange),document[_0x53a41b(0x429)](_0x53a41b(0x323),handleFullscreenChange)):showMessage(_0x53a41b(0x2a2)+cheatAttempts+'/'+maxCheatAttempts+_0x53a41b(0x430),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x137cb9=_0x4f829b;if(currentMode===_0x137cb9(0x53f)||!isQuizActive)return;if(document[_0x137cb9(0x2fc)]===_0x137cb9(0x64a))handleCheatingEvent();else document[_0x137cb9(0x2fc)]===_0x137cb9(0x3fb)&&(console[_0x137cb9(0x3f9)](_0x137cb9(0x817)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x4c228c=_0x4f829b;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x4c228c(0x188)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x23b6cc){const _0x3fcd79=_0x4f829b,_0x54d8ac=document['getElementById'](_0x3fcd79(0x699));let _0x35df69=_0x3fcd79(0x95b)+_0x23b6cc[_0x3fcd79(0x7e9)]+_0x3fcd79(0x889);_0x23b6cc[_0x3fcd79(0x75d)][_0x3fcd79(0x840)]((_0x272868,_0x4b6e25)=>{const _0x19aef6=_0x3fcd79;!_0x272868['id']&&(_0x272868['id']='q_'+Date['now']()+'_'+_0x4b6e25);const _0x581199=_0x272868[_0x19aef6(0x1eb)]||_0x23b6cc[_0x19aef6(0x4a1)];_0x35df69+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x4b6e25+_0x19aef6(0x7cf)+_0x4b6e25+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x4b6e25+_0x19aef6(0x540)+_0x4b6e25+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x581199){case _0x19aef6(0x402):_0x35df69+=_0x19aef6(0x3e6)+_0x4b6e25+'\x22>'+(_0x4b6e25+0x1)+'.\x20'+_0x272868['stem']+_0x19aef6(0x19e);_0x272868[_0x19aef6(0x4f9)]&&(_0x35df69+=_0x19aef6(0x200)+_0x4b6e25+_0x19aef6(0x6a9)+_0x272868['imageCode']+_0x19aef6(0x930));_0x35df69+=_0x19aef6(0x70c)+_0x4b6e25+'\x22>'+_0x272868['correctResponse']+_0x19aef6(0x84d),_0x35df69+=_0x19aef6(0x2c3)+_0x4b6e25+'\x22>'+_0x272868['explanation']+_0x19aef6(0x84d);break;case _0x19aef6(0x52b):_0x35df69+=_0x19aef6(0x3e6)+_0x4b6e25+'\x22>'+(_0x4b6e25+0x1)+'.\x20'+_0x272868[_0x19aef6(0x1f5)]+'</p>';_0x272868[_0x19aef6(0x4f9)]&&(_0x35df69+=_0x19aef6(0x200)+_0x4b6e25+_0x19aef6(0x6a9)+_0x272868[_0x19aef6(0x4f9)]+'</div>');_0x35df69+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x4b6e25+'\x22>'+_0x272868[_0x19aef6(0x2dd)]+_0x19aef6(0x84d),_0x35df69+=_0x19aef6(0x2c3)+_0x4b6e25+'\x22>'+_0x272868['explanation']+_0x19aef6(0x84d);break;case _0x19aef6(0x421):_0x35df69+=_0x19aef6(0x3e6)+_0x4b6e25+'\x22>'+(_0x4b6e25+0x1)+'.\x20'+_0x272868[_0x19aef6(0x1f5)]+_0x19aef6(0x19e);_0x272868[_0x19aef6(0x4f9)]&&(_0x35df69+=_0x19aef6(0x200)+_0x4b6e25+_0x19aef6(0x6a9)+_0x272868[_0x19aef6(0x4f9)]+'</div>');_0x35df69+=_0x19aef6(0x67e)+(_0x272868[_0x19aef6(0x756)]===!![]?_0x19aef6(0x2c4):'')+_0x19aef6(0x45c)+(_0x272868[_0x19aef6(0x756)]===![]?_0x19aef6(0x2c4):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x35df69+=_0x19aef6(0x2c3)+_0x4b6e25+'\x22>'+_0x272868[_0x19aef6(0x28c)]+_0x19aef6(0x84d);break;case _0x19aef6(0x8bc):case _0x19aef6(0x7c3):default:_0x35df69+=_0x19aef6(0x3e6)+_0x4b6e25+'\x22>'+(_0x4b6e25+0x1)+'.\x20'+_0x272868['questionText']+'</p>';_0x272868[_0x19aef6(0x4f9)]&&(_0x35df69+=_0x19aef6(0x200)+_0x4b6e25+_0x19aef6(0x6a9)+_0x272868[_0x19aef6(0x4f9)]+_0x19aef6(0x930));_0x35df69+=_0x19aef6(0x521)+_0x4b6e25+_0x19aef6(0x7bd)+_0x272868[_0x19aef6(0x4b9)][_0x19aef6(0x670)]((_0x2ebfe8,_0x42e74e)=>_0x19aef6(0x836)+(_0x42e74e===_0x272868['correctAnswerIndex']?_0x19aef6(0x2c4):'')+'\x22>'+_0x2ebfe8+_0x19aef6(0x8a3))[_0x19aef6(0x14b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x35df69+=_0x19aef6(0x2c3)+_0x4b6e25+'\x22>'+_0x272868[_0x19aef6(0x28c)]+_0x19aef6(0x84d);break;}_0x35df69+=_0x19aef6(0x930);}),_0x35df69+=_0x3fcd79(0x53e),_0x54d8ac[_0x3fcd79(0x848)]=_0x35df69,document[_0x3fcd79(0x18c)]('.edit-question-btn')['forEach'](_0x3a8229=>_0x3a8229[_0x3fcd79(0x8ef)](_0x3fcd79(0x349),handleEditQuestion)),document[_0x3fcd79(0x18c)](_0x3fcd79(0x409))[_0x3fcd79(0x840)](_0x3c9531=>_0x3c9531[_0x3fcd79(0x8ef)](_0x3fcd79(0x349),handleRegenerateQuestion)),document[_0x3fcd79(0x18c)]('.save-to-bank-btn')[_0x3fcd79(0x840)](_0x7330db=>_0x7330db[_0x3fcd79(0x8ef)](_0x3fcd79(0x349),handleSaveToBank)),document[_0x3fcd79(0x40e)]('export-worksheet-pdf-btn')[_0x3fcd79(0x8ef)](_0x3fcd79(0x349),exportQuizAsWorksheetPDF),document['getElementById'](_0x3fcd79(0x6f6))[_0x3fcd79(0x8ef)](_0x3fcd79(0x349),saveQuiz),document[_0x3fcd79(0x40e)](_0x3fcd79(0x564))[_0x3fcd79(0x8ef)]('click',handleVerifyAnswers);if(window[_0x3fcd79(0x273)])window[_0x3fcd79(0x273)][_0x3fcd79(0x2f0)]([_0x54d8ac]);}function handleRegenerateQuestion(_0x4aea2d){const _0x2de82b=_0x4f829b,_0xa70aab=_0x4aea2d[_0x2de82b(0x16b)][_0x2de82b(0x850)][_0x2de82b(0x318)],_0x4d6bbb=currentQuizData['topic'];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0xa70aab)+0x1)+_0x2de82b(0x8a4)),generateQuiz(_0x4d6bbb,null,parseInt(_0xa70aab));}function getPointerPosition(_0x31d4ef,_0x1e83fc){const _0x379982=_0x4f829b,_0x42d17c=_0x31d4ef[_0x379982(0x129)]();let _0x3ad0e2,_0x4f35ac;return _0x1e83fc[_0x379982(0x3f2)]&&_0x1e83fc['touches'][_0x379982(0x71e)]>0x0?(_0x3ad0e2=_0x1e83fc['touches'][0x0][_0x379982(0x1e9)],_0x4f35ac=_0x1e83fc[_0x379982(0x3f2)][0x0][_0x379982(0x931)]):(_0x3ad0e2=_0x1e83fc[_0x379982(0x1e9)],_0x4f35ac=_0x1e83fc[_0x379982(0x931)]),{'x':(_0x3ad0e2-_0x42d17c['e'])/_0x42d17c['a'],'y':(_0x4f35ac-_0x42d17c['f'])/_0x42d17c['d']};}function startDrag(_0x1be722){const _0x418a2d=_0x4f829b;_0x1be722[_0x418a2d(0x1b1)]===_0x418a2d(0x58c)&&_0x1be722['preventDefault']();const _0x3153ab=_0x1be722[_0x418a2d(0x261)]['closest'](_0x418a2d(0x7e2));if(_0x3153ab){draggedSvgElement=_0x3153ab;const _0x1f45c6=draggedSvgElement[_0x418a2d(0x427)],_0x52c845=getPointerPosition(_0x1f45c6,_0x1be722);svgOffset['x']=_0x52c845['x']-parseFloat(draggedSvgElement[_0x418a2d(0x1b5)](null,'x')),svgOffset['y']=_0x52c845['y']-parseFloat(draggedSvgElement[_0x418a2d(0x1b5)](null,'y'));}}function calculateItemAnalysis(_0x165749,_0x57054f){const _0x495ac8=_0x4f829b,_0x15f839={};if(_0x57054f[_0x495ac8(0x71e)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x2bcd68=[..._0x57054f][_0x495ac8(0x831)]((_0x5eb565,_0x17777e)=>{const _0x4ecce8=_0x495ac8,_0x725eb1=_0x17777e['latestScore']-_0x5eb565[_0x4ecce8(0x3a2)];if(_0x725eb1!==0x0)return _0x725eb1;const _0x4b093e=_0x5eb565[_0x4ecce8(0x38f)]?.[_0x4ecce8(0x71e)]||0x1,_0x215b09=_0x17777e[_0x4ecce8(0x38f)]?.[_0x4ecce8(0x71e)]||0x1,_0x4f05e0=_0x4b093e-_0x215b09;if(_0x4f05e0!==0x0)return _0x4f05e0;const _0x24e205=new Date(_0x5eb565[_0x4ecce8(0x808)]),_0x318e09=new Date(_0x17777e[_0x4ecce8(0x808)]),_0x3b0022=_0x24e205-_0x318e09;if(_0x3b0022!==0x0)return _0x3b0022;return _0x5eb565[_0x4ecce8(0x7e3)]['localeCompare'](_0x17777e['studentName'],'th');}),_0x36a9bc=_0x2bcd68[_0x495ac8(0x71e)],_0x430221=Math['max'](0x1,Math['floor'](_0x36a9bc*0.33));if(_0x430221===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x44bc39=_0x2bcd68[_0x495ac8(0x12a)](0x0,_0x430221),_0x56854a=_0x2bcd68[_0x495ac8(0x12a)](-_0x430221),_0x27e205=_0x44bc39[_0x495ac8(0x670)](_0x5d4bf2=>_0x5d4bf2[_0x495ac8(0x7e3)]),_0x771bef=_0x56854a[_0x495ac8(0x670)](_0x4aee89=>_0x4aee89['studentName']);return _0x165749[_0x495ac8(0x75d)][_0x495ac8(0x840)]((_0x3bfa4d,_0x5d726d)=>{const _0x326428=_0x495ac8,_0x13ce2b=_0x3bfa4d['stem']||_0x3bfa4d[_0x326428(0x1f5)];let _0x17d625=0x0,_0x4040f3=0x0,_0x11b717=0x0;const _0xb638f7=[],_0x54b3f3=[];_0x44bc39[_0x326428(0x840)](_0x54d4f4=>{const _0x4b887b=_0x326428,_0x158dd4=_0x54d4f4[_0x4b887b(0x38f)][_0x54d4f4[_0x4b887b(0x38f)]['length']-0x1],_0x166d54=_0x158dd4[_0x4b887b(0x1b3)][_0x4b887b(0x742)](_0x285d83=>_0x285d83[_0x4b887b(0x528)]===_0x13ce2b);_0xb638f7[_0x4b887b(0x91e)]({'name':_0x54d4f4[_0x4b887b(0x7e3)],'isCorrect':_0x166d54?_0x166d54[_0x4b887b(0x550)]:![]}),_0x166d54&&_0x166d54['isCorrect']&&_0x4040f3++;}),_0x56854a[_0x326428(0x840)](_0x32e1e0=>{const _0xe94e4e=_0x326428,_0x348043=_0x32e1e0[_0xe94e4e(0x38f)][_0x32e1e0[_0xe94e4e(0x38f)][_0xe94e4e(0x71e)]-0x1],_0x3bc1cc=_0x348043[_0xe94e4e(0x1b3)][_0xe94e4e(0x742)](_0x1f27ae=>_0x1f27ae[_0xe94e4e(0x528)]===_0x13ce2b);_0x54b3f3['push']({'name':_0x32e1e0[_0xe94e4e(0x7e3)],'isCorrect':_0x3bc1cc?_0x3bc1cc['isCorrect']:![]}),_0x3bc1cc&&_0x3bc1cc[_0xe94e4e(0x550)]&&_0x11b717++;}),_0x57054f[_0x326428(0x840)](_0x5f0f91=>{const _0x289664=_0x326428,_0xbc4386=_0x5f0f91[_0x289664(0x38f)][_0x5f0f91[_0x289664(0x38f)]['length']-0x1],_0x26cd3f=_0xbc4386[_0x289664(0x1b3)][_0x289664(0x742)](_0xd71b1c=>_0xd71b1c['originalQuestionText']===_0x13ce2b);_0x26cd3f&&_0x26cd3f[_0x289664(0x550)]&&_0x17d625++;});const _0x306181=_0x36a9bc>0x0?_0x17d625/_0x36a9bc:0x0,_0x1c9c1c=_0x430221>0x0?_0x4040f3/_0x430221-_0x11b717/_0x430221:0x0;_0x15f839[_0x5d726d]={'p':_0x306181,'r':_0x1c9c1c,'upperGroupResponders':_0xb638f7,'lowerGroupResponders':_0x54b3f3};}),{'perQuestionStats':_0x15f839,'overallGroups':{'upperGroupNames':_0x27e205,'lowerGroupNames':_0x771bef}};}function drag(_0x4638d1){const _0x105a9b=_0x4f829b;if(draggedSvgElement){_0x4638d1[_0x105a9b(0x65f)]();const _0x20e993=draggedSvgElement['ownerSVGElement'],_0x102263=getPointerPosition(_0x20e993,_0x4638d1),_0x47c528=_0x20e993[_0x105a9b(0x8f7)][_0x105a9b(0x42e)];let _0xf87e78=_0x102263['x']-svgOffset['x'],_0x276c7f=_0x102263['y']-svgOffset['y'];const _0x2a46e5=draggedSvgElement[_0x105a9b(0x67d)]();_0xf87e78=Math[_0x105a9b(0x67b)](_0x47c528['x'],Math[_0x105a9b(0x1c1)](_0xf87e78,_0x47c528['x']+_0x47c528[_0x105a9b(0x3c5)]-_0x2a46e5[_0x105a9b(0x3c5)])),_0x276c7f=Math[_0x105a9b(0x67b)](_0x47c528['y'],Math[_0x105a9b(0x1c1)](_0x276c7f,_0x47c528['y']+_0x47c528[_0x105a9b(0x30b)]-_0x2a46e5['height'])),draggedSvgElement[_0x105a9b(0x2b3)](null,'x',_0xf87e78),draggedSvgElement[_0x105a9b(0x2b3)](null,'y',_0x276c7f);}}function endDrag(_0x5c0667){draggedSvgElement=null;}function handleSvgEditClick(_0x48a9b1){const _0x55dd86=_0x4f829b;if(_0x48a9b1['target'][_0x55dd86(0x61a)][_0x55dd86(0x624)](_0x55dd86(0x4ab))){const _0x27de58=_0x48a9b1[_0x55dd86(0x261)][_0x55dd86(0x850)][_0x55dd86(0x151)],_0x35838a=_0x48a9b1[_0x55dd86(0x16b)],_0x4ab428=_0x35838a['querySelector']('#'+_0x27de58);_0x4ab428&&_0x4ab428[_0x55dd86(0x193)](),_0x48a9b1['target'][_0x55dd86(0x193)]();}}function handleEditQuestion(_0x4d4775){const _0x3ed7a7=_0x4f829b,_0x520dce=_0x4d4775['currentTarget'],_0x263737=_0x520dce[_0x3ed7a7(0x850)][_0x3ed7a7(0x318)],_0x422241=currentQuizData[_0x3ed7a7(0x75d)][_0x263737],_0x149086=document[_0x3ed7a7(0x40e)](_0x3ed7a7(0x7a8)+_0x263737),_0x57a483=document['getElementById'](_0x3ed7a7(0x7e5)+_0x263737),_0x427cd2=document[_0x3ed7a7(0x40e)](_0x3ed7a7(0x567)+_0x263737);if(_0x520dce[_0x3ed7a7(0x848)][_0x3ed7a7(0x789)](_0x3ed7a7(0x4c8))){_0x520dce[_0x3ed7a7(0x848)]=_0x3ed7a7(0x43c),_0x520dce[_0x3ed7a7(0x1f0)]=_0x3ed7a7(0x3de);if(_0x149086)_0x149086['contentEditable']=!![];if(_0x57a483)_0x57a483['contentEditable']=!![];if(_0x427cd2){const _0x9aabe4=_0x427cd2[_0x3ed7a7(0x7ac)]('svg');if(_0x9aabe4){const _0x578068=_0x9aabe4['querySelectorAll'](_0x3ed7a7(0x6f7));_0x578068[_0x3ed7a7(0x840)]((_0xa59743,_0x2e38a8)=>{const _0x5e0653=_0x3ed7a7,_0x563be5='editable-text-'+_0x263737+'-'+_0x2e38a8;_0xa59743['id']=_0x563be5,_0xa59743[_0x5e0653(0x61a)][_0x5e0653(0x4e9)](_0x5e0653(0x7cc)),_0xa59743[_0x5e0653(0x49c)][_0x5e0653(0x292)]=_0x5e0653(0x5df);const _0x17bfbb=document[_0x5e0653(0x647)](_0x5e0653(0x3ca),_0x5e0653(0x950)),_0xa2828a=_0xa59743[_0x5e0653(0x67d)]();_0x17bfbb[_0x5e0653(0x678)]('cx',String(_0xa2828a['x']+_0xa2828a[_0x5e0653(0x3c5)]+0x5)),_0x17bfbb[_0x5e0653(0x678)]('cy',String(_0xa2828a['y']+_0xa2828a[_0x5e0653(0x30b)]/0x2-0x5)),_0x17bfbb[_0x5e0653(0x678)]('r','5'),_0x17bfbb['setAttribute'](_0x5e0653(0x468),_0x5e0653(0x76f)),_0x17bfbb['setAttribute'](_0x5e0653(0x587),_0x5e0653(0x4ab)),_0x17bfbb[_0x5e0653(0x850)][_0x5e0653(0x151)]=_0x563be5,_0xa59743[_0x5e0653(0x360)](_0x17bfbb);}),_0x9aabe4[_0x3ed7a7(0x8ef)](_0x3ed7a7(0x72f),startDrag),_0x9aabe4[_0x3ed7a7(0x8ef)](_0x3ed7a7(0x33b),drag),_0x9aabe4[_0x3ed7a7(0x8ef)]('mouseup',endDrag),_0x9aabe4['addEventListener'](_0x3ed7a7(0x37f),endDrag),_0x9aabe4['addEventListener']('touchstart',startDrag,{'passive':![]}),_0x9aabe4['addEventListener'](_0x3ed7a7(0x8f0),drag,{'passive':![]}),_0x9aabe4['addEventListener'](_0x3ed7a7(0x5b1),endDrag),_0x9aabe4[_0x3ed7a7(0x8ef)](_0x3ed7a7(0x14c),endDrag),_0x9aabe4[_0x3ed7a7(0x8ef)](_0x3ed7a7(0x349),handleSvgEditClick);}}if(_0x149086)_0x149086[_0x3ed7a7(0x535)]();}else{_0x520dce['innerHTML']=_0x3ed7a7(0x8de),_0x520dce[_0x3ed7a7(0x1f0)]=_0x3ed7a7(0x621);if(_0x149086){_0x149086['contentEditable']=![];const _0x30897f=_0x422241[_0x3ed7a7(0x1eb)]||currentQuizData['quizType'];_0x30897f===_0x3ed7a7(0x402)?_0x422241[_0x3ed7a7(0x425)]=_0x149086[_0x3ed7a7(0x3a0)]['substring'](_0x149086['innerText']['indexOf']('.')+0x2)[_0x3ed7a7(0x108)]():_0x422241[_0x3ed7a7(0x1f5)]=_0x149086[_0x3ed7a7(0x3a0)][_0x3ed7a7(0x8ae)](_0x149086[_0x3ed7a7(0x3a0)]['indexOf']('.')+0x2)[_0x3ed7a7(0x108)]();}_0x57a483&&(_0x57a483[_0x3ed7a7(0x20c)]=![],_0x422241['explanation']=_0x57a483[_0x3ed7a7(0x3a0)]);if(_0x427cd2){const _0x4adf45=_0x427cd2['querySelector']('svg');if(_0x4adf45){const _0xaf8258=_0x4adf45[_0x3ed7a7(0x392)](!![]);_0xaf8258[_0x3ed7a7(0x18c)](_0x3ed7a7(0x68a))[_0x3ed7a7(0x840)](_0x1a692e=>_0x1a692e['remove']()),_0xaf8258[_0x3ed7a7(0x18c)]('.draggable-text')['forEach'](_0x21715e=>{const _0x69403d=_0x3ed7a7;_0x21715e[_0x69403d(0x61a)][_0x69403d(0x193)](_0x69403d(0x7cc)),_0x21715e['style'][_0x69403d(0x292)]=_0x69403d(0x692),_0x21715e['removeAttribute']('id');}),_0x422241[_0x3ed7a7(0x4f9)]=_0xaf8258['outerHTML'],_0x4adf45['removeEventListener'](_0x3ed7a7(0x72f),startDrag),_0x4adf45['removeEventListener'](_0x3ed7a7(0x33b),drag),_0x4adf45[_0x3ed7a7(0x429)](_0x3ed7a7(0x3bb),endDrag),_0x4adf45['removeEventListener']('mouseleave',endDrag),_0x4adf45[_0x3ed7a7(0x429)](_0x3ed7a7(0x58c),startDrag),_0x4adf45[_0x3ed7a7(0x429)](_0x3ed7a7(0x8f0),drag),_0x4adf45[_0x3ed7a7(0x429)](_0x3ed7a7(0x5b1),endDrag),_0x4adf45[_0x3ed7a7(0x429)](_0x3ed7a7(0x14c),endDrag),_0x4adf45['removeEventListener'](_0x3ed7a7(0x349),handleSvgEditClick),_0x4adf45['querySelectorAll'](_0x3ed7a7(0x68a))['forEach'](_0xc9abc9=>_0xc9abc9[_0x3ed7a7(0x193)]()),_0x4adf45[_0x3ed7a7(0x18c)](_0x3ed7a7(0x7e2))[_0x3ed7a7(0x840)](_0x39ab50=>{const _0x3838ce=_0x3ed7a7;_0x39ab50[_0x3838ce(0x61a)][_0x3838ce(0x193)]('draggable-text'),_0x39ab50[_0x3838ce(0x49c)][_0x3838ce(0x292)]=_0x3838ce(0x692);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x230966){const _0x1d70ef=_0x4f829b,_0x31d587=document[_0x1d70ef(0x40e)](_0x1d70ef(0x7f8)),_0x53a5c6=document[_0x1d70ef(0x40e)](_0x1d70ef(0x4ba));_0x53a5c6['innerHTML']=_0x1d70ef(0x1b7),_0x31d587[_0x1d70ef(0x61a)]['remove'](_0x1d70ef(0x64a));try{const _0x27cac0=doc(db,_0x1d70ef(0x65b)+appId+'/public/data/quizzes',_0x230966),_0x167e5c=await getDoc(_0x27cac0);if(!_0x167e5c[_0x1d70ef(0x2ca)]())throw new Error(_0x1d70ef(0x8a5));currentEditingQuizData={'id':_0x230966,..._0x167e5c[_0x1d70ef(0x114)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x32b76f){console[_0x1d70ef(0x713)](_0x1d70ef(0x221),_0x32b76f),showMessage(_0x1d70ef(0x4e3)),_0x31d587[_0x1d70ef(0x61a)]['add'](_0x1d70ef(0x64a));}}function renderQuizEditor(_0x584322){const _0x312a4d=_0x4f829b;document[_0x312a4d(0x40e)](_0x312a4d(0x2bb))[_0x312a4d(0x2f4)]=_0x584322[_0x312a4d(0x7e9)];const _0x26689f=document[_0x312a4d(0x40e)](_0x312a4d(0x4ba));let _0x160a97=_0x584322[_0x312a4d(0x75d)][_0x312a4d(0x670)]((_0x16866d,_0x11faaa)=>{const _0x30338c=_0x312a4d;let _0x4723c9='';const _0x2c5c6c=_0x16866d['questionType']||_0x584322[_0x30338c(0x4a1)];switch(_0x2c5c6c){case _0x30338c(0x7c3):const _0x14ca61=(_0x16866d[_0x30338c(0x4b9)]||[])[_0x30338c(0x670)]((_0x4d251a,_0x2610b4)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x11faaa+'\x22\x20value=\x22'+_0x2610b4+'\x22\x20'+(_0x2610b4===_0x16866d['correctAnswerIndex']?'checked':'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x4d251a+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x30338c(0x14b)]('');_0x4723c9=_0x30338c(0x94f)+_0x14ca61+_0x30338c(0x691);break;case _0x30338c(0x52b):_0x4723c9=_0x30338c(0x539)+(_0x16866d[_0x30338c(0x2dd)]||'')+_0x30338c(0x493);break;case _0x30338c(0x421):_0x4723c9=_0x30338c(0x549)+_0x11faaa+'\x22\x20value=\x22true\x22\x20'+(_0x16866d['correctAnswer']===!![]?_0x30338c(0x137):'')+_0x30338c(0x2dc)+_0x11faaa+_0x30338c(0x8b6)+(_0x16866d['correctAnswer']===![]?_0x30338c(0x137):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x30338c(0x402):_0x4723c9=_0x30338c(0x764)+(_0x16866d[_0x30338c(0x2bf)]||'')+_0x30338c(0x17e);break;}const _0x29871d=_0x16866d[_0x30338c(0x1f5)]||_0x16866d['stem']||'';return _0x30338c(0x13e)+_0x11faaa+'\x22\x20data-q-type=\x22'+_0x2c5c6c+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x11faaa+0x1)+'\x20('+_0x2c5c6c+'):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x29871d+_0x30338c(0x2a9)+_0x4723c9+_0x30338c(0x230);})[_0x312a4d(0x14b)]('');_0x26689f[_0x312a4d(0x848)]=_0x160a97,_0x26689f[_0x312a4d(0x18c)](_0x312a4d(0x35e))['forEach'](_0x30ca4e=>{const _0x5ceeda=_0x312a4d;_0x30ca4e[_0x5ceeda(0x8ef)](_0x5ceeda(0x349),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x289111){const _0x350694=_0x4f829b,_0x364924=_0x289111[_0x350694(0x16b)],_0x348815=_0x364924['closest'](_0x350694(0x22e));if(!_0x348815)return;const _0xc3218c=parseInt(_0x348815['dataset'][_0x350694(0x307)],0xa);if(isNaN(_0xc3218c)||!currentEditingQuizData[_0x350694(0x75d)][_0xc3218c]){showMessage(_0x350694(0x3d0));return;}const _0x36bea9=currentEditingQuizData[_0x350694(0x75d)][_0xc3218c];_0x364924['innerHTML']=_0x350694(0x21a),_0x364924[_0x350694(0x1e2)]=!![];const _0x4367c3=_0x350694(0x923)+JSON[_0x350694(0x461)](_0x36bea9)+_0x350694(0x6ae);let _0xfde598;const _0x222a16=_0x36bea9[_0x350694(0x1eb)]||currentEditingQuizData[_0x350694(0x4a1)];switch(_0x222a16){case _0x350694(0x52b):_0xfde598={'type':_0x350694(0x5dd),'properties':{'questionText':{'type':_0x350694(0x44e)},'idealAnswer':{'type':_0x350694(0x44e)},'explanation':{'type':_0x350694(0x44e)},'imageCode':{'type':_0x350694(0x44e)}},'required':[_0x350694(0x1f5),_0x350694(0x2dd),_0x350694(0x28c)]};break;case _0x350694(0x7c3):default:_0xfde598={'type':_0x350694(0x5dd),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x350694(0x44e)},'imageCode':{'type':_0x350694(0x44e)}},'required':[_0x350694(0x1f5),'options',_0x350694(0x71a),_0x350694(0x28c)]};break;}try{let _0x576947=await callAnalysisApi(_0x4367c3,_0xfde598);_0x576947['options']&&Array[_0x350694(0x84f)](_0x576947[_0x350694(0x4b9)])&&(_0x576947['options']=_0x576947[_0x350694(0x4b9)][_0x350694(0x670)](_0x133fe4=>typeof _0x133fe4===_0x350694(0x3f4)?_0x133fe4[_0x350694(0x745)](/S(\s*[\d_]+?\s*)S/g,_0x350694(0x829)):_0x133fe4)),_0x36bea9[_0x350694(0x4f9)]&&_0x36bea9[_0x350694(0x4f9)][_0x350694(0x789)](_0x350694(0x907))&&(_0x576947[_0x350694(0x4f9)]=''),currentEditingQuizData['questions'][_0xc3218c]={..._0x36bea9,..._0x576947},renderQuizEditor(currentEditingQuizData),showMessage(_0x350694(0x88d));}catch(_0x2c5c4c){console[_0x350694(0x713)]('AI\x20Fix\x20Error:',_0x2c5c4c),showMessage(_0x350694(0x171)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x2a6529=_0x4f829b,_0x3dbd2e=document[_0x2a6529(0x40e)](_0x2a6529(0x5b6));_0x3dbd2e[_0x2a6529(0x1e2)]=!![],_0x3dbd2e[_0x2a6529(0x848)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x20688e=document[_0x2a6529(0x40e)](_0x2a6529(0x2bb))['value'],_0x1ee7f5=document[_0x2a6529(0x18c)](_0x2a6529(0x22e));let _0xc3082b=[];const _0x46dc63=Array['from'](_0x1ee7f5)[_0x2a6529(0x670)]((_0x5cda41,_0x327b84)=>{const _0x1925dd=_0x2a6529,_0x218c82=_0x5cda41[_0x1925dd(0x850)][_0x1925dd(0x869)],_0x407235=_0x5cda41[_0x1925dd(0x7ac)](_0x1925dd(0x571))[_0x1925dd(0x2f4)];let _0x51b884={'questionType':_0x218c82};const _0x2408e5=currentEditingQuizData[_0x1925dd(0x75d)][_0x327b84];switch(_0x218c82){case _0x1925dd(0x7c3):_0x51b884[_0x1925dd(0x1f5)]=_0x407235;const _0x89f2b2=_0x5cda41[_0x1925dd(0x18c)](_0x1925dd(0x518));_0x51b884[_0x1925dd(0x4b9)]=Array[_0x1925dd(0x8c6)](_0x89f2b2)['map'](_0x166448=>_0x166448[_0x1925dd(0x2f4)]);const _0x312389=_0x5cda41[_0x1925dd(0x7ac)](_0x1925dd(0x6ea));_0x51b884['correctAnswerIndex']=_0x312389?parseInt(_0x312389['value']):0x0;break;case _0x1925dd(0x52b):_0x51b884[_0x1925dd(0x1f5)]=_0x407235,_0x51b884[_0x1925dd(0x2dd)]=_0x5cda41[_0x1925dd(0x7ac)]('.ideal-answer-input')[_0x1925dd(0x2f4)];break;case _0x1925dd(0x421):_0x51b884['questionText']=_0x407235;const _0x266c65=_0x5cda41[_0x1925dd(0x7ac)](_0x1925dd(0x6ea));_0x51b884['correctAnswer']=_0x266c65?_0x266c65['value']===_0x1925dd(0x812):!![];break;case _0x1925dd(0x402):_0x51b884['stem']=_0x407235;const _0x42aa86=_0x5cda41[_0x1925dd(0x7ac)](_0x1925dd(0x77c));_0x51b884[_0x1925dd(0x2bf)]=_0x42aa86?_0x42aa86[_0x1925dd(0x2f4)]:'',_0xc3082b[_0x1925dd(0x91e)](_0x51b884[_0x1925dd(0x2bf)]);break;default:_0x51b884[_0x1925dd(0x1f5)]=_0x407235;break;}return{..._0x2408e5,..._0x51b884};});_0xc3082b[_0x2a6529(0x71e)]>0x0&&_0x46dc63[_0x2a6529(0x840)](_0x56c254=>{const _0x1af112=_0x2a6529;_0x56c254['questionType']===_0x1af112(0x402)&&(_0x56c254[_0x1af112(0x424)]=_0xc3082b);});const _0x342085=currentEditingQuizData['id'],_0x21c59e=doc(db,'artifacts/'+appId+_0x2a6529(0x5fb),_0x342085);await updateDoc(_0x21c59e,{'topic':_0x20688e,'questions':_0x46dc63}),document[_0x2a6529(0x40e)](_0x2a6529(0x7f8))[_0x2a6529(0x61a)][_0x2a6529(0x4e9)](_0x2a6529(0x64a)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x342085));}catch(_0x17c8a4){console['error']('Error\x20saving\x20quiz\x20edits:',_0x17c8a4),showMessage(_0x2a6529(0x610));}finally{_0x3dbd2e['disabled']=![],_0x3dbd2e[_0x2a6529(0x848)]=_0x2a6529(0x7ce);}}async function initiateReGradeProcess(_0x5e3a98){const _0x4eab3c=_0x4f829b;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x39ff90=doc(db,'artifacts/'+appId+_0x4eab3c(0x5fb),_0x5e3a98),_0x3dbc8c=await getDoc(_0x39ff90);if(!_0x3dbc8c[_0x4eab3c(0x2ca)]())throw new Error(_0x4eab3c(0x51d));const _0xf0ec68={'id':_0x5e3a98,..._0x3dbc8c[_0x4eab3c(0x114)]()},_0x58b072=collection(db,_0x4eab3c(0x65b)+appId+_0x4eab3c(0x5fb),_0x5e3a98,_0x4eab3c(0x858)),_0x391058=await getDocs(_0x58b072);if(_0x391058[_0x4eab3c(0x2fe)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x596feb=_0x391058['docs'][_0x4eab3c(0x670)](_0x3db2f3=>reGradeSingleSubmission(_0x3db2f3,_0xf0ec68));await Promise[_0x4eab3c(0x791)](_0x596feb);if(_0xf0ec68[_0x4eab3c(0x6ad)]){const _0x1bc4ba=doc(db,'artifacts/'+appId+'/public/data/projects',_0xf0ec68[_0x4eab3c(0x6ad)]),_0xf1026e=await getDoc(_0x1bc4ba);if(_0xf1026e[_0x4eab3c(0x2ca)]()&&_0xf1026e[_0x4eab3c(0x114)]()['students']){const _0x6a0998=_0xf1026e[_0x4eab3c(0x114)]()[_0x4eab3c(0x2af)][_0x4eab3c(0x670)](_0x1c3da5=>updateStudentProfile(_0xf0ec68['projectId'],_0x1c3da5));await Promise[_0x4eab3c(0x791)](_0x6a0998);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x391058[_0x4eab3c(0x78a)]+_0x4eab3c(0x69f));}catch(_0x4dcda4){console['error'](_0x4eab3c(0x608),_0x4dcda4),showMessage(_0x4eab3c(0x4ad)+_0x4dcda4['message']);}}async function reGradeSingleSubmission(_0xed084e,_0x5506a8){const _0x4747a9=_0x4f829b,_0x3f52e8=_0xed084e[_0x4747a9(0x114)](),_0x24dfaa=_0x3f52e8[_0x4747a9(0x7e3)],_0x23f948=_0x3f52e8[_0x4747a9(0x38f)]||[],_0x25acf9=[];for(const _0x30b465 of _0x23f948){let _0x51a8dd=0x0,_0x1f314a=[],_0x57ca30=0x0;const _0x37ba61=[];for(const _0x587b2a of _0x30b465[_0x4747a9(0x1b3)]){let _0xe30451;_0x587b2a[_0x4747a9(0x3da)]&&(_0xe30451=_0x5506a8['questions'][_0x4747a9(0x742)](_0x11bdb2=>_0x11bdb2['id']===_0x587b2a[_0x4747a9(0x3da)]));!_0xe30451&&_0x587b2a[_0x4747a9(0x528)]&&(_0xe30451=_0x5506a8['questions'][_0x4747a9(0x742)](_0x55bf9b=>(_0x55bf9b['stem']||_0x55bf9b[_0x4747a9(0x1f5)])===_0x587b2a[_0x4747a9(0x528)]));let _0x3eb445=![];if(_0xe30451){const _0x2b9c7b=_0xe30451['questionType']||_0x5506a8['quizType'];switch(_0x2b9c7b){case'multiple_choice':if(_0xe30451['options']&&_0xe30451[_0x4747a9(0x71a)]<_0xe30451[_0x4747a9(0x4b9)][_0x4747a9(0x71e)]){const _0x54da8b=_0xe30451[_0x4747a9(0x4b9)][_0xe30451[_0x4747a9(0x71a)]];_0x3eb445=_0x587b2a[_0x4747a9(0x899)]===_0x54da8b;}break;case _0x4747a9(0x421):const _0x41a099=_0x587b2a[_0x4747a9(0x4e5)]===!![]||_0x587b2a[_0x4747a9(0x4e5)]==='true';_0x3eb445=_0x41a099===_0xe30451['correctAnswer'];break;case _0x4747a9(0x402):_0x3eb445=_0x587b2a[_0x4747a9(0x4e5)]===_0xe30451[_0x4747a9(0x2bf)];break;case _0x4747a9(0x52b):_0x3eb445=await gradeShortAnswer(_0x587b2a[_0x4747a9(0x4e5)],_0xe30451);break;default:_0x3eb445=_0x587b2a['isCorrect'];break;}}if(_0x3eb445){_0x51a8dd++,_0x57ca30++;if(_0x57ca30===0x3)_0x1f314a['push'](BADGES[_0x4747a9(0x810)]['id']);}else _0x57ca30=0x0;_0x37ba61[_0x4747a9(0x91e)]({..._0x587b2a,'isCorrect':_0x3eb445});}let _0x1d6b84=_0x51a8dd*0xa;_0x51a8dd===_0x5506a8[_0x4747a9(0x75d)][_0x4747a9(0x71e)]&&(_0x1d6b84+=0x32,_0x1f314a[_0x4747a9(0x91e)](BADGES[_0x4747a9(0x8e8)]['id'])),_0x25acf9[_0x4747a9(0x91e)]({..._0x30b465,'score':_0x51a8dd,'points':_0x1d6b84,'badges':Array['from'](new Set(_0x1f314a)),'answers':_0x37ba61});}const _0x5648e3=_0x25acf9[_0x4747a9(0x71e)]>0x0?_0x25acf9[0x0][_0x4747a9(0x3e0)]:0x0,_0x9d58a1=Math[_0x4747a9(0x67b)](..._0x25acf9[_0x4747a9(0x670)](_0x45b598=>_0x45b598[_0x4747a9(0x3e0)])),_0xb10bf9=_0x25acf9[_0x4747a9(0x71e)]>0x0?_0x25acf9[_0x25acf9[_0x4747a9(0x71e)]-0x1][_0x4747a9(0x3e0)]:0x0,_0x4f1201=_0x25acf9[_0x4747a9(0x71e)]>0x0?_0x25acf9[_0x25acf9[_0x4747a9(0x71e)]-0x1][_0x4747a9(0x8fb)]:0x0,_0x14647d=doc(db,_0x4747a9(0x65b)+appId+_0x4747a9(0x351)+_0x5506a8['id']+_0x4747a9(0x2b4),_0x24dfaa);await updateDoc(_0x14647d,{'attempts':_0x25acf9,'firstScore':_0x5648e3,'bestScore':_0x9d58a1,'latestScore':_0xb10bf9,'points':_0x4f1201});}function cleanupQuizOptions(_0x3e3c52){const _0x114919=_0x4f829b,_0x219bf8=(_0x43dae0,_0x5721dc)=>_0x5721dc===0x0?_0x43dae0:_0x219bf8(_0x5721dc,_0x43dae0%_0x5721dc),_0x4624f7=_0x2c3f68=>{const _0x534b04=_0x9ccb;if(typeof _0x2c3f68!==_0x534b04(0x3f4))return null;_0x2c3f68=_0x2c3f68[_0x534b04(0x108)]();const _0x573785=_0x2c3f68[_0x534b04(0x6a0)](/[ /]/)['filter'](_0x3310bc=>_0x3310bc!=='');if(_0x573785[_0x534b04(0x71e)]===0x3)return parseInt(_0x573785[0x0])+parseInt(_0x573785[0x1])/parseInt(_0x573785[0x2]);else{if(_0x573785[_0x534b04(0x71e)]===0x2)return parseInt(_0x573785[0x0])/parseInt(_0x573785[0x1]);else{if(_0x573785[_0x534b04(0x71e)]===0x1&&!isNaN(_0x573785[0x0]))return parseFloat(_0x573785[0x0]);}}return null;},_0x4ff590=_0x549c58=>{const _0xc854cd=_0x9ccb;if(typeof _0x549c58!==_0xc854cd(0x3f4))return _0x549c58;const _0xf96ba8=_0x549c58[_0xc854cd(0x78f)](/(\d+)\s+(\d+)\/(\d+)/);if(_0xf96ba8){const _0x2d1e6c=parseInt(_0xf96ba8[0x1]);let _0x5a39d4=parseInt(_0xf96ba8[0x2]),_0x18ca44=parseInt(_0xf96ba8[0x3]);const _0xdd27ea=_0x219bf8(_0x5a39d4,_0x18ca44);_0x5a39d4/=_0xdd27ea,_0x18ca44/=_0xdd27ea;if(_0x18ca44===0x1)return(_0x2d1e6c+_0x5a39d4)[_0xc854cd(0x6bb)]();return _0x2d1e6c+'\x20'+_0x5a39d4+'/'+_0x18ca44;}return _0x549c58;};return _0x3e3c52&&_0x3e3c52[_0x114919(0x75d)]&&_0x3e3c52[_0x114919(0x75d)][_0x114919(0x840)](_0x39a729=>{const _0x2a4376=_0x114919;if(_0x39a729['questionType']===_0x2a4376(0x7c3)&&_0x39a729[_0x2a4376(0x4b9)]){const _0x539bc8=new Map(),_0x19259e=_0x39a729[_0x2a4376(0x4b9)][_0x39a729[_0x2a4376(0x71a)]];_0x39a729[_0x2a4376(0x4b9)][_0x2a4376(0x840)](_0x264929=>{const _0x475987=_0x2a4376,_0x23ef2d=_0x4ff590(_0x264929),_0x3fd18e=_0x4624f7(_0x23ef2d);_0x3fd18e!==null&&!_0x539bc8[_0x475987(0x379)](_0x3fd18e)&&_0x539bc8[_0x475987(0x1ad)](_0x3fd18e,_0x23ef2d);}),_0x39a729['options']=Array['from'](_0x539bc8[_0x2a4376(0x4cc)]());const _0xb2fb80=_0x39a729[_0x2a4376(0x4b9)][_0x2a4376(0x1fd)](_0x40c3f8=>_0x40c3f8===_0x4ff590(_0x19259e));_0x39a729[_0x2a4376(0x71a)]=_0xb2fb80!==-0x1?_0xb2fb80:0x0;}}),_0x3e3c52;}async function saveQuiz(){const _0x364535=_0x4f829b;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x364535(0x75d)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x123037=document[_0x364535(0x40e)](_0x364535(0x6f6));_0x123037[_0x364535(0x1e2)]=!![],_0x123037[_0x364535(0x848)]=_0x364535(0x1b2);const _0x43808d=document['getElementById'](_0x364535(0x78e))[_0x364535(0x137)];let _0x5ca2fb=document[_0x364535(0x40e)]('editable-quiz-topic')['innerText'][_0x364535(0x108)]();_0x43808d&&!_0x5ca2fb[_0x364535(0x358)]('(ก่อนเรียน)')&&(_0x5ca2fb=_0x364535(0x32d)+_0x5ca2fb);try{const _0x1a9260={'resultsDisplay':document[_0x364535(0x40e)](_0x364535(0x7b7))['value'],'shuffle':document[_0x364535(0x40e)](_0x364535(0x4b0))[_0x364535(0x2f4)],'timerMode':document[_0x364535(0x40e)](_0x364535(0x6c8))[_0x364535(0x2f4)],'timerDuration':parseInt(document[_0x364535(0x40e)](_0x364535(0x8e0))[_0x364535(0x2f4)])||0xa,'passingScore':parseInt(document[_0x364535(0x40e)]('passing-score-input')['value'])||0x0,'isAdaptive':document[_0x364535(0x40e)](_0x364535(0x820))[_0x364535(0x137)],'loopUntilPass':document[_0x364535(0x40e)](_0x364535(0x150))['checked']},_0x2149b3=(currentQuizData[_0x364535(0x75d)]||[])[_0x364535(0x670)]((_0x42d891,_0x19f254)=>{const _0x6279b1=_0x364535,_0x20de4d=document[_0x6279b1(0x40e)](_0x6279b1(0x216))['value'],_0x30791e={'id':'q_'+Date[_0x6279b1(0x142)]()+'_'+_0x19f254,'questionText':_0x42d891[_0x6279b1(0x1f5)]||'','explanation':_0x42d891['explanation']||_0x6279b1(0x4d9),'questionType':_0x42d891[_0x6279b1(0x1eb)]||_0x20de4d,'imageCode':_0x42d891[_0x6279b1(0x4f9)]||null};return(_0x30791e[_0x6279b1(0x1eb)]===_0x6279b1(0x7c3)||_0x30791e['questionType']===_0x6279b1(0x644)||_0x30791e[_0x6279b1(0x1eb)]===_0x6279b1(0x615)&&_0x42d891[_0x6279b1(0x4b9)])&&(_0x30791e[_0x6279b1(0x4b9)]=_0x42d891[_0x6279b1(0x4b9)]||[],_0x30791e[_0x6279b1(0x71a)]=_0x42d891['correctAnswerIndex']!==undefined?_0x42d891[_0x6279b1(0x71a)]:0x0),(_0x30791e[_0x6279b1(0x1eb)]==='short_answer'||_0x30791e[_0x6279b1(0x1eb)]===_0x6279b1(0x51e)||_0x30791e[_0x6279b1(0x1eb)]===_0x6279b1(0x615)&&_0x42d891[_0x6279b1(0x2dd)])&&(_0x30791e[_0x6279b1(0x2dd)]=_0x42d891[_0x6279b1(0x2dd)]||''),_0x30791e['questionType']===_0x6279b1(0x421)&&(_0x30791e[_0x6279b1(0x756)]=_0x42d891[_0x6279b1(0x756)]===!![]),_0x30791e['questionType']===_0x6279b1(0x402)&&(_0x30791e['stem']=_0x42d891[_0x6279b1(0x425)]||'',_0x30791e[_0x6279b1(0x2bf)]=_0x42d891[_0x6279b1(0x2bf)]||'',_0x30791e['allResponses']=_0x42d891['allResponses']||[]),_0x30791e;}),_0x3f317e={'topic':_0x5ca2fb,'quizType':currentQuizData[_0x364535(0x4a1)]||_0x364535(0x7c3),'questions':_0x2149b3,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x364535(0x1c9)](),'status':_0x364535(0x36d),'settings':_0x1a9260,'quizMode':_0x43808d?_0x364535(0x16e):'standard','pairedQuizId':null,'lessonPlan':null};let _0x4f0689;while(!![]){_0x4f0689=Math[_0x364535(0x716)](0x3e8+Math[_0x364535(0x6de)]()*0x2328)['toString']();const _0x3f96b8=await getDoc(doc(db,_0x364535(0x65b)+appId+'/public/data/quizzes',_0x4f0689));if(!_0x3f96b8[_0x364535(0x2ca)]())break;}await setDoc(doc(db,_0x364535(0x65b)+appId+_0x364535(0x5fb),_0x4f0689),_0x3f317e),currentQuizData[_0x364535(0x541)]=_0x1a9260,currentQuizData['id']=_0x4f0689;const _0x2442ce=document['getElementById']('generated-quiz-actions');_0x2442ce['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x4f0689+_0x364535(0x120),document[_0x364535(0x40e)](_0x364535(0x60d))[_0x364535(0x8ef)](_0x364535(0x349),()=>copyTextToClipboard(_0x4f0689,_0x364535(0x86f))),document['getElementById'](_0x364535(0x664))[_0x364535(0x8ef)](_0x364535(0x349),()=>handleStartLiveRace(_0x4f0689)),document['getElementById'](_0x364535(0x3e1))['addEventListener'](_0x364535(0x349),()=>startPresentation(currentQuizData)),document['getElementById'](_0x364535(0x38b))[_0x364535(0x8ef)]('click',startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x4db42a){console[_0x364535(0x713)]('Error\x20saving\x20quiz:',_0x4db42a),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0x123037['disabled']=![],_0x123037[_0x364535(0x848)]=_0x364535(0x2ea);}}function promptForProjectAndSave(){const _0x5180f1=_0x4f829b,_0x5b9804=document[_0x5180f1(0x40e)](_0x5180f1(0x3c9)),_0x2848e2=document[_0x5180f1(0x40e)](_0x5180f1(0x553)),_0x5f20ad=_0x5b9804[_0x5180f1(0x7ac)]('h3'),_0x15dd91=document[_0x5180f1(0x40e)](_0x5180f1(0x2e8));_0x5f20ad[_0x5180f1(0x41f)]='เลือกโปรเจคเพื่อบันทึก',_0x15dd91['textContent']=_0x5180f1(0x91a);allProjects['length']===0x0?(_0x2848e2[_0x5180f1(0x848)]=_0x5180f1(0x575),_0x15dd91['disabled']=!![]):(_0x2848e2[_0x5180f1(0x848)]=allProjects[_0x5180f1(0x670)](_0x5e359b=>_0x5180f1(0x62f)+_0x5e359b['id']+'\x22>'+_0x5e359b[_0x5180f1(0x943)]+_0x5180f1(0x48e))[_0x5180f1(0x14b)](''),_0x15dd91[_0x5180f1(0x1e2)]=![]);_0x5b9804[_0x5180f1(0x61a)][_0x5180f1(0x193)](_0x5180f1(0x64a));const _0x3925a1=()=>{const _0x4b999e=_0x5180f1,_0x383004=_0x2848e2['value'];_0x383004?(currentProjectId=_0x383004,_0x5b9804[_0x4b999e(0x61a)][_0x4b999e(0x4e9)](_0x4b999e(0x64a)),saveQuiz(),_0x5f20ad['textContent']=_0x4b999e(0x218),_0x15dd91[_0x4b999e(0x41f)]=_0x4b999e(0x418),_0x15dd91[_0x4b999e(0x429)]('click',_0x3925a1),_0x15dd91['addEventListener'](_0x4b999e(0x349),confirmMoveQuiz)):showMessage(_0x4b999e(0xe8));};_0x15dd91[_0x5180f1(0x429)](_0x5180f1(0x349),confirmMoveQuiz),_0x15dd91[_0x5180f1(0x8ef)](_0x5180f1(0x349),_0x3925a1);}function copyTextToClipboard(_0x491c96,_0x254f42){const _0x8ccdf5=_0x4f829b,_0x2b8f1a=document[_0x8ccdf5(0x4c1)](_0x8ccdf5(0x571));_0x2b8f1a[_0x8ccdf5(0x2f4)]=_0x491c96,_0x2b8f1a[_0x8ccdf5(0x49c)][_0x8ccdf5(0x620)]=_0x8ccdf5(0x1fb),_0x2b8f1a['style'][_0x8ccdf5(0x883)]='0',document[_0x8ccdf5(0x497)][_0x8ccdf5(0x202)](_0x2b8f1a),_0x2b8f1a[_0x8ccdf5(0x535)](),_0x2b8f1a[_0x8ccdf5(0x6b4)]();try{const _0x4c3210=document[_0x8ccdf5(0x851)](_0x8ccdf5(0x1d7));showMessage(_0x4c3210?_0x254f42:_0x8ccdf5(0x1d8));}catch(_0x13cd93){showMessage(_0x8ccdf5(0x1d8)),console['error'](_0x8ccdf5(0x8df),_0x13cd93);}document[_0x8ccdf5(0x497)]['removeChild'](_0x2b8f1a);}function listenForProjectQuizzes(_0x4c5ddb){const _0x4c29fe=_0x4f829b,_0x231a5d=collection(db,_0x4c29fe(0x65b)+appId+_0x4c29fe(0x5fb)),_0x39275a=query(_0x231a5d,where(_0x4c29fe(0x6ad),'==',_0x4c5ddb));unsubscribeQuizzesListener=onSnapshot(_0x39275a,async _0xf26b86=>{const _0x492b53=_0x4c29fe;allQuizzes=_0xf26b86[_0x492b53(0x1f1)]['map'](_0x37a05c=>({'id':_0x37a05c['id'],..._0x37a05c[_0x492b53(0x114)]()})),renderQuizzes();},_0x5113ce=>{const _0x10905d=_0x4c29fe;console['error'](_0x10905d(0x4ee),_0x5113ce),document[_0x10905d(0x40e)]('project-quizzes-list')['innerHTML']='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x503d59=_0x4f829b,_0x265c8d=document[_0x503d59(0x40e)](_0x503d59(0x510)),_0x26308e=document[_0x503d59(0x40e)]('quiz-search-input')[_0x503d59(0x2f4)][_0x503d59(0x7bf)]();let _0xd11be9;currentProjectId===_0x503d59(0x276)?_0xd11be9=starredQuizzes:_0xd11be9=allQuizzes;let _0x508bb5=_0xd11be9[_0x503d59(0x89b)](_0xedbc82=>_0xedbc82[_0x503d59(0x7e9)]['toLowerCase']()[_0x503d59(0x789)](_0x26308e));_0x508bb5[_0x503d59(0x831)]((_0x45eae5,_0x47af23)=>new Date(_0x47af23['createdAt'])-new Date(_0x45eae5[_0x503d59(0x5c5)]));if(_0x508bb5[_0x503d59(0x71e)]===0x0){_0x265c8d['innerHTML']=_0x503d59(0x879);return;}const _0x386031={},_0x1e1356=_0x508bb5[_0x503d59(0x670)](async _0x4f5c19=>{const _0x4e7abe=_0x503d59,_0x13f0d3=collection(db,'artifacts/'+appId+_0x4e7abe(0x351)+_0x4f5c19['id']+_0x4e7abe(0x2b4)),_0x2914bb=await getDocs(_0x13f0d3);_0x386031[_0x4f5c19['id']]=_0x2914bb['size'];});await Promise[_0x503d59(0x791)](_0x1e1356);let _0x51c8da='';_0x508bb5['forEach'](_0x5365e2=>{const _0x54341a=_0x503d59,_0x437ed8=_0x386031[_0x5365e2['id']]||0x0,_0x26dbbb=_0x5365e2[_0x54341a(0x29a)]||_0x54341a(0x36d),_0x96e1e8=_0x5365e2[_0x54341a(0x541)]?.['timerMode']||_0x54341a(0x732);let _0x4bab14='',_0x53fd2f='';const _0x566e2d=new Date();let _0x158fc5=_0x26dbbb;if(_0x26dbbb===_0x54341a(0x6f8)){const _0x3e0c53=_0x5365e2['startTime']?new Date(_0x5365e2[_0x54341a(0x765)]):null,_0x146a12=_0x5365e2['endTime']?new Date(_0x5365e2[_0x54341a(0x1a4)]):null;if(_0x146a12&&_0x566e2d>_0x146a12)_0x158fc5=_0x54341a(0x45e);else _0x3e0c53&&_0x566e2d<_0x3e0c53?_0x158fc5=_0x54341a(0x7dd):_0x158fc5=_0x54341a(0x36d);}switch(_0x158fc5){case'inactive':_0x4bab14=_0x54341a(0x7ae),_0x53fd2f=_0x54341a(0x263);break;case _0x54341a(0x7dd):_0x4bab14=_0x54341a(0x88b),_0x53fd2f=_0x54341a(0x1d1);break;case'active':_0x4bab14=_0x96e1e8!==_0x54341a(0x732)?_0x54341a(0x325):_0x54341a(0x482),_0x53fd2f='text-green-700\x20bg-green-100';break;default:_0x4bab14='ตั้งเวลา\x20(เปิด)',_0x53fd2f=_0x54341a(0x6ce);break;}let _0x812ccf='';const _0x324599={'day':'2-digit','month':_0x54341a(0x3eb),'year':_0x54341a(0x79f),'hour':_0x54341a(0x3eb),'minute':_0x54341a(0x3eb),'hour12':![]};if(_0x26dbbb===_0x54341a(0x6f8)){if(_0x5365e2['startTime'])_0x812ccf+=_0x54341a(0x720)+new Date(_0x5365e2[_0x54341a(0x765)])[_0x54341a(0x1ae)](_0x54341a(0x4d5),_0x324599)+'</p>';if(_0x5365e2[_0x54341a(0x1a4)])_0x812ccf+=_0x54341a(0x235)+new Date(_0x5365e2[_0x54341a(0x1a4)])[_0x54341a(0x1ae)](_0x54341a(0x4d5),_0x324599)+_0x54341a(0x19e);}let _0x5bdbce='';if(_0x5365e2[_0x54341a(0x4fb)]){const _0x157efe=allQuizzes[_0x54341a(0x742)](_0x42e24c=>_0x42e24c['id']===_0x5365e2[_0x54341a(0x4fb)]);if(_0x157efe){let _0x2977fb,_0x1bf105;new Date(_0x5365e2['createdAt'])<new Date(_0x157efe[_0x54341a(0x5c5)])?(_0x2977fb=_0x5365e2['id'],_0x1bf105=_0x157efe['id']):(_0x2977fb=_0x157efe['id'],_0x1bf105=_0x5365e2['id']),_0x5bdbce+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1bf105+_0x54341a(0x241)+_0x2977fb+_0x54341a(0x896);}}else _0x5365e2['quizMode']===_0x54341a(0x16e)&&(_0x5bdbce+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5365e2['id']+_0x54341a(0x72d));if(_0x5365e2[_0x54341a(0x1dc)]===_0x54341a(0x16e)&&_0x437ed8>0x0)_0x5bdbce+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5365e2['id']+_0x54341a(0x894);else!_0x5365e2[_0x54341a(0x4fb)]&&_0x5365e2[_0x54341a(0x1dc)]!=='pre-test'&&_0x437ed8>0x0&&(_0x5bdbce+=_0x54341a(0x3e2)+_0x5365e2['id']+_0x54341a(0x60f));let _0x5f17f2='';_0x5365e2['pairedQuizId']?_0x5f17f2=_0x54341a(0x8b9)+_0x5365e2['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x5f17f2=_0x54341a(0x8b9)+_0x5365e2['id']+_0x54341a(0x566),_0x51c8da+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x5365e2['id']+_0x54341a(0x478)+_0x5365e2[_0x54341a(0x7e9)]+_0x54341a(0x583)+_0x5365e2['questions'][_0x54341a(0x71e)]+_0x54341a(0x25c)+new Date(_0x5365e2[_0x54341a(0x5c5)])[_0x54341a(0x1ae)]('th-TH')+_0x54341a(0x877)+_0x437ed8+_0x54341a(0x1c4)+_0x812ccf+_0x54341a(0x51b)+_0x53fd2f+'\x22>'+_0x4bab14+_0x54341a(0x1f3)+_0x5365e2['id']+_0x54341a(0x3db)+_0x5365e2['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x5365e2[_0x54341a(0x69c)]?'fas\x20fa-star\x20text-yellow-500':_0x54341a(0x398))+_0x54341a(0x8e6)+_0x5bdbce+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5365e2['id']+_0x54341a(0x75a)+_0x5365e2['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5365e2['id']+_0x54341a(0x784)+_0x5365e2['id']+_0x54341a(0x585)+_0x5365e2['id']+_0x54341a(0x830)+_0x5365e2['id']+_0x54341a(0x15c)+_0x5365e2['id']+'\x22\x20data-topic=\x22'+_0x5365e2['topic']+_0x54341a(0x57a)+_0x5365e2['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5365e2['id']+_0x54341a(0x8af)+_0x5f17f2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5365e2['id']+_0x54341a(0x16c)+_0x5365e2['id']+_0x54341a(0x199)+_0x5365e2['id']+_0x54341a(0x7f4)+_0x5365e2['id']+_0x54341a(0x38a)+_0x5365e2['id']+'\x22\x20data-topic=\x22'+_0x5365e2[_0x54341a(0x7e9)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x5365e2['id']+_0x54341a(0x653);}),_0x265c8d['innerHTML']=_0x51c8da,document[_0x503d59(0x18c)](_0x503d59(0x454))[_0x503d59(0x840)](_0x2556a2=>{const _0x10a211=_0x503d59;_0x2556a2[_0x10a211(0x8ef)](_0x10a211(0x349),()=>{const _0x26e9ad=_0x2556a2['dataset']['quizId'];showQuizDetailView(_0x26e9ad);});});}async function handleUnpairQuiz(_0x4adace){const _0x1276e9=_0x4f829b,_0x541758=allQuizzes[_0x1276e9(0x742)](_0x3f8fb3=>_0x3f8fb3['id']===_0x4adace);if(!_0x541758||!_0x541758[_0x1276e9(0x4fb)]){showMessage(_0x1276e9(0x962));return;}showConfirmation(_0x1276e9(0x266),async()=>{const _0x5a277a=_0x1276e9;try{const _0x20aca0=doc(db,_0x5a277a(0x65b)+appId+_0x5a277a(0x5fb),_0x4adace),_0x2f4c82=doc(db,_0x5a277a(0x65b)+appId+_0x5a277a(0x5fb),_0x541758[_0x5a277a(0x4fb)]),_0x596d1b=writeBatch(db);_0x596d1b['update'](_0x20aca0,{'pairedQuizId':null}),_0x596d1b[_0x5a277a(0x809)](_0x2f4c82,{'pairedQuizId':null}),await _0x596d1b['commit'](),showMessage(_0x5a277a(0x75b));}catch(_0x3b9a91){console[_0x5a277a(0x713)](_0x5a277a(0x4a7),_0x3b9a91),showMessage(_0x5a277a(0x469));}});}function formatAndPrintLessonPlan(_0x171d52,_0xcb7512){const _0x57ad58=_0x4f829b,_0x44dfe9=window[_0x57ad58(0x20f)]('',_0x57ad58(0x885)),_0x2c4a13=_0x57ad58(0x4ce)+_0xcb7512['topic']+_0x57ad58(0x470)+_0xcb7512[_0x57ad58(0x7e9)]+_0x57ad58(0x934)+_0x171d52[_0x57ad58(0x296)][_0x57ad58(0x670)](_0x51925b=>_0x57ad58(0x6c4)+_0x51925b+_0x57ad58(0x8a3))[_0x57ad58(0x14b)]('')+_0x57ad58(0x48c)+_0x171d52['teachingContent']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x171d52[_0x57ad58(0x6d2)][_0x57ad58(0x670)](_0x1cb860=>_0x57ad58(0x10d)+_0x1cb860['question']+_0x57ad58(0x34c)+_0x1cb860[_0x57ad58(0x723)]+_0x57ad58(0x2b0))[_0x57ad58(0x14b)]('')+_0x57ad58(0x7de);_0x44dfe9[_0x57ad58(0x5a9)][_0x57ad58(0x6dc)](_0x2c4a13),_0x44dfe9[_0x57ad58(0x5a9)][_0x57ad58(0x1a8)](),_0x44dfe9[_0x57ad58(0x31e)]=function(){setTimeout(()=>{_0x44dfe9['print']();},0x3e8);};}async function handleAiFixFormula(_0x352225){const _0x160946=_0x4f829b,_0x3a3f7a=document[_0x160946(0x7ac)](_0x160946(0x949)+_0x352225+'\x22]');if(!_0x3a3f7a)return;const _0x3be8a2=_0x3a3f7a[_0x160946(0x850)][_0x160946(0x869)],_0x407f0c=_0x3a3f7a[_0x160946(0x7ac)](_0x160946(0x252));let _0x48d31f={'question':_0x3a3f7a['querySelector'](_0x160946(0x571))[_0x160946(0x2f4)]};switch(_0x3be8a2){case _0x160946(0x7c3):_0x48d31f[_0x160946(0x4b9)]=Array[_0x160946(0x8c6)](_0x3a3f7a[_0x160946(0x18c)]('input[type=\x22text\x22]'))['map'](_0x34bdf6=>_0x34bdf6[_0x160946(0x2f4)]);break;case _0x160946(0x52b):_0x48d31f['idealAnswer']=_0x3a3f7a[_0x160946(0x7ac)](_0x160946(0x332))['value'];break;case _0x160946(0x402):_0x48d31f[_0x160946(0x2bf)]=_0x3a3f7a['querySelector'](_0x160946(0x77c))[_0x160946(0x2f4)];break;}_0x407f0c[_0x160946(0x848)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x407f0c[_0x160946(0x1e2)]=!![];try{const _0x3cd4f5=_0x160946(0x1df)+JSON[_0x160946(0x461)](_0x48d31f)+_0x160946(0x436),_0x33ab2d={'type':_0x160946(0x5dd),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x160946(0x44e)},'options':{'type':_0x160946(0x5f3),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x160946(0x44e)},'correctResponse':{'type':_0x160946(0x44e)}},'required':[_0x160946(0x76e)]}},'required':[_0x160946(0x835)]},_0x3305fd=await callAnalysisApi(_0x3cd4f5,_0x33ab2d);if(_0x3305fd&&_0x3305fd['fixedData']){const _0x5d0918=_0x3305fd[_0x160946(0x835)];_0x3a3f7a[_0x160946(0x7ac)](_0x160946(0x571))[_0x160946(0x2f4)]=_0x5d0918[_0x160946(0x76e)]||_0x48d31f['question'];switch(_0x3be8a2){case _0x160946(0x7c3):_0x5d0918[_0x160946(0x4b9)]&&_0x5d0918[_0x160946(0x4b9)][_0x160946(0x71e)]>0x0&&_0x3a3f7a[_0x160946(0x18c)](_0x160946(0x518))[_0x160946(0x840)]((_0x509e8d,_0x38cc94)=>{const _0x48a529=_0x160946;_0x509e8d[_0x48a529(0x2f4)]=_0x5d0918[_0x48a529(0x4b9)][_0x38cc94]||_0x48d31f['options'][_0x38cc94];});break;case _0x160946(0x52b):_0x3a3f7a['querySelector'](_0x160946(0x332))[_0x160946(0x2f4)]=_0x5d0918['idealAnswer']||_0x48d31f[_0x160946(0x2dd)];break;case _0x160946(0x402):_0x3a3f7a['querySelector']('.correct-response-input')['value']=_0x5d0918[_0x160946(0x2bf)]||_0x48d31f[_0x160946(0x2bf)];break;}if(_0x48d31f[_0x160946(0x76e)]!==_0x5d0918[_0x160946(0x76e)])try{const _0x552ae8=collection(db,_0x160946(0x65b)+appId+_0x160946(0x284));await addDoc(_0x552ae8,{'broken':_0x48d31f[_0x160946(0x76e)],'fixed':_0x5d0918[_0x160946(0x76e)],'createdAt':serverTimestamp()});}catch(_0x37519d){console['error'](_0x160946(0x7b3),_0x37519d);}showMessage(_0x160946(0x2d6));}else throw new Error(_0x160946(0x37c));}catch(_0xd6b553){console[_0x160946(0x713)](_0x160946(0x51a),_0xd6b553),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x407f0c[_0x160946(0x848)]=_0x160946(0x4d3),_0x407f0c['disabled']=![];}}async function handleGenerateLessonPlan(_0x1a2fb4){const _0x2fb8ca=_0x4f829b;showMessage(_0x2fb8ca(0x6bd));try{const _0x236b43=doc(db,_0x2fb8ca(0x65b)+appId+'/public/data/quizzes',_0x1a2fb4),_0x9fba30=await getDoc(_0x236b43);if(!_0x9fba30[_0x2fb8ca(0x2ca)]())throw new Error(_0x2fb8ca(0x51d));const _0x70b531={'id':_0x1a2fb4,..._0x9fba30[_0x2fb8ca(0x114)]()},_0x3097dc=collection(db,_0x2fb8ca(0x65b)+appId+'/public/data/quizzes',_0x1a2fb4,_0x2fb8ca(0x858)),_0x305fd2=await getDocs(_0x3097dc),_0x2045a4=_0x305fd2[_0x2fb8ca(0x1f1)][_0x2fb8ca(0x670)](_0x52e86e=>_0x52e86e[_0x2fb8ca(0x114)]());if(_0x2045a4[_0x2fb8ca(0x71e)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x59b45c=calculateItemAnalysis(_0x70b531,_0x2045a4)[_0x2fb8ca(0x622)],_0x5255eb=calculateDistractorAnalysis(_0x70b531,_0x2045a4),_0x585a74=_0x2df451=>{const _0x3662a8=_0x2fb8ca;if(!_0x2df451)return'';return _0x2df451[_0x3662a8(0x745)](/\\/g,'\x5c\x5c')[_0x3662a8(0x745)](/"/g,'\x5c\x22')[_0x3662a8(0x745)](/\n/g,'\x5cn');};let _0x320974='สรุปผลการวิเคราะห์:\x5cn';_0x70b531[_0x2fb8ca(0x75d)][_0x2fb8ca(0x840)]((_0xe63459,_0x51fcc4)=>{const _0x3e52e7=_0x2fb8ca,_0x44da98=_0x59b45c[_0x51fcc4]?.['p'][_0x3e52e7(0x3a8)](0x2)||_0x3e52e7(0x41c),_0xdd87cf=_0x59b45c[_0x51fcc4]?.['r'][_0x3e52e7(0x3a8)](0x2)||_0x3e52e7(0x41c),_0x1d0b80=_0x585a74(_0xe63459[_0x3e52e7(0x1f5)]||_0xe63459[_0x3e52e7(0x425)]);_0x320974+=_0x3e52e7(0x6c2)+(_0x51fcc4+0x1)+_0x3e52e7(0x10c)+_0x44da98+_0x3e52e7(0x81a)+_0xdd87cf+_0x3e52e7(0x3d2)+_0x1d0b80+'\x5cn';if(_0xe63459[_0x3e52e7(0x1eb)]===_0x3e52e7(0x7c3)&&_0x5255eb[_0x51fcc4]){const _0x318ebf=_0x5255eb[_0x51fcc4],_0xb3a03=Object['keys'](_0x318ebf)['filter'](_0x403685=>parseInt(_0x403685)!==_0xe63459[_0x3e52e7(0x71a)])['sort']((_0x16db4d,_0xa20312)=>_0x318ebf[_0xa20312][_0x3e52e7(0x96a)]-_0x318ebf[_0x16db4d][_0x3e52e7(0x96a)])[0x0];if(_0xb3a03&&_0x318ebf[_0xb3a03]['total']>0x0){const _0x228c52=_0x585a74(_0x318ebf[_0xb3a03][_0x3e52e7(0x6f7)]);_0x320974+=_0x3e52e7(0x160)+_0x228c52+_0x3e52e7(0x8d6);}}});const _0x23a853='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x70b531[_0x2fb8ca(0x7e9)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x320974+_0x2fb8ca(0x7f1),_0x55610f={'type':'OBJECT','properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x2fb8ca(0x44e)}},'teachingContent':{'type':_0x2fb8ca(0x44e)},'practiceProblems':{'type':'ARRAY','items':{'type':_0x2fb8ca(0x5dd),'properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}}}}},'required':['learningGaps',_0x2fb8ca(0x7ee),_0x2fb8ca(0x6d2)]},_0x5090ea=await callAnalysisApi(_0x23a853,_0x55610f);await updateDoc(_0x236b43,{'lessonPlan':_0x5090ea});const _0x327ba0=_0x2fb8ca(0x960)+_0x70b531['topic']+_0x2fb8ca(0x8d9)+_0x5090ea[_0x2fb8ca(0x296)]['map'](_0xf36942=>_0x2fb8ca(0x6c4)+_0xf36942+_0x2fb8ca(0x8a3))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x5090ea[_0x2fb8ca(0x7ee)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x5090ea[_0x2fb8ca(0x6d2)][_0x2fb8ca(0x670)](_0x4a9ff9=>_0x2fb8ca(0x8db)+_0x4a9ff9[_0x2fb8ca(0x76e)]+_0x2fb8ca(0x552)+_0x4a9ff9['solution']+_0x2fb8ca(0x2c2))[_0x2fb8ca(0x14b)]('')+_0x2fb8ca(0x7a2);document[_0x2fb8ca(0x40e)](_0x2fb8ca(0x961))[_0x2fb8ca(0x41f)]='แผนการสอน:\x20'+_0x70b531[_0x2fb8ca(0x7e9)],document[_0x2fb8ca(0x40e)](_0x2fb8ca(0x25a))[_0x2fb8ca(0x848)]=_0x327ba0,document['getElementById'](_0x2fb8ca(0x82e))[_0x2fb8ca(0x61a)][_0x2fb8ca(0x193)](_0x2fb8ca(0x64a));if(window[_0x2fb8ca(0x273)])MathJax['typesetPromise']();messageModal[_0x2fb8ca(0x61a)][_0x2fb8ca(0x4e9)](_0x2fb8ca(0x64a));}catch(_0x129ad8){console[_0x2fb8ca(0x713)](_0x2fb8ca(0x7d4),_0x129ad8),showMessage(_0x2fb8ca(0x18f)+_0x129ad8[_0x2fb8ca(0x1ce)]);}}async function handleDuplicateQuiz(_0x48c0e5){const _0x4e2878=_0x4f829b;try{const _0x56fa29=doc(db,'artifacts/'+appId+_0x4e2878(0x5fb),_0x48c0e5),_0x22bc8e=await getDoc(_0x56fa29);if(_0x22bc8e['exists']()){const _0x25ed50=_0x22bc8e[_0x4e2878(0x114)]();let _0x41aa2e='',_0x116b58=_0x4e2878(0x61d),_0x2d2b30=null;if(_0x25ed50[_0x4e2878(0x1dc)]===_0x4e2878(0x16e)){let _0x44e8ab=_0x25ed50[_0x4e2878(0x7e9)][_0x4e2878(0x745)](_0x4e2878(0x14d),'')[_0x4e2878(0x108)]();_0x41aa2e='(หลังเรียน)\x20'+_0x44e8ab,_0x116b58='post-test',_0x2d2b30=_0x48c0e5;}else _0x41aa2e=_0x4e2878(0x8c1)+_0x25ed50[_0x4e2878(0x7e9)];const _0xe6aa04={..._0x25ed50,'topic':_0x41aa2e,'createdAt':new Date()[_0x4e2878(0x1c9)](),'quizMode':_0x116b58,'pairedQuizId':_0x2d2b30};let _0x55c6a7;while(!![]){_0x55c6a7=Math[_0x4e2878(0x716)](0x3e8+Math[_0x4e2878(0x6de)]()*0x2328)[_0x4e2878(0x6bb)]();const _0x26af91=await getDoc(doc(db,_0x4e2878(0x65b)+appId+_0x4e2878(0x5fb),_0x55c6a7));if(!_0x26af91[_0x4e2878(0x2ca)]())break;}const _0x4d5c88=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x55c6a7);await setDoc(_0x4d5c88,_0xe6aa04),_0xe6aa04[_0x4e2878(0x1dc)]===_0x4e2878(0x336)&&await updateDoc(_0x56fa29,{'pairedQuizId':_0x55c6a7}),showMessage(_0x4e2878(0x301));}else throw new Error(_0x4e2878(0x8cf));}catch(_0x25b5c8){console[_0x4e2878(0x713)]('Error\x20duplicating\x20quiz:',_0x25b5c8),showMessage(_0x4e2878(0xe9));}}async function handleDeleteQuiz(_0x195d9c,_0x408360=!![]){const _0x258c50=_0x4f829b;try{const _0xb8889d=writeBatch(db),_0x197562=collection(db,_0x258c50(0x65b)+appId+_0x258c50(0x351)+_0x195d9c+_0x258c50(0x2b4)),_0x19d859=await getDocs(_0x197562);_0x19d859[_0x258c50(0x840)](_0x3fe679=>{const _0x1ec4b4=_0x258c50;_0xb8889d[_0x1ec4b4(0x4ea)](doc(_0x197562,_0x3fe679['id']));});const _0x17ae88=doc(db,'artifacts/'+appId+_0x258c50(0x5fb),_0x195d9c);_0xb8889d['delete'](_0x17ae88),await _0xb8889d[_0x258c50(0x1c8)](),_0x408360&&showMessage(_0x258c50(0x843));}catch(_0x95d86b){console[_0x258c50(0x713)]('Error\x20deleting\x20quiz:',_0x95d86b),_0x408360&&showMessage(_0x258c50(0x711));}}async function showQuizDetailView(_0x574d10){const _0x104d9d=_0x4f829b;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x104d9d(0x400));try{const _0x291d0b=doc(db,_0x104d9d(0x65b)+appId+_0x104d9d(0x5fb),_0x574d10),_0x5c41e6=await getDoc(_0x291d0b);if(!_0x5c41e6[_0x104d9d(0x2ca)]()){showMessage(_0x104d9d(0x51d));return;}const _0xad1038={'id':_0x5c41e6['id'],..._0x5c41e6[_0x104d9d(0x114)]()};currentQuizData=_0xad1038;const _0x56284e=doc(db,'artifacts/'+appId+_0x104d9d(0x6fe),_0xad1038[_0x104d9d(0x6ad)]),_0x159c3c=await getDoc(_0x56284e);_0x159c3c[_0x104d9d(0x2ca)]()?(currentProjectData=_0x159c3c[_0x104d9d(0x114)](),currentProjectId=_0xad1038[_0x104d9d(0x6ad)]):(currentProjectData={'students':[]},currentProjectId=_0xad1038[_0x104d9d(0x6ad)]);document['getElementById'](_0x104d9d(0x8b2))[_0x104d9d(0x41f)]=_0xad1038[_0x104d9d(0x7e9)],document[_0x104d9d(0x40e)]('results-quiz-id-display')[_0x104d9d(0x41f)]=_0x574d10;const _0x5b5ef9=collection(db,_0x104d9d(0x65b)+appId+_0x104d9d(0x5fb),_0x574d10,_0x104d9d(0x858));unsubscribeSubmissionsListener=onSnapshot(_0x5b5ef9,_0x2bdd83=>{const _0x4c93c2=_0x104d9d,_0x51abcd=_0x2bdd83['docs']['map'](_0x2dfa7b=>({'id':_0x2dfa7b['id'],..._0x2dfa7b['data']()}));currentSubmissions=_0x51abcd;const _0x3ce62b=_0x51abcd[_0x4c93c2(0x89b)](_0x1fc47b=>_0x1fc47b['attempts']&&_0x1fc47b['attempts'][_0x4c93c2(0x71e)]>0x0);renderBehaviorLog(_0x51abcd),renderAnswerGrid(currentProjectData['students'],_0x3ce62b,_0xad1038),renderAnalytics(_0xad1038,_0x3ce62b),renderQuizResultsTable(currentProjectData[_0x4c93c2(0x2af)],_0x51abcd,_0xad1038),renderQuizLeaderboard(_0x3ce62b,_0xad1038,_0x4c93c2(0x6d5));}),showView(_0x104d9d(0x7fc));}catch(_0x2a19c9){console['error'](_0x104d9d(0x456),_0x2a19c9),showMessage(_0x104d9d(0x16d));}}function renderAnswerGrid(_0x4b3e13,_0x5b365e,_0x18f88d){const _0x3ae17a=_0x4f829b,_0x9ec25b=document['getElementById'](_0x3ae17a(0x663));if(!_0x9ec25b)return;if(!_0x4b3e13||_0x4b3e13['length']===0x0){_0x9ec25b[_0x3ae17a(0x848)]=_0x3ae17a(0x18b);return;}const _0x590128=_0x18f88d[_0x3ae17a(0x75d)],_0x2d4d4=_0x5b365e[_0x3ae17a(0x912)]((_0x5996ec,_0x2aeea9)=>{const _0x6a2c77=_0x3ae17a;return _0x5996ec[_0x2aeea9[_0x6a2c77(0x7e3)]]=_0x2aeea9,_0x5996ec;},{}),_0x486acc=_0x506c82=>String[_0x3ae17a(0x749)](0x41+_0x506c82),_0x5ebc5a=_0xfcb5bf=>{const _0x440d92=_0x3ae17a,_0x57c45f=_0xfcb5bf[_0x440d92(0x1eb)]||_0x18f88d[_0x440d92(0x4a1)];switch(_0x57c45f){case _0x440d92(0x7c3):return _0xfcb5bf[_0x440d92(0x4b9)]&&_0xfcb5bf[_0x440d92(0x4b9)][_0x440d92(0x71e)]>_0xfcb5bf[_0x440d92(0x71a)]?_0x486acc(_0xfcb5bf[_0x440d92(0x71a)]):'-';case _0x440d92(0x421):return _0xfcb5bf[_0x440d92(0x756)]?_0x440d92(0x63b):_0x440d92(0x319);case _0x440d92(0x402):return _0xfcb5bf[_0x440d92(0x2bf)]||'-';case _0x440d92(0x52b):return _0x440d92(0x3f5);default:return'-';}},_0x21ffd7=(_0x1a4e7c,_0x5e25de)=>{const _0x5dcb05=_0x3ae17a;if(_0x5e25de[_0x5dcb05(0x4e5)]===null||_0x5e25de[_0x5dcb05(0x4e5)]===undefined)return'-';const _0x134a21=_0x1a4e7c['questionType']||_0x18f88d[_0x5dcb05(0x4a1)];switch(_0x134a21){case _0x5dcb05(0x7c3):const _0x56c2de=_0x1a4e7c[_0x5dcb05(0x4b9)][_0x5dcb05(0x1fd)](_0x20550d=>_0x20550d===_0x5e25de['answerText']);return _0x56c2de!==-0x1?_0x486acc(_0x56c2de):_0x5e25de[_0x5dcb05(0x899)]||'-';case _0x5dcb05(0x421):return _0x5e25de[_0x5dcb05(0x4e5)]==='true'||_0x5e25de['answer']===!![]?_0x5dcb05(0x63b):_0x5dcb05(0x319);default:return _0x5e25de[_0x5dcb05(0x4e5)];}};let _0x2e8d42=_0x3ae17a(0x10f)+_0x590128[_0x3ae17a(0x670)]((_0x5646de,_0x41bc55)=>_0x3ae17a(0x1c7)+(_0x41bc55+0x1)+'</th>')['join']('')+_0x3ae17a(0x2d3)+_0x590128[_0x3ae17a(0x670)](_0x30d5cc=>_0x3ae17a(0x908)+_0x5ebc5a(_0x30d5cc)+_0x3ae17a(0x1be))[_0x3ae17a(0x14b)]('')+_0x3ae17a(0x148);_0x4b3e13[_0x3ae17a(0x840)](_0xc91686=>{const _0x2ae955=_0x3ae17a;_0x2e8d42+=_0x2ae955(0x3b7),_0x2e8d42+=_0x2ae955(0x342)+_0xc91686+'</td>';const _0x2919c9=_0x2d4d4[_0xc91686];if(_0x2919c9){const _0x57dff2=_0x2919c9[_0x2ae955(0x38f)][_0x2919c9[_0x2ae955(0x38f)][_0x2ae955(0x71e)]-0x1];_0x590128[_0x2ae955(0x840)]((_0x40f7dd,_0x24d123)=>{const _0x37e561=_0x2ae955,_0x4a5c68=_0x57dff2[_0x37e561(0x1b3)][_0x37e561(0x742)](_0x5da743=>_0x5da743[_0x37e561(0x528)]===(_0x40f7dd['stem']||_0x40f7dd['questionText']));if(_0x4a5c68){let _0x3d7964=![];const _0x1a0b92=_0x40f7dd['questionType']||_0x18f88d['quizType'];if(_0x4a5c68[_0x37e561(0x4e5)]!==null&&_0x4a5c68[_0x37e561(0x4e5)]!==undefined)switch(_0x1a0b92){case _0x37e561(0x7c3):const _0x49acf7=_0x40f7dd[_0x37e561(0x4b9)][_0x40f7dd['correctAnswerIndex']];_0x3d7964=_0x4a5c68[_0x37e561(0x899)]===_0x49acf7;break;case'true_false':const _0x355965=_0x4a5c68[_0x37e561(0x4e5)]===!![]||_0x4a5c68[_0x37e561(0x4e5)]==='true';_0x3d7964=_0x355965===_0x40f7dd['correctAnswer'];break;case _0x37e561(0x402):_0x3d7964=_0x4a5c68[_0x37e561(0x4e5)]===_0x40f7dd[_0x37e561(0x2bf)];break;default:_0x3d7964=_0x4a5c68[_0x37e561(0x550)];break;}const _0x3652ec=_0x3d7964?_0x37e561(0x369):'bg-red-100';_0x2e8d42+=_0x37e561(0x2b7)+_0x3652ec+'\x22>'+_0x21ffd7(_0x40f7dd,_0x4a5c68)+_0x37e561(0x1be);}else _0x2e8d42+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x2e8d42+=_0x590128[_0x2ae955(0x670)](()=>_0x2ae955(0x6e6))[_0x2ae955(0x14b)]('');_0x2e8d42+='</tr>';}),_0x2e8d42+=_0x3ae17a(0x93b),_0x9ec25b[_0x3ae17a(0x848)]=_0x2e8d42;}function renderQuizResultsTable(_0x1783f9,_0x5aa52c,_0x5185cc){const _0x15bf04=_0x4f829b,_0x2611d5=_0x5aa52c[_0x15bf04(0x912)]((_0x3096be,_0xf385f0)=>{const _0x54b781=_0x15bf04;return _0x3096be[_0xf385f0[_0x54b781(0x7e3)]]=_0xf385f0,_0x3096be;},{}),_0x3f0bf3=document[_0x15bf04(0x7ac)](_0x15bf04(0x3fc));_0x3f0bf3&&!_0x3f0bf3[_0x15bf04(0x848)][_0x15bf04(0x789)](_0x15bf04(0x7d5))&&(_0x3f0bf3['innerHTML']+=_0x15bf04(0x592));const _0x14d43b=document['getElementById'](_0x15bf04(0x853));if(!_0x1783f9||_0x1783f9[_0x15bf04(0x71e)]===0x0){_0x14d43b[_0x15bf04(0x848)]=_0x15bf04(0x16f);return;}const _0x5433b5=_0x5185cc[_0x15bf04(0x431)]===!![],_0x4f1380=_0x5185cc[_0x15bf04(0x541)]?.[_0x15bf04(0x50f)]??-0x1;let _0x5a23d5='';_0x1783f9[_0x15bf04(0x840)](_0x36d178=>{const _0x5c3cff=_0x15bf04,_0x1fae8d=_0x2611d5[_0x36d178];let _0x451e12='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x5433b5?_0x5c3cff(0x5a0):_0x5c3cff(0x2cb))+'\x22>'+(_0x5433b5?_0x5c3cff(0x852):_0x5c3cff(0x64f))+'</span></td>';if(_0x1fae8d){if(_0x1fae8d[_0x5c3cff(0x38f)]&&_0x1fae8d[_0x5c3cff(0x38f)][_0x5c3cff(0x71e)]>0x0){let _0x45d8c6=_0x5433b5?_0x1fae8d[_0x5c3cff(0x75e)]===_0x1fae8d['totalQuestions']:_0x4f1380!==-0x1&&_0x1fae8d[_0x5c3cff(0x75e)]>=_0x4f1380;const _0x598b27=_0x45d8c6?_0x5c3cff(0x6f1):_0x5c3cff(0x8e2),_0x198694=_0x45d8c6?_0x5c3cff(0x58d):'ไม่ผ่าน',_0x59a9f0=_0x5c3cff(0x209)+_0x598b27+'\x22>'+_0x198694+_0x5c3cff(0x3d8),_0x3efb19=_0x5c3cff(0x823)+(_0x1fae8d[_0x5c3cff(0x38f)]?.['length']||0x1)+_0x5c3cff(0x291);_0x5a23d5+=_0x5c3cff(0x356)+_0x36d178+_0x5c3cff(0x496)+_0x1fae8d[_0x5c3cff(0x75e)]+_0x5c3cff(0x255)+_0x1fae8d['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x59a9f0+_0x5c3cff(0x3fd)+_0x451e12+_0x5c3cff(0x6c1)+_0x1fae8d[_0x5c3cff(0x90c)]+'\x20/\x20'+_0x1fae8d[_0x5c3cff(0x507)]+_0x5c3cff(0x34d)+_0x1fae8d[_0x5c3cff(0x3a2)]+_0x5c3cff(0x255)+_0x1fae8d['totalQuestions']+_0x5c3cff(0x866)+(_0x1fae8d['points']||0x0)+_0x5c3cff(0x139)+_0x3efb19+_0x5c3cff(0x37b)+new Date(_0x1fae8d[_0x5c3cff(0x808)])[_0x5c3cff(0x1ae)](_0x5c3cff(0x4d5))+_0x5c3cff(0x2e9)+_0x36d178+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x20c5f8=_0x5c3cff(0x6be);_0x5a23d5+=_0x5c3cff(0x546)+_0x36d178+_0x5c3cff(0x1a1)+_0x451e12+_0x5c3cff(0x6eb)+_0x20c5f8+_0x5c3cff(0x37b)+new Date(_0x1fae8d['startedAt'])['toLocaleString'](_0x5c3cff(0x4d5))+_0x5c3cff(0x6ff)+_0x36d178+_0x5c3cff(0x5ce);}}else{const _0x311fe7=_0x5c3cff(0x5a8);_0x5a23d5+=_0x5c3cff(0x942)+_0x36d178+_0x5c3cff(0x491)+_0x451e12+_0x5c3cff(0x631)+_0x311fe7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x14d43b['innerHTML']=_0x5a23d5;}async function confirmRenameQuiz(){const _0x5d8a12=_0x4f829b,_0x30edc2=document[_0x5d8a12(0x40e)](_0x5d8a12(0x82a))[_0x5d8a12(0x2f4)]['trim']();if(!_0x30edc2){showMessage(_0x5d8a12(0x81e));return;}if(!actionTargetId)return;const _0x5a9f84=doc(db,'artifacts/'+appId+_0x5d8a12(0x5fb),actionTargetId);try{await updateDoc(_0x5a9f84,{'topic':_0x30edc2}),showMessage(_0x5d8a12(0x623)),renameQuizModal['classList'][_0x5d8a12(0x4e9)](_0x5d8a12(0x64a)),actionTargetId=null;}catch(_0x56b33c){console[_0x5d8a12(0x713)](_0x5d8a12(0x6e7),_0x56b33c),showMessage(_0x5d8a12(0x759));}}async function handleMoveQuiz(_0x52fba7){const _0x532977=_0x4f829b;actionTargetId=_0x52fba7;const _0x4063e4=document[_0x532977(0x40e)](_0x532977(0x553));_0x4063e4['innerHTML']=_0x532977(0xe7),moveQuizModal[_0x532977(0x61a)][_0x532977(0x193)](_0x532977(0x64a));try{const _0x1d5652=collection(db,_0x532977(0x65b)+appId+'/public/data/projects'),_0x511c7b=await getDocs(_0x1d5652),_0x3577af=_0x511c7b['docs'][_0x532977(0x670)](_0x42e0b5=>({'id':_0x42e0b5['id'],..._0x42e0b5[_0x532977(0x114)]()})),_0x20cdec=_0x3577af[_0x532977(0x89b)](_0x4c69ac=>_0x4c69ac['id']!==currentProjectId);if(_0x20cdec['length']===0x0){_0x4063e4[_0x532977(0x848)]=_0x532977(0x6d9),document['getElementById'](_0x532977(0x2e8))['disabled']=!![];return;}_0x4063e4['innerHTML']=_0x20cdec['map'](_0x499f0b=>_0x532977(0x62f)+_0x499f0b['id']+'\x22>'+_0x499f0b[_0x532977(0x943)]+_0x532977(0x48e))[_0x532977(0x14b)](''),document[_0x532977(0x40e)](_0x532977(0x2e8))[_0x532977(0x1e2)]=![];}catch(_0x58095c){console[_0x532977(0x713)](_0x532977(0x607),_0x58095c),showMessage(_0x532977(0x568)),moveQuizModal['classList']['add'](_0x532977(0x64a));}}async function confirmMoveQuiz(){const _0x31efe2=_0x4f829b,_0x9d1b9c=document['getElementById'](_0x31efe2(0x553))[_0x31efe2(0x2f4)];if(!_0x9d1b9c){showMessage(_0x31efe2(0x56d));return;}if(!actionTargetId)return;const _0x4071d3=doc(db,'artifacts/'+appId+_0x31efe2(0x5fb),actionTargetId);try{await updateDoc(_0x4071d3,{'projectId':_0x9d1b9c}),showMessage(_0x31efe2(0x752)),moveQuizModal[_0x31efe2(0x61a)]['add'](_0x31efe2(0x64a)),actionTargetId=null;}catch(_0x3eacf8){console['error'](_0x31efe2(0x2c5),_0x3eacf8),showMessage(_0x31efe2(0x2d7));}}async function handleQuizSettings(_0x3c6baa){const _0x102329=_0x4f829b;actionTargetId=_0x3c6baa;const _0x10d8e9=doc(db,'artifacts/'+appId+_0x102329(0x5fb),_0x3c6baa);try{const _0x38694f=await getDoc(_0x10d8e9);if(_0x38694f[_0x102329(0x2ca)]()){const _0x31b8a2=_0x38694f[_0x102329(0x114)](),_0x3afdfe=_0x31b8a2[_0x102329(0x541)]||{},_0x27275f=_0x31b8a2[_0x102329(0x75d)][_0x102329(0x71e)];document[_0x102329(0x40e)](_0x102329(0x3ff))['value']=_0x3afdfe['shuffle']||'none',document[_0x102329(0x40e)](_0x102329(0x7f0))[_0x102329(0x2f4)]=_0x3afdfe['resultsDisplay']||_0x102329(0x919),document[_0x102329(0x40e)](_0x102329(0xe6))['value']=_0x3afdfe['timerMode']||'none',document[_0x102329(0x40e)](_0x102329(0x6bc))['value']=_0x3afdfe['timerDuration']||0xa,document[_0x102329(0x40e)](_0x102329(0x1b9))[_0x102329(0x2f4)]=_0x3afdfe[_0x102329(0x50f)]||Math['floor'](_0x27275f/0x2),document[_0x102329(0x40e)](_0x102329(0x1b9))[_0x102329(0x67b)]=_0x27275f,document['getElementById'](_0x102329(0xe1))[_0x102329(0x137)]=_0x3afdfe[_0x102329(0x240)]||![],document[_0x102329(0x40e)](_0x102329(0x2a1))[_0x102329(0x137)]=_0x3afdfe[_0x102329(0x94b)]||![],document[_0x102329(0x40e)](_0x102329(0xe6))[_0x102329(0x6fc)](new Event(_0x102329(0x603))),quizSettingsModal[_0x102329(0x61a)][_0x102329(0x193)](_0x102329(0x64a));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0xd5cbca){console[_0x102329(0x713)](_0x102329(0x3a6),_0xd5cbca),showMessage(_0x102329(0x251));}}async function confirmQuizSettings(){const _0x8d6031=_0x4f829b;if(!actionTargetId)return;const _0x1e71bf=doc(db,_0x8d6031(0x65b)+appId+_0x8d6031(0x5fb),actionTargetId),_0x4bdc2f={'shuffle':document[_0x8d6031(0x40e)]('modal-shuffle-select')[_0x8d6031(0x2f4)],'resultsDisplay':document[_0x8d6031(0x40e)]('modal-results-display-select')[_0x8d6031(0x2f4)],'timerMode':document[_0x8d6031(0x40e)](_0x8d6031(0xe6))[_0x8d6031(0x2f4)],'timerDuration':parseInt(document['getElementById'](_0x8d6031(0x6bc))[_0x8d6031(0x2f4)])||0xa,'passingScore':parseInt(document['getElementById']('modal-passing-score-input')[_0x8d6031(0x2f4)])||0x0,'passingScore':parseInt(document[_0x8d6031(0x40e)](_0x8d6031(0x1b9))[_0x8d6031(0x2f4)])||0x0,'isAdaptive':document[_0x8d6031(0x40e)](_0x8d6031(0xe1))[_0x8d6031(0x137)],'loopUntilPass':document[_0x8d6031(0x40e)](_0x8d6031(0x2a1))['checked']};try{await updateDoc(_0x1e71bf,{'settings':_0x4bdc2f}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x8d6031(0x61a)][_0x8d6031(0x4e9)](_0x8d6031(0x64a)),actionTargetId=null;}catch(_0x4c5b2b){console[_0x8d6031(0x713)]('Error\x20updating\x20quiz\x20settings:',_0x4c5b2b),showMessage(_0x8d6031(0x610));}}async function handleQuizStatus(_0x35d717){const _0x3ed710=_0x4f829b;actionTargetId=_0x35d717;const _0x1f021e=doc(db,_0x3ed710(0x65b)+appId+_0x3ed710(0x5fb),_0x35d717);try{const _0x27c8b7=await getDoc(_0x1f021e);if(_0x27c8b7[_0x3ed710(0x2ca)]()){const _0x14272a=_0x27c8b7[_0x3ed710(0x114)](),_0x7d0f40=_0x14272a[_0x3ed710(0x29a)]||'active',_0x1a1103=document[_0x3ed710(0x40e)](_0x3ed710(0x5be)),_0x290f5b=document['getElementById']('quiz-schedule-start-container'),_0x34e41f=document[_0x3ed710(0x40e)](_0x3ed710(0x157));let _0x3a7c52=_0x3ed710(0x2e1)+(_0x7d0f40===_0x3ed710(0x36d)?'checked':'')+'>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20'+(_0x7d0f40===_0x3ed710(0x45e)?_0x3ed710(0x137):'')+_0x3ed710(0x38d)+(_0x7d0f40==='scheduled'?_0x3ed710(0x137):'')+_0x3ed710(0x655);_0x1a1103[_0x3ed710(0x848)]=_0x3a7c52;const _0x128d3a=_0x7d0f40==='scheduled';_0x290f5b[_0x3ed710(0x61a)][_0x3ed710(0x2e0)]('hidden',!_0x128d3a),_0x34e41f[_0x3ed710(0x61a)][_0x3ed710(0x2e0)](_0x3ed710(0x64a),!_0x128d3a),document['getElementById'](_0x3ed710(0x85c))[_0x3ed710(0x2f4)]=_0x14272a[_0x3ed710(0x765)]?_0x14272a[_0x3ed710(0x765)][_0x3ed710(0x8ae)](0x0,0x10):'',document[_0x3ed710(0x40e)](_0x3ed710(0x2ff))[_0x3ed710(0x2f4)]=_0x14272a['endTime']?_0x14272a[_0x3ed710(0x1a4)][_0x3ed710(0x8ae)](0x0,0x10):'',_0x1a1103[_0x3ed710(0x18c)](_0x3ed710(0x5bd))[_0x3ed710(0x840)](_0x40db89=>{const _0x99a955=_0x3ed710;_0x40db89[_0x99a955(0x8ef)](_0x99a955(0x603),_0x15be9a=>{const _0x18a854=_0x99a955,_0x1c9a46=_0x15be9a[_0x18a854(0x261)][_0x18a854(0x2f4)]===_0x18a854(0x306);_0x290f5b[_0x18a854(0x61a)][_0x18a854(0x2e0)](_0x18a854(0x64a),!_0x1c9a46),_0x34e41f['classList']['toggle'](_0x18a854(0x64a),!_0x1c9a46);});}),quizStatusModal[_0x3ed710(0x61a)][_0x3ed710(0x193)](_0x3ed710(0x64a));}}catch(_0x24dbb4){console[_0x3ed710(0x713)](_0x3ed710(0x2f9),_0x24dbb4),showMessage('เกิดข้อผิดพลาดในการโหลดสถานะ');}}async function confirmQuizStatus(){const _0x343831=_0x4f829b;if(!actionTargetId)return;const _0x1e61aa=doc(db,'artifacts/'+appId+_0x343831(0x5fb),actionTargetId),_0x1860a4=document[_0x343831(0x7ac)](_0x343831(0x8a9));if(!_0x1860a4){showMessage(_0x343831(0x72b));return;}const _0x3f903a=_0x1860a4['value'];let _0x45b42d={};if(_0x3f903a===_0x343831(0x36d)||_0x3f903a===_0x343831(0x45e))_0x45b42d={'status':_0x3f903a,'startTime':null,'endTime':null};else{if(_0x3f903a===_0x343831(0x306)){const _0x4a7892=document[_0x343831(0x40e)](_0x343831(0x85c))[_0x343831(0x2f4)],_0x3feed3=document[_0x343831(0x40e)]('quiz-end-time')[_0x343831(0x2f4)];if(!_0x4a7892&&!_0x3feed3){showMessage(_0x343831(0x844));return;}_0x45b42d={'status':_0x343831(0x6f8),'startTime':_0x4a7892?new Date(_0x4a7892)[_0x343831(0x1c9)]():null,'endTime':_0x3feed3?new Date(_0x3feed3)['toISOString']():null};}}try{await updateDoc(_0x1e61aa,_0x45b42d),showMessage(_0x343831(0x1f2)),quizStatusModal[_0x343831(0x61a)][_0x343831(0x4e9)](_0x343831(0x64a)),actionTargetId=null;}catch(_0x3d758f){console[_0x343831(0x713)](_0x343831(0x601),_0x3d758f),showMessage(_0x343831(0x708));}}function listenForStudentProfiles(_0x429e2e){const _0x91da39=_0x4f829b,_0x326add=collection(db,_0x91da39(0x65b)+appId+_0x91da39(0x4c4)+_0x429e2e+_0x91da39(0x1e7));unsubscribeStudentProfilesListener=onSnapshot(_0x326add,_0x3ab51c=>{const _0x134020=_0x91da39,_0x5ad6e4=_0x3ab51c[_0x134020(0x1f1)]['map'](_0x11c180=>_0x11c180[_0x134020(0x114)]());renderLeaderboard(_0x5ad6e4,_0x134020(0x413));},_0x1697de=>{const _0x39911d=_0x91da39;console[_0x39911d(0x713)](_0x39911d(0x195),_0x1697de),document[_0x39911d(0x40e)](_0x39911d(0x413))[_0x39911d(0x848)]=_0x39911d(0x8f1);});}function renderLeaderboard(_0x27b309,_0x2bfac8){const _0x5b2c17=_0x4f829b,_0x526e67=document[_0x5b2c17(0x40e)](_0x2bfac8);if(!_0x27b309||_0x27b309[_0x5b2c17(0x71e)]===0x0){_0x526e67[_0x5b2c17(0x848)]=_0x5b2c17(0x77e);return;}_0x27b309[_0x5b2c17(0x831)]((_0x241190,_0x23a157)=>{const _0xd4e0f9=_0x5b2c17,_0x360ba2=(_0x23a157[_0xd4e0f9(0x788)]||0x0)-(_0x241190[_0xd4e0f9(0x788)]||0x0);if(_0x360ba2!==0x0)return _0x360ba2;const _0x9c4dde=(_0x23a157['badgesCount']?.['specialist']||0x0)-(_0x241190[_0xd4e0f9(0x73c)]?.[_0xd4e0f9(0x46e)]||0x0);if(_0x9c4dde!==0x0)return _0x9c4dde;const _0x4605aa=(_0x23a157[_0xd4e0f9(0x73c)]?.[_0xd4e0f9(0x330)]||0x0)-(_0x241190[_0xd4e0f9(0x73c)]?.['first_try_ace']||0x0);if(_0x4605aa!==0x0)return _0x4605aa;const _0x1fdf66=(_0x23a157[_0xd4e0f9(0x73c)]?.[_0xd4e0f9(0x374)]||0x0)-(_0x241190['badgesCount']?.[_0xd4e0f9(0x374)]||0x0);if(_0x1fdf66!==0x0)return _0x1fdf66;const _0x158221=(_0x23a157[_0xd4e0f9(0x73c)]?.[_0xd4e0f9(0x7e8)]||0x0)-(_0x241190['badgesCount']?.[_0xd4e0f9(0x7e8)]||0x0);if(_0x158221!==0x0)return _0x158221;return _0x241190[_0xd4e0f9(0x7e3)][_0xd4e0f9(0x5b9)](_0x23a157[_0xd4e0f9(0x7e3)],'th');});let _0x188931='';_0x27b309['forEach']((_0x3ff500,_0x4a5938)=>{const _0x254556=_0x5b2c17,_0xb4d261=_0x4a5938+0x1,_0x3eef46=_0x3ff500[_0x254556(0x73c)]||{};let _0x209aab='';const _0x1fc05d=[_0x254556(0x46e),'perfect_score',_0x254556(0x330),_0x254556(0x7e8)];_0x1fc05d['forEach'](_0x540440=>{const _0x1e7cce=_0x254556;if(_0x3eef46[_0x540440]>0x0){const _0x376397=Object['values'](BADGES)[_0x1e7cce(0x742)](_0xda637b=>_0xda637b['id']===_0x540440);_0x376397&&(_0x540440===_0x1e7cce(0x46e)?_0x209aab+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x376397[_0x1e7cce(0x3ab)]+_0x1e7cce(0x87e)+_0x376397[_0x1e7cce(0x725)]+_0x1e7cce(0x838):_0x209aab+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x376397['name']+'\x20('+_0x3eef46[_0x540440]+_0x1e7cce(0x944)+_0x376397[_0x1e7cce(0x725)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x3eef46[_0x540440]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x188931+=_0x254556(0x57d)+_0xb4d261+_0x254556(0x780)+_0x3ff500['studentName']+_0x254556(0x109)+(_0x3ff500['totalPoints']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x209aab||'-')+_0x254556(0x5f9);}),_0x526e67[_0x5b2c17(0x848)]=_0x188931;}function displayLoopScreen(_0x7954b5,_0x68a666,_0xa6f1d2){const _0x461528=_0x4f829b;let _0x1a7490='';_0xa6f1d2!==_0x461528(0x72a)&&(_0x1a7490=_0x461528(0x1bb)+_0x7954b5+_0x461528(0x255)+_0x68a666+_0x461528(0x13b));const _0x125340='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1a7490+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x461528(0x848)]=_0x125340,studentResultArea[_0x461528(0x61a)][_0x461528(0x193)](_0x461528(0x64a)),studentQuizArea[_0x461528(0x61a)][_0x461528(0x4e9)](_0x461528(0x64a)),document[_0x461528(0x40e)]('retake-quiz-loop-btn')[_0x461528(0x8ef)](_0x461528(0x349),()=>{const _0x321ac2=_0x461528;studentResultArea[_0x321ac2(0x61a)][_0x321ac2(0x4e9)](_0x321ac2(0x64a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x407268,_0x363bb4,_0x17aaf0){const _0x329ddf=_0x4f829b,_0x30ded5=document[_0x329ddf(0x40e)](_0x17aaf0),_0x374419=_0x17aaf0==='student-quiz-leaderboard-table-body',_0x24180d=_0x363bb4[_0x329ddf(0x75d)][_0x329ddf(0x71e)],_0x347330=document[_0x329ddf(0x40e)](_0x17aaf0)[_0x329ddf(0x871)](_0x329ddf(0x4d7));if(_0x347330&&!_0x374419){const _0xa699f7=_0x347330[_0x329ddf(0x7ac)](_0x329ddf(0x420));_0xa699f7[_0x329ddf(0x848)]=_0x329ddf(0x92f);}if(!_0x407268||_0x407268[_0x329ddf(0x71e)]===0x0){_0x30ded5['innerHTML']=_0x329ddf(0x906)+(_0x374419?0x6:0x8)+_0x329ddf(0x91c);return;}const _0x49f303=[..._0x407268];_0x49f303[_0x329ddf(0x831)]((_0x5b6397,_0x119440)=>{const _0x1180a1=_0x329ddf;let _0x17322a,_0x1a7323;switch(quizLeaderboardSortBy){case'studentName':_0x17322a=_0x5b6397[_0x1180a1(0x7e3)]||'',_0x1a7323=_0x119440[_0x1180a1(0x7e3)]||'';return quizLeaderboardSortOrder===_0x1180a1(0x3f6)?_0x17322a['localeCompare'](_0x1a7323,'th'):_0x1a7323[_0x1180a1(0x5b9)](_0x17322a,'th');case _0x1180a1(0x8fb):_0x17322a=_0x5b6397['points']||0x0,_0x1a7323=_0x119440[_0x1180a1(0x8fb)]||0x0;break;case _0x1180a1(0x38f):_0x17322a=_0x5b6397[_0x1180a1(0x38f)]?.['length']||0x1,_0x1a7323=_0x119440['attempts']?.[_0x1180a1(0x71e)]||0x1;break;case'latestSubmittedAt':_0x17322a=new Date(_0x5b6397[_0x1180a1(0x808)]),_0x1a7323=new Date(_0x119440[_0x1180a1(0x808)]);break;case _0x1180a1(0x75e):default:_0x17322a=_0x5b6397[_0x1180a1(0x75e)],_0x1a7323=_0x119440[_0x1180a1(0x75e)];break;}if(_0x17322a<_0x1a7323)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x17322a>_0x1a7323)return quizLeaderboardSortOrder===_0x1180a1(0x3f6)?0x1:-0x1;return 0x0;});const _0x12ec96=_0x363bb4['isRemedial']===!![],_0x36ee75=_0x363bb4[_0x329ddf(0x541)]?.[_0x329ddf(0x50f)]??-0x1;let _0x21ccf7='';_0x49f303['forEach']((_0x3731ac,_0x1708ec)=>{const _0x2d1b0c=_0x329ddf,_0xd13dc9=_0x1708ec+0x1;let _0x175802=_0x2d1b0c(0x8da);if(_0x12ec96||_0x36ee75!==-0x1){let _0x561a4b=_0x12ec96?_0x3731ac['bestScore']===_0x24180d:_0x3731ac[_0x2d1b0c(0x75e)]>=_0x36ee75;const _0x261e67=_0x561a4b?_0x2d1b0c(0x6f1):'bg-red-100\x20text-red-800',_0x3817bb=_0x561a4b?_0x2d1b0c(0x58d):_0x2d1b0c(0x5aa);_0x175802=_0x2d1b0c(0x254)+_0x261e67+'\x22>'+_0x3817bb+_0x2d1b0c(0x3d8);}const _0x9c6216=_0x3731ac[_0x2d1b0c(0x38f)][_0x3731ac[_0x2d1b0c(0x38f)][_0x2d1b0c(0x71e)]-0x1],_0x2c5155=(_0x9c6216['badges']||[])['map'](_0x44ebd6=>{const _0x385801=_0x2d1b0c,_0x190ede=Object['values'](BADGES)['find'](_0x5253bb=>_0x5253bb['id']===_0x44ebd6);return _0x190ede?_0x385801(0x144)+_0x190ede[_0x385801(0x3ab)]+'\x22><i\x20class=\x22fas\x20'+_0x190ede[_0x385801(0x725)]+_0x385801(0x956):'';})[_0x2d1b0c(0x14b)]('');_0x21ccf7+=_0x2d1b0c(0x872)+_0xd13dc9+_0x2d1b0c(0x38e)+_0x3731ac[_0x2d1b0c(0x7e3)]+_0x2d1b0c(0x302)+_0x3731ac[_0x2d1b0c(0x75e)]+_0x2d1b0c(0x255)+_0x24180d+_0x2d1b0c(0x36f)+_0x175802+_0x2d1b0c(0x68f)+(_0x3731ac[_0x2d1b0c(0x8fb)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x374419?'':_0x2d1b0c(0x5b8)+(_0x3731ac[_0x2d1b0c(0x38f)]?.[_0x2d1b0c(0x71e)]||0x1)+_0x2d1b0c(0x1be))+_0x2d1b0c(0x6b1)+(_0x374419?'':_0x2d1b0c(0x229)+new Date(_0x3731ac[_0x2d1b0c(0x808)])[_0x2d1b0c(0x1ae)](_0x2d1b0c(0x4d5))+_0x2d1b0c(0x1be))+_0x2d1b0c(0x7c8)+(_0x2c5155||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x30ded5['innerHTML']=_0x21ccf7,_0x347330&&!_0x374419&&_0x347330[_0x329ddf(0x18c)](_0x329ddf(0x4f5))[_0x329ddf(0x840)](_0x5955c0=>{const _0x50edda=_0x329ddf,_0x25bbb7=_0x5955c0['querySelector'](_0x50edda(0x113));if(_0x25bbb7)_0x25bbb7[_0x50edda(0x193)]();_0x5955c0[_0x50edda(0x850)][_0x50edda(0x831)]===quizLeaderboardSortBy&&(_0x5955c0[_0x50edda(0x848)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x50edda(0x3f6)?'▲':'▼')+_0x50edda(0x415));});}async function handleDeleteSubmission(_0xd2c04f){const _0x4b8caa=_0x4f829b;if(!currentQuizData||!currentQuizData['id']||!_0xd2c04f){showMessage(_0x4b8caa(0x57c));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0xd2c04f+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0xd40f8e=_0x4b8caa,_0x50688d=currentQuizData['id'],_0x5b03c4=doc(db,_0xd40f8e(0x65b)+appId+_0xd40f8e(0x351)+_0x50688d+_0xd40f8e(0x2b4),_0xd2c04f);try{await deleteDoc(_0x5b03c4),showMessage(_0xd40f8e(0x83c)+_0xd2c04f+_0xd40f8e(0x722));}catch(_0x4ccff9){console[_0xd40f8e(0x713)](_0xd40f8e(0x68d),_0x4ccff9),showMessage(_0xd40f8e(0x783));}});}async function handleLoadQuiz(){const _0xf7bb16=_0x4f829b,_0x558d42=document[_0xf7bb16(0x40e)](_0xf7bb16(0x168)),_0xdd590e=_0x558d42[_0xf7bb16(0x2f4)][_0xf7bb16(0x108)]();if(!_0xdd590e){showMessage(_0xf7bb16(0x326));return;}loadQuizBtn['disabled']=!![],loadQuizBtn['innerHTML']=_0xf7bb16(0x58a);try{const _0xb78bf=doc(db,_0xf7bb16(0x65b)+appId+_0xf7bb16(0x5fb),_0xdd590e),_0x235dbc=await getDoc(_0xb78bf);if(!_0x235dbc[_0xf7bb16(0x2ca)]()){showMessage(_0xf7bb16(0x12d));return;}currentQuizData={'id':_0x235dbc['id'],..._0x235dbc[_0xf7bb16(0x114)]()};const _0x41505c=currentQuizData[_0xf7bb16(0x29a)]||_0xf7bb16(0x36d),_0x13d92a=new Date();if(_0x41505c==='inactive'){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x41505c===_0xf7bb16(0x6f8)){const _0x1efda2=currentQuizData[_0xf7bb16(0x765)]?new Date(currentQuizData[_0xf7bb16(0x765)]):null,_0x500a3f=currentQuizData[_0xf7bb16(0x1a4)]?new Date(currentQuizData[_0xf7bb16(0x1a4)]):null;if(_0x1efda2&&_0x13d92a<_0x1efda2){showMessage(_0xf7bb16(0x4dd)+_0x1efda2['toLocaleString'](_0xf7bb16(0x4d5),{'hour12':![]}));return;}if(_0x500a3f&&_0x13d92a>_0x500a3f){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x82127e=currentQuizData['projectId'];currentProjectId=_0x82127e;const _0x4405fa=doc(db,'artifacts/'+appId+_0xf7bb16(0x6fe),_0x82127e),_0x560e95=await getDoc(_0x4405fa);if(!_0x560e95[_0xf7bb16(0x2ca)]()){showMessage(_0xf7bb16(0x166));return;}const _0x1f35ff=_0x560e95[_0xf7bb16(0x114)]();currentStudentProjectData=_0x1f35ff,displayStudentNameSelector(_0x1f35ff['students'],currentQuizData[_0xf7bb16(0x7e9)]);}catch(_0xe5ca9f){console[_0xf7bb16(0x713)](_0xf7bb16(0x95e),_0xe5ca9f),showMessage(_0xf7bb16(0x52a));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0xf7bb16(0x848)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x2c3c79=_0x4f829b,_0x1a7e46=document[_0x2c3c79(0x40e)]('game-pin-input'),_0x1f2e16=document[_0x2c3c79(0x40e)](_0x2c3c79(0x734)),_0x2564d7=document[_0x2c3c79(0x40e)](_0x2c3c79(0x779)),_0x5b210b=_0x1a7e46[_0x2c3c79(0x2f4)][_0x2c3c79(0x108)](),_0xbda257=_0x1f2e16[_0x2c3c79(0x2f4)]['trim']();if(!_0x5b210b||!_0xbda257){showMessage(_0x2c3c79(0x88c));return;}_0x2564d7['disabled']=!![],_0x2564d7[_0x2c3c79(0x848)]=_0x2c3c79(0x290);try{const _0x21031d=collection(db,'artifacts/'+appId+_0x2c3c79(0x92c)),_0x5efbeb=query(_0x21031d,where(_0x2c3c79(0x1e5),'==',_0x5b210b),where(_0x2c3c79(0x29a),'in',[_0x2c3c79(0x6ec),_0x2c3c79(0x76e)])),_0x4b0e3b=await getDocs(_0x5efbeb);if(_0x4b0e3b[_0x2c3c79(0x2fe)]){showMessage(_0x2c3c79(0x743));return;}const _0x2c9b73=_0x4b0e3b[_0x2c3c79(0x1f1)][0x0],_0x2be378=_0x2c9b73[_0x2c3c79(0x114)]();currentLiveGameId=_0x2c9b73['id'];const _0x582547=_0x2be378['quizId'],_0x2014ee=doc(db,'artifacts/'+appId+_0x2c3c79(0x5fb),_0x582547),_0x5e785a=await getDoc(_0x2014ee);if(!_0x5e785a[_0x2c3c79(0x2ca)]()){showMessage(_0x2c3c79(0x928));return;}currentQuizData={'id':_0x5e785a['id'],..._0x5e785a[_0x2c3c79(0x114)]()};if(_0x2be378[_0x2c3c79(0x5c4)]&&_0x2be378[_0x2c3c79(0x5c4)][_0xbda257]){const _0xe2ab6c=_0x2be378[_0x2c3c79(0x5c4)][_0xbda257];if(_0xe2ab6c[_0x2c3c79(0x29a)]===_0x2c3c79(0x45e)){_0x2564d7['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x3858b3={};_0x3858b3['players.'+_0xbda257+_0x2c3c79(0x8ac)]=_0x2c3c79(0x36d),await updateDoc(doc(db,_0x2c3c79(0x65b)+appId+_0x2c3c79(0x92c),currentLiveGameId),_0x3858b3),showView(_0x2c3c79(0x849)),currentStudentName=_0xbda257,listenForLiveGameUpdates();return;}else{showMessage(_0x2c3c79(0x87d));return;}}if(_0x2be378[_0x2c3c79(0x29a)]!==_0x2c3c79(0x6ec)){showMessage(_0x2c3c79(0x1e4));return;}_0x2564d7[_0x2c3c79(0x848)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x42e817={};_0x42e817[_0x2c3c79(0x412)+_0xbda257]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x2c3c79(0x36d)},await updateDoc(doc(db,'artifacts/'+appId+_0x2c3c79(0x92c),currentLiveGameId),_0x42e817),currentStudentName=_0xbda257,listenForLiveGameUpdates();}catch(_0x56d162){console[_0x2c3c79(0x713)](_0x2c3c79(0x868),_0x56d162),showMessage(_0x2c3c79(0x864));}finally{_0x2564d7[_0x2c3c79(0x1e2)]=![],_0x2564d7[_0x2c3c79(0x848)]=_0x2c3c79(0x74b);}}function displayStudentNameSelector(_0x3f9f27,_0x499ec2){const _0xb718ea=_0x4f829b,_0x5d8a95=document[_0xb718ea(0x40e)](_0xb718ea(0xed));document['getElementById'](_0xb718ea(0x8fe))[_0xb718ea(0x41f)]=_0xb718ea(0x2a8)+_0x499ec2,!_0x3f9f27||_0x3f9f27['length']===0x0?(_0x5d8a95[_0xb718ea(0x848)]=_0xb718ea(0x5cc),startQuizBtn[_0xb718ea(0x1e2)]=!![]):(_0x5d8a95[_0xb718ea(0x848)]=_0xb718ea(0x165),_0x3f9f27[_0xb718ea(0x840)](_0x5e45df=>{const _0x54af0a=_0xb718ea,_0x419a35=document['createElement'](_0x54af0a(0x2ae));_0x419a35[_0x54af0a(0x2f4)]=_0x5e45df,_0x419a35[_0x54af0a(0x41f)]=_0x5e45df,_0x5d8a95['appendChild'](_0x419a35);}),startQuizBtn[_0xb718ea(0x1e2)]=![]),studentInitialView[_0xb718ea(0x61a)][_0xb718ea(0x4e9)](_0xb718ea(0x64a)),studentNameSelectionView[_0xb718ea(0x61a)][_0xb718ea(0x193)](_0xb718ea(0x64a));}function shuffleArray(_0x23fa83){const _0xb41a11=_0x4f829b;for(let _0x430900=_0x23fa83[_0xb41a11(0x71e)]-0x1;_0x430900>0x0;_0x430900--){const _0x25e52b=Math[_0xb41a11(0x716)](Math['random']()*(_0x430900+0x1));[_0x23fa83[_0x430900],_0x23fa83[_0x25e52b]]=[_0x23fa83[_0x25e52b],_0x23fa83[_0x430900]];}}function getShuffledQuiz(_0x35d6e0){const _0x22942d=_0x4f829b;let _0xc033cf=JSON[_0x22942d(0x185)](JSON[_0x22942d(0x461)](_0x35d6e0));const _0x24bcf9=_0xc033cf[_0x22942d(0x541)]?.['shuffle']||_0x22942d(0x732);if(_0x24bcf9==='none')return _0xc033cf;return(_0x24bcf9==='questions_only'||_0x24bcf9===_0x22942d(0x117))&&shuffleArray(_0xc033cf['questions']),(_0x24bcf9===_0x22942d(0x4ef)||_0x24bcf9===_0x22942d(0x117))&&_0xc033cf[_0x22942d(0x75d)][_0x22942d(0x840)](_0x521f5b=>{const _0xae498d=_0x22942d,_0x8b92d2=_0x521f5b[_0xae498d(0x1eb)]||_0xc033cf[_0xae498d(0x4a1)];if(_0x521f5b[_0xae498d(0x4b9)]){let _0x394a76=_0x521f5b['options'][_0xae498d(0x670)]((_0x4341fb,_0x354f6f)=>({'text':_0x4341fb,'isCorrect':_0x354f6f===_0x521f5b['correctAnswerIndex']}));shuffleArray(_0x394a76),_0x521f5b[_0xae498d(0x4b9)]=_0x394a76[_0xae498d(0x670)](_0x5e1610=>_0x5e1610[_0xae498d(0x6f7)]),_0x521f5b[_0xae498d(0x71a)]=_0x394a76['findIndex'](_0x18db0e=>_0x18db0e['isCorrect']);}_0x8b92d2==='matching_item'&&_0x521f5b[_0xae498d(0x424)]&&shuffleArray(_0x521f5b[_0xae498d(0x424)]);}),_0xc033cf;}function displayQuizForStudent(_0x4cdae3){const _0x2dc2a6=_0x4f829b;studentQuizArea[_0x2dc2a6(0x61a)][_0x2dc2a6(0x193)](_0x2dc2a6(0x64a)),currentDisplayedQuiz=getShuffledQuiz(_0x4cdae3);currentMode!==_0x2dc2a6(0x53f)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x2dc2a6(0x8ef)](_0x2dc2a6(0x323),handleFullscreenChange),document[_0x2dc2a6(0x8ef)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x2dc2a6(0x33b),resetDimTimer),window['addEventListener'](_0x2dc2a6(0x72f),resetDimTimer),window[_0x2dc2a6(0x8ef)](_0x2dc2a6(0x58c),resetDimTimer),window[_0x2dc2a6(0x8ef)](_0x2dc2a6(0x5d1),resetDimTimer),resetDimTimer());const _0x203d21=currentDisplayedQuiz[_0x2dc2a6(0x541)]?.[_0x2dc2a6(0x737)]||_0x2dc2a6(0x732);if(_0x203d21===_0x2dc2a6(0x3cf))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x2dc2a6(0x541)][_0x2dc2a6(0x7c5)]);else _0x203d21===_0x2dc2a6(0x366)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x50b8ca=_0x4f829b;let _0x5527ce='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x50b8ca(0x2d9)+(currentMode===_0x50b8ca(0x53f)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x50b8ca(0x19b);currentDisplayedQuiz['questions']['forEach']((_0x174797,_0x453a62)=>{const _0x43178b=_0x50b8ca,_0x20a2fe=_0x174797['questionType']||currentDisplayedQuiz[_0x43178b(0x4a1)];_0x5527ce+=_0x43178b(0x4d4);_0x20a2fe===_0x43178b(0x402)?_0x5527ce+=_0x43178b(0x206)+(_0x453a62+0x1)+'.\x20'+_0x174797[_0x43178b(0x425)]+_0x43178b(0x36a)+_0x453a62+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x174797[_0x43178b(0x424)][_0x43178b(0x670)](_0x4eab4b=>_0x43178b(0x62f)+_0x4eab4b+'\x22>'+_0x4eab4b+_0x43178b(0x48e))[_0x43178b(0x14b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a':(_0x5527ce+=_0x43178b(0x262)+(_0x453a62+0x1)+'.\x20'+(_0x174797[_0x43178b(0x23a)]||_0x174797[_0x43178b(0x1f5)])+_0x43178b(0x19e),_0x174797['imageCode']&&(_0x5527ce+=_0x43178b(0x1c3)+_0x174797[_0x43178b(0x4f9)]+_0x43178b(0x930)));_0x5527ce+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x20a2fe){case _0x43178b(0x52b):_0x5527ce+=_0x43178b(0x8c3)+_0x453a62+_0x43178b(0x7b6);break;case'true_false':_0x5527ce+=_0x43178b(0x6e1)+_0x453a62+_0x43178b(0x1ed)+_0x453a62+_0x43178b(0x458)+_0x453a62+_0x43178b(0x71f),_0x5527ce+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x453a62+_0x43178b(0x751)+_0x453a62+_0x43178b(0x77a)+_0x453a62+_0x43178b(0x689);break;case'matching_item':break;case'fill_in_the_blank':case'multiple_choice':default:_0x5527ce+=_0x174797['options'][_0x43178b(0x670)]((_0x483f7b,_0x27ffc8)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x453a62+'_opt'+_0x27ffc8+_0x43178b(0x4ae)+_0x453a62+_0x43178b(0x867)+_0x27ffc8+_0x43178b(0x194)+_0x453a62+_0x43178b(0x6ba)+_0x27ffc8+'\x22>'+_0x483f7b+_0x43178b(0x6cd))[_0x43178b(0x14b)]('');break;}_0x5527ce+=_0x43178b(0x4f7);}),_0x5527ce+=_0x50b8ca(0x2db),_0x5527ce+=_0x50b8ca(0x2ad),studentQuizArea[_0x50b8ca(0x848)]=_0x5527ce;if(currentMode===_0x50b8ca(0x53f)){const _0xa6d3c=document[_0x50b8ca(0x40e)](_0x50b8ca(0x11e));if(_0xa6d3c)_0xa6d3c[_0x50b8ca(0x8ef)](_0x50b8ca(0x349),cancelAdminTest);}document[_0x50b8ca(0x40e)]('quiz-form')[_0x50b8ca(0x8ef)]('submit',handleSubmitQuiz);if(window[_0x50b8ca(0x273)])window['MathJax']['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x3402f3){const _0x67c371=_0x4f829b;if(_0x3402f3)_0x3402f3[_0x67c371(0x65f)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x2325af=document[_0x67c371(0x40e)](_0x67c371(0x526));if(!_0x2325af)return;const _0x167fae=_0x2325af[_0x67c371(0x7ac)](_0x67c371(0x721)),_0x3c4ffb=currentDisplayedQuiz[_0x67c371(0x75d)][_0x67c371(0x2ef)](_0x24ccd1=>_0x24ccd1[_0x67c371(0x1eb)]===_0x67c371(0x52b));_0x167fae&&(_0x167fae[_0x67c371(0x1e2)]=!![],_0x3c4ffb?_0x167fae[_0x67c371(0x848)]=_0x67c371(0x4cb):_0x167fae[_0x67c371(0x848)]=_0x67c371(0x3b1));const _0x5c262e=new FormData(_0x2325af),_0x5c2236=currentDisplayedQuiz[_0x67c371(0x75d)][_0x67c371(0x670)]((_0x88c1ff,_0x4e71c6)=>{const _0x2bd3e0=_0x67c371,_0x3b268a=_0x88c1ff[_0x2bd3e0(0x1eb)]||currentDisplayedQuiz[_0x2bd3e0(0x4a1)],_0x3c71b3=_0x5c262e['get']('question'+_0x4e71c6);if(_0x3c71b3!==null&&_0x3c71b3!==undefined){if(_0x3b268a===_0x2bd3e0(0x7c3)||_0x3b268a===_0x2bd3e0(0x8bc))return parseInt(_0x3c71b3);return _0x3c71b3;}return null;}),_0x363bf9=currentQuizData['id'],_0x5ac306=doc(db,'artifacts/'+appId+_0x67c371(0x351)+_0x363bf9+_0x67c371(0x2b4),currentStudentName),_0x421f12=await getDoc(_0x5ac306),_0x45c620=_0x421f12[_0x67c371(0x2ca)]()?_0x421f12[_0x67c371(0x114)]():{},_0xce5045=_0x45c620[_0x67c371(0x38f)]||[];await processAndSubmitAnswers(_0x5c2236,_0xce5045);}async function gradeShortAnswerWithAI(_0x2866e2,_0x16415f){const _0x11440a=_0x4f829b;if(!_0x2866e2||!_0x16415f)return![];try{const _0x341ece=_0x11440a(0x837)+_0x2866e2+_0x11440a(0x534)+_0x16415f+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x2649e9={'contents':[{'role':_0x11440a(0x64b),'parts':[{'text':_0x341ece}]}]},_0x5eb52c=_0x11440a(0x29d),_0x2beb33=_0x11440a(0x1e3)+_0x5eb52c,_0x18c43a=await fetch(_0x2beb33,{'method':'POST','headers':{'Content-Type':_0x11440a(0xf6)},'body':JSON[_0x11440a(0x461)](_0x2649e9)});if(!_0x18c43a['ok'])throw new Error(_0x11440a(0x2b9));const _0x309fc1=await _0x18c43a[_0x11440a(0x685)](),_0x5c763d=_0x309fc1[_0x11440a(0x966)][0x0][_0x11440a(0x39a)]['parts'][0x0]['text'][_0x11440a(0x108)]()[_0x11440a(0x7bf)]();return _0x5c763d===_0x11440a(0x812);}catch(_0x3461c0){return console[_0x11440a(0x713)](_0x11440a(0x7ed),_0x3461c0),![];}}async function processAndSubmitAnswers(_0x522d3e,_0x22c291){const _0x44f676=_0x4f829b;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x44f676(0x429)](_0x44f676(0x323),handleFullscreenChange),document[_0x44f676(0x429)](_0x44f676(0x537),handleVisibilityChange);let _0x18fee0=0x0,_0x4c0555=0x0,_0x2c0d06=[];const _0x1b5785=[],_0x1d7a05=currentDisplayedQuiz[_0x44f676(0x75d)][_0x44f676(0x71e)];let _0x36d7e8=0x0;const _0x4b4cee=currentDisplayedQuiz['questions'];for(let _0x19cd1e=0x0;_0x19cd1e<_0x4b4cee['length'];_0x19cd1e++){const _0x3f144f=_0x4b4cee[_0x19cd1e],_0x596894=_0x522d3e[_0x19cd1e],_0x37f909=_0x3f144f['questionType']||currentDisplayedQuiz[_0x44f676(0x4a1)];let _0x12da77=![];if(_0x596894!==null&&_0x596894!=='')switch(_0x37f909){case _0x44f676(0x402):_0x12da77=_0x596894===_0x3f144f['correctResponse'];break;case _0x44f676(0x421):const _0x211535=_0x596894===!![]||_0x596894===_0x44f676(0x812);_0x12da77=_0x211535===_0x3f144f[_0x44f676(0x756)];break;case'fill_in_the_blank':case'multiple_choice':default:_0x12da77=Number(_0x596894)===_0x3f144f[_0x44f676(0x71a)];break;case _0x44f676(0x52b):_0x12da77=await gradeShortAnswer(_0x596894,_0x3f144f);break;}_0x12da77?(_0x18fee0++,_0x36d7e8++,_0x36d7e8===0x3&&(_0x2c0d06['push'](BADGES['ON_FIRE']['id']),_0x36d7e8=0x0)):_0x36d7e8=0x0;let _0x1212f5=null;_0x3f144f[_0x44f676(0x4b9)]&&_0x596894!==null&&(_0x1212f5=_0x3f144f[_0x44f676(0x4b9)][_0x596894]),_0x1b5785[_0x44f676(0x91e)]({'questionId':_0x3f144f['id'],'answer':_0x596894,'answerText':_0x1212f5,'isCorrect':_0x12da77,'originalQuestionText':_0x3f144f[_0x44f676(0x425)]||_0x3f144f[_0x44f676(0x1f5)]});}_0x4c0555=_0x18fee0*0xa;_0x18fee0===_0x1d7a05&&_0x1d7a05>0x0&&!currentDisplayedQuiz[_0x44f676(0x431)]&&(_0x4c0555+=0x32,_0x2c0d06['push'](BADGES[_0x44f676(0x8e8)]['id']));const _0x54f784=currentDisplayedQuiz[_0x44f676(0x541)]?.[_0x44f676(0x50f)]??Math[_0x44f676(0x716)](_0x1d7a05/0x2),_0x1f4120=currentDisplayedQuiz[_0x44f676(0x541)]?.[_0x44f676(0x737)];if(_0x1f4120===_0x44f676(0x3cf)&&quizStartTime){const _0x1bc375=(new Date()-quizStartTime)/0x3e8,_0x57a56f=currentDisplayedQuiz[_0x44f676(0x541)][_0x44f676(0x7c5)]*0x3c;_0x18fee0>=_0x54f784&&_0x1bc375<_0x57a56f/0x2&&(_0x4c0555+=0x14,_0x2c0d06[_0x44f676(0x91e)](BADGES[_0x44f676(0x22f)]['id']));}_0x22c291[_0x44f676(0x71e)]===0x0&&_0x18fee0===_0x1d7a05&&_0x1d7a05>0x0&&_0x2c0d06[_0x44f676(0x91e)](BADGES[_0x44f676(0x1db)]['id']);if(_0x22c291[_0x44f676(0x71e)]>0x0){const _0x703e7a=_0x22c291[0x0]['score'];if(_0x703e7a<_0x54f784&&_0x18fee0>=_0x54f784){const _0x13c8e1=_0x22c291[_0x44f676(0x2ef)](_0x1ce1d2=>(_0x1ce1d2[_0x44f676(0x95c)]||[])['includes'](BADGES[_0x44f676(0x2b1)]['id']));!_0x13c8e1&&_0x2c0d06['push'](BADGES[_0x44f676(0x2b1)]['id']);}}_0x22c291['length']===0x4&&_0x2c0d06[_0x44f676(0x91e)](BADGES['PERSEVERANCE']['id']);const _0x5b52eb=currentDisplayedQuiz['settings'][_0x44f676(0x39d)];if(currentMode===_0x44f676(0x53f)){handleResultDisplay(_0x5b52eb,_0x18fee0,_0x4c0555,_0x2c0d06,_0x1b5785,_0x1d7a05);return;}const _0x35c7b9=currentQuizData['id'],_0x5d439f=doc(db,'artifacts/'+appId+_0x44f676(0x351)+_0x35c7b9+'/submissions',currentStudentName);try{const _0x31dd07=[..._0x22c291],_0x3bacd8={'score':_0x18fee0,'points':_0x4c0555,'badges':_0x2c0d06,'submittedAt':new Date()[_0x44f676(0x1c9)](),'answers':_0x1b5785};_0x31dd07[_0x44f676(0x91e)](_0x3bacd8);const _0x4b4c26=_0x31dd07[0x0]['score'],_0x192886=Math[_0x44f676(0x67b)](..._0x31dd07[_0x44f676(0x670)](_0x58bb2d=>_0x58bb2d[_0x44f676(0x3e0)])),_0x3db941=_0x18fee0,_0x4ec280=_0x3bacd8['submittedAt'];await setDoc(_0x5d439f,{'studentName':currentStudentName,'totalQuestions':_0x1d7a05,'attempts':_0x31dd07,'firstScore':_0x4b4c26,'bestScore':_0x192886,'latestScore':_0x3db941,'points':_0x4c0555,'latestSubmittedAt':_0x4ec280},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x44f676(0x6ad)],currentStudentName),handleResultDisplay(_0x5b52eb,_0x18fee0,_0x4c0555,_0x2c0d06,_0x1b5785,_0x1d7a05);}catch(_0x3e8fa6){console[_0x44f676(0x713)]('Error\x20saving\x20submission:',_0x3e8fa6),showMessage(_0x44f676(0x5e7));}}async function updateStudentProfile(_0x422a8a,_0x3a27e1){const _0xd217d4=_0x4f829b,_0x398c4b=doc(db,'artifacts/'+appId+_0xd217d4(0x4c4)+_0x422a8a+'/studentProfiles',_0x3a27e1);try{const _0x5dbfd3=query(collection(db,_0xd217d4(0x65b)+appId+_0xd217d4(0x5fb)),where(_0xd217d4(0x6ad),'==',_0x422a8a)),_0xf725d5=await getDocs(_0x5dbfd3),_0x41cebc=new Map(_0xf725d5[_0xd217d4(0x1f1)][_0xd217d4(0x670)](_0x2db059=>[_0x2db059['id'],_0x2db059[_0xd217d4(0x114)]()])),_0x3678c5=Array[_0xd217d4(0x8c6)](_0x41cebc[_0xd217d4(0x205)]());await runTransaction(db,async _0x13f439=>{const _0x3a922c=_0xd217d4;let _0x20bfac=0x0;const _0x16bf63={};let _0x4de307=!![],_0x3678a5=0x0,_0x4f2bfd=0x0;for(const _0x2de895 of _0x3678c5){const _0x28e08f=_0x41cebc[_0x3a922c(0x441)](_0x2de895),_0x206f8a=doc(db,_0x3a922c(0x65b)+appId+_0x3a922c(0x351)+_0x2de895+_0x3a922c(0x2b4),_0x3a27e1),_0x4beecb=await _0x13f439[_0x3a922c(0x441)](_0x206f8a);if(_0x4beecb[_0x3a922c(0x2ca)]()){const _0x5645c0=_0x4beecb[_0x3a922c(0x114)](),_0xc57bfe=_0x5645c0[_0x3a922c(0x38f)]||[];if(_0xc57bfe[_0x3a922c(0x71e)]>0x0){const _0x7d8005=_0xc57bfe[_0x3a922c(0x912)]((_0x1a34d8,_0x506edc)=>{const _0x3962b6=_0x3a922c;if(_0x506edc[_0x3962b6(0x3e0)]>_0x1a34d8[_0x3962b6(0x3e0)])return _0x506edc;if(_0x506edc[_0x3962b6(0x3e0)]===_0x1a34d8['score'])return(_0x506edc['points']||0x0)>(_0x1a34d8[_0x3962b6(0x8fb)]||0x0)?_0x506edc:_0x1a34d8;return _0x1a34d8;},{'score':-0x1,'points':-0x1});_0x7d8005[_0x3a922c(0x3e0)]>-0x1&&(_0x20bfac+=_0x7d8005[_0x3a922c(0x8fb)]||0x0,(_0x7d8005[_0x3a922c(0x95c)]||[])[_0x3a922c(0x840)](_0x48995d=>{_0x16bf63[_0x48995d]=(_0x16bf63[_0x48995d]||0x0)+0x1;}));}}if(_0x28e08f[_0x3a922c(0x7e9)]!==_0x3a922c(0x7a6)){_0x4f2bfd++;if(_0x4beecb[_0x3a922c(0x2ca)]()){_0x3678a5++;const _0x32436f=_0x4beecb[_0x3a922c(0x114)]();_0x32436f[_0x3a922c(0x75e)]!==_0x32436f[_0x3a922c(0x507)]&&(_0x4de307=![]);}else _0x4de307=![];}}_0x4f2bfd>0x0&&_0x3678a5===_0x4f2bfd&&_0x4de307?_0x16bf63['specialist']=0x1:_0x16bf63[_0x3a922c(0x46e)]=0x0,_0x13f439[_0x3a922c(0x1ad)](_0x398c4b,{'studentName':_0x3a27e1,'totalPoints':_0x20bfac,'unlockedBadges':Object[_0x3a922c(0x205)](_0x16bf63)['filter'](_0x7058c1=>_0x16bf63[_0x7058c1]>0x0),'badgesCount':_0x16bf63},{'merge':!![]});});}catch(_0x31083d){console[_0xd217d4(0x713)](_0xd217d4(0x7a4),_0x31083d),showMessage(_0xd217d4(0x5f8));}}function startAdminTest(){const _0x69b82=_0x4f829b;if(!currentQuizData){showMessage(_0x69b82(0x471));return;}let _0x5cb647=JSON[_0x69b82(0x185)](JSON['stringify'](currentQuizData));currentMode='admin-testing',currentStudentName=_0x69b82(0x45b),adminView['classList'][_0x69b82(0x4e9)](_0x69b82(0x64a)),studentView[_0x69b82(0x61a)]['remove'](_0x69b82(0x64a)),studentInitialView[_0x69b82(0x61a)][_0x69b82(0x4e9)](_0x69b82(0x64a)),studentNameSelectionView[_0x69b82(0x61a)][_0x69b82(0x4e9)](_0x69b82(0x64a)),studentResultArea[_0x69b82(0x61a)][_0x69b82(0x4e9)](_0x69b82(0x64a)),studentQuizArea[_0x69b82(0x61a)]['remove']('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x5cb647);}function handleResultDisplay(_0x29598b,_0x1bb693,_0x351295,_0x1e334d,_0x23bfc8,_0x11c9f0){const _0x19d261=_0x4f829b;if(_0x29598b==='manual_release'){displaySubmissionConfirmation();return;}const _0x8e2979=currentDisplayedQuiz['settings']?.[_0x19d261(0x50f)]??Math[_0x19d261(0x716)](_0x11c9f0/0x2),_0x41beac=currentDisplayedQuiz[_0x19d261(0x541)]?.[_0x19d261(0x240)]??![],_0x1ace19=currentDisplayedQuiz[_0x19d261(0x541)]?.[_0x19d261(0x94b)]===!![],_0x368a7f=_0x1bb693<_0x8e2979,_0x4c33c0=_0x29598b===_0x19d261(0x4c0)||_0x29598b===_0x19d261(0x3c3);if(_0x1ace19&&_0x368a7f&&!_0x4c33c0){_0x29598b==='show_results_and_answers'?displayResultsWithAnswers(_0x1bb693,_0x351295,_0x1e334d,_0x23bfc8,_0x11c9f0,!![]):displayLoopScreen(_0x1bb693,_0x11c9f0,_0x29598b);return;}if(_0x41beac&&_0x368a7f){startAdaptiveFlow(_0x23bfc8,_0x1bb693,_0x11c9f0);return;}switch(_0x29598b){case'show_results_and_answers':displayResultsWithAnswers(_0x1bb693,_0x351295,_0x1e334d,_0x23bfc8,_0x11c9f0);break;case _0x19d261(0x11b):displayResultsScoreOnly(_0x1bb693,_0x351295,_0x1e334d,_0x11c9f0);break;case _0x19d261(0x72a):displayPassFailOnly(_0x1bb693,_0x11c9f0);break;case _0x19d261(0x4c0):displayHalfMarkResult(_0x1bb693,_0x11c9f0);break;case _0x19d261(0x3c3):displayPerfectScoreResult(_0x1bb693,_0x11c9f0);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x25757c){const _0x599325=_0x4f829b;studentReadingArea[_0x599325(0x848)]=_0x599325(0x776);const _0x768f20=_0x599325(0x661)+_0x25757c+_0x599325(0x5fc)+simpleMathPrompt+_0x599325(0x574),_0x2596ec={'type':_0x599325(0x5dd),'properties':{'questionText':{'type':_0x599325(0x44e)},'options':{'type':_0x599325(0x5f3),'items':{'type':_0x599325(0x44e)}},'correctAnswerIndex':{'type':_0x599325(0x797)},'explanation':{'type':_0x599325(0x44e)}},'required':['questionText','options',_0x599325(0x71a),'explanation']},_0x38f171={'type':_0x599325(0x5dd),'properties':{'topic':{'type':_0x599325(0x44e)},'questions':{'type':'ARRAY','items':_0x2596ec}},'required':['topic',_0x599325(0x75d)]};try{const _0x6e1bfa=await callAnalysisApi(_0x768f20,_0x38f171);_0x6e1bfa[_0x599325(0x431)]=!![],studentReadingArea[_0x599325(0x61a)][_0x599325(0x4e9)](_0x599325(0x64a));const _0x581b20={...currentDisplayedQuiz[_0x599325(0x541)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x6e1bfa[_0x599325(0x541)]=_0x581b20,displayQuizForStudent(_0x6e1bfa);}catch(_0x16b9b0){console[_0x599325(0x713)]('Remedial\x20quiz\x20generation\x20failed:',_0x16b9b0),showMessage(_0x599325(0x611)),showView('student');}}function displayPassFailOnly(_0x433451,_0x475610){const _0x4ff20e=_0x4f829b,_0x519889=currentDisplayedQuiz[_0x4ff20e(0x541)]?.[_0x4ff20e(0x50f)]??-0x1,_0x26f687=currentDisplayedQuiz[_0x4ff20e(0x431)]===!![];let _0x3bd372='',_0x287c92=![];if(_0x26f687||_0x519889!==-0x1){_0x287c92=_0x26f687?_0x433451===_0x475610:_0x433451>=_0x519889;const _0x561b05=_0x287c92?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x31be42=_0x287c92?_0x4ff20e(0x58d):_0x4ff20e(0x5aa);_0x3bd372=_0x4ff20e(0x613)+_0x561b05+'\x22>'+_0x31be42+_0x4ff20e(0x84d);}else _0x3bd372=_0x4ff20e(0x3f0);let _0x2d4497=_0x4ff20e(0x5eb)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3bd372+_0x4ff20e(0x781);studentResultArea[_0x4ff20e(0x848)]=_0x2d4497,studentResultArea[_0x4ff20e(0x61a)][_0x4ff20e(0x193)](_0x4ff20e(0x64a)),studentQuizArea[_0x4ff20e(0x61a)][_0x4ff20e(0x4e9)](_0x4ff20e(0x64a)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x287c92});}function cancelAdminTest(){const _0x2d9bf6=_0x4f829b;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x2d9bf6(0x429)](_0x2d9bf6(0x323),handleFullscreenChange),document[_0x2d9bf6(0x429)](_0x2d9bf6(0x537),handleVisibilityChange),currentMode=_0x2d9bf6(0x7ec),studentView[_0x2d9bf6(0x61a)][_0x2d9bf6(0x4e9)](_0x2d9bf6(0x64a)),adminView[_0x2d9bf6(0x61a)][_0x2d9bf6(0x193)]('hidden'),showView(_0x2d9bf6(0x561));}function setupResultScreenBackButton(_0x459f58){const _0x3949f1=_0x4f829b,_0x310597={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x459f58};if(_0x310597['isLooping']){const _0x1dc0fe=_0x3949f1(0x6a6);studentResultArea[_0x3949f1(0x3cc)](_0x3949f1(0x2be),_0x1dc0fe),document[_0x3949f1(0x40e)](_0x3949f1(0x463))[_0x3949f1(0x8ef)]('click',()=>{const _0x143a31=_0x3949f1;studentResultArea[_0x143a31(0x61a)]['add'](_0x143a31(0x64a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x22468f=_0x3949f1(0x122),_0x10a6b6=currentMode===_0x3949f1(0x53f),_0x3e105e=_0x10a6b6?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x189473='';_0x310597[_0x3949f1(0x4ff)]&&(_0x189473+=_0x3949f1(0x23e));let _0x22fb20=_0x310597['showImproveButton'];_0x22fb20===undefined&&(_0x22fb20=_0x310597[_0x3949f1(0x3e0)]<_0x310597[_0x3949f1(0x507)]);_0x22fb20&&(_0x189473+=_0x3949f1(0x464));_0x189473+=_0x3949f1(0x33a)+_0x22468f+_0x3949f1(0x33d)+_0x3e105e+_0x3949f1(0x30d);const _0x5128d7=_0x3949f1(0x939)+_0x189473+_0x3949f1(0x930);studentResultArea[_0x3949f1(0x3cc)](_0x3949f1(0x2be),_0x5128d7),studentResultArea['querySelector'](_0x3949f1(0x544))?.['addEventListener'](_0x3949f1(0x349),handleShowStudentRankings);const _0x2026b4=studentResultArea[_0x3949f1(0x7ac)]('#retake-for-improvement-btn');_0x2026b4&&_0x2026b4[_0x3949f1(0x8ef)]('click',()=>{const _0xdd1157=_0x3949f1;studentResultArea[_0xdd1157(0x61a)]['add'](_0xdd1157(0x64a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3949f1(0x40e)](_0x22468f)[_0x3949f1(0x8ef)]('click',()=>{const _0x13eb22=_0x3949f1;_0x10a6b6?(currentMode='admin',studentView[_0x13eb22(0x61a)][_0x13eb22(0x4e9)](_0x13eb22(0x64a)),adminView[_0x13eb22(0x61a)]['remove']('hidden'),showView('project-detail')):(showView('student'),document['getElementById'](_0x13eb22(0x168))[_0x13eb22(0x2f4)]='');});}function displayResultsWithAnswers(_0x29571c,_0x32f015,_0x458b5d,_0x5d3b82,_0x424346,_0x26a7f9=![]){const _0x2d6c48=_0x4f829b,_0x380049=_0x424346>0x0?_0x29571c/_0x424346*0x64:0x0,_0xaee4fb=currentDisplayedQuiz[_0x2d6c48(0x541)]?.[_0x2d6c48(0x50f)]??-0x1,_0x8de0dc=currentDisplayedQuiz[_0x2d6c48(0x431)]===!![];let _0x113b81='';if(_0x8de0dc||_0xaee4fb!==-0x1){let _0x16b48b=_0x8de0dc?_0x29571c===_0x424346:_0x29571c>=_0xaee4fb;const _0x1b3185=_0x16b48b?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x42bc80=_0x16b48b?_0x2d6c48(0x58d):_0x2d6c48(0x5aa);_0x113b81='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x1b3185+'\x22>'+_0x42bc80+_0x2d6c48(0x19e);}let _0x39d533=_0x2d6c48(0x210)+currentStudentName+_0x2d6c48(0x42b)+_0x29571c+_0x2d6c48(0x6fb)+_0x424346+_0x2d6c48(0x85d)+_0x113b81+_0x2d6c48(0x4a2)+_0x32f015+_0x2d6c48(0x554)+_0x380049[_0x2d6c48(0x3a8)](0x0)+_0x2d6c48(0x504);currentDisplayedQuiz[_0x2d6c48(0x75d)]['forEach']((_0x283ca0,_0x4bcd97)=>{const _0x17a63c=_0x2d6c48,_0x4835f5=_0x5d3b82[_0x4bcd97],_0x577265=_0x4835f5['answer'],_0x393384=_0x4835f5[_0x17a63c(0x550)],_0xda1448=_0x283ca0[_0x17a63c(0x1eb)]||currentDisplayedQuiz[_0x17a63c(0x4a1)];_0x39d533+=_0x17a63c(0x154)+(_0x393384?_0x17a63c(0x49b):_0x17a63c(0x6f5))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x4bcd97+0x1)+'.\x20'+(_0x283ca0[_0x17a63c(0x425)]||_0x283ca0[_0x17a63c(0x1f5)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0xda1448){case'matching_item':const _0x9f69a0=_0x577265||_0x17a63c(0x6e4),_0x587dbe=_0x283ca0[_0x17a63c(0x2bf)];_0x39d533+=_0x17a63c(0x317)+(!_0x393384?_0x17a63c(0x529):'')+'\x22>'+_0x9f69a0+_0x17a63c(0x340);!_0x393384&&(_0x39d533+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x587dbe+_0x17a63c(0x19e));break;case _0x17a63c(0x52b):_0x39d533+=_0x17a63c(0xe4)+(_0x577265||_0x17a63c(0x6e4))+_0x17a63c(0x19e),_0x39d533+=_0x17a63c(0x70b)+_0x283ca0[_0x17a63c(0x2dd)]+_0x17a63c(0x19e);break;case'true_false':_0x39d533+='<p\x20class=\x22'+(_0x283ca0[_0x17a63c(0x756)]===!![]?_0x17a63c(0x27c):'')+'\x20'+(_0x577265===_0x17a63c(0x812)&&!_0x393384?'line-through\x20text-red-700':'')+_0x17a63c(0x50a),_0x39d533+=_0x17a63c(0x363)+(_0x283ca0[_0x17a63c(0x756)]===![]?_0x17a63c(0x27c):'')+'\x20'+(_0x577265===_0x17a63c(0x5bf)&&!_0x393384?'line-through\x20text-red-700':'')+'\x22>ไม่ใช่</p>';break;default:_0x39d533+=_0x283ca0[_0x17a63c(0x4b9)][_0x17a63c(0x670)]((_0x3b440e,_0x223d91)=>{const _0xbb479b=_0x17a63c;let _0x45740c='',_0x194cca='';if(_0x223d91===_0x283ca0[_0xbb479b(0x71a)])_0x45740c='font-bold\x20text-green-700',_0x194cca=_0xbb479b(0x13c);else _0x223d91===_0x577265&&(_0x45740c=_0xbb479b(0x152),_0x194cca=_0xbb479b(0x589));return _0xbb479b(0x247)+_0x45740c+'\x22>'+_0x194cca+_0x3b440e+_0xbb479b(0x930);})[_0x17a63c(0x14b)]('');break;}_0x39d533+=_0x17a63c(0x396)+(_0x283ca0['explanation']||_0x17a63c(0x4d9))+_0x17a63c(0x930);if(!_0x393384){const _0x49b05b=_0x283ca0[_0x17a63c(0x425)]||_0x283ca0['questionText'];_0x39d533+=_0x17a63c(0x90f)+escape(_0x49b05b)+_0x17a63c(0x947);}_0x39d533+='</div>';}),studentResultArea['innerHTML']=_0x39d533,renderEarnedBadges(_0x458b5d,_0x2d6c48(0x486)),studentResultArea[_0x2d6c48(0x61a)][_0x2d6c48(0x193)](_0x2d6c48(0x64a)),studentQuizArea[_0x2d6c48(0x61a)][_0x2d6c48(0x4e9)](_0x2d6c48(0x64a)),setupResultScreenBackButton({'isLooping':_0x26a7f9,'score':_0x29571c,'totalQuestions':_0x424346,'showRankings':!![]});if(window[_0x2d6c48(0x273)])window[_0x2d6c48(0x273)][_0x2d6c48(0x2f0)]([studentResultArea]);}function displayResultsScoreOnly(_0xf72d6,_0x5394a1,_0xd022c4,_0x32e376){const _0x32370e=_0x4f829b,_0x4f19a2=_0x32e376>0x0?_0xf72d6/_0x32e376*0x64:0x0,_0x300b1b=currentDisplayedQuiz[_0x32370e(0x541)]?.[_0x32370e(0x50f)]??-0x1,_0x313285=currentDisplayedQuiz[_0x32370e(0x431)]===!![];let _0x4b6a50='';if(_0x313285||_0x300b1b!==-0x1){let _0x325142=_0x313285?_0xf72d6===_0x32e376:_0xf72d6>=_0x300b1b;const _0xbc00b4=_0x325142?_0x32370e(0x6f1):_0x32370e(0x8e2),_0x4e798d=_0x325142?_0x32370e(0x58d):_0x32370e(0x5aa);_0x4b6a50=_0x32370e(0x900)+_0xbc00b4+'\x22>'+_0x4e798d+_0x32370e(0x19e);}let _0x54a317=_0x32370e(0x5eb)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0xf72d6+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x32e376+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b6a50+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x5394a1+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x4f19a2['toFixed'](0x0)+_0x32370e(0x686);studentResultArea[_0x32370e(0x848)]=_0x54a317,renderEarnedBadges(_0xd022c4,_0x32370e(0x486)),studentResultArea[_0x32370e(0x61a)]['remove']('hidden'),studentQuizArea[_0x32370e(0x61a)][_0x32370e(0x4e9)](_0x32370e(0x64a)),setupResultScreenBackButton({'score':_0xf72d6,'totalQuestions':_0x32e376,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x4faa16=_0x4f829b;let _0x12b45a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x4faa16(0x350);studentResultArea['innerHTML']=_0x12b45a,studentResultArea[_0x4faa16(0x61a)][_0x4faa16(0x193)](_0x4faa16(0x64a)),studentQuizArea[_0x4faa16(0x61a)][_0x4faa16(0x4e9)](_0x4faa16(0x64a)),document['getElementById'](_0x4faa16(0x357))[_0x4faa16(0x8ef)]('click',()=>{const _0x148c91=_0x4faa16;showView(_0x148c91(0x140)),document[_0x148c91(0x40e)]('quiz-id-input')[_0x148c91(0x2f4)]='';});}function renderEarnedBadges(_0x517524,_0x2b64ac){const _0x4366f8=_0x4f829b,_0x2952bb=document[_0x4366f8(0x40e)](_0x2b64ac);if(!_0x2952bb||!_0x517524||_0x517524[_0x4366f8(0x71e)]===0x0)return;let _0x132fdf='';_0x517524[_0x4366f8(0x840)]((_0x4c0abd,_0x3679ef)=>{const _0x42c69c=_0x4366f8,_0x3283ff=Object[_0x42c69c(0x4cc)](BADGES)['find'](_0x1a64a2=>_0x1a64a2['id']===_0x4c0abd);_0x3283ff&&(_0x132fdf+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x3679ef*0.2+_0x42c69c(0x7cd)+_0x3283ff[_0x42c69c(0x3e9)]+_0x42c69c(0x543)+_0x3283ff[_0x42c69c(0x725)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x3283ff[_0x42c69c(0x3ab)]+_0x42c69c(0x5ef));}),_0x2952bb[_0x4366f8(0x848)]=_0x132fdf;}function startPresentation(_0x27eb56){const _0x2cfe05=_0x4f829b;currentQuizData=getShuffledQuiz(_0x27eb56),currentPresentationSlide=0x0,presentationModal[_0x2cfe05(0x49c)][_0x2cfe05(0x54b)]=_0x2cfe05(0x45f),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x3e167c=_0x4f829b;document['fullscreenElement']&&document[_0x3e167c(0x3e3)](),presentationModal[_0x3e167c(0x49c)]['display']='none';}function renderPresentationSlide(_0x548780){const _0x235160=_0x4f829b,_0xc51299=document[_0x235160(0x40e)](_0x235160(0x6f0));if(!currentQuizData||!currentQuizData[_0x235160(0x75d)]||!currentQuizData[_0x235160(0x75d)][_0x548780]){_0xc51299[_0x235160(0x848)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x1e2e73=currentQuizData['questions'][_0x548780],_0x219fff=_0x1e2e73[_0x235160(0x1eb)]||currentQuizData[_0x235160(0x4a1)];_0xc51299['innerHTML']='';let _0x150606=_0x235160(0x1d4)+(_0x1e2e73[_0x235160(0x4f9)]?_0x235160(0x1c3)+_0x1e2e73[_0x235160(0x4f9)]+_0x235160(0x930):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x548780+0x1)+'.\x20'+(_0x1e2e73['stem']||_0x1e2e73['questionText'])+_0x235160(0x536);switch(_0x219fff){case _0x235160(0x402):_0x150606+=_0x1e2e73[_0x235160(0x424)]['map'](_0x3e8214=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e8214+_0x235160(0x6b6))[_0x235160(0x14b)]('');break;case'true_false':_0x150606+=_0x235160(0x1ff),_0x150606+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x235160(0x51e):case _0x235160(0x52b):_0x150606+=_0x235160(0x525);break;case _0x235160(0x8bc):case'multiple_choice':default:_0x150606+=_0x1e2e73[_0x235160(0x4b9)][_0x235160(0x670)]((_0xe44bbd,_0x880416)=>_0x235160(0x226)+_0x880416+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe44bbd+_0x235160(0x6b6))[_0x235160(0x14b)]('');break;}_0x150606+=_0x235160(0x217)+(_0x1e2e73[_0x235160(0x28c)]||_0x235160(0x4d9))+_0x235160(0x1ef),_0xc51299['innerHTML']=_0x150606;if(window[_0x235160(0x273)])window['MathJax'][_0x235160(0x2f0)]([_0xc51299]);let _0x3ab322=[];switch(_0x219fff){case _0x235160(0x402):_0x3ab322=_0x1e2e73[_0x235160(0x424)]||[];break;case _0x235160(0x421):_0x3ab322=[_0x235160(0x63b),_0x235160(0x319)];break;default:_0x3ab322=_0x1e2e73[_0x235160(0x4b9)]||[];break;}const _0x5f2ebd=document['getElementById'](_0x235160(0x60c));_0x5f2ebd&&(_0x5f2ebd[_0x235160(0x387)]=()=>{openScratchpad(_0x1e2e73,_0x3ab322);});document[_0x235160(0x18c)](_0x235160(0x744))[_0x235160(0x840)](_0x58781e=>{const _0x525eb0=_0x235160;_0x58781e[_0x525eb0(0x8ef)](_0x525eb0(0x349),_0x3a73a8=>revealAnswerForPresentation(_0x548780,_0x3a73a8[_0x525eb0(0x16b)]));});const _0x24c2df=document[_0x235160(0x40e)](_0x235160(0x5a3));_0x24c2df&&_0x24c2df[_0x235160(0x8ef)](_0x235160(0x349),()=>checkShortAnswerForPresentation(_0x548780)),document[_0x235160(0x40e)](_0x235160(0x6cb))[_0x235160(0x41f)]=_0x235160(0x971)+(_0x548780+0x1)+'\x20/\x20'+currentQuizData['questions'][_0x235160(0x71e)],document['getElementById'](_0x235160(0x7b4))['disabled']=_0x548780===0x0,document[_0x235160(0x40e)](_0x235160(0x6dd))[_0x235160(0x1e2)]=_0x548780===currentQuizData[_0x235160(0x75d)]['length']-0x1;}async function checkShortAnswerForPresentation(_0xab3314){const _0x2c2a2c=_0x4f829b,_0x1cf44c=currentQuizData['questions'][_0xab3314],_0x53bd57=document[_0x2c2a2c(0x40e)](_0x2c2a2c(0x390)),_0x2c8599=document['getElementById'](_0x2c2a2c(0x5a3)),_0x2d005b=document[_0x2c2a2c(0x40e)](_0x2c2a2c(0x89c)),_0x1a95b2=document[_0x2c2a2c(0x40e)](_0x2c2a2c(0x898));if(!_0x53bd57||!_0x2c8599||!_0x2d005b||!_0x1a95b2)return;const _0x2f4dfe=_0x53bd57[_0x2c2a2c(0x2f4)][_0x2c2a2c(0x108)]();if(_0x2f4dfe==='')return;_0x2c8599['disabled']=!![],_0x2c8599[_0x2c2a2c(0x848)]=_0x2c2a2c(0x778),_0x53bd57[_0x2c2a2c(0x1e2)]=!![];const _0x2e3979=await gradeShortAnswer(_0x2f4dfe,_0x1cf44c);_0x2e3979?_0x2d005b[_0x2c2a2c(0x848)]=_0x2c2a2c(0x5fe):_0x2d005b['innerHTML']='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x1cf44c[_0x2c2a2c(0x2dd)]+')',_0x2d005b['classList'][_0x2c2a2c(0x193)](_0x2c2a2c(0x64a)),_0x1a95b2[_0x2c2a2c(0x61a)]['remove']('hidden'),_0x2c8599[_0x2c2a2c(0x61a)]['add']('hidden');}function revealAnswerForPresentation(_0x5c8a75,_0x1070ed){const _0x30e2fa=_0x4f829b,_0x53f651=currentQuizData[_0x30e2fa(0x75d)][_0x5c8a75],_0x4b5440=_0x53f651['questionType']||currentQuizData[_0x30e2fa(0x4a1)];document[_0x30e2fa(0x18c)]('.presentation-option')[_0x30e2fa(0x840)](_0x324aaa=>{const _0x399d6e=_0x30e2fa;_0x324aaa[_0x399d6e(0x1e2)]=!![],_0x324aaa[_0x399d6e(0x61a)][_0x399d6e(0x193)]('hover:bg-indigo-100');let _0x37f258=![];if(_0x4b5440===_0x399d6e(0x7c3)||_0x4b5440===_0x399d6e(0x8bc)){const _0x1e899a=parseInt(_0x324aaa[_0x399d6e(0x850)][_0x399d6e(0x318)]);_0x37f258=_0x1e899a===_0x53f651[_0x399d6e(0x71a)];}else{if(_0x4b5440===_0x399d6e(0x421)){const _0x5ee207=_0x324aaa[_0x399d6e(0x850)][_0x399d6e(0x4e5)]===_0x399d6e(0x812);_0x37f258=_0x5ee207===_0x53f651[_0x399d6e(0x756)];}else _0x4b5440==='matching_item'&&(_0x37f258=_0x324aaa[_0x399d6e(0x41f)][_0x399d6e(0x108)]()===_0x53f651[_0x399d6e(0x2bf)]);}_0x37f258?_0x324aaa[_0x399d6e(0x61a)][_0x399d6e(0x4e9)](_0x399d6e(0x414),_0x399d6e(0x3ae),_0x399d6e(0x718)):_0x324aaa[_0x399d6e(0x61a)]['add'](_0x399d6e(0x826));}),_0x1070ed[_0x30e2fa(0x61a)][_0x30e2fa(0x193)](_0x30e2fa(0x826));let _0x142253=![];if(_0x4b5440==='multiple_choice')_0x142253=parseInt(_0x1070ed[_0x30e2fa(0x850)][_0x30e2fa(0x318)])===_0x53f651[_0x30e2fa(0x71a)];else{if(_0x4b5440===_0x30e2fa(0x421))_0x142253=_0x1070ed[_0x30e2fa(0x850)]['answer']==='true'===_0x53f651[_0x30e2fa(0x756)];else _0x4b5440===_0x30e2fa(0x402)&&(_0x142253=_0x1070ed['textContent']['trim']()===_0x53f651[_0x30e2fa(0x2bf)]);}!_0x142253&&_0x1070ed[_0x30e2fa(0x61a)]['add'](_0x30e2fa(0x2a3),_0x30e2fa(0x3ae),_0x30e2fa(0x11c)),document[_0x30e2fa(0x40e)](_0x30e2fa(0x898))[_0x30e2fa(0x61a)][_0x30e2fa(0x193)](_0x30e2fa(0x64a));}function startWholeQuizTimer(_0x20279e){const _0x479132=_0x4f829b,_0x360b84=document['getElementById']('timer-container');if(!_0x360b84)return;const _0x6ab09b=Date[_0x479132(0x142)]()+_0x20279e*0x3c*0x3e8;_0x360b84['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x39373b=document['getElementById']('countdown-display');quizTimerInterval=setInterval(()=>{const _0x333ce3=_0x479132,_0x25db37=_0x6ab09b-Date['now']();if(_0x25db37<=0x0)clearInterval(quizTimerInterval),_0x39373b[_0x333ce3(0x41f)]='00:00',showMessage(_0x333ce3(0x5ae)),handleSubmitQuiz(null);else{const _0x2951e4=Math[_0x333ce3(0x716)](_0x25db37/0x3e8/0x3c%0x3c)[_0x333ce3(0x6bb)]()['padStart'](0x2,'0'),_0x1e6c18=Math['floor'](_0x25db37/0x3e8%0x3c)[_0x333ce3(0x6bb)]()[_0x333ce3(0x4db)](0x2,'0');_0x39373b[_0x333ce3(0x41f)]=_0x2951e4+':'+_0x1e6c18;}},0x3e8);}function renderPerQuestionView(){const _0x374b4f=_0x4f829b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x9bb9e0=currentDisplayedQuiz[_0x374b4f(0x75d)][currentQuestionIndex],_0x55116d=_0x9bb9e0[_0x374b4f(0x1eb)]||currentDisplayedQuiz[_0x374b4f(0x4a1)];let _0x276289='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x374b4f(0x204)+currentDisplayedQuiz[_0x374b4f(0x75d)][_0x374b4f(0x71e)]+_0x374b4f(0x40f)+(currentMode===_0x374b4f(0x53f)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x374b4f(0x389)+currentDisplayedQuiz['topic']+_0x374b4f(0x968)+(currentQuestionIndex===currentDisplayedQuiz['questions']['length']-0x1?_0x374b4f(0x4bb):_0x374b4f(0x7cb))+_0x374b4f(0x338);studentQuizArea[_0x374b4f(0x848)]=_0x276289;let _0x55ac88='',_0x1ca466='';switch(_0x55116d){case _0x374b4f(0x402):_0x55ac88=currentQuestionIndex+0x1+'.\x20'+_0x9bb9e0['stem'],_0x1ca466=_0x374b4f(0x954)+_0x9bb9e0['allResponses'][_0x374b4f(0x670)](_0x4f00bb=>_0x374b4f(0x62f)+_0x4f00bb+'\x22>'+_0x4f00bb+_0x374b4f(0x48e))[_0x374b4f(0x14b)]('')+_0x374b4f(0x5dc);break;case _0x374b4f(0x421):_0x55ac88=currentQuestionIndex+0x1+'.\x20'+_0x9bb9e0[_0x374b4f(0x1f5)],_0x1ca466=_0x374b4f(0x7eb);break;case _0x374b4f(0x52b):case _0x374b4f(0x51e):_0x55ac88=currentQuestionIndex+0x1+'.\x20'+_0x9bb9e0['questionText'],_0x1ca466=_0x374b4f(0x626);break;case'multiple_choice':case'fill_in_with_choices':default:_0x55ac88=currentQuestionIndex+0x1+'.\x20'+_0x9bb9e0[_0x374b4f(0x1f5)],_0x1ca466=_0x9bb9e0[_0x374b4f(0x4b9)][_0x374b4f(0x670)]((_0x4b2fcd,_0x541c19)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt'+_0x541c19+_0x374b4f(0x56c)+_0x541c19+_0x374b4f(0x799)+_0x541c19+'\x22>'+_0x4b2fcd+_0x374b4f(0x1cc))[_0x374b4f(0x14b)]('');break;}_0x9bb9e0[_0x374b4f(0x4f9)]&&(_0x55ac88+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x9bb9e0[_0x374b4f(0x4f9)]+_0x374b4f(0x930));document[_0x374b4f(0x40e)](_0x374b4f(0x6ac))[_0x374b4f(0x848)]=_0x55ac88,document[_0x374b4f(0x40e)](_0x374b4f(0x43f))[_0x374b4f(0x848)]=_0x1ca466;if(currentMode==='admin-testing'){const _0xad01e2=document[_0x374b4f(0x40e)]('cancel-test-btn');if(_0xad01e2)_0xad01e2[_0x374b4f(0x8ef)](_0x374b4f(0x349),cancelAdminTest);}document[_0x374b4f(0x40e)]('next-question-timed-btn')[_0x374b4f(0x8ef)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x374b4f(0x273)])window[_0x374b4f(0x273)]['typesetPromise']([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x532093=_0x4f829b,_0x1af99d=currentDisplayedQuiz[_0x532093(0x541)][_0x532093(0x7c5)],_0x18cfea=document['getElementById'](_0x532093(0x130));if(!_0x18cfea)return;let _0x40635e=_0x1af99d;_0x18cfea[_0x532093(0x848)]=_0x532093(0x5d7)+_0x40635e+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x1b0336=document['getElementById'](_0x532093(0x2e6)),_0x5e83da=document[_0x532093(0x40e)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x5024b5=_0x532093;_0x40635e--;const _0x574448=_0x40635e/_0x1af99d*0x64;_0x1b0336[_0x5024b5(0x49c)]['width']=_0x574448+'%',_0x5e83da[_0x5024b5(0x41f)]=_0x40635e,_0x40635e<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x186a38=![]){const _0x5ddbed=_0x4f829b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x2fa20f=null;if(!_0x186a38){const _0xbdf432=currentDisplayedQuiz[_0x5ddbed(0x75d)][currentQuestionIndex],_0x2cf162=_0xbdf432[_0x5ddbed(0x1eb)]||currentDisplayedQuiz['quizType'];if(_0x2cf162==='short_answer'||_0x2cf162===_0x5ddbed(0x51e)){const _0x1d32fe=document[_0x5ddbed(0x7ac)](_0x5ddbed(0x58b));_0x2fa20f=_0x1d32fe?_0x1d32fe['value'][_0x5ddbed(0x108)]():'';}else{if(_0x2cf162===_0x5ddbed(0x402)){const _0x4b54ff=document[_0x5ddbed(0x7ac)](_0x5ddbed(0x70e));_0x2fa20f=_0x4b54ff?_0x4b54ff[_0x5ddbed(0x2f4)]:'';}else{const _0x44686b=document[_0x5ddbed(0x7ac)](_0x5ddbed(0x4a3));if(_0x44686b){const _0x47b132=_0x44686b[_0x5ddbed(0x2f4)];_0x2fa20f=!isNaN(parseInt(_0x47b132,0xa))&&_0x47b132[_0x5ddbed(0x108)]()!==''?parseInt(_0x47b132,0xa):_0x47b132;}}}}studentAnswersPerQuestion[_0x5ddbed(0x91e)](_0x2fa20f),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x5ddbed(0x71e)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x8ad708=_0x4f829b,_0x3d13f3=currentDisplayedQuiz['questions'][_0x8ad708(0x2ef)](_0x326f74=>_0x326f74['questionType']===_0x8ad708(0x52b));_0x3d13f3?showMessage(_0x8ad708(0x5e1)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x4c38e0=currentQuizData['id'],_0x289601=doc(db,_0x8ad708(0x65b)+appId+_0x8ad708(0x351)+_0x4c38e0+_0x8ad708(0x2b4),currentStudentName),_0x4c639f=await getDoc(_0x289601),_0x435a9a=_0x4c639f[_0x8ad708(0x2ca)]()?_0x4c639f[_0x8ad708(0x114)]():{},_0xdeea51=_0x435a9a[_0x8ad708(0x38f)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0xdeea51);}function getResultsFilename(){const _0x4e1d88=_0x4f829b,_0x32a8ab=document[_0x4e1d88(0x40e)](_0x4e1d88(0x8b2))[_0x4e1d88(0x41f)][_0x4e1d88(0x745)](/[^a-z0-9]/gi,'_')[_0x4e1d88(0x7bf)]();return _0x4e1d88(0x5f7)+(_0x32a8ab||'quiz');}function exportResultsAsImage(){const _0x2be0e8=_0x4f829b,_0x149435=document[_0x2be0e8(0x40e)](_0x2be0e8(0x309));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x149435)[_0x2be0e8(0x1c0)](_0xc11a9d=>{const _0x5b79a0=_0x2be0e8,_0x2916fa=document[_0x5b79a0(0x4c1)]('a');_0x2916fa[_0x5b79a0(0x3cd)]=getResultsFilename()+_0x5b79a0(0x280),_0x2916fa['href']=_0xc11a9d['toDataURL']('image/png'),_0x2916fa[_0x5b79a0(0x349)](),messageModal[_0x5b79a0(0x61a)][_0x5b79a0(0x4e9)](_0x5b79a0(0x64a));});}function exportResultsAsPDF(){const _0x4d71ee=_0x4f829b,{jsPDF:_0x24e885}=window[_0x4d71ee(0x37e)],_0x44f43a=new _0x24e885();_0x44f43a[_0x4d71ee(0x53d)](_0x4d71ee(0x71b),_0x4d71ee(0x184)),_0x44f43a[_0x4d71ee(0x66a)]({'html':_0x4d71ee(0x7fb)}),_0x44f43a[_0x4d71ee(0x27d)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x19cc91=_0x4f829b,_0x5f5abb=_0x19cc91(0xeb)+_0x19cc91(0x339)+_0x19cc91(0x3d1)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x3c6a4d=_0x19cc91(0x5ab),_0x1c1c0a=_0x5f5abb+document[_0x19cc91(0x40e)](_0x19cc91(0x309))['innerHTML']+_0x3c6a4d,_0x1f6816=_0x19cc91(0x313)+encodeURIComponent(_0x1c1c0a),_0x54feb6=document[_0x19cc91(0x4c1)]('a');document['body'][_0x19cc91(0x202)](_0x54feb6),_0x54feb6[_0x19cc91(0x256)]=_0x1f6816,_0x54feb6[_0x19cc91(0x3cd)]=getResultsFilename()+_0x19cc91(0x594),_0x54feb6[_0x19cc91(0x349)](),document['body'][_0x19cc91(0x940)](_0x54feb6);}function exportResultsAsExcel(){const _0x490903=_0x4f829b,_0x42a0d1=document[_0x490903(0x40e)](_0x490903(0x25f));let _0x1b1769=[];for(let _0x39ffbb=0x0;_0x39ffbb<_0x42a0d1[_0x490903(0x5c2)][_0x490903(0x71e)];_0x39ffbb++){let _0x5e1827=[],_0xd71de4=_0x42a0d1[_0x490903(0x5c2)][_0x39ffbb]['querySelectorAll'](_0x490903(0x196));for(let _0x239295=0x0;_0x239295<_0xd71de4[_0x490903(0x71e)];_0x239295++){_0x5e1827[_0x490903(0x91e)]('\x22'+_0xd71de4[_0x239295][_0x490903(0x3a0)][_0x490903(0x745)](/"/g,'\x22\x22')+'\x22');}_0x1b1769[_0x490903(0x91e)](_0x5e1827['join'](','));}const _0x32481c=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1b1769[_0x490903(0x14b)]('\x0a')],{'type':_0x490903(0x731)}),_0x651ba1=document['createElement']('a');_0x651ba1[_0x490903(0x256)]=URL[_0x490903(0x651)](_0x32481c),_0x651ba1[_0x490903(0x3cd)]=getResultsFilename()+_0x490903(0x4d0),_0x651ba1['click']();}function exportTableAsImage(_0x19c4b4,_0x3e0953){const _0x3ea309=_0x4f829b,_0x44933c=document[_0x3ea309(0x40e)](_0x19c4b4);if(!_0x44933c){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x3ea309(0x242)),html2canvas(_0x44933c)[_0x3ea309(0x1c0)](_0x984705=>{const _0x1d0e74=_0x3ea309,_0x4daeed=document[_0x1d0e74(0x4c1)]('a');_0x4daeed[_0x1d0e74(0x3cd)]=_0x3e0953+'.png',_0x4daeed[_0x1d0e74(0x256)]=_0x984705[_0x1d0e74(0x1cb)]('image/png'),_0x4daeed['click'](),messageModal['classList'][_0x1d0e74(0x4e9)](_0x1d0e74(0x64a));});}function exportTableAsPDF(_0x49db40,_0x554089){const _0x265baa=_0x4f829b,{jsPDF:_0x48971a}=window[_0x265baa(0x37e)],_0x5bff45=new _0x48971a();_0x5bff45[_0x265baa(0x53d)]('helvetica',_0x265baa(0x184)),_0x5bff45['autoTable']({'html':'#'+_0x49db40}),_0x5bff45['save'](_0x554089+_0x265baa(0x824));}function exportTableAsWord(_0x983e83,_0x2b666d){const _0x52e356=_0x4f829b,_0x42a6f8=document[_0x52e356(0x40e)](_0x983e83);if(!_0x42a6f8){showMessage(_0x52e356(0x88a));return;}const _0x28e083=_0x52e356(0xeb)+_0x52e356(0x339)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x28bc24=_0x52e356(0x5ab),_0x2c75e9=_0x28e083+_0x42a6f8[_0x52e356(0x848)]+_0x28bc24,_0x448fd9=_0x52e356(0x313)+encodeURIComponent(_0x2c75e9),_0x5d69a3=document[_0x52e356(0x4c1)]('a');document[_0x52e356(0x497)]['appendChild'](_0x5d69a3),_0x5d69a3['href']=_0x448fd9,_0x5d69a3[_0x52e356(0x3cd)]=_0x2b666d+_0x52e356(0x594),_0x5d69a3[_0x52e356(0x349)](),document[_0x52e356(0x497)][_0x52e356(0x940)](_0x5d69a3);}function exportTableAsExcel(_0x596515,_0x35983f){const _0x5a79d7=_0x4f829b,_0x17e54c=document[_0x5a79d7(0x40e)](_0x596515);if(!_0x17e54c){showMessage(_0x5a79d7(0x88a));return;}let _0x5600a2=[];for(let _0x196f39=0x0;_0x196f39<_0x17e54c[_0x5a79d7(0x5c2)][_0x5a79d7(0x71e)];_0x196f39++){let _0x518c03=[],_0x181f64=_0x17e54c[_0x5a79d7(0x5c2)][_0x196f39]['querySelectorAll'](_0x5a79d7(0x196));for(let _0x3ff37f=0x0;_0x3ff37f<_0x181f64['length'];_0x3ff37f++){_0x518c03[_0x5a79d7(0x91e)]('\x22'+_0x181f64[_0x3ff37f]['innerText'][_0x5a79d7(0x745)](/"/g,'\x22\x22')+'\x22');}_0x5600a2['push'](_0x518c03[_0x5a79d7(0x14b)](','));}const _0x3e65c0=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5600a2['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x2d581a=document[_0x5a79d7(0x4c1)]('a');_0x2d581a['href']=URL[_0x5a79d7(0x651)](_0x3e65c0),_0x2d581a[_0x5a79d7(0x3cd)]=_0x35983f+_0x5a79d7(0x4d0),_0x2d581a['click']();}function renderAnalytics(_0x1a2986,_0x5a260c){const _0x3e2926=_0x4f829b,_0x30ea7f=_0x5a260c[_0x3e2926(0x89b)](_0x1942d6=>_0x1942d6['latestScore']!==undefined),_0x532c2a=currentProjectData[_0x3e2926(0x2af)][_0x3e2926(0x71e)],_0x5da7e5=_0x30ea7f[_0x3e2926(0x71e)],_0x338e24=_0x532c2a-_0x5da7e5,_0x55ca2b=_0x532c2a>0x0?_0x5da7e5/_0x532c2a*0x64:0x0,_0x6d70f3=_0x30ea7f[_0x3e2926(0x670)](_0x141f50=>_0x141f50[_0x3e2926(0x3a2)]),_0x3118c0=_0x6d70f3[_0x3e2926(0x71e)]>0x0?_0x6d70f3[_0x3e2926(0x912)]((_0x26e5bc,_0x1488d1)=>_0x26e5bc+_0x1488d1,0x0)/_0x6d70f3[_0x3e2926(0x71e)]:0x0,_0x19dec7=_0x1a2986['questions'][_0x3e2926(0x71e)],_0x5a36bd=_0x19dec7>0x0?_0x3118c0/_0x19dec7*0x64:0x0,_0x5bb6c2=calculateItemAnalysis(_0x1a2986,_0x30ea7f),_0x565a77=calculateReliabilityKR20(_0x1a2986,_0x30ea7f,_0x5bb6c2[_0x3e2926(0x622)]);let _0x3fa171='';if(_0x565a77!==null){let _0x38b775='';if(_0x565a77>=0.9)_0x38b775=_0x3e2926(0x23b);else{if(_0x565a77>=0.8)_0x38b775=_0x3e2926(0x32b);else{if(_0x565a77>=0.7)_0x38b775='ดี';else{if(_0x565a77>=0.6)_0x38b775='พอใช้';else _0x38b775=_0x3e2926(0x90a);}}}_0x3fa171=_0x3e2926(0x132)+_0x565a77[_0x3e2926(0x3a8)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x38b775+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x110dd4=document['getElementById'](_0x3e2926(0x2c8));_0x110dd4[_0x3e2926(0x848)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x55ca2b[_0x3e2926(0x3a8)](0x0)+_0x3e2926(0x136)+_0x5da7e5+'/'+_0x532c2a+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x3118c0[_0x3e2926(0x3a8)](0x2)+_0x3e2926(0xfb)+_0x5a36bd[_0x3e2926(0x3a8)](0x0)+_0x3e2926(0x813)+(_0x6d70f3[_0x3e2926(0x71e)]>0x0?Math[_0x3e2926(0x67b)](..._0x6d70f3):'N/A')+_0x3e2926(0x125)+(_0x6d70f3['length']>0x0?Math[_0x3e2926(0x1c1)](..._0x6d70f3):'N/A')+_0x3e2926(0x1ac)+_0x3fa171+'\x0a\x20\x20\x20\x20';const _0x1409f4=document['getElementById'](_0x3e2926(0x6fa));_0x1409f4&&_0x1409f4[_0x3e2926(0x193)]();const _0xc9dc8a=_0x3e2926(0x874);_0x110dd4[_0x3e2926(0x3cc)](_0x3e2926(0x4be),_0xc9dc8a);const _0x3a03a9=currentProjectData[_0x3e2926(0x2af)]||[];renderSubmissionChart(_0x5da7e5,_0x338e24,_0x30ea7f,_0x3a03a9),renderScoreDistributionChart(_0x30ea7f,_0x19dec7),renderQuestionAnalytics(_0x1a2986,_0x30ea7f,_0x3a03a9),renderInterestingStats(_0x1a2986,_0x30ea7f);}async function handleExportLessonPDF(){const _0x3adee6=_0x4f829b,_0x799185=document[_0x3adee6(0x40e)](_0x3adee6(0x25a)),_0x47c354=document[_0x3adee6(0x40e)](_0x3adee6(0x961))['textContent'],_0x41bd9f=window[_0x3adee6(0x20f)]('',_0x3adee6(0x885)),_0x506d20=_0x3adee6(0x311)+_0x47c354+_0x3adee6(0x530)+_0x799185[_0x3adee6(0x848)]+_0x3adee6(0x359);_0x41bd9f[_0x3adee6(0x5a9)]['write'](_0x506d20),_0x41bd9f[_0x3adee6(0x5a9)][_0x3adee6(0x1a8)](),_0x41bd9f[_0x3adee6(0x31e)]=function(){setTimeout(()=>{_0x41bd9f['print']();},0x5dc);};}function renderInterestingStats(_0x439a04,_0x52a4c1){const _0x1cbc25=_0x4f829b,_0x2c698c=document['getElementById']('interesting-stats-container');if(!_0x2c698c)return;if(_0x52a4c1[_0x1cbc25(0x71e)]===0x0){_0x2c698c[_0x1cbc25(0x848)]=_0x1cbc25(0x397);return;}const _0x37e1a8=_0x439a04['questions'][_0x1cbc25(0x670)]((_0x23758b,_0x2522f5)=>({'index':_0x2522f5+0x1,'text':_0x23758b[_0x1cbc25(0x1f5)]||_0x23758b[_0x1cbc25(0x425)],'correct':0x0}));_0x52a4c1[_0x1cbc25(0x840)](_0x5bfad2=>{const _0x4050a9=_0x1cbc25,_0x307611=_0x5bfad2[_0x4050a9(0x38f)][_0x5bfad2[_0x4050a9(0x38f)][_0x4050a9(0x71e)]-0x1];_0x307611&&_0x307611[_0x4050a9(0x1b3)]&&_0x307611[_0x4050a9(0x1b3)]['forEach'](_0x24bf78=>{const _0x301253=_0x4050a9,_0x46f3fd=_0x37e1a8[_0x301253(0x742)](_0x14e2e2=>_0x14e2e2[_0x301253(0x6f7)]===_0x24bf78[_0x301253(0x528)]);_0x24bf78['isCorrect']&&_0x46f3fd&&_0x46f3fd[_0x301253(0x250)]++;});});const _0x12ad80=_0x52a4c1['length'],_0xd2f8d3=Math[_0x1cbc25(0x67b)](..._0x37e1a8[_0x1cbc25(0x670)](_0x2cbb0c=>_0x2cbb0c[_0x1cbc25(0x250)])),_0x88339d=Math[_0x1cbc25(0x1c1)](..._0x37e1a8[_0x1cbc25(0x670)](_0x3bef8a=>_0x3bef8a[_0x1cbc25(0x250)])),_0x28a434=_0x37e1a8[_0x1cbc25(0x89b)](_0x42eddf=>_0x42eddf[_0x1cbc25(0x250)]===_0xd2f8d3)[_0x1cbc25(0x670)](_0x5ba542=>_0x1cbc25(0x673)+_0x5ba542[_0x1cbc25(0x318)]),_0x5250b5=_0x37e1a8[_0x1cbc25(0x89b)](_0x46fee7=>_0x46fee7['correct']===_0x88339d)[_0x1cbc25(0x670)](_0x4192ab=>_0x1cbc25(0x673)+_0x4192ab[_0x1cbc25(0x318)]),_0x4f835f=_0x52a4c1[_0x1cbc25(0x831)]((_0x46723d,_0x229a57)=>_0x229a57[_0x1cbc25(0x3a2)]-_0x46723d[_0x1cbc25(0x3a2)])['filter']((_0xc83d6f,_0x1e59b4,_0x1f862c)=>_0xc83d6f[_0x1cbc25(0x3a2)]===_0x1f862c[0x0]['latestScore']),_0x4db4b8=_0x52a4c1[_0x1cbc25(0x831)]((_0x1fcd38,_0x1c14de)=>_0x1fcd38[_0x1cbc25(0x3a2)]-_0x1c14de[_0x1cbc25(0x3a2)])[_0x1cbc25(0x89b)]((_0x10b550,_0x3f4c4b,_0x35575d)=>_0x10b550[_0x1cbc25(0x3a2)]===_0x35575d[0x0][_0x1cbc25(0x3a2)]),_0x2a4d0d=_0x1cbc25(0x3ed)+_0x28a434[_0x1cbc25(0x14b)](',\x20')+_0x1cbc25(0x805)+_0xd2f8d3+'\x20/\x20'+_0x12ad80+_0x1cbc25(0x911)+_0x5250b5[_0x1cbc25(0x14b)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x12ad80-_0x88339d)+_0x1cbc25(0x255)+_0x12ad80+_0x1cbc25(0x479)+_0x4f835f['map'](_0x35c360=>_0x35c360[_0x1cbc25(0x7e3)])[_0x1cbc25(0x14b)](',\x20')+_0x1cbc25(0x753)+_0x4f835f[0x0][_0x1cbc25(0x3a2)]+_0x1cbc25(0x2bd)+_0x4db4b8[_0x1cbc25(0x670)](_0x3314c2=>_0x3314c2[_0x1cbc25(0x7e3)])[_0x1cbc25(0x14b)](',\x20')+_0x1cbc25(0x753)+_0x4db4b8[0x0][_0x1cbc25(0x3a2)]+_0x1cbc25(0x40d);_0x2c698c[_0x1cbc25(0x848)]=_0x2a4d0d;}function renderSubmissionChart(_0xc278b4,_0xb6e5b,_0x47d93b,_0x391ded){const _0x1ea1db=_0x4f829b,_0x38d412=document[_0x1ea1db(0x40e)]('submission-status-chart')[_0x1ea1db(0x821)]('2d'),_0x2f79b7=_0x47d93b[_0x1ea1db(0x670)](_0x3c8a6d=>_0x3c8a6d[_0x1ea1db(0x7e3)]),_0x58591d=_0x391ded[_0x1ea1db(0x89b)](_0x4aac84=>!_0x2f79b7[_0x1ea1db(0x789)](_0x4aac84));chartInstances[_0x1ea1db(0x7e1)]&&chartInstances['submission'][_0x1ea1db(0x233)](),chartInstances[_0x1ea1db(0x7e1)]=new Chart(_0x38d412,{'type':_0x1ea1db(0x28a),'data':{'labels':['ส่งแล้ว','ยังไม่ส่ง'],'datasets':[{'data':[_0xc278b4,_0xb6e5b],'backgroundColor':[_0x1ea1db(0x7b9),_0x1ea1db(0x93e)],'borderColor':[_0x1ea1db(0x354),_0x1ea1db(0x354)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x1ea1db(0x105)},'tooltip':{'callbacks':{'label':function(_0x3c86f9){const _0x7b3c10=_0x1ea1db;let _0x748fc8=_0x3c86f9[_0x7b3c10(0x476)]||'';return _0x748fc8&&(_0x748fc8+=':\x20'),_0x748fc8+=_0x3c86f9[_0x7b3c10(0x599)],_0x748fc8;},'afterLabel':function(_0x3adb54){const _0x105f78=_0x1ea1db;let _0x5d0bc3;return _0x3adb54[_0x105f78(0x201)]===0x0?_0x5d0bc3=_0x2f79b7:_0x5d0bc3=_0x58591d,_0x5d0bc3[_0x105f78(0x71e)]>0x0?_0x5d0bc3['join']('\x0a'):_0x105f78(0x2a0);}}}}}});}function renderScoreDistributionChart(_0x50da83,_0x25773d){const _0x58a3c2=_0x4f829b,_0x1d1b02=document[_0x58a3c2(0x40e)]('score-distribution-chart')[_0x58a3c2(0x821)]('2d'),_0x253aed={};for(let _0xca32fb=0x0;_0xca32fb<=_0x25773d;_0xca32fb++){_0x253aed[_0xca32fb]=0x0;}_0x50da83[_0x58a3c2(0x840)](_0x5c2ac8=>{const _0x257c97=_0x58a3c2;_0x253aed[_0x5c2ac8[_0x257c97(0x3a2)]]!==undefined&&_0x253aed[_0x5c2ac8[_0x257c97(0x3a2)]]++;}),chartInstances['score']&&chartInstances[_0x58a3c2(0x3e0)][_0x58a3c2(0x233)](),chartInstances['score']=new Chart(_0x1d1b02,{'type':'bar','data':{'labels':Object[_0x58a3c2(0x205)](_0x253aed),'datasets':[{'label':_0x58a3c2(0x20a),'data':Object[_0x58a3c2(0x4cc)](_0x253aed),'backgroundColor':_0x58a3c2(0x335),'borderColor':_0x58a3c2(0x385),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x58a3c2(0x739)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x184013){const _0x3e414a=_0x58a3c2,_0xb9bb05=_0x184013[_0x3e414a(0x476)],_0x4278e3=_0x50da83[_0x3e414a(0x89b)](_0x42f365=>_0x42f365[_0x3e414a(0x3a2)]==_0xb9bb05)[_0x3e414a(0x670)](_0x797ea8=>_0x797ea8['studentName']);return _0x4278e3[_0x3e414a(0x71e)]>0x0?_0x4278e3['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x475b13,_0x1588cf,_0x3ba49a){const _0x439995=_0x4f829b,_0x1d9364=document[_0x439995(0x40e)](_0x439995(0x134));if(_0x3ba49a[_0x439995(0x71e)]===0x0){_0x1d9364[_0x439995(0x848)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x282168=calculateItemAnalysis(_0x475b13,_0x1588cf),_0x52e92b=calculateDistractorAnalysis(_0x475b13,_0x1588cf);let _0x386e58='';_0x282168['overallGroups']&&(_0x386e58=_0x439995(0x527)+_0x282168[_0x439995(0x3aa)]['upperGroupNames'][_0x439995(0x71e)]+_0x439995(0x182)+_0x282168['overallGroups']['upperGroupNames'][_0x439995(0x670)](_0x41d438=>'<li>'+_0x41d438+_0x439995(0x8a3))[_0x439995(0x14b)]('')+_0x439995(0x3d3)+_0x282168[_0x439995(0x3aa)]['lowerGroupNames'][_0x439995(0x71e)]+_0x439995(0x182)+_0x282168[_0x439995(0x3aa)][_0x439995(0x3c1)]['map'](_0x572832=>'<li>'+_0x572832+_0x439995(0x8a3))['join']('')+_0x439995(0x131));let _0x563ab9='';const _0x49a518=_0x1588cf['map'](_0x6b491c=>_0x6b491c['studentName']),_0x5f15e4=_0x377564=>{const _0x4a7981=_0x439995;if(_0x377564>=0.8)return _0x4a7981(0x719);if(_0x377564>=0.6)return _0x4a7981(0x8fc);if(_0x377564>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x377564>=0.2)return _0x4a7981(0x787);return _0x4a7981(0x54d);},_0x303cb9=_0x13fe3e=>{const _0x515419=_0x439995;if(_0x13fe3e<0x0)return _0x515419(0x126);if(_0x13fe3e>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x13fe3e>=0.3)return _0x515419(0x1ca);if(_0x13fe3e>=0.2)return _0x515419(0x81c);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x35130f=_0x4551de=>{const _0x1960b9=_0x439995,_0xc1b9d2=_0x4551de[_0x1960b9(0x3a8)](0x0);if(parseFloat(_0xc1b9d2)===0x64)return _0x1960b9(0x674)+_0xc1b9d2+_0x1960b9(0x232);if(_0x4551de>=0x32)return _0x1960b9(0x782)+_0xc1b9d2+_0x1960b9(0x232);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0xc1b9d2+_0x1960b9(0x232);};_0x475b13[_0x439995(0x75d)][_0x439995(0x840)]((_0x3a4745,_0x1eb2fb)=>{const _0x170df2=_0x439995,_0x44cf95=_0x282168[_0x170df2(0x622)][_0x1eb2fb],_0x372c8d=_0x52e92b[_0x1eb2fb],_0x27c7ba=_0x3a4745['stem']||_0x3a4745[_0x170df2(0x1f5)]||_0x3a4745[_0x170df2(0x23a)];let _0x1dd27f=0x0;const _0x426a33=[],_0x7e9085=[];_0x1588cf[_0x170df2(0x840)](_0x48212d=>{const _0x5791f4=_0x170df2,_0x3dca6e=_0x48212d['attempts'][_0x48212d['attempts']['length']-0x1];if(_0x3dca6e&&_0x3dca6e[_0x5791f4(0x1b3)]){const _0x5ab055=_0x3dca6e[_0x5791f4(0x1b3)]['find'](_0x29efdd=>_0x29efdd[_0x5791f4(0x528)]===_0x27c7ba)??_0x3dca6e[_0x5791f4(0x1b3)][_0x1eb2fb]??null;_0x5ab055&&(_0x5ab055[_0x5791f4(0x550)]?(_0x1dd27f++,_0x426a33['push'](_0x48212d[_0x5791f4(0x7e3)])):_0x7e9085['push'](_0x48212d[_0x5791f4(0x7e3)]));}});const _0x52b44d=_0x1588cf['length']>0x0?_0x1dd27f/_0x1588cf[_0x170df2(0x71e)]*0x64:0x0,_0x38b21e=_0x3ba49a[_0x170df2(0x89b)](_0x36410d=>!_0x49a518[_0x170df2(0x789)](_0x36410d)),_0x1e1370=_0x44cf95?_0x170df2(0x803)+_0x44cf95['p'][_0x170df2(0x3a8)](0x2)+'</p><div>'+_0x5f15e4(_0x44cf95['p'])+_0x170df2(0x3b0)+_0x44cf95['r'][_0x170df2(0x3a8)](0x2)+_0x170df2(0x348)+_0x303cb9(_0x44cf95['r'])+_0x170df2(0x271)+_0x35130f(_0x52b44d)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x4d9034='';_0x372c8d&&(_0x4d9034=_0x170df2(0x475)+Object[_0x170df2(0x205)](_0x372c8d)[_0x170df2(0x670)](_0xcc46d6=>{const _0x51690e=_0x170df2,_0x7c5e59=_0x372c8d[_0xcc46d6],_0x4bc6a5=parseInt(_0xcc46d6)===_0x3a4745['correctAnswerIndex'],_0x2c45ad=!_0x4bc6a5&&_0x7c5e59['lower_group_count']>_0x7c5e59[_0x51690e(0x7a3)];return _0x51690e(0x926)+(_0x4bc6a5?_0x51690e(0x8aa):'')+_0x51690e(0x40b)+(_0x4bc6a5?'✔\x20':'')+_0x7c5e59['text']+_0x51690e(0x63c)+_0x7c5e59[_0x51690e(0x7a3)]+_0x51690e(0x63c)+_0x7c5e59[_0x51690e(0x11d)]+'\x20'+(_0x2c45ad?'👍':'')+_0x51690e(0x63c)+_0x7c5e59[_0x51690e(0x96a)]+_0x51690e(0x2d8);})[_0x170df2(0x14b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x53f25c='';_0x44cf95&&_0x44cf95[_0x170df2(0x79a)]&&(_0x53f25c=_0x170df2(0x901)+_0x44cf95[_0x170df2(0x79a)]['length']+_0x170df2(0x156)+_0x44cf95[_0x170df2(0x79a)][_0x170df2(0x670)](_0x3b8ebd=>'<li>'+(_0x3b8ebd[_0x170df2(0x550)]?_0x170df2(0x96e):_0x170df2(0x7b8))+'\x20'+_0x3b8ebd[_0x170df2(0x3ab)]+_0x170df2(0x8a3))[_0x170df2(0x14b)]('')+_0x170df2(0x559)+_0x44cf95[_0x170df2(0x17c)][_0x170df2(0x71e)]+_0x170df2(0x156)+_0x44cf95['lowerGroupResponders']['map'](_0x521000=>_0x170df2(0x6c4)+(_0x521000[_0x170df2(0x550)]?_0x170df2(0x96e):_0x170df2(0x7b8))+'\x20'+_0x521000[_0x170df2(0x3ab)]+'</li>')[_0x170df2(0x14b)]('')+_0x170df2(0x394)),_0x563ab9+=_0x170df2(0x24a)+(_0x1eb2fb+0x1)+':\x20'+_0x27c7ba+_0x170df2(0x6d7)+_0x1e1370+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x27c7ba+_0x170df2(0x7be)+_0x1dd27f+'\x20จาก\x20'+_0x1588cf['length']+_0x170df2(0x83f)+_0x52b44d[_0x170df2(0x3a8)](0x0)+_0x170df2(0x77f)+_0x426a33['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x426a33['length']>0x0?_0x426a33[_0x170df2(0x14b)](',\x20'):_0x170df2(0x2a0))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x7e9085[_0x170df2(0x71e)]+_0x170df2(0x8b3)+(_0x7e9085[_0x170df2(0x71e)]>0x0?_0x7e9085[_0x170df2(0x14b)](',\x20'):_0x170df2(0x2a0))+_0x170df2(0x873)+_0x38b21e[_0x170df2(0x71e)]+_0x170df2(0x8b3)+(_0x38b21e[_0x170df2(0x71e)]>0x0?_0x38b21e[_0x170df2(0x14b)](',\x20'):_0x170df2(0x2a0))+_0x170df2(0x63e)+_0x4d9034+_0x170df2(0x448)+_0x53f25c+_0x170df2(0x36b);}),_0x1d9364['innerHTML']=_0x386e58+_0x563ab9;try{window['MathJax']&&MathJax[_0x439995(0x2f0)]&&MathJax[_0x439995(0x2f0)]([_0x1d9364]);}catch(_0x5af4f4){console[_0x439995(0x713)](_0x439995(0x6c3),_0x5af4f4);}}function calculateDistractorAnalysis(_0xc0372e,_0xd761c9){const _0x2a17ce=_0x4f829b,_0x24b1e6={};if(_0xd761c9['length']<0x2)return _0x24b1e6;const _0x5b9642=[..._0xd761c9][_0x2a17ce(0x831)]((_0x308b1f,_0x3e18b8)=>{const _0x496188=_0x2a17ce,_0x5dd7c0=_0x3e18b8['latestScore']-_0x308b1f[_0x496188(0x3a2)];if(_0x5dd7c0!==0x0)return _0x5dd7c0;const _0x4f6a21=_0x308b1f[_0x496188(0x38f)]?.[_0x496188(0x71e)]||0x1,_0x471161=_0x3e18b8[_0x496188(0x38f)]?.[_0x496188(0x71e)]||0x1,_0x19f59f=_0x4f6a21-_0x471161;if(_0x19f59f!==0x0)return _0x19f59f;const _0x514e8e=new Date(_0x308b1f[_0x496188(0x808)]),_0x2df7b9=new Date(_0x3e18b8[_0x496188(0x808)]),_0x3784e2=_0x514e8e-_0x2df7b9;if(_0x3784e2!==0x0)return _0x3784e2;return _0x308b1f[_0x496188(0x7e3)][_0x496188(0x5b9)](_0x3e18b8['studentName'],'th');}),_0x136c6d=_0x5b9642[_0x2a17ce(0x71e)],_0x295520=Math['max'](0x1,Math['floor'](_0x136c6d*0.33)),_0x5683df=_0x5b9642[_0x2a17ce(0x12a)](0x0,_0x295520),_0xcfc0e7=_0x5b9642[_0x2a17ce(0x12a)](-_0x295520);return _0xc0372e[_0x2a17ce(0x75d)]['forEach']((_0x39bce1,_0x475774)=>{const _0x53682a=_0x2a17ce;if(_0x39bce1[_0x53682a(0x1eb)]!==_0x53682a(0x7c3)||!_0x39bce1['options'])return;const _0x50b003=_0x39bce1[_0x53682a(0x1f5)],_0x393b9c={};_0x39bce1['options'][_0x53682a(0x840)]((_0x4ec3c8,_0x6bcdf3)=>{_0x393b9c[_0x6bcdf3]={'text':_0x4ec3c8,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x5b9642[_0x53682a(0x840)](_0x30de73=>{const _0x2c6f80=_0x53682a,_0x31caf3=_0x30de73[_0x2c6f80(0x38f)][_0x30de73['attempts'][_0x2c6f80(0x71e)]-0x1],_0x481449=_0x31caf3[_0x2c6f80(0x1b3)][_0x2c6f80(0x742)](_0x33baa9=>_0x33baa9[_0x2c6f80(0x528)]===_0x50b003);if(_0x481449&&_0x481449['answer']!==null){const _0x412df5=_0x39bce1[_0x2c6f80(0x4b9)][_0x2c6f80(0x1fd)](_0x12bea2=>_0x12bea2===_0x481449['answerText']);_0x412df5!==-0x1&&_0x393b9c[_0x412df5]&&(_0x393b9c[_0x412df5]['total']++,_0x5683df['includes'](_0x30de73)&&_0x393b9c[_0x412df5][_0x2c6f80(0x7a3)]++,_0xcfc0e7[_0x2c6f80(0x789)](_0x30de73)&&_0x393b9c[_0x412df5][_0x2c6f80(0x11d)]++);}}),_0x24b1e6[_0x475774]=_0x393b9c;}),_0x24b1e6;}function calculateReliabilityKR20(_0x27d690,_0x3d9b04,_0x44ea05){const _0x3bf8ea=_0x4f829b,_0x3713c6=_0x27d690[_0x3bf8ea(0x75d)]['length'];if(_0x3713c6<0x2||_0x3d9b04['length']<0x2)return null;const _0x1a746d=_0x3d9b04[_0x3bf8ea(0x670)](_0x3d6af0=>_0x3d6af0['latestScore']),_0xfd54=_0x1a746d[_0x3bf8ea(0x912)]((_0x465ca5,_0x4f11da)=>_0x465ca5+_0x4f11da,0x0)/_0x1a746d['length'],_0x291dea=_0x1a746d['map'](_0x4cc0d5=>Math[_0x3bf8ea(0x322)](_0x4cc0d5-_0xfd54,0x2))[_0x3bf8ea(0x912)]((_0x57ae95,_0x558610)=>_0x57ae95+_0x558610,0x0)/_0x1a746d['length'];if(_0x291dea===0x0)return null;let _0x45eec1=0x0;for(let _0x476e7c=0x0;_0x476e7c<_0x3713c6;_0x476e7c++){const _0x335579=_0x44ea05[_0x476e7c]?.['p'];if(_0x335579===undefined)continue;const _0x470bd6=0x1-_0x335579;_0x45eec1+=_0x335579*_0x470bd6;}if(_0x45eec1===0x0)return null;const _0x387916=_0x3713c6/(_0x3713c6-0x1)*(0x1-_0x45eec1/_0x291dea);if(_0x387916>0x1)return null;return _0x387916;}async function handleAnalyzeClass(){const _0x9adfad=_0x4f829b;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x9adfad(0x72e));return;}const _0x2e99cc=collection(db,_0x9adfad(0x65b)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x9adfad(0x2b4)),_0x74bea2=await getDocs(_0x2e99cc),_0x42d14e=_0x74bea2[_0x9adfad(0x1f1)]['map'](_0x3e3551=>_0x3e3551['data']());if(_0x42d14e[_0x9adfad(0x71e)]<0x2){showMessage(_0x9adfad(0x3b6));return;}const _0x37c6de=document[_0x9adfad(0x40e)]('strength-weakness-analysis-container');_0x37c6de[_0x9adfad(0x848)]=_0x9adfad(0x92a),document['getElementById'](_0x9adfad(0x27f))[_0x9adfad(0x1e2)]=!![];const _0x1b4f00=_0x42d14e[_0x9adfad(0x670)]((_0x19fe0f,_0x3b3b12)=>{const _0x7904d1=_0x9adfad,_0x5b60a4=_0x19fe0f[_0x7904d1(0x38f)][_0x19fe0f[_0x7904d1(0x38f)][_0x7904d1(0x71e)]-0x1];if(!_0x5b60a4)return'';return _0x7904d1(0x167)+(_0x3b3b12+0x1)+'\x20('+_0x19fe0f[_0x7904d1(0x7e3)]+_0x7904d1(0x88e)+_0x5b60a4[_0x7904d1(0x3e0)]+'/'+_0x19fe0f['totalQuestions']+_0x7904d1(0x4a5)+JSON['stringify'](_0x5b60a4[_0x7904d1(0x1b3)])+_0x7904d1(0x2cd);})[_0x9adfad(0x14b)](_0x9adfad(0x51c)),_0x59b2d9=_0x9adfad(0x5ca)+currentQuizData[_0x9adfad(0x7e9)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x9adfad(0x461)](currentQuizData['questions'])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b4f00+_0x9adfad(0x963),_0x286ff8={'type':_0x9adfad(0x5dd),'properties':{'classStrengths':{'type':_0x9adfad(0x5f3),'items':{'type':_0x9adfad(0x44e)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x9adfad(0x44e)}},'teacherSuggestions':{'type':_0x9adfad(0x5f3),'items':{'type':_0x9adfad(0x44e)}}},'required':[_0x9adfad(0x7fd),_0x9adfad(0x7b2),_0x9adfad(0x757)]};try{const _0x302185=await callAnalysisApi(_0x59b2d9,_0x286ff8);displayClassAnalysis(_0x302185);}catch(_0x2e6db5){console[_0x9adfad(0x713)](_0x9adfad(0x7ab),_0x2e6db5),_0x37c6de[_0x9adfad(0x848)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x2e6db5[_0x9adfad(0x1ce)]+_0x9adfad(0x2c2);}finally{document[_0x9adfad(0x40e)](_0x9adfad(0x27f))[_0x9adfad(0x1e2)]=![];}}function displayClassAnalysis(_0x43b07e){const _0x2ac983=_0x4f829b,_0x43a13e=document[_0x2ac983(0x40e)](_0x2ac983(0x520));if(!_0x43b07e){_0x43a13e[_0x2ac983(0x848)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x43a13e[_0x2ac983(0x848)]=_0x2ac983(0x796)+_0x43b07e[_0x2ac983(0x7fd)]['map'](_0x165a95=>_0x2ac983(0x6c4)+_0x165a95+'</li>')['join']('')+_0x2ac983(0x5fd)+_0x43b07e[_0x2ac983(0x7b2)][_0x2ac983(0x670)](_0x28114e=>_0x2ac983(0x6c4)+_0x28114e+_0x2ac983(0x8a3))[_0x2ac983(0x14b)]('')+_0x2ac983(0x362)+_0x43b07e['teacherSuggestions'][_0x2ac983(0x670)](_0x1adf64=>_0x2ac983(0x6c4)+_0x1adf64+_0x2ac983(0x8a3))['join']('')+_0x2ac983(0x918);}function formatAndPrintWorksheet(_0x4eb052,_0x3772d5){const _0x3402f6=_0x4f829b,_0xf99030='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x4eb052[_0x3402f6(0x7e9)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x4eb052[_0x3402f6(0x7e9)]+_0x3402f6(0x76d)+_0x4eb052[_0x3402f6(0x75d)][_0x3402f6(0x670)]((_0x162311,_0x1dc20d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x1dc20d+0x1)+'.\x20'+_0x162311[_0x3402f6(0x1f5)]+_0x3402f6(0x8c4)+(_0x162311[_0x3402f6(0x4f9)]?_0x3402f6(0x367)+_0x162311[_0x3402f6(0x4f9)]+_0x3402f6(0x930):'')+_0x3402f6(0x862))[_0x3402f6(0x14b)]('')+_0x3402f6(0x49a);_0x3772d5['document'][_0x3402f6(0x6dc)](_0xf99030),_0x3772d5[_0x3402f6(0x5a9)]['close'](),_0x3772d5['onload']=function(){setTimeout(()=>{const _0x4568dd=_0x9ccb;_0x3772d5[_0x4568dd(0x7ad)]();},0x3e8);};}async function generateWorksheet(){const _0x34b5e9=_0x4f829b,_0x38d809=document[_0x34b5e9(0x40e)]('worksheet-topic-input')['value'][_0x34b5e9(0x108)]();if(!_0x38d809){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x56c7ee=document[_0x34b5e9(0x40e)](_0x34b5e9(0x443))[_0x34b5e9(0x137)],_0x5cdfa1=_0x56c7ee?'':_0x34b5e9(0x452),_0x511422=window[_0x34b5e9(0x20f)]('','_blank');_0x511422[_0x34b5e9(0x5a9)][_0x34b5e9(0x6dc)]('<h1></h1>');const _0x514f6a=parseInt(document[_0x34b5e9(0x40e)](_0x34b5e9(0x5d0))[_0x34b5e9(0x2f4)]),_0x23ee98=document['getElementById']('include-images-checkbox')[_0x34b5e9(0x137)],_0x236ea9=_0x23ee98?_0x34b5e9(0x215):'',_0x289e5b=_0x34b5e9(0x909)+_0x5cdfa1+_0x34b5e9(0x652)+_0x514f6a+_0x34b5e9(0x4f6)+_0x38d809+_0x34b5e9(0x37d)+_0x236ea9+_0x34b5e9(0x80a)+simpleMathPrompt+_0x34b5e9(0x5d6),_0x464e69={'type':_0x34b5e9(0x5dd),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionText':{'type':_0x34b5e9(0x44e)},'imageCode':{'type':'STRING'}},'required':['questionText']}}},'required':[_0x34b5e9(0x7e9),_0x34b5e9(0x75d)]};document[_0x34b5e9(0x40e)]('loader-text')[_0x34b5e9(0x41f)]='',document['getElementById'](_0x34b5e9(0x62e))[_0x34b5e9(0x61a)]['remove'](_0x34b5e9(0x64a)),document['getElementById']('quiz-generation-area')[_0x34b5e9(0x61a)]['remove'](_0x34b5e9(0x64a)),generateWorksheetBtn['disabled']=!![];try{const _0x4319bc=await callAnalysisApi(_0x289e5b,_0x464e69);formatAndPrintWorksheet(_0x4319bc,_0x511422);}catch(_0x55c225){console[_0x34b5e9(0x713)](_0x34b5e9(0x30c),_0x55c225);if(_0x511422)_0x511422['close']();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document['getElementById'](_0x34b5e9(0x62e))[_0x34b5e9(0x61a)][_0x34b5e9(0x4e9)](_0x34b5e9(0x64a)),document[_0x34b5e9(0x40e)](_0x34b5e9(0x2e2))[_0x34b5e9(0x61a)][_0x34b5e9(0x4e9)]('hidden'),generateWorksheetBtn[_0x34b5e9(0x1e2)]=![];}}async function callAnalysisApi(_0x20e093,_0x21f5d9){const _0x2731a6=_0x4f829b,_0x5e1bd4={'contents':[{'role':_0x2731a6(0x64b),'parts':[{'text':_0x20e093}]}],'generationConfig':{'responseMimeType':_0x2731a6(0xf6),'responseSchema':_0x21f5d9}},_0x75fa8f=_0x2731a6(0x29d),_0x4650cd=_0x2731a6(0x1e3)+_0x75fa8f,_0x1efd29=await fetch(_0x4650cd,{'method':_0x2731a6(0x44c),'headers':{'Content-Type':_0x2731a6(0xf6)},'body':JSON[_0x2731a6(0x461)](_0x5e1bd4)});if(!_0x1efd29['ok'])throw new Error(_0x2731a6(0x3c7)+_0x1efd29[_0x2731a6(0x29a)]);const _0x1aa12a=await _0x1efd29[_0x2731a6(0x685)]();if(_0x1aa12a[_0x2731a6(0x966)]?.[0x0]?.[_0x2731a6(0x39a)]?.[_0x2731a6(0x2a7)]?.[0x0])return JSON['parse'](_0x1aa12a[_0x2731a6(0x966)][0x0][_0x2731a6(0x39a)][_0x2731a6(0x2a7)][0x0][_0x2731a6(0x6f7)]);else{let _0xab54af=_0x2731a6(0x21d);if(_0x1aa12a[_0x2731a6(0x7e0)]?.['blockReason'])_0xab54af='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x1aa12a['promptFeedback'][_0x2731a6(0x42a)]+'.';else _0x1aa12a[_0x2731a6(0x966)]?.[0x0]?.[_0x2731a6(0x2f6)]&&_0x1aa12a[_0x2731a6(0x966)][0x0][_0x2731a6(0x2f6)]!=='STOP'&&(_0xab54af=_0x2731a6(0x8ab)+_0x1aa12a[_0x2731a6(0x966)][0x0][_0x2731a6(0x2f6)]+'.');console[_0x2731a6(0x713)](_0xab54af,JSON[_0x2731a6(0x461)](_0x1aa12a));throw new Error(_0xab54af);}}initialize();
