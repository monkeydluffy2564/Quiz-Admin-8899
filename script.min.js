const _0x57253e=_0x4216;(function(_0x975cb9,_0x24f003){const _0x4c1ee7=_0x4216,_0x1111bc=_0x975cb9();while(!![]){try{const _0x576e1b=parseInt(_0x4c1ee7(0x48a))/0x1+parseInt(_0x4c1ee7(0x347))/0x2*(parseInt(_0x4c1ee7(0x55e))/0x3)+-parseInt(_0x4c1ee7(0xbcf))/0x4+-parseInt(_0x4c1ee7(0xc2c))/0x5+-parseInt(_0x4c1ee7(0x3cc))/0x6+-parseInt(_0x4c1ee7(0x431))/0x7+-parseInt(_0x4c1ee7(0x6e5))/0x8*(-parseInt(_0x4c1ee7(0x7a4))/0x9);if(_0x576e1b===_0x24f003)break;else _0x1111bc['push'](_0x1111bc['shift']());}catch(_0x4c6acd){_0x1111bc['push'](_0x1111bc['shift']());}}}(_0x3ffa,0x79de8));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x57253e(0x52b),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x57253e(0x52b),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x57253e(0x52b),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x31c5b8=_0x57253e;if(_0x31c5b8(0x652)in navigator)try{wakeLock=await navigator[_0x31c5b8(0x652)][_0x31c5b8(0x7a9)](_0x31c5b8(0xb9f)),console[_0x31c5b8(0x496)](_0x31c5b8(0x56e)),wakeLock[_0x31c5b8(0x161)](_0x31c5b8(0x3f9),()=>{const _0x43a04a=_0x31c5b8;console[_0x43a04a(0x496)](_0x43a04a(0xae6));});}catch(_0xec6927){console['error'](_0x31c5b8(0x7a1)+_0xec6927[_0x31c5b8(0x309)]+',\x20'+_0xec6927['message']);}else console['warn'](_0x31c5b8(0x8e2));},releaseWakeLock=async()=>{const _0x3594df=_0x57253e;wakeLock!==null&&(await wakeLock[_0x3594df(0x3f9)](),wakeLock=null,console[_0x3594df(0x496)](_0x3594df(0x226)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x184fd1=_0x57253e;if(!document['body'][_0x184fd1(0x7f0)][_0x184fd1(0x1ef)]('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x1650a3=_0x184fd1;document[_0x1650a3(0x93c)][_0x1650a3(0x7f0)][_0x1650a3(0x6e3)](_0x1650a3(0x5ca)),console[_0x1650a3(0x496)](_0x1650a3(0x21a));},inactivityTime);}}function wakeUpScreen(_0x5220a3){const _0x34341e=_0x57253e;_0x5220a3&&(_0x5220a3[_0x34341e(0x5a7)](),_0x5220a3['preventDefault']());document['body'][_0x34341e(0x7f0)][_0x34341e(0x4bd)](_0x34341e(0x5ca));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x588126=_0x34341e;document[_0x588126(0x93c)][_0x588126(0x7f0)][_0x588126(0x6e3)](_0x588126(0x5ca));},inactivityTime);}function stopDimTimer(){const _0x5cc45c=_0x57253e;if(dimTimer)clearTimeout(dimTimer);document[_0x5cc45c(0x93c)][_0x5cc45c(0x7f0)][_0x5cc45c(0x4bd)](_0x5cc45c(0x5ca)),window['removeEventListener']('mousemove',resetDimTimer),window[_0x5cc45c(0x713)]('mousedown',resetDimTimer),window[_0x5cc45c(0x713)](_0x5cc45c(0x3c6),resetDimTimer),window['removeEventListener'](_0x5cc45c(0x4b7),resetDimTimer),console['log'](_0x5cc45c(0x8a4));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x51e7a3,_0x41956a=![]){const _0x2b18bf=_0x57253e,_0xc8a60a=allQuizzes[_0x2b18bf(0x1bc)](_0xff0a2=>_0xff0a2['id']===_0x51e7a3)||allQuizzesGlobal[_0x2b18bf(0x1bc)](_0x5b899d=>_0x5b899d['id']===_0x51e7a3);if(!_0xc8a60a){showMessage(_0x2b18bf(0x64c));return;}currentQuizData=getShuffledQuiz(_0xc8a60a);const _0x49526c=Math[_0x2b18bf(0x7b6)](0x3e8+Math[_0x2b18bf(0x373)]()*0x2328)[_0x2b18bf(0x2bf)]();try{const _0x42f5f9=await addDoc(collection(db,'artifacts/'+appId+_0x2b18bf(0xbd3)),{'quizId':_0xc8a60a['id'],'projectId':_0xc8a60a[_0x2b18bf(0x9f2)],'status':_0x2b18bf(0x537),'pin':_0x49526c,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x41956a});currentTeamQuizId=_0x42f5f9['id'],showView(_0x2b18bf(0x898)),renderAdminTeamQuizDashboard(_0x49526c,_0xc8a60a[_0x2b18bf(0xc41)]),listenForTeamQuizUpdates();}catch(_0xb58b26){console[_0x2b18bf(0x20d)]('Error\x20starting\x20team\x20quiz:',_0xb58b26),showMessage(_0x2b18bf(0x68d));}}function renderAdminTeamQuizDashboard(_0x640131,_0x284de5,_0x27bab5=_0x57253e(0x6b8)){const _0x3e7c59=_0x57253e,_0x26c974=_0x27bab5===_0x3e7c59(0x965)?_0x3e7c59(0xbc1):_0x3e7c59(0x5b8);liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x26c974+':\x20'+_0x284de5+_0x3e7c59(0x605)+_0x640131+_0x3e7c59(0x795),document[_0x3e7c59(0x597)](_0x3e7c59(0x615))[_0x3e7c59(0x161)](_0x3e7c59(0x82f),async()=>{const _0x1a2419=_0x3e7c59;showConfirmation(_0x1a2419(0x89e),async()=>{const _0x1eed7f=_0x1a2419;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x1eed7f(0xc07)+appId+_0x1eed7f(0xbd3),currentTeamQuizId)),showView(_0x1eed7f(0xb96));});});}function listenForTeamQuizUpdates(){const _0x981ffc=_0x57253e;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x495115=doc(db,_0x981ffc(0xc07)+appId+_0x981ffc(0xbd3),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x495115,_0x5cfaba=>{const _0x2ab64a=_0x981ffc;if(!_0x5cfaba[_0x2ab64a(0xabe)]()){sessionStorage[_0x2ab64a(0x7dd)](_0x2ab64a(0x503));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x2ab64a(0xa4b)?showView('project-detail'):showView('student');return;}const _0x3695e3=_0x5cfaba['data']();if(currentMode===_0x2ab64a(0xa4b)){if(_0x3695e3[_0x2ab64a(0x1f7)]===_0x2ab64a(0x965)&&_0x3695e3[_0x2ab64a(0x9e6)]!==_0x2ab64a(0xb52)&&_0x3695e3[_0x2ab64a(0x9e6)]!==_0x2ab64a(0xa8e)){const _0x209cd1=Object[_0x2ab64a(0x9d8)](_0x3695e3[_0x2ab64a(0x4ce)]||{});if(_0x209cd1[_0x2ab64a(0x711)]>0x0){const _0x4b5f6b=_0x209cd1[_0x2ab64a(0xb11)](_0x4e2b70=>_0x4e2b70['isFinished']===!![]);_0x4b5f6b&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x3695e3);}else{if(_0x3695e3[_0x2ab64a(0x9e6)]===_0x2ab64a(0xb52)||_0x3695e3['status']===_0x2ab64a(0xa8e)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x3695e3['mode']==='group'){const _0x57e866=_0x3695e3[_0x2ab64a(0x4ce)][userId];(!_0x57e866||!_0x57e866[_0x2ab64a(0x517)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x223542){const _0x41fd4d=_0x57253e;console[_0x41fd4d(0x496)](_0x41fd4d(0x7cd));const _0x3d5f4b=doc(db,_0x41fd4d(0xc07)+appId+'/public/data/teamQuizzes',_0x223542);try{const _0x4fc002=await getDoc(_0x3d5f4b);if(_0x4fc002['exists']()){const _0x398dbe=_0x4fc002[_0x41fd4d(0x533)]();_0x398dbe[_0x41fd4d(0x89c)]&&await saveGameResultsAsSubmissions(_0x398dbe);}await updateDoc(_0x3d5f4b,{'status':_0x41fd4d(0xb52)});}catch(_0x307986){console[_0x41fd4d(0x20d)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x307986);}}function updateAdminTeamDashboard(_0x235f26){const _0x2cd8b9=_0x57253e,_0x57e26c=document[_0x2cd8b9(0x597)](_0x2cd8b9(0x5c2));if(!_0x57e26c)return;const _0x2293b7=_0x235f26[_0x2cd8b9(0x1f7)]||_0x2cd8b9(0x6b8),_0x4e6dbe=currentQuizData[_0x2cd8b9(0x962)][_0x2cd8b9(0x711)];if(_0x2293b7==='group'){const _0x5c642d=Object['values'](_0x235f26[_0x2cd8b9(0x4ce)]||{});if(_0x5c642d[_0x2cd8b9(0x711)]===0x0){_0x57e26c[_0x2cd8b9(0x2fe)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x3c2e6a=[..._0x5c642d][_0x2cd8b9(0x2d6)]((_0x24c1b3,_0x16c3d5)=>_0x16c3d5[_0x2cd8b9(0x1ed)]-_0x24c1b3[_0x2cd8b9(0x1ed)]),_0x46d68b=_0x3c2e6a['map']((_0x46a283,_0x8377b5)=>{const _0x29bfd1=_0x2cd8b9,_0xf8c898=_0x46a283[_0x29bfd1(0x5a2)]?.[_0x29bfd1(0x711)]||0x0;return _0x29bfd1(0xb60)+(_0x8377b5+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x46a283[_0x29bfd1(0x662)][_0x29bfd1(0x552)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0xf8c898+'/'+_0x4e6dbe+_0x29bfd1(0x8e4)+_0x46a283[_0x29bfd1(0x1ed)]+_0x29bfd1(0x879);})[_0x2cd8b9(0x552)](''),_0xb39160=currentQuizData[_0x2cd8b9(0x962)]['map']((_0x4e58d5,_0x3a19c8)=>{const _0x2d70da=_0x2cd8b9;let _0x4147cd=0x0,_0x5bf64c=0x0;_0x5c642d[_0x2d70da(0xb68)](_0x2e6482=>{const _0x4b6f5b=_0x2d70da,_0x42e7b6=_0x2e6482[_0x4b6f5b(0x5a2)]?.[_0x4b6f5b(0x1bc)](_0x59941b=>_0x59941b['questionIndex']===_0x3a19c8);if(_0x42e7b6){_0x5bf64c++;if(_0x42e7b6[_0x4b6f5b(0x1e3)])_0x4147cd++;}});const _0x13b5d2=_0x5bf64c>0x0&&_0x5bf64c===_0x5c642d[_0x2d70da(0x711)],_0x99c9bc=_0x13b5d2?_0x2d70da(0xc56):_0x2d70da(0x425),_0x643512=_0x13b5d2?_0x2d70da(0x87a):'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x99c9bc+_0x2d70da(0x39a)+(_0x3a19c8+0x1)+_0x2d70da(0x9e1)+_0x643512+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x4147cd+'/'+_0x5c642d['length']+_0x2d70da(0xaf3);})['join']('');_0x57e26c['innerHTML']=_0x2cd8b9(0x66b)+_0x46d68b+_0x2cd8b9(0xad1)+_0xb39160+'</div></div></div>';return;}const _0x55dfc5=_0x235f26[_0x2cd8b9(0x715)]||{},_0x5c72ab=Object[_0x2cd8b9(0x88e)](_0x55dfc5);if(_0x5c72ab[_0x2cd8b9(0x711)]===0x0){_0x57e26c[_0x2cd8b9(0x2fe)]=_0x2cd8b9(0xa18);return;}const _0x22294b=_0x5c72ab['map'](_0x2a3390=>({'name':_0x2a3390,'score':_0x55dfc5[_0x2a3390][_0x2cd8b9(0x1ed)]||0x0}))[_0x2cd8b9(0x2d6)]((_0x2823de,_0x5e045e)=>_0x5e045e[_0x2cd8b9(0x1ed)]-_0x2823de[_0x2cd8b9(0x1ed)]),_0x1d4e14=_0x22294b[_0x2cd8b9(0x9ca)](_0x373eef=>{const _0x4b40c8=_0x2cd8b9,_0x5960a2=_0x55dfc5[_0x373eef[_0x4b40c8(0x309)]]?.[_0x4b40c8(0x5a2)]?.['length']||0x0,_0x547c70=Math['ceil'](_0x4e6dbe/_0x5c72ab[_0x4b40c8(0x711)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x373eef['name']+_0x4b40c8(0xae1)+_0x5960a2+'/'+_0x547c70+'\x20ตา)</span></span><span\x20class=\x22font-bold\x22>'+_0x373eef['score']+_0x4b40c8(0xbfb);})[_0x2cd8b9(0x552)](''),_0x57b508=_0x5c72ab[_0x2cd8b9(0xb0f)]((_0x2ec63a,_0xce94b7)=>_0x2ec63a+(_0x55dfc5[_0xce94b7][_0x2cd8b9(0x5a2)]?.['length']||0x0),0x0),_0x568bbf=currentQuizData['questions'][_0x2cd8b9(0x9ca)]((_0x3bc42b,_0x3bbf87)=>{const _0x50ef11=_0x2cd8b9;let _0x480104=null,_0x39e54d=null;for(const _0x148020 of _0x5c72ab){const _0x428d9d=_0x55dfc5[_0x148020]['answers']?.[_0x50ef11(0x1bc)](_0x5ac962=>_0x5ac962[_0x50ef11(0x954)]===_0x3bbf87);if(_0x428d9d){_0x480104=_0x428d9d,_0x39e54d=_0x148020;break;}}const _0x1a0462=!!_0x480104,_0x483cba=_0x1a0462&&_0x480104['isCorrect'],_0x58e100=(Math[_0x50ef11(0x7b6)](_0x3bbf87/_0x5c72ab[_0x50ef11(0x711)])+0x1)*_0x5c72ab[_0x50ef11(0x711)],_0x2af32a=_0x57b508>=_0x58e100,_0xd69bdb=_0x2af32a?_0x50ef11(0xba8):_0x50ef11(0x425),_0x110226=_0x2af32a?_0x50ef11(0x87a):'';let _0x6db078='รอ...';return _0x1a0462&&(_0x6db078=_0x39e54d+_0x50ef11(0x761)+(_0x483cba?_0x50ef11(0x8e0):_0x50ef11(0xa9e))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0xd69bdb+_0x50ef11(0x39a)+(_0x3bbf87+0x1)+_0x50ef11(0x9e1)+_0x110226+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x6db078+'</p></div>';})['join']('');_0x57e26c[_0x2cd8b9(0x2fe)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x1d4e14+_0x2cd8b9(0x5ef)+_0x568bbf+_0x2cd8b9(0x72d);}async function handleJoinTeamQuiz(){const _0x1fdf15=_0x57253e,_0x3bf835=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x3bf835||_0x3bf835[_0x1fdf15(0x365)]()['length']!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x24c89d=collection(db,_0x1fdf15(0xc07)+appId+_0x1fdf15(0xbd3)),_0x52e46b=query(_0x24c89d,where(_0x1fdf15(0x198),'==',_0x3bf835[_0x1fdf15(0x365)]()),where(_0x1fdf15(0x9e6),'==',_0x1fdf15(0x537))),_0x117321=await getDocs(_0x52e46b);if(_0x117321[_0x1fdf15(0x30b)]){showMessage(_0x1fdf15(0x2a4));return;}const _0x240dae=_0x117321['docs'][0x0];currentTeamQuizId=_0x240dae['id'];const _0x1f56f9=_0x240dae['data'](),_0x4a0f32=doc(db,'artifacts/'+appId+_0x1fdf15(0x81e),_0x1f56f9['projectId']),_0x1047f6=doc(db,_0x1fdf15(0xc07)+appId+'/public/data/quizzes',_0x1f56f9['quizId']),[_0x2ab5fb,_0x34598a]=await Promise['all']([getDoc(_0x4a0f32),getDoc(_0x1047f6)]);if(!_0x2ab5fb[_0x1fdf15(0xabe)]()||!_0x34598a[_0x1fdf15(0xabe)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x34598a['id'],..._0x34598a[_0x1fdf15(0x533)]()});const _0x4e8d0e=_0x2ab5fb[_0x1fdf15(0x533)]();showTeamPlayerSelection(_0x4e8d0e['students'],currentQuizData[_0x1fdf15(0xc41)]);}catch(_0x1ac5f9){console['error'](_0x1fdf15(0x977),_0x1ac5f9),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1ac5f9[_0x1fdf15(0x5f2)]);}}async function handleJoinGroupActivity(){const _0x4924dc=_0x57253e,_0x23b22b=prompt(_0x4924dc(0x1bf));if(!_0x23b22b||_0x23b22b[_0x4924dc(0x365)]()[_0x4924dc(0x711)]!==0x4){showMessage(_0x4924dc(0x600));return;}const _0x1b3e18=_0x23b22b[_0x4924dc(0x365)]();showMessage('กำลังค้นหากิจกรรม...');try{const _0x41a7a2=collection(db,_0x4924dc(0xc07)+appId+_0x4924dc(0xbd3)),_0x4c0e9c=query(_0x41a7a2,where('pin','==',_0x1b3e18),where(_0x4924dc(0x9e6),'==','lobby')),_0x222b4e=await getDocs(_0x4c0e9c);if(!_0x222b4e[_0x4924dc(0x30b)]){console['log']('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x222b4e['docs'][0x0]);return;}const _0x516cf4=collection(db,'artifacts/'+appId+'/public/data/syncGames'),_0x30b9c9=query(_0x516cf4,where('pin','==',_0x1b3e18),where(_0x4924dc(0x9e6),'==',_0x4924dc(0x537))),_0x223d76=await getDocs(_0x30b9c9);if(!_0x223d76[_0x4924dc(0x30b)]){console['log']('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x223d76['docs'][0x0]);return;}showMessage(_0x4924dc(0xaa2));}catch(_0xbd6c69){console[_0x4924dc(0x20d)](_0x4924dc(0xc30),_0xbd6c69),showMessage(_0x4924dc(0x69c)+_0xbd6c69[_0x4924dc(0x5f2)]);}}async function proceedWithTeamQuizJoin(_0xa81626){const _0x3ca070=_0x57253e;currentTeamQuizId=_0xa81626['id'];const _0x1987c0=_0xa81626[_0x3ca070(0x533)](),_0x7264df=doc(db,_0x3ca070(0xc07)+appId+_0x3ca070(0x81e),_0x1987c0['projectId']),_0x5a82c6=doc(db,_0x3ca070(0xc07)+appId+'/public/data/quizzes',_0x1987c0[_0x3ca070(0x7e0)]),[_0xad4945,_0x3b6b74]=await Promise[_0x3ca070(0x52b)]([getDoc(_0x7264df),getDoc(_0x5a82c6)]);if(!_0xad4945[_0x3ca070(0xabe)]()||!_0x3b6b74[_0x3ca070(0xabe)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x3b6b74['id'],..._0x3b6b74[_0x3ca070(0x533)]()}),showTeamPlayerSelection(_0xad4945['data']()[_0x3ca070(0x88c)],currentQuizData[_0x3ca070(0xc41)],_0x1987c0[_0x3ca070(0x1f7)]||_0x3ca070(0x6b8)),messageModal[_0x3ca070(0x7f0)][_0x3ca070(0x6e3)]('hidden');}async function proceedWithSyncQuizJoin(_0x3360ab){const _0x52e9be=_0x57253e;currentLiveGameId=_0x3360ab['id'];const _0x11c99e=_0x3360ab[_0x52e9be(0x533)](),_0x1d853b=doc(db,_0x52e9be(0xc07)+appId+_0x52e9be(0x194),_0x11c99e[_0x52e9be(0x7e0)]),_0x38f01c=await getDoc(_0x1d853b);if(!_0x38f01c[_0x52e9be(0xabe)]())throw new Error(_0x52e9be(0x64c));const _0x1a27e7=_0x38f01c[_0x52e9be(0x533)](),_0x183824=doc(db,_0x52e9be(0xc07)+appId+_0x52e9be(0x81e),_0x1a27e7[_0x52e9be(0x9f2)]),_0x6840d2=await getDoc(_0x183824);if(!_0x6840d2['exists']())throw new Error(_0x52e9be(0xba1));currentQuizData=_0x11c99e[_0x52e9be(0x5df)],showView(_0x52e9be(0x32e)),showTeamPlayerSelection(_0x6840d2['data']()[_0x52e9be(0x88c)],_0x1a27e7[_0x52e9be(0xc41)],_0x52e9be(0xbf1)),document[_0x52e9be(0x597)](_0x52e9be(0x612))[_0x52e9be(0x1f8)]=confirmAndJoinSyncGame,messageModal[_0x52e9be(0x7f0)][_0x52e9be(0x6e3)](_0x52e9be(0x9ac));}function getCleanApplicationHTML(){const _0x3b68e0=_0x57253e,_0x6f6cc6=document[_0x3b68e0(0x597)]('applicationContent');if(!_0x6f6cc6)return'';const _0x14126c=_0x6f6cc6['cloneNode'](!![]);return _0x14126c[_0x3b68e0(0x40f)](_0x3b68e0(0x11a))['forEach'](_0x2318b6=>{const _0x2e54d4=_0x3b68e0;_0x2318b6['classList'][_0x2e54d4(0x4bd)]('correct',_0x2e54d4(0x273)),_0x2318b6[_0x2e54d4(0x992)]=![];}),_0x14126c[_0x3b68e0(0x2fe)];}function showTeamPlayerSelection(_0x21535c,_0x12d7ea,_0x4bebb9=_0x57253e(0x6b8)){const _0xa86e2a=_0x57253e;studentInitialView[_0xa86e2a(0x7f0)][_0xa86e2a(0x6e3)](_0xa86e2a(0x9ac)),studentJoinGameView[_0xa86e2a(0x7f0)][_0xa86e2a(0x6e3)](_0xa86e2a(0x9ac)),document['getElementById'](_0xa86e2a(0x4ac))[_0xa86e2a(0x7f0)][_0xa86e2a(0x4bd)](_0xa86e2a(0x9ac));let _0x1bbd73=_0xa86e2a(0x5b8);if(_0x4bebb9==='group')_0x1bbd73=_0xa86e2a(0xbc1);else _0x4bebb9===_0xa86e2a(0xbf1)&&(_0x1bbd73='Sync\x20Mode');document[_0xa86e2a(0x597)]('team-quiz-topic')['textContent']=_0x1bbd73+':\x20'+_0x12d7ea;const _0x1d5fdf=document[_0xa86e2a(0x597)]('team-student-list');if(!_0x21535c||_0x21535c[_0xa86e2a(0x711)]===0x0){_0x1d5fdf['innerHTML']='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document['getElementById'](_0xa86e2a(0x612))['disabled']=!![];return;}_0x1d5fdf[_0xa86e2a(0x2fe)]=_0x21535c[_0xa86e2a(0x9ca)](_0x4cd77e=>_0xa86e2a(0xa9b)+_0x4cd77e+_0xa86e2a(0xa25)+_0x4cd77e+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0xa86e2a(0x552)](''),document['getElementById']('confirm-team-players-btn')[_0xa86e2a(0x992)]=![];}async function confirmAndStartTeamQuiz(){const _0x2c2f53=_0x57253e,_0x511bf0=Array['from'](document[_0x2c2f53(0x40f)](_0x2c2f53(0x7d7)))[_0x2c2f53(0x9ca)](_0x66d53f=>_0x66d53f[_0x2c2f53(0x6f7)]);if(_0x511bf0[_0x2c2f53(0x711)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x511bf0,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x1d0dc3=doc(db,'artifacts/'+appId+_0x2c2f53(0xbd3),currentTeamQuizId);try{const _0x3ae3e0=await getDoc(_0x1d0dc3);if(!_0x3ae3e0[_0x2c2f53(0xabe)]())throw new Error(_0x2c2f53(0xa26));const _0x3bb469=_0x3ae3e0[_0x2c2f53(0x533)]();if(_0x3bb469[_0x2c2f53(0x1f7)]===_0x2c2f53(0x965)){const _0x2b36d9={[_0x2c2f53(0xb5d)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x1d0dc3,_0x2b36d9);}else{const _0x2cc62f=_0x3bb469[_0x2c2f53(0x715)]||{};localTeamPlayers[_0x2c2f53(0xb68)](_0x38ddd6=>{!_0x2cc62f[_0x38ddd6]&&(_0x2cc62f[_0x38ddd6]={'score':0x0,'answers':[]});}),await updateDoc(_0x1d0dc3,{'responses':_0x2cc62f});}document[_0x2c2f53(0x597)]('student-team-selection-view')[_0x2c2f53(0x7f0)][_0x2c2f53(0x6e3)](_0x2c2f53(0x9ac)),renderTeamQuizQuestion();const _0x34b84a={'gameId':currentTeamQuizId,'mode':_0x3bb469[_0x2c2f53(0x1f7)]||_0x2c2f53(0x6b8),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x2c2f53(0x265)](_0x2c2f53(0x503),JSON[_0x2c2f53(0xb09)](_0x34b84a)),listenForTeamQuizUpdates();}catch(_0x2a393e){console['error']('Error\x20confirming\x20players:',_0x2a393e),showMessage(_0x2c2f53(0x5b3));}}async function renderTeamQuizQuestion(){const _0x4ae811=_0x57253e;if(localQuestionIndex>=currentQuizData['questions'][_0x4ae811(0x711)]){displayTeamQuizFinalResults();return;}const _0x41abc7=currentQuizData[_0x4ae811(0x962)][localQuestionIndex],_0xcec96b=localTeamPlayers[localPlayerIndex],_0x339c37=_0x41abc7['questionType']||currentQuizData[_0x4ae811(0x2b3)];let _0x275232=_0x41abc7[_0x4ae811(0x2d4)]||_0x41abc7[_0x4ae811(0x525)],_0x34e56d='';switch(_0x339c37){case _0x4ae811(0x8ea):case _0x4ae811(0x959):_0x34e56d=_0x41abc7[_0x4ae811(0x6c2)][_0x4ae811(0x9ca)]((_0x5ccd1d,_0x8ce6e)=>_0x4ae811(0xb6c)+_0x8ce6e+_0x4ae811(0x8c5)+_0x8ce6e+_0x4ae811(0x506)+_0x8ce6e+'\x22>'+_0x5ccd1d+_0x4ae811(0x14f))[_0x4ae811(0x552)]('');break;case _0x4ae811(0xc6b):_0x34e56d='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case'short_answer':case _0x4ae811(0x3c3):_0x34e56d=_0x4ae811(0x897);break;case _0x4ae811(0x22d):_0x34e56d=_0x4ae811(0x527)+_0x41abc7[_0x4ae811(0x8b0)][_0x4ae811(0x9ca)](_0x17733d=>_0x4ae811(0x15e)+_0x17733d+'\x22>'+_0x17733d+'</option>')[_0x4ae811(0x552)]('')+_0x4ae811(0x74f);break;default:_0x34e56d=_0x4ae811(0xa3e);break;}studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x4ae811(0x751)+currentQuizData[_0x4ae811(0x962)][_0x4ae811(0x711)]+_0x4ae811(0xa53)+_0xcec96b+_0x4ae811(0x10c)+(localQuestionIndex+0x1)+'.\x20'+_0x275232+_0x4ae811(0x250)+(_0x41abc7[_0x4ae811(0x415)]?_0x4ae811(0x718)+_0x41abc7[_0x4ae811(0x415)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x34e56d+_0x4ae811(0x44a),studentQuizArea[_0x4ae811(0x7f0)]['remove'](_0x4ae811(0x9ac));if(window['MathJax'])MathJax[_0x4ae811(0x4b8)]([studentQuizArea]);document[_0x4ae811(0x597)](_0x4ae811(0x6ce))[_0x4ae811(0x161)](_0x4ae811(0x82f),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x1b073a=_0x57253e,_0xa48b77=currentQuizData[_0x1b073a(0x962)][localQuestionIndex],_0x55bbad=_0xa48b77['questionType']||currentQuizData[_0x1b073a(0x2b3)];let _0x388b40=null,_0x5a2c22=![];if(_0x55bbad===_0x1b073a(0x733)||_0x55bbad==='fill_in_no_choices'){const _0x148086=document['querySelector'](_0x1b073a(0xbd7));if(!_0x148086||!_0x148086[_0x1b073a(0x6f7)]['trim']()){showMessage(_0x1b073a(0x1bb));return;}_0x388b40=_0x148086[_0x1b073a(0x6f7)][_0x1b073a(0x365)](),_0x5a2c22=await gradeShortAnswer(_0x388b40,_0xa48b77);}else{const _0x25ab75=document['querySelector'](_0x1b073a(0x7eb));if(!_0x25ab75||_0x25ab75[_0x1b073a(0x6f7)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x388b40=_0x25ab75[_0x1b073a(0x6f7)];switch(_0x55bbad){case _0x1b073a(0xc6b):_0x5a2c22=_0x388b40===_0x1b073a(0x36a)===_0xa48b77[_0x1b073a(0x75e)];break;case _0x1b073a(0x22d):_0x5a2c22=_0x388b40===_0xa48b77[_0x1b073a(0x2a6)];break;default:_0x5a2c22=parseInt(_0x388b40)===_0xa48b77[_0x1b073a(0xacd)];break;}}const _0x471a30={'questionIndex':localQuestionIndex,'isCorrect':_0x5a2c22},_0x5dd86f=userId,_0x301b48={[_0x1b073a(0xb5d)+_0x5dd86f+'.answers']:arrayUnion(_0x471a30)};_0x5a2c22&&(_0x301b48[_0x1b073a(0xb5d)+_0x5dd86f+'.score']=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x1b073a(0xbd3),currentTeamQuizId),_0x301b48),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x1b073a(0x962)][_0x1b073a(0x711)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x154aaa){console[_0x1b073a(0x20d)](_0x1b073a(0x9be),_0x154aaa),showMessage(_0x1b073a(0x48b));}}async function handleTeamAnswerSubmit(){const _0x49de39=_0x57253e,_0x218664=await getDoc(doc(db,_0x49de39(0xc07)+appId+_0x49de39(0xbd3),currentTeamQuizId));if(!_0x218664[_0x49de39(0xabe)]())return;const _0x524862=_0x218664[_0x49de39(0x533)]();if(_0x524862[_0x49de39(0x1f7)]==='group'){handleGroupAnswerSubmit();return;}const _0x269321=localTeamPlayers[localPlayerIndex],_0x469b67=currentQuizData[_0x49de39(0x962)][localQuestionIndex],_0x6b015d=_0x469b67[_0x49de39(0x2a9)]||currentQuizData['quizType'];let _0x341c7c=null,_0x37980c=![];if(_0x6b015d===_0x49de39(0x733)||_0x6b015d==='fill_in_no_choices'){const _0x147061=document[_0x49de39(0x7b3)](_0x49de39(0xbd7));if(!_0x147061||!_0x147061['value'][_0x49de39(0x365)]()){showMessage(_0x49de39(0x22c));return;}_0x341c7c=_0x147061[_0x49de39(0x6f7)][_0x49de39(0x365)](),_0x37980c=await gradeShortAnswer(_0x341c7c,_0x469b67);}else{const _0x290031=document['querySelector'](_0x49de39(0x7eb));if(!_0x290031||_0x290031[_0x49de39(0x6f7)]===''){showMessage(_0x49de39(0xbea));return;}_0x341c7c=_0x290031['value'];switch(_0x6b015d){case _0x49de39(0xc6b):_0x37980c=_0x341c7c===_0x49de39(0x36a)===_0x469b67[_0x49de39(0x75e)];break;case _0x49de39(0x22d):_0x37980c=_0x341c7c===_0x469b67[_0x49de39(0x2a6)];break;default:_0x37980c=parseInt(_0x341c7c)===_0x469b67[_0x49de39(0xacd)];break;}}const _0x3e95c5={'questionIndex':localQuestionIndex,'isCorrect':_0x37980c,'answerValue':_0x341c7c},_0x2ed3df={[_0x49de39(0xc11)+_0x269321+_0x49de39(0x127)]:arrayUnion(_0x3e95c5)};_0x37980c&&(_0x2ed3df[_0x49de39(0xc11)+_0x269321+_0x49de39(0x324)]=increment(0x1));try{await updateDoc(doc(db,_0x49de39(0xc07)+appId+_0x49de39(0xbd3),currentTeamQuizId),_0x2ed3df),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x49de39(0x711)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x7a6165){console[_0x49de39(0x20d)]('Error\x20submitting\x20team\x20answer:',_0x7a6165),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x3629c5=_0x57253e;studentQuizArea['classList'][_0x3629c5(0x6e3)](_0x3629c5(0x9ac)),studentResultArea[_0x3629c5(0x7f0)][_0x3629c5(0x4bd)](_0x3629c5(0x9ac));const _0x3fdf67=doc(db,_0x3629c5(0xc07)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x2fdf1b=await getDoc(_0x3fdf67);if(!_0x2fdf1b[_0x3629c5(0xabe)]()){studentResultArea[_0x3629c5(0x2fe)]=_0x3629c5(0x391);return;}const _0x8d937c=_0x2fdf1b[_0x3629c5(0x533)]();let _0x2d2a20=[];const _0x3abba6=_0x8d937c['mode']||_0x3629c5(0x6b8);if(_0x3abba6==='group'){const _0x514be0=_0x8d937c[_0x3629c5(0x4ce)][userId];_0x514be0?_0x2d2a20=[{'name':_0x3629c5(0x2fb)+localTeamPlayers[_0x3629c5(0x552)](',\x20'),'score':_0x514be0['score']||0x0}]:_0x2d2a20=[{'name':_0x3629c5(0x866),'score':_0x3629c5(0x321)}];}else _0x2d2a20=localTeamPlayers[_0x3629c5(0x9ca)](_0x596109=>({'name':_0x596109,'score':_0x8d937c[_0x3629c5(0x715)][_0x596109]?.[_0x3629c5(0x1ed)]||0x0}))[_0x3629c5(0x2d6)]((_0x549de9,_0x15a81f)=>_0x15a81f['score']-_0x549de9['score']);studentResultArea['innerHTML']=_0x3629c5(0x4f9)+_0x2d2a20[_0x3629c5(0x9ca)](_0x3dc8cf=>_0x3629c5(0xc36)+_0x3dc8cf[_0x3629c5(0x309)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3dc8cf[_0x3629c5(0x1ed)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x3629c5(0x637),sessionStorage['removeItem'](_0x3629c5(0x503)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x2259fc=_0x3629c5;deleteDoc(doc(db,_0x2259fc(0xc07)+appId+_0x2259fc(0xbd3),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x57253e(0xa0a),'pinnedProjects':[],'projectView':_0x57253e(0x32c)};const allMathTopics=[{'category':_0x57253e(0x584),'name':_0x57253e(0x53d)},{'category':_0x57253e(0x584),'name':_0x57253e(0x248)},{'category':_0x57253e(0x584),'name':'การปัดเศษและประมาณค่า'},{'category':'จำนวนและการดำเนินการ','name':_0x57253e(0x632)},{'category':_0x57253e(0x584),'name':_0x57253e(0x6f5)},{'category':_0x57253e(0x584),'name':_0x57253e(0x5d0)},{'category':_0x57253e(0x584),'name':_0x57253e(0x31b)},{'category':_0x57253e(0x584),'name':_0x57253e(0x9a3)},{'category':_0x57253e(0x584),'name':_0x57253e(0xbff)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มลบ'},{'category':_0x57253e(0x584),'name':_0x57253e(0x9a0)},{'category':'จำนวนและการดำเนินการ','name':_0x57253e(0x6f4)},{'category':'จำนวนและการดำเนินการ','name':_0x57253e(0x5cf)},{'category':'จำนวนและการดำเนินการ','name':_0x57253e(0x86d)},{'category':_0x57253e(0x584),'name':_0x57253e(0x4f7)},{'category':_0x57253e(0x584),'name':'ค.ร.น.\x20(LCM)'},{'category':_0x57253e(0x584),'name':_0x57253e(0x8f1)},{'category':_0x57253e(0x584),'name':'อัตราและอัตราหน่วย'},{'category':'จำนวนและการดำเนินการ','name':_0x57253e(0x5a5)},{'category':_0x57253e(0x584),'name':_0x57253e(0x787)},{'category':_0x57253e(0x584),'name':_0x57253e(0x500)},{'category':_0x57253e(0x584),'name':_0x57253e(0x225)},{'category':'จำนวนและการดำเนินการ','name':_0x57253e(0x3e0)},{'category':_0x57253e(0x584),'name':_0x57253e(0x829)},{'category':_0x57253e(0x584),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':'จำนวนและการดำเนินการ','name':_0x57253e(0x90d)},{'category':'จำนวนและการดำเนินการ','name':_0x57253e(0x578)},{'category':_0x57253e(0x584),'name':_0x57253e(0x262)},{'category':_0x57253e(0x584),'name':'การหารทศนิยม'},{'category':_0x57253e(0x584),'name':_0x57253e(0x26d)},{'category':_0x57253e(0x584),'name':_0x57253e(0x481)},{'category':_0x57253e(0x584),'name':_0x57253e(0x20a)},{'category':_0x57253e(0x584),'name':_0x57253e(0x7a2)},{'category':_0x57253e(0x584),'name':_0x57253e(0x1c9)},{'category':_0x57253e(0x584),'name':_0x57253e(0x80c)},{'category':_0x57253e(0x584),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x57253e(0x584),'name':_0x57253e(0x4d3)},{'category':_0x57253e(0x69a),'name':_0x57253e(0x370)},{'category':_0x57253e(0x69a),'name':_0x57253e(0x8dd)},{'category':_0x57253e(0x69a),'name':_0x57253e(0x48e)},{'category':_0x57253e(0x69a),'name':'ปริมาตร/ความจุและการแปลง'},{'category':'การวัด','name':_0x57253e(0xc73)},{'category':_0x57253e(0x69a),'name':_0x57253e(0x703)},{'category':_0x57253e(0x69a),'name':_0x57253e(0x1fe)},{'category':_0x57253e(0x69a),'name':_0x57253e(0xb37)},{'category':_0x57253e(0x69a),'name':_0x57253e(0x721)},{'category':'การวัด','name':_0x57253e(0xa96)},{'category':_0x57253e(0x69a),'name':_0x57253e(0x58c)},{'category':_0x57253e(0x69a),'name':_0x57253e(0x907)},{'category':_0x57253e(0x69a),'name':_0x57253e(0x395)},{'category':_0x57253e(0x69a),'name':_0x57253e(0x4f0)},{'category':_0x57253e(0x43f),'name':_0x57253e(0xc1e)},{'category':_0x57253e(0x43f),'name':'ความสัมพันธ์ของมุม'},{'category':_0x57253e(0x43f),'name':_0x57253e(0x40a)},{'category':'เรขาคณิต','name':_0x57253e(0xb37)},{'category':_0x57253e(0x43f),'name':_0x57253e(0x534)},{'category':'เรขาคณิต','name':_0x57253e(0x3d0)},{'category':'เรขาคณิต','name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x57253e(0x43f),'name':_0x57253e(0x220)},{'category':'เรขาคณิต','name':_0x57253e(0x841)},{'category':_0x57253e(0x43f),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x57253e(0x43f),'name':_0x57253e(0x6a5)},{'category':_0x57253e(0x43f),'name':_0x57253e(0xa22)},{'category':_0x57253e(0x43f),'name':_0x57253e(0x4c9)},{'category':_0x57253e(0x43f),'name':_0x57253e(0xa69)},{'category':_0x57253e(0x43f),'name':_0x57253e(0x159)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x57253e(0x827)},{'category':_0x57253e(0x43d),'name':_0x57253e(0x617)},{'category':_0x57253e(0x43d),'name':_0x57253e(0x7f7)},{'category':_0x57253e(0x43d),'name':_0x57253e(0x7ef)},{'category':_0x57253e(0x43d),'name':_0x57253e(0x3ac)},{'category':_0x57253e(0x43d),'name':_0x57253e(0x83c)},{'category':_0x57253e(0x43d),'name':_0x57253e(0xc31)},{'category':_0x57253e(0x43d),'name':_0x57253e(0xa7a)},{'category':_0x57253e(0x43d),'name':_0x57253e(0x6c6)},{'category':_0x57253e(0x43d),'name':_0x57253e(0x9d4)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการราก\x20(radical)'},{'category':_0x57253e(0x43d),'name':_0x57253e(0x2dd)},{'category':_0x57253e(0x43d),'name':_0x57253e(0x9c5)},{'category':_0x57253e(0x43d),'name':_0x57253e(0x327)},{'category':_0x57253e(0x43d),'name':'อสมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x57253e(0xc7f)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':'โดเมนและเรนจ์'},{'category':_0x57253e(0x43d),'name':_0x57253e(0x963)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x57253e(0x171)},{'category':_0x57253e(0x43d),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x57253e(0x43d),'name':_0x57253e(0x548)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x57253e(0x95e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x57253e(0xb9b)},{'category':_0x57253e(0x43d),'name':_0x57253e(0x6fc)},{'category':_0x57253e(0x43d),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x57253e(0x43d),'name':_0x57253e(0x8c6)},{'category':_0x57253e(0x43d),'name':_0x57253e(0x67a)},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x57253e(0x43d),'name':_0x57253e(0x7da)},{'category':_0x57253e(0x43d),'name':_0x57253e(0x8f9)},{'category':_0x57253e(0x43d),'name':_0x57253e(0xafb)},{'category':_0x57253e(0x43d),'name':_0x57253e(0x3b3)},{'category':_0x57253e(0x420),'name':_0x57253e(0xa91)},{'category':_0x57253e(0x420),'name':_0x57253e(0x634)},{'category':_0x57253e(0x420),'name':_0x57253e(0x1e0)},{'category':_0x57253e(0x420),'name':_0x57253e(0x8d9)},{'category':_0x57253e(0x420),'name':_0x57253e(0x805)},{'category':_0x57253e(0x420),'name':_0x57253e(0x770)},{'category':_0x57253e(0x420),'name':'พาราโบลา'},{'category':_0x57253e(0x420),'name':_0x57253e(0xa42)},{'category':_0x57253e(0x420),'name':_0x57253e(0x978)},{'category':_0x57253e(0x67f),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':'ตรีโกณมิติ','name':_0x57253e(0xc66)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x57253e(0x67f),'name':_0x57253e(0x1dd)},{'category':_0x57253e(0x67f),'name':_0x57253e(0x7b4)},{'category':'ตรีโกณมิติ','name':'กฎของโคไซน์'},{'category':_0x57253e(0x67f),'name':_0x57253e(0x9a2)},{'category':_0x57253e(0x67f),'name':_0x57253e(0x2f2)},{'category':_0x57253e(0x67f),'name':_0x57253e(0xbfc)},{'category':_0x57253e(0x67f),'name':_0x57253e(0x371)},{'category':_0x57253e(0x67f),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':'สถิติและความน่าจะเป็น','name':_0x57253e(0x806)},{'category':'สถิติและความน่าจะเป็น','name':'การจัดกลุ่มข้อมูล'},{'category':_0x57253e(0x2f0),'name':'ตารางความถี่'},{'category':'สถิติและความน่าจะเป็น','name':_0x57253e(0x881)},{'category':'สถิติและความน่าจะเป็น','name':'ฮิสโตแกรม'},{'category':'สถิติและความน่าจะเป็น','name':_0x57253e(0xbaf)},{'category':_0x57253e(0x2f0),'name':_0x57253e(0x14a)},{'category':_0x57253e(0x2f0),'name':_0x57253e(0xc8b)},{'category':_0x57253e(0x2f0),'name':_0x57253e(0x828)},{'category':_0x57253e(0x2f0),'name':'พิสัย'},{'category':_0x57253e(0x2f0),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x57253e(0x2f0),'name':'ความแปรปรวน'},{'category':_0x57253e(0x2f0),'name':_0x57253e(0x704)},{'category':_0x57253e(0x2f0),'name':_0x57253e(0x5a4)},{'category':_0x57253e(0x2f0),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':'สถิติและความน่าจะเป็น','name':_0x57253e(0x43c)},{'category':'สถิติและความน่าจะเป็น','name':_0x57253e(0x215)},{'category':'สถิติและความน่าจะเป็น','name':_0x57253e(0x8d3)},{'category':_0x57253e(0x2f0),'name':_0x57253e(0x314)},{'category':_0x57253e(0x2f0),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x57253e(0x2f0),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x57253e(0x2f0),'name':'การจัดหมู่\x20(Combination)'},{'category':_0x57253e(0x2f0),'name':_0x57253e(0x547)},{'category':_0x57253e(0x2f0),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x57253e(0x7fd),'name':_0x57253e(0x889)},{'category':_0x57253e(0x7fd),'name':_0x57253e(0x6a1)},{'category':_0x57253e(0x7fd),'name':_0x57253e(0x3df)},{'category':_0x57253e(0x7fd),'name':_0x57253e(0x29b)},{'category':'แคลคูลัสเบื้องต้น','name':_0x57253e(0x868)},{'category':_0x57253e(0x7fd),'name':_0x57253e(0x2ce)},{'category':_0x57253e(0x7fd),'name':_0x57253e(0x582)},{'category':_0x57253e(0x7fd),'name':_0x57253e(0x6d2)},{'category':'แคลคูลัสเบื้องต้น','name':_0x57253e(0xa1c)},{'category':_0x57253e(0x7fd),'name':'ปริพันธ์ไม่จำกัด'},{'category':_0x57253e(0x7fd),'name':_0x57253e(0x28f)},{'category':_0x57253e(0x7fd),'name':_0x57253e(0xb6e)},{'category':_0x57253e(0x7fd),'name':_0x57253e(0x456)},{'category':_0x57253e(0x9cc),'name':_0x57253e(0x52e)},{'category':_0x57253e(0x9cc),'name':_0x57253e(0x485)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x57253e(0x5b6)},{'category':_0x57253e(0x9cc),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x57253e(0x9cc),'name':_0x57253e(0xa64)},{'category':_0x57253e(0x9cc),'name':_0x57253e(0x8aa)},{'category':_0x57253e(0x9cc),'name':_0x57253e(0x360)},{'category':_0x57253e(0x49c),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x57253e(0x49c),'name':'ดอกเบี้ยทบต้น'},{'category':_0x57253e(0x49c),'name':_0x57253e(0x1be)},{'category':_0x57253e(0x49c),'name':_0x57253e(0x68a)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x57253e(0x42f)},{'category':_0x57253e(0x4a1),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'รูปแบบการให้เหตุผล'},{'category':_0x57253e(0x4a1),'name':_0x57253e(0x804)}];function renderTopicCheckboxes(){const _0x21fb29=_0x57253e,_0x4ceedd=document[_0x21fb29(0x597)](_0x21fb29(0x178));if(!_0x4ceedd)return;const _0x1dd3cf=allMathTopics,_0xc26322=customMathTopics['map'](_0xf27a15=>({'id':_0xf27a15['id'],'category':'หัวข้อที่สร้างเอง','name':_0xf27a15[_0x21fb29(0x309)]})),_0x557bb7=[..._0x1dd3cf,..._0xc26322],_0x456f55=_0x557bb7[_0x21fb29(0xb0f)]((_0x540e94,_0x223d31)=>{const _0x5e80d8=_0x21fb29;return!_0x540e94[_0x223d31['category']]&&(_0x540e94[_0x223d31['category']]=[]),_0x540e94[_0x223d31[_0x5e80d8(0x249)]][_0x5e80d8(0xa09)](_0x223d31),_0x540e94;},{});let _0x88af1c='';const _0x73556b=[_0x21fb29(0x467),...Object['keys'](_0x456f55)[_0x21fb29(0xa32)](_0x52e80d=>_0x52e80d!==_0x21fb29(0x467))];for(const _0x5698ad of _0x73556b){if(_0x456f55[_0x5698ad]){const _0x53a8e4=_0x5698ad===_0x21fb29(0x467),_0x46e189=_0x53a8e4?_0x21fb29(0x2ba):_0x21fb29(0x416),_0x1222df=_0x53a8e4?'text-blue-700':_0x21fb29(0x86f);_0x88af1c+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x88af1c+=_0x21fb29(0x82e)+_0x1222df+_0x21fb29(0x9e9)+_0x46e189+'\x20mr-2\x22></i>'+_0x5698ad+_0x21fb29(0x686),_0x456f55[_0x5698ad][_0x21fb29(0xb68)](_0x2bc6ab=>{const _0x5374e1=_0x21fb29,_0x102a64=!!_0x2bc6ab['id'],_0x36125d=_0x102a64?_0x5374e1(0x146)+_0x2bc6ab['id']+_0x5374e1(0x8ff)+_0x2bc6ab['id']+_0x5374e1(0x463)+_0x2bc6ab['id']+_0x5374e1(0x3c2)+_0x2bc6ab['id']+_0x5374e1(0xc49):'';_0x88af1c+=_0x5374e1(0x188)+(_0x2bc6ab['id']||'')+_0x5374e1(0xa00)+_0x2bc6ab[_0x5374e1(0x309)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x2bc6ab[_0x5374e1(0x309)]+_0x5374e1(0xaeb)+(_0x102a64?_0x5374e1(0x4a3)+_0x2bc6ab['name']+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36125d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x88af1c+=_0x21fb29(0x519);}}_0x4ceedd[_0x21fb29(0x2fe)]=_0x88af1c||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x4ceedd[_0x21fb29(0x713)]('change',updateSelectedTopicsCount),_0x4ceedd['addEventListener'](_0x21fb29(0xa7d),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x48ff29,_0xf4188c){const _0x76d4b1=_0x57253e;if(!_0x48ff29||!_0xf4188c[_0x76d4b1(0x365)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x4dc57e=doc(db,'artifacts/'+appId+'/public/data/customMathTopics',_0x48ff29);await updateDoc(_0x4dc57e,{'name':_0xf4188c[_0x76d4b1(0x365)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x1e8ecb){console[_0x76d4b1(0x20d)](_0x76d4b1(0xb9a),_0x1e8ecb),showMessage(_0x76d4b1(0x1a5));}}function toggleTopicEditMode(_0x5ca332,_0x1b3450){const _0x56c0c1=_0x57253e;if(!_0x5ca332)return;const _0x4f5eb8=_0x5ca332[_0x56c0c1(0x7b3)]('.topic-name-display'),_0x323ac7=_0x5ca332[_0x56c0c1(0x7b3)](_0x56c0c1(0x526)),_0x385152=_0x5ca332[_0x56c0c1(0x7b3)](_0x56c0c1(0x4cd)),_0x4be9d0=_0x5ca332[_0x56c0c1(0x7b3)](_0x56c0c1(0xc6d));_0x4f5eb8[_0x56c0c1(0x7f0)][_0x56c0c1(0x8eb)](_0x56c0c1(0x9ac),_0x1b3450),_0x323ac7[_0x56c0c1(0x7f0)][_0x56c0c1(0x8eb)](_0x56c0c1(0x9ac),!_0x1b3450),_0x385152[_0x56c0c1(0x7f0)][_0x56c0c1(0x8eb)](_0x56c0c1(0x9ac),_0x1b3450),_0x4be9d0['classList']['toggle'](_0x56c0c1(0x9ac),!_0x1b3450),_0x1b3450&&(_0x323ac7['focus'](),_0x323ac7['select']());}async function handleStartLiveRace(_0x118c52){const _0x424bd3=_0x57253e;let _0x25d100=allQuizzes[_0x424bd3(0x1bc)](_0x3cae0b=>_0x3cae0b['id']===_0x118c52);if(!_0x25d100){const _0xe699c8=doc(db,_0x424bd3(0xc07)+appId+_0x424bd3(0x194),_0x118c52),_0x29f674=await getDoc(_0xe699c8);if(!_0x29f674['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x25d100={'id':_0x29f674['id'],..._0x29f674[_0x424bd3(0x533)]()};}const _0x42e479=getShuffledQuiz(_0x25d100);currentQuizData=_0x42e479;const _0x4d97b7=_0x25d100[_0x424bd3(0x9f2)]||currentProjectId||null,_0x16344d=Math[_0x424bd3(0x7b6)](0x3e8+Math[_0x424bd3(0x373)]()*0x2328)[_0x424bd3(0x2bf)]();currentLiveGamePin=_0x16344d;try{const _0x4af867=await addDoc(collection(db,_0x424bd3(0xc07)+appId+_0x424bd3(0x7e2)),{'quizId':_0x118c52,'projectId':_0x4d97b7,'status':_0x424bd3(0x537),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x16344d,'createdAt':serverTimestamp(),'shuffledQuiz':_0x42e479});currentLiveGameId=_0x4af867['id'],showAdminLobbyView(_0x16344d,_0x25d100['topic']),listenForLiveGameUpdates();}catch(_0xa1c49c){console['error'](_0x424bd3(0x4be),_0xa1c49c),showMessage(_0x424bd3(0xa68));}}function updateSelectedTopicsCount(){const _0x3ca5d1=_0x57253e,_0xb0c3a3=document[_0x3ca5d1(0x597)](_0x3ca5d1(0x178)),_0x4c83a3=_0xb0c3a3[_0x3ca5d1(0x40f)](_0x3ca5d1(0x4a9))['length'],_0x201dd6=document[_0x3ca5d1(0x597)](_0x3ca5d1(0xbce));_0x4c83a3>0x0?_0x201dd6[_0x3ca5d1(0x3a6)]=_0x3ca5d1(0x251)+_0x4c83a3+_0x3ca5d1(0x92a):_0x201dd6[_0x3ca5d1(0x3a6)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x57253e(0xcab),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x57253e(0xadc),quizLeaderboardSortOrder=_0x57253e(0x9f7),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];function _0x4216(_0x13360f,_0x4701f5){const _0x3ffa43=_0x3ffa();return _0x4216=function(_0x42162b,_0xc034aa){_0x42162b=_0x42162b-0x10c;let _0xdcca90=_0x3ffa43[_0x42162b];return _0xdcca90;},_0x4216(_0x13360f,_0x4701f5);}const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x57253e(0x6a4),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x57253e(0xbdd),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x457479,_0x439985){const _0x1d2791=_0x57253e;return Math[_0x1d2791(0x92f)](Math[_0x1d2791(0x3ab)](_0x457479['x']-_0x439985['x'],0x2)+Math[_0x1d2791(0x3ab)](_0x457479['y']-_0x439985['y'],0x2));}function getMidpoint(_0x291251,_0x14a95c){return{'x':(_0x291251['x']+_0x14a95c['x'])/0x2,'y':(_0x291251['y']+_0x14a95c['y'])/0x2};}function getTransformedPoint(_0x478400,_0x5f120d){return{'x':(_0x478400-scratchpadOffset['x'])/scratchpadScale,'y':(_0x5f120d-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x63460=_0x57253e;if(!scratchpadCtx)return;const _0x18e73e=scratchpadCtx['canvas'],_0x1cb1cf=window[_0x63460(0x123)]||0x1,_0x5cd201=document[_0x63460(0x597)](_0x63460(0xbd0));_0x5cd201&&(_0x5cd201[_0x63460(0x819)][_0x63460(0x33b)]=_0x63460(0x765),_0x5cd201['style'][_0x63460(0xbaa)]=_0x63460(0xbab)+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx[_0x63460(0xadb)](),scratchpadCtx[_0x63460(0x627)](_0x1cb1cf,0x0,0x0,_0x1cb1cf,0x0,0x0),scratchpadCtx[_0x63460(0x49a)](0x0,0x0,_0x18e73e['width'],_0x18e73e[_0x63460(0x3dd)]),scratchpadCtx[_0x63460(0xb9c)](),scratchpadCtx[_0x63460(0xadb)](),scratchpadCtx[_0x63460(0x790)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x63460(0xb68)](_0x3e992e=>{drawStroke(_0x3e992e);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x63460(0xb9c)]();}function renderGroupModeQuestion(){const _0x10cd81=_0x57253e;if(localQuestionIndex>=currentQuizData[_0x10cd81(0x962)][_0x10cd81(0x711)]){displayTeamQuizFinalResults();return;}const _0xdf93db=currentQuizData[_0x10cd81(0x962)][localQuestionIndex],_0x3cca63=_0xdf93db[_0x10cd81(0x2a9)]||currentQuizData[_0x10cd81(0x2b3)];let _0x52ffd2=_0xdf93db['stem']||_0xdf93db[_0x10cd81(0x525)],_0x4ec7e7='';switch(_0x3cca63){case _0x10cd81(0x8ea):case _0x10cd81(0x959):_0x4ec7e7=_0xdf93db[_0x10cd81(0x6c2)]['map']((_0x249ad9,_0x1eb31b)=>_0x10cd81(0xb6c)+_0x1eb31b+_0x10cd81(0x8c5)+_0x1eb31b+_0x10cd81(0x506)+_0x1eb31b+'\x22>'+_0x249ad9+_0x10cd81(0x14f))[_0x10cd81(0x552)]('');break;case'true_false':_0x4ec7e7=_0x10cd81(0x912);break;case _0x10cd81(0x733):case'fill_in_no_choices':_0x4ec7e7='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>';break;case _0x10cd81(0x22d):_0x4ec7e7=_0x10cd81(0x527)+_0xdf93db[_0x10cd81(0x8b0)][_0x10cd81(0x9ca)](_0x152ee0=>_0x10cd81(0x15e)+_0x152ee0+'\x22>'+_0x152ee0+'</option>')['join']('')+_0x10cd81(0x74f);break;default:_0x4ec7e7=_0x10cd81(0xa3e);break;}studentQuizArea[_0x10cd81(0x2fe)]=_0x10cd81(0x622)+(localQuestionIndex+0x1)+_0x10cd81(0x751)+currentQuizData['questions']['length']+_0x10cd81(0x24c)+localTeamPlayers[_0x10cd81(0x552)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x52ffd2+_0x10cd81(0x250)+(_0xdf93db['imageCode']?_0x10cd81(0x718)+_0xdf93db['imageCode']+_0x10cd81(0x519):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x4ec7e7+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x10cd81(0x7f0)][_0x10cd81(0x4bd)](_0x10cd81(0x9ac));if(window[_0x10cd81(0x2e3)])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0x10cd81(0x40c))['addEventListener']('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x42492c,_0x1f593c=null,_0x56eb40,_0x18b418=null,_0x4e5aa4=![],_0x242920=null){const _0xaf002c=_0x57253e,_0x7df5a3=document[_0xaf002c(0x597)](_0xaf002c(0x186));_0x7df5a3&&_0x7df5a3[_0xaf002c(0x3ed)]({'behavior':_0xaf002c(0x864),'block':'center'}),generateQuiz(_0x42492c,_0x1f593c,null,_0x242920,!![],_0x56eb40,_0x18b418,_0x4e5aa4);}function handleGenerateAndShowLesson(_0x44b63f,_0x2ad22b){const _0x484c0a=_0x57253e,_0x2772bc=document[_0x484c0a(0x597)](_0x484c0a(0x98c)),_0x54b2d2=document[_0x484c0a(0x597)](_0x484c0a(0xb7a)),_0x3d3af2=document['getElementById'](_0x484c0a(0x271)),_0x558456=document['getElementById'](_0x484c0a(0x702));[_0x484c0a(0xb17),_0x484c0a(0xa07),_0x484c0a(0xc6f),'summaryContent']['forEach'](_0x2ad7b3=>{const _0x1d5dd7=_0x484c0a,_0x52e907=document[_0x1d5dd7(0x597)](_0x2ad7b3)[_0x1d5dd7(0x9f1)];_0x52e907&&(_0x52e907[_0x1d5dd7(0x819)][_0x1d5dd7(0x645)]=_0x1d5dd7(0x16d));}),_0x54b2d2[_0x484c0a(0x3a6)]=_0x484c0a(0x964)+_0x44b63f,_0x558456[_0x484c0a(0x7f0)][_0x484c0a(0x6e3)]('hidden'),_0x3d3af2['classList'][_0x484c0a(0x4bd)](_0x484c0a(0x9ac)),_0x2772bc[_0x484c0a(0x7f0)][_0x484c0a(0x4bd)](_0x484c0a(0x9ac)),generateLesson(_0x44b63f,_0x2ad22b)['catch'](_0x29a63e=>{const _0x2b2e0f=_0x484c0a;console[_0x2b2e0f(0x20d)](_0x2b2e0f(0x5ae),_0x29a63e),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x2772bc[_0x2b2e0f(0x7f0)]['add'](_0x2b2e0f(0x9ac));});}function handlePointerDown(_0x3ff63a){const _0x439762=_0x57253e;_0x3ff63a[_0x439762(0x3f5)]();const _0x2a1068=scratchpadCtx[_0x439762(0x173)],_0x541fc6=_0x2a1068[_0x439762(0x76f)](),_0xc4545a=_0x3ff63a['pointerType']||(_0x3ff63a['touches']?_0x439762(0x808):_0x439762(0xc0d));if(_0xc4545a===_0x439762(0x3d8)||_0xc4545a===_0x439762(0xc0d)){if(_0x3ff63a[_0x439762(0x54d)]==='mouse'&&_0x3ff63a[_0x439762(0xbc8)]!==0x0){_0x3ff63a['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x3ff63a[_0x439762(0x25b)],'y':_0x3ff63a['clientY']},_0x2a1068[_0x439762(0x819)][_0x439762(0x914)]='grabbing');return;}activeTool===_0x439762(0x567)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x17205f=getTransformedPoint(_0x3ff63a[_0x439762(0x25b)]-_0x541fc6[_0x439762(0x112)],_0x3ff63a[_0x439762(0x1da)]-_0x541fc6['top']);let _0x1848af={'tool':activeTool,'points':[_0x17205f]};if(activeTool===_0x439762(0x1c2))_0x1848af[_0x439762(0x901)]=scratchpadHighlighterColor,_0x1848af[_0x439762(0x78e)]=scratchpadHighlighterSize;else activeTool===_0x439762(0x567)?(_0x1848af[_0x439762(0x901)]=scratchpadPenColor,_0x1848af[_0x439762(0x78e)]=scratchpadPenSize):(_0x1848af[_0x439762(0x901)]=scratchpadPenColor,_0x1848af[_0x439762(0x78e)]=scratchpadPenSize);currentStroke=_0x1848af;}else _0x3ff63a[_0x439762(0x59f)]&&(_0x3ff63a[_0x439762(0x59f)][_0x439762(0x711)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x3ff63a['touches'][0x0]['clientX'],'y':_0x3ff63a['touches'][0x0]['clientY']},{'x':_0x3ff63a[_0x439762(0x59f)][0x1][_0x439762(0x25b)],'y':_0x3ff63a[_0x439762(0x59f)][0x1][_0x439762(0x1da)]}),initialPinchDistance=getDistance({'x':_0x3ff63a[_0x439762(0x59f)][0x0][_0x439762(0x25b)],'y':_0x3ff63a[_0x439762(0x59f)][0x0][_0x439762(0x1da)]},{'x':_0x3ff63a[_0x439762(0x59f)][0x1][_0x439762(0x25b)],'y':_0x3ff63a[_0x439762(0x59f)][0x1][_0x439762(0x1da)]})));}function animateTrail(){const _0x45603d=_0x57253e,_0x5a8461=Date[_0x45603d(0xa1b)]();let _0x430a27=![];for(let _0x5697cd=strokes[_0x45603d(0x711)]-0x1;_0x5697cd>=0x0;_0x5697cd--){const _0x4bc002=strokes[_0x5697cd];if(_0x4bc002[_0x45603d(0x333)]===_0x45603d(0x567)&&_0x4bc002[_0x45603d(0xb49)]){const _0x3b9b72=_0x5a8461-_0x4bc002[_0x45603d(0xb49)];_0x3b9b72>=TRAIL_DURATION?strokes[_0x45603d(0x951)](_0x5697cd,0x1):(_0x4bc002[_0x45603d(0x990)]=0x1-_0x3b9b72/TRAIL_DURATION,_0x430a27=!![]);}}redrawScratchpad(),_0x430a27?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x4e093b){const _0x381cd9=_0x57253e;if(!_0x4e093b||_0x4e093b[_0x381cd9(0xa4e)][_0x381cd9(0x711)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx['lineJoin']=_0x381cd9(0x298),scratchpadCtx[_0x381cd9(0xba0)]='round';if(_0x4e093b[_0x381cd9(0x333)]===_0x381cd9(0x567)){const _0x537a5f=_0x4e093b[_0x381cd9(0x78e)]/scratchpadScale;scratchpadCtx[_0x381cd9(0xbe8)]=_0x4e093b['opacity']??0x1,scratchpadCtx[_0x381cd9(0x8b5)]=_0x381cd9(0x227),scratchpadCtx[_0x381cd9(0xc3c)]=_0x537a5f*0x3,scratchpadCtx['strokeStyle']=_0x381cd9(0x1b2),scratchpadCtx['lineWidth']=_0x537a5f*2.5,scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x4e093b['points'][0x0]['x'],_0x4e093b[_0x381cd9(0xa4e)][0x0]['y']);for(let _0x2c38ed=0x1;_0x2c38ed<_0x4e093b[_0x381cd9(0xa4e)][_0x381cd9(0x711)]-0x1;_0x2c38ed++){const _0x1910a8=getMidpoint(_0x4e093b[_0x381cd9(0xa4e)][_0x2c38ed],_0x4e093b[_0x381cd9(0xa4e)][_0x2c38ed+0x1]);scratchpadCtx['quadraticCurveTo'](_0x4e093b[_0x381cd9(0xa4e)][_0x2c38ed]['x'],_0x4e093b[_0x381cd9(0xa4e)][_0x2c38ed]['y'],_0x1910a8['x'],_0x1910a8['y']);}scratchpadCtx[_0x381cd9(0x891)](),scratchpadCtx[_0x381cd9(0x8b5)]=_0x381cd9(0x23b),scratchpadCtx[_0x381cd9(0xc3c)]=0x0,scratchpadCtx['strokeStyle']=_0x381cd9(0xb34),scratchpadCtx[_0x381cd9(0x5ce)]=_0x537a5f,scratchpadCtx[_0x381cd9(0x891)](),scratchpadCtx['closePath']();}else{if(_0x4e093b[_0x381cd9(0x333)]===_0x381cd9(0x1c2)){scratchpadCtx[_0x381cd9(0xa56)]=_0x381cd9(0xa2e),scratchpadCtx[_0x381cd9(0xc1b)]=_0x4e093b[_0x381cd9(0x901)],scratchpadCtx[_0x381cd9(0x5ce)]=_0x4e093b[_0x381cd9(0x78e)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x381cd9(0x383)](_0x4e093b[_0x381cd9(0xa4e)][0x0]['x'],_0x4e093b[_0x381cd9(0xa4e)][0x0]['y']);for(let _0x4b6bb6=0x1;_0x4b6bb6<_0x4e093b['points'][_0x381cd9(0x711)]-0x1;_0x4b6bb6++){const _0x439ea2=getMidpoint(_0x4e093b[_0x381cd9(0xa4e)][_0x4b6bb6],_0x4e093b['points'][_0x4b6bb6+0x1]);scratchpadCtx[_0x381cd9(0x5c3)](_0x4e093b['points'][_0x4b6bb6]['x'],_0x4e093b[_0x381cd9(0xa4e)][_0x4b6bb6]['y'],_0x439ea2['x'],_0x439ea2['y']);}scratchpadCtx[_0x381cd9(0x891)](),scratchpadCtx[_0x381cd9(0x820)]();}else{scratchpadCtx[_0x381cd9(0xa56)]=_0x4e093b['tool']===_0x381cd9(0x31d)?'destination-out':_0x381cd9(0x608),scratchpadCtx[_0x381cd9(0xc1b)]=_0x4e093b[_0x381cd9(0x901)],scratchpadCtx['lineWidth']=_0x4e093b['size'],scratchpadCtx[_0x381cd9(0xa57)](),scratchpadCtx[_0x381cd9(0x383)](_0x4e093b[_0x381cd9(0xa4e)][0x0]['x'],_0x4e093b[_0x381cd9(0xa4e)][0x0]['y']);for(let _0x55490b=0x1;_0x55490b<_0x4e093b['points'][_0x381cd9(0x711)]-0x1;_0x55490b++){const _0x4e4719=getMidpoint(_0x4e093b[_0x381cd9(0xa4e)][_0x55490b],_0x4e093b[_0x381cd9(0xa4e)][_0x55490b+0x1]);scratchpadCtx['quadraticCurveTo'](_0x4e093b[_0x381cd9(0xa4e)][_0x55490b]['x'],_0x4e093b[_0x381cd9(0xa4e)][_0x55490b]['y'],_0x4e4719['x'],_0x4e4719['y']);}scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x381cd9(0xb9c)]();}function handlePointerMove(_0x13abf0){const _0x47cc05=_0x57253e;_0x13abf0[_0x47cc05(0x3f5)]();const _0x2c9466=scratchpadCtx['canvas'],_0x905b19=_0x2c9466['getBoundingClientRect']();if(_0x13abf0['touches']){if(_0x13abf0[_0x47cc05(0x59f)][_0x47cc05(0x711)]===0x1&&isDrawingOnScratchpad){const _0x4a0bd4=getTransformedPoint(_0x13abf0['touches'][0x0][_0x47cc05(0x25b)]-_0x905b19[_0x47cc05(0x112)],_0x13abf0[_0x47cc05(0x59f)][0x0][_0x47cc05(0x1da)]-_0x905b19[_0x47cc05(0xc6a)]);currentStroke[_0x47cc05(0xa4e)][_0x47cc05(0xa09)](_0x4a0bd4),redrawScratchpad();}else{if(_0x13abf0[_0x47cc05(0x59f)]['length']===0x2&&isPanning){const _0x5aa700=getDistance({'x':_0x13abf0[_0x47cc05(0x59f)][0x0][_0x47cc05(0x25b)],'y':_0x13abf0[_0x47cc05(0x59f)][0x0][_0x47cc05(0x1da)]},{'x':_0x13abf0[_0x47cc05(0x59f)][0x1]['clientX'],'y':_0x13abf0['touches'][0x1][_0x47cc05(0x1da)]}),_0x172135=getMidpoint({'x':_0x13abf0[_0x47cc05(0x59f)][0x0][_0x47cc05(0x25b)],'y':_0x13abf0[_0x47cc05(0x59f)][0x0][_0x47cc05(0x1da)]},{'x':_0x13abf0[_0x47cc05(0x59f)][0x1][_0x47cc05(0x25b)],'y':_0x13abf0[_0x47cc05(0x59f)][0x1][_0x47cc05(0x1da)]}),_0x52e6af=_0x5aa700/ initialPinchDistance,_0x476bdc=Math['min'](Math[_0x47cc05(0x3eb)](scratchpadScale*_0x52e6af,MIN_SCALE),MAX_SCALE),_0x196bdb=_0x172135['x']-panStart['x'],_0x107606=_0x172135['y']-panStart['y'];scratchpadOffset['x']=_0x172135['x']-(_0x172135['x']-scratchpadOffset['x'])*(_0x476bdc/scratchpadScale),scratchpadOffset['y']=_0x172135['y']-(_0x172135['y']-scratchpadOffset['y'])*(_0x476bdc/scratchpadScale),scratchpadOffset['x']+=_0x196bdb,scratchpadOffset['y']+=_0x107606,scratchpadScale=_0x476bdc,initialPinchDistance=_0x5aa700,panStart=_0x172135,redrawScratchpad();}}}else{if(isMousePanning){const _0x13b54f=_0x13abf0[_0x47cc05(0x25b)]-panStart['x'],_0x478025=_0x13abf0[_0x47cc05(0x1da)]-panStart['y'];scratchpadOffset['x']+=_0x13b54f,scratchpadOffset['y']+=_0x478025,panStart={'x':_0x13abf0[_0x47cc05(0x25b)],'y':_0x13abf0[_0x47cc05(0x1da)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x362b8b=getTransformedPoint(_0x13abf0[_0x47cc05(0x25b)]-_0x905b19[_0x47cc05(0x112)],_0x13abf0['clientY']-_0x905b19[_0x47cc05(0xc6a)]);currentStroke[_0x47cc05(0xa4e)]['push'](_0x362b8b),redrawScratchpad();}}}}function handlePointerUp(_0x4e5846){const _0x5c48ff=_0x57253e;_0x4e5846[_0x5c48ff(0x3f5)]();const _0x380890=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x380890[_0x5c48ff(0x819)][_0x5c48ff(0x914)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x5c48ff(0xa4e)][_0x5c48ff(0x711)]>0x1&&(strokes[_0x5c48ff(0xa09)](currentStroke),currentStroke[_0x5c48ff(0x333)]===_0x5c48ff(0x567)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x105038=_0x5c48ff,_0x5e2d2b=strokes['filter'](_0x11de20=>_0x11de20[_0x105038(0x333)]==='trail'&&!_0x11de20[_0x105038(0xb49)]);if(_0x5e2d2b[_0x105038(0x711)]>0x0){const _0x3e2bb5=Date[_0x105038(0xa1b)]();_0x5e2d2b[_0x105038(0xb68)](_0x46e73b=>_0x46e73b[_0x105038(0xb49)]=_0x3e2bb5),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x3b88f1){const _0x1873cb=_0x57253e;_0x3b88f1[_0x1873cb(0x3f5)]();const _0xd43756=_0x3b88f1[_0x1873cb(0x80b)]*-0.005,_0x5ce653=Math[_0x1873cb(0xca8)](Math['max'](scratchpadScale+_0xd43756,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x3b88f1['clientX']-(_0x3b88f1[_0x1873cb(0x25b)]-scratchpadOffset['x'])*(_0x5ce653/scratchpadScale),scratchpadOffset['y']=_0x3b88f1[_0x1873cb(0x1da)]-(_0x3b88f1[_0x1873cb(0x1da)]-scratchpadOffset['y'])*(_0x5ce653/scratchpadScale),scratchpadScale=_0x5ce653,redrawScratchpad();}function undo(){const _0x480d67=_0x57253e;strokes[_0x480d67(0x711)]>0x0&&(redoStrokes[_0x480d67(0xa09)](strokes[_0x480d67(0x6b1)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x179240=_0x57253e;redoStrokes[_0x179240(0x711)]>0x0&&(strokes[_0x179240(0xa09)](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x15e854=_0x57253e;document['getElementById'](_0x15e854(0xbcc))['disabled']=strokes[_0x15e854(0x711)]===0x0,document[_0x15e854(0x597)]('redo-btn')[_0x15e854(0x992)]=redoStrokes[_0x15e854(0x711)]===0x0;}function openScratchpad(_0x3b1751,_0x109a14){const _0x30ed33=_0x57253e,_0xf151f1=document['getElementById'](_0x30ed33(0x801)),_0xc75e28=document['getElementById'](_0x30ed33(0x810)),_0x3cde9b=document[_0x30ed33(0x597)](_0x30ed33(0xaa0)),_0xc23554=document[_0x30ed33(0x597)](_0x30ed33(0x59b));_0xc75e28['innerHTML']=_0x3b1751[_0x30ed33(0x2d4)]||_0x3b1751[_0x30ed33(0x525)],_0x3cde9b[_0x30ed33(0x2fe)]=_0x109a14[_0x30ed33(0x9ca)]((_0x272c62,_0xe21d3a)=>_0x30ed33(0x8c4)+String['fromCharCode'](0x41+_0xe21d3a)+'.\x20'+_0x272c62+_0x30ed33(0x519))['join'](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0xf151f1[_0x30ed33(0x7f0)][_0x30ed33(0x4bd)](_0x30ed33(0x9ac)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x30ed33(0x4b8)]([_0xc75e28,_0x3cde9b]);}function openBlueprintQuizSettings(){const _0x5a0863=_0x57253e,_0x299fa1=document['getElementById'](_0x5a0863(0x7f1)),_0x3180be=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document[_0x5a0863(0x597)](_0x5a0863(0xb31))[_0x5a0863(0x6f7)]=_0x3180be[_0x5a0863(0x2b3)]||document[_0x5a0863(0x597)](_0x5a0863(0x488))[_0x5a0863(0x6f7)],document['getElementById'](_0x5a0863(0x3f7))['innerHTML']=document[_0x5a0863(0x597)](_0x5a0863(0x55f))[_0x5a0863(0x2fe)],document[_0x5a0863(0x597)](_0x5a0863(0x3f7))[_0x5a0863(0x6f7)]=_0x3180be[_0x5a0863(0x9ef)]||document[_0x5a0863(0x597)](_0x5a0863(0x55f))[_0x5a0863(0x6f7)],document['getElementById'](_0x5a0863(0xb99))[_0x5a0863(0x2fe)]=document[_0x5a0863(0x597)](_0x5a0863(0x3f0))[_0x5a0863(0x2fe)],document['getElementById'](_0x5a0863(0xb99))['value']=_0x3180be['complexityValue']||document[_0x5a0863(0x597)](_0x5a0863(0x3f0))[_0x5a0863(0x6f7)],document['getElementById']('bp-modal-num-questions')[_0x5a0863(0x6f7)]=_0x3180be['numQuestions']||document[_0x5a0863(0x597)](_0x5a0863(0x9db))[_0x5a0863(0x6f7)],document[_0x5a0863(0x597)](_0x5a0863(0x57a))['value']=_0x3180be[_0x5a0863(0x300)]||document[_0x5a0863(0x597)](_0x5a0863(0x470))['value'],document[_0x5a0863(0x597)](_0x5a0863(0x4a6))[_0x5a0863(0x6f7)]=_0x3180be[_0x5a0863(0x568)]||document['getElementById'](_0x5a0863(0x166))[_0x5a0863(0x6f7)],document[_0x5a0863(0x597)]('bp-modal-shuffle-setting-select')[_0x5a0863(0x6f7)]=_0x3180be[_0x5a0863(0x7ad)]||document[_0x5a0863(0x597)](_0x5a0863(0xa95))[_0x5a0863(0x6f7)],document[_0x5a0863(0x597)]('bp-modal-include-images-checkbox')['checked']=_0x3180be[_0x5a0863(0x5c5)]||document['getElementById']('include-images-checkbox')[_0x5a0863(0x641)],_0x299fa1[_0x5a0863(0x7f0)][_0x5a0863(0x4bd)](_0x5a0863(0x9ac));}function handleSaveBlueprintPageSettings(){const _0x1c596c=_0x57253e;blueprintPageSettings={'quizType':document[_0x1c596c(0x597)]('bp-modal-quiz-type-select')[_0x1c596c(0x6f7)],'difficultyValue':document['getElementById'](_0x1c596c(0x3f7))[_0x1c596c(0x6f7)],'complexityValue':document[_0x1c596c(0x597)](_0x1c596c(0xb99))[_0x1c596c(0x6f7)],'numQuestions':document[_0x1c596c(0x597)](_0x1c596c(0xc58))[_0x1c596c(0x6f7)],'passingScore':document[_0x1c596c(0x597)]('bp-modal-passing-score-input')[_0x1c596c(0x6f7)],'numChoices':document['getElementById'](_0x1c596c(0x4a6))[_0x1c596c(0x6f7)],'shuffle':document[_0x1c596c(0x597)]('bp-modal-shuffle-setting-select')[_0x1c596c(0x6f7)],'includeImages':document[_0x1c596c(0x597)](_0x1c596c(0xac4))[_0x1c596c(0x641)]},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document[_0x1c596c(0x597)](_0x1c596c(0x7f1))['classList'][_0x1c596c(0x6e3)](_0x1c596c(0x9ac));}function listenForParallelTestShortcuts(){const _0x2033f7=_0x57253e,_0x8aee92=doc(db,_0x2033f7(0x302),_0x2033f7(0x6ec));onSnapshot(_0x8aee92,_0x5429b2=>{const _0x4e331f=_0x2033f7;let _0x311d43=[],_0x1243b4=[],_0x29664c={};if(_0x5429b2[_0x4e331f(0xabe)]()){const _0x5c7c9c=_0x5429b2[_0x4e331f(0x533)]();_0x311d43=_0x5c7c9c[_0x4e331f(0xb3a)]||[],_0x1243b4=_0x5c7c9c[_0x4e331f(0x4e6)]||[],_0x29664c=_0x5c7c9c[_0x4e331f(0x402)]||{};}!_0x1243b4['find'](_0x35dfab=>_0x35dfab['id']===_0x4e331f(0x52b))&&_0x1243b4[_0x4e331f(0x155)]({'id':_0x4e331f(0x52b),'name':_0x4e331f(0x502),'isDefault':!![]}),!_0x311d43['find'](_0x4ce05f=>_0x4ce05f['id']===_0x4e331f(0x3f4))&&_0x311d43[_0x4e331f(0x155)]({'id':_0x4e331f(0x3f4),'name':_0x4e331f(0xbf8),'url':'','isDefault':!![]}),!_0x311d43[_0x4e331f(0x1bc)](_0x53a6a6=>_0x53a6a6['id']===_0x4e331f(0x4c0))&&_0x311d43[_0x4e331f(0x155)]({'id':_0x4e331f(0x4c0),'name':'ต้นฉบับ\x202','url':'','isDefault':!![]}),parallelTestShortcuts=_0x311d43,parallelShortcutTabs=_0x1243b4,parallelShortcutOrder=_0x29664c,renderParallelTestShortcuts(),!document[_0x4e331f(0x597)](_0x4e331f(0xa12))[_0x4e331f(0x7f0)][_0x4e331f(0x1ef)](_0x4e331f(0x9ac))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x17591d=_0x57253e,_0x5c02b5=doc(db,'globalSettings',_0x17591d(0x6ec));try{await setDoc(_0x5c02b5,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x33833a){console[_0x17591d(0x20d)](_0x17591d(0x8f7),_0x33833a);}}function renderAdditionalParallelShortcutsModal(){const _0x153a52=_0x57253e,_0x437996=document[_0x153a52(0x597)](_0x153a52(0x55d)),_0x30c00f=document[_0x153a52(0x597)](_0x153a52(0x581));if(!_0x437996||!_0x30c00f)return;_0x437996[_0x153a52(0x2fe)]=parallelShortcutTabs[_0x153a52(0x9ca)](_0x18c9b9=>{const _0x37909f=_0x153a52,_0x1ba51f=_0x18c9b9['id']===activeParallelShortcutTabId;return _0x37909f(0x17b)+_0x18c9b9['id']+_0x37909f(0xa05)+(_0x1ba51f?'border-indigo-500\x20text-indigo-600':'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x37909f(0x245)+_0x18c9b9[_0x37909f(0x309)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x18c9b9[_0x37909f(0x309)]+_0x37909f(0x26b)+(!_0x18c9b9[_0x37909f(0xc6e)]?_0x37909f(0xc0f)+_0x18c9b9['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x37909f(0xc91);})[_0x153a52(0x552)]('');const _0x17077b=parallelShortcutTabs[_0x153a52(0x1bc)](_0x25eb34=>_0x25eb34['id']===activeParallelShortcutTabId);let _0x205d96=_0x17077b?.[_0x153a52(0xc6e)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x153a52(0xa32)](_0x17a802=>(_0x17077b?.[_0x153a52(0xaf9)]||[])[_0x153a52(0x1d1)](_0x17a802['id']));const _0x15c7c0=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x205d96[_0x153a52(0x2d6)]((_0x28ae6d,_0x373053)=>{const _0x24ac08=_0x153a52,_0x31f5a=_0x15c7c0['indexOf'](_0x28ae6d['id']),_0x105526=_0x15c7c0[_0x24ac08(0xc54)](_0x373053['id']);return(_0x31f5a===-0x1?Infinity:_0x31f5a)-(_0x105526===-0x1?Infinity:_0x105526);}),_0x30c00f['innerHTML']=_0x205d96[_0x153a52(0x9ca)](_0x398d0c=>{const _0x3e286b=_0x153a52,_0x6fc237=_0x398d0c[_0x3e286b(0x695)]?'🔁':'🔗',_0x355c2e=parallelShortcutTabs[_0x3e286b(0xa32)](_0x19766d=>!_0x19766d[_0x3e286b(0xc6e)]),_0x4bb2d3=_0x17077b[_0x3e286b(0xc6e)]&&_0x355c2e['length']>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x355c2e[_0x3e286b(0x9ca)](_0x3c0d09=>_0x3e286b(0xbe7)+_0x398d0c['id']+_0x3e286b(0x272)+_0x3c0d09['id']+'\x22>'+_0x3c0d09[_0x3e286b(0x309)]+_0x3e286b(0xc3d))['join']('')+_0x3e286b(0x48d):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x398d0c['id']+_0x3e286b(0x798)+_0x6fc237+'\x20'+_0x398d0c[_0x3e286b(0x309)]+_0x3e286b(0xb93)+_0x398d0c['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x398d0c['id']+_0x3e286b(0x95f)+(!_0x398d0c[_0x3e286b(0xc6e)]?_0x3e286b(0x736)+_0x398d0c['id']+_0x3e286b(0x944):'')+_0x3e286b(0xab7)+(!_0x17077b['isDefault']?_0x3e286b(0xc18)+_0x398d0c['id']+_0x3e286b(0x535):'')+_0x3e286b(0xab7)+_0x4bb2d3+_0x3e286b(0x815);})[_0x153a52(0x552)]('')||_0x153a52(0xa92),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x3e0052=_0x57253e;document['querySelectorAll'](_0x3e0052(0x556))['forEach'](_0x5c8356=>{_0x5c8356['onclick']=_0x338e14=>{const _0x306247=_0x4216;activeParallelShortcutTabId=_0x338e14[_0x306247(0x656)]['dataset'][_0x306247(0x199)],renderAdditionalParallelShortcutsModal();},_0x5c8356['ondblclick']=_0x29fe23=>{const _0x5e6308=_0x4216,_0x3e28a0=_0x29fe23['currentTarget'][_0x5e6308(0x7b3)](_0x5e6308(0x5aa));_0x29fe23['currentTarget'][_0x5e6308(0x7b3)]('.tab-name-display')['classList'][_0x5e6308(0x6e3)](_0x5e6308(0x9ac)),_0x3e28a0[_0x5e6308(0x7f0)][_0x5e6308(0x4bd)](_0x5e6308(0x9ac)),_0x3e28a0['focus'](),_0x3e28a0['select']();};}),document[_0x3e0052(0x40f)](_0x3e0052(0x95c))['forEach'](_0x9929=>{const _0x38387c=_0x3e0052,_0xefe307=()=>{const _0xb080ce=_0x4216,_0x36fb92=_0x9929[_0xb080ce(0x4dc)](_0xb080ce(0x556))['dataset']['tabId'],_0x50f368=parallelShortcutTabs[_0xb080ce(0x1bc)](_0x41a34e=>_0x41a34e['id']===_0x36fb92);_0x50f368&&(_0x50f368[_0xb080ce(0x309)]=_0x9929[_0xb080ce(0x6f7)]['trim']()||_0x50f368[_0xb080ce(0x309)],saveParallelShortcutConfig());};_0x9929[_0x38387c(0xa33)]=_0xefe307,_0x9929[_0x38387c(0x4af)]=_0x5ca6de=>{const _0xd00b11=_0x38387c;if(_0x5ca6de[_0xd00b11(0x555)]===_0xd00b11(0x7f5))_0x9929['blur']();};}),document['querySelectorAll'](_0x3e0052(0x23d))[_0x3e0052(0xb68)](_0x3f130e=>_0x3f130e[_0x3e0052(0x1f8)]=_0x10fe17=>{const _0x103e50=_0x3e0052,_0x1880a9=_0x10fe17[_0x103e50(0x656)]['dataset'][_0x103e50(0x199)];showConfirmation(_0x103e50(0xc47),()=>{const _0x262d23=_0x103e50;parallelShortcutTabs=parallelShortcutTabs[_0x262d23(0xa32)](_0x5cd0a2=>_0x5cd0a2['id']!==_0x1880a9),delete parallelShortcutOrder[_0x1880a9];if(activeParallelShortcutTabId===_0x1880a9)activeParallelShortcutTabId=_0x262d23(0x52b);saveParallelShortcutConfig();});}),document['querySelectorAll']('.move-parallel-shortcut-item')[_0x3e0052(0xb68)](_0x4018a8=>_0x4018a8[_0x3e0052(0x1f8)]=_0xb6f1ba=>{const _0x369b79=_0x3e0052;_0xb6f1ba[_0x369b79(0x3f5)]();const {shortcutId:_0x233db0,targetTabId:_0x23bdbf}=_0xb6f1ba['currentTarget']['dataset'],_0x59e983=parallelShortcutTabs[_0x369b79(0x1bc)](_0x562e45=>_0x562e45['id']===_0x23bdbf);_0x59e983&&!_0x59e983[_0x369b79(0xaf9)]['includes'](_0x233db0)&&(_0x59e983[_0x369b79(0xaf9)][_0x369b79(0xa09)](_0x233db0),saveParallelShortcutConfig());}),document[_0x3e0052(0x40f)](_0x3e0052(0x3d1))[_0x3e0052(0xb68)](_0x5c3e26=>_0x5c3e26['onclick']=_0x55c16e=>{const _0x150b3c=_0x3e0052,_0x50a09f=_0x55c16e[_0x150b3c(0x656)]['dataset'][_0x150b3c(0x4c7)],_0x513b60=parallelShortcutTabs['find'](_0x14ed0b=>_0x14ed0b['id']===activeParallelShortcutTabId);_0x513b60&&!_0x513b60[_0x150b3c(0xc6e)]&&(_0x513b60[_0x150b3c(0xaf9)]=_0x513b60['shortcutIds'][_0x150b3c(0xa32)](_0x1afadb=>_0x1afadb!==_0x50a09f),saveParallelShortcutConfig());}),document[_0x3e0052(0x40f)](_0x3e0052(0xb1c))[_0x3e0052(0xb68)](_0x2d5745=>_0x2d5745[_0x3e0052(0x1f8)]=_0x16263d=>{const _0x274ceb=_0x3e0052;_0x16263d[_0x274ceb(0x5a7)]();const _0x77b39f=_0x16263d[_0x274ceb(0x656)][_0x274ceb(0x994)];document['querySelectorAll'](_0x274ceb(0x913))[_0x274ceb(0xb68)](_0x1fabe2=>_0x1fabe2[_0x274ceb(0x7f0)][_0x274ceb(0x6e3)](_0x274ceb(0x9ac))),_0x77b39f['classList']['remove']('hidden');});const _0x48355d=document[_0x3e0052(0x597)](_0x3e0052(0x581));let _0x2528aa=null;_0x48355d['ondragstart']=_0x5e95c5=>{const _0x332732=_0x3e0052;_0x2528aa=_0x5e95c5[_0x332732(0xaa3)][_0x332732(0x4dc)](_0x332732(0x592));if(_0x2528aa)setTimeout(()=>_0x2528aa[_0x332732(0x7f0)][_0x332732(0x6e3)]('opacity-50'),0x0);},_0x48355d['ondragend']=()=>{const _0x48b0f2=_0x3e0052;_0x2528aa&&(_0x2528aa['classList'][_0x48b0f2(0x4bd)]('opacity-50'),_0x2528aa=null);},_0x48355d['ondragover']=_0x2fd8d6=>{const _0x4bfd26=_0x3e0052;_0x2fd8d6[_0x4bfd26(0x3f5)]();},_0x48355d[_0x3e0052(0x762)]=_0x41fdd2=>{const _0x1977cc=_0x3e0052;_0x41fdd2[_0x1977cc(0x3f5)]();if(_0x2528aa){const _0xef90c8=[..._0x48355d[_0x1977cc(0x40f)](_0x1977cc(0x5eb))]['reduce']((_0x372bed,_0xd5ccfa)=>{const _0x2b5353=_0x1977cc,_0x333ccb=_0xd5ccfa['getBoundingClientRect'](),_0x583c91=_0x41fdd2[_0x2b5353(0x1da)]-_0x333ccb[_0x2b5353(0xc6a)]-_0x333ccb[_0x2b5353(0x3dd)]/0x2;return _0x583c91<0x0&&_0x583c91>_0x372bed[_0x2b5353(0x3f3)]?{'offset':_0x583c91,'element':_0xd5ccfa}:_0x372bed;},{'offset':Number[_0x1977cc(0x62d)]})[_0x1977cc(0x818)];_0xef90c8==null?_0x48355d['appendChild'](_0x2528aa):_0x48355d[_0x1977cc(0x564)](_0x2528aa,_0xef90c8);const _0xa3642d=[..._0x48355d['querySelectorAll'](_0x1977cc(0x592))][_0x1977cc(0x9ca)](_0x42c529=>_0x42c529[_0x1977cc(0x7a0)][_0x1977cc(0x4c7)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0xa3642d,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x2e36ee=_0x57253e,_0x212500=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x2e36ee(0xb88));_0x212500&&_0x212500['trim']()&&(parallelShortcutTabs['push']({'id':_0x2e36ee(0xc7c)+Date[_0x2e36ee(0xa1b)](),'name':_0x212500[_0x2e36ee(0x365)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x3efdd6=_0x57253e,_0x59b429=document[_0x3efdd6(0x597)](_0x3efdd6(0xc1d)),_0x2eee53=document[_0x3efdd6(0x597)](_0x3efdd6(0x581)),_0x8dc5a0=document[_0x3efdd6(0x597)](_0x3efdd6(0x85d));if(_0x8dc5a0)_0x8dc5a0[_0x3efdd6(0x7f0)][_0x3efdd6(0x6e3)]('hidden');if(!_0x59b429||!_0x2eee53)return;const _0x278256=parallelTestShortcuts[_0x3efdd6(0xa65)](0x0,0x4),_0x169a31=parallelTestShortcuts[_0x3efdd6(0xa65)](0x4);_0x59b429['innerHTML']=_0x278256[_0x3efdd6(0x9ca)](_0x521612=>{const _0x275197=_0x3efdd6,_0x173876=_0x521612[_0x275197(0x695)]&&_0x521612['url'][_0x275197(0x365)]()!=='',_0x3a1fe4=_0x173876?_0x275197(0x750):_0x275197(0x2e6),_0x5a82ec=_0x173876?'🔁':'🔗',_0x401aba=!_0x521612['isDefault']?_0x275197(0x736)+_0x521612['id']+_0x275197(0xc3a):'';return _0x275197(0x609)+_0x521612['id']+'\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x3a1fe4+_0x275197(0x46b)+_0x5a82ec+'\x20'+_0x521612['name']+_0x275197(0x16c)+_0x521612['id']+_0x275197(0x435)+_0x401aba+_0x275197(0x1fc);})['join'](''),_0x169a31[_0x3efdd6(0x711)]>0x0&&(_0x59b429['innerHTML']+=_0x3efdd6(0x41f)),_0x169a31[_0x3efdd6(0x711)]>0x0?_0x2eee53[_0x3efdd6(0x2fe)]=_0x169a31['map'](_0xe624b6=>_0x3efdd6(0x745)+(_0xe624b6[_0x3efdd6(0x695)]?'🔁':'🔗')+'\x20'+_0xe624b6[_0x3efdd6(0x309)]+_0x3efdd6(0x476)+_0xe624b6['id']+_0x3efdd6(0x8cf)+_0xe624b6['id']+_0x3efdd6(0x7e5)+(!_0xe624b6[_0x3efdd6(0xc6e)]?_0x3efdd6(0x736)+_0xe624b6['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3efdd6(0x552)](''):_0x2eee53['innerHTML']=_0x3efdd6(0x212);}function openParallelTestShortcutEditor(_0x53f986=null){const _0x4de54c=_0x57253e,_0x390048=document['getElementById'](_0x4de54c(0x993)),_0xa17598=document[_0x4de54c(0x597)]('parallel-shortcut-modal-title'),_0x513a19=document['getElementById']('parallel-shortcut-id-input'),_0xef1ab2=document[_0x4de54c(0x597)](_0x4de54c(0x325)),_0xfc6644=document['getElementById']('parallel-shortcut-url-input');if(_0x53f986){const _0x49f648=parallelTestShortcuts[_0x4de54c(0x1bc)](_0x2136c8=>_0x2136c8['id']===_0x53f986);if(!_0x49f648)return;_0xa17598[_0x4de54c(0x3a6)]=_0x4de54c(0x89b),_0x513a19[_0x4de54c(0x6f7)]=_0x49f648['id'],_0xef1ab2[_0x4de54c(0x6f7)]=_0x49f648['name'],_0xfc6644[_0x4de54c(0x6f7)]=_0x49f648[_0x4de54c(0x695)]||'';}else _0xa17598[_0x4de54c(0x3a6)]=_0x4de54c(0xa34),_0x513a19[_0x4de54c(0x6f7)]='',_0xef1ab2['value']='',_0xfc6644['value']='';_0x390048[_0x4de54c(0x7f0)]['remove'](_0x4de54c(0x9ac));}async function saveParallelTestShortcutChanges(){const _0x5d67d6=_0x57253e,_0x3a566c=document[_0x5d67d6(0x597)](_0x5d67d6(0x49e))[_0x5d67d6(0x6f7)],_0xc791f=document[_0x5d67d6(0x597)](_0x5d67d6(0x325))[_0x5d67d6(0x6f7)][_0x5d67d6(0x365)](),_0x192330=document[_0x5d67d6(0x597)]('parallel-shortcut-url-input')[_0x5d67d6(0x6f7)][_0x5d67d6(0x365)]();if(!_0xc791f){showMessage(_0x5d67d6(0x242));return;}const _0x40872f={'id':_0x3a566c||_0x5d67d6(0x624)+Date[_0x5d67d6(0xa1b)](),'name':_0xc791f,'url':_0x192330,'isDefault':_0x3a566c['startsWith'](_0x5d67d6(0x202))};let _0x474768;_0x3a566c?_0x474768=parallelTestShortcuts[_0x5d67d6(0x9ca)](_0x3703a0=>_0x3703a0['id']===_0x3a566c?_0x40872f:_0x3703a0):_0x474768=[...parallelTestShortcuts,_0x40872f];try{const _0xf89929=doc(db,_0x5d67d6(0x302),_0x5d67d6(0x6ec));await setDoc(_0xf89929,{'shortcuts':_0x474768},{'merge':!![]}),document['getElementById'](_0x5d67d6(0x993))[_0x5d67d6(0x7f0)][_0x5d67d6(0x6e3)](_0x5d67d6(0x9ac));}catch(_0x4acb53){console['error']('Error\x20saving\x20parallel\x20shortcut:',_0x4acb53),showMessage(_0x5d67d6(0x644));}}async function handleParallelTestShortcutClick(_0x5db8e6){const _0x3d66e1=_0x57253e,_0x5da23e=parallelTestShortcuts[_0x3d66e1(0x1bc)](_0x269795=>_0x269795['id']===_0x5db8e6);if(!_0x5da23e)return;if(!_0x5da23e[_0x3d66e1(0x695)]||_0x5da23e[_0x3d66e1(0x695)][_0x3d66e1(0x365)]()===''){openParallelTestShortcutEditor(_0x5db8e6);return;}const _0x117fe7=document[_0x3d66e1(0x597)]('loader'),_0x5a1bcd=document[_0x3d66e1(0x597)](_0x3d66e1(0x697));document[_0x3d66e1(0x597)](_0x3d66e1(0x186))['classList']['remove'](_0x3d66e1(0x9ac)),document[_0x3d66e1(0x597)](_0x3d66e1(0x2c0))['innerHTML']='',_0x117fe7['classList']['remove'](_0x3d66e1(0x9ac)),_0x5a1bcd[_0x3d66e1(0x3a6)]=_0x3d66e1(0x55a);try{let _0x501d2e;_0x5da23e[_0x3d66e1(0x695)][_0x3d66e1(0x6c8)]()['includes'](_0x3d66e1(0x696))?_0x501d2e='source_document.txt':_0x501d2e='source_document.pdf';const _0x5d2a28=await fetchFileFromUrl(_0x5da23e[_0x3d66e1(0x695)],_0x501d2e);await handleGenerateParallelTest(_0x5d2a28);}catch(_0x85c36f){console['error'](_0x3d66e1(0x961),_0x85c36f),showMessage(_0x3d66e1(0x653)+_0x85c36f['message']),_0x117fe7[_0x3d66e1(0x7f0)][_0x3d66e1(0x6e3)](_0x3d66e1(0x9ac));}}function initializeScratchpadCanvas(){const _0x13ba44=_0x57253e,_0x275685=document[_0x13ba44(0x597)]('scratchpad-canvas'),_0x231664=document[_0x13ba44(0x7b3)](_0x13ba44(0x79e));if(!_0x275685||!_0x231664)return;scratchpadCtx=_0x275685[_0x13ba44(0x9e7)]('2d',{'willReadFrequently':!![]});const _0x5e3cc9=window[_0x13ba44(0x123)]||0x1,_0x38cf51=_0x231664['getBoundingClientRect']();_0x275685[_0x13ba44(0x1b8)]=_0x38cf51[_0x13ba44(0x1b8)]*_0x5e3cc9,_0x275685[_0x13ba44(0x3dd)]=_0x38cf51[_0x13ba44(0x3dd)]*_0x5e3cc9,_0x275685[_0x13ba44(0x819)]['width']=_0x38cf51[_0x13ba44(0x1b8)]+'px',_0x275685[_0x13ba44(0x819)][_0x13ba44(0x3dd)]=_0x38cf51[_0x13ba44(0x3dd)]+'px',scratchpadCtx['scale'](_0x5e3cc9,_0x5e3cc9),scratchpadCtx[_0x13ba44(0x619)]=_0x13ba44(0x298),scratchpadCtx[_0x13ba44(0xba0)]=_0x13ba44(0x298),_0x275685[_0x13ba44(0x713)](_0x13ba44(0x291),handlePointerDown),_0x275685[_0x13ba44(0x713)](_0x13ba44(0xb1e),handlePointerMove),_0x275685[_0x13ba44(0x713)](_0x13ba44(0x32a),handlePointerUp),_0x275685[_0x13ba44(0x713)]('pointercancel',handlePointerUp),_0x275685[_0x13ba44(0x713)]('wheel',handleWheel),_0x275685['removeEventListener'](_0x13ba44(0x3c6),handlePointerDown),_0x275685[_0x13ba44(0x713)]('touchmove',handlePointerMove),_0x275685[_0x13ba44(0x713)](_0x13ba44(0x598),handlePointerUp),_0x275685[_0x13ba44(0x161)](_0x13ba44(0x291),handlePointerDown),_0x275685[_0x13ba44(0x161)](_0x13ba44(0xb1e),handlePointerMove),_0x275685[_0x13ba44(0x161)](_0x13ba44(0x32a),handlePointerUp),_0x275685[_0x13ba44(0x161)](_0x13ba44(0xab4),handlePointerUp),_0x275685['addEventListener'](_0x13ba44(0xc09),handleWheel,{'passive':![]}),_0x275685[_0x13ba44(0x161)](_0x13ba44(0x3c6),handlePointerDown,{'passive':![]}),_0x275685['addEventListener'](_0x13ba44(0x345),handlePointerMove,{'passive':![]}),_0x275685[_0x13ba44(0x161)](_0x13ba44(0x598),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x342b49=_0x57253e,_0x45a9b9=document[_0x342b49(0x597)](_0x342b49(0x801)),_0x4a3e5c=document[_0x342b49(0x597)]('scratchpad-controls');_0x4a3e5c[_0x342b49(0x2fe)]=_0x342b49(0xc59)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x1c2372=document['getElementById'](_0x342b49(0x911)),_0x1f85f8=document[_0x342b49(0x597)](_0x342b49(0x789)),_0x18ca52=document['getElementById']('trail-tool-btn'),_0x493460=document[_0x342b49(0x597)](_0x342b49(0x746)),_0x5eec0e=document[_0x342b49(0x597)](_0x342b49(0xc34)),_0x46ff51=document[_0x342b49(0x597)](_0x342b49(0x952)),_0x549247=[_0x1c2372,_0x1f85f8,_0x18ca52,_0x493460];document[_0x342b49(0x597)]('scratchpad-close-btn')['addEventListener'](_0x342b49(0x82f),()=>_0x45a9b9[_0x342b49(0x7f0)]['add'](_0x342b49(0x9ac))),document[_0x342b49(0x597)](_0x342b49(0xaa5))[_0x342b49(0x161)](_0x342b49(0x82f),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x342b49(0x597)](_0x342b49(0x882))[_0x342b49(0x161)](_0x342b49(0x82f),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x342b49(0x597)]('undo-btn')[_0x342b49(0x161)](_0x342b49(0x82f),undo),document[_0x342b49(0x597)](_0x342b49(0x7ec))[_0x342b49(0x161)](_0x342b49(0x82f),redo);const _0x496049=_0x348180=>{const _0x58e5fd=_0x342b49;_0x549247[_0x58e5fd(0xb68)](_0x10b520=>_0x10b520[_0x58e5fd(0x7f0)][_0x58e5fd(0x4bd)](_0x58e5fd(0xbe2))),_0x348180[_0x58e5fd(0x7f0)][_0x58e5fd(0x6e3)](_0x58e5fd(0xbe2));const _0x53fca1=_0x348180===_0x493460;_0x5eec0e[_0x58e5fd(0x7f0)][_0x58e5fd(0x8eb)](_0x58e5fd(0x9ac),_0x53fca1),_0x46ff51[_0x58e5fd(0x7f0)][_0x58e5fd(0x8eb)](_0x58e5fd(0x9ac),!_0x53fca1);};_0x1c2372['addEventListener'](_0x342b49(0x82f),()=>{activeTool='pen',_0x496049(_0x1c2372);}),_0x1f85f8[_0x342b49(0x161)](_0x342b49(0x82f),()=>{activeTool='eraser',_0x496049(_0x1f85f8);}),_0x18ca52[_0x342b49(0x161)]('click',()=>{const _0x50950e=_0x342b49;activeTool=_0x50950e(0x567),_0x496049(_0x18ca52);}),_0x493460['addEventListener'](_0x342b49(0x82f),()=>{const _0x4a9a64=_0x342b49;activeTool=_0x4a9a64(0x1c2),_0x496049(_0x493460);}),_0x5eec0e[_0x342b49(0x40f)]('.pen-size-btn')[_0x342b49(0xb68)](_0x1bef74=>{const _0x35fd1=_0x342b49;_0x1bef74[_0x35fd1(0x161)](_0x35fd1(0x82f),_0x42861f=>{const _0xd3709c=_0x35fd1;scratchpadPenSize=parseInt(_0x42861f['target'][_0xd3709c(0x7a0)][_0xd3709c(0x78e)],0xa),_0x5eec0e[_0xd3709c(0x40f)](_0xd3709c(0x56a))[_0xd3709c(0xb68)](_0x40e679=>_0x40e679['classList'][_0xd3709c(0x4bd)](_0xd3709c(0xbe2))),_0x42861f[_0xd3709c(0xaa3)]['classList']['add'](_0xd3709c(0xbe2));});}),_0x5eec0e['querySelectorAll'](_0x342b49(0x477))[_0x342b49(0xb68)](_0x51a249=>{const _0x3da42d=_0x342b49;_0x51a249[_0x3da42d(0x161)](_0x3da42d(0x82f),_0x1131c9=>{const _0x11168f=_0x3da42d;scratchpadPenColor=_0x1131c9[_0x11168f(0xaa3)][_0x11168f(0x7a0)][_0x11168f(0x901)],_0x5eec0e[_0x11168f(0x40f)](_0x11168f(0x477))['forEach'](_0x45813a=>_0x45813a['classList']['remove']('active')),_0x1131c9[_0x11168f(0xaa3)][_0x11168f(0x7f0)]['add'](_0x11168f(0xbe2));});}),_0x46ff51[_0x342b49(0x40f)](_0x342b49(0xc3e))[_0x342b49(0xb68)](_0x130d17=>{const _0x562e7d=_0x342b49;_0x130d17[_0x562e7d(0x161)](_0x562e7d(0x82f),_0x279266=>{const _0x31afb3=_0x562e7d;scratchpadHighlighterColor=_0x279266[_0x31afb3(0xaa3)][_0x31afb3(0x7a0)]['color'],_0x46ff51['querySelectorAll'](_0x31afb3(0xc3e))[_0x31afb3(0xb68)](_0x1122b4=>_0x1122b4[_0x31afb3(0x7f0)]['remove'](_0x31afb3(0xbe2))),_0x279266[_0x31afb3(0xaa3)][_0x31afb3(0x7f0)][_0x31afb3(0x6e3)](_0x31afb3(0xbe2));});});const _0x305a65=document[_0x342b49(0x597)](_0x342b49(0xafc)),_0x344a1d=document['getElementById'](_0x342b49(0xc8c));_0x305a65['addEventListener']('input',_0x4d2820=>{const _0x355cfc=_0x342b49,_0x2229a7=parseInt(_0x4d2820['target'][_0x355cfc(0x6f7)],0xa);scratchpadHighlighterSize=_0x2229a7,_0x344a1d['textContent']=_0x2229a7;}),window[_0x342b49(0x161)]('resize',()=>{const _0x1f8acc=_0x342b49;!_0x45a9b9[_0x1f8acc(0x7f0)][_0x1f8acc(0x1ef)]('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x57253e(0x389),'name':'คะแนนเต็ม','description':_0x57253e(0x7be),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x57253e(0x1fb),'description':_0x57253e(0x42a),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x57253e(0x3c9),'name':_0x57253e(0x8f0),'description':_0x57253e(0xa78),'icon':_0x57253e(0x3da)},'FIRST_TRY_ACE':{'id':_0x57253e(0x717),'name':_0x57253e(0xb4c),'description':_0x57253e(0x264),'icon':_0x57253e(0x3bd)},'COMEBACK_KING':{'id':_0x57253e(0x70b),'name':_0x57253e(0x393),'description':_0x57253e(0x257),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x57253e(0x1a3),'name':'ผู้เชี่ยวชาญ','description':_0x57253e(0x8ca),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x57253e(0x61e),'name':_0x57253e(0x192),'description':_0x57253e(0x2f7),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x57253e(0x81b),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':'ai-quiz-app-aefee','storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':'274192258111','appId':_0x57253e(0xae2),'measurementId':_0x57253e(0x3cd)},appId=typeof __app_id!==_0x57253e(0x846)?__app_id:'ai-quiz-generator-v3',adminView=document[_0x57253e(0x597)](_0x57253e(0x90e)),studentView=document[_0x57253e(0x597)](_0x57253e(0x1d8)),projectDashboardView=document[_0x57253e(0x597)](_0x57253e(0xb82)),projectDetailView=document[_0x57253e(0x597)](_0x57253e(0xb40)),quizResultsView=document['getElementById'](_0x57253e(0x8e9)),projectList=document[_0x57253e(0x597)]('project-list'),noProjectsMsg=document[_0x57253e(0x597)]('no-projects-msg'),projectTitle=document[_0x57253e(0x597)](_0x57253e(0x73a)),projectIdDisplay=document[_0x57253e(0x597)](_0x57253e(0x2c1)),studentList=document[_0x57253e(0x597)](_0x57253e(0x479)),messageModal=document[_0x57253e(0x597)]('message-modal'),modalMessage=document['getElementById'](_0x57253e(0x50a)),createProjectModal=document['getElementById']('create-project-modal'),adminPasswordModal=document[_0x57253e(0x597)](_0x57253e(0xbb3)),confirmationModal=document[_0x57253e(0x597)](_0x57253e(0x6ad)),userIdDisplay=document[_0x57253e(0x597)]('user-id-display'),topicTab=document[_0x57253e(0x597)](_0x57253e(0x5fe)),textTab=document[_0x57253e(0x597)](_0x57253e(0x640)),topicInputArea=document[_0x57253e(0x597)](_0x57253e(0x426)),textInputArea=document[_0x57253e(0x597)]('text-input-area'),manageTab=document[_0x57253e(0x597)](_0x57253e(0xc72)),resultsTab=document[_0x57253e(0x597)](_0x57253e(0x41e)),leaderboardTab=document[_0x57253e(0x597)](_0x57253e(0xb14)),manageTabContent=document['getElementById']('manage-tab-content'),resultsTabContent=document[_0x57253e(0x597)](_0x57253e(0x47e)),leaderboardTabContent=document[_0x57253e(0x597)](_0x57253e(0x580)),projectQuizzesList=document[_0x57253e(0x597)](_0x57253e(0x1e8)),fileTab=document['getElementById'](_0x57253e(0x606)),fileInputArea=document[_0x57253e(0x597)](_0x57253e(0x85e)),fileUploadInput=document[_0x57253e(0x597)](_0x57253e(0x4fc)),worksheetTab=document['getElementById'](_0x57253e(0x200)),worksheetInputArea=document[_0x57253e(0x597)](_0x57253e(0x8b4)),generateWorksheetBtn=document[_0x57253e(0x597)]('generate-worksheet-btn'),studentInitialView=document[_0x57253e(0x597)]('student-initial-view'),studentNameSelectionView=document[_0x57253e(0x597)](_0x57253e(0x30e)),studentQuizArea=document[_0x57253e(0x597)](_0x57253e(0x15a)),studentResultArea=document[_0x57253e(0x597)](_0x57253e(0x354)),studentReadingArea=document[_0x57253e(0x597)](_0x57253e(0x138)),loadQuizBtn=document[_0x57253e(0x597)]('load-quiz-btn'),startQuizBtn=document[_0x57253e(0x597)](_0x57253e(0x862)),studentJoinGameView=document[_0x57253e(0x597)](_0x57253e(0x587)),presentationModal=document[_0x57253e(0x597)](_0x57253e(0x114)),renameQuizModal=document[_0x57253e(0x597)]('rename-quiz-modal'),moveQuizModal=document[_0x57253e(0x597)](_0x57253e(0x1ca)),quizSettingsModal=document[_0x57253e(0x597)](_0x57253e(0xbc5)),quizStatusModal=document[_0x57253e(0x597)](_0x57253e(0x7f3)),liveGameView=document[_0x57253e(0x597)]('live-game-view');function handleFixLessonLatex(){const _0x5a9b6b=_0x57253e,_0x378d31=document['getElementById'](_0x5a9b6b(0x8a5));if(!_0x378d31){showMessage(_0x5a9b6b(0x6a6));return;}const _0x5c8bf9=_0x378d31[_0x5a9b6b(0x40f)]([_0x5a9b6b(0x73d),_0x5a9b6b(0x729),_0x5a9b6b(0x997),'.ai-content\x20td',_0x5a9b6b(0xb24)]['join'](','));let _0x40b60e=0x0;const _0x5d2deb=_0x49a00a=>_0x49a00a[_0x5a9b6b(0x3a6)]||'',_0x5b5f9f=(_0x40afbf,_0x32c757)=>{const _0x224c18=_0x5a9b6b;if(_0x40afbf[_0x224c18(0x7b3)]&&_0x40afbf[_0x224c18(0x7b3)](_0x224c18(0x458)))return;_0x40afbf[_0x224c18(0x3a6)]=_0x32c757;},_0x9aff38=_0x3d04ab=>_0x3d04ab['replace'](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x5a9b6b(0x442)](/\r\n?/g,'\x0a'),_0x22506d=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x31ed33=_0x19e979=>{const _0xe6e78=_0x5a9b6b;let _0x3169a4=_0x19e979[_0xe6e78(0x365)]();const _0x822308=[_0xe6e78(0x125),_0xe6e78(0xb62),_0xe6e78(0x34d),_0xe6e78(0x92f),_0xe6e78(0x71d),_0xe6e78(0x331),_0xe6e78(0x61b),'div',_0xe6e78(0x478),_0xe6e78(0x57d),'le','ge','neq','pm',_0xe6e78(0x1f3),_0xe6e78(0x7dc),_0xe6e78(0x87d),_0xe6e78(0x8fb),_0xe6e78(0x496),'ln','sum','prod',_0xe6e78(0xb3d),_0xe6e78(0x112),_0xe6e78(0x5ec),_0xe6e78(0x405),_0xe6e78(0xbba),_0xe6e78(0xc53),_0xe6e78(0x21c)];_0x822308[_0xe6e78(0xb68)](_0x4ce09d=>{_0x3169a4=_0x3169a4['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x4ce09d+'\x5cb','g'),(_0x42fc17,_0x260e78)=>_0x260e78+'\x5c'+_0x4ce09d);});const _0x2be4fc=[[/×/g,_0xe6e78(0xc51)],[/·/g,_0xe6e78(0xc70)],[/÷/g,_0xe6e78(0x922)],[/≤/g,_0xe6e78(0xbb2)],[/≥/g,'\x5cge'],[/≠/g,_0xe6e78(0x77e)],[/±/g,_0xe6e78(0x842)],[/∑/g,'\x5csum'],[/−/g,'-']];return _0x2be4fc[_0xe6e78(0xb68)](([_0x5cf5fa,_0x5e62d4])=>{const _0x2285c0=_0xe6e78;_0x3169a4=_0x3169a4[_0x2285c0(0x442)](_0x5cf5fa,_0x5e62d4);}),_0x3169a4=_0x3169a4[_0xe6e78(0x442)](/√\s*([A-Za-z0-9]+)/g,_0xe6e78(0x1d5)),_0x3169a4=_0x3169a4[_0xe6e78(0x442)](/(\d+)\s*%/g,_0xe6e78(0x4d6)),_0x3169a4;},_0x3d8c10=_0x393ae3=>{const _0x99d45=_0x5a9b6b;if(/\$|\\\(|\\\[/[_0x99d45(0xaaf)](_0x393ae3))return _0x393ae3;if(!_0x22506d['test'](_0x393ae3))return _0x393ae3;const _0x55327f=_0x393ae3[_0x99d45(0x6d4)](/^\s*/)[0x0],_0x1fb7cf=_0x393ae3['match'](/\s*$/)[0x0],_0x53ff07=_0x393ae3['trim']();return _0x55327f+'$'+_0x31ed33(_0x53ff07)+'$'+_0x1fb7cf;};_0x5c8bf9[_0x5a9b6b(0xb68)](_0x100434=>{const _0x11845f=_0x5a9b6b,_0xc34e26=_0x5d2deb(_0x100434);let _0x39769b=_0x9aff38(_0xc34e26);_0x39769b=_0x39769b[_0x11845f(0x442)](/\$([^$]*?)\$/g,(_0x2c5ebf,_0x230163)=>'$'+_0x31ed33(_0x230163)+'$');const _0x33c07f=_0x39769b[_0x11845f(0xc61)](/(\s+)/),_0x19f6ce=_0x33c07f['map'](_0x13f160=>{const _0x109607=_0x11845f;if(/\s+/[_0x109607(0xaaf)](_0x13f160))return _0x13f160;return _0x3d8c10(_0x13f160);});_0x39769b=_0x19f6ce[_0x11845f(0x552)](''),_0x39769b!==_0xc34e26&&(_0x5b5f9f(_0x100434,_0x39769b),_0x40b60e++);});if(_0x40b60e>0x0){showMessage('แก้ไขสูตรคณิตศาสตร์\x20'+_0x40b60e+_0x5a9b6b(0xa51));try{window[_0x5a9b6b(0x2e3)]&&MathJax[_0x5a9b6b(0x4b8)]&&MathJax[_0x5a9b6b(0x4b8)]([_0x378d31]);}catch(_0x1f0a7f){console['error'](_0x5a9b6b(0x9f5),_0x1f0a7f);}}else showMessage(_0x5a9b6b(0x8b7));}function handleAutoFixLatex(){const _0xa27269=_0x57253e,_0x392092=document['getElementById'](_0xa27269(0x368))||document,_0x44afc4=_0x392092[_0xa27269(0x40f)](_0xa27269(0x3bc));let _0x360ef8=0x0;const _0xa6d63e=_0x161c5b=>'value'in _0x161c5b?String(_0x161c5b[_0xa27269(0x6f7)]):_0x161c5b[_0xa27269(0x7b9)]!==undefined?_0x161c5b[_0xa27269(0x7b9)]:_0x161c5b[_0xa27269(0x3a6)]||'',_0x393e43=(_0x593087,_0x892ac3)=>{const _0x3dce5e=_0xa27269;if(_0x3dce5e(0x6f7)in _0x593087){_0x593087[_0x3dce5e(0x6f7)]=_0x892ac3;return;}if(_0x593087[_0x3dce5e(0x7b3)]&&_0x593087[_0x3dce5e(0x7b3)]('mjx-container'))return;if(_0x593087[_0x3dce5e(0x7b9)]!==undefined)_0x593087['innerText']=_0x892ac3;else _0x593087['textContent']=_0x892ac3;},_0x42f2e2=_0x45b094=>_0x45b094[_0xa27269(0x442)](/\u00A0/g,'\x20')[_0xa27269(0x442)](/\u200B/g,'')[_0xa27269(0x442)](/\r\n?/g,'\x0a'),_0x7b91bf=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x2aa643=_0x59c9e6=>{const _0x112ce5=_0xa27269;let _0x1e5444=_0x59c9e6[_0x112ce5(0x365)]();_0x1e5444=_0x1e5444[_0x112ce5(0x442)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x112ce5(0xacc)),_0x1e5444=_0x1e5444['replace'](/\bfrac(\d)(\d)/g,'\x5cfrac{$1}{$2}');const _0x35b827=[_0x112ce5(0x125),_0x112ce5(0x92f),_0x112ce5(0x331),_0x112ce5(0x61b),_0x112ce5(0xc64),'leq',_0x112ce5(0x57d),_0x112ce5(0x6fe),'pm','sin',_0x112ce5(0x87d),_0x112ce5(0x8fb),_0x112ce5(0x496),'ln'];_0x35b827['forEach'](_0x262a28=>{const _0x1c1474=_0x112ce5;_0x1e5444=_0x1e5444[_0x1c1474(0x442)](new RegExp(_0x1c1474(0x9fa)+_0x262a28+'\x5cb','g'),(_0x4ddabb,_0x4f10d2)=>_0x4f10d2+'\x5c'+_0x262a28);});const _0x16b459=[[/×/g,_0x112ce5(0xc51)],[/·/g,_0x112ce5(0xc70)],[/÷/g,_0x112ce5(0x922)],[/≤/g,_0x112ce5(0xbb2)],[/≥/g,'\x5cge'],[/≠/g,_0x112ce5(0x77e)],[/±/g,'\x5cpm']];return _0x16b459[_0x112ce5(0xb68)](([_0x16eed8,_0x579819])=>{const _0x3d50f=_0x112ce5;_0x1e5444=_0x1e5444[_0x3d50f(0x442)](_0x16eed8,_0x579819);}),_0x1e5444;},_0x2e99d5=_0x4ac56d=>{const _0x30a43c=_0xa27269;if(/\$|\\\(|\\\[/[_0x30a43c(0xaaf)](_0x4ac56d))return _0x4ac56d;if(!_0x7b91bf[_0x30a43c(0xaaf)](_0x4ac56d))return _0x4ac56d;const _0x2466a0=_0x4ac56d[_0x30a43c(0x6d4)](/^\s*/)[0x0],_0x5d3814=_0x4ac56d[_0x30a43c(0x6d4)](/\s*$/)[0x0],_0x5619ed=_0x4ac56d[_0x30a43c(0x365)]();return _0x2466a0+'$'+_0x2aa643(_0x5619ed)+'$'+_0x5d3814;};_0x44afc4[_0xa27269(0xb68)](_0x166786=>{const _0x58cc67=_0xa27269,_0x21ca62=_0xa6d63e(_0x166786);let _0x33b1b4=_0x42f2e2(_0x21ca62);_0x33b1b4=_0x33b1b4['replace'](/\$([^$]*?)\$/g,(_0x4f2a76,_0x1fd1ce)=>'$'+_0x2aa643(_0x1fd1ce)+'$');const _0x1e1a0c=_0x33b1b4[_0x58cc67(0xc61)](/(\s+)/),_0x5d34a9=_0x1e1a0c[_0x58cc67(0x9ca)](_0x36a4c2=>/\s+/[_0x58cc67(0xaaf)](_0x36a4c2)?_0x36a4c2:_0x2e99d5(_0x36a4c2));_0x33b1b4=_0x5d34a9[_0x58cc67(0x552)](''),_0x33b1b4!==_0x21ca62&&(_0x393e43(_0x166786,_0x33b1b4),_0x360ef8++);});if(_0x360ef8>0x0){showMessage(_0xa27269(0x85f)+_0x360ef8+_0xa27269(0x1eb));try{if(window['MathJax']&&MathJax[_0xa27269(0x4b8)])MathJax[_0xa27269(0x4b8)]();}catch(_0x380271){}}else showMessage(_0xa27269(0x8be));}async function listenForCustomMathTopics(){const _0x1b998a=_0x57253e,_0x2c2206=collection(db,'artifacts/'+appId+_0x1b998a(0x2ea));onSnapshot(_0x2c2206,_0x3550f2=>{const _0x51f6eb=_0x1b998a;customMathTopics=_0x3550f2[_0x51f6eb(0x69d)][_0x51f6eb(0x9ca)](_0x2dcb60=>({'id':_0x2dcb60['id'],..._0x2dcb60[_0x51f6eb(0x533)]()})),renderTopicCheckboxes();},_0x343b29=>{const _0x1865f3=_0x1b998a;console['error'](_0x1865f3(0x791),_0x343b29);});}function handleSelectAllTopics(){const _0x243db7=_0x57253e,_0x275f4c=document[_0x243db7(0x597)](_0x243db7(0x178)),_0x58afc8=_0x275f4c[_0x243db7(0x40f)]('input[type=\x22checkbox\x22]');_0x58afc8['forEach'](_0x6d872a=>{const _0x46cd71=_0x243db7;_0x6d872a[_0x46cd71(0x641)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x563db7=_0x57253e,_0x4bbb78=document['getElementById'](_0x563db7(0x178)),_0x5f4388=_0x4bbb78[_0x563db7(0x40f)](_0x563db7(0x24d));_0x5f4388[_0x563db7(0xb68)](_0x4205fc=>{_0x4205fc['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x237ed8){const _0xee689a=_0x57253e;if(!_0x237ed8)return;try{const _0x979e34=doc(db,_0xee689a(0xc07)+appId+_0xee689a(0x2ea),_0x237ed8);await deleteDoc(_0x979e34),showMessage(_0xee689a(0x216));}catch(_0x41a400){console[_0xee689a(0x20d)](_0xee689a(0x3e9),_0x41a400),showMessage(_0xee689a(0x72a));}}async function handleAddCustomMathTopic(){const _0x256e8c=_0x57253e,_0x394c5c=document[_0x256e8c(0x597)]('custom-math-topic-input'),_0x4969ef=_0x394c5c[_0x256e8c(0x6f7)][_0x256e8c(0x365)]();if(!_0x4969ef){showMessage(_0x256e8c(0x222));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x1aa61c=collection(db,'artifacts/'+appId+_0x256e8c(0x2ea));await addDoc(_0x1aa61c,{'name':_0x4969ef,'createdAt':serverTimestamp()}),_0x394c5c['value']='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x4969ef+_0x256e8c(0x4cf));}catch(_0x5db0bc){console['error']('Error\x20adding\x20custom\x20topic:',_0x5db0bc),showMessage(_0x256e8c(0x8c8));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x35859a=_0x4216,_0x2fc0f9=document[_0x35859a(0x597)]('loader'),_0x3a7357=document[_0x35859a(0x597)]('loader-text'),_0x567dad=_0x3a7357[_0x35859a(0x3a6)];_0x2fc0f9[_0x35859a(0x7f0)][_0x35859a(0x4bd)](_0x35859a(0x9ac)),_0x3a7357['textContent']='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x35b244=collection(db,_0x35859a(0xc07)+appId+_0x35859a(0x194)),_0x542d69=await getDocs(_0x35b244);if(_0x542d69[_0x35859a(0x30b)]){showMessage(_0x35859a(0x187));return;}const _0x492a2e=writeBatch(db);let _0x70b443=0x0;_0x542d69['forEach'](_0x496d9d=>{const _0x453275=_0x35859a,_0x1c5d4b=_0x496d9d[_0x453275(0x533)](),_0x4c3042=_0x496d9d['id'];if(_0x1c5d4b[_0x453275(0x962)]&&_0x1c5d4b[_0x453275(0x962)][_0x453275(0x711)]>0x0&&!_0x1c5d4b[_0x453275(0x962)][0x0][_0x453275(0xaac)]('id')){console[_0x453275(0x496)](_0x453275(0x390)+_0x4c3042+'\x20('+_0x1c5d4b[_0x453275(0xc41)]+')'),_0x70b443++;const _0x281d71=_0x1c5d4b[_0x453275(0x962)][_0x453275(0x9ca)]((_0x1a19ce,_0x20b903)=>{return{..._0x1a19ce,'id':_0x1a19ce['id']||'q_'+Date['now']()+'_'+_0x4c3042+'_'+_0x20b903};}),_0x262e78=doc(db,_0x453275(0xc07)+appId+_0x453275(0x194),_0x4c3042);_0x492a2e[_0x453275(0x871)](_0x262e78,{'questions':_0x281d71});}}),_0x70b443>0x0?(_0x3a7357['textContent']=_0x35859a(0x83f)+_0x70b443+'\x20รายการ...',await _0x492a2e[_0x35859a(0x99e)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x70b443+'\x20รายการสำเร็จ!')):showMessage(_0x35859a(0x684));}catch(_0x3adb0d){console['error'](_0x35859a(0x116),_0x3adb0d),showMessage(_0x35859a(0x601)+_0x3adb0d[_0x35859a(0x5f2)]);}finally{_0x2fc0f9['classList'][_0x35859a(0x6e3)](_0x35859a(0x9ac)),_0x3a7357['textContent']=_0x567dad;}});}async function handleBulkUpdateQuizSettings(){const _0x460396=_0x57253e,_0x21d6a6={'shuffle':document[_0x460396(0x597)](_0x460396(0x342))[_0x460396(0x6f7)],'resultsDisplay':document['getElementById'](_0x460396(0x457))[_0x460396(0x6f7)],'loopUntilPass':document[_0x460396(0x597)](_0x460396(0xbf4))[_0x460396(0x641)],'isConfidenceScoringEnabled':document[_0x460396(0x597)]('bulk-confidence-scoring-checkbox')[_0x460396(0x641)],'confidenceMode':document['getElementById']('bulk-confidence-mode-select')[_0x460396(0x6f7)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x138183=await getDocs(collection(db,_0x460396(0xc07)+appId+'/public/data/quizzes')),_0x2d510e=_0x138183[_0x460396(0x69d)][_0x460396(0x9ca)](_0x1607a7=>({'id':_0x1607a7['id'],'data':_0x1607a7[_0x460396(0x533)]()})),_0x41ac89=_0x2d510e['length'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x41ac89+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x44991c=_0x460396,_0x32e6a9=document[_0x44991c(0x597)](_0x44991c(0xc67));_0x32e6a9[_0x44991c(0x992)]=!![],_0x32e6a9['innerHTML']=_0x44991c(0x2b7);try{const _0x43a628=writeBatch(db);_0x2d510e[_0x44991c(0xb68)](_0x417e4e=>{const _0x468ad7=_0x44991c,_0x115533=doc(db,'artifacts/'+appId+_0x468ad7(0x194),_0x417e4e['id']),_0x314f3c={..._0x417e4e['data'][_0x468ad7(0x9ab)]||{},..._0x21d6a6};_0x43a628[_0x468ad7(0x871)](_0x115533,{'settings':_0x314f3c});}),await _0x43a628[_0x44991c(0x99e)](),document[_0x44991c(0x597)](_0x44991c(0x985))[_0x44991c(0x7f0)]['add'](_0x44991c(0x9ac)),showMessage(_0x44991c(0x9f6)+_0x41ac89+'\x20ชุดสำเร็จ!');}catch(_0x23bdfb){console['error'](_0x44991c(0x562),_0x23bdfb),showMessage(_0x44991c(0x872));}finally{_0x32e6a9[_0x44991c(0x992)]=![],_0x32e6a9[_0x44991c(0x2fe)]=_0x44991c(0x1d6);}});}catch(_0x1c8ded){console[_0x460396(0x20d)](_0x460396(0x1e2),_0x1c8ded),showMessage(_0x460396(0x957));}}async function handleSaveProjectName(){const _0x4e6e60=_0x57253e,_0x475c98=document[_0x4e6e60(0x597)](_0x4e6e60(0x73a)),_0x3a5d2e=document[_0x4e6e60(0x597)](_0x4e6e60(0x8db)),_0x3ff773=_0x475c98['textContent']['trim']();if(!_0x3ff773||!currentProjectId){showMessage(_0x4e6e60(0x90c)),_0x475c98[_0x4e6e60(0x3a6)]=currentProjectData[_0x4e6e60(0xadf)];return;}_0x3a5d2e[_0x4e6e60(0x992)]=!![],_0x3a5d2e[_0x4e6e60(0x2fe)]=_0x4e6e60(0xb2e);try{const _0x2fce15=doc(db,_0x4e6e60(0xc07)+appId+_0x4e6e60(0x81e),currentProjectId);await updateDoc(_0x2fce15,{'projectName':_0x3ff773}),currentProjectData&&(currentProjectData[_0x4e6e60(0xadf)]=_0x3ff773),showMessage(_0x4e6e60(0x28b));}catch(_0x2c8d24){console[_0x4e6e60(0x20d)]('Error\x20updating\x20project\x20name:',_0x2c8d24),showMessage(_0x4e6e60(0x644)),_0x475c98['textContent']=currentProjectData[_0x4e6e60(0xadf)];}finally{_0x3a5d2e['classList'][_0x4e6e60(0x6e3)](_0x4e6e60(0x9ac)),_0x3a5d2e['disabled']=![],_0x3a5d2e[_0x4e6e60(0x2fe)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x5a9371,_0x3a54a1){const _0x3745da=_0x57253e,_0x44ac44=document['getElementById'](_0x3745da(0x98c)),_0x4fc582=document['getElementById']('lesson-view-title'),_0x2f6c45=document['getElementById'](_0x3745da(0x271)),_0x5092cb=document[_0x3745da(0x597)](_0x3745da(0x702));_0x4fc582[_0x3745da(0x3a6)]=_0x3745da(0x42c)+_0x5a9371,_0x5092cb['classList']['add']('hidden'),_0x2f6c45[_0x3745da(0x7f0)][_0x3745da(0x4bd)]('hidden'),_0x44ac44[_0x3745da(0x7f0)][_0x3745da(0x4bd)](_0x3745da(0x9ac)),generatePracticeTest(_0x5a9371,_0x3a54a1)[_0x3745da(0xa10)](_0x573475=>{const _0x5a5783=_0x3745da;console[_0x5a5783(0x20d)](_0x5a5783(0x36f),_0x573475),showMessage(_0x5a5783(0x5e0)),_0x44ac44[_0x5a5783(0x7f0)][_0x5a5783(0x6e3)](_0x5a5783(0x9ac));});}async function generatePracticeTest(_0x41ab06,_0xe08422){const _0x214a00=_0x57253e;['pointContent',_0x214a00(0xa07),_0x214a00(0xc6f),_0x214a00(0x698)]['forEach'](_0x1d619d=>{const _0x4bb40c=_0x214a00,_0x31dbe6=document[_0x4bb40c(0x597)](_0x1d619d)[_0x4bb40c(0x9f1)];_0x31dbe6&&(_0x31dbe6[_0x4bb40c(0x819)][_0x4bb40c(0x645)]=_0x4bb40c(0x880));});try{const _0x3ea2a8=_0x214a00(0x5d8),_0x41ec2d=_0x214a00(0x47c)+_0xe08422+_0x214a00(0x6a8)+_0x41ab06+_0x214a00(0x966),_0x596cb0=await callGemini(_0x41ec2d,!![]),_0x386b9f=document[_0x214a00(0x597)](_0x214a00(0xb7a)),_0x499511=document['getElementById'](_0x214a00(0x271)),_0xf3f00e=document['getElementById'](_0x214a00(0x702)),_0x27f8d8=document['getElementById'](_0x214a00(0xc6f))[_0x214a00(0x9f1)];_0x386b9f[_0x214a00(0x7b9)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x41ab06[_0x214a00(0x442)](/•\s/g,'')+_0x214a00(0x7c8)+_0xe08422+')',currentApplicationData=JSON[_0x214a00(0x8ef)](_0x596cb0);const _0x4850f4=document[_0x214a00(0x597)](_0x214a00(0xc6f));_0x4850f4[_0x214a00(0x2fe)]=currentApplicationData['map']((_0x12fe81,_0x13c7d4)=>_0x214a00(0x181)+(_0x13c7d4+0x1)+'.\x20'+marked[_0x214a00(0x5c9)](_0x12fe81['question'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x13c7d4+_0x214a00(0xb6a)+_0x12fe81[_0x214a00(0x6c2)]['map']((_0x5a028f,_0x8b264c)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x13c7d4+',\x20'+_0x8b264c+')\x22>'+String['fromCharCode'](0x61+_0x8b264c)+'.\x20'+marked[_0x214a00(0x5c9)](_0x5a028f)+_0x214a00(0xbc7))[_0x214a00(0x552)]('')+_0x214a00(0xbd2))['join'](''),window[_0x214a00(0x2e3)]&&MathJax[_0x214a00(0x4b8)]([_0x4850f4]),_0x27f8d8&&(_0x27f8d8[_0x214a00(0x819)][_0x214a00(0x645)]=_0x214a00(0x16d)),_0x499511['classList'][_0x214a00(0x6e3)](_0x214a00(0x9ac)),_0xf3f00e[_0x214a00(0x7f0)][_0x214a00(0x4bd)](_0x214a00(0x9ac));}catch(_0x508424){console[_0x214a00(0x20d)](_0x508424);throw _0x508424;}}async function callGemini(_0x42dfdb,_0x8be98d=![]){const _0x1d893e=_0x57253e,_0x5b862d=_0x1d893e(0x3c8),_0x2eb7af='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x5b862d,_0x8f7070={'contents':[{'parts':[{'text':_0x42dfdb}]}]};_0x8be98d&&(_0x8f7070[_0x1d893e(0xc7e)]={'responseMimeType':_0x1d893e(0xb9d)},_0x42dfdb[_0x1d893e(0x1d1)]('Test\x20Blueprint')?_0x8f7070['generationConfig'][_0x1d893e(0x167)]={'type':_0x1d893e(0xae5),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x1d893e(0x1d4),'items':{'type':_0x1d893e(0xae5),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x1d893e(0x1d4),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x1d893e(0xbda)},'subTopics':{'type':_0x1d893e(0x1d4),'items':{'type':_0x1d893e(0xbda)}}},'required':[_0x1d893e(0x6a9),'subTopics']}}},'required':[_0x1d893e(0x13e),'mainTopics']}}},'required':[_0x1d893e(0x29f),_0x1d893e(0x8e3)]}:_0x8f7070['generationConfig'][_0x1d893e(0x167)]={'type':_0x1d893e(0x1d4),'items':{'type':'OBJECT','properties':{'question':{'type':_0x1d893e(0xbda)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'answer':{'type':_0x1d893e(0x844)}},'required':[_0x1d893e(0x308),'options',_0x1d893e(0x137)]}});try{const _0x5c424e=await fetch(_0x2eb7af,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x1d893e(0xb09)](_0x8f7070)});if(!_0x5c424e['ok']){const _0x54469e=await _0x5c424e[_0x1d893e(0x71d)]();console[_0x1d893e(0x20d)]('API\x20Error\x20Body:',_0x54469e);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x5c424e[_0x1d893e(0x9e6)]);}const _0x4760c1=await _0x5c424e[_0x1d893e(0xc01)]();if(_0x4760c1[_0x1d893e(0x9d6)]&&_0x4760c1[_0x1d893e(0x9d6)][0x0][_0x1d893e(0x4d0)]&&_0x4760c1[_0x1d893e(0x9d6)][0x0]['content'][_0x1d893e(0x730)][0x0])return _0x4760c1[_0x1d893e(0x9d6)][0x0][_0x1d893e(0x4d0)]['parts'][0x0][_0x1d893e(0x71d)];else{console[_0x1d893e(0x20d)](_0x1d893e(0xb57),_0x4760c1);if(_0x4760c1[_0x1d893e(0x9d6)]&&_0x4760c1[_0x1d893e(0x9d6)][0x0][_0x1d893e(0x11c)]===_0x1d893e(0x184))return JSON[_0x1d893e(0xb09)]({'error':_0x1d893e(0x6fa)});throw new Error(_0x1d893e(0x27c));}}catch(_0x447fa0){console[_0x1d893e(0x20d)](_0x1d893e(0x915),_0x447fa0);throw _0x447fa0;}}async function generateLesson(_0x2920f8=null,_0xa8d8f6=null){const _0x878c3e=_0x57253e,_0x2e646c=_0x2920f8,_0x302a8e=_0xa8d8f6||_0x878c3e(0x38c),_0x2cd7e2=document[_0x878c3e(0x597)](_0x878c3e(0x271)),_0x5aec69=document[_0x878c3e(0x597)](_0x878c3e(0xbde));_0x5aec69['textContent']='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x2e646c+_0x878c3e(0x197);try{let _0x14c98c=[];const _0x1a5402=document[_0x878c3e(0x597)](_0x878c3e(0x8de))?.[_0x878c3e(0x6f7)][_0x878c3e(0x365)]();if(_0x1a5402)try{_0x5aec69[_0x878c3e(0x3a6)]=_0x878c3e(0x306);const _0x58f859=await fetchFileFromUrl(_0x1a5402,_0x878c3e(0x521)),_0x3af7bb=await new Promise((_0x3bcb45,_0x1c2b26)=>{const _0x3d1629=_0x878c3e,_0x3af2c2=new FileReader();_0x3af2c2[_0x3d1629(0x499)](_0x58f859),_0x3af2c2['onload']=()=>_0x3bcb45(_0x3af2c2[_0x3d1629(0x7df)]['split'](',')[0x1]),_0x3af2c2[_0x3d1629(0x8af)]=_0x1c2b26;});_0x14c98c[_0x878c3e(0xa09)]({'inlineData':{'mimeType':_0x58f859[_0x878c3e(0xa17)],'data':_0x3af7bb}});}catch(_0x416cc2){console[_0x878c3e(0x20d)](_0x878c3e(0x6b3),_0x416cc2),showMessage(_0x878c3e(0x77d));}const _0x4b2834=_0x878c3e(0x11f)+_0x2e646c+_0x878c3e(0x12e)+_0x2e646c+_0x878c3e(0x5d7);_0x5aec69[_0x878c3e(0x3a6)]=_0x878c3e(0xa3f)+_0x2e646c+_0x878c3e(0x197);const _0x1ba958=_0x878c3e(0x8cd)+_0x302a8e+_0x878c3e(0x6a8)+_0x2e646c+_0x878c3e(0x523)+_0x4b2834+_0x878c3e(0xb1b),_0x2d82db=_0x878c3e(0xc50)+_0x2e646c+_0x878c3e(0xbf0)+_0x302a8e+_0x878c3e(0x32b)+_0x4b2834+_0x878c3e(0x5d2),_0xb713e7=_0x878c3e(0x47c)+_0x302a8e+_0x878c3e(0x6a8)+_0x2e646c+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20'+_0x4b2834+'.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x568e80=_0x878c3e(0x9e4)+_0x2e646c+_0x878c3e(0x45f)+_0x302a8e+_0x878c3e(0x969)+_0x4b2834+_0x878c3e(0x6bb),_0x5564c4={'type':_0x878c3e(0x1d4),'items':{'type':_0x878c3e(0xae5),'properties':{'question':{'type':_0x878c3e(0xbda)},'options':{'type':_0x878c3e(0x1d4),'items':{'type':_0x878c3e(0xbda)}},'answer':{'type':'NUMBER'}},'required':[_0x878c3e(0x308),_0x878c3e(0x6c2),_0x878c3e(0x137)]}},[_0x86d0c3,_0x586f69,_0x5da2d2,_0x3bf86f]=await Promise[_0x878c3e(0x52b)]([handleApiCall([{'text':_0x1ba958},..._0x14c98c],_0x878c3e(0x377),null,null,![]),handleApiCall([{'text':_0x2d82db},..._0x14c98c],'...',null,null,![]),handleApiCall([{'text':_0xb713e7},..._0x14c98c],_0x878c3e(0x377),_0x5564c4,null,![]),handleApiCall([{'text':_0x568e80},..._0x14c98c],'...',null,null,![])]),_0x35c476=JSON[_0x878c3e(0xb09)](_0x5da2d2||[]),_0x200749=document[_0x878c3e(0x597)](_0x878c3e(0xb7a)),_0x3fb74d=document[_0x878c3e(0x597)](_0x878c3e(0x702));_0x200749[_0x878c3e(0x7b9)]=_0x878c3e(0x7c2)+_0x2e646c['replace'](/•\\s/g,'')+'\x20(สำหรับ\x20'+_0x302a8e+')',[_0x878c3e(0xb17),_0x878c3e(0xa07),_0x878c3e(0x698)][_0x878c3e(0xb68)](_0x2d40eb=>{const _0x691756=_0x878c3e;document[_0x691756(0x597)](_0x2d40eb)[_0x691756(0x2fe)]='';}),document[_0x878c3e(0x597)]('pointContent')[_0x878c3e(0x2fe)]=_0x86d0c3?marked[_0x878c3e(0x8ef)](_0x86d0c3):_0x878c3e(0x2b8),document[_0x878c3e(0x597)](_0x878c3e(0xa07))[_0x878c3e(0x2fe)]=_0x586f69?marked[_0x878c3e(0x8ef)](_0x586f69):_0x878c3e(0x2b8),document[_0x878c3e(0x597)](_0x878c3e(0x698))[_0x878c3e(0x2fe)]=_0x3bf86f?marked['parse'](_0x3bf86f):_0x878c3e(0x2b8),currentApplicationData=JSON['parse'](_0x35c476);const _0x426b98=document[_0x878c3e(0x597)](_0x878c3e(0xc6f));_0x426b98[_0x878c3e(0x2fe)]=(currentApplicationData||[])[_0x878c3e(0x9ca)]((_0xe7210b,_0x2593ab)=>_0x878c3e(0x181)+(_0x2593ab+0x1)+'.\x20'+marked[_0x878c3e(0x5c9)](_0xe7210b[_0x878c3e(0x308)]||'')+_0x878c3e(0x7ed)+_0x2593ab+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xe7210b[_0x878c3e(0x6c2)]||[])[_0x878c3e(0x9ca)]((_0xb56351,_0xe5e3ce)=>_0x878c3e(0x94d)+_0x2593ab+',\x20'+_0xe5e3ce+_0x878c3e(0x2d7)+String[_0x878c3e(0x400)](0x61+_0xe5e3ce)+'.\x20'+marked[_0x878c3e(0x5c9)](_0xb56351||'')+_0x878c3e(0xbc7))[_0x878c3e(0x552)]('')+_0x878c3e(0xbd2))[_0x878c3e(0x552)]('')||_0x878c3e(0x811),window['MathJax']&&MathJax['typesetPromise']([_0x3fb74d]),_0x2cd7e2[_0x878c3e(0x7f0)][_0x878c3e(0x6e3)](_0x878c3e(0x9ac)),_0x3fb74d[_0x878c3e(0x7f0)][_0x878c3e(0x4bd)](_0x878c3e(0x9ac));}catch(_0x5ded35){console[_0x878c3e(0x20d)](_0x5ded35);throw _0x5ded35;}}function checkAnswer(_0x16d1b0,_0x2557a0){const _0x58574f=_0x57253e,_0x4dfda2=currentApplicationData[_0x16d1b0],_0x3e0850=document['getElementById']('q'+_0x16d1b0+_0x58574f(0x839)),_0x264c76=_0x3e0850[_0x58574f(0x836)](_0x58574f(0xbc8));for(let _0x2e2701 of _0x264c76){_0x2e2701[_0x58574f(0x992)]=!![];}_0x2557a0===_0x4dfda2[_0x58574f(0x137)]?_0x264c76[_0x2557a0]['classList'][_0x58574f(0x6e3)](_0x58574f(0xb6f)):(_0x264c76[_0x2557a0][_0x58574f(0x7f0)][_0x58574f(0x6e3)](_0x58574f(0x273)),_0x264c76[_0x4dfda2[_0x58574f(0x137)]][_0x58574f(0x7f0)][_0x58574f(0x6e3)](_0x58574f(0xb6f)));}window[_0x57253e(0x6b5)]=handleGenerateAndShowLesson,window[_0x57253e(0xc38)]=checkAnswer,window[_0x57253e(0x748)]=handleGeneratePracticeTest,window[_0x57253e(0x6cc)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x107ce5=_0x57253e;try{const _0x51629c=initializeApp(firebaseConfig);db=getFirestore(_0x51629c),auth=getAuth(_0x51629c),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x318f6c){console['error'](_0x107ce5(0x4b4),_0x318f6c),showMessage(_0x107ce5(0x84a));}}async function handleVerifyAnswersInEditor(){const _0x4cc49a=_0x57253e,_0x51fcc6=document[_0x4cc49a(0x597)](_0x4cc49a(0x9da));if(!_0x51fcc6)return;const _0x52e74f=document[_0x4cc49a(0x597)]('verify-answers-editor-btn');_0x52e74f[_0x4cc49a(0x992)]=!![],_0x52e74f['innerHTML']=_0x4cc49a(0x2c5);try{const _0x47fcae=_0x51fcc6[_0x4cc49a(0x40f)](_0x4cc49a(0x73b)),_0x18802e=Array[_0x4cc49a(0x4c8)](_0x47fcae)[_0x4cc49a(0x9ca)]((_0x220678,_0x6182be)=>{const _0x1cfbda=_0x4cc49a,_0x358b2b=_0x220678['dataset']['qType'],_0x59cad1=_0x220678[_0x1cfbda(0x7b3)]('textarea')[_0x1cfbda(0x6f7)];let _0x5f1331=null,_0x15cecb='';switch(_0x358b2b){case _0x1cfbda(0x8ea):const _0x431e9e=_0x220678['querySelectorAll'](_0x1cfbda(0xc4d));_0x5f1331=Array[_0x1cfbda(0x4c8)](_0x431e9e)['map'](_0x563e20=>_0x563e20[_0x1cfbda(0x6f7)]);const _0x5ef18a=_0x220678[_0x1cfbda(0x7b3)](_0x1cfbda(0x549));_0x5ef18a&&(_0x15cecb=_0x5f1331[parseInt(_0x5ef18a['value'])]);break;case _0x1cfbda(0x733):_0x15cecb=_0x220678[_0x1cfbda(0x7b3)](_0x1cfbda(0x50e))['value'];break;case _0x1cfbda(0xc6b):const _0x5a7030=_0x220678['querySelector'](_0x1cfbda(0x549));_0x15cecb=_0x5a7030?_0x5a7030[_0x1cfbda(0x6f7)]:'';break;case _0x1cfbda(0x22d):_0x15cecb=_0x220678['querySelector'](_0x1cfbda(0x1c6))[_0x1cfbda(0x6f7)];break;}return{'question':_0x59cad1,'options':_0x5f1331,'proposedAnswer':_0x15cecb};}),_0x121493=_0x4cc49a(0x690)+JSON['stringify'](_0x18802e)+_0x4cc49a(0x1ba),_0x1c6123={'type':_0x4cc49a(0x1d4),'items':{'type':_0x4cc49a(0xae5),'properties':{'questionIndex':{'type':_0x4cc49a(0x844)},'isCorrect':{'type':_0x4cc49a(0x4bf)},'justification':{'type':_0x4cc49a(0xbda)},'suggestedAnswer':{'type':_0x4cc49a(0xbda)}},'required':['questionIndex','isCorrect',_0x4cc49a(0xbe6)]}},_0x25e7d9=await callAnalysisApi(_0x121493,{'type':_0x4cc49a(0xae5),'properties':{'result':_0x1c6123},'required':[_0x4cc49a(0x7df)]});displayVerificationResultsInEditor(_0x25e7d9[_0x4cc49a(0x7df)]);}catch(_0x188d4e){console[_0x4cc49a(0x20d)](_0x4cc49a(0x2d2),_0x188d4e),showMessage(_0x4cc49a(0xb77));}finally{_0x52e74f[_0x4cc49a(0x992)]=![],_0x52e74f[_0x4cc49a(0x2fe)]=_0x4cc49a(0x131);}}function displayVerificationResultsInEditor(_0x501d99){const _0x36d276=_0x57253e;_0x501d99[_0x36d276(0xb68)](_0x116bc0=>{const _0xb1f75c=_0x36d276,_0x59937e=document['querySelector'](_0xb1f75c(0x7ba)+_0x116bc0['questionIndex']+'\x22]');if(!_0x59937e)return;const _0x2b124b=_0x59937e[_0xb1f75c(0x7b3)](_0xb1f75c(0x65f));if(_0x2b124b)_0x2b124b[_0xb1f75c(0x4bd)]();let _0x2d5493='';if(_0x116bc0[_0xb1f75c(0x1e3)])_0x2d5493=_0xb1f75c(0x91c);else{const _0x43c129=_0x116bc0['suggestedAnswer']?_0xb1f75c(0x237):'';_0x2d5493=_0xb1f75c(0x288)+_0x43c129+_0xb1f75c(0x2ad)+_0x116bc0[_0xb1f75c(0xbe6)]+_0xb1f75c(0x454)+(_0x116bc0['suggestedAnswer']?_0xb1f75c(0x73c)+_0x116bc0['suggestedAnswer']+_0xb1f75c(0x686):'')+_0xb1f75c(0x9b7);}_0x59937e[_0xb1f75c(0xbb9)](_0xb1f75c(0x758),_0x2d5493);if(!_0x116bc0[_0xb1f75c(0x1e3)]&&_0x116bc0[_0xb1f75c(0x984)]){const _0x278dab=_0x59937e[_0xb1f75c(0x7a0)][_0xb1f75c(0x514)],_0x477a24=_0x5cfd0c=>{const _0x26a64c=_0xb1f75c;if(!_0x5cfd0c)return;_0x5cfd0c[_0x26a64c(0x7f0)]['add'](_0x26a64c(0x692),_0x26a64c(0x418),'duration-300'),setTimeout(()=>{const _0x28fd0e=_0x26a64c;_0x5cfd0c[_0x28fd0e(0x7f0)][_0x28fd0e(0x4bd)]('bg-green-200');},0x9c4);};if(_0x278dab===_0xb1f75c(0x8ea)){const _0x547710=Array[_0xb1f75c(0x4c8)](_0x59937e[_0xb1f75c(0x40f)]('input[type=\x22text\x22]')),_0x358e06=_0x547710[_0xb1f75c(0x129)](_0x2879ca=>_0x2879ca[_0xb1f75c(0x6f7)][_0xb1f75c(0x365)]()[_0xb1f75c(0x6c8)]()===_0x116bc0[_0xb1f75c(0x984)][_0xb1f75c(0x365)]()[_0xb1f75c(0x6c8)]());if(_0x358e06!==-0x1){const _0x42d960=_0x59937e[_0xb1f75c(0x7b3)]('input[type=\x22radio\x22][value=\x22'+_0x358e06+'\x22]');_0x42d960&&(_0x42d960['checked']=!![],_0x477a24(_0x42d960[_0xb1f75c(0x4dc)](_0xb1f75c(0xc64))));}}else{if(_0x278dab==='short_answer'||_0x278dab===_0xb1f75c(0x22d)){const _0x58af86=_0x59937e[_0xb1f75c(0x7b3)](_0xb1f75c(0x6e8));_0x58af86&&(_0x58af86[_0xb1f75c(0x6f7)]=_0x116bc0[_0xb1f75c(0x984)],_0x477a24(_0x58af86));}else{if(_0x278dab===_0xb1f75c(0xc6b)){const _0x91fce2=_0x116bc0[_0xb1f75c(0x984)][_0xb1f75c(0x365)]()[_0xb1f75c(0x6c8)](),_0x2ccf6a=_0x59937e[_0xb1f75c(0x7b3)](_0xb1f75c(0xc0a)+_0x91fce2+'\x22]');_0x2ccf6a&&(_0x2ccf6a[_0xb1f75c(0x641)]=!![],_0x477a24(_0x2ccf6a['closest']('div')));}}}}}),showMessage(_0x36d276(0xc82));}async function handleVerifyAnswers(){const _0x102481=_0x57253e;if(!currentQuizData||!currentQuizData[_0x102481(0x962)]){showMessage(_0x102481(0x26c));return;}const _0x4a4bf3=document[_0x102481(0x597)]('verify-answers-btn');_0x4a4bf3['disabled']=!![],_0x4a4bf3['innerHTML']=_0x102481(0x2c5);try{const _0x292f08=currentQuizData['questions'][_0x102481(0x9ca)]((_0x4f9221,_0x7083b4)=>{const _0x168221=_0x102481;let _0x3a1f09='';const _0x2a62ba=_0x4f9221[_0x168221(0x2a9)]||currentQuizData['quizType'];switch(_0x2a62ba){case _0x168221(0x8ea):_0x3a1f09=_0x4f9221[_0x168221(0x6c2)][_0x4f9221[_0x168221(0xacd)]];break;case _0x168221(0x733):_0x3a1f09=_0x4f9221[_0x168221(0x850)];break;case _0x168221(0xc6b):_0x3a1f09=_0x4f9221[_0x168221(0x75e)][_0x168221(0x2bf)]();break;case'matching_item':_0x3a1f09=_0x4f9221[_0x168221(0x2a6)];break;}return{'question':_0x4f9221[_0x168221(0x2d4)]||_0x4f9221[_0x168221(0x525)],'options':_0x4f9221[_0x168221(0x6c2)]||null,'proposedAnswer':_0x3a1f09};}),_0x554cd8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x102481(0xb09)](_0x292f08)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x59f308={'type':_0x102481(0x1d4),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x102481(0x844)},'isCorrect':{'type':_0x102481(0x4bf)},'justification':{'type':_0x102481(0xbda)},'suggestedAnswer':{'type':_0x102481(0xbda)}},'required':['questionIndex','isCorrect',_0x102481(0xbe6)]}},_0x5d5073=await callAnalysisApi(_0x554cd8,{'type':_0x102481(0xae5),'properties':{'result':_0x59f308},'required':[_0x102481(0x7df)]});displayVerificationResults(_0x5d5073[_0x102481(0x7df)]);}catch(_0x1d7a23){console[_0x102481(0x20d)](_0x102481(0x310),_0x1d7a23),showMessage(_0x102481(0xb77));}finally{_0x4a4bf3[_0x102481(0x992)]=![],_0x4a4bf3['innerHTML']=_0x102481(0x82b);}}function displayVerificationResults(_0x37d7cb){const _0x56ff93=_0x57253e;_0x37d7cb[_0x56ff93(0xb68)](_0x5e2eaa=>{const _0x55705a=_0x56ff93,_0x39c157=document[_0x55705a(0x7b3)]('div[data-question-index=\x22'+_0x5e2eaa[_0x55705a(0x954)]+'\x22]');if(_0x39c157){const _0x5bbc75=_0x39c157[_0x55705a(0x7b3)](_0x55705a(0x492));if(_0x5bbc75)_0x5bbc75[_0x55705a(0x4bd)]();let _0x445f30='';_0x5e2eaa[_0x55705a(0x1e3)]?_0x445f30=_0x55705a(0x135):_0x445f30=_0x55705a(0x466)+_0x5e2eaa[_0x55705a(0xbe6)]+_0x55705a(0x1de)+(_0x5e2eaa[_0x55705a(0x984)]?_0x55705a(0x73c)+_0x5e2eaa['suggestedAnswer']+_0x55705a(0x686):'')+_0x55705a(0x4d5),_0x39c157[_0x55705a(0xbb9)](_0x55705a(0x758),_0x445f30);}}),showMessage(_0x56ff93(0xc82));}function compareNumericalAnswers(_0x4d9cf1,_0x2dbde7){const _0x4cb1c3=_0x57253e,_0x1a7286=String(_0x4d9cf1)['replace'](',','.')[_0x4cb1c3(0x442)](/[^\d.-]/g,'')['trim'](),_0x2c2c52=String(_0x2dbde7)[_0x4cb1c3(0x442)](',','.')[_0x4cb1c3(0x442)](/[^\d.-]/g,'')['trim']();if(_0x1a7286===''||_0x2c2c52==='')return![];const _0x4db558=parseFloat(_0x1a7286),_0x35809b=parseFloat(_0x2c2c52);if(isNaN(_0x4db558)||isNaN(_0x35809b))return![];return Math[_0x4cb1c3(0xb33)](_0x4db558-_0x35809b)<0.001;}function isPotentiallyNumeric(_0x5869c6){const _0x3c9bc2=_0x57253e;if(typeof _0x5869c6!==_0x3c9bc2(0x921)&&typeof _0x5869c6!=='number')return![];const _0x18705f=String(_0x5869c6)[_0x3c9bc2(0x442)](',','.')['trim']();return _0x18705f!==''&&!isNaN(parseFloat(_0x18705f))&&isFinite(_0x18705f);}async function gradeShortAnswer(_0x4f6751,_0x277136){const _0x32c627=_0x57253e,_0x4dc39a=_0x277136[_0x32c627(0x850)],_0x35e898=String(_0x4f6751)[_0x32c627(0x442)](/\$/g,'')['trim'](),_0x2a05b1=String(_0x4dc39a)['replace'](/\$/g,'')['trim']();if(_0x35e898[_0x32c627(0x6c8)]()===_0x2a05b1['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x35e898)&&isPotentiallyNumeric(_0x2a05b1)){if(compareNumericalAnswers(_0x35e898,_0x2a05b1))return!![];}return console['log']('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x4f6751,_0x4dc39a);}async function revealAnswerForAdmin(_0x329234,_0x3fbe69){const _0x349a53=_0x57253e,_0x2d0219=doc(db,_0x349a53(0xc07)+appId+_0x349a53(0x7e2),currentLiveGameId);await updateDoc(_0x2d0219,{'questionStatus':_0x349a53(0x281)});}function showTop5LeaderboardView(_0x46c6fc){const _0x5da949=_0x57253e,_0x3c8296=Object['values'](_0x46c6fc[_0x5da949(0xae4)]||{})['filter'](_0x392473=>_0x392473[_0x5da949(0x9e6)]==='active');_0x3c8296[_0x5da949(0x2d6)]((_0x415bc7,_0x39b2bf)=>_0x39b2bf[_0x5da949(0x1ed)]-_0x415bc7[_0x5da949(0x1ed)]);const _0x52a89f=_0x3c8296[_0x5da949(0xa65)](0x0,0x5),_0x1cdb59='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52a89f[_0x5da949(0x9ca)]((_0x52d9bc,_0x474a9b)=>_0x5da949(0xaba)+(_0x474a9b+0x1)+'.\x20'+(_0x52d9bc[_0x5da949(0x309)]||Object['keys'](_0x46c6fc[_0x5da949(0xae4)])[_0x5da949(0x1bc)](_0x37e9fa=>_0x46c6fc[_0x5da949(0xae4)][_0x37e9fa]===_0x52d9bc))+_0x5da949(0x4c5)+_0x52d9bc[_0x5da949(0x1ed)]+_0x5da949(0x6cf))['join']('')+_0x5da949(0x233)+(_0x46c6fc[_0x5da949(0x2df)]+0x1===currentQuizData['questions'][_0x5da949(0x711)]?_0x5da949(0xa0e):_0x5da949(0x5a8))+_0x5da949(0x7b0);liveGameView[_0x5da949(0x2fe)]=_0x1cdb59,document[_0x5da949(0x597)](_0x5da949(0x7ee))[_0x5da949(0x161)]('click',async()=>{const _0x3425e8=_0x5da949,_0x273afe=doc(db,'artifacts/'+appId+_0x3425e8(0x7e2),currentLiveGameId),_0x403b3f=_0x46c6fc[_0x3425e8(0x2df)]+0x1;if(_0x403b3f<currentQuizData[_0x3425e8(0x962)][_0x3425e8(0x711)]){const _0x39aa47={'currentQuestionIndex':_0x403b3f,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x3425e8(0x8ed)};Object[_0x3425e8(0x88e)](_0x46c6fc[_0x3425e8(0xae4)])['forEach'](_0x523880=>{const _0x2aec99=_0x3425e8;_0x39aa47['players.'+_0x523880+_0x2aec99(0xbf5)]=![];}),await updateDoc(_0x273afe,_0x39aa47);}else await updateDoc(_0x273afe,{'status':_0x3425e8(0xb52)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x1cea2a=>{const _0x4084d2=_0x4216;if(_0x1cea2a){userId=_0x1cea2a[_0x4084d2(0x1c0)],userIdDisplay[_0x4084d2(0x3a6)]=userId;const _0x38d68a=await loadUserPreferences();_0x38d68a[_0x4084d2(0x5c0)]&&(document[_0x4084d2(0x597)](_0x4084d2(0x5de))[_0x4084d2(0x6f7)]=_0x38d68a['projectSortOrder']);globalDashboardSettings[_0x4084d2(0x888)]=_0x38d68a['projectView']||_0x4084d2(0x32c);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x40f71d,_0x4abe22){const _0x1d1a93=_0x57253e;if(!userId)return;try{const _0x2a451d=doc(db,_0x1d1a93(0xc07)+appId+_0x1d1a93(0x643)+userId+_0x1d1a93(0x79a)),_0x5663f1={};_0x5663f1[_0x40f71d]=_0x4abe22,await setDoc(_0x2a451d,_0x5663f1,{'merge':!![]});}catch(_0xafbc5e){console[_0x1d1a93(0x20d)](_0x1d1a93(0x4ed),_0xafbc5e);}}async function loadUserPreferences(){const _0x51eb1d=_0x57253e;if(!userId)return{};try{const _0x474052=doc(db,'artifacts/'+appId+_0x51eb1d(0x643)+userId+_0x51eb1d(0x79a)),_0x2635ca=await getDoc(_0x474052);if(_0x2635ca[_0x51eb1d(0xabe)]())return _0x2635ca['data']();return{};}catch(_0x3d8f8c){return console['error'](_0x51eb1d(0x649),_0x3d8f8c),{};}}function parseIndentedBlueprint(_0x3f084c){const _0x1a0272=_0x57253e,_0x5a3e80=_0x3f084c[_0x1a0272(0xc61)]('\x0a')[_0x1a0272(0xa32)](_0x5c1532=>_0x5c1532[_0x1a0272(0x365)]()!==''),_0x4b5e76=[];let _0x3bed10=null,_0x35ab78=null;return _0x5a3e80['forEach'](_0xc9add7=>{const _0x2c75ae=_0x1a0272,_0x8957a5=_0xc9add7[_0x2c75ae(0x6d4)](/^\s*/)[0x0][_0x2c75ae(0x711)],_0x254620=_0xc9add7['trim']();if(_0x8957a5===0x0)_0x3bed10={'sara':_0x254620,'mainTopics':[]},_0x4b5e76['push'](_0x3bed10),_0x35ab78=null;else{if(_0x8957a5>0x0&&_0x8957a5<0x8&&_0x3bed10)_0x35ab78={'topicName':_0x254620,'subTopics':[]},_0x3bed10[_0x2c75ae(0x43a)]['push'](_0x35ab78);else _0x8957a5>=0x8&&_0x35ab78&&_0x35ab78[_0x2c75ae(0x749)][_0x2c75ae(0xa09)](_0x254620);}}),{'curriculum':_0x4b5e76};}async function handleManualBlueprintSave(){const _0x2fa308=_0x57253e,_0x7a5f36=document[_0x2fa308(0x597)](_0x2fa308(0x919))[_0x2fa308(0x6f7)][_0x2fa308(0x365)](),_0x2058dc=document['getElementById'](_0x2fa308(0x7d5))[_0x2fa308(0x6f7)][_0x2fa308(0x365)](),_0x2c7794=document[_0x2fa308(0x597)](_0x2fa308(0x66f))[_0x2fa308(0x6f7)];if(!_0x7a5f36||!_0x2058dc||!_0x2c7794){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x8bd451=parseIndentedBlueprint(_0x2c7794);if(!_0x8bd451[_0x2fa308(0x8e3)]||_0x8bd451['curriculum']['length']===0x0){showMessage(_0x2fa308(0xa46));return;}const _0x33c89e={};let _0x441fb1=0x0;_0x8bd451[_0x2fa308(0x8e3)][_0x2fa308(0xb68)](_0xe96cf2=>{_0xe96cf2['mainTopics']['forEach'](_0x30411c=>{const _0x118634=_0x4216;_0x30411c['subTopics'][_0x118634(0xb68)](_0x5c956f=>{const _0x17aca5=_0x118634,_0x150a2d=_0x17aca5(0x935)+Date[_0x17aca5(0xa1b)]()+Math[_0x17aca5(0x373)]()[_0x17aca5(0x2bf)](0x24)[_0x17aca5(0x98a)](0x2,0x9);_0x33c89e[_0x150a2d]={'sara':_0xe96cf2[_0x17aca5(0x13e)],'mainTopic':_0x30411c[_0x17aca5(0x6a9)],'subTopic':_0x5c956f,'status':_0x17aca5(0x5d4),'lessonContent':null,'order':_0x441fb1++};});});});try{const _0x5eab4b=collection(db,'artifacts/'+appId+_0x2fa308(0x8ae));await addDoc(_0x5eab4b,{'projectName':_0x7a5f36,'gradeLevel':_0x2058dc,'topics':_0x33c89e,'createdAt':serverTimestamp()}),showMessage(_0x2fa308(0x74c)+_0x7a5f36+_0x2fa308(0x27f)),document[_0x2fa308(0x597)](_0x2fa308(0x6cd))[_0x2fa308(0x7f0)][_0x2fa308(0x6e3)](_0x2fa308(0x9ac));}catch(_0x4a1807){console['error'](_0x2fa308(0x1b3),_0x4a1807),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x1054b6){const _0x1ca41c=_0x57253e;showConfirmation(_0x1ca41c(0x757),async()=>{const _0x5ddaa3=_0x1ca41c;try{const _0x460c03=doc(db,_0x5ddaa3(0xc07)+appId+_0x5ddaa3(0x8ae),currentBlueprintProjectId);await updateDoc(_0x460c03,{['topics.'+_0x1054b6+'.linkedQuizIds']:[]}),showMessage('ล้างการเชื่อมโยงทั้งหมดสำเร็จ'),openTopicQuizBank(_0x1054b6),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5b7b5b){console[_0x5ddaa3(0x20d)](_0x5ddaa3(0x44d),_0x5b7b5b),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0xecda63,_0x20c476=_0x57253e(0xbc6)){const _0x4b0397=_0x57253e,_0x58da98=Object[_0x4b0397(0x174)](_0xecda63)[_0x4b0397(0x9ca)](([_0x5b372e,_0x5f291c])=>({'name':_0x5b372e,'score':_0x5f291c[_0x4b0397(0x1ed)]||0x0,'badges':_0x5f291c[_0x4b0397(0x88b)]||[],'hasPerfectScoreBonus':_0x5f291c['hasPerfectScoreBonus']||![]}));_0x58da98[_0x4b0397(0x2d6)]((_0x3ee7dd,_0x42b6bc)=>{const _0x3dff4f=_0x4b0397,_0x50467c=_0x42b6bc['score']-_0x3ee7dd['score'];if(_0x50467c!==0x0)return _0x50467c;return(_0x42b6bc[_0x3dff4f(0x88b)][_0x3dff4f(0x711)]||0x0)-(_0x3ee7dd[_0x3dff4f(0x88b)][_0x3dff4f(0x711)]||0x0);});const _0x5687e4=_0x6cf880=>{const _0xd8a63d=_0x4b0397;if(!_0x6cf880||_0x6cf880[_0xd8a63d(0x711)]===0x0)return'';const _0x19f88a={'quick_thinker':'⚡️','on_fire':'🔥'};return _0xd8a63d(0x3ee)+_0x6cf880['map'](_0x39918b=>_0x19f88a[_0x39918b]||'')[_0xd8a63d(0x552)]('')+'</div>';},_0x322016=_0x58da98[_0x4b0397(0xa65)](0x3),_0x46d591=_0x322016['length']>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x322016[_0x4b0397(0x9ca)]((_0x12b25a,_0xd6d70c)=>{const _0x3cec95=_0x4b0397,_0x27bfce=_0x12b25a[_0x3cec95(0x6a0)]?_0x3cec95(0xbc0):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0xd6d70c+0x4)+_0x3cec95(0x999)+_0x12b25a[_0x3cec95(0x309)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x12b25a[_0x3cec95(0x1ed)]+_0x3cec95(0x707)+_0x27bfce+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0xb7e8a7=_0x4b0397(0x1c3)+(_0x58da98[0x1]?_0x4b0397(0x65c)+_0x58da98[0x1][_0x4b0397(0x309)]+_0x4b0397(0x686)+_0x5687e4(_0x58da98[0x1][_0x4b0397(0x88b)])+_0x4b0397(0xc16)+_0x58da98[0x1][_0x4b0397(0x1ed)]+_0x4b0397(0x707)+(_0x58da98[0x1][_0x4b0397(0x6a0)]?_0x4b0397(0x813):'')+_0x4b0397(0xacb):_0x4b0397(0x4e0))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x58da98[0x0]?_0x4b0397(0xc26)+_0x58da98[0x0][_0x4b0397(0x309)]+_0x4b0397(0x686)+_0x5687e4(_0x58da98[0x0][_0x4b0397(0x88b)])+_0x4b0397(0x8ac)+_0x58da98[0x0]['score']+_0x4b0397(0x707)+(_0x58da98[0x0]['hasPerfectScoreBonus']?_0x4b0397(0x813):'')+_0x4b0397(0x413):_0x4b0397(0x4e0))+_0x4b0397(0x407)+(_0x58da98[0x2]?_0x4b0397(0xb5c)+_0x58da98[0x2][_0x4b0397(0x309)]+_0x4b0397(0x686)+_0x5687e4(_0x58da98[0x2][_0x4b0397(0x88b)])+_0x4b0397(0xc16)+_0x58da98[0x2][_0x4b0397(0x1ed)]+_0x4b0397(0x707)+(_0x58da98[0x2][_0x4b0397(0x6a0)]?_0x4b0397(0x813):'')+'</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':'<div\x20class=\x22flex-1\x22></div>')+_0x4b0397(0xc88)+_0x46d591+_0x4b0397(0x6e9)+(currentMode==='admin'?_0x4b0397(0x5ba):_0x4b0397(0x3e8))+_0x4b0397(0x5d1);liveGameView[_0x4b0397(0x2fe)]=_0xb7e8a7,currentMode==='admin'&&document[_0x4b0397(0x597)](_0x4b0397(0x6c1))[_0x4b0397(0x161)](_0x4b0397(0x82f),async()=>{const _0x2fb1ab=_0x4b0397;let _0x4ec54b;_0x20c476===_0x2fb1ab(0xbf1)?_0x4ec54b=doc(db,'artifacts/'+appId+_0x2fb1ab(0x539),currentLiveGameId):_0x4ec54b=doc(db,_0x2fb1ab(0xc07)+appId+_0x2fb1ab(0x7e2),currentLiveGameId),await deleteDoc(_0x4ec54b);});}function renderSyncSummaryView(_0x356b9d,_0x24be6d,_0x3ae8ac){const _0x401843=_0x57253e,_0x56f396=Object[_0x401843(0x9d8)](_0x356b9d[_0x401843(0xae4)]||{}),_0x3403a4=_0x24be6d[_0x401843(0x2a9)]||_0x356b9d[_0x401843(0x5df)][_0x401843(0x2b3)];let _0x49094f=[];_0x3403a4==='true_false'?_0x49094f=[_0x401843(0x648),_0x401843(0x9ec)]:_0x49094f=_0x24be6d['options']||[];const _0x598ec8=new Array(_0x49094f[_0x401843(0x711)])[_0x401843(0x945)](0x0),_0x32d036={};_0x49094f['forEach']((_0x2c9bef,_0x5c7d48)=>{_0x32d036[_0x5c7d48]=[];}),Object[_0x401843(0x174)](_0x356b9d[_0x401843(0xae4)]||{})[_0x401843(0xb68)](([_0x24ae85,_0x3da3c3])=>{const _0x8992d7=_0x401843;if(_0x3da3c3['status']!==_0x8992d7(0x544)&&_0x3da3c3[_0x8992d7(0x8ab)]!==undefined&&_0x3da3c3[_0x8992d7(0x8ab)]!==null){const _0x518d4b=_0x3da3c3['lastAnswerIndex'];_0x32d036[_0x518d4b]!==undefined&&(_0x32d036[_0x518d4b][_0x8992d7(0xa09)](_0x24ae85),_0x598ec8[_0x518d4b]++);}});let _0x2c4191='';_0x3ae8ac?_0x2c4191=_0x401843(0x14e):_0x2c4191=_0x401843(0xad5);const _0x327ab9=_0x401843(0xa8f)+_0x24be6d['questionText']+_0x401843(0x2f4)+_0x598ec8[_0x401843(0x9ca)]((_0x37616a,_0x45c9d7)=>{const _0x310c35=_0x401843,_0x45698f=_0x32d036[_0x45c9d7][_0x310c35(0x711)]>0x0?_0x32d036[_0x45c9d7][_0x310c35(0x552)](',\x20'):_0x310c35(0xaff),_0x2b8ebc=_0x310c35(0xb47);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x37616a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x2b8ebc+_0x310c35(0x81d)+_0x45c9d7+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x49094f[_0x45c9d7]+_0x310c35(0x24e)+_0x45c9d7+_0x310c35(0x62a)+_0x45698f+_0x310c35(0x412);})[_0x401843(0x552)]('')+_0x401843(0x6de)+_0x2c4191+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x401843(0x2fe)]=_0x327ab9;if(window['MathJax'])MathJax[_0x401843(0x4b8)]();_0x3ae8ac&&(document[_0x401843(0x597)](_0x401843(0x75a))[_0x401843(0x161)](_0x401843(0x82f),async()=>{const _0x36414b=_0x401843,_0x1e1923=doc(db,_0x36414b(0xc07)+appId+_0x36414b(0x539),currentLiveGameId);await updateDoc(_0x1e1923,{'status':_0x36414b(0xb25)});}),document[_0x401843(0x597)](_0x401843(0x62c))[_0x401843(0x1f8)]=()=>{openScratchpad(_0x24be6d,_0x49094f);});}async function handleShowStudentRankings(){const _0x502f88=_0x57253e,_0x493845=document[_0x502f88(0x7b3)](_0x502f88(0x9c6));_0x493845&&(_0x493845[_0x502f88(0x2fe)]=_0x502f88(0x8ee));const _0x56778c=document['querySelector']('#student-project-leaderboard-content\x20thead');_0x56778c&&(_0x56778c['innerHTML']=_0x502f88(0x25d));const _0x25b841=document['getElementById'](_0x502f88(0x27b));_0x25b841[_0x502f88(0x7f0)][_0x502f88(0x4bd)]('hidden'),document[_0x502f88(0x597)](_0x502f88(0x313))[_0x502f88(0x1f8)]=()=>_0x25b841['classList']['add']('hidden');const _0x43d523=document[_0x502f88(0x597)](_0x502f88(0x91f)),_0x16109f=document[_0x502f88(0x597)](_0x502f88(0x6b9)),_0x2acf85=document[_0x502f88(0x597)](_0x502f88(0xae0)),_0x3de925=document[_0x502f88(0x597)]('student-project-leaderboard-content');_0x43d523[_0x502f88(0x1f8)]=()=>{const _0x30ec8a=_0x502f88;_0x43d523['classList'][_0x30ec8a(0x6e3)]('active'),_0x16109f['classList'][_0x30ec8a(0x4bd)](_0x30ec8a(0xbe2)),_0x2acf85['classList'][_0x30ec8a(0x4bd)](_0x30ec8a(0x9ac)),_0x3de925[_0x30ec8a(0x7f0)][_0x30ec8a(0x6e3)](_0x30ec8a(0x9ac));},_0x16109f[_0x502f88(0x1f8)]=()=>{const _0x100766=_0x502f88;_0x16109f[_0x100766(0x7f0)][_0x100766(0x6e3)](_0x100766(0xbe2)),_0x43d523[_0x100766(0x7f0)][_0x100766(0x4bd)](_0x100766(0xbe2)),_0x3de925[_0x100766(0x7f0)][_0x100766(0x4bd)](_0x100766(0x9ac)),_0x2acf85[_0x100766(0x7f0)]['add']('hidden');};try{const _0x4751d3=collection(db,_0x502f88(0xc07)+appId+_0x502f88(0x60f)+currentQuizData['id']+'/submissions'),_0x35ea52=await getDocs(_0x4751d3),_0x2f8432=_0x35ea52[_0x502f88(0x69d)][_0x502f88(0x9ca)](_0x5a6cb0=>_0x5a6cb0[_0x502f88(0x533)]());renderQuizLeaderboard(_0x2f8432,currentQuizData,'student-quiz-leaderboard-table-body');const _0x59b395=collection(db,_0x502f88(0xc07)+appId+_0x502f88(0x504)+currentQuizData[_0x502f88(0x9f2)]+_0x502f88(0x29d)),_0x3b59ff=await getDocs(_0x59b395),_0x3a6fc=_0x3b59ff[_0x502f88(0x69d)][_0x502f88(0x9ca)](_0x169f81=>_0x169f81[_0x502f88(0x533)]());renderLeaderboard(_0x3a6fc,_0x502f88(0x4ae));}catch(_0x4f8621){console[_0x502f88(0x20d)](_0x502f88(0x289),_0x4f8621),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x131469){const _0x25019d=_0x57253e,_0x21e21a=_0x131469[_0x25019d(0x656)],_0x42997e=_0x21e21a[_0x25019d(0x7a0)][_0x25019d(0xb75)],_0x3c2b84=currentQuizData[_0x25019d(0x962)][_0x42997e];if(!userId){showMessage(_0x25019d(0x1c5));return;}try{const _0x247284={..._0x3c2b84,'originalTopic':currentQuizData[_0x25019d(0xc41)],'savedAt':serverTimestamp()},_0x2f9530=collection(db,_0x25019d(0xc07)+appId+_0x25019d(0x643)+userId+'/questionBank');await addDoc(_0x2f9530,_0x247284),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x21e21a[_0x25019d(0x7f0)][_0x25019d(0x4bd)](_0x25019d(0xb7d)),_0x21e21a[_0x25019d(0x7f0)][_0x25019d(0x6e3)](_0x25019d(0x69b)),_0x21e21a['disabled']=!![];}catch(_0x519d6f){console[_0x25019d(0x20d)](_0x25019d(0x1d7),_0x519d6f),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function selectProjectAndGenerateBlueprintQuiz(_0x21b54b,_0x33c2c3=null,_0x28dc23=null,_0x479657=![]){const _0x5ad0ea=_0x57253e;cameFromBlueprint=!![];const _0x1b08e1=document[_0x5ad0ea(0x597)](_0x5ad0ea(0x8de))?.[_0x5ad0ea(0x6f7)]['trim']();let _0x332690=null;if(_0x1b08e1){showMessage(_0x5ad0ea(0x306));try{const _0xbb8612=await fetchFileFromUrl(_0x1b08e1,_0x5ad0ea(0x521)),_0xc9d25d=await new Promise((_0x11ac13,_0x2a46f0)=>{const _0x80ba4b=_0x5ad0ea,_0x63dac5=new FileReader();_0x63dac5['readAsDataURL'](_0xbb8612),_0x63dac5[_0x80ba4b(0xc68)]=()=>_0x11ac13(_0x63dac5[_0x80ba4b(0x7df)]['split'](',')[0x1]),_0x63dac5[_0x80ba4b(0x8af)]=_0x2a46f0;});_0x332690=[{'inlineData':{'mimeType':_0xbb8612[_0x5ad0ea(0xa17)],'data':_0xc9d25d}}],messageModal[_0x5ad0ea(0x7f0)][_0x5ad0ea(0x6e3)](_0x5ad0ea(0x9ac));}catch(_0x92f9c){console[_0x5ad0ea(0x20d)](_0x5ad0ea(0x861),_0x92f9c),showMessage(_0x5ad0ea(0x124));}}const _0x2c4859=document['getElementById']('move-quiz-modal'),_0x4e76e3=document[_0x5ad0ea(0x597)](_0x5ad0ea(0xa4a)),_0x3fe61d=_0x2c4859[_0x5ad0ea(0x7b3)]('h3'),_0x3d3b11=document[_0x5ad0ea(0x597)](_0x5ad0ea(0x5c8)),_0x2231ff=document[_0x5ad0ea(0x597)](_0x5ad0ea(0xaf2));_0x3fe61d[_0x5ad0ea(0x3a6)]=_0x5ad0ea(0x2cf),_0x3d3b11['textContent']=_0x5ad0ea(0x6aa),_0x3d3b11[_0x5ad0ea(0x992)]=!![];allProjects['length']===0x0?_0x4e76e3[_0x5ad0ea(0x2fe)]=_0x5ad0ea(0x128):(_0x4e76e3[_0x5ad0ea(0x2fe)]=_0x5ad0ea(0x779)+allProjects['map'](_0x451e8c=>_0x5ad0ea(0x15e)+_0x451e8c['id']+'\x22>'+_0x451e8c[_0x5ad0ea(0xadf)]+_0x5ad0ea(0x9ff))[_0x5ad0ea(0x552)](''),_0x3d3b11[_0x5ad0ea(0x992)]=![]);_0x2c4859[_0x5ad0ea(0x7f0)]['remove'](_0x5ad0ea(0x9ac));const _0x340e1c=async()=>{const _0x40bd80=_0x5ad0ea,_0x5b1f69=_0x4e76e3[_0x40bd80(0x6f7)];if(!_0x5b1f69){showMessage(_0x40bd80(0x3ce));return;}_0x2c4859['classList'][_0x40bd80(0x6e3)]('hidden'),document[_0x40bd80(0x597)](_0x40bd80(0xa01))[_0x40bd80(0x7f0)][_0x40bd80(0x6e3)]('hidden'),await loadProjectDetails(_0x5b1f69),showView(_0x40bd80(0xb96)),handleGenerateQuizFromBlueprintTopic(_0x21b54b,_0x33c2c3,_0x5b1f69,_0x28dc23,_0x479657,_0x332690),_0x3569da();},_0x3569da=()=>{const _0x5683af=_0x5ad0ea;_0x3fe61d['textContent']=_0x5683af(0x486),_0x3d3b11['textContent']='ย้าย',_0x3d3b11[_0x5683af(0x713)]('click',_0x340e1c),_0x2231ff['removeEventListener']('click',_0x3569da),_0x3d3b11[_0x5683af(0x161)](_0x5683af(0x82f),confirmMoveQuiz);};_0x3d3b11[_0x5ad0ea(0x713)](_0x5ad0ea(0x82f),confirmMoveQuiz),_0x3d3b11[_0x5ad0ea(0x161)](_0x5ad0ea(0x82f),_0x340e1c),_0x2231ff[_0x5ad0ea(0x161)]('click',_0x3569da);}function listenForStarredQuizzes(){const _0x43c1ce=_0x57253e;if(!userId)return;const _0x3a3e49=collection(db,_0x43c1ce(0xc07)+appId+_0x43c1ce(0x194)),_0xd72592=query(_0x3a3e49,where(_0x43c1ce(0xca2),'==',!![]));onSnapshot(_0xd72592,_0x1311ca=>{const _0x30d31b=_0x43c1ce;starredQuizzes=_0x1311ca[_0x30d31b(0x69d)][_0x30d31b(0x9ca)](_0x90308d=>({'id':_0x90308d['id'],..._0x90308d[_0x30d31b(0x533)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x110883=>{const _0x203a52=_0x43c1ce;console[_0x203a52(0x20d)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x110883);});}function listenForFileShortcuts(){const _0xeb4def=_0x57253e,_0x53377f=doc(db,_0xeb4def(0x302),_0xeb4def(0x238));onSnapshot(_0x53377f,_0x50fa26=>{const _0x129f64=_0xeb4def;let _0x5f41d1=[],_0x2a248d=[],_0x4de9c4={};if(_0x50fa26['exists']()){const _0x5e6311=_0x50fa26[_0x129f64(0x533)]();_0x5f41d1=_0x5e6311['shortcuts']||[],_0x2a248d=_0x5e6311[_0x129f64(0x30f)]||[],_0x4de9c4=_0x5e6311['fileShortcutOrder']||{};}!_0x2a248d[_0x129f64(0x1bc)](_0x8734d5=>_0x8734d5['id']==='all')&&_0x2a248d[_0x129f64(0x155)]({'id':_0x129f64(0x52b),'name':_0x129f64(0x785),'isDefault':!![]}),!_0x5f41d1[_0x129f64(0x1bc)](_0x1711e9=>_0x1711e9['id']===_0x129f64(0xc29))&&_0x5f41d1[_0x129f64(0x155)]({'id':'file-default-1','name':_0x129f64(0x989),'url':'','isDefault':!![]}),!_0x5f41d1[_0x129f64(0x1bc)](_0x21cc7b=>_0x21cc7b['id']==='file-default-2')&&_0x5f41d1['unshift']({'id':_0x129f64(0xc46),'name':_0x129f64(0xab8),'url':'','isDefault':!![]}),fileShortcuts=_0x5f41d1,fileShortcutTabs=_0x2a248d,fileShortcutOrder=_0x4de9c4,renderFileShortcuts(),!document[_0x129f64(0x597)](_0x129f64(0xa94))[_0x129f64(0x7f0)][_0x129f64(0x1ef)](_0x129f64(0x9ac))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x7d241a=_0x57253e,_0x377476=doc(db,'globalSettings',_0x7d241a(0x238));try{await setDoc(_0x377476,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x5d5512){console[_0x7d241a(0x20d)](_0x7d241a(0x863),_0x5d5512);}}function renderAdditionalFileShortcutsModal(){const _0x386f1c=_0x57253e,_0x16495f=document[_0x386f1c(0x597)](_0x386f1c(0x36b)),_0x296094=document[_0x386f1c(0x597)](_0x386f1c(0x968));if(!_0x16495f||!_0x296094)return;_0x16495f[_0x386f1c(0x2fe)]=fileShortcutTabs[_0x386f1c(0x9ca)](_0x17265a=>{const _0x3894f9=_0x386f1c,_0x48ed79=_0x17265a['id']===activeFileShortcutTabId;return _0x3894f9(0x17b)+_0x17265a['id']+_0x3894f9(0x284)+(_0x48ed79?'border-indigo-500\x20text-indigo-600':_0x3894f9(0x987))+_0x3894f9(0x245)+_0x17265a['name']+_0x3894f9(0x57b)+_0x17265a[_0x3894f9(0x309)]+_0x3894f9(0x26b)+(!_0x17265a[_0x3894f9(0xc6e)]?_0x3894f9(0xc0f)+_0x17265a['id']+_0x3894f9(0x538):'')+_0x3894f9(0xc91);})[_0x386f1c(0x552)]('');const _0x50208b=fileShortcutTabs[_0x386f1c(0x1bc)](_0x59cff6=>_0x59cff6['id']===activeFileShortcutTabId);let _0x1295a4=_0x50208b?.[_0x386f1c(0xc6e)]?[...fileShortcuts]:fileShortcuts[_0x386f1c(0xa32)](_0x19deef=>(_0x50208b?.[_0x386f1c(0xaf9)]||[])[_0x386f1c(0x1d1)](_0x19deef['id']));const _0x574dfc=fileShortcutOrder[activeFileShortcutTabId]||[];_0x1295a4[_0x386f1c(0x2d6)]((_0x38cd39,_0x198b54)=>{const _0x17273f=_0x386f1c,_0x3b2218=_0x574dfc[_0x17273f(0xc54)](_0x38cd39['id']),_0x1933c6=_0x574dfc[_0x17273f(0xc54)](_0x198b54['id']);return(_0x3b2218===-0x1?Infinity:_0x3b2218)-(_0x1933c6===-0x1?Infinity:_0x1933c6);}),_0x296094[_0x386f1c(0x2fe)]=_0x1295a4[_0x386f1c(0x9ca)](_0x4121ed=>{const _0x3681db=_0x386f1c,_0x9587ba=_0x4121ed[_0x3681db(0x695)]?'📄':'🔗',_0xcda354=fileShortcutTabs[_0x3681db(0xa32)](_0x5b1c2c=>!_0x5b1c2c[_0x3681db(0xc6e)]),_0x529e19=_0x50208b[_0x3681db(0xc6e)]&&_0xcda354[_0x3681db(0x711)]>0x0?_0x3681db(0x928)+_0xcda354['map'](_0x190155=>_0x3681db(0xa43)+_0x4121ed['id']+_0x3681db(0x272)+_0x190155['id']+'\x22>'+_0x190155[_0x3681db(0x309)]+_0x3681db(0xc3d))[_0x3681db(0x552)]('')+_0x3681db(0x48d):'';return _0x3681db(0x52d)+_0x4121ed['id']+_0x3681db(0x9cf)+_0x9587ba+'\x20'+_0x4121ed['name']+_0x3681db(0xb93)+_0x4121ed['id']+_0x3681db(0x621)+_0x4121ed['id']+_0x3681db(0x374)+(!_0x4121ed['isDefault']?_0x3681db(0x736)+_0x4121ed['id']+_0x3681db(0x56d):'')+_0x3681db(0xab7)+(!_0x50208b[_0x3681db(0xc6e)]?_0x3681db(0xc18)+_0x4121ed['id']+_0x3681db(0x724):'')+_0x3681db(0xab7)+_0x529e19+_0x3681db(0x815);})[_0x386f1c(0x552)]('')||_0x386f1c(0xa92),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x1f4d69=_0x57253e;document[_0x1f4d69(0x40f)]('.file-shortcut-tab-btn')[_0x1f4d69(0xb68)](_0x4722ad=>{const _0xa6ec92=_0x1f4d69;_0x4722ad[_0xa6ec92(0x1f8)]=_0x5e833c=>{const _0x1d2b20=_0xa6ec92;activeFileShortcutTabId=_0x5e833c[_0x1d2b20(0x656)][_0x1d2b20(0x7a0)][_0x1d2b20(0x199)],renderAdditionalFileShortcutsModal();},_0x4722ad[_0xa6ec92(0x742)]=_0x4df8d3=>{const _0x5ec888=_0xa6ec92,_0x4cb1ff=_0x4df8d3[_0x5ec888(0x656)][_0x5ec888(0x7b3)](_0x5ec888(0x5aa));_0x4df8d3['currentTarget'][_0x5ec888(0x7b3)]('.tab-name-display')[_0x5ec888(0x7f0)][_0x5ec888(0x6e3)](_0x5ec888(0x9ac)),_0x4cb1ff['classList'][_0x5ec888(0x4bd)](_0x5ec888(0x9ac)),_0x4cb1ff['focus'](),_0x4cb1ff['select']();};}),document[_0x1f4d69(0x40f)](_0x1f4d69(0x58d))['forEach'](_0x481eca=>{const _0x5f434=_0x1f4d69,_0x2ee318=()=>{const _0x34f8e4=_0x4216,_0x113a53=_0x481eca[_0x34f8e4(0x4dc)](_0x34f8e4(0x8cc))[_0x34f8e4(0x7a0)][_0x34f8e4(0x199)],_0x4921de=fileShortcutTabs[_0x34f8e4(0x1bc)](_0x357a83=>_0x357a83['id']===_0x113a53);_0x4921de&&(_0x4921de[_0x34f8e4(0x309)]=_0x481eca[_0x34f8e4(0x6f7)][_0x34f8e4(0x365)]()||_0x4921de[_0x34f8e4(0x309)],saveFileShortcutConfig());};_0x481eca[_0x5f434(0xa33)]=_0x2ee318,_0x481eca[_0x5f434(0x4af)]=_0x4b60d5=>{const _0x248659=_0x5f434;if(_0x4b60d5[_0x248659(0x555)]===_0x248659(0x7f5))_0x481eca[_0x248659(0x3e4)]();};}),document[_0x1f4d69(0x40f)](_0x1f4d69(0x18c))[_0x1f4d69(0xb68)](_0x2ac236=>_0x2ac236[_0x1f4d69(0x1f8)]=_0x11604b=>{const _0x25f2c2=_0x1f4d69,_0x55ad13=_0x11604b[_0x25f2c2(0x656)][_0x25f2c2(0x7a0)][_0x25f2c2(0x199)];showConfirmation(_0x25f2c2(0xc47),()=>{const _0x258462=_0x25f2c2;fileShortcutTabs=fileShortcutTabs[_0x258462(0xa32)](_0x4f7cd4=>_0x4f7cd4['id']!==_0x55ad13),delete fileShortcutOrder[_0x55ad13];if(activeFileShortcutTabId===_0x55ad13)activeFileShortcutTabId='all';saveFileShortcutConfig();});}),document['querySelectorAll'](_0x1f4d69(0x561))[_0x1f4d69(0xb68)](_0x23c72f=>_0x23c72f[_0x1f4d69(0x1f8)]=_0x247abb=>{const _0x10d4df=_0x1f4d69;_0x247abb[_0x10d4df(0x3f5)]();const {shortcutId:_0x48d4ec,targetTabId:_0x48f866}=_0x247abb['currentTarget'][_0x10d4df(0x7a0)],_0x2017e7=fileShortcutTabs[_0x10d4df(0x1bc)](_0x40d010=>_0x40d010['id']===_0x48f866);_0x2017e7&&!_0x2017e7[_0x10d4df(0xaf9)]['includes'](_0x48d4ec)&&(_0x2017e7[_0x10d4df(0xaf9)][_0x10d4df(0xa09)](_0x48d4ec),saveFileShortcutConfig());}),document[_0x1f4d69(0x40f)]('.remove-file-shortcut-from-tab-btn')[_0x1f4d69(0xb68)](_0x3ac104=>_0x3ac104['onclick']=_0x36ff3e=>{const _0x400d10=_0x1f4d69,_0x69fbef=_0x36ff3e[_0x400d10(0x656)][_0x400d10(0x7a0)][_0x400d10(0x4c7)],_0x36db49=fileShortcutTabs[_0x400d10(0x1bc)](_0x445ab4=>_0x445ab4['id']===activeFileShortcutTabId);_0x36db49&&!_0x36db49[_0x400d10(0xc6e)]&&(_0x36db49['shortcutIds']=_0x36db49[_0x400d10(0xaf9)][_0x400d10(0xa32)](_0x4e30a2=>_0x4e30a2!==_0x69fbef),saveFileShortcutConfig());}),document[_0x1f4d69(0x40f)](_0x1f4d69(0x933))[_0x1f4d69(0xb68)](_0x1b1e0b=>_0x1b1e0b[_0x1f4d69(0x1f8)]=_0x319f10=>{const _0x5a4217=_0x1f4d69;_0x319f10[_0x5a4217(0x5a7)]();const _0x5cebf0=_0x319f10['currentTarget'][_0x5a4217(0x994)];document['querySelectorAll'](_0x5a4217(0x2bc))['forEach'](_0x3c913c=>_0x3c913c[_0x5a4217(0x7f0)][_0x5a4217(0x6e3)](_0x5a4217(0x9ac))),_0x5cebf0[_0x5a4217(0x7f0)][_0x5a4217(0x4bd)](_0x5a4217(0x9ac));});const _0x157801=document[_0x1f4d69(0x597)](_0x1f4d69(0x968));let _0x301501=null;_0x157801[_0x1f4d69(0x7bc)]=_0xa9c1d8=>{const _0x3ae291=_0x1f4d69;_0x301501=_0xa9c1d8[_0x3ae291(0xaa3)][_0x3ae291(0x4dc)](_0x3ae291(0x592));if(_0x301501)setTimeout(()=>_0x301501['classList'][_0x3ae291(0x6e3)](_0x3ae291(0x5ad)),0x0);},_0x157801[_0x1f4d69(0x404)]=()=>{const _0x2ca7a3=_0x1f4d69;_0x301501&&(_0x301501[_0x2ca7a3(0x7f0)][_0x2ca7a3(0x4bd)](_0x2ca7a3(0x5ad)),_0x301501=null);},_0x157801[_0x1f4d69(0x97a)]=_0x81f9ed=>{const _0x31908e=_0x1f4d69;_0x81f9ed[_0x31908e(0x3f5)]();},_0x157801[_0x1f4d69(0x762)]=_0x334212=>{const _0x50d4bd=_0x1f4d69;_0x334212[_0x50d4bd(0x3f5)]();if(_0x301501){const _0x22f194=[..._0x157801[_0x50d4bd(0x40f)](_0x50d4bd(0x5eb))]['reduce']((_0x2fed84,_0x40c8d7)=>{const _0x2b8051=_0x50d4bd,_0x3432ed=_0x40c8d7[_0x2b8051(0x76f)](),_0x5d0b5b=_0x334212[_0x2b8051(0x1da)]-_0x3432ed['top']-_0x3432ed[_0x2b8051(0x3dd)]/0x2;return _0x5d0b5b<0x0&&_0x5d0b5b>_0x2fed84['offset']?{'offset':_0x5d0b5b,'element':_0x40c8d7}:_0x2fed84;},{'offset':Number['NEGATIVE_INFINITY']})[_0x50d4bd(0x818)];_0x22f194==null?_0x157801[_0x50d4bd(0x52c)](_0x301501):_0x157801[_0x50d4bd(0x564)](_0x301501,_0x22f194);const _0x163ad9=[..._0x157801[_0x50d4bd(0x40f)](_0x50d4bd(0x592))]['map'](_0x18f06b=>_0x18f06b['dataset']['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x163ad9,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x2ff639=_0x57253e,_0x130666=prompt(_0x2ff639(0xa5d),'แท็บใหม่');_0x130666&&_0x130666[_0x2ff639(0x365)]()&&(fileShortcutTabs['push']({'id':_0x2ff639(0xc7c)+Date[_0x2ff639(0xa1b)](),'name':_0x130666[_0x2ff639(0x365)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x3fa1e8=_0x57253e,_0x116f68=document[_0x3fa1e8(0x597)](_0x3fa1e8(0x670)),_0x5af3fe=document[_0x3fa1e8(0x597)](_0x3fa1e8(0x968)),_0x1b17b2=document[_0x3fa1e8(0x597)](_0x3fa1e8(0x1fd));if(_0x1b17b2)_0x1b17b2[_0x3fa1e8(0x7f0)]['add'](_0x3fa1e8(0x9ac));if(!_0x116f68||!_0x5af3fe)return;const _0x4755a7=fileShortcuts[_0x3fa1e8(0xa65)](0x0,0x4),_0x700753=fileShortcuts[_0x3fa1e8(0xa65)](0x4);_0x116f68['innerHTML']=_0x4755a7[_0x3fa1e8(0x9ca)](_0x100558=>{const _0x6b75ea=_0x3fa1e8,_0x3e37ce=_0x100558[_0x6b75ea(0x695)]&&_0x100558[_0x6b75ea(0x695)][_0x6b75ea(0x365)]()!=='',_0x3ace75=selectedFile&&selectedFile[_0x6b75ea(0x4c7)]===_0x100558['id'];let _0x33ffb0=_0x6b75ea(0x2e6),_0x2e6c22='🔗';if(_0x3ace75)_0x33ffb0=_0x6b75ea(0x7c4),_0x2e6c22=_0x6b75ea(0x573);else _0x3e37ce&&(_0x33ffb0=_0x6b75ea(0x509),_0x2e6c22='📄');const _0x4eafa5=!_0x100558[_0x6b75ea(0xc6e)]?'<button\x20data-id=\x22'+_0x100558['id']+_0x6b75ea(0x659):'';return _0x6b75ea(0x609)+_0x100558['id']+_0x6b75ea(0x8a2)+_0x33ffb0+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x2e6c22+_0x6b75ea(0x311)+_0x100558[_0x6b75ea(0x309)]+_0x6b75ea(0x570)+_0x100558['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4eafa5+_0x6b75ea(0x1fc);})['join'](''),_0x700753[_0x3fa1e8(0x711)]>0x0&&(_0x116f68[_0x3fa1e8(0x2fe)]+=_0x3fa1e8(0x775)),_0x700753['length']>0x0?_0x5af3fe[_0x3fa1e8(0x2fe)]=_0x700753[_0x3fa1e8(0x9ca)](_0x2a6639=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+(_0x2a6639[_0x3fa1e8(0x695)]?'📄':'🔗')+'\x20'+_0x2a6639[_0x3fa1e8(0x309)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2a6639['id']+_0x3fa1e8(0x1e5)+_0x2a6639['id']+_0x3fa1e8(0xbe5)+(!_0x2a6639[_0x3fa1e8(0xc6e)]?_0x3fa1e8(0x736)+_0x2a6639['id']+_0x3fa1e8(0x56d):'')+_0x3fa1e8(0xbd2))[_0x3fa1e8(0x552)](''):_0x5af3fe[_0x3fa1e8(0x2fe)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0x13afda=null){const _0x582d91=_0x57253e,_0x46266b=document['getElementById'](_0x582d91(0x2db)),_0x32abf8=document[_0x582d91(0x597)](_0x582d91(0x9dc)),_0x529a64=document[_0x582d91(0x597)](_0x582d91(0x1dc)),_0x2db098=document[_0x582d91(0x597)](_0x582d91(0x282)),_0x359046=document[_0x582d91(0x597)]('file-shortcut-url-input');if(_0x13afda){const _0x593b76=fileShortcuts[_0x582d91(0x1bc)](_0x63fad5=>_0x63fad5['id']===_0x13afda);if(!_0x593b76)return;_0x32abf8[_0x582d91(0x3a6)]=_0x582d91(0xb8f),_0x529a64[_0x582d91(0x6f7)]=_0x593b76['id'],_0x2db098[_0x582d91(0x6f7)]=_0x593b76[_0x582d91(0x309)],_0x359046[_0x582d91(0x6f7)]=_0x593b76['url']||'';}else _0x32abf8[_0x582d91(0x3a6)]=_0x582d91(0x895),_0x529a64[_0x582d91(0x6f7)]='',_0x2db098[_0x582d91(0x6f7)]='',_0x359046[_0x582d91(0x6f7)]='';_0x46266b[_0x582d91(0x7f0)][_0x582d91(0x4bd)]('hidden');}async function saveFileShortcutChanges(){const _0x3e4a46=_0x57253e,_0x1deac5=document[_0x3e4a46(0x597)](_0x3e4a46(0x1dc))['value'],_0x3453a1=document[_0x3e4a46(0x597)](_0x3e4a46(0x282))[_0x3e4a46(0x6f7)][_0x3e4a46(0x365)](),_0x3e42df=document[_0x3e4a46(0x597)](_0x3e4a46(0x2ef))[_0x3e4a46(0x6f7)][_0x3e4a46(0x365)]();if(!_0x3453a1){showMessage(_0x3e4a46(0x242));return;}const _0x18950d={'id':_0x1deac5||_0x3e4a46(0x728)+Date[_0x3e4a46(0xa1b)](),'name':_0x3453a1,'url':_0x3e42df,'isDefault':_0x1deac5[_0x3e4a46(0xbe3)](_0x3e4a46(0x356))};let _0x223877;_0x1deac5?_0x223877=fileShortcuts[_0x3e4a46(0x9ca)](_0x1924bf=>_0x1924bf['id']===_0x1deac5?_0x18950d:_0x1924bf):_0x223877=[...fileShortcuts,_0x18950d];try{const _0x49255e=doc(db,_0x3e4a46(0x302),'fileShortcutsConfig');await setDoc(_0x49255e,{'shortcuts':_0x223877},{'merge':!![]}),document[_0x3e4a46(0x597)](_0x3e4a46(0x2db))[_0x3e4a46(0x7f0)][_0x3e4a46(0x6e3)](_0x3e4a46(0x9ac));}catch(_0x1cec14){console['error'](_0x3e4a46(0xb21),_0x1cec14),showMessage(_0x3e4a46(0x644));}}async function handleFileShortcutClick(_0x4841ab){const _0x2a8ce6=_0x57253e,_0x4406f3=fileShortcuts['find'](_0x4fe8b2=>_0x4fe8b2['id']===_0x4841ab);if(!_0x4406f3)return;if(!_0x4406f3[_0x2a8ce6(0x695)]||_0x4406f3[_0x2a8ce6(0x695)][_0x2a8ce6(0x365)]()===''){openFileShortcutEditor(_0x4841ab);return;}const _0xc8773f=document[_0x2a8ce6(0x7b3)](_0x2a8ce6(0x4a8)+_0x4841ab+'\x22]');if(_0xc8773f){const _0x540a71=_0xc8773f['innerHTML'];_0xc8773f[_0x2a8ce6(0x2fe)]=_0x2a8ce6(0xc17),_0xc8773f[_0x2a8ce6(0x992)]=!![];}document[_0x2a8ce6(0x40f)](_0x2a8ce6(0xa72))['forEach'](_0x50b93e=>{const _0x12d239=_0x2a8ce6;if(_0x50b93e[_0x12d239(0x7a0)]['id']!==_0x4841ab)_0x50b93e[_0x12d239(0x7f0)][_0x12d239(0x6e3)](_0x12d239(0x5ad),_0x12d239(0x894));});try{const _0x2eb443=new URL(_0x4406f3['url'])[_0x2a8ce6(0xacf)],_0xb25aaf=_0x2eb443['substring'](_0x2eb443[_0x2a8ce6(0x554)]('/')+0x1)||(_0x4406f3[_0x2a8ce6(0x695)][_0x2a8ce6(0x1d1)](_0x2a8ce6(0x696))?'file.txt':_0x2a8ce6(0x572)),_0x2f893e=await fetchFileFromUrl(_0x4406f3[_0x2a8ce6(0x695)],_0xb25aaf);_0x2f893e[_0x2a8ce6(0x4c7)]=_0x4841ab,selectedFile=_0x2f893e,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x2a8ce6(0x597)](_0x2a8ce6(0x85e))[_0x2a8ce6(0x3ed)]({'behavior':'smooth','block':'center'});}catch(_0x4c4f79){console[_0x2a8ce6(0x20d)](_0x2a8ce6(0xa29),_0x4c4f79),showMessage(_0x2a8ce6(0x3a1)+_0x4c4f79[_0x2a8ce6(0x5f2)]),renderFileShortcuts();}finally{document[_0x2a8ce6(0x40f)](_0x2a8ce6(0xa72))[_0x2a8ce6(0xb68)](_0x34e24c=>{const _0x4464a1=_0x2a8ce6;_0x34e24c['classList'][_0x4464a1(0x4bd)](_0x4464a1(0x5ad),_0x4464a1(0x894)),_0x34e24c[_0x4464a1(0x992)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x41d541=_0x57253e;if(allQuizzesGlobal[_0x41d541(0x711)]>0x0)return;console[_0x41d541(0x496)](_0x41d541(0x77a)),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0xdd6dba=await getDocs(collection(db,_0x41d541(0xc07)+appId+_0x41d541(0x194)));allQuizzesGlobal=_0xdd6dba[_0x41d541(0x69d)][_0x41d541(0x9ca)](_0x32235c=>({'id':_0x32235c['id'],..._0x32235c['data']()})),console[_0x41d541(0x496)](_0x41d541(0x72c)+allQuizzesGlobal['length']+_0x41d541(0x9c4)),messageModal[_0x41d541(0x7f0)][_0x41d541(0x6e3)](_0x41d541(0x9ac));}catch(_0x364638){console[_0x41d541(0x20d)](_0x41d541(0x2c8),_0x364638),messageModal['classList'][_0x41d541(0x6e3)](_0x41d541(0x9ac));throw new Error(_0x41d541(0xa0b));}}function exportQuizAsWorksheetPDF(){const _0x4efd85=_0x57253e;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x49b22e=currentQuizData,_0x1b0abc=window[_0x4efd85(0xc9c)]('',_0x4efd85(0x16a)),_0x5ed99b=_0x55d060=>String['fromCharCode'](0x41+_0x55d060),_0xde2d52=_0x4efd85(0x5c6)+_0x49b22e['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x49b22e[_0x4efd85(0xc41)]+_0x4efd85(0x13b)+_0x49b22e[_0x4efd85(0x962)][_0x4efd85(0x9ca)]((_0xdeffba,_0x55859c)=>{const _0x2fe55f=_0x4efd85;let _0x4db618='';const _0x4894ec=_0xdeffba['questionType']||_0x49b22e[_0x2fe55f(0x2b3)];switch(_0x4894ec){case _0x2fe55f(0x8ea):case _0x2fe55f(0x959):_0x4db618=_0x2fe55f(0x256)+_0xdeffba[_0x2fe55f(0x6c2)][_0x2fe55f(0x9ca)]((_0x28f056,_0x4ba286)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5ed99b(_0x4ba286)+'.\x20'+_0x28f056+_0x2fe55f(0x9fd))[_0x2fe55f(0x552)](_0x2fe55f(0x1f4))+_0x2fe55f(0x519);break;case'true_false':_0x4db618='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x4db618=_0x2fe55f(0x29a);break;}return _0x2fe55f(0x4f1)+(_0x55859c+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0xdeffba[_0x2fe55f(0x2d4)]||_0xdeffba[_0x2fe55f(0x525)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xdeffba[_0x2fe55f(0x415)]?'<div\x20class=\x22my-2\x22>'+_0xdeffba[_0x2fe55f(0x415)]+_0x2fe55f(0x519):'')+_0x2fe55f(0x21b)+_0x4db618+_0x2fe55f(0x7bf);})[_0x4efd85(0x552)]('')+_0x4efd85(0x803);_0x1b0abc[_0x4efd85(0x691)]['write'](_0xde2d52),_0x1b0abc['document'][_0x4efd85(0x6f1)](),_0x1b0abc['onload']=function(){setTimeout(()=>{const _0x3f1e3d=_0x4216;_0x1b0abc[_0x3f1e3d(0x22f)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x28e2d1=_0x57253e;if(!currentQuizData||!currentQuizData[_0x28e2d1(0x962)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x54d7ba=currentQuizData,_0x5009d8=window[_0x28e2d1(0xc9c)]('','_blank'),_0x53e22c=_0x5d1be6=>String[_0x28e2d1(0x400)](0x41+_0x5d1be6),_0x5cdfde=_0x28e2d1(0x68b)+_0x54d7ba[_0x28e2d1(0xc41)]+_0x28e2d1(0x737)+_0x54d7ba[_0x28e2d1(0x962)][_0x28e2d1(0x9ca)]((_0x77201d,_0x25eea9)=>{const _0xc95892=_0x28e2d1;let _0x263767='';const _0x123ca0=_0x77201d[_0xc95892(0x2a9)]||_0x54d7ba[_0xc95892(0x2b3)];switch(_0x123ca0){case _0xc95892(0x8ea):case _0xc95892(0x959):_0x263767=_0xc95892(0x685)+_0x77201d[_0xc95892(0x6c2)][_0xc95892(0x9ca)]((_0xae0ea8,_0x42ecb2)=>_0xc95892(0x784)+_0x53e22c(_0x42ecb2)+'.\x20'+_0xae0ea8+'</span>')[_0xc95892(0x552)](_0xc95892(0x1f4))+_0xc95892(0x9b7);break;case _0xc95892(0xc6b):_0x263767=_0xc95892(0x46c);break;default:_0x263767='';break;}return _0xc95892(0x720)+_0x54d7ba[_0xc95892(0xc41)]+_0xc95892(0x7ce)+(_0x25eea9+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x77201d[_0xc95892(0x2d4)]||_0x77201d[_0xc95892(0x525)])+_0xc95892(0x792)+(_0x77201d['imageCode']?'<div\x20class=\x22my-6\x22>'+_0x77201d[_0xc95892(0x415)]+_0xc95892(0x519):'')+_0xc95892(0x21b)+_0x263767+_0xc95892(0x40e);})['join']('')+_0x28e2d1(0x557);_0x5009d8[_0x28e2d1(0x691)][_0x28e2d1(0x246)](_0x5cdfde),_0x5009d8[_0x28e2d1(0x691)]['close'](),_0x5009d8[_0x28e2d1(0xc68)]=function(){setTimeout(()=>{const _0x330828=_0x4216;_0x5009d8[_0x330828(0x22f)]();},0x5dc);};}async function handleToggleStarQuiz(_0x53e874){const _0x5840ea=_0x57253e,_0x1dbb5d=doc(db,_0x5840ea(0xc07)+appId+_0x5840ea(0x194),_0x53e874);try{const _0x160336=await getDoc(_0x1dbb5d);if(_0x160336['exists']()){const _0x5e6e01=_0x160336['data']()[_0x5840ea(0xca2)]||![];await updateDoc(_0x1dbb5d,{'isStarred':!_0x5e6e01});}}catch(_0x11e9ce){console[_0x5840ea(0x20d)](_0x5840ea(0xc22),_0x11e9ce),showMessage(_0x5840ea(0x3e7));}}async function displayQuestionBank(){const _0x5515a1=_0x57253e,_0x3f4fc8=document[_0x5515a1(0x597)]('bank-input-area');_0x3f4fc8[_0x5515a1(0x2fe)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x567e92=collection(db,_0x5515a1(0xc07)+appId+'/users/'+userId+'/questionBank'),_0x3fa4a1=query(_0x567e92),_0x41a64d=await getDocs(_0x3fa4a1);if(_0x41a64d['empty']){_0x3f4fc8['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x463472=_0x41a64d['docs'][_0x5515a1(0x9ca)](_0x4268b6=>{const _0x4d6683=_0x5515a1,_0x33df02=_0x4268b6[_0x4d6683(0x533)](),_0x597ca7=_0x4268b6['id'];return _0x4d6683(0xbb0)+JSON[_0x4d6683(0xb09)](_0x33df02)+_0x4d6683(0xa7c)+(_0x33df02['questionText']||_0x33df02[_0x4d6683(0x2d4)])+_0x4d6683(0x34a)+_0x33df02['originalTopic']+_0x4d6683(0x5bd);})[_0x5515a1(0x552)]('');_0x3f4fc8[_0x5515a1(0x2fe)]=_0x5515a1(0x450)+_0x463472+_0x5515a1(0x2bd),document[_0x5515a1(0x597)]('create-from-bank-btn')[_0x5515a1(0x161)](_0x5515a1(0x82f),createQuizFromBank);}catch(_0x5057e4){console['error'](_0x5515a1(0x560),_0x5057e4),_0x3f4fc8[_0x5515a1(0x2fe)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x4f73ab=_0x57253e,_0x451b28=document[_0x4f73ab(0x597)](_0x4f73ab(0x702)),_0x3c7526=document[_0x4f73ab(0x597)](_0x4f73ab(0xb7a))[_0x4f73ab(0x3a6)]||'บทเรียน';if(!_0x451b28){showMessage(_0x4f73ab(0x286));return;}const _0xd965f1=window[_0x4f73ab(0xc9c)]('',_0x4f73ab(0x16a)),_0x19a05b=_0x4f73ab(0xc5f)+_0x3c7526+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>'+_0x3c7526+_0x4f73ab(0x9ee)+_0x451b28[_0x4f73ab(0x2fe)]+_0x4f73ab(0x803);_0xd965f1[_0x4f73ab(0x691)][_0x4f73ab(0x246)](_0x19a05b),_0xd965f1[_0x4f73ab(0x691)][_0x4f73ab(0x6f1)](),_0xd965f1[_0x4f73ab(0xc68)]=function(){setTimeout(()=>{const _0x5b2cba=_0x4216;_0xd965f1[_0x5b2cba(0x22f)]();},0x7d0);};}function showAdminLiveQuestionView(_0x3f4565,_0x4d2540,_0xb16279){const _0x19d40d=_0x57253e,_0x450df7=_0x3f4565[_0x19d40d(0x2a9)]||currentQuizData['quizType'];let _0x123808='';if(_0x450df7===_0x19d40d(0x8ea)||_0x450df7===_0x19d40d(0xc6b)){const _0x469893=_0x450df7==='true_false'?[_0x19d40d(0x5e1),'ไม่ใช่']:_0x3f4565[_0x19d40d(0x6c2)],_0x42a235=_0x450df7===_0x19d40d(0xc6b)?_0x3f4565['correctAnswer']?0x0:0x1:_0x3f4565[_0x19d40d(0xacd)];_0x123808=_0x469893['map']((_0x402fdc,_0x4b4d4)=>_0x19d40d(0x410)+(_0x4b4d4===_0x42a235)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x402fdc+_0x19d40d(0x1fc))[_0x19d40d(0x552)]('');}else{if(_0x450df7===_0x19d40d(0x22d)){const _0x1ee780=_0x3f4565[_0x19d40d(0x8b0)]||[];_0x123808=_0x1ee780[_0x19d40d(0x9ca)](_0x56e22a=>_0x19d40d(0x410)+(_0x56e22a===_0x3f4565[_0x19d40d(0x2a6)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56e22a+_0x19d40d(0x1fc))['join']('');}}const _0x29a710=_0x3f4565['stem']||_0x3f4565[_0x19d40d(0x525)],_0x2e7a9e=_0x19d40d(0x924)+(_0x4d2540+0x1)+_0x19d40d(0x751)+_0xb16279+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0x19d40d(0x543)+_0x29a710+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x123808+_0x19d40d(0x63b);liveGameView[_0x19d40d(0x2fe)]=_0x2e7a9e,window[_0x19d40d(0x2e3)]&&MathJax[_0x19d40d(0x4b8)]&&MathJax[_0x19d40d(0x4b8)]([liveGameView]),document[_0x19d40d(0x597)](_0x19d40d(0xb15))[_0x19d40d(0x161)](_0x19d40d(0x82f),()=>revealAnswerForAdmin(_0x4d2540,_0xb16279)),document[_0x19d40d(0x597)](_0x19d40d(0x41d))[_0x19d40d(0x161)]('click',async()=>{const _0x4c3c71=_0x19d40d;showConfirmation(_0x4c3c71(0x74a),async()=>{const _0xf46640=_0x4c3c71,_0x7e6880=doc(db,_0xf46640(0xc07)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x7e6880,{'status':_0xf46640(0xb52)});});}),document[_0x19d40d(0x597)](_0x19d40d(0xa0d))[_0x19d40d(0x161)](_0x19d40d(0x82f),()=>{const _0x1145af=_0x19d40d;document['getElementById'](_0x1145af(0xc97))['classList']['toggle'](_0x1145af(0x9ac));});}function promptForProjectBeforeGenerating(_0x59d6f9){const _0x494641=_0x57253e,_0x46b8c3=document['getElementById']('move-quiz-modal'),_0x2893e9=document[_0x494641(0x597)](_0x494641(0xa4a)),_0x270d7f=_0x46b8c3[_0x494641(0x7b3)]('h3'),_0x6f8f3a=document[_0x494641(0x597)](_0x494641(0x5c8)),_0x14088c=document['getElementById']('cancel-move-quiz-btn');_0x270d7f[_0x494641(0x3a6)]=_0x494641(0x2cf),_0x6f8f3a['textContent']=_0x494641(0x6aa),_0x6f8f3a['disabled']=!![];allProjects[_0x494641(0x711)]===0x0?_0x2893e9['innerHTML']=_0x494641(0x128):(_0x2893e9['innerHTML']=_0x494641(0x779)+allProjects[_0x494641(0x9ca)](_0x406fa7=>'<option\x20value=\x22'+_0x406fa7['id']+'\x22>'+_0x406fa7[_0x494641(0xadf)]+'</option>')[_0x494641(0x552)](''),_0x6f8f3a['disabled']=![]);_0x46b8c3[_0x494641(0x7f0)][_0x494641(0x4bd)]('hidden');const _0x5aaee0=async()=>{const _0x37135e=_0x494641,_0x46c55e=_0x2893e9['value'];if(!_0x46c55e){showMessage(_0x37135e(0x3ce));return;}_0x46b8c3[_0x37135e(0x7f0)]['add'](_0x37135e(0x9ac)),await loadProjectDetails(_0x46c55e),showView(_0x37135e(0xb96)),handleGenerateQuizFromBlueprintTopic(_0x59d6f9),_0x43fc07();},_0x43fc07=()=>{const _0x1e14ec=_0x494641;_0x270d7f['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x6f8f3a[_0x1e14ec(0x3a6)]=_0x1e14ec(0x35d),_0x6f8f3a[_0x1e14ec(0x713)](_0x1e14ec(0x82f),_0x5aaee0),_0x14088c[_0x1e14ec(0x713)]('click',_0x43fc07),_0x6f8f3a[_0x1e14ec(0x161)](_0x1e14ec(0x82f),confirmMoveQuiz);};_0x6f8f3a['removeEventListener'](_0x494641(0x82f),confirmMoveQuiz),_0x6f8f3a[_0x494641(0x161)](_0x494641(0x82f),_0x5aaee0),_0x14088c[_0x494641(0x161)](_0x494641(0x82f),_0x43fc07);}function showStudentLiveQuestionView(_0x363e3e,_0x167ac6,_0x5e8cbe){const _0x308eec=_0x57253e,_0x1c90f5=_0x363e3e[_0x308eec(0x2a9)]||currentQuizData[_0x308eec(0x2b3)];let _0x449103='';if(_0x1c90f5===_0x308eec(0x8ea)||_0x1c90f5===_0x308eec(0xc6b)){const _0x20279e=_0x1c90f5===_0x308eec(0xc6b)?['ใช่',_0x308eec(0x2de)]:_0x363e3e[_0x308eec(0x6c2)];_0x449103=_0x20279e['map']((_0x30761d,_0x2e1887)=>_0x308eec(0xbd9)+_0x2e1887+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x30761d+_0x308eec(0x1e9))[_0x308eec(0x552)]('');}else{if(_0x1c90f5===_0x308eec(0x22d)){const _0x455f79=_0x363e3e[_0x308eec(0x8b0)]||[];_0x449103=_0x455f79[_0x308eec(0x9ca)]((_0x1436cf,_0x402341)=>_0x308eec(0xbd9)+_0x402341+_0x308eec(0x3ad)+_0x1436cf+_0x308eec(0x1e9))[_0x308eec(0x552)]('');}else _0x1c90f5===_0x308eec(0x733)&&(_0x449103=_0x308eec(0x182));}const _0x3af7fd=_0x363e3e[_0x308eec(0x2d4)]||_0x363e3e['questionText'],_0x2b6be5=_0x308eec(0x991)+(_0x167ac6+0x1)+_0x308eec(0x751)+_0x5e8cbe+_0x308eec(0x905)+_0x3af7fd+_0x308eec(0xa35)+_0x449103+_0x308eec(0xb71);liveGameView[_0x308eec(0x2fe)]=_0x2b6be5;window[_0x308eec(0x2e3)]&&MathJax['typesetPromise']&&MathJax[_0x308eec(0x4b8)]([liveGameView]);const _0x5cc0fb=document[_0x308eec(0x597)](_0x308eec(0xa45));_0x5cc0fb&&_0x5cc0fb[_0x308eec(0x161)]('click',()=>{const _0x1b1217=_0x308eec,_0x27ddb9=document[_0x1b1217(0x597)](_0x1b1217(0xc85))[_0x1b1217(0x6f7)];handleLiveAnswer(_0x27ddb9,_0x363e3e);}),document[_0x308eec(0x597)](_0x308eec(0xc13))[_0x308eec(0x161)](_0x308eec(0x82f),_0x4c9599=>{const _0x16cdcd=_0x308eec,_0x28fa45=_0x4c9599[_0x16cdcd(0xaa3)][_0x16cdcd(0x4dc)]('.live-answer-btn');if(_0x28fa45){const _0x1f1c0b=parseInt(_0x28fa45[_0x16cdcd(0x7a0)][_0x16cdcd(0xb75)]);handleLiveAnswer(_0x1f1c0b,_0x363e3e);}});}function listenForBlueprintShortcuts(){const _0x239ab4=_0x57253e,_0x28aa15=doc(db,_0x239ab4(0x302),'dashboardConfig');onSnapshot(_0x28aa15,_0x47f55d=>{const _0x16e416=_0x239ab4;let _0x42bebc=[],_0x2f4430=[],_0x1891cd={};if(_0x47f55d['exists']()){const _0x33aad5=_0x47f55d['data']();_0x42bebc=_0x33aad5[_0x16e416(0x2b2)]||[],_0x2f4430=_0x33aad5['shortcutTabs']||[],_0x1891cd=_0x33aad5[_0x16e416(0x6be)]||{};}!_0x2f4430['find'](_0x340109=>_0x340109['id']==='all')&&_0x2f4430[_0x16e416(0x155)]({'id':_0x16e416(0x52b),'name':_0x16e416(0xad8),'isDefault':!![]}),!_0x42bebc[_0x16e416(0x1bc)](_0x1d3865=>_0x1d3865['id']===_0x16e416(0xb03))&&_0x42bebc[_0x16e416(0x155)]({'id':_0x16e416(0xb03),'name':_0x16e416(0xb87),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x42bebc[_0x16e416(0x1bc)](_0x32e62a=>_0x32e62a['id']===_0x16e416(0x734))&&_0x42bebc[_0x16e416(0x155)]({'id':_0x16e416(0x734),'name':_0x16e416(0xc15),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x42bebc,shortcutTabs=_0x2f4430,shortcutOrder=_0x1891cd,renderBlueprintShortcuts(),!document[_0x16e416(0x597)](_0x16e416(0x411))[_0x16e416(0x7f0)]['contains'](_0x16e416(0x9ac))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0xabb627=_0x57253e,_0x373d6c=document[_0xabb627(0x597)](_0xabb627(0x7b2)),_0x24187b=document[_0xabb627(0x597)](_0xabb627(0x741));if(!_0x373d6c||!_0x24187b)return;_0x373d6c[_0xabb627(0x2fe)]=shortcutTabs[_0xabb627(0x9ca)](_0xfdf008=>{const _0x40ab9d=_0xabb627,_0x58787a=_0xfdf008['id']===activeShortcutTabId,_0x3a7e56=_0x40ab9d(0x1d0),_0x431762=_0x40ab9d(0x987);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0xfdf008['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x58787a?_0x3a7e56:_0x431762)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0xfdf008['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0xfdf008[_0x40ab9d(0x309)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0xfdf008['isDefault']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0xfdf008['id']+'\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x40ab9d(0x1fc);})[_0xabb627(0x552)]('');const _0x55d78a=shortcutTabs[_0xabb627(0x1bc)](_0x21ab31=>_0x21ab31['id']===activeShortcutTabId);let _0xe7dc96=[];if(_0x55d78a){if(_0x55d78a[_0xabb627(0xc6e)])_0xe7dc96=[...blueprintShortcuts];else{const _0x28aa18=_0x55d78a['shortcutIds']||[];_0xe7dc96=blueprintShortcuts[_0xabb627(0xa32)](_0x2e6502=>_0x28aa18[_0xabb627(0x1d1)](_0x2e6502['id']));}}const _0x50df33=shortcutOrder[activeShortcutTabId]||[];_0xe7dc96['sort']((_0x1ed7e9,_0x3b8e61)=>{const _0x275048=_0xabb627,_0x312643=_0x50df33['indexOf'](_0x1ed7e9['id']),_0x128a32=_0x50df33[_0x275048(0xc54)](_0x3b8e61['id']);if(_0x312643===-0x1)return 0x1;if(_0x128a32===-0x1)return-0x1;return _0x312643-_0x128a32;}),_0x24187b[_0xabb627(0x2fe)]=_0xe7dc96[_0xabb627(0x711)]>0x0?_0xe7dc96['map'](_0x4faf9e=>{const _0x16be88=_0xabb627;let _0x23a072='🧩';if(_0x4faf9e[_0x16be88(0x95d)]&&_0x4faf9e[_0x16be88(0x5f7)])_0x23a072='📗';else{if(_0x4faf9e[_0x16be88(0x95d)])_0x23a072='📘';}const _0x1df802=shortcutTabs['filter'](_0x1af142=>!_0x1af142[_0x16be88(0xc6e)]),_0x384ab6=_0x55d78a[_0x16be88(0xc6e)]&&_0x1df802[_0x16be88(0x711)]>0x0?_0x16be88(0x876)+_0x1df802[_0x16be88(0x9ca)](_0xda0570=>_0x16be88(0x9f9)+_0x4faf9e['id']+_0x16be88(0x272)+_0xda0570['id']+'\x22>'+_0xda0570[_0x16be88(0x309)]+_0x16be88(0xc05))[_0x16be88(0x552)]('')+_0x16be88(0x923):'';return _0x16be88(0xc0b)+_0x4faf9e['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x23a072+'\x20'+_0x4faf9e[_0x16be88(0x309)]+_0x16be88(0x8a3)+_0x4faf9e['id']+_0x16be88(0x776)+_0x4faf9e['id']+_0x16be88(0x65a)+(!_0x4faf9e['isDefault']?'<button\x20data-id=\x22'+_0x4faf9e['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x16be88(0xb4e)+(!_0x55d78a['isDefault']?_0x16be88(0xc18)+_0x4faf9e['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x384ab6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0xabb627(0x552)](''):_0xabb627(0xa92),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x109974=_0x57253e;document[_0x109974(0x40f)](_0x109974(0xae7))[_0x109974(0xb68)](_0x1c2d72=>{const _0x5ab5aa=_0x109974;_0x1c2d72['addEventListener'](_0x5ab5aa(0x82f),_0x44708b=>{const _0x26ef49=_0x5ab5aa;activeShortcutTabId=_0x44708b['currentTarget']['dataset'][_0x26ef49(0x199)],renderAdditionalShortcutsModal();}),_0x1c2d72[_0x5ab5aa(0x161)](_0x5ab5aa(0x7ac),_0x20f61e=>{const _0x18108f=_0x5ab5aa,_0x12036d=_0x20f61e[_0x18108f(0x656)];_0x12036d[_0x18108f(0x7b3)](_0x18108f(0x434))[_0x18108f(0x7f0)]['add'](_0x18108f(0x9ac));const _0x504fb7=_0x12036d[_0x18108f(0x7b3)](_0x18108f(0x5aa));_0x504fb7[_0x18108f(0x7f0)][_0x18108f(0x4bd)]('hidden'),_0x504fb7[_0x18108f(0x334)](),_0x504fb7[_0x18108f(0x2a5)]();});}),document[_0x109974(0x40f)](_0x109974(0x5aa))['forEach'](_0x5903b2=>{const _0x3929d9=_0x109974,_0x498d95=()=>{const _0x1bfed7=_0x4216,_0x28fc67=_0x5903b2[_0x1bfed7(0x4dc)]('.shortcut-tab-btn')[_0x1bfed7(0x7a0)][_0x1bfed7(0x199)];handleRenameShortcutTab(_0x28fc67,_0x5903b2[_0x1bfed7(0x6f7)]);};_0x5903b2['addEventListener'](_0x3929d9(0x3e4),_0x498d95),_0x5903b2[_0x3929d9(0x161)](_0x3929d9(0x4b7),_0x229f62=>{const _0x2f1a3e=_0x3929d9;if(_0x229f62[_0x2f1a3e(0x555)]===_0x2f1a3e(0x7f5))_0x5903b2[_0x2f1a3e(0x3e4)]();});}),document['querySelectorAll'](_0x109974(0xb4b))[_0x109974(0xb68)](_0x154190=>{const _0x3487f4=_0x109974;_0x154190[_0x3487f4(0x161)](_0x3487f4(0x82f),_0xe15443=>handleDeleteShortcutTab(_0xe15443[_0x3487f4(0x656)]['dataset'][_0x3487f4(0x199)]));}),document[_0x109974(0x40f)]('.move-shortcut-item')['forEach'](_0x3f8785=>{const _0x4a9c04=_0x109974;_0x3f8785[_0x4a9c04(0x161)]('click',_0x28704a=>{const _0x33679b=_0x4a9c04;_0x28704a['preventDefault']();const {shortcutId:_0x185721,targetTabId:_0x14a437}=_0x28704a['currentTarget'][_0x33679b(0x7a0)];handleMoveShortcutToTab(_0x185721,_0x14a437);});}),document[_0x109974(0x40f)](_0x109974(0x616))[_0x109974(0xb68)](_0x42808b=>{const _0x3ad020=_0x109974;_0x42808b[_0x3ad020(0x161)](_0x3ad020(0x82f),_0x964f55=>{const _0x400ef0=_0x3ad020;handleRemoveShortcutFromTab(_0x964f55['currentTarget'][_0x400ef0(0x7a0)][_0x400ef0(0x4c7)],activeShortcutTabId);});});const _0x4f3fc3=document[_0x109974(0x597)](_0x109974(0x741));_0x4f3fc3[_0x109974(0x40f)](_0x109974(0x241))[_0x109974(0xb68)](_0x4c0508=>{const _0x3235be=_0x109974;_0x4c0508[_0x3235be(0x161)]('click',()=>{const _0x3b6695=_0x3235be;document[_0x3b6695(0x597)](_0x3b6695(0x411))[_0x3b6695(0x7f0)][_0x3b6695(0x6e3)](_0x3b6695(0x9ac)),handleShortcutClick(_0x4c0508[_0x3b6695(0x7a0)]['id']);});});let _0x1873e=null;_0x4f3fc3[_0x109974(0x161)](_0x109974(0xc5c),_0xcc5788=>{const _0x188354=_0x109974;_0x1873e=_0xcc5788[_0x188354(0xaa3)][_0x188354(0x4dc)](_0x188354(0x592)),_0x1873e&&setTimeout(()=>_0x1873e['classList'][_0x188354(0x6e3)](_0x188354(0x5ad)),0x0);}),_0x4f3fc3[_0x109974(0x161)](_0x109974(0x142),()=>{const _0x2d52dc=_0x109974;_0x1873e&&(_0x1873e[_0x2d52dc(0x7f0)][_0x2d52dc(0x4bd)]('opacity-50'),_0x1873e=null);}),_0x4f3fc3[_0x109974(0x161)]('dragover',_0x352611=>{const _0x132b9a=_0x109974;_0x352611['preventDefault']();const _0xfc945b=[..._0x4f3fc3['querySelectorAll'](_0x132b9a(0x5eb))][_0x132b9a(0xb0f)]((_0x37b93a,_0xee04ef)=>{const _0x1441db=_0x132b9a,_0x575d19=_0xee04ef[_0x1441db(0x76f)](),_0x3ec71a=_0x352611[_0x1441db(0x1da)]-_0x575d19['top']-_0x575d19[_0x1441db(0x3dd)]/0x2;return _0x3ec71a<0x0&&_0x3ec71a>_0x37b93a[_0x1441db(0x3f3)]?{'offset':_0x3ec71a,'element':_0xee04ef}:_0x37b93a;},{'offset':Number[_0x132b9a(0x62d)]})[_0x132b9a(0x818)];_0xfc945b==null?_0x4f3fc3[_0x132b9a(0x52c)](_0x1873e):_0x4f3fc3['insertBefore'](_0x1873e,_0xfc945b);}),_0x4f3fc3[_0x109974(0x161)](_0x109974(0x55b),_0x5cbd4b=>{const _0x4a8cfb=_0x109974;_0x5cbd4b[_0x4a8cfb(0x3f5)]();if(_0x1873e){const _0x4b883d=[..._0x4f3fc3[_0x4a8cfb(0x40f)](_0x4a8cfb(0x592))][_0x4a8cfb(0x9ca)](_0x1b0693=>_0x1b0693[_0x4a8cfb(0x7a0)]['shortcutId']);handleShortcutOrderChange(activeShortcutTabId,_0x4b883d);}}),document['querySelectorAll'](_0x109974(0xbc4))['forEach'](_0x24c490=>{const _0x51d29d=_0x109974;_0x24c490['addEventListener'](_0x51d29d(0x82f),_0x7f2d44=>{const _0x6f587f=_0x51d29d;_0x7f2d44[_0x6f587f(0x5a7)]();const _0x164912=_0x7f2d44[_0x6f587f(0x656)][_0x6f587f(0x994)],_0x4915c7=_0x164912[_0x6f587f(0x7f0)][_0x6f587f(0x1ef)](_0x6f587f(0x9ac));document[_0x6f587f(0x40f)]('.move-shortcut-dropdown')[_0x6f587f(0xb68)](_0x2e88e2=>_0x2e88e2[_0x6f587f(0x7f0)]['add'](_0x6f587f(0x9ac))),_0x4915c7&&_0x164912['classList'][_0x6f587f(0x4bd)]('hidden');});});}document['addEventListener']('click',_0x1e4d45=>{const _0x2bb394=_0x57253e;!_0x1e4d45[_0x2bb394(0xaa3)][_0x2bb394(0x4dc)]('.group\x5c/dropdown')&&document[_0x2bb394(0x40f)]('.move-shortcut-dropdown')['forEach'](_0x13b0b4=>_0x13b0b4[_0x2bb394(0x7f0)]['add'](_0x2bb394(0x9ac)));});async function saveShortcutConfig(){const _0x148f50=_0x57253e,_0x78c916=doc(db,_0x148f50(0x302),_0x148f50(0x322));try{await setDoc(_0x78c916,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x5d110e){console[_0x148f50(0x20d)](_0x148f50(0x88d),_0x5d110e);}}async function handleAddShortcutTab(){const _0x1ad93e=_0x57253e,_0x99f294=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x1ad93e(0xb88));if(!_0x99f294||_0x99f294[_0x1ad93e(0x365)]()==='')return;shortcutTabs[_0x1ad93e(0xa09)]({'id':_0x1ad93e(0xc7c)+Date[_0x1ad93e(0xa1b)](),'name':_0x99f294[_0x1ad93e(0x365)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x5b6a94,_0x4222dd){const _0x36e33f=_0x57253e,_0x2c0758=shortcutTabs[_0x36e33f(0x1bc)](_0x5e1452=>_0x5e1452['id']===_0x5b6a94);_0x2c0758&&_0x4222dd[_0x36e33f(0x365)]()!==''&&(_0x2c0758['name']=_0x4222dd[_0x36e33f(0x365)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x17fb0b){const _0x12a391=_0x57253e,_0x3ae2bd=shortcutTabs[_0x12a391(0x1bc)](_0x29d9f2=>_0x29d9f2['id']===_0x17fb0b);_0x3ae2bd&&!_0x3ae2bd[_0x12a391(0xc6e)]&&showConfirmation(_0x12a391(0x1a0)+_0x3ae2bd['name']+_0x12a391(0x3bf),async()=>{const _0x50aa45=_0x12a391;shortcutTabs=shortcutTabs['filter'](_0x412787=>_0x412787['id']!==_0x17fb0b),delete shortcutOrder[_0x17fb0b];if(activeShortcutTabId===_0x17fb0b)activeShortcutTabId=_0x50aa45(0x52b);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x430412,_0x28f8d5){const _0x160c01=_0x57253e,_0x2bf9f4=shortcutTabs[_0x160c01(0x1bc)](_0x9b514a=>_0x9b514a['id']===_0x28f8d5);_0x2bf9f4&&!_0x2bf9f4[_0x160c01(0xaf9)][_0x160c01(0x1d1)](_0x430412)&&(_0x2bf9f4[_0x160c01(0xaf9)]['push'](_0x430412),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x136379,_0x31def7){const _0x1aca5a=_0x57253e,_0x3fc470=shortcutTabs[_0x1aca5a(0x1bc)](_0x242be6=>_0x242be6['id']===_0x31def7);_0x3fc470&&!_0x3fc470[_0x1aca5a(0xc6e)]&&(_0x3fc470[_0x1aca5a(0xaf9)]=_0x3fc470[_0x1aca5a(0xaf9)][_0x1aca5a(0xa32)](_0x463c51=>_0x463c51!==_0x136379),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x5985af,_0x4d4513){shortcutOrder[_0x5985af]=_0x4d4513,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x147571=_0x57253e,_0x1de94f=document[_0x147571(0x597)](_0x147571(0xade)),_0x4d99be=document[_0x147571(0x597)]('additional-shortcuts-list'),_0x10644a=document[_0x147571(0x597)](_0x147571(0x918));_0x10644a&&_0x10644a['classList'][_0x147571(0x6e3)](_0x147571(0x9ac));if(!_0x1de94f||!_0x4d99be)return;const _0x3161e4=blueprintShortcuts[_0x147571(0xa65)](0x0,0x4),_0x14c436=blueprintShortcuts['slice'](0x4);_0x1de94f[_0x147571(0x2fe)]=_0x3161e4[_0x147571(0x9ca)](_0x56bed4=>{const _0x5249da=_0x147571;let _0x5a7140=_0x5249da(0x2e6),_0x468829='🧩';if(_0x56bed4[_0x5249da(0x95d)]&&_0x56bed4[_0x5249da(0x5f7)])_0x5a7140=_0x5249da(0x5bc),_0x468829='📗';else _0x56bed4[_0x5249da(0x95d)]&&(_0x5a7140=_0x5249da(0x509),_0x468829='📘');const _0x44a648=!_0x56bed4[_0x5249da(0xc6e)]?_0x5249da(0x736)+_0x56bed4['id']+_0x5249da(0xc14):'';return _0x5249da(0x609)+_0x56bed4['id']+_0x5249da(0x94a)+_0x5a7140+_0x5249da(0x46b)+_0x468829+'\x20'+_0x56bed4[_0x5249da(0x309)]+_0x5249da(0x16c)+_0x56bed4['id']+_0x5249da(0x4c4)+_0x44a648+_0x5249da(0x1fc);})[_0x147571(0x552)](''),_0x14c436['length']>0x0&&(_0x1de94f[_0x147571(0x2fe)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x14c436[_0x147571(0x711)]>0x0?_0x4d99be[_0x147571(0x2fe)]=_0x14c436[_0x147571(0x9ca)](_0xd8dc0f=>{const _0x46c0d4=_0x147571;let _0x48d954='🧩';if(_0xd8dc0f[_0x46c0d4(0x95d)]&&_0xd8dc0f['referenceUrl'])_0x48d954='📗';else _0xd8dc0f['blueprintUrl']&&(_0x48d954='📘');return _0x46c0d4(0xc87)+_0x48d954+'\x20'+_0xd8dc0f[_0x46c0d4(0x309)]+_0x46c0d4(0x8a3)+_0xd8dc0f['id']+_0x46c0d4(0x776)+_0xd8dc0f['id']+_0x46c0d4(0x65a)+(!_0xd8dc0f[_0x46c0d4(0xc6e)]?_0x46c0d4(0x736)+_0xd8dc0f['id']+_0x46c0d4(0x738):'')+_0x46c0d4(0x64e);})[_0x147571(0x552)](''):_0x4d99be[_0x147571(0x2fe)]=_0x147571(0x212);}function getMimeTypeFromFilename(_0x58e6c7){const _0x18f1bc=_0x57253e,_0x217bdc=_0x58e6c7['split']('.')[_0x18f1bc(0x6b1)]()[_0x18f1bc(0x6c8)]();switch(_0x217bdc){case _0x18f1bc(0x41c):return _0x18f1bc(0x12d);case _0x18f1bc(0x701):return _0x18f1bc(0x2ed);default:return _0x18f1bc(0x12d);}}function openShortcutEditor(_0x30d459=null){const _0x46cb8a=_0x57253e,_0x1af70b=document[_0x46cb8a(0x597)](_0x46cb8a(0x1d2)),_0x344d74=document['getElementById'](_0x46cb8a(0x278)),_0x1ea3f1=document['getElementById'](_0x46cb8a(0xb48)),_0x5ca65f=document[_0x46cb8a(0x597)](_0x46cb8a(0x6e0)),_0x24a27b=document[_0x46cb8a(0x597)](_0x46cb8a(0xc6c)),_0x1dcd8d=document[_0x46cb8a(0x597)]('shortcut-reference-url-input');if(_0x30d459){const _0x12afb2=blueprintShortcuts['find'](_0x51228c=>_0x51228c['id']===_0x30d459);if(!_0x12afb2)return;_0x344d74[_0x46cb8a(0x3a6)]=_0x46cb8a(0x4b0),_0x1ea3f1[_0x46cb8a(0x6f7)]=_0x12afb2['id'],_0x5ca65f[_0x46cb8a(0x6f7)]=_0x12afb2[_0x46cb8a(0x309)],_0x24a27b[_0x46cb8a(0x6f7)]=_0x12afb2[_0x46cb8a(0x95d)]||'',_0x1dcd8d['value']=_0x12afb2[_0x46cb8a(0x5f7)]||'';}else _0x344d74[_0x46cb8a(0x3a6)]=_0x46cb8a(0xc27),_0x1ea3f1[_0x46cb8a(0x6f7)]='',_0x5ca65f[_0x46cb8a(0x6f7)]='',_0x24a27b[_0x46cb8a(0x6f7)]='',_0x1dcd8d[_0x46cb8a(0x6f7)]='';_0x1af70b[_0x46cb8a(0x7f0)][_0x46cb8a(0x4bd)]('hidden');}async function saveShortcutChanges(){const _0x4b3aea=_0x57253e,_0x3b64fa=document[_0x4b3aea(0x597)]('shortcut-id-input')[_0x4b3aea(0x6f7)],_0x19a679=document['getElementById'](_0x4b3aea(0x6e0))['value'][_0x4b3aea(0x365)](),_0x30c752=document[_0x4b3aea(0x597)](_0x4b3aea(0xc6c))[_0x4b3aea(0x6f7)][_0x4b3aea(0x365)]();if(!_0x19a679||!_0x30c752){showMessage(_0x4b3aea(0x781));return;}const _0x4ffdf9={'id':_0x3b64fa||_0x4b3aea(0xb8a)+Date[_0x4b3aea(0xa1b)](),'name':_0x19a679,'blueprintUrl':_0x30c752,'referenceUrl':document[_0x4b3aea(0x597)](_0x4b3aea(0xc90))[_0x4b3aea(0x6f7)][_0x4b3aea(0x365)](),'isDefault':_0x3b64fa[_0x4b3aea(0xbe3)](_0x4b3aea(0x60e))};let _0x41519c;_0x3b64fa?_0x41519c=blueprintShortcuts[_0x4b3aea(0x9ca)](_0x510d8c=>_0x510d8c['id']===_0x3b64fa?_0x4ffdf9:_0x510d8c):_0x41519c=[...blueprintShortcuts,_0x4ffdf9];try{const _0x32bf5a=doc(db,_0x4b3aea(0x302),_0x4b3aea(0x322));await setDoc(_0x32bf5a,{'blueprintShortcuts':_0x41519c},{'merge':!![]}),document[_0x4b3aea(0x597)](_0x4b3aea(0x1d2))[_0x4b3aea(0x7f0)][_0x4b3aea(0x6e3)](_0x4b3aea(0x9ac));}catch(_0x3173be){console[_0x4b3aea(0x20d)]('Error\x20saving\x20shortcut:',_0x3173be),showMessage(_0x4b3aea(0x644));}}async function handleShortcutClick(_0x4ce658){const _0x3f7c87=_0x57253e,_0x6b1317=blueprintShortcuts['find'](_0x1e4732=>_0x1e4732['id']===_0x4ce658);if(!_0x6b1317||!_0x6b1317[_0x3f7c87(0x95d)])return;document[_0x3f7c87(0x597)]('blueprint-options-container')['classList']['add']('hidden'),document[_0x3f7c87(0x597)](_0x3f7c87(0x323))['disabled']=!![];const _0x7fd45a=document[_0x3f7c87(0x597)](_0x3f7c87(0x5ab)),_0x206edb=document['getElementById'](_0x3f7c87(0x697));document['getElementById'](_0x3f7c87(0x186))['classList'][_0x3f7c87(0x4bd)](_0x3f7c87(0x9ac)),document[_0x3f7c87(0x597)](_0x3f7c87(0x2c0))[_0x3f7c87(0x2fe)]='',_0x7fd45a[_0x3f7c87(0x7f0)][_0x3f7c87(0x4bd)]('hidden');try{_0x206edb[_0x3f7c87(0x3a6)]=_0x3f7c87(0x401);const _0x12a281=await fetchFileFromUrl(_0x6b1317['blueprintUrl'],'blueprint.pdf');let _0x1a1197=null;if(_0x6b1317['referenceUrl']){_0x206edb[_0x3f7c87(0x3a6)]=_0x3f7c87(0x8ec);const _0x236688=_0x6b1317[_0x3f7c87(0x5f7)][_0x3f7c87(0x6c8)]()[_0x3f7c87(0x98b)]('.txt')?_0x3f7c87(0x7d3):_0x3f7c87(0x5e2);_0x1a1197=await fetchFileFromUrl(_0x6b1317[_0x3f7c87(0x5f7)],_0x236688);}await handleGenerateFromBlueprintWithFiles(_0x12a281,_0x1a1197);}catch(_0x475f22){console[_0x3f7c87(0x20d)](_0x3f7c87(0x63f),_0x475f22),showMessage('เกิดข้อผิดพลาด:\x20'+_0x475f22['message']),_0x7fd45a[_0x3f7c87(0x7f0)][_0x3f7c87(0x6e3)](_0x3f7c87(0x9ac));}}function getDirectDownloadUrl(_0x9c14e6){const _0x1f0d20=_0x57253e,_0x2a76f6=_0x9c14e6['match'](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x2a76f6&&_0x2a76f6[0x1])return _0x1f0d20(0x893)+_0x2a76f6[0x1];return _0x9c14e6;}async function fetchFileFromUrl(_0x1ce14f,_0x12cf04){const _0x47892e=_0x57253e,_0x4a68ec=getDirectDownloadUrl(_0x1ce14f),_0x33da9b=_0x47892e(0x64f)+encodeURIComponent(_0x4a68ec),_0x268f9d=await fetch(_0x33da9b);if(!_0x268f9d['ok'])throw new Error(_0x47892e(0x6bd)+_0x268f9d[_0x47892e(0x9e6)]+')');const _0x3759ab=await _0x268f9d[_0x47892e(0x1a4)](),_0x1abcca=await new Promise((_0x5ccf36,_0x401972)=>{const _0x5efbfe=_0x47892e,_0x59da59=new FileReader();_0x59da59[_0x5efbfe(0x2c2)]=()=>_0x5ccf36(new Uint8Array(_0x59da59[_0x5efbfe(0x7df)])),_0x59da59[_0x5efbfe(0x8af)]=_0x401972,_0x59da59[_0x5efbfe(0x7f9)](_0x3759ab[_0x5efbfe(0xa65)](0x0,0x4));});let _0x126cac='';const _0x1d495f=new TextDecoder()[_0x47892e(0x29e)](_0x1abcca);return _0x1d495f===_0x47892e(0x508)?(_0x126cac=_0x47892e(0x12d),console[_0x47892e(0x496)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x126cac=_0x47892e(0x2ed),console[_0x47892e(0x496)]('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0x3759ab],_0x12cf04,{'type':_0x126cac});}async function handleGenerateFromBlueprintWithFiles(_0x128a7c,_0x4e3a5e=null){const _0x2641b6=_0x57253e;if(!_0x128a7c){showMessage(_0x2641b6(0x63e));return;}const _0x4e14a7=document['getElementById'](_0x2641b6(0x5ab)),_0x1199d6=document[_0x2641b6(0x597)](_0x2641b6(0x697));_0x4e14a7[_0x2641b6(0x7f0)][_0x2641b6(0x4bd)]('hidden'),document[_0x2641b6(0x597)](_0x2641b6(0x186))[_0x2641b6(0x7f0)][_0x2641b6(0x4bd)](_0x2641b6(0x9ac)),document[_0x2641b6(0x597)]('generated-quiz-container')[_0x2641b6(0x2fe)]='';try{_0x1199d6[_0x2641b6(0x3a6)]=_0x2641b6(0xab5);const _0x1d0dfc=await new Promise((_0x572438,_0x49fa18)=>{const _0x3114fe=_0x2641b6,_0x2a950e=new FileReader();_0x2a950e[_0x3114fe(0x499)](_0x128a7c),_0x2a950e[_0x3114fe(0xc68)]=()=>_0x572438(_0x2a950e[_0x3114fe(0x7df)]['split'](',')[0x1]),_0x2a950e[_0x3114fe(0x8af)]=_0x49fa18;}),_0x453cff=[];if(_0x4e3a5e){_0x1199d6[_0x2641b6(0x3a6)]='กำลังอ่านไฟล์อ้างอิง...';const _0x1b5113=await _0x4e3a5e[_0x2641b6(0x71d)]();_0x453cff[_0x2641b6(0xa09)]({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'+_0x1b5113});}const _0xcc1d11=[{'text':'...'},{'inlineData':{'mimeType':_0x128a7c[_0x2641b6(0xa17)],'data':_0x1d0dfc}},..._0x453cff];await handleGenerateFromBlueprint(_0xcc1d11);}catch(_0x50b678){console[_0x2641b6(0x20d)](_0x2641b6(0x835),_0x50b678),showMessage('เกิดข้อผิดพลาด:\x20'+_0x50b678['message']),_0x4e14a7[_0x2641b6(0x7f0)][_0x2641b6(0x6e3)]('hidden');}}async function handleLiveAnswer(_0x4fb262,_0x3f122d){const _0x158271=_0x57253e;document[_0x158271(0x40f)]('.live-answer-btn,\x20#live-submit-short-answer-btn')['forEach'](_0x2043c8=>_0x2043c8[_0x158271(0x992)]=!![]);const _0x5e2ff8=_0x3f122d['questionType']||currentQuizData[_0x158271(0x2b3)];let _0x12afa3=![],_0xdea793=_0x4fb262;if(_0x5e2ff8===_0x158271(0x733)){const _0x356878=(_0x4fb262||'')['toString']();_0x12afa3=await gradeShortAnswer(_0x356878,_0x3f122d);}else{if(_0x5e2ff8===_0x158271(0x8ea))_0x12afa3=_0x4fb262===_0x3f122d[_0x158271(0xacd)];else{if(_0x5e2ff8===_0x158271(0xc6b)){const _0x4a18d5=_0x3f122d[_0x158271(0x75e)];_0x12afa3=_0x4fb262===0x0&&_0x4a18d5||_0x4fb262===0x1&&!_0x4a18d5;}else{if(_0x5e2ff8===_0x158271(0x22d)){const _0x32b2b7=_0x3f122d[_0x158271(0x8b0)][_0x4fb262];_0x12afa3=_0x32b2b7===_0x3f122d[_0x158271(0x2a6)],_0xdea793=_0x32b2b7;}}}}const _0x565373=doc(db,_0x158271(0xc07)+appId+_0x158271(0x7e2),currentLiveGameId),_0x47041a={};_0x47041a[_0x158271(0xc9b)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x47041a['players.'+currentStudentName+'.lastAnswerCorrect']=_0x12afa3,_0x47041a['players.'+currentStudentName+_0x158271(0xca4)]=_0x5e2ff8===_0x158271(0x733)||_0x5e2ff8==='matching_item'?null:_0x4fb262,_0x47041a['players.'+currentStudentName+_0x158271(0x774)]=_0xdea793,_0x47041a[_0x158271(0xc9b)+currentStudentName+_0x158271(0x71f)]=serverTimestamp(),_0x47041a['players.'+currentStudentName+_0x158271(0x18d)]=![],await updateDoc(_0x565373,_0x47041a),liveGameView['innerHTML']=_0x158271(0x930);}function showAdminSummaryView(_0x347d98,_0x1d45a4){const _0x576003=_0x57253e,_0x502103=Object[_0x576003(0x9d8)](_0x347d98['players']||{}),_0x17c7ff=_0x1d45a4[_0x576003(0x2a9)]||currentQuizData[_0x576003(0x2b3)],_0x195d48=_0x17c7ff===_0x576003(0xc6b)?[_0x576003(0x5e1),_0x576003(0x2de)]:_0x1d45a4[_0x576003(0x6c2)]||_0x1d45a4[_0x576003(0x8b0)]||[],_0x4d7b67={},_0x5b835a=new Array(_0x195d48[_0x576003(0x711)])[_0x576003(0x945)](0x0);_0x195d48[_0x576003(0xb68)]((_0x56029f,_0x54ed7c)=>{_0x4d7b67[_0x54ed7c]=[];}),Object[_0x576003(0x174)](_0x347d98[_0x576003(0xae4)]||{})[_0x576003(0xb68)](([_0xae75d2,_0x4ff6d6])=>{const _0x3d11a8=_0x576003;if(_0x4ff6d6[_0x3d11a8(0x9e6)]===_0x3d11a8(0xbe2)&&_0x4ff6d6[_0x3d11a8(0x8ab)]!==undefined){const _0x5a9c18=_0x4ff6d6[_0x3d11a8(0x8ab)];_0x4d7b67[_0x5a9c18]&&(_0x4d7b67[_0x5a9c18][_0x3d11a8(0xa09)](_0xae75d2),_0x5b835a[_0x5a9c18]++);}});const _0x1de3ac=Math[_0x576003(0x3eb)](..._0x5b835a,0x1),_0x2a13ba=_0x576003(0x958)+(_0x1d45a4[_0x576003(0x2d4)]||_0x1d45a4[_0x576003(0x525)])+_0x576003(0x1cf)+_0x5b835a[_0x576003(0x9ca)]((_0x7bc35c,_0x1677fe)=>{const _0x540687=_0x576003,_0xdcd825=_0x4d7b67[_0x1677fe]['length']>0x0?_0x4d7b67[_0x1677fe][_0x540687(0x552)](',\x20'):_0x540687(0xaff);let _0x274b2d=![];if(_0x17c7ff===_0x540687(0x8ea))_0x274b2d=_0x1677fe===_0x1d45a4[_0x540687(0xacd)];else{if(_0x17c7ff==='true_false'){const _0x273d3c=_0x1d45a4[_0x540687(0x75e)];_0x274b2d=_0x273d3c&&_0x1677fe===0x0||!_0x273d3c&&_0x1677fe===0x1;}else _0x17c7ff==='matching_item'&&(_0x274b2d=_0x195d48[_0x1677fe]===_0x1d45a4[_0x540687(0x2a6)]);}const _0x5ee7b8=_0x274b2d?_0x540687(0x722):_0x540687(0xb51);return _0x540687(0x5be)+_0x7bc35c+_0x540687(0x438)+_0x5ee7b8+_0x540687(0x81d)+_0x1677fe+_0x540687(0xae9)+_0x195d48[_0x1677fe]+_0x540687(0x24e)+_0x1677fe+_0x540687(0x62a)+_0xdcd825+_0x540687(0x412);})[_0x576003(0x552)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x576003(0x2fe)]=_0x2a13ba;if(window[_0x576003(0x2e3)])MathJax[_0x576003(0x4b8)]();document[_0x576003(0x597)](_0x576003(0x185))[_0x576003(0x161)](_0x576003(0x82f),async()=>{const _0x22db78=_0x576003,_0x1d4ed6=doc(db,'artifacts/'+appId+_0x22db78(0x7e2),currentLiveGameId);await updateDoc(_0x1d4ed6,{'questionStatus':_0x22db78(0x432)});}),document[_0x576003(0x597)](_0x576003(0x3c0))[_0x576003(0x161)](_0x576003(0x82f),()=>{openScratchpad(_0x1d45a4,_0x195d48);});}function showPlayerSummaryView(_0xfce9a5,_0x16f449){const _0x31a64c=_0x57253e,_0x34ecb5=Object['values'](_0xfce9a5['players']||{}),_0x4c00f3=_0xfce9a5['players'][_0x16f449],_0x9066c4=_0x34ecb5['filter'](_0x3324ce=>_0x3324ce[_0x31a64c(0x9e6)]===_0x31a64c(0xbe2))[_0x31a64c(0x2d6)]((_0x52ccdb,_0x7342ae)=>_0x7342ae[_0x31a64c(0x1ed)]-_0x52ccdb[_0x31a64c(0x1ed)]),_0x515bde=_0x9066c4[_0x31a64c(0x129)](_0x463e3d=>_0x463e3d===_0x4c00f3)+0x1,_0x184a75=_0x4c00f3['lastAnswerCorrect']?_0x31a64c(0x12f):'ผิด',_0x3febc2=_0x4c00f3[_0x31a64c(0x379)]?_0x31a64c(0x4c6):_0x31a64c(0x542),_0x2a24cc=_0x4c00f3[_0x31a64c(0x45d)]||0x0,_0x3a4b03='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x5a16db=_0x31a64c(0x515)+_0x3a4b03+_0x31a64c(0x995)+_0x3febc2+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x184a75+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x2a24cc+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x515bde>0x0?_0x515bde:'-')+_0x31a64c(0x1ea);liveGameView['innerHTML']=_0x5a16db;}function createQuizFromBank(){const _0x9ec420=_0x57253e,_0x512adf=document['querySelectorAll']('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x512adf[_0x9ec420(0x711)]===0x0){showMessage(_0x9ec420(0x628));return;}const _0x52fbbb=[];_0x512adf[_0x9ec420(0xb68)](_0x3100bd=>{const _0x2b38ec=_0x9ec420;_0x52fbbb[_0x2b38ec(0xa09)](JSON[_0x2b38ec(0x8ef)](_0x3100bd['value']));});const _0x414bbd={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x52fbbb};displayGeneratedQuiz(_0x414bbd);}function showAdminLobbyView(_0x36bcfb,_0x3f9cf5){const _0x2da36f=_0x57253e;showView(_0x2da36f(0x898));const _0x2deef6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x3f9cf5+_0x2da36f(0x605)+_0x36bcfb+_0x2da36f(0x497);liveGameView['innerHTML']=_0x2deef6,document['getElementById'](_0x2da36f(0xc94))[_0x2da36f(0x161)]('click',async()=>{const _0x1b06df=_0x2da36f;if(!currentQuizData||!currentQuizData[_0x1b06df(0x962)]||currentQuizData[_0x1b06df(0x962)][_0x1b06df(0x711)]===0x0){showMessage(_0x1b06df(0xb8d));return;}try{const _0x36f29c=doc(db,'artifacts/'+appId+_0x1b06df(0x7e2),currentLiveGameId);await updateDoc(_0x36f29c,{'status':_0x1b06df(0x308),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x3a5477=currentQuizData[_0x1b06df(0x962)][0x0],_0x219bf6=currentQuizData[_0x1b06df(0x962)][_0x1b06df(0x711)];showAdminLiveQuestionView(_0x3a5477,0x0,_0x219bf6);}catch(_0x1504ab){console[_0x1b06df(0x20d)](_0x1b06df(0xba4),_0x1504ab),showMessage(_0x1b06df(0xbec));}});}async function openQuizBankModal(){const _0x3d1d1f=_0x57253e;if(allQuizzesGlobal[_0x3d1d1f(0x711)]===0x0){const _0x3f4a5b=await getDocs(collection(db,'artifacts/'+appId+_0x3d1d1f(0x194)));allQuizzesGlobal=_0x3f4a5b[_0x3d1d1f(0x69d)][_0x3d1d1f(0x9ca)](_0x497ab8=>({'id':_0x497ab8['id'],..._0x497ab8[_0x3d1d1f(0x533)]()}));}renderQuizBankList(''),document[_0x3d1d1f(0x597)](_0x3d1d1f(0x4de))['classList'][_0x3d1d1f(0x4bd)](_0x3d1d1f(0x9ac));}function renderQuizBankList(_0x5a2db0='',_0x3d1d9a=![]){const _0x20a07a=_0x57253e,_0x1030d4=document[_0x20a07a(0x597)]('bank-quiz-list'),_0x144899=_0x5a2db0[_0x20a07a(0x6c8)]()[_0x20a07a(0x365)](),_0x544090=allQuizzesGlobal[_0x20a07a(0x9ca)](_0x2c2090=>({..._0x2c2090,'projectName':allProjects[_0x20a07a(0x1bc)](_0x672001=>_0x672001['id']===_0x2c2090[_0x20a07a(0x9f2)])?.[_0x20a07a(0xadf)]||_0x20a07a(0x321)}))[_0x20a07a(0xa32)](_0x2340e2=>(_0x2340e2[_0x20a07a(0xc41)]||'')[_0x20a07a(0x6c8)]()[_0x20a07a(0x1d1)](_0x144899)||(_0x2340e2[_0x20a07a(0xadf)]||'')[_0x20a07a(0x6c8)]()['includes'](_0x144899)||_0x2340e2['id']['toString']()[_0x20a07a(0x1d1)](_0x144899));document[_0x20a07a(0x597)](_0x20a07a(0x9bc))[_0x20a07a(0x3a6)]='('+_0x544090[_0x20a07a(0x711)]+_0x20a07a(0x274),_0x1030d4[_0x20a07a(0x2fe)]=_0x544090[_0x20a07a(0x711)]?_0x544090[_0x20a07a(0x9ca)](_0x185326=>{const _0x50a754=_0x20a07a,_0x5a59de=!_0x3d1d9a?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x185326['id']+_0x50a754(0x623)+_0x185326['id']+_0x50a754(0x57e)+_0x185326['id']+_0x50a754(0x2ab)+_0x185326['id']+_0x50a754(0x408)+_0x185326['id']+_0x50a754(0x884)+_0x185326['id']+_0x50a754(0x766)+_0x185326['topic']+_0x50a754(0xb00):'';return _0x50a754(0x705)+_0x185326['id']+_0x50a754(0x7fb)+(_0x185326[_0x50a754(0xc41)]||_0x50a754(0x1d3))+_0x50a754(0x259)+(_0x185326[_0x50a754(0x962)]?.[_0x50a754(0x711)]||0x0)+_0x50a754(0xadd)+_0x185326['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x185326['id']+_0x50a754(0xa39)+_0x5a59de+_0x50a754(0x17f);})[_0x20a07a(0x552)](''):_0x20a07a(0x31c),!_0x3d1d9a&&(_0x1030d4[_0x20a07a(0x40f)](_0x20a07a(0x9e0))[_0x20a07a(0xb68)](_0x10997c=>{const _0x2df277=_0x20a07a;_0x10997c[_0x2df277(0x161)](_0x2df277(0x82f),()=>{const _0x1aa981=_0x2df277,_0xe52c8b=_0x10997c[_0x1aa981(0x7a0)]['id'];document[_0x1aa981(0x597)](_0x1aa981(0x4de))['classList'][_0x1aa981(0x6e3)](_0x1aa981(0x9ac)),showQuizDetailView(_0xe52c8b);});}),_0x1030d4[_0x20a07a(0x40f)](_0x20a07a(0x37f))['forEach'](_0x58091f=>{const _0x535793=_0x20a07a;_0x58091f[_0x535793(0x161)]('click',_0x47b9c2=>{const _0xe36081=_0x535793;_0x47b9c2[_0xe36081(0x5a7)]();const _0x5ddf46=_0x58091f[_0xe36081(0x7a0)]['id'],_0x26fafb=allQuizzesGlobal[_0xe36081(0x1bc)](_0x4d0e7e=>_0x4d0e7e['id']===_0x5ddf46);_0x26fafb?(currentQuizData=_0x26fafb,document['getElementById'](_0xe36081(0x4de))[_0xe36081(0x7f0)][_0xe36081(0x6e3)](_0xe36081(0x9ac)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x1030d4[_0x20a07a(0x40f)]('.quiz-bank-parallel-btn')[_0x20a07a(0xb68)](_0xe8b49=>{const _0x3dfe01=_0x20a07a;_0xe8b49[_0x3dfe01(0x161)](_0x3dfe01(0x82f),_0x6144e9=>{const _0x4f75e1=_0x3dfe01;_0x6144e9[_0x4f75e1(0x5a7)]();const _0x1d8d22=_0xe8b49[_0x4f75e1(0x7a0)]['id'],_0x55b66e=allQuizzesGlobal[_0x4f75e1(0x1bc)](_0x3dced3=>_0x3dced3['id']===_0x1d8d22);_0x55b66e?(document[_0x4f75e1(0x597)]('quiz-bank-modal')[_0x4f75e1(0x7f0)][_0x4f75e1(0x6e3)]('hidden'),handleGenerateParallelFromBank(_0x55b66e)):showMessage(_0x4f75e1(0x64c));});}),_0x1030d4[_0x20a07a(0x40f)](_0x20a07a(0x1cc))[_0x20a07a(0xb68)](_0xd5b51d=>{const _0x385446=_0x20a07a;_0xd5b51d[_0x385446(0x161)](_0x385446(0x82f),_0x463b01=>{const _0x3f46f9=_0x385446;_0x463b01[_0x3f46f9(0x5a7)]();const _0x47e65a=_0xd5b51d['dataset']['id'],_0x575ca9=allQuizzesGlobal['find'](_0x2d73b0=>_0x2d73b0['id']===_0x47e65a);_0x575ca9?(document['getElementById'](_0x3f46f9(0x4de))[_0x3f46f9(0x7f0)][_0x3f46f9(0x6e3)](_0x3f46f9(0x9ac)),startPresentation(_0x575ca9)):showMessage(_0x3f46f9(0x64c));});}),_0x1030d4['querySelectorAll'](_0x20a07a(0x6ea))[_0x20a07a(0xb68)](_0x116049=>{const _0x5bd0d5=_0x20a07a;_0x116049[_0x5bd0d5(0x161)](_0x5bd0d5(0x82f),_0x330e84=>{const _0x3f1bf4=_0x5bd0d5;_0x330e84[_0x3f1bf4(0x5a7)]();const _0x53101a=_0x116049[_0x3f1bf4(0x7a0)]['id'];document['getElementById'](_0x3f1bf4(0x4de))[_0x3f1bf4(0x7f0)][_0x3f1bf4(0x6e3)]('hidden'),handleMoveQuiz(_0x53101a);});}),_0x1030d4[_0x20a07a(0x40f)](_0x20a07a(0x870))[_0x20a07a(0xb68)](_0x32b86c=>{const _0x452c98=_0x20a07a;_0x32b86c[_0x452c98(0x161)](_0x452c98(0x82f),_0x405121=>{const _0x5d794e=_0x452c98;_0x405121[_0x5d794e(0x5a7)]();const _0x5d00b5=_0x32b86c[_0x5d794e(0x7a0)]['id'];document[_0x5d794e(0x597)](_0x5d794e(0x4de))['classList'][_0x5d794e(0x6e3)](_0x5d794e(0x9ac)),handleQuizSettings(_0x5d00b5);});}),_0x1030d4['querySelectorAll']('.quiz-bank-delete-btn')[_0x20a07a(0xb68)](_0x2f442c=>{const _0x32b49d=_0x20a07a;_0x2f442c[_0x32b49d(0x161)]('click',_0x11e8b4=>{const _0x40ad65=_0x32b49d;_0x11e8b4[_0x40ad65(0x5a7)]();const _0x55f549=_0x2f442c[_0x40ad65(0x7a0)]['id'],_0x2e8d12=_0x2f442c['dataset'][_0x40ad65(0xc41)];showConfirmation(_0x40ad65(0x2ae)+_0x2e8d12+_0x40ad65(0x475),()=>handleDeleteQuiz(_0x55f549));});}));}async function handleCompareResults(_0x4c3b4f,_0x5d86a1){const _0x2af60d=_0x57253e,_0x23941f=document[_0x2af60d(0x597)](_0x2af60d(0xa0f)),_0x312393=document[_0x2af60d(0x597)](_0x2af60d(0x98d)),_0x827c6c=document[_0x2af60d(0x597)](_0x2af60d(0x203));document[_0x2af60d(0x597)](_0x2af60d(0x312))[_0x2af60d(0x7f0)][_0x2af60d(0x6e3)](_0x2af60d(0xbe2)),document[_0x2af60d(0x597)](_0x2af60d(0xc75))[_0x2af60d(0x7f0)]['remove']('active'),_0x312393[_0x2af60d(0x7f0)][_0x2af60d(0x4bd)](_0x2af60d(0x9ac)),_0x827c6c[_0x2af60d(0x7f0)][_0x2af60d(0x6e3)](_0x2af60d(0x9ac)),_0x312393['innerHTML']=_0x2af60d(0x75b),_0x827c6c[_0x2af60d(0x2fe)]='',_0x23941f[_0x2af60d(0x7f0)]['remove'](_0x2af60d(0x9ac));try{const _0x131bb0=doc(db,'artifacts/'+appId+_0x2af60d(0x194),_0x4c3b4f),_0xd52981=await getDoc(_0x131bb0);if(!_0xd52981[_0x2af60d(0xabe)]())throw new Error(_0x2af60d(0x285));const _0x3218c3=_0xd52981['data'](),_0x4c10f1=_0x3218c3[_0x2af60d(0x962)][_0x2af60d(0x711)],_0x359a3b=collection(db,_0x2af60d(0xc07)+appId+_0x2af60d(0x60f)+_0x5d86a1+_0x2af60d(0x85c)),_0x21a4be=collection(db,_0x2af60d(0xc07)+appId+'/public/data/quizzes/'+_0x4c3b4f+_0x2af60d(0x85c)),[_0x4be0cd,_0x376797]=await Promise[_0x2af60d(0x52b)]([getDocs(_0x359a3b),getDocs(_0x21a4be)]),_0x1f77fd=_0x4be0cd[_0x2af60d(0x69d)]['map'](_0x251e90=>_0x251e90[_0x2af60d(0x533)]()),_0xccb971=_0x376797[_0x2af60d(0x69d)][_0x2af60d(0x9ca)](_0x22ec7d=>_0x22ec7d['data']()),_0x579168=_0x1f77fd[_0x2af60d(0x9ca)](_0x2d508b=>_0x2d508b['latestScore']),_0x19dd6c=_0xccb971[_0x2af60d(0x9ca)](_0x3106f8=>_0x3106f8[_0x2af60d(0xb8b)]),_0xa0c818=calculateMeanAndStdDev(_0x579168),_0x487aa0=calculateMeanAndStdDev(_0x19dd6c),_0x1020b6=_0xa0c818[_0x2af60d(0x483)],_0x754fb9=_0x487aa0[_0x2af60d(0x483)],_0x3413d3=_0x754fb9-_0x1020b6;let _0x198e2c=_0x2af60d(0xbd8)+_0x1020b6[_0x2af60d(0x30c)](0x2)+_0x2af60d(0x714)+_0x754fb9[_0x2af60d(0x30c)](0x2)+_0x2af60d(0x340)+(_0x3413d3>=0x0?_0x2af60d(0x14d):_0x2af60d(0xba6))+_0x2af60d(0xc8e)+(_0x3413d3>=0x0?'text-emerald-800':'text-red-800')+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x3413d3>=0x0?'text-emerald-900':_0x2af60d(0x8b9))+'\x22>'+(_0x3413d3>=0x0?'+':'')+_0x3413d3['toFixed'](0x2)+_0x2af60d(0x139);_0x312393[_0x2af60d(0x2fe)]=_0x198e2c;const _0x3e7570=document[_0x2af60d(0x597)](_0x2af60d(0xc69))['getContext']('2d');if(chartInstances[_0x2af60d(0xba9)])chartInstances['comparison'][_0x2af60d(0x2ee)]();chartInstances[_0x2af60d(0xba9)]=new Chart(_0x3e7570,{'type':_0x2af60d(0x3c7),'data':{'labels':[_0x2af60d(0x4fb)],'datasets':[{'label':_0x2af60d(0x67d),'data':[_0x1020b6],'backgroundColor':_0x2af60d(0x7e1)},{'label':'หลังเรียน','data':[_0x754fb9],'backgroundColor':_0x2af60d(0x6f2)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x4c10f1}}}});const _0x189830=currentProjectData[_0x2af60d(0x88c)]||[],_0x32bc55=_0x189830[_0x2af60d(0x9ca)](_0x300eb0=>{const _0x1b1871=_0x2af60d,_0x4e2407=_0x1f77fd[_0x1b1871(0x1bc)](_0x579e0f=>_0x579e0f[_0x1b1871(0x4d7)]===_0x300eb0),_0x12e679=_0xccb971[_0x1b1871(0x1bc)](_0x247a42=>_0x247a42[_0x1b1871(0x4d7)]===_0x300eb0),_0x28e1cc=_0x4e2407?_0x4e2407['latestScore']:null,_0x7d2d1a=_0x12e679?_0x12e679[_0x1b1871(0xb8b)]:null,_0x172fd5=_0x28e1cc!==null&&_0x7d2d1a!==null?_0x7d2d1a-_0x28e1cc:null,_0x319d9a=_0x28e1cc!==null?calculateZScore(_0x28e1cc,_0xa0c818[_0x1b1871(0x483)],_0xa0c818[_0x1b1871(0x58a)]):null,_0x79e68f=_0x7d2d1a!==null?calculateZScore(_0x7d2d1a,_0x487aa0[_0x1b1871(0x483)],_0x487aa0[_0x1b1871(0x58a)]):null,_0x4afedb=_0x319d9a!==null?calculateTScore(_0x319d9a):null,_0x384266=_0x79e68f!==null?calculateTScore(_0x79e68f):null,_0x2c78df=_0x4afedb!==null&&_0x384266!==null?_0x384266-_0x4afedb:null;return{'name':_0x300eb0,'preScore':_0x28e1cc,'postScore':_0x7d2d1a,'gain':_0x172fd5,'preTScore':_0x4afedb,'postTScore':_0x384266,'tGain':_0x2c78df};});renderIndividualComparisonTable(_0x32bc55,_0x827c6c);}catch(_0x462438){console[_0x2af60d(0x20d)]('Error\x20comparing\x20results:',_0x462438),_0x312393[_0x2af60d(0x2fe)]=_0x2af60d(0xa7b);}}async function saveBlueprintProject(){const _0x2a216e=_0x57253e;if(!extractedBlueprintData||!extractedBlueprintData[_0x2a216e(0x8e3)]){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x2b8673=prompt(_0x2a216e(0x90a),_0x2a216e(0xaed));if(!_0x2b8673||_0x2b8673[_0x2a216e(0x365)]()==='')return;const _0x12f15d={};extractedBlueprintData[_0x2a216e(0x8e3)][_0x2a216e(0xb68)](_0x446e8b=>{const _0x35860c=_0x2a216e;_0x446e8b['mainTopics'][_0x35860c(0xb68)](_0x34dbf4=>{_0x34dbf4['subTopics']['forEach'](_0x5f1e65=>{const _0x1fa538=_0x4216,_0x23317c=_0x1fa538(0x935)+Date['now']()+Math[_0x1fa538(0x373)]()[_0x1fa538(0x2bf)](0x24)['substr'](0x2,0x9);_0x12f15d[_0x23317c]={'sara':_0x446e8b['sara'],'mainTopic':_0x34dbf4['topicName'],'subTopic':_0x5f1e65,'status':_0x1fa538(0x5d4),'lessonContent':null};});});});try{const _0x231098=collection(db,_0x2a216e(0xc07)+appId+_0x2a216e(0x8ae));await addDoc(_0x231098,{'projectName':_0x2b8673[_0x2a216e(0x365)](),'gradeLevel':extractedBlueprintData[_0x2a216e(0x29f)],'topics':_0x12f15d,'createdAt':serverTimestamp()}),showMessage(_0x2a216e(0x74c)+_0x2b8673[_0x2a216e(0x365)]()+_0x2a216e(0x27f)),document[_0x2a216e(0x597)]('save-blueprint-as-project-btn')['classList'][_0x2a216e(0x6e3)](_0x2a216e(0x9ac));}catch(_0x2662a1){console['error'](_0x2a216e(0x99f),_0x2662a1),showMessage(_0x2a216e(0x8d0));}}async function showBlueprintProjects(){const _0x401719=_0x57253e,_0x1be171=document[_0x401719(0x597)](_0x401719(0x1ee)),_0x19ee9f=document[_0x401719(0x597)](_0x401719(0x1b0));_0x19ee9f[_0x401719(0x2fe)]=_0x401719(0xa1d),_0x1be171[_0x401719(0x7f0)][_0x401719(0x4bd)]('hidden');try{const _0x3c82c1=collection(db,'artifacts/'+appId+_0x401719(0x8ae)),_0x3625ca=await getDocs(_0x3c82c1);if(_0x3625ca[_0x401719(0x30b)]){_0x19ee9f['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0xd921b9=_0x3625ca['docs'][_0x401719(0x9ca)](_0x525e69=>({'id':_0x525e69['id'],..._0x525e69[_0x401719(0x533)]()}));_0xd921b9[_0x401719(0x2d6)]((_0x4699fa,_0x6ba48f)=>_0x4699fa['projectName'][_0x401719(0x796)](_0x6ba48f[_0x401719(0xadf)],'th')),_0x19ee9f[_0x401719(0x2fe)]=_0xd921b9[_0x401719(0x9ca)](_0x50a32e=>_0x401719(0xb81)+_0x50a32e['projectName']+_0x401719(0x191)+_0x50a32e['gradeLevel']+_0x401719(0x5a1)+Object[_0x401719(0x88e)](_0x50a32e[_0x401719(0x46a)])['length']+_0x401719(0x239)+_0x50a32e['id']+_0x401719(0x865)+_0x50a32e['id']+_0x401719(0x83b))['join']('');}catch(_0x3f57b8){console['error'](_0x401719(0x8b3),_0x3f57b8),_0x19ee9f['innerHTML']=_0x401719(0xb43);}}async function displayBlueprintProjectManager(_0x15eb43){const _0x30f3eb=_0x57253e;currentBlueprintProjectId=_0x15eb43,document[_0x30f3eb(0x597)]('blueprint-projects-modal')[_0x30f3eb(0x7f0)]['add']('hidden'),showView('admin-dashboard'),projectDashboardView[_0x30f3eb(0x7f0)]['add'](_0x30f3eb(0x9ac));const _0x890322=document[_0x30f3eb(0x597)](_0x30f3eb(0xa01));_0x890322[_0x30f3eb(0x7f0)][_0x30f3eb(0x4bd)]('hidden'),document[_0x30f3eb(0x597)](_0x30f3eb(0x763))['innerHTML']=_0x30f3eb(0x75b);try{const _0x247f0a=doc(db,_0x30f3eb(0xc07)+appId+_0x30f3eb(0x8ae),_0x15eb43),_0x5ca390=await getDoc(_0x247f0a);if(!_0x5ca390[_0x30f3eb(0xabe)]())throw new Error(_0x30f3eb(0x2b4));const _0x4ee15c={'id':_0x5ca390['id'],..._0x5ca390[_0x30f3eb(0x533)]()};document[_0x30f3eb(0x597)](_0x30f3eb(0x317))['textContent']=_0x4ee15c['projectName'],document[_0x30f3eb(0x597)](_0x30f3eb(0x8de))[_0x30f3eb(0x6f7)]=_0x4ee15c[_0x30f3eb(0x208)]||'',renderBlueprintTopicManager(_0x4ee15c);}catch(_0x12d3d5){console['error']('Error\x20displaying\x20blueprint\x20project:',_0x12d3d5),showMessage(_0x12d3d5[_0x30f3eb(0x5f2)]),showView(_0x30f3eb(0x2eb));}}function renderBlueprintTopicManager(_0x5bf1e9){const _0x4ef7ae=_0x57253e,_0x51026b=document[_0x4ef7ae(0x597)](_0x4ef7ae(0x763)),_0x3a3cb0=_0x5bf1e9['topics']||{};if(Object[_0x4ef7ae(0x88e)](_0x3a3cb0)['length']===0x0){_0x51026b['innerHTML']=_0x4ef7ae(0x35c);return;}const _0x1be696=Object[_0x4ef7ae(0x174)](_0x3a3cb0)[_0x4ef7ae(0x9ca)](([_0x547925,_0x4b15a2])=>({'id':_0x547925,..._0x4b15a2}))[_0x4ef7ae(0x2d6)]((_0x4c4418,_0x33697b)=>(_0x4c4418[_0x4ef7ae(0x4d1)]??Infinity)-(_0x33697b[_0x4ef7ae(0x4d1)]??Infinity)),_0x266dc0={};_0x1be696[_0x4ef7ae(0xb68)](_0x4ce2a4=>{const _0x1a6e78=_0x4ef7ae,{sara:_0x1ab1ce,mainTopic:_0x17d439}=_0x4ce2a4;!_0x266dc0[_0x1ab1ce]&&(_0x266dc0[_0x1ab1ce]={}),!_0x266dc0[_0x1ab1ce][_0x17d439]&&(_0x266dc0[_0x1ab1ce][_0x17d439]=[]),_0x266dc0[_0x1ab1ce][_0x17d439][_0x1a6e78(0xa09)](_0x4ce2a4);});let _0x22907a='';for(const _0x251cf3 in _0x266dc0){_0x22907a+=_0x4ef7ae(0xa4c)+_0x251cf3+'</h4>';for(const _0x45ecbb in _0x266dc0[_0x251cf3]){_0x22907a+=_0x4ef7ae(0x63a)+_0x45ecbb+_0x4ef7ae(0x727),_0x266dc0[_0x251cf3][_0x45ecbb][_0x4ef7ae(0xb68)](_0x4179b9=>{const _0x238ba8=_0x4ef7ae,_0x100828=_0x4179b9['id'],_0x4aa43e=_0x4179b9['linkedQuizIds']||[],_0x1cfe88=_0x4aa43e[_0x238ba8(0x711)]>0x0,_0x566587=_0x4179b9[_0x238ba8(0x9e6)]===_0x238ba8(0x484);let _0x5d3156='';_0x1cfe88?_0x5d3156=_0x238ba8(0x152)+_0x4aa43e[_0x238ba8(0x711)]+_0x238ba8(0x699):_0x5d3156=_0x238ba8(0x65b)+(_0x566587?'bg-green-200\x20text-green-800':_0x238ba8(0xb35))+'\x22>'+(_0x566587?_0x238ba8(0x9ad):_0x238ba8(0x937))+_0x238ba8(0x6fd);const _0x29ed1c=!_0x566587?_0x238ba8(0x487):'',_0x5d32be=!_0x566587?_0x238ba8(0x744):'';let _0x111a83=_0x566587?_0x238ba8(0x631):_0x238ba8(0x52f);_0x22907a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x100828+_0x238ba8(0x772)+_0x4179b9[_0x238ba8(0x7d2)]+_0x238ba8(0x449)+_0x5d3156+_0x238ba8(0xab9)+_0x29ed1c+_0x238ba8(0xa6c)+_0x5d32be+_0x238ba8(0x9c2)+_0x111a83+_0x238ba8(0x908);}),_0x22907a+=_0x4ef7ae(0x4a4);}_0x22907a+=_0x4ef7ae(0x519);}_0x51026b[_0x4ef7ae(0x2fe)]=_0x22907a;}async function handleDeepDeleteBlueprintProject(_0x7e869d){const _0xc62d0d=_0x57253e,_0x86e973=doc(db,_0xc62d0d(0xc07)+appId+'/public/data/blueprintProjects',_0x7e869d),_0x3ba499=await getDoc(_0x86e973);if(!_0x3ba499[_0xc62d0d(0xabe)]()){showMessage('ไม่พบโปรเจคที่ต้องการลบ');return;}const _0x212655=_0x3ba499[_0xc62d0d(0x533)]()['projectName'];showConfirmation(_0xc62d0d(0x8b1)+_0x212655+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x5591b1=_0xc62d0d;showMessage(_0x5591b1(0x1ae));try{const _0x49ece0=writeBatch(db),_0x1e64da=_0x3ba499[_0x5591b1(0x533)](),_0x3a8f1c=_0x1e64da[_0x5591b1(0x46a)]||{};for(const _0x3cd54c in _0x3a8f1c){const _0x2fcecf=doc(db,'artifacts/'+appId+_0x5591b1(0x13a)+_0x7e869d+_0x5591b1(0xbb7),_0x3cd54c);_0x49ece0[_0x5591b1(0x70d)](_0x2fcecf);}const _0x1ca8ac=new Set();for(const _0x298dbe in _0x3a8f1c){_0x3a8f1c[_0x298dbe][_0x5591b1(0x143)]&&_0x3a8f1c[_0x298dbe][_0x5591b1(0x143)][_0x5591b1(0xb68)](_0x5be87c=>_0x1ca8ac[_0x5591b1(0x6e3)](_0x5be87c));}for(const _0x4095da of _0x1ca8ac){await handleDeleteQuiz(_0x4095da,![]);}_0x49ece0['delete'](_0x86e973),await _0x49ece0[_0x5591b1(0x99e)](),showMessage(_0x5591b1(0x364)+_0x212655+'\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!'),showBlueprintProjects();}catch(_0x188f2e){console[_0x5591b1(0x20d)](_0x5591b1(0x7c3),_0x188f2e),showMessage(_0x5591b1(0x4d8));}});}async function openTopicQuizBank(_0x1ea9b1){const _0x414513=_0x57253e,_0x37be02=document[_0x414513(0x597)](_0x414513(0x13c)),_0x4aa1a2=document[_0x414513(0x597)](_0x414513(0x94b)),_0x5e060d=document[_0x414513(0x597)](_0x414513(0x263));try{await ensureGlobalQuizzesLoaded();const _0x2a1348=doc(db,_0x414513(0xc07)+appId+_0x414513(0x8ae),currentBlueprintProjectId),_0xa8823=await getDoc(_0x2a1348);if(!_0xa8823[_0x414513(0xabe)]())return;const _0x341296=_0xa8823[_0x414513(0x533)](),_0x3fc092=_0x341296[_0x414513(0x46a)][_0x1ea9b1];document[_0x414513(0x597)](_0x414513(0x494))[_0x414513(0x3a6)]=_0x3fc092[_0x414513(0x7d2)];const _0x18e6b8=_0x3fc092[_0x414513(0x143)]||[];_0x5e060d['classList'][_0x414513(0x8eb)]('hidden',_0x18e6b8[_0x414513(0x711)]===0x0),_0x5e060d[_0x414513(0x1f8)]=()=>handleClearAllLinksForTopic(_0x1ea9b1);if(_0x18e6b8[_0x414513(0x711)]===0x0)_0x4aa1a2[_0x414513(0x2fe)]=_0x414513(0x443);else{const _0x2b056e=allQuizzesGlobal['filter'](_0x33040b=>_0x18e6b8[_0x414513(0x1d1)](_0x33040b['id']));_0x4aa1a2[_0x414513(0x2fe)]=_0x2b056e['map'](_0x52f5af=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0x52f5af['id']+_0x414513(0x7e6)+_0x52f5af[_0x414513(0xc41)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x52f5af['id']+_0x414513(0x5a1)+_0x52f5af[_0x414513(0x962)]['length']+_0x414513(0xa03)+_0x52f5af['id']+_0x414513(0x5f4)+_0x52f5af['id']+_0x414513(0xb12)+_0x52f5af['id']+_0x414513(0x338)+_0x52f5af['id']+_0x414513(0x74e)+_0x52f5af['id']+_0x414513(0xb9e)+_0x52f5af['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22'+_0x1ea9b1+_0x414513(0x47a)+_0x52f5af['id']+_0x414513(0x854))[_0x414513(0x552)]('');}document[_0x414513(0x597)](_0x414513(0x9fb))['onclick']=()=>{openQuizSelectorForBlueprint(_0x1ea9b1);},document['getElementById'](_0x414513(0x2f9))[_0x414513(0x1f8)]=()=>_0x37be02[_0x414513(0x7f0)][_0x414513(0x6e3)](_0x414513(0x9ac)),_0x37be02[_0x414513(0x7f0)][_0x414513(0x4bd)](_0x414513(0x9ac));}catch(_0xcffdb8){showMessage(_0xcffdb8[_0x414513(0x5f2)]);}}async function openQuizSelectorForBlueprint(_0x171271){const _0x53c915=_0x57253e,_0xa9ecde=document['getElementById']('quiz-bank-modal'),_0x5c9069=document[_0x53c915(0x597)](_0x53c915(0x13c));_0x5c9069['classList'][_0x53c915(0x6e3)](_0x53c915(0x9ac)),document[_0x53c915(0x597)](_0x53c915(0x860))?.[_0x53c915(0x4bd)]();const _0x3f9a68=document['createElement'](_0x53c915(0xbc8));_0x3f9a68['id']='confirm-link-quiz-btn',_0x3f9a68[_0x53c915(0x4bc)]='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x3f9a68[_0x53c915(0x3a6)]='เพิ่มรายการที่เลือก',_0x3f9a68[_0x53c915(0x992)]=!![];try{await ensureGlobalQuizzesLoaded(),_0xa9ecde[_0x53c915(0x7f0)]['remove'](_0x53c915(0x9ac)),renderQuizBankListForMultiSelect(''),document[_0x53c915(0x597)](_0x53c915(0xa67))[_0x53c915(0x819)]['display']=_0x53c915(0x880),_0xa9ecde['querySelector'](_0x53c915(0x115))['appendChild'](_0x3f9a68);const _0x45b467=(_0x2390b1=![])=>{const _0x4a7e86=_0x53c915;_0xa9ecde['classList'][_0x4a7e86(0x6e3)]('hidden'),document[_0x4a7e86(0x597)](_0x4a7e86(0xa67))[_0x4a7e86(0x819)][_0x4a7e86(0x645)]=_0x4a7e86(0x3ff),_0x3f9a68['remove'](),_0x2390b1&&openTopicQuizBank(_0x171271);};_0x3f9a68[_0x53c915(0x1f8)]=async()=>{const _0x54d159=_0x53c915,_0x198cf2=Array[_0x54d159(0x4c8)](document[_0x54d159(0x40f)]('.quiz-bank-checkbox:checked'))[_0x54d159(0x9ca)](_0x236cda=>_0x236cda[_0x54d159(0x6f7)]);if(_0x198cf2[_0x54d159(0x711)]===0x0)return;try{const _0x3be3de=doc(db,_0x54d159(0xc07)+appId+_0x54d159(0x8ae),currentBlueprintProjectId),_0x3ba4ca=(await getDoc(_0x3be3de))[_0x54d159(0x533)](),_0x139cc7=_0x3ba4ca[_0x54d159(0x46a)][_0x171271][_0x54d159(0x143)]||[],_0x54b410=[...new Set([..._0x139cc7,..._0x198cf2])];await updateDoc(_0x3be3de,{['topics.'+_0x171271+_0x54d159(0xca6)]:_0x54b410}),showMessage(_0x54d159(0x480)+_0x198cf2[_0x54d159(0x711)]+_0x54d159(0x607)),_0x45b467(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2df0aa){console['error'](_0x54d159(0xace),_0x2df0aa);}},document['getElementById'](_0x53c915(0xaee))[_0x53c915(0x1f8)]=()=>_0x45b467(!![]);}catch(_0x9292a3){showMessage(_0x9292a3[_0x53c915(0x5f2)]),_0x5c9069[_0x53c915(0x7f0)][_0x53c915(0x4bd)]('hidden');}}function handleClearLinkedQuiz(_0x17490b){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x368042=_0x4216;try{const _0x1ecff3=doc(db,_0x368042(0xc07)+appId+_0x368042(0x8ae),currentBlueprintProjectId);await updateDoc(_0x1ecff3,{[_0x368042(0x319)+_0x17490b+'.linkedQuizId']:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2ee297){console['error'](_0x368042(0xbdb),_0x2ee297),showMessage(_0x368042(0x6dc));}});}async function addTopicToProject(){const _0x131a8e=_0x57253e,_0x196fd0=prompt('กรุณาป้อนชื่อหัวข้อย่อยใหม่:');if(!_0x196fd0||_0x196fd0['trim']()==='')return;const _0x590c28=prompt(_0x131a8e(0x121),_0x131a8e(0x9d1)),_0x2d3b25=prompt(_0x131a8e(0x120),_0x131a8e(0xb7b)),_0xf46c4b=_0x131a8e(0x935)+Date[_0x131a8e(0xa1b)]()+Math[_0x131a8e(0x373)]()[_0x131a8e(0x2bf)](0x24)[_0x131a8e(0x98a)](0x2,0x9),_0x43493f={'sara':_0x590c28,'mainTopic':_0x2d3b25,'subTopic':_0x196fd0[_0x131a8e(0x365)](),'status':_0x131a8e(0x5d4),'lessonContent':null};try{const _0x2c531d=doc(db,_0x131a8e(0xc07)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x2c531d,{[_0x131a8e(0x319)+_0xf46c4b]:_0x43493f}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xd8fab1){console['error'](_0x131a8e(0x9fe),_0xd8fab1),showMessage(_0x131a8e(0xb83));}}async function editTopicInProject(_0x5cfdfb){const _0x355422=_0x57253e,_0x2dac9b=document[_0x355422(0x7b3)](_0x355422(0x8c1)+_0x5cfdfb+'\x22]'),_0x51c169=_0x2dac9b['querySelector']('[data-field=\x22subTopic\x22]'),_0x542778=_0x51c169[_0x355422(0x3a6)],_0x2c3c51=prompt(_0x355422(0x8d1),_0x542778);if(!_0x2c3c51||_0x2c3c51[_0x355422(0x365)]()===''||_0x2c3c51[_0x355422(0x365)]()===_0x542778)return;try{const _0x2b3360=doc(db,_0x355422(0xc07)+appId+_0x355422(0x8ae),currentBlueprintProjectId);await updateDoc(_0x2b3360,{[_0x355422(0x319)+_0x5cfdfb+'.subTopic']:_0x2c3c51[_0x355422(0x365)]()}),_0x51c169['textContent']=_0x2c3c51[_0x355422(0x365)](),showMessage(_0x355422(0xc0e));}catch(_0x2de862){console[_0x355422(0x20d)](_0x355422(0xb92),_0x2de862),showMessage(_0x355422(0x2d0));}}async function deleteTopicFromProject(_0x29d34e){const _0x3adac3=_0x57253e;if(!confirm(_0x3adac3(0x5dd)))return;try{const _0x484061=doc(db,_0x3adac3(0xc07)+appId+_0x3adac3(0x8ae),currentBlueprintProjectId);await updateDoc(_0x484061,{[_0x3adac3(0x319)+_0x29d34e]:deleteField()}),document[_0x3adac3(0x7b3)](_0x3adac3(0x8c1)+_0x29d34e+'\x22]')[_0x3adac3(0x4bd)](),showMessage(_0x3adac3(0x216));}catch(_0x21eb47){console[_0x3adac3(0x20d)](_0x3adac3(0x2a7),_0x21eb47),showMessage(_0x3adac3(0x639));}}async function generateAndSaveLessonForBlueprint(_0x120f0e,_0x4ef370,_0x3408dc){handleGenerateAndShowLesson(_0x4ef370,_0x3408dc);const _0xe6bb1=setInterval(async()=>{const _0x5d8715=_0x4216,_0x3ff870=document['getElementById']('lesson-view-modal'),_0x1a54e9=_0x3ff870[_0x5d8715(0x7f0)][_0x5d8715(0x1ef)]('hidden');if(_0x1a54e9){clearInterval(_0xe6bb1);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x924a0={'point':document[_0x5d8715(0x597)](_0x5d8715(0xb17))[_0x5d8715(0x2fe)],'memory':document[_0x5d8715(0x597)](_0x5d8715(0xa07))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x5d8715(0x597)](_0x5d8715(0x698))['innerHTML']};try{const _0x26aa5b=doc(db,'artifacts/'+appId+_0x5d8715(0x8ae),currentBlueprintProjectId),_0x35baaa=doc(db,_0x5d8715(0xc07)+appId+_0x5d8715(0x13a)+currentBlueprintProjectId+_0x5d8715(0xbb7),_0x120f0e),_0x379be6=writeBatch(db);_0x379be6['set'](_0x35baaa,{'content':_0x924a0}),_0x379be6[_0x5d8715(0x871)](_0x26aa5b,{[_0x5d8715(0x319)+_0x120f0e+_0x5d8715(0x577)]:_0x5d8715(0x484)}),await _0x379be6[_0x5d8715(0x99e)](),console[_0x5d8715(0x496)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x120f0e+_0x5d8715(0xb64)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x16dadb){console[_0x5d8715(0x20d)](_0x5d8715(0xc4c),_0x16dadb);}}}},0x3e8);}function displayHalfMarkResult(_0x4db144,_0x568767){const _0x5b3bf0=_0x57253e,_0x1227e9=_0x4db144>=_0x568767/0x2,_0x1fee9a=_0x1227e9?_0x5b3bf0(0x42b):_0x5b3bf0(0xba6),_0x541a2a=_0x1227e9?_0x5b3bf0(0xa52):_0x5b3bf0(0x6c0),_0x1fb508=_0x1227e9?_0x5b3bf0(0x207):'text-red-800',_0xc725be=_0x1227e9?_0x5b3bf0(0x513):_0x5b3bf0(0x7b7),_0x3a6039=_0x1227e9?_0x5b3bf0(0x93a):_0x5b3bf0(0x7ea);let _0x5a910f=_0x5b3bf0(0xc24)+_0x1fee9a+_0x5b3bf0(0x1b7)+_0x541a2a+_0x5b3bf0(0x2cd)+_0x1fb508+_0x5b3bf0(0x9a7)+_0xc725be+_0x5b3bf0(0x10d)+_0x3a6039+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x5b3bf0(0x2fe)]=_0x5a910f,studentResultArea[_0x5b3bf0(0x7f0)][_0x5b3bf0(0x4bd)]('hidden'),studentQuizArea['classList']['add']('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x1227e9});}function displayPerfectScoreResult(_0x1fb4ed,_0xf9035d){const _0x347875=_0x57253e,_0x4a3435=_0x1fb4ed===_0xf9035d,_0x24454=_0x4a3435?_0x347875(0x195):'bg-blue-100',_0x332a0e=_0x4a3435?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x347875(0x39d),_0x66a044=_0x4a3435?'text-yellow-800':_0x347875(0x6eb),_0x594383=_0x4a3435?'คะแนนเต็ม!':'ยังไม่เต็มนะ',_0x2766ba=_0x4a3435?_0x347875(0x27a):_0x347875(0x528);let _0xd868aa=_0x347875(0xc24)+_0x24454+_0x347875(0x1b7)+_0x332a0e+_0x347875(0x2cd)+_0x66a044+'\x20mb-2\x22>'+_0x594383+_0x347875(0x10d)+_0x2766ba+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x347875(0x2fe)]=_0xd868aa,studentResultArea[_0x347875(0x7f0)][_0x347875(0x4bd)]('hidden'),studentQuizArea[_0x347875(0x7f0)][_0x347875(0x6e3)](_0x347875(0x9ac)),setupResultScreenBackButton({'showRankings':![],'score':_0x1fb4ed,'totalQuestions':_0xf9035d});}function renderIndividualComparisonTable(_0x1729fc,_0x5e28b7){const _0x1fd334=_0x57253e;_0x1729fc[_0x1fd334(0x2d6)]((_0x4eb9ca,_0x5c3c1b)=>(_0x5c3c1b[_0x1fd334(0x9c9)]??-Infinity)-(_0x4eb9ca[_0x1fd334(0x9c9)]??-Infinity));let _0x167325=_0x1fd334(0x328);_0x1729fc[_0x1fd334(0x711)]===0x0?_0x167325+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x1729fc[_0x1fd334(0xb68)]((_0x377fe6,_0x3c5d8c)=>{const _0x101f42=_0x1fd334;let _0xdb750='-',_0x15137b='';if(_0x377fe6[_0x101f42(0xc52)]!==null){const _0x495d6b=_0x377fe6[_0x101f42(0xc52)]>0x0?_0x101f42(0x69b):_0x377fe6[_0x101f42(0xc52)]<0x0?_0x101f42(0x6d3):'text-gray-500',_0x2ac48d=_0x377fe6['gain']>0x0?'+':'';_0xdb750=_0x101f42(0x747)+_0x495d6b+'\x22>'+_0x2ac48d+_0x377fe6['gain']+_0x101f42(0x6fd);if(_0x377fe6['gain']>0x0)_0x15137b=_0x101f42(0xc45);else _0x377fe6[_0x101f42(0xc52)]<0x0?_0x15137b=_0x101f42(0x5bb):_0x15137b=_0x101f42(0xa20);}let _0x3fe6b5='-';if(_0x377fe6[_0x101f42(0x9c9)]!==null){const _0x127d33=_0x377fe6['tGain']>0x0?_0x101f42(0x69b):_0x377fe6['tGain']<0x0?_0x101f42(0x6d3):_0x101f42(0x574),_0x11de14=_0x377fe6['tGain']>0x0?'+':'';_0x3fe6b5=_0x101f42(0x747)+_0x127d33+'\x22>'+_0x11de14+_0x377fe6[_0x101f42(0x9c9)][_0x101f42(0x30c)](0x2)+_0x101f42(0x6fd);}_0x167325+=_0x101f42(0x20f)+(_0x3c5d8c+0x1)+_0x101f42(0x8e5)+_0x377fe6[_0x101f42(0x309)]+_0x101f42(0x3a8)+(_0x377fe6[_0x101f42(0x32f)]??'-')+_0x101f42(0xb42)+(_0x377fe6[_0x101f42(0xa1a)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0xdb750+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x15137b+_0x101f42(0x5a0)+(_0x377fe6['preTScore']?.[_0x101f42(0x30c)](0x2)??'-')+_0x101f42(0x5e7)+(_0x377fe6['postTScore']?.[_0x101f42(0x30c)](0x2)??'-')+_0x101f42(0x3a8)+_0x3fe6b5+_0x101f42(0x5f1);}),_0x167325+='</tbody></table></div>',_0x5e28b7['innerHTML']=_0x167325;}function handleRenameQuiz(_0x2dc49c,_0x1e7980){const _0x41358e=_0x57253e;actionTargetId=_0x2dc49c,document[_0x41358e(0x597)]('rename-quiz-input')[_0x41358e(0x6f7)]=_0x1e7980,renameQuizModal[_0x41358e(0x7f0)][_0x41358e(0x4bd)]('hidden');}function setupComparisonModalTabs(){const _0x35d3d9=_0x57253e,_0xe0adb6=document[_0x35d3d9(0x597)](_0x35d3d9(0x312)),_0x5803a1=document['getElementById'](_0x35d3d9(0xc75)),_0x23b543=document['getElementById']('comparison-overall-content'),_0x5502ad=document[_0x35d3d9(0x597)](_0x35d3d9(0x203));_0xe0adb6[_0x35d3d9(0x161)](_0x35d3d9(0x82f),()=>{const _0x5c261e=_0x35d3d9;_0xe0adb6[_0x5c261e(0x7f0)][_0x5c261e(0x6e3)]('active'),_0x5803a1[_0x5c261e(0x7f0)]['remove'](_0x5c261e(0xbe2)),_0x23b543[_0x5c261e(0x7f0)][_0x5c261e(0x4bd)](_0x5c261e(0x9ac)),_0x5502ad['classList']['add'](_0x5c261e(0x9ac));}),_0x5803a1['addEventListener']('click',()=>{const _0x1e5b24=_0x35d3d9;_0x5803a1[_0x1e5b24(0x7f0)][_0x1e5b24(0x6e3)](_0x1e5b24(0xbe2)),_0xe0adb6[_0x1e5b24(0x7f0)]['remove'](_0x1e5b24(0xbe2)),_0x5502ad[_0x1e5b24(0x7f0)][_0x1e5b24(0x4bd)]('hidden'),_0x23b543[_0x1e5b24(0x7f0)]['add'](_0x1e5b24(0x9ac));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x3ee1ee=_0x57253e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5c9c59=doc(db,_0x3ee1ee(0xc07)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5c9c59,_0x5e185f=>{const _0x2a8023=_0x3ee1ee;if(!_0x5e185f[_0x2a8023(0xabe)]()){showMessage(_0x2a8023(0x532));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x2a8023(0xb96)):showView(_0x2a8023(0xcab));return;}const _0x5e3991=_0x5e185f[_0x2a8023(0x533)]();_0x5e3991[_0x2a8023(0x5df)]&&(currentQuizData=_0x5e3991[_0x2a8023(0x5df)]);!currentQuizData&&_0x5e3991[_0x2a8023(0x7e0)]&&((async()=>{const _0x1a22cd=_0x2a8023;try{const _0x3b8c23=doc(db,_0x1a22cd(0xc07)+appId+_0x1a22cd(0x194),_0x5e3991['quizId']),_0x12e761=await getDoc(_0x3b8c23);_0x12e761[_0x1a22cd(0xabe)]()&&(currentQuizData={'id':_0x12e761['id'],..._0x12e761[_0x1a22cd(0x533)]()});}catch(_0x27873f){console[_0x1a22cd(0x20d)](_0x1a22cd(0x98f),_0x27873f);}})());switch(_0x5e3991['status']){case _0x2a8023(0x537):if(currentMode===_0x2a8023(0xa4b)){const _0xc712fd=_0x5e3991[_0x2a8023(0xae4)]?Object[_0x2a8023(0x174)](_0x5e3991[_0x2a8023(0xae4)]):[],_0x41df9e=_0xc712fd[_0x2a8023(0xa32)](([_0x2d520a,_0x11db69])=>_0x11db69['status']==='active'),_0x380248=document['getElementById'](_0x2a8023(0xb02));if(_0x380248)_0x380248['textContent']=_0x41df9e['length'];const _0x7dc6c8=document[_0x2a8023(0x597)](_0x2a8023(0x287));_0x7dc6c8&&(_0x7dc6c8[_0x2a8023(0x2fe)]=_0x41df9e[_0x2a8023(0x9ca)](([_0x587f76,_0x12116a])=>_0x2a8023(0x633)+_0x587f76+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x587f76+_0x2a8023(0x1f9))[_0x2a8023(0x552)](''));const _0x516a23=document['getElementById'](_0x2a8023(0xc94));_0x516a23&&(_0x516a23[_0x2a8023(0x992)]=_0x41df9e[_0x2a8023(0x711)]===0x0);}else showView('live-game'),liveGameView[_0x2a8023(0x2fe)]=_0x2a8023(0x113)+currentStudentName+_0x2a8023(0x93e);break;case _0x2a8023(0x308):const _0x3dfbbf=_0x5e3991[_0x2a8023(0x2df)];if(currentQuizData&&currentQuizData['questions'][_0x3dfbbf]){const _0x43e3a7=currentQuizData[_0x2a8023(0x962)][_0x3dfbbf],_0x57ced1=_0x5e3991['questionStatus']||_0x2a8023(0x8ed);switch(_0x57ced1){case _0x2a8023(0x281):currentMode==='admin'?showAdminSummaryView(_0x5e3991,_0x43e3a7):showPlayerSummaryView(_0x5e3991,currentStudentName);break;case _0x2a8023(0x432):currentMode===_0x2a8023(0xa4b)&&showTop5LeaderboardView(_0x5e3991);break;case _0x2a8023(0x8ed):default:if(currentMode===_0x2a8023(0xa4b)){const _0xf61e60=writeBatch(db);let _0x33de73=![];Object[_0x2a8023(0x174)](_0x5e3991[_0x2a8023(0xae4)])[_0x2a8023(0xb68)](([_0x1a1725,_0x3bd198])=>{const _0x2269f1=_0x2a8023;if(_0x3bd198[_0x2269f1(0x9e6)]===_0x2269f1(0xbe2)&&_0x3bd198[_0x2269f1(0x6f3)]&&!_0x3bd198[_0x2269f1(0x9d2)]){_0x33de73=!![];const _0xeba7a6=_0x3bd198['submittedAt'][_0x2269f1(0xa59)]()-_0x5e3991[_0x2269f1(0x45c)]['toDate']();let _0x35adc2=0x0;if(_0x3bd198[_0x2269f1(0x379)]){const _0x580b41=0x3e8,_0x4922bf=0x1f4,_0x142184=0x4e20;let _0xb62ebd=_0xeba7a6/_0x142184;if(_0xb62ebd>0x1)_0xb62ebd=0x1;const _0x518f9e=Math[_0x2269f1(0x298)](_0xb62ebd*_0x4922bf);_0x35adc2=_0x580b41-_0x518f9e;}const _0x301910=doc(db,'artifacts/'+appId+_0x2269f1(0x7e2),currentLiveGameId);_0xf61e60['update'](_0x301910,{[_0x2269f1(0xc9b)+_0x1a1725+_0x2269f1(0x324)]:increment(_0x35adc2),['players.'+_0x1a1725+_0x2269f1(0x57f)]:_0x35adc2,[_0x2269f1(0xc9b)+_0x1a1725+_0x2269f1(0x18d)]:!![]});}});_0x33de73&&_0xf61e60[_0x2a8023(0x99e)]()[_0x2a8023(0xa10)](_0x597fe5=>console[_0x2a8023(0x20d)](_0x2a8023(0x5e5),_0x597fe5));lastRenderedAdminQuestionIndex!==_0x3dfbbf&&(showAdminLiveQuestionView(_0x43e3a7,_0x3dfbbf,currentQuizData[_0x2a8023(0x962)]['length']),lastRenderedAdminQuestionIndex=_0x3dfbbf);const _0x3f5073=_0x5e3991[_0x2a8023(0xae4)]||{},_0x32d51e=Object[_0x2a8023(0x9d8)](_0x3f5073)[_0x2a8023(0xa32)](_0x39e6d1=>_0x39e6d1['status']===_0x2a8023(0xbe2)),_0x9f86c5=_0x32d51e['length'],_0x3b32ee=_0x32d51e[_0x2a8023(0xa32)](_0x4eda27=>_0x4eda27[_0x2a8023(0xa0c)]===!![])[_0x2a8023(0x711)],_0x61d2e9=document[_0x2a8023(0x597)]('answer-counter');if(_0x61d2e9)_0x61d2e9[_0x2a8023(0x3a6)]=_0x3b32ee+'/'+_0x9f86c5;const _0x12cbbe=document[_0x2a8023(0x597)](_0x2a8023(0x144));if(_0x12cbbe){let _0x2f4707=Object[_0x2a8023(0x174)](_0x3f5073)[_0x2a8023(0xa32)](([_0x11d697,_0x4e4974])=>_0x4e4974[_0x2a8023(0x9e6)]===_0x2a8023(0xbe2))['map'](([_0x4648bf,_0x3c483a])=>{const _0x23b21b=_0x2a8023,_0x142b97=_0x3c483a['answeredCurrentQuestion']===!![],_0x24c2eb=_0x142b97?'bg-green-500':_0x23b21b(0xaa8),_0x580f33=_0x142b97?_0x23b21b(0x573):_0x23b21b(0x2e2);return _0x23b21b(0xa15)+_0x24c2eb+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x580f33+_0x23b21b(0x326)+_0x4648bf+_0x23b21b(0xb0d)+_0x4648bf+_0x23b21b(0xbc3);})['join']('');_0x12cbbe[_0x2a8023(0x2fe)]=_0x2f4707||_0x2a8023(0x88f);}_0x9f86c5>0x0&&_0x3b32ee===_0x9f86c5&&revealAnswerForAdmin(_0x3dfbbf,currentQuizData[_0x2a8023(0x962)]['length']);}else{const _0x1461b5=_0x5e3991[_0x2a8023(0xae4)][currentStudentName];_0x1461b5&&!_0x1461b5[_0x2a8023(0xa0c)]&&showStudentLiveQuestionView(_0x43e3a7,_0x3dfbbf,currentQuizData[_0x2a8023(0x962)][_0x2a8023(0x711)]);}break;}}break;case _0x2a8023(0xb52):showPodiumView(_0x5e3991[_0x2a8023(0xae4)],_0x2a8023(0xbc6));break;}});}async function openGlobalActivityModal(){const _0x7a2804=_0x57253e;if(allQuizzesGlobal[_0x7a2804(0x711)]===0x0){const _0x47bccb=await getDocs(collection(db,_0x7a2804(0xc07)+appId+_0x7a2804(0x194)));allQuizzesGlobal=_0x47bccb[_0x7a2804(0x69d)]['map'](_0x27ae0e=>({'id':_0x27ae0e['id'],..._0x27ae0e[_0x7a2804(0x533)]()}));}renderGlobalActivityList(''),document[_0x7a2804(0x597)](_0x7a2804(0xa63))['classList']['remove']('hidden');}function renderGlobalActivityList(_0x5c712d=''){const _0x511cf8=_0x57253e,_0x22a8d7=document[_0x511cf8(0x597)](_0x511cf8(0x2f6)),_0x38ec52=_0x5c712d[_0x511cf8(0x6c8)]()[_0x511cf8(0x365)](),_0x5f2752=allQuizzesGlobal[_0x511cf8(0x9ca)](_0x1f21e2=>({..._0x1f21e2,'projectName':allProjects[_0x511cf8(0x1bc)](_0x3beb38=>_0x3beb38['id']===_0x1f21e2[_0x511cf8(0x9f2)])?.['projectName']||_0x511cf8(0x321)}))[_0x511cf8(0xa32)](_0x15ed03=>(_0x15ed03['topic']||'')[_0x511cf8(0x6c8)]()[_0x511cf8(0x1d1)](_0x38ec52)||(_0x15ed03['projectName']||'')[_0x511cf8(0x6c8)]()[_0x511cf8(0x1d1)](_0x38ec52));document[_0x511cf8(0x597)](_0x511cf8(0x417))[_0x511cf8(0x3a6)]='('+_0x5f2752[_0x511cf8(0x711)]+_0x511cf8(0x274),_0x22a8d7[_0x511cf8(0x2fe)]=_0x5f2752[_0x511cf8(0x711)]?_0x5f2752[_0x511cf8(0x9ca)](_0x24bf5d=>_0x511cf8(0x2d5)+(_0x24bf5d['topic']||_0x511cf8(0x1d3))+_0x511cf8(0x33f)+(_0x24bf5d[_0x511cf8(0x962)]?.[_0x511cf8(0x711)]||0x0)+_0x511cf8(0xb74)+_0x24bf5d[_0x511cf8(0xadf)]+_0x511cf8(0x307)+_0x24bf5d['id']+'\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x24bf5d['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x24bf5d['id']+_0x511cf8(0x255)+_0x24bf5d['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')[_0x511cf8(0x552)](''):_0x511cf8(0x31c);}async function handleKickPlayer(_0x19c650){const _0x4d78f0=_0x57253e;if(!currentLiveGameId||!_0x19c650)return;const _0x1bb135=doc(db,_0x4d78f0(0xc07)+appId+'/public/data/liveGames',currentLiveGameId),_0x569c8e={};_0x569c8e['players.'+_0x19c650+_0x4d78f0(0x577)]=_0x4d78f0(0x544);try{await updateDoc(_0x1bb135,_0x569c8e);}catch(_0xb6a13d){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x19c650+':',_0xb6a13d),showMessage(_0x4d78f0(0x594));}}async function authenticateUser(){const _0x2b860e=_0x57253e;try{typeof __initial_auth_token!==_0x2b860e(0x846)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x590b69){console[_0x2b860e(0x20d)]('Authentication\x20failed:',_0x590b69),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x289b10){const _0x1975f8=_0x57253e;adminView[_0x1975f8(0x7f0)]['add']('hidden'),studentView['classList']['add'](_0x1975f8(0x9ac)),projectDashboardView[_0x1975f8(0x7f0)][_0x1975f8(0x6e3)](_0x1975f8(0x9ac)),projectDetailView[_0x1975f8(0x7f0)][_0x1975f8(0x6e3)](_0x1975f8(0x9ac)),quizResultsView['classList']['add'](_0x1975f8(0x9ac)),liveGameView[_0x1975f8(0x7f0)][_0x1975f8(0x6e3)](_0x1975f8(0x9ac)),document['getElementById'](_0x1975f8(0xa01))[_0x1975f8(0x7f0)][_0x1975f8(0x6e3)](_0x1975f8(0x9ac)),studentInitialView['classList'][_0x1975f8(0x6e3)](_0x1975f8(0x9ac)),studentJoinGameView[_0x1975f8(0x7f0)]['add'](_0x1975f8(0x9ac)),studentNameSelectionView[_0x1975f8(0x7f0)]['add']('hidden'),studentQuizArea[_0x1975f8(0x7f0)][_0x1975f8(0x6e3)](_0x1975f8(0x9ac)),studentResultArea[_0x1975f8(0x7f0)][_0x1975f8(0x6e3)]('hidden'),studentReadingArea['classList'][_0x1975f8(0x6e3)](_0x1975f8(0x9ac));const _0x1d920d=document[_0x1975f8(0x597)](_0x1975f8(0x4ac)),_0x18265b=document['getElementById'](_0x1975f8(0x67c));if(_0x1d920d)_0x1d920d['classList'][_0x1975f8(0x6e3)](_0x1975f8(0x9ac));if(_0x18265b)_0x18265b[_0x1975f8(0x7f0)]['add'](_0x1975f8(0x9ac));switch(_0x289b10){case _0x1975f8(0x2eb):adminView[_0x1975f8(0x7f0)]['remove'](_0x1975f8(0x9ac)),projectDashboardView[_0x1975f8(0x7f0)]['remove'](_0x1975f8(0x9ac));break;case'project-detail':adminView[_0x1975f8(0x7f0)]['remove'](_0x1975f8(0x9ac)),projectDetailView[_0x1975f8(0x7f0)][_0x1975f8(0x4bd)](_0x1975f8(0x9ac));break;case'quiz-results':adminView['classList'][_0x1975f8(0x4bd)](_0x1975f8(0x9ac)),quizResultsView[_0x1975f8(0x7f0)]['remove'](_0x1975f8(0x9ac));break;case'student':studentView[_0x1975f8(0x7f0)][_0x1975f8(0x4bd)](_0x1975f8(0x9ac)),studentInitialView[_0x1975f8(0x7f0)]['remove']('hidden');break;case _0x1975f8(0x898):liveGameView[_0x1975f8(0x7f0)][_0x1975f8(0x4bd)](_0x1975f8(0x9ac));break;case _0x1975f8(0x32e):studentView[_0x1975f8(0x7f0)][_0x1975f8(0x4bd)](_0x1975f8(0x9ac));if(_0x1d920d)_0x1d920d[_0x1975f8(0x7f0)][_0x1975f8(0x4bd)](_0x1975f8(0x9ac));break;case'student-progress':studentView[_0x1975f8(0x7f0)][_0x1975f8(0x4bd)]('hidden');if(_0x18265b)_0x18265b['classList'][_0x1975f8(0x4bd)]('hidden');break;default:studentView['classList']['remove'](_0x1975f8(0x9ac)),studentInitialView['classList'][_0x1975f8(0x4bd)](_0x1975f8(0x9ac));break;}}function showJoinGameView(){const _0x323698=_0x57253e;studentInitialView[_0x323698(0x7f0)][_0x323698(0x6e3)](_0x323698(0x9ac)),studentJoinGameView[_0x323698(0x7f0)][_0x323698(0x4bd)](_0x323698(0x9ac));}async function handleSaveVisibilitySettings(){const _0x5f299a=_0x57253e;if(!currentProjectId)return;const _0x5b45c7=doc(db,_0x5f299a(0xc07)+appId+_0x5f299a(0x81e),currentProjectId);try{await updateDoc(_0x5b45c7,{'settings.showInStudentDashboard':document[_0x5f299a(0x597)](_0x5f299a(0x1d9))['checked'],'settings.isPasscodeEnabled':document[_0x5f299a(0x597)](_0x5f299a(0x960))[_0x5f299a(0x641)],'settings.passcode':document[_0x5f299a(0x597)](_0x5f299a(0x6b0))[_0x5f299a(0x6f7)][_0x5f299a(0x365)]()}),showMessage(_0x5f299a(0x162));}catch(_0x3bb87a){console[_0x5f299a(0x20d)](_0x5f299a(0x8e7),_0x3bb87a),showMessage(_0x5f299a(0x644));}}function setupEventListeners(){const _0x1ecc0d=_0x57253e,_0x1d7e8a=document[_0x1ecc0d(0x597)](_0x1ecc0d(0x9a6));_0x1d7e8a&&(_0x1d7e8a[_0x1ecc0d(0x161)](_0x1ecc0d(0x4d9),wakeUpScreen),_0x1d7e8a[_0x1ecc0d(0x161)]('touchstart',wakeUpScreen));document[_0x1ecc0d(0x597)](_0x1ecc0d(0xbb4))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),async()=>{const _0x555ae7=_0x1ecc0d;if(!currentBlueprintProjectId)return;const _0x8be196=document['getElementById']('bp-reference-file-url')[_0x555ae7(0x6f7)][_0x555ae7(0x365)](),_0x428e67=doc(db,_0x555ae7(0xc07)+appId+_0x555ae7(0x8ae),currentBlueprintProjectId);try{await updateDoc(_0x428e67,{'referenceFileUrl':_0x8be196}),showMessage(_0x555ae7(0x158));}catch(_0x19633d){console[_0x555ae7(0x20d)]('Error\x20saving\x20reference\x20URL:',_0x19633d),showMessage(_0x555ae7(0x644));}}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xac3))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),handleAddParallelShortcutTab),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x618))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),_0x2b857f=>{const _0x1a3fbb=_0x1ecc0d;_0x2b857f['target']['closest'](_0x1a3fbb(0x45b))&&(activeParallelShortcutTabId=_0x1a3fbb(0x52b),renderAdditionalParallelShortcutsModal(),document[_0x1a3fbb(0x597)](_0x1a3fbb(0xa12))['classList'][_0x1a3fbb(0x4bd)]('hidden'));}),document[_0x1ecc0d(0x597)]('close-additional-parallel-shortcuts-btn')['addEventListener'](_0x1ecc0d(0x82f),()=>{const _0x104d4b=_0x1ecc0d;document['getElementById'](_0x104d4b(0xa12))[_0x104d4b(0x7f0)][_0x104d4b(0x6e3)](_0x104d4b(0x9ac));}),document[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),_0x26cfcd=>{const _0x4233da=_0x1ecc0d;!_0x26cfcd['target'][_0x4233da(0x4dc)](_0x4233da(0x110))&&document[_0x4233da(0x40f)](_0x4233da(0x913))[_0x4233da(0xb68)](_0x59d8a6=>_0x59d8a6[_0x4233da(0x7f0)][_0x4233da(0x6e3)]('hidden'));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x4d2))[_0x1ecc0d(0x161)]('click',handleAddFileShortcutTab),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x85e))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),_0x16bf7c=>{const _0x292a9a=_0x1ecc0d;_0x16bf7c['target']['closest']('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId=_0x292a9a(0x52b),renderAdditionalFileShortcutsModal(),document[_0x292a9a(0x597)](_0x292a9a(0xa94))['classList'][_0x292a9a(0x4bd)](_0x292a9a(0x9ac)));}),document[_0x1ecc0d(0x597)]('close-additional-file-shortcuts-btn')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x5e37ee=_0x1ecc0d;document[_0x5e37ee(0x597)]('additional-file-shortcuts-modal')['classList'][_0x5e37ee(0x6e3)](_0x5e37ee(0x9ac));}),document[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),_0x5e30fd=>{const _0xfdb430=_0x1ecc0d;!_0x5e30fd[_0xfdb430(0xaa3)][_0xfdb430(0x4dc)](_0xfdb430(0x53b))&&document[_0xfdb430(0x40f)](_0xfdb430(0x2bc))[_0xfdb430(0xb68)](_0x565efb=>_0x565efb[_0xfdb430(0x7f0)][_0xfdb430(0x6e3)]('hidden'));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x236))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),handleAddShortcutTab),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xc1d))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),_0x3a710d=>{const _0x423a0a=_0x1ecc0d,_0x192975=_0x3a710d['target'][_0x423a0a(0x4dc)](_0x423a0a(0x9d7)),_0x30f4c9=_0x3a710d[_0x423a0a(0xaa3)][_0x423a0a(0x4dc)]('.edit-parallel-shortcut-btn'),_0x349eca=_0x3a710d[_0x423a0a(0xaa3)][_0x423a0a(0x4dc)]('.delete-parallel-shortcut-btn');if(_0x30f4c9)openParallelTestShortcutEditor(_0x30f4c9[_0x423a0a(0x7a0)]['id']);else{if(_0x349eca){const _0x38dec9=_0x349eca[_0x423a0a(0x7a0)]['id'];showConfirmation(_0x423a0a(0x366),async()=>{const _0x1ad41b=_0x423a0a,_0x5a3815=parallelTestShortcuts[_0x1ad41b(0xa32)](_0x4bba34=>_0x4bba34['id']!==_0x38dec9),_0x306714=doc(db,_0x1ad41b(0x302),_0x1ad41b(0x6ec));await setDoc(_0x306714,{'shortcuts':_0x5a3815},{'merge':!![]});});}else _0x192975&&handleParallelTestShortcutClick(_0x192975[_0x423a0a(0x7a0)]['id']);}}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x8fa))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>openParallelTestShortcutEditor(null)),document[_0x1ecc0d(0x597)]('cancel-parallel-shortcut-edit-btn')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x1bc5f1=_0x1ecc0d;document[_0x1bc5f1(0x597)]('parallel-shortcut-editor-modal')['classList'][_0x1bc5f1(0x6e3)](_0x1bc5f1(0x9ac));}),document['getElementById']('save-parallel-shortcut-btn')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),saveParallelTestShortcutChanges),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x618))[_0x1ecc0d(0x161)]('click',_0x21e4cd=>{const _0x2726c1=_0x1ecc0d;_0x21e4cd[_0x2726c1(0xaa3)][_0x2726c1(0x4dc)](_0x2726c1(0x45b))&&document[_0x2726c1(0x597)](_0x2726c1(0xa12))[_0x2726c1(0x7f0)][_0x2726c1(0x4bd)](_0x2726c1(0x9ac));}),document['getElementById']('close-additional-parallel-shortcuts-btn')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x5f0871=_0x1ecc0d;document[_0x5f0871(0x597)](_0x5f0871(0xa12))[_0x5f0871(0x7f0)]['add']('hidden');}),document[_0x1ecc0d(0x597)]('additional-parallel-shortcuts-list')['addEventListener'](_0x1ecc0d(0x82f),_0x2c7329=>{const _0x13dbf3=_0x1ecc0d,_0x40a159=document[_0x13dbf3(0x597)](_0x13dbf3(0xa12)),_0x26855d=_0x2c7329[_0x13dbf3(0xaa3)][_0x13dbf3(0x4dc)](_0x13dbf3(0xa3b)),_0x210876=_0x2c7329[_0x13dbf3(0xaa3)][_0x13dbf3(0x4dc)](_0x13dbf3(0x604)),_0x2544bb=_0x2c7329['target'][_0x13dbf3(0x4dc)](_0x13dbf3(0x4e5));if(_0x26855d)_0x40a159[_0x13dbf3(0x7f0)][_0x13dbf3(0x6e3)](_0x13dbf3(0x9ac)),handleParallelTestShortcutClick(_0x26855d['dataset']['id']);else{if(_0x210876)_0x40a159[_0x13dbf3(0x7f0)][_0x13dbf3(0x6e3)](_0x13dbf3(0x9ac)),openParallelTestShortcutEditor(_0x210876['dataset']['id']);else{if(_0x2544bb){const _0x11a2eb=_0x2544bb[_0x13dbf3(0x7a0)]['id'];showConfirmation(_0x13dbf3(0x366),async()=>{const _0x1e9d17=_0x13dbf3,_0x2a1f57=parallelTestShortcuts[_0x1e9d17(0xa32)](_0x1acf5b=>_0x1acf5b['id']!==_0x11a2eb),_0x25a4be=doc(db,_0x1e9d17(0x302),_0x1e9d17(0x6ec));await setDoc(_0x25a4be,{'shortcuts':_0x2a1f57},{'merge':!![]});});}}}}),document[_0x1ecc0d(0x597)]('file-shortcut-container')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),_0x89f26=>{const _0x6a916=_0x1ecc0d,_0x3a26b2=_0x89f26[_0x6a916(0xaa3)][_0x6a916(0x4dc)](_0x6a916(0xa72)),_0x5a3327=_0x89f26[_0x6a916(0xaa3)][_0x6a916(0x4dc)](_0x6a916(0x892)),_0x443268=_0x89f26[_0x6a916(0xaa3)][_0x6a916(0x4dc)]('.delete-file-shortcut-btn');if(_0x5a3327)openFileShortcutEditor(_0x5a3327[_0x6a916(0x7a0)]['id']);else{if(_0x443268){const _0x3d44d8=_0x443268['dataset']['id'];showConfirmation(_0x6a916(0x366),async()=>{const _0x4ff110=_0x6a916,_0x2ee2fb=fileShortcuts['filter'](_0x25c6a1=>_0x25c6a1['id']!==_0x3d44d8),_0x1af095=doc(db,_0x4ff110(0x302),_0x4ff110(0x238));await setDoc(_0x1af095,{'shortcuts':_0x2ee2fb},{'merge':!![]});});}else _0x3a26b2&&handleFileShortcutClick(_0x3a26b2[_0x6a916(0x7a0)]['id']);}}),document['getElementById'](_0x1ecc0d(0x26a))[_0x1ecc0d(0x161)]('click',()=>openFileShortcutEditor(null)),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x165))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x19a599=_0x1ecc0d;document[_0x19a599(0x597)]('file-shortcut-editor-modal')['classList'][_0x19a599(0x6e3)]('hidden');}),document[_0x1ecc0d(0x597)]('save-file-shortcut-btn')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),saveFileShortcutChanges),document[_0x1ecc0d(0x597)]('file-input-area')[_0x1ecc0d(0x161)]('click',_0x29dee8=>{const _0x1ff3a0=_0x1ecc0d;_0x29dee8[_0x1ff3a0(0xaa3)][_0x1ff3a0(0x4dc)](_0x1ff3a0(0x6d0))&&document[_0x1ff3a0(0x597)]('additional-file-shortcuts-modal')[_0x1ff3a0(0x7f0)][_0x1ff3a0(0x4bd)](_0x1ff3a0(0x9ac));}),document['getElementById'](_0x1ecc0d(0x890))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x4e3865=_0x1ecc0d;document[_0x4e3865(0x597)](_0x4e3865(0xa94))[_0x4e3865(0x7f0)]['add'](_0x4e3865(0x9ac));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x968))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),_0x8e48f7=>{const _0x2673e2=_0x1ecc0d,_0x557439=document['getElementById'](_0x2673e2(0xa94)),_0x9c8492=_0x8e48f7[_0x2673e2(0xaa3)]['closest'](_0x2673e2(0xa5e)),_0x6cfd29=_0x8e48f7['target'][_0x2673e2(0x4dc)]('.edit-hidden-file-shortcut-btn'),_0x1d21f6=_0x8e48f7[_0x2673e2(0xaa3)][_0x2673e2(0x4dc)](_0x2673e2(0x981));if(_0x9c8492)_0x557439[_0x2673e2(0x7f0)][_0x2673e2(0x6e3)](_0x2673e2(0x9ac)),handleFileShortcutClick(_0x9c8492[_0x2673e2(0x7a0)]['id']);else{if(_0x6cfd29)_0x557439[_0x2673e2(0x7f0)][_0x2673e2(0x6e3)](_0x2673e2(0x9ac)),openFileShortcutEditor(_0x6cfd29[_0x2673e2(0x7a0)]['id']);else{if(_0x1d21f6){const _0x412bcd=_0x1d21f6[_0x2673e2(0x7a0)]['id'];showConfirmation(_0x2673e2(0x366),async()=>{const _0x10861e=_0x2673e2,_0x5478a1=fileShortcuts[_0x10861e(0xa32)](_0x37c682=>_0x37c682['id']!==_0x412bcd),_0x1ed6b9=doc(db,_0x10861e(0x302),_0x10861e(0x238));await setDoc(_0x1ed6b9,{'shortcuts':_0x5478a1},{'merge':!![]});});}}}}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xc21))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),_0x12ca3c=>{const _0x31fb14=_0x1ecc0d;_0x12ca3c[_0x31fb14(0xaa3)][_0x31fb14(0x4dc)](_0x31fb14(0x63d))&&(activeShortcutTabId=_0x31fb14(0x52b),renderAdditionalShortcutsModal(),document[_0x31fb14(0x597)]('additional-shortcuts-modal')[_0x31fb14(0x7f0)][_0x31fb14(0x4bd)](_0x31fb14(0x9ac)));}),document[_0x1ecc0d(0x597)]('close-additional-shortcuts-btn')[_0x1ecc0d(0x161)]('click',()=>{const _0x1e6250=_0x1ecc0d;document[_0x1e6250(0x597)](_0x1e6250(0x411))[_0x1e6250(0x7f0)][_0x1e6250(0x6e3)](_0x1e6250(0x9ac));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x741))[_0x1ecc0d(0x161)]('click',_0x4b4ac7=>{const _0x3ff080=_0x1ecc0d,_0x3c471a=_0x4b4ac7[_0x3ff080(0xaa3)][_0x3ff080(0x4dc)](_0x3ff080(0x241)),_0x28d13b=_0x4b4ac7[_0x3ff080(0xaa3)][_0x3ff080(0x4dc)](_0x3ff080(0xbae)),_0x3843a7=_0x4b4ac7['target']['closest']('.delete-hidden-shortcut-btn'),_0xd9e6f7=document[_0x3ff080(0x597)]('additional-shortcuts-modal');if(_0x3c471a)_0xd9e6f7['classList']['add'](_0x3ff080(0x9ac)),handleShortcutClick(_0x3c471a[_0x3ff080(0x7a0)]['id']);else{if(_0x28d13b)_0xd9e6f7[_0x3ff080(0x7f0)][_0x3ff080(0x6e3)](_0x3ff080(0x9ac)),openShortcutEditor(_0x28d13b['dataset']['id']);else{if(_0x3843a7){const _0xc585bf=_0x3843a7[_0x3ff080(0x7a0)]['id'],_0x4b875f=blueprintShortcuts[_0x3ff080(0x1bc)](_0x3d3593=>_0x3d3593['id']===_0xc585bf)?.[_0x3ff080(0x309)];showConfirmation(_0x3ff080(0x37a)+_0x4b875f+'\x22?',async()=>{const _0x955443=_0x3ff080,_0x5034f9=blueprintShortcuts[_0x955443(0xa32)](_0x37c5c0=>_0x37c5c0['id']!==_0xc585bf);try{const _0x491b50=doc(db,_0x955443(0x302),_0x955443(0x322));await setDoc(_0x491b50,{'blueprintShortcuts':_0x5034f9},{'merge':!![]});}catch(_0x100ff6){console['error']('Error\x20deleting\x20shortcut:',_0x100ff6);}});}}}}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xade))['addEventListener'](_0x1ecc0d(0x82f),_0x488d35=>{const _0x30ed7d=_0x1ecc0d,_0x2c89f5=_0x488d35['target']['closest']('.shortcut-btn'),_0x308d82=_0x488d35[_0x30ed7d(0xaa3)][_0x30ed7d(0x4dc)](_0x30ed7d(0x825)),_0x5aa6d2=_0x488d35['target']['closest'](_0x30ed7d(0x72e));if(_0x308d82)openShortcutEditor(_0x308d82[_0x30ed7d(0x7a0)]['id']);else{if(_0x5aa6d2){const _0x493a15=_0x5aa6d2[_0x30ed7d(0x7a0)]['id'],_0x2e959f=blueprintShortcuts[_0x30ed7d(0x1bc)](_0x28609c=>_0x28609c['id']===_0x493a15)?.[_0x30ed7d(0x309)];showConfirmation(_0x30ed7d(0x37a)+_0x2e959f+'\x22?',async()=>{const _0x3989cd=_0x30ed7d,_0x536ad7=blueprintShortcuts['filter'](_0x56d5ff=>_0x56d5ff['id']!==_0x493a15);try{const _0x15c2cb=doc(db,_0x3989cd(0x302),'dashboardConfig');await setDoc(_0x15c2cb,{'blueprintShortcuts':_0x536ad7},{'merge':!![]});}catch(_0x282bf2){console[_0x3989cd(0x20d)](_0x3989cd(0x900),_0x282bf2);}});}else _0x2c89f5&&handleShortcutClick(_0x2c89f5[_0x30ed7d(0x7a0)]['id']);}}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x75c))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>openShortcutEditor(null)),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xc9d))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x35a684=_0x1ecc0d;document[_0x35a684(0x597)](_0x35a684(0x1d2))['classList'][_0x35a684(0x6e3)](_0x35a684(0x9ac));}),document['getElementById'](_0x1ecc0d(0x5b7))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),saveShortcutChanges),document[_0x1ecc0d(0x597)]('generate-from-blueprint-btn')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),async()=>{const _0x419ff2=_0x1ecc0d,_0x86e0b5=document[_0x419ff2(0x597)]('blueprint-upload-input'),_0x1ac23e=document[_0x419ff2(0x597)]('reference-pdf-upload');_0x86e0b5[_0x419ff2(0xcaa)]['length']>0x0?await handleGenerateFromBlueprintWithFiles(_0x86e0b5[_0x419ff2(0xcaa)][0x0],_0x1ac23e['files'][0x0]||null):showMessage(_0x419ff2(0x859));}),document[_0x1ecc0d(0x597)]('topic-quiz-bank-modal')[_0x1ecc0d(0x161)]('click',async _0x4e3ee1=>{const _0x2428ee=_0x1ecc0d,_0x183c51=document['getElementById'](_0x2428ee(0x13c)),_0x293d7a=_0x4e3ee1[_0x2428ee(0xaa3)][_0x2428ee(0x4dc)](_0x2428ee(0x447)),_0x44b354=_0x4e3ee1[_0x2428ee(0xaa3)]['closest'](_0x2428ee(0x99d)),_0x3e4d19=_0x4e3ee1['target'][_0x2428ee(0x4dc)](_0x2428ee(0x5d5)),_0x4f6a53=_0x4e3ee1[_0x2428ee(0xaa3)][_0x2428ee(0x4dc)](_0x2428ee(0x23e)),_0x3c5443=_0x4e3ee1[_0x2428ee(0xaa3)][_0x2428ee(0x4dc)](_0x2428ee(0xbf7)),_0x5ad75a=_0x4e3ee1[_0x2428ee(0xaa3)]['closest']('.bp-game-btn');if(_0x293d7a){cameFromBlueprint=!![];const _0x224620=_0x293d7a[_0x2428ee(0x7a0)][_0x2428ee(0x7e0)];showQuizDetailView(_0x224620),_0x183c51['classList'][_0x2428ee(0x6e3)](_0x2428ee(0x9ac));}else{if(_0x44b354){const _0x11c928=_0x44b354[_0x2428ee(0x7a0)][_0x2428ee(0x2c6)],_0x495304=_0x44b354[_0x2428ee(0x7a0)][_0x2428ee(0x7e0)],_0x15b387=allQuizzesGlobal[_0x2428ee(0x1bc)](_0x5806b4=>_0x5806b4['id']===_0x495304),_0x257d2b=_0x15b387?_0x15b387[_0x2428ee(0xc41)]:'รายการนี้';showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0x257d2b+_0x2428ee(0x524),async()=>{const _0x49aebb=_0x2428ee;try{const _0x52bb87=doc(db,'artifacts/'+appId+_0x49aebb(0x8ae),currentBlueprintProjectId);await updateDoc(_0x52bb87,{[_0x49aebb(0x319)+_0x11c928+'.linkedQuizIds']:arrayRemove(_0x495304)}),showMessage(_0x49aebb(0x90f)),openTopicQuizBank(_0x11c928),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1a6645){console[_0x49aebb(0x20d)](_0x49aebb(0x9e8),_0x1a6645),showMessage(_0x49aebb(0x367));}});}else{if(_0x3e4d19){cameFromBlueprint=!![];const _0x459a9b=_0x3e4d19['dataset'][_0x2428ee(0x7e0)],_0x385803=allQuizzesGlobal[_0x2428ee(0x1bc)](_0x27d810=>_0x27d810['id']===_0x459a9b);_0x385803&&(startPresentation(_0x385803),_0x183c51['classList'][_0x2428ee(0x6e3)](_0x2428ee(0x9ac)));}else{if(_0x4f6a53){cameFromBlueprint=!![];const _0x584a64=_0x4f6a53[_0x2428ee(0x7a0)]['quizId'],_0x36e3c7=allQuizzesGlobal[_0x2428ee(0x1bc)](_0x511d77=>_0x511d77['id']===_0x584a64);_0x36e3c7&&(currentQuizData=_0x36e3c7,startAdminTest(),_0x183c51['classList']['add'](_0x2428ee(0x9ac)));}else{if(_0x3c5443)cameFromBlueprint=!![],handleStartLiveRace(_0x3c5443[_0x2428ee(0x7a0)]['quizId']),_0x183c51[_0x2428ee(0x7f0)][_0x2428ee(0x6e3)](_0x2428ee(0x9ac));else{if(_0x5ad75a){cameFromBlueprint=!![];const _0x5e8be1=_0x5ad75a[_0x2428ee(0x7a0)][_0x2428ee(0x7e0)],_0x36fdff=_0x5ad75a[_0x2428ee(0x7a0)][_0x2428ee(0x1f7)],_0x40083c=allQuizzesGlobal['find'](_0x857c15=>_0x857c15['id']===_0x5e8be1);_0x40083c&&(showGameStartConfirmationModal(_0x5e8be1,_0x36fdff,_0x40083c[_0x2428ee(0xc41)]),_0x183c51[_0x2428ee(0x7f0)][_0x2428ee(0x6e3)](_0x2428ee(0x9ac)));}}}}}}}),document['getElementById']('manual-create-blueprint-btn')['addEventListener'](_0x1ecc0d(0x82f),()=>{const _0x241d06=_0x1ecc0d;document[_0x241d06(0x597)]('manual-blueprint-modal')[_0x241d06(0x7f0)][_0x241d06(0x4bd)](_0x241d06(0x9ac)),document[_0x241d06(0x597)]('manual-bp-project-name')[_0x241d06(0x6f7)]='',document[_0x241d06(0x597)]('manual-bp-grade-level')[_0x241d06(0x6f7)]='',document['getElementById']('manual-bp-content')[_0x241d06(0x6f7)]='';}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x877))['addEventListener'](_0x1ecc0d(0x82f),()=>{const _0x101db6=_0x1ecc0d;document['getElementById']('manual-blueprint-modal')[_0x101db6(0x7f0)]['add']('hidden');}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xa6e))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),handleManualBlueprintSave),document[_0x1ecc0d(0x597)]('cancel-bp-settings-btn')['addEventListener'](_0x1ecc0d(0x82f),()=>document[_0x1ecc0d(0x597)]('blueprint-settings-modal')[_0x1ecc0d(0x7f0)]['add'](_0x1ecc0d(0x9ac))),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x3b5))[_0x1ecc0d(0x161)]('click',handleSaveBlueprintPageSettings),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xb2c))[_0x1ecc0d(0x161)]('click',openBlueprintQuizSettings),document[_0x1ecc0d(0x597)]('save-blueprint-as-project-btn')[_0x1ecc0d(0x161)]('click',saveBlueprintProject),document[_0x1ecc0d(0x597)]('open-blueprint-projects-btn')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),showBlueprintProjects),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x671))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x1badc0=_0x1ecc0d;document[_0x1badc0(0x597)](_0x1badc0(0x1ee))[_0x1badc0(0x7f0)][_0x1badc0(0x6e3)](_0x1badc0(0x9ac));}),document[_0x1ecc0d(0x597)]('blueprint-project-list')['addEventListener'](_0x1ecc0d(0x82f),_0x527ed5=>{const _0x3f1169=_0x1ecc0d,_0x3c457b=_0x527ed5['target']['closest']('.open-bp-project-btn'),_0x17a1a0=_0x527ed5[_0x3f1169(0xaa3)]['closest'](_0x3f1169(0x6f6));if(_0x3c457b)displayBlueprintProjectManager(_0x3c457b[_0x3f1169(0x7a0)]['id']);else _0x17a1a0&&handleDeepDeleteBlueprintProject(_0x17a1a0[_0x3f1169(0x7a0)]['id']);}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xb29))['addEventListener']('click',()=>{const _0xd95a5a=_0x1ecc0d;currentBlueprintProjectId=null,currentProjectId=null,document[_0xd95a5a(0x597)](_0xd95a5a(0xa01))[_0xd95a5a(0x7f0)][_0xd95a5a(0x6e3)](_0xd95a5a(0x9ac)),showView(_0xd95a5a(0x2eb));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xc23))[_0x1ecc0d(0x161)]('click',addTopicToProject),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x763))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),async _0x292e1d=>{const _0x31b7b5=_0x1ecc0d,_0x572406=_0x292e1d[_0x31b7b5(0xaa3)][_0x31b7b5(0x4dc)](_0x31b7b5(0x349));if(!_0x572406)return;const _0x278aed=_0x572406[_0x31b7b5(0x7a0)][_0x31b7b5(0x2c6)],_0x4424d0=_0x292e1d[_0x31b7b5(0xaa3)][_0x31b7b5(0x4dc)](_0x31b7b5(0x30a)),_0x4090a7=_0x292e1d[_0x31b7b5(0xaa3)]['closest'](_0x31b7b5(0x20b)),_0x3ce2c1=_0x292e1d[_0x31b7b5(0xaa3)][_0x31b7b5(0x4dc)]('.bp-create-topic-quiz-btn'),_0x196448=_0x292e1d['target'][_0x31b7b5(0x4dc)](_0x31b7b5(0x9cd)),_0x1658ff=_0x292e1d[_0x31b7b5(0xaa3)][_0x31b7b5(0x4dc)](_0x31b7b5(0xbf9)),_0x1c4daf=_0x292e1d[_0x31b7b5(0xaa3)][_0x31b7b5(0x4dc)]('.bp-generate-lesson-btn'),_0x278b3b=_0x292e1d[_0x31b7b5(0xaa3)]['closest'](_0x31b7b5(0x60b)),_0xc51392=_0x292e1d[_0x31b7b5(0xaa3)]['closest'](_0x31b7b5(0x7b8)),_0x31f4d4=_0x480a2c=>{const _0x55cbdd=_0x31b7b5,_0x13a8ba=_0x480a2c[_0x55cbdd(0x7b3)](_0x55cbdd(0xc2e))['textContent']['trim'](),_0x11fed3=_0x480a2c['closest'](_0x55cbdd(0x428))[_0x55cbdd(0x8d6)],_0x5a1770=_0x11fed3?_0x11fed3['textContent']['trim']():'';return _0x5a1770+':\x20'+_0x13a8ba;};if(_0x196448)openTopicQuizBank(_0x278aed);else{if(_0x4424d0){const _0x535c34=_0x31f4d4(_0x572406);selectProjectAndGenerateBlueprintQuiz(_0x535c34,null,_0x278aed,!![]);}else{if(_0x4090a7){const _0xf9cd1d=_0x31f4d4(_0x572406);try{const _0x499301=doc(db,'artifacts/'+appId+_0x31b7b5(0x13a)+currentBlueprintProjectId+_0x31b7b5(0xbb7),_0x278aed),_0x5d29eb=await getDoc(_0x499301);if(_0x5d29eb[_0x31b7b5(0xabe)]()){const _0x249622=_0x5d29eb['data']()['content'],_0x2321c0=document['createElement'](_0x31b7b5(0xc64)),_0x43e9fd=_0x3fde8f=>{const _0x275616=_0x31b7b5;if(!_0x3fde8f)return'';return _0x2321c0['innerHTML']=_0x3fde8f,_0x2321c0[_0x275616(0x3a6)]||_0x2321c0[_0x275616(0x7b9)]||'';},_0x7f7773=(_0x43e9fd(_0x249622[_0x31b7b5(0x235)])+'\x20'+_0x43e9fd(_0x249622[_0x31b7b5(0x501)])+'\x20'+_0x43e9fd(_0x249622[_0x31b7b5(0x406)]))[_0x31b7b5(0x365)]();selectProjectAndGenerateBlueprintQuiz(_0xf9cd1d,_0x7f7773,_0x278aed,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x2dfcce){console['error'](_0x31b7b5(0xc1a),_0x2dfcce),showMessage(_0x31b7b5(0x358));}}else{if(_0x3ce2c1){const _0x3786eb=_0x31f4d4(_0x572406);selectProjectAndGenerateBlueprintQuiz(_0x3786eb,null,_0x278aed,![]);}else{if(_0x1658ff){const _0x5c4178=doc(db,'artifacts/'+appId+_0x31b7b5(0x8ae),currentBlueprintProjectId),_0x4b72c6=await getDoc(_0x5c4178);if(_0x4b72c6[_0x31b7b5(0xabe)]()){const _0x105023=_0x4b72c6['data'](),_0x4723f9=_0x105023[_0x31b7b5(0x46a)][_0x278aed];if(_0x4723f9&&_0x4723f9[_0x31b7b5(0x9e6)]===_0x31b7b5(0x484))try{const _0x9c954a=doc(db,_0x31b7b5(0xc07)+appId+_0x31b7b5(0x13a)+currentBlueprintProjectId+'/lessons',_0x278aed),_0x20ea08=await getDoc(_0x9c954a);if(_0x20ea08[_0x31b7b5(0xabe)]()){const _0x1ced87=_0x20ea08[_0x31b7b5(0x533)]()[_0x31b7b5(0x4d0)];document['getElementById'](_0x31b7b5(0xb7a))[_0x31b7b5(0x3a6)]=_0x31b7b5(0x7c2)+_0x31f4d4(_0x572406),document[_0x31b7b5(0x597)](_0x31b7b5(0xb17))[_0x31b7b5(0x2fe)]=_0x1ced87['point'],document[_0x31b7b5(0x597)](_0x31b7b5(0xa07))['innerHTML']=_0x1ced87[_0x31b7b5(0x501)],document['getElementById'](_0x31b7b5(0x698))['innerHTML']=_0x1ced87[_0x31b7b5(0x406)];const _0x4749a5=document[_0x31b7b5(0x597)](_0x31b7b5(0xc6f));_0x1ced87[_0x31b7b5(0x148)]?(currentApplicationData=_0x1ced87[_0x31b7b5(0x148)],_0x4749a5[_0x31b7b5(0x2fe)]=currentApplicationData[_0x31b7b5(0x9ca)]((_0xc566a3,_0x27b378)=>_0x31b7b5(0x6c4)+(_0x27b378+0x1)+'.\x20'+marked['parseInline'](_0xc566a3['question'])+_0x31b7b5(0x530)+_0x27b378+_0x31b7b5(0x764)+_0xc566a3[_0x31b7b5(0x6c2)][_0x31b7b5(0x9ca)]((_0x3fb528,_0x327b7f)=>_0x31b7b5(0x295)+_0x27b378+',\x20'+_0x327b7f+_0x31b7b5(0x2d7)+String[_0x31b7b5(0x400)](0x61+_0x327b7f)+'.\x20'+marked[_0x31b7b5(0x5c9)](_0x3fb528)+_0x31b7b5(0xbee))[_0x31b7b5(0x552)]('')+_0x31b7b5(0x4a4))[_0x31b7b5(0x552)]('')):(currentApplicationData=[],_0x4749a5[_0x31b7b5(0x2fe)]=_0x1ced87[_0x31b7b5(0x17e)]||_0x1ced87['application']),document[_0x31b7b5(0x597)](_0x31b7b5(0x271))[_0x31b7b5(0x7f0)][_0x31b7b5(0x6e3)](_0x31b7b5(0x9ac)),document['getElementById'](_0x31b7b5(0x702))[_0x31b7b5(0x7f0)]['remove'](_0x31b7b5(0x9ac)),document[_0x31b7b5(0x597)](_0x31b7b5(0x98c))[_0x31b7b5(0x7f0)]['remove'](_0x31b7b5(0x9ac)),window[_0x31b7b5(0x2e3)]&&MathJax[_0x31b7b5(0x4b8)]([document[_0x31b7b5(0x597)](_0x31b7b5(0x8a5))]);}else showMessage(_0x31b7b5(0x9de));}catch(_0x1a7d04){console[_0x31b7b5(0x20d)](_0x31b7b5(0x85a),_0x1a7d04),showMessage(_0x31b7b5(0xc44));}else showMessage(_0x31b7b5(0x53e));}}else{if(_0x1c4daf){const _0x5b70e0=_0x31f4d4(_0x572406),_0x421428=doc(db,_0x31b7b5(0xc07)+appId+_0x31b7b5(0x8ae),currentBlueprintProjectId),_0x19a32f=await getDoc(_0x421428);if(_0x19a32f['exists']()){const _0x2972ca=_0x19a32f['data']();generateAndSaveLessonForBlueprint(_0x278aed,_0x5b70e0,_0x2972ca[_0x31b7b5(0x29f)]);}}else{if(_0x278b3b)editTopicInProject(_0x278aed);else _0xc51392&&deleteTopicFromProject(_0x278aed);}}}}}}}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x2a0))['addEventListener'](_0x1ecc0d(0x82f),handleFixLessonLatex),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x816))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),handleExportLessonToPDF),document[_0x1ecc0d(0x597)]('close-lesson-view-btn')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x338d04=_0x1ecc0d;document[_0x338d04(0x597)]('lesson-view-modal')[_0x338d04(0x7f0)][_0x338d04(0x6e3)]('hidden');});const _0xc1f3b7=document[_0x1ecc0d(0x597)]('bulk-confidence-scoring-checkbox'),_0x587659=document['getElementById'](_0x1ecc0d(0x89a));_0xc1f3b7[_0x1ecc0d(0x161)](_0x1ecc0d(0xa7d),()=>{const _0x52c2ef=_0x1ecc0d;_0x587659[_0x52c2ef(0x7f0)][_0x52c2ef(0x8eb)](_0x52c2ef(0x9ac),!_0xc1f3b7[_0x52c2ef(0x641)]);});const _0x8f5d95=document[_0x1ecc0d(0x597)](_0x1ecc0d(0x290)),_0x3a9c3c=document[_0x1ecc0d(0x597)](_0x1ecc0d(0x593));_0x8f5d95[_0x1ecc0d(0x161)](_0x1ecc0d(0xa7d),()=>{const _0x551c89=_0x1ecc0d;_0x3a9c3c[_0x551c89(0x7f0)]['toggle']('hidden',!_0x8f5d95[_0x551c89(0x641)]);});const _0x384941=document[_0x1ecc0d(0x597)](_0x1ecc0d(0xbed)),_0x57a391=document[_0x1ecc0d(0x597)]('modal-confidence-mode-container');_0x384941['addEventListener']('change',()=>{const _0x1f3636=_0x1ecc0d;_0x57a391[_0x1f3636(0x7f0)][_0x1f3636(0x8eb)](_0x1f3636(0x9ac),!_0x384941[_0x1f3636(0x641)]);});const _0x22aec4=document[_0x1ecc0d(0x597)]('confidence-modal'),_0x9a60d3=async _0x17cd8b=>{const _0x17f832=_0x1ecc0d,_0x127a4a=document[_0x17f832(0x597)]('confidence-modal'),_0x16eb7a=_0x127a4a[_0x17f832(0x7a0)][_0x17f832(0x1db)],_0x8411cd=document[_0x17f832(0x597)](_0x17f832(0x2cc));_0x127a4a[_0x17f832(0x7f0)][_0x17f832(0x6e3)](_0x17f832(0x9ac));if(_0x16eb7a===_0x17f832(0x579)){const _0xd2381a=_0x8411cd[_0x17f832(0x6f7)],_0x186dfd={'answer':_0xd2381a,'wasConfident':_0x17cd8b};proceedToNextQuestion(_0x186dfd);}else{if(_0x16eb7a===_0x17f832(0xbf1)){const _0x5cd116=_0x8411cd[_0x17f832(0x7a0)][_0x17f832(0x3cb)],_0x638b96=JSON[_0x17f832(0x8ef)](_0x8411cd[_0x17f832(0x7a0)][_0x17f832(0x308)]),_0x3a6787=JSON[_0x17f832(0x8ef)](_0x8411cd[_0x17f832(0x7a0)][_0x17f832(0x258)]),_0x1a119b=_0x8411cd[_0x17f832(0x7a0)][_0x17f832(0x268)];handleSyncAnswerSubmit(_0x5cd116,_0x638b96,_0x3a6787,_0x1a119b,_0x17cd8b);}}_0x127a4a[_0x17f832(0x7a0)]['currentMode']='';};document[_0x1ecc0d(0x597)](_0x1ecc0d(0x398))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>_0x9a60d3(!![])),document['getElementById'](_0x1ecc0d(0x635))['addEventListener']('click',()=>_0x9a60d3(![])),liveGameView[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),_0x107867=>{const _0x446813=_0x1ecc0d,_0x9bf654=_0x107867['target']['closest'](_0x446813(0x111));if(_0x9bf654){const _0x345687=_0x9bf654['dataset'][_0x446813(0x268)];_0x345687&&handleKickPlayerSync(_0x345687);}});const _0x46c292=document[_0x1ecc0d(0x597)](_0x1ecc0d(0x4e9)),_0x36cde5=document[_0x1ecc0d(0x597)]('cancel-game-start-btn');_0x36cde5[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0xccf80c=_0x1ecc0d;document['getElementById'](_0xccf80c(0x681))[_0xccf80c(0x7f0)][_0xccf80c(0x6e3)](_0xccf80c(0x9ac));}),_0x46c292[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0xcde2b2=_0x1ecc0d,_0x35ac22=document[_0xcde2b2(0x597)](_0xcde2b2(0x75d))[_0xcde2b2(0x6f7)],_0x4ce93a=document[_0xcde2b2(0x597)](_0xcde2b2(0x9b5))['value'],_0x533d4a=document['getElementById'](_0xcde2b2(0x68f))['checked'];document[_0xcde2b2(0x597)](_0xcde2b2(0x681))[_0xcde2b2(0x7f0)]['add'](_0xcde2b2(0x9ac));switch(_0x4ce93a){case _0xcde2b2(0xbc6):handleStartLiveRace(_0x35ac22,_0x533d4a);break;case _0xcde2b2(0x6b8):handleStartTeamQuiz(_0x35ac22,_0x533d4a);break;case _0xcde2b2(0x965):handleStartGroupMode(_0x35ac22,_0x533d4a);break;case _0xcde2b2(0xbf1):handleStartSyncMode(_0x35ac22,_0x533d4a);break;}}),document[_0x1ecc0d(0x597)]('join-group-activity-btn')['addEventListener'](_0x1ecc0d(0x82f),handleJoinGroupActivity),liveGameView[_0x1ecc0d(0x161)]('click',_0x3e8dcc=>{const _0x33d44c=_0x1ecc0d,_0x2f8c0d=_0x3e8dcc[_0x33d44c(0xaa3)]['closest']('.summary-bar-item');document[_0x33d44c(0x40f)]('.live-summary-tooltip.visible')[_0x33d44c(0xb68)](_0x13de7c=>{const _0x20b0d4=_0x33d44c;(!_0x2f8c0d||_0x13de7c['id']!==_0x2f8c0d[_0x20b0d4(0x7a0)]['tooltipTarget'])&&_0x13de7c['classList'][_0x20b0d4(0x4bd)](_0x20b0d4(0x8f2));});if(!_0x2f8c0d)return;const _0x45fa63=_0x2f8c0d[_0x33d44c(0x7a0)]['tooltipTarget'],_0x36a3e9=document['getElementById'](_0x45fa63);_0x36a3e9&&_0x36a3e9[_0x33d44c(0x7f0)][_0x33d44c(0x8eb)](_0x33d44c(0x8f2));}),liveGameView[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),_0x3ded33=>{const _0x4feea4=_0x1ecc0d;if(_0x3ded33[_0x4feea4(0xaa3)][_0x4feea4(0x7f0)][_0x4feea4(0x1ef)](_0x4feea4(0x25e))){const _0x69a039=_0x3ded33[_0x4feea4(0xaa3)]['dataset'][_0x4feea4(0x268)];_0x69a039&&handleKickPlayer(_0x69a039);}}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x73a))[_0x1ecc0d(0x161)]('focus',()=>document[_0x1ecc0d(0x597)](_0x1ecc0d(0x8db))[_0x1ecc0d(0x7f0)][_0x1ecc0d(0x4bd)](_0x1ecc0d(0x9ac))),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x8db))[_0x1ecc0d(0x161)]('click',handleSaveProjectName),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x73a))['addEventListener'](_0x1ecc0d(0x4b7),_0x22846b=>{const _0x479c6c=_0x1ecc0d;_0x22846b[_0x479c6c(0x555)]===_0x479c6c(0x7f5)&&(_0x22846b[_0x479c6c(0x3f5)](),_0x22846b[_0x479c6c(0xaa3)][_0x479c6c(0x3e4)](),handleSaveProjectName());}),document['getElementById'](_0x1ecc0d(0xa67))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x2e4c14=_0x1ecc0d;document[_0x2e4c14(0x597)](_0x2e4c14(0x985))['classList']['remove'](_0x2e4c14(0x9ac));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x25f))['addEventListener']('click',()=>{const _0xcf9ce0=_0x1ecc0d;document[_0xcf9ce0(0x597)](_0xcf9ce0(0x985))[_0xcf9ce0(0x7f0)][_0xcf9ce0(0x6e3)](_0xcf9ce0(0x9ac));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xc67))['addEventListener'](_0x1ecc0d(0x82f),handleBulkUpdateQuizSettings),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x80f))[_0x1ecc0d(0x161)]('click',handleModeSwitch),document[_0x1ecc0d(0x597)]('update-old-quizzes-btn')[_0x1ecc0d(0x161)]('click',handleUpdateOldQuizzes),document['getElementById'](_0x1ecc0d(0xa99))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),handleResetProjectOrder),document['getElementById'](_0x1ecc0d(0x8ad))['addEventListener'](_0x1ecc0d(0x82f),handleSaveVisibilitySettings),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x942))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),handleAddCustomMathTopic),document[_0x1ecc0d(0x597)]('select-all-topics-btn')['addEventListener'](_0x1ecc0d(0x82f),handleSelectAllTopics),document['getElementById'](_0x1ecc0d(0x39c))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),handleDeselectAllTopics),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xb61))['addEventListener'](_0x1ecc0d(0x82f),()=>{const _0x364da1=_0x1ecc0d;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x364da1(0x2eb));}}),document['getElementById'](_0x1ecc0d(0x2a3))[_0x1ecc0d(0x161)]('click',()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xa13))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x55ecc6=_0x1ecc0d;showView(_0x55ecc6(0x2eb));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x21e))[_0x1ecc0d(0x161)]('click',()=>{const _0x449fb6=_0x1ecc0d;messageModal[_0x449fb6(0x7f0)][_0x449fb6(0x6e3)]('hidden'),typeof modalConfirmAction===_0x449fb6(0x376)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xaf1))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>createProjectModal[_0x1ecc0d(0x7f0)][_0x1ecc0d(0x4bd)]('hidden')),document[_0x1ecc0d(0x597)]('cancel-create-project-btn')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>createProjectModal[_0x1ecc0d(0x7f0)][_0x1ecc0d(0x6e3)](_0x1ecc0d(0x9ac))),document['getElementById'](_0x1ecc0d(0x4fa))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>adminPasswordModal[_0x1ecc0d(0x7f0)][_0x1ecc0d(0x6e3)](_0x1ecc0d(0x9ac))),document['getElementById'](_0x1ecc0d(0x6f9))['addEventListener'](_0x1ecc0d(0x82f),handleAdminLogin),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x588))[_0x1ecc0d(0x161)]('keyup',_0x1812d9=>{const _0xa5e71d=_0x1ecc0d;if(_0x1812d9[_0xa5e71d(0x555)]==='Enter')handleAdminLogin();}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xabc))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x8d7196=_0x1ecc0d;confirmationModal[_0x8d7196(0x7f0)][_0x8d7196(0x6e3)](_0x8d7196(0x9ac)),confirmAction=null;}),document['getElementById'](_0x1ecc0d(0xa73))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x256f99=_0x1ecc0d;confirmAction&&confirmAction(),confirmationModal[_0x256f99(0x7f0)][_0x256f99(0x6e3)]('hidden'),confirmAction=null;}),document[_0x1ecc0d(0x597)]('cancel-rename-quiz-btn')['addEventListener'](_0x1ecc0d(0x82f),()=>renameQuizModal[_0x1ecc0d(0x7f0)][_0x1ecc0d(0x6e3)](_0x1ecc0d(0x9ac))),document['getElementById'](_0x1ecc0d(0x99b))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),confirmRenameQuiz),document[_0x1ecc0d(0x597)]('cancel-move-quiz-btn')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>moveQuizModal[_0x1ecc0d(0x7f0)][_0x1ecc0d(0x6e3)](_0x1ecc0d(0x9ac))),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x5c8))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),confirmMoveQuiz),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x4dd))['addEventListener'](_0x1ecc0d(0x82f),()=>quizSettingsModal[_0x1ecc0d(0x7f0)]['add'](_0x1ecc0d(0x9ac))),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x679))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),confirmQuizSettings),document[_0x1ecc0d(0x597)]('cancel-quiz-status-btn')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>quizStatusModal['classList'][_0x1ecc0d(0x6e3)](_0x1ecc0d(0x9ac))),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x1b1))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),confirmQuizStatus);const _0x3d04d0=document[_0x1ecc0d(0x597)]('export-pdf-modal');document[_0x1ecc0d(0x597)](_0x1ecc0d(0x5db))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x579750=_0x1ecc0d;_0x3d04d0[_0x579750(0x7f0)]['add']('hidden');}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x363))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),async()=>{const _0xf012a3=_0x1ecc0d,_0x39aa45=allQuizzes['find'](_0x17f3d1=>_0x17f3d1['id']===actionTargetId);_0x39aa45?(currentQuizData=_0x39aa45,exportQuizAsWorksheetPDF()):showMessage(_0xf012a3(0x64c)),_0x3d04d0[_0xf012a3(0x7f0)]['add']('hidden');}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xbbc))[_0x1ecc0d(0x161)]('click',async()=>{const _0x36b129=_0x1ecc0d,_0x559cc6=allQuizzes[_0x36b129(0x1bc)](_0x5e8b58=>_0x5e8b58['id']===actionTargetId);_0x559cc6?(currentQuizData=_0x559cc6,exportQuizAsTutorPDF()):showMessage(_0x36b129(0x64c)),_0x3d04d0[_0x36b129(0x7f0)][_0x36b129(0x6e3)](_0x36b129(0x9ac));});const _0x158ae7=document[_0x1ecc0d(0x597)](_0x1ecc0d(0x812));_0x158ae7[_0x1ecc0d(0x2fe)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x158ae7[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),openGlobalActivityModal),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x66d))['addEventListener'](_0x1ecc0d(0x82f),()=>{const _0x2a9b07=_0x1ecc0d;document[_0x2a9b07(0x597)](_0x2a9b07(0xa63))[_0x2a9b07(0x7f0)][_0x2a9b07(0x6e3)]('hidden');}),document[_0x1ecc0d(0x597)]('global-quiz-search-input')[_0x1ecc0d(0x161)](_0x1ecc0d(0x4ba),_0x5aa4d6=>{const _0xf29c22=_0x1ecc0d;renderGlobalActivityList(_0x5aa4d6[_0xf29c22(0xaa3)]['value']);}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x2f6))[_0x1ecc0d(0x161)]('click',_0xe6580a=>{const _0x79c61b=_0x1ecc0d,_0x375981=_0xe6580a['target'][_0x79c61b(0x4dc)](_0x79c61b(0xa7e));if(!_0x375981)return;const _0x38f299=_0x375981[_0x79c61b(0x7a0)]['id'],_0x3082c9=_0x375981['dataset']['mode'],_0x100dd4=allQuizzesGlobal['find'](_0x332414=>_0x332414['id']===_0x38f299);_0x100dd4&&(document['getElementById']('global-activity-modal')[_0x79c61b(0x7f0)][_0x79c61b(0x6e3)](_0x79c61b(0x9ac)),_0x3082c9===_0x79c61b(0xbc6)?handleStartLiveRace(_0x38f299):showGameStartConfirmationModal(_0x38f299,_0x3082c9,_0x100dd4['topic']));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x1ad))[_0x1ecc0d(0x161)]('input',renderProjects),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x5de))[_0x1ecc0d(0x161)](_0x1ecc0d(0xa7d),async()=>{const _0x43bb50=_0x1ecc0d,_0x51b350=document['getElementById'](_0x43bb50(0x5de))['value'],_0x57ed84=doc(db,_0x43bb50(0x302),_0x43bb50(0x322));try{await setDoc(_0x57ed84,{'projectSort':_0x51b350},{'merge':!![]});}catch(_0x4b8a19){console[_0x43bb50(0x20d)]('Error\x20updating\x20sort\x20preference:',_0x4b8a19),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xb39))[_0x1ecc0d(0x161)](_0x1ecc0d(0x4ba),renderQuizzes),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xb55))['addEventListener'](_0x1ecc0d(0x82f),()=>{const _0x3e6c1b=_0x1ecc0d;globalDashboardSettings[_0x3e6c1b(0x888)]=_0x3e6c1b(0x32c),saveUserPreference(_0x3e6c1b(0x888),_0x3e6c1b(0x32c)),renderProjects();}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x18e))[_0x1ecc0d(0x161)]('click',()=>{const _0x5bc424=_0x1ecc0d;globalDashboardSettings[_0x5bc424(0x888)]=_0x5bc424(0x7c9),saveUserPreference(_0x5bc424(0x888),_0x5bc424(0x7c9)),renderProjects();}),manageTab[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>switchProjectTab(_0x1ecc0d(0x95b))),resultsTab[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>switchProjectTab(_0x1ecc0d(0xb25))),leaderboardTab['addEventListener'](_0x1ecc0d(0x82f),()=>switchProjectTab(_0x1ecc0d(0x432))),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x9ea))['addEventListener'](_0x1ecc0d(0x82f),()=>switchQuizDetailTab('analytics')),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x655))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>switchQuizDetailTab(_0x1ecc0d(0x9bd))),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x8da))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>switchQuizDetailTab(_0x1ecc0d(0x576))),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x719))['addEventListener'](_0x1ecc0d(0x82f),()=>switchQuizDetailTab(_0x1ecc0d(0xa2b))),document[_0x1ecc0d(0x597)]('analyze-strengths-btn')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x1ecc0d(0x82f),generateWorksheet);const _0x3bb377=document[_0x1ecc0d(0x597)]('link-tab'),_0x23b7a4=document[_0x1ecc0d(0x597)]('link-input-area'),_0x10b537=document[_0x1ecc0d(0x597)](_0x1ecc0d(0x38f)),_0x1a573c=document[_0x1ecc0d(0x597)](_0x1ecc0d(0xc21)),_0x265584=document['getElementById'](_0x1ecc0d(0x1a8)),_0x213b1a=document[_0x1ecc0d(0x597)](_0x1ecc0d(0x618));topicTab[_0x1ecc0d(0x161)]('click',()=>{const _0x31117a=_0x1ecc0d;topicTab[_0x31117a(0x7f0)][_0x31117a(0x6e3)](_0x31117a(0xbe2)),textTab['classList'][_0x31117a(0x4bd)](_0x31117a(0xbe2)),fileTab['classList'][_0x31117a(0x4bd)](_0x31117a(0xbe2)),worksheetTab[_0x31117a(0x7f0)][_0x31117a(0x4bd)](_0x31117a(0xbe2));if(_0x3bb377)_0x3bb377['classList'][_0x31117a(0x4bd)]('active');if(_0x10b537)_0x10b537[_0x31117a(0x7f0)][_0x31117a(0x4bd)]('active');if(_0x265584)_0x265584[_0x31117a(0x7f0)]['remove']('active');topicInputArea[_0x31117a(0x7f0)][_0x31117a(0x4bd)](_0x31117a(0x9ac)),textInputArea['classList'][_0x31117a(0x6e3)](_0x31117a(0x9ac)),fileInputArea['classList'][_0x31117a(0x6e3)](_0x31117a(0x9ac)),worksheetInputArea['classList'][_0x31117a(0x6e3)]('hidden');if(_0x23b7a4)_0x23b7a4[_0x31117a(0x7f0)]['add'](_0x31117a(0x9ac));if(_0x1a573c)_0x1a573c[_0x31117a(0x7f0)]['add'](_0x31117a(0x9ac));if(_0x213b1a)_0x213b1a[_0x31117a(0x7f0)][_0x31117a(0x6e3)]('hidden');}),textTab[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x1918ef=_0x1ecc0d;textTab[_0x1918ef(0x7f0)]['add'](_0x1918ef(0xbe2)),topicTab[_0x1918ef(0x7f0)][_0x1918ef(0x4bd)](_0x1918ef(0xbe2)),fileTab[_0x1918ef(0x7f0)][_0x1918ef(0x4bd)](_0x1918ef(0xbe2)),worksheetTab[_0x1918ef(0x7f0)][_0x1918ef(0x4bd)](_0x1918ef(0xbe2));if(_0x3bb377)_0x3bb377[_0x1918ef(0x7f0)][_0x1918ef(0x4bd)](_0x1918ef(0xbe2));if(_0x10b537)_0x10b537['classList'][_0x1918ef(0x4bd)](_0x1918ef(0xbe2));if(_0x265584)_0x265584[_0x1918ef(0x7f0)][_0x1918ef(0x4bd)](_0x1918ef(0xbe2));textInputArea['classList'][_0x1918ef(0x4bd)](_0x1918ef(0x9ac)),topicInputArea['classList']['add'](_0x1918ef(0x9ac)),fileInputArea[_0x1918ef(0x7f0)]['add'](_0x1918ef(0x9ac)),worksheetInputArea[_0x1918ef(0x7f0)][_0x1918ef(0x6e3)](_0x1918ef(0x9ac));if(_0x23b7a4)_0x23b7a4[_0x1918ef(0x7f0)][_0x1918ef(0x6e3)](_0x1918ef(0x9ac));if(_0x1a573c)_0x1a573c[_0x1918ef(0x7f0)][_0x1918ef(0x6e3)](_0x1918ef(0x9ac));if(_0x213b1a)_0x213b1a[_0x1918ef(0x7f0)][_0x1918ef(0x6e3)](_0x1918ef(0x9ac));}),fileTab['addEventListener'](_0x1ecc0d(0x82f),()=>{const _0x5d5168=_0x1ecc0d;fileTab[_0x5d5168(0x7f0)]['add'](_0x5d5168(0xbe2)),topicTab[_0x5d5168(0x7f0)][_0x5d5168(0x4bd)]('active'),textTab[_0x5d5168(0x7f0)]['remove'](_0x5d5168(0xbe2)),worksheetTab[_0x5d5168(0x7f0)]['remove']('active');if(_0x3bb377)_0x3bb377[_0x5d5168(0x7f0)][_0x5d5168(0x4bd)](_0x5d5168(0xbe2));if(_0x10b537)_0x10b537['classList'][_0x5d5168(0x4bd)](_0x5d5168(0xbe2));if(_0x265584)_0x265584[_0x5d5168(0x7f0)][_0x5d5168(0x4bd)](_0x5d5168(0xbe2));fileInputArea[_0x5d5168(0x7f0)][_0x5d5168(0x4bd)](_0x5d5168(0x9ac)),topicInputArea[_0x5d5168(0x7f0)][_0x5d5168(0x6e3)]('hidden'),textInputArea[_0x5d5168(0x7f0)]['add'](_0x5d5168(0x9ac)),worksheetInputArea[_0x5d5168(0x7f0)][_0x5d5168(0x6e3)](_0x5d5168(0x9ac));if(_0x23b7a4)_0x23b7a4[_0x5d5168(0x7f0)]['add'](_0x5d5168(0x9ac));if(_0x1a573c)_0x1a573c['classList'][_0x5d5168(0x6e3)](_0x5d5168(0x9ac));if(_0x213b1a)_0x213b1a[_0x5d5168(0x7f0)][_0x5d5168(0x6e3)](_0x5d5168(0x9ac));}),worksheetTab[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x601ed2=_0x1ecc0d;worksheetTab[_0x601ed2(0x7f0)]['add'](_0x601ed2(0xbe2)),topicTab[_0x601ed2(0x7f0)][_0x601ed2(0x4bd)](_0x601ed2(0xbe2)),textTab[_0x601ed2(0x7f0)][_0x601ed2(0x4bd)](_0x601ed2(0xbe2)),fileTab[_0x601ed2(0x7f0)]['remove'](_0x601ed2(0xbe2));if(_0x3bb377)_0x3bb377[_0x601ed2(0x7f0)]['remove']('active');if(_0x10b537)_0x10b537[_0x601ed2(0x7f0)][_0x601ed2(0x4bd)]('active');if(_0x265584)_0x265584[_0x601ed2(0x7f0)][_0x601ed2(0x4bd)](_0x601ed2(0xbe2));worksheetInputArea['classList'][_0x601ed2(0x4bd)]('hidden'),topicInputArea[_0x601ed2(0x7f0)]['add'](_0x601ed2(0x9ac)),textInputArea[_0x601ed2(0x7f0)][_0x601ed2(0x6e3)](_0x601ed2(0x9ac)),fileInputArea['classList'][_0x601ed2(0x6e3)]('hidden');if(_0x23b7a4)_0x23b7a4['classList'][_0x601ed2(0x6e3)]('hidden');if(_0x1a573c)_0x1a573c[_0x601ed2(0x7f0)][_0x601ed2(0x6e3)](_0x601ed2(0x9ac));if(_0x213b1a)_0x213b1a[_0x601ed2(0x7f0)][_0x601ed2(0x6e3)](_0x601ed2(0x9ac));});const _0x26c4fb=document[_0x1ecc0d(0x597)]('bank-tab'),_0x59ca93=document['getElementById']('bank-input-area');_0x26c4fb&&_0x26c4fb['addEventListener'](_0x1ecc0d(0x82f),()=>{const _0xb76ac6=_0x1ecc0d;topicTab['classList'][_0xb76ac6(0x4bd)](_0xb76ac6(0xbe2)),textTab[_0xb76ac6(0x7f0)]['remove'](_0xb76ac6(0xbe2)),fileTab[_0xb76ac6(0x7f0)][_0xb76ac6(0x4bd)](_0xb76ac6(0xbe2)),worksheetTab[_0xb76ac6(0x7f0)][_0xb76ac6(0x4bd)](_0xb76ac6(0xbe2));if(_0x3bb377)_0x3bb377['classList']['remove'](_0xb76ac6(0xbe2));if(_0x10b537)_0x10b537[_0xb76ac6(0x7f0)]['remove'](_0xb76ac6(0xbe2));if(_0x265584)_0x265584[_0xb76ac6(0x7f0)][_0xb76ac6(0x4bd)](_0xb76ac6(0xbe2));_0x26c4fb[_0xb76ac6(0x7f0)][_0xb76ac6(0x6e3)](_0xb76ac6(0xbe2)),topicInputArea[_0xb76ac6(0x7f0)][_0xb76ac6(0x6e3)](_0xb76ac6(0x9ac)),textInputArea[_0xb76ac6(0x7f0)][_0xb76ac6(0x6e3)]('hidden'),fileInputArea[_0xb76ac6(0x7f0)][_0xb76ac6(0x6e3)](_0xb76ac6(0x9ac)),worksheetInputArea[_0xb76ac6(0x7f0)]['add'](_0xb76ac6(0x9ac));if(_0x23b7a4)_0x23b7a4[_0xb76ac6(0x7f0)]['add'](_0xb76ac6(0x9ac));if(_0x1a573c)_0x1a573c['classList'][_0xb76ac6(0x6e3)](_0xb76ac6(0x9ac));if(_0x213b1a)_0x213b1a[_0xb76ac6(0x7f0)]['add']('hidden');_0x59ca93[_0xb76ac6(0x7f0)]['remove'](_0xb76ac6(0x9ac)),displayQuestionBank();});_0x3bb377&&(_0x3bb377['addEventListener']('click',()=>{const _0x14b195=_0x1ecc0d;_0x3bb377[_0x14b195(0x7f0)][_0x14b195(0x6e3)](_0x14b195(0xbe2)),topicTab[_0x14b195(0x7f0)][_0x14b195(0x4bd)](_0x14b195(0xbe2)),textTab[_0x14b195(0x7f0)][_0x14b195(0x4bd)](_0x14b195(0xbe2)),fileTab['classList'][_0x14b195(0x4bd)](_0x14b195(0xbe2)),worksheetTab[_0x14b195(0x7f0)][_0x14b195(0x4bd)]('active');if(_0x10b537)_0x10b537[_0x14b195(0x7f0)][_0x14b195(0x4bd)](_0x14b195(0xbe2));if(_0x265584)_0x265584[_0x14b195(0x7f0)]['remove'](_0x14b195(0xbe2));_0x23b7a4[_0x14b195(0x7f0)][_0x14b195(0x4bd)](_0x14b195(0x9ac)),topicInputArea[_0x14b195(0x7f0)][_0x14b195(0x6e3)](_0x14b195(0x9ac)),textInputArea[_0x14b195(0x7f0)]['add'](_0x14b195(0x9ac)),fileInputArea[_0x14b195(0x7f0)][_0x14b195(0x6e3)](_0x14b195(0x9ac)),worksheetInputArea[_0x14b195(0x7f0)][_0x14b195(0x6e3)]('hidden');if(_0x1a573c)_0x1a573c['classList']['add'](_0x14b195(0x9ac));if(_0x213b1a)_0x213b1a['classList'][_0x14b195(0x6e3)](_0x14b195(0x9ac));}),document[_0x1ecc0d(0x597)]('generate-from-link-btn')['addEventListener']('click',handleGenerateFromLink));_0x10b537&&_0x10b537[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x4fcfa3=_0x1ecc0d;_0x10b537[_0x4fcfa3(0x7f0)][_0x4fcfa3(0x6e3)](_0x4fcfa3(0xbe2)),topicTab['classList']['remove'](_0x4fcfa3(0xbe2)),textTab[_0x4fcfa3(0x7f0)][_0x4fcfa3(0x4bd)](_0x4fcfa3(0xbe2)),fileTab[_0x4fcfa3(0x7f0)][_0x4fcfa3(0x4bd)]('active'),worksheetTab['classList'][_0x4fcfa3(0x4bd)](_0x4fcfa3(0xbe2));if(_0x3bb377)_0x3bb377[_0x4fcfa3(0x7f0)]['remove']('active');if(_0x26c4fb)_0x26c4fb['classList']['remove'](_0x4fcfa3(0xbe2));if(_0x265584)_0x265584[_0x4fcfa3(0x7f0)][_0x4fcfa3(0x4bd)](_0x4fcfa3(0xbe2));_0x1a573c[_0x4fcfa3(0x7f0)][_0x4fcfa3(0x4bd)](_0x4fcfa3(0x9ac)),topicInputArea['classList']['add']('hidden'),textInputArea[_0x4fcfa3(0x7f0)][_0x4fcfa3(0x6e3)](_0x4fcfa3(0x9ac)),fileInputArea[_0x4fcfa3(0x7f0)][_0x4fcfa3(0x6e3)]('hidden'),worksheetInputArea['classList']['add']('hidden');if(_0x23b7a4)_0x23b7a4[_0x4fcfa3(0x7f0)][_0x4fcfa3(0x6e3)]('hidden');if(_0x59ca93)_0x59ca93['classList'][_0x4fcfa3(0x6e3)]('hidden');if(_0x213b1a)_0x213b1a['classList'][_0x4fcfa3(0x6e3)]('hidden');});_0x265584&&_0x265584[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x65b0e3=_0x1ecc0d;_0x265584[_0x65b0e3(0x7f0)][_0x65b0e3(0x6e3)](_0x65b0e3(0xbe2)),topicTab['classList'][_0x65b0e3(0x4bd)](_0x65b0e3(0xbe2)),textTab[_0x65b0e3(0x7f0)][_0x65b0e3(0x4bd)]('active'),fileTab['classList'][_0x65b0e3(0x4bd)](_0x65b0e3(0xbe2)),worksheetTab[_0x65b0e3(0x7f0)][_0x65b0e3(0x4bd)](_0x65b0e3(0xbe2));if(_0x3bb377)_0x3bb377['classList'][_0x65b0e3(0x4bd)](_0x65b0e3(0xbe2));if(_0x10b537)_0x10b537[_0x65b0e3(0x7f0)]['remove'](_0x65b0e3(0xbe2));if(_0x26c4fb)_0x26c4fb[_0x65b0e3(0x7f0)][_0x65b0e3(0x4bd)](_0x65b0e3(0xbe2));_0x213b1a[_0x65b0e3(0x7f0)][_0x65b0e3(0x4bd)](_0x65b0e3(0x9ac)),topicInputArea[_0x65b0e3(0x7f0)][_0x65b0e3(0x6e3)](_0x65b0e3(0x9ac)),textInputArea[_0x65b0e3(0x7f0)][_0x65b0e3(0x6e3)]('hidden'),fileInputArea['classList'][_0x65b0e3(0x6e3)]('hidden'),worksheetInputArea[_0x65b0e3(0x7f0)][_0x65b0e3(0x6e3)](_0x65b0e3(0x9ac));if(_0x23b7a4)_0x23b7a4[_0x65b0e3(0x7f0)][_0x65b0e3(0x6e3)](_0x65b0e3(0x9ac));if(_0x1a573c)_0x1a573c['classList'][_0x65b0e3(0x6e3)](_0x65b0e3(0x9ac));if(_0x59ca93)_0x59ca93[_0x65b0e3(0x7f0)][_0x65b0e3(0x6e3)]('hidden');});const _0x532189=document[_0x1ecc0d(0x597)](_0x1ecc0d(0x230)),_0x5140dc=document[_0x1ecc0d(0x597)](_0x1ecc0d(0x323));if(_0x532189){const _0x4b08e5=document['getElementById'](_0x1ecc0d(0x230)),_0x294f31=document[_0x1ecc0d(0x597)](_0x1ecc0d(0x323)),_0x4b6254=document[_0x1ecc0d(0x597)](_0x1ecc0d(0x446)),_0x3e9530=document[_0x1ecc0d(0x597)](_0x1ecc0d(0x7c6)),_0x21b65d=document['getElementById'](_0x1ecc0d(0x585)),_0x42ee6f=document[_0x1ecc0d(0x597)](_0x1ecc0d(0xb97));_0x4b08e5&&_0x4b08e5[_0x1ecc0d(0x161)](_0x1ecc0d(0xa7d),async _0x4c2f02=>{const _0x52fe0b=_0x1ecc0d;_0x4b6254[_0x52fe0b(0x7f0)][_0x52fe0b(0x6e3)]('hidden'),_0x21b65d[_0x52fe0b(0x7f0)]['add'](_0x52fe0b(0x9ac)),_0x3e9530[_0x52fe0b(0x641)]=![],_0x294f31[_0x52fe0b(0x992)]=!![];const _0x4a62d0=_0x4c2f02[_0x52fe0b(0xaa3)][_0x52fe0b(0xcaa)][0x0];if(_0x4a62d0){_0x294f31[_0x52fe0b(0x992)]=![];try{const _0x314140=await extractTextFromPdf(_0x4a62d0);await analyzeBlueprintForTopics(_0x314140);}catch(_0x26fee4){showMessage(_0x52fe0b(0x424)),_0x4b6254[_0x52fe0b(0x7f0)][_0x52fe0b(0x6e3)]('hidden');}}}),_0x3e9530&&_0x3e9530['addEventListener'](_0x1ecc0d(0xa7d),_0x28acc9=>{const _0x39ec2d=_0x1ecc0d,_0x3522f5=_0x28acc9[_0x39ec2d(0xaa3)][_0x39ec2d(0x641)];_0x21b65d['classList']['toggle']('hidden',!_0x3522f5),_0x294f31[_0x39ec2d(0x992)]=_0x3522f5;}),_0x42ee6f&&(_0x42ee6f&&_0x42ee6f[_0x1ecc0d(0x161)]('click',_0x3b8ced=>{const _0x1fd957=_0x1ecc0d,_0x35cf1a=_0x3b8ced[_0x1fd957(0xaa3)]['closest'](_0x1fd957(0x3d9)),_0x270bb5=_0x3b8ced[_0x1fd957(0xaa3)][_0x1fd957(0x4dc)](_0x1fd957(0x54b));if(_0x35cf1a){const _0x2180e4=unescape(_0x35cf1a[_0x1fd957(0x7a0)][_0x1fd957(0xc41)]);generateQuizForSingleTopic(_0x2180e4);}else{if(_0x270bb5){const _0x59ddf2=unescape(_0x270bb5['dataset'][_0x1fd957(0xc41)]);handleGenerateTeachingContent(_0x59ddf2);}}}));}_0x5140dc&&_0x5140dc[_0x1ecc0d(0x161)]('click',handleGenerateFromBlueprint);const _0x532194=document['getElementById'](_0x1ecc0d(0x2bb)),_0x45e14a=document['getElementById']('generate-from-parallel-test-btn');_0x532194&&_0x532194['addEventListener'](_0x1ecc0d(0xa7d),_0x227131=>{_0x45e14a['disabled']=_0x227131['target']['files']['length']===0x0;});_0x45e14a&&_0x45e14a[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),handleLoadQuiz),startQuizBtn[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),async()=>{const _0x2dc797=_0x1ecc0d,_0x1a4fe0=document[_0x2dc797(0x597)]('student-name-select');currentStudentName=_0x1a4fe0[_0x2dc797(0x6f7)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x5277eb=currentQuizData['id'],_0x5a13e7=doc(db,_0x2dc797(0xc07)+appId+_0x2dc797(0x60f)+_0x5277eb+'/submissions',currentStudentName),_0x5820dd=await getDoc(_0x5a13e7);!_0x5820dd[_0x2dc797(0xabe)]()?await setDoc(_0x5a13e7,{'studentName':currentStudentName,'startedAt':new Date()[_0x2dc797(0xca0)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x5a13e7,{'startedAt':new Date()[_0x2dc797(0xca0)]()});}catch(_0x171197){console[_0x2dc797(0x20d)](_0x2dc797(0x17c),_0x171197),showMessage(_0x2dc797(0x6db));return;}studentNameSelectionView['classList'][_0x2dc797(0x6e3)](_0x2dc797(0x9ac)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1ecc0d(0x597)]('join-live-game-btn')['addEventListener'](_0x1ecc0d(0x82f),showJoinGameView),document[_0x1ecc0d(0x597)]('confirm-join-game-btn')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),handleJoinLiveGame),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x350))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>showView(_0x1ecc0d(0xcab)));const _0x5f3c7f=()=>{const _0x2ab786=_0x1ecc0d,_0x2195be=document['getElementById'](_0x2ab786(0x489))[_0x2ab786(0x3a6)][_0x2ab786(0x442)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x2195be||_0x2ab786(0x723));},_0x3be818=document['getElementById'](_0x1ecc0d(0x6d5));_0x3be818&&_0x3be818['addEventListener'](_0x1ecc0d(0x4ba),_0x18b1a3=>{const _0x2b5f23=_0x1ecc0d,_0x2e53a7=_0x18b1a3['target']['value']['toLowerCase']()[_0x2b5f23(0x365)](),_0x6f8988=document[_0x2b5f23(0x597)](_0x2b5f23(0x178)),_0x5b2a95=_0x6f8988[_0x2b5f23(0x40f)](_0x2b5f23(0x164));_0x5b2a95[_0x2b5f23(0xb68)](_0x31f56a=>{const _0x2438b8=_0x2b5f23;let _0x130f38=![];const _0x46d08e=_0x31f56a[_0x2438b8(0x40f)](_0x2438b8(0x869));_0x46d08e[_0x2438b8(0xb68)](_0x184569=>{const _0x23cc90=_0x2438b8,_0x39cd95=_0x184569['querySelector'](_0x23cc90(0x41a))[_0x23cc90(0x3a6)]['toLowerCase']();_0x39cd95['includes'](_0x2e53a7)?(_0x184569[_0x23cc90(0x819)][_0x23cc90(0x645)]=_0x23cc90(0x3ff),_0x130f38=!![]):_0x184569[_0x23cc90(0x819)][_0x23cc90(0x645)]=_0x23cc90(0x880);}),_0x130f38?_0x31f56a[_0x2438b8(0x819)][_0x2438b8(0x645)]=_0x2438b8(0x16d):_0x31f56a['style'][_0x2438b8(0x645)]='none';});});document[_0x1ecc0d(0x597)](_0x1ecc0d(0x6da))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>exportTableAsImage('results-table-container',_0x5f3c7f())),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x270))[_0x1ecc0d(0x161)]('click',()=>exportTableAsPDF(_0x1ecc0d(0xb27),_0x5f3c7f())),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xc63))['addEventListener'](_0x1ecc0d(0x82f),()=>exportTableAsWord(_0x1ecc0d(0x1aa),_0x5f3c7f())),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x3b6))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>exportTableAsExcel(_0x1ecc0d(0xb27),_0x5f3c7f()));const _0x4d3b60=()=>{const _0x3362a0=_0x1ecc0d,_0x36e228=document['getElementById']('results-quiz-title')[_0x3362a0(0x3a6)][_0x3362a0(0x442)](/[^a-z0-9]/gi,'_')[_0x3362a0(0x6c8)]();return _0x3362a0(0x3ca)+(_0x36e228||_0x3362a0(0x723));};document[_0x1ecc0d(0x597)](_0x1ecc0d(0xca7))['addEventListener'](_0x1ecc0d(0x82f),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x4d3b60())),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xb2f))['addEventListener']('click',()=>exportTableAsPDF(_0x1ecc0d(0x91a),_0x4d3b60())),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x38a))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x4d3b60())),document[_0x1ecc0d(0x597)]('export-leaderboard-excel-btn')[_0x1ecc0d(0x161)]('click',()=>exportTableAsExcel(_0x1ecc0d(0x91a),_0x4d3b60())),projectQuizzesList['addEventListener'](_0x1ecc0d(0x82f),async _0x573a50=>{const _0x1d260f=_0x1ecc0d,_0x17f334=_0x573a50[_0x1d260f(0xaa3)][_0x1d260f(0x4dc)](_0x1d260f(0x2b6)),_0x290cd7=_0x573a50[_0x1d260f(0xaa3)]['closest'](_0x1d260f(0x5d9)),_0x24cd2d=_0x573a50['target'][_0x1d260f(0x4dc)](_0x1d260f(0x81f)),_0x445b77=_0x573a50[_0x1d260f(0xaa3)]['closest']('.generate-lesson-btn'),_0x4e0089=_0x573a50[_0x1d260f(0xaa3)][_0x1d260f(0x4dc)](_0x1d260f(0xac8)),_0x502a71=_0x573a50[_0x1d260f(0xaa3)]['closest'](_0x1d260f(0xa77)),_0x51637d=_0x573a50['target'][_0x1d260f(0x4dc)](_0x1d260f(0xb79)),_0x509b23=_0x573a50[_0x1d260f(0xaa3)][_0x1d260f(0x4dc)](_0x1d260f(0x459)),_0x5ed847=_0x573a50[_0x1d260f(0xaa3)][_0x1d260f(0x4dc)]('.duplicate-quiz-btn'),_0x2d5c31=_0x573a50[_0x1d260f(0xaa3)][_0x1d260f(0x4dc)](_0x1d260f(0xab2)),_0x2bc701=_0x573a50[_0x1d260f(0xaa3)][_0x1d260f(0x4dc)]('.parallel-quiz-btn'),_0x17f13c=_0x573a50[_0x1d260f(0xaa3)][_0x1d260f(0x4dc)](_0x1d260f(0x53f)),_0x1c7df2=_0x573a50[_0x1d260f(0xaa3)]['closest'](_0x1d260f(0x84b)),_0x32a228=_0x573a50['target'][_0x1d260f(0x4dc)](_0x1d260f(0x190)),_0x341c6e=_0x573a50[_0x1d260f(0xaa3)][_0x1d260f(0x4dc)](_0x1d260f(0x3d4)),_0x5f4bc5=_0x573a50[_0x1d260f(0xaa3)][_0x1d260f(0x4dc)](_0x1d260f(0x680)),_0x3eeda6=_0x573a50[_0x1d260f(0xaa3)]['closest'](_0x1d260f(0xc4a)),_0xb62332=_0x573a50['target'][_0x1d260f(0x4dc)](_0x1d260f(0x3ba)),_0x1725cd=_0x573a50[_0x1d260f(0xaa3)][_0x1d260f(0x4dc)]('.quiz-status-btn'),_0x205d4c=_0x573a50[_0x1d260f(0xaa3)][_0x1d260f(0x4dc)]('.toggle-actions-btn'),_0x2daf3a=_0x573a50[_0x1d260f(0xaa3)][_0x1d260f(0x4dc)]('.generate-easy-version-btn'),_0x5e3e9f=_0x573a50['target'][_0x1d260f(0x4dc)](_0x1d260f(0x76e)),_0x4c77b1=_0x573a50[_0x1d260f(0xaa3)][_0x1d260f(0x4dc)](_0x1d260f(0x8bc));if(_0x5e3e9f){const _0x52f96b=_0x5e3e9f[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)],_0x37feb5=_0x5e3e9f[_0x1d260f(0x7a0)][_0x1d260f(0x1f7)],_0x1b2761=allQuizzes[_0x1d260f(0x1bc)](_0x1b05ca=>_0x1b05ca['id']===_0x52f96b);_0x1b2761&&showGameStartConfirmationModal(_0x52f96b,_0x37feb5,_0x1b2761[_0x1d260f(0xc41)]);}else{if(_0x4c77b1){const _0x1c347b=_0x4c77b1[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)];handleStartLiveRace(_0x1c347b);}else{if(_0x205d4c){const _0x522615=_0x205d4c[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)],_0x2cbf72=document['getElementById'](_0x1d260f(0xa79)+_0x522615);_0x2cbf72&&_0x2cbf72[_0x1d260f(0x7f0)]['toggle'](_0x1d260f(0x9ac));}else{if(_0x290cd7){const _0x2326d6=_0x290cd7[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)],_0x38b391=allQuizzes['find'](_0x18d0a0=>_0x18d0a0['id']===_0x2326d6);_0x38b391&&handleGenerateParallelPostTest(_0x38b391);}else{if(_0x24cd2d)handleCompareResults(_0x24cd2d[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)],_0x24cd2d[_0x1d260f(0x7a0)][_0x1d260f(0x9ed)]);else{if(_0x445b77){const _0x51485a=_0x445b77[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)],_0x51dcdc=allQuizzes[_0x1d260f(0x1bc)](_0x1bf971=>_0x1bf971['id']===_0x51485a);_0x51dcdc&&_0x51dcdc[_0x1d260f(0x7c1)]?(displayLessonPlan(_0x51dcdc[_0x1d260f(0x7c1)],_0x51dcdc),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x51485a)),document[_0x1d260f(0x597)](_0x1d260f(0x6ad))[_0x1d260f(0x7b3)]('h3')[_0x1d260f(0x3a6)]=_0x1d260f(0xa1f),document[_0x1d260f(0x597)]('confirm-delete-btn')[_0x1d260f(0x3a6)]=_0x1d260f(0xa89)):handleGenerateLessonPlan(_0x51485a);}else{if(_0x4e0089)handleToggleStarQuiz(_0x4e0089['dataset'][_0x1d260f(0x7e0)]);else{if(_0x502a71)copyTextToClipboard(_0x502a71[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)],'คัดลอกรหัสแล้ว!');else{if(_0x51637d)handleOpenQuizEditor(_0x51637d[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)]);else{if(_0x509b23)handleQuizSettings(_0x509b23[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)]);else{if(_0x5ed847)handleDuplicateQuiz(_0x5ed847[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)]);else{if(_0x2d5c31)handleRenameQuiz(_0x2d5c31[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)],_0x2d5c31[_0x1d260f(0x7a0)][_0x1d260f(0xc41)]);else{if(_0x2bc701){const _0x5d84d4=_0x2bc701[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)],_0xd51e5d=allQuizzes[_0x1d260f(0x1bc)](_0x5f1638=>_0x5f1638['id']===_0x5d84d4);_0xd51e5d&&handleGenerateParallelFromBank(_0xd51e5d);}else{if(_0x17f13c)handleMoveQuiz(_0x17f13c[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)]);else{if(_0x1c7df2)handleManualQuizPairing(_0x1c7df2[_0x1d260f(0x7a0)]['quizId']);else{if(_0x32a228)handleUnpairQuiz(_0x32a228[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)]);else{if(_0x341c6e){const _0x23a550=_0x341c6e[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)],_0x3e40e1=allQuizzes['find'](_0x565123=>_0x565123['id']===_0x23a550);if(_0x3e40e1)startPresentation(_0x3e40e1);}else{if(_0x5f4bc5){const _0x49482d=_0x5f4bc5[_0x1d260f(0x7a0)]['quizId'],_0x3357f3=allQuizzes[_0x1d260f(0x1bc)](_0x1de027=>_0x1de027['id']===_0x49482d);_0x3357f3&&(currentQuizData=_0x3357f3,startAdminTest());}else{if(_0x3eeda6)actionTargetId=_0x3eeda6['dataset'][_0x1d260f(0x7e0)],document[_0x1d260f(0x597)](_0x1d260f(0x22a))[_0x1d260f(0x7f0)][_0x1d260f(0x4bd)](_0x1d260f(0x9ac));else{if(_0xb62332)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0xb62332[_0x1d260f(0x7a0)]['topic']+_0x1d260f(0x381),()=>handleDeleteQuiz(_0xb62332[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)]));else{if(_0x1725cd)handleQuizStatus(_0x1725cd[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)]);else{if(_0x2daf3a)handleGenerateEasyVersionQuiz(_0x2daf3a[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)]);else _0x17f334&&showQuizDetailView(_0x17f334[_0x1d260f(0x7a0)][_0x1d260f(0x7e0)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x934))[_0x1ecc0d(0x161)]('click',()=>showView(_0x1ecc0d(0xcab))),document['getElementById'](_0x1ecc0d(0x612))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),confirmAndStartTeamQuiz),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x91a))[_0x1ecc0d(0x7b3)](_0x1ecc0d(0x17a))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),_0x1343a9=>{const _0x3d3e63=_0x1ecc0d,_0x3b0ce5=_0x1343a9['target'][_0x3d3e63(0x4dc)](_0x3d3e63(0x731));if(!_0x3b0ce5||!_0x3b0ce5[_0x3d3e63(0x7a0)][_0x3d3e63(0x2d6)])return;const _0x15f1f3=_0x3b0ce5['dataset'][_0x3d3e63(0x2d6)];if(quizLeaderboardSortBy===_0x15f1f3)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x3d3e63(0x3cf)?_0x3d3e63(0x9f7):_0x3d3e63(0x3cf);else{quizLeaderboardSortBy=_0x15f1f3;const _0x5f4fb1=[_0x3d3e63(0x4d7)];quizLeaderboardSortOrder=_0x5f4fb1['includes'](_0x15f1f3)?_0x3d3e63(0x3cf):_0x3d3e63(0x9f7);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x3d3e63(0x6e1));}),document[_0x1ecc0d(0x597)]('close-presentation-btn')['addEventListener'](_0x1ecc0d(0x82f),closePresentation),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x5f3))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x1ecc0d(0x597)]('next-question-btn')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x370711=_0x1ecc0d;currentQuizData[_0x370711(0x962)]&&currentPresentationSlide<currentQuizData['questions'][_0x370711(0x711)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x1ecc0d(0x161)](_0x1ecc0d(0x445),()=>{const _0x1da969=_0x1ecc0d;!document[_0x1da969(0x2ff)]&&(presentationModal[_0x1da969(0x819)][_0x1da969(0x645)]=_0x1da969(0x880));}),document['getElementById'](_0x1ecc0d(0xb36))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),handleDeleteAllStudents),studentList[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),_0x17d4c1=>{const _0x8b2b0e=_0x1ecc0d,_0x4c7787=_0x17d4c1[_0x8b2b0e(0xaa3)][_0x8b2b0e(0x4dc)](_0x8b2b0e(0xa61));if(_0x4c7787){const _0x500e6c=_0x4c7787[_0x8b2b0e(0x7a0)]['studentName'];handleDeleteStudent(_0x500e6c);}}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x4e8))['addEventListener'](_0x1ecc0d(0x82f),handleGenerateFromFileClick),fileUploadInput[_0x1ecc0d(0x161)](_0x1ecc0d(0xa7d),_0x998a0e=>{const _0x1e7bec=_0x1ecc0d,_0x545e3d=_0x998a0e[_0x1e7bec(0xaa3)][_0x1e7bec(0xcaa)][0x0],_0x37c730=document[_0x1e7bec(0x597)](_0x1e7bec(0x4e8)),_0x5ca026=document['getElementById'](_0x1e7bec(0x7f4)),_0x4952ea=document[_0x1e7bec(0x597)]('separate-by-content-from-file-checkbox');_0x545e3d?(selectedFile=_0x545e3d,_0x4952ea['checked']?(_0x37c730[_0x1e7bec(0x992)]=!![],analyzeFileForTopics(_0x545e3d)):(_0x37c730[_0x1e7bec(0x992)]=![],_0x5ca026[_0x1e7bec(0x7f0)][_0x1e7bec(0x6e3)]('hidden'))):(selectedFile=null,_0x37c730[_0x1e7bec(0x992)]=!![],_0x5ca026[_0x1e7bec(0x7f0)][_0x1e7bec(0x6e3)](_0x1e7bec(0x9ac)));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x7e7))['addEventListener'](_0x1ecc0d(0xa7d),_0x3a240e=>{const _0x1a5cf8=_0x1ecc0d,_0x51e6f9=_0x3a240e[_0x1a5cf8(0xaa3)][_0x1a5cf8(0x641)],_0x4d99af=document[_0x1a5cf8(0x597)](_0x1a5cf8(0x4e8)),_0x5b96ce=document[_0x1a5cf8(0x597)](_0x1a5cf8(0x7f4));_0x51e6f9?(_0x4d99af[_0x1a5cf8(0x992)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x5b96ce[_0x1a5cf8(0x7f0)][_0x1a5cf8(0x4bd)](_0x1a5cf8(0x9ac)),document[_0x1a5cf8(0x597)]('file-topics-list')[_0x1a5cf8(0x2fe)]=_0x1a5cf8(0x77b))):(_0x5b96ce[_0x1a5cf8(0x7f0)][_0x1a5cf8(0x6e3)](_0x1a5cf8(0x9ac)),_0x4d99af[_0x1a5cf8(0x992)]=!selectedFile);}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x7f4))[_0x1ecc0d(0x161)]('click',_0x2dc0ca=>{const _0x4babf8=_0x1ecc0d,_0x2a7d3b=_0x2dc0ca['target'][_0x4babf8(0x4dc)](_0x4babf8(0x9eb)),_0x410135=_0x2dc0ca['target']['closest'](_0x4babf8(0x54b));if(_0x2a7d3b){const _0x137887=unescape(_0x2a7d3b[_0x4babf8(0x7a0)]['topic']);generateHybridQuizForTopic(_0x137887);}else{if(_0x410135){const _0x4c1860=unescape(_0x410135[_0x4babf8(0x7a0)][_0x4babf8(0xc41)]),_0x3eb684=document[_0x4babf8(0x597)](_0x4babf8(0x55f))[_0x4babf8(0x6f7)];handleGenerateAndShowLesson(_0x4c1860,_0x3eb684);}}}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x625))[_0x1ecc0d(0x161)](_0x1ecc0d(0xa7d),_0x4044a8=>{const _0x33a742=_0x1ecc0d,_0x373735=document[_0x33a742(0x597)](_0x33a742(0x5af)),_0x359d0a=document[_0x33a742(0x597)]('timer-duration-label'),_0x571a7a=document['getElementById'](_0x33a742(0x51a));_0x4044a8['target']['value']==='none'?_0x373735['classList'][_0x33a742(0x6e3)](_0x33a742(0x9ac)):(_0x373735[_0x33a742(0x7f0)]['remove'](_0x33a742(0x9ac)),_0x4044a8[_0x33a742(0xaa3)][_0x33a742(0x6f7)]===_0x33a742(0x444)?(_0x359d0a[_0x33a742(0x3a6)]=_0x33a742(0x217),_0x571a7a[_0x33a742(0x6f7)]='10'):(_0x359d0a['textContent']=_0x33a742(0x219),_0x571a7a[_0x33a742(0x6f7)]='30'));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x488))[_0x1ecc0d(0x161)]('change',_0x114a09=>{const _0x3f0566=_0x1ecc0d,_0x497c4d=document[_0x3f0566(0x597)](_0x3f0566(0xb3e)),_0x467e5c=_0x114a09[_0x3f0566(0xaa3)]['value'],_0x29add8=document[_0x3f0566(0x7b3)]('label[for=\x22num-questions\x22]'),_0x34151f=document[_0x3f0566(0x597)](_0x3f0566(0x470)),_0x49bf99=document[_0x3f0566(0x597)](_0x3f0566(0x9db));_0x467e5c===_0x3f0566(0xc76)?_0x29add8[_0x3f0566(0x3a6)]=_0x3f0566(0x988):_0x29add8[_0x3f0566(0x3a6)]=_0x3f0566(0xb01),_0x467e5c===_0x3f0566(0x8ea)||_0x467e5c==='fill_in_with_choices'||_0x467e5c===_0x3f0566(0xb7c)?_0x497c4d['classList'][_0x3f0566(0x4bd)](_0x3f0566(0x9ac)):_0x497c4d[_0x3f0566(0x7f0)]['add'](_0x3f0566(0x9ac)),_0x34151f['max']=_0x49bf99['value'];}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x9db))[_0x1ecc0d(0x161)](_0x1ecc0d(0x4ba),_0x50f2c4=>{const _0x103a66=_0x1ecc0d;document[_0x103a66(0x597)](_0x103a66(0x470))[_0x103a66(0x3eb)]=_0x50f2c4[_0x103a66(0xaa3)][_0x103a66(0x6f7)];}),document['getElementById'](_0x1ecc0d(0x7b1))[_0x1ecc0d(0x161)](_0x1ecc0d(0xa7d),_0x20b3fa=>{const _0x152a25=_0x1ecc0d,_0x43adf2=document[_0x152a25(0x597)](_0x152a25(0x7c0)),_0x533f4a=document[_0x152a25(0x597)](_0x152a25(0xca1)),_0x5ba716=document[_0x152a25(0x597)](_0x152a25(0x6f0));_0x20b3fa['target'][_0x152a25(0x6f7)]==='none'?_0x43adf2['classList'][_0x152a25(0x6e3)](_0x152a25(0x9ac)):(_0x43adf2[_0x152a25(0x7f0)][_0x152a25(0x4bd)]('hidden'),_0x20b3fa['target'][_0x152a25(0x6f7)]===_0x152a25(0x444)?_0x533f4a['textContent']=_0x152a25(0x217):_0x533f4a[_0x152a25(0x3a6)]=_0x152a25(0x219));}),document['getElementById'](_0x1ecc0d(0x541))[_0x1ecc0d(0x161)]('click',()=>{const _0x361e8b=_0x1ecc0d;document[_0x361e8b(0x597)](_0x361e8b(0x9da))[_0x361e8b(0x7f0)][_0x361e8b(0x6e3)](_0x361e8b(0x9ac));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xa9c))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x583b46=_0x1ecc0d;document[_0x583b46(0x597)](_0x583b46(0x9da))['classList'][_0x583b46(0x6e3)](_0x583b46(0x9ac));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x936))['addEventListener'](_0x1ecc0d(0x82f),handleVerifyAnswersInEditor),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xaf8))[_0x1ecc0d(0x161)]('click',()=>{const _0x3c8cfd=_0x1ecc0d;document[_0x3c8cfd(0x597)](_0x3c8cfd(0x9da))[_0x3c8cfd(0x7f0)][_0x3c8cfd(0x6e3)](_0x3c8cfd(0x9ac)),showConfirmation(_0x3c8cfd(0xb18),handleSaveChanges);}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x786))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),handleAutoFixLatex);const _0x2c4641=document[_0x1ecc0d(0x597)](_0x1ecc0d(0x368));_0x2c4641&&_0x2c4641[_0x1ecc0d(0x161)]('click',_0x16b2f1=>{const _0xa66ac9=_0x1ecc0d,_0x57f7d8=_0x16b2f1[_0xa66ac9(0xaa3)][_0xa66ac9(0x4dc)](_0xa66ac9(0xc5a)),_0x446bab=_0x16b2f1[_0xa66ac9(0xaa3)][_0xa66ac9(0x4dc)]('.ai-fix-formula-btn');if(_0x57f7d8){const _0x52510c=_0x57f7d8['closest'](_0xa66ac9(0x73b)),_0xe1f4bb=parseInt(_0x52510c[_0xa66ac9(0x7a0)][_0xa66ac9(0xb05)],0xa);handleRegenerateQuestionInEditor(_0xe1f4bb);}else{if(_0x446bab){const _0x4a9ad0=_0x446bab[_0xa66ac9(0x4dc)](_0xa66ac9(0x73b)),_0x22658c=parseInt(_0x4a9ad0['dataset'][_0xa66ac9(0xb05)],0xa);handleAiFixFormula(_0x22658c);}}});document[_0x1ecc0d(0x597)](_0x1ecc0d(0xc77))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),openQuizBankModal),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xaee))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x5b36eb=_0x1ecc0d;document[_0x5b36eb(0x597)]('quiz-bank-modal')[_0x5b36eb(0x7f0)][_0x5b36eb(0x6e3)](_0x5b36eb(0x9ac));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x550))[_0x1ecc0d(0x161)]('input',_0x5941a8=>renderQuizBankList(_0x5941a8[_0x1ecc0d(0xaa3)][_0x1ecc0d(0x6f7)]));const _0x589e47=document[_0x1ecc0d(0x597)]('math-topics-checkbox-container');if(_0x589e47){let _0x2556e1=null;_0x589e47[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),_0x13e4d8=>{const _0x3d714c=_0x1ecc0d,_0x330ce9=_0x13e4d8[_0x3d714c(0xaa3)],_0x5a76b3=_0x330ce9[_0x3d714c(0x4dc)](_0x3d714c(0xa1e)),_0x332bc2=_0x330ce9[_0x3d714c(0x4dc)](_0x3d714c(0x9f3)),_0x727e6d=_0x330ce9[_0x3d714c(0x4dc)](_0x3d714c(0x45a)),_0x1d920c=_0x330ce9[_0x3d714c(0x4dc)](_0x3d714c(0x569));if(_0x332bc2){_0x13e4d8['preventDefault']();const _0x41b5f4=_0x332bc2[_0x3d714c(0x7a0)]['id'],_0x2f2602=_0x332bc2['closest'](_0x3d714c(0x7f6))[_0x3d714c(0x7b3)](_0x3d714c(0x41a))[_0x3d714c(0x3a6)];showConfirmation(_0x3d714c(0xbd4)+_0x2f2602+'\x22?',()=>handleDeleteCustomTopic(_0x41b5f4));}else{if(_0x5a76b3){_0x13e4d8['preventDefault']();_0x2556e1&&toggleTopicEditMode(_0x2556e1,![]);const _0x780d83=_0x5a76b3[_0x3d714c(0x4dc)](_0x3d714c(0x8b2));_0x2556e1=_0x780d83,toggleTopicEditMode(_0x780d83,!![]);}else{if(_0x727e6d){_0x13e4d8[_0x3d714c(0x3f5)]();const _0x580640=_0x727e6d[_0x3d714c(0x7a0)]['id'],_0xb7f5c8=_0x727e6d[_0x3d714c(0x4dc)](_0x3d714c(0x8b2)),_0x5853ea=_0xb7f5c8[_0x3d714c(0x7b3)](_0x3d714c(0x526))[_0x3d714c(0x6f7)];handleUpdateCustomTopic(_0x580640,_0x5853ea),_0x2556e1=null;}else{if(_0x1d920c){_0x13e4d8[_0x3d714c(0x3f5)]();const _0x4460bd=_0x1d920c[_0x3d714c(0x4dc)](_0x3d714c(0x8b2));toggleTopicEditMode(_0x4460bd,![]),_0x2556e1=null;}}}}}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x7f2))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x55a4b1=_0x1ecc0d;document[_0x55a4b1(0x597)](_0x55a4b1(0x40b))['classList']['add']('hidden');}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x247))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x4b1922=_0x1ecc0d;document[_0x4b1922(0x597)](_0x4b1922(0x40b))[_0x4b1922(0x7f0)][_0x4b1922(0x6e3)](_0x4b1922(0x9ac));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0xc60))[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),handleExportLessonPDF);}document[_0x1ecc0d(0x597)]('close-comparison-modal-btn')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),()=>{const _0x555bbb=_0x1ecc0d;document[_0x555bbb(0x597)]('comparison-modal')['classList'][_0x555bbb(0x6e3)](_0x555bbb(0x9ac));}),document[_0x1ecc0d(0x597)](_0x1ecc0d(0x59d))['addEventListener'](_0x1ecc0d(0x82f),()=>{const _0x3c1158=_0x1ecc0d;document['getElementById'](_0x3c1158(0xa0f))[_0x3c1158(0x7f0)]['add'](_0x3c1158(0x9ac));}),setupComparisonModalTabs(),document['body'][_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),function(_0x135f0d){const _0x5beeb7=_0x1ecc0d;if(_0x135f0d[_0x5beeb7(0xaa3)][_0x5beeb7(0x7f0)][_0x5beeb7(0x1ef)]('practice-topic-btn')){const _0x30af48=unescape(_0x135f0d['target'][_0x5beeb7(0x7a0)][_0x5beeb7(0xc41)]);startSkillPractice(_0x30af48);}}),document[_0x1ecc0d(0x597)]('scores-tab-content')[_0x1ecc0d(0x161)](_0x1ecc0d(0x82f),_0x3eff6d=>{const _0x22640c=_0x1ecc0d,_0x1286fb=_0x3eff6d['target'][_0x22640c(0x4dc)](_0x22640c(0xc12));if(_0x1286fb){const _0x41ae56=_0x1286fb['dataset']['studentName'];handleDeleteSubmission(_0x41ae56);}});}async function handleStartGroupMode(_0x3cd70c,_0x20ff36=![]){const _0x37e42b=_0x57253e,_0x197644=allQuizzes[_0x37e42b(0x1bc)](_0x28c27c=>_0x28c27c['id']===_0x3cd70c)||allQuizzesGlobal['find'](_0x53bace=>_0x53bace['id']===_0x3cd70c);if(!_0x197644){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x197644);const _0x193aa1=Math['floor'](0x3e8+Math[_0x37e42b(0x373)]()*0x2328)['toString']();try{const _0x3deeb8=await addDoc(collection(db,_0x37e42b(0xc07)+appId+_0x37e42b(0xbd3)),{'quizId':_0x197644['id'],'projectId':_0x197644[_0x37e42b(0x9f2)],'status':_0x37e42b(0x537),'pin':_0x193aa1,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x20ff36});currentTeamQuizId=_0x3deeb8['id'],showView(_0x37e42b(0x898)),renderAdminTeamQuizDashboard(_0x193aa1,_0x197644[_0x37e42b(0xc41)],_0x37e42b(0x965)),listenForTeamQuizUpdates();}catch(_0x35c0bb){console[_0x37e42b(0x20d)](_0x37e42b(0x7aa),_0x35c0bb),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x3819c3=_0x57253e;studentInitialView[_0x3819c3(0x7f0)]['add'](_0x3819c3(0x9ac)),document[_0x3819c3(0x597)](_0x3819c3(0x67c))[_0x3819c3(0x7f0)][_0x3819c3(0x4bd)](_0x3819c3(0x9ac));const _0x5e9c08=document[_0x3819c3(0x597)](_0x3819c3(0x732)),_0x3cb8b0=document[_0x3819c3(0x597)](_0x3819c3(0x11d)),_0x2c2107=document[_0x3819c3(0x597)](_0x3819c3(0x1e1));_0x2c2107[_0x3819c3(0x2fe)]=_0x3819c3(0x4bb),_0x3cb8b0[_0x3819c3(0x2fe)]=_0x3819c3(0xa58),_0x3cb8b0[_0x3819c3(0x992)]=!![],_0x5e9c08['innerHTML']='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x3819c3(0x711)]===0x0){const _0x23e510=collection(db,_0x3819c3(0xc07)+appId+_0x3819c3(0x81e)),_0x459348=await getDocs(_0x23e510);allProjects=_0x459348[_0x3819c3(0x69d)][_0x3819c3(0x9ca)](_0x20e100=>({'id':_0x20e100['id'],..._0x20e100[_0x3819c3(0x533)]()}));}const _0x5d4d46=allProjects['filter'](_0x3b80ae=>_0x3b80ae['settings']?.[_0x3819c3(0x122)]!==![]);_0x5d4d46[_0x3819c3(0x2d6)]((_0x387c7c,_0x588fdb)=>_0x387c7c['projectName'][_0x3819c3(0x796)](_0x588fdb[_0x3819c3(0xadf)],'th')),_0x5e9c08[_0x3819c3(0x2fe)]=_0x3819c3(0x779)+_0x5d4d46[_0x3819c3(0x9ca)](_0x4b5c76=>_0x3819c3(0x15e)+_0x4b5c76['id']+'\x22>'+_0x4b5c76['projectName']+_0x3819c3(0x9ff))[_0x3819c3(0x552)](''),_0x5e9c08[_0x3819c3(0x74b)]=()=>{const _0x435f37=_0x3819c3,_0x1ad3da=_0x3cb8b0[_0x435f37(0x6f7)],_0x3f9a47=_0x5e9c08['value'];_0x3cb8b0[_0x435f37(0x992)]=!![],_0x3cb8b0['innerHTML']=_0x435f37(0xa58),_0x2c2107[_0x435f37(0x2fe)]=_0x435f37(0x8fd);if(!_0x3f9a47)return;const _0x53d712=allProjects['find'](_0x429ae7=>_0x429ae7['id']===_0x3f9a47);if(!_0x53d712||!_0x53d712['students'])return;const _0x571d4c=()=>{const _0x294eab=_0x435f37;_0x3cb8b0[_0x294eab(0x2fe)]=_0x294eab(0xa58)+_0x53d712[_0x294eab(0x88c)]['map'](_0x12a74f=>_0x294eab(0x15e)+_0x12a74f+'\x22>'+_0x12a74f+_0x294eab(0x9ff))[_0x294eab(0x552)](''),_0x3cb8b0[_0x294eab(0x992)]=![];const _0x287d6a=Array[_0x294eab(0x4c8)](_0x3cb8b0[_0x294eab(0x6c2)])[_0x294eab(0x9ca)](_0x1b951e=>_0x1b951e['value']);if(_0x1ad3da&&_0x287d6a[_0x294eab(0x1d1)](_0x1ad3da))_0x3cb8b0['value']=_0x1ad3da,_0x3cb8b0[_0x294eab(0x8df)](new Event(_0x294eab(0xa7d)));else _0x53d712[_0x294eab(0x88c)][_0x294eab(0x711)]===0x1&&(_0x3cb8b0[_0x294eab(0x6f7)]=_0x53d712['students'][0x0],_0x3cb8b0[_0x294eab(0x8df)](new Event('change')));};if(_0x53d712[_0x435f37(0x9ab)]?.[_0x435f37(0x886)]){if(sessionStorage[_0x435f37(0xa6b)](_0x435f37(0x9cb)+_0x3f9a47)===_0x435f37(0x36a)){_0x571d4c();return;}const _0x5ef790=document[_0x435f37(0x597)]('project-passcode-modal'),_0x2e6563=document[_0x435f37(0x597)](_0x435f37(0xab0)),_0x2e5edd=document[_0x435f37(0x597)](_0x435f37(0xafa)),_0x2e8a6d=document['getElementById'](_0x435f37(0x2fd)),_0x444d77=document[_0x435f37(0x597)](_0x435f37(0x4eb));document[_0x435f37(0x597)]('passcode-prompt-message')[_0x435f37(0x3a6)]=_0x435f37(0x17d)+_0x53d712[_0x435f37(0xadf)],_0x2e8a6d[_0x435f37(0x6f7)]='',_0x444d77[_0x435f37(0x7f0)][_0x435f37(0x6e3)]('hidden'),_0x5ef790['classList']['remove'](_0x435f37(0x9ac));const _0x877bf8=()=>{const _0x4be76b=_0x435f37,_0x1679f4=_0x2e8a6d[_0x4be76b(0x6f7)][_0x4be76b(0x365)]();_0x1679f4===_0x53d712[_0x4be76b(0x9ab)][_0x4be76b(0x6dd)]?(sessionStorage['setItem'](_0x4be76b(0x9cb)+_0x3f9a47,'true'),_0x5ef790[_0x4be76b(0x7f0)][_0x4be76b(0x6e3)](_0x4be76b(0x9ac)),_0x571d4c(),_0x2e6563[_0x4be76b(0x713)]('click',_0x877bf8)):_0x444d77[_0x4be76b(0x7f0)][_0x4be76b(0x4bd)](_0x4be76b(0x9ac));};_0x2e6563['onclick']=_0x877bf8,_0x2e5edd[_0x435f37(0x1f8)]=()=>{const _0x2afbcd=_0x435f37;_0x5ef790['classList'][_0x2afbcd(0x6e3)]('hidden'),_0x5e9c08[_0x2afbcd(0x6f7)]='',_0x2e6563[_0x2afbcd(0x713)]('click',_0x877bf8);};}else _0x571d4c();},_0x3cb8b0['onchange']=()=>{const _0x5739e2=_0x3819c3,_0x3a3ac1=_0x5e9c08['value'],_0xff320a=_0x3cb8b0[_0x5739e2(0x6f7)];_0x3a3ac1&&_0xff320a&&renderStudentProgressDashboard(_0x3a3ac1,_0xff320a);};}async function confirmAndJoinSyncGame(){const _0x40ff3e=_0x57253e,_0x16927f=Array[_0x40ff3e(0x4c8)](document[_0x40ff3e(0x40f)](_0x40ff3e(0x7d7)))[_0x40ff3e(0x9ca)](_0x278523=>_0x278523[_0x40ff3e(0x6f7)]);if(_0x16927f[_0x40ff3e(0x711)]===0x0){showMessage(_0x40ff3e(0x36d));return;}localTeamPlayers=_0x16927f,localPlayerTurnIndex=0x0;const _0x1655ee=doc(db,_0x40ff3e(0xc07)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x53ee7e={};_0x16927f[_0x40ff3e(0xb68)](_0x3be98c=>{const _0x14a450=_0x40ff3e;_0x53ee7e[_0x14a450(0xc9b)+_0x3be98c]={'name':_0x3be98c,'score':0x0,'answered':![],'status':_0x14a450(0xbe2)};}),await updateDoc(_0x1655ee,_0x53ee7e),document[_0x40ff3e(0x597)](_0x40ff3e(0x4ac))[_0x40ff3e(0x7f0)]['add'](_0x40ff3e(0x9ac)),currentStudentName=_0x16927f[0x0],listenForSyncGameUpdates();const _0x48973c={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x40ff3e(0x265)](_0x40ff3e(0x503),JSON[_0x40ff3e(0xb09)](_0x48973c)),currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x40ff3e(0x161)](_0x40ff3e(0x445),handleFullscreenChange),document['addEventListener']('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x40ff3e(0x161)](_0x40ff3e(0xb1f),resetDimTimer),window[_0x40ff3e(0x161)]('mousedown',resetDimTimer),window['addEventListener'](_0x40ff3e(0x3c6),resetDimTimer),window[_0x40ff3e(0x161)](_0x40ff3e(0x4b7),resetDimTimer),resetDimTimer());}catch(_0x49f335){console[_0x40ff3e(0x20d)](_0x40ff3e(0xc57),_0x49f335),showMessage(_0x40ff3e(0x5b3));}}async function resumeActiveGameSession(){const _0x2d2dbe=_0x57253e,_0x3862bb=sessionStorage[_0x2d2dbe(0xa6b)](_0x2d2dbe(0x503));if(!_0x3862bb)return;const _0x1f4653=JSON[_0x2d2dbe(0x8ef)](_0x3862bb),{gameId:_0x296dc1,mode:_0x51d017,players:_0x3f64b7,turnIndex:_0x1df6e6}=_0x1f4653;try{let _0x141584,_0x34e88f;_0x51d017===_0x2d2dbe(0xbf1)?_0x141584=doc(db,_0x2d2dbe(0xc07)+appId+_0x2d2dbe(0x539),_0x296dc1):_0x141584=doc(db,_0x2d2dbe(0xc07)+appId+'/public/data/teamQuizzes',_0x296dc1);_0x34e88f=await getDoc(_0x141584);if(!_0x34e88f[_0x2d2dbe(0xabe)]()||_0x34e88f[_0x2d2dbe(0x533)]()['status']===_0x2d2dbe(0xa8e)||_0x34e88f[_0x2d2dbe(0x533)]()[_0x2d2dbe(0x9e6)]===_0x2d2dbe(0xb52)){sessionStorage[_0x2d2dbe(0x7dd)](_0x2d2dbe(0x503));return;}console[_0x2d2dbe(0x496)]('กำลังกลับเข้าสู่เกม\x20'+_0x51d017+_0x2d2dbe(0xa38)+_0x296dc1+')'),localTeamPlayers=_0x3f64b7,localPlayerTurnIndex=_0x1df6e6;if(_0x51d017==='sync')currentLiveGameId=_0x296dc1,currentStudentName=_0x3f64b7[0x0],showView(_0x2d2dbe(0x898)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x296dc1;const _0x5de07d=_0x34e88f['data'](),_0x12a336=doc(db,'artifacts/'+appId+_0x2d2dbe(0x194),_0x5de07d['quizId']),_0x75807f=await getDoc(_0x12a336);_0x75807f['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x75807f['id'],..._0x75807f['data']()}),showView(_0x2d2dbe(0xcab)),studentInitialView[_0x2d2dbe(0x7f0)][_0x2d2dbe(0x6e3)](_0x2d2dbe(0x9ac)),renderTeamQuizQuestion());}}catch(_0x4b8e76){console[_0x2d2dbe(0x20d)]('Failed\x20to\x20resume\x20game\x20session:',_0x4b8e76),sessionStorage[_0x2d2dbe(0x7dd)](_0x2d2dbe(0x503));}}function activateFileInputAreaWithLoadedFile(){const _0x2aa961=_0x57253e,_0x341f80=document['getElementById'](_0x2aa961(0x4e8)),_0x6878e1=document['getElementById']('file-topics-list-container'),_0x31ead1=document['getElementById']('separate-by-content-from-file-checkbox');selectedFile?_0x31ead1[_0x2aa961(0x641)]?(_0x341f80['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x341f80[_0x2aa961(0x992)]=![],_0x6878e1['classList'][_0x2aa961(0x6e3)](_0x2aa961(0x9ac))):(_0x341f80['disabled']=!![],_0x6878e1[_0x2aa961(0x7f0)][_0x2aa961(0x6e3)]('hidden'));}async function handleKickPlayerSync(_0x1965fe){const _0x64c7e7=_0x57253e;if(!currentLiveGameId||!_0x1965fe)return;const _0x29ec6e=doc(db,_0x64c7e7(0xc07)+appId+_0x64c7e7(0x539),currentLiveGameId),_0x474b4c={};_0x474b4c[_0x64c7e7(0xc9b)+_0x1965fe+'.status']='inactive';try{await updateDoc(_0x29ec6e,_0x474b4c);}catch(_0x1a651a){console[_0x64c7e7(0x20d)](_0x64c7e7(0xbfa)+_0x1965fe+_0x64c7e7(0x676),_0x1a651a),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0xd3e77a,_0xede891){const _0x425313=_0x57253e,_0x2f4f17=document[_0x425313(0x597)](_0x425313(0x1e1));_0x2f4f17['innerHTML']=_0x425313(0x75b);try{const _0x27639a=collection(db,'artifacts/'+appId+_0x425313(0x194)),_0x2abcc3=query(_0x27639a,where(_0x425313(0x9f2),'==',_0xd3e77a)),_0x170a82=await getDocs(_0x2abcc3),_0x3e32eb=_0x170a82[_0x425313(0x69d)][_0x425313(0x9ca)](_0x2d34d5=>({'id':_0x2d34d5['id'],..._0x2d34d5['data']()})),_0x47442c=_0x3e32eb[_0x425313(0x9ca)](_0x32e2cd=>getDoc(doc(db,_0x425313(0xc07)+appId+_0x425313(0x60f)+_0x32e2cd['id']+_0x425313(0x85c),_0xede891))),_0x4fc544=await Promise['all'](_0x47442c),_0x520fde=_0x4fc544['filter'](_0xd351e7=>_0xd351e7['exists']())[_0x425313(0x9ca)](_0x516620=>({'quizId':_0x516620[_0x425313(0x9b9)][_0x425313(0x355)][_0x425313(0x355)]['id'],..._0x516620['data']()}));if(_0x520fde[_0x425313(0x711)]===0x0){_0x2f4f17[_0x425313(0x2fe)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x1bdb49='<div\x20class=\x22space-y-4\x22>';_0x520fde[_0x425313(0xb68)](_0x2d4a23=>{const _0x17c391=_0x425313,_0x5be50b=_0x3e32eb[_0x17c391(0x1bc)](_0x10a43b=>_0x10a43b['id']===_0x2d4a23[_0x17c391(0x7e0)]),_0x170d7b=_0x5be50b[_0x17c391(0x9ab)]?.[_0x17c391(0x380)]||_0x17c391(0x66a),_0x7b1596=_0x5be50b[_0x17c391(0x9ab)]?.[_0x17c391(0x300)]??0x0,_0x458510=_0x2d4a23[_0x17c391(0xadc)]>=_0x7b1596;let _0x5d38f1='',_0x378395=_0x17c391(0x6bc);switch(_0x170d7b){case'show_results_and_answers':case _0x17c391(0x1b9):_0x378395=_0x458510?_0x17c391(0xb98):'bg-red-50',_0x5d38f1=_0x17c391(0xc79)+(_0x458510?_0x17c391(0x8dc):_0x17c391(0x462))+'\x22>'+_0x2d4a23['bestScore']+_0x17c391(0x751)+_0x2d4a23[_0x17c391(0x85b)]+_0x17c391(0x64b)+(_0x458510?_0x17c391(0x5c1):'bg-red-200\x20text-red-800')+'\x22>'+(_0x458510?_0x17c391(0x4ca):_0x17c391(0x4e7))+_0x17c391(0x250);break;case _0x17c391(0x296):_0x378395=_0x458510?_0x17c391(0xb98):_0x17c391(0xba3),_0x5d38f1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x458510?'bg-green-200\x20text-green-800':'bg-red-200\x20text-red-800')+'\x22>'+(_0x458510?'ผ่าน':_0x17c391(0x4e7))+_0x17c391(0x250);break;case _0x17c391(0xb44):_0x378395='bg-yellow-50',_0x5d38f1=_0x17c391(0x948);break;}_0x1bdb49+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x378395+_0x17c391(0x3de)+_0x5be50b[_0x17c391(0xc41)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x2d4a23[_0x17c391(0x620)]['length']+_0x17c391(0xb89)+new Date(_0x2d4a23[_0x17c391(0x72f)])[_0x17c391(0xa85)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d38f1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1bdb49+='</div>',_0x2f4f17['innerHTML']=_0x1bdb49;}catch(_0x368c3b){console['error']('Error\x20rendering\x20student\x20progress:',_0x368c3b),_0x2f4f17[_0x425313(0x2fe)]=_0x425313(0x1c7);}}function renderQuizBankListForMultiSelect(_0x25b1fb=''){const _0x2ec153=_0x57253e,_0x18a052=document[_0x2ec153(0x597)](_0x2ec153(0xc7d)),_0xeed988=_0x25b1fb[_0x2ec153(0x6c8)]()[_0x2ec153(0x365)](),_0x5c8925=allQuizzesGlobal[_0x2ec153(0x9ca)](_0x3346f0=>({..._0x3346f0,'projectName':allProjects[_0x2ec153(0x1bc)](_0x18a571=>_0x18a571['id']===_0x3346f0[_0x2ec153(0x9f2)])?.[_0x2ec153(0xadf)]||_0x2ec153(0x321)}))[_0x2ec153(0xa32)](_0x50674f=>(_0x50674f[_0x2ec153(0xc41)]||'')[_0x2ec153(0x6c8)]()[_0x2ec153(0x1d1)](_0xeed988)||(_0x50674f[_0x2ec153(0xadf)]||'')[_0x2ec153(0x6c8)]()['includes'](_0xeed988)||_0x50674f['id'][_0x2ec153(0x2bf)]()[_0x2ec153(0x1d1)](_0xeed988));_0x18a052[_0x2ec153(0x2fe)]=_0x5c8925[_0x2ec153(0x711)]?_0x5c8925[_0x2ec153(0x9ca)](_0x3384a3=>_0x2ec153(0x177)+_0x3384a3['id']+_0x2ec153(0x9b8)+(_0x3384a3[_0x2ec153(0xc41)]||_0x2ec153(0x1d3))+_0x2ec153(0x822)+_0x3384a3[_0x2ec153(0xadf)]+_0x2ec153(0x97f)+_0x3384a3['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x2ec153(0x552)](''):_0x2ec153(0x31c),_0x18a052[_0x2ec153(0x74b)]=()=>{const _0x1a93e0=_0x2ec153,_0x528bad=document[_0x1a93e0(0x7b3)]('.quiz-bank-checkbox:checked');document[_0x1a93e0(0x597)]('confirm-link-quiz-btn')[_0x1a93e0(0x992)]=!_0x528bad;};}function setupStudentProgressListeners(){const _0x361b98=_0x57253e;document[_0x361b98(0x597)](_0x361b98(0x824))[_0x361b98(0x161)](_0x361b98(0x82f),showStudentProgressView),document[_0x361b98(0x597)](_0x361b98(0x35f))[_0x361b98(0x161)](_0x361b98(0x82f),()=>{const _0x37992a=_0x361b98;document[_0x37992a(0x597)]('student-progress-view')[_0x37992a(0x7f0)][_0x37992a(0x6e3)]('hidden'),document[_0x37992a(0x597)](_0x37992a(0x86b))[_0x37992a(0x7f0)][_0x37992a(0x4bd)](_0x37992a(0x9ac));});}async function startSkillPractice(_0x5d2a81){const _0x40baa1=_0x57253e;studentResultArea[_0x40baa1(0x7f0)][_0x40baa1(0x6e3)](_0x40baa1(0x9ac)),studentQuizArea[_0x40baa1(0x2fe)]=_0x40baa1(0xa2f),studentQuizArea[_0x40baa1(0x7f0)][_0x40baa1(0x4bd)](_0x40baa1(0x9ac));try{const _0x5df3c4=await getStandardizedTopic(_0x5d2a81);console[_0x40baa1(0x496)](_0x40baa1(0x906)+_0x5d2a81+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x5df3c4+'\x22'),studentQuizArea['querySelector']('p')['textContent']=_0x40baa1(0xa55)+_0x5df3c4+_0x40baa1(0x197);const _0x6a0d50=collection(db,_0x40baa1(0xc07)+appId+_0x40baa1(0x4f8)),_0x3f6d49=query(_0x6a0d50,where(_0x40baa1(0xc41),'==',_0x5df3c4)),_0x4acb62=await getDocs(_0x3f6d49);if(_0x4acb62['docs'][_0x40baa1(0x711)]>=0x3){console[_0x40baa1(0x496)](_0x40baa1(0xa40)+_0x4acb62[_0x40baa1(0x69d)][_0x40baa1(0x711)]+_0x40baa1(0xb04)+_0x5df3c4+_0x40baa1(0x4c2));let _0x4f6e5c=_0x4acb62[_0x40baa1(0x69d)][_0x40baa1(0x9ca)](_0x146967=>_0x146967['data']());shuffleArray(_0x4f6e5c);const _0x557ee8={'topic':_0x5df3c4,'questions':_0x4f6e5c[_0x40baa1(0xa65)](0x0,0x3)};displaySkillPracticeDrill(_0x557ee8);}else{console['log'](_0x40baa1(0x18a)+_0x5df3c4+_0x40baa1(0xabd));const _0x1f3abd=await generatePracticeQuestions(_0x5df3c4);await saveDrillToPracticeBank(_0x1f3abd,_0x5df3c4),displaySkillPracticeDrill(_0x1f3abd);}}catch(_0xd9a020){console[_0x40baa1(0x20d)](_0x40baa1(0x939),_0xd9a020),showMessage(_0x40baa1(0x27e)),studentQuizArea[_0x40baa1(0x7f0)][_0x40baa1(0x6e3)]('hidden'),studentResultArea[_0x40baa1(0x7f0)]['remove'](_0x40baa1(0x9ac));}}async function saveDrillToPracticeBank(_0x58b729,_0x1ebe30){const _0x484999=_0x57253e,_0xe5a80d=collection(db,_0x484999(0xc07)+appId+'/public/data/practiceBank'),_0x33961f=writeBatch(db);_0x58b729[_0x484999(0x962)][_0x484999(0xb68)](_0x15e200=>{const _0x30a00d=_0x484999,_0x3e3189=doc(_0xe5a80d);_0x33961f[_0x30a00d(0x8e8)](_0x3e3189,{'topic':_0x1ebe30,'questionText':_0x15e200[_0x30a00d(0x525)],'options':_0x15e200['options'],'correctAnswerIndex':_0x15e200['correctAnswerIndex'],'explanation':_0x15e200[_0x30a00d(0x498)],'createdAt':serverTimestamp()});});try{await _0x33961f[_0x484999(0x99e)](),console[_0x484999(0x496)](_0x484999(0x77f)+_0x58b729[_0x484999(0x962)][_0x484999(0x711)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x46be78){console['error'](_0x484999(0x118),_0x46be78);}}async function getStandardizedTopic(_0x23e576){const _0x1b1494=_0x57253e,_0x31eff0=_0x1b1494(0xb26)+_0x23e576+_0x1b1494(0xb6b),_0x104736={'type':'OBJECT','properties':{'standardTopic':{'type':_0x1b1494(0xbda)}},'required':[_0x1b1494(0xa93)]};try{const _0x53e8c7=await callAnalysisApi(_0x31eff0,_0x104736);return _0x53e8c7[_0x1b1494(0xa93)];}catch(_0x37ad30){return console['error']('Failed\x20to\x20get\x20standardized\x20topic:',_0x37ad30),_0x23e576;}}async function handleGenerateEasyVersionQuiz(_0x4ca82e){const _0x479608=_0x57253e,_0x5c8b6b=document[_0x479608(0x597)](_0x479608(0x47e)),_0x572d38=document[_0x479608(0x597)](_0x479608(0x1e8));_0x572d38[_0x479608(0x7f0)]['add']('hidden');const _0x86f4f3=_0x479608(0x64d);_0x5c8b6b[_0x479608(0xbb9)](_0x479608(0x758),_0x86f4f3);try{const _0x165b10=allQuizzes[_0x479608(0x1bc)](_0x4a77e8=>_0x4a77e8['id']===_0x4ca82e);if(!_0x165b10)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x1b1b7a=_0x479608(0x94f)+JSON[_0x479608(0xb09)](_0x165b10[_0x479608(0x962)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x10bbfa={'type':_0x479608(0xae5),'properties':{'questionText':{'type':_0x479608(0xbda)},'questionType':{'type':_0x479608(0xbda)},'options':{'type':_0x479608(0x1d4),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x479608(0x844)},'idealAnswer':{'type':_0x479608(0xbda)},'explanation':{'type':_0x479608(0xbda)},'imageCode':{'type':_0x479608(0xbda)}},'required':[_0x479608(0x525),_0x479608(0x2a9),_0x479608(0x498)]},_0x13d338={'type':_0x479608(0xae5),'properties':{'questions':{'type':_0x479608(0x1d4),'items':_0x10bbfa}},'required':[_0x479608(0x962)]},_0x461391=await callAnalysisApi(_0x1b1b7a,_0x13d338);_0x461391&&_0x461391[_0x479608(0x962)]&&_0x461391['questions']['forEach'](_0x3fbf26=>{const _0x25c790=_0x479608;if(_0x3fbf26[_0x25c790(0xaac)](_0x25c790(0x415))){const _0x3ec387=String(_0x3fbf26[_0x25c790(0x415)])[_0x25c790(0x365)]();(_0x3ec387===''||_0x3ec387['toLowerCase']()===_0x25c790(0x8cb)||!_0x3ec387['startsWith'](_0x25c790(0x61f)))&&delete _0x3fbf26['imageCode'];}});if(!_0x461391||!_0x461391[_0x479608(0x962)]||_0x461391[_0x479608(0x962)][_0x479608(0x711)]===0x0)throw new Error(_0x479608(0x2a2));const _0x4d4932=_0x461391[_0x479608(0x962)][_0x479608(0x9ca)]((_0x269c67,_0x9cc07e)=>({..._0x269c67,'id':'q_'+Date[_0x479608(0xa1b)]()+'_'+_0x9cc07e})),_0x122333={'projectId':_0x165b10[_0x479608(0x9f2)],'quizType':_0x165b10['quizType'],'settings':_0x165b10[_0x479608(0x9ab)],'createdBy':_0x165b10['createdBy'],'status':_0x479608(0xbe2),'topic':_0x479608(0x5cc)+_0x165b10[_0x479608(0xc41)],'questions':_0x4d4932,'createdAt':new Date()[_0x479608(0xca0)](),'quizMode':_0x479608(0x8f4),'pairedQuizId':null};let _0x3e0e0e;while(!![]){_0x3e0e0e=Math[_0x479608(0x7b6)](0x3e8+Math[_0x479608(0x373)]()*0x2328)[_0x479608(0x2bf)]();const _0x42950f=await getDoc(doc(db,'artifacts/'+appId+_0x479608(0x194),_0x3e0e0e));if(!_0x42950f['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x479608(0x194),_0x3e0e0e),_0x122333),showMessage(_0x479608(0x1fa));}catch(_0x13723e){console['error'](_0x479608(0x157),_0x13723e),showMessage('เกิดข้อผิดพลาด:\x20'+_0x13723e['message']);}finally{const _0x40ac07=document[_0x479608(0x597)](_0x479608(0x642));_0x40ac07&&_0x40ac07['remove'](),_0x572d38[_0x479608(0x7f0)][_0x479608(0x4bd)](_0x479608(0x9ac));}}async function generatePracticeQuestions(_0x26c433){const _0x24ab52=_0x57253e,_0x19728c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x26c433+_0x24ab52(0xa74)+simpleMathPrompt+_0x24ab52(0x266),_0x1cbf95={'type':_0x24ab52(0xae5),'properties':{'questionText':{'type':_0x24ab52(0xbda)},'options':{'type':_0x24ab52(0x1d4),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x24ab52(0xbda)}},'required':[_0x24ab52(0x525),'options',_0x24ab52(0xacd),_0x24ab52(0x498)]},_0x482185={'type':_0x24ab52(0xae5),'properties':{'topic':{'type':_0x24ab52(0xbda)},'questions':{'type':'ARRAY','items':_0x1cbf95}},'required':['topic',_0x24ab52(0x962)]};return await callAnalysisApi(_0x19728c,_0x482185);}function displayLessonPlan(_0x18979a,_0x1ca7c2){const _0x5305cf=_0x57253e,_0x539e95=_0x5305cf(0x2d1)+_0x1ca7c2[_0x5305cf(0xc41)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x18979a[_0x5305cf(0x5ff)][_0x5305cf(0x9ca)](_0x28eaf9=>_0x5305cf(0x664)+_0x28eaf9+_0x5305cf(0x71a))[_0x5305cf(0x552)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x18979a[_0x5305cf(0x175)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x18979a[_0x5305cf(0xc08)][_0x5305cf(0x9ca)](_0x269d0f=>_0x5305cf(0x4ad)+_0x269d0f[_0x5305cf(0x308)]+_0x5305cf(0x3b1)+_0x269d0f[_0x5305cf(0x23f)]+'</p></div>')[_0x5305cf(0x552)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x5305cf(0x597)]('lesson-plan-title')[_0x5305cf(0x3a6)]=_0x5305cf(0x76c)+_0x1ca7c2[_0x5305cf(0xc41)],document[_0x5305cf(0x597)]('lesson-plan-content')[_0x5305cf(0x2fe)]=_0x539e95,document[_0x5305cf(0x597)](_0x5305cf(0x40b))[_0x5305cf(0x7f0)][_0x5305cf(0x4bd)](_0x5305cf(0x9ac));if(window[_0x5305cf(0x2e3)])MathJax[_0x5305cf(0x4b8)]();}function displaySkillPracticeDrill(_0x409900){const _0x17b8f9=_0x57253e;let _0x59bcdf=0x0;const _0x2113fe=_0x409900[_0x17b8f9(0x962)],_0x5cfab7=()=>{const _0x50f353=_0x17b8f9,_0x513a5a=_0x2113fe[_0x59bcdf],_0x277de2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x59bcdf+0x1)+_0x50f353(0x751)+_0x2113fe['length']+_0x50f353(0xa7f)+_0x513a5a[_0x50f353(0x525)]+_0x50f353(0xa14)+_0x513a5a[_0x50f353(0x6c2)][_0x50f353(0x9ca)]((_0x6001cf,_0x19eb1c)=>_0x50f353(0x595)+_0x19eb1c+_0x50f353(0x545)+_0x19eb1c+_0x50f353(0x382)+_0x19eb1c+'\x22>'+_0x6001cf+_0x50f353(0x65e))[_0x50f353(0x552)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x50f353(0x2fe)]=_0x277de2;if(window[_0x50f353(0x2e3)])MathJax[_0x50f353(0x4b8)]([studentQuizArea]);document['getElementById']('hint-btn')[_0x50f353(0x161)](_0x50f353(0x82f),async()=>{const _0x468e84=_0x50f353,_0x2b3db7=await getHintForQuestion(_0x513a5a[_0x468e84(0x525)]);showMessage(_0x2b3db7);}),document['getElementById'](_0x50f353(0xb28))[_0x50f353(0x161)](_0x50f353(0x82f),()=>{const _0x41673f=_0x50f353,_0x1327c3=document[_0x41673f(0x7b3)](_0x41673f(0xada));if(!_0x1327c3){showMessage(_0x41673f(0x2dc));return;}const _0x22a1d8=document[_0x41673f(0x597)](_0x41673f(0xc7a)),_0x42696f=parseInt(_0x1327c3[_0x41673f(0x6f7)])===_0x513a5a[_0x41673f(0xacd)];_0x42696f?(_0x22a1d8['className']=_0x41673f(0x4ea),_0x22a1d8[_0x41673f(0x2fe)]=_0x41673f(0x651)+_0x513a5a[_0x41673f(0x498)]):(_0x22a1d8[_0x41673f(0x4bc)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x22a1d8[_0x41673f(0x2fe)]=_0x41673f(0x663)+_0x513a5a[_0x41673f(0x498)]);_0x22a1d8['classList']['remove'](_0x41673f(0x9ac));if(window[_0x41673f(0x2e3)])MathJax[_0x41673f(0x4b8)]([_0x22a1d8]);document[_0x41673f(0x597)](_0x41673f(0xb28))[_0x41673f(0x7f0)][_0x41673f(0x6e3)]('hidden'),document[_0x41673f(0x597)](_0x41673f(0x31f))[_0x41673f(0x7f0)][_0x41673f(0x6e3)](_0x41673f(0x9ac)),document[_0x41673f(0x597)](_0x41673f(0x8d7))['classList'][_0x41673f(0x4bd)](_0x41673f(0x9ac));}),document[_0x50f353(0x597)](_0x50f353(0x8d7))[_0x50f353(0x161)](_0x50f353(0x82f),()=>{const _0x38f337=_0x50f353;_0x59bcdf++,_0x59bcdf<_0x2113fe[_0x38f337(0x711)]?_0x5cfab7():(studentQuizArea[_0x38f337(0x2fe)]=_0x38f337(0x2e5),document['getElementById'](_0x38f337(0xc93))[_0x38f337(0x161)](_0x38f337(0x82f),()=>{const _0x78d079=_0x38f337;studentQuizArea['classList']['add'](_0x78d079(0x9ac)),studentResultArea[_0x78d079(0x7f0)]['remove'](_0x78d079(0x9ac));}));});};_0x5cfab7();}async function getHintForQuestion(_0x307ba2){const _0x12e3c3=_0x57253e,_0x197542=_0x12e3c3(0x2c7)+_0x307ba2+_0x12e3c3(0xc03),_0x476d26={'type':_0x12e3c3(0xae5),'properties':{'hint':{'type':_0x12e3c3(0xbda)}},'required':['hint']};try{const _0x3f6ca7=await callAnalysisApi(_0x197542,_0x476d26);return _0x3f6ca7['hint'];}catch(_0x3f846a){return console[_0x12e3c3(0x20d)](_0x12e3c3(0x84c),_0x3f846a),_0x12e3c3(0x1c1);}}async function extractTextFromPdf(_0x11b2f6){const _0x1c5e86=_0x57253e;pdfjsLib['GlobalWorkerOptions'][_0x1c5e86(0x299)]=_0x1c5e86(0x231);const _0x3bbc40=await _0x11b2f6[_0x1c5e86(0x5f6)](),_0x2991f0=await pdfjsLib[_0x1c5e86(0x754)](_0x3bbc40)[_0x1c5e86(0x6e2)],_0x309223=_0x2991f0[_0x1c5e86(0xad2)];let _0x40ac10='';for(let _0x298e42=0x1;_0x298e42<=_0x309223;_0x298e42++){const _0x2128ca=await _0x2991f0['getPage'](_0x298e42),_0x246592=await _0x2128ca['getTextContent'](),_0xd42b21=_0x246592[_0x1c5e86(0x9e2)][_0x1c5e86(0x9ca)](_0x5379f5=>_0x5379f5[_0x1c5e86(0x851)])[_0x1c5e86(0x552)]('\x20');_0x40ac10+=_0xd42b21+'\x0a\x0a';}return _0x40ac10;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x29e854){const _0xda395b=_0x57253e,_0x448088=document[_0xda395b(0x597)]('blueprint-options-container'),_0x591fec=document[_0xda395b(0x597)]('blueprint-topics-list'),_0x56988a=document[_0xda395b(0x597)](_0xda395b(0x589));_0x448088['classList'][_0xda395b(0x4bd)](_0xda395b(0x9ac)),_0x591fec['innerHTML']=_0xda395b(0x3ec),_0x56988a[_0xda395b(0x7f0)][_0xda395b(0x6e3)](_0xda395b(0x9ac));try{const _0x3a06fe='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x29e854+_0xda395b(0x301),_0x22be95={'type':'OBJECT','properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0xda395b(0x1d4),'items':{'type':'OBJECT','properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0xda395b(0x1d4),'items':{'type':_0xda395b(0xae5),'properties':{'topicName':{'type':_0xda395b(0xbda)},'subTopics':{'type':'ARRAY','items':{'type':_0xda395b(0xbda)}}},'required':['topicName',_0xda395b(0x749)]}}},'required':[_0xda395b(0x13e),_0xda395b(0x43a)]}}},'required':['gradeLevel',_0xda395b(0x8e3)]},_0x1de017=await callAnalysisApi(_0x3a06fe,_0x22be95);if(_0x1de017&&_0x1de017[_0xda395b(0x8e3)])extractedBlueprintData=_0x1de017,renderBlueprintTopics(_0x1de017),_0x56988a[_0xda395b(0x7f0)]['remove'](_0xda395b(0x9ac));else throw new Error(_0xda395b(0xa36));}catch(_0x27f665){console[_0xda395b(0x20d)](_0xda395b(0xc7b),_0x27f665),_0x591fec[_0xda395b(0x2fe)]=_0xda395b(0x8a7);}}function renderBlueprintTopics(_0x46333c){const _0x7ce3c4=_0x57253e,_0x1bc156=document['getElementById'](_0x7ce3c4(0xb97)),_0x353129=_0x46333c[_0x7ce3c4(0x29f)],_0x3bbdeb=_0x7ce3c4(0xb4d)+_0x353129+_0x7ce3c4(0x6a7);let _0x5b6163='';_0x46333c[_0x7ce3c4(0x8e3)][_0x7ce3c4(0xb68)](_0x5ae914=>{const _0x3923c7=_0x7ce3c4;_0x5b6163+=_0x3923c7(0xb86)+_0x5ae914[_0x3923c7(0x13e)]+'</h4>',_0x5ae914[_0x3923c7(0x43a)]['forEach'](_0x7fef38=>{const _0x50d548=_0x3923c7;_0x5b6163+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x7fef38[_0x50d548(0x6a9)]+_0x50d548(0x78f),_0x7fef38[_0x50d548(0x749)][_0x50d548(0xb68)](_0x224ddd=>{const _0x433289=_0x50d548;_0x5b6163+='\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27'+_0x224ddd['replace'](/'/g,'\x5c\x27')+_0x433289(0x873)+_0x353129[_0x433289(0x442)](/'/g,'\x5c\x27')+_0x433289(0xc99)+_0x224ddd+_0x433289(0x10e)+_0x224ddd['replace'](/'/g,'\x5c\x27')+_0x433289(0x132);}),_0x5b6163+=_0x50d548(0x4a4);}),_0x5b6163+=_0x3923c7(0x519);}),_0x1bc156[_0x7ce3c4(0x2fe)]=_0x3bbdeb+_0x5b6163;}async function handleGenerateTeachingContent(_0x5d3e4e){const _0x128906=_0x57253e,_0x1e118c=document[_0x128906(0x597)](_0x128906(0x40b)),_0x40592b=document[_0x128906(0x597)]('lesson-plan-content');document[_0x128906(0x597)](_0x128906(0xad4))['textContent']='กำลังสร้างเนื้อหา:\x20'+_0x5d3e4e,_0x40592b[_0x128906(0x2fe)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x1e118c[_0x128906(0x7f0)]['remove'](_0x128906(0x9ac));try{const _0x4e7546=_0x128906(0x2d9)+_0x5d3e4e+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2204dd={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x128906(0x1d4),'items':{'type':_0x128906(0xbda)}},'commonMistakes':{'type':_0x128906(0x1d4),'items':{'type':'STRING'}},'stepByStepExamples':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'solution':{'type':_0x128906(0xbda)}},'required':['question','solution']}},'teacherTips':{'type':_0x128906(0x1d4),'items':{'type':_0x128906(0xbda)}}},'required':[_0x128906(0x31a),_0x128906(0x955),_0x128906(0x7d9),_0x128906(0x1b5)]},_0x28c6ab=await callAnalysisApi(_0x4e7546,_0x2204dd);displayTeachingContent(_0x28c6ab,_0x5d3e4e);}catch(_0x42731d){console[_0x128906(0x20d)](_0x128906(0x15b),_0x42731d),_0x40592b[_0x128906(0x2fe)]=_0x128906(0x780)+_0x42731d[_0x128906(0x5f2)]+_0x128906(0x686);}}function displayTeachingContent(_0x212559,_0x3a18f0){const _0xc0834a=_0x57253e,_0x457138=document[_0xc0834a(0x597)](_0xc0834a(0x37e));document[_0xc0834a(0x597)]('lesson-plan-title')['textContent']='เนื้อหาสำหรับสอน:\x20'+_0x3a18f0;const _0x412088=_0xc0834a(0xbb5)+_0x212559['keyConcepts'][_0xc0834a(0x9ca)](_0x155648=>'<li>'+_0x155648+_0xc0834a(0x71a))[_0xc0834a(0x552)]('')+_0xc0834a(0x83d)+_0x212559['commonMistakes'][_0xc0834a(0x9ca)](_0x1f0b4b=>'<li>'+_0x1f0b4b+'</li>')[_0xc0834a(0x552)]('')+_0xc0834a(0x39b)+_0x212559[_0xc0834a(0x7d9)][_0xc0834a(0x9ca)](_0x133da9=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x133da9[_0xc0834a(0x308)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x133da9[_0xc0834a(0x23f)]+_0xc0834a(0x336))[_0xc0834a(0x552)]('')+_0xc0834a(0x254)+_0x212559['teacherTips']['map'](_0x2d6cde=>'<li>'+_0x2d6cde+_0xc0834a(0x71a))[_0xc0834a(0x552)]('')+_0xc0834a(0x4f4);_0x457138[_0xc0834a(0x2fe)]=_0x412088;if(window[_0xc0834a(0x2e3)])MathJax[_0xc0834a(0x4b8)]([_0x457138]);}async function generateQuizForSingleTopic(_0x295661){const _0x15a7a3=_0x57253e;console['log'](_0x15a7a3(0x660)+_0x295661+'\x22');const _0x493cac=document['getElementById'](_0x15a7a3(0x3ae)),_0x465cca=_0x493cac['files'][_0x15a7a3(0x711)]>0x0?_0x493cac[_0x15a7a3(0xcaa)][0x0]:null;let _0x800b03=null;if(_0x465cca)try{const _0x13948f=new FileReader();_0x13948f[_0x15a7a3(0x499)](_0x465cca);const _0x4bb2b6=await new Promise((_0x18e2cc,_0x4324e7)=>{const _0x1b4f4e=_0x15a7a3;_0x13948f[_0x1b4f4e(0xc68)]=()=>_0x18e2cc(_0x13948f[_0x1b4f4e(0x7df)][_0x1b4f4e(0xc61)](',')[0x1]),_0x13948f[_0x1b4f4e(0x8af)]=_0xd62d7=>_0x4324e7(_0xd62d7);});_0x800b03=[{'inlineData':{'mimeType':_0x465cca[_0x15a7a3(0xa17)],'data':_0x4bb2b6}}];}catch(_0x5c340e){console[_0x15a7a3(0x20d)](_0x15a7a3(0x362),_0x5c340e),showMessage(_0x15a7a3(0x669));return;}generateQuiz(_0x295661,null,null,_0x800b03,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x2cd1d1=null){const _0x3bcfcf=_0x57253e,_0x47fe5a=document[_0x3bcfcf(0x597)]('loader'),_0x1654a2=document[_0x3bcfcf(0x597)](_0x3bcfcf(0x697));let _0x49a0de;if(_0x2cd1d1)_0x49a0de=_0x2cd1d1;else{const _0x2d0092=document[_0x3bcfcf(0x597)](_0x3bcfcf(0x230)),_0x1da91f=_0x2d0092[_0x3bcfcf(0xcaa)][0x0];if(!_0x1da91f){showMessage(_0x3bcfcf(0x6d7));return;}_0x1654a2[_0x3bcfcf(0x3a6)]=_0x3bcfcf(0x740);const _0x33f2eb=await new Promise((_0x13ac3e,_0x205cdf)=>{const _0x53a89b=_0x3bcfcf,_0x550ee3=new FileReader();_0x550ee3[_0x53a89b(0x499)](_0x1da91f),_0x550ee3['onload']=()=>_0x13ac3e(_0x550ee3[_0x53a89b(0x7df)][_0x53a89b(0xc61)](',')[0x1]),_0x550ee3[_0x53a89b(0x8af)]=_0x205cdf;});_0x49a0de=[{'text':_0x3bcfcf(0x782)},{'inlineData':{'mimeType':_0x1da91f['type'],'data':_0x33f2eb}}];}const _0x36a93f=_0x3bcfcf(0xa90),_0x193543=_0x3bcfcf(0x46d),_0x1e34e9=_0x3bcfcf(0xa3d),_0x12ce6e={'type':'OBJECT','properties':{'questionText':{'type':_0x3bcfcf(0xbda)},'questionType':{'type':_0x3bcfcf(0xbda),'enum':[_0x3bcfcf(0x8ea),_0x3bcfcf(0x733),_0x3bcfcf(0xc6b),_0x3bcfcf(0x22d)]},'options':{'type':'ARRAY','items':{'type':_0x3bcfcf(0xbda)}},'correctAnswerIndex':{'type':_0x3bcfcf(0x844)},'idealAnswer':{'type':_0x3bcfcf(0xbda)},'correctAnswer':{'type':_0x3bcfcf(0x4bf)},'explanation':{'type':_0x3bcfcf(0xbda)},'imageCode':{'type':_0x3bcfcf(0xbda)}},'required':[_0x3bcfcf(0x2a9),_0x3bcfcf(0x498)]},_0x206a29={'type':_0x3bcfcf(0xae5),'properties':{'topic':{'type':_0x3bcfcf(0xbda)},'questions':{'type':'ARRAY','items':_0x12ce6e}},'required':['topic',_0x3bcfcf(0x962)]};_0x49a0de[0x0][_0x3bcfcf(0x71d)]=_0x1e34e9,await handleApiCall(_0x49a0de,_0x3bcfcf(0x243),_0x206a29);}function proceedToNextQuestion(_0x4f4c70){const _0x38d482=_0x57253e;studentAnswersPerQuestion['push'](_0x4f4c70),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x38d482(0x962)][_0x38d482(0x711)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x4d175b,_0x17d82c){const _0x608df8=_0x57253e,_0x5610ed=Object[_0x608df8(0x9d8)](_0x4d175b['players']||{}),_0x22c566=_0x5610ed[_0x608df8(0x711)],_0x17b561=[..._0x5610ed][_0x608df8(0x2d6)]((_0x56e785,_0x2136e1)=>_0x2136e1[_0x608df8(0x1ed)]-_0x56e785[_0x608df8(0x1ed)]),_0x58d385=_0x4d175b['currentQuestionIndex'];let _0xa258ad='';const _0x12b2cd=_0x4d175b[_0x608df8(0x5df)][_0x608df8(0x962)],_0x51264f=_0x12b2cd[_0x58d385],_0x5842be=_0x21a5a3=>String[_0x608df8(0x400)](0x41+_0x21a5a3);let _0x2ef553='',_0x7ef836='';if(_0x51264f){const _0x2482e4=_0x51264f[_0x608df8(0x2a9)]||_0x4d175b['shuffledQuiz'][_0x608df8(0x2b3)];if(_0x2482e4===_0x608df8(0x8ea)&&_0x51264f[_0x608df8(0x6c2)]&&_0x51264f[_0x608df8(0xacd)]!==undefined){const _0x4f4560=_0x51264f['correctAnswerIndex'];_0x2ef553=_0x51264f[_0x608df8(0x6c2)][_0x4f4560],_0x7ef836=_0x5842be(_0x4f4560)+'.';}else{if(_0x2482e4===_0x608df8(0xc6b)){const _0x3d4a46=_0x51264f[_0x608df8(0x75e)]===!![]||String(_0x51264f['correctAnswer'])[_0x608df8(0x6c8)]()===_0x608df8(0x36a);_0x3d4a46?(_0x2ef553=_0x608df8(0x648),_0x7ef836='ก.'):(_0x2ef553='ไม่ใช่\x20/\x20ผิด',_0x7ef836='ข.');}else{if(_0x2482e4===_0x608df8(0x22d))_0x2ef553=_0x51264f[_0x608df8(0x2a6)]||'-',_0x7ef836='';else _0x2482e4===_0x608df8(0x733)&&(_0x2ef553=_0x51264f[_0x608df8(0x850)]||'-',_0x7ef836='');}}}_0x2ef553&&(_0xa258ad=_0x608df8(0x916)+(_0x58d385+0x1)+_0x608df8(0xc06)+_0x7ef836+'\x20'+_0x2ef553+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20');const _0x40da7f=_0x17b561[_0x608df8(0x9ca)](_0x386617=>{const _0x46f7db=_0x608df8;let _0x5c540b=![];if(_0x386617['answers']&&_0x58d385!==-0x1){const _0xdfe984=_0x386617['answers'][_0x46f7db(0x1bc)](_0x1a0cbf=>_0x1a0cbf['questionIndex']===_0x58d385);_0xdfe984&&_0xdfe984['isCorrect']&&(_0x5c540b=!![]);}const _0x231b62=_0x5c540b?_0x46f7db(0x9c1):_0x46f7db(0x5b2);return _0x46f7db(0xb5e)+_0x231b62+_0x46f7db(0xc81)+_0x386617[_0x46f7db(0x309)]+'</span><span\x20class=\x22font-bold\x22>'+_0x386617[_0x46f7db(0x1ed)]+_0x46f7db(0xbfb);})[_0x608df8(0x552)](''),_0x3651e5=_0x12b2cd[_0x608df8(0x9ca)]((_0x332b8d,_0x1baf50)=>{const _0x391a97=_0x608df8,_0x410385=_0x5610ed[_0x391a97(0xa32)](_0x3d98c9=>_0x3d98c9[_0x391a97(0x5a2)]&&_0x3d98c9['answers'][_0x391a97(0x1bc)](_0x3cafd9=>_0x3cafd9[_0x391a97(0x954)]===_0x1baf50&&_0x3cafd9[_0x391a97(0x1e3)]))['length'],_0x1bdcdd=_0x1baf50===_0x58d385,_0x2f85c1=_0x1bdcdd?_0x391a97(0x5fa):_0x391a97(0xad3);return _0x391a97(0xa80)+_0x2f85c1+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x1baf50+0x1)+_0x391a97(0x5f9)+_0x410385+_0x391a97(0x751)+_0x22c566+_0x391a97(0x9f4);})[_0x608df8(0x552)]('');let _0x520c96='',_0x30990d='';if(_0x17d82c){const _0x3fdba3=_0x4d175b[_0x608df8(0x2df)]>=_0x12b2cd[_0x608df8(0x711)]-0x1;_0x520c96=_0x608df8(0x725)+(_0x3fdba3?_0x608df8(0x223):_0x608df8(0x5a8))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x30990d=_0x608df8(0x3c4);}const _0x7975b2=_0x608df8(0x94c)+_0x4d175b[_0x608df8(0x5df)][_0x608df8(0xc41)]+_0x608df8(0xc5e)+_0x30990d+_0x608df8(0x9b6)+_0xa258ad+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x40da7f||_0x608df8(0xa16))+_0x608df8(0x630)+_0x3651e5+_0x608df8(0x3d5)+(_0x17d82c?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x520c96+_0x608df8(0x519):'')+_0x608df8(0xb0b);liveGameView[_0x608df8(0x2fe)]=_0x7975b2;if(window[_0x608df8(0x2e3)]){const _0x37d2d1=document['getElementById'](_0x608df8(0x490));_0x37d2d1&&MathJax[_0x608df8(0x4b8)]([_0x37d2d1]);}if(_0x17d82c){document[_0x608df8(0x597)](_0x608df8(0x8d2))[_0x608df8(0x1f8)]=async()=>{const _0x2466b6=_0x608df8,_0x3e4691=doc(db,_0x2466b6(0xc07)+appId+_0x2466b6(0x539),currentLiveGameId),_0x65870b=_0x4d175b[_0x2466b6(0x2df)]+0x1;if(_0x65870b<_0x12b2cd[_0x2466b6(0x711)]){const _0x51d7c0={};Object['keys'](_0x4d175b[_0x2466b6(0xae4)])[_0x2466b6(0xb68)](_0x297564=>{const _0x244b8c=_0x2466b6;_0x51d7c0[_0x244b8c(0xc9b)+_0x297564+_0x244b8c(0x4fe)]=![],_0x51d7c0[_0x244b8c(0xc9b)+_0x297564+_0x244b8c(0xca4)]=null;}),await updateDoc(_0x3e4691,{..._0x51d7c0,'status':_0x2466b6(0x308),'currentQuestionIndex':_0x65870b,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x3e4691,{'status':_0x2466b6(0xb52)});};const _0x5a5aa3=document[_0x608df8(0x597)](_0x608df8(0x86a));_0x5a5aa3&&(_0x5a5aa3[_0x608df8(0x1f8)]=()=>{const _0x30b4c3=_0x608df8;showConfirmation(_0x30b4c3(0x74a),async()=>{const _0x5e9d38=_0x30b4c3,_0x38d9c4=doc(db,_0x5e9d38(0xc07)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x38d9c4,{'status':_0x5e9d38(0xb52)});});});}}async function handleGenerateParallelFromBank(_0x4ac6af){const _0x4acc91=_0x57253e,_0x56566e=document['getElementById'](_0x4acc91(0x47e)),_0x54e9fc=document[_0x4acc91(0x597)](_0x4acc91(0x1e8));_0x54e9fc['classList'][_0x4acc91(0x6e3)]('hidden');const _0x554458='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x4ac6af['topic']+_0x4acc91(0x817);_0x56566e[_0x4acc91(0xbb9)](_0x4acc91(0x758),_0x554458);const _0x40e9e6=document[_0x4acc91(0x597)](_0x4acc91(0x3f2));try{const _0x328b56=_0x4ac6af[_0x4acc91(0x962)][_0x4acc91(0x9ca)]((_0x2da6f8,_0x4eaf17)=>{const _0x53a59d=_0x4acc91;let _0x1fbe31=_0x4eaf17+0x1+'.\x20'+(_0x2da6f8[_0x53a59d(0x525)]||_0x2da6f8['stem'])+'\x0a';if(_0x2da6f8[_0x53a59d(0x6c2)])_0x1fbe31+=_0x2da6f8[_0x53a59d(0x6c2)][_0x53a59d(0x9ca)]((_0x4cfb11,_0x41d079)=>'\x20\x20\x20-\x20'+(_0x41d079===_0x2da6f8['correctAnswerIndex']?_0x53a59d(0x826):'')+'\x20'+_0x4cfb11)[_0x53a59d(0x552)]('\x0a');else _0x2da6f8['idealAnswer']&&(_0x1fbe31+=_0x53a59d(0x2f1)+_0x2da6f8[_0x53a59d(0x850)]);return _0x1fbe31;})[_0x4acc91(0x552)]('\x0a\x0a');_0x40e9e6[_0x4acc91(0x3a6)]=_0x4acc91(0x6ff);const _0x3d4111=_0x4acc91(0xb90)+_0x4ac6af[_0x4acc91(0xc41)]+_0x4acc91(0x4ff)+_0x328b56+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x4acc91(0x45e),_0x4488aa={'type':_0x4acc91(0xae5),'properties':{'questionText':{'type':_0x4acc91(0xbda)},'questionType':{'type':_0x4acc91(0xbda),'enum':[_0x4acc91(0x8ea),_0x4acc91(0x733),'true_false',_0x4acc91(0x22d)]},'options':{'type':_0x4acc91(0x1d4),'items':{'type':_0x4acc91(0xbda)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4acc91(0xbda)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x4acc91(0xbda)},'correctResponse':{'type':_0x4acc91(0xbda)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x4acc91(0xbda)},'imageCode':{'type':_0x4acc91(0xbda)}},'required':[_0x4acc91(0x2a9),_0x4acc91(0x498)]},_0x9ec166={'type':_0x4acc91(0xae5),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x4acc91(0x1d4),'items':_0x4488aa}},'required':[_0x4acc91(0xc41),_0x4acc91(0x962)]},_0x394578=await callAnalysisApi(_0x3d4111,_0x9ec166),_0x4e70b3=_0x394578['questions'][_0x4acc91(0x9ca)]((_0x3c569a,_0x5eafc7)=>({..._0x3c569a,'id':'q_'+Date[_0x4acc91(0xa1b)]()+'_'+_0x5eafc7})),_0x52886f=_0x4acc91(0x14c)+_0x4ac6af[_0x4acc91(0xc41)],_0x5bc8ed={'topic':_0x52886f,'questions':_0x4e70b3,'quizType':_0x4ac6af[_0x4acc91(0x2b3)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x4acc91(0xbe2),'settings':_0x4ac6af[_0x4acc91(0x9ab)],'quizMode':_0x4acc91(0x8f4),'pairedQuizId':null,'lessonPlan':null};let _0x5c37ba;while(!![]){_0x5c37ba=Math['floor'](0x3e8+Math[_0x4acc91(0x373)]()*0x2328)[_0x4acc91(0x2bf)]();const _0x4cffd8=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5c37ba));if(!_0x4cffd8[_0x4acc91(0xabe)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x4acc91(0x194),_0x5c37ba),_0x5bc8ed),showMessage(_0x4acc91(0x4ee));}catch(_0x1c2f96){console[_0x4acc91(0x20d)](_0x4acc91(0x409),_0x1c2f96),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1c2f96[_0x4acc91(0x5f2)]);}finally{const _0x2dc657=document[_0x4acc91(0x597)]('temp-loader-results');_0x2dc657&&_0x2dc657[_0x4acc91(0x4bd)](),_0x54e9fc['classList'][_0x4acc91(0x4bd)]('hidden');}}async function handleGenerateParallelPostTest(_0x2b612b){const _0x49e56f=_0x57253e,_0x1ccd15=document[_0x49e56f(0x597)](_0x49e56f(0x47e)),_0x1adac3=document[_0x49e56f(0x597)](_0x49e56f(0x1e8));_0x1adac3[_0x49e56f(0x7f0)]['add'](_0x49e56f(0x9ac));const _0x59fc85=_0x49e56f(0x7e8);_0x1ccd15[_0x49e56f(0xbb9)](_0x49e56f(0x758),_0x59fc85);try{const _0x55723b=_0x2b612b[_0x49e56f(0x962)][_0x49e56f(0x9ca)]((_0x58196d,_0xcbf90c)=>{const _0xbba0e6=_0x49e56f;let _0x91c20c=_0xcbf90c+0x1+'.\x20'+(_0x58196d[_0xbba0e6(0x525)]||_0x58196d[_0xbba0e6(0x2d4)]);if(_0x58196d[_0xbba0e6(0x6c2)])_0x91c20c+=_0xbba0e6(0x244)+_0x58196d[_0xbba0e6(0x6c2)][_0xbba0e6(0x552)](',\x20');return _0x91c20c;})[_0x49e56f(0x552)]('\x0a\x0a'),_0x94c84e=_0x49e56f(0x315)+_0x2b612b['topic']+_0x49e56f(0xc19)+_0x55723b+_0x49e56f(0x769)+simpleMathPrompt+_0x49e56f(0x45e),_0x26358a={'type':_0x49e56f(0xae5),'properties':{'topic':{'type':_0x49e56f(0xbda)},'questions':{'type':_0x49e56f(0x1d4),'items':{'type':_0x49e56f(0xae5),'properties':{'questionText':{'type':_0x49e56f(0xbda)},'questionType':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x49e56f(0xbda)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x49e56f(0xbda)},'explanation':{'type':_0x49e56f(0xbda)}},'required':[_0x49e56f(0x525),_0x49e56f(0x498)]}}},'required':[_0x49e56f(0xc41),_0x49e56f(0x962)]},_0x3efeb3=await callAnalysisApi(_0x94c84e,_0x26358a),_0xcc67e4=_0x2b612b[_0x49e56f(0xc41)][_0x49e56f(0x442)](_0x49e56f(0x37b),'')['trim'](),_0x1f418f=_0x49e56f(0x529)+_0xcc67e4,_0x95c35d={..._0x3efeb3,'topic':_0x1f418f,'quizType':_0x2b612b[_0x49e56f(0x2b3)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x49e56f(0xbe2),'settings':_0x2b612b['settings'],'quizMode':_0x49e56f(0xc33),'pairedQuizId':_0x2b612b['id']};let _0x19b5aa;while(!![]){_0x19b5aa=Math[_0x49e56f(0x7b6)](0x3e8+Math['random']()*0x2328)[_0x49e56f(0x2bf)]();const _0x4b8f36=await getDoc(doc(db,_0x49e56f(0xc07)+appId+_0x49e56f(0x194),_0x19b5aa));if(!_0x4b8f36[_0x49e56f(0xabe)]())break;}await setDoc(doc(db,_0x49e56f(0xc07)+appId+_0x49e56f(0x194),_0x19b5aa),_0x95c35d);const _0x4a6058=doc(db,_0x49e56f(0xc07)+appId+_0x49e56f(0x194),_0x2b612b['id']);await updateDoc(_0x4a6058,{'pairedQuizId':_0x19b5aa}),showMessage(_0x49e56f(0xb95));}catch(_0x551c64){console[_0x49e56f(0x20d)]('Error\x20generating\x20parallel\x20post-test:',_0x551c64),showMessage(_0x49e56f(0x653)+_0x551c64[_0x49e56f(0x5f2)]);}finally{const _0x4eee49=document[_0x49e56f(0x597)](_0x49e56f(0x642));if(_0x4eee49)_0x4eee49['remove']();_0x1adac3[_0x49e56f(0x7f0)][_0x49e56f(0x4bd)](_0x49e56f(0x9ac));}}async function handleGenerateParallelTest(_0xa11c=null){const _0x349580=_0x57253e;let _0x31a4d4=_0xa11c;if(!_0x31a4d4){const _0x126fea=document[_0x349580(0x597)](_0x349580(0x2bb));_0x126fea[_0x349580(0xcaa)][_0x349580(0x711)]>0x0&&(_0x31a4d4=_0x126fea[_0x349580(0xcaa)][0x0]);}if(!_0x31a4d4){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0xfc1ec3=document[_0x349580(0x597)](_0x349580(0x5ab)),_0xfa5717=document[_0x349580(0x597)](_0x349580(0x697)),_0x4626a6=document[_0x349580(0x597)](_0x349580(0x2c0)),_0x5456a5=document[_0x349580(0x597)]('generate-from-parallel-test-btn');_0x5456a5[_0x349580(0x992)]=!![],document[_0x349580(0x597)](_0x349580(0x186))['classList'][_0x349580(0x4bd)](_0x349580(0x9ac)),_0x4626a6[_0x349580(0x2fe)]='',_0xfc1ec3[_0x349580(0x7f0)]['remove'](_0x349580(0x9ac)),_0xfa5717[_0x349580(0x3a6)]=_0x349580(0x2af);const _0x3d8ee8=new FileReader();_0x3d8ee8[_0x349580(0x499)](_0x31a4d4),_0x3d8ee8[_0x349580(0xc68)]=async()=>{const _0x5585e1=_0x349580;try{const _0xdc5967=_0x3d8ee8[_0x5585e1(0x7df)][_0x5585e1(0xc61)](',')[0x1],_0x5a4fab=_0x31a4d4[_0x5585e1(0xa17)];_0xfa5717[_0x5585e1(0x3a6)]=_0x5585e1(0x19f);const _0x2415fe=document['getElementById']('include-images-checkbox')['checked'],_0x5f5cdf=_0x2415fe?_0x5585e1(0x26f):'',_0x5e6bfa=_0x5585e1(0x3fb),_0x10bd58={'type':_0x5585e1(0xae5),'properties':{'questionText':{'type':_0x5585e1(0xbda)},'questionType':{'type':_0x5585e1(0xbda),'enum':['multiple_choice',_0x5585e1(0x733)]},'options':{'type':_0x5585e1(0x1d4),'items':{'type':_0x5585e1(0xbda)}},'correctAnswerIndex':{'type':_0x5585e1(0x844)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5585e1(0xbda)},'imageCode':{'type':_0x5585e1(0xbda)}},'required':[_0x5585e1(0x525),'questionType',_0x5585e1(0x498)]},_0x537917={'type':_0x5585e1(0xae5),'properties':{'topic':{'type':_0x5585e1(0xbda)},'questions':{'type':_0x5585e1(0x1d4),'items':_0x10bd58}},'required':[_0x5585e1(0xc41),_0x5585e1(0x962)]},_0x1eeaf2=[{'text':_0x5e6bfa},{'inlineData':{'mimeType':_0x5a4fab,'data':_0xdc5967}}];await handleApiCall(_0x1eeaf2,_0x5585e1(0xbe1),_0x537917);}catch(_0x50a595){console[_0x5585e1(0x20d)](_0x5585e1(0x92c),_0x50a595),showMessage(_0x5585e1(0x653)+_0x50a595[_0x5585e1(0x5f2)]),_0x4626a6[_0x5585e1(0x2fe)]=_0x5585e1(0x343);}finally{_0xfc1ec3[_0x5585e1(0x7f0)][_0x5585e1(0x6e3)](_0x5585e1(0x9ac)),_0x5456a5[_0x5585e1(0x992)]=![];}},_0x3d8ee8[_0x349580(0x8af)]=_0x278974=>{const _0x2d9645=_0x349580;console[_0x2d9645(0x20d)](_0x2d9645(0xb6d),_0x278974),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0xfc1ec3['classList'][_0x2d9645(0x6e3)](_0x2d9645(0x9ac)),_0x5456a5[_0x2d9645(0x992)]=![];};}async function handleRegenerateQuestionInEditor(_0x59a2ff){const _0x174409=_0x57253e;if(currentEditingQuizData===null)return;const _0x6254ca=document[_0x174409(0x7b3)](_0x174409(0x7ba)+_0x59a2ff+'\x22]');_0x6254ca&&(_0x6254ca[_0x174409(0x2fe)]=_0x174409(0x252));const _0x42d309=currentEditingQuizData[_0x174409(0x962)][_0x59a2ff],_0x114395=currentEditingQuizData[_0x174409(0xc41)],_0x4c9f4c=_0x42d309[_0x174409(0x2a9)],_0x2164ff={'type':_0x174409(0xae5),'properties':{'questionText':{'type':_0x174409(0xbda)},'options':{'type':_0x174409(0x1d4),'items':{'type':_0x174409(0xbda)}},'correctAnswerIndex':{'type':_0x174409(0x844)},'explanation':{'type':_0x174409(0xbda)}},'required':[_0x174409(0x525),_0x174409(0x6c2),_0x174409(0xacd),_0x174409(0x498)]},_0x29c5e5={'type':'OBJECT','properties':{'questionText':{'type':_0x174409(0xbda)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x174409(0xbda)}},'required':['questionText',_0x174409(0x850),_0x174409(0x498)]};let _0x5c957b,_0x4ece1b='';_0x4c9f4c===_0x174409(0x8ea)?(_0x5c957b=_0x2164ff,_0x4ece1b=_0x174409(0x42d)):(_0x5c957b=_0x29c5e5,_0x4ece1b='แบบเติมคำตอบ');const _0x8be4ac=_0x174409(0x28e)+_0x114395+_0x174409(0x768)+_0x4ece1b+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x42d309[_0x174409(0x525)]||_0x42d309[_0x174409(0x2d4)])+'\x22.\x20'+simpleMathPrompt;try{const _0x20f72f=await callAnalysisApi(_0x8be4ac,_0x5c957b);currentEditingQuizData[_0x174409(0x962)][_0x59a2ff]={..._0x42d309,..._0x20f72f},renderQuizEditor(currentEditingQuizData);}catch(_0x6c25b7){console[_0x174409(0x20d)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x6c25b7),showMessage(_0x174409(0x520)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x2d1ea0=_0x57253e,_0xf129a1=document[_0x2d1ea0(0x597)](_0x2d1ea0(0x80f));currentMode==='student'?(currentMode=_0x2d1ea0(0xa4b),_0xf129a1[_0x2d1ea0(0x2fe)]=_0x2d1ea0(0x949),_0xf129a1[_0x2d1ea0(0x28a)]=_0x2d1ea0(0x5a6),showView(_0x2d1ea0(0x2eb))):(currentMode=_0x2d1ea0(0xcab),_0xf129a1[_0x2d1ea0(0x2fe)]=_0x2d1ea0(0x50d),_0xf129a1[_0x2d1ea0(0x28a)]=_0x2d1ea0(0xabb),showView(_0x2d1ea0(0xcab)));}function handleAdminLogin(){const _0x157071=_0x57253e,_0x1f22d3=document[_0x157071(0x597)]('admin-password-input'),_0x31ccd8=document[_0x157071(0x597)](_0x157071(0x2f5));if(_0x1f22d3[_0x157071(0x6f7)]===_0x157071(0x8fc)){adminPasswordModal['classList'][_0x157071(0x6e3)]('hidden'),_0x1f22d3[_0x157071(0x6f7)]='',_0x31ccd8[_0x157071(0x7f0)]['add'](_0x157071(0x9ac)),currentMode=_0x157071(0xa4b);const _0x162922=document[_0x157071(0x597)](_0x157071(0x80f));_0x162922['innerHTML']=_0x157071(0x949),_0x162922[_0x157071(0x28a)]=_0x157071(0x5a6),showView(_0x157071(0x2eb));}else _0x31ccd8[_0x157071(0x7f0)][_0x157071(0x4bd)](_0x157071(0x9ac)),_0x1f22d3[_0x157071(0x6f7)]='';}function switchProjectTab(_0x2ca2b9){const _0xb8d59e=_0x57253e;[_0xb8d59e(0x95b),'results',_0xb8d59e(0x432)]['forEach'](_0x205dbc=>{const _0x4255b4=_0xb8d59e;document[_0x4255b4(0x597)](_0x205dbc+_0x4255b4(0x384))[_0x4255b4(0x7f0)]['remove'](_0x4255b4(0xbe2)),document[_0x4255b4(0x597)](_0x205dbc+_0x4255b4(0xb84))['classList'][_0x4255b4(0x6e3)](_0x4255b4(0x9ac));}),document[_0xb8d59e(0x597)](_0x2ca2b9+_0xb8d59e(0x384))[_0xb8d59e(0x7f0)][_0xb8d59e(0x6e3)](_0xb8d59e(0xbe2)),document[_0xb8d59e(0x597)](_0x2ca2b9+_0xb8d59e(0xb84))[_0xb8d59e(0x7f0)][_0xb8d59e(0x4bd)](_0xb8d59e(0x9ac));}function switchQuizDetailTab(_0x4e9e44){const _0x481fcf=_0x57253e,_0x342a5e={'analytics':{'btn':_0x481fcf(0x9ea),'content':_0x481fcf(0x716)},'scores':{'btn':'scores-tab-btn','content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x481fcf(0x8da),'content':_0x481fcf(0x75f)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x481fcf(0x5e3)}};for(const _0x2770cf in _0x342a5e){document[_0x481fcf(0x597)](_0x342a5e[_0x2770cf]['btn'])['classList'][_0x481fcf(0x4bd)](_0x481fcf(0xbe2)),document['getElementById'](_0x342a5e[_0x2770cf]['content'])[_0x481fcf(0x7f0)]['add'](_0x481fcf(0x9ac));}document[_0x481fcf(0x597)](_0x342a5e[_0x4e9e44][_0x481fcf(0x234)])['classList'][_0x481fcf(0x6e3)](_0x481fcf(0xbe2)),document[_0x481fcf(0x597)](_0x342a5e[_0x4e9e44][_0x481fcf(0x4d0)])['classList']['remove'](_0x481fcf(0x9ac));}function showMessage(_0x248137,_0x4ff279=null){const _0x4aef8b=_0x57253e;modalMessage[_0x4aef8b(0x3a6)]=_0x248137,modalConfirmAction=_0x4ff279,messageModal[_0x4aef8b(0x7f0)][_0x4aef8b(0x4bd)](_0x4aef8b(0x9ac));}function showConfirmation(_0x537066,_0x545972){const _0xce367e=_0x57253e;document[_0xce367e(0x597)](_0xce367e(0x2e1))['textContent']=_0x537066,document[_0xce367e(0x597)](_0xce367e(0x6ad))[_0xce367e(0x7b3)]('h3')[_0xce367e(0x3a6)]=_0xce367e(0x1e4),confirmAction=_0x545972,confirmationModal['classList'][_0xce367e(0x4bd)]('hidden');}function listenForProjects(){const _0x567e5a=_0x57253e,_0xeec4bc=doc(db,_0x567e5a(0x302),_0x567e5a(0x322));onSnapshot(_0xeec4bc,_0x2e3202=>{const _0x409d6f=_0x567e5a;if(_0x2e3202[_0x409d6f(0xabe)]()){const _0x4d7cdb=_0x2e3202['data']();globalDashboardSettings['projectSort']=_0x4d7cdb[_0x409d6f(0x807)]||_0x409d6f(0xa0a),globalDashboardSettings[_0x409d6f(0x8ce)]=_0x4d7cdb[_0x409d6f(0x8ce)]||[],globalDashboardSettings[_0x409d6f(0xc1f)]=_0x4d7cdb['projectOrder']||[];}allProjects[_0x409d6f(0x711)]>0x0&&renderProjects();});const _0xbf35be=collection(db,_0x567e5a(0xc07)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0xbf35be,_0x29eb13=>{const _0x451b15=_0x567e5a;allProjects=_0x29eb13[_0x451b15(0x69d)][_0x451b15(0x9ca)](_0x4d4427=>({'id':_0x4d4427['id'],..._0x4d4427[_0x451b15(0x533)]()})),renderProjects();},_0x1c831a=>{const _0x5ca76b=_0x567e5a;console[_0x5ca76b(0x20d)]('Error\x20listening\x20for\x20projects:',_0x1c831a),showMessage(_0x5ca76b(0xa19));});}function showColorPalette(_0x310349,_0x1c415c){const _0x497bdf=_0x57253e;document[_0x497bdf(0x40f)]('.color-palette-popup')[_0x497bdf(0xb68)](_0x1b6f77=>_0x1b6f77[_0x497bdf(0x4bd)]());const _0x2838e2=[_0x497bdf(0xb34),_0x497bdf(0x4b6),_0x497bdf(0x909),_0x497bdf(0x59e),_0x497bdf(0x5cd),_0x497bdf(0xb2b),_0x497bdf(0xac7),_0x497bdf(0x224),_0x497bdf(0x9d3)],_0x402c0b=document[_0x497bdf(0x275)]('div');_0x402c0b[_0x497bdf(0x4bc)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x2838e2[_0x497bdf(0xb68)](_0x2378f0=>{const _0x5891bb=_0x497bdf,_0xec3883=document[_0x5891bb(0x275)]('div');_0xec3883[_0x5891bb(0x4bc)]=_0x5891bb(0x6ed),_0xec3883['style'][_0x5891bb(0x320)]=_0x2378f0,_0xec3883[_0x5891bb(0x161)](_0x5891bb(0x82f),()=>{handleProjectColorChange(_0x1c415c,_0x2378f0),_0x402c0b['remove']();}),_0x402c0b['appendChild'](_0xec3883);}),document[_0x497bdf(0x93c)][_0x497bdf(0x52c)](_0x402c0b);const _0x3a432f=_0x310349[_0x497bdf(0x76f)]();_0x402c0b[_0x497bdf(0x819)]['top']=_0x3a432f['bottom']+window['scrollY']+'px',_0x402c0b[_0x497bdf(0x819)][_0x497bdf(0x112)]=_0x3a432f[_0x497bdf(0x112)]+window[_0x497bdf(0xa2a)]-_0x402c0b[_0x497bdf(0x196)]/0x2+'px';}async function handleProjectColorChange(_0x4fc7b6,_0x3b0b29){const _0x4e51da=_0x57253e,_0x41c368=doc(db,'artifacts/'+appId+_0x4e51da(0x81e),_0x4fc7b6);try{await updateDoc(_0x41c368,{'color':_0x3b0b29});}catch(_0x438768){console['error']('Error\x20updating\x20project\x20color:',_0x438768),showMessage(_0x4e51da(0x9bf));}}async function renderProjects(){const _0x2a094a=_0x57253e,_0x1c6c8c=globalDashboardSettings[_0x2a094a(0x807)]||_0x2a094a(0xa0a),_0x208bcc=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x67fd13=globalDashboardSettings[_0x2a094a(0x888)]||_0x2a094a(0x32c),_0x183c70=document[_0x2a094a(0x597)](_0x2a094a(0xb55)),_0x51e931=document[_0x2a094a(0x597)](_0x2a094a(0x18e));_0x183c70[_0x2a094a(0x7f0)][_0x2a094a(0x8eb)](_0x2a094a(0xbe2),_0x67fd13==='grid'),_0x51e931[_0x2a094a(0x7f0)][_0x2a094a(0x8eb)]('active',_0x67fd13===_0x2a094a(0x7c9)),document[_0x2a094a(0x597)](_0x2a094a(0x5de))[_0x2a094a(0x6f7)]=_0x1c6c8c;const _0x3f3f10=document[_0x2a094a(0x597)](_0x2a094a(0x1ad))[_0x2a094a(0x6f7)]['toLowerCase']();let _0x22a396=allProjects[_0x2a094a(0xa32)](_0x19f3e3=>_0x19f3e3[_0x2a094a(0xadf)][_0x2a094a(0x6c8)]()['includes'](_0x3f3f10));const _0x2e885d=_0x22a396['filter'](_0x3b8dd1=>_0x208bcc[_0x2a094a(0xb1a)](_0x3b8dd1['id'])),_0x305755=_0x22a396[_0x2a094a(0xa32)](_0x11ec67=>!_0x208bcc['has'](_0x11ec67['id'])),_0x4437cf=(_0x4c3985,_0x253227)=>{const _0x554ab9=_0x2a094a;switch(_0x1c6c8c){case _0x554ab9(0x429):return _0x4c3985[_0x554ab9(0xadf)]['localeCompare'](_0x253227[_0x554ab9(0xadf)],'th');case _0x554ab9(0xa4f):return _0x253227[_0x554ab9(0xadf)][_0x554ab9(0x796)](_0x4c3985[_0x554ab9(0xadf)],'th');case _0x554ab9(0xc39):return new Date(_0x4c3985['createdAt'])-new Date(_0x253227[_0x554ab9(0xb0c)]);default:return new Date(_0x253227[_0x554ab9(0xb0c)])-new Date(_0x4c3985[_0x554ab9(0xb0c)]);}};_0x2e885d[_0x2a094a(0x2d6)](_0x4437cf),_0x305755[_0x2a094a(0x2d6)](_0x4437cf);const _0x48e88f=[..._0x2e885d,..._0x305755],_0x4e3001=globalDashboardSettings['projectOrder']||[];_0x4e3001[_0x2a094a(0x711)]>0x0&&_0x67fd13===_0x2a094a(0x32c)&&_0x48e88f['sort']((_0x421418,_0x4b7e91)=>{const _0x5783ff=_0x2a094a,_0x53f237=_0x4e3001['indexOf'](_0x421418['id']),_0x1d692a=_0x4e3001[_0x5783ff(0xc54)](_0x4b7e91['id']);if(_0x53f237===-0x1)return 0x1;if(_0x1d692a===-0x1)return-0x1;return _0x53f237-_0x1d692a;});const _0x47a845={};await Promise[_0x2a094a(0x52b)](_0x48e88f['map'](async _0x486803=>{const _0x1379e4=_0x2a094a,_0x2cc48c=query(collection(db,_0x1379e4(0xc07)+appId+'/public/data/quizzes'),where(_0x1379e4(0x9f2),'==',_0x486803['id'])),_0x3a35a3=await getDocs(_0x2cc48c);_0x47a845[_0x486803['id']]=_0x3a35a3[_0x1379e4(0x78e)];}));const _0x5c0607=document[_0x2a094a(0x597)]('project-list');let _0x57e1ad='';if(_0x67fd13===_0x2a094a(0x32c)){_0x5c0607[_0x2a094a(0x4bc)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes['length']>0x0&&_0x3f3f10===''){const _0x419dae=starredQuizzes[_0x2a094a(0x9ca)](_0x568701=>{const _0x3ba62f=_0x2a094a,_0xade898=allProjects[_0x3ba62f(0x1bc)](_0x2ed2c3=>_0x2ed2c3['id']===_0x568701['projectId']);return{..._0x568701,'projectName':_0xade898?_0xade898[_0x3ba62f(0xadf)]:_0x3ba62f(0x321)};});_0x57e1ad+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x419dae[_0x2a094a(0x9ca)](_0x3383df=>_0x2a094a(0x926)+_0x3383df[_0x2a094a(0xc41)]+'\x22>'+_0x3383df['topic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x3383df[_0x2a094a(0xadf)]+_0x2a094a(0x70e)+_0x3383df[_0x2a094a(0xadf)]+_0x2a094a(0x1ab))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x2a094a(0x711)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x48e88f[_0x2a094a(0xb68)](_0x1c7286=>{const _0x54d729=_0x2a094a,_0x1e87f2=_0x47a845[_0x1c7286['id']]??0x0,_0x46c570=_0x208bcc[_0x54d729(0xb1a)](_0x1c7286['id']),_0x273055=_0x1c7286['color']||_0x54d729(0xb34),_0x5be31d=parseInt(_0x273055[_0x54d729(0x7ff)](0x1,0x3),0x10)*0.299+parseInt(_0x273055['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x273055[_0x54d729(0x7ff)](0x5,0x7),0x10)*0.114<0xba,_0x3b7cd1=_0x5be31d?'text-white':_0x54d729(0x938),_0x23e469=_0x5be31d?_0x54d729(0x1ff):_0x54d729(0x574);_0x57e1ad+=_0x54d729(0x56b)+(_0x46c570?_0x54d729(0x36e):_0x54d729(0xb69))+_0x54d729(0x421)+_0x273055+_0x54d729(0x9dd)+_0x1c7286['id']+_0x54d729(0xc83)+_0x1c7286['id']+_0x54d729(0x956)+(_0x5be31d?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x54d729(0x4e3)+_0x1c7286['id']+_0x54d729(0x8c7)+(_0x5be31d?'text-gray-300\x20hover:text-white':_0x54d729(0xad6))+_0x54d729(0xa41)+(_0x46c570?_0x5be31d?'text-yellow-300':_0x54d729(0xbb6):'')+_0x54d729(0x510)+_0x1c7286['id']+_0x54d729(0xb13)+_0x3b7cd1+_0x54d729(0x8c2)+_0x1c7286['projectName']+_0x54d729(0xa62)+_0x23e469+_0x54d729(0x626)+new Date(_0x1c7286[_0x54d729(0xb0c)])[_0x54d729(0xa85)](_0x54d729(0x799))+_0x54d729(0x613)+(_0x5be31d?_0x54d729(0x83a):_0x54d729(0x5da))+_0x54d729(0xb56)+_0x1e87f2+_0x54d729(0x82c)+_0x1c7286['id']+'\x22\x20data-name=\x22'+_0x1c7286[_0x54d729(0xadf)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x5be31d?_0x54d729(0x151):_0x54d729(0x55c))+_0x54d729(0x211);});}else _0x5c0607[_0x2a094a(0x4bc)]=_0x2a094a(0x35a),starredQuizzes[_0x2a094a(0x711)]>0x0&&_0x3f3f10===''&&(_0x57e1ad+=_0x2a094a(0x93f)+starredQuizzes[_0x2a094a(0x711)]+_0x2a094a(0x4c1)),_0x57e1ad+=_0x2a094a(0x12c),_0x48e88f[_0x2a094a(0xb68)](_0x3ca65a=>{const _0xa0573f=_0x2a094a,_0x46effb=_0x47a845[_0x3ca65a['id']]??0x0,_0x538c45=_0x208bcc[_0xa0573f(0xb1a)](_0x3ca65a['id']);_0x57e1ad+=_0xa0573f(0x3c1)+(_0x3ca65a[_0xa0573f(0x901)]||_0xa0573f(0x9d3))+_0xa0573f(0x833)+_0x3ca65a['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x3ca65a['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x46effb+_0xa0573f(0x5e4)+new Date(_0x3ca65a[_0xa0573f(0xb0c)])[_0xa0573f(0x46e)]('th-TH')+_0xa0573f(0x84f)+_0x3ca65a['id']+_0xa0573f(0x5ac)+(_0x538c45?_0xa0573f(0xbb6):'')+_0xa0573f(0x68e)+_0x3ca65a['id']+_0xa0573f(0x852)+_0x3ca65a[_0xa0573f(0xadf)]+_0xa0573f(0x8a1);});projectList[_0x2a094a(0x2fe)]=_0x57e1ad,noProjectsMsg['classList'][_0x2a094a(0x8eb)](_0x2a094a(0x9ac),_0x57e1ad['length']>0x0);}document[_0x57253e(0x597)]('confirm-create-project-btn')['addEventListener'](_0x57253e(0x82f),async()=>{const _0x1412bd=_0x57253e,_0xfe452=document[_0x1412bd(0x597)](_0x1412bd(0x344)),_0x168d72=_0xfe452[_0x1412bd(0x6f7)][_0x1412bd(0x365)]();if(!_0x168d72){showMessage(_0x1412bd(0x9a9));return;}try{const _0x45d7e9=doc(collection(db,'artifacts/'+appId+_0x1412bd(0x81e)));await setDoc(_0x45d7e9,{'projectName':_0x168d72,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x1412bd(0x880),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x1412bd(0x880),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0xfe452[_0x1412bd(0x6f7)]='',createProjectModal[_0x1412bd(0x7f0)][_0x1412bd(0x6e3)](_0x1412bd(0x9ac)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x39f3e0){console[_0x1412bd(0x20d)]('Error\x20creating\x20project:',_0x39f3e0),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList['addEventListener'](_0x57253e(0x82f),async _0xc60fd1=>{const _0x18f8c9=_0x57253e,_0xb6277f=_0xc60fd1['target'][_0x18f8c9(0x4dc)](_0x18f8c9(0x980)),_0x158510=_0xc60fd1[_0x18f8c9(0xaa3)][_0x18f8c9(0x4dc)](_0x18f8c9(0xb16)),_0x1758e7=_0xc60fd1[_0x18f8c9(0xaa3)]['closest'](_0x18f8c9(0x44c)),_0x2763e9=_0xc60fd1[_0x18f8c9(0xaa3)][_0x18f8c9(0x4dc)]('.color-palette-btn');if(_0x1758e7){const _0x33756e=_0x1758e7[_0x18f8c9(0x7a0)]['id'],_0x2aa88f=doc(db,_0x18f8c9(0x302),_0x18f8c9(0x322)),_0x214844=globalDashboardSettings[_0x18f8c9(0x8ce)];let _0x554395;_0x214844[_0x18f8c9(0x1d1)](_0x33756e)?_0x554395=_0x214844['filter'](_0x343c35=>_0x343c35!==_0x33756e):_0x554395=[..._0x214844,_0x33756e];try{await setDoc(_0x2aa88f,{'pinnedProjects':_0x554395},{'merge':!![]});}catch(_0x5e59e0){console[_0x18f8c9(0x20d)](_0x18f8c9(0xaad),_0x5e59e0),showMessage(_0x18f8c9(0x472));}}else{if(_0x2763e9){const _0x5d3cb0=_0x2763e9['dataset']['id'];showColorPalette(_0x2763e9,_0x5d3cb0);}else{if(_0xb6277f){const _0x2a09ab=_0xb6277f[_0x18f8c9(0x7a0)]['id'];_0x2a09ab===_0x18f8c9(0x448)?showStarredProjectView():(currentProjectId=_0x2a09ab,await loadProjectDetails(currentProjectId),showView(_0x18f8c9(0xb96)));}else{if(_0x158510){const _0x1a3097=_0x158510[_0x18f8c9(0x7a0)]['id'],_0x20c46d=_0x158510[_0x18f8c9(0x7a0)][_0x18f8c9(0x309)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x20c46d+_0x18f8c9(0x381),()=>handleDeleteProject(_0x1a3097));}}}}}),projectList['addEventListener']('dragstart',_0x34bb33=>{const _0xf1c128=_0x57253e,_0x478dbf=_0x34bb33['target'][_0xf1c128(0x4dc)](_0xf1c128(0x1e7));_0x478dbf&&_0x478dbf[_0xf1c128(0x7f0)][_0xf1c128(0x6e3)](_0xf1c128(0x5ad));}),projectList[_0x57253e(0x161)](_0x57253e(0x142),_0x41c361=>{const _0x35a822=_0x57253e,_0x435b08=_0x41c361[_0x35a822(0xaa3)][_0x35a822(0x4dc)](_0x35a822(0x1e7));_0x435b08&&_0x435b08[_0x35a822(0x7f0)][_0x35a822(0x4bd)](_0x35a822(0x5ad));}),projectList[_0x57253e(0x161)](_0x57253e(0x821),_0x659a77=>{const _0x4cd28e=_0x57253e;_0x659a77[_0x4cd28e(0x3f5)]();const _0x49e851=document[_0x4cd28e(0x7b3)](_0x4cd28e(0x149));if(!_0x49e851)return;const _0x586f8f=getDragAfterElement(projectList,_0x659a77[_0x4cd28e(0x1da)]);_0x586f8f==null?projectList[_0x4cd28e(0x52c)](_0x49e851):projectList['insertBefore'](_0x49e851,_0x586f8f);}),projectList[_0x57253e(0x161)](_0x57253e(0x55b),_0xa59e0b=>{const _0x5c8a71=_0x57253e;_0xa59e0b[_0x5c8a71(0x3f5)]();const _0x69b455=[...projectList[_0x5c8a71(0x40f)](_0x5c8a71(0x465))][_0x5c8a71(0x9ca)](_0x268e80=>_0x268e80['dataset']['id']);saveProjectOrder(_0x69b455);});function renderBehaviorLog(_0x309aaa){const _0x2c5f46=_0x57253e,_0x364e81=document[_0x2c5f46(0x597)]('behavior-log-container');if(!_0x364e81)return;const _0x5a2aee=_0x309aaa[_0x2c5f46(0xa32)](_0x510c6e=>_0x510c6e['behaviorLog']&&_0x510c6e['behaviorLog']['length']>0x0);if(_0x5a2aee[_0x2c5f46(0x711)]===0x0){_0x364e81[_0x2c5f46(0x2fe)]=_0x2c5f46(0x96f);return;}let _0x1b1c63='';_0x5a2aee[_0x2c5f46(0xb68)](_0x10334f=>{const _0x20dc46=_0x2c5f46;_0x1b1c63+=_0x20dc46(0x689)+_0x10334f[_0x20dc46(0x4d7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x10334f[_0x20dc46(0x1c8)][_0x20dc46(0x2d6)]((_0x523ac5,_0x4887fd)=>new Date(_0x4887fd['timestamp'])-new Date(_0x523ac5['timestamp']))['forEach'](_0x20f011=>{const _0x8b3ecc=_0x20dc46,_0x2742e2=new Date(_0x20f011[_0x8b3ecc(0x4f6)])[_0x8b3ecc(0x46e)]('th-TH',{'dateStyle':'short','timeStyle':'medium'});_0x1b1c63+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x20f011[_0x8b3ecc(0x493)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x2742e2+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1b1c63+=_0x20dc46(0xbd2);}),_0x364e81[_0x2c5f46(0x2fe)]=_0x1b1c63;}function getDragAfterElement(_0x5f27a7,_0x301594){const _0x41e355=_0x57253e,_0x29546c=[..._0x5f27a7[_0x41e355(0x40f)](_0x41e355(0xc9a))];return _0x29546c['reduce']((_0x1be2ce,_0x150c43)=>{const _0x22647a=_0x41e355,_0x157a0c=_0x150c43[_0x22647a(0x76f)](),_0x38bf2b=_0x301594-_0x157a0c[_0x22647a(0xc6a)]-_0x157a0c[_0x22647a(0x3dd)]/0x2;return _0x38bf2b<0x0&&_0x38bf2b>_0x1be2ce[_0x22647a(0x3f3)]?{'offset':_0x38bf2b,'element':_0x150c43}:_0x1be2ce;},{'offset':Number[_0x41e355(0x62d)]})[_0x41e355(0x818)];}async function saveProjectOrder(_0x4799c4){const _0x32e344=_0x57253e,_0x229b72=doc(db,_0x32e344(0x302),_0x32e344(0x322));try{await setDoc(_0x229b72,{'projectOrder':_0x4799c4},{'merge':!![]});}catch(_0x5ce226){console[_0x32e344(0x20d)](_0x32e344(0xa06),_0x5ce226),showMessage(_0x32e344(0xc96));}}async function logBehaviorEvent(_0x20132c,_0x2600fd={}){const _0x801f9f=_0x57253e;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x801f9f(0x1f0));return;}const _0x306156=doc(db,_0x801f9f(0xc07)+appId+_0x801f9f(0x60f)+currentQuizData['id']+_0x801f9f(0x85c),currentStudentName),_0x3258b1={'event':_0x20132c,'timestamp':new Date()[_0x801f9f(0xca0)](),..._0x2600fd};try{await updateDoc(_0x306156,{'behaviorLog':arrayUnion(_0x3258b1)}),console['log'](_0x801f9f(0x3af)+currentStudentName+_0x801f9f(0xb64));}catch(_0x15e23d){_0x15e23d['code']===_0x801f9f(0xb0e)?console[_0x801f9f(0x982)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x801f9f(0x71e)):console['error'](_0x801f9f(0x743),_0x15e23d);}}function calculateMeanAndStdDev(_0x16e1ed){const _0x53977b=_0x57253e;if(_0x16e1ed[_0x53977b(0x711)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x301eee=_0x16e1ed['reduce']((_0x59d490,_0xb162c6)=>_0x59d490+_0xb162c6,0x0)/_0x16e1ed[_0x53977b(0x711)];if(_0x16e1ed['length']===0x1)return{'mean':_0x301eee,'stdDev':0x0};const _0x35dc72=Math[_0x53977b(0x92f)](_0x16e1ed[_0x53977b(0x9ca)](_0xa1f649=>Math[_0x53977b(0x3ab)](_0xa1f649-_0x301eee,0x2))[_0x53977b(0xb0f)]((_0x58f158,_0x101372)=>_0x58f158+_0x101372,0x0)/(_0x16e1ed[_0x53977b(0x711)]-0x1));return{'mean':_0x301eee,'stdDev':_0x35dc72};}function calculateZScore(_0x54ba93,_0x13f798,_0x34c873){if(_0x34c873===0x0)return 0x0;return(_0x54ba93-_0x13f798)/_0x34c873;}function calculateTScore(_0x366b61){return 0xa*_0x366b61+0x32;}function showStarredProjectView(){const _0x39e022=_0x57253e;currentProjectId=_0x39e022(0x2d3),currentProjectData=null,projectTitle[_0x39e022(0x3a6)]=_0x39e022(0x603),projectIdDisplay[_0x39e022(0x3a6)]=_0x39e022(0x8bf),showView(_0x39e022(0xb96)),manageTab[_0x39e022(0x7f0)]['add'](_0x39e022(0x9ac)),leaderboardTab['classList']['add']('hidden'),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x1e79b1){const _0x4f26e6=_0x57253e,_0x268c41=doc(db,_0x4f26e6(0xc07)+appId+'/public/data/projects',_0x1e79b1),_0x218194=await getDoc(_0x268c41);if(_0x218194[_0x4f26e6(0xabe)]()){manageTab[_0x4f26e6(0x7f0)][_0x4f26e6(0x4bd)](_0x4f26e6(0x9ac)),leaderboardTab['classList']['remove'](_0x4f26e6(0x9ac)),currentProjectData=_0x218194[_0x4f26e6(0x533)](),projectTitle['textContent']=currentProjectData[_0x4f26e6(0xadf)],projectIdDisplay[_0x4f26e6(0x3a6)]=_0x1e79b1;const _0x5eade4=currentProjectData[_0x4f26e6(0x9ab)]||{};document['getElementById'](_0x4f26e6(0xa95))[_0x4f26e6(0x6f7)]=_0x5eade4[_0x4f26e6(0x50b)]||'none';const _0x5dd951=document[_0x4f26e6(0x597)](_0x4f26e6(0x1d9));_0x5dd951[_0x4f26e6(0x641)]=_0x5eade4[_0x4f26e6(0x122)]!==![];const _0x3bc873=document[_0x4f26e6(0x597)]('enable-passcode-checkbox'),_0x288b9b=document['getElementById']('passcode-input-container'),_0x41d3ee=document['getElementById']('project-passcode-input'),_0x40fd09=_0x5eade4['isPasscodeEnabled']||![];_0x3bc873[_0x4f26e6(0x641)]=_0x40fd09,_0x41d3ee[_0x4f26e6(0x6f7)]=_0x5eade4[_0x4f26e6(0x6dd)]||'',_0x288b9b[_0x4f26e6(0x7f0)][_0x4f26e6(0x8eb)](_0x4f26e6(0x9ac),!_0x40fd09),_0x3bc873[_0x4f26e6(0x74b)]=()=>{const _0x45933c=_0x4f26e6;_0x288b9b[_0x45933c(0x7f0)][_0x45933c(0x8eb)](_0x45933c(0x9ac),!_0x3bc873[_0x45933c(0x641)]);},document[_0x4f26e6(0x597)](_0x4f26e6(0x290))[_0x4f26e6(0x641)]=_0x5eade4[_0x4f26e6(0x665)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x1e79b1),listenForProjectQuizzes(_0x1e79b1),listenForStudentProfiles(_0x1e79b1);}else showMessage(_0x4f26e6(0x2b4)),showView(_0x4f26e6(0x2eb));}async function handleResetProjectOrder(){const _0x356060=_0x57253e,_0x1caced=doc(db,_0x356060(0x302),_0x356060(0x322));try{await setDoc(_0x1caced,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x356060(0x5d3));}catch(_0x1e3e2f){console[_0x356060(0x20d)](_0x356060(0x7a5),_0x1e3e2f),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x2846e7){const _0x1bd6e8=_0x57253e;if(!_0x2846e7)return;const _0x14df6f=doc(db,_0x1bd6e8(0xc07)+appId+_0x1bd6e8(0x81e),_0x2846e7);try{const _0x18e61b=await getDoc(_0x14df6f);if(_0x18e61b[_0x1bd6e8(0xabe)]()){const _0x2579b1=_0x18e61b['data']()[_0x1bd6e8(0xb4f)]||![];await updateDoc(_0x14df6f,{'isPinned':!_0x2579b1});}}catch(_0x495241){console[_0x1bd6e8(0x20d)](_0x1bd6e8(0x82d),_0x495241),showMessage(_0x1bd6e8(0x472));}}async function handleDeleteProject(_0xc75c69){const _0x1af6fb=_0x57253e;try{const _0x5803b9=writeBatch(db),_0x4471d4=collection(db,_0x1af6fb(0xc07)+appId+_0x1af6fb(0x194)),_0x409fc1=query(_0x4471d4,where('projectId','==',_0xc75c69)),_0x4722b4=await getDocs(_0x409fc1);for(const _0x2344f6 of _0x4722b4['docs']){const _0x9a7a83=collection(db,'artifacts/'+appId+_0x1af6fb(0x60f)+_0x2344f6['id']+'/submissions'),_0x524d58=await getDocs(_0x9a7a83);_0x524d58['forEach'](_0x3574b3=>{const _0x9a0c00=_0x1af6fb;_0x5803b9[_0x9a0c00(0x70d)](_0x3574b3[_0x9a0c00(0x9b9)]);}),_0x5803b9[_0x1af6fb(0x70d)](_0x2344f6['ref']);}const _0x116ecd=collection(db,'artifacts/'+appId+_0x1af6fb(0x504)+_0xc75c69+_0x1af6fb(0x29d)),_0x380afd=await getDocs(_0x116ecd);_0x380afd[_0x1af6fb(0xb68)](_0x31effa=>{const _0x24a3d7=_0x1af6fb;_0x5803b9[_0x24a3d7(0x70d)](_0x31effa['ref']);});const _0x56ab35=doc(db,_0x1af6fb(0xc07)+appId+'/public/data/projects',_0xc75c69);_0x5803b9[_0x1af6fb(0x70d)](_0x56ab35),await _0x5803b9[_0x1af6fb(0x99e)](),showMessage(_0x1af6fb(0x8d8)),showView('admin-dashboard');}catch(_0x2e8b9f){console[_0x1af6fb(0x20d)]('Error\x20deleting\x20project:',_0x2e8b9f),showMessage(_0x1af6fb(0x399));}}document['getElementById']('save-settings-btn')['addEventListener'](_0x57253e(0x82f),async()=>{const _0x31240f=_0x57253e;if(!currentProjectId)return;const _0x253d61={'defaultNumQuestions':parseInt(document['getElementById'](_0x31240f(0x9db))[_0x31240f(0x6f7)]),'defaultNumChoices':parseInt(document['getElementById'](_0x31240f(0x166))[_0x31240f(0x6f7)]),'defaultPassingScore':parseInt(document[_0x31240f(0x597)](_0x31240f(0x470))[_0x31240f(0x6f7)]),'resultsDisplay':document[_0x31240f(0x597)](_0x31240f(0x40d))['value'],'shuffleSetting':document['getElementById'](_0x31240f(0xa95))[_0x31240f(0x6f7)],'timerMode':document[_0x31240f(0x597)](_0x31240f(0x625))[_0x31240f(0x6f7)],'timerDuration':parseInt(document['getElementById'](_0x31240f(0x51a))['value']),'isConfidenceScoringEnabled':document[_0x31240f(0x597)](_0x31240f(0x290))[_0x31240f(0x641)],'confidenceMode':document['getElementById'](_0x31240f(0x160))[_0x31240f(0x6f7)]};try{const _0x46657a=doc(db,_0x31240f(0xc07)+appId+_0x31240f(0x81e),currentProjectId);await updateDoc(_0x46657a,{'settings':_0x253d61}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x63fbb9){console[_0x31240f(0x20d)](_0x31240f(0xbbf),_0x63fbb9),showMessage(_0x31240f(0xb67));}});function listenForStudents(_0x17cce4){const _0x906ac2=_0x57253e,_0x1fa47e=doc(db,'artifacts/'+appId+_0x906ac2(0x81e),_0x17cce4);unsubscribeStudentsListener=onSnapshot(_0x1fa47e,_0x7137ec=>{const _0xb4fda8=_0x906ac2;if(_0x7137ec['exists']()){const _0x3345b5=_0x7137ec[_0xb4fda8(0x533)]();currentProjectData=_0x3345b5,renderStudentList(_0x3345b5['students']||[]);}});}function renderStudentList(_0x232eb3){const _0x4cdcd7=_0x57253e,_0x577282=document[_0x4cdcd7(0x597)](_0x4cdcd7(0xb36));_0x232eb3[_0x4cdcd7(0x711)]===0x0?(studentList[_0x4cdcd7(0x2fe)]=_0x4cdcd7(0x2ec),_0x577282[_0x4cdcd7(0x7f0)][_0x4cdcd7(0x6e3)]('hidden')):(studentList[_0x4cdcd7(0x2fe)]=_0x232eb3[_0x4cdcd7(0x9ca)](_0x24b796=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x24b796+_0x4cdcd7(0x3ef)+_0x24b796+_0x4cdcd7(0x760))[_0x4cdcd7(0x552)](''),_0x577282[_0x4cdcd7(0x7f0)][_0x4cdcd7(0x4bd)](_0x4cdcd7(0x9ac)));}document[_0x57253e(0x597)](_0x57253e(0x666))[_0x57253e(0x161)](_0x57253e(0x82f),async()=>{const _0x434f57=_0x57253e;if(!currentProjectId)return;const _0x488ba6=document[_0x434f57(0x597)](_0x434f57(0xb45)),_0x2dd55d=_0x488ba6[_0x434f57(0x6f7)][_0x434f57(0x365)]();if(!_0x2dd55d){showMessage(_0x434f57(0x1ce));return;}const _0x50499b=_0x2dd55d['split']('\x0a')[_0x434f57(0x9ca)](_0x4d63c3=>_0x4d63c3[_0x434f57(0x365)]())['filter'](_0x3d379a=>_0x3d379a);if(_0x50499b['length']===0x0)return;try{const _0x4ad470=doc(db,'artifacts/'+appId+_0x434f57(0x81e),currentProjectId),_0x4d1bf8=await getDoc(_0x4ad470);if(_0x4d1bf8[_0x434f57(0xabe)]()){const _0x233268=_0x4d1bf8['data']()['students']||[],_0x2ea71e=[...new Set([..._0x233268,..._0x50499b])];await updateDoc(_0x4ad470,{'students':_0x2ea71e}),_0x488ba6[_0x434f57(0x6f7)]='';}}catch(_0x599231){console[_0x434f57(0x20d)]('Error\x20adding\x20students:',_0x599231),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x4eef00){const _0x2bf281=_0x57253e,_0x51cd20=document[_0x2bf281(0x597)]('move-quiz-modal'),_0x31acc0=document[_0x2bf281(0x597)](_0x2bf281(0xa4a)),_0x1847e9=_0x51cd20[_0x2bf281(0x7b3)]('h3'),_0x264af8=document['getElementById'](_0x2bf281(0x5c8)),_0x1574d7=document[_0x2bf281(0x597)]('cancel-move-quiz-btn');_0x1847e9['textContent']=_0x2bf281(0xa9a),_0x31acc0[_0x2bf281(0x2fe)]=_0x2bf281(0x469),_0x264af8[_0x2bf281(0x3a6)]=_0x2bf281(0xc3b),_0x51cd20[_0x2bf281(0x7f0)]['remove'](_0x2bf281(0x9ac));const _0x183aa6=allQuizzes['filter'](_0x39235d=>_0x39235d['id']!==_0x4eef00);_0x183aa6[_0x2bf281(0x711)]===0x0?(_0x31acc0[_0x2bf281(0x2fe)]=_0x2bf281(0x53a),_0x264af8['disabled']=!![]):(_0x31acc0[_0x2bf281(0x2fe)]=_0x2bf281(0x7fe)+_0x183aa6['map'](_0x222dba=>_0x2bf281(0x15e)+_0x222dba['id']+'\x22>'+_0x222dba[_0x2bf281(0xc41)]+_0x2bf281(0x9ff))[_0x2bf281(0x552)](''),_0x264af8[_0x2bf281(0x992)]=![]);const _0x3fccb6=async()=>{const _0x168cca=_0x2bf281,_0x4cbe4b=_0x31acc0['value'];if(!_0x4cbe4b){showMessage(_0x168cca(0xaa6));return;}_0x264af8[_0x168cca(0x992)]=!![],_0x264af8[_0x168cca(0x3a6)]=_0x168cca(0x920);try{const _0x5b5777=doc(db,_0x168cca(0xc07)+appId+_0x168cca(0x194),_0x4eef00),_0x1fa96a=doc(db,_0x168cca(0xc07)+appId+_0x168cca(0x194),_0x4cbe4b),_0x40b1cf=writeBatch(db);_0x40b1cf[_0x168cca(0x871)](_0x5b5777,{'pairedQuizId':_0x4cbe4b}),_0x40b1cf[_0x168cca(0x871)](_0x1fa96a,{'pairedQuizId':_0x4eef00}),await _0x40b1cf['commit'](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x51cd20[_0x168cca(0x7f0)]['add'](_0x168cca(0x9ac));}catch(_0x1f0534){console[_0x168cca(0x20d)](_0x168cca(0x8a9),_0x1f0534),showMessage(_0x168cca(0x8f8));}finally{_0x1847e9['textContent']=_0x168cca(0x486),_0x264af8['textContent']='ย้าย',_0x264af8[_0x168cca(0x992)]=![],_0x264af8['removeEventListener'](_0x168cca(0x82f),_0x3fccb6),_0x1574d7[_0x168cca(0x713)](_0x168cca(0x82f),_0x425dcb);}},_0x425dcb=()=>{const _0x430b02=_0x2bf281;_0x51cd20['classList'][_0x430b02(0x6e3)](_0x430b02(0x9ac)),_0x1847e9[_0x430b02(0x3a6)]=_0x430b02(0x486),_0x264af8[_0x430b02(0x3a6)]=_0x430b02(0x35d),_0x264af8[_0x430b02(0x713)](_0x430b02(0x82f),_0x3fccb6),_0x1574d7[_0x430b02(0x713)](_0x430b02(0x82f),_0x425dcb);};_0x264af8[_0x2bf281(0x161)](_0x2bf281(0x82f),_0x3fccb6),_0x1574d7[_0x2bf281(0x161)](_0x2bf281(0x82f),_0x425dcb);}function handleDeleteStudent(_0x21bb1d){const _0xa7de04=_0x57253e;showConfirmation(_0xa7de04(0x205)+_0x21bb1d+_0xa7de04(0x280),async()=>{const _0x186b65=_0xa7de04;if(!currentProjectId||!currentProjectData)return;const _0x3315c1=currentProjectData[_0x186b65(0x88c)]['filter'](_0x794d59=>_0x794d59!==_0x21bb1d);try{const _0x3d4c98=doc(db,_0x186b65(0xc07)+appId+_0x186b65(0x81e),currentProjectId),_0x2edad7=doc(db,_0x186b65(0xc07)+appId+_0x186b65(0x504)+currentProjectId+_0x186b65(0x29d),_0x21bb1d),_0x3414af=writeBatch(db);_0x3414af[_0x186b65(0x871)](_0x3d4c98,{'students':_0x3315c1}),_0x3414af[_0x186b65(0x70d)](_0x2edad7),await _0x3414af['commit']();}catch(_0x579026){console[_0x186b65(0x20d)](_0x186b65(0xc2a),_0x579026),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x55b970=_0x57253e;showConfirmation(_0x55b970(0x56c),async()=>{const _0x451e72=_0x55b970;if(!currentProjectId)return;try{const _0x41adb2=doc(db,'artifacts/'+appId+_0x451e72(0x81e),currentProjectId),_0x2ed135=collection(db,_0x451e72(0xc07)+appId+'/public/data/projects/'+currentProjectId+_0x451e72(0x29d)),_0x42143e=await getDocs(_0x2ed135),_0x45b143=writeBatch(db);_0x45b143[_0x451e72(0x871)](_0x41adb2,{'students':[]}),_0x42143e['forEach'](_0x560bec=>_0x45b143[_0x451e72(0x70d)](_0x560bec[_0x451e72(0x9b9)])),await _0x45b143[_0x451e72(0x99e)]();}catch(_0x5a913a){console[_0x451e72(0x20d)]('Error\x20deleting\x20all\x20students:',_0x5a913a),showMessage(_0x451e72(0xa88));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x198e85){const _0x540907=_0x57253e,_0x43aafa=document[_0x540907(0x597)](_0x540907(0x7f4)),_0x1ecf23=document[_0x540907(0x597)]('file-topics-list');_0x43aafa[_0x540907(0x7f0)][_0x540907(0x4bd)]('hidden'),_0x1ecf23[_0x540907(0x2fe)]=_0x540907(0x491);try{const _0x40a786=new FileReader();_0x40a786[_0x540907(0x499)](_0x198e85),await new Promise((_0x5cd534,_0x46c93f)=>{const _0x52bb25=_0x540907;_0x40a786[_0x52bb25(0xc68)]=()=>{const _0xc73cb5=_0x52bb25;fileDataBase64=_0x40a786['result'][_0xc73cb5(0xc61)](',')[0x1],fileMimeType=_0x198e85[_0xc73cb5(0xa17)],_0x5cd534();},_0x40a786[_0x52bb25(0x8af)]=_0x525416=>_0x46c93f(_0x525416);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0x414cd4=_0x540907(0x2ac),_0x4d00ab={'type':_0x540907(0xae5),'properties':{'topics':{'type':'ARRAY','items':{'type':_0x540907(0xbda)}}},'required':['topics']},_0x22b88b=[{'text':_0x414cd4},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x181b6f=await handleApiCall(_0x22b88b,_0x540907(0x8c3),_0x4d00ab,null,![]);if(_0x181b6f&&_0x181b6f[_0x540907(0x46a)])extractedFileTopics=_0x181b6f[_0x540907(0x46a)],renderFileTopics();else throw new Error(_0x540907(0xc86));}catch(_0x196890){console['error']('Error\x20analyzing\x20file\x20for\x20topics:',_0x196890),_0x1ecf23[_0x540907(0x2fe)]=_0x540907(0x4b3)+_0x196890[_0x540907(0x5f2)]+_0x540907(0x686);}}function renderFileTopics(){const _0xaeca8d=_0x57253e,_0xcb4936=document[_0xaeca8d(0x597)]('file-topics-list');if(extractedFileTopics[_0xaeca8d(0x711)]===0x0){_0xcb4936['innerHTML']=_0xaeca8d(0xbcb);return;}_0xcb4936[_0xaeca8d(0x2fe)]=extractedFileTopics['map'](_0x2b276f=>_0xaeca8d(0x1a7)+_0x2b276f+_0xaeca8d(0x6d6)+escape(_0x2b276f)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x2b276f)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0xaeca8d(0x552)]('');}async function generateHybridQuizForTopic(_0x43ed5d){const _0x2bde48=_0x57253e,_0x318d42=parseInt(document[_0x2bde48(0x597)](_0x2bde48(0x9db))[_0x2bde48(0x6f7)],0xa),_0x6a32ad=document[_0x2bde48(0x597)](_0x2bde48(0x488))[_0x2bde48(0x6f7)],_0x18700f=document[_0x2bde48(0x597)]('num-choices')[_0x2bde48(0x6f7)],_0x5d5469=document[_0x2bde48(0x597)]('include-images-checkbox')[_0x2bde48(0x641)],_0x57e037=_0x5d5469?'สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22':_0x2bde48(0x693);let _0x5203ee='',_0x921835;const _0x11ab84={'type':_0x2bde48(0xae5),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2bde48(0x1d4),'items':{'type':_0x2bde48(0xbda)}},'correctAnswerIndex':{'type':_0x2bde48(0x844)},'explanation':{'type':_0x2bde48(0xbda)},'imageCode':{'type':'STRING'}},'required':[_0x2bde48(0x525),_0x2bde48(0x6c2),_0x2bde48(0xacd),_0x2bde48(0x498)]},_0x55b4b4={'type':_0x2bde48(0xae5),'properties':{'questionText':{'type':_0x2bde48(0xbda)},'correctAnswer':{'type':_0x2bde48(0x4bf)},'explanation':{'type':_0x2bde48(0xbda)},'imageCode':{'type':_0x2bde48(0xbda)}},'required':[_0x2bde48(0x525),_0x2bde48(0x75e),_0x2bde48(0x498)]},_0x297c8e={'type':'OBJECT','properties':{'questionText':{'type':_0x2bde48(0xbda)},'idealAnswer':{'type':_0x2bde48(0xbda)},'explanation':{'type':_0x2bde48(0xbda)},'imageCode':{'type':_0x2bde48(0xbda)}},'required':[_0x2bde48(0x525),'idealAnswer',_0x2bde48(0x498)]},_0x53d35d={'type':_0x2bde48(0xae5),'properties':{'questionType':{'type':_0x2bde48(0xbda),'enum':[_0x2bde48(0x22d)]},'stem':{'type':_0x2bde48(0xbda)},'correctResponse':{'type':_0x2bde48(0xbda)},'allResponses':{'type':_0x2bde48(0x1d4),'items':{'type':_0x2bde48(0xbda)}},'explanation':{'type':_0x2bde48(0xbda)},'imageCode':{'type':_0x2bde48(0xbda)}},'required':[_0x2bde48(0x2a9),'stem',_0x2bde48(0x2a6),_0x2bde48(0x8b0),_0x2bde48(0x498)]};switch(_0x6a32ad){case _0x2bde48(0x8ea):_0x5203ee=_0x2bde48(0x4b2)+_0x18700f+_0x2bde48(0xc37),_0x921835=_0x11ab84;break;case _0x2bde48(0xc6b):_0x5203ee='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x921835=_0x55b4b4;break;case _0x2bde48(0x3c3):_0x5203ee=_0x2bde48(0x9aa),_0x921835=_0x297c8e;break;case _0x2bde48(0xc76):_0x5203ee=_0x2bde48(0x3fa),_0x921835=_0x53d35d;break;case _0x2bde48(0x959):_0x5203ee='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x18700f+_0x2bde48(0xc37),_0x921835=_0x11ab84;break;default:_0x5203ee=_0x2bde48(0x4b2)+_0x18700f+'\x20ตัวเลือก)',_0x921835=_0x11ab84;break;}const _0x451ddb='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x27f4b0=document[_0x2bde48(0x597)](_0x2bde48(0x5ab)),_0xfb5f83=document[_0x2bde48(0x597)](_0x2bde48(0x697)),_0x4abdb9=document[_0x2bde48(0x597)](_0x2bde48(0x2c0));document[_0x2bde48(0x597)](_0x2bde48(0x186))[_0x2bde48(0x7f0)][_0x2bde48(0x4bd)](_0x2bde48(0x9ac)),_0x4abdb9[_0x2bde48(0x2fe)]='',_0x27f4b0[_0x2bde48(0x7f0)][_0x2bde48(0x4bd)](_0x2bde48(0x9ac)),_0xfb5f83[_0x2bde48(0x3a6)]=_0x2bde48(0xaec)+_0x43ed5d+_0x2bde48(0x4f5)+_0x318d42+_0x2bde48(0xca5);try{const _0x3b66d6=_0x2bde48(0xb50),_0x52d3f1=_0x2bde48(0x975)+_0x43ed5d+_0x2bde48(0x3e5)+_0x318d42+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x43ed5d+'\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20'+_0x318d42+_0x2bde48(0xca9)+_0x57e037+_0x2bde48(0x505)+_0x5203ee+_0x2bde48(0xa3c)+_0x451ddb+_0x2bde48(0x845)+_0x3b66d6+_0x2bde48(0x848)+simpleMathPrompt+_0x2bde48(0x45e),_0x2fd7ab={'type':_0x2bde48(0xae5),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2bde48(0x1d4),'items':_0x921835}},'required':[_0x2bde48(0xc41),_0x2bde48(0x962)]},_0x461ed7=[{'text':_0x52d3f1},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x461ed7,_0x2bde48(0xbe4)+_0x43ed5d+'\x22...',_0x2fd7ab);}catch(_0x23ae66){console[_0x2bde48(0x20d)](_0x2bde48(0x77c),_0x23ae66),showMessage(_0x2bde48(0x653)+_0x23ae66[_0x2bde48(0x5f2)]),_0x4abdb9[_0x2bde48(0x2fe)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0x27f4b0[_0x2bde48(0x7f0)]['add']('hidden');}}async function handleGenerateFromFileClick(){const _0x1f9831=_0x57253e;if(!selectedFile){showMessage(_0x1f9831(0xa6f));return;}const _0x578b34=document[_0x1f9831(0x597)]('loader'),_0x4e4d1c=document[_0x1f9831(0x597)](_0x1f9831(0x697)),_0x4cd8a9=document[_0x1f9831(0x597)](_0x1f9831(0x2c0)),_0x564cd8=document[_0x1f9831(0x597)](_0x1f9831(0x4e8));_0x564cd8[_0x1f9831(0x992)]=!![],document['getElementById'](_0x1f9831(0x186))[_0x1f9831(0x7f0)][_0x1f9831(0x4bd)](_0x1f9831(0x9ac)),_0x4cd8a9[_0x1f9831(0x2fe)]='',_0x578b34[_0x1f9831(0x7f0)]['remove'](_0x1f9831(0x9ac)),_0x4e4d1c[_0x1f9831(0x3a6)]=_0x1f9831(0xc0c);try{const _0x403057=await new Promise((_0x4d1780,_0x317bf0)=>{const _0xfff606=_0x1f9831,_0x375ae3=new FileReader();_0x375ae3[_0xfff606(0x499)](selectedFile),_0x375ae3['onload']=()=>_0x4d1780(_0x375ae3[_0xfff606(0x7df)][_0xfff606(0xc61)](',')[0x1]),_0x375ae3[_0xfff606(0x8af)]=_0x44c90d=>_0x317bf0(_0x44c90d);});await generateQuizFromFile(selectedFile[_0x1f9831(0xa17)],_0x403057);}catch(_0x52a43c){console[_0x1f9831(0x20d)]('Error\x20processing\x20file\x20for\x20AI:',_0x52a43c),showMessage('เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20'+_0x52a43c[_0x1f9831(0x5f2)]),_0x578b34['classList'][_0x1f9831(0x6e3)](_0x1f9831(0x9ac)),_0x564cd8[_0x1f9831(0x992)]=![];}}function autoFormatMath(_0x52d421){const _0x265e25=_0x57253e;if(typeof _0x52d421!=='string'||!_0x52d421)return _0x52d421;const _0x1fb901=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x4dc653=_0x52d421[_0x265e25(0x442)](_0x1fb901,_0x3d6957=>{const _0x3bfe64=_0x265e25;return'$'+_0x3d6957[_0x3bfe64(0x365)]()+'$';});return _0x4dc653;}function sanitizeQuizData(_0x55d052){const _0x578960=_0x57253e;if(!_0x55d052||!_0x55d052[_0x578960(0x962)])return _0x55d052;const _0x5b65fd={'imes':_0x578960(0xc51),'div':_0x578960(0x922)},_0x16550e=_0x52aa7f=>{const _0x2f1a72=_0x578960;if(typeof _0x52aa7f!==_0x2f1a72(0x921))return _0x52aa7f;let _0xe72d89=_0x52aa7f;for(const [_0x41680c,_0x354d1c]of Object[_0x2f1a72(0x174)](_0x5b65fd)){const _0x234716=new RegExp('\x5cb'+_0x41680c+'\x5cb','g');_0xe72d89=_0xe72d89[_0x2f1a72(0x442)](_0x234716,_0x354d1c);}return _0xe72d89=_0xe72d89[_0x2f1a72(0x442)](/\\\//g,_0x2f1a72(0x922)),_0xe72d89=_0xe72d89[_0x2f1a72(0x442)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x2f1a72(0x442)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x2f1a72(0xc51))[_0x2f1a72(0x442)](/÷/g,'\x5cdiv')[_0x2f1a72(0x442)](/×/g,_0x2f1a72(0xc51)),_0xe72d89=_0xe72d89['replace'](/(\d)(\\frac)/g,_0x2f1a72(0x5f0)),_0xe72d89=autoFormatMath(_0xe72d89),_0xe72d89;};return _0x55d052['topic']&&(_0x55d052[_0x578960(0xc41)]=_0x16550e(_0x55d052[_0x578960(0xc41)])),_0x55d052['questions']['forEach'](_0x515446=>{const _0x5bbc09=_0x578960;_0x515446[_0x5bbc09(0x525)]=_0x16550e(_0x515446[_0x5bbc09(0x525)]),_0x515446[_0x5bbc09(0x6c2)]&&(_0x515446[_0x5bbc09(0x6c2)]=_0x515446[_0x5bbc09(0x6c2)][_0x5bbc09(0x9ca)](_0x16550e)),_0x515446[_0x5bbc09(0x498)]&&(_0x515446[_0x5bbc09(0x498)]=_0x16550e(_0x515446[_0x5bbc09(0x498)])),_0x515446[_0x5bbc09(0x2d4)]&&(_0x515446[_0x5bbc09(0x2d4)]=_0x16550e(_0x515446[_0x5bbc09(0x2d4)])),_0x515446['correctResponse']&&(_0x515446[_0x5bbc09(0x2a6)]=_0x16550e(_0x515446[_0x5bbc09(0x2a6)])),_0x515446[_0x5bbc09(0x8b0)]&&(_0x515446[_0x5bbc09(0x8b0)]=_0x515446[_0x5bbc09(0x8b0)][_0x5bbc09(0x9ca)](_0x16550e));}),_0x55d052;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x2cfabe=_0x57253e,_0x3e1b7c=document[_0x2cfabe(0x597)]('link-url-input'),_0x40b692=document[_0x2cfabe(0x597)](_0x2cfabe(0x134)),_0xc755d=_0x3e1b7c[_0x2cfabe(0x6f7)][_0x2cfabe(0x365)](),_0x855a94=_0x40b692[_0x2cfabe(0x6f7)]['trim']();if(!_0xc755d){showMessage(_0x2cfabe(0xaf6));return;}const _0x44e7d3=document[_0x2cfabe(0x597)](_0x2cfabe(0x5ab)),_0x5a7357=document[_0x2cfabe(0x597)](_0x2cfabe(0x697)),_0x2331b1=document[_0x2cfabe(0x597)](_0x2cfabe(0x2c0)),_0x5c03b4=document[_0x2cfabe(0x597)](_0x2cfabe(0xb85));document['getElementById'](_0x2cfabe(0x186))[_0x2cfabe(0x7f0)][_0x2cfabe(0x4bd)](_0x2cfabe(0x9ac)),_0x2331b1[_0x2cfabe(0x2fe)]='',_0x44e7d3['classList'][_0x2cfabe(0x4bd)](_0x2cfabe(0x9ac)),_0x5a7357[_0x2cfabe(0x3a6)]=_0x2cfabe(0xbd5),_0x5c03b4['disabled']=!![];try{const _0x5acae3=_0x2cfabe(0x64f)+encodeURIComponent(_0xc755d),_0x18b83e=await fetch(_0x5acae3);if(!_0x18b83e['ok'])throw new Error(_0x2cfabe(0xbca)+_0x18b83e[_0x2cfabe(0x9e6)]+')');const _0x5d3880=await _0x18b83e['text'](),_0xe48ae9=extractTextFromHtml(_0x5d3880);if(!_0xe48ae9||_0xe48ae9[_0x2cfabe(0x711)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x855a94,_0xe48ae9);}catch(_0x1b02dc){console[_0x2cfabe(0x20d)]('Error\x20generating\x20from\x20link:',_0x1b02dc),showMessage(_0x2cfabe(0x653)+_0x1b02dc[_0x2cfabe(0x5f2)]),_0x2331b1[_0x2cfabe(0x2fe)]=_0x2cfabe(0xa02);}finally{_0x44e7d3[_0x2cfabe(0x7f0)]['add']('hidden'),_0x5c03b4[_0x2cfabe(0x992)]=![];}}function extractTextFromHtml(_0x52ffa4){const _0x1c4846=_0x57253e,_0x38f3d2=new DOMParser()[_0x1c4846(0x78b)](_0x52ffa4,_0x1c4846(0x7ab));return _0x38f3d2['querySelectorAll'](_0x1c4846(0x867))[_0x1c4846(0xb68)](_0x1e564d=>_0x1e564d[_0x1c4846(0x4bd)]()),_0x38f3d2[_0x1c4846(0x93c)][_0x1c4846(0x3a6)]||'';}document[_0x57253e(0x597)](_0x57253e(0x15c))['addEventListener'](_0x57253e(0x82f),()=>{const _0x5f4b9f=_0x57253e,_0x3a107c=document[_0x5f4b9f(0x597)](_0x5f4b9f(0x611))[_0x5f4b9f(0x6f7)][_0x5f4b9f(0x365)]();generateQuiz(_0x3a107c,null);}),document[_0x57253e(0x597)](_0x57253e(0x84e))[_0x57253e(0x161)](_0x57253e(0x82f),()=>{const _0xfc0121=_0x57253e,_0x20c903=document[_0xfc0121(0x597)](_0xfc0121(0x2fc))[_0xfc0121(0x6f7)]['trim']();if(!_0x20c903){showMessage(_0xfc0121(0x303));return;}const _0x389e83=document[_0xfc0121(0x597)](_0xfc0121(0x611))['value'][_0xfc0121(0x365)]();generateQuiz(_0x389e83,_0x20c903);});async function generateQuiz(_0x1ed04a,_0x205a70,_0x4734b9=null,_0x99bf4b=null,_0x38dbbd=![],_0x5243db=null,_0x183bdf=null,_0x3d3d9c=![]){const _0x1d20a3=_0x57253e;let _0x13a49f={};if(_0x38dbbd&&blueprintPageSettings)_0x13a49f=blueprintPageSettings;else{const _0x33bde7=document[_0x1d20a3(0x40f)]('#math-topics-checkbox-container\x20input:checked');_0x13a49f={'quizType':document['getElementById'](_0x1d20a3(0x488))[_0x1d20a3(0x6f7)],'numQuestions':document[_0x1d20a3(0x597)]('num-questions')['value'],'numChoices':document[_0x1d20a3(0x597)]('num-choices')[_0x1d20a3(0x6f7)],'includeImages':document[_0x1d20a3(0x597)](_0x1d20a3(0xb2d))['checked'],'isNormalTopic':document[_0x1d20a3(0x597)](_0x1d20a3(0xb30))[_0x1d20a3(0x641)],'difficultyValue':document[_0x1d20a3(0x597)]('difficulty-level-select')[_0x1d20a3(0x6f7)],'complexityValue':document[_0x1d20a3(0x597)](_0x1d20a3(0x3f0))[_0x1d20a3(0x6f7)],'selectedTopicNames':Array['from'](_0x33bde7)[_0x1d20a3(0x9ca)](_0xc2e525=>_0xc2e525[_0x1d20a3(0x6f7)])};}const _0x1bd836=_0x13a49f[_0x1d20a3(0x74d)]?'':'คณิตศาสตร์',_0x13577c=_0x13a49f['difficultyValue']!==_0x1d20a3(0x973)?_0x1d20a3(0x3aa)+_0x13a49f[_0x1d20a3(0x9ef)]+'\x22':'',_0x10321e=_0x13a49f[_0x1d20a3(0x6b2)]!==_0x1d20a3(0xb7c)?_0x1d20a3(0x668)+_0x13a49f[_0x1d20a3(0x6b2)]+_0x1d20a3(0x2e0):'';let _0x55719f='';_0x13a49f[_0x1d20a3(0x34b)]&&_0x13a49f['selectedTopicNames'][_0x1d20a3(0x711)]>0x0&&(_0x55719f=_0x1d20a3(0xab1)+_0x13a49f[_0x1d20a3(0x34b)]['join'](',\x20')+'.');let _0x50ec7d='';_0x99bf4b&&(_0x50ec7d=_0x1d20a3(0x4a7));let _0x2a762a='',_0x5573aa='',_0xed4d83,_0x3b6fa7=_0x1d20a3(0x189)+_0x1ed04a+'\x22';if(!_0x1ed04a&&_0x205a70)_0x3b6fa7=_0x1d20a3(0xa6d);else!_0x1ed04a&&!_0x205a70&&(_0x3b6fa7=_0x1d20a3(0xc5d));const _0x3f0b4c={'type':_0x1d20a3(0xae5),'properties':{'questionText':{'type':_0x1d20a3(0xbda)},'options':{'type':_0x1d20a3(0x1d4),'items':{'type':_0x1d20a3(0xbda)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x1d20a3(0xbda)},'imageCode':{'type':_0x1d20a3(0xbda)}},'required':[_0x1d20a3(0x525),'options',_0x1d20a3(0xacd),_0x1d20a3(0x498)]},_0x164584={'type':_0x1d20a3(0xae5),'properties':{'questionText':{'type':_0x1d20a3(0xbda)},'idealAnswer':{'type':_0x1d20a3(0xbda)},'explanation':{'type':_0x1d20a3(0xbda)},'imageCode':{'type':_0x1d20a3(0xbda)}},'required':[_0x1d20a3(0x525),_0x1d20a3(0x850),_0x1d20a3(0x498)]},_0x4019cd={'type':'OBJECT','properties':{'questionText':{'type':_0x1d20a3(0xbda)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x1d20a3(0x733)]},'options':{'type':_0x1d20a3(0x1d4),'items':{'type':_0x1d20a3(0xbda)}},'correctAnswerIndex':{'type':_0x1d20a3(0x844)},'idealAnswer':{'type':_0x1d20a3(0xbda)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1d20a3(0xbda)}},'required':[_0x1d20a3(0x525),'questionType',_0x1d20a3(0x498)]},_0x1b493b={'type':'OBJECT','properties':{'questionText':{'type':_0x1d20a3(0xbda)},'correctAnswer':{'type':_0x1d20a3(0x4bf)},'explanation':{'type':_0x1d20a3(0xbda)},'imageCode':{'type':'STRING'}},'required':[_0x1d20a3(0x525),_0x1d20a3(0x75e),'explanation']},_0x1724fd={'type':_0x1d20a3(0xae5),'properties':{'questionType':{'type':_0x1d20a3(0xbda),'enum':[_0x1d20a3(0x22d)]},'stem':{'type':_0x1d20a3(0xbda)},'correctResponse':{'type':_0x1d20a3(0xbda)},'allResponses':{'type':_0x1d20a3(0x1d4),'items':{'type':_0x1d20a3(0xbda)}},'explanation':{'type':_0x1d20a3(0xbda)},'imageCode':{'type':_0x1d20a3(0xbda)}},'required':[_0x1d20a3(0x2a9),_0x1d20a3(0x2d4),'correctResponse',_0x1d20a3(0x8b0),'explanation']};let _0x19a85c;if(_0x4734b9!==null){const _0x2ac232=currentQuizData['questions'][_0x4734b9][_0x1d20a3(0x2a9)],_0x48febb=_0x13a49f[_0x1d20a3(0x5c5)]?_0x1d20a3(0x931):'';_0x2a762a='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x3b6fa7+'\x20'+_0x55719f+'\x20'+_0x13577c+_0x1d20a3(0x352)+_0x48febb+'\x20'+simpleMathPrompt;if(_0x2ac232===_0x1d20a3(0x8ea))_0xed4d83=_0x3f0b4c;else{if(_0x2ac232===_0x1d20a3(0x22d))_0xed4d83={'type':_0x1d20a3(0xae5),'properties':{'questionType':{'type':'STRING','enum':[_0x1d20a3(0x22d)]},'stem':{'type':_0x1d20a3(0xbda)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x1d20a3(0xbda)},'imageCode':{'type':'STRING'}},'required':[_0x1d20a3(0x2a9),'stem',_0x1d20a3(0x2a6),'explanation']};else _0xed4d83=_0x164584;}_0x19a85c=_0xed4d83;}else{const _0x587b4b=_0x13a49f[_0x1d20a3(0x5c5)]?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x13a49f[_0x1d20a3(0x2b3)]){case _0x1d20a3(0x8ea):_0x2a762a=_0x1d20a3(0x8ba)+_0x1bd836+'\x20'+_0x13a49f['numQuestions']+_0x1d20a3(0xbf2)+_0x3b6fa7+'\x20'+_0x55719f+'\x20'+_0x13577c+'\x20'+_0x10321e+'\x20'+_0x50ec7d+_0x1d20a3(0x5d6)+_0x13a49f[_0x1d20a3(0x568)]+_0x1d20a3(0x6d9)+_0x587b4b+'\x20'+simpleMathPrompt,_0xed4d83=_0x3f0b4c;break;case _0x1d20a3(0x959):_0x2a762a=_0x1d20a3(0x3a0)+_0x1bd836+'\x20'+_0x13a49f[_0x1d20a3(0x814)]+'\x20ข้อ\x20'+_0x3b6fa7+'\x20'+_0x55719f+'\x20'+_0x13577c+'\x20'+_0x10321e+'\x20'+_0x50ec7d+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x13a49f[_0x1d20a3(0x568)]+_0x1d20a3(0x947)+_0x587b4b+'\x20'+simpleMathPrompt,_0xed4d83=_0x3f0b4c;break;case _0x1d20a3(0x3c3):_0x2a762a=_0x1d20a3(0x3a0)+_0x1bd836+'\x20'+_0x13a49f[_0x1d20a3(0x814)]+_0x1d20a3(0xbf2)+_0x3b6fa7+'\x20'+_0x55719f+'\x20'+_0x13577c+'\x20'+_0x10321e+'\x20'+_0x50ec7d+_0x1d20a3(0x305)+_0x587b4b+'\x20'+simpleMathPrompt,_0xed4d83=_0x164584;break;case'mixed':_0x2a762a='สร้างแบบทดสอบ'+_0x1bd836+'\x20'+_0x13a49f[_0x1d20a3(0x814)]+_0x1d20a3(0xbf2)+_0x3b6fa7+'\x20'+_0x55719f+'\x20'+_0x13577c+'\x20'+_0x10321e+'\x20'+_0x50ec7d+_0x1d20a3(0x87f)+_0x13a49f[_0x1d20a3(0x568)]+'\x20ตัวเลือก.\x20'+_0x587b4b+'\x20'+simpleMathPrompt+'.',_0xed4d83=_0x4019cd;break;case _0x1d20a3(0xc6b):_0x2a762a=_0x1d20a3(0x546)+_0x1bd836+'\x20'+_0x13a49f[_0x1d20a3(0x814)]+'\x20ข้อ\x20'+_0x3b6fa7+'\x20'+_0x55719f+'\x20'+_0x13577c+'\x20'+_0x10321e+'\x20'+_0x50ec7d+_0x1d20a3(0x351)+_0x587b4b+'\x20'+simpleMathPrompt,_0xed4d83=_0x1b493b;break;case _0x1d20a3(0xc76):_0x2a762a=_0x1d20a3(0x269)+_0x1bd836+'\x20'+_0x13a49f[_0x1d20a3(0x814)]+'\x20คู่\x20'+_0x3b6fa7+'\x20'+_0x55719f+'\x20'+_0x13577c+'\x20'+_0x10321e+'\x20'+_0x50ec7d+_0x1d20a3(0x279)+_0x587b4b+'\x20'+simpleMathPrompt,_0xed4d83=_0x1724fd;break;}_0x19a85c={'type':'OBJECT','properties':{'topic':{'type':_0x1d20a3(0xbda)},'questions':{'type':_0x1d20a3(0x1d4),'items':_0xed4d83}},'required':['topic',_0x1d20a3(0x962)]};}const _0x51a7af=_0x1d20a3(0x849);_0x205a70?(_0x3d3d9c?_0x2a762a='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x205a70+'\x22,\x20'+_0x2a762a+_0x51a7af:_0x2a762a=_0x1d20a3(0x87b)+_0x205a70+_0x1d20a3(0x414)+_0x2a762a,_0x5573aa=_0x1d20a3(0x6b7)):(_0x3d3d9c&&(_0x2a762a+=_0x51a7af),_0x5573aa=_0x1d20a3(0x13f));let _0x20da90;return _0x99bf4b?(_0x20da90=[{'text':_0x2a762a},..._0x99bf4b],_0x5573aa='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0x20da90=_0x2a762a,handleApiCall(_0x20da90,_0x5573aa,_0x19a85c,_0x4734b9,!![],_0x5243db,_0x183bdf);}async function generateQuizFromFile(_0x4533be,_0x497f13){const _0x5d478d=_0x57253e,_0x7f3542=document['getElementById']('file-topic-input')[_0x5d478d(0x6f7)][_0x5d478d(0x365)](),_0x57d058=document[_0x5d478d(0x597)](_0x5d478d(0x488))[_0x5d478d(0x6f7)],_0x3152fe=document['getElementById']('num-questions')[_0x5d478d(0x6f7)],_0x5a0942=document[_0x5d478d(0x597)](_0x5d478d(0x166))[_0x5d478d(0x6f7)],_0x4d83d1=document[_0x5d478d(0x597)](_0x5d478d(0xb2d))['checked'],_0x5885a5=document['getElementById'](_0x5d478d(0xb30))[_0x5d478d(0x641)],_0x56712b=_0x5885a5?'':_0x5d478d(0xb4a),_0x1ee4fc=document[_0x5d478d(0x597)](_0x5d478d(0xbfe))[_0x5d478d(0x641)];let _0x2a173c='',_0x5e2e4b;const _0x495e00=_0x4d83d1?_0x5d478d(0x70c):'';if(_0x1ee4fc)_0x2a173c=_0x5d478d(0x3fc)+_0x495e00+'\x0a'+simpleMathPrompt+'\x0a',_0x5e2e4b={'type':_0x5d478d(0xae5),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5d478d(0xbda),'enum':[_0x5d478d(0x8ea),_0x5d478d(0x733),_0x5d478d(0xc6b),_0x5d478d(0x22d)]},'options':{'type':'ARRAY','items':{'type':_0x5d478d(0xbda)}},'correctAnswerIndex':{'type':_0x5d478d(0x844)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x5d478d(0xbda)},'correctResponse':{'type':_0x5d478d(0xbda)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x5d478d(0xbda)},'imageCode':{'type':_0x5d478d(0xbda)}},'required':['questionType',_0x5d478d(0x498)]};else{let _0x1af5cc='เกี่ยวกับหัวข้อ\x20\x22'+_0x7f3542+'\x22';!_0x7f3542&&(_0x1af5cc=_0x5d478d(0xa21));switch(_0x57d058){case _0x5d478d(0x8ea):_0x2a173c=_0x5d478d(0x8ba)+_0x56712b+'\x20'+_0x3152fe+_0x5d478d(0xbf2)+_0x1af5cc+_0x5d478d(0x5d6)+_0x5a0942+_0x5d478d(0x6d9)+_0x495e00+'\x20'+simpleMathPrompt,_0x5e2e4b={'type':_0x5d478d(0xae5),'properties':{'questionText':{'type':_0x5d478d(0xbda)},'options':{'type':_0x5d478d(0x1d4),'items':{'type':_0x5d478d(0xbda)}},'correctAnswerIndex':{'type':_0x5d478d(0x844)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5d478d(0xbda)}},'required':[_0x5d478d(0x525),_0x5d478d(0x6c2),_0x5d478d(0xacd),_0x5d478d(0x498)]};break;case'fill_in_with_choices':_0x2a173c=_0x5d478d(0x3a0)+_0x56712b+'\x20'+_0x3152fe+_0x5d478d(0xbf2)+_0x1af5cc+_0x5d478d(0x276)+_0x5a0942+_0x5d478d(0x947)+_0x495e00+'\x20'+simpleMathPrompt,_0x5e2e4b={'type':'OBJECT','properties':{'questionText':{'type':_0x5d478d(0xbda)},'options':{'type':_0x5d478d(0x1d4),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5d478d(0x844)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x5d478d(0x525),_0x5d478d(0x6c2),_0x5d478d(0xacd),_0x5d478d(0x498)]};break;case _0x5d478d(0x3c3):_0x2a173c=_0x5d478d(0x3a0)+_0x56712b+'\x20'+_0x3152fe+_0x5d478d(0xbf2)+_0x1af5cc+_0x5d478d(0xb58)+_0x495e00+'\x20'+simpleMathPrompt,_0x5e2e4b={'type':_0x5d478d(0xae5),'properties':{'questionText':{'type':_0x5d478d(0xbda)},'idealAnswer':{'type':_0x5d478d(0xbda)},'explanation':{'type':_0x5d478d(0xbda)},'imageCode':{'type':_0x5d478d(0xbda)}},'required':[_0x5d478d(0x525),_0x5d478d(0x850),_0x5d478d(0x498)]};break;case _0x5d478d(0xb7c):_0x2a173c=_0x5d478d(0x153)+_0x56712b+'\x20'+_0x3152fe+_0x5d478d(0xbf2)+_0x1af5cc+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x5a0942+_0x5d478d(0x397)+_0x495e00+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x5e2e4b={'type':_0x5d478d(0xae5),'properties':{'questionText':{'type':_0x5d478d(0xbda)},'questionType':{'type':'STRING','enum':[_0x5d478d(0x8ea),_0x5d478d(0x733)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5d478d(0x844)},'idealAnswer':{'type':_0x5d478d(0xbda)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5d478d(0xbda)}},'required':['questionText',_0x5d478d(0x2a9),'explanation']};break;case _0x5d478d(0xc6b):_0x2a173c=_0x5d478d(0x546)+_0x56712b+'\x20'+_0x3152fe+_0x5d478d(0xbf2)+_0x1af5cc+_0x5d478d(0x943)+_0x495e00+'\x20'+simpleMathPrompt,_0x5e2e4b={'type':_0x5d478d(0xae5),'properties':{'questionText':{'type':_0x5d478d(0xbda)},'correctAnswer':{'type':_0x5d478d(0x4bf)},'explanation':{'type':_0x5d478d(0xbda)},'imageCode':{'type':_0x5d478d(0xbda)}},'required':[_0x5d478d(0x525),_0x5d478d(0x75e),'explanation']};break;case _0x5d478d(0xc76):_0x2a173c=_0x5d478d(0x269)+_0x56712b+'\x20'+_0x3152fe+_0x5d478d(0x3b4)+_0x1af5cc+_0x5d478d(0x24a)+_0x3152fe+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x495e00+'\x20'+simpleMathPrompt,_0x5e2e4b={'type':_0x5d478d(0xae5),'properties':{'questionType':{'type':_0x5d478d(0xbda),'enum':[_0x5d478d(0x22d)]},'stem':{'type':_0x5d478d(0xbda)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x5d478d(0x1d4),'items':{'type':_0x5d478d(0xbda)}},'explanation':{'type':_0x5d478d(0xbda)},'imageCode':{'type':_0x5d478d(0xbda)}},'required':['questionType','stem',_0x5d478d(0x2a6),_0x5d478d(0x8b0),_0x5d478d(0x498)]};break;}}const _0x57c78e={'type':'OBJECT','properties':{'topic':{'type':_0x5d478d(0xbda)},'questions':{'type':'ARRAY','items':_0x5e2e4b}},'required':[_0x5d478d(0xc41),'questions']},_0x5c82c8=_0x5d478d(0x838)+_0x2a173c,_0x1cae33={'contents':[{'parts':[{'text':_0x5c82c8},{'inlineData':{'mimeType':_0x4533be,'data':_0x497f13}}]}],'generationConfig':{'responseMimeType':_0x5d478d(0xb9d),'responseSchema':_0x57c78e}};return handleApiCall(_0x1cae33[_0x5d478d(0x832)][0x0][_0x5d478d(0x730)],_0x5d478d(0x64a),_0x57c78e);}async function handleApiCall(_0x1f24e6,_0x1d9a78,_0x230b67,_0x5d1a1d=null,_0x365e29=!![],_0x21c223=null,_0x9dd47a=null){const _0x127a31=_0x57253e,_0x9062ac=document[_0x127a31(0x597)](_0x127a31(0x186)),_0x87d1da=document[_0x127a31(0x597)](_0x127a31(0x5ab)),_0x92607=document['getElementById'](_0x127a31(0x697)),_0x1473ca=document['getElementById'](_0x127a31(0x2c0));_0x9062ac['classList'][_0x127a31(0x4bd)](_0x127a31(0x9ac));_0x5d1a1d===null&&_0x365e29&&(_0x1473ca[_0x127a31(0x2fe)]='');_0x87d1da['classList'][_0x127a31(0x4bd)](_0x127a31(0x9ac)),_0x92607['textContent']=_0x1d9a78,document['getElementById'](_0x127a31(0x15c))['disabled']=!![],document[_0x127a31(0x597)](_0x127a31(0x84e))[_0x127a31(0x992)]=!![],document[_0x127a31(0x597)](_0x127a31(0xb85))[_0x127a31(0x992)]=!![];const _0x4d5026=document[_0x127a31(0x597)](_0x127a31(0x4e8));if(_0x4d5026)_0x4d5026['disabled']=!![];const _0x476e25=document['getElementById'](_0x127a31(0x323));if(_0x476e25)_0x476e25[_0x127a31(0x992)]=!![];const _0x545441=document[_0x127a31(0x597)](_0x127a31(0xc92));if(_0x545441)_0x545441[_0x127a31(0x992)]=!![];try{const _0x395f3a=Array[_0x127a31(0x117)](_0x1f24e6)?_0x1f24e6:[{'text':_0x1f24e6}],_0x1eafd4={'contents':[{'role':_0x127a31(0x5c4),'parts':_0x395f3a}]};_0x230b67&&(_0x1eafd4['generationConfig']={'responseMimeType':'application/json','responseSchema':_0x230b67});const _0x1b0854=_0x127a31(0x3c8),_0x43941c='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x1b0854,_0x51d62c=await fetch(_0x43941c,{'method':_0x127a31(0x4e1),'headers':{'Content-Type':_0x127a31(0xb9d)},'body':JSON[_0x127a31(0xb09)](_0x1eafd4)});if(!_0x51d62c['ok']){const _0x4007ed=await _0x51d62c[_0x127a31(0x71d)]();console['error'](_0x127a31(0xb3f),_0x4007ed);throw new Error(_0x127a31(0x986)+_0x51d62c[_0x127a31(0x9e6)]);}const _0x3aa756=await _0x51d62c[_0x127a31(0xc01)]();if(!_0x3aa756['candidates']||_0x3aa756[_0x127a31(0x9d6)][_0x127a31(0x711)]===0x0){let _0x1b9133=_0x127a31(0x60d);return _0x3aa756[_0x127a31(0x15f)]?.[_0x127a31(0x678)]&&(_0x1b9133=_0x127a31(0x76d)+_0x3aa756['promptFeedback'][_0x127a31(0x678)]+'.'),console[_0x127a31(0x20d)](_0x1b9133,JSON['stringify'](_0x3aa756)),null;}const _0x4f9a92=_0x3aa756[_0x127a31(0x9d6)][0x0][_0x127a31(0x4d0)]['parts'][0x0][_0x127a31(0x71d)];if(_0x230b67){let _0x24132c=_0x4f9a92;if(_0x24132c[_0x127a31(0xbe3)]('```json'))_0x24132c=_0x24132c[_0x127a31(0x7ff)](0x7,_0x24132c['length']-0x3)[_0x127a31(0x365)]();else _0x24132c[_0x127a31(0xbe3)]('```')&&(_0x24132c=_0x24132c['substring'](0x3,_0x24132c[_0x127a31(0x711)]-0x3)[_0x127a31(0x365)]());let _0x3bca08=JSON[_0x127a31(0x8ef)](_0x24132c);if(_0x365e29){if(_0x5d1a1d!==null){}else currentQuizData=_0x3bca08,displayGeneratedQuiz(currentQuizData,_0x21c223,_0x9dd47a);}return _0x3bca08;}else return _0x4f9a92;}catch(_0x458927){console['error'](_0x127a31(0x857),_0x458927),showMessage(_0x127a31(0x6f8)+_0x458927['message']);_0x365e29&&(_0x1473ca[_0x127a31(0x2fe)]=_0x127a31(0x24f));throw _0x458927;}finally{_0x87d1da[_0x127a31(0x7f0)]['add'](_0x127a31(0x9ac)),document[_0x127a31(0x597)](_0x127a31(0x15c))[_0x127a31(0x992)]=![],document[_0x127a31(0x597)]('generate-from-text-btn')['disabled']=![],document[_0x127a31(0x597)](_0x127a31(0xb85))['disabled']=![];if(_0x4d5026)_0x4d5026[_0x127a31(0x992)]=![];if(_0x476e25)_0x476e25[_0x127a31(0x992)]=![];if(_0x545441)_0x545441[_0x127a31(0x992)]=![];}}function exitFullscreen(){const _0x16c3e5=_0x57253e;if(document[_0x16c3e5(0x147)])document[_0x16c3e5(0x147)]()[_0x16c3e5(0xa10)](_0x3e982e=>console[_0x16c3e5(0x20d)](_0x3e982e));else{if(document['webkitExitFullscreen'])document[_0x16c3e5(0x9b4)]();else document[_0x16c3e5(0xbbe)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x481254=_0x57253e,_0x45ffc1=document[_0x481254(0xbeb)];if(_0x45ffc1[_0x481254(0x96a)])_0x45ffc1[_0x481254(0x96a)]()['catch'](_0x542855=>{const _0x1b382b=_0x481254;console['error'](_0x1b382b(0x209)+_0x542855[_0x1b382b(0x5f2)]+'\x20('+_0x542855[_0x1b382b(0x309)]+')');});else{if(_0x45ffc1[_0x481254(0x708)])_0x45ffc1['webkitRequestFullscreen']();else _0x45ffc1['msRequestFullscreen']&&_0x45ffc1[_0x481254(0x1a2)]();}}function handleCheatingEvent(){const _0x4ab25e=_0x57253e;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x4ab25e(0x7d4),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x4ab25e(0x565)+maxCheatAttempts+_0x4ab25e(0x210)),document[_0x4ab25e(0x597)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x4ab25e(0x713)](_0x4ab25e(0x47f),handleVisibilityChange),document[_0x4ab25e(0x713)](_0x4ab25e(0x445),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x4ab25e(0x32d),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x2083e3=_0x57253e;if(currentMode===_0x2083e3(0x76a)||!isQuizActive)return;if(document['visibilityState']==='hidden')handleCheatingEvent();else document[_0x2083e3(0xc1c)]===_0x2083e3(0x8f2)&&(console[_0x2083e3(0x496)](_0x2083e3(0x7a7)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x387d55=_0x57253e;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x387d55(0x2ff)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x3362e7,_0x3babbb=null,_0x1bcc04=null){const _0x57f52b=_0x57253e,_0x42575e=document[_0x57f52b(0x597)]('generated-quiz-container');let _0x1e3ea4='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x3362e7[_0x57f52b(0xc41)]+_0x57f52b(0x6a7);_0x3362e7[_0x57f52b(0x962)][_0x57f52b(0xb68)]((_0x3a1b84,_0x208640)=>{const _0x20b8fb=_0x57f52b;!_0x3a1b84['id']&&(_0x3a1b84['id']='q_'+Date[_0x20b8fb(0xa1b)]()+'_'+_0x208640);const _0x13c850=_0x3a1b84[_0x20b8fb(0x2a9)]||_0x3362e7['quizType'];_0x1e3ea4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x208640+_0x20b8fb(0x82a)+_0x208640+_0x20b8fb(0x7fc)+_0x208640+_0x20b8fb(0x5b1);switch(_0x13c850){case'matching_item':_0x1e3ea4+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x208640+'\x22>'+(_0x208640+0x1)+'.\x20'+_0x3a1b84[_0x20b8fb(0x2d4)]+_0x20b8fb(0x686);_0x3a1b84[_0x20b8fb(0x415)]&&(_0x1e3ea4+=_0x20b8fb(0x95a)+_0x208640+_0x20b8fb(0x433)+_0x3a1b84[_0x20b8fb(0x415)]+_0x20b8fb(0x519));_0x1e3ea4+=_0x20b8fb(0xc2f)+_0x208640+'\x22>'+_0x3a1b84[_0x20b8fb(0x2a6)]+_0x20b8fb(0x39e),_0x1e3ea4+=_0x20b8fb(0xa81)+_0x208640+'\x22>'+_0x3a1b84[_0x20b8fb(0x498)]+'</span></div>';break;case'short_answer':_0x1e3ea4+=_0x20b8fb(0x183)+_0x208640+'\x22>'+(_0x208640+0x1)+'.\x20'+_0x3a1b84[_0x20b8fb(0x525)]+_0x20b8fb(0x686);_0x3a1b84[_0x20b8fb(0x415)]&&(_0x1e3ea4+='<div\x20id=\x22q-image-container-'+_0x208640+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3a1b84['imageCode']+_0x20b8fb(0x519));_0x1e3ea4+=_0x20b8fb(0x8a0)+_0x208640+'\x22>'+_0x3a1b84[_0x20b8fb(0x850)]+'</span></div>',_0x1e3ea4+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x208640+'\x22>'+_0x3a1b84[_0x20b8fb(0x498)]+_0x20b8fb(0x39e);break;case'true_false':_0x1e3ea4+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x208640+'\x22>'+(_0x208640+0x1)+'.\x20'+_0x3a1b84['questionText']+_0x20b8fb(0x686);_0x3a1b84[_0x20b8fb(0x415)]&&(_0x1e3ea4+=_0x20b8fb(0x95a)+_0x208640+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3a1b84[_0x20b8fb(0x415)]+_0x20b8fb(0x519));_0x1e3ea4+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x3a1b84[_0x20b8fb(0x75e)]===!![]?'text-green-600\x20font-bold':'')+_0x20b8fb(0x566)+(_0x3a1b84[_0x20b8fb(0x75e)]===![]?_0x20b8fb(0x44e):'')+_0x20b8fb(0x330),_0x1e3ea4+=_0x20b8fb(0xa81)+_0x208640+'\x22>'+_0x3a1b84[_0x20b8fb(0x498)]+_0x20b8fb(0x39e);break;case _0x20b8fb(0x788):case _0x20b8fb(0x8ea):default:_0x1e3ea4+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x208640+'\x22>'+(_0x208640+0x1)+'.\x20'+_0x3a1b84[_0x20b8fb(0x525)]+'</p>';_0x3a1b84[_0x20b8fb(0x415)]&&(_0x1e3ea4+=_0x20b8fb(0x95a)+_0x208640+_0x20b8fb(0x433)+_0x3a1b84[_0x20b8fb(0x415)]+_0x20b8fb(0x519));_0x1e3ea4+=_0x20b8fb(0x8bd)+_0x208640+_0x20b8fb(0xaa7)+(_0x3a1b84[_0x20b8fb(0x6c2)]||[])[_0x20b8fb(0x9ca)]((_0x414988,_0x19888b)=>_0x20b8fb(0x179)+(_0x19888b===_0x3a1b84['correctAnswerIndex']?_0x20b8fb(0x44e):'')+'\x22>'+_0x414988+'</li>')[_0x20b8fb(0x552)]('')+_0x20b8fb(0x2be),_0x1e3ea4+=_0x20b8fb(0xa81)+_0x208640+'\x22>'+_0x3a1b84[_0x20b8fb(0x498)]+_0x20b8fb(0x39e);break;}_0x1e3ea4+=_0x20b8fb(0x519);}),_0x1e3ea4+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0x42575e[_0x57f52b(0x2fe)]=_0x1e3ea4,document[_0x57f52b(0x40f)]('.edit-question-btn')[_0x57f52b(0xb68)](_0x31fd39=>_0x31fd39[_0x57f52b(0x161)](_0x57f52b(0x82f),handleEditQuestion)),document[_0x57f52b(0x40f)](_0x57f52b(0x3fe))[_0x57f52b(0xb68)](_0x5c2217=>_0x5c2217[_0x57f52b(0x161)]('click',handleRegenerateQuestion)),document[_0x57f52b(0x597)](_0x57f52b(0x372))['addEventListener'](_0x57f52b(0x82f),exportQuizAsWorksheetPDF),document[_0x57f52b(0x597)](_0x57f52b(0x41b))[_0x57f52b(0x161)](_0x57f52b(0x82f),handleVerifyAnswers);const _0x2ce7ae=document[_0x57f52b(0x597)](_0x57f52b(0x3f8));if(_0x2ce7ae){const _0x9417c7=_0x3babbb||currentProjectId;_0x2ce7ae['addEventListener'](_0x57f52b(0x82f),()=>saveQuiz(_0x9417c7,_0x1bcc04));}if(window[_0x57f52b(0x2e3)])window['MathJax'][_0x57f52b(0x4b8)]([_0x42575e]);}function handleRegenerateQuestion(_0x5ddd66){const _0x10734e=_0x57253e,_0x4b3d0b=_0x5ddd66['currentTarget'][_0x10734e(0x7a0)][_0x10734e(0xb75)],_0x54058f=currentQuizData['topic'];showMessage(_0x10734e(0x7a6)+(parseInt(_0x4b3d0b)+0x1)+'\x20ใหม่...'),generateQuiz(_0x54058f,null,parseInt(_0x4b3d0b));}function getPointerPosition(_0xcf2121,_0x34d599){const _0x516d49=_0x57253e,_0x17300b=_0xcf2121[_0x516d49(0x25c)]();let _0x12ccc6,_0xcbdbb6;return _0x34d599['touches']&&_0x34d599[_0x516d49(0x59f)]['length']>0x0?(_0x12ccc6=_0x34d599[_0x516d49(0x59f)][0x0]['clientX'],_0xcbdbb6=_0x34d599[_0x516d49(0x59f)][0x0]['clientY']):(_0x12ccc6=_0x34d599[_0x516d49(0x25b)],_0xcbdbb6=_0x34d599['clientY']),{'x':(_0x12ccc6-_0x17300b['e'])/_0x17300b['a'],'y':(_0xcbdbb6-_0x17300b['f'])/_0x17300b['d']};}function startDrag(_0x1e3bdb){const _0xe78df0=_0x57253e;_0x1e3bdb[_0xe78df0(0xa17)]===_0xe78df0(0x3c6)&&_0x1e3bdb['preventDefault']();const _0x41d766=_0x1e3bdb[_0xe78df0(0xaa3)]['closest']('.draggable-text');if(_0x41d766){draggedSvgElement=_0x41d766;const _0x4ca9ab=draggedSvgElement['ownerSVGElement'],_0x524f6b=getPointerPosition(_0x4ca9ab,_0x1e3bdb);svgOffset['x']=_0x524f6b['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x524f6b['y']-parseFloat(draggedSvgElement[_0xe78df0(0x773)](null,'y'));}}function calculateItemAnalysis(_0x49506d,_0x2f86e5){const _0x1af7f6=_0x57253e,_0x120094={};if(_0x2f86e5[_0x1af7f6(0x711)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x41fe93=[..._0x2f86e5][_0x1af7f6(0x2d6)]((_0xdb0704,_0x3801a4)=>{const _0x24e312=_0x1af7f6,_0x48af4b=_0x3801a4['latestScore']-_0xdb0704[_0x24e312(0xb8b)];if(_0x48af4b!==0x0)return _0x48af4b;const _0x1d7f79=_0xdb0704[_0x24e312(0x620)]?.[_0x24e312(0x711)]||0x1,_0x5780e8=_0x3801a4[_0x24e312(0x620)]?.[_0x24e312(0x711)]||0x1,_0x42e9d8=_0x1d7f79-_0x5780e8;if(_0x42e9d8!==0x0)return _0x42e9d8;const _0x475238=new Date(_0xdb0704[_0x24e312(0x72f)]),_0x5de4ca=new Date(_0x3801a4['latestSubmittedAt']),_0x2ed52a=_0x475238-_0x5de4ca;if(_0x2ed52a!==0x0)return _0x2ed52a;return _0xdb0704[_0x24e312(0x4d7)]['localeCompare'](_0x3801a4[_0x24e312(0x4d7)],'th');}),_0x4f25b0=_0x41fe93[_0x1af7f6(0x711)],_0x5eb523=Math['max'](0x1,Math['floor'](_0x4f25b0*0.33));if(_0x5eb523===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x3afceb=_0x41fe93[_0x1af7f6(0xa65)](0x0,_0x5eb523),_0x9b90f3=_0x41fe93[_0x1af7f6(0xa65)](-_0x5eb523),_0x590e87=_0x3afceb['map'](_0x3f8c92=>_0x3f8c92[_0x1af7f6(0x4d7)]),_0x2b0454=_0x9b90f3[_0x1af7f6(0x9ca)](_0x464023=>_0x464023[_0x1af7f6(0x4d7)]);return _0x49506d[_0x1af7f6(0x962)][_0x1af7f6(0xb68)]((_0x394d0d,_0x1cf6b8)=>{const _0x436f45=_0x1af7f6,_0x15ed28=_0x394d0d['stem']||_0x394d0d['questionText'];let _0x2f0249=0x0,_0x2d789a=0x0,_0x37dbea=0x0;const _0xe17ee4=[],_0x43d610=[];_0x3afceb[_0x436f45(0xb68)](_0x622809=>{const _0x1b178e=_0x436f45,_0x3dca4d=_0x622809[_0x1b178e(0x620)][_0x622809[_0x1b178e(0x620)][_0x1b178e(0x711)]-0x1],_0x2058e7=_0x3dca4d['answers']['find'](_0x2610f3=>_0x2610f3['originalQuestionText']===_0x15ed28);_0xe17ee4['push']({'name':_0x622809[_0x1b178e(0x4d7)],'isCorrect':_0x2058e7?_0x2058e7['isCorrect']:![]}),_0x2058e7&&_0x2058e7[_0x1b178e(0x1e3)]&&_0x2d789a++;}),_0x9b90f3[_0x436f45(0xb68)](_0x1ee697=>{const _0xb82530=_0x436f45,_0x5970f5=_0x1ee697[_0xb82530(0x620)][_0x1ee697[_0xb82530(0x620)][_0xb82530(0x711)]-0x1],_0x29f3e9=_0x5970f5['answers'][_0xb82530(0x1bc)](_0x1776f7=>_0x1776f7[_0xb82530(0x602)]===_0x15ed28);_0x43d610[_0xb82530(0xa09)]({'name':_0x1ee697[_0xb82530(0x4d7)],'isCorrect':_0x29f3e9?_0x29f3e9[_0xb82530(0x1e3)]:![]}),_0x29f3e9&&_0x29f3e9[_0xb82530(0x1e3)]&&_0x37dbea++;}),_0x2f86e5[_0x436f45(0xb68)](_0x1454b3=>{const _0x4c2575=_0x436f45,_0x1723b6=_0x1454b3['attempts'][_0x1454b3[_0x4c2575(0x620)]['length']-0x1],_0xdd0ed6=_0x1723b6['answers'][_0x4c2575(0x1bc)](_0x35577e=>_0x35577e[_0x4c2575(0x602)]===_0x15ed28);_0xdd0ed6&&_0xdd0ed6[_0x4c2575(0x1e3)]&&_0x2f0249++;});const _0x44cf63=_0x4f25b0>0x0?_0x2f0249/_0x4f25b0:0x0,_0x278a06=_0x5eb523>0x0?_0x2d789a/_0x5eb523-_0x37dbea/_0x5eb523:0x0;_0x120094[_0x1cf6b8]={'p':_0x44cf63,'r':_0x278a06,'upperGroupResponders':_0xe17ee4,'lowerGroupResponders':_0x43d610};}),{'perQuestionStats':_0x120094,'overallGroups':{'upperGroupNames':_0x590e87,'lowerGroupNames':_0x2b0454}};}function drag(_0x31b481){const _0x565961=_0x57253e;if(draggedSvgElement){_0x31b481[_0x565961(0x3f5)]();const _0x1dd999=draggedSvgElement[_0x565961(0x1cb)],_0x4ca6e6=getPointerPosition(_0x1dd999,_0x31b481),_0x499f5a=_0x1dd999[_0x565961(0x43b)]['baseVal'];let _0x96c46=_0x4ca6e6['x']-svgOffset['x'],_0x2c47f8=_0x4ca6e6['y']-svgOffset['y'];const _0x172c68=draggedSvgElement[_0x565961(0x423)]();_0x96c46=Math[_0x565961(0x3eb)](_0x499f5a['x'],Math[_0x565961(0xca8)](_0x96c46,_0x499f5a['x']+_0x499f5a[_0x565961(0x1b8)]-_0x172c68['width'])),_0x2c47f8=Math[_0x565961(0x3eb)](_0x499f5a['y'],Math['min'](_0x2c47f8,_0x499f5a['y']+_0x499f5a[_0x565961(0x3dd)]-_0x172c68[_0x565961(0x3dd)])),draggedSvgElement['setAttributeNS'](null,'x',_0x96c46),draggedSvgElement[_0x565961(0x6b6)](null,'y',_0x2c47f8);}}function endDrag(_0x4de026){draggedSvgElement=null;}function handleSvgEditClick(_0x3d8f04){const _0x399c2d=_0x57253e;if(_0x3d8f04[_0x399c2d(0xaa3)][_0x399c2d(0x7f0)][_0x399c2d(0x1ef)](_0x399c2d(0x996))){const _0x1073c6=_0x3d8f04[_0x399c2d(0xaa3)]['dataset']['targetId'],_0x12f816=_0x3d8f04[_0x399c2d(0x656)],_0x59222f=_0x12f816[_0x399c2d(0x7b3)]('#'+_0x1073c6);_0x59222f&&_0x59222f[_0x399c2d(0x4bd)](),_0x3d8f04[_0x399c2d(0xaa3)][_0x399c2d(0x4bd)]();}}function handleEditQuestion(_0x5274d0){const _0x2bb3aa=_0x57253e,_0x43215b=_0x5274d0[_0x2bb3aa(0x656)],_0x48ff3a=_0x43215b['dataset']['index'],_0xef18b3=currentQuizData[_0x2bb3aa(0x962)][_0x48ff3a],_0x329621=document['getElementById'](_0x2bb3aa(0x34e)+_0x48ff3a),_0x3529b5=document['getElementById'](_0x2bb3aa(0x8bb)+_0x48ff3a),_0x172456=document['getElementById'](_0x2bb3aa(0x6c7)+_0x48ff3a);if(_0x43215b['innerHTML'][_0x2bb3aa(0x1d1)](_0x2bb3aa(0x4df))){_0x43215b[_0x2bb3aa(0x2fe)]=_0x2bb3aa(0x2c3),_0x43215b['title']=_0x2bb3aa(0x292);if(_0x329621)_0x329621[_0x2bb3aa(0xc25)]=!![];if(_0x3529b5)_0x3529b5[_0x2bb3aa(0xc25)]=!![];if(_0x172456){const _0x1daa12=_0x172456[_0x2bb3aa(0x7b3)]('svg');if(_0x1daa12){const _0x55d55e=_0x1daa12['querySelectorAll'](_0x2bb3aa(0x71d));_0x55d55e[_0x2bb3aa(0xb68)]((_0x21f30c,_0x30aa55)=>{const _0x1e2258=_0x2bb3aa,_0x305124=_0x1e2258(0x5bf)+_0x48ff3a+'-'+_0x30aa55;_0x21f30c['id']=_0x305124,_0x21f30c[_0x1e2258(0x7f0)][_0x1e2258(0x6e3)](_0x1e2258(0xa76)),_0x21f30c[_0x1e2258(0x819)][_0x1e2258(0x914)]=_0x1e2258(0xba2);const _0x4a4195=document[_0x1e2258(0x590)](_0x1e2258(0x369),'circle'),_0x42ea25=_0x21f30c[_0x1e2258(0x423)]();_0x4a4195[_0x1e2258(0x2ca)]('cx',String(_0x42ea25['x']+_0x42ea25[_0x1e2258(0x1b8)]+0x5)),_0x4a4195[_0x1e2258(0x2ca)]('cy',String(_0x42ea25['y']+_0x42ea25['height']/0x2-0x5)),_0x4a4195[_0x1e2258(0x2ca)]('r','5'),_0x4a4195[_0x1e2258(0x2ca)](_0x1e2258(0x945),_0x1e2258(0x610)),_0x4a4195[_0x1e2258(0x2ca)](_0x1e2258(0x3b7),_0x1e2258(0x996)),_0x4a4195[_0x1e2258(0x7a0)][_0x1e2258(0x6af)]=_0x305124,_0x21f30c[_0x1e2258(0x7fa)](_0x4a4195);}),_0x1daa12['addEventListener'](_0x2bb3aa(0x4d9),startDrag),_0x1daa12[_0x2bb3aa(0x161)](_0x2bb3aa(0xb1f),drag),_0x1daa12[_0x2bb3aa(0x161)](_0x2bb3aa(0xa8c),endDrag),_0x1daa12[_0x2bb3aa(0x161)]('mouseleave',endDrag),_0x1daa12['addEventListener']('touchstart',startDrag,{'passive':![]}),_0x1daa12['addEventListener']('touchmove',drag,{'passive':![]}),_0x1daa12[_0x2bb3aa(0x161)](_0x2bb3aa(0x598),endDrag),_0x1daa12[_0x2bb3aa(0x161)](_0x2bb3aa(0x6e7),endDrag),_0x1daa12[_0x2bb3aa(0x161)](_0x2bb3aa(0x82f),handleSvgEditClick);}}if(_0x329621)_0x329621['focus']();}else{_0x43215b['innerHTML']=_0x2bb3aa(0x809),_0x43215b['title']=_0x2bb3aa(0x97c);if(_0x329621){_0x329621['contentEditable']=![];const _0x24e8b2=_0xef18b3[_0x2bb3aa(0x2a9)]||currentQuizData['quizType'];_0x24e8b2===_0x2bb3aa(0x22d)?_0xef18b3[_0x2bb3aa(0x2d4)]=_0x329621['innerText'][_0x2bb3aa(0x7ff)](_0x329621[_0x2bb3aa(0x7b9)][_0x2bb3aa(0xc54)]('.')+0x2)['trim']():_0xef18b3[_0x2bb3aa(0x525)]=_0x329621[_0x2bb3aa(0x7b9)][_0x2bb3aa(0x7ff)](_0x329621['innerText']['indexOf']('.')+0x2)[_0x2bb3aa(0x365)]();}_0x3529b5&&(_0x3529b5[_0x2bb3aa(0xc25)]=![],_0xef18b3[_0x2bb3aa(0x498)]=_0x3529b5[_0x2bb3aa(0x7b9)]);if(_0x172456){const _0x564982=_0x172456[_0x2bb3aa(0x7b3)](_0x2bb3aa(0x843));if(_0x564982){const _0x281408=_0x564982[_0x2bb3aa(0x19e)](!![]);_0x281408[_0x2bb3aa(0x40f)]('.delete-svg-btn')[_0x2bb3aa(0xb68)](_0x4bed5a=>_0x4bed5a[_0x2bb3aa(0x4bd)]()),_0x281408['querySelectorAll']('.draggable-text')[_0x2bb3aa(0xb68)](_0x1ec3be=>{const _0x5547cf=_0x2bb3aa;_0x1ec3be[_0x5547cf(0x7f0)][_0x5547cf(0x4bd)]('draggable-text'),_0x1ec3be[_0x5547cf(0x819)][_0x5547cf(0x914)]='default',_0x1ec3be['removeAttribute']('id');}),_0xef18b3['imageCode']=_0x281408[_0x2bb3aa(0x2f8)],_0x564982[_0x2bb3aa(0x713)](_0x2bb3aa(0x4d9),startDrag),_0x564982[_0x2bb3aa(0x713)](_0x2bb3aa(0xb1f),drag),_0x564982['removeEventListener'](_0x2bb3aa(0xa8c),endDrag),_0x564982[_0x2bb3aa(0x713)](_0x2bb3aa(0x646),endDrag),_0x564982[_0x2bb3aa(0x713)](_0x2bb3aa(0x3c6),startDrag),_0x564982['removeEventListener']('touchmove',drag),_0x564982[_0x2bb3aa(0x713)]('touchend',endDrag),_0x564982[_0x2bb3aa(0x713)](_0x2bb3aa(0x6e7),endDrag),_0x564982[_0x2bb3aa(0x713)]('click',handleSvgEditClick),_0x564982[_0x2bb3aa(0x40f)](_0x2bb3aa(0xbe0))[_0x2bb3aa(0xb68)](_0xe26a8=>_0xe26a8[_0x2bb3aa(0x4bd)]()),_0x564982['querySelectorAll'](_0x2bb3aa(0x5b9))[_0x2bb3aa(0xb68)](_0x5f1800=>{const _0x1ce7e2=_0x2bb3aa;_0x5f1800[_0x1ce7e2(0x7f0)][_0x1ce7e2(0x4bd)]('draggable-text'),_0x5f1800[_0x1ce7e2(0x819)][_0x1ce7e2(0x914)]=_0x1ce7e2(0xb63);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x24cdd4){const _0x30aec2=_0x57253e,_0x66c1aa=document[_0x30aec2(0x597)](_0x30aec2(0x9da)),_0x204a67=document['getElementById']('quiz-editor-questions-container');_0x204a67['innerHTML']=_0x30aec2(0x75b),_0x66c1aa[_0x30aec2(0x7f0)][_0x30aec2(0x4bd)](_0x30aec2(0x9ac));try{const _0x2c09d7=doc(db,_0x30aec2(0xc07)+appId+_0x30aec2(0x194),_0x24cdd4),_0x58b2be=await getDoc(_0x2c09d7);if(!_0x58b2be['exists']())throw new Error(_0x30aec2(0x917));currentEditingQuizData={'id':_0x24cdd4,..._0x58b2be[_0x30aec2(0x533)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x22117b){console[_0x30aec2(0x20d)](_0x30aec2(0x2cb),_0x22117b),showMessage(_0x30aec2(0xa37)),_0x66c1aa['classList']['add'](_0x30aec2(0x9ac));}}function renderQuizEditor(_0x453735){const _0x2ee79e=_0x57253e;document[_0x2ee79e(0x597)]('editor-quiz-topic')[_0x2ee79e(0x6f7)]=_0x453735[_0x2ee79e(0xc41)];const _0x46430b=document[_0x2ee79e(0x597)]('quiz-editor-questions-container');let _0x3b5f04=_0x453735['questions']['map']((_0x501e86,_0x184e14)=>{const _0x150854=_0x2ee79e;let _0x470498='';const _0x1bc701=_0x501e86[_0x150854(0x2a9)]||_0x453735[_0x150854(0x2b3)];switch(_0x1bc701){case _0x150854(0x8ea):const _0x5ed24c=(_0x501e86[_0x150854(0x6c2)]||[])[_0x150854(0x9ca)]((_0x2eac67,_0x473ecd)=>_0x150854(0x875)+_0x184e14+'\x22\x20value=\x22'+_0x473ecd+'\x22\x20'+(_0x473ecd===_0x501e86[_0x150854(0xacd)]?_0x150854(0x641):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x2eac67+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x150854(0x552)]('');_0x470498='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x5ed24c+_0x150854(0xb38);break;case _0x150854(0x733):_0x470498=_0x150854(0x99a)+(_0x501e86['idealAnswer']||'')+_0x150854(0x206);break;case _0x150854(0xc6b):_0x470498='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x184e14+_0x150854(0x7bd)+(_0x501e86[_0x150854(0x75e)]===!![]?'checked':'')+_0x150854(0x36c)+_0x184e14+'\x22\x20value=\x22false\x22\x20'+(_0x501e86[_0x150854(0x75e)]===![]?_0x150854(0x641):'')+_0x150854(0x7c7);break;case _0x150854(0x22d):_0x470498=_0x150854(0x5c7)+(_0x501e86[_0x150854(0x2a6)]||'')+_0x150854(0x260);break;}const _0x1e5979=_0x501e86[_0x150854(0x525)]||_0x501e86[_0x150854(0x2d4)]||'';return _0x150854(0x228)+_0x184e14+_0x150854(0x7a8)+_0x1bc701+_0x150854(0x5fd)+(_0x184e14+0x1)+'\x20('+_0x1bc701+_0x150854(0x2d8)+_0x1e5979+'</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x470498+'</div>\x0a</div>\x0a';})[_0x2ee79e(0x552)]('');_0x46430b[_0x2ee79e(0x2fe)]=_0x3b5f04,_0x46430b[_0x2ee79e(0x40f)]('.ai-fix-question-btn')[_0x2ee79e(0xb68)](_0x20bf5e=>{const _0x5ab2e4=_0x2ee79e;_0x20bf5e[_0x5ab2e4(0x161)](_0x5ab2e4(0x82f),handleAiFixQuestion);});}function _0x3ffa(){const _0x24591f=['justification','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','globalAlpha','admin-try-quiz-btn','กรุณาเลือกคำตอบ','documentElement','ไม่สามารถเริ่มเกมได้','modal-confidence-scoring-checkbox','</button>','Error\x20listening\x20for\x20student\x20profiles:','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','sync','\x20ข้อ\x20','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','bulk-loop-until-pass-checkbox','.answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','.bp-live-btn','ต้นฉบับ\x201','.view-bp-lesson-btn','Failed\x20to\x20kick\x20player\x20','\x20คะแนน</span></div>','สมการตรีโกณมิติ','ไม่พบแบบทดสอบสำหรับรหัสนี้','original-mode-checkbox','จำนวนเต็มบวก','quiz-start-time','json','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','\x20(p=','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','artifacts/','practiceProblems','wheel','input[type=\x22radio\x22][value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','กำลังอ่านและเตรียมไฟล์...','mouse','แก้ไขหัวข้อสำเร็จ','<button\x20data-tab-id=\x22','numeric','responses.','.delete-submission-btn','live-options-container','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','Blueprint\x202','<p\x20class=\x22text-xl\x22>','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','<button\x20data-shortcut-id=\x22','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20preparing\x20content\x20quiz:','strokeStyle','visibilityState','parallel-shortcut-container','จุด\x20เส้น\x20ระนาบ','projectOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-input-area','Error\x20toggling\x20star\x20status:','bp-add-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','contentEditable','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','เพิ่มปุ่มลัดใหม่','both','file-default-1','Error\x20deleting\x20student:','<h1></h1>','3781705rhvfhX','<span\x20class=\x22sort-indicator\x20ml-2\x22>','[data-field=\x22subTopic\x22]','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','Error\x20joining\x20activity:','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','total','post-test','pen-tools-group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','\x20ตัวเลือก)','checkAnswer','date_asc','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','ยืนยันการจับคู่','shadowBlur','</a>','.highlighter-color-btn','Error\x20joining\x20sync\x20game:','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','select[name=\x22question_single\x22]','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','file-default-2','คุณแน่ใจว่าต้องการลบแท็บนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.export-pdf-list-btn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20lesson\x20to\x20project:','input[type=\x22text\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','modal-confidence-mode-select','สำหรับหัวข้อ\x20\x27','\x5ctimes','gain','circ','indexOf','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','bg-green-200\x20text-green-900\x20font-bold','Error\x20confirming\x20players\x20for\x20sync\x20game:','bp-modal-num-questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','.regenerate-question-editor-btn','confidence_single','dragstart','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','export-lesson-pdf-btn','split','badgesCount','export-word-btn','div','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','มุมพิเศษ\x2030°-60°-90°','confirm-bulk-quiz-settings-btn','onload','comparison-chart','top','true_false','shortcut-blueprint-url-input','.topic-actions-edit','isDefault','applicationContent','\x5ccdot','<tr\x20class=\x22','manage-tab','อุณหภูมิและการแปลง','<button\x20id=\x22','comparison-individual-tab','matching','open-quiz-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','drill-feedback','Error\x20analyzing\x20blueprint\x20topics:','tab_','bank-quiz-list','generationConfig','ระบบอสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x22><span>','ตรวจทานเฉลยเสร็จสิ้น!','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<tr>','live-short-answer-input','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','%</span>','มัธยฐาน','highlighter-size-value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','เปิด\x20(จับเวลา)','shortcut-reference-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','generate-from-parallel-test-btn','back-to-results-btn','start-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','เกิดข้อผิดพลาดในการบันทึกลำดับ','live-player-management','ลบผลสอบของ\x20','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','.project-card-container:not(.opacity-50)','players.','open','cancel-shortcut-edit-btn','icon','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','toISOString','modal-timer-duration-label','isStarred','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','.lastAnswerIndex','\x20ข้อ...','.linkedQuizIds','export-leaderboard-image-btn','min','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','files','student','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','.group\x5c/dropdown-parallel','.kick-player-btn-sync','left','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','presentation-modal','.flex.justify-between.items-center','Error\x20updating\x20old\x20quizzes:','isArray','Error\x20saving\x20questions\x20to\x20practice\x20bank:','totalPoints','.application-options\x20button','เปลี่ยนชื่อแบบทดสอบสำเร็จ','finishReason','progress-student-select','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','อยู่ในหัวข้อหลักใด:','อยู่ในสาระการเรียนรู้ใด:','showInStudentDashboard','devicePixelRatio','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','frac','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','.answers','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','findIndex','confidence-scoring-description','\x22><p\x20class=\x22font-semibold\x22>','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','application/pdf','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20ก่อนสร้างเนื้อหาใดๆ\x20ให้อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','ถูกต้อง!','Error\x20deleting\x20submission:','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','.doc','link-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20quiz\x20settings:','answer','student-reading-area','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','/public/data/blueprintProjects/','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-quiz-bank-modal','กรุณาเลือกโปรเจคที่ต้องการบันทึก','sara','กำลังสร้างแบบทดสอบจากหัวข้อ...','ควรปรับปรุง','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','dragend','linkedQuizIds','live-player-list','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','exitFullscreen','applicationData','.project-card-container.opacity-50','ค่าเฉลี่ย','removeChild','(คู่ขนาน)\x20','bg-emerald-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</label></div>','lowerGroupResponders','text-red-300\x20hover:text-red-100','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','สร้างแบบทดสอบ','กำลังสร้างรูปภาพ...','unshift','worksheet-topic-input','Error\x20generating\x20easy\x20version\x20quiz:','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','ทฤษฎีบทพีทาโกรัสและการประยุกต์','student-quiz-area','Error\x20generating\x20teaching\x20content:','generate-from-topic-btn','</span><span\x20class=\x22font-bold\x22>','<option\x20value=\x22','promptFeedback','confidence-mode-select','addEventListener','บันทึกการตั้งค่าการแสดงผลสำเร็จ','จัดการ','.topic-category','cancel-file-shortcut-edit-btn','num-choices','responseSchema','start-live-race-generated-btn','per_question','_blank','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','block','ส่งคำตอบ','กรุณาใส่ชื่อใหม่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ฟังก์ชันผกผัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','canvas','entries','teachingContent','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','math-topics-checkbox-container','<li\x20class=\x22','thead','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','Failed\x20to\x20create/update\x20submission\x20record:','สำหรับโปรเจค:\x20','applicationHTML','\x0a\x20\x20\x20\x20\x20\x20</div>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','SAFETY','show-leaderboard-btn','quiz-generation-area','ไม่พบแบบทดสอบในระบบเลย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','เกี่ยวกับหัวข้อ\x20\x22','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','รอเปิด','.delete-file-shortcut-tab-btn','.isScored','list-view-btn','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','.unpair-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','ผู้ไม่ยอมแพ้','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','/public/data/quizzes','bg-yellow-100','offsetWidth','\x22...','pin','tabId','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','.confidence-choice-btn','editor-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','cloneNode','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','msRequestFullscreen','specialist','blob','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','</div><div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','parallel-test-tab','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','results-table-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answered','project-search-input','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','fixedData','blueprint-project-list','confirm-quiz-status-btn','rgba(239,\x2068,\x2068,\x200.7)','Error\x20saving\x20manual\x20blueprint\x20project:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','teacherTips','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','width','show_results_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาพิมพ์คำตอบของกลุ่ม','find','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','เงินงวด\x20(อนุกรมเงินงวด)','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','uid','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','highlighter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22','ไม่พบข้อมูลผู้ใช้','.correct-response-input','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','behaviorLog','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','move-quiz-modal','ownerSVGElement','.quiz-bank-present-btn','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','กรุณาใส่ชื่อนักเรียน','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-indigo-500\x20text-indigo-600','includes','shortcut-editor-modal','(ไม่มีชื่อ)','ARRAY','\x5csqrt{$1}','ยืนยันและอัปเดตทั้งหมด','Error\x20saving\x20to\x20question\x20bank:','student-view','show-in-student-dashboard-checkbox','clientY','currentMode','file-shortcut-id-input','เรเดียนและการแปลงหน่วย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','เส้นตรง:\x20รูปแบบสมการ','student-progress-content','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','isCorrect','ยืนยันการกระทำ','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.project-card-container','project-quizzes-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20จุด','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','score','blueprint-projects-modal','contains','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','ไม่ได้ตอบ','approx','<br>','analytics','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','mode','onclick','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','เซียนสมองไว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcuts-loading-msg','พื้นที่สี่เหลี่ยม','text-gray-200','worksheet-tab','textarea[name=\x22question_single\x22]','parallel-default-','comparison-individual-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-800','referenceFileUrl','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','ปรับเพิ่ม/ลดเป็นร้อยละ','.bp-create-content-quiz-btn','bg-green-400\x20text-white\x20font-bold','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กฎบวกและกฎคูณ','ลบหัวข้อสำเร็จ','ระยะเวลา\x20(นาที):','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(วินาที):','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','deg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-close-btn','หมดเวลาสำหรับข้อนี้!','รูปหลายเหลี่ยมและมุมภายใน','fix\x20the\x20option','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','ดูผลสรุปสุดท้าย','#FCE7F3','การคูณเศษส่วน','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','rgba(239,\x2068,\x2068,\x200.9)','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-pdf-modal','</p><div>','กรุณาพิมพ์คำตอบ','matching_item','td,\x20th','print','blueprint-upload-input','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','btn','point','add-shortcut-tab-btn','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','fileShortcutsConfig','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','แบบทดสอบนี้หมดเวลาแล้ว','transparent','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','.delete-parallel-shortcut-tab-btn','.bp-try-btn','solution','back-from-results-btn','.use-hidden-shortcut-btn','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','write','close-lesson-plan-modal-footer-btn','ระบบเลขและค่าประจำหลัก','category','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x22\x20name=\x22confidence','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','input[type=\x22checkbox\x22]','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(เลือกแล้ว\x20','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','gameData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','leaderboard-table-body','clientX','getScreenCTM','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','kick-player-btn','cancel-bulk-quiz-settings-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การคูณทศนิยม','clear-all-links-btn','ทำคะแนนเต็มในการทำครั้งแรก','setItem','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','playerName','สร้างชุดคำถามจับคู่','add-file-shortcut-btn','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','Copy\x20command\x20failed','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','export-pdf-btn','lesson-loader','\x22\x20data-target-tab-id=\x22','incorrect','\x20ชุด)','createElement','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','submit','shortcut-modal-title','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','สุดยอด!\x20ตอบถูกทุกข้อ','student-rankings-modal','Invalid\x20response\x20structure\x20from\x20API.','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x22\x20สำเร็จ!','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','summary_chart','file-shortcut-name-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','ไม่พบข้อมูลข้อสอบหลังเรียน','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','player-list-lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','Error\x20fetching\x20student\x20rankings:','title','เปลี่ยนชื่อโปรเจคสำเร็จ','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','ปริพันธ์จำกัด','confidence-scoring-checkbox','pointerdown','บันทึกการแก้ไข','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','show_pass_fail_only','submissions','round','workerSrc','<div\x20class=\x22answer-space\x22></div>','อนุพันธ์:\x20กฎลูกโซ่','PERFECT_SCORE','/studentProfiles','decode','gradeLevel','fix-lesson-latex-btn','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','back-to-project-btn','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','select','correctResponse','Error\x20deleting\x20topic:','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionType','\x22\x20name=\x22question_single\x22\x20value=\x22','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','COMEBACK_KING','Error\x20renaming\x20quiz:','blueprintShortcuts','quizType','ไม่พบโปรเจค','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','.quiz-result-card','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','timer-container','fas\x20fa-user-edit','parallel-test-upload-input','.move-file-shortcut-dropdown','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','toString','generated-quiz-container','project-id-display','onloadend','<i\x20class=\x22fas\x20fa-save\x22></i>','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','topicId','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','setAttribute','Error\x20opening\x20quiz\x20editor:','selected-answer-index-hidden','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','เกิดข้อผิดพลาดในการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','Error\x20verifying\x20answers\x20in\x20editor:','starred','stem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','sort',')\x22>','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','overallGroups','file-shortcut-editor-modal','กรุณาเลือกคำตอบก่อนครับ','สมการยกกำลัง','ไม่ใช่','currentQuestionIndex','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','confirmation-message','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','MathJax','เกิดข้อผิดพลาดในการลบแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','hover:bg-indigo-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','/public/data/customMathTopics','admin-dashboard','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','text/plain','destroy','file-shortcut-url-input','สถิติและความน่าจะเป็น','\x20\x20\x20-\x20คำตอบ:\x20','การแปลงรูปอัตลักษณ์','</strong></p>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','password-error-msg','global-activity-quiz-list','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','outerHTML','close-topic-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','กลุ่ม:\x20','text-content-input','student-passcode-input','innerHTML','fullscreenElement','passingScore','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','globalSettings','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','back-to-home-manual-release','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','question','name','.bp-create-onet-quiz-btn','empty','toFixed','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','student-name-selection-view','fileShortcutTabs','Error\x20verifying\x20answers:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','comparison-overall-tab','close-student-rankings-btn','ความน่าจะเป็นแบบมีเงื่อนไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','quick_thinker','bp-project-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','topics.','keyConcepts','การคูณ','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','eraser','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','hint-btn','backgroundColor','N/A','dashboardConfig','generate-from-blueprint-btn','.score','parallel-shortcut-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','อสมการเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','copy','pointerup','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','grid','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','student-team-join','preScore','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','times','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','tool','focus','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่มี','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','transformOrigin','isRemedial','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','bulk-shuffle-select','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','project-name-input','touchmove','border-green-300\x20bg-green-50','104yslxBg','startTime','[data-topic-id]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','selectedTopicNames','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','tfrac','q-text-','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','back-to-student-initial-btn','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','results_','student-result-area','parent','file-default-','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','flex\x20flex-col\x20gap-2','bg-green-100\x20text-green-800','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','ย้าย','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','back-to-student-home-btn','แก้ระบบสมการด้วยเมทริกซ์','submission','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','export-compact-pdf-btn','ลบโปรเจค\x20\x22','trim','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','quiz-editor-questions-container','http://www.w3.org/2000/svg','true','file-shortcut-tabs-nav','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','border-indigo-400\x20ring-2\x20ring-indigo-200','Failed\x20to\x20generate\x20practice\x20test:','หน่วยความยาวและการแปลง','กราฟฟังก์ชันตรีโกณ','export-worksheet-pdf-btn','random','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','function','...','#10B981','lastAnswerCorrect','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','(ก่อนเรียน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','sync-manage-players-btn','lesson-plan-content','.quiz-bank-try-btn','resultsDisplay','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','moveTo','-tab','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x20จาก\x20','ตั้งเวลา\x20(เปิด)','<p>','perfect_score','export-leaderboard-word-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ระบุ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','download','blueprint-tab','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','perfect_score_status','ราชาคัมแบ็ก','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สเกลและแผนที่','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','confirm-confident','เกิดข้อผิดพลาดในการลบโปรเจค','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','deselect-all-topics-btn','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','</span></div>','<p><strong>คำตอบของคุณ:</strong>\x20','สร้างคำถามแบบเติมคำในช่องว่าง','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confidence-input-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','textContent','score-distribution-chart','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','font-bold\x20text-green-700','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','pow','สมการเชิงเส้นตัวแปรเดียว','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reference-pdf-upload','อัปเดตพฤติกรรมสำหรับ\x20','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><p><strong>เฉลย:</strong>\x20','Error\x20showing\x20quiz\x20detail\x20view:','จำนวนเชิงซ้อน\x20(เสริม)','\x20คู่\x20','save-bp-settings-btn','export-excel-btn','class','จำนวนนักเรียน','strength-weakness-analysis-container','.delete-quiz-btn','00:00','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','fa-rocket\x20text-purple-500','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','open-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fill_in_no_choices','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','touchstart','bar','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','on_fire','leaderboard_','answerValue','3090762BxFbZS','G-V90KRM0L63','กรุณาเลือกโปรเจคก่อน','asc','ความคล้ายของรูป','.remove-parallel-shortcut-from-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','scheduled','.start-presentation-list-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถประมวลผลข้อมูลได้','checkbox','pen','.topic-selection-btn','fa-fire\x20text-orange-500','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x0a\x20\x20\x20\x20','height','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','อนุพันธ์:\x20กฎพื้นฐาน','การหารเศษส่วน','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','confident','table','blur','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','pairedQuizId','เกิดข้อผิดพลาดในการติดดาว','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','Error\x20deleting\x20custom\x20topic:','presentation-ai-result','max','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','scrollIntoView','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','question-complexity-select','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','temp-loader-text-results','offset','parallel-default-1','preventDefault','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bp-modal-difficulty-level-select','save-quiz-btn','release','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','Error\x20generating\x20worksheet:','.regenerate-question-btn','flex','fromCharCode','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','parallelShortcutOrder','quiz-id-input','ondragend','overline','summary','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20generating\x20parallel\x20test\x20from\x20bank:','สามเหลี่ยม\x20(ชนิด/สมบัติ)','lesson-plan-modal','submit-group-answer-btn','results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','additional-shortcuts-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x22,\x20','imageCode','fas\x20fa-bookmark','global-quiz-count','transition-all','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','.topic-name-display','verify-answers-btn','pdf','end-game-btn','results-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิตวิเคราะห์','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','bg-blue-100\x20text-blue-800','getBBox','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','bg-black/10','topic-input-area','#confidence-input-','.space-y-1.pl-4','name_asc','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','bg-green-100','กำลังสร้างแบบทดสอบ:\x20','แบบปรนัย\x204\x20ตัวเลือก','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','ร้อยละประยุกต์','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','395423iCDonN','leaderboard','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','.tab-name-display','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','mainTopics','viewBox','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','พีชคณิตและฟังก์ชัน','\x20รายการ\x20สำเร็จ!','เรขาคณิต','instructions','student-name-select','replace','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','whole_quiz','fullscreenchange','blueprint-options-container','.bp-view-analysis-btn','starred-project','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-confidence-mode-container','.pin-project-btn','Error\x20clearing\x20all\x20links:','text-green-600\x20font-bold','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','#retake-for-improvement-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20grading\x20failed:','พื้นที่ใต้กราฟ/ระหว่างกราฟ','bulk-results-display-select','mjx-container','.quiz-settings-btn','.save-custom-topic-btn','#open-additional-parallel-shortcuts-btn','questionDisplayedAt','pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','question-analytics-container','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-700','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','.project-card-container[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','หัวข้อที่สร้างเอง','analyze-strengths-btn','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','topics','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','toLocaleString','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','passing-score-input','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','เกิดข้อผิดพลาดในการปักหมุด','quiz-results','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.pen-color-btn','leq','student-list','\x22\x20data-quiz-id=\x22','isLooping','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','answerText','results-tab-content','visibilitychange','เพิ่ม\x20','ร้อยละพื้นฐาน','Error\x20moving\x20quiz:','mean','generated','ดอทโปรดักต์\x20(dot)','ย้ายแบบทดสอบไปโปรเจคอื่น','disabled\x20bg-gray-400\x20cursor-not-allowed','quiz-type-select','results-quiz-title','631251fzHBbu','เกิดข้อผิดพลาดในการส่งคำตอบ','nickname-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','หน่วยเวลาและการคำนวณเวลา','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','main-correct-answer-display','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','.verification-result','attemptNumber','topic-bank-subtopic-name','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','log','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','explanation','readAsDataURL','clearRect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คณิตการเงิน/บูรณาการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','parallel-shortcut-id-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','ส่งแล้ว','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','</div></div>','option','bp-modal-num-choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.file-shortcut-btn[data-id=\x22','input[type=\x22checkbox\x22]:checked','เกิดข้อผิดพลาดในการอัปเดตสถานะ','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','student-team-selection-view','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','student-project-leaderboard-table-body','onkeydown','แก้ไขปุ่มลัด','$$$1$','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','Firebase\x20initialization\x20failed:','choices_only','#FEE2E2','keydown','typesetPromise','padStart','input','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','className','remove','Error\x20starting\x20live\x20race:','BOOLEAN','parallel-default-2','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','bg-green-500','shortcutId','from','สมมาตร\x20(แกน/จุด)','ผ่าน','_opt1\x22\x20name=\x22question','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','.topic-actions-view','groups','\x22\x20สำเร็จ','content','order','add-file-shortcut-tab-btn','สัญกรณ์วิทยาศาสตร์','line-through\x20text-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5c%','studentName','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','mousedown','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','closest','cancel-quiz-settings-btn','quiz-bank-modal','fa-pen','<div\x20class=\x22flex-1\x22></div>','POST','</span></td>','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','modal-passing-score-input','.delete-hidden-parallel-shortcut-btn','parallelShortcutTabs','ไม่ผ่าน','generate-from-file-btn','confirm-game-start-btn','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','passcode-error-msg','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','Error\x20saving\x20user\x20preference:','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','ค่าคลาดเคลื่อนของการวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20จำนวน\x20','timestamp','ห.ร.ม.\x20(GCD)','/public/data/practiceBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-admin-login-btn','คะแนนเฉลี่ย','file-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','.answered','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบเศษส่วน','memory','ต้นฉบับทั้งหมด','activeGameSession','/public/data/projects/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','image/png','%PDF','bg-blue-500\x20hover:bg-blue-600\x20text-white','modal-message','shuffleSetting','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','.ideal-answer-input','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','ทำคะแนนได้เกินครึ่ง','qType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','isFinished','คำถามถัดไป','</div>','timer-duration-input','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','slide-counter','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','reference_onet.pdf','ไม่มีคำอธิบาย','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','\x22\x20ออกจากคลังนี้?','questionText','.topic-name-input','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','(หลังเรียน)\x20','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','all','appendChild','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','text-red-700\x20bg-red-100','เกมสิ้นสุดลงแล้ว','data','ความเท่ากันทุกประการของสามเหลี่ยม','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','earned-badges-container','lobby','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','/public/data/syncGames','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','.group\x5c/dropdown-file','ยังไม่ส่ง','การนับ','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','.move-quiz-btn','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','cancel-quiz-edits-btn','bg-red-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','inactive','\x22\x20name=\x22drill_answer\x22\x20value=\x22','สร้างคำถามแบบใช่/ไม่ใช่','การแจกแจงทวินาม\x20(พื้นฐาน)','ฟังก์ชันกำลังสองและกราฟ','input[type=\x22radio\x22]:checked','get','.generate-content-btn','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','pointerType','.live-answer-btn,\x20#sync-submit-btn','rgba(79,\x2070,\x20229,\x201)','bank-quiz-search-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','join','quiz-results-table-body','lastIndexOf','key','.parallel-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','Error\x20joining\x20live\x20game:','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','drop','text-red-500\x20hover:text-red-700','parallel-shortcut-tabs-nav','21891pmIgfc','difficulty-level-select','Error\x20displaying\x20question\x20bank:','.move-file-shortcut-item','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','insertBefore','ตรวจพบการออกจากหน้าจอครบ\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','trail','numChoices','.cancel-edit-topic-btn','.pen-size-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','file.pdf','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','text-gray-500','ยกเลิกการจับคู่สำเร็จ','leaderboard-quiz','.status','การลบทศนิยม','timed','bp-modal-passing-score-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','geq','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.pointsLastQuestion','leaderboard-tab-content','additional-parallel-shortcuts-list','ความชันเส้นสัมผัส','endTime','จำนวนและการดำเนินการ','blueprint-topics-list-container','interesting-stats-container','student-join-game-view','admin-password-input','save-blueprint-as-project-btn','stdDev','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริมาตรรูปทรงสามมิติ','#file-shortcut-tabs-nav\x20.tab-name-input','per-q-countdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','createElementNS','สอบปกติ','.shortcut-list-item','confidence-mode-container','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','getElementById','touchend','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','confidenceMode','scratchpad-controls','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','close-comparison-modal-footer-btn','#D1FAE5','touches','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','\x20|\x20','answers','Invalid\x20response\x20structure\x20from\x20AI.','การแจกแจงปกติและ\x20z-score','เศษส่วน\x20(ย่อ/ขยาย)','สลับไปโหมดนักเรียน','stopPropagation','ข้อต่อไป','ยอดเยี่ยม','.tab-name-input','loader','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','opacity-50','Failed\x20to\x20generate\x20lesson:','timer-duration-container','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-black/20','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','ลบแบบทดสอบสำเร็จแล้ว','timerDuration','การประยุกต์เวกเตอร์พื้นฐาน','save-shortcut-btn','Team\x20Quiz','.draggable-text','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','bg-green-500\x20hover:bg-green-600\x20text-white','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','editable-text-','projectSortOrder','bg-green-200\x20text-green-800','team-player-status-grid','quadraticCurveTo','user','includeImages','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','confirm-move-quiz-btn','parseInline','dimmed','showImproveButton','(ฉบับง่าย)\x20','#DBEAFE','lineWidth','เส้นจำนวน','การลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','รีเซ็ตลำดับโปรเจคแล้ว','not_generated','.bp-present-btn','.\x20แต่ละข้อมี\x20','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด:**\x20เนื้อหาในส่วน\x20POINT\x20และ\x20MEMORY\x20ต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง:**\x20ตัวอย่างประกอบ\x20(blockquote)\x20ต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x20แต่ห้ามคัดลอกโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**ยึดตามปรัชญา\x20O-NET:**\x20เน้นการประยุกต์ใช้,\x20การคิดวิเคราะห์,\x20และการแก้ปัญหาหลายขั้นตอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','.generate-post-test-btn','text-gray-700','cancel-export-pdf-btn','#ffffff','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','project-sort-select','shuffledQuiz','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','ใช่','reference.pdf','behavior-log-tab-content','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','Error\x20committing\x20score\x20updates:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','</form>','quizMode','\x22\x20name=\x22question','.shortcut-list-item:not(.opacity-50)','right','_opt0\x22\x20name=\x22question','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','$1\x20\x5cfrac','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','message','prev-question-btn','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','arrayBuffer','referenceUrl','กรุณาป้อนหัวข้อสำหรับใบงาน',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','Error\x20loading\x20quiz\x20for\x20student:','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','topic-tab','learningGaps','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','เกิดข้อผิดพลาดในการอัปเดต:\x20','originalQuestionText','แบบทดสอบที่ติดดาว','.edit-hidden-parallel-shortcut-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','file-tab','\x20แบบทดสอบลงในคลังสำเร็จ!','source-over','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','.bp-edit-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20did\x20not\x20return\x20any\x20content.','default-','/public/data/quizzes/','red','topic-input','confirm-team-players-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','Error\x20saving\x20quiz\x20edits:','end-team-quiz-btn','.remove-shortcut-from-tab-btn','การกระจายและการจัดหมู่','parallel-test-input-area','lineJoin','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','cdot','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','perseverance','<svg','attempts','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parallel-shortcut_','timer-mode-select','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','setTransform','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','</tr>','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','open-sync-scratchpad-btn','NEGATIVE_INFINITY','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','quiz-end-time','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','ลำดับการดำเนินการ\x20(PEMDAS)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ความชันและเส้นตรง','confirm-not-confident','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','เกิดข้อผิดพลาดในการลบ','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','#open-additional-shortcuts-btn','ไม่พบไฟล์\x20Test\x20Blueprint','Error\x20processing\x20shortcut\x20click:','text-tab','checked','temp-loader-results','/users/','เกิดข้อผิดพลาดในการบันทึก','display','mouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','ใช่\x20/\x20ถูก','Error\x20loading\x20user\x20preferences:','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','ไม่พบข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://corsproxy.io/?','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','wakeLock','เกิดข้อผิดพลาด:\x20','scheduled_pending','scores-tab-btn','currentTarget','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','ปิดใช้งาน','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result-editor','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','.csv','members','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','<li>','isConfidenceScoringEnabled','add-student-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','show_results_and_answers','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','cancel-global-activity-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','manual-bp-content','file-shortcut-container','cancel-blueprint-projects-btn','.live-answer-btn','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','text-green-700\x20bg-green-100','Successfully\x20removed\x20','\x20from\x20sync\x20game:','firstScore','blockReason','confirm-quiz-settings-btn','ฟังก์ชันลอการิทึม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-progress-view','ก่อนเรียน','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','ตรีโกณมิติ','.admin-try-quiz-list-btn','confirm-game-start-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','</p>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','not_confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','ค่าเสื่อมราคา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','save-game-results-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','document','bg-green-200','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','questionId','url','.txt','loader-text','summaryContent','\x20ชุด)</span>','การวัด','text-green-600','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','hasPerfectScoreBonus','ความต่อเนื่อง','บันทึกแบบทดสอบสำเร็จแล้ว!','กรุณาป้อนรหัสแบบทดสอบ','rgba(255,\x20255,\x200,\x200.5)','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','</h3>','\x27\x20ในหัวข้อ\x20\x27','topicName','เลือกและเริ่มสร้าง','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','confirmation-modal','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','targetId','project-passcode-input','pop','complexityValue','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','handleGenerateAndShowLesson','setAttributeNS','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','team','student-project-leaderboard-tab','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','bg-gray-50','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','shortcutOrder','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','close-game-final-btn','options','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','สมการค่าสัมบูรณ์','q-image-container-','toLowerCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','classWeaknesses','<button\x20data-value=\x22','handleGenerateQuizFromBlueprintTopic','manual-blueprint-modal','submit-team-answer-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#open-additional-file-shortcuts-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','อัตราการเปลี่ยนแปลงทันที','text-red-600','match','math-topic-search-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','export-image-btn','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','เกิดข้อผิดพลาด','passcode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','startedAt','shortcut-name-input','quiz-leaderboard-table-body','promise','add','bg-amber-100\x20text-amber-800','336rRzBEM','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchcancel','.ideal-answer-input,\x20.correct-response-input','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-move-btn','text-blue-800','parallelTestShortcutsConfig','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','doughnut','.ai-fix-formula-btn','modal-timer-duration-input','close','rgba(16,\x20185,\x20129,\x200.7)','submittedAt','ค่าสัมบูรณ์','การบวก','.delete-bp-project-btn','value','เกิดข้อผิดพลาดในการสร้าง:\x20','confirm-admin-login-btn','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันราก\x20(root)','</span>','neq','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','sync-short-answer-input','txt','lesson-sections-container','เส้นรอบรูป','ส่วนเบี่ยงเบนมาตรฐาน','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','\x20คะแนน\x20','webkitRequestFullscreen','เลือกและบันทึก','Error\x20saving\x20submission:','comeback_king','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','delete','\x22>จาก:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','loop-until-pass-checkbox','length','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','removeEventListener','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','responses','analytics-tab-content','first_try_ace','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','behavior-log-tab-btn','</li>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','text','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','.submittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','พื้นที่วงกลม/ส่วนของวงกลม','#26890c','quiz','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','#F59E0B','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','file-shortcut_','.ai-content\x20li','เกิดข้อผิดพลาดในการลบหัวข้อ','sync-player-management','Loaded\x20','</div></div></div>','.delete-shortcut-btn','latestSubmittedAt','parts','.sortable-header','progress-project-select','short_answer','default-2','textarea','<button\x20data-id=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','lowerGroupNames','project-title','.question-editor-item','<p><strong>คำตอบที่แนะนำ:</strong>\x20','.ai-content\x20p','เริ่มกิจกรรม:\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเตรียมไฟล์...','additional-shortcuts-list','ondblclick','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','กรุณาสร้างบทเรียนก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','highlighter-tool-btn','<span\x20class=\x22font-bold\x20','handleGeneratePracticeTest','subTopics','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','onchange','บันทึกโปรเจค\x20\x22','isNormalTopic','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</select>','bg-teal-500\x20hover:bg-teal-600\x20text-white','\x20/\x20','timerMode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','getDocument','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','PERSEVERANCE','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','beforeend','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','show-results-btn','<div\x20class=\x22loader\x20mx-auto\x22></div>','add-shortcut-btn','game-start-quiz-id','correctAnswer','leaderboard-quiz-tab-content','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตอบ','ondrop','bp-topic-list-container','-options\x22>','0\x200','\x22\x20data-topic=\x22','then','\x22\x20ให้เป็นคำถามประเภท\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-testing','text-white','แผนการสอน:\x20','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','.start-game-btn','getBoundingClientRect','วงกลม:\x20สมการและสมบัติ','AI\x20Formula\x20Fix\x20Error:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','getAttributeNS','.lastAnswerValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คัดลอกไม่สำเร็จ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','Error\x20generating\x20hybrid\x20quiz:','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','\x5cneq','บันทึกคำถามใหม่\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','PROMPT_PLACEHOLDER','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไฟล์ทั้งหมด','auto-fix-latex-btn','การบวกเศษส่วน','fill_in_the_blank','eraser-tool-btn','wasConfident','parseFromString','modal-results-display-select','answer-counter','size','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','translate','Error\x20listening\x20for\x20custom\x20math\x20topics:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ใช่</p>','ไม่พบตารางสำหรับ\x20Export','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','localeCompare','QUICK_THINKER','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','th-TH','/preferences/main','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','per-question-options','.scratchpad-content-wrapper','some','dataset','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','182673GdSxEe','Error\x20resetting\x20project\x20order:','กำลังสร้างคำถามข้อ\x20','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','\x22\x20data-q-type=\x22','request','Error\x20starting\x20group\x20quiz:','text/html','dblclick','shuffle','ไม่สามารถโหลดรายการโปรเจคได้','(ก่อนเรียน)\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-mode-select','shortcut-tabs-nav','querySelector','กฎของไซน์','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','floor','คะแนนยังไม่ถึงครึ่ง','.bp-delete-topic-btn','innerText','.question-editor-item[data-q-index=\x22','upper_group_count','ondragstart','\x22\x20value=\x22true\x22\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-container','lessonPlan','บทเรียนเรื่อง:\x20','Error\x20during\x20deep\x20delete:','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','separate-by-content-checkbox','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(สำหรับ\x20','list','</td></tr>','rename-quiz-input','check-presentation-answer-btn','All\x20groups\x20have\x20finished.\x20Ending\x20game.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','Error\x20during\x20blueprint\x20link\x20cleanup:','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dataIndex','subTopic','reference.txt','screen_exit','manual-bp-grade-level','border-red-300\x20bg-red-50','input[name=\x22team_player\x22]:checked','loopUntilPass','stepByStepExamples','ลำดับเรขาคณิต\x20(GP)','execCommand','sin','removeItem','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','result','quizId','rgba(59,\x20130,\x20246,\x200.7)','/public/data/liveGames','presentation-explanation','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','separate-by-content-from-file-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','questions_only','สู้ๆ\x20ลองอีกครั้งนะ','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','redo-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','goto-next-question-btn','การแยกตัวประกอบ','classList','blueprint-settings-modal','close-lesson-plan-modal-btn','quiz-status-modal','file-topics-list-container','Enter','.group','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','ON_FIRE','readAsArrayBuffer','after','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','แคลคูลัสเบื้องต้น','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','substring','confidence-scoring-toggle','scratchpad-modal','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','ระยะจากจุดถึงเส้นตรง','ชนิดของข้อมูลและการเก็บข้อมูล','projectSort','touch','<i\x20class=\x22fas\x20fa-pen\x22></i>','</body></html>','deltaY','รากที่สองและที่สาม','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mode-switcher-btn','scratchpad-question','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','open-global-live-btn','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','numQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','export-lesson-to-pdf-btn','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','element','style','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','game-pin-input',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','/public/data/projects','.compare-results-btn','closePath','dragover','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','view-my-progress-btn','.edit-shortcut-btn','[*]','ตัวแปรและนิพจน์','ฐานนิยม','จำนวนคละ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20toggling\x20pin\x20status:','<p\x20class=\x22font-bold\x20text-sm\x20','click','answer-grid-container','รหัสไม่ถูกต้อง','contents','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','<tr><td\x20colspan=\x22','Error\x20in\x20generating\x20from\x20files:','getElementsByTagName','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','จากไฟล์ที่แนบมานี้,\x20','-options','text-gray-100','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ระบบสมการเชิงเส้นสองตัวแปร','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','กำลังอัปเดตแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20คอร์ดและเส้นสัมผัส','\x5cpm','svg','NUMBER','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','undefined','AI\x20Fix\x20Error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอยากมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','.pair-quiz-btn','Failed\x20to\x20get\x20hint:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-text-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','idealAnswer','str','\x22\x20data-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20in\x20handleApiCall:','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','Error\x20fetching\x20lesson\x20content:','totalQuestions','/submissions','parallel-shortcuts-loading-msg','file-input-area','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','confirm-link-quiz-btn','Could\x20not\x20fetch\x20reference\x20file:','start-quiz-btn','Error\x20saving\x20file\x20shortcut\x20config:','smooth','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กลุ่มของคุณ','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','อนุพันธ์:\x20ผลคูณ/ผลหาร','.topic-row','end-sync-game-btn','student-initial-view','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','ตัวประกอบและตัวประกอบเฉพาะ','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','text-indigo-700','.quiz-bank-settings-btn','update','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','\x27,\x20\x27','.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-manual-bp-btn','modal-shuffle-select','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','จากเนื้อหาต่อไปนี้:\x20\x22','data:application/vnd.ms-word;charset=utf-8,','cos','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','none','กราฟแท่ง\x20กราฟเส้น','scratchpad-clear-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','isPasscodeEnabled','false','projectView','ลิมิต','bg-red-500\x20text-white\x20font-bold','badges','students','Error\x20saving\x20shortcut\x20config:','keys','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','close-additional-file-shortcuts-btn','stroke','.edit-file-shortcut-btn','https://drive.google.com/uc?export=download&id=','pointer-events-none','เพิ่มปุ่มลัดจากไฟล์ใหม่','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','live-game','</td>','bulk-confidence-mode-container','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','shouldSaveResults','lower_group_count','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','confirm-join-game-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','หยุดระบบจับเวลาหรี่หน้าจอ','lesson-view-content','helvetica','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20pairing\x20quizzes:','ดีเทอร์มิแนนต์','lastAnswerIndex','<p\x20class=\x22text-2xl\x22>','save-visibility-settings-btn','/public/data/blueprintProjects','onerror','allResponses','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','[data-topic-container-id]','Error\x20loading\x20blueprint\x20projects:','worksheet-input-area','shadowColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','text-red-900','สร้างแบบทดสอบปรนัย','q-explanation-','.start-live-race-btn','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','pinned-items','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','[data-topic-id=\x22','\x20pointer-events-none\x22>','กำลังวิเคราะห์หัวข้อ...','<div>','\x22\x20name=\x22team_answer\x22\x20value=\x22','ฟังก์ชันยกกำลัง','\x22\x20class=\x22pin-project-btn\x20','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','border-red-700','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','null','.file-shortcut-tab-btn','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','pinnedProjects','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการบันทึกโปรเจค','แก้ไขชื่อหัวข้อย่อย:','next-sync-question-btn','แผนภาพเวนน์','\x0a---\x0a','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','previousElementSibling','next-drill-btn','ลบโปรเจคสำเร็จแล้ว','เส้นตรง:\x20ขนาน/ตั้งฉาก','leaderboard-quiz-tab-btn','save-project-name-btn','text-green-700','หน่วยมวล/น้ำหนักและการแปลง','bp-reference-file-url','dispatchEvent','ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','curriculum','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','Error\x20saving\x20visibility\x20settings:','set','quiz-results-view','multiple_choice','toggle','กำลังดึงไฟล์อ้างอิงจากลิงก์...','answering','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','parse','ท็อปฟอร์ม','อัตราส่วนและสัดส่วน','visible','\x22\x5cn','standard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','schedule','Error\x20saving\x20parallel\x20shortcut\x20config:','เกิดข้อผิดพลาดในการจับคู่','ผลรวมอนุกรม\x20(Σ)','add-parallel-shortcut-btn','tan','27411472','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20deleting\x20shortcut:','color','jspdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','AI\x20แก้ไขคำถามสำเร็จ!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','คำถามดิบ:\x20\x22','มุมและการวัดมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#FEF3C7','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','Error\x20updating\x20quiz\x20status:','ชื่อโปรเจคห้ามว่าง','การบวกทศนิยม','admin-view','นำแบบทดสอบออกจากคลังนี้แล้ว','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','pen-tool-btn','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','.move-parallel-shortcut-dropdown','cursor','Error\x20calling\x20Gemini\x20API:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','ไม่พบแบบทดสอบ','shortcuts-loading-msg','manual-bp-project-name','quiz-leaderboard-table','href','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','student-quiz-leaderboard-tab','กำลังจับคู่...','string','\x5cdiv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','Error\x20duplicating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปิดใช้งาน','\x20หัวข้อ)','input[name=\x22status-option\x22]:checked','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x20to\x20blueprint\x20topic\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','sqrt','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','confidence','.move-file-shortcut-menu-btn','cancel-team-selection-btn','topic_','verify-answers-editor-btn','ยังไม่สร้าง','text-indigo-800','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','ยอดเยี่ยม!','editable-quiz-topic','body','.presentation-option','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','setFont','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-custom-math-topic-btn','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','fill','rows','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','topic-bank-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','showRankings','splice','highlighter-tools-group','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','questionIndex','commonMistakes','\x22\x20class=\x22color-palette-btn\x20','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','fill_in_with_choices','<div\x20id=\x22q-image-container-','manage','#parallel-shortcut-tabs-nav\x20.tab-name-input','blueprintUrl','ฟังก์ชันพหุนาม','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','enable-passcode-checkbox','Error\x20processing\x20parallel\x20shortcut\x20click:','questions','องค์ประกอบของฟังก์ชัน','กำลังสร้างบทเรียน:\x20','group','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','additional-file-shortcuts-list','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','requestFullscreen','Error\x20saving\x20quiz:','next-question-timed-btn','label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','teacherSuggestions','auto','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','afterend','Error\x20joining\x20team\x20quiz:','ไฮเพอร์โบลา','.mb-6.p-4','ondragover','classStrengths','แก้ไขข้อนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x20|\x20ID:\x20','.project-card-content','.delete-hidden-file-shortcut-btn','warn','Error\x20during\x20class\x20analysis:','suggestedAnswer','bulk-quiz-settings-modal','API\x20call\x20failed\x20with\x20status:\x20','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','จำนวนคู่:','ไฟล์ลัด\x201','substr','endsWith','lesson-view-modal','comparison-overall-content','ย้ายแบบทดสอบสำเร็จ','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','opacity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','disabled','parallel-shortcut-editor-modal','nextElementSibling','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','delete-svg-btn','.ai-content\x20blockquote','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','confirm-rename-quiz-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q','.bp-unlink-quiz-btn','commit','Error\x20saving\x20blueprint\x20project:','ศูนย์','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','การหาร','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x20mx-1\x20text-lg\x22></i></span>','dim-overlay','\x20mb-2\x22>','presentation-short-answer-input','กรุณาใส่ชื่อโปรเจค','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','settings','hidden','สร้างแล้ว','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x22.\x20Ideal\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','webkitExitFullscreen','game-start-mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','ref','button[type=\x22submit\x22]','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','quiz-bank-count','scores','Error\x20submitting\x20group\x20answer:','เกิดข้อผิดพลาดในการเปลี่ยนสี','ผู้ควบคุม\x20(ทดสอบ)','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x20quizzes\x20into\x20global\x20cache.','สมการลอการิทึม','#student-quiz-leaderboard-content\x20thead','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','tGain','map','authed_project_','เวกเตอร์และเมทริกซ์\x20(เสริม)','.bp-open-topic-bank-btn','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','สาระที่\x201','isScored','#E5E7EB','สมการเหตุผล\x20(rational)','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','candidates','.parallel-shortcut-btn','values','pre-test','quiz-editor-modal','num-questions','file-shortcut-modal-title',';\x22\x20data-id=\x22','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','Error\x20unpairing\x20quizzes:','.quiz-bank-item',':</span><span>','items','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','status','getContext','Error\x20unlinking\x20quiz:','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','analytics-tab-btn','.file-topic-selection-btn','ไม่ใช่\x20/\x20ผิด','preTestId','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','difficultyValue','autoTable','parentElement','projectId','.delete-custom-topic-btn','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','MathJax\x20re-render\x20failed:','อัปเดตการตั้งค่าของแบบทดสอบ\x20','desc','description','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','(^|[^\x5c\x5c])\x5cb','add-from-global-bank-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20adding\x20topic:','</option>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','blueprint-project-manager-view','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','Error\x20saving\x20project\x20order:','memoryContent','(คัดลอก)\x20','push','date_desc','ไม่สามารถโหลดคลังข้อสอบได้','answeredCurrentQuestion','manage-players-btn','สรุปผลสุดท้าย','comparison-modal','catch','start-presentation-btn','additional-parallel-shortcuts-modal','back-to-dashboard-from-results-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','type','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','เกิดข้อผิดพลาดในการโหลดโปรเจค','postScore','now','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','.edit-custom-topic-btn','แผนการสอน','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Leaderboard\x20update\x20transaction\x20failed:\x20','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','ไม่พบข้อมูลเกม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่มีนักเรียนส่งงาน','Error\x20processing\x20file\x20shortcut\x20click:','scrollX','behavior-log','toDataURL','adaptive-quiz-checkbox','multiply','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bottom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','filter','onblur','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x20(ID:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตสถานะสำเร็จ','.use-hidden-parallel-shortcut-btn','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','พบข้อสอบ\x20','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','วงรี','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','live-submit-short-answer-btn','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','<button\x20data-quiz-id=\x22','_opt1\x22>ไม่ใช่</label></div>','timer-bar','move-quiz-project-select','admin','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','points','name_desc','submission-status-chart','\x20จุดเรียบร้อยแล้ว','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','globalCompositeOperation','beginPath','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','toDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','กรุณาตั้งชื่อแท็บใหม่:','.use-hidden-file-shortcut-btn','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','isAdaptive','.delete-student-btn','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','global-activity-modal','อินเวอร์สของเมทริกซ์','slice','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','bulk-quiz-settings-btn','เกิดข้อผิดพลาดในการสร้างห้องเกม','การสร้างรูปด้วยวงเวียน–สันตรง','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','getItem','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','confirm-manual-bp-btn','กรุณาเลือกไฟล์ก่อน','normal','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','.file-shortcut-btn','confirm-delete-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','draggable-text','.copy-quiz-id-list-btn','ตอบถูก\x203\x20ข้อติดต่อกัน','actions-container-','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','change','.game-start-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','<p\x20class=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','toLocaleDateString','เกิดข้อผิดพลาดในการลบผลสอบ','STOP','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','สร้างใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouseup','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','finished','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20','ระยะทางและจุดกึ่งกลาง','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','standardTopic','additional-file-shortcuts-modal','shuffle-setting-select','พื้นที่ผิวรูปทรงสามมิติ','สรุปผลการวิเคราะห์:\x5cn','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','reset-project-order-btn','จับคู่เพื่อเปรียบเทียบผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','cancel-quiz-edits-btn-footer','เกิดข้อผิดพลาดในการสร้างใบงาน','ผิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','scratchpad-options','คัดลอกแบบทดสอบสำเร็จ','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','target','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','reset-view-btn','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-500','เกิดข้อผิดพลาดในการเข้าร่วมเกม','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','hasOwnProperty','Error\x20updating\x20pin\x20status:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','test','confirm-passcode-btn','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','.rename-quiz-btn','start-sync-game-btn','pointercancel','กำลังอ่านไฟล์\x20Test\x20Blueprint...','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฟล์ลัด\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','สลับไปโหมดผู้ควบคุม','cancel-delete-btn','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','exists','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','interesting-stats-wrapper','\x20คนที่ส่ง\x20ตอบถูก\x20(','add-parallel-shortcut-tab-btn','bp-modal-include-images-checkbox','student-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','#F3E8FF','.star-quiz-btn','-\x20ข้อ\x20','\x22><i\x20class=\x22fas\x20','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','\x5cfrac{$1}{$2}','correctAnswerIndex','Error\x20linking\x20quizzes:','pathname','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','numPages','p-2\x20bg-black/10\x20rounded-md','lesson-plan-title','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','text-gray-400\x20hover:text-indigo-600','Attempting\x20to\x20save\x20game\x20results...','ปุ่มลัดทั้งหมด','generated-quiz-actions','input[name=\x22drill_answer\x22]:checked','save','bestScore','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','blueprint-shortcut-container','projectName','student-quiz-leaderboard-content','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','1:274192258111:web:4120c9118229b5644dd48a','mandatory','players','OBJECT','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','.shortcut-tab-btn','text/csv;charset=utf-8;','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','thead\x20.sortable-header','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','Blueprint\x20O-NET\x20ป.6','cancel-quiz-bank-btn','Error\x20fetching\x20projects\x20for\x20move:','rgba(79,\x2070,\x20229,\x200.8)','create-project-btn','cancel-move-quiz-btn','\x20กลุ่ม</p></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','2-digit','กรุณาวาง\x20URL\x20ของบทความก่อน','.png','save-quiz-edits-btn','shortcutIds','cancel-passcode-btn','ทฤษฎีทวินาม\x20(เบื้องต้น)','highlighter-size-slider','per-question-text','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีผู้ตอบตัวเลือกนี้','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','จำนวนข้อ:','player-count','default-1','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','qIndex','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','แบบทดสอบซ่อมเสริม','_opt','stringify','sync-submit-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','createdAt','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','not-found','reduce','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','every','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','leaderboard-tab','reveal-answer-btn','.delete-project-btn','pointContent','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','copy-quiz-id-btn','has','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','.move-parallel-shortcut-menu-btn','ดีมาก','pointermove','mousemove','per-question-timer-container','Error\x20saving\x20file\x20shortcut:','border-green-700','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','.ai-content\x20h3','results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','results-table','check-answer-btn','back-to-dashboard-from-bp-btn','#results-table','#E0E7FF','bp-quiz-settings-btn','include-images-checkbox','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','export-leaderboard-pdf-btn','force-math-checkbox','bp-modal-quiz-type-select','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','abs','#FFFFFF','bg-gray-200\x20text-gray-700','delete-all-students-btn','พื้นที่สามเหลี่ยม','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-search-input','shortcuts','กรุณาเลือกโปรเจคปลายทาง','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','binom','num-choices-container','API\x20Error\x20Response:','project-detail-view','confidence-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','manual_release','student-name-input','createObjectURL','#6366F1','shortcut-id-input','fadeStartTime','คณิตศาสตร์','.delete-shortcut-tab-btn','ผ่านฉลุย','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isPinned','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','#e21b3c','podium','<span\x20title=\x22','sync-player-list','grid-view-btn','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','Unexpected\x20API\x20response\x20structure:','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','bg-red-100\x20text-red-800','modal-adaptive-quiz-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','groups.','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','back-to-dashboard-btn','dfrac','default','\x20สำเร็จ','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','ข้อ\x20','ไม่สามารถบันทึกการตั้งค่าได้','forEach','border-gray-200','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','FileReader\x20error:','ทฤษฎีบทพื้นฐานของแคลคูลัส','correct','perQuestionStats','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','input[name=\x22question_single\x22]:checked','sync-matching-select','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','index','upperGroupResponders','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','half_mark_status','.edit-quiz-btn','lesson-view-title','หัวข้อหลักใหม่','mixed','text-purple-600','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gamePin','<textarea\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','project-dashboard-view','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','-tab-content','generate-from-link-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','Blueprint\x201','แท็บใหม่','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','shortcut_','latestScore','<option>กำลังโหลดโปรเจค...</option>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','แก้ไขปุ่มลัดจากไฟล์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','confidence-choice-btn','Error\x20editing\x20topic:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','game-start-modal-title','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','project-detail','blueprint-topics-list','bg-green-50','bp-modal-question-complexity-select','Error\x20updating\x20custom\x20topic:','ฟังก์ชันสัมพัทธ์\x20(rational)','restore','application/json','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','screen','lineCap','ไม่พบข้อมูลโปรเจค','move','bg-red-50','Error\x20starting\x20game:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-100','แบบทดสอบนี้ปิดใช้งานอยู่','bg-green-200\x20text-green-900','comparison','transform','translate(','สอบซ่อม','เลือกโปรเจคเพื่อบันทึก','.edit-hidden-shortcut-btn','แผนภาพกล่อง\x20(box\x20plot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x5cle','admin-password-modal','save-bp-reference-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','text-indigo-600','/lessons','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','insertAdjacentHTML','underline','quiz-form','export-tutor-pdf-btn','upperGroupNames','msExitFullscreen','Error\x20saving\x20settings:','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','Group\x20Mode','ไม่พบข้อมูลการจับคู่','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-shortcut-menu-btn','quiz-settings-modal','live-race','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button','Error\x20updating\x20quiz\x20settings:','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','undo-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','selected-topics-count','144144qCpTuk','scratchpad-header','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/teamQuizzes','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','กำลังดึงข้อมูลจากลิงก์...','font-bold\x20text-red-700\x20line-through','textarea[name=\x22team_answer\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','STRING','Error\x20clearing\x20linked\x20quiz:','retake-quiz-loop-btn','#000000','lesson-loader-text','แบบทดสอบ:\x20','.delete-svg-btn','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','active','startsWith','กำลังสร้างแบบทดสอบ\x20\x22','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'];_0x3ffa=function(){return _0x24591f;};return _0x3ffa();}async function handleAiFixQuestion(_0x46acad){const _0x2a234d=_0x57253e,_0x34dc5c=_0x46acad[_0x2a234d(0x656)],_0x37ff42=_0x34dc5c['closest']('.question-editor-item');if(!_0x37ff42)return;const _0x20d812=parseInt(_0x37ff42[_0x2a234d(0x7a0)][_0x2a234d(0xb05)],0xa);if(isNaN(_0x20d812)||!currentEditingQuizData[_0x2a234d(0x962)][_0x20d812]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x4e7070=currentEditingQuizData[_0x2a234d(0x962)][_0x20d812];_0x34dc5c[_0x2a234d(0x2fe)]=_0x2a234d(0xb2e),_0x34dc5c[_0x2a234d(0x992)]=!![];const _0x299ee2=_0x2a234d(0x6c9)+JSON[_0x2a234d(0xb09)](_0x4e7070)+_0x2a234d(0xc35);let _0x25695a;const _0x20e280=_0x4e7070[_0x2a234d(0x2a9)]||currentEditingQuizData[_0x2a234d(0x2b3)];switch(_0x20e280){case _0x2a234d(0x733):_0x25695a={'type':_0x2a234d(0xae5),'properties':{'questionText':{'type':_0x2a234d(0xbda)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2a234d(0xbda)},'imageCode':{'type':_0x2a234d(0xbda)}},'required':[_0x2a234d(0x525),_0x2a234d(0x850),'explanation']};break;case'multiple_choice':default:_0x25695a={'type':_0x2a234d(0xae5),'properties':{'questionText':{'type':_0x2a234d(0xbda)},'options':{'type':_0x2a234d(0x1d4),'items':{'type':_0x2a234d(0xbda)}},'correctAnswerIndex':{'type':_0x2a234d(0x844)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2a234d(0xbda)}},'required':[_0x2a234d(0x525),_0x2a234d(0x6c2),_0x2a234d(0xacd),'explanation']};break;}try{let _0x255f29=await callAnalysisApi(_0x299ee2,_0x25695a);_0x255f29['options']&&Array[_0x2a234d(0x117)](_0x255f29[_0x2a234d(0x6c2)])&&(_0x255f29[_0x2a234d(0x6c2)]=_0x255f29[_0x2a234d(0x6c2)][_0x2a234d(0x9ca)](_0x209118=>typeof _0x209118==='string'?_0x209118[_0x2a234d(0x442)](/S(\s*[\d_]+?\s*)S/g,_0x2a234d(0x4b1)):_0x209118)),_0x4e7070['imageCode']&&_0x4e7070[_0x2a234d(0x415)]['includes'](_0x2a234d(0x221))&&(_0x255f29['imageCode']=''),currentEditingQuizData[_0x2a234d(0x962)][_0x20d812]={..._0x4e7070,..._0x255f29},renderQuizEditor(currentEditingQuizData),showMessage(_0x2a234d(0x904));}catch(_0x33e577){console[_0x2a234d(0x20d)](_0x2a234d(0x847),_0x33e577),showMessage(_0x2a234d(0x3a5)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x3ea5eb=_0x57253e,_0x3578da=document[_0x3ea5eb(0x597)](_0x3ea5eb(0xaf8));_0x3578da[_0x3ea5eb(0x992)]=!![],_0x3578da['innerHTML']=_0x3ea5eb(0x471);try{const _0x436e8c=document['getElementById'](_0x3ea5eb(0x19c))[_0x3ea5eb(0x6f7)],_0x53bc99=document[_0x3ea5eb(0x40f)]('.question-editor-item');let _0xb01ed=[];const _0x55e5c8=Array['from'](_0x53bc99)[_0x3ea5eb(0x9ca)]((_0x134323,_0x5510bb)=>{const _0x344220=_0x3ea5eb,_0x24faba=_0x134323[_0x344220(0x7a0)][_0x344220(0x514)],_0x3bf743=_0x134323[_0x344220(0x7b3)](_0x344220(0x735))[_0x344220(0x6f7)][_0x344220(0x442)](/\n/g,_0x344220(0x1f4));let _0x487efd={'questionType':_0x24faba};const _0x5644c5=currentEditingQuizData['questions'][_0x5510bb];switch(_0x24faba){case _0x344220(0x8ea):_0x487efd[_0x344220(0x525)]=_0x3bf743;const _0x45ecf6=_0x134323[_0x344220(0x40f)](_0x344220(0xc4d));_0x487efd[_0x344220(0x6c2)]=Array[_0x344220(0x4c8)](_0x45ecf6)[_0x344220(0x9ca)](_0x3c4c13=>_0x3c4c13[_0x344220(0x6f7)]);const _0x57a95e=_0x134323['querySelector']('input[type=\x22radio\x22]:checked');_0x487efd[_0x344220(0xacd)]=_0x57a95e?parseInt(_0x57a95e[_0x344220(0x6f7)]):0x0;break;case'short_answer':_0x487efd[_0x344220(0x525)]=_0x3bf743,_0x487efd[_0x344220(0x850)]=_0x134323[_0x344220(0x7b3)](_0x344220(0x50e))[_0x344220(0x6f7)];break;case'true_false':_0x487efd[_0x344220(0x525)]=_0x3bf743;const _0x2d2281=_0x134323['querySelector']('input[type=\x22radio\x22]:checked');_0x487efd[_0x344220(0x75e)]=_0x2d2281?_0x2d2281[_0x344220(0x6f7)]===_0x344220(0x36a):!![];break;case _0x344220(0x22d):_0x487efd[_0x344220(0x2d4)]=_0x3bf743;const _0x51d584=_0x134323[_0x344220(0x7b3)]('.correct-response-input');_0x487efd[_0x344220(0x2a6)]=_0x51d584?_0x51d584[_0x344220(0x6f7)]:'',_0xb01ed[_0x344220(0xa09)](_0x487efd[_0x344220(0x2a6)]);break;default:_0x487efd['questionText']=_0x3bf743;break;}return{..._0x5644c5,..._0x487efd};});_0xb01ed[_0x3ea5eb(0x711)]>0x0&&_0x55e5c8[_0x3ea5eb(0xb68)](_0x5e026f=>{const _0xd92846=_0x3ea5eb;_0x5e026f['questionType']===_0xd92846(0x22d)&&(_0x5e026f[_0xd92846(0x8b0)]=_0xb01ed);});const _0x2d071c=currentEditingQuizData['id'],_0x4f5b8c=doc(db,_0x3ea5eb(0xc07)+appId+_0x3ea5eb(0x194),_0x2d071c);await updateDoc(_0x4f5b8c,{'topic':_0x436e8c,'questions':_0x55e5c8}),document[_0x3ea5eb(0x597)]('quiz-editor-modal')['classList']['add'](_0x3ea5eb(0x9ac)),showMessage(_0x3ea5eb(0x35e),()=>initiateReGradeProcess(_0x2d071c));}catch(_0x1b110a){console[_0x3ea5eb(0x20d)](_0x3ea5eb(0x614),_0x1b110a),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x3578da['disabled']=![],_0x3578da[_0x3ea5eb(0x2fe)]=_0x3ea5eb(0x9c7);}}async function initiateReGradeProcess(_0x3d8665){const _0xdf5f05=_0x57253e;showMessage(_0xdf5f05(0x51b));try{const _0x2c1d09=doc(db,_0xdf5f05(0xc07)+appId+'/public/data/quizzes',_0x3d8665),_0x5197bd=await getDoc(_0x2c1d09);if(!_0x5197bd[_0xdf5f05(0xabe)]())throw new Error(_0xdf5f05(0x64c));const _0x33c1e1={'id':_0x3d8665,..._0x5197bd['data']()},_0x567dc7=collection(db,_0xdf5f05(0xc07)+appId+_0xdf5f05(0x194),_0x3d8665,_0xdf5f05(0x297)),_0x5f5c79=await getDocs(_0x567dc7);if(_0x5f5c79['empty']){showMessage(_0xdf5f05(0xa5f));return;}const _0x26f7c2=_0x5f5c79[_0xdf5f05(0x69d)][_0xdf5f05(0x9ca)](_0x3255ee=>reGradeSingleSubmission(_0x3255ee,_0x33c1e1));await Promise['all'](_0x26f7c2);if(_0x33c1e1['projectId']){const _0x76a466=doc(db,_0xdf5f05(0xc07)+appId+'/public/data/projects',_0x33c1e1[_0xdf5f05(0x9f2)]),_0x4275ad=await getDoc(_0x76a466);if(_0x4275ad[_0xdf5f05(0xabe)]()&&_0x4275ad[_0xdf5f05(0x533)]()[_0xdf5f05(0x88c)]){const _0x4e267e=_0x4275ad[_0xdf5f05(0x533)]()[_0xdf5f05(0x88c)]['map'](_0x4c9ec9=>updateStudentProfile(_0x33c1e1[_0xdf5f05(0x9f2)],_0x4c9ec9));await Promise[_0xdf5f05(0x52b)](_0x4e267e);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x5f5c79[_0xdf5f05(0x78e)]+_0xdf5f05(0x94e));}catch(_0x47aea3){console[_0xdf5f05(0x20d)]('Re-grade\x20process\x20failed:',_0x47aea3),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x47aea3[_0xdf5f05(0x5f2)]);}}async function reGradeSingleSubmission(_0xeff441,_0x1ee52d){const _0x5d88e3=_0x57253e,_0x369c10=_0xeff441[_0x5d88e3(0x533)](),_0x115dec=_0x369c10['studentName'],_0x4738f3=_0x369c10[_0x5d88e3(0x620)]||[],_0x1b49ca=[];for(const _0x43277f of _0x4738f3){let _0x174bcf=0x0,_0x451cf4=[],_0x470a49=0x0;const _0xaedec4=[];for(const _0x5ef20c of _0x43277f[_0x5d88e3(0x5a2)]){let _0x2b401c;_0x5ef20c[_0x5d88e3(0x694)]&&(_0x2b401c=_0x1ee52d[_0x5d88e3(0x962)][_0x5d88e3(0x1bc)](_0x217acd=>_0x217acd['id']===_0x5ef20c['questionId']));!_0x2b401c&&_0x5ef20c[_0x5d88e3(0x602)]&&(_0x2b401c=_0x1ee52d[_0x5d88e3(0x962)][_0x5d88e3(0x1bc)](_0x2d82a9=>(_0x2d82a9[_0x5d88e3(0x2d4)]||_0x2d82a9[_0x5d88e3(0x525)])===_0x5ef20c['originalQuestionText']));let _0x1cc1cd=![];if(_0x2b401c){const _0xa42faf=_0x2b401c[_0x5d88e3(0x2a9)]||_0x1ee52d[_0x5d88e3(0x2b3)];switch(_0xa42faf){case _0x5d88e3(0x8ea):if(_0x2b401c[_0x5d88e3(0x6c2)]&&_0x2b401c['correctAnswerIndex']<_0x2b401c[_0x5d88e3(0x6c2)][_0x5d88e3(0x711)]){const _0x1c753e=_0x2b401c[_0x5d88e3(0x6c2)][_0x2b401c[_0x5d88e3(0xacd)]];_0x1cc1cd=_0x5ef20c[_0x5d88e3(0x47d)]===_0x1c753e;}break;case _0x5d88e3(0xc6b):const _0x28be7c=_0x5ef20c[_0x5d88e3(0x137)]===!![]||_0x5ef20c[_0x5d88e3(0x137)]===_0x5d88e3(0x36a);_0x1cc1cd=_0x28be7c===_0x2b401c[_0x5d88e3(0x75e)];break;case _0x5d88e3(0x22d):_0x1cc1cd=_0x5ef20c[_0x5d88e3(0x137)]===_0x2b401c[_0x5d88e3(0x2a6)];break;case _0x5d88e3(0x733):_0x1cc1cd=await gradeShortAnswer(_0x5ef20c['answer'],_0x2b401c);break;default:_0x1cc1cd=_0x5ef20c['isCorrect'];break;}}if(_0x1cc1cd){_0x174bcf++,_0x470a49++;if(_0x470a49===0x3)_0x451cf4[_0x5d88e3(0xa09)](BADGES[_0x5d88e3(0x7f8)]['id']);}else _0x470a49=0x0;_0xaedec4[_0x5d88e3(0xa09)]({..._0x5ef20c,'isCorrect':_0x1cc1cd});}let _0x1f0804=_0x174bcf*0xa;_0x174bcf===_0x1ee52d['questions']['length']&&(_0x1f0804+=0x32,_0x451cf4['push'](BADGES['PERFECT_SCORE']['id'])),_0x1b49ca[_0x5d88e3(0xa09)]({..._0x43277f,'score':_0x174bcf,'points':_0x1f0804,'badges':Array[_0x5d88e3(0x4c8)](new Set(_0x451cf4)),'answers':_0xaedec4});}const _0x2f2785=_0x1b49ca[_0x5d88e3(0x711)]>0x0?_0x1b49ca[0x0][_0x5d88e3(0x1ed)]:0x0,_0x5af731=Math[_0x5d88e3(0x3eb)](..._0x1b49ca[_0x5d88e3(0x9ca)](_0x536bfe=>_0x536bfe[_0x5d88e3(0x1ed)])),_0xffc025=_0x1b49ca[_0x5d88e3(0x711)]>0x0?_0x1b49ca[_0x1b49ca['length']-0x1][_0x5d88e3(0x1ed)]:0x0,_0x3f9335=_0x1b49ca[_0x5d88e3(0x711)]>0x0?_0x1b49ca[_0x1b49ca[_0x5d88e3(0x711)]-0x1][_0x5d88e3(0xa4e)]:0x0,_0x4c0742=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x1ee52d['id']+_0x5d88e3(0x85c),_0x115dec);await updateDoc(_0x4c0742,{'attempts':_0x1b49ca,'firstScore':_0x2f2785,'bestScore':_0x5af731,'latestScore':_0xffc025,'points':_0x3f9335});}function cleanupQuizOptions(_0x16e21e){const _0x22e0a6=_0x57253e,_0x30e615=(_0x17313c,_0x417d6f)=>_0x417d6f===0x0?_0x17313c:_0x30e615(_0x417d6f,_0x17313c%_0x417d6f),_0x3b3021=_0x4d9d18=>{const _0x114c3c=_0x4216;if(typeof _0x4d9d18!==_0x114c3c(0x921))return null;_0x4d9d18=_0x4d9d18[_0x114c3c(0x365)]();const _0x2f398e=_0x4d9d18[_0x114c3c(0xc61)](/[ /]/)['filter'](_0x5e2b37=>_0x5e2b37!=='');if(_0x2f398e['length']===0x3)return parseInt(_0x2f398e[0x0])+parseInt(_0x2f398e[0x1])/parseInt(_0x2f398e[0x2]);else{if(_0x2f398e['length']===0x2)return parseInt(_0x2f398e[0x0])/parseInt(_0x2f398e[0x1]);else{if(_0x2f398e['length']===0x1&&!isNaN(_0x2f398e[0x0]))return parseFloat(_0x2f398e[0x0]);}}return null;},_0x56a3ad=_0xe29b50=>{const _0x2bc790=_0x4216;if(typeof _0xe29b50!==_0x2bc790(0x921))return _0xe29b50;const _0x2efdf4=_0xe29b50[_0x2bc790(0x6d4)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x2efdf4){const _0x8a1446=parseInt(_0x2efdf4[0x1]);let _0x5bda2a=parseInt(_0x2efdf4[0x2]),_0xf76351=parseInt(_0x2efdf4[0x3]);const _0x4af966=_0x30e615(_0x5bda2a,_0xf76351);_0x5bda2a/=_0x4af966,_0xf76351/=_0x4af966;if(_0xf76351===0x1)return(_0x8a1446+_0x5bda2a)['toString']();return _0x8a1446+'\x20'+_0x5bda2a+'/'+_0xf76351;}return _0xe29b50;};return _0x16e21e&&_0x16e21e[_0x22e0a6(0x962)]&&_0x16e21e[_0x22e0a6(0x962)][_0x22e0a6(0xb68)](_0x5c82fc=>{const _0x4eb81e=_0x22e0a6;if(_0x5c82fc[_0x4eb81e(0x2a9)]===_0x4eb81e(0x8ea)&&_0x5c82fc[_0x4eb81e(0x6c2)]){const _0x142573=new Map(),_0xe5f58f=_0x5c82fc[_0x4eb81e(0x6c2)][_0x5c82fc[_0x4eb81e(0xacd)]];_0x5c82fc['options'][_0x4eb81e(0xb68)](_0x391e15=>{const _0x5167d8=_0x56a3ad(_0x391e15),_0x443871=_0x3b3021(_0x5167d8);_0x443871!==null&&!_0x142573['has'](_0x443871)&&_0x142573['set'](_0x443871,_0x5167d8);}),_0x5c82fc[_0x4eb81e(0x6c2)]=Array[_0x4eb81e(0x4c8)](_0x142573[_0x4eb81e(0x9d8)]());const _0x37596b=_0x5c82fc[_0x4eb81e(0x6c2)][_0x4eb81e(0x129)](_0x68f059=>_0x68f059===_0x56a3ad(_0xe5f58f));_0x5c82fc['correctAnswerIndex']=_0x37596b!==-0x1?_0x37596b:0x0;}}),_0x16e21e;}function showGameStartConfirmationModal(_0x245136,_0x1f03ad,_0x523566){const _0x452fc9=_0x57253e,_0x28f830=document[_0x452fc9(0x597)](_0x452fc9(0x681));document[_0x452fc9(0x597)](_0x452fc9(0xb94))[_0x452fc9(0x3a6)]=_0x452fc9(0x73e)+_0x523566,document[_0x452fc9(0x597)](_0x452fc9(0x75d))[_0x452fc9(0x6f7)]=_0x245136,document[_0x452fc9(0x597)](_0x452fc9(0x9b5))[_0x452fc9(0x6f7)]=_0x1f03ad,document[_0x452fc9(0x597)](_0x452fc9(0x68f))[_0x452fc9(0x641)]=!![],_0x28f830[_0x452fc9(0x7f0)][_0x452fc9(0x4bd)](_0x452fc9(0x9ac));}async function saveGameResultsAsSubmissions(_0x2ecb29){const _0x1e8aaf=_0x57253e;console[_0x1e8aaf(0x496)](_0x1e8aaf(0xad7),_0x2ecb29);const _0x16958d=_0x2ecb29[_0x1e8aaf(0x7e0)];let _0x527bac=[];if(_0x2ecb29[_0x1e8aaf(0xae4)])_0x527bac=Object[_0x1e8aaf(0x174)](_0x2ecb29[_0x1e8aaf(0xae4)])['map'](([_0x206465,_0xc83d7a])=>({'name':_0x206465,..._0xc83d7a}));else{if(_0x2ecb29[_0x1e8aaf(0x4ce)])Object[_0x1e8aaf(0x9d8)](_0x2ecb29['groups'])['forEach'](_0x24afdf=>{const _0x2e86ef=_0x1e8aaf;_0x24afdf[_0x2e86ef(0x662)][_0x2e86ef(0xb68)](_0x3e8584=>{const _0x2dbfc5=_0x2e86ef;_0x527bac['push']({'name':_0x3e8584,'score':_0x24afdf[_0x2dbfc5(0x1ed)],'answers':_0x24afdf[_0x2dbfc5(0x5a2)]});});});else _0x2ecb29[_0x1e8aaf(0x715)]&&Object[_0x1e8aaf(0x174)](_0x2ecb29[_0x1e8aaf(0x715)])[_0x1e8aaf(0xb68)](([_0x3093fb,_0x42398c])=>{_0x527bac['push']({'name':_0x3093fb,..._0x42398c});});}if(_0x527bac[_0x1e8aaf(0x711)]===0x0){console[_0x1e8aaf(0x496)]('No\x20player\x20data\x20to\x20save.');return;}const _0x42d2d3=_0x2ecb29[_0x1e8aaf(0x5df)]?.[_0x1e8aaf(0x962)][_0x1e8aaf(0x711)]||currentQuizData[_0x1e8aaf(0x962)][_0x1e8aaf(0x711)],_0x347be5=writeBatch(db);for(const _0x824950 of _0x527bac){const _0x1eaeb0=doc(db,'artifacts/'+appId+_0x1e8aaf(0x60f)+_0x16958d+_0x1e8aaf(0x85c),_0x824950['name']),_0xf8cf6=(_0x824950[_0x1e8aaf(0x5a2)]||[])['filter'](_0x38f9a6=>_0x38f9a6[_0x1e8aaf(0x1e3)])['length'];let _0x50bc26=_0xf8cf6;_0x2ecb29[_0x1e8aaf(0x665)]&&_0x824950[_0x1e8aaf(0x5a2)]&&_0x824950[_0x1e8aaf(0x5a2)]['forEach'](_0x18683d=>{const _0x5c6f61=_0x1e8aaf;if(_0x18683d['isCorrect']&&(_0x18683d[_0x5c6f61(0x78a)]===!![]||_0x18683d[_0x5c6f61(0x78a)]===_0x5c6f61(0x3e2)))_0x50bc26+=0x1;else!_0x18683d[_0x5c6f61(0x1e3)]&&(_0x18683d[_0x5c6f61(0x78a)]===!![]||_0x18683d[_0x5c6f61(0x78a)]===_0x5c6f61(0x3e2))&&(_0x50bc26-=0x1);});_0x42d2d3>0x0&&_0xf8cf6===_0x42d2d3&&(_0x50bc26+=0x1);const _0x3fcba4={'score':_0xf8cf6,'points':_0x50bc26,'badges':_0x824950['badges']||[],'submittedAt':new Date()[_0x1e8aaf(0xca0)](),'answers':(_0x824950[_0x1e8aaf(0x5a2)]||[])['map'](_0x51beba=>({'questionId':_0x51beba[_0x1e8aaf(0x694)],'answer':_0x51beba['answer'],'answerText':_0x51beba[_0x1e8aaf(0x47d)],'isCorrect':_0x51beba[_0x1e8aaf(0x1e3)],'originalQuestionText':_0x51beba[_0x1e8aaf(0x602)],'wasConfident':_0x51beba[_0x1e8aaf(0x78a)]}))},_0x423eca=await getDoc(_0x1eaeb0),_0x51a102=_0x423eca[_0x1e8aaf(0xabe)]()?_0x423eca[_0x1e8aaf(0x533)]():{},_0x4e6dab=_0x51a102[_0x1e8aaf(0xadc)]||0x0,_0x2ed4f1=_0x51a102[_0x1e8aaf(0x620)]||[],_0x31c2b8={'studentName':_0x824950[_0x1e8aaf(0x309)],'totalQuestions':_0x42d2d3,'attempts':arrayUnion(_0x3fcba4),'latestScore':_0xf8cf6,'points':_0x50bc26,'latestSubmittedAt':_0x3fcba4[_0x1e8aaf(0x6f3)],'bestScore':Math[_0x1e8aaf(0x3eb)](_0x4e6dab,_0xf8cf6),'firstScore':_0x2ed4f1[_0x1e8aaf(0x711)]===0x0?_0xf8cf6:_0x51a102[_0x1e8aaf(0x677)]||0x0};_0x347be5['set'](_0x1eaeb0,_0x31c2b8,{'merge':!![]});}try{await _0x347be5[_0x1e8aaf(0x99e)](),showMessage('บันทึกผลการเล่นเกมของ\x20'+_0x527bac['length']+_0x1e8aaf(0x43e));const _0xbc3c09=_0x2ecb29[_0x1e8aaf(0x5df)]?.[_0x1e8aaf(0x9f2)]||currentQuizData?.[_0x1e8aaf(0x9f2)]||currentProjectId;if(_0xbc3c09){const _0x52443e=[...new Set(_0x527bac['map'](_0x4a249c=>_0x4a249c[_0x1e8aaf(0x309)]))];for(const _0x15da28 of _0x52443e){await updateStudentProfile(_0xbc3c09,_0x15da28);}}}catch(_0x4121f9){console['error']('Error\x20saving\x20game\x20results:',_0x4121f9),showMessage(_0x1e8aaf(0x5b0));}}async function saveQuiz(_0x3abfdf=null,_0xba0b7=null){const _0x323f20=_0x57253e,_0x32abdc=_0x3abfdf||currentProjectId;if(!_0x32abdc){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x323f20(0x962)]||!userId){showMessage(_0x323f20(0x5fb));return;}const _0xbf2f0a=document[_0x323f20(0x597)](_0x323f20(0x3f8));_0xbf2f0a[_0x323f20(0x992)]=!![],_0xbf2f0a['innerHTML']=_0x323f20(0x471);const _0x4840cd=document[_0x323f20(0x597)]('pre-test-checkbox')[_0x323f20(0x641)];let _0x35c60f=document[_0x323f20(0x597)](_0x323f20(0x93b))['innerText']['trim']();_0x4840cd&&!_0x35c60f[_0x323f20(0xbe3)](_0x323f20(0x37b))&&(_0x35c60f=_0x323f20(0x7af)+_0x35c60f);try{const _0x4cebb2={'resultsDisplay':document[_0x323f20(0x597)](_0x323f20(0x40d))[_0x323f20(0x6f7)],'shuffle':document[_0x323f20(0x597)](_0x323f20(0xa95))['value'],'timerMode':document[_0x323f20(0x597)](_0x323f20(0x625))[_0x323f20(0x6f7)],'timerDuration':parseInt(document[_0x323f20(0x597)](_0x323f20(0x51a))[_0x323f20(0x6f7)])||0xa,'passingScore':parseInt(document[_0x323f20(0x597)](_0x323f20(0x470))[_0x323f20(0x6f7)])||0x0,'isAdaptive':document[_0x323f20(0x597)](_0x323f20(0xa2d))[_0x323f20(0x641)],'loopUntilPass':document['getElementById'](_0x323f20(0x710))['checked']},_0x5d9ae5=(currentQuizData[_0x323f20(0x962)]||[])[_0x323f20(0x9ca)]((_0x2c6be4,_0x511012)=>{const _0x25a744=_0x323f20,_0x1866d3=document['getElementById'](_0x25a744(0x488))[_0x25a744(0x6f7)],_0x1cf396={'id':'q_'+Date[_0x25a744(0xa1b)]()+'_'+_0x511012,'questionText':_0x2c6be4[_0x25a744(0x525)]||'','explanation':_0x2c6be4[_0x25a744(0x498)]||_0x25a744(0x522),'questionType':_0x2c6be4[_0x25a744(0x2a9)]||_0x1866d3,'imageCode':_0x2c6be4[_0x25a744(0x415)]||null};return(_0x1cf396['questionType']==='multiple_choice'||_0x1cf396[_0x25a744(0x2a9)]===_0x25a744(0x959)||_0x1cf396['questionType']===_0x25a744(0xb7c)&&_0x2c6be4[_0x25a744(0x6c2)])&&(_0x1cf396[_0x25a744(0x6c2)]=_0x2c6be4[_0x25a744(0x6c2)]||[],_0x1cf396[_0x25a744(0xacd)]=_0x2c6be4[_0x25a744(0xacd)]!==undefined?_0x2c6be4['correctAnswerIndex']:0x0),(_0x1cf396[_0x25a744(0x2a9)]===_0x25a744(0x733)||_0x1cf396['questionType']===_0x25a744(0x3c3)||_0x1cf396['questionType']===_0x25a744(0xb7c)&&_0x2c6be4[_0x25a744(0x850)])&&(_0x1cf396[_0x25a744(0x850)]=_0x2c6be4[_0x25a744(0x850)]||''),_0x1cf396[_0x25a744(0x2a9)]==='true_false'&&(_0x1cf396[_0x25a744(0x75e)]=_0x2c6be4[_0x25a744(0x75e)]===!![]),_0x1cf396[_0x25a744(0x2a9)]==='matching_item'&&(_0x1cf396[_0x25a744(0x2d4)]=_0x2c6be4['stem']||'',_0x1cf396[_0x25a744(0x2a6)]=_0x2c6be4[_0x25a744(0x2a6)]||'',_0x1cf396['allResponses']=_0x2c6be4[_0x25a744(0x8b0)]||[]),_0x1cf396;}),_0x3e22d2={'topic':_0x35c60f,'quizType':currentQuizData[_0x323f20(0x2b3)]||'multiple_choice','questions':_0x5d9ae5,'projectId':_0x32abdc,'createdBy':userId,'createdAt':new Date()[_0x323f20(0xca0)](),'status':_0x323f20(0xbe2),'settings':_0x4cebb2,'quizMode':_0x4840cd?_0x323f20(0x9d9):_0x323f20(0x8f4),'pairedQuizId':null,'lessonPlan':null};let _0x221755;while(!![]){_0x221755=Math[_0x323f20(0x7b6)](0x3e8+Math[_0x323f20(0x373)]()*0x2328)['toString']();const _0x25007d=await getDoc(doc(db,_0x323f20(0xc07)+appId+'/public/data/quizzes',_0x221755));if(!_0x25007d['exists']())break;}await setDoc(doc(db,_0x323f20(0xc07)+appId+_0x323f20(0x194),_0x221755),_0x3e22d2);if(_0xba0b7&&currentBlueprintProjectId){console[_0x323f20(0x496)]('Auto-linking\x20new\x20quiz\x20'+_0x221755+_0x323f20(0x92d)+_0xba0b7);try{const _0x3023f8=doc(db,_0x323f20(0xc07)+appId+_0x323f20(0x8ae),currentBlueprintProjectId);await updateDoc(_0x3023f8,{['topics.'+_0xba0b7+_0x323f20(0xca6)]:arrayUnion(_0x221755)});}catch(_0x462b8f){console[_0x323f20(0x20d)](_0x323f20(0x294),_0x462b8f);}}currentQuizData['settings']=_0x4cebb2,currentQuizData['id']=_0x221755;const _0x398d5b=document[_0x323f20(0x597)](_0x323f20(0xad9));_0x398d5b[_0x323f20(0x2fe)]=_0x323f20(0x9d0)+_0x221755+_0x323f20(0x3f6),document[_0x323f20(0x597)](_0x323f20(0xb19))[_0x323f20(0x161)](_0x323f20(0x82f),()=>copyTextToClipboard(_0x221755,'คัดลอกรหัสแล้ว!')),document['getElementById'](_0x323f20(0x168))[_0x323f20(0x161)](_0x323f20(0x82f),()=>handleStartLiveRace(_0x221755)),document[_0x323f20(0x597)](_0x323f20(0xa11))['addEventListener'](_0x323f20(0x82f),()=>startPresentation(currentQuizData)),document[_0x323f20(0x597)](_0x323f20(0xbe9))[_0x323f20(0x161)](_0x323f20(0x82f),startAdminTest),showMessage(_0x323f20(0x6a2));}catch(_0x547359){console[_0x323f20(0x20d)](_0x323f20(0x96b),_0x547359),showMessage(_0x323f20(0x1b6));}finally{_0xbf2f0a['disabled']=![],_0xbf2f0a['innerHTML']=_0x323f20(0x141);}}function promptForProjectAndSave(){const _0x3c5200=_0x57253e,_0x517e72=document['getElementById'](_0x3c5200(0x1ca)),_0xa2cade=document[_0x3c5200(0x597)]('move-quiz-project-select'),_0x592a96=_0x517e72[_0x3c5200(0x7b3)]('h3'),_0x5abbd6=document[_0x3c5200(0x597)](_0x3c5200(0x5c8));_0x592a96[_0x3c5200(0x3a6)]=_0x3c5200(0xbad),_0x5abbd6['textContent']=_0x3c5200(0x709);allProjects[_0x3c5200(0x711)]===0x0?(_0xa2cade['innerHTML']='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x5abbd6[_0x3c5200(0x992)]=!![]):(_0xa2cade[_0x3c5200(0x2fe)]=allProjects[_0x3c5200(0x9ca)](_0x35d78d=>'<option\x20value=\x22'+_0x35d78d['id']+'\x22>'+_0x35d78d[_0x3c5200(0xadf)]+_0x3c5200(0x9ff))[_0x3c5200(0x552)](''),_0x5abbd6[_0x3c5200(0x992)]=![]);_0x517e72[_0x3c5200(0x7f0)][_0x3c5200(0x4bd)](_0x3c5200(0x9ac));const _0x2af9b1=()=>{const _0xee7059=_0x3c5200,_0x297fe5=_0xa2cade[_0xee7059(0x6f7)];_0x297fe5?(currentProjectId=_0x297fe5,_0x517e72[_0xee7059(0x7f0)]['add'](_0xee7059(0x9ac)),saveQuiz(),_0x592a96['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x5abbd6[_0xee7059(0x3a6)]='ย้าย',_0x5abbd6[_0xee7059(0x713)](_0xee7059(0x82f),_0x2af9b1),_0x5abbd6[_0xee7059(0x161)](_0xee7059(0x82f),confirmMoveQuiz)):showMessage(_0xee7059(0x13d));};_0x5abbd6[_0x3c5200(0x713)]('click',confirmMoveQuiz),_0x5abbd6['addEventListener'](_0x3c5200(0x82f),_0x2af9b1);}function copyTextToClipboard(_0x30daef,_0x6757b3){const _0x2b3b5d=_0x57253e,_0x10291d=document['createElement'](_0x2b3b5d(0x735));_0x10291d[_0x2b3b5d(0x6f7)]=_0x30daef,_0x10291d['style']['position']=_0x2b3b5d(0x802),_0x10291d[_0x2b3b5d(0x819)]['opacity']='0',document[_0x2b3b5d(0x93c)][_0x2b3b5d(0x52c)](_0x10291d),_0x10291d['focus'](),_0x10291d[_0x2b3b5d(0x2a5)]();try{const _0x5c9762=document[_0x2b3b5d(0x7db)](_0x2b3b5d(0x329));showMessage(_0x5c9762?_0x6757b3:_0x2b3b5d(0x777));}catch(_0x422b4a){showMessage(_0x2b3b5d(0x777)),console['error'](_0x2b3b5d(0x26e),_0x422b4a);}document['body'][_0x2b3b5d(0x14b)](_0x10291d);}function listenForProjectQuizzes(_0x37d4f7){const _0x37df11=_0x57253e,_0x5c7e07=collection(db,_0x37df11(0xc07)+appId+'/public/data/quizzes'),_0x1c6414=query(_0x5c7e07,where(_0x37df11(0x9f2),'==',_0x37d4f7));unsubscribeQuizzesListener=onSnapshot(_0x1c6414,async _0x4472a8=>{const _0x5725eb=_0x37df11;allQuizzes=_0x4472a8[_0x5725eb(0x69d)][_0x5725eb(0x9ca)](_0x5474e6=>({'id':_0x5474e6['id'],..._0x5474e6[_0x5725eb(0x533)]()})),renderQuizzes();},_0x1fb093=>{const _0x53d89d=_0x37df11;console[_0x53d89d(0x20d)]('Error\x20fetching\x20project\x20quizzes:',_0x1fb093),document['getElementById'](_0x53d89d(0x1e8))[_0x53d89d(0x2fe)]=_0x53d89d(0x51d);});}async function renderQuizzes(){const _0x29cbdb=_0x57253e,_0x2ff5bc=document['getElementById'](_0x29cbdb(0x1e8)),_0x6766f2=document['getElementById'](_0x29cbdb(0xb39))[_0x29cbdb(0x6f7)]['toLowerCase']();let _0x55409b;currentProjectId===_0x29cbdb(0x2d3)?_0x55409b=starredQuizzes:_0x55409b=allQuizzes;let _0x55ae1b=_0x55409b[_0x29cbdb(0xa32)](_0xdadcc1=>_0xdadcc1[_0x29cbdb(0xc41)]['toLowerCase']()[_0x29cbdb(0x1d1)](_0x6766f2));_0x55ae1b[_0x29cbdb(0x2d6)]((_0x5a2bf0,_0x1a4c73)=>new Date(_0x1a4c73['createdAt'])-new Date(_0x5a2bf0[_0x29cbdb(0xb0c)]));if(_0x55ae1b[_0x29cbdb(0x711)]===0x0){_0x2ff5bc[_0x29cbdb(0x2fe)]=_0x29cbdb(0x974);return;}const _0x397f64={},_0x4785d2=_0x55ae1b[_0x29cbdb(0x9ca)](async _0x4558c2=>{const _0x17ce1e=_0x29cbdb,_0x5de255=collection(db,_0x17ce1e(0xc07)+appId+_0x17ce1e(0x60f)+_0x4558c2['id']+_0x17ce1e(0x85c)),_0x1a33df=await getDocs(_0x5de255);_0x397f64[_0x4558c2['id']]=_0x1a33df[_0x17ce1e(0x78e)];});await Promise['all'](_0x4785d2);let _0xda6ecb='';_0x55ae1b['forEach'](_0x4e0728=>{const _0x483128=_0x29cbdb,_0x57cfec=_0x397f64[_0x4e0728['id']]||0x0,_0x1fd11a=_0x4e0728[_0x483128(0x9e6)]||_0x483128(0xbe2),_0x3928ce=_0x4e0728[_0x483128(0x9ab)]?.[_0x483128(0x752)]||'none';let _0x12e8c0='',_0x36db3f='';const _0x43e993=new Date();let _0x309d23=_0x1fd11a;if(_0x1fd11a===_0x483128(0x3d3)){const _0x14907f=_0x4e0728[_0x483128(0x348)]?new Date(_0x4e0728[_0x483128(0x348)]):null,_0x1dd431=_0x4e0728['endTime']?new Date(_0x4e0728[_0x483128(0x583)]):null;if(_0x1dd431&&_0x43e993>_0x1dd431)_0x309d23=_0x483128(0x544);else _0x14907f&&_0x43e993<_0x14907f?_0x309d23=_0x483128(0x654):_0x309d23='active';}switch(_0x309d23){case _0x483128(0x544):_0x12e8c0=_0x483128(0x65d),_0x36db3f=_0x483128(0x531);break;case _0x483128(0x654):_0x12e8c0=_0x483128(0x18b),_0x36db3f='text-blue-700\x20bg-blue-100';break;case _0x483128(0xbe2):_0x12e8c0=_0x3928ce!==_0x483128(0x880)?_0x483128(0xc8f):_0x483128(0x929),_0x36db3f='text-green-700\x20bg-green-100';break;default:_0x12e8c0=_0x483128(0x387),_0x36db3f=_0x483128(0x674);break;}let _0xefe875='';const _0x5dc5b5={'day':_0x483128(0xaf5),'month':'2-digit','year':_0x483128(0xc10),'hour':_0x483128(0xaf5),'minute':_0x483128(0xaf5),'hour12':![]};if(_0x1fd11a===_0x483128(0x3d3)){if(_0x4e0728[_0x483128(0x348)])_0xefe875+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x4e0728['startTime'])['toLocaleString'](_0x483128(0x799),_0x5dc5b5)+_0x483128(0x686);if(_0x4e0728[_0x483128(0x583)])_0xefe875+=_0x483128(0x516)+new Date(_0x4e0728[_0x483128(0x583)])['toLocaleString'](_0x483128(0x799),_0x5dc5b5)+_0x483128(0x686);}let _0x215a59='';if(_0x4e0728[_0x483128(0x3e6)]){const _0x1c17cf=allQuizzes[_0x483128(0x1bc)](_0x4501ef=>_0x4501ef['id']===_0x4e0728[_0x483128(0x3e6)]);if(_0x1c17cf){let _0x449cd8,_0xc15565;new Date(_0x4e0728[_0x483128(0xb0c)])<new Date(_0x1c17cf['createdAt'])?(_0x449cd8=_0x4e0728['id'],_0xc15565=_0x1c17cf['id']):(_0x449cd8=_0x1c17cf['id'],_0xc15565=_0x4e0728['id']),_0x215a59+=_0x483128(0xa44)+_0xc15565+'\x22\x20data-pre-test-id=\x22'+_0x449cd8+_0x483128(0x261);}}else _0x4e0728[_0x483128(0x5e9)]===_0x483128(0x9d9)&&(_0x215a59+=_0x483128(0x4f3)+_0x4e0728['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x4e0728[_0x483128(0x5e9)]==='pre-test'&&_0x57cfec>0x0)_0x215a59+=_0x483128(0x4f3)+_0x4e0728['id']+_0x483128(0x636);else!_0x4e0728[_0x483128(0x3e6)]&&_0x4e0728[_0x483128(0x5e9)]!==_0x483128(0x9d9)&&_0x57cfec>0x0&&(_0x215a59+=_0x483128(0x4f3)+_0x4e0728['id']+_0x483128(0xa4d));let _0x16ca60='';_0x4e0728[_0x483128(0x3e6)]?_0x16ca60=_0x483128(0xa47)+_0x4e0728['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x16ca60=_0x483128(0xa47)+_0x4e0728['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0xda6ecb+=_0x483128(0xbf6)+_0x4e0728['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x4e0728['topic']+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x4e0728[_0x483128(0x962)]['length']+_0x483128(0xaa4)+new Date(_0x4e0728[_0x483128(0xb0c)])['toLocaleString'](_0x483128(0x799))+_0x483128(0x998)+_0x57cfec+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xefe875+_0x483128(0x3d2)+_0x36db3f+'\x22>'+_0x12e8c0+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e0728['id']+_0x483128(0x2c9)+_0x4e0728['id']+_0x483128(0x42e)+(_0x4e0728[_0x483128(0xca2)]?'fas\x20fa-star\x20text-yellow-500':'far\x20fa-star')+_0x483128(0xab6)+_0x215a59+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e0728['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x4e0728['id']+_0x483128(0x7a3)+_0x4e0728['id']+_0x483128(0xbb1)+_0x4e0728['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e0728['id']+_0x483128(0x7de)+_0x4e0728['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e0728['id']+'\x22\x20data-topic=\x22'+_0x4e0728[_0x483128(0xc41)]+_0x483128(0xb06)+_0x4e0728['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e0728['id']+_0x483128(0x9a1)+_0x16ca60+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e0728['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e0728['id']+_0x483128(0x9af)+_0x4e0728['id']+_0x483128(0x759)+_0x4e0728['id']+_0x483128(0x6ae)+_0x4e0728['id']+_0x483128(0x5f5)+_0x4e0728['id']+_0x483128(0x145)+_0x4e0728['id']+_0x483128(0x563)+_0x4e0728['id']+_0x483128(0x766)+_0x4e0728[_0x483128(0xc41)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x4e0728['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2ff5bc[_0x29cbdb(0x2fe)]=_0xda6ecb,document[_0x29cbdb(0x40f)]('.quiz-result-card')[_0x29cbdb(0xb68)](_0x536f11=>{const _0x5e14d8=_0x29cbdb;_0x536f11[_0x5e14d8(0x161)](_0x5e14d8(0x82f),()=>{const _0x32e122=_0x5e14d8,_0xa7423a=_0x536f11[_0x32e122(0x7a0)][_0x32e122(0x7e0)];showQuizDetailView(_0xa7423a);});});}async function handleUnpairQuiz(_0x4538ed){const _0x204a9a=_0x57253e,_0x5b7a80=allQuizzes[_0x204a9a(0x1bc)](_0x394dd7=>_0x394dd7['id']===_0x4538ed);if(!_0x5b7a80||!_0x5b7a80[_0x204a9a(0x3e6)]){showMessage(_0x204a9a(0xbc2));return;}showConfirmation(_0x204a9a(0x9a4),async()=>{const _0x426dc4=_0x204a9a;try{const _0x3eed4f=doc(db,_0x426dc4(0xc07)+appId+'/public/data/quizzes',_0x4538ed),_0x2d816d=doc(db,_0x426dc4(0xc07)+appId+_0x426dc4(0x194),_0x5b7a80[_0x426dc4(0x3e6)]),_0xb31a07=writeBatch(db);_0xb31a07[_0x426dc4(0x871)](_0x3eed4f,{'pairedQuizId':null}),_0xb31a07['update'](_0x2d816d,{'pairedQuizId':null}),await _0xb31a07[_0x426dc4(0x99e)](),showMessage(_0x426dc4(0x575));}catch(_0x2549ed){console['error'](_0x426dc4(0x9df),_0x2549ed),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x2df88e,_0x508121){const _0x313657=_0x57253e,_0x228d33=window[_0x313657(0xc9c)]('',_0x313657(0x16a)),_0x52e305=_0x313657(0x19d)+_0x508121[_0x313657(0xc41)]+_0x313657(0xbb8)+_0x508121[_0x313657(0xc41)]+_0x313657(0x80e)+_0x2df88e[_0x313657(0x5ff)]['map'](_0x3558bd=>_0x313657(0x664)+_0x3558bd+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x2df88e[_0x313657(0x175)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2df88e[_0x313657(0xc08)][_0x313657(0x9ca)](_0x3d7168=>_0x313657(0xb5f)+_0x3d7168[_0x313657(0x308)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x3d7168['solution']+_0x313657(0xa27))[_0x313657(0x552)]('')+_0x313657(0x9b0);_0x228d33[_0x313657(0x691)][_0x313657(0x246)](_0x52e305),_0x228d33[_0x313657(0x691)][_0x313657(0x6f1)](),_0x228d33[_0x313657(0xc68)]=function(){setTimeout(()=>{_0x228d33['print']();},0x3e8);};}async function handleAiFixFormula(_0x589c0a){const _0x4ac111=_0x57253e,_0x81fe6f=document[_0x4ac111(0x7b3)](_0x4ac111(0x7ba)+_0x589c0a+'\x22]');if(!_0x81fe6f)return;const _0x249c98=_0x81fe6f[_0x4ac111(0x7a0)][_0x4ac111(0x514)],_0x6a8ba=_0x81fe6f[_0x4ac111(0x7b3)](_0x4ac111(0x6ef));let _0x35b52b={'question':_0x81fe6f[_0x4ac111(0x7b3)]('textarea')[_0x4ac111(0x6f7)]};switch(_0x249c98){case'multiple_choice':_0x35b52b[_0x4ac111(0x6c2)]=Array[_0x4ac111(0x4c8)](_0x81fe6f[_0x4ac111(0x40f)](_0x4ac111(0xc4d)))[_0x4ac111(0x9ca)](_0x17fcbc=>_0x17fcbc['value']);break;case _0x4ac111(0x733):_0x35b52b['idealAnswer']=_0x81fe6f[_0x4ac111(0x7b3)](_0x4ac111(0x50e))[_0x4ac111(0x6f7)];break;case'matching_item':_0x35b52b[_0x4ac111(0x2a6)]=_0x81fe6f[_0x4ac111(0x7b3)](_0x4ac111(0x1c6))[_0x4ac111(0x6f7)];break;}_0x6a8ba[_0x4ac111(0x2fe)]=_0x4ac111(0xb2e),_0x6a8ba[_0x4ac111(0x992)]=!![];try{const _0x553292=_0x4ac111(0x70f)+JSON[_0x4ac111(0xb09)](_0x35b52b)+_0x4ac111(0xafe),_0x2070f3={'type':_0x4ac111(0xae5),'properties':{'fixedData':{'type':_0x4ac111(0xae5),'properties':{'question':{'type':'STRING'},'options':{'type':_0x4ac111(0x1d4),'items':{'type':_0x4ac111(0xbda)}},'idealAnswer':{'type':_0x4ac111(0xbda)},'correctResponse':{'type':'STRING'}},'required':[_0x4ac111(0x308)]}},'required':[_0x4ac111(0x1af)]},_0x12d431=await callAnalysisApi(_0x553292,_0x2070f3);if(_0x12d431&&_0x12d431[_0x4ac111(0x1af)]){const _0x519075=_0x12d431['fixedData'];_0x81fe6f[_0x4ac111(0x7b3)](_0x4ac111(0x735))[_0x4ac111(0x6f7)]=_0x519075[_0x4ac111(0x308)]||_0x35b52b['question'];switch(_0x249c98){case'multiple_choice':_0x519075[_0x4ac111(0x6c2)]&&_0x519075['options']['length']>0x0&&_0x81fe6f['querySelectorAll'](_0x4ac111(0xc4d))['forEach']((_0x1ae964,_0x346945)=>{const _0xe5466f=_0x4ac111;_0x1ae964[_0xe5466f(0x6f7)]=_0x519075['options'][_0x346945]||_0x35b52b[_0xe5466f(0x6c2)][_0x346945];});break;case'short_answer':_0x81fe6f[_0x4ac111(0x7b3)]('.ideal-answer-input')['value']=_0x519075['idealAnswer']||_0x35b52b['idealAnswer'];break;case _0x4ac111(0x22d):_0x81fe6f['querySelector'](_0x4ac111(0x1c6))[_0x4ac111(0x6f7)]=_0x519075[_0x4ac111(0x2a6)]||_0x35b52b['correctResponse'];break;}if(_0x35b52b[_0x4ac111(0x308)]!==_0x519075[_0x4ac111(0x308)])try{const _0x1ebf2c=collection(db,_0x4ac111(0xc07)+appId+'/public/data/learnedFixes');await addDoc(_0x1ebf2c,{'broken':_0x35b52b[_0x4ac111(0x308)],'fixed':_0x519075[_0x4ac111(0x308)],'createdAt':serverTimestamp()});}catch(_0xafb60a){console[_0x4ac111(0x20d)](_0x4ac111(0x967),_0xafb60a);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x4ac111(0x3d6));}catch(_0x1679aa){console[_0x4ac111(0x20d)](_0x4ac111(0x771),_0x1679aa),showMessage(_0x4ac111(0x910));}finally{_0x6a8ba[_0x4ac111(0x2fe)]='<i\x20class=\x22fas\x20fa-magic\x22></i>',_0x6a8ba[_0x4ac111(0x992)]=![];}}async function handleGenerateLessonPlan(_0x2d6d34){const _0x4295a4=_0x57253e;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0xe9b201=doc(db,'artifacts/'+appId+_0x4295a4(0x194),_0x2d6d34),_0x44cbe0=await getDoc(_0xe9b201);if(!_0x44cbe0['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x9111b={'id':_0x2d6d34,..._0x44cbe0['data']()},_0xf2dbfe=collection(db,_0x4295a4(0xc07)+appId+_0x4295a4(0x194),_0x2d6d34,'submissions'),_0x436212=await getDocs(_0xf2dbfe),_0x63ba4e=_0x436212[_0x4295a4(0x69d)]['map'](_0x4fea37=>_0x4fea37[_0x4295a4(0x533)]());if(_0x63ba4e['length']===0x0)throw new Error(_0x4295a4(0xa28));const _0x106f7e=calculateItemAnalysis(_0x9111b,_0x63ba4e)[_0x4295a4(0xb70)],_0xa08f34=calculateDistractorAnalysis(_0x9111b,_0x63ba4e),_0x351d05=_0x4e3e0c=>{const _0x4a324b=_0x4295a4;if(!_0x4e3e0c)return'';return _0x4e3e0c[_0x4a324b(0x442)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x5cfb85=_0x4295a4(0xa97);_0x9111b[_0x4295a4(0x962)][_0x4295a4(0xb68)]((_0x55ec8a,_0xf0fe3c)=>{const _0x464a70=_0x4295a4,_0x4f9d5a=_0x106f7e[_0xf0fe3c]?.['p']['toFixed'](0x2)||'N/A',_0x414f16=_0x106f7e[_0xf0fe3c]?.['r'][_0x464a70(0x30c)](0x2)||'N/A',_0x4b719a=_0x351d05(_0x55ec8a[_0x464a70(0x525)]||_0x55ec8a['stem']);_0x5cfb85+=_0x464a70(0xac9)+(_0xf0fe3c+0x1)+_0x464a70(0xc04)+_0x4f9d5a+',\x20r='+_0x414f16+'):\x20'+_0x4b719a+'\x5cn';if(_0x55ec8a[_0x464a70(0x2a9)]==='multiple_choice'&&_0xa08f34[_0xf0fe3c]){const _0x25903b=_0xa08f34[_0xf0fe3c],_0x36b911=Object[_0x464a70(0x88e)](_0x25903b)[_0x464a70(0xa32)](_0x177067=>parseInt(_0x177067)!==_0x55ec8a['correctAnswerIndex'])[_0x464a70(0x2d6)]((_0x65535c,_0xd0ff4b)=>_0x25903b[_0xd0ff4b][_0x464a70(0xc32)]-_0x25903b[_0x65535c][_0x464a70(0xc32)])[0x0];if(_0x36b911&&_0x25903b[_0x36b911][_0x464a70(0xc32)]>0x0){const _0x31659f=_0x351d05(_0x25903b[_0x36b911][_0x464a70(0x71d)]);_0x5cfb85+=_0x464a70(0x97e)+_0x31659f+_0x464a70(0x8f3);}}});const _0x58ab82=_0x4295a4(0x69e)+_0x9111b[_0x4295a4(0xc41)]+_0x4295a4(0x927)+_0x5cfb85+_0x4295a4(0xc8d),_0xf0a959={'type':'OBJECT','properties':{'learningGaps':{'type':_0x4295a4(0x1d4),'items':{'type':_0x4295a4(0xbda)}},'teachingContent':{'type':_0x4295a4(0xbda)},'practiceProblems':{'type':'ARRAY','items':{'type':_0x4295a4(0xae5),'properties':{'question':{'type':_0x4295a4(0xbda)},'solution':{'type':_0x4295a4(0xbda)}}}}},'required':[_0x4295a4(0x5ff),_0x4295a4(0x175),_0x4295a4(0xc08)]},_0x3c6074=await callAnalysisApi(_0x58ab82,_0xf0a959);await updateDoc(_0xe9b201,{'lessonPlan':_0x3c6074});const _0x358e69=_0x4295a4(0xa5a)+_0x9111b[_0x4295a4(0xc41)]+_0x4295a4(0x86c)+_0x3c6074[_0x4295a4(0x5ff)][_0x4295a4(0x9ca)](_0x28c092=>_0x4295a4(0x664)+_0x28c092+_0x4295a4(0x71a))['join']('')+_0x4295a4(0x9bb)+_0x3c6074['teachingContent']+_0x4295a4(0x1b4)+_0x3c6074[_0x4295a4(0xc08)][_0x4295a4(0x9ca)](_0x3e3891=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x3e3891[_0x4295a4(0x308)]+_0x4295a4(0x3b1)+_0x3e3891['solution']+'</p></div>')[_0x4295a4(0x552)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById'](_0x4295a4(0xad4))[_0x4295a4(0x3a6)]='แผนการสอน:\x20'+_0x9111b['topic'],document[_0x4295a4(0x597)](_0x4295a4(0x37e))[_0x4295a4(0x2fe)]=_0x358e69,document['getElementById'](_0x4295a4(0x40b))[_0x4295a4(0x7f0)][_0x4295a4(0x4bd)](_0x4295a4(0x9ac));if(window[_0x4295a4(0x2e3)])MathJax[_0x4295a4(0x4b8)]();messageModal[_0x4295a4(0x7f0)]['add'](_0x4295a4(0x9ac));}catch(_0x2b4e23){console[_0x4295a4(0x20d)]('Error\x20generating\x20lesson\x20plan:',_0x2b4e23),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2b4e23[_0x4295a4(0x5f2)]);}}async function handleDuplicateQuiz(_0x24d3c2){const _0x137140=_0x57253e;try{const _0x2ad4d4=doc(db,_0x137140(0xc07)+appId+'/public/data/quizzes',_0x24d3c2),_0x1afb59=await getDoc(_0x2ad4d4);if(_0x1afb59[_0x137140(0xabe)]()){const _0x2436e9=_0x1afb59[_0x137140(0x533)]();let _0x59ebae='',_0x24ffe9=_0x137140(0x8f4),_0x912ba3=null;if(_0x2436e9[_0x137140(0x5e9)]===_0x137140(0x9d9)){let _0x595702=_0x2436e9['topic'][_0x137140(0x442)](_0x137140(0x37b),'')['trim']();_0x59ebae=_0x137140(0x529)+_0x595702,_0x24ffe9=_0x137140(0xc33),_0x912ba3=_0x24d3c2;}else _0x59ebae=_0x137140(0xa08)+_0x2436e9[_0x137140(0xc41)];const _0x1de4ee={..._0x2436e9,'topic':_0x59ebae,'createdAt':new Date()['toISOString'](),'quizMode':_0x24ffe9,'pairedQuizId':_0x912ba3};let _0x5fcc47;while(!![]){_0x5fcc47=Math[_0x137140(0x7b6)](0x3e8+Math[_0x137140(0x373)]()*0x2328)['toString']();const _0x243b3f=await getDoc(doc(db,_0x137140(0xc07)+appId+_0x137140(0x194),_0x5fcc47));if(!_0x243b3f[_0x137140(0xabe)]())break;}const _0x1d3c65=doc(db,_0x137140(0xc07)+appId+_0x137140(0x194),_0x5fcc47);await setDoc(_0x1d3c65,_0x1de4ee),_0x1de4ee[_0x137140(0x5e9)]==='post-test'&&await updateDoc(_0x2ad4d4,{'pairedQuizId':_0x5fcc47}),showMessage(_0x137140(0xaa1));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x3aefe3){console[_0x137140(0x20d)](_0x137140(0x925),_0x3aefe3),showMessage(_0x137140(0x57c));}}async function handleDeleteQuiz(_0x314d63,_0x1eda03=!![]){const _0x2b4ca0=_0x57253e;try{const _0x3b244e=writeBatch(db),_0x1fe40c=collection(db,_0x2b4ca0(0xc07)+appId+_0x2b4ca0(0x60f)+_0x314d63+_0x2b4ca0(0x85c)),_0x2949c5=await getDocs(_0x1fe40c);_0x2949c5['forEach'](_0x18a458=>{const _0x3675c3=_0x2b4ca0;_0x3b244e[_0x3675c3(0x70d)](doc(_0x1fe40c,_0x18a458['id']));});const _0x515142=doc(db,'artifacts/'+appId+_0x2b4ca0(0x194),_0x314d63);_0x3b244e[_0x2b4ca0(0x70d)](_0x515142),await _0x3b244e[_0x2b4ca0(0x99e)]();try{console['log'](_0x2b4ca0(0x837)+_0x314d63+'\x20in\x20all\x20blueprint\x20projects.');const _0x41905c=collection(db,_0x2b4ca0(0xc07)+appId+'/public/data/blueprintProjects'),_0x53f085=await getDocs(_0x41905c),_0x37bd67=[];_0x53f085[_0x2b4ca0(0xb68)](_0xc2ddb4=>{const _0x2fb57a=_0x2b4ca0,_0x1d0ae5=_0xc2ddb4[_0x2fb57a(0x533)](),_0x520d82=_0x1d0ae5[_0x2fb57a(0x46a)]||{};let _0x4b3215=![];for(const _0x2418cb in _0x520d82){const _0x5cbf2c=_0x520d82[_0x2418cb];if(_0x5cbf2c[_0x2fb57a(0x143)]&&_0x5cbf2c['linkedQuizIds'][_0x2fb57a(0x1d1)](_0x314d63)){_0x4b3215=!![];const _0x529626=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',_0xc2ddb4['id']),_0x40879a=updateDoc(_0x529626,{[_0x2fb57a(0x319)+_0x2418cb+_0x2fb57a(0xca6)]:arrayRemove(_0x314d63)});_0x37bd67[_0x2fb57a(0xa09)](_0x40879a);}}}),_0x37bd67['length']>0x0&&(await Promise[_0x2b4ca0(0x52b)](_0x37bd67),console[_0x2b4ca0(0x496)](_0x2b4ca0(0x675)+_0x37bd67[_0x2b4ca0(0x711)]+'\x20link(s)\x20for\x20quiz\x20ID:\x20'+_0x314d63+'.'));}catch(_0x12f23d){console[_0x2b4ca0(0x20d)](_0x2b4ca0(0x7cf),_0x12f23d);}_0x1eda03&&showMessage(_0x2b4ca0(0x5b4));}catch(_0x1a0961){console['error']('Error\x20deleting\x20quiz:',_0x1a0961),_0x1eda03&&showMessage(_0x2b4ca0(0x2e4));}}async function showQuizDetailView(_0x3a3648){const _0x1bc6e3=_0x57253e;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x1bc6e3(0x1f5));try{const _0x8849b0=doc(db,_0x1bc6e3(0xc07)+appId+'/public/data/quizzes',_0x3a3648),_0x267e6d=await getDoc(_0x8849b0);if(!_0x267e6d[_0x1bc6e3(0xabe)]()){showMessage(_0x1bc6e3(0x64c));return;}const _0x2415cb={'id':_0x267e6d['id'],..._0x267e6d[_0x1bc6e3(0x533)]()};currentQuizData=_0x2415cb;const _0x4c6582=doc(db,_0x1bc6e3(0xc07)+appId+_0x1bc6e3(0x81e),_0x2415cb[_0x1bc6e3(0x9f2)]),_0x47cd23=await getDoc(_0x4c6582);_0x47cd23[_0x1bc6e3(0xabe)]()?(currentProjectData=_0x47cd23[_0x1bc6e3(0x533)](),currentProjectId=_0x2415cb['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x2415cb[_0x1bc6e3(0x9f2)]);document['getElementById'](_0x1bc6e3(0x489))[_0x1bc6e3(0x3a6)]=_0x2415cb[_0x1bc6e3(0xc41)],document[_0x1bc6e3(0x597)]('results-quiz-id-display')[_0x1bc6e3(0x3a6)]=_0x3a3648;const _0x2110dd=collection(db,_0x1bc6e3(0xc07)+appId+'/public/data/quizzes',_0x3a3648,_0x1bc6e3(0x297));unsubscribeSubmissionsListener=onSnapshot(_0x2110dd,_0x2eebd2=>{const _0x451123=_0x1bc6e3,_0x17dcca=_0x2eebd2[_0x451123(0x69d)][_0x451123(0x9ca)](_0xb019ca=>({'id':_0xb019ca['id'],..._0xb019ca['data']()}));currentSubmissions=_0x17dcca;const _0x5481d9=_0x17dcca[_0x451123(0xa32)](_0x47ae1d=>_0x47ae1d[_0x451123(0x620)]&&_0x47ae1d[_0x451123(0x620)][_0x451123(0x711)]>0x0);renderBehaviorLog(_0x17dcca),renderAnswerGrid(currentProjectData[_0x451123(0x88c)],_0x5481d9,_0x2415cb),renderAnalytics(_0x2415cb,_0x5481d9),renderQuizResultsTable(currentProjectData[_0x451123(0x88c)],_0x17dcca,_0x2415cb),renderQuizLeaderboard(_0x5481d9,_0x2415cb,_0x451123(0x6e1));}),showView(_0x1bc6e3(0x473));}catch(_0xdaf919){console['error'](_0x1bc6e3(0x3b2),_0xdaf919),showMessage(_0x1bc6e3(0x48f));}}function renderAnswerGrid(_0x1ed810,_0x33e075,_0x167a3a){const _0x9f63bb=_0x57253e,_0x838b2c=document['getElementById'](_0x9f63bb(0x830));if(!_0x838b2c)return;if(!_0x1ed810||_0x1ed810[_0x9f63bb(0x711)]===0x0){_0x838b2c['innerHTML']=_0x9f63bb(0x1bd);return;}const _0x457220=_0x167a3a[_0x9f63bb(0x962)],_0xd4bf38=_0x33e075[_0x9f63bb(0xb0f)]((_0x4b06d3,_0x447382)=>{const _0x4b67e6=_0x9f63bb;return _0x4b06d3[_0x447382[_0x4b67e6(0x4d7)]]=_0x447382,_0x4b06d3;},{}),_0x1131b8=_0x1f59da=>String[_0x9f63bb(0x400)](0x41+_0x1f59da),_0x20f790=_0x5c894f=>{const _0x4864f=_0x9f63bb,_0x527166=_0x5c894f[_0x4864f(0x2a9)]||_0x167a3a[_0x4864f(0x2b3)];switch(_0x527166){case'multiple_choice':return _0x5c894f[_0x4864f(0x6c2)]&&_0x5c894f[_0x4864f(0x6c2)][_0x4864f(0x711)]>_0x5c894f[_0x4864f(0xacd)]?_0x1131b8(_0x5c894f['correctAnswerIndex']):'-';case _0x4864f(0xc6b):const _0x740ef9=_0x5c894f[_0x4864f(0x75e)]===!![]||String(_0x5c894f[_0x4864f(0x75e)])[_0x4864f(0x6c8)]()===_0x4864f(0x36a);return _0x740ef9?'ใช่':_0x4864f(0x2de);case _0x4864f(0x22d):return _0x5c894f[_0x4864f(0x2a6)]||'-';case _0x4864f(0x733):return'พิมพ์ตอบ';default:return'-';}},_0x27d8ae=(_0x542869,_0x147349)=>{const _0x358812=_0x9f63bb;if(_0x147349[_0x358812(0x137)]===null||_0x147349[_0x358812(0x137)]===undefined)return'-';const _0x13d548=_0x542869['questionType']||_0x167a3a[_0x358812(0x2b3)];switch(_0x13d548){case _0x358812(0x8ea):const _0x30e477=_0x542869[_0x358812(0x6c2)]['findIndex'](_0x263491=>_0x263491===_0x147349[_0x358812(0x47d)]);return _0x30e477!==-0x1?_0x1131b8(_0x30e477):_0x147349[_0x358812(0x47d)]||'-';case _0x358812(0xc6b):if(_0x147349[_0x358812(0x137)]=='0'||_0x147349[_0x358812(0x137)]===!![]||_0x147349['answer']===_0x358812(0x36a))return _0x358812(0x5e1);return _0x358812(0x2de);default:return _0x147349[_0x358812(0x137)];}};let _0x101a1e=_0x9f63bb(0x84d)+_0x457220[_0x9f63bb(0x9ca)]((_0x1bf2d1,_0x468408)=>_0x9f63bb(0xa66)+(_0x468408+0x1)+'</th>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x457220[_0x9f63bb(0x9ca)](_0x4a6289=>_0x9f63bb(0xa98)+_0x20f790(_0x4a6289)+_0x9f63bb(0x899))[_0x9f63bb(0x552)]('')+_0x9f63bb(0x4fd);_0x1ed810[_0x9f63bb(0xb68)](_0x1c830e=>{const _0x102329=_0x9f63bb;_0x101a1e+=_0x102329(0xc84),_0x101a1e+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x1c830e+_0x102329(0x899);const _0x525d6d=_0xd4bf38[_0x1c830e];if(_0x525d6d){const _0xf8714=_0x525d6d[_0x102329(0x620)][_0x525d6d[_0x102329(0x620)]['length']-0x1];_0x457220[_0x102329(0xb68)]((_0x33607f,_0x585b7e)=>{const _0x3b96dd=_0x102329,_0x5c8779=_0xf8714[_0x3b96dd(0x5a2)][_0x3b96dd(0x1bc)](_0x5d6199=>_0x5d6199[_0x3b96dd(0x694)]===_0x33607f['id']);if(_0x5c8779){let _0x1a376e='';const _0x4d4954=_0x5c8779[_0x3b96dd(0x1e3)]===!![],_0x1fe225=_0x5c8779[_0x3b96dd(0x78a)]===!![]||_0x5c8779[_0x3b96dd(0x78a)]===_0x3b96dd(0x3e2);_0x1fe225?_0x1a376e=_0x4d4954?_0x3b96dd(0x20c):_0x3b96dd(0x88a):_0x1a376e=_0x4d4954?_0x3b96dd(0x42b):_0x3b96dd(0xba6),_0x101a1e+=_0x3b96dd(0x1ec)+_0x1a376e+'\x22>'+_0x27d8ae(_0x33607f,_0x5c8779)+_0x3b96dd(0x899);}else _0x101a1e+=_0x3b96dd(0x4c3);});}else _0x101a1e+=_0x457220[_0x102329(0x9ca)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x102329(0x552)]('');_0x101a1e+=_0x102329(0x629);}),_0x101a1e+='</tbody></table>',_0x838b2c[_0x9f63bb(0x2fe)]=_0x101a1e;}function renderQuizResultsTable(_0x4aff44,_0x1b7637,_0x3406a8){const _0x2c46f9=_0x57253e,_0x52ad3f=_0x1b7637[_0x2c46f9(0xb0f)]((_0x2c80a0,_0x111394)=>{const _0x35c604=_0x2c46f9;return _0x2c80a0[_0x111394[_0x35c604(0x4d7)]]=_0x111394,_0x2c80a0;},{}),_0x231c16=document['querySelector']('#results-table\x20thead\x20tr');_0x231c16&&!_0x231c16[_0x2c46f9(0x2fe)][_0x2c46f9(0x1d1)](_0x2c46f9(0x163))&&(_0x231c16[_0x2c46f9(0x2fe)]+=_0x2c46f9(0x28c));const _0x2cd7e5=document['getElementById'](_0x2c46f9(0x553));if(!_0x4aff44||_0x4aff44[_0x2c46f9(0x711)]===0x0){_0x2cd7e5[_0x2c46f9(0x2fe)]=_0x2c46f9(0x67e);return;}const _0x27e928=_0x3406a8[_0x2c46f9(0x33c)]===!![],_0x24f34=_0x3406a8[_0x2c46f9(0x9ab)]?.[_0x2c46f9(0x300)]??-0x1;let _0x21a837='';_0x4aff44[_0x2c46f9(0xb68)](_0x9a2af7=>{const _0x5ec5d5=_0x2c46f9,_0x24db39=_0x52ad3f[_0x9a2af7];let _0xed14c0=_0x5ec5d5(0x551)+(_0x27e928?_0x5ec5d5(0x6e4):_0x5ec5d5(0x422))+'\x22>'+(_0x27e928?_0x5ec5d5(0xbac):_0x5ec5d5(0x591))+_0x5ec5d5(0x4e2);if(_0x24db39){if(_0x24db39['attempts']&&_0x24db39['attempts'][_0x5ec5d5(0x711)]>0x0){let _0x57b379=_0x27e928?_0x24db39[_0x5ec5d5(0xadc)]===_0x24db39['totalQuestions']:_0x24f34!==-0x1&&_0x24db39['bestScore']>=_0x24f34;const _0x590c6b=_0x57b379?'bg-green-100\x20text-green-800':_0x5ec5d5(0xb59),_0x4b762d=_0x57b379?_0x5ec5d5(0x4ca):_0x5ec5d5(0x4e7),_0x3d3370=_0x5ec5d5(0x9c3)+_0x590c6b+'\x22>'+_0x4b762d+_0x5ec5d5(0x4e2),_0x4e45a4=_0x5ec5d5(0x34c)+(_0x24db39[_0x5ec5d5(0x620)]?.[_0x5ec5d5(0x711)]||0x1)+'\x20ครั้ง)</span></td>';_0x21a837+=_0x5ec5d5(0x8a8)+_0x9a2af7+_0x5ec5d5(0x4ef)+_0x24db39[_0x5ec5d5(0xadc)]+_0x5ec5d5(0x751)+_0x24db39[_0x5ec5d5(0x85b)]+_0x5ec5d5(0xa8d)+_0x3d3370+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xed14c0+_0x5ec5d5(0x92e)+_0x24db39[_0x5ec5d5(0x677)]+_0x5ec5d5(0x751)+_0x24db39[_0x5ec5d5(0x85b)]+_0x5ec5d5(0xaab)+_0x24db39[_0x5ec5d5(0xb8b)]+_0x5ec5d5(0x751)+_0x24db39[_0x5ec5d5(0x85b)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x24db39[_0x5ec5d5(0xa4e)]||0x0)+_0x5ec5d5(0xa8d)+_0x4e45a4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x24db39[_0x5ec5d5(0x72f)])[_0x5ec5d5(0x46e)]('th-TH')+_0x5ec5d5(0xa83)+_0x9a2af7+_0x5ec5d5(0x394);}else{const _0x2b0c01='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x21a837+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x9a2af7+_0x5ec5d5(0x33d)+_0xed14c0+_0x5ec5d5(0x58b)+_0x2b0c01+_0x5ec5d5(0x97d)+new Date(_0x24db39[_0x5ec5d5(0x6df)])[_0x5ec5d5(0x46e)](_0x5ec5d5(0x799))+_0x5ec5d5(0xa84)+_0x9a2af7+_0x5ec5d5(0x394);}}else{const _0x3fa68a=_0x5ec5d5(0x2b5);_0x21a837+=_0x5ec5d5(0x903)+_0x9a2af7+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xed14c0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3fa68a+_0x5ec5d5(0x28d);}}),_0x2cd7e5[_0x2c46f9(0x2fe)]=_0x21a837;}async function confirmRenameQuiz(){const _0x28adbe=_0x57253e,_0x1a3bbd=document[_0x28adbe(0x597)](_0x28adbe(0x7cb))['value'][_0x28adbe(0x365)]();if(!_0x1a3bbd){showMessage(_0x28adbe(0x16f));return;}if(!actionTargetId)return;const _0x38d846=doc(db,'artifacts/'+appId+_0x28adbe(0x194),actionTargetId);try{await updateDoc(_0x38d846,{'topic':_0x1a3bbd}),showMessage(_0x28adbe(0x11b)),renameQuizModal[_0x28adbe(0x7f0)][_0x28adbe(0x6e3)](_0x28adbe(0x9ac)),actionTargetId=null;}catch(_0x2e51c1){console['error'](_0x28adbe(0x2b1),_0x2e51c1),showMessage(_0x28adbe(0xb10));}}async function handleMoveQuiz(_0x523837){const _0x3060f3=_0x57253e;actionTargetId=_0x523837;const _0x5d833f=document[_0x3060f3(0x597)](_0x3060f3(0xa4a));_0x5d833f[_0x3060f3(0x2fe)]=_0x3060f3(0xb8c),moveQuizModal[_0x3060f3(0x7f0)][_0x3060f3(0x4bd)](_0x3060f3(0x9ac));try{const _0x56dbe9=collection(db,'artifacts/'+appId+'/public/data/projects'),_0x105bde=await getDocs(_0x56dbe9),_0x50e95e=_0x105bde[_0x3060f3(0x69d)][_0x3060f3(0x9ca)](_0x26a001=>({'id':_0x26a001['id'],..._0x26a001['data']()})),_0x540f40=_0x50e95e[_0x3060f3(0xa32)](_0x5d8aa6=>_0x5d8aa6['id']!==currentProjectId);if(_0x540f40['length']===0x0){_0x5d833f[_0x3060f3(0x2fe)]=_0x3060f3(0x91e),document[_0x3060f3(0x597)](_0x3060f3(0x5c8))[_0x3060f3(0x992)]=!![];return;}_0x5d833f['innerHTML']=_0x540f40[_0x3060f3(0x9ca)](_0x24939d=>_0x3060f3(0x15e)+_0x24939d['id']+'\x22>'+_0x24939d[_0x3060f3(0xadf)]+_0x3060f3(0x9ff))['join'](''),document[_0x3060f3(0x597)]('confirm-move-quiz-btn')['disabled']=![];}catch(_0x221a11){console[_0x3060f3(0x20d)](_0x3060f3(0xaef),_0x221a11),showMessage(_0x3060f3(0x7ae)),moveQuizModal[_0x3060f3(0x7f0)][_0x3060f3(0x6e3)](_0x3060f3(0x9ac));}}async function confirmMoveQuiz(){const _0x8fe070=_0x57253e,_0x3b3b61=document[_0x8fe070(0x597)](_0x8fe070(0xa4a))['value'];if(!_0x3b3b61){showMessage(_0x8fe070(0xb3b));return;}if(!actionTargetId)return;const _0x3a13ab=doc(db,_0x8fe070(0xc07)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x3a13ab,{'projectId':_0x3b3b61}),showMessage(_0x8fe070(0x98e)),moveQuizModal[_0x8fe070(0x7f0)][_0x8fe070(0x6e3)]('hidden'),actionTargetId=null;}catch(_0x19b566){console[_0x8fe070(0x20d)](_0x8fe070(0x482),_0x19b566),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x1c6182){const _0x5bb7ff=_0x57253e;actionTargetId=_0x1c6182;const _0x4b50a3=doc(db,_0x5bb7ff(0xc07)+appId+_0x5bb7ff(0x194),_0x1c6182);try{const _0x2cd05b=await getDoc(_0x4b50a3);if(_0x2cd05b[_0x5bb7ff(0xabe)]()){const _0x4fb542=_0x2cd05b['data'](),_0x59e70e=_0x4fb542[_0x5bb7ff(0x9ab)]||{},_0x4084b1=_0x4fb542[_0x5bb7ff(0x962)][_0x5bb7ff(0x711)];document['getElementById']('modal-shuffle-select')[_0x5bb7ff(0x6f7)]=_0x59e70e[_0x5bb7ff(0x7ad)]||_0x5bb7ff(0x880),document['getElementById']('modal-results-display-select')[_0x5bb7ff(0x6f7)]=_0x59e70e[_0x5bb7ff(0x380)]||'show_results_and_answers',document[_0x5bb7ff(0x597)](_0x5bb7ff(0x7b1))[_0x5bb7ff(0x6f7)]=_0x59e70e[_0x5bb7ff(0x752)]||'none',document['getElementById'](_0x5bb7ff(0x6f0))[_0x5bb7ff(0x6f7)]=_0x59e70e['timerDuration']||0xa,document[_0x5bb7ff(0x597)]('modal-passing-score-input')['value']=_0x59e70e[_0x5bb7ff(0x300)]||Math[_0x5bb7ff(0x7b6)](_0x4084b1/0x2),document[_0x5bb7ff(0x597)]('modal-passing-score-input')[_0x5bb7ff(0x3eb)]=_0x4084b1,document['getElementById'](_0x5bb7ff(0xb5a))['checked']=_0x59e70e[_0x5bb7ff(0xa60)]||![],document['getElementById']('modal-loop-until-pass-checkbox')['checked']=_0x59e70e[_0x5bb7ff(0x7d8)]||![];const _0xfb4655=_0x59e70e[_0x5bb7ff(0x665)]||![];document[_0x5bb7ff(0x597)](_0x5bb7ff(0xbed))[_0x5bb7ff(0x641)]=_0xfb4655,document[_0x5bb7ff(0x597)](_0x5bb7ff(0xc4f))['value']=_0x59e70e[_0x5bb7ff(0x59a)]||_0x5bb7ff(0x3d7);const _0x2cf4ed=document[_0x5bb7ff(0x597)](_0x5bb7ff(0x44b));_0x2cf4ed[_0x5bb7ff(0x7f0)][_0x5bb7ff(0x8eb)](_0x5bb7ff(0x9ac),!_0xfb4655),document[_0x5bb7ff(0x597)](_0x5bb7ff(0x7b1))['dispatchEvent'](new Event('change')),quizSettingsModal[_0x5bb7ff(0x7f0)][_0x5bb7ff(0x4bd)](_0x5bb7ff(0x9ac));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x25c735){console[_0x5bb7ff(0x20d)](_0x5bb7ff(0x136),_0x25c735),showMessage(_0x5bb7ff(0x213));}}async function confirmQuizSettings(){const _0x2ff68b=_0x57253e;if(!actionTargetId)return;const _0x475dcd=doc(db,_0x2ff68b(0xc07)+appId+_0x2ff68b(0x194),actionTargetId),_0x12cc1a={'shuffle':document['getElementById'](_0x2ff68b(0x878))['value'],'resultsDisplay':document[_0x2ff68b(0x597)](_0x2ff68b(0x78c))[_0x2ff68b(0x6f7)],'timerMode':document[_0x2ff68b(0x597)](_0x2ff68b(0x7b1))[_0x2ff68b(0x6f7)],'timerDuration':parseInt(document[_0x2ff68b(0x597)](_0x2ff68b(0x6f0))['value'])||0xa,'passingScore':parseInt(document['getElementById'](_0x2ff68b(0x4e4))[_0x2ff68b(0x6f7)])||0x0,'isAdaptive':document[_0x2ff68b(0x597)](_0x2ff68b(0xb5a))['checked'],'loopUntilPass':document[_0x2ff68b(0x597)]('modal-loop-until-pass-checkbox')[_0x2ff68b(0x641)],'isConfidenceScoringEnabled':document[_0x2ff68b(0x597)]('modal-confidence-scoring-checkbox')[_0x2ff68b(0x641)],'confidenceMode':document[_0x2ff68b(0x597)]('modal-confidence-mode-select')[_0x2ff68b(0x6f7)]};try{await updateDoc(_0x475dcd,{'settings':_0x12cc1a}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x2ff68b(0x7f0)][_0x2ff68b(0x6e3)](_0x2ff68b(0x9ac)),actionTargetId=null;}catch(_0x352887){console[_0x2ff68b(0x20d)](_0x2ff68b(0xbc9),_0x352887),showMessage(_0x2ff68b(0x644));}}async function confirmQuizStatus(){const _0x5e6b38=_0x57253e;if(!actionTargetId)return;const _0x52b7cc=doc(db,'artifacts/'+appId+_0x5e6b38(0x194),actionTargetId),_0x30f0f9=document[_0x5e6b38(0x7b3)](_0x5e6b38(0x92b));if(!_0x30f0f9){showMessage('กรุณาเลือกสถานะ');return;}const _0x543a30=_0x30f0f9[_0x5e6b38(0x6f7)];let _0x5e3360={};if(_0x543a30===_0x5e6b38(0xbe2)||_0x543a30==='inactive')_0x5e3360={'status':_0x543a30,'startTime':null,'endTime':null};else{if(_0x543a30===_0x5e6b38(0x8f6)){const _0x208cb3=document[_0x5e6b38(0x597)](_0x5e6b38(0xc00))[_0x5e6b38(0x6f7)],_0x438275=document[_0x5e6b38(0x597)](_0x5e6b38(0x62f))[_0x5e6b38(0x6f7)];if(!_0x208cb3&&!_0x438275){showMessage(_0x5e6b38(0x6c5));return;}_0x5e3360={'status':_0x5e6b38(0x3d3),'startTime':_0x208cb3?new Date(_0x208cb3)[_0x5e6b38(0xca0)]():null,'endTime':_0x438275?new Date(_0x438275)['toISOString']():null};}}try{await updateDoc(_0x52b7cc,_0x5e3360),showMessage(_0x5e6b38(0xa3a)),quizStatusModal[_0x5e6b38(0x7f0)][_0x5e6b38(0x6e3)](_0x5e6b38(0x9ac)),actionTargetId=null;}catch(_0x53d553){console[_0x5e6b38(0x20d)](_0x5e6b38(0x90b),_0x53d553),showMessage(_0x5e6b38(0x4aa));}}function listenForStudentProfiles(_0x466b38){const _0x546d5e=_0x57253e,_0xd07f8b=collection(db,_0x546d5e(0xc07)+appId+_0x546d5e(0x504)+_0x466b38+_0x546d5e(0x29d));unsubscribeStudentProfilesListener=onSnapshot(_0xd07f8b,_0x228209=>{const _0x423596=_0x546d5e,_0x3563e9=_0x228209['docs'][_0x423596(0x9ca)](_0x4a73dc=>_0x4a73dc[_0x423596(0x533)]());renderLeaderboard(_0x3563e9,_0x423596(0x25a));},_0x115b52=>{const _0xcd1cef=_0x546d5e;console['error'](_0xcd1cef(0xbef),_0x115b52),document[_0xcd1cef(0x597)]('leaderboard-table-body')[_0xcd1cef(0x2fe)]=_0xcd1cef(0x6d8);});}function renderLeaderboard(_0x500431,_0x1808e4){const _0x4efd9f=_0x57253e,_0x59481d=document['getElementById'](_0x1808e4);if(!_0x500431||_0x500431[_0x4efd9f(0x711)]===0x0){_0x59481d['innerHTML']=_0x4efd9f(0x6bf);return;}_0x500431[_0x4efd9f(0x2d6)]((_0x70a161,_0x461f73)=>{const _0xbb5227=_0x4efd9f,_0x29ef71=(_0x461f73['totalPoints']||0x0)-(_0x70a161[_0xbb5227(0x119)]||0x0);if(_0x29ef71!==0x0)return _0x29ef71;const _0x2542ee=(_0x461f73[_0xbb5227(0xc62)]?.['specialist']||0x0)-(_0x70a161['badgesCount']?.['specialist']||0x0);if(_0x2542ee!==0x0)return _0x2542ee;const _0x3f7ff1=(_0x461f73[_0xbb5227(0xc62)]?.['first_try_ace']||0x0)-(_0x70a161['badgesCount']?.['first_try_ace']||0x0);if(_0x3f7ff1!==0x0)return _0x3f7ff1;const _0x4d71fe=(_0x461f73[_0xbb5227(0xc62)]?.['perfect_score']||0x0)-(_0x70a161[_0xbb5227(0xc62)]?.[_0xbb5227(0x389)]||0x0);if(_0x4d71fe!==0x0)return _0x4d71fe;const _0x31a426=(_0x461f73[_0xbb5227(0xc62)]?.[_0xbb5227(0x316)]||0x0)-(_0x70a161[_0xbb5227(0xc62)]?.[_0xbb5227(0x316)]||0x0);if(_0x31a426!==0x0)return _0x31a426;return _0x70a161[_0xbb5227(0x4d7)][_0xbb5227(0x796)](_0x461f73[_0xbb5227(0x4d7)],'th');});let _0x122d55='';_0x500431[_0x4efd9f(0xb68)]((_0x4f90dc,_0x11b183)=>{const _0x43e9c6=_0x4efd9f,_0x97f85c=_0x11b183+0x1,_0x17261b=_0x4f90dc[_0x43e9c6(0xc62)]||{};let _0x10b5d8='';const _0x2c5c64=[_0x43e9c6(0x1a3),'perfect_score',_0x43e9c6(0x717),_0x43e9c6(0x316)];_0x2c5c64[_0x43e9c6(0xb68)](_0x2b08a5=>{const _0x197356=_0x43e9c6;if(_0x17261b[_0x2b08a5]>0x0){const _0x47f5bb=Object[_0x197356(0x9d8)](BADGES)['find'](_0x4ec4b1=>_0x4ec4b1['id']===_0x2b08a5);_0x47f5bb&&(_0x2b08a5==='specialist'?_0x10b5d8+=_0x197356(0x9b1)+_0x47f5bb[_0x197356(0x309)]+_0x197356(0x30d)+_0x47f5bb[_0x197356(0xc9e)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x10b5d8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x47f5bb[_0x197356(0x309)]+'\x20('+_0x17261b[_0x2b08a5]+_0x197356(0x61d)+_0x47f5bb[_0x197356(0xc9e)]+_0x197356(0x2a1)+_0x17261b[_0x2b08a5]+_0x197356(0x67b));}}),_0x122d55+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x97f85c+_0x43e9c6(0x170)+_0x4f90dc[_0x43e9c6(0x4d7)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x4f90dc[_0x43e9c6(0x119)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x10b5d8||'-')+_0x43e9c6(0x359);}),_0x59481d[_0x4efd9f(0x2fe)]=_0x122d55;}function displayLoopScreen(_0x457a97,_0x4a4a15,_0x49de46){const _0x29448e=_0x57253e;let _0x320917='';_0x49de46!==_0x29448e(0x296)&&(_0x320917=_0x29448e(0x5ee)+_0x457a97+_0x29448e(0x751)+_0x4a4a15+_0x29448e(0x2f3));const _0x4ae5da=_0x29448e(0x6e6)+_0x320917+_0x29448e(0x5e6);studentResultArea[_0x29448e(0x2fe)]=_0x4ae5da,studentResultArea['classList'][_0x29448e(0x4bd)](_0x29448e(0x9ac)),studentQuizArea['classList']['add']('hidden'),document[_0x29448e(0x597)](_0x29448e(0xbdc))[_0x29448e(0x161)](_0x29448e(0x82f),()=>{const _0x145cce=_0x29448e;studentResultArea[_0x145cce(0x7f0)][_0x145cce(0x6e3)](_0x145cce(0x9ac)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x53b393,_0x1093e6,_0x191c9b){const _0x1cd504=_0x57253e,_0x5cc137=document[_0x1cd504(0x597)](_0x191c9b),_0x2a5aae=_0x191c9b==='student-quiz-leaderboard-table-body',_0x3ee9bb=_0x1093e6[_0x1cd504(0x962)]['length'],_0x50217f=document['getElementById'](_0x191c9b)[_0x1cd504(0x4dc)](_0x1cd504(0x3e3));if(_0x50217f&&!_0x2a5aae){const _0x36888b=_0x50217f[_0x1cd504(0x7b3)]('thead');_0x36888b['innerHTML']=_0x1cd504(0xac0);}if(!_0x53b393||_0x53b393['length']===0x0){_0x5cc137[_0x1cd504(0x2fe)]=_0x1cd504(0x834)+(_0x2a5aae?0x6:0x8)+_0x1cd504(0x80d);return;}const _0x49aee7=[..._0x53b393];_0x49aee7[_0x1cd504(0x2d6)]((_0x4dea77,_0x22febe)=>{const _0x4030b0=_0x1cd504;let _0x459f1e,_0x5af8c7;switch(quizLeaderboardSortBy){case _0x4030b0(0x4d7):_0x459f1e=_0x4dea77['studentName']||'',_0x5af8c7=_0x22febe[_0x4030b0(0x4d7)]||'';return quizLeaderboardSortOrder==='asc'?_0x459f1e['localeCompare'](_0x5af8c7,'th'):_0x5af8c7[_0x4030b0(0x796)](_0x459f1e,'th');case _0x4030b0(0xa4e):_0x459f1e=_0x4dea77[_0x4030b0(0xa4e)]||0x0,_0x5af8c7=_0x22febe[_0x4030b0(0xa4e)]||0x0;break;case'attempts':_0x459f1e=_0x4dea77[_0x4030b0(0x620)]?.['length']||0x1,_0x5af8c7=_0x22febe[_0x4030b0(0x620)]?.[_0x4030b0(0x711)]||0x1;break;case'latestSubmittedAt':_0x459f1e=new Date(_0x4dea77[_0x4030b0(0x72f)]),_0x5af8c7=new Date(_0x22febe[_0x4030b0(0x72f)]);break;case'bestScore':default:_0x459f1e=_0x4dea77[_0x4030b0(0xadc)],_0x5af8c7=_0x22febe[_0x4030b0(0xadc)];break;}if(_0x459f1e<_0x5af8c7)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x459f1e>_0x5af8c7)return quizLeaderboardSortOrder===_0x4030b0(0x3cf)?0x1:-0x1;return 0x0;});const _0x1cc3e1=_0x1093e6[_0x1cd504(0x33c)]===!![],_0xc2c146=_0x1093e6[_0x1cd504(0x9ab)]?.[_0x1cd504(0x300)]??-0x1;let _0x2a41e3='';_0x49aee7['forEach']((_0x240790,_0x562178)=>{const _0x4d9ba6=_0x1cd504,_0x3c7366=_0x562178+0x1;let _0x3e540e=_0x4d9ba6(0x16b);if(_0x1cc3e1||_0xc2c146!==-0x1){let _0x348002=_0x1cc3e1?_0x240790[_0x4d9ba6(0xadc)]===_0x3ee9bb:_0x240790[_0x4d9ba6(0xadc)]>=_0xc2c146;const _0x1bcb92=_0x348002?_0x4d9ba6(0x35b):'bg-red-100\x20text-red-800',_0x16dff4=_0x348002?_0x4d9ba6(0x4ca):'ไม่ผ่าน';_0x3e540e='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x1bcb92+'\x22>'+_0x16dff4+_0x4d9ba6(0x4e2);}const _0x728e1a=_0x240790[_0x4d9ba6(0x620)][_0x240790[_0x4d9ba6(0x620)][_0x4d9ba6(0x711)]-0x1],_0x5944a0=(_0x728e1a['badges']||[])['map'](_0x436abf=>{const _0x660fd7=_0x4d9ba6,_0x48ac1c=Object[_0x660fd7(0x9d8)](BADGES)[_0x660fd7(0x1bc)](_0x3084cf=>_0x3084cf['id']===_0x436abf);return _0x48ac1c?_0x660fd7(0xb53)+_0x48ac1c['name']+_0x660fd7(0xaca)+_0x48ac1c[_0x660fd7(0xc9e)]+_0x660fd7(0x9a5):'';})['join']('');_0x2a41e3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x3c7366+_0x4d9ba6(0x9fc)+_0x240790['studentName']+_0x4d9ba6(0xaae)+_0x240790[_0x4d9ba6(0xadc)]+'\x20/\x20'+_0x3ee9bb+_0x4d9ba6(0xb7e)+_0x3e540e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x240790[_0x4d9ba6(0xa4e)]||0x0)+_0x4d9ba6(0xb7e)+(_0x2a5aae?'':_0x4d9ba6(0x79b)+(_0x240790[_0x4d9ba6(0x620)]?.[_0x4d9ba6(0x711)]||0x1)+'</td>')+_0x4d9ba6(0x407)+(_0x2a5aae?'':_0x4d9ba6(0xa71)+new Date(_0x240790[_0x4d9ba6(0x72f)])[_0x4d9ba6(0x46e)]('th-TH')+_0x4d9ba6(0x899))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x5944a0||'-')+_0x4d9ba6(0x49f);}),_0x5cc137[_0x1cd504(0x2fe)]=_0x2a41e3,_0x50217f&&!_0x2a5aae&&_0x50217f[_0x1cd504(0x40f)](_0x1cd504(0xaea))[_0x1cd504(0xb68)](_0x45d3b8=>{const _0x41a899=_0x1cd504,_0x323156=_0x45d3b8[_0x41a899(0x7b3)]('.sort-indicator');if(_0x323156)_0x323156[_0x41a899(0x4bd)]();_0x45d3b8['dataset'][_0x41a899(0x2d6)]===quizLeaderboardSortBy&&(_0x45d3b8[_0x41a899(0x2fe)]+=_0x41a899(0xc2d)+(quizLeaderboardSortOrder===_0x41a899(0x3cf)?'▲':'▼')+_0x41a899(0x6fd));});}async function handleDeleteSubmission(_0x25c679){const _0x3def80=_0x57253e;if(!currentQuizData||!currentQuizData['id']||!_0x25c679){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x3def80(0xb23)+_0x25c679+_0x3def80(0x1df),async()=>{const _0x3b296c=_0x3def80,_0x3962fd=currentQuizData['id'],_0x451c55=doc(db,'artifacts/'+appId+_0x3b296c(0x60f)+_0x3962fd+'/submissions',_0x25c679);try{await deleteDoc(_0x451c55),showMessage(_0x3b296c(0xc98)+_0x25c679+_0x3b296c(0xb64));}catch(_0x50d9a8){console[_0x3b296c(0x20d)](_0x3b296c(0x130),_0x50d9a8),showMessage(_0x3b296c(0xa86));}});}async function handleLoadQuiz(){const _0x363965=_0x57253e,_0xaf99e4=document[_0x363965(0x597)](_0x363965(0x403)),_0x4ba669=_0xaf99e4[_0x363965(0x6f7)][_0x363965(0x365)]();if(!_0x4ba669){showMessage(_0x363965(0x6a3));return;}loadQuizBtn[_0x363965(0x992)]=!![],loadQuizBtn[_0x363965(0x2fe)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x4860bc=doc(db,'artifacts/'+appId+_0x363965(0x194),_0x4ba669),_0x36a4dd=await getDoc(_0x4860bc);if(!_0x36a4dd[_0x363965(0xabe)]()){showMessage(_0x363965(0xbfd));return;}currentQuizData={'id':_0x36a4dd['id'],..._0x36a4dd[_0x363965(0x533)]()};const _0x437946=currentQuizData[_0x363965(0x9e6)]||_0x363965(0xbe2),_0x235764=new Date();if(_0x437946===_0x363965(0x544)){showMessage(_0x363965(0xba7));return;}if(_0x437946===_0x363965(0x3d3)){const _0x56db36=currentQuizData[_0x363965(0x348)]?new Date(currentQuizData[_0x363965(0x348)]):null,_0x4c05e3=currentQuizData[_0x363965(0x583)]?new Date(currentQuizData[_0x363965(0x583)]):null;if(_0x56db36&&_0x235764<_0x56db36){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x56db36[_0x363965(0x46e)](_0x363965(0x799),{'hour12':![]}));return;}if(_0x4c05e3&&_0x235764>_0x4c05e3){showMessage(_0x363965(0x23a));return;}}const _0x1f796e=currentQuizData[_0x363965(0x9f2)];currentProjectId=_0x1f796e;const _0xe9bc9=doc(db,'artifacts/'+appId+_0x363965(0x81e),_0x1f796e),_0x419df2=await getDoc(_0xe9bc9);if(!_0x419df2[_0x363965(0xabe)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x588963=_0x419df2['data']();currentStudentProjectData=_0x588963,displayStudentNameSelector(_0x588963[_0x363965(0x88c)],currentQuizData[_0x363965(0xc41)]);}catch(_0x163e65){console['error'](_0x363965(0x5fc),_0x163e65),showMessage(_0x363965(0xc65));}finally{loadQuizBtn[_0x363965(0x992)]=![],loadQuizBtn[_0x363965(0x2fe)]=_0x363965(0x858);}}async function handleJoinLiveGame(){const _0x2eb6bf=_0x57253e,_0x21b74b=document['getElementById'](_0x2eb6bf(0x81c)),_0x4566c5=document['getElementById'](_0x2eb6bf(0x48c)),_0x1ccd6e=document[_0x2eb6bf(0x597)](_0x2eb6bf(0x89f)),_0x17fd52=_0x21b74b[_0x2eb6bf(0x6f7)][_0x2eb6bf(0x365)](),_0x5d19b1=_0x4566c5[_0x2eb6bf(0x6f7)]['trim']();if(!_0x17fd52||!_0x5d19b1){showMessage(_0x2eb6bf(0x52a));return;}_0x1ccd6e[_0x2eb6bf(0x992)]=!![],_0x1ccd6e[_0x2eb6bf(0x2fe)]=_0x2eb6bf(0x335);try{const _0xe63f82=collection(db,'artifacts/'+appId+_0x2eb6bf(0x7e2)),_0x28dd65=query(_0xe63f82,where(_0x2eb6bf(0xb7f),'==',_0x17fd52),where('status','in',[_0x2eb6bf(0x537),'question'])),_0x3d6946=await getDocs(_0x28dd65);if(_0x3d6946['empty']){showMessage(_0x2eb6bf(0xc9f));return;}const _0x3ebfea=_0x3d6946[_0x2eb6bf(0x69d)][0x0],_0x2862e7=_0x3ebfea['data']();currentLiveGameId=_0x3ebfea['id'];const _0x5a3bbd=_0x2862e7[_0x2eb6bf(0x7e0)],_0x201dd5=doc(db,_0x2eb6bf(0xc07)+appId+_0x2eb6bf(0x194),_0x5a3bbd),_0x467d88=await getDoc(_0x201dd5);if(!_0x467d88[_0x2eb6bf(0xabe)]()){showMessage(_0x2eb6bf(0xb65));return;}currentQuizData={'id':_0x467d88['id'],..._0x467d88[_0x2eb6bf(0x533)]()};if(_0x2862e7['players']&&_0x2862e7[_0x2eb6bf(0xae4)][_0x5d19b1]){const _0x59be7e=_0x2862e7[_0x2eb6bf(0xae4)][_0x5d19b1];if(_0x59be7e[_0x2eb6bf(0x9e6)]===_0x2eb6bf(0x544)){_0x1ccd6e[_0x2eb6bf(0x2fe)]=_0x2eb6bf(0x6d1);const _0x3e1ce5={};_0x3e1ce5['players.'+_0x5d19b1+'.status']=_0x2eb6bf(0xbe2),await updateDoc(doc(db,_0x2eb6bf(0xc07)+appId+'/public/data/liveGames',currentLiveGameId),_0x3e1ce5),showView(_0x2eb6bf(0x898)),currentStudentName=_0x5d19b1,listenForLiveGameUpdates();return;}else{showMessage(_0x2eb6bf(0xca3));return;}}if(_0x2862e7['status']!=='lobby'){showMessage(_0x2eb6bf(0x540));return;}_0x1ccd6e[_0x2eb6bf(0x2fe)]=_0x2eb6bf(0x385);const _0x5ef804={};_0x5ef804['players.'+_0x5d19b1]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0x2eb6bf(0xc07)+appId+'/public/data/liveGames',currentLiveGameId),_0x5ef804),currentStudentName=_0x5d19b1,listenForLiveGameUpdates();}catch(_0x1e98b6){console['error'](_0x2eb6bf(0x559),_0x1e98b6),showMessage(_0x2eb6bf(0xaa9));}finally{_0x1ccd6e[_0x2eb6bf(0x992)]=![],_0x1ccd6e[_0x2eb6bf(0x2fe)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x32ca6a,_0x42ab4b){const _0x2dd589=_0x57253e,_0x1a0529=document['getElementById'](_0x2dd589(0x441));document[_0x2dd589(0x597)](_0x2dd589(0xac5))['textContent']=_0x2dd589(0xbdf)+_0x42ab4b,!_0x32ca6a||_0x32ca6a[_0x2dd589(0x711)]===0x0?(_0x1a0529[_0x2dd589(0x2fe)]=_0x2dd589(0x7c5),startQuizBtn[_0x2dd589(0x992)]=!![]):(_0x1a0529[_0x2dd589(0x2fe)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x32ca6a[_0x2dd589(0xb68)](_0x2c6571=>{const _0x33d192=_0x2dd589,_0x422b0c=document[_0x33d192(0x275)](_0x33d192(0x4a5));_0x422b0c[_0x33d192(0x6f7)]=_0x2c6571,_0x422b0c[_0x33d192(0x3a6)]=_0x2c6571,_0x1a0529[_0x33d192(0x52c)](_0x422b0c);}),startQuizBtn['disabled']=![]),studentInitialView[_0x2dd589(0x7f0)][_0x2dd589(0x6e3)](_0x2dd589(0x9ac)),studentNameSelectionView[_0x2dd589(0x7f0)][_0x2dd589(0x4bd)](_0x2dd589(0x9ac));}function shuffleArray(_0x182a88){const _0x47475c=_0x57253e;for(let _0xe7cd3d=_0x182a88[_0x47475c(0x711)]-0x1;_0xe7cd3d>0x0;_0xe7cd3d--){const _0x1529f3=Math[_0x47475c(0x7b6)](Math[_0x47475c(0x373)]()*(_0xe7cd3d+0x1));[_0x182a88[_0xe7cd3d],_0x182a88[_0x1529f3]]=[_0x182a88[_0x1529f3],_0x182a88[_0xe7cd3d]];}}function getShuffledQuiz(_0x2f95e2){const _0x26807f=_0x57253e;let _0x43782d=JSON[_0x26807f(0x8ef)](JSON[_0x26807f(0xb09)](_0x2f95e2));const _0x379d22=_0x43782d[_0x26807f(0x9ab)]?.[_0x26807f(0x7ad)]||_0x26807f(0x880);if(_0x379d22==='none')return _0x43782d;return(_0x379d22===_0x26807f(0x7e9)||_0x379d22==='both')&&shuffleArray(_0x43782d['questions']),(_0x379d22===_0x26807f(0x4b5)||_0x379d22===_0x26807f(0xc28))&&_0x43782d[_0x26807f(0x962)][_0x26807f(0xb68)](_0xee1da4=>{const _0x5eb833=_0x26807f,_0x1b6ab4=_0xee1da4[_0x5eb833(0x2a9)]||_0x43782d[_0x5eb833(0x2b3)];if(_0xee1da4['options']){let _0x78ed87=_0xee1da4['options'][_0x5eb833(0x9ca)]((_0x2b4c84,_0x5d334f)=>({'text':_0x2b4c84,'isCorrect':_0x5d334f===_0xee1da4['correctAnswerIndex']}));shuffleArray(_0x78ed87),_0xee1da4[_0x5eb833(0x6c2)]=_0x78ed87['map'](_0x504352=>_0x504352[_0x5eb833(0x71d)]),_0xee1da4[_0x5eb833(0xacd)]=_0x78ed87[_0x5eb833(0x129)](_0x1a252e=>_0x1a252e['isCorrect']);}_0x1b6ab4===_0x5eb833(0x22d)&&_0xee1da4['allResponses']&&shuffleArray(_0xee1da4[_0x5eb833(0x8b0)]);}),_0x43782d;}function displayQuizForStudent(_0x30bc6b){const _0x2c14b1=_0x57253e;studentQuizArea[_0x2c14b1(0x7f0)][_0x2c14b1(0x4bd)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x30bc6b);currentMode!==_0x2c14b1(0x76a)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x2c14b1(0x161)](_0x2c14b1(0x445),handleFullscreenChange),document[_0x2c14b1(0x161)](_0x2c14b1(0x47f),handleVisibilityChange),enterFullscreen(),window[_0x2c14b1(0x161)](_0x2c14b1(0xb1f),resetDimTimer),window[_0x2c14b1(0x161)](_0x2c14b1(0x4d9),resetDimTimer),window['addEventListener'](_0x2c14b1(0x3c6),resetDimTimer),window[_0x2c14b1(0x161)](_0x2c14b1(0x4b7),resetDimTimer),resetDimTimer());const _0x27246c=currentDisplayedQuiz['settings']?.[_0x2c14b1(0x752)]||_0x2c14b1(0x880);if(_0x27246c===_0x2c14b1(0x444))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x2c14b1(0x5b5)]);else _0x27246c==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x4edb89=_0x57253e,_0x2dcdca=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x3dff9b=currentDisplayedQuiz['settings']?.[_0x4edb89(0x59a)]||_0x4edb89(0x3d7);let _0x14de23=_0x4edb89(0x58f)+currentDisplayedQuiz['topic']+_0x4edb89(0x474)+(currentMode===_0x4edb89(0x76a)?_0x4edb89(0x23c):'')+_0x4edb89(0x51e);currentDisplayedQuiz[_0x4edb89(0x962)][_0x4edb89(0xb68)]((_0x267475,_0x1a133a)=>{const _0xd36b68=_0x4edb89,_0x4c4656=_0x267475[_0xd36b68(0x2a9)]||currentDisplayedQuiz[_0xd36b68(0x2b3)];_0x14de23+=_0xd36b68(0xa04);if(_0x4c4656===_0xd36b68(0x22d)){}else _0x14de23+=_0xd36b68(0x388)+(_0x1a133a+0x1)+'.\x20'+(_0x267475[_0xd36b68(0x440)]||_0x267475[_0xd36b68(0x525)])+_0xd36b68(0x686),_0x267475[_0xd36b68(0x415)]&&(_0x14de23+=_0xd36b68(0x718)+_0x267475[_0xd36b68(0x415)]+_0xd36b68(0x519));_0x14de23+=_0xd36b68(0x1a6);switch(_0x4c4656){case'short_answer':_0x14de23+=_0xd36b68(0xb80)+_0x1a133a+_0xd36b68(0x8b8);break;case _0xd36b68(0xc6b):_0x14de23+=_0xd36b68(0x99c)+_0x1a133a+_0xd36b68(0x5ed)+_0x1a133a+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x1a133a+'_opt0\x22>ใช่</label></div>',_0x14de23+=_0xd36b68(0x99c)+_0x1a133a+_0xd36b68(0x4cb)+_0x1a133a+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x1a133a+_0xd36b68(0xa48);break;case _0xd36b68(0x22d):_0x14de23+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+_0x267475[_0xd36b68(0x2d4)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x1a133a+_0xd36b68(0xc4b)+_0x267475[_0xd36b68(0x8b0)]['map'](_0x35ed33=>_0xd36b68(0x15e)+_0x35ed33+'\x22>'+_0x35ed33+_0xd36b68(0x9ff))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;default:_0x14de23+=_0x267475[_0xd36b68(0x6c2)][_0xd36b68(0x9ca)]((_0x3f88d6,_0x5ed625)=>_0xd36b68(0x9c8)+_0x1a133a+_0xd36b68(0xb08)+_0x5ed625+_0xd36b68(0x5ea)+_0x1a133a+_0xd36b68(0x436)+_0x5ed625+_0xd36b68(0x8d5)+_0x1a133a+_0xd36b68(0xb08)+_0x5ed625+'\x22>'+_0x3f88d6+_0xd36b68(0x856))[_0xd36b68(0x552)]('');break;}_0x14de23+='</div>',_0x2dcdca&&(_0x14de23+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x3dff9b===_0xd36b68(0xae3)?_0x14de23+=_0xd36b68(0x439)+_0x1a133a+_0xd36b68(0x24b)+_0x1a133a+_0xd36b68(0x56f)+_0x1a133a+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x1a133a+_0xd36b68(0x229):_0x14de23+=_0xd36b68(0xc4e)+_0x1a133a+_0xd36b68(0x24b)+_0x1a133a+_0xd36b68(0xc02)+_0x1a133a+_0xd36b68(0x7d0),_0x14de23+=_0xd36b68(0x519)),_0x14de23+=_0xd36b68(0x519);}),_0x14de23+=_0x4edb89(0x4db),_0x14de23+=_0x4edb89(0x5e8),studentQuizArea['innerHTML']=_0x14de23;if(currentMode===_0x4edb89(0x76a)){const _0x5c533=document[_0x4edb89(0x597)](_0x4edb89(0x33e));if(_0x5c533)_0x5c533[_0x4edb89(0x161)](_0x4edb89(0x82f),cancelAdminTest);}const _0x53fa14=document['getElementById']('quiz-form');_0x53fa14&&(_0x53fa14[_0x4edb89(0x161)](_0x4edb89(0x277),handleSubmitQuiz),_0x53fa14[_0x4edb89(0x161)](_0x4edb89(0x82f),_0x43cde1=>{const _0x1ef019=_0x4edb89;if(_0x43cde1[_0x1ef019(0xaa3)][_0x1ef019(0x7f0)][_0x1ef019(0x1ef)](_0x1ef019(0xb91))){const _0x2874de=_0x43cde1['target'],_0x4297c2=_0x2874de[_0x1ef019(0x7a0)][_0x1ef019(0x954)],_0x9752e3=_0x2874de[_0x1ef019(0x7a0)][_0x1ef019(0x6f7)];document['getElementById'](_0x1ef019(0x3a3)+_0x4297c2)[_0x1ef019(0x6f7)]=_0x9752e3;const _0xba36=_0x2874de[_0x1ef019(0x9f1)];_0xba36[_0x1ef019(0x40f)](_0x1ef019(0x19b))[_0x1ef019(0xb68)](_0x4b2fa0=>_0x4b2fa0[_0x1ef019(0x7f0)][_0x1ef019(0x4bd)]('active')),_0x2874de[_0x1ef019(0x7f0)]['add']('active');}}));if(window[_0x4edb89(0x2e3)])window[_0x4edb89(0x2e3)][_0x4edb89(0x4b8)]([studentQuizArea]);}async function handleSubmitQuiz(_0x4a897a){const _0x3bef7e=_0x57253e;if(_0x4a897a)_0x4a897a[_0x3bef7e(0x3f5)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x4e2a13=document[_0x3bef7e(0x597)](_0x3bef7e(0xbbb));if(!_0x4e2a13)return;const _0x1f0274=currentDisplayedQuiz[_0x3bef7e(0x9ab)]?.[_0x3bef7e(0x665)]===!![],_0x484704=currentDisplayedQuiz[_0x3bef7e(0x9ab)]?.[_0x3bef7e(0x59a)]||'checkbox';if(_0x1f0274&&_0x484704==='mandatory'){let _0x12dbc1=!![];for(let _0x3d2f81=0x0;_0x3d2f81<currentDisplayedQuiz[_0x3bef7e(0x962)][_0x3bef7e(0x711)];_0x3d2f81++){const _0x48073e=_0x4e2a13[_0x3bef7e(0x7b3)](_0x3bef7e(0x427)+_0x3d2f81);if(!_0x48073e||_0x48073e[_0x3bef7e(0x6f7)]===''){_0x12dbc1=![];break;}}if(!_0x12dbc1){showMessage(_0x3bef7e(0x953));return;}}const _0x4d3a26=_0x4e2a13[_0x3bef7e(0x7b3)](_0x3bef7e(0x9ba)),_0x31b425=currentDisplayedQuiz[_0x3bef7e(0x962)][_0x3bef7e(0x79f)](_0x514689=>_0x514689[_0x3bef7e(0x2a9)]===_0x3bef7e(0x733));_0x4d3a26&&(_0x4d3a26[_0x3bef7e(0x992)]=!![],_0x4d3a26['innerHTML']=_0x31b425?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x288d38=new FormData(_0x4e2a13),_0x575098=currentDisplayedQuiz[_0x3bef7e(0x962)][_0x3bef7e(0x9ca)]((_0x3706b5,_0x4113d3)=>{const _0x16bfbc=_0x3bef7e,_0x22ca45=_0x288d38[_0x16bfbc(0x54a)](_0x16bfbc(0x308)+_0x4113d3);let _0x3ab1cc;_0x484704==='mandatory'?_0x3ab1cc=_0x288d38[_0x16bfbc(0x54a)](_0x16bfbc(0x932)+_0x4113d3):_0x3ab1cc=_0x288d38['get'](_0x16bfbc(0x932)+_0x4113d3)==='on';let _0x1c868d=null;if(_0x22ca45!==null&&_0x22ca45!==undefined){const _0xfd0a3b=_0x3706b5['questionType']||currentDisplayedQuiz[_0x16bfbc(0x2b3)];_0xfd0a3b===_0x16bfbc(0x8ea)||_0xfd0a3b===_0x16bfbc(0x788)?_0x1c868d=parseInt(_0x22ca45):_0x1c868d=_0x22ca45;}return{'answer':_0x1c868d,'wasConfident':_0x3ab1cc};}),_0x579fc1=currentQuizData['id'],_0x4e9fa2=doc(db,_0x3bef7e(0xc07)+appId+'/public/data/quizzes/'+_0x579fc1+_0x3bef7e(0x85c),currentStudentName),_0x100ad3=await getDoc(_0x4e9fa2),_0x2a091b=_0x100ad3['exists']()?_0x100ad3[_0x3bef7e(0x533)]():{},_0x1151e9=_0x2a091b[_0x3bef7e(0x620)]||[];await processAndSubmitAnswers(_0x575098,_0x1151e9);}async function gradeShortAnswerWithAI(_0x32cf5b,_0x1b0320){const _0x459a1c=_0x57253e;if(!_0x32cf5b||!_0x1b0320)return![];try{const _0x5517ea=_0x459a1c(0x430)+_0x32cf5b+_0x459a1c(0x9b2)+_0x1b0320+_0x459a1c(0x34f),_0x1b59d8={'contents':[{'role':_0x459a1c(0x5c4),'parts':[{'text':_0x5517ea}]}]},_0x133f70=_0x459a1c(0x3c8),_0x578592=_0x459a1c(0x6ac)+_0x133f70,_0x5c8987=await fetch(_0x578592,{'method':_0x459a1c(0x4e1),'headers':{'Content-Type':'application/json'},'body':JSON[_0x459a1c(0xb09)](_0x1b59d8)});if(!_0x5c8987['ok'])throw new Error('API\x20call\x20failed');const _0x4450c5=await _0x5c8987[_0x459a1c(0xc01)](),_0x3b7458=_0x4450c5[_0x459a1c(0x9d6)][0x0][_0x459a1c(0x4d0)]['parts'][0x0][_0x459a1c(0x71d)]['trim']()[_0x459a1c(0x6c8)]();return _0x3b7458===_0x459a1c(0x36a);}catch(_0x4953b3){return console['error'](_0x459a1c(0x455),_0x4953b3),![];}}async function processAndSubmitAnswers(_0x136adb,_0x160db5){const _0x3cc87e=_0x57253e;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x3cc87e(0x713)](_0x3cc87e(0x445),handleFullscreenChange),document[_0x3cc87e(0x713)]('visibilitychange',handleVisibilityChange);let _0x359440=0x0;const _0x137c64=[],_0x913d03=currentDisplayedQuiz[_0x3cc87e(0x962)][_0x3cc87e(0x711)];let _0x3b80cd=0x0,_0x5ee943=[];const _0x201d6b=currentDisplayedQuiz[_0x3cc87e(0x962)];for(let _0x1191c2=0x0;_0x1191c2<_0x201d6b[_0x3cc87e(0x711)];_0x1191c2++){const _0x19f293=_0x201d6b[_0x1191c2],_0x4c64d2=_0x136adb[_0x1191c2],_0xa886ed=_0x4c64d2?_0x4c64d2[_0x3cc87e(0x137)]:null,_0x2fbdf5=_0x4c64d2?_0x4c64d2['wasConfident']:null;let _0x12ce91=![],_0x556343=0x0;if(_0xa886ed!==null&&_0xa886ed!==''){const _0x43cd6b=_0x19f293[_0x3cc87e(0x2a9)]||currentDisplayedQuiz[_0x3cc87e(0x2b3)];switch(_0x43cd6b){case _0x3cc87e(0x22d):_0x12ce91=_0xa886ed===_0x19f293[_0x3cc87e(0x2a6)];break;case _0x3cc87e(0xc6b):const _0x44116e=_0xa886ed===!![]||_0xa886ed===_0x3cc87e(0x36a);_0x12ce91=_0x44116e===_0x19f293[_0x3cc87e(0x75e)];break;case'short_answer':_0x12ce91=await gradeShortAnswer(_0xa886ed,_0x19f293);break;case _0x3cc87e(0x8ea):default:_0x12ce91=Number(_0xa886ed)===_0x19f293[_0x3cc87e(0xacd)];break;}}if(currentDisplayedQuiz['settings']?.[_0x3cc87e(0x665)]){const _0x25aa30=_0x4c64d2?_0x4c64d2[_0x3cc87e(0x78a)]:null;if(_0x12ce91&&(_0x25aa30===!![]||_0x25aa30==='confident'))_0x556343=0x2;else{if(_0x12ce91)_0x556343=0x1;else{if(!_0x12ce91&&(_0x25aa30===![]||_0x25aa30===_0x3cc87e(0x688)||_0x25aa30===null))_0x556343=0x0;else!_0x12ce91&&(_0x25aa30===!![]||_0x25aa30==='confident')&&(_0x556343=-0x1);}}}else _0x556343=_0x12ce91?0x1:0x0;_0x359440+=_0x556343;if(_0x12ce91){_0x3b80cd++;if(_0x3b80cd===0x3)_0x5ee943[_0x3cc87e(0xa09)](BADGES[_0x3cc87e(0x7f8)]['id']);}else _0x3b80cd=0x0;let _0x263fa9=null;_0x19f293['options']&&_0xa886ed!==null&&(_0x263fa9=_0x19f293[_0x3cc87e(0x6c2)][_0xa886ed]),_0x137c64[_0x3cc87e(0xa09)]({'questionId':_0x19f293['id'],'answer':_0xa886ed,'answerText':_0x263fa9,'isCorrect':_0x12ce91,'wasConfident':_0x2fbdf5,'pointsAwarded':_0x556343,'originalQuestionText':_0x19f293[_0x3cc87e(0x2d4)]||_0x19f293[_0x3cc87e(0x525)]});}const _0x15baa5=_0x137c64[_0x3cc87e(0xa32)](_0x2d0bb6=>_0x2d0bb6[_0x3cc87e(0x1e3)])[_0x3cc87e(0x711)],_0x3110ec=currentDisplayedQuiz[_0x3cc87e(0x9ab)]?.[_0x3cc87e(0x300)]??Math[_0x3cc87e(0x7b6)](_0x913d03/0x2);_0x15baa5===_0x913d03&&_0x913d03>0x0&&!currentDisplayedQuiz[_0x3cc87e(0x33c)]&&_0x5ee943['push'](BADGES[_0x3cc87e(0x29c)]['id']);const _0x3b9726=currentDisplayedQuiz['settings']?.[_0x3cc87e(0x752)];if(_0x3b9726===_0x3cc87e(0x444)&&quizStartTime){const _0x2a0703=(new Date()-quizStartTime)/0x3e8,_0x5af96c=currentDisplayedQuiz['settings'][_0x3cc87e(0x5b5)]*0x3c;_0x15baa5>=_0x3110ec&&_0x2a0703<_0x5af96c/0x2&&_0x5ee943[_0x3cc87e(0xa09)](BADGES[_0x3cc87e(0x797)]['id']);}_0x160db5[_0x3cc87e(0x711)]===0x0&&_0x15baa5===_0x913d03&&_0x913d03>0x0&&_0x5ee943['push'](BADGES['FIRST_TRY_ACE']['id']);if(_0x160db5[_0x3cc87e(0x711)]>0x0){const _0x3c5139=_0x160db5[0x0]['score'];if(_0x3c5139<_0x3110ec&&_0x15baa5>=_0x3110ec){const _0xf2684c=_0x160db5['some'](_0x5cab84=>(_0x5cab84[_0x3cc87e(0x88b)]||[])[_0x3cc87e(0x1d1)](BADGES[_0x3cc87e(0x2b0)]['id']));!_0xf2684c&&_0x5ee943[_0x3cc87e(0xa09)](BADGES[_0x3cc87e(0x2b0)]['id']);}}_0x160db5[_0x3cc87e(0x711)]===0x4&&_0x5ee943[_0x3cc87e(0xa09)](BADGES[_0x3cc87e(0x756)]['id']);const _0x21565b=currentDisplayedQuiz['settings']['resultsDisplay'];if(currentMode===_0x3cc87e(0x76a)){handleResultDisplay(_0x21565b,_0x15baa5,_0x359440,_0x5ee943,_0x137c64,_0x913d03);return;}const _0x5bd027=currentQuizData['id'],_0x11c3ac=doc(db,'artifacts/'+appId+_0x3cc87e(0x60f)+_0x5bd027+'/submissions',currentStudentName);try{const _0x4a52b6=[..._0x160db5],_0x5cf345={'score':_0x15baa5,'points':_0x359440,'badges':Array[_0x3cc87e(0x4c8)](new Set(_0x5ee943)),'submittedAt':new Date()[_0x3cc87e(0xca0)](),'answers':_0x137c64};_0x4a52b6['push'](_0x5cf345);const _0x21f6c9=_0x160db5[_0x3cc87e(0x711)]===0x0?_0x15baa5:_0x160db5[0x0][_0x3cc87e(0x1ed)]||0x0,_0xc71939=Math['max'](..._0x4a52b6['map'](_0x15e0ad=>_0x15e0ad[_0x3cc87e(0x1ed)]));await setDoc(_0x11c3ac,{'studentName':currentStudentName,'totalQuestions':_0x913d03,'attempts':_0x4a52b6,'firstScore':_0x21f6c9,'bestScore':_0xc71939,'latestScore':_0x15baa5,'points':_0x359440,'latestSubmittedAt':_0x5cf345[_0x3cc87e(0x6f3)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x3cc87e(0x9f2)],currentStudentName),handleResultDisplay(_0x21565b,_0x15baa5,_0x359440,_0x5ee943,_0x137c64,_0x913d03);}catch(_0x3b29e3){console[_0x3cc87e(0x20d)](_0x3cc87e(0x70a),_0x3b29e3),showMessage(_0x3cc87e(0x396));}}async function updateStudentProfile(_0x4de7e9,_0x5b880e){const _0x1f4bd9=_0x57253e,_0x383a42=doc(db,_0x1f4bd9(0xc07)+appId+_0x1f4bd9(0x504)+_0x4de7e9+_0x1f4bd9(0x29d),_0x5b880e);try{const _0x47d1b5=query(collection(db,_0x1f4bd9(0xc07)+appId+'/public/data/quizzes'),where(_0x1f4bd9(0x9f2),'==',_0x4de7e9)),_0x5ef1b9=await getDocs(_0x47d1b5),_0x37e36c=new Map(_0x5ef1b9[_0x1f4bd9(0x69d)]['map'](_0x4baadf=>[_0x4baadf['id'],_0x4baadf[_0x1f4bd9(0x533)]()])),_0x26d189=Array[_0x1f4bd9(0x4c8)](_0x37e36c['keys']());await runTransaction(db,async _0x20d00c=>{const _0x1b2290=_0x1f4bd9;let _0x367503=0x0;const _0x3ac9fd={};let _0x19ae7d=!![],_0x67124c=0x0,_0x667937=0x0;for(const _0x2bedfc of _0x26d189){const _0x2a657b=_0x37e36c[_0x1b2290(0x54a)](_0x2bedfc),_0x1e1448=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x2bedfc+_0x1b2290(0x85c),_0x5b880e),_0x3f9c6c=await _0x20d00c[_0x1b2290(0x54a)](_0x1e1448);if(_0x3f9c6c[_0x1b2290(0xabe)]()){const _0x77e851=_0x3f9c6c['data'](),_0xf6d5a1=_0x77e851[_0x1b2290(0x620)]||[];if(_0xf6d5a1[_0x1b2290(0x711)]>0x0){const _0x1e1dea=_0xf6d5a1[_0x1b2290(0xb0f)]((_0x399efa,_0x5c5649)=>{const _0x259125=_0x1b2290;if(_0x5c5649[_0x259125(0x1ed)]>_0x399efa[_0x259125(0x1ed)])return _0x5c5649;if(_0x5c5649[_0x259125(0x1ed)]===_0x399efa[_0x259125(0x1ed)])return(_0x5c5649[_0x259125(0xa4e)]||0x0)>(_0x399efa[_0x259125(0xa4e)]||0x0)?_0x5c5649:_0x399efa;return _0x399efa;},{'score':-0x1,'points':-0x1});_0x1e1dea[_0x1b2290(0x1ed)]>-0x1&&(_0x367503+=_0x1e1dea[_0x1b2290(0xa4e)]||0x0,(_0x1e1dea[_0x1b2290(0x88b)]||[])['forEach'](_0xcdb416=>{_0x3ac9fd[_0xcdb416]=(_0x3ac9fd[_0xcdb416]||0x0)+0x1;}));}}if(_0x2a657b[_0x1b2290(0xc41)]!==_0x1b2290(0xb07)){_0x667937++;if(_0x3f9c6c[_0x1b2290(0xabe)]()){_0x67124c++;const _0xaa6727=_0x3f9c6c[_0x1b2290(0x533)]();_0xaa6727[_0x1b2290(0xadc)]!==_0xaa6727[_0x1b2290(0x85b)]&&(_0x19ae7d=![]);}else _0x19ae7d=![];}}_0x667937>0x0&&_0x67124c===_0x667937&&_0x19ae7d?_0x3ac9fd[_0x1b2290(0x1a3)]=0x1:_0x3ac9fd[_0x1b2290(0x1a3)]=0x0,_0x20d00c[_0x1b2290(0x8e8)](_0x383a42,{'studentName':_0x5b880e,'totalPoints':_0x367503,'unlockedBadges':Object[_0x1b2290(0x88e)](_0x3ac9fd)[_0x1b2290(0xa32)](_0x5522d0=>_0x3ac9fd[_0x5522d0]>0x0),'badgesCount':_0x3ac9fd},{'merge':!![]});});}catch(_0x6305bc){console[_0x1f4bd9(0x20d)](_0x1f4bd9(0xa24),_0x6305bc),showMessage(_0x1f4bd9(0x673));}}function startAdminTest(){const _0x4d62d5=_0x57253e;if(!currentQuizData){showMessage(_0x4d62d5(0x511));return;}let _0x5736ce=JSON[_0x4d62d5(0x8ef)](JSON[_0x4d62d5(0xb09)](currentQuizData));currentMode=_0x4d62d5(0x76a),currentStudentName=_0x4d62d5(0x9c0),adminView[_0x4d62d5(0x7f0)][_0x4d62d5(0x6e3)]('hidden'),studentView[_0x4d62d5(0x7f0)]['remove'](_0x4d62d5(0x9ac)),studentInitialView[_0x4d62d5(0x7f0)]['add'](_0x4d62d5(0x9ac)),studentNameSelectionView['classList'][_0x4d62d5(0x6e3)](_0x4d62d5(0x9ac)),studentResultArea[_0x4d62d5(0x7f0)][_0x4d62d5(0x6e3)](_0x4d62d5(0x9ac)),studentQuizArea[_0x4d62d5(0x7f0)][_0x4d62d5(0x4bd)](_0x4d62d5(0x9ac)),quizStartTime=new Date(),displayQuizForStudent(_0x5736ce);}function handleResultDisplay(_0x5f3937,_0x53d7ce,_0x5482d3,_0x37a7a5,_0x55eca7,_0x17a1d5){const _0x2b515b=_0x57253e;if(_0x5f3937===_0x2b515b(0xb44)){displaySubmissionConfirmation();return;}const _0x1b1b1d=currentDisplayedQuiz[_0x2b515b(0x9ab)]?.[_0x2b515b(0x300)]??Math[_0x2b515b(0x7b6)](_0x17a1d5/0x2),_0x1c9d6f=currentDisplayedQuiz[_0x2b515b(0x9ab)]?.['isAdaptive']??![],_0xa4e01=currentDisplayedQuiz['settings']?.['loopUntilPass']===!![],_0x250470=_0x53d7ce<_0x1b1b1d,_0x1b57ad=_0x5f3937==='half_mark_status'||_0x5f3937===_0x2b515b(0x392);if(_0xa4e01&&_0x250470&&!_0x1b57ad){_0x5f3937==='show_results_and_answers'?displayResultsWithAnswers(_0x53d7ce,_0x5482d3,_0x37a7a5,_0x55eca7,_0x17a1d5,!![]):displayLoopScreen(_0x53d7ce,_0x17a1d5,_0x5f3937);return;}if(_0x1c9d6f&&_0x250470){startAdaptiveFlow(_0x55eca7,_0x53d7ce,_0x17a1d5);return;}switch(_0x5f3937){case _0x2b515b(0x66a):displayResultsWithAnswers(_0x53d7ce,_0x5482d3,_0x37a7a5,_0x55eca7,_0x17a1d5);break;case _0x2b515b(0x1b9):displayResultsScoreOnly(_0x53d7ce,_0x5482d3,_0x37a7a5,_0x17a1d5);break;case _0x2b515b(0x296):displayPassFailOnly(_0x53d7ce,_0x17a1d5);break;case _0x2b515b(0xb78):displayHalfMarkResult(_0x53d7ce,_0x17a1d5);break;case _0x2b515b(0x392):displayPerfectScoreResult(_0x53d7ce,_0x17a1d5);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0xad2ce0){const _0x2283e4=_0x57253e;studentReadingArea['innerHTML']=_0x2283e4(0x683);const _0x283539=_0x2283e4(0x3a2)+_0xad2ce0+_0x2283e4(0x687)+simpleMathPrompt+_0x2283e4(0x3dc),_0x5b1943={'type':_0x2283e4(0xae5),'properties':{'questionText':{'type':_0x2283e4(0xbda)},'options':{'type':_0x2283e4(0x1d4),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2283e4(0x844)},'explanation':{'type':_0x2283e4(0xbda)}},'required':[_0x2283e4(0x525),_0x2283e4(0x6c2),'correctAnswerIndex',_0x2283e4(0x498)]},_0x329ea8={'type':_0x2283e4(0xae5),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2283e4(0x1d4),'items':_0x5b1943}},'required':[_0x2283e4(0xc41),_0x2283e4(0x962)]};try{const _0x1d3311=await callAnalysisApi(_0x283539,_0x329ea8);_0x1d3311[_0x2283e4(0x33c)]=!![],studentReadingArea[_0x2283e4(0x7f0)][_0x2283e4(0x6e3)](_0x2283e4(0x9ac));const _0x28778e={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x2283e4(0x66a)};_0x1d3311[_0x2283e4(0x9ab)]=_0x28778e,displayQuizForStudent(_0x1d3311);}catch(_0x4b5a0b){console[_0x2283e4(0x20d)]('Remedial\x20quiz\x20generation\x20failed:',_0x4b5a0b),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView('student');}}function displayPassFailOnly(_0x484659,_0x25cf00){const _0x4b6f21=_0x57253e,_0x35101d=currentDisplayedQuiz[_0x4b6f21(0x9ab)]?.[_0x4b6f21(0x300)]??-0x1,_0x161fbc=currentDisplayedQuiz[_0x4b6f21(0x33c)]===!![];let _0x23f47f='',_0x199156=![];if(_0x161fbc||_0x35101d!==-0x1){_0x199156=_0x161fbc?_0x484659===_0x25cf00:_0x484659>=_0x35101d;const _0x2c19ce=_0x199156?_0x4b6f21(0x35b):_0x4b6f21(0xb59),_0xa6f853=_0x199156?_0x4b6f21(0x4ca):_0x4b6f21(0x4e7);_0x23f47f=_0x4b6f21(0x267)+_0x2c19ce+'\x22>'+_0xa6f853+_0x4b6f21(0x39e);}else _0x23f47f='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x2fd746=_0x4b6f21(0x437)+currentStudentName+_0x4b6f21(0x4a0)+_0x23f47f+_0x4b6f21(0xb0b);studentResultArea[_0x4b6f21(0x2fe)]=_0x2fd746,studentResultArea[_0x4b6f21(0x7f0)][_0x4b6f21(0x4bd)]('hidden'),studentQuizArea[_0x4b6f21(0x7f0)][_0x4b6f21(0x6e3)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x199156});}function cancelAdminTest(){const _0x1b8f38=_0x57253e;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x1b8f38(0x713)](_0x1b8f38(0x445),handleFullscreenChange),document['removeEventListener'](_0x1b8f38(0x47f),handleVisibilityChange),currentMode=_0x1b8f38(0xa4b),studentView[_0x1b8f38(0x7f0)]['add'](_0x1b8f38(0x9ac)),adminView[_0x1b8f38(0x7f0)][_0x1b8f38(0x4bd)]('hidden'),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x1b8f38(0xb96));}function setupResultScreenBackButton(_0x309a02){const _0x17aa89=_0x57253e,_0x307937={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x309a02};if(_0x307937[_0x17aa89(0x47b)]){const _0x19c7d9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['insertAdjacentHTML'](_0x17aa89(0x758),_0x19c7d9),document[_0x17aa89(0x597)](_0x17aa89(0xbdc))[_0x17aa89(0x161)](_0x17aa89(0x82f),()=>{const _0x3e541a=_0x17aa89;studentResultArea[_0x3e541a(0x7f0)][_0x3e541a(0x6e3)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0xae6dd9=_0x17aa89(0x240),_0x3840ad=currentMode===_0x17aa89(0x76a),_0x5aa557=_0x3840ad?_0x17aa89(0x896):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x4a396a='';_0x307937[_0x17aa89(0x950)]&&(_0x4a396a+=_0x17aa89(0x44f));let _0x20a903=_0x307937[_0x17aa89(0x5cb)];_0x20a903===undefined&&(_0x20a903=_0x307937[_0x17aa89(0x1ed)]<_0x307937[_0x17aa89(0x85b)]);_0x20a903&&(_0x4a396a+=_0x17aa89(0x86e));_0x4a396a+=_0x17aa89(0xc74)+_0xae6dd9+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x5aa557+_0x17aa89(0xbee);const _0x3e35b5='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x4a396a+'</div>';studentResultArea['insertAdjacentHTML'](_0x17aa89(0x758),_0x3e35b5),studentResultArea[_0x17aa89(0x7b3)]('#view-rankings-btn')?.[_0x17aa89(0x161)](_0x17aa89(0x82f),handleShowStudentRankings);const _0x1554ee=studentResultArea[_0x17aa89(0x7b3)](_0x17aa89(0x453));_0x1554ee&&_0x1554ee[_0x17aa89(0x161)](_0x17aa89(0x82f),()=>{const _0x5f0348=_0x17aa89;studentResultArea[_0x5f0348(0x7f0)][_0x5f0348(0x6e3)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x17aa89(0x597)](_0xae6dd9)['addEventListener']('click',()=>{const _0x1344de=_0x17aa89;_0x3840ad?(currentMode=_0x1344de(0xa4b),studentView[_0x1344de(0x7f0)][_0x1344de(0x6e3)]('hidden'),adminView['classList'][_0x1344de(0x4bd)]('hidden'),showView(_0x1344de(0xb96))):(showView(_0x1344de(0xcab)),document[_0x1344de(0x597)](_0x1344de(0x403))['value']='');});}function displayResultsWithAnswers(_0xf63a86,_0x1ece4a,_0x4dd776,_0x37eb77,_0x3d1aa0,_0x3f162e=![]){const _0x582099=_0x57253e,_0x563042=_0x3d1aa0>0x0?_0xf63a86/_0x3d1aa0*0x64:0x0,_0x25857d=currentDisplayedQuiz[_0x582099(0x9ab)]?.[_0x582099(0x300)]??-0x1,_0x251cba=currentDisplayedQuiz[_0x582099(0x33c)]===!![];let _0x5dc078='';if(_0x251cba||_0x25857d!==-0x1){let _0x418abe=_0x251cba?_0xf63a86===_0x3d1aa0:_0xf63a86>=_0x25857d;const _0x33ffb7=_0x418abe?_0x582099(0x35b):'bg-red-100\x20text-red-800',_0x54628b=_0x418abe?_0x582099(0x4ca):_0x582099(0x4e7);_0x5dc078='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x33ffb7+'\x22>'+_0x54628b+_0x582099(0x686);}let _0x229e80='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x582099(0xa6a)+_0xf63a86+_0x582099(0x2c4)+_0x3d1aa0+_0x582099(0x6ab)+_0x5dc078+_0x582099(0x2e8)+_0x1ece4a+_0x582099(0x755)+_0x563042[_0x582099(0x30c)](0x0)+_0x582099(0xb3c);currentDisplayedQuiz[_0x582099(0x962)][_0x582099(0xb68)]((_0x1a7633,_0x3c3ddd)=>{const _0x515402=_0x582099,_0x5682fc=_0x37eb77[_0x3c3ddd],_0x26e820=_0x5682fc[_0x515402(0x137)],_0x5ce93b=_0x5682fc[_0x515402(0x1e3)],_0x2da5b6=_0x1a7633['questionType']||currentDisplayedQuiz[_0x515402(0x2b3)];_0x229e80+=_0x515402(0x66c)+(_0x5ce93b?_0x515402(0x346):_0x515402(0x7d6))+_0x515402(0x12b)+(_0x3c3ddd+0x1)+'.\x20'+(_0x1a7633['stem']||_0x1a7633[_0x515402(0x525)])+_0x515402(0xbf3);switch(_0x2da5b6){case _0x515402(0x22d):const _0x4fbe76=_0x26e820||'ไม่ได้ตอบ',_0x20ffba=_0x1a7633[_0x515402(0x2a6)];_0x229e80+=_0x515402(0x9d5)+(!_0x5ce93b?_0x515402(0x4d4):'')+'\x22>'+_0x4fbe76+'</span></p>';!_0x5ce93b&&(_0x229e80+=_0x515402(0x62e)+_0x20ffba+_0x515402(0x686));break;case _0x515402(0x733):_0x229e80+=_0x515402(0x39f)+(_0x26e820||_0x515402(0x1f2))+_0x515402(0x686),_0x229e80+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x1a7633[_0x515402(0x850)]+_0x515402(0x686);break;case'true_false':_0x229e80+=_0x515402(0xa82)+(_0x1a7633[_0x515402(0x75e)]===!![]?_0x515402(0x3a9):'')+'\x20'+(_0x26e820===_0x515402(0x36a)&&!_0x5ce93b?_0x515402(0x4d4):'')+_0x515402(0x793),_0x229e80+='<p\x20class=\x22'+(_0x1a7633[_0x515402(0x75e)]===![]?_0x515402(0x3a9):'')+'\x20'+(_0x26e820===_0x515402(0x887)&&!_0x5ce93b?_0x515402(0x4d4):'')+'\x22>ไม่ใช่</p>';break;default:_0x229e80+=_0x1a7633[_0x515402(0x6c2)]['map']((_0x465768,_0x5778ae)=>{const _0x4db02d=_0x515402;let _0x308e43='',_0x4ca1fc='';if(_0x5778ae===_0x1a7633['correctAnswerIndex'])_0x308e43=_0x4db02d(0x3a9),_0x4ca1fc=_0x4db02d(0x79c);else _0x5778ae===_0x26e820&&(_0x308e43=_0x4db02d(0xbd6),_0x4ca1fc=_0x4db02d(0x1cd));return _0x4db02d(0x1c4)+_0x308e43+'\x22>'+_0x4ca1fc+_0x465768+_0x4db02d(0x519);})[_0x515402(0x552)]('');break;}_0x229e80+=_0x515402(0x61a)+(_0x1a7633[_0x515402(0x498)]||_0x515402(0x522))+'</div>';if(!_0x5ce93b){const _0x28d26c=_0x1a7633['stem']||_0x1a7633[_0x515402(0x525)];_0x229e80+=_0x515402(0x3e1)+escape(_0x28d26c)+_0x515402(0x464);}_0x229e80+=_0x515402(0x519);}),studentResultArea[_0x582099(0x2fe)]=_0x229e80,renderEarnedBadges(_0x4dd776,_0x582099(0x536)),studentResultArea[_0x582099(0x7f0)][_0x582099(0x4bd)](_0x582099(0x9ac)),studentQuizArea[_0x582099(0x7f0)][_0x582099(0x6e3)](_0x582099(0x9ac)),setupResultScreenBackButton({'isLooping':_0x3f162e,'score':_0xf63a86,'totalQuestions':_0x3d1aa0,'showRankings':!![]});if(window[_0x582099(0x2e3)])window[_0x582099(0x2e3)][_0x582099(0x4b8)]([studentResultArea]);}function displayResultsScoreOnly(_0x114d34,_0x2b53ba,_0x951516,_0x272ea5){const _0x52da31=_0x57253e,_0x28583e=_0x272ea5>0x0?_0x114d34/_0x272ea5*0x64:0x0,_0x5c50b7=currentDisplayedQuiz[_0x52da31(0x9ab)]?.[_0x52da31(0x300)]??-0x1,_0x4c7fcc=currentDisplayedQuiz[_0x52da31(0x33c)]===!![];let _0x10a1c7='';if(_0x4c7fcc||_0x5c50b7!==-0x1){let _0x4329b8=_0x4c7fcc?_0x114d34===_0x272ea5:_0x114d34>=_0x5c50b7;const _0x2508cb=_0x4329b8?_0x52da31(0x35b):_0x52da31(0xb59),_0x4d7af1=_0x4329b8?_0x52da31(0x4ca):_0x52da31(0x4e7);_0x10a1c7=_0x52da31(0x8c0)+_0x2508cb+'\x22>'+_0x4d7af1+_0x52da31(0x686);}let _0x5be5f4=_0x52da31(0x437)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x114d34+_0x52da31(0x332)+_0x272ea5+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10a1c7+_0x52da31(0x2e8)+_0x2b53ba+_0x52da31(0x54c)+_0x28583e[_0x52da31(0x30c)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x5be5f4,renderEarnedBadges(_0x951516,_0x52da31(0x536)),studentResultArea[_0x52da31(0x7f0)][_0x52da31(0x4bd)](_0x52da31(0x9ac)),studentQuizArea[_0x52da31(0x7f0)]['add'](_0x52da31(0x9ac)),setupResultScreenBackButton({'score':_0x114d34,'totalQuestions':_0x272ea5,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x11c19f=_0x57253e;let _0x5ce578=_0x11c19f(0x318)+currentStudentName+_0x11c19f(0xbd1);studentResultArea[_0x11c19f(0x2fe)]=_0x5ce578,studentResultArea[_0x11c19f(0x7f0)][_0x11c19f(0x4bd)](_0x11c19f(0x9ac)),studentQuizArea['classList'][_0x11c19f(0x6e3)](_0x11c19f(0x9ac)),document[_0x11c19f(0x597)](_0x11c19f(0x304))[_0x11c19f(0x161)](_0x11c19f(0x82f),()=>{const _0x3a735c=_0x11c19f;showView(_0x3a735c(0xcab)),document[_0x3a735c(0x597)](_0x3a735c(0x403))['value']='';});}function renderEarnedBadges(_0xbf83d1,_0x1d803b){const _0xa81a44=_0x57253e,_0xdec3db=document[_0xa81a44(0x597)](_0x1d803b);if(!_0xdec3db||!_0xbf83d1||_0xbf83d1[_0xa81a44(0x711)]===0x0)return;let _0x4c4298='';_0xbf83d1[_0xa81a44(0xb68)]((_0x283cba,_0x3607bd)=>{const _0x8dbaa9=_0xa81a44,_0x1854ba=Object[_0x8dbaa9(0x9d8)](BADGES)[_0x8dbaa9(0x1bc)](_0x3be7a8=>_0x3be7a8['id']===_0x283cba);_0x1854ba&&(_0x4c4298+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x3607bd*0.2+'s;\x22\x20title=\x22'+_0x1854ba[_0x8dbaa9(0x9f8)]+_0x8dbaa9(0xaf4)+_0x1854ba[_0x8dbaa9(0xc9e)]+_0x8dbaa9(0x61c)+_0x1854ba['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0xdec3db[_0xa81a44(0x2fe)]=_0x4c4298;}function startPresentation(_0x1a0a24){const _0x20be11=_0x57253e;currentQuizData=getShuffledQuiz(_0x1a0a24),currentPresentationSlide=0x0,presentationModal[_0x20be11(0x819)][_0x20be11(0x645)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x2ed26c=_0x57253e;document[_0x2ed26c(0x2ff)]&&document['exitFullscreen'](),presentationModal[_0x2ed26c(0x819)][_0x2ed26c(0x645)]=_0x2ed26c(0x880);}function renderPresentationSlide(_0x443c03){const _0x561a95=_0x57253e,_0x34daac=document['getElementById']('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x561a95(0x962)]||!currentQuizData[_0x561a95(0x962)][_0x443c03]){_0x34daac['innerHTML']=_0x561a95(0x3db);return;}const _0x131cc4=currentQuizData[_0x561a95(0x962)][_0x443c03],_0x2e2874=_0x131cc4[_0x561a95(0x2a9)]||currentQuizData[_0x561a95(0x2b3)];_0x34daac[_0x561a95(0x2fe)]='';let _0x3a8bc1=_0x561a95(0x21d)+(_0x131cc4[_0x561a95(0x415)]?_0x561a95(0x718)+_0x131cc4['imageCode']+_0x561a95(0x519):'')+_0x561a95(0xb8e)+(_0x443c03+0x1)+'.\x20'+(_0x131cc4['stem']||_0x131cc4[_0x561a95(0x525)])+_0x561a95(0xa23);switch(_0x2e2874){case'matching_item':_0x3a8bc1+=_0x131cc4[_0x561a95(0x8b0)]['map'](_0x5d439f=>_0x561a95(0x682)+_0x5d439f+_0x561a95(0x50c))[_0x561a95(0x552)]('');break;case _0x561a95(0xc6b):_0x3a8bc1+=_0x561a95(0x4da),_0x3a8bc1+=_0x561a95(0x1a9);break;case _0x561a95(0x3c3):case _0x561a95(0x733):_0x3a8bc1+=_0x561a95(0x3a4);break;case'fill_in_the_blank':case'multiple_choice':default:_0x3a8bc1+=_0x131cc4[_0x561a95(0x6c2)]['map']((_0xfa305c,_0x42a883)=>_0x561a95(0x8f5)+_0x42a883+_0x561a95(0x218)+_0xfa305c+_0x561a95(0x50c))[_0x561a95(0x552)]('');break;}_0x3a8bc1+=_0x561a95(0x59c)+(_0x131cc4[_0x561a95(0x498)]||_0x561a95(0x522))+_0x561a95(0x38d),_0x34daac[_0x561a95(0x2fe)]=_0x3a8bc1;if(window[_0x561a95(0x2e3)])window[_0x561a95(0x2e3)][_0x561a95(0x4b8)]([_0x34daac]);let _0x579253=[];switch(_0x2e2874){case _0x561a95(0x22d):_0x579253=_0x131cc4[_0x561a95(0x8b0)]||[];break;case _0x561a95(0xc6b):_0x579253=['ใช่',_0x561a95(0x2de)];break;default:_0x579253=_0x131cc4[_0x561a95(0x6c2)]||[];break;}const _0x270e74=document[_0x561a95(0x597)]('presentation-scratchpad-btn');_0x270e74&&(_0x270e74[_0x561a95(0x1f8)]=()=>{openScratchpad(_0x131cc4,_0x579253);});document[_0x561a95(0x40f)](_0x561a95(0x93d))[_0x561a95(0xb68)](_0x3f62dc=>{const _0x1ba107=_0x561a95;_0x3f62dc[_0x1ba107(0x161)](_0x1ba107(0x82f),_0x386217=>revealAnswerForPresentation(_0x443c03,_0x386217['currentTarget']));});const _0x32928c=document[_0x561a95(0x597)](_0x561a95(0x7cc));_0x32928c&&_0x32928c[_0x561a95(0x161)](_0x561a95(0x82f),()=>checkShortAnswerForPresentation(_0x443c03)),document[_0x561a95(0x597)](_0x561a95(0x51f))[_0x561a95(0x3a6)]='ข้อที่\x20'+(_0x443c03+0x1)+'\x20/\x20'+currentQuizData[_0x561a95(0x962)][_0x561a95(0x711)],document[_0x561a95(0x597)](_0x561a95(0x5f3))[_0x561a95(0x992)]=_0x443c03===0x0,document[_0x561a95(0x597)]('next-question-btn')[_0x561a95(0x992)]=_0x443c03===currentQuizData['questions'][_0x561a95(0x711)]-0x1;}async function checkShortAnswerForPresentation(_0xeae38d){const _0x5c7923=_0x57253e,_0x4f0fd1=currentQuizData[_0x5c7923(0x962)][_0xeae38d],_0x3aa259=document[_0x5c7923(0x597)](_0x5c7923(0x9a8)),_0x398b9b=document['getElementById']('check-presentation-answer-btn'),_0x3f180d=document[_0x5c7923(0x597)](_0x5c7923(0x3ea)),_0x50766f=document[_0x5c7923(0x597)](_0x5c7923(0x7e3));if(!_0x3aa259||!_0x398b9b||!_0x3f180d||!_0x50766f)return;const _0x1bcb2c=_0x3aa259['value'][_0x5c7923(0x365)]();if(_0x1bcb2c==='')return;_0x398b9b[_0x5c7923(0x992)]=!![],_0x398b9b[_0x5c7923(0x2fe)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x3aa259['disabled']=!![];const _0x3ea6a8=await gradeShortAnswer(_0x1bcb2c,_0x4f0fd1);_0x3ea6a8?_0x3f180d[_0x5c7923(0x2fe)]=_0x5c7923(0x8fe):_0x3f180d[_0x5c7923(0x2fe)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x4f0fd1[_0x5c7923(0x850)]+')',_0x3f180d[_0x5c7923(0x7f0)]['remove'](_0x5c7923(0x9ac)),_0x50766f['classList']['remove'](_0x5c7923(0x9ac)),_0x398b9b[_0x5c7923(0x7f0)]['add'](_0x5c7923(0x9ac));}function revealAnswerForPresentation(_0x11a1e0,_0x4dc8a2){const _0x153d3d=_0x57253e,_0x5c1086=currentQuizData[_0x153d3d(0x962)][_0x11a1e0],_0x6e9065=_0x5c1086[_0x153d3d(0x2a9)]||currentQuizData[_0x153d3d(0x2b3)];document[_0x153d3d(0x40f)](_0x153d3d(0x93d))[_0x153d3d(0xb68)](_0xe4f0a1=>{const _0x5ab7f0=_0x153d3d;_0xe4f0a1[_0x5ab7f0(0x992)]=!![],_0xe4f0a1[_0x5ab7f0(0x7f0)]['remove'](_0x5ab7f0(0x2e7));let _0x10618e=![];if(_0x6e9065==='multiple_choice'||_0x6e9065==='fill_in_the_blank'){const _0x46a0a0=parseInt(_0xe4f0a1[_0x5ab7f0(0x7a0)][_0x5ab7f0(0xb75)]);_0x10618e=_0x46a0a0===_0x5c1086[_0x5ab7f0(0xacd)];}else{if(_0x6e9065==='true_false'){const _0x1b7019=_0xe4f0a1[_0x5ab7f0(0x7a0)][_0x5ab7f0(0x137)]===_0x5ab7f0(0x36a);_0x10618e=_0x1b7019===_0x5c1086[_0x5ab7f0(0x75e)];}else _0x6e9065===_0x5ab7f0(0x22d)&&(_0x10618e=_0xe4f0a1[_0x5ab7f0(0x3a6)][_0x5ab7f0(0x365)]()===_0x5c1086[_0x5ab7f0(0x2a6)]);}_0x10618e?_0xe4f0a1['classList']['add'](_0x5ab7f0(0x4c6),_0x5ab7f0(0x76b),_0x5ab7f0(0xb22)):_0xe4f0a1[_0x5ab7f0(0x7f0)][_0x5ab7f0(0x6e3)](_0x5ab7f0(0x5ad));}),_0x4dc8a2['classList'][_0x153d3d(0x4bd)](_0x153d3d(0x5ad));let _0x4dbbc5=![];if(_0x6e9065===_0x153d3d(0x8ea))_0x4dbbc5=parseInt(_0x4dc8a2[_0x153d3d(0x7a0)][_0x153d3d(0xb75)])===_0x5c1086[_0x153d3d(0xacd)];else{if(_0x6e9065===_0x153d3d(0xc6b))_0x4dbbc5=_0x4dc8a2['dataset'][_0x153d3d(0x137)]===_0x153d3d(0x36a)===_0x5c1086['correctAnswer'];else _0x6e9065==='matching_item'&&(_0x4dbbc5=_0x4dc8a2['textContent'][_0x153d3d(0x365)]()===_0x5c1086['correctResponse']);}!_0x4dbbc5&&_0x4dc8a2[_0x153d3d(0x7f0)][_0x153d3d(0x6e3)](_0x153d3d(0x542),_0x153d3d(0x76b),_0x153d3d(0x8c9)),document[_0x153d3d(0x597)](_0x153d3d(0x7e3))[_0x153d3d(0x7f0)][_0x153d3d(0x4bd)](_0x153d3d(0x9ac));}function startWholeQuizTimer(_0x3bc797){const _0x515567=_0x57253e,_0x2a96fd=document[_0x515567(0x597)](_0x515567(0x2b9));if(!_0x2a96fd)return;const _0x1ae339=Date[_0x515567(0xa1b)]()+_0x3bc797*0x3c*0x3e8;_0x2a96fd[_0x515567(0x2fe)]=_0x515567(0x49b);const _0x972de8=document['getElementById']('countdown-display');quizTimerInterval=setInterval(()=>{const _0x18abb5=_0x515567,_0x151823=_0x1ae339-Date['now']();if(_0x151823<=0x0)clearInterval(quizTimerInterval),_0x972de8[_0x18abb5(0x3a6)]=_0x18abb5(0x3bb),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x1bc7ed=Math['floor'](_0x151823/0x3e8/0x3c%0x3c)[_0x18abb5(0x2bf)]()[_0x18abb5(0x4b9)](0x2,'0'),_0x8cc542=Math[_0x18abb5(0x7b6)](_0x151823/0x3e8%0x3c)[_0x18abb5(0x2bf)]()['padStart'](0x2,'0');_0x972de8[_0x18abb5(0x3a6)]=_0x1bc7ed+':'+_0x8cc542;}},0x3e8);}function renderPerQuestionView(){const _0x262790=_0x57253e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x36ae3d=currentDisplayedQuiz[_0x262790(0x962)][currentQuestionIndex],_0x35693f=_0x36ae3d[_0x262790(0x2a9)]||currentDisplayedQuiz[_0x262790(0x2b3)],_0x157df5=currentDisplayedQuiz[_0x262790(0x9ab)]?.['isConfidenceScoringEnabled']===!![];let _0x38b854=_0x262790(0x96e)+(currentQuestionIndex+0x1)+_0x262790(0x386)+currentDisplayedQuiz[_0x262790(0x962)][_0x262790(0x711)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x262790(0x76a)?_0x262790(0x23c):'')+_0x262790(0x970)+currentDisplayedQuiz[_0x262790(0xc41)]+_0x262790(0x1a1);studentQuizArea['innerHTML']=_0x38b854;let _0x2a1ab0=_0x36ae3d[_0x262790(0x2d4)]||_0x36ae3d[_0x262790(0x525)];_0x36ae3d['imageCode']&&(_0x2a1ab0+=_0x262790(0x718)+_0x36ae3d[_0x262790(0x415)]+'</div>');let _0x13e440='';switch(_0x35693f){case'short_answer':case'fill_in_no_choices':_0x13e440=_0x262790(0x3c5);break;case'true_false':_0x13e440=_0x262790(0x823);break;case'matching_item':_0x13e440=_0x262790(0x941)+(_0x36ae3d['allResponses']||[])[_0x262790(0x9ca)](_0xcf18a=>_0x262790(0x15e)+_0xcf18a+'\x22>'+_0xcf18a+_0x262790(0x9ff))['join']('')+_0x262790(0xc95);break;default:_0x36ae3d[_0x262790(0x6c2)]&&(_0x13e440=_0x36ae3d[_0x262790(0x6c2)][_0x262790(0x9ca)]((_0x1f09aa,_0x3bca72)=>_0x262790(0x81a)+_0x3bca72+_0x262790(0x2aa)+_0x3bca72+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x3bca72+'\x22>'+_0x1f09aa+_0x262790(0x14f))[_0x262790(0x552)](''));break;}document[_0x262790(0x597)](_0x262790(0xafd))['innerHTML']=_0x2a1ab0,document[_0x262790(0x597)](_0x262790(0x79d))[_0x262790(0x2fe)]=_0x13e440;const _0x46897c=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x308cf8=currentDisplayedQuiz['settings']?.[_0x262790(0x59a)]||_0x262790(0x3d7);if(_0x46897c&&_0x308cf8===_0x262790(0x3d7)){const _0x4311d9=_0x262790(0xc42);studentQuizArea[_0x262790(0x7b3)](_0x262790(0x979))[_0x262790(0xbb9)](_0x262790(0x758),_0x4311d9);}studentQuizArea[_0x262790(0xbb9)]('beforeend',_0x262790(0x375)+(currentQuestionIndex===currentDisplayedQuiz[_0x262790(0x962)]['length']-0x1?_0x262790(0x16e):_0x262790(0x518))+_0x262790(0xa9f));currentMode===_0x262790(0x76a)&&document['getElementById'](_0x262790(0x33e))?.[_0x262790(0x161)](_0x262790(0x82f),cancelAdminTest);document['getElementById'](_0x262790(0x96c))[_0x262790(0x161)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x262790(0x2e3)])window['MathJax'][_0x262790(0x4b8)]([studentQuizArea]);currentDisplayedQuiz['settings']?.['timerMode']===_0x262790(0x169)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x51a12=_0x57253e,_0x4e58cb=currentDisplayedQuiz[_0x51a12(0x9ab)][_0x51a12(0x5b5)],_0x511b77=document['getElementById'](_0x51a12(0xb20));if(!_0x511b77)return;let _0x195a0d=_0x4e58cb;_0x511b77[_0x51a12(0x2fe)]=_0x51a12(0xac6)+_0x195a0d+_0x51a12(0x783);const _0x4d072d=document[_0x51a12(0x597)](_0x51a12(0xa49)),_0x192622=document[_0x51a12(0x597)](_0x51a12(0x58e));perQuestionTimerInterval=setInterval(()=>{const _0x1e5daf=_0x51a12;_0x195a0d--;const _0x181741=_0x195a0d/_0x4e58cb*0x64;_0x4d072d[_0x1e5daf(0x819)][_0x1e5daf(0x1b8)]=_0x181741+'%',_0x192622[_0x1e5daf(0x3a6)]=_0x195a0d,_0x195a0d<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x1e5daf(0x21f)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x33fc1c=![]){const _0x1b0a71=_0x57253e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x630c0a=null,_0x10cd7f=![];if(!_0x33fc1c){const _0x1d6b06=currentDisplayedQuiz[_0x1b0a71(0x962)][currentQuestionIndex],_0x5683bd=_0x1d6b06[_0x1b0a71(0x2a9)]||currentDisplayedQuiz[_0x1b0a71(0x2b3)];if(_0x5683bd===_0x1b0a71(0x733)||_0x5683bd===_0x1b0a71(0x3c3))_0x630c0a=document[_0x1b0a71(0x7b3)](_0x1b0a71(0x201))?.[_0x1b0a71(0x6f7)]['trim']()??'';else{if(_0x5683bd==='matching_item')_0x630c0a=document[_0x1b0a71(0x7b3)](_0x1b0a71(0xc43))?.[_0x1b0a71(0x6f7)]??'';else{const _0x2d728f=document[_0x1b0a71(0x7b3)](_0x1b0a71(0xb72));_0x2d728f&&(_0x630c0a=_0x2d728f[_0x1b0a71(0x6f7)]);}}if(_0x630c0a===null||_0x630c0a===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x59928f=currentDisplayedQuiz['settings']?.[_0x1b0a71(0x665)]===!![],_0x4cb748=currentDisplayedQuiz[_0x1b0a71(0x9ab)]?.[_0x1b0a71(0x59a)]||_0x1b0a71(0x3d7);if(_0x59928f&&_0x4cb748===_0x1b0a71(0xae3)){document['getElementById'](_0x1b0a71(0xb41))['dataset']['currentMode']=_0x1b0a71(0x579),document['getElementById'](_0x1b0a71(0x2cc))[_0x1b0a71(0x6f7)]=_0x630c0a,document[_0x1b0a71(0x597)]('confidence-modal')['classList']['remove'](_0x1b0a71(0x9ac));return;}const _0x10cb97=document[_0x1b0a71(0x597)](_0x1b0a71(0xc5b));_0x10cb97&&(_0x10cd7f=_0x10cb97[_0x1b0a71(0x641)]);}const _0x36e8f5={'answer':_0x630c0a,'wasConfident':_0x10cd7f};proceedToNextQuestion(_0x36e8f5);}async function finalizePerQuestionQuiz(){const _0x50b9a1=_0x57253e,_0xcf819e=currentDisplayedQuiz[_0x50b9a1(0x962)][_0x50b9a1(0x79f)](_0x45f4ce=>_0x45f4ce[_0x50b9a1(0x2a9)]===_0x50b9a1(0x733));_0xcf819e?showMessage(_0x50b9a1(0x4ec)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x446afd=currentQuizData['id'],_0xea48b5=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x446afd+_0x50b9a1(0x85c),currentStudentName),_0x182bcc=await getDoc(_0xea48b5),_0x2473c5=_0x182bcc['exists']()?_0x182bcc[_0x50b9a1(0x533)]():{},_0x371655=_0x2473c5[_0x50b9a1(0x620)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x371655);}function getResultsFilename(){const _0x3b036b=_0x57253e,_0x59fbb4=document[_0x3b036b(0x597)]('results-quiz-title')[_0x3b036b(0x3a6)][_0x3b036b(0x442)](/[^a-z0-9]/gi,'_')[_0x3b036b(0x6c8)]();return _0x3b036b(0x353)+(_0x59fbb4||'quiz');}function exportResultsAsImage(){const _0x55c8ce=_0x57253e,_0x1abd03=document['getElementById'](_0x55c8ce(0x1aa));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x1abd03)[_0x55c8ce(0x767)](_0x128067=>{const _0x41d771=_0x55c8ce,_0x32c5b2=document[_0x41d771(0x275)]('a');_0x32c5b2[_0x41d771(0x38e)]=getResultsFilename()+_0x41d771(0xaf7),_0x32c5b2[_0x41d771(0x91b)]=_0x128067[_0x41d771(0xa2c)]('image/png'),_0x32c5b2[_0x41d771(0x82f)](),messageModal['classList']['add'](_0x41d771(0x9ac));});}function exportResultsAsPDF(){const _0x21a75a=_0x57253e,{jsPDF:_0x41eea0}=window[_0x21a75a(0x902)],_0x2f850d=new _0x41eea0();_0x2f850d[_0x21a75a(0x940)](_0x21a75a(0x8a6),'normal'),_0x2f850d[_0x21a75a(0x9f0)]({'html':_0x21a75a(0xb2a)}),_0x2f850d[_0x21a75a(0xadb)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x5f22c6=_0x57253e,_0x2638bf=_0x5f22c6(0x1f6)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x5f22c6(0x495)+_0x5f22c6(0x18f),_0x262bcc=_0x5f22c6(0x80a),_0x31c717=_0x2638bf+document[_0x5f22c6(0x597)](_0x5f22c6(0x1aa))['innerHTML']+_0x262bcc,_0x38bf07='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x31c717),_0x6d98ba=document['createElement']('a');document[_0x5f22c6(0x93c)][_0x5f22c6(0x52c)](_0x6d98ba),_0x6d98ba['href']=_0x38bf07,_0x6d98ba[_0x5f22c6(0x38e)]=getResultsFilename()+_0x5f22c6(0x133),_0x6d98ba[_0x5f22c6(0x82f)](),document[_0x5f22c6(0x93c)][_0x5f22c6(0x14b)](_0x6d98ba);}function exportResultsAsExcel(){const _0xf7cba8=_0x57253e,_0x450930=document['getElementById'](_0xf7cba8(0xb27));let _0x13f5e6=[];for(let _0x64567e=0x0;_0x64567e<_0x450930[_0xf7cba8(0x946)][_0xf7cba8(0x711)];_0x64567e++){let _0x582148=[],_0x4095d0=_0x450930[_0xf7cba8(0x946)][_0x64567e][_0xf7cba8(0x40f)]('td,\x20th');for(let _0x46b1d6=0x0;_0x46b1d6<_0x4095d0[_0xf7cba8(0x711)];_0x46b1d6++){_0x582148[_0xf7cba8(0xa09)]('\x22'+_0x4095d0[_0x46b1d6]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x13f5e6['push'](_0x582148['join'](','));}const _0x19c73f=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x13f5e6[_0xf7cba8(0x552)]('\x0a')],{'type':_0xf7cba8(0xae8)}),_0xfc9b18=document['createElement']('a');_0xfc9b18[_0xf7cba8(0x91b)]=URL[_0xf7cba8(0xb46)](_0x19c73f),_0xfc9b18[_0xf7cba8(0x38e)]=getResultsFilename()+_0xf7cba8(0x661),_0xfc9b18[_0xf7cba8(0x82f)]();}function exportTableAsImage(_0x2aa199,_0x25ca33){const _0x514531=_0x57253e,_0xed1518=document[_0x514531(0x597)](_0x2aa199);if(!_0xed1518){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x514531(0x154)),html2canvas(_0xed1518)['then'](_0x77bfa7=>{const _0x432e89=_0x514531,_0x4fafea=document[_0x432e89(0x275)]('a');_0x4fafea[_0x432e89(0x38e)]=_0x25ca33+'.png',_0x4fafea[_0x432e89(0x91b)]=_0x77bfa7[_0x432e89(0xa2c)](_0x432e89(0x507)),_0x4fafea['click'](),messageModal[_0x432e89(0x7f0)]['add']('hidden');});}function exportTableAsPDF(_0x82310a,_0x106f78){const _0x2c9bb4=_0x57253e,{jsPDF:_0x2aea44}=window[_0x2c9bb4(0x902)],_0x3a5080=new _0x2aea44();_0x3a5080[_0x2c9bb4(0x940)](_0x2c9bb4(0x8a6),_0x2c9bb4(0xa70)),_0x3a5080[_0x2c9bb4(0x9f0)]({'html':'#'+_0x82310a}),_0x3a5080[_0x2c9bb4(0xadb)](_0x106f78+_0x2c9bb4(0x874));}function exportTableAsWord(_0x183dd8,_0x18f0e4){const _0x6496d6=_0x57253e,_0x438f72=document[_0x6496d6(0x597)](_0x183dd8);if(!_0x438f72){showMessage(_0x6496d6(0x794));return;}const _0x362f66='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x6496d6(0x27d)+_0x6496d6(0x495)+_0x6496d6(0x18f),_0xc6dd5e=_0x6496d6(0x80a),_0x432118=_0x362f66+_0x438f72[_0x6496d6(0x2fe)]+_0xc6dd5e,_0x42bb2b=_0x6496d6(0x87c)+encodeURIComponent(_0x432118),_0x5c66ff=document[_0x6496d6(0x275)]('a');document[_0x6496d6(0x93c)][_0x6496d6(0x52c)](_0x5c66ff),_0x5c66ff[_0x6496d6(0x91b)]=_0x42bb2b,_0x5c66ff[_0x6496d6(0x38e)]=_0x18f0e4+_0x6496d6(0x133),_0x5c66ff[_0x6496d6(0x82f)](),document['body']['removeChild'](_0x5c66ff);}function exportTableAsExcel(_0x536856,_0x1e40e4){const _0x109704=_0x57253e,_0x2cf630=document[_0x109704(0x597)](_0x536856);if(!_0x2cf630){showMessage(_0x109704(0x794));return;}let _0x5117e0=[];for(let _0x185c96=0x0;_0x185c96<_0x2cf630[_0x109704(0x946)][_0x109704(0x711)];_0x185c96++){let _0x3cad12=[],_0x3ad162=_0x2cf630[_0x109704(0x946)][_0x185c96]['querySelectorAll'](_0x109704(0x22e));for(let _0x53f0bc=0x0;_0x53f0bc<_0x3ad162['length'];_0x53f0bc++){_0x3cad12[_0x109704(0xa09)]('\x22'+_0x3ad162[_0x53f0bc]['innerText'][_0x109704(0x442)](/"/g,'\x22\x22')+'\x22');}_0x5117e0['push'](_0x3cad12[_0x109704(0x552)](','));}const _0x8e4c29=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5117e0['join']('\x0a')],{'type':_0x109704(0xae8)}),_0x421356=document[_0x109704(0x275)]('a');_0x421356[_0x109704(0x91b)]=URL[_0x109704(0xb46)](_0x8e4c29),_0x421356[_0x109704(0x38e)]=_0x1e40e4+_0x109704(0x661),_0x421356[_0x109704(0x82f)]();}function renderAnalytics(_0x3ed172,_0x3296f5){const _0x275af2=_0x57253e,_0x5deeb7=_0x3296f5[_0x275af2(0xa32)](_0x2c0cb9=>_0x2c0cb9['latestScore']!==undefined),_0x1ba885=currentProjectData['students'][_0x275af2(0x711)],_0x13386c=_0x5deeb7[_0x275af2(0x711)],_0x4c7230=_0x1ba885-_0x13386c,_0x15b0a4=_0x1ba885>0x0?_0x13386c/_0x1ba885*0x64:0x0,_0x1d6ec5=_0x5deeb7[_0x275af2(0x9ca)](_0xce61f4=>_0xce61f4[_0x275af2(0xb8b)]),_0x2e8cdc=_0x1d6ec5[_0x275af2(0x711)]>0x0?_0x1d6ec5['reduce']((_0x4084b8,_0x1af9d7)=>_0x4084b8+_0x1af9d7,0x0)/_0x1d6ec5['length']:0x0,_0x44fd66=_0x3ed172['questions'][_0x275af2(0x711)],_0x63300e=_0x44fd66>0x0?_0x2e8cdc/_0x44fd66*0x64:0x0,_0x25df58=calculateItemAnalysis(_0x3ed172,_0x5deeb7),_0x4bd027=calculateReliabilityKR20(_0x3ed172,_0x5deeb7,_0x25df58[_0x275af2(0xb70)]);let _0x42865='';if(_0x4bd027!==null){let _0x127e89='';if(_0x4bd027>=0.9)_0x127e89=_0x275af2(0x5a9);else{if(_0x4bd027>=0.8)_0x127e89=_0x275af2(0xb1d);else{if(_0x4bd027>=0.7)_0x127e89='ดี';else{if(_0x4bd027>=0.6)_0x127e89='พอใช้';else _0x127e89=_0x275af2(0x140);}}}_0x42865=_0x275af2(0xc78)+_0x4bd027[_0x275af2(0x30c)](0x2)+_0x275af2(0x571)+_0x127e89+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x2af23b=document[_0x275af2(0x597)]('analytics-summary-cards');_0x2af23b[_0x275af2(0x2fe)]=_0x275af2(0xb5b)+_0x15b0a4[_0x275af2(0x30c)](0x0)+_0x275af2(0x3f1)+_0x13386c+'/'+_0x1ba885+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x2e8cdc[_0x275af2(0x30c)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x63300e[_0x275af2(0x30c)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x1d6ec5[_0x275af2(0x711)]>0x0?Math['max'](..._0x1d6ec5):'N/A')+_0x275af2(0x8e6)+(_0x1d6ec5[_0x275af2(0x711)]>0x0?Math[_0x275af2(0xca8)](..._0x1d6ec5):_0x275af2(0x321))+_0x275af2(0xa39)+_0x42865+'\x0a\x20\x20\x20\x20';const _0x5d247a=document[_0x275af2(0x597)](_0x275af2(0xac1));_0x5d247a&&_0x5d247a[_0x275af2(0x4bd)]();const _0x1b47fc=_0x275af2(0x204);_0x2af23b[_0x275af2(0xbb9)](_0x275af2(0x976),_0x1b47fc);const _0x57f43b=currentProjectData[_0x275af2(0x88c)]||[];renderSubmissionChart(_0x13386c,_0x4c7230,_0x5deeb7,_0x57f43b),renderScoreDistributionChart(_0x5deeb7,_0x44fd66),renderQuestionAnalytics(_0x3ed172,_0x5deeb7,_0x57f43b),renderInterestingStats(_0x3ed172,_0x5deeb7);}async function handleExportLessonPDF(){const _0x5079ab=_0x57253e,_0x483734=document[_0x5079ab(0x597)]('lesson-plan-content'),_0x17a45f=document[_0x5079ab(0x597)]('lesson-plan-title')['textContent'],_0x17058e=window[_0x5079ab(0xc9c)]('','_blank'),_0x1ead84=_0x5079ab(0xc5f)+_0x17a45f+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x483734[_0x5079ab(0x2fe)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x17058e[_0x5079ab(0x691)]['write'](_0x1ead84),_0x17058e[_0x5079ab(0x691)]['close'](),_0x17058e[_0x5079ab(0xc68)]=function(){setTimeout(()=>{_0x17058e['print']();},0x5dc);};}function renderInterestingStats(_0xe291db,_0xe62b62){const _0x4ad2cb=_0x57253e,_0x15fe17=document[_0x4ad2cb(0x597)](_0x4ad2cb(0x586));if(!_0x15fe17)return;if(_0xe62b62[_0x4ad2cb(0x711)]===0x0){_0x15fe17['innerHTML']='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x13ed63=_0xe291db[_0x4ad2cb(0x962)][_0x4ad2cb(0x9ca)]((_0x54d55d,_0x29b7ec)=>({'index':_0x29b7ec+0x1,'text':_0x54d55d[_0x4ad2cb(0x525)]||_0x54d55d['stem'],'correct':0x0}));_0xe62b62[_0x4ad2cb(0xb68)](_0x2fcf35=>{const _0x5903d9=_0x4ad2cb,_0x373842=_0x2fcf35['attempts'][_0x2fcf35[_0x5903d9(0x620)][_0x5903d9(0x711)]-0x1];_0x373842&&_0x373842['answers']&&_0x373842[_0x5903d9(0x5a2)][_0x5903d9(0xb68)](_0x17885c=>{const _0x2d0c63=_0x5903d9,_0xe1a706=_0x13ed63[_0x2d0c63(0x1bc)](_0x271f71=>_0x271f71['text']===_0x17885c[_0x2d0c63(0x602)]);_0x17885c['isCorrect']&&_0xe1a706&&_0xe1a706['correct']++;});});const _0x475084=_0xe62b62[_0x4ad2cb(0x711)],_0xd7d2a5=Math['max'](..._0x13ed63['map'](_0x267539=>_0x267539[_0x4ad2cb(0xb6f)])),_0x3f8bca=Math[_0x4ad2cb(0xca8)](..._0x13ed63[_0x4ad2cb(0x9ca)](_0x5213f4=>_0x5213f4[_0x4ad2cb(0xb6f)])),_0x4fe7f7=_0x13ed63[_0x4ad2cb(0xa32)](_0x39f0dc=>_0x39f0dc['correct']===_0xd7d2a5)[_0x4ad2cb(0x9ca)](_0x4929fa=>_0x4ad2cb(0xb66)+_0x4929fa[_0x4ad2cb(0xb75)]),_0x340732=_0x13ed63[_0x4ad2cb(0xa32)](_0x25ea1c=>_0x25ea1c[_0x4ad2cb(0xb6f)]===_0x3f8bca)[_0x4ad2cb(0x9ca)](_0x2c5651=>_0x4ad2cb(0xb66)+_0x2c5651['index']),_0x59f5a8=_0xe62b62[_0x4ad2cb(0x2d6)]((_0x1bc1b8,_0x3290d3)=>_0x3290d3[_0x4ad2cb(0xb8b)]-_0x1bc1b8[_0x4ad2cb(0xb8b)])[_0x4ad2cb(0xa32)]((_0x286ad8,_0x3adb70,_0x4ecaaf)=>_0x286ad8[_0x4ad2cb(0xb8b)]===_0x4ecaaf[0x0][_0x4ad2cb(0xb8b)]),_0x3e6dbe=_0xe62b62[_0x4ad2cb(0x2d6)]((_0x400d41,_0x25f8b4)=>_0x400d41[_0x4ad2cb(0xb8b)]-_0x25f8b4[_0x4ad2cb(0xb8b)])['filter']((_0x55825f,_0x58f3eb,_0x54195a)=>_0x55825f[_0x4ad2cb(0xb8b)]===_0x54195a[0x0][_0x4ad2cb(0xb8b)]),_0x42a9a5=_0x4ad2cb(0x2fa)+_0x4fe7f7[_0x4ad2cb(0x552)](',\x20')+_0x4ad2cb(0x657)+_0xd7d2a5+_0x4ad2cb(0x751)+_0x475084+_0x4ad2cb(0x193)+_0x340732[_0x4ad2cb(0x552)](',\x20')+_0x4ad2cb(0x657)+(_0x475084-_0x3f8bca)+'\x20/\x20'+_0x475084+_0x4ad2cb(0x451)+_0x59f5a8[_0x4ad2cb(0x9ca)](_0x2c0c77=>_0x2c0c77[_0x4ad2cb(0x4d7)])[_0x4ad2cb(0x552)](',\x20')+_0x4ad2cb(0xbcd)+_0x59f5a8[0x0]['latestScore']+_0x4ad2cb(0x419)+_0x3e6dbe[_0x4ad2cb(0x9ca)](_0x3dd285=>_0x3dd285['studentName'])[_0x4ad2cb(0x552)](',\x20')+_0x4ad2cb(0xbcd)+_0x3e6dbe[0x0][_0x4ad2cb(0xb8b)]+_0x4ad2cb(0x214);_0x15fe17['innerHTML']=_0x42a9a5;}function renderSubmissionChart(_0x2780fe,_0x2a0caf,_0x284dbb,_0xf45b26){const _0x68ea3b=_0x57253e,_0x56954f=document[_0x68ea3b(0x597)](_0x68ea3b(0xa50))[_0x68ea3b(0x9e7)]('2d'),_0x518482=_0x284dbb[_0x68ea3b(0x9ca)](_0x368b7d=>_0x368b7d[_0x68ea3b(0x4d7)]),_0x38ed29=_0xf45b26['filter'](_0x377bd4=>!_0x518482[_0x68ea3b(0x1d1)](_0x377bd4));chartInstances['submission']&&chartInstances[_0x68ea3b(0x361)][_0x68ea3b(0x2ee)](),chartInstances[_0x68ea3b(0x361)]=new Chart(_0x56954f,{'type':_0x68ea3b(0x6ee),'data':{'labels':[_0x68ea3b(0x4a2),_0x68ea3b(0x53c)],'datasets':[{'data':[_0x2780fe,_0x2a0caf],'backgroundColor':[_0x68ea3b(0x378),_0x68ea3b(0x726)],'borderColor':[_0x68ea3b(0x5dc),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x68ea3b(0xa30)},'tooltip':{'callbacks':{'label':function(_0x55ed1b){const _0x5e8f82=_0x68ea3b;let _0x1baf81=_0x55ed1b[_0x5e8f82(0x96d)]||'';return _0x1baf81&&(_0x1baf81+=':\x20'),_0x1baf81+=_0x55ed1b['raw'],_0x1baf81;},'afterLabel':function(_0x3cf4a7){const _0x4c15a9=_0x68ea3b;let _0x42f3bc;return _0x3cf4a7[_0x4c15a9(0x7d1)]===0x0?_0x42f3bc=_0x518482:_0x42f3bc=_0x38ed29,_0x42f3bc[_0x4c15a9(0x711)]>0x0?_0x42f3bc['join']('\x0a'):_0x4c15a9(0x339);}}}}}});}function renderScoreDistributionChart(_0x36aeb9,_0xbc2ec2){const _0x26dcc0=_0x57253e,_0x60acb8=document['getElementById'](_0x26dcc0(0x3a7))[_0x26dcc0(0x9e7)]('2d'),_0x29d664={};for(let _0x4eb4aa=0x0;_0x4eb4aa<=_0xbc2ec2;_0x4eb4aa++){_0x29d664[_0x4eb4aa]=0x0;}_0x36aeb9[_0x26dcc0(0xb68)](_0x464de5=>{const _0x3c6701=_0x26dcc0;_0x29d664[_0x464de5[_0x3c6701(0xb8b)]]!==undefined&&_0x29d664[_0x464de5[_0x3c6701(0xb8b)]]++;}),chartInstances[_0x26dcc0(0x1ed)]&&chartInstances[_0x26dcc0(0x1ed)]['destroy'](),chartInstances[_0x26dcc0(0x1ed)]=new Chart(_0x60acb8,{'type':_0x26dcc0(0x3c7),'data':{'labels':Object[_0x26dcc0(0x88e)](_0x29d664),'datasets':[{'label':_0x26dcc0(0x3b8),'data':Object[_0x26dcc0(0x9d8)](_0x29d664),'backgroundColor':_0x26dcc0(0xaf0),'borderColor':_0x26dcc0(0x54f),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x666e9){const _0x4febf2=_0x26dcc0,_0x47966d=_0x666e9['label'],_0x1406db=_0x36aeb9[_0x4febf2(0xa32)](_0x276504=>_0x276504[_0x4febf2(0xb8b)]==_0x47966d)['map'](_0x2887a9=>_0x2887a9[_0x4febf2(0x4d7)]);return _0x1406db['length']>0x0?_0x1406db['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x2f4d7c,_0x541e2a,_0x2d64a2){const _0x37be85=_0x57253e,_0xf0aa82=document[_0x37be85(0x597)](_0x37be85(0x460));if(_0x2d64a2[_0x37be85(0x711)]===0x0){_0xf0aa82[_0x37be85(0x2fe)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0xd3d6f5=calculateItemAnalysis(_0x2f4d7c,_0x541e2a),_0x59cac0=calculateDistractorAnalysis(_0x2f4d7c,_0x541e2a);let _0x4074e4='';_0xd3d6f5[_0x37be85(0x2da)]&&(_0x4074e4=_0x37be85(0x647)+_0xd3d6f5[_0x37be85(0x2da)][_0x37be85(0xbbd)][_0x37be85(0x711)]+_0x37be85(0x38b)+_0xd3d6f5[_0x37be85(0x2da)][_0x37be85(0xbbd)][_0x37be85(0x9ca)](_0x2700c9=>_0x37be85(0x664)+_0x2700c9+_0x37be85(0x71a))[_0x37be85(0x552)]('')+_0x37be85(0x71c)+_0xd3d6f5['overallGroups'][_0x37be85(0x739)][_0x37be85(0x711)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd3d6f5[_0x37be85(0x2da)][_0x37be85(0x739)][_0x37be85(0x9ca)](_0x57e9b6=>_0x37be85(0x664)+_0x57e9b6+_0x37be85(0x71a))[_0x37be85(0x552)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0xbd0d60='';const _0x28a0f4=_0x541e2a[_0x37be85(0x9ca)](_0x40f71f=>_0x40f71f['studentName']),_0x5f01ab=_0xa15fe4=>{const _0x47e115=_0x37be85;if(_0xa15fe4>=0.8)return _0x47e115(0x83e);if(_0xa15fe4>=0.6)return _0x47e115(0x46f);if(_0xa15fe4>=0.4)return _0x47e115(0x66e);if(_0xa15fe4>=0.2)return _0x47e115(0x31e);return _0x47e115(0x60a);},_0x49ff1c=_0x5bf971=>{const _0x3e6355=_0x37be85;if(_0x5bf971<0x0)return _0x3e6355(0x4ab);if(_0x5bf971>=0.4)return _0x3e6355(0x599);if(_0x5bf971>=0.3)return _0x3e6355(0x596);if(_0x5bf971>=0.2)return _0x3e6355(0x63c);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x3cfec7=_0x4363e6=>{const _0x392ce8=_0x37be85,_0x253603=_0x4363e6['toFixed'](0x0);if(parseFloat(_0x253603)===0x64)return _0x392ce8(0x357)+_0x253603+_0x392ce8(0xc8a);if(_0x4363e6>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x253603+_0x392ce8(0xc8a);return _0x392ce8(0x712)+_0x253603+_0x392ce8(0xc8a);};_0x2f4d7c[_0x37be85(0x962)][_0x37be85(0xb68)]((_0x1b18d9,_0x496338)=>{const _0x79665c=_0x37be85,_0x4427ad=_0xd3d6f5[_0x79665c(0xb70)][_0x496338],_0x42c3f0=_0x59cac0[_0x496338],_0x4c640d=_0x1b18d9[_0x79665c(0x2d4)]||_0x1b18d9[_0x79665c(0x525)]||_0x1b18d9[_0x79665c(0x440)];let _0x50ddb7=0x0;const _0x4f7b74=[],_0x8e00ef=[];_0x541e2a['forEach'](_0x36afa8=>{const _0x24196c=_0x79665c,_0x2f1e84=_0x36afa8[_0x24196c(0x620)][_0x36afa8[_0x24196c(0x620)]['length']-0x1];if(_0x2f1e84&&_0x2f1e84[_0x24196c(0x5a2)]){const _0x252902=_0x2f1e84[_0x24196c(0x5a2)][_0x24196c(0x1bc)](_0x433a9c=>_0x433a9c[_0x24196c(0x602)]===_0x4c640d)??_0x2f1e84[_0x24196c(0x5a2)][_0x496338]??null;_0x252902&&(_0x252902[_0x24196c(0x1e3)]?(_0x50ddb7++,_0x4f7b74[_0x24196c(0xa09)](_0x36afa8['studentName'])):_0x8e00ef[_0x24196c(0xa09)](_0x36afa8[_0x24196c(0x4d7)]));}});const _0x23fd35=_0x541e2a[_0x79665c(0x711)]>0x0?_0x50ddb7/_0x541e2a[_0x79665c(0x711)]*0x64:0x0,_0x2d260c=_0x2d64a2[_0x79665c(0xa32)](_0x556137=>!_0x28a0f4[_0x79665c(0x1d1)](_0x556137)),_0x126dcb=_0x4427ad?_0x79665c(0x68c)+_0x4427ad['p'][_0x79665c(0x30c)](0x2)+'</p><div>'+_0x5f01ab(_0x4427ad['p'])+_0x79665c(0x6ba)+_0x4427ad['r'][_0x79665c(0x30c)](0x2)+_0x79665c(0x22b)+_0x49ff1c(_0x4427ad['r'])+_0x79665c(0x73f)+_0x3cfec7(_0x23fd35)+_0x79665c(0x4f2):'';let _0x5c5962='';_0x42c3f0&&(_0x5c5962=_0x79665c(0xc89)+Object[_0x79665c(0x88e)](_0x42c3f0)[_0x79665c(0x9ca)](_0x16ad90=>{const _0x37a5ca=_0x79665c,_0x2c1d06=_0x42c3f0[_0x16ad90],_0x10947c=parseInt(_0x16ad90)===_0x1b18d9[_0x37a5ca(0xacd)],_0x3af6bf=!_0x10947c&&_0x2c1d06[_0x37a5ca(0x89d)]>_0x2c1d06['upper_group_count'];return _0x37a5ca(0xc71)+(_0x10947c?'bg-green-100\x20font-bold':'')+_0x37a5ca(0x293)+(_0x10947c?'✔\x20':'')+_0x2c1d06[_0x37a5ca(0x71d)]+_0x37a5ca(0x650)+_0x2c1d06['upper_group_count']+_0x37a5ca(0x650)+_0x2c1d06['lower_group_count']+'\x20'+(_0x3af6bf?'👍':'')+_0x37a5ca(0x650)+_0x2c1d06[_0x37a5ca(0xc32)]+_0x37a5ca(0x7ca);})[_0x79665c(0x552)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0xbcbaec='';_0x4427ad&&_0x4427ad[_0x79665c(0xb76)]&&(_0xbcbaec='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x4427ad[_0x79665c(0xb76)][_0x79665c(0x711)]+_0x79665c(0x7b5)+_0x4427ad[_0x79665c(0xb76)][_0x79665c(0x9ca)](_0x5c8c45=>_0x79665c(0x664)+(_0x5c8c45[_0x79665c(0x1e3)]?_0x79665c(0x10f):_0x79665c(0x126))+'\x20'+_0x5c8c45[_0x79665c(0x309)]+'</li>')[_0x79665c(0x552)]('')+_0x79665c(0xaaa)+_0x4427ad['lowerGroupResponders'][_0x79665c(0x711)]+_0x79665c(0x7b5)+_0x4427ad[_0x79665c(0x150)][_0x79665c(0x9ca)](_0x3a4d20=>_0x79665c(0x664)+(_0x3a4d20[_0x79665c(0x1e3)]?_0x79665c(0x10f):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x3a4d20['name']+_0x79665c(0x71a))[_0x79665c(0x552)]('')+_0x79665c(0x1e6)),_0xbd0d60+=_0x79665c(0x8b6)+(_0x496338+0x1)+':\x20'+_0x4c640d+_0x79665c(0x4cc)+_0x126dcb+_0x79665c(0x51c)+_0x4c640d+_0x79665c(0x885)+_0x50ddb7+'\x20จาก\x20'+_0x541e2a[_0x79665c(0x711)]+_0x79665c(0xac2)+_0x23fd35[_0x79665c(0x30c)](0x0)+_0x79665c(0x6c3)+_0x4f7b74[_0x79665c(0x711)]+_0x79665c(0x253)+(_0x4f7b74['length']>0x0?_0x4f7b74[_0x79665c(0x552)](',\x20'):_0x79665c(0x339))+_0x79665c(0x512)+_0x8e00ef[_0x79665c(0x711)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x8e00ef[_0x79665c(0x711)]>0x0?_0x8e00ef[_0x79665c(0x552)](',\x20'):_0x79665c(0x339))+_0x79665c(0x87e)+_0x2d260c['length']+_0x79665c(0x253)+(_0x2d260c[_0x79665c(0x711)]>0x0?_0x2d260c[_0x79665c(0x552)](',\x20'):_0x79665c(0x339))+_0x79665c(0x667)+_0x5c5962+_0x79665c(0xb4e)+_0xbcbaec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xf0aa82[_0x37be85(0x2fe)]=_0x4074e4+_0xbd0d60;try{window[_0x37be85(0x2e3)]&&MathJax[_0x37be85(0x4b8)]&&MathJax[_0x37be85(0x4b8)]([_0xf0aa82]);}catch(_0x7e8a62){console[_0x37be85(0x20d)]('MathJax\x20typeset\x20error\x20(analytics):',_0x7e8a62);}}function calculateDistractorAnalysis(_0x4df6ec,_0xbc9372){const _0x41a9f1=_0x57253e,_0x1f5fac={};if(_0xbc9372[_0x41a9f1(0x711)]<0x2)return _0x1f5fac;const _0x201507=[..._0xbc9372][_0x41a9f1(0x2d6)]((_0x2c34dd,_0x2a745e)=>{const _0x83cb78=_0x41a9f1,_0x3ab619=_0x2a745e[_0x83cb78(0xb8b)]-_0x2c34dd['latestScore'];if(_0x3ab619!==0x0)return _0x3ab619;const _0x1ba043=_0x2c34dd[_0x83cb78(0x620)]?.[_0x83cb78(0x711)]||0x1,_0x232e91=_0x2a745e['attempts']?.[_0x83cb78(0x711)]||0x1,_0x4591b=_0x1ba043-_0x232e91;if(_0x4591b!==0x0)return _0x4591b;const _0x49d9a9=new Date(_0x2c34dd[_0x83cb78(0x72f)]),_0x55af84=new Date(_0x2a745e[_0x83cb78(0x72f)]),_0x3b3f89=_0x49d9a9-_0x55af84;if(_0x3b3f89!==0x0)return _0x3b3f89;return _0x2c34dd[_0x83cb78(0x4d7)][_0x83cb78(0x796)](_0x2a745e[_0x83cb78(0x4d7)],'th');}),_0x284996=_0x201507['length'],_0x371500=Math['max'](0x1,Math[_0x41a9f1(0x7b6)](_0x284996*0.33)),_0x5a3852=_0x201507[_0x41a9f1(0xa65)](0x0,_0x371500),_0x4e6cdd=_0x201507[_0x41a9f1(0xa65)](-_0x371500);return _0x4df6ec[_0x41a9f1(0x962)][_0x41a9f1(0xb68)]((_0x21c4be,_0x86e2a1)=>{const _0xd5cd=_0x41a9f1;if(_0x21c4be[_0xd5cd(0x2a9)]!=='multiple_choice'||!_0x21c4be['options'])return;const _0x1d2773=_0x21c4be[_0xd5cd(0x525)],_0x2efbc0={};_0x21c4be[_0xd5cd(0x6c2)][_0xd5cd(0xb68)]((_0x497c9d,_0x45f10e)=>{_0x2efbc0[_0x45f10e]={'text':_0x497c9d,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x201507['forEach'](_0x55f75b=>{const _0x108fb5=_0xd5cd,_0x5db206=_0x55f75b['attempts'][_0x55f75b[_0x108fb5(0x620)]['length']-0x1],_0x2a520c=_0x5db206[_0x108fb5(0x5a2)]['find'](_0x1b28d8=>_0x1b28d8['originalQuestionText']===_0x1d2773);if(_0x2a520c&&_0x2a520c['answer']!==null){const _0x25e2e7=_0x21c4be[_0x108fb5(0x6c2)][_0x108fb5(0x129)](_0x3a6345=>_0x3a6345===_0x2a520c[_0x108fb5(0x47d)]);_0x25e2e7!==-0x1&&_0x2efbc0[_0x25e2e7]&&(_0x2efbc0[_0x25e2e7][_0x108fb5(0xc32)]++,_0x5a3852[_0x108fb5(0x1d1)](_0x55f75b)&&_0x2efbc0[_0x25e2e7][_0x108fb5(0x7bb)]++,_0x4e6cdd[_0x108fb5(0x1d1)](_0x55f75b)&&_0x2efbc0[_0x25e2e7]['lower_group_count']++);}}),_0x1f5fac[_0x86e2a1]=_0x2efbc0;}),_0x1f5fac;}function calculateReliabilityKR20(_0x42f9ed,_0x1efff8,_0x26ed38){const _0x1493a4=_0x57253e,_0x5621ef=_0x42f9ed[_0x1493a4(0x962)][_0x1493a4(0x711)];if(_0x5621ef<0x2||_0x1efff8[_0x1493a4(0x711)]<0x2)return null;const _0x46bfd8=_0x1efff8[_0x1493a4(0x9ca)](_0x85dd9e=>_0x85dd9e['latestScore']),_0x274553=_0x46bfd8['reduce']((_0x3c427c,_0x36a8c4)=>_0x3c427c+_0x36a8c4,0x0)/_0x46bfd8['length'],_0x28d481=_0x46bfd8['map'](_0x28136b=>Math[_0x1493a4(0x3ab)](_0x28136b-_0x274553,0x2))[_0x1493a4(0xb0f)]((_0x6035d0,_0x58871d)=>_0x6035d0+_0x58871d,0x0)/_0x46bfd8['length'];if(_0x28d481===0x0)return null;let _0x40068a=0x0;for(let _0x18e392=0x0;_0x18e392<_0x5621ef;_0x18e392++){const _0x3d410c=_0x26ed38[_0x18e392]?.['p'];if(_0x3d410c===undefined)continue;const _0x36bbe6=0x1-_0x3d410c;_0x40068a+=_0x3d410c*_0x36bbe6;}if(_0x40068a===0x0)return null;const _0x33df36=_0x5621ef/(_0x5621ef-0x1)*(0x1-_0x40068a/_0x28d481);if(_0x33df36>0x1)return null;return _0x33df36;}async function handleAnalyzeClass(){const _0x47cdc6=_0x57253e;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x5e4b7d=collection(db,_0x47cdc6(0xc07)+appId+_0x47cdc6(0x60f)+currentQuizData['id']+_0x47cdc6(0x85c)),_0x19df84=await getDocs(_0x5e4b7d),_0xa946fc=_0x19df84[_0x47cdc6(0x69d)][_0x47cdc6(0x9ca)](_0x3172c2=>_0x3172c2[_0x47cdc6(0x533)]());if(_0xa946fc[_0x47cdc6(0x711)]<0x2){showMessage(_0x47cdc6(0x558));return;}const _0x33d174=document['getElementById']('strength-weakness-analysis-container');_0x33d174[_0x47cdc6(0x2fe)]=_0x47cdc6(0x62b),document['getElementById'](_0x47cdc6(0x468))['disabled']=!![];const _0x4368ec=_0xa946fc[_0x47cdc6(0x9ca)]((_0x525371,_0x4860c9)=>{const _0x649c3c=_0x47cdc6,_0x32d581=_0x525371['attempts'][_0x525371['attempts'][_0x649c3c(0x711)]-0x1];if(!_0x32d581)return'';return _0x649c3c(0x855)+(_0x4860c9+0x1)+'\x20('+_0x525371[_0x649c3c(0x4d7)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x32d581[_0x649c3c(0x1ed)]+'/'+_0x525371[_0x649c3c(0x85b)]+_0x649c3c(0x71b)+JSON[_0x649c3c(0xb09)](_0x32d581[_0x649c3c(0x5a2)])+_0x649c3c(0x45e);})[_0x47cdc6(0x552)](_0x47cdc6(0x8d4)),_0x1a79e6=_0x47cdc6(0x706)+currentQuizData[_0x47cdc6(0xc41)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON['stringify'](currentQuizData[_0x47cdc6(0x962)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4368ec+_0x47cdc6(0x778),_0x4f3086={'type':_0x47cdc6(0xae5),'properties':{'classStrengths':{'type':_0x47cdc6(0x1d4),'items':{'type':_0x47cdc6(0xbda)}},'classWeaknesses':{'type':_0x47cdc6(0x1d4),'items':{'type':_0x47cdc6(0xbda)}},'teacherSuggestions':{'type':_0x47cdc6(0x1d4),'items':{'type':_0x47cdc6(0xbda)}}},'required':['classStrengths',_0x47cdc6(0x6ca),_0x47cdc6(0x972)]};try{const _0x33c7c6=await callAnalysisApi(_0x1a79e6,_0x4f3086);displayClassAnalysis(_0x33c7c6);}catch(_0x535b7d){console[_0x47cdc6(0x20d)](_0x47cdc6(0x983),_0x535b7d),_0x33d174['innerHTML']='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x535b7d[_0x47cdc6(0x5f2)]+'</p></div>';}finally{document[_0x47cdc6(0x597)]('analyze-strengths-btn')[_0x47cdc6(0x992)]=![];}}function displayClassAnalysis(_0x49c04c){const _0x2b8933=_0x57253e,_0x46ba59=document[_0x2b8933(0x597)](_0x2b8933(0x3b9));if(!_0x49c04c){_0x46ba59[_0x2b8933(0x2fe)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x46ba59[_0x2b8933(0x2fe)]=_0x2b8933(0xa8a)+_0x49c04c[_0x2b8933(0x97b)][_0x2b8933(0x9ca)](_0x23c28e=>_0x2b8933(0x664)+_0x23c28e+'</li>')[_0x2b8933(0x552)]('')+_0x2b8933(0xad0)+_0x49c04c['classWeaknesses'][_0x2b8933(0x9ca)](_0x3114bf=>_0x2b8933(0x664)+_0x3114bf+_0x2b8933(0x71a))['join']('')+_0x2b8933(0xa54)+_0x49c04c[_0x2b8933(0x972)]['map'](_0x287207=>_0x2b8933(0x664)+_0x287207+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0xfb7959,_0x3205a8){const _0x365092=_0x57253e,_0x3ed954=_0x365092(0x69f)+_0xfb7959[_0x365092(0xc41)]+_0x365092(0x91d)+_0xfb7959[_0x365092(0xc41)]+_0x365092(0x9ae)+_0xfb7959[_0x365092(0x962)][_0x365092(0x9ca)]((_0x5d65df,_0x3c152b)=>_0x365092(0x8e1)+(_0x3c152b+0x1)+'.\x20'+_0x5d65df[_0x365092(0x525)]+_0x365092(0xa8b)+(_0x5d65df[_0x365092(0x415)]?_0x365092(0x176)+_0x5d65df[_0x365092(0x415)]+_0x365092(0x519):'')+_0x365092(0x883))[_0x365092(0x552)]('')+_0x365092(0x803);_0x3205a8[_0x365092(0x691)][_0x365092(0x246)](_0x3ed954),_0x3205a8[_0x365092(0x691)]['close'](),_0x3205a8['onload']=function(){setTimeout(()=>{const _0x4f511c=_0x4216;_0x3205a8[_0x4f511c(0x22f)]();},0x3e8);};}async function generateWorksheet(){const _0x120299=_0x57253e,_0xb7b135=document[_0x120299(0x597)](_0x120299(0x156))[_0x120299(0x6f7)][_0x120299(0x365)]();if(!_0xb7b135){showMessage(_0x120299(0x5f8));return;}const _0x1187d3=document[_0x120299(0x597)](_0x120299(0xb30))[_0x120299(0x641)],_0x115038=_0x1187d3?'':'คณิตศาสตร์',_0x25e6c9=window['open']('',_0x120299(0x16a));_0x25e6c9[_0x120299(0x691)][_0x120299(0x246)](_0x120299(0xc2b));const _0x4a4bc5=parseInt(document[_0x120299(0x597)](_0x120299(0x9db))[_0x120299(0x6f7)]),_0x39e19d=document[_0x120299(0x597)](_0x120299(0xb2d))[_0x120299(0x641)],_0x391ff8=_0x39e19d?_0x120299(0xc55):'',_0x44d8a5=_0x120299(0x20e)+_0x115038+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x4a4bc5+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0xb7b135+_0x120299(0x6fb)+_0x391ff8+_0x120299(0x971)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x5575ee={'type':'OBJECT','properties':{'topic':{'type':_0x120299(0xbda)},'questions':{'type':_0x120299(0x1d4),'items':{'type':_0x120299(0xae5),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x120299(0xbda)}},'required':[_0x120299(0x525)]}}},'required':[_0x120299(0xc41),_0x120299(0x962)]};document[_0x120299(0x597)](_0x120299(0x697))[_0x120299(0x3a6)]='',document[_0x120299(0x597)](_0x120299(0x5ab))[_0x120299(0x7f0)]['remove'](_0x120299(0x9ac)),document[_0x120299(0x597)](_0x120299(0x186))[_0x120299(0x7f0)]['remove'](_0x120299(0x9ac)),generateWorksheetBtn['disabled']=!![];try{const _0x5ef84d=await callAnalysisApi(_0x44d8a5,_0x5575ee);formatAndPrintWorksheet(_0x5ef84d,_0x25e6c9);}catch(_0x5db18b){console[_0x120299(0x20d)](_0x120299(0x3fd),_0x5db18b);if(_0x25e6c9)_0x25e6c9['close']();showMessage(_0x120299(0xa9d));}finally{document[_0x120299(0x597)](_0x120299(0x5ab))[_0x120299(0x7f0)][_0x120299(0x6e3)]('hidden'),document['getElementById'](_0x120299(0x186))['classList'][_0x120299(0x6e3)]('hidden'),generateWorksheetBtn[_0x120299(0x992)]=![];}}async function callAnalysisApi(_0x2e9817,_0x12e0ba){const _0x4bca29=_0x57253e,_0x26bc22={'contents':[{'role':'user','parts':[{'text':_0x2e9817}]}],'generationConfig':{'responseMimeType':_0x4bca29(0xb9d),'responseSchema':_0x12e0ba}},_0x3b0b45='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x2e7f48=_0x4bca29(0x6ac)+_0x3b0b45,_0x5e6616=await fetch(_0x2e7f48,{'method':'POST','headers':{'Content-Type':_0x4bca29(0xb9d)},'body':JSON[_0x4bca29(0xb09)](_0x26bc22)});if(!_0x5e6616['ok'])throw new Error(_0x4bca29(0x986)+_0x5e6616[_0x4bca29(0x9e6)]);const _0x2a9e5b=await _0x5e6616['json']();if(_0x2a9e5b[_0x4bca29(0x9d6)]?.[0x0]?.[_0x4bca29(0x4d0)]?.[_0x4bca29(0x730)]?.[0x0])return JSON[_0x4bca29(0x8ef)](_0x2a9e5b['candidates'][0x0][_0x4bca29(0x4d0)][_0x4bca29(0x730)][0x0]['text']);else{let _0x3697c8=_0x4bca29(0x5a3);if(_0x2a9e5b[_0x4bca29(0x15f)]?.[_0x4bca29(0x678)])_0x3697c8='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x2a9e5b[_0x4bca29(0x15f)][_0x4bca29(0x678)]+'.';else _0x2a9e5b[_0x4bca29(0x9d6)]?.[0x0]?.[_0x4bca29(0x11c)]&&_0x2a9e5b[_0x4bca29(0x9d6)][0x0][_0x4bca29(0x11c)]!==_0x4bca29(0xa87)&&(_0x3697c8=_0x4bca29(0x3be)+_0x2a9e5b[_0x4bca29(0x9d6)][0x0][_0x4bca29(0x11c)]+'.');console['error'](_0x3697c8,JSON['stringify'](_0x2a9e5b));throw new Error(_0x3697c8);}}async function handleStartSyncMode(_0x26b1ed,_0x151cf1=![]){const _0x45595f=_0x57253e,_0x3c68ac=allQuizzes['find'](_0x22748b=>_0x22748b['id']===_0x26b1ed)||allQuizzesGlobal[_0x45595f(0x1bc)](_0x25fd4f=>_0x25fd4f['id']===_0x26b1ed);if(!_0x3c68ac){showMessage(_0x45595f(0x64c));return;}currentQuizData=getShuffledQuiz(_0x3c68ac);const _0x1b090c=Math[_0x45595f(0x7b6)](0x3e8+Math[_0x45595f(0x373)]()*0x2328)[_0x45595f(0x2bf)]();try{const _0x534e8b=await addDoc(collection(db,_0x45595f(0xc07)+appId+'/public/data/syncGames'),{'quizId':_0x3c68ac['id'],'pin':_0x1b090c,'status':_0x45595f(0x537),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x151cf1,'players':{}});currentLiveGameId=_0x534e8b['id'],showView(_0x45595f(0x898)),renderSyncLobbyView(_0x1b090c,_0x3c68ac[_0x45595f(0xc41)]),listenForSyncGameUpdates();}catch(_0x20a385){console[_0x45595f(0x20d)]('Error\x20starting\x20sync\x20game:',_0x20a385),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x424354){const _0x3a3bd1=_0x57253e;if(!_0x424354||!_0x424354[_0x3a3bd1(0x5df)]||!_0x424354['players'])return _0x424354['players']||{};const _0x7155ca=_0x424354[_0x3a3bd1(0x5df)][_0x3a3bd1(0x962)][_0x3a3bd1(0x711)],_0x3e7321=JSON[_0x3a3bd1(0x8ef)](JSON[_0x3a3bd1(0xb09)](_0x424354[_0x3a3bd1(0xae4)]));return Object[_0x3a3bd1(0x9d8)](_0x3e7321)[_0x3a3bd1(0xb68)](_0x3c2ce1=>{const _0x45b556=_0x3a3bd1,_0x25c3d3=_0x3c2ce1['score'];let _0x51d4fa=_0x25c3d3,_0x4e91ec=0x0;_0x424354[_0x45b556(0x665)]&&_0x3c2ce1[_0x45b556(0x5a2)]&&_0x3c2ce1[_0x45b556(0x5a2)][_0x45b556(0xb68)](_0x199c71=>{const _0x13cba7=_0x45b556;if(_0x199c71[_0x13cba7(0x1e3)]&&(_0x199c71['wasConfident']===!![]||_0x199c71[_0x13cba7(0x78a)]===_0x13cba7(0x3e2)))_0x4e91ec+=0x1;else!_0x199c71[_0x13cba7(0x1e3)]&&(_0x199c71[_0x13cba7(0x78a)]===!![]||_0x199c71['wasConfident']===_0x13cba7(0x3e2))&&(_0x4e91ec-=0x1);}),_0x51d4fa+=_0x4e91ec,_0x7155ca>0x0&&_0x25c3d3===_0x7155ca&&(_0x51d4fa+=0x1,_0x3c2ce1[_0x45b556(0x6a0)]=!![]),_0x3c2ce1[_0x45b556(0x1ed)]=_0x51d4fa;}),_0x3e7321;}function listenForSyncGameUpdates(){const _0x2fa1ee=_0x57253e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5cbbe2=doc(db,_0x2fa1ee(0xc07)+appId+_0x2fa1ee(0x539),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5cbbe2,_0xe1e798=>{const _0x3dcd3b=_0x2fa1ee;if(!_0xe1e798[_0x3dcd3b(0xabe)]()){sessionStorage[_0x3dcd3b(0x7dd)](_0x3dcd3b(0x503));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x3dcd3b(0xa4b)?showView('project-detail'):showView(_0x3dcd3b(0xcab));return;}const _0x4ca41a=_0xe1e798[_0x3dcd3b(0x533)]();currentMode==='admin'?updateAdminSyncView(_0x4ca41a):updateStudentSyncView(_0x4ca41a);});}function renderSyncLobbyView(_0x187813,_0x3785e3){const _0xea76ce=_0x57253e;liveGameView[_0xea76ce(0x2fe)]=_0xea76ce(0x37c)+_0x3785e3+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x187813+_0xea76ce(0x60c);const _0x1e9d92=document[_0xea76ce(0x597)](_0xea76ce(0x800)),_0x48f610=document[_0xea76ce(0x597)](_0xea76ce(0x12a));_0x1e9d92[_0xea76ce(0x161)](_0xea76ce(0xa7d),()=>{const _0x52466d=_0xea76ce;_0x48f610[_0x52466d(0x819)][_0x52466d(0x645)]=_0x1e9d92[_0x52466d(0x641)]?_0x52466d(0x16d):_0x52466d(0x880);}),document[_0xea76ce(0x597)](_0xea76ce(0xab3))['addEventListener']('click',async()=>{const _0x2347dd=_0xea76ce,_0x203dcd=doc(db,_0x2347dd(0xc07)+appId+'/public/data/syncGames',currentLiveGameId),_0x1a450c=document[_0x2347dd(0x597)](_0x2347dd(0x800))[_0x2347dd(0x641)];await updateDoc(_0x203dcd,{'status':_0x2347dd(0x308),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x1a450c});});}function updateAdminSyncView(_0x291aea){const _0x230d17=_0x57253e;switch(_0x291aea[_0x230d17(0x9e6)]){case _0x230d17(0x537):renderSyncLobbyView(_0x291aea['pin'],_0x291aea[_0x230d17(0x5df)][_0x230d17(0xc41)]);const _0x4221e9=Object[_0x230d17(0x174)](_0x291aea['players']||{})[_0x230d17(0xa32)](([_0xa19452,_0x5eaead])=>_0x5eaead[_0x230d17(0x9e6)]!==_0x230d17(0x544));document['getElementById'](_0x230d17(0xb02))[_0x230d17(0x3a6)]=_0x4221e9[_0x230d17(0x711)],document['getElementById'](_0x230d17(0x287))[_0x230d17(0x2fe)]=_0x4221e9[_0x230d17(0x9ca)](([_0x223eac,_0x19a64c])=>_0x230d17(0x49d)+_0x223eac+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x223eac+_0x230d17(0x3b0))['join']('')||_0x230d17(0x50f),document[_0x230d17(0x597)](_0x230d17(0xab3))[_0x230d17(0x992)]=_0x4221e9[_0x230d17(0x711)]===0x0;break;case _0x230d17(0x308):const _0x1f8649=Object['values'](_0x291aea[_0x230d17(0xae4)]||{})[_0x230d17(0xa32)](_0x511420=>_0x511420[_0x230d17(0x9e6)]!==_0x230d17(0x544)),_0x3c0b85=_0x1f8649['filter'](_0x3310e8=>_0x3310e8[_0x230d17(0x1ac)])[_0x230d17(0x711)],_0x5f2313=_0x3c0b85===_0x1f8649[_0x230d17(0x711)]&&_0x1f8649[_0x230d17(0x711)]>0x0;if(_0x5f2313&&_0x291aea[_0x230d17(0x9e6)]==='question'){const _0x367072=doc(db,_0x230d17(0xc07)+appId+_0x230d17(0x539),currentLiveGameId);updateDoc(_0x367072,{'status':_0x230d17(0x406)});}else{if(document[_0x230d17(0x597)](_0x230d17(0x72b))===null)renderAdminSyncQuestionView(_0x291aea);else{const _0x8a43b7=document[_0x230d17(0x597)](_0x230d17(0x78d));_0x8a43b7&&(_0x8a43b7['textContent']=_0x3c0b85+'/'+_0x1f8649[_0x230d17(0x711)]);const _0x2461f3=document[_0x230d17(0x597)](_0x230d17(0xb54));_0x2461f3&&(_0x2461f3['innerHTML']=_0x1f8649[_0x230d17(0x9ca)](_0x54801e=>{const _0x276a43=_0x230d17,_0x49e9e1=_0x54801e[_0x276a43(0x1ac)]?_0x276a43(0x4c6):_0x276a43(0xaa8),_0x5282df=_0x54801e['answered']?_0x276a43(0x573):_0x276a43(0x2e2);return _0x276a43(0x452)+_0x49e9e1+_0x276a43(0xba5)+_0x5282df+_0x276a43(0x172)+_0x54801e['name']+_0x276a43(0x283)+_0x54801e[_0x276a43(0x309)]+_0x276a43(0x461);})[_0x230d17(0x552)](''));}}break;case _0x230d17(0x406):const _0x112afe=_0x291aea[_0x230d17(0x2df)],_0x58a597=_0x291aea['shuffledQuiz']['questions'][_0x112afe];renderSyncSummaryView(_0x291aea,_0x58a597,!![]);break;case'results':renderAdminSyncDashboard(_0x291aea,!![]);break;case _0x230d17(0xb52):_0x291aea['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x291aea);sessionStorage[_0x230d17(0x7dd)](_0x230d17(0x503));const _0x1ac4cb=calculateFinalPodiumScores(_0x291aea);showPodiumView(_0x1ac4cb,_0x230d17(0xbf1));break;}}function renderAdminSyncQuestionView(_0x33c9d8){const _0x2cf008=_0x57253e,_0x433381=_0x33c9d8[_0x2cf008(0x2df)],_0x1114fa=_0x33c9d8[_0x2cf008(0x5df)]['questions'][_0x433381],_0x3c04df=_0x33c9d8[_0x2cf008(0x5df)][_0x2cf008(0x962)][_0x2cf008(0x711)],_0x2dc96a=Object['values'](_0x33c9d8['players']||{})['filter'](_0x456afa=>_0x456afa[_0x2cf008(0x9e6)]!==_0x2cf008(0x544)),_0x2a9388=_0x2dc96a[_0x2cf008(0xa32)](_0x3c3e40=>_0x3c3e40['answered'])[_0x2cf008(0x711)],_0x17d472=_0x2a9388===_0x2dc96a[_0x2cf008(0x711)]&&_0x2dc96a[_0x2cf008(0x711)]>0x0,_0x1bcbd2=(_0x1114fa['options']||[])['map'](_0x38e352=>_0x2cf008(0x7e4)+_0x38e352+_0x2cf008(0x519))[_0x2cf008(0x552)]('');liveGameView[_0x2cf008(0x2fe)]=_0x2cf008(0x9b3)+(_0x433381+0x1)+_0x2cf008(0x751)+_0x3c04df+_0x2cf008(0x341)+_0x2a9388+'/'+_0x2dc96a[_0x2cf008(0x711)]+_0x2cf008(0x9e5)+_0x1114fa[_0x2cf008(0x525)]+_0x2cf008(0x6b4)+_0x1bcbd2+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x17d472?_0x2cf008(0x992):'')+_0x2cf008(0xc40);if(window[_0x2cf008(0x2e3)])MathJax[_0x2cf008(0x4b8)]();document[_0x2cf008(0x597)](_0x2cf008(0x75a))['addEventListener'](_0x2cf008(0x82f),async()=>{const _0x2ffa2c=_0x2cf008,_0x24467d=doc(db,_0x2ffa2c(0xc07)+appId+_0x2ffa2c(0x539),currentLiveGameId);await updateDoc(_0x24467d,{'status':_0x2ffa2c(0xb25)});}),document[_0x2cf008(0x597)]('open-sync-scratchpad-btn')[_0x2cf008(0x1f8)]=()=>{const _0x5c9221=_0x2cf008;openScratchpad(_0x1114fa,_0x1114fa[_0x5c9221(0x6c2)]||[]);},document[_0x2cf008(0x597)](_0x2cf008(0x37d))['addEventListener'](_0x2cf008(0x82f),()=>{const _0x3f9e5d=_0x2cf008;document['getElementById'](_0x3f9e5d(0x72b))['classList'][_0x3f9e5d(0x8eb)](_0x3f9e5d(0x9ac));});}function renderSyncLeaderboardView(_0x3317ea,_0x13f13d){const _0x514fde=_0x57253e,_0x1b7a2d=Object[_0x514fde(0x9d8)](_0x3317ea[_0x514fde(0xae4)]||{});_0x1b7a2d['sort']((_0x3d0b2e,_0x562d8d)=>_0x562d8d[_0x514fde(0x1ed)]-_0x3d0b2e[_0x514fde(0x1ed)]);const _0x5cf2aa=_0x1b7a2d[_0x514fde(0xa65)](0x0,0x5);let _0x58af17='';if(_0x13f13d){const _0x16ad00=_0x3317ea[_0x514fde(0x2df)]>=_0x3317ea['shuffledQuiz']['questions'][_0x514fde(0x711)]-0x1;_0x58af17=_0x514fde(0x11e)+(_0x16ad00?'ดูผลสรุปสุดท้าย':_0x514fde(0x5a8))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0x58af17=_0x514fde(0x9e3);liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x5cf2aa[_0x514fde(0x9ca)]((_0x3ab83b,_0x2bdf3e)=>_0x514fde(0x33a)+(_0x2bdf3e+0x1)+'.\x20'+_0x3ab83b[_0x514fde(0x309)]+_0x514fde(0x15d)+_0x3ab83b[_0x514fde(0x1ed)]+_0x514fde(0x39e))[_0x514fde(0x552)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58af17+_0x514fde(0xb0b),_0x13f13d&&document[_0x514fde(0x597)](_0x514fde(0x8d2))[_0x514fde(0x161)](_0x514fde(0x82f),async()=>{const _0x1ce4fa=_0x514fde,_0x22af0c=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0xc348fc=_0x3317ea['currentQuestionIndex']+0x1;if(_0xc348fc<_0x3317ea[_0x1ce4fa(0x5df)][_0x1ce4fa(0x962)][_0x1ce4fa(0x711)]){const _0x556890={};Object[_0x1ce4fa(0x88e)](_0x3317ea[_0x1ce4fa(0xae4)])[_0x1ce4fa(0xb68)](_0x7736f8=>{const _0x5cd999=_0x1ce4fa;_0x556890['players.'+_0x7736f8+_0x5cd999(0x4fe)]=![];}),await updateDoc(_0x22af0c,{..._0x556890,'status':_0x1ce4fa(0x308),'currentQuestionIndex':_0xc348fc,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x22af0c,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x291dca=_0x57253e,_0x424036=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x424036||_0x424036['trim']()[_0x291dca(0x711)]!==0x2){showMessage(_0x291dca(0x831));return;}try{const _0x2acde6=collection(db,_0x291dca(0xc07)+appId+_0x291dca(0x539)),_0x132946=query(_0x2acde6,where(_0x291dca(0x198),'==',_0x424036[_0x291dca(0x365)]()),where(_0x291dca(0x9e6),'==',_0x291dca(0x537))),_0x370f57=await getDocs(_0x132946);if(_0x370f57[_0x291dca(0x30b)]){showMessage(_0x291dca(0x9ce));return;}const _0x797d83=_0x370f57[_0x291dca(0x69d)][0x0];currentLiveGameId=_0x797d83['id'];const _0x1f2b9e=_0x797d83[_0x291dca(0x533)](),_0xa38b0a=doc(db,_0x291dca(0xc07)+appId+_0x291dca(0x194),_0x1f2b9e[_0x291dca(0x7e0)]),_0xe2e865=await getDoc(_0xa38b0a);if(!_0xe2e865['exists']())throw new Error(_0x291dca(0xabf));const _0x329dac=_0xe2e865[_0x291dca(0x533)](),_0x37daa7=doc(db,_0x291dca(0xc07)+appId+'/public/data/projects',_0x329dac[_0x291dca(0x9f2)]),_0x18d712=await getDoc(_0x37daa7);if(!_0x18d712[_0x291dca(0xabe)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x1f2b9e['shuffledQuiz'];const _0x41acde=_0x18d712[_0x291dca(0x533)]();showView(_0x291dca(0x32e)),showTeamPlayerSelection(_0x41acde[_0x291dca(0x88c)],_0x329dac[_0x291dca(0xc41)]);const _0x434b1f=document['getElementById']('confirm-team-players-btn');_0x434b1f[_0x291dca(0x1f8)]=confirmAndJoinSyncGame;}catch(_0x26d0a6){console[_0x291dca(0x20d)](_0x291dca(0xc3f),_0x26d0a6),showMessage(_0x291dca(0x653)+_0x26d0a6[_0x291dca(0x5f2)]);}}function updateStudentSyncView(_0x23b953){const _0x103f60=_0x57253e,_0x25f325=_0x23b953[_0x103f60(0xae4)][localTeamPlayers[0x0]];switch(_0x23b953[_0x103f60(0x9e6)]){case _0x103f60(0x537):showView(_0x103f60(0x898)),liveGameView[_0x103f60(0x2fe)]=_0x103f60(0x2e9);break;case _0x103f60(0x308):const _0x405aa5=localTeamPlayers[_0x103f60(0xb11)](_0x5a74aa=>_0x23b953['players'][_0x5a74aa]?.[_0x103f60(0x1ac)]===!![]);_0x405aa5?liveGameView[_0x103f60(0x2fe)]=_0x103f60(0x232):renderStudentSyncQuestionView(_0x23b953);break;case _0x103f60(0x406):liveGameView[_0x103f60(0x2fe)]=_0x103f60(0x853);break;case _0x103f60(0xb25):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x23b953);break;case _0x103f60(0xb52):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x103f60(0x713)]('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0x103f60(0x47f),handleVisibilityChange),sessionStorage[_0x103f60(0x7dd)]('activeGameSession');const _0x5c9208=calculateFinalPodiumScores(_0x23b953);showPodiumView(_0x5c9208,_0x103f60(0xbf1));break;}}function renderStudentSyncResultsView(_0x1bfa1a){const _0x5721cf=_0x57253e,_0x1c38f8=localTeamPlayers[_0x5721cf(0x9ca)](_0x2aa7f3=>_0x1bfa1a['players'][_0x2aa7f3])['filter'](Boolean);_0x1c38f8[_0x5721cf(0x2d6)]((_0x4b95c2,_0x2ccb6a)=>(_0x2ccb6a[_0x5721cf(0x1ed)]||0x0)-(_0x4b95c2[_0x5721cf(0x1ed)]||0x0));const _0x416d86=_0x1bfa1a['currentQuestionIndex']>=_0x1bfa1a[_0x5721cf(0x5df)]['questions']['length']-0x1;let _0x107ff7='';_0x416d86?_0x107ff7=_0x5721cf(0x19a):_0x107ff7=_0x5721cf(0x658);const _0x45f2dc=_0x5721cf(0xa31)+_0x1c38f8[_0x5721cf(0x9ca)]((_0x332808,_0x42973f)=>_0x5721cf(0xc80)+(_0x42973f+0x1)+_0x5721cf(0x180)+_0x332808[_0x5721cf(0x309)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x332808['score']+_0x5721cf(0x2a8))['join']('')+_0x5721cf(0xc88)+_0x107ff7+_0x5721cf(0x337);liveGameView[_0x5721cf(0x2fe)]=_0x45f2dc;}function renderStudentSyncQuestionView(_0x13c209){const _0x1e4b4c=_0x57253e;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x13c209[_0x1e4b4c(0xae4)][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x3d74d9=localTeamPlayers[localPlayerTurnIndex];if(!_0x3d74d9)return;const _0xff542c=_0x13c209[_0x1e4b4c(0x2df)],_0x4e24a8=_0x13c209[_0x1e4b4c(0x5df)][_0x1e4b4c(0x962)][_0x1e4b4c(0x711)],_0x153923=_0x13c209[_0x1e4b4c(0x5df)][_0x1e4b4c(0x962)][_0xff542c],_0x148a7b=_0x153923[_0x1e4b4c(0x2a9)]||_0x13c209['shuffledQuiz'][_0x1e4b4c(0x2b3)];let _0x1377db='',_0x1dc980=![];switch(_0x148a7b){case _0x1e4b4c(0xc6b):_0x1377db=_0x1e4b4c(0xc48);break;case _0x1e4b4c(0x733):case'fill_in_no_choices':_0x1dc980=!![],_0x1377db=_0x1e4b4c(0xc20);break;case _0x1e4b4c(0x22d):_0x1dc980=!![],_0x1377db=_0x1e4b4c(0x840)+(_0x153923['allResponses']||[])[_0x1e4b4c(0x9ca)](_0x31bb22=>'<option\x20value=\x22'+_0x31bb22+'\x22>'+_0x31bb22+_0x1e4b4c(0x9ff))[_0x1e4b4c(0x552)]('')+_0x1e4b4c(0xa5b);break;case _0x1e4b4c(0x8ea):default:_0x1377db=(_0x153923['options']||[])[_0x1e4b4c(0x9ca)]((_0x1ce3b8,_0x59406b)=>_0x1e4b4c(0x6cb)+_0x59406b+_0x1e4b4c(0x1f1)+_0x1ce3b8+_0x1e4b4c(0xbee))[_0x1e4b4c(0x552)]('');break;}liveGameView[_0x1e4b4c(0x2fe)]=_0x1e4b4c(0x638)+(_0xff542c+0x1)+_0x1e4b4c(0x751)+_0x4e24a8+_0x1e4b4c(0xa75)+_0x3d74d9+_0x1e4b4c(0x753)+(_0x153923[_0x1e4b4c(0x525)]||_0x153923['stem'])+_0x1e4b4c(0xb32)+_0x1377db+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(window[_0x1e4b4c(0x2e3)])MathJax[_0x1e4b4c(0x4b8)]();function _0x2b4dfe(_0x193dd8,_0x50c41a,_0x3f4265,_0x3d4be6){const _0x1c863a=_0x1e4b4c,_0x1d467a=_0x3f4265[_0x1c863a(0x665)]===!![];if(_0x1d467a){document['getElementById'](_0x1c863a(0xb41))[_0x1c863a(0x7a0)][_0x1c863a(0x1db)]=_0x1c863a(0xbf1);const _0x41c1ab=document[_0x1c863a(0x597)](_0x1c863a(0x2cc));_0x41c1ab['dataset'][_0x1c863a(0x3cb)]=_0x193dd8,_0x41c1ab['dataset'][_0x1c863a(0x308)]=JSON[_0x1c863a(0xb09)](_0x50c41a),_0x41c1ab['dataset'][_0x1c863a(0x258)]=JSON['stringify'](_0x3f4265),_0x41c1ab[_0x1c863a(0x7a0)][_0x1c863a(0x268)]=_0x3d4be6,document[_0x1c863a(0x597)](_0x1c863a(0xb41))['classList'][_0x1c863a(0x4bd)](_0x1c863a(0x9ac));}else handleSyncAnswerSubmit(_0x193dd8,_0x50c41a,_0x3f4265,_0x3d4be6,![]);}_0x1dc980?document['getElementById'](_0x1e4b4c(0xb0a))[_0x1e4b4c(0x161)]('click',()=>{const _0x58af25=_0x1e4b4c,_0x2ed4c0=document['getElementById'](_0x58af25(0x700))||document[_0x58af25(0x597)](_0x58af25(0xb73));if(_0x2ed4c0[_0x58af25(0x6f7)][_0x58af25(0x365)]()===''){showMessage(_0x58af25(0xa5c));return;}_0x2b4dfe(_0x2ed4c0[_0x58af25(0x6f7)],_0x153923,_0x13c209,_0x3d74d9);}):document[_0x1e4b4c(0x40f)](_0x1e4b4c(0x672))[_0x1e4b4c(0xb68)](_0x2662f5=>{const _0x2b10af=_0x1e4b4c;_0x2662f5['addEventListener'](_0x2b10af(0x82f),()=>{const _0x4a36ee=_0x2b10af;_0x2b4dfe(_0x2662f5[_0x4a36ee(0x7a0)][_0x4a36ee(0x6f7)],_0x153923,_0x13c209,_0x3d74d9);});});}async function handleSyncAnswerSubmit(_0x36e1db,_0x4b449c,_0x22c654,_0x18c4c3,_0x8d67b8){const _0xdccd0d=_0x57253e;document[_0xdccd0d(0x40f)](_0xdccd0d(0x54e))[_0xdccd0d(0xb68)](_0x2d4b9c=>_0x2d4b9c[_0xdccd0d(0x992)]=!![]);const _0x561f1d=_0x4b449c[_0xdccd0d(0x2a9)]||_0x22c654['shuffledQuiz']['quizType'];let _0x2fc97a=![],_0x43d107=_0x36e1db;switch(_0x561f1d){case _0xdccd0d(0xc6b):const _0x484e84=parseInt(_0x36e1db),_0x486680=_0x4b449c['correctAnswer']===!![]||String(_0x4b449c[_0xdccd0d(0x75e)])[_0xdccd0d(0x6c8)]()===_0xdccd0d(0x36a);_0x2fc97a=_0x484e84===0x0&&_0x486680||_0x484e84===0x1&&!_0x486680,_0x43d107=_0x484e84===0x0?_0xdccd0d(0x648):'ไม่ใช่\x20/\x20ผิด';break;case _0xdccd0d(0x733):case _0xdccd0d(0x3c3):_0x2fc97a=await gradeShortAnswer(_0x36e1db,_0x4b449c);break;case _0xdccd0d(0x22d):_0x2fc97a=_0x36e1db===_0x4b449c['correctResponse'];break;case'multiple_choice':default:const _0x3ac27f=parseInt(_0x36e1db);_0x2fc97a=_0x3ac27f===_0x4b449c[_0xdccd0d(0xacd)];_0x4b449c[_0xdccd0d(0x6c2)]&&_0x4b449c['options'][_0x3ac27f]&&(_0x43d107=_0x4b449c[_0xdccd0d(0x6c2)][_0x3ac27f]);break;}const _0x72b5ed=_0x2fc97a?0x1:0x0,_0x2ec166=doc(db,_0xdccd0d(0xc07)+appId+'/public/data/syncGames',currentLiveGameId),_0x316801={};_0x316801[_0xdccd0d(0xc9b)+_0x18c4c3+_0xdccd0d(0x324)]=increment(_0x72b5ed),_0x316801[_0xdccd0d(0xc9b)+_0x18c4c3+_0xdccd0d(0x4fe)]=!![];let _0x2c745c=null;(_0x561f1d===_0xdccd0d(0x8ea)||_0x561f1d===_0xdccd0d(0xc6b)||_0x561f1d===_0xdccd0d(0x959))&&(_0x2c745c=parseInt(_0x36e1db));_0x316801[_0xdccd0d(0xc9b)+_0x18c4c3+_0xdccd0d(0xca4)]=_0x2c745c;const _0x2e8b7b={'questionIndex':_0x22c654[_0xdccd0d(0x2df)],'questionId':_0x4b449c['id'],'answer':_0x36e1db,'answerText':_0x43d107,'isCorrect':_0x2fc97a,'originalQuestionText':_0x4b449c[_0xdccd0d(0x525)]||_0x4b449c['stem'],'wasConfident':_0x8d67b8};_0x316801['players.'+_0x18c4c3+_0xdccd0d(0x127)]=arrayUnion(_0x2e8b7b),await updateDoc(_0x2ec166,_0x316801);}initialize();
