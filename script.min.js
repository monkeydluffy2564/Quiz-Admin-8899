const _0x3076df=_0x520b;(function(_0x1b8f44,_0x3c5b4b){const _0x538205=_0x520b,_0x5d8e2e=_0x1b8f44();while(!![]){try{const _0x4e9c4a=parseInt(_0x538205(0x57e))/0x1*(-parseInt(_0x538205(0x88a))/0x2)+parseInt(_0x538205(0xc4e))/0x3+parseInt(_0x538205(0x8bf))/0x4+parseInt(_0x538205(0x82d))/0x5+-parseInt(_0x538205(0x8eb))/0x6+-parseInt(_0x538205(0x79e))/0x7*(parseInt(_0x538205(0xb40))/0x8)+parseInt(_0x538205(0x227))/0x9;if(_0x4e9c4a===_0x3c5b4b)break;else _0x5d8e2e['push'](_0x5d8e2e['shift']());}catch(_0x217661){_0x5d8e2e['push'](_0x5d8e2e['shift']());}}}(_0x45be,0xeccb6));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x3076df(0x6a5),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x3076df(0x6a5),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x1f1ad6=_0x3076df;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x1f1ad6(0x896)][_0x1f1ad6(0xade)](_0x1f1ad6(0x428)),console['log'](_0x1f1ad6(0x521)),wakeLock[_0x1f1ad6(0x331)]('release',()=>{const _0x42ebc4=_0x1f1ad6;console['log'](_0x42ebc4(0xa23));});}catch(_0x4c0389){console[_0x1f1ad6(0x405)](_0x1f1ad6(0xba2)+_0x4c0389[_0x1f1ad6(0x774)]+',\x20'+_0x4c0389[_0x1f1ad6(0x5ce)]);}else console['warn'](_0x1f1ad6(0xa62));},releaseWakeLock=async()=>{const _0x28d321=_0x3076df;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0x28d321(0x676)](_0x28d321(0xa90)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x4a31c2=_0x3076df;if(!document['body'][_0x4a31c2(0xbbb)]['contains']('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x28974a=_0x4a31c2;document[_0x28974a(0xb53)][_0x28974a(0xbbb)][_0x28974a(0x49b)](_0x28974a(0x1fb)),console[_0x28974a(0x676)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}}function wakeUpScreen(_0x3795cc){const _0x1691c2=_0x3076df;_0x3795cc&&(_0x3795cc[_0x1691c2(0xc89)](),_0x3795cc[_0x1691c2(0x512)]());document['body'][_0x1691c2(0xbbb)][_0x1691c2(0xb7d)](_0x1691c2(0x1fb));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x4fae71=_0x1691c2;document[_0x4fae71(0xb53)]['classList'][_0x4fae71(0x49b)](_0x4fae71(0x1fb));},inactivityTime);}function stopDimTimer(){const _0x4a9c84=_0x3076df;if(dimTimer)clearTimeout(dimTimer);document[_0x4a9c84(0xb53)][_0x4a9c84(0xbbb)][_0x4a9c84(0xb7d)](_0x4a9c84(0x1fb)),window['removeEventListener']('mousemove',resetDimTimer),window[_0x4a9c84(0x210)]('mousedown',resetDimTimer),window[_0x4a9c84(0x210)](_0x4a9c84(0xc49),resetDimTimer),window[_0x4a9c84(0x210)]('keydown',resetDimTimer),console[_0x4a9c84(0x676)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x1394b9,_0x3cbe8e=![]){const _0x1ebac6=_0x3076df,_0x34a95b=allQuizzes[_0x1ebac6(0xcf4)](_0x4ba283=>_0x4ba283['id']===_0x1394b9)||allQuizzesGlobal[_0x1ebac6(0xcf4)](_0x415701=>_0x415701['id']===_0x1394b9);if(!_0x34a95b){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x34a95b);const _0x592fa3=Math['floor'](0x3e8+Math[_0x1ebac6(0x386)]()*0x2328)[_0x1ebac6(0x2ed)]();try{const _0x38f669=await addDoc(collection(db,_0x1ebac6(0xaa1)+appId+_0x1ebac6(0x8aa)),{'quizId':_0x34a95b['id'],'projectId':_0x34a95b[_0x1ebac6(0x2a3)],'status':_0x1ebac6(0xab6),'pin':_0x592fa3,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3cbe8e});currentTeamQuizId=_0x38f669['id'],showView(_0x1ebac6(0x3d8)),renderAdminTeamQuizDashboard(_0x592fa3,_0x34a95b[_0x1ebac6(0x6a9)]),listenForTeamQuizUpdates();}catch(_0x388595){console['error']('Error\x20starting\x20team\x20quiz:',_0x388595),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x3f8294,_0x5d7a7d,_0x3966d3=_0x3076df(0x8c0)){const _0x55834d=_0x3076df,_0x162c17=_0x3966d3===_0x55834d(0x4df)?_0x55834d(0xcd0):'Team\x20Quiz';liveGameView[_0x55834d(0x9c8)]=_0x55834d(0x974)+_0x162c17+':\x20'+_0x5d7a7d+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x3f8294+_0x55834d(0xce5),document[_0x55834d(0x48d)](_0x55834d(0x67f))[_0x55834d(0x331)](_0x55834d(0x623),async()=>{const _0x5730f6=_0x55834d;showConfirmation(_0x5730f6(0xca8),async()=>{const _0xc8d596=_0x5730f6;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0xc8d596(0xaa1)+appId+_0xc8d596(0x8aa),currentTeamQuizId)),showView(_0xc8d596(0x58d));});});}function listenForTeamQuizUpdates(){const _0x563770=_0x3076df;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x4abf62=doc(db,'artifacts/'+appId+_0x563770(0x8aa),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x4abf62,_0x3f9145=>{const _0x52ce15=_0x563770;if(!_0x3f9145[_0x52ce15(0x6b3)]()){sessionStorage[_0x52ce15(0x2cc)](_0x52ce15(0x4ab));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x52ce15(0x58d)):showView(_0x52ce15(0x849));return;}const _0x2ba843=_0x3f9145['data']();if(currentMode===_0x52ce15(0x8f7)){if(_0x2ba843[_0x52ce15(0x852)]==='group'&&_0x2ba843[_0x52ce15(0x732)]!==_0x52ce15(0xa54)&&_0x2ba843[_0x52ce15(0x732)]!==_0x52ce15(0xc56)){const _0x179888=Object[_0x52ce15(0x391)](_0x2ba843[_0x52ce15(0xa03)]||{});if(_0x179888[_0x52ce15(0x3b0)]>0x0){const _0x32d78c=_0x179888[_0x52ce15(0x7f5)](_0x1b5572=>_0x1b5572[_0x52ce15(0x3de)]===!![]);_0x32d78c&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x2ba843);}else{if(_0x2ba843[_0x52ce15(0x732)]==='podium'||_0x2ba843[_0x52ce15(0x732)]===_0x52ce15(0xc56)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x2ba843[_0x52ce15(0x852)]===_0x52ce15(0x4df)){const _0x49f9b6=_0x2ba843[_0x52ce15(0xa03)][userId];(!_0x49f9b6||!_0x49f9b6[_0x52ce15(0x3de)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x4a0c6a){const _0x19f7e8=_0x3076df;console[_0x19f7e8(0x676)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x181149=doc(db,_0x19f7e8(0xaa1)+appId+_0x19f7e8(0x8aa),_0x4a0c6a);try{const _0x3b2b94=await getDoc(_0x181149);if(_0x3b2b94[_0x19f7e8(0x6b3)]()){const _0x369246=_0x3b2b94[_0x19f7e8(0x995)]();_0x369246[_0x19f7e8(0x680)]&&await saveGameResultsAsSubmissions(_0x369246);}await updateDoc(_0x181149,{'status':_0x19f7e8(0xa54)});}catch(_0x41aca9){console[_0x19f7e8(0x405)](_0x19f7e8(0x5cf),_0x41aca9);}}function updateAdminTeamDashboard(_0x54c641){const _0x338919=_0x3076df,_0x5a2afc=document[_0x338919(0x48d)](_0x338919(0x762));if(!_0x5a2afc)return;const _0x3ac15=_0x54c641['mode']||_0x338919(0x8c0),_0x51803a=currentQuizData[_0x338919(0x796)][_0x338919(0x3b0)];if(_0x3ac15===_0x338919(0x4df)){const _0x58a367=Object[_0x338919(0x391)](_0x54c641['groups']||{});if(_0x58a367[_0x338919(0x3b0)]===0x0){_0x5a2afc[_0x338919(0x9c8)]=_0x338919(0x7e9);return;}const _0x533fe0=[..._0x58a367][_0x338919(0xa41)]((_0x1f9827,_0x4b2df6)=>_0x4b2df6[_0x338919(0x3cb)]-_0x1f9827[_0x338919(0x3cb)]),_0x26d620=_0x533fe0[_0x338919(0x3c9)]((_0x3353f3,_0x1687f6)=>{const _0x193e1f=_0x338919,_0x1c74d2=_0x3353f3[_0x193e1f(0x34e)]?.['length']||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x1687f6+0x1)+_0x193e1f(0x576)+_0x3353f3[_0x193e1f(0x758)][_0x193e1f(0x28d)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x1c74d2+'/'+_0x51803a+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x3353f3[_0x193e1f(0x3cb)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''),_0x1d7a9c=currentQuizData[_0x338919(0x796)][_0x338919(0x3c9)]((_0x4d0ae4,_0x274eb4)=>{const _0x2c5e13=_0x338919;let _0x5cd1d0=0x0,_0x7f084c=0x0;_0x58a367[_0x2c5e13(0x9c9)](_0x5cbc5d=>{const _0x1c76e7=_0x2c5e13,_0x2a4388=_0x5cbc5d[_0x1c76e7(0x34e)]?.[_0x1c76e7(0xcf4)](_0x2f9b6d=>_0x2f9b6d[_0x1c76e7(0x912)]===_0x274eb4);if(_0x2a4388){_0x7f084c++;if(_0x2a4388[_0x1c76e7(0xa78)])_0x5cd1d0++;}});const _0x400240=_0x7f084c>0x0&&_0x7f084c===_0x58a367[_0x2c5e13(0x3b0)],_0x55faf8=_0x400240?'bg-green-200\x20text-green-900\x20font-bold':_0x2c5e13(0x2b5),_0x4c453b=_0x400240?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return _0x2c5e13(0x73a)+_0x55faf8+_0x2c5e13(0x269)+(_0x274eb4+0x1)+':</span><span>'+_0x4c453b+_0x2c5e13(0xc78)+_0x5cd1d0+'/'+_0x58a367['length']+'\x20กลุ่ม</p></div>';})['join']('');_0x5a2afc[_0x338919(0x9c8)]=_0x338919(0x70a)+_0x26d620+_0x338919(0xaf2)+_0x1d7a9c+_0x338919(0xb7e);return;}const _0x2abd35=_0x54c641[_0x338919(0x8b4)]||{},_0x590cf2=Object[_0x338919(0x3ca)](_0x2abd35);if(_0x590cf2[_0x338919(0x3b0)]===0x0){_0x5a2afc[_0x338919(0x9c8)]=_0x338919(0xb4c);return;}const _0x3f8d7a=_0x590cf2[_0x338919(0x3c9)](_0x328a10=>({'name':_0x328a10,'score':_0x2abd35[_0x328a10][_0x338919(0x3cb)]||0x0}))['sort']((_0x4d57f6,_0x3ecf4e)=>_0x3ecf4e[_0x338919(0x3cb)]-_0x4d57f6[_0x338919(0x3cb)]),_0x16e21a=_0x3f8d7a[_0x338919(0x3c9)](_0x59ade7=>{const _0x1a1bd5=_0x338919,_0x2821cb=_0x2abd35[_0x59ade7['name']]?.['answers']?.['length']||0x0,_0x1ecb5b=Math[_0x1a1bd5(0x7cd)](_0x51803a/_0x590cf2[_0x1a1bd5(0x3b0)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x59ade7['name']+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x2821cb+'/'+_0x1ecb5b+_0x1a1bd5(0x2ba)+_0x59ade7[_0x1a1bd5(0x3cb)]+'\x20คะแนน</span></div>';})[_0x338919(0x28d)](''),_0x3612c5=_0x590cf2['reduce']((_0x3d23c4,_0x54fc4e)=>_0x3d23c4+(_0x2abd35[_0x54fc4e]['answers']?.[_0x338919(0x3b0)]||0x0),0x0),_0x4b1794=currentQuizData['questions'][_0x338919(0x3c9)]((_0x2ecdf1,_0x361636)=>{const _0x470678=_0x338919;let _0x49104b=null,_0x417b31=null;for(const _0x4dd4ea of _0x590cf2){const _0x26756c=_0x2abd35[_0x4dd4ea][_0x470678(0x34e)]?.[_0x470678(0xcf4)](_0x365652=>_0x365652[_0x470678(0x912)]===_0x361636);if(_0x26756c){_0x49104b=_0x26756c,_0x417b31=_0x4dd4ea;break;}}const _0x5b3f83=!!_0x49104b,_0x43bc5b=_0x5b3f83&&_0x49104b['isCorrect'],_0x3ee2db=(Math[_0x470678(0x230)](_0x361636/_0x590cf2[_0x470678(0x3b0)])+0x1)*_0x590cf2['length'],_0x1df9fe=_0x3612c5>=_0x3ee2db,_0x304440=_0x1df9fe?_0x470678(0x51d):_0x470678(0x2b5),_0xcd1e87=_0x1df9fe?_0x470678(0x575):'';let _0x1bba86=_0x470678(0xa58);return _0x5b3f83&&(_0x1bba86=_0x417b31+_0x470678(0x289)+(_0x43bc5b?_0x470678(0x359):_0x470678(0x1e7))),_0x470678(0x73a)+_0x304440+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x361636+0x1)+_0x470678(0x333)+_0xcd1e87+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x1bba86+'</p></div>';})['join']('');_0x5a2afc['innerHTML']=_0x338919(0x4b7)+_0x16e21a+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x4b1794+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x4eecc4=_0x3076df,_0x319bb0=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x319bb0||_0x319bb0[_0x4eecc4(0x7fe)]()[_0x4eecc4(0x3b0)]!==0x4){showMessage(_0x4eecc4(0x1f8));return;}try{const _0x137327=collection(db,_0x4eecc4(0xaa1)+appId+_0x4eecc4(0x8aa)),_0x2d1028=query(_0x137327,where(_0x4eecc4(0xd0b),'==',_0x319bb0[_0x4eecc4(0x7fe)]()),where('status','==',_0x4eecc4(0xab6))),_0x5e7d5d=await getDocs(_0x2d1028);if(_0x5e7d5d[_0x4eecc4(0x3a7)]){showMessage(_0x4eecc4(0xcc7));return;}const _0x727bb2=_0x5e7d5d['docs'][0x0];currentTeamQuizId=_0x727bb2['id'];const _0x427d7f=_0x727bb2['data'](),_0x4aeb53=doc(db,'artifacts/'+appId+'/public/data/projects',_0x427d7f[_0x4eecc4(0x2a3)]),_0x28c61c=doc(db,_0x4eecc4(0xaa1)+appId+_0x4eecc4(0x695),_0x427d7f[_0x4eecc4(0xccd)]),[_0x1fc7b7,_0x477bb9]=await Promise[_0x4eecc4(0x6a5)]([getDoc(_0x4aeb53),getDoc(_0x28c61c)]);if(!_0x1fc7b7[_0x4eecc4(0x6b3)]()||!_0x477bb9[_0x4eecc4(0x6b3)]())throw new Error(_0x4eecc4(0xb6a));currentQuizData=getShuffledQuiz({'id':_0x477bb9['id'],..._0x477bb9['data']()});const _0xe2a6aa=_0x1fc7b7[_0x4eecc4(0x995)]();showTeamPlayerSelection(_0xe2a6aa[_0x4eecc4(0x589)],currentQuizData[_0x4eecc4(0x6a9)]);}catch(_0x9475df){console['error']('Error\x20joining\x20team\x20quiz:',_0x9475df),showMessage(_0x4eecc4(0x427)+_0x9475df[_0x4eecc4(0x5ce)]);}}async function handleJoinGroupActivity(){const _0x30c4ad=_0x3076df,_0x671dff=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x671dff||_0x671dff[_0x30c4ad(0x7fe)]()[_0x30c4ad(0x3b0)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x30e1b4=_0x671dff[_0x30c4ad(0x7fe)]();showMessage(_0x30c4ad(0xcbf));try{const _0x491f0a=collection(db,'artifacts/'+appId+_0x30c4ad(0x8aa)),_0x597bf3=query(_0x491f0a,where(_0x30c4ad(0xd0b),'==',_0x30e1b4),where(_0x30c4ad(0x732),'==',_0x30c4ad(0xab6))),_0xe0e9bd=await getDocs(_0x597bf3);if(!_0xe0e9bd['empty']){console[_0x30c4ad(0x676)](_0x30c4ad(0x2af)),await proceedWithTeamQuizJoin(_0xe0e9bd[_0x30c4ad(0x9a1)][0x0]);return;}const _0x57cc8d=collection(db,_0x30c4ad(0xaa1)+appId+_0x30c4ad(0x947)),_0x1bbc52=query(_0x57cc8d,where(_0x30c4ad(0xd0b),'==',_0x30e1b4),where('status','==',_0x30c4ad(0xab6))),_0x27f65a=await getDocs(_0x1bbc52);if(!_0x27f65a[_0x30c4ad(0x3a7)]){console[_0x30c4ad(0x676)](_0x30c4ad(0xb8b)),await proceedWithSyncQuizJoin(_0x27f65a['docs'][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0x4dd785){console[_0x30c4ad(0x405)](_0x30c4ad(0xb9b),_0x4dd785),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x4dd785[_0x30c4ad(0x5ce)]);}}async function proceedWithTeamQuizJoin(_0x53e750){const _0x48a5b3=_0x3076df;currentTeamQuizId=_0x53e750['id'];const _0x50c7df=_0x53e750[_0x48a5b3(0x995)](),_0x277f93=doc(db,_0x48a5b3(0xaa1)+appId+_0x48a5b3(0x8bc),_0x50c7df[_0x48a5b3(0x2a3)]),_0x5a86af=doc(db,'artifacts/'+appId+_0x48a5b3(0x695),_0x50c7df[_0x48a5b3(0xccd)]),[_0x1dada5,_0x30fead]=await Promise[_0x48a5b3(0x6a5)]([getDoc(_0x277f93),getDoc(_0x5a86af)]);if(!_0x1dada5[_0x48a5b3(0x6b3)]()||!_0x30fead['exists']())throw new Error(_0x48a5b3(0xb6a));currentQuizData=getShuffledQuiz({'id':_0x30fead['id'],..._0x30fead[_0x48a5b3(0x995)]()}),showTeamPlayerSelection(_0x1dada5[_0x48a5b3(0x995)]()[_0x48a5b3(0x589)],currentQuizData[_0x48a5b3(0x6a9)],_0x50c7df[_0x48a5b3(0x852)]||_0x48a5b3(0x8c0)),messageModal[_0x48a5b3(0xbbb)]['add'](_0x48a5b3(0xc6c));}async function proceedWithSyncQuizJoin(_0x24f16f){const _0xe1ead=_0x3076df;currentLiveGameId=_0x24f16f['id'];const _0x5bfcce=_0x24f16f[_0xe1ead(0x995)](),_0x411086=doc(db,_0xe1ead(0xaa1)+appId+'/public/data/quizzes',_0x5bfcce[_0xe1ead(0xccd)]),_0x4b21f5=await getDoc(_0x411086);if(!_0x4b21f5['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x33b465=_0x4b21f5[_0xe1ead(0x995)](),_0x49ff06=doc(db,_0xe1ead(0xaa1)+appId+_0xe1ead(0x8bc),_0x33b465['projectId']),_0x4a3f3e=await getDoc(_0x49ff06);if(!_0x4a3f3e[_0xe1ead(0x6b3)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x5bfcce[_0xe1ead(0x65b)],showView('student-team-join'),showTeamPlayerSelection(_0x4a3f3e[_0xe1ead(0x995)]()[_0xe1ead(0x589)],_0x33b465[_0xe1ead(0x6a9)],_0xe1ead(0xc90)),document['getElementById'](_0xe1ead(0x927))[_0xe1ead(0x2ee)]=confirmAndJoinSyncGame,messageModal[_0xe1ead(0xbbb)]['add'](_0xe1ead(0xc6c));}function getCleanApplicationHTML(){const _0x48c8ef=_0x3076df,_0xa3f51b=document[_0x48c8ef(0x48d)](_0x48c8ef(0x1d0));if(!_0xa3f51b)return'';const _0x56e3ba=_0xa3f51b['cloneNode'](!![]);return _0x56e3ba[_0x48c8ef(0x599)](_0x48c8ef(0xd13))['forEach'](_0x10533e=>{const _0x4480b1=_0x48c8ef;_0x10533e['classList'][_0x4480b1(0xb7d)]('correct','incorrect'),_0x10533e['disabled']=![];}),_0x56e3ba[_0x48c8ef(0x9c8)];}function showTeamPlayerSelection(_0x452145,_0x744979,_0x312a34='team'){const _0x4eb91b=_0x3076df;studentInitialView[_0x4eb91b(0xbbb)][_0x4eb91b(0x49b)]('hidden'),studentJoinGameView[_0x4eb91b(0xbbb)][_0x4eb91b(0x49b)](_0x4eb91b(0xc6c)),document['getElementById'](_0x4eb91b(0x29a))[_0x4eb91b(0xbbb)][_0x4eb91b(0xb7d)](_0x4eb91b(0xc6c));let _0x288bc5=_0x4eb91b(0x44f);if(_0x312a34===_0x4eb91b(0x4df))_0x288bc5=_0x4eb91b(0xcd0);else _0x312a34==='sync'&&(_0x288bc5=_0x4eb91b(0x74b));document['getElementById'](_0x4eb91b(0x9be))[_0x4eb91b(0x9ea)]=_0x288bc5+':\x20'+_0x744979;const _0x25cb03=document[_0x4eb91b(0x48d)]('team-student-list');if(!_0x452145||_0x452145[_0x4eb91b(0x3b0)]===0x0){_0x25cb03['innerHTML']='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document[_0x4eb91b(0x48d)](_0x4eb91b(0x927))[_0x4eb91b(0x1dc)]=!![];return;}_0x25cb03[_0x4eb91b(0x9c8)]=_0x452145[_0x4eb91b(0x3c9)](_0x1a6354=>_0x4eb91b(0x5a1)+_0x1a6354+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x1a6354+_0x4eb91b(0x343))['join'](''),document['getElementById']('confirm-team-players-btn')['disabled']=![];}async function confirmAndStartTeamQuiz(){const _0x161723=_0x3076df,_0x2fd625=Array[_0x161723(0x2bb)](document['querySelectorAll']('input[name=\x22team_player\x22]:checked'))[_0x161723(0x3c9)](_0x1a22a0=>_0x1a22a0[_0x161723(0xaef)]);if(_0x2fd625[_0x161723(0x3b0)]===0x0){showMessage(_0x161723(0xc63));return;}localTeamPlayers=_0x2fd625,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x5658b0=doc(db,_0x161723(0xaa1)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x23b3c2=await getDoc(_0x5658b0);if(!_0x23b3c2[_0x161723(0x6b3)]())throw new Error(_0x161723(0x8ef));const _0x58f6d5=_0x23b3c2[_0x161723(0x995)]();if(_0x58f6d5[_0x161723(0x852)]===_0x161723(0x4df)){const _0x5e3c1c={[_0x161723(0x778)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x5658b0,_0x5e3c1c);}else{const _0x19a186=_0x58f6d5[_0x161723(0x8b4)]||{};localTeamPlayers['forEach'](_0x1f9ea7=>{!_0x19a186[_0x1f9ea7]&&(_0x19a186[_0x1f9ea7]={'score':0x0,'answers':[]});}),await updateDoc(_0x5658b0,{'responses':_0x19a186});}document[_0x161723(0x48d)](_0x161723(0x29a))[_0x161723(0xbbb)][_0x161723(0x49b)]('hidden'),renderTeamQuizQuestion();const _0x4bd938={'gameId':currentTeamQuizId,'mode':_0x58f6d5[_0x161723(0x852)]||_0x161723(0x8c0),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x161723(0x67a)](_0x161723(0x4ab),JSON[_0x161723(0x4c6)](_0x4bd938)),listenForTeamQuizUpdates();}catch(_0x4fd394){console[_0x161723(0x405)](_0x161723(0x5b4),_0x4fd394),showMessage(_0x161723(0x948));}}async function renderTeamQuizQuestion(){const _0x434079=_0x3076df;if(localQuestionIndex>=currentQuizData['questions'][_0x434079(0x3b0)]){displayTeamQuizFinalResults();return;}const _0x4b42c7=currentQuizData[_0x434079(0x796)][localQuestionIndex],_0x622875=localTeamPlayers[localPlayerIndex],_0x4256a1=_0x4b42c7[_0x434079(0xbc3)]||currentQuizData['quizType'];let _0x578b86=_0x4b42c7['stem']||_0x4b42c7['questionText'],_0x44db3d='';switch(_0x4256a1){case _0x434079(0xa73):case _0x434079(0x62e):_0x44db3d=_0x4b42c7[_0x434079(0x7ce)]['map']((_0x3a9333,_0x4842e3)=>_0x434079(0x7d9)+_0x4842e3+_0x434079(0x24b)+_0x4842e3+_0x434079(0xa5a)+_0x4842e3+'\x22>'+_0x3a9333+_0x434079(0x360))['join']('');break;case'true_false':_0x44db3d=_0x434079(0x378);break;case _0x434079(0x296):case _0x434079(0xa70):_0x44db3d=_0x434079(0x3f2);break;case _0x434079(0xd01):_0x44db3d=_0x434079(0x1d4)+_0x4b42c7[_0x434079(0x1cf)]['map'](_0x1a159d=>_0x434079(0xb17)+_0x1a159d+'\x22>'+_0x1a159d+_0x434079(0x881))['join']('')+_0x434079(0x4ce);break;default:_0x44db3d=_0x434079(0x31c);break;}studentQuizArea[_0x434079(0x9c8)]=_0x434079(0x560)+(localQuestionIndex+0x1)+_0x434079(0x41b)+currentQuizData[_0x434079(0x796)][_0x434079(0x3b0)]+_0x434079(0xaee)+_0x622875+_0x434079(0x784)+(localQuestionIndex+0x1)+'.\x20'+_0x578b86+_0x434079(0x7e8)+(_0x4b42c7['imageCode']?_0x434079(0xadf)+_0x4b42c7['imageCode']+_0x434079(0x9b9):'')+_0x434079(0xa25)+_0x44db3d+_0x434079(0x89e),studentQuizArea[_0x434079(0xbbb)][_0x434079(0xb7d)](_0x434079(0xc6c));if(window['MathJax'])MathJax[_0x434079(0x73c)]([studentQuizArea]);document[_0x434079(0x48d)](_0x434079(0x191))[_0x434079(0x331)](_0x434079(0x623),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x5388fa=_0x3076df,_0x25d888=currentQuizData[_0x5388fa(0x796)][localQuestionIndex],_0x29546f=_0x25d888['questionType']||currentQuizData['quizType'];let _0x883842=null,_0x1f6cbe=![];if(_0x29546f===_0x5388fa(0x296)||_0x29546f==='fill_in_no_choices'){const _0x1fb8d4=document[_0x5388fa(0x381)](_0x5388fa(0xbc7));if(!_0x1fb8d4||!_0x1fb8d4[_0x5388fa(0xaef)][_0x5388fa(0x7fe)]()){showMessage(_0x5388fa(0x425));return;}_0x883842=_0x1fb8d4[_0x5388fa(0xaef)]['trim'](),_0x1f6cbe=await gradeShortAnswer(_0x883842,_0x25d888);}else{const _0x3491a9=document['querySelector'](_0x5388fa(0x1f2));if(!_0x3491a9||_0x3491a9[_0x5388fa(0xaef)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x883842=_0x3491a9['value'];switch(_0x29546f){case _0x5388fa(0x35a):_0x1f6cbe=_0x883842===_0x5388fa(0xab4)===_0x25d888[_0x5388fa(0x369)];break;case'matching_item':_0x1f6cbe=_0x883842===_0x25d888[_0x5388fa(0x4fc)];break;default:_0x1f6cbe=parseInt(_0x883842)===_0x25d888[_0x5388fa(0x60b)];break;}}const _0x33e709={'questionIndex':localQuestionIndex,'isCorrect':_0x1f6cbe},_0x2c7223=userId,_0x5b9f79={['groups.'+_0x2c7223+'.answers']:arrayUnion(_0x33e709)};_0x1f6cbe&&(_0x5b9f79[_0x5388fa(0x778)+_0x2c7223+_0x5388fa(0x7ee)]=increment(0x1));try{await updateDoc(doc(db,_0x5388fa(0xaa1)+appId+_0x5388fa(0x8aa),currentTeamQuizId),_0x5b9f79),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x5388fa(0x796)][_0x5388fa(0x3b0)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x36f60e){console['error'](_0x5388fa(0x52a),_0x36f60e),showMessage(_0x5388fa(0x3aa));}}async function handleTeamAnswerSubmit(){const _0x33e5b6=_0x3076df,_0x4f508b=await getDoc(doc(db,_0x33e5b6(0xaa1)+appId+_0x33e5b6(0x8aa),currentTeamQuizId));if(!_0x4f508b['exists']())return;const _0x460bbf=_0x4f508b['data']();if(_0x460bbf[_0x33e5b6(0x852)]===_0x33e5b6(0x4df)){handleGroupAnswerSubmit();return;}const _0x3e4a0a=localTeamPlayers[localPlayerIndex],_0x286164=currentQuizData['questions'][localQuestionIndex],_0x30b427=_0x286164[_0x33e5b6(0xbc3)]||currentQuizData['quizType'];let _0xce1975=null,_0x3bc23f=![];if(_0x30b427==='short_answer'||_0x30b427==='fill_in_no_choices'){const _0x4025d9=document['querySelector'](_0x33e5b6(0xbc7));if(!_0x4025d9||!_0x4025d9[_0x33e5b6(0xaef)][_0x33e5b6(0x7fe)]()){showMessage(_0x33e5b6(0xcfc));return;}_0xce1975=_0x4025d9[_0x33e5b6(0xaef)][_0x33e5b6(0x7fe)](),_0x3bc23f=await gradeShortAnswer(_0xce1975,_0x286164);}else{const _0x24f090=document['querySelector']('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x24f090||_0x24f090[_0x33e5b6(0xaef)]===''){showMessage(_0x33e5b6(0xa46));return;}_0xce1975=_0x24f090[_0x33e5b6(0xaef)];switch(_0x30b427){case _0x33e5b6(0x35a):_0x3bc23f=_0xce1975==='true'===_0x286164[_0x33e5b6(0x369)];break;case'matching_item':_0x3bc23f=_0xce1975===_0x286164[_0x33e5b6(0x4fc)];break;default:_0x3bc23f=parseInt(_0xce1975)===_0x286164[_0x33e5b6(0x60b)];break;}}const _0x1c7f70={'questionIndex':localQuestionIndex,'isCorrect':_0x3bc23f,'answerValue':_0xce1975},_0x578d22={[_0x33e5b6(0x4d3)+_0x3e4a0a+_0x33e5b6(0xa1f)]:arrayUnion(_0x1c7f70)};_0x3bc23f&&(_0x578d22['responses.'+_0x3e4a0a+_0x33e5b6(0x7ee)]=increment(0x1));try{await updateDoc(doc(db,_0x33e5b6(0xaa1)+appId+_0x33e5b6(0x8aa),currentTeamQuizId),_0x578d22),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x33e5b6(0x3b0)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x22a12a){console[_0x33e5b6(0x405)](_0x33e5b6(0x1ce),_0x22a12a),showMessage(_0x33e5b6(0x3aa));}}async function displayTeamQuizFinalResults(){const _0x590763=_0x3076df;studentQuizArea[_0x590763(0xbbb)]['add']('hidden'),studentResultArea[_0x590763(0xbbb)][_0x590763(0xb7d)](_0x590763(0xc6c));const _0x55842e=doc(db,_0x590763(0xaa1)+appId+_0x590763(0x8aa),currentTeamQuizId),_0x348e7a=await getDoc(_0x55842e);if(!_0x348e7a['exists']()){studentResultArea[_0x590763(0x9c8)]=_0x590763(0x61a);return;}const _0x346ec9=_0x348e7a[_0x590763(0x995)]();let _0x43c38d=[];const _0x541747=_0x346ec9[_0x590763(0x852)]||'team';if(_0x541747===_0x590763(0x4df)){const _0x3a68a5=_0x346ec9[_0x590763(0xa03)][userId];_0x3a68a5?_0x43c38d=[{'name':_0x590763(0x4ea)+localTeamPlayers['join'](',\x20'),'score':_0x3a68a5[_0x590763(0x3cb)]||0x0}]:_0x43c38d=[{'name':_0x590763(0x8a8),'score':'N/A'}];}else _0x43c38d=localTeamPlayers[_0x590763(0x3c9)](_0x44101d=>({'name':_0x44101d,'score':_0x346ec9['responses'][_0x44101d]?.[_0x590763(0x3cb)]||0x0}))[_0x590763(0xa41)]((_0x39a3e8,_0x2f2666)=>_0x2f2666[_0x590763(0x3cb)]-_0x39a3e8[_0x590763(0x3cb)]);studentResultArea[_0x590763(0x9c8)]=_0x590763(0x6ca)+_0x43c38d[_0x590763(0x3c9)](_0x48d433=>_0x590763(0x7fb)+_0x48d433[_0x590763(0x774)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x48d433[_0x590763(0x3cb)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x590763(0x28d)]('')+_0x590763(0x9a2),sessionStorage['removeItem'](_0x590763(0x4ab)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x182779=_0x590763;deleteDoc(doc(db,_0x182779(0xaa1)+appId+_0x182779(0x8aa),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x3076df(0x1ad),'pinnedProjects':[],'projectView':_0x3076df(0x502)};const allMathTopics=[{'category':_0x3076df(0x5ad),'name':_0x3076df(0x93a)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x6fe)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x5f6)},{'category':_0x3076df(0x5ad),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x681)},{'category':_0x3076df(0x5ad),'name':'การลบ'},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x776)},{'category':'จำนวนและการดำเนินการ','name':_0x3076df(0xc7f)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0xb11)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x491)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x90d)},{'category':'จำนวนและการดำเนินการ','name':_0x3076df(0x46f)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x34b)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x26d)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x8fd)},{'category':'จำนวนและการดำเนินการ','name':'ค.ร.น.\x20(LCM)'},{'category':_0x3076df(0x5ad),'name':'อัตราส่วนและสัดส่วน'},{'category':_0x3076df(0x5ad),'name':'อัตราและอัตราหน่วย'},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x85d)},{'category':_0x3076df(0x5ad),'name':'การบวกเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x3076df(0x735)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0xb30)},{'category':_0x3076df(0x5ad),'name':'การหารเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x3076df(0x85c)},{'category':'จำนวนและการดำเนินการ','name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x3076df(0x5ad),'name':_0x3076df(0xa3f)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x275)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x646)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x668)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x77e)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x7d0)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x89a)},{'category':_0x3076df(0x5ad),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x9e9)},{'category':_0x3076df(0x5ad),'name':_0x3076df(0x3b9)},{'category':_0x3076df(0x5ad),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x3076df(0x5ad),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x3076df(0x667),'name':'หน่วยความยาวและการแปลง'},{'category':_0x3076df(0x667),'name':_0x3076df(0x39d)},{'category':'การวัด','name':_0x3076df(0xc55)},{'category':_0x3076df(0x667),'name':_0x3076df(0x9a4)},{'category':_0x3076df(0x667),'name':_0x3076df(0x26f)},{'category':'การวัด','name':_0x3076df(0x45c)},{'category':_0x3076df(0x667),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x3076df(0x667),'name':_0x3076df(0xb58)},{'category':'การวัด','name':_0x3076df(0x848)},{'category':'การวัด','name':_0x3076df(0xb52)},{'category':_0x3076df(0x667),'name':_0x3076df(0xa5d)},{'category':_0x3076df(0x667),'name':_0x3076df(0xa7e)},{'category':'การวัด','name':_0x3076df(0x51b)},{'category':_0x3076df(0x667),'name':_0x3076df(0x7a8)},{'category':_0x3076df(0x3da),'name':_0x3076df(0x3e2)},{'category':_0x3076df(0x3da),'name':_0x3076df(0x47f)},{'category':_0x3076df(0x3da),'name':_0x3076df(0x812)},{'category':_0x3076df(0x3da),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x3076df(0x3da),'name':_0x3076df(0xb51)},{'category':_0x3076df(0x3da),'name':_0x3076df(0x5fd)},{'category':'เรขาคณิต','name':_0x3076df(0x504)},{'category':'เรขาคณิต','name':_0x3076df(0x997)},{'category':'เรขาคณิต','name':_0x3076df(0x98d)},{'category':_0x3076df(0x3da),'name':_0x3076df(0x447)},{'category':_0x3076df(0x3da),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x3076df(0x3da),'name':_0x3076df(0x3b1)},{'category':_0x3076df(0x3da),'name':_0x3076df(0xaf5)},{'category':_0x3076df(0x3da),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x3076df(0x3da),'name':_0x3076df(0x3a2)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0x32c)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0x317)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0xa6f)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0x67b)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0xcee)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3076df(0x2ce)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3076df(0x3a3)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3076df(0xc27)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0x6a7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3076df(0xae0)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0xccf)},{'category':_0x3076df(0x7e4),'name':'สมการยกกำลัง'},{'category':_0x3076df(0x7e4),'name':_0x3076df(0x301)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0x939)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0x225)},{'category':_0x3076df(0x7e4),'name':'ระบบอสมการ'},{'category':_0x3076df(0x7e4),'name':_0x3076df(0xb18)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0x27a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3076df(0x3c6)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0x89c)},{'category':_0x3076df(0x7e4),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x3076df(0x7e4),'name':_0x3076df(0xc1d)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0x431)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3076df(0xc62)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0x8cd)},{'category':_0x3076df(0x7e4),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x3076df(0x7e4),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x3076df(0x7e4),'name':_0x3076df(0x21f)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0xa28)},{'category':_0x3076df(0x7e4),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x3076df(0x7e4),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเรขาคณิต\x20(GP)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3076df(0x8ae)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0x4fa)},{'category':_0x3076df(0x7e4),'name':_0x3076df(0x4ad)},{'category':_0x3076df(0x8ba),'name':_0x3076df(0xb5d)},{'category':'เรขาคณิตวิเคราะห์','name':'ความชันและเส้นตรง'},{'category':_0x3076df(0x8ba),'name':_0x3076df(0xa3e)},{'category':_0x3076df(0x8ba),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':'เรขาคณิตวิเคราะห์','name':_0x3076df(0x37e)},{'category':_0x3076df(0x8ba),'name':_0x3076df(0x6b1)},{'category':'เรขาคณิตวิเคราะห์','name':'พาราโบลา'},{'category':_0x3076df(0x8ba),'name':_0x3076df(0x363)},{'category':_0x3076df(0x8ba),'name':_0x3076df(0x8e6)},{'category':'ตรีโกณมิติ','name':_0x3076df(0x44d)},{'category':_0x3076df(0x2a2),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x3076df(0x2a2),'name':_0x3076df(0x757)},{'category':_0x3076df(0x2a2),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0x3076df(0x2a2),'name':_0x3076df(0x612)},{'category':_0x3076df(0x2a2),'name':'กฎของโคไซน์'},{'category':_0x3076df(0x2a2),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x3076df(0x2a2),'name':_0x3076df(0xa1e)},{'category':'ตรีโกณมิติ','name':_0x3076df(0x8b5)},{'category':_0x3076df(0x2a2),'name':_0x3076df(0x6ce)},{'category':_0x3076df(0x2a2),'name':_0x3076df(0x40d)},{'category':_0x3076df(0x78f),'name':_0x3076df(0x4c0)},{'category':_0x3076df(0x78f),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x3076df(0x78f),'name':_0x3076df(0xb5b)},{'category':_0x3076df(0x78f),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x3076df(0x78f),'name':_0x3076df(0x1ef)},{'category':_0x3076df(0x78f),'name':_0x3076df(0x3bf)},{'category':_0x3076df(0x78f),'name':_0x3076df(0x4a9)},{'category':_0x3076df(0x78f),'name':_0x3076df(0x45e)},{'category':_0x3076df(0x78f),'name':'ฐานนิยม'},{'category':_0x3076df(0x78f),'name':_0x3076df(0xca1)},{'category':_0x3076df(0x78f),'name':_0x3076df(0x556)},{'category':_0x3076df(0x78f),'name':'ความแปรปรวน'},{'category':'สถิติและความน่าจะเป็น','name':_0x3076df(0x4bd)},{'category':_0x3076df(0x78f),'name':_0x3076df(0x91a)},{'category':_0x3076df(0x78f),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x3076df(0x78f),'name':_0x3076df(0x702)},{'category':_0x3076df(0x78f),'name':_0x3076df(0x7a3)},{'category':_0x3076df(0x78f),'name':_0x3076df(0xa52)},{'category':_0x3076df(0x78f),'name':_0x3076df(0xae8)},{'category':_0x3076df(0x78f),'name':_0x3076df(0x880)},{'category':_0x3076df(0x78f),'name':_0x3076df(0x1cb)},{'category':_0x3076df(0x78f),'name':_0x3076df(0x46e)},{'category':'สถิติและความน่าจะเป็น','name':_0x3076df(0xbd1)},{'category':_0x3076df(0x78f),'name':_0x3076df(0xa82)},{'category':_0x3076df(0xcb0),'name':_0x3076df(0x4b0)},{'category':_0x3076df(0xcb0),'name':_0x3076df(0x259)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3076df(0x8dd)},{'category':_0x3076df(0xcb0),'name':_0x3076df(0x8ea)},{'category':_0x3076df(0xcb0),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x3076df(0xcb0),'name':_0x3076df(0x4f8)},{'category':_0x3076df(0xcb0),'name':_0x3076df(0xa51)},{'category':_0x3076df(0xcb0),'name':_0x3076df(0x92a)},{'category':_0x3076df(0xcb0),'name':_0x3076df(0x94c)},{'category':_0x3076df(0xcb0),'name':_0x3076df(0x8de)},{'category':_0x3076df(0xcb0),'name':_0x3076df(0x215)},{'category':_0x3076df(0xcb0),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':'แคลคูลัสเบื้องต้น','name':_0x3076df(0xd1f)},{'category':_0x3076df(0x91e),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x3076df(0x91e),'name':_0x3076df(0x33b)},{'category':_0x3076df(0x91e),'name':_0x3076df(0xb84)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x3076df(0x91e),'name':_0x3076df(0x498)},{'category':_0x3076df(0x91e),'name':_0x3076df(0x57b)},{'category':_0x3076df(0x91e),'name':_0x3076df(0x987)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x3076df(0x967)},{'category':_0x3076df(0xcc4),'name':_0x3076df(0x84f)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x3076df(0x911)},{'category':_0x3076df(0xcc4),'name':_0x3076df(0xb43)},{'category':_0x3076df(0xcc4),'name':_0x3076df(0x92c)},{'category':_0x3076df(0x616),'name':_0x3076df(0x60c)},{'category':_0x3076df(0x616),'name':_0x3076df(0x815)},{'category':_0x3076df(0x616),'name':_0x3076df(0x84c)}];function renderTopicCheckboxes(){const _0x5be23c=_0x3076df,_0xc3762d=document[_0x5be23c(0x48d)](_0x5be23c(0x3eb));if(!_0xc3762d)return;const _0x76b4f4=allMathTopics,_0x1eea85=customMathTopics[_0x5be23c(0x3c9)](_0x35ff8c=>({'id':_0x35ff8c['id'],'category':'หัวข้อที่สร้างเอง','name':_0x35ff8c['name']})),_0x4dd61d=[..._0x76b4f4,..._0x1eea85],_0x3fd314=_0x4dd61d['reduce']((_0x2586b7,_0x59ca52)=>{const _0x1f72d5=_0x5be23c;return!_0x2586b7[_0x59ca52[_0x1f72d5(0x968)]]&&(_0x2586b7[_0x59ca52['category']]=[]),_0x2586b7[_0x59ca52[_0x1f72d5(0x968)]][_0x1f72d5(0x836)](_0x59ca52),_0x2586b7;},{});let _0x29d3b1='';const _0x43bc46=[_0x5be23c(0x364),...Object[_0x5be23c(0x3ca)](_0x3fd314)['filter'](_0x2ce725=>_0x2ce725!==_0x5be23c(0x364))];for(const _0x4839f8 of _0x43bc46){if(_0x3fd314[_0x4839f8]){const _0x54b735=_0x4839f8==='หัวข้อที่สร้างเอง',_0x1e3fa4=_0x54b735?_0x5be23c(0x6dc):_0x5be23c(0xc03),_0x2c1c22=_0x54b735?_0x5be23c(0x5fa):'text-indigo-700';_0x29d3b1+=_0x5be23c(0x603),_0x29d3b1+=_0x5be23c(0x979)+_0x2c1c22+_0x5be23c(0x524)+_0x1e3fa4+_0x5be23c(0x9f8)+_0x4839f8+_0x5be23c(0x19e),_0x3fd314[_0x4839f8]['forEach'](_0x16b20a=>{const _0x4ccc39=_0x5be23c,_0x341421=!!_0x16b20a['id'],_0x223ebe=_0x341421?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x16b20a['id']+_0x4ccc39(0x2e4)+_0x16b20a['id']+_0x4ccc39(0xc17)+_0x16b20a['id']+_0x4ccc39(0x3f5)+_0x16b20a['id']+_0x4ccc39(0xbf4):'';_0x29d3b1+=_0x4ccc39(0x2fd)+(_0x16b20a['id']||'')+_0x4ccc39(0x59c)+_0x16b20a[_0x4ccc39(0x774)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x16b20a[_0x4ccc39(0x774)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x341421?_0x4ccc39(0x6b5)+_0x16b20a[_0x4ccc39(0x774)]+'\x22>':'')+_0x4ccc39(0x8c7)+_0x223ebe+_0x4ccc39(0x902);}),_0x29d3b1+='</div>';}}_0xc3762d[_0x5be23c(0x9c8)]=_0x29d3b1||_0x5be23c(0x2fe),_0xc3762d['removeEventListener'](_0x5be23c(0x34f),updateSelectedTopicsCount),_0xc3762d['addEventListener']('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x5c46dd,_0x47033c){const _0x41884b=_0x3076df;if(!_0x5c46dd||!_0x47033c['trim']()){showMessage(_0x41884b(0x25e));return;}try{const _0x5153ab=doc(db,'artifacts/'+appId+_0x41884b(0x257),_0x5c46dd);await updateDoc(_0x5153ab,{'name':_0x47033c[_0x41884b(0x7fe)]()}),showMessage(_0x41884b(0x60d));}catch(_0x504276){console['error'](_0x41884b(0xc85),_0x504276),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x123199,_0x1c8f12){const _0x3f1683=_0x3076df;if(!_0x123199)return;const _0x7c00b9=_0x123199[_0x3f1683(0x381)](_0x3f1683(0x4e9)),_0x2e73d8=_0x123199['querySelector'](_0x3f1683(0x411)),_0x460185=_0x123199[_0x3f1683(0x381)]('.topic-actions-view'),_0x4eeb08=_0x123199['querySelector'](_0x3f1683(0x553));_0x7c00b9[_0x3f1683(0xbbb)]['toggle'](_0x3f1683(0xc6c),_0x1c8f12),_0x2e73d8['classList']['toggle'](_0x3f1683(0xc6c),!_0x1c8f12),_0x460185[_0x3f1683(0xbbb)][_0x3f1683(0x1b8)](_0x3f1683(0xc6c),_0x1c8f12),_0x4eeb08['classList'][_0x3f1683(0x1b8)]('hidden',!_0x1c8f12),_0x1c8f12&&(_0x2e73d8['focus'](),_0x2e73d8[_0x3f1683(0x35d)]());}async function handleStartLiveRace(_0x491ab9){const _0xdc4d3d=_0x3076df;let _0x141bd5=allQuizzes['find'](_0x26eedb=>_0x26eedb['id']===_0x491ab9);if(!_0x141bd5){const _0x432155=doc(db,_0xdc4d3d(0xaa1)+appId+_0xdc4d3d(0x695),_0x491ab9),_0x404fc0=await getDoc(_0x432155);if(!_0x404fc0[_0xdc4d3d(0x6b3)]()){showMessage(_0xdc4d3d(0xbe2));return;}_0x141bd5={'id':_0x404fc0['id'],..._0x404fc0[_0xdc4d3d(0x995)]()};}const _0x134581=getShuffledQuiz(_0x141bd5);currentQuizData=_0x134581;const _0x139f55=_0x141bd5['projectId']||currentProjectId||null,_0x4f9ea9=Math[_0xdc4d3d(0x230)](0x3e8+Math[_0xdc4d3d(0x386)]()*0x2328)[_0xdc4d3d(0x2ed)]();currentLiveGamePin=_0x4f9ea9;try{const _0x5b7901=await addDoc(collection(db,_0xdc4d3d(0xaa1)+appId+'/public/data/liveGames'),{'quizId':_0x491ab9,'projectId':_0x139f55,'status':_0xdc4d3d(0xab6),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x4f9ea9,'createdAt':serverTimestamp(),'shuffledQuiz':_0x134581});currentLiveGameId=_0x5b7901['id'],showAdminLobbyView(_0x4f9ea9,_0x141bd5[_0xdc4d3d(0x6a9)]),listenForLiveGameUpdates();}catch(_0x2e543d){console[_0xdc4d3d(0x405)](_0xdc4d3d(0x59f),_0x2e543d),showMessage(_0xdc4d3d(0x9ef));}}function updateSelectedTopicsCount(){const _0x42ef7d=_0x3076df,_0x991580=document[_0x42ef7d(0x48d)]('math-topics-checkbox-container'),_0x28ac56=_0x991580[_0x42ef7d(0x599)]('input[type=\x22checkbox\x22]:checked')[_0x42ef7d(0x3b0)],_0x48149b=document[_0x42ef7d(0x48d)]('selected-topics-count');_0x28ac56>0x0?_0x48149b['textContent']='(เลือกแล้ว\x20'+_0x28ac56+'\x20หัวข้อ)':_0x48149b[_0x42ef7d(0x9ea)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x3076df(0x849),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x3076df(0xc4d),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x3076df(0xb04),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x3076df(0x272),scratchpadPenColor=_0x3076df(0x5f4),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x3551ce,_0x4456ee){const _0x2601ff=_0x3076df;return Math[_0x2601ff(0xac6)](Math['pow'](_0x3551ce['x']-_0x4456ee['x'],0x2)+Math['pow'](_0x3551ce['y']-_0x4456ee['y'],0x2));}function getMidpoint(_0x55d429,_0x5296ba){return{'x':(_0x55d429['x']+_0x5296ba['x'])/0x2,'y':(_0x55d429['y']+_0x5296ba['y'])/0x2};}function getTransformedPoint(_0x5dbb74,_0x46abce){return{'x':(_0x5dbb74-scratchpadOffset['x'])/scratchpadScale,'y':(_0x46abce-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x32aa2e=_0x3076df;if(!scratchpadCtx)return;const _0x2d7318=scratchpadCtx[_0x32aa2e(0x71e)],_0x4f4f1f=window[_0x32aa2e(0xc24)]||0x1,_0xd2b477=document[_0x32aa2e(0x48d)](_0x32aa2e(0x4af));_0xd2b477&&(_0xd2b477[_0x32aa2e(0x3b4)][_0x32aa2e(0x737)]=_0x32aa2e(0x7ea),_0xd2b477[_0x32aa2e(0x3b4)][_0x32aa2e(0x2a9)]='translate('+scratchpadOffset['x']+_0x32aa2e(0xaa3)+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx[_0x32aa2e(0xc10)](),scratchpadCtx[_0x32aa2e(0x9b2)](_0x4f4f1f,0x0,0x0,_0x4f4f1f,0x0,0x0),scratchpadCtx[_0x32aa2e(0xa55)](0x0,0x0,_0x2d7318[_0x32aa2e(0xa05)],_0x2d7318['height']),scratchpadCtx['restore'](),scratchpadCtx['save'](),scratchpadCtx[_0x32aa2e(0xac5)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes['forEach'](_0x6a36e1=>{drawStroke(_0x6a36e1);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x32aa2e(0x72d)]();}function renderGroupModeQuestion(){const _0x4d64e3=_0x3076df;if(localQuestionIndex>=currentQuizData[_0x4d64e3(0x796)]['length']){displayTeamQuizFinalResults();return;}const _0x2692d9=currentQuizData[_0x4d64e3(0x796)][localQuestionIndex],_0xae3307=_0x2692d9[_0x4d64e3(0xbc3)]||currentQuizData[_0x4d64e3(0xcb9)];let _0x47e0d7=_0x2692d9['stem']||_0x2692d9[_0x4d64e3(0x833)],_0x561718='';switch(_0xae3307){case _0x4d64e3(0xa73):case _0x4d64e3(0x62e):_0x561718=_0x2692d9['options'][_0x4d64e3(0x3c9)]((_0x596b6b,_0x3e2db4)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x3e2db4+_0x4d64e3(0x24b)+_0x3e2db4+_0x4d64e3(0xa5a)+_0x3e2db4+'\x22>'+_0x596b6b+'</label></div>')[_0x4d64e3(0x28d)]('');break;case'true_false':_0x561718=_0x4d64e3(0x378);break;case _0x4d64e3(0x296):case _0x4d64e3(0xa70):_0x561718=_0x4d64e3(0x2b0);break;case _0x4d64e3(0xd01):_0x561718='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x2692d9[_0x4d64e3(0x1cf)][_0x4d64e3(0x3c9)](_0x4bb6ba=>_0x4d64e3(0xb17)+_0x4bb6ba+'\x22>'+_0x4bb6ba+_0x4d64e3(0x881))[_0x4d64e3(0x28d)]('')+_0x4d64e3(0x4ce);break;default:_0x561718=_0x4d64e3(0x31c);break;}studentQuizArea['innerHTML']=_0x4d64e3(0x560)+(localQuestionIndex+0x1)+_0x4d64e3(0x41b)+currentQuizData['questions'][_0x4d64e3(0x3b0)]+_0x4d64e3(0x840)+localTeamPlayers[_0x4d64e3(0x28d)](',\x20')+_0x4d64e3(0x784)+(localQuestionIndex+0x1)+'.\x20'+_0x47e0d7+_0x4d64e3(0x7e8)+(_0x2692d9[_0x4d64e3(0x415)]?_0x4d64e3(0xadf)+_0x2692d9[_0x4d64e3(0x415)]+_0x4d64e3(0x9b9):'')+_0x4d64e3(0xa25)+_0x561718+_0x4d64e3(0x321),studentQuizArea[_0x4d64e3(0xbbb)][_0x4d64e3(0xb7d)]('hidden');if(window[_0x4d64e3(0x278)])MathJax[_0x4d64e3(0x73c)]([studentQuizArea]);document[_0x4d64e3(0x48d)](_0x4d64e3(0x573))[_0x4d64e3(0x331)](_0x4d64e3(0x623),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x2761fb,_0x430c62=null,_0x50c6ee,_0x332aef=null,_0x23120e=![],_0x44f289=null){const _0x34bc5c=_0x3076df,_0x5a41a8=document['getElementById'](_0x34bc5c(0x644));_0x5a41a8&&_0x5a41a8[_0x34bc5c(0x624)]({'behavior':_0x34bc5c(0x677),'block':_0x34bc5c(0x529)}),generateQuiz(_0x2761fb,_0x430c62,null,_0x44f289,!![],_0x50c6ee,_0x332aef,_0x23120e);}function handleGenerateAndShowLesson(_0x5a2db9,_0x23e002){const _0x54b535=_0x3076df,_0x180a46=document[_0x54b535(0x48d)](_0x54b535(0x48a)),_0x3765c1=document['getElementById']('lesson-view-title'),_0x3dd3f1=document[_0x54b535(0x48d)]('lesson-loader'),_0x44c964=document[_0x54b535(0x48d)](_0x54b535(0x1c7));['pointContent',_0x54b535(0xb21),_0x54b535(0x1d0),'summaryContent'][_0x54b535(0x9c9)](_0x47bfc1=>{const _0x2eb339=_0x54b535,_0x6b1da8=document[_0x2eb339(0x48d)](_0x47bfc1)[_0x2eb339(0x7d6)];_0x6b1da8&&(_0x6b1da8[_0x2eb339(0x3b4)][_0x2eb339(0x418)]=_0x2eb339(0x1ee));}),_0x3765c1['textContent']=_0x54b535(0x38e)+_0x5a2db9,_0x44c964[_0x54b535(0xbbb)]['add'](_0x54b535(0xc6c)),_0x3dd3f1[_0x54b535(0xbbb)][_0x54b535(0xb7d)](_0x54b535(0xc6c)),_0x180a46['classList']['remove'](_0x54b535(0xc6c)),generateLesson(_0x5a2db9,_0x23e002)[_0x54b535(0x3b5)](_0x301563=>{const _0x534548=_0x54b535;console[_0x534548(0x405)](_0x534548(0xce6),_0x301563),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x180a46[_0x534548(0xbbb)]['add'](_0x534548(0xc6c));});}function handlePointerDown(_0x2a7388){const _0x51660b=_0x3076df;_0x2a7388[_0x51660b(0x512)]();const _0x1efb0d=scratchpadCtx[_0x51660b(0x71e)],_0x17e42d=_0x1efb0d[_0x51660b(0x67d)](),_0x28293f=_0x2a7388['pointerType']||(_0x2a7388['touches']?_0x51660b(0xb1e):'mouse');if(_0x28293f===_0x51660b(0x272)||_0x28293f==='mouse'){if(_0x2a7388['pointerType']===_0x51660b(0x3b2)&&_0x2a7388[_0x51660b(0x899)]!==0x0){_0x2a7388[_0x51660b(0x899)]===0x1&&(isMousePanning=!![],panStart={'x':_0x2a7388[_0x51660b(0xafc)],'y':_0x2a7388[_0x51660b(0x619)]},_0x1efb0d[_0x51660b(0x3b4)][_0x51660b(0x851)]=_0x51660b(0x905));return;}activeTool===_0x51660b(0x59d)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x2269ef=getTransformedPoint(_0x2a7388[_0x51660b(0xafc)]-_0x17e42d['left'],_0x2a7388['clientY']-_0x17e42d[_0x51660b(0xd06)]);let _0x3a5647={'tool':activeTool,'points':[_0x2269ef]};if(activeTool==='highlighter')_0x3a5647['color']=scratchpadHighlighterColor,_0x3a5647[_0x51660b(0xbb8)]=scratchpadHighlighterSize;else activeTool===_0x51660b(0x59d)?(_0x3a5647[_0x51660b(0x204)]=scratchpadPenColor,_0x3a5647[_0x51660b(0xbb8)]=scratchpadPenSize):(_0x3a5647['color']=scratchpadPenColor,_0x3a5647[_0x51660b(0xbb8)]=scratchpadPenSize);currentStroke=_0x3a5647;}else _0x2a7388['touches']&&(_0x2a7388[_0x51660b(0x5f5)][_0x51660b(0x3b0)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x2a7388[_0x51660b(0x5f5)][0x0][_0x51660b(0xafc)],'y':_0x2a7388[_0x51660b(0x5f5)][0x0]['clientY']},{'x':_0x2a7388[_0x51660b(0x5f5)][0x1]['clientX'],'y':_0x2a7388[_0x51660b(0x5f5)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x2a7388[_0x51660b(0x5f5)][0x0][_0x51660b(0xafc)],'y':_0x2a7388[_0x51660b(0x5f5)][0x0]['clientY']},{'x':_0x2a7388[_0x51660b(0x5f5)][0x1]['clientX'],'y':_0x2a7388['touches'][0x1]['clientY']})));}function animateTrail(){const _0x225f9d=_0x3076df,_0x5757a9=Date['now']();let _0xe73528=![];for(let _0x4c626c=strokes['length']-0x1;_0x4c626c>=0x0;_0x4c626c--){const _0x4380e2=strokes[_0x4c626c];if(_0x4380e2[_0x225f9d(0x9a8)]===_0x225f9d(0x59d)&&_0x4380e2[_0x225f9d(0x419)]){const _0x399fa8=_0x5757a9-_0x4380e2[_0x225f9d(0x419)];_0x399fa8>=TRAIL_DURATION?strokes['splice'](_0x4c626c,0x1):(_0x4380e2[_0x225f9d(0x850)]=0x1-_0x399fa8/TRAIL_DURATION,_0xe73528=!![]);}}redrawScratchpad(),_0xe73528?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x251d45){const _0x56546d=_0x3076df;if(!_0x251d45||_0x251d45[_0x56546d(0x775)]['length']<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x56546d(0xa89)]=_0x56546d(0x19c),scratchpadCtx[_0x56546d(0xd25)]=_0x56546d(0x19c);if(_0x251d45[_0x56546d(0x9a8)]===_0x56546d(0x59d)){const _0x257bb8=_0x251d45['size']/scratchpadScale;scratchpadCtx[_0x56546d(0x749)]=_0x251d45['opacity']??0x1,scratchpadCtx[_0x56546d(0xc40)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx['shadowBlur']=_0x257bb8*0x3,scratchpadCtx[_0x56546d(0x21e)]=_0x56546d(0x9f4),scratchpadCtx['lineWidth']=_0x257bb8*2.5,scratchpadCtx[_0x56546d(0xc25)](),scratchpadCtx[_0x56546d(0xb57)](_0x251d45[_0x56546d(0x775)][0x0]['x'],_0x251d45[_0x56546d(0x775)][0x0]['y']);for(let _0x2d2e85=0x1;_0x2d2e85<_0x251d45['points'][_0x56546d(0x3b0)]-0x1;_0x2d2e85++){const _0x3ff029=getMidpoint(_0x251d45[_0x56546d(0x775)][_0x2d2e85],_0x251d45[_0x56546d(0x775)][_0x2d2e85+0x1]);scratchpadCtx[_0x56546d(0xc57)](_0x251d45[_0x56546d(0x775)][_0x2d2e85]['x'],_0x251d45[_0x56546d(0x775)][_0x2d2e85]['y'],_0x3ff029['x'],_0x3ff029['y']);}scratchpadCtx[_0x56546d(0x925)](),scratchpadCtx['shadowColor']=_0x56546d(0x340),scratchpadCtx[_0x56546d(0xc91)]=0x0,scratchpadCtx[_0x56546d(0x21e)]='#FFFFFF',scratchpadCtx[_0x56546d(0xae3)]=_0x257bb8,scratchpadCtx[_0x56546d(0x925)](),scratchpadCtx['closePath']();}else{if(_0x251d45[_0x56546d(0x9a8)]===_0x56546d(0xbcd)){scratchpadCtx['globalCompositeOperation']=_0x56546d(0x813),scratchpadCtx[_0x56546d(0x21e)]=_0x251d45[_0x56546d(0x204)],scratchpadCtx[_0x56546d(0xae3)]=_0x251d45[_0x56546d(0xbb8)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x56546d(0xb57)](_0x251d45[_0x56546d(0x775)][0x0]['x'],_0x251d45[_0x56546d(0x775)][0x0]['y']);for(let _0x5f15df=0x1;_0x5f15df<_0x251d45[_0x56546d(0x775)][_0x56546d(0x3b0)]-0x1;_0x5f15df++){const _0x77801a=getMidpoint(_0x251d45[_0x56546d(0x775)][_0x5f15df],_0x251d45[_0x56546d(0x775)][_0x5f15df+0x1]);scratchpadCtx[_0x56546d(0xc57)](_0x251d45[_0x56546d(0x775)][_0x5f15df]['x'],_0x251d45[_0x56546d(0x775)][_0x5f15df]['y'],_0x77801a['x'],_0x77801a['y']);}scratchpadCtx[_0x56546d(0x925)](),scratchpadCtx['closePath']();}else{scratchpadCtx[_0x56546d(0x29e)]=_0x251d45[_0x56546d(0x9a8)]===_0x56546d(0xb3c)?_0x56546d(0x1fc):_0x56546d(0x8bb),scratchpadCtx[_0x56546d(0x21e)]=_0x251d45[_0x56546d(0x204)],scratchpadCtx[_0x56546d(0xae3)]=_0x251d45[_0x56546d(0xbb8)],scratchpadCtx[_0x56546d(0xc25)](),scratchpadCtx['moveTo'](_0x251d45[_0x56546d(0x775)][0x0]['x'],_0x251d45[_0x56546d(0x775)][0x0]['y']);for(let _0x38d52c=0x1;_0x38d52c<_0x251d45[_0x56546d(0x775)][_0x56546d(0x3b0)]-0x1;_0x38d52c++){const _0x2d3dde=getMidpoint(_0x251d45[_0x56546d(0x775)][_0x38d52c],_0x251d45[_0x56546d(0x775)][_0x38d52c+0x1]);scratchpadCtx[_0x56546d(0xc57)](_0x251d45[_0x56546d(0x775)][_0x38d52c]['x'],_0x251d45[_0x56546d(0x775)][_0x38d52c]['y'],_0x2d3dde['x'],_0x2d3dde['y']);}scratchpadCtx[_0x56546d(0x925)](),scratchpadCtx[_0x56546d(0x9d4)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x17ea59){const _0x173683=_0x3076df;_0x17ea59[_0x173683(0x512)]();const _0x12ddcd=scratchpadCtx['canvas'],_0x137179=_0x12ddcd[_0x173683(0x67d)]();if(_0x17ea59[_0x173683(0x5f5)]){if(_0x17ea59[_0x173683(0x5f5)][_0x173683(0x3b0)]===0x1&&isDrawingOnScratchpad){const _0x54c45c=getTransformedPoint(_0x17ea59[_0x173683(0x5f5)][0x0]['clientX']-_0x137179[_0x173683(0x9de)],_0x17ea59[_0x173683(0x5f5)][0x0][_0x173683(0x619)]-_0x137179[_0x173683(0xd06)]);currentStroke[_0x173683(0x775)][_0x173683(0x836)](_0x54c45c),redrawScratchpad();}else{if(_0x17ea59[_0x173683(0x5f5)][_0x173683(0x3b0)]===0x2&&isPanning){const _0x3eb408=getDistance({'x':_0x17ea59[_0x173683(0x5f5)][0x0][_0x173683(0xafc)],'y':_0x17ea59[_0x173683(0x5f5)][0x0][_0x173683(0x619)]},{'x':_0x17ea59['touches'][0x1][_0x173683(0xafc)],'y':_0x17ea59[_0x173683(0x5f5)][0x1][_0x173683(0x619)]}),_0x49e57c=getMidpoint({'x':_0x17ea59[_0x173683(0x5f5)][0x0]['clientX'],'y':_0x17ea59[_0x173683(0x5f5)][0x0]['clientY']},{'x':_0x17ea59[_0x173683(0x5f5)][0x1][_0x173683(0xafc)],'y':_0x17ea59[_0x173683(0x5f5)][0x1][_0x173683(0x619)]}),_0x3742a1=_0x3eb408/ initialPinchDistance,_0x2edae1=Math['min'](Math[_0x173683(0x6cf)](scratchpadScale*_0x3742a1,MIN_SCALE),MAX_SCALE),_0x11211e=_0x49e57c['x']-panStart['x'],_0x4e6b5b=_0x49e57c['y']-panStart['y'];scratchpadOffset['x']=_0x49e57c['x']-(_0x49e57c['x']-scratchpadOffset['x'])*(_0x2edae1/scratchpadScale),scratchpadOffset['y']=_0x49e57c['y']-(_0x49e57c['y']-scratchpadOffset['y'])*(_0x2edae1/scratchpadScale),scratchpadOffset['x']+=_0x11211e,scratchpadOffset['y']+=_0x4e6b5b,scratchpadScale=_0x2edae1,initialPinchDistance=_0x3eb408,panStart=_0x49e57c,redrawScratchpad();}}}else{if(isMousePanning){const _0xec648d=_0x17ea59[_0x173683(0xafc)]-panStart['x'],_0x4aac13=_0x17ea59[_0x173683(0x619)]-panStart['y'];scratchpadOffset['x']+=_0xec648d,scratchpadOffset['y']+=_0x4aac13,panStart={'x':_0x17ea59['clientX'],'y':_0x17ea59[_0x173683(0x619)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x4194cc=getTransformedPoint(_0x17ea59[_0x173683(0xafc)]-_0x137179[_0x173683(0x9de)],_0x17ea59[_0x173683(0x619)]-_0x137179['top']);currentStroke['points'][_0x173683(0x836)](_0x4194cc),redrawScratchpad();}}}}function handlePointerUp(_0x176148){const _0x26a512=_0x3076df;_0x176148['preventDefault']();const _0x207837=scratchpadCtx[_0x26a512(0x71e)];isMousePanning&&(isMousePanning=![],_0x207837['style'][_0x26a512(0x851)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x26a512(0x775)][_0x26a512(0x3b0)]>0x1&&(strokes['push'](currentStroke),currentStroke['tool']==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x1029aa=_0x26a512,_0x5292bc=strokes['filter'](_0x2df4b6=>_0x2df4b6[_0x1029aa(0x9a8)]==='trail'&&!_0x2df4b6[_0x1029aa(0x419)]);if(_0x5292bc[_0x1029aa(0x3b0)]>0x0){const _0x5d0a98=Date[_0x1029aa(0x95f)]();_0x5292bc[_0x1029aa(0x9c9)](_0x5e614a=>_0x5e614a[_0x1029aa(0x419)]=_0x5d0a98),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x523fd8){const _0x1df0c3=_0x3076df;_0x523fd8[_0x1df0c3(0x512)]();const _0x3e42c8=_0x523fd8[_0x1df0c3(0x814)]*-0.005,_0x55bbcd=Math[_0x1df0c3(0x54c)](Math[_0x1df0c3(0x6cf)](scratchpadScale+_0x3e42c8,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x523fd8[_0x1df0c3(0xafc)]-(_0x523fd8[_0x1df0c3(0xafc)]-scratchpadOffset['x'])*(_0x55bbcd/scratchpadScale),scratchpadOffset['y']=_0x523fd8[_0x1df0c3(0x619)]-(_0x523fd8[_0x1df0c3(0x619)]-scratchpadOffset['y'])*(_0x55bbcd/scratchpadScale),scratchpadScale=_0x55bbcd,redrawScratchpad();}function undo(){const _0x9b4a8a=_0x3076df;strokes[_0x9b4a8a(0x3b0)]>0x0&&(redoStrokes['push'](strokes[_0x9b4a8a(0x9b1)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x3658b1=_0x3076df;redoStrokes[_0x3658b1(0x3b0)]>0x0&&(strokes[_0x3658b1(0x836)](redoStrokes[_0x3658b1(0x9b1)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x2d8da8=_0x3076df;document['getElementById'](_0x2d8da8(0x334))['disabled']=strokes[_0x2d8da8(0x3b0)]===0x0,document[_0x2d8da8(0x48d)](_0x2d8da8(0x6ad))[_0x2d8da8(0x1dc)]=redoStrokes[_0x2d8da8(0x3b0)]===0x0;}function openScratchpad(_0x3a1512,_0x5b1e43){const _0x543872=_0x3076df,_0x5d60c7=document[_0x543872(0x48d)](_0x543872(0xc2a)),_0x4244ed=document['getElementById'](_0x543872(0x787)),_0x7b9441=document[_0x543872(0x48d)](_0x543872(0x307)),_0x3ef7cb=document['getElementById'](_0x543872(0x9fa));_0x4244ed[_0x543872(0x9c8)]=_0x3a1512[_0x543872(0x255)]||_0x3a1512[_0x543872(0x833)],_0x7b9441[_0x543872(0x9c8)]=_0x5b1e43[_0x543872(0x3c9)]((_0x4ad68a,_0x251526)=>_0x543872(0x382)+String[_0x543872(0x77b)](0x41+_0x251526)+'.\x20'+_0x4ad68a+'</div>')[_0x543872(0x28d)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x5d60c7[_0x543872(0xbbb)][_0x543872(0xb7d)](_0x543872(0xc6c)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x543872(0x278)])MathJax[_0x543872(0x73c)]([_0x4244ed,_0x7b9441]);}function openBlueprintQuizSettings(){const _0x3f2c78=_0x3076df,_0x50bd49=document[_0x3f2c78(0x48d)](_0x3f2c78(0x1ae)),_0x5e5e6d=blueprintPageSettings||(currentProjectData?currentProjectData[_0x3f2c78(0x1a6)]:{})||{};document[_0x3f2c78(0x48d)]('bp-modal-quiz-type-select')[_0x3f2c78(0xaef)]=_0x5e5e6d[_0x3f2c78(0xcb9)]||document['getElementById'](_0x3f2c78(0x7ad))[_0x3f2c78(0xaef)],document[_0x3f2c78(0x48d)](_0x3f2c78(0x337))[_0x3f2c78(0x9c8)]=document['getElementById'](_0x3f2c78(0xb56))[_0x3f2c78(0x9c8)],document[_0x3f2c78(0x48d)]('bp-modal-difficulty-level-select')[_0x3f2c78(0xaef)]=_0x5e5e6d['difficultyValue']||document[_0x3f2c78(0x48d)](_0x3f2c78(0xb56))[_0x3f2c78(0xaef)],document[_0x3f2c78(0x48d)]('bp-modal-question-complexity-select')[_0x3f2c78(0x9c8)]=document[_0x3f2c78(0x48d)]('question-complexity-select')[_0x3f2c78(0x9c8)],document[_0x3f2c78(0x48d)](_0x3f2c78(0x1fd))['value']=_0x5e5e6d['complexityValue']||document['getElementById'](_0x3f2c78(0xa6d))[_0x3f2c78(0xaef)],document[_0x3f2c78(0x48d)](_0x3f2c78(0x476))[_0x3f2c78(0xaef)]=_0x5e5e6d[_0x3f2c78(0x2a5)]||document[_0x3f2c78(0x48d)](_0x3f2c78(0xcc3))[_0x3f2c78(0xaef)],document[_0x3f2c78(0x48d)](_0x3f2c78(0x485))['value']=_0x5e5e6d[_0x3f2c78(0xb3b)]||document[_0x3f2c78(0x48d)]('passing-score-input')[_0x3f2c78(0xaef)],document[_0x3f2c78(0x48d)](_0x3f2c78(0xc07))['value']=_0x5e5e6d['numChoices']||document[_0x3f2c78(0x48d)]('num-choices')[_0x3f2c78(0xaef)],document[_0x3f2c78(0x48d)]('bp-modal-shuffle-setting-select')[_0x3f2c78(0xaef)]=_0x5e5e6d[_0x3f2c78(0xb29)]||document[_0x3f2c78(0x48d)](_0x3f2c78(0x4dc))[_0x3f2c78(0xaef)],document[_0x3f2c78(0x48d)](_0x3f2c78(0x499))[_0x3f2c78(0xb91)]=_0x5e5e6d[_0x3f2c78(0xceb)]||document[_0x3f2c78(0x48d)](_0x3f2c78(0xb0e))[_0x3f2c78(0xb91)],_0x50bd49['classList'][_0x3f2c78(0xb7d)]('hidden');}function handleSaveBlueprintPageSettings(){const _0x57cf0f=_0x3076df;blueprintPageSettings={'quizType':document[_0x57cf0f(0x48d)](_0x57cf0f(0xc7e))[_0x57cf0f(0xaef)],'difficultyValue':document['getElementById'](_0x57cf0f(0x337))[_0x57cf0f(0xaef)],'complexityValue':document['getElementById'](_0x57cf0f(0x1fd))[_0x57cf0f(0xaef)],'numQuestions':document[_0x57cf0f(0x48d)](_0x57cf0f(0x476))[_0x57cf0f(0xaef)],'passingScore':document[_0x57cf0f(0x48d)](_0x57cf0f(0x485))[_0x57cf0f(0xaef)],'numChoices':document[_0x57cf0f(0x48d)]('bp-modal-num-choices')[_0x57cf0f(0xaef)],'shuffle':document[_0x57cf0f(0x48d)]('bp-modal-shuffle-setting-select')[_0x57cf0f(0xaef)],'includeImages':document['getElementById'](_0x57cf0f(0x499))[_0x57cf0f(0xb91)]},showMessage(_0x57cf0f(0x99d)),document[_0x57cf0f(0x48d)](_0x57cf0f(0x1ae))['classList'][_0x57cf0f(0x49b)]('hidden');}function listenForParallelTestShortcuts(){const _0x525331=_0x3076df,_0x323a92=doc(db,_0x525331(0x3ae),_0x525331(0x1ac));onSnapshot(_0x323a92,_0x47bf7c=>{const _0x2d0fb9=_0x525331;let _0x10590e=[],_0x4b57ca=[],_0x17fbce={};if(_0x47bf7c['exists']()){const _0x34e383=_0x47bf7c['data']();_0x10590e=_0x34e383[_0x2d0fb9(0x610)]||[],_0x4b57ca=_0x34e383['parallelShortcutTabs']||[],_0x17fbce=_0x34e383[_0x2d0fb9(0xb2b)]||{};}!_0x4b57ca[_0x2d0fb9(0xcf4)](_0x46e120=>_0x46e120['id']==='all')&&_0x4b57ca['unshift']({'id':'all','name':_0x2d0fb9(0xcfb),'isDefault':!![]}),!_0x10590e['find'](_0x458665=>_0x458665['id']==='parallel-default-1')&&_0x10590e[_0x2d0fb9(0x5fb)]({'id':'parallel-default-1','name':_0x2d0fb9(0xa7b),'url':'','isDefault':!![]}),!_0x10590e[_0x2d0fb9(0xcf4)](_0x48ab96=>_0x48ab96['id']==='parallel-default-2')&&_0x10590e[_0x2d0fb9(0x5fb)]({'id':_0x2d0fb9(0x546),'name':_0x2d0fb9(0x844),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x10590e,parallelShortcutTabs=_0x4b57ca,parallelShortcutOrder=_0x17fbce,renderParallelTestShortcuts(),!document[_0x2d0fb9(0x48d)](_0x2d0fb9(0x3df))[_0x2d0fb9(0xbbb)][_0x2d0fb9(0x477)](_0x2d0fb9(0xc6c))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x5858eb=_0x3076df,_0x326eb=doc(db,_0x5858eb(0x3ae),_0x5858eb(0x1ac));try{await setDoc(_0x326eb,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x343b02){console[_0x5858eb(0x405)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x343b02);}}function renderAdditionalParallelShortcutsModal(){const _0x6518b3=_0x3076df,_0x54f1c6=document[_0x6518b3(0x48d)](_0x6518b3(0x503)),_0x9bd3e8=document[_0x6518b3(0x48d)](_0x6518b3(0x7e7));if(!_0x54f1c6||!_0x9bd3e8)return;_0x54f1c6['innerHTML']=parallelShortcutTabs[_0x6518b3(0x3c9)](_0x5032f7=>{const _0x5ef30d=_0x6518b3,_0x17e279=_0x5032f7['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x5032f7['id']+'\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x17e279?_0x5ef30d(0x49c):_0x5ef30d(0x976))+_0x5ef30d(0xa9d)+_0x5032f7[_0x5ef30d(0x774)]+_0x5ef30d(0x2de)+_0x5032f7[_0x5ef30d(0x774)]+_0x5ef30d(0xb63)+(!_0x5032f7[_0x5ef30d(0x32d)]?'<button\x20data-tab-id=\x22'+_0x5032f7['id']+_0x5ef30d(0x7bd):'')+_0x5ef30d(0x9d6);})['join']('');const _0x1b1bb9=parallelShortcutTabs[_0x6518b3(0xcf4)](_0x43db0a=>_0x43db0a['id']===activeParallelShortcutTabId);let _0x372a1c=_0x1b1bb9?.[_0x6518b3(0x32d)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x6518b3(0x475)](_0x48eca4=>(_0x1b1bb9?.[_0x6518b3(0x8ad)]||[])['includes'](_0x48eca4['id']));const _0x29f4df=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x372a1c[_0x6518b3(0xa41)]((_0x4706da,_0x26e6d6)=>{const _0x1a06a6=_0x6518b3,_0x705b7d=_0x29f4df[_0x1a06a6(0x2ea)](_0x4706da['id']),_0x3d7e1f=_0x29f4df[_0x1a06a6(0x2ea)](_0x26e6d6['id']);return(_0x705b7d===-0x1?Infinity:_0x705b7d)-(_0x3d7e1f===-0x1?Infinity:_0x3d7e1f);}),_0x9bd3e8[_0x6518b3(0x9c8)]=_0x372a1c[_0x6518b3(0x3c9)](_0xf6a2=>{const _0x5b34e8=_0x6518b3,_0x692ea3=_0xf6a2['url']?'🔁':'🔗',_0x496011=parallelShortcutTabs['filter'](_0x1eb904=>!_0x1eb904[_0x5b34e8(0x32d)]),_0x58c893=_0x1b1bb9[_0x5b34e8(0x32d)]&&_0x496011[_0x5b34e8(0x3b0)]>0x0?_0x5b34e8(0x451)+_0x496011['map'](_0xdce030=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0xf6a2['id']+'\x22\x20data-target-tab-id=\x22'+_0xdce030['id']+'\x22>'+_0xdce030['name']+_0x5b34e8(0x438))[_0x5b34e8(0x28d)]('')+_0x5b34e8(0x75d):'';return _0x5b34e8(0x41c)+_0xf6a2['id']+_0x5b34e8(0xa5c)+_0x692ea3+'\x20'+_0xf6a2[_0x5b34e8(0x774)]+_0x5b34e8(0x6f3)+_0xf6a2['id']+_0x5b34e8(0x200)+_0xf6a2['id']+_0x5b34e8(0x5ae)+(!_0xf6a2['isDefault']?_0x5b34e8(0xb20)+_0xf6a2['id']+_0x5b34e8(0x81e):'')+_0x5b34e8(0xc31)+(!_0x1b1bb9[_0x5b34e8(0x32d)]?_0x5b34e8(0x1a4)+_0xf6a2['id']+_0x5b34e8(0x19f):'')+_0x5b34e8(0xc31)+_0x58c893+_0x5b34e8(0x22d);})['join']('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x4654d5=_0x3076df;document[_0x4654d5(0x599)](_0x4654d5(0xba3))[_0x4654d5(0x9c9)](_0x22db56=>{const _0x513933=_0x4654d5;_0x22db56[_0x513933(0x2ee)]=_0x428815=>{const _0x1dc396=_0x513933;activeParallelShortcutTabId=_0x428815[_0x1dc396(0x328)]['dataset']['tabId'],renderAdditionalParallelShortcutsModal();},_0x22db56[_0x513933(0x21b)]=_0x7d69f7=>{const _0x338ae8=_0x513933,_0x17dac9=_0x7d69f7[_0x338ae8(0x328)]['querySelector'](_0x338ae8(0x577));_0x7d69f7[_0x338ae8(0x328)][_0x338ae8(0x381)](_0x338ae8(0x4c4))['classList'][_0x338ae8(0x49b)](_0x338ae8(0xc6c)),_0x17dac9[_0x338ae8(0xbbb)][_0x338ae8(0xb7d)]('hidden'),_0x17dac9[_0x338ae8(0x2b1)](),_0x17dac9[_0x338ae8(0x35d)]();};}),document['querySelectorAll']('#parallel-shortcut-tabs-nav\x20.tab-name-input')[_0x4654d5(0x9c9)](_0x10224d=>{const _0x1149e2=_0x4654d5,_0x25ae97=()=>{const _0x21941c=_0x520b,_0x4c954f=_0x10224d['closest'](_0x21941c(0xba3))[_0x21941c(0x40c)][_0x21941c(0x4c8)],_0x43bac7=parallelShortcutTabs[_0x21941c(0xcf4)](_0x4b67d4=>_0x4b67d4['id']===_0x4c954f);_0x43bac7&&(_0x43bac7[_0x21941c(0x774)]=_0x10224d[_0x21941c(0xaef)][_0x21941c(0x7fe)]()||_0x43bac7[_0x21941c(0x774)],saveParallelShortcutConfig());};_0x10224d[_0x1149e2(0x4d4)]=_0x25ae97,_0x10224d[_0x1149e2(0x398)]=_0xd3a11e=>{const _0x13e5ea=_0x1149e2;if(_0xd3a11e[_0x13e5ea(0x5f2)]===_0x13e5ea(0x1c2))_0x10224d[_0x13e5ea(0xc81)]();};}),document[_0x4654d5(0x599)](_0x4654d5(0x605))['forEach'](_0x2b4ab7=>_0x2b4ab7[_0x4654d5(0x2ee)]=_0x2562e2=>{const _0x1b05e4=_0x4654d5,_0x502409=_0x2562e2[_0x1b05e4(0x328)][_0x1b05e4(0x40c)][_0x1b05e4(0x4c8)];showConfirmation(_0x1b05e4(0x693),()=>{const _0x8715e0=_0x1b05e4;parallelShortcutTabs=parallelShortcutTabs[_0x8715e0(0x475)](_0x1d5b08=>_0x1d5b08['id']!==_0x502409),delete parallelShortcutOrder[_0x502409];if(activeParallelShortcutTabId===_0x502409)activeParallelShortcutTabId=_0x8715e0(0x6a5);saveParallelShortcutConfig();});}),document[_0x4654d5(0x599)]('.move-parallel-shortcut-item')[_0x4654d5(0x9c9)](_0x20a153=>_0x20a153[_0x4654d5(0x2ee)]=_0x2ca2cf=>{const _0x5465c2=_0x4654d5;_0x2ca2cf[_0x5465c2(0x512)]();const {shortcutId:_0x49f75e,targetTabId:_0x2c3e08}=_0x2ca2cf[_0x5465c2(0x328)]['dataset'],_0xace308=parallelShortcutTabs[_0x5465c2(0xcf4)](_0x274948=>_0x274948['id']===_0x2c3e08);_0xace308&&!_0xace308[_0x5465c2(0x8ad)][_0x5465c2(0x59e)](_0x49f75e)&&(_0xace308[_0x5465c2(0x8ad)]['push'](_0x49f75e),saveParallelShortcutConfig());}),document['querySelectorAll']('.remove-parallel-shortcut-from-tab-btn')[_0x4654d5(0x9c9)](_0x445248=>_0x445248[_0x4654d5(0x2ee)]=_0x3c1b75=>{const _0x79458b=_0x4654d5,_0x3ecbe1=_0x3c1b75[_0x79458b(0x328)]['dataset'][_0x79458b(0x99f)],_0x573e8b=parallelShortcutTabs['find'](_0x4be418=>_0x4be418['id']===activeParallelShortcutTabId);_0x573e8b&&!_0x573e8b[_0x79458b(0x32d)]&&(_0x573e8b[_0x79458b(0x8ad)]=_0x573e8b['shortcutIds'][_0x79458b(0x475)](_0x39ed41=>_0x39ed41!==_0x3ecbe1),saveParallelShortcutConfig());}),document['querySelectorAll']('.move-parallel-shortcut-menu-btn')[_0x4654d5(0x9c9)](_0xb614c9=>_0xb614c9['onclick']=_0x58b0e2=>{const _0x255618=_0x4654d5;_0x58b0e2[_0x255618(0xc89)]();const _0x38acf9=_0x58b0e2[_0x255618(0x328)][_0x255618(0x1f3)];document[_0x255618(0x599)](_0x255618(0x9a5))['forEach'](_0x1e1d10=>_0x1e1d10[_0x255618(0xbbb)][_0x255618(0x49b)](_0x255618(0xc6c))),_0x38acf9[_0x255618(0xbbb)][_0x255618(0xb7d)](_0x255618(0xc6c));});const _0x16ba11=document[_0x4654d5(0x48d)](_0x4654d5(0x7e7));let _0x292ca2=null;_0x16ba11[_0x4654d5(0xab5)]=_0x3adb8e=>{const _0x424fa3=_0x4654d5;_0x292ca2=_0x3adb8e['target']['closest'](_0x424fa3(0x828));if(_0x292ca2)setTimeout(()=>_0x292ca2[_0x424fa3(0xbbb)]['add']('opacity-50'),0x0);},_0x16ba11[_0x4654d5(0x20c)]=()=>{const _0x42e59c=_0x4654d5;_0x292ca2&&(_0x292ca2['classList']['remove'](_0x42e59c(0x672)),_0x292ca2=null);},_0x16ba11[_0x4654d5(0xbfc)]=_0x1de910=>{const _0x24e2df=_0x4654d5;_0x1de910[_0x24e2df(0x512)]();},_0x16ba11[_0x4654d5(0xcbe)]=_0x3dd3fe=>{const _0x42ebec=_0x4654d5;_0x3dd3fe[_0x42ebec(0x512)]();if(_0x292ca2){const _0x515982=[..._0x16ba11[_0x42ebec(0x599)](_0x42ebec(0x2e7))][_0x42ebec(0x2f8)]((_0x470c2a,_0xf885e)=>{const _0x525935=_0x42ebec,_0x2fb71e=_0xf885e[_0x525935(0x67d)](),_0x3171da=_0x3dd3fe[_0x525935(0x619)]-_0x2fb71e['top']-_0x2fb71e[_0x525935(0xd08)]/0x2;return _0x3171da<0x0&&_0x3171da>_0x470c2a[_0x525935(0xbdd)]?{'offset':_0x3171da,'element':_0xf885e}:_0x470c2a;},{'offset':Number['NEGATIVE_INFINITY']})[_0x42ebec(0xa1d)];_0x515982==null?_0x16ba11[_0x42ebec(0xcff)](_0x292ca2):_0x16ba11['insertBefore'](_0x292ca2,_0x515982);const _0x2c23be=[..._0x16ba11[_0x42ebec(0x599)]('.shortcut-list-item')][_0x42ebec(0x3c9)](_0x3c62a2=>_0x3c62a2['dataset'][_0x42ebec(0x99f)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x2c23be,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x193341=_0x3076df,_0x2569d8=prompt(_0x193341(0x89b),_0x193341(0xa9f));_0x2569d8&&_0x2569d8['trim']()&&(parallelShortcutTabs[_0x193341(0x836)]({'id':'tab_'+Date[_0x193341(0x95f)](),'name':_0x2569d8[_0x193341(0x7fe)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x27f017=_0x3076df,_0x2be33c=document[_0x27f017(0x48d)](_0x27f017(0x2d1)),_0x328d10=document[_0x27f017(0x48d)](_0x27f017(0x7e7)),_0x352fb5=document['getElementById'](_0x27f017(0x725));if(_0x352fb5)_0x352fb5[_0x27f017(0xbbb)]['add']('hidden');if(!_0x2be33c||!_0x328d10)return;const _0x47293f=parallelTestShortcuts[_0x27f017(0x9e0)](0x0,0x4),_0x505d5c=parallelTestShortcuts['slice'](0x4);_0x2be33c[_0x27f017(0x9c8)]=_0x47293f[_0x27f017(0x3c9)](_0x420a0f=>{const _0x7c9e53=_0x27f017,_0x1abec4=_0x420a0f[_0x7c9e53(0xa5e)]&&_0x420a0f['url'][_0x7c9e53(0x7fe)]()!=='',_0x17f85c=_0x1abec4?'bg-teal-500\x20hover:bg-teal-600\x20text-white':'bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x452e13=_0x1abec4?'🔁':'🔗',_0xd00a74=!_0x420a0f[_0x7c9e53(0x32d)]?_0x7c9e53(0xb20)+_0x420a0f['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x7c9e53(0x88f)+_0x420a0f['id']+'\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x17f85c+_0x7c9e53(0x387)+_0x452e13+'\x20'+_0x420a0f[_0x7c9e53(0x774)]+_0x7c9e53(0x34d)+_0x420a0f['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd00a74+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''),_0x505d5c[_0x27f017(0x3b0)]>0x0&&(_0x2be33c[_0x27f017(0x9c8)]+=_0x27f017(0x5b8)),_0x505d5c[_0x27f017(0x3b0)]>0x0?_0x328d10['innerHTML']=_0x505d5c[_0x27f017(0x3c9)](_0x54ee13=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x54ee13[_0x27f017(0xa5e)]?'🔁':'🔗')+'\x20'+_0x54ee13[_0x27f017(0x774)]+_0x27f017(0x9db)+_0x54ee13['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x54ee13['id']+_0x27f017(0xd20)+(!_0x54ee13['isDefault']?'<button\x20data-id=\x22'+_0x54ee13['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x27f017(0x40f))[_0x27f017(0x28d)](''):_0x328d10['innerHTML']=_0x27f017(0x530);}function openParallelTestShortcutEditor(_0x2e27a5=null){const _0x48375f=_0x3076df,_0x4e5385=document[_0x48375f(0x48d)]('parallel-shortcut-editor-modal'),_0x283701=document['getElementById'](_0x48375f(0xb28)),_0x5cc7ce=document['getElementById'](_0x48375f(0x1a2)),_0x1e1d3d=document[_0x48375f(0x48d)](_0x48375f(0x6eb)),_0x2705ad=document[_0x48375f(0x48d)](_0x48375f(0x665));if(_0x2e27a5){const _0x2d8d04=parallelTestShortcuts[_0x48375f(0xcf4)](_0x258e53=>_0x258e53['id']===_0x2e27a5);if(!_0x2d8d04)return;_0x283701[_0x48375f(0x9ea)]=_0x48375f(0x955),_0x5cc7ce['value']=_0x2d8d04['id'],_0x1e1d3d[_0x48375f(0xaef)]=_0x2d8d04['name'],_0x2705ad[_0x48375f(0xaef)]=_0x2d8d04[_0x48375f(0xa5e)]||'';}else _0x283701['textContent']=_0x48375f(0x320),_0x5cc7ce[_0x48375f(0xaef)]='',_0x1e1d3d[_0x48375f(0xaef)]='',_0x2705ad[_0x48375f(0xaef)]='';_0x4e5385['classList'][_0x48375f(0xb7d)](_0x48375f(0xc6c));}async function saveParallelTestShortcutChanges(){const _0x4079a2=_0x3076df,_0x10e14c=document[_0x4079a2(0x48d)]('parallel-shortcut-id-input')['value'],_0x2e6f97=document[_0x4079a2(0x48d)](_0x4079a2(0x6eb))[_0x4079a2(0xaef)][_0x4079a2(0x7fe)](),_0x318c60=document[_0x4079a2(0x48d)](_0x4079a2(0x665))[_0x4079a2(0xaef)][_0x4079a2(0x7fe)]();if(!_0x2e6f97){showMessage(_0x4079a2(0x9e2));return;}const _0x790c6f={'id':_0x10e14c||'parallel-shortcut_'+Date[_0x4079a2(0x95f)](),'name':_0x2e6f97,'url':_0x318c60,'isDefault':_0x10e14c['startsWith']('parallel-default-')};let _0x130b1c;_0x10e14c?_0x130b1c=parallelTestShortcuts[_0x4079a2(0x3c9)](_0x5e2954=>_0x5e2954['id']===_0x10e14c?_0x790c6f:_0x5e2954):_0x130b1c=[...parallelTestShortcuts,_0x790c6f];try{const _0x37ae73=doc(db,_0x4079a2(0x3ae),_0x4079a2(0x1ac));await setDoc(_0x37ae73,{'shortcuts':_0x130b1c},{'merge':!![]}),document[_0x4079a2(0x48d)](_0x4079a2(0xcae))[_0x4079a2(0xbbb)][_0x4079a2(0x49b)](_0x4079a2(0xc6c));}catch(_0x3ffb5b){console['error'](_0x4079a2(0x3a4),_0x3ffb5b),showMessage(_0x4079a2(0xb90));}}async function handleParallelTestShortcutClick(_0x2ca119){const _0x47f4a4=_0x3076df,_0x32bd59=parallelTestShortcuts[_0x47f4a4(0xcf4)](_0x3701ff=>_0x3701ff['id']===_0x2ca119);if(!_0x32bd59)return;if(!_0x32bd59['url']||_0x32bd59[_0x47f4a4(0xa5e)][_0x47f4a4(0x7fe)]()===''){openParallelTestShortcutEditor(_0x2ca119);return;}const _0x36274d=document[_0x47f4a4(0x48d)](_0x47f4a4(0x759)),_0x4b3689=document[_0x47f4a4(0x48d)](_0x47f4a4(0x6f1));document[_0x47f4a4(0x48d)](_0x47f4a4(0x644))[_0x47f4a4(0xbbb)][_0x47f4a4(0xb7d)]('hidden'),document[_0x47f4a4(0x48d)](_0x47f4a4(0x60a))['innerHTML']='',_0x36274d['classList'][_0x47f4a4(0xb7d)](_0x47f4a4(0xc6c)),_0x4b3689[_0x47f4a4(0x9ea)]=_0x47f4a4(0x847);try{let _0x15b4fc;_0x32bd59['url']['toLowerCase']()[_0x47f4a4(0x59e)](_0x47f4a4(0x96c))?_0x15b4fc='source_document.txt':_0x15b4fc=_0x47f4a4(0x70d);const _0x4ac78c=await fetchFileFromUrl(_0x32bd59[_0x47f4a4(0xa5e)],_0x15b4fc);await handleGenerateParallelTest(_0x4ac78c);}catch(_0x2c3584){console[_0x47f4a4(0x405)](_0x47f4a4(0x5b7),_0x2c3584),showMessage(_0x47f4a4(0x427)+_0x2c3584[_0x47f4a4(0x5ce)]),_0x36274d[_0x47f4a4(0xbbb)][_0x47f4a4(0x49b)](_0x47f4a4(0xc6c));}}function initializeScratchpadCanvas(){const _0xc1ca71=_0x3076df,_0x221c42=document['getElementById'](_0xc1ca71(0x440)),_0xa25380=document[_0xc1ca71(0x381)](_0xc1ca71(0x5b6));if(!_0x221c42||!_0xa25380)return;scratchpadCtx=_0x221c42[_0xc1ca71(0x683)]('2d',{'willReadFrequently':!![]});const _0x3911bb=window[_0xc1ca71(0xc24)]||0x1,_0x4b87db=_0xa25380['getBoundingClientRect']();_0x221c42[_0xc1ca71(0xa05)]=_0x4b87db[_0xc1ca71(0xa05)]*_0x3911bb,_0x221c42['height']=_0x4b87db[_0xc1ca71(0xd08)]*_0x3911bb,_0x221c42['style'][_0xc1ca71(0xa05)]=_0x4b87db[_0xc1ca71(0xa05)]+'px',_0x221c42[_0xc1ca71(0x3b4)][_0xc1ca71(0xd08)]=_0x4b87db[_0xc1ca71(0xd08)]+'px',scratchpadCtx['scale'](_0x3911bb,_0x3911bb),scratchpadCtx[_0xc1ca71(0xa89)]=_0xc1ca71(0x19c),scratchpadCtx[_0xc1ca71(0xd25)]=_0xc1ca71(0x19c),_0x221c42[_0xc1ca71(0x210)](_0xc1ca71(0x347),handlePointerDown),_0x221c42[_0xc1ca71(0x210)]('pointermove',handlePointerMove),_0x221c42[_0xc1ca71(0x210)]('pointerup',handlePointerUp),_0x221c42[_0xc1ca71(0x210)]('pointercancel',handlePointerUp),_0x221c42[_0xc1ca71(0x210)](_0xc1ca71(0x531),handleWheel),_0x221c42[_0xc1ca71(0x210)](_0xc1ca71(0xc49),handlePointerDown),_0x221c42['removeEventListener']('touchmove',handlePointerMove),_0x221c42[_0xc1ca71(0x210)](_0xc1ca71(0xae2),handlePointerUp),_0x221c42[_0xc1ca71(0x331)](_0xc1ca71(0x347),handlePointerDown),_0x221c42[_0xc1ca71(0x331)](_0xc1ca71(0x50d),handlePointerMove),_0x221c42[_0xc1ca71(0x331)](_0xc1ca71(0x6f7),handlePointerUp),_0x221c42['addEventListener'](_0xc1ca71(0x8e2),handlePointerUp),_0x221c42[_0xc1ca71(0x331)](_0xc1ca71(0x531),handleWheel,{'passive':![]}),_0x221c42['addEventListener'](_0xc1ca71(0xc49),handlePointerDown,{'passive':![]}),_0x221c42['addEventListener'](_0xc1ca71(0x4d7),handlePointerMove,{'passive':![]}),_0x221c42[_0xc1ca71(0x331)](_0xc1ca71(0xae2),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x588ac4=_0x3076df,_0x10b17b=document[_0x588ac4(0x48d)]('scratchpad-modal'),_0x2ffda3=document['getElementById']('scratchpad-controls');_0x2ffda3['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x588ac4(0xaec);const _0x509f3f=document[_0x588ac4(0x48d)]('pen-tool-btn'),_0x3a9296=document[_0x588ac4(0x48d)](_0x588ac4(0x9f9)),_0x163726=document[_0x588ac4(0x48d)](_0x588ac4(0x507)),_0x2c91aa=document[_0x588ac4(0x48d)](_0x588ac4(0x417)),_0x533050=document[_0x588ac4(0x48d)](_0x588ac4(0x608)),_0x31e11d=document[_0x588ac4(0x48d)](_0x588ac4(0xac9)),_0xc4aac6=[_0x509f3f,_0x3a9296,_0x163726,_0x2c91aa];document[_0x588ac4(0x48d)](_0x588ac4(0x7bb))[_0x588ac4(0x331)](_0x588ac4(0x623),()=>_0x10b17b['classList'][_0x588ac4(0x49b)]('hidden')),document['getElementById']('reset-view-btn')[_0x588ac4(0x331)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x588ac4(0x48d)](_0x588ac4(0x728))[_0x588ac4(0x331)]('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x588ac4(0x48d)](_0x588ac4(0x334))[_0x588ac4(0x331)](_0x588ac4(0x623),undo),document['getElementById'](_0x588ac4(0x6ad))['addEventListener'](_0x588ac4(0x623),redo);const _0x5e8b49=_0x199d17=>{const _0x49a850=_0x588ac4;_0xc4aac6[_0x49a850(0x9c9)](_0x2a8a29=>_0x2a8a29[_0x49a850(0xbbb)]['remove'](_0x49a850(0x28f))),_0x199d17['classList'][_0x49a850(0x49b)]('active');const _0x222ff5=_0x199d17===_0x2c91aa;_0x533050[_0x49a850(0xbbb)][_0x49a850(0x1b8)]('hidden',_0x222ff5),_0x31e11d[_0x49a850(0xbbb)][_0x49a850(0x1b8)](_0x49a850(0xc6c),!_0x222ff5);};_0x509f3f[_0x588ac4(0x331)]('click',()=>{activeTool='pen',_0x5e8b49(_0x509f3f);}),_0x3a9296[_0x588ac4(0x331)](_0x588ac4(0x623),()=>{const _0x382204=_0x588ac4;activeTool=_0x382204(0xb3c),_0x5e8b49(_0x3a9296);}),_0x163726[_0x588ac4(0x331)]('click',()=>{activeTool='trail',_0x5e8b49(_0x163726);}),_0x2c91aa[_0x588ac4(0x331)](_0x588ac4(0x623),()=>{const _0x4d12f7=_0x588ac4;activeTool=_0x4d12f7(0xbcd),_0x5e8b49(_0x2c91aa);}),_0x533050[_0x588ac4(0x599)]('.pen-size-btn')['forEach'](_0x2f5846=>{const _0x5e90e8=_0x588ac4;_0x2f5846[_0x5e90e8(0x331)](_0x5e90e8(0x623),_0x51a61a=>{const _0x45078d=_0x5e90e8;scratchpadPenSize=parseInt(_0x51a61a['target'][_0x45078d(0x40c)][_0x45078d(0xbb8)],0xa),_0x533050[_0x45078d(0x599)](_0x45078d(0xc37))[_0x45078d(0x9c9)](_0x94f09a=>_0x94f09a[_0x45078d(0xbbb)][_0x45078d(0xb7d)](_0x45078d(0x28f))),_0x51a61a[_0x45078d(0x805)][_0x45078d(0xbbb)][_0x45078d(0x49b)]('active');});}),_0x533050[_0x588ac4(0x599)](_0x588ac4(0x7c2))[_0x588ac4(0x9c9)](_0x53927f=>{const _0x251d7a=_0x588ac4;_0x53927f[_0x251d7a(0x331)](_0x251d7a(0x623),_0x50e991=>{const _0x401b12=_0x251d7a;scratchpadPenColor=_0x50e991['target'][_0x401b12(0x40c)][_0x401b12(0x204)],_0x533050[_0x401b12(0x599)](_0x401b12(0x7c2))[_0x401b12(0x9c9)](_0x54bb87=>_0x54bb87[_0x401b12(0xbbb)][_0x401b12(0xb7d)](_0x401b12(0x28f))),_0x50e991[_0x401b12(0x805)][_0x401b12(0xbbb)][_0x401b12(0x49b)](_0x401b12(0x28f));});}),_0x31e11d[_0x588ac4(0x599)](_0x588ac4(0x32f))['forEach'](_0x217095=>{const _0x4326ff=_0x588ac4;_0x217095[_0x4326ff(0x331)]('click',_0x5b92e0=>{const _0x3596e5=_0x4326ff;scratchpadHighlighterColor=_0x5b92e0[_0x3596e5(0x805)][_0x3596e5(0x40c)][_0x3596e5(0x204)],_0x31e11d[_0x3596e5(0x599)](_0x3596e5(0x32f))[_0x3596e5(0x9c9)](_0x3dae0f=>_0x3dae0f['classList']['remove']('active')),_0x5b92e0[_0x3596e5(0x805)][_0x3596e5(0xbbb)]['add'](_0x3596e5(0x28f));});});const _0x4dac3a=document[_0x588ac4(0x48d)](_0x588ac4(0x473)),_0x10182f=document[_0x588ac4(0x48d)](_0x588ac4(0x517));_0x4dac3a['addEventListener'](_0x588ac4(0x6c3),_0x13fa7a=>{const _0x32434e=_0x588ac4,_0x21fcca=parseInt(_0x13fa7a[_0x32434e(0x805)]['value'],0xa);scratchpadHighlighterSize=_0x21fcca,_0x10182f[_0x32434e(0x9ea)]=_0x21fcca;}),window[_0x588ac4(0x331)](_0x588ac4(0x452),()=>{const _0x107cfc=_0x588ac4;!_0x10b17b[_0x107cfc(0xbbb)]['contains'](_0x107cfc(0xc6c))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x3076df(0x541),'name':_0x3076df(0x308),'description':_0x3076df(0x782),'icon':_0x3076df(0xa65)},'QUICK_THINKER':{'id':_0x3076df(0x76f),'name':_0x3076df(0x7d2),'description':_0x3076df(0xb6e),'icon':_0x3076df(0xa34)},'ON_FIRE':{'id':'on_fire','name':'ท็อปฟอร์ม','description':_0x3076df(0x83b),'icon':_0x3076df(0xb73)},'FIRST_TRY_ACE':{'id':_0x3076df(0x8ee),'name':'ผ่านฉลุย','description':_0x3076df(0x705),'icon':_0x3076df(0x285)},'COMEBACK_KING':{'id':_0x3076df(0x528),'name':'ราชาคัมแบ็ก','description':_0x3076df(0x36b),'icon':_0x3076df(0x950)},'SPECIALIST':{'id':'specialist','name':_0x3076df(0x626),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x3076df(0x5e8)},'PERSEVERANCE':{'id':_0x3076df(0x351),'name':_0x3076df(0xb8c),'description':_0x3076df(0xbeb),'icon':_0x3076df(0x58f)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':'ai-quiz-app-aefee','storageBucket':_0x3076df(0x9a0),'messagingSenderId':_0x3076df(0x79b),'appId':_0x3076df(0x5ab),'measurementId':_0x3076df(0x1fe)},appId=typeof __app_id!==_0x3076df(0xc13)?__app_id:_0x3076df(0xa6e),adminView=document[_0x3076df(0x48d)](_0x3076df(0x192)),studentView=document[_0x3076df(0x48d)](_0x3076df(0x66b)),projectDashboardView=document[_0x3076df(0x48d)](_0x3076df(0x92b)),projectDetailView=document[_0x3076df(0x48d)]('project-detail-view'),quizResultsView=document[_0x3076df(0x48d)](_0x3076df(0x44c)),projectList=document[_0x3076df(0x48d)](_0x3076df(0xc96)),noProjectsMsg=document[_0x3076df(0x48d)](_0x3076df(0x65a)),projectTitle=document[_0x3076df(0x48d)](_0x3076df(0xaff)),projectIdDisplay=document[_0x3076df(0x48d)](_0x3076df(0x4e6)),studentList=document[_0x3076df(0x48d)](_0x3076df(0x292)),messageModal=document[_0x3076df(0x48d)](_0x3076df(0xcaa)),modalMessage=document[_0x3076df(0x48d)]('modal-message'),createProjectModal=document['getElementById']('create-project-modal'),adminPasswordModal=document[_0x3076df(0x48d)](_0x3076df(0x31b)),confirmationModal=document[_0x3076df(0x48d)]('confirmation-modal'),userIdDisplay=document[_0x3076df(0x48d)](_0x3076df(0xb5c)),topicTab=document[_0x3076df(0x48d)](_0x3076df(0xb0f)),textTab=document['getElementById'](_0x3076df(0xab1)),topicInputArea=document[_0x3076df(0x48d)](_0x3076df(0xc64)),textInputArea=document[_0x3076df(0x48d)](_0x3076df(0xc94)),manageTab=document[_0x3076df(0x48d)](_0x3076df(0x5f7)),resultsTab=document[_0x3076df(0x48d)](_0x3076df(0x906)),leaderboardTab=document[_0x3076df(0x48d)](_0x3076df(0xa3d)),manageTabContent=document[_0x3076df(0x48d)]('manage-tab-content'),resultsTabContent=document[_0x3076df(0x48d)](_0x3076df(0x9f1)),leaderboardTabContent=document[_0x3076df(0x48d)]('leaderboard-tab-content'),projectQuizzesList=document[_0x3076df(0x48d)](_0x3076df(0xca2)),fileTab=document[_0x3076df(0x48d)]('file-tab'),fileInputArea=document[_0x3076df(0x48d)](_0x3076df(0xcf7)),fileUploadInput=document[_0x3076df(0x48d)]('file-upload-input'),worksheetTab=document[_0x3076df(0x48d)](_0x3076df(0x197)),worksheetInputArea=document[_0x3076df(0x48d)](_0x3076df(0x206)),generateWorksheetBtn=document[_0x3076df(0x48d)]('generate-worksheet-btn'),studentInitialView=document['getElementById'](_0x3076df(0x61c)),studentNameSelectionView=document[_0x3076df(0x48d)](_0x3076df(0x63b)),studentQuizArea=document[_0x3076df(0x48d)](_0x3076df(0xcec)),studentResultArea=document[_0x3076df(0x48d)](_0x3076df(0x240)),studentReadingArea=document[_0x3076df(0x48d)](_0x3076df(0xc9e)),loadQuizBtn=document[_0x3076df(0x48d)](_0x3076df(0x249)),startQuizBtn=document[_0x3076df(0x48d)](_0x3076df(0x876)),studentJoinGameView=document[_0x3076df(0x48d)](_0x3076df(0xab8)),presentationModal=document[_0x3076df(0x48d)](_0x3076df(0xa85)),renameQuizModal=document[_0x3076df(0x48d)]('rename-quiz-modal'),moveQuizModal=document[_0x3076df(0x48d)]('move-quiz-modal'),quizSettingsModal=document[_0x3076df(0x48d)](_0x3076df(0xad1)),quizStatusModal=document['getElementById'](_0x3076df(0xa95)),liveGameView=document[_0x3076df(0x48d)](_0x3076df(0x6e6));function handleFixLessonLatex(){const _0x475555=_0x3076df,_0x5d56fe=document['getElementById'](_0x475555(0x435));if(!_0x5d56fe){showMessage(_0x475555(0xc99));return;}const _0x4bf7b6=_0x5d56fe[_0x475555(0x599)](['.ai-content\x20p',_0x475555(0xb71),'.ai-content\x20blockquote',_0x475555(0x71f),_0x475555(0x4da)]['join'](','));let _0x2a3557=0x0;const _0x135bb2=_0x50e067=>_0x50e067[_0x475555(0x9ea)]||'',_0x210ee9=(_0x257230,_0x24822e)=>{const _0x1a3fe4=_0x475555;if(_0x257230[_0x1a3fe4(0x381)]&&_0x257230[_0x1a3fe4(0x381)]('mjx-container'))return;_0x257230[_0x1a3fe4(0x9ea)]=_0x24822e;},_0x842a1d=_0x525ec9=>_0x525ec9[_0x475555(0x1ba)](/\u00A0/g,'\x20')[_0x475555(0x1ba)](/\u200B/g,'')[_0x475555(0x1ba)](/\r\n?/g,'\x0a'),_0x481591=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x539d4c=_0x2faae1=>{const _0x31f36c=_0x475555;let _0x35fc7e=_0x2faae1[_0x31f36c(0x7fe)]();const _0x3b45a9=['frac',_0x31f36c(0xc1f),'tfrac',_0x31f36c(0xac6),_0x31f36c(0x5ca),_0x31f36c(0x1e9),_0x31f36c(0x300),_0x31f36c(0x283),_0x31f36c(0xcde),_0x31f36c(0x2b4),'le','ge','neq','pm',_0x31f36c(0x72f),_0x31f36c(0xaa4),'cos',_0x31f36c(0x311),_0x31f36c(0x676),'ln',_0x31f36c(0x90e),_0x31f36c(0xabd),_0x31f36c(0xbce),'left',_0x31f36c(0x590),_0x31f36c(0xb10),_0x31f36c(0x437),'circ',_0x31f36c(0x493)];_0x3b45a9[_0x31f36c(0x9c9)](_0x2707fd=>{const _0x1158d8=_0x31f36c;_0x35fc7e=_0x35fc7e[_0x1158d8(0x1ba)](new RegExp(_0x1158d8(0x72b)+_0x2707fd+'\x5cb','g'),(_0x4dd342,_0x4a8915)=>_0x4a8915+'\x5c'+_0x2707fd);});const _0x130cf9=[[/×/g,'\x5ctimes'],[/·/g,_0x31f36c(0x839)],[/÷/g,_0x31f36c(0x2f2)],[/≤/g,_0x31f36c(0xbee)],[/≥/g,'\x5cge'],[/≠/g,_0x31f36c(0x65d)],[/±/g,_0x31f36c(0x1e4)],[/∑/g,_0x31f36c(0xa76)],[/−/g,'-']];return _0x130cf9[_0x31f36c(0x9c9)](([_0xbebe61,_0x4a4643])=>{const _0x14d519=_0x31f36c;_0x35fc7e=_0x35fc7e[_0x14d519(0x1ba)](_0xbebe61,_0x4a4643);}),_0x35fc7e=_0x35fc7e['replace'](/√\s*([A-Za-z0-9]+)/g,_0x31f36c(0x462)),_0x35fc7e=_0x35fc7e['replace'](/(\d+)\s*%/g,_0x31f36c(0xb05)),_0x35fc7e;},_0x3fd792=_0x5f28c2=>{const _0x5bcf2b=_0x475555;if(/\$|\\\(|\\\[/[_0x5bcf2b(0x8e5)](_0x5f28c2))return _0x5f28c2;if(!_0x481591[_0x5bcf2b(0x8e5)](_0x5f28c2))return _0x5f28c2;const _0x587285=_0x5f28c2[_0x5bcf2b(0xc97)](/^\s*/)[0x0],_0xba7dab=_0x5f28c2[_0x5bcf2b(0xc97)](/\s*$/)[0x0],_0x4e3052=_0x5f28c2[_0x5bcf2b(0x7fe)]();return _0x587285+'$'+_0x539d4c(_0x4e3052)+'$'+_0xba7dab;};_0x4bf7b6[_0x475555(0x9c9)](_0x4529f9=>{const _0x83d98e=_0x475555,_0x5efce4=_0x135bb2(_0x4529f9);let _0x14f6bc=_0x842a1d(_0x5efce4);_0x14f6bc=_0x14f6bc[_0x83d98e(0x1ba)](/\$([^$]*?)\$/g,(_0x259b50,_0x1f8974)=>'$'+_0x539d4c(_0x1f8974)+'$');const _0x34ac88=_0x14f6bc['split'](/(\s+)/),_0x4c5e7d=_0x34ac88[_0x83d98e(0x3c9)](_0x13296f=>{if(/\s+/['test'](_0x13296f))return _0x13296f;return _0x3fd792(_0x13296f);});_0x14f6bc=_0x4c5e7d[_0x83d98e(0x28d)](''),_0x14f6bc!==_0x5efce4&&(_0x210ee9(_0x4529f9,_0x14f6bc),_0x2a3557++);});if(_0x2a3557>0x0){showMessage(_0x475555(0x434)+_0x2a3557+_0x475555(0x969));try{window[_0x475555(0x278)]&&MathJax[_0x475555(0x73c)]&&MathJax[_0x475555(0x73c)]([_0x5d56fe]);}catch(_0x4cdb7c){console[_0x475555(0x405)](_0x475555(0x6b0),_0x4cdb7c);}}else showMessage(_0x475555(0xac7));}function handleAutoFixLatex(){const _0x34311f=_0x3076df,_0xdebb53=document[_0x34311f(0x48d)](_0x34311f(0xa45))||document,_0x54ab11=_0xdebb53[_0x34311f(0x599)]('textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li');let _0x4282a2=0x0;const _0x26a4a0=_0x1a5113=>'value'in _0x1a5113?String(_0x1a5113['value']):_0x1a5113[_0x34311f(0x271)]!==undefined?_0x1a5113['innerText']:_0x1a5113[_0x34311f(0x9ea)]||'',_0x1c9677=(_0x2b8ee0,_0x16f5b9)=>{const _0x309349=_0x34311f;if(_0x309349(0xaef)in _0x2b8ee0){_0x2b8ee0[_0x309349(0xaef)]=_0x16f5b9;return;}if(_0x2b8ee0['querySelector']&&_0x2b8ee0['querySelector']('mjx-container'))return;if(_0x2b8ee0[_0x309349(0x271)]!==undefined)_0x2b8ee0[_0x309349(0x271)]=_0x16f5b9;else _0x2b8ee0['textContent']=_0x16f5b9;},_0x5b6d94=_0x5e8b05=>_0x5e8b05[_0x34311f(0x1ba)](/\u00A0/g,'\x20')[_0x34311f(0x1ba)](/\u200B/g,'')[_0x34311f(0x1ba)](/\r\n?/g,'\x0a'),_0x2536ba=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x5a3db3=_0x1c75f2=>{const _0x43f9a3=_0x34311f;let _0x357488=_0x1c75f2[_0x43f9a3(0x7fe)]();_0x357488=_0x357488[_0x43f9a3(0x1ba)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x357488=_0x357488[_0x43f9a3(0x1ba)](/\bfrac(\d)(\d)/g,_0x43f9a3(0xa40));const _0x4de4c9=[_0x43f9a3(0x5bf),_0x43f9a3(0xac6),_0x43f9a3(0x1e9),'cdot',_0x43f9a3(0x283),'leq','geq',_0x43f9a3(0x9fb),'pm','sin',_0x43f9a3(0x650),_0x43f9a3(0x311),_0x43f9a3(0x676),'ln'];_0x4de4c9['forEach'](_0x2551db=>{const _0x20fce9=_0x43f9a3;_0x357488=_0x357488[_0x20fce9(0x1ba)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x2551db+'\x5cb','g'),(_0x90d570,_0x18c745)=>_0x18c745+'\x5c'+_0x2551db);});const _0x3b2bab=[[/×/g,_0x43f9a3(0x887)],[/·/g,_0x43f9a3(0x839)],[/÷/g,_0x43f9a3(0x2f2)],[/≤/g,'\x5cle'],[/≥/g,'\x5cge'],[/≠/g,_0x43f9a3(0x65d)],[/±/g,_0x43f9a3(0x1e4)]];return _0x3b2bab[_0x43f9a3(0x9c9)](([_0x36b80e,_0x529304])=>{const _0x168c9c=_0x43f9a3;_0x357488=_0x357488[_0x168c9c(0x1ba)](_0x36b80e,_0x529304);}),_0x357488;},_0x4c8a75=_0xa5409b=>{const _0x55dc63=_0x34311f;if(/\$|\\\(|\\\[/[_0x55dc63(0x8e5)](_0xa5409b))return _0xa5409b;if(!_0x2536ba['test'](_0xa5409b))return _0xa5409b;const _0x2861f8=_0xa5409b[_0x55dc63(0xc97)](/^\s*/)[0x0],_0x107b46=_0xa5409b[_0x55dc63(0xc97)](/\s*$/)[0x0],_0x40ecd4=_0xa5409b[_0x55dc63(0x7fe)]();return _0x2861f8+'$'+_0x5a3db3(_0x40ecd4)+'$'+_0x107b46;};_0x54ab11[_0x34311f(0x9c9)](_0x398d35=>{const _0x3fc0e0=_0x34311f,_0x26c55c=_0x26a4a0(_0x398d35);let _0x588b69=_0x5b6d94(_0x26c55c);_0x588b69=_0x588b69[_0x3fc0e0(0x1ba)](/\$([^$]*?)\$/g,(_0x4aea35,_0x5648e2)=>'$'+_0x5a3db3(_0x5648e2)+'$');const _0x1a37b8=_0x588b69[_0x3fc0e0(0x1f1)](/(\s+)/),_0xec885b=_0x1a37b8[_0x3fc0e0(0x3c9)](_0x421dc1=>/\s+/[_0x3fc0e0(0x8e5)](_0x421dc1)?_0x421dc1:_0x4c8a75(_0x421dc1));_0x588b69=_0xec885b[_0x3fc0e0(0x28d)](''),_0x588b69!==_0x26c55c&&(_0x1c9677(_0x398d35,_0x588b69),_0x4282a2++);});if(_0x4282a2>0x0){showMessage(_0x34311f(0x4ee)+_0x4282a2+_0x34311f(0x23f));try{if(window[_0x34311f(0x278)]&&MathJax[_0x34311f(0x73c)])MathJax['typesetPromise']();}catch(_0x595df4){}}else showMessage(_0x34311f(0x294));}async function listenForCustomMathTopics(){const _0x11c78a=_0x3076df,_0x223b0c=collection(db,_0x11c78a(0xaa1)+appId+_0x11c78a(0x257));onSnapshot(_0x223b0c,_0x1216d4=>{const _0x2d0b11=_0x11c78a;customMathTopics=_0x1216d4[_0x2d0b11(0x9a1)][_0x2d0b11(0x3c9)](_0x59b083=>({'id':_0x59b083['id'],..._0x59b083['data']()})),renderTopicCheckboxes();},_0x1b0051=>{const _0x380422=_0x11c78a;console[_0x380422(0x405)](_0x380422(0xd21),_0x1b0051);});}function handleSelectAllTopics(){const _0x517dfb=_0x3076df,_0x2fd4bb=document['getElementById'](_0x517dfb(0x3eb)),_0x4e0a58=_0x2fd4bb[_0x517dfb(0x599)](_0x517dfb(0x8b9));_0x4e0a58[_0x517dfb(0x9c9)](_0x5a3fcb=>{_0x5a3fcb['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x465def=_0x3076df,_0x27ed88=document[_0x465def(0x48d)](_0x465def(0x3eb)),_0x5f5e0b=_0x27ed88[_0x465def(0x599)](_0x465def(0x8b9));_0x5f5e0b[_0x465def(0x9c9)](_0x5eaa21=>{const _0x1bdf31=_0x465def;_0x5eaa21[_0x1bdf31(0xb91)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x457935){const _0x35a31c=_0x3076df;if(!_0x457935)return;try{const _0x1c705c=doc(db,_0x35a31c(0xaa1)+appId+_0x35a31c(0x257),_0x457935);await deleteDoc(_0x1c705c),showMessage(_0x35a31c(0x1f0));}catch(_0x5e4b0c){console[_0x35a31c(0x405)]('Error\x20deleting\x20custom\x20topic:',_0x5e4b0c),showMessage(_0x35a31c(0xc7a));}}async function handleAddCustomMathTopic(){const _0x1c64d9=_0x3076df,_0x4fed11=document[_0x1c64d9(0x48d)](_0x1c64d9(0x8a6)),_0x1228cc=_0x4fed11['value'][_0x1c64d9(0x7fe)]();if(!_0x1228cc){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x1c64d9(0x2a7));return;}try{const _0x5072d7=collection(db,_0x1c64d9(0xaa1)+appId+_0x1c64d9(0x257));await addDoc(_0x5072d7,{'name':_0x1228cc,'createdAt':serverTimestamp()}),_0x4fed11[_0x1c64d9(0xaef)]='',showMessage(_0x1c64d9(0x942)+_0x1228cc+_0x1c64d9(0x96d));}catch(_0x42f357){console[_0x1c64d9(0x405)]('Error\x20adding\x20custom\x20topic:',_0x42f357),showMessage(_0x1c64d9(0xd05));}}async function handleUpdateOldQuizzes(){const _0x20340c=_0x3076df;showConfirmation(_0x20340c(0x806),async()=>{const _0x54d6e6=_0x20340c,_0x518b4a=document[_0x54d6e6(0x48d)](_0x54d6e6(0x759)),_0x36d661=document['getElementById'](_0x54d6e6(0x6f1)),_0x53e1ee=_0x36d661[_0x54d6e6(0x9ea)];_0x518b4a[_0x54d6e6(0xbbb)][_0x54d6e6(0xb7d)](_0x54d6e6(0xc6c)),_0x36d661[_0x54d6e6(0x9ea)]=_0x54d6e6(0x316);try{const _0x198066=collection(db,_0x54d6e6(0xaa1)+appId+_0x54d6e6(0x695)),_0xc71139=await getDocs(_0x198066);if(_0xc71139[_0x54d6e6(0x3a7)]){showMessage(_0x54d6e6(0x211));return;}const _0x3871ec=writeBatch(db);let _0x4f0c43=0x0;_0xc71139['forEach'](_0x3fc8cf=>{const _0x21208f=_0x54d6e6,_0x3f9b04=_0x3fc8cf[_0x21208f(0x995)](),_0x4cfe75=_0x3fc8cf['id'];if(_0x3f9b04[_0x21208f(0x796)]&&_0x3f9b04[_0x21208f(0x796)]['length']>0x0&&!_0x3f9b04['questions'][0x0][_0x21208f(0x329)]('id')){console[_0x21208f(0x676)](_0x21208f(0x885)+_0x4cfe75+'\x20('+_0x3f9b04[_0x21208f(0x6a9)]+')'),_0x4f0c43++;const _0xb26b5c=_0x3f9b04[_0x21208f(0x796)][_0x21208f(0x3c9)]((_0x146451,_0x49e985)=>{const _0x6b39fd=_0x21208f;return{..._0x146451,'id':_0x146451['id']||'q_'+Date[_0x6b39fd(0x95f)]()+'_'+_0x4cfe75+'_'+_0x49e985};}),_0x1539d1=doc(db,_0x21208f(0xaa1)+appId+_0x21208f(0x695),_0x4cfe75);_0x3871ec[_0x21208f(0xad2)](_0x1539d1,{'questions':_0xb26b5c});}}),_0x4f0c43>0x0?(_0x36d661[_0x54d6e6(0x9ea)]=_0x54d6e6(0x746)+_0x4f0c43+_0x54d6e6(0x29c),await _0x3871ec[_0x54d6e6(0x248)](),showMessage(_0x54d6e6(0xbb4)+_0x4f0c43+_0x54d6e6(0x5a9))):showMessage(_0x54d6e6(0x1c8));}catch(_0x3dcabe){console[_0x54d6e6(0x405)](_0x54d6e6(0xcd3),_0x3dcabe),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x3dcabe[_0x54d6e6(0x5ce)]);}finally{_0x518b4a[_0x54d6e6(0xbbb)][_0x54d6e6(0x49b)](_0x54d6e6(0xc6c)),_0x36d661['textContent']=_0x53e1ee;}});}async function handleBulkUpdateQuizSettings(){const _0x5dfe9e=_0x3076df,_0x38c3b6={'shuffle':document[_0x5dfe9e(0x48d)](_0x5dfe9e(0xc5f))[_0x5dfe9e(0xaef)],'resultsDisplay':document[_0x5dfe9e(0x48d)](_0x5dfe9e(0x5cb))['value'],'loopUntilPass':document[_0x5dfe9e(0x48d)](_0x5dfe9e(0x708))[_0x5dfe9e(0xb91)],'isConfidenceScoringEnabled':document['getElementById'](_0x5dfe9e(0x68f))[_0x5dfe9e(0xb91)],'confidenceMode':document['getElementById'](_0x5dfe9e(0xb9f))[_0x5dfe9e(0xaef)]};try{showMessage(_0x5dfe9e(0x9af));const _0x43b7b6=await getDocs(collection(db,_0x5dfe9e(0xaa1)+appId+_0x5dfe9e(0x695))),_0xc9dc0b=_0x43b7b6[_0x5dfe9e(0x9a1)][_0x5dfe9e(0x3c9)](_0x2771dd=>({'id':_0x2771dd['id'],'data':_0x2771dd[_0x5dfe9e(0x995)]()})),_0x24dff0=_0xc9dc0b[_0x5dfe9e(0x3b0)];showConfirmation(_0x5dfe9e(0xa43)+_0x24dff0+_0x5dfe9e(0x8f1),async()=>{const _0x160ada=_0x5dfe9e,_0x5f35b4=document['getElementById'](_0x160ada(0x555));_0x5f35b4[_0x160ada(0x1dc)]=!![],_0x5f35b4[_0x160ada(0x9c8)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x15a6d3=writeBatch(db);_0xc9dc0b[_0x160ada(0x9c9)](_0x38be39=>{const _0x4fafd1=_0x160ada,_0x354764=doc(db,_0x4fafd1(0xaa1)+appId+_0x4fafd1(0x695),_0x38be39['id']),_0x2655fe={..._0x38be39[_0x4fafd1(0x995)][_0x4fafd1(0x1a6)]||{},..._0x38c3b6};_0x15a6d3[_0x4fafd1(0xad2)](_0x354764,{'settings':_0x2655fe});}),await _0x15a6d3['commit'](),document[_0x160ada(0x48d)](_0x160ada(0x981))[_0x160ada(0xbbb)][_0x160ada(0x49b)](_0x160ada(0xc6c)),showMessage(_0x160ada(0x284)+_0x24dff0+_0x160ada(0x82b));}catch(_0x5b6ee0){console[_0x160ada(0x405)](_0x160ada(0x1d3),_0x5b6ee0),showMessage(_0x160ada(0x803));}finally{_0x5f35b4[_0x160ada(0x1dc)]=![],_0x5f35b4[_0x160ada(0x9c8)]=_0x160ada(0x1e2);}});}catch(_0x5e82e3){console['error']('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0x5e82e3),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x22f824=_0x3076df,_0x3b6a69=document[_0x22f824(0x48d)](_0x22f824(0xaff)),_0x130ebf=document[_0x22f824(0x48d)](_0x22f824(0x1ea)),_0x427e99=_0x3b6a69[_0x22f824(0x9ea)][_0x22f824(0x7fe)]();if(!_0x427e99||!currentProjectId){showMessage(_0x22f824(0x7db)),_0x3b6a69[_0x22f824(0x9ea)]=currentProjectData[_0x22f824(0x98e)];return;}_0x130ebf[_0x22f824(0x1dc)]=!![],_0x130ebf['innerHTML']=_0x22f824(0x4b4);try{const _0x129223=doc(db,_0x22f824(0xaa1)+appId+_0x22f824(0x8bc),currentProjectId);await updateDoc(_0x129223,{'projectName':_0x427e99}),currentProjectData&&(currentProjectData['projectName']=_0x427e99),showMessage(_0x22f824(0xb82));}catch(_0x362a55){console[_0x22f824(0x405)]('Error\x20updating\x20project\x20name:',_0x362a55),showMessage(_0x22f824(0xb90)),_0x3b6a69['textContent']=currentProjectData[_0x22f824(0x98e)];}finally{_0x130ebf['classList'][_0x22f824(0x49b)]('hidden'),_0x130ebf[_0x22f824(0x1dc)]=![],_0x130ebf[_0x22f824(0x9c8)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x297a63,_0x1a5c91){const _0x222105=_0x3076df,_0x119252=document[_0x222105(0x48d)](_0x222105(0x48a)),_0x168406=document['getElementById']('lesson-view-title'),_0x1f1519=document[_0x222105(0x48d)](_0x222105(0x908)),_0x36cac=document[_0x222105(0x48d)](_0x222105(0x1c7));_0x168406[_0x222105(0x9ea)]=_0x222105(0x830)+_0x297a63,_0x36cac[_0x222105(0xbbb)][_0x222105(0x49b)](_0x222105(0xc6c)),_0x1f1519[_0x222105(0xbbb)][_0x222105(0xb7d)]('hidden'),_0x119252[_0x222105(0xbbb)]['remove'](_0x222105(0xc6c)),generatePracticeTest(_0x297a63,_0x1a5c91)[_0x222105(0x3b5)](_0x48b122=>{const _0x1324fa=_0x222105;console['error'](_0x1324fa(0x8bd),_0x48b122),showMessage(_0x1324fa(0x4b8)),_0x119252[_0x1324fa(0xbbb)][_0x1324fa(0x49b)](_0x1324fa(0xc6c));});}async function generatePracticeTest(_0x5121f0,_0x209ce2){const _0x7e5cc3=_0x3076df;[_0x7e5cc3(0x432),'memoryContent',_0x7e5cc3(0x1d0),_0x7e5cc3(0x970)][_0x7e5cc3(0x9c9)](_0x202159=>{const _0x1caa22=_0x7e5cc3,_0x1b080b=document[_0x1caa22(0x48d)](_0x202159)[_0x1caa22(0x7d6)];_0x1b080b&&(_0x1b080b['style'][_0x1caa22(0x418)]=_0x1caa22(0x700));});try{const _0xca43a5=_0x7e5cc3(0x1c4),_0x10ef2c=_0x7e5cc3(0xae9)+_0x209ce2+_0x7e5cc3(0x7ed)+_0x5121f0+'\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x49ac21=await callGemini(_0x10ef2c,!![]),_0x1f17b2=document[_0x7e5cc3(0x48d)](_0x7e5cc3(0x4f3)),_0x207d11=document[_0x7e5cc3(0x48d)](_0x7e5cc3(0x908)),_0x4975c7=document['getElementById']('lesson-sections-container'),_0x559e48=document[_0x7e5cc3(0x48d)]('applicationContent')[_0x7e5cc3(0x7d6)];_0x1f17b2[_0x7e5cc3(0x271)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x5121f0[_0x7e5cc3(0x1ba)](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x209ce2+')',currentApplicationData=JSON[_0x7e5cc3(0x802)](_0x49ac21);const _0x410a64=document[_0x7e5cc3(0x48d)](_0x7e5cc3(0x1d0));_0x410a64[_0x7e5cc3(0x9c8)]=currentApplicationData[_0x7e5cc3(0x3c9)]((_0x7ed47,_0x469c8e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x469c8e+0x1)+'.\x20'+marked[_0x7e5cc3(0x750)](_0x7ed47[_0x7e5cc3(0x41d)])+_0x7e5cc3(0x1cc)+_0x469c8e+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7ed47[_0x7e5cc3(0x7ce)]['map']((_0x9e9511,_0x3add04)=>_0x7e5cc3(0x704)+_0x469c8e+',\x20'+_0x3add04+_0x7e5cc3(0x714)+String[_0x7e5cc3(0x77b)](0x61+_0x3add04)+'.\x20'+marked[_0x7e5cc3(0x750)](_0x9e9511)+_0x7e5cc3(0x3a1))[_0x7e5cc3(0x28d)]('')+_0x7e5cc3(0x40f))[_0x7e5cc3(0x28d)](''),window[_0x7e5cc3(0x278)]&&MathJax['typesetPromise']([_0x410a64]),_0x559e48&&(_0x559e48[_0x7e5cc3(0x3b4)]['display']=_0x7e5cc3(0x1ee)),_0x207d11['classList'][_0x7e5cc3(0x49b)](_0x7e5cc3(0xc6c)),_0x4975c7[_0x7e5cc3(0xbbb)][_0x7e5cc3(0xb7d)]('hidden');}catch(_0x275ca1){console['error'](_0x275ca1);throw _0x275ca1;}}async function callGemini(_0x178db1,_0x40d0ce=![]){const _0x4b3bab=_0x3076df,_0x1860cb=_0x4b3bab(0x886),_0x3a1ff0=_0x4b3bab(0xce0)+_0x1860cb,_0x590334={'contents':[{'parts':[{'text':_0x178db1}]}]};_0x40d0ce&&(_0x590334[_0x4b3bab(0x572)]={'responseMimeType':'application/json'},_0x178db1[_0x4b3bab(0x59e)](_0x4b3bab(0x5c1))?_0x590334[_0x4b3bab(0x572)][_0x4b3bab(0x5f1)]={'type':_0x4b3bab(0x85f),'properties':{'gradeLevel':{'type':_0x4b3bab(0x670)},'curriculum':{'type':_0x4b3bab(0x45a),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x4b3bab(0x670)},'mainTopics':{'type':_0x4b3bab(0x45a),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x4b3bab(0x670)},'subTopics':{'type':'ARRAY','items':{'type':_0x4b3bab(0x670)}}},'required':[_0x4b3bab(0x877),_0x4b3bab(0x710)]}}},'required':['sara','mainTopics']}}},'required':[_0x4b3bab(0xaf3),_0x4b3bab(0x74f)]}:_0x590334[_0x4b3bab(0x572)]['responseSchema']={'type':'ARRAY','items':{'type':_0x4b3bab(0x85f),'properties':{'question':{'type':_0x4b3bab(0x670)},'options':{'type':'ARRAY','items':{'type':_0x4b3bab(0x670)}},'answer':{'type':'NUMBER'}},'required':['question',_0x4b3bab(0x7ce),'answer']}});try{const _0x40b9b1=await fetch(_0x3a1ff0,{'method':_0x4b3bab(0x96a),'headers':{'Content-Type':_0x4b3bab(0x679)},'body':JSON[_0x4b3bab(0x4c6)](_0x590334)});if(!_0x40b9b1['ok']){const _0x22fae1=await _0x40b9b1['text']();console[_0x4b3bab(0x405)](_0x4b3bab(0x2bc),_0x22fae1);throw new Error(_0x4b3bab(0x570)+_0x40b9b1[_0x4b3bab(0x732)]);}const _0x2488d5=await _0x40b9b1[_0x4b3bab(0xcd7)]();if(_0x2488d5[_0x4b3bab(0x91b)]&&_0x2488d5[_0x4b3bab(0x91b)][0x0][_0x4b3bab(0x7cf)]&&_0x2488d5['candidates'][0x0][_0x4b3bab(0x7cf)][_0x4b3bab(0x219)][0x0])return _0x2488d5[_0x4b3bab(0x91b)][0x0][_0x4b3bab(0x7cf)][_0x4b3bab(0x219)][0x0][_0x4b3bab(0x5ca)];else{console[_0x4b3bab(0x405)](_0x4b3bab(0x22b),_0x2488d5);if(_0x2488d5[_0x4b3bab(0x91b)]&&_0x2488d5[_0x4b3bab(0x91b)][0x0][_0x4b3bab(0x95b)]===_0x4b3bab(0x42c))return JSON[_0x4b3bab(0x4c6)]({'error':_0x4b3bab(0x4ba)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x293c62){console['error']('Error\x20calling\x20Gemini\x20API:',_0x293c62);throw _0x293c62;}}async function generateLesson(_0x2613c7=null,_0x2426d4=null){const _0x11c5af=_0x3076df,_0x2c2cb7=_0x2613c7,_0x4c9fed=_0x2426d4||_0x11c5af(0x7c3),_0x54bc9f=document[_0x11c5af(0x48d)]('lesson-loader'),_0x5667f7=document[_0x11c5af(0x48d)](_0x11c5af(0x831));_0x5667f7[_0x11c5af(0x9ea)]=_0x11c5af(0xb72)+_0x2c2cb7+'\x22...';try{let _0x4800ef=[];const _0x478279=document[_0x11c5af(0x48d)](_0x11c5af(0x78b))?.[_0x11c5af(0xaef)][_0x11c5af(0x7fe)]();if(_0x478279)try{_0x5667f7['textContent']=_0x11c5af(0x88c);const _0x4eb462=await fetchFileFromUrl(_0x478279,_0x11c5af(0xc14)),_0xfb1eda=await new Promise((_0x551a16,_0x5bec20)=>{const _0x20f9a0=_0x11c5af,_0x3691e1=new FileReader();_0x3691e1['readAsDataURL'](_0x4eb462),_0x3691e1[_0x20f9a0(0x4fd)]=()=>_0x551a16(_0x3691e1[_0x20f9a0(0xa0e)][_0x20f9a0(0x1f1)](',')[0x1]),_0x3691e1['onerror']=_0x5bec20;});_0x4800ef[_0x11c5af(0x836)]({'inlineData':{'mimeType':_0x4eb462[_0x11c5af(0x1a1)],'data':_0xfb1eda}});}catch(_0x16d74b){console['error'](_0x11c5af(0xc54),_0x16d74b),showMessage(_0x11c5af(0xb25));}const _0x3a5871=_0x11c5af(0x420)+_0x2c2cb7+_0x11c5af(0x6aa)+_0x2c2cb7+_0x11c5af(0x70e);_0x5667f7[_0x11c5af(0x9ea)]=_0x11c5af(0xb72)+_0x2c2cb7+_0x11c5af(0x861);const _0x15dca2=_0x11c5af(0xa3a)+_0x4c9fed+_0x11c5af(0x7ed)+_0x2c2cb7+_0x11c5af(0x809)+_0x3a5871+_0x11c5af(0x547),_0x5104f0=_0x11c5af(0x6cc)+_0x2c2cb7+_0x11c5af(0x8f0)+_0x4c9fed+_0x11c5af(0x29d)+_0x3a5871+_0x11c5af(0x7c4),_0x1c7985='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x4c9fed+_0x11c5af(0x7ed)+_0x2c2cb7+_0x11c5af(0xb93)+_0x3a5871+'.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x52b8b0=_0x11c5af(0xba7)+_0x2c2cb7+_0x11c5af(0x559)+_0x4c9fed+_0x11c5af(0xa6a)+_0x3a5871+_0x11c5af(0x7c5),_0x299957={'type':_0x11c5af(0x45a),'items':{'type':_0x11c5af(0x85f),'properties':{'question':{'type':_0x11c5af(0x670)},'options':{'type':_0x11c5af(0x45a),'items':{'type':_0x11c5af(0x670)}},'answer':{'type':_0x11c5af(0x312)}},'required':['question',_0x11c5af(0x7ce),_0x11c5af(0xb7a)]}},[_0x4f4c88,_0xcb24c2,_0x158a2f,_0x4f54e6]=await Promise['all']([handleApiCall([{'text':_0x15dca2},..._0x4800ef],_0x11c5af(0x8b7),null,null,![]),handleApiCall([{'text':_0x5104f0},..._0x4800ef],_0x11c5af(0x8b7),null,null,![]),handleApiCall([{'text':_0x1c7985},..._0x4800ef],_0x11c5af(0x8b7),_0x299957,null,![]),handleApiCall([{'text':_0x52b8b0},..._0x4800ef],_0x11c5af(0x8b7),null,null,![])]),_0x5c419d=JSON[_0x11c5af(0x4c6)](_0x158a2f||[]),_0x3e1444=document[_0x11c5af(0x48d)]('lesson-view-title'),_0x59e2d5=document[_0x11c5af(0x48d)](_0x11c5af(0x1c7));_0x3e1444[_0x11c5af(0x271)]=_0x11c5af(0xadb)+_0x2c2cb7[_0x11c5af(0x1ba)](/•\\s/g,'')+'\x20(สำหรับ\x20'+_0x4c9fed+')',[_0x11c5af(0x432),'memoryContent','summaryContent'][_0x11c5af(0x9c9)](_0x568ecc=>{const _0x592bd4=_0x11c5af;document[_0x592bd4(0x48d)](_0x568ecc)[_0x592bd4(0x9c8)]='';}),document[_0x11c5af(0x48d)](_0x11c5af(0x432))['innerHTML']=_0x4f4c88?marked[_0x11c5af(0x802)](_0x4f4c88):_0x11c5af(0x244),document[_0x11c5af(0x48d)](_0x11c5af(0xb21))[_0x11c5af(0x9c8)]=_0xcb24c2?marked[_0x11c5af(0x802)](_0xcb24c2):_0x11c5af(0x244),document[_0x11c5af(0x48d)](_0x11c5af(0x970))[_0x11c5af(0x9c8)]=_0x4f54e6?marked['parse'](_0x4f54e6):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON['parse'](_0x5c419d);const _0x149e12=document['getElementById'](_0x11c5af(0x1d0));_0x149e12[_0x11c5af(0x9c8)]=(currentApplicationData||[])[_0x11c5af(0x3c9)]((_0x1b3a3f,_0x37fe85)=>_0x11c5af(0x4e0)+(_0x37fe85+0x1)+'.\x20'+marked[_0x11c5af(0x750)](_0x1b3a3f[_0x11c5af(0x41d)]||'')+_0x11c5af(0x1cc)+_0x37fe85+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1b3a3f[_0x11c5af(0x7ce)]||[])[_0x11c5af(0x3c9)]((_0x36c32c,_0x2973b6)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x37fe85+',\x20'+_0x2973b6+_0x11c5af(0x714)+String[_0x11c5af(0x77b)](0x61+_0x2973b6)+'.\x20'+marked[_0x11c5af(0x750)](_0x36c32c||'')+_0x11c5af(0x3a1))[_0x11c5af(0x28d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')||_0x11c5af(0x2a1),window[_0x11c5af(0x278)]&&MathJax[_0x11c5af(0x73c)]([_0x59e2d5]),_0x54bc9f[_0x11c5af(0xbbb)]['add'](_0x11c5af(0xc6c)),_0x59e2d5['classList'][_0x11c5af(0xb7d)](_0x11c5af(0xc6c));}catch(_0x3a1688){console[_0x11c5af(0x405)](_0x3a1688);throw _0x3a1688;}}function checkAnswer(_0x423e78,_0x321a81){const _0x3974d0=_0x3076df,_0x3e5db1=currentApplicationData[_0x423e78],_0x27904f=document['getElementById']('q'+_0x423e78+_0x3974d0(0x444)),_0x5a3d6c=_0x27904f[_0x3974d0(0xb48)](_0x3974d0(0x899));for(let _0x47c211 of _0x5a3d6c){_0x47c211['disabled']=!![];}_0x321a81===_0x3e5db1[_0x3974d0(0xb7a)]?_0x5a3d6c[_0x321a81][_0x3974d0(0xbbb)]['add'](_0x3974d0(0x62f)):(_0x5a3d6c[_0x321a81]['classList']['add']('incorrect'),_0x5a3d6c[_0x3e5db1[_0x3974d0(0xb7a)]][_0x3974d0(0xbbb)]['add'](_0x3974d0(0x62f)));}window[_0x3076df(0x4a7)]=handleGenerateAndShowLesson,window[_0x3076df(0x39c)]=checkAnswer,window[_0x3076df(0x54a)]=handleGeneratePracticeTest,window[_0x3076df(0x7be)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x2b1a3b=_0x3076df;try{const _0x131b44=initializeApp(firebaseConfig);db=getFirestore(_0x131b44),auth=getAuth(_0x131b44),setupAuthListener(),setupEventListeners(),showView(_0x2b1a3b(0x849)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x583322){console[_0x2b1a3b(0x405)](_0x2b1a3b(0x1ec),_0x583322),showMessage(_0x2b1a3b(0xc34));}}async function handleVerifyAnswersInEditor(){const _0x157d3b=_0x3076df,_0x58cebe=document['getElementById'](_0x157d3b(0x755));if(!_0x58cebe)return;const _0x567f44=document[_0x157d3b(0x48d)](_0x157d3b(0xb38));_0x567f44[_0x157d3b(0x1dc)]=!![],_0x567f44[_0x157d3b(0x9c8)]=_0x157d3b(0xc51);try{const _0x28ffa3=_0x58cebe[_0x157d3b(0x599)](_0x157d3b(0xb3a)),_0x1ca028=Array[_0x157d3b(0x2bb)](_0x28ffa3)[_0x157d3b(0x3c9)]((_0x37122f,_0x85052d)=>{const _0x5940af=_0x157d3b,_0x255bc3=_0x37122f['dataset'][_0x5940af(0x8e9)],_0x7723a8=_0x37122f[_0x5940af(0x381)](_0x5940af(0xb50))['value'];let _0x391da5=null,_0x170864='';switch(_0x255bc3){case _0x5940af(0xa73):const _0x268416=_0x37122f[_0x5940af(0x599)](_0x5940af(0x54b));_0x391da5=Array['from'](_0x268416)[_0x5940af(0x3c9)](_0x169adc=>_0x169adc[_0x5940af(0xaef)]);const _0x2e08ac=_0x37122f[_0x5940af(0x381)](_0x5940af(0x571));_0x2e08ac&&(_0x170864=_0x391da5[parseInt(_0x2e08ac[_0x5940af(0xaef)])]);break;case _0x5940af(0x296):_0x170864=_0x37122f[_0x5940af(0x381)](_0x5940af(0x64b))['value'];break;case'true_false':const _0x3232f9=_0x37122f[_0x5940af(0x381)](_0x5940af(0x571));_0x170864=_0x3232f9?_0x3232f9[_0x5940af(0xaef)]:'';break;case _0x5940af(0xd01):_0x170864=_0x37122f['querySelector'](_0x5940af(0xc3c))[_0x5940af(0xaef)];break;}return{'question':_0x7723a8,'options':_0x391da5,'proposedAnswer':_0x170864};}),_0x170fbe=_0x157d3b(0x261)+JSON[_0x157d3b(0x4c6)](_0x1ca028)+_0x157d3b(0x263),_0x326425={'type':_0x157d3b(0x45a),'items':{'type':_0x157d3b(0x85f),'properties':{'questionIndex':{'type':_0x157d3b(0x312)},'isCorrect':{'type':_0x157d3b(0xa0f)},'justification':{'type':_0x157d3b(0x670)},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex',_0x157d3b(0xa78),_0x157d3b(0x8b8)]}},_0x5f5063=await callAnalysisApi(_0x170fbe,{'type':_0x157d3b(0x85f),'properties':{'result':_0x326425},'required':[_0x157d3b(0xa0e)]});displayVerificationResultsInEditor(_0x5f5063['result']);}catch(_0x5aa913){console['error'](_0x157d3b(0x93c),_0x5aa913),showMessage(_0x157d3b(0x539));}finally{_0x567f44[_0x157d3b(0x1dc)]=![],_0x567f44[_0x157d3b(0x9c8)]=_0x157d3b(0xb68);}}function displayVerificationResultsInEditor(_0x1e0a90){const _0x21ce3b=_0x3076df;_0x1e0a90[_0x21ce3b(0x9c9)](_0x15bafd=>{const _0x274315=_0x21ce3b,_0x24fd0e=document[_0x274315(0x381)](_0x274315(0x696)+_0x15bafd['questionIndex']+'\x22]');if(!_0x24fd0e)return;const _0x318e01=_0x24fd0e[_0x274315(0x381)](_0x274315(0x4c3));if(_0x318e01)_0x318e01[_0x274315(0xb7d)]();let _0x219fc7='';if(_0x15bafd[_0x274315(0xa78)])_0x219fc7=_0x274315(0x692);else{const _0x5d3e53=_0x15bafd[_0x274315(0x87b)]?_0x274315(0x2f5):'';_0x219fc7=_0x274315(0x23c)+_0x5d3e53+_0x274315(0x3d9)+_0x15bafd[_0x274315(0x8b8)]+_0x274315(0x7ac)+(_0x15bafd[_0x274315(0x87b)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x15bafd[_0x274315(0x87b)]+_0x274315(0x19e):'')+_0x274315(0xbf8);}_0x24fd0e[_0x274315(0x8d6)]('beforeend',_0x219fc7);if(!_0x15bafd[_0x274315(0xa78)]&&_0x15bafd[_0x274315(0x87b)]){const _0x5143b6=_0x24fd0e['dataset'][_0x274315(0x8e9)],_0x672ce0=_0x420c6c=>{const _0x26f2b7=_0x274315;if(!_0x420c6c)return;_0x420c6c[_0x26f2b7(0xbbb)][_0x26f2b7(0x49b)](_0x26f2b7(0x457),'transition-all',_0x26f2b7(0x928)),setTimeout(()=>{const _0x2b0178=_0x26f2b7;_0x420c6c['classList'][_0x2b0178(0xb7d)]('bg-green-200');},0x9c4);};if(_0x5143b6===_0x274315(0xa73)){const _0x37e726=Array['from'](_0x24fd0e[_0x274315(0x599)]('input[type=\x22text\x22]')),_0x1ef088=_0x37e726[_0x274315(0x3c0)](_0x45fa81=>_0x45fa81['value']['trim']()[_0x274315(0x235)]()===_0x15bafd[_0x274315(0x87b)]['trim']()['toLowerCase']());if(_0x1ef088!==-0x1){const _0x41cc75=_0x24fd0e['querySelector'](_0x274315(0x47a)+_0x1ef088+'\x22]');_0x41cc75&&(_0x41cc75['checked']=!![],_0x672ce0(_0x41cc75[_0x274315(0x951)](_0x274315(0x283))));}}else{if(_0x5143b6===_0x274315(0x296)||_0x5143b6===_0x274315(0xd01)){const _0xc0c6dd=_0x24fd0e[_0x274315(0x381)](_0x274315(0xc22));_0xc0c6dd&&(_0xc0c6dd[_0x274315(0xaef)]=_0x15bafd[_0x274315(0x87b)],_0x672ce0(_0xc0c6dd));}else{if(_0x5143b6===_0x274315(0x35a)){const _0x3f5c1c=_0x15bafd['suggestedAnswer'][_0x274315(0x7fe)]()[_0x274315(0x235)](),_0x977aa6=_0x24fd0e[_0x274315(0x381)](_0x274315(0x47a)+_0x3f5c1c+'\x22]');_0x977aa6&&(_0x977aa6[_0x274315(0xb91)]=!![],_0x672ce0(_0x977aa6[_0x274315(0x951)](_0x274315(0x283))));}}}}}),showMessage(_0x21ce3b(0xab2));}async function handleVerifyAnswers(){const _0x49a9e4=_0x3076df;if(!currentQuizData||!currentQuizData[_0x49a9e4(0x796)]){showMessage(_0x49a9e4(0x620));return;}const _0x377e4b=document[_0x49a9e4(0x48d)](_0x49a9e4(0xcf1));_0x377e4b[_0x49a9e4(0x1dc)]=!![],_0x377e4b[_0x49a9e4(0x9c8)]=_0x49a9e4(0xc51);try{const _0x12e4bc=currentQuizData[_0x49a9e4(0x796)]['map']((_0x51c7e9,_0x50df5b)=>{const _0x2b3fa7=_0x49a9e4;let _0x361450='';const _0xdb9296=_0x51c7e9[_0x2b3fa7(0xbc3)]||currentQuizData[_0x2b3fa7(0xcb9)];switch(_0xdb9296){case _0x2b3fa7(0xa73):_0x361450=_0x51c7e9['options'][_0x51c7e9[_0x2b3fa7(0x60b)]];break;case _0x2b3fa7(0x296):_0x361450=_0x51c7e9[_0x2b3fa7(0x36e)];break;case'true_false':_0x361450=_0x51c7e9[_0x2b3fa7(0x369)][_0x2b3fa7(0x2ed)]();break;case _0x2b3fa7(0xd01):_0x361450=_0x51c7e9[_0x2b3fa7(0x4fc)];break;}return{'question':_0x51c7e9[_0x2b3fa7(0x255)]||_0x51c7e9[_0x2b3fa7(0x833)],'options':_0x51c7e9[_0x2b3fa7(0x7ce)]||null,'proposedAnswer':_0x361450};}),_0x3dccfb=_0x49a9e4(0xba8)+JSON[_0x49a9e4(0x4c6)](_0x12e4bc)+_0x49a9e4(0x94b),_0x2ad6df={'type':_0x49a9e4(0x45a),'items':{'type':_0x49a9e4(0x85f),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x49a9e4(0xa0f)},'justification':{'type':_0x49a9e4(0x670)},'suggestedAnswer':{'type':_0x49a9e4(0x670)}},'required':[_0x49a9e4(0x912),_0x49a9e4(0xa78),_0x49a9e4(0x8b8)]}},_0xb8905=await callAnalysisApi(_0x3dccfb,{'type':_0x49a9e4(0x85f),'properties':{'result':_0x2ad6df},'required':['result']});displayVerificationResults(_0xb8905[_0x49a9e4(0xa0e)]);}catch(_0x29aa2c){console[_0x49a9e4(0x405)](_0x49a9e4(0x64f),_0x29aa2c),showMessage(_0x49a9e4(0x539));}finally{_0x377e4b[_0x49a9e4(0x1dc)]=![],_0x377e4b[_0x49a9e4(0x9c8)]=_0x49a9e4(0x932);}}function displayVerificationResults(_0x405319){const _0x1a31d3=_0x3076df;_0x405319[_0x1a31d3(0x9c9)](_0xaa89bb=>{const _0x5aa8bf=_0x1a31d3,_0x572f32=document[_0x5aa8bf(0x381)](_0x5aa8bf(0xbbc)+_0xaa89bb['questionIndex']+'\x22]');if(_0x572f32){const _0x1821b1=_0x572f32['querySelector']('.verification-result');if(_0x1821b1)_0x1821b1['remove']();let _0x2351a9='';_0xaa89bb[_0x5aa8bf(0xa78)]?_0x2351a9=_0x5aa8bf(0x2cf):_0x2351a9=_0x5aa8bf(0x754)+_0xaa89bb[_0x5aa8bf(0x8b8)]+_0x5aa8bf(0xa75)+(_0xaa89bb[_0x5aa8bf(0x87b)]?_0x5aa8bf(0x960)+_0xaa89bb[_0x5aa8bf(0x87b)]+_0x5aa8bf(0x19e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x572f32[_0x5aa8bf(0x8d6)]('beforeend',_0x2351a9);}}),showMessage(_0x1a31d3(0xab2));}function compareNumericalAnswers(_0x3aa84a,_0x4f7ba1){const _0x441004=_0x3076df,_0x56ac76=String(_0x3aa84a)[_0x441004(0x1ba)](',','.')[_0x441004(0x1ba)](/[^\d.-]/g,'')['trim'](),_0x471c75=String(_0x4f7ba1)[_0x441004(0x1ba)](',','.')[_0x441004(0x1ba)](/[^\d.-]/g,'')[_0x441004(0x7fe)]();if(_0x56ac76===''||_0x471c75==='')return![];const _0x1a8bf7=parseFloat(_0x56ac76),_0x18f093=parseFloat(_0x471c75);if(isNaN(_0x1a8bf7)||isNaN(_0x18f093))return![];return Math[_0x441004(0x325)](_0x1a8bf7-_0x18f093)<0.001;}function isPotentiallyNumeric(_0x312a02){const _0x37cc8a=_0x3076df;if(typeof _0x312a02!==_0x37cc8a(0x5d8)&&typeof _0x312a02!==_0x37cc8a(0x5ed))return![];const _0xc53ed8=String(_0x312a02)['replace'](',','.')[_0x37cc8a(0x7fe)]();return _0xc53ed8!==''&&!isNaN(parseFloat(_0xc53ed8))&&isFinite(_0xc53ed8);}async function gradeShortAnswer(_0x1b22b9,_0x111b33){const _0x473245=_0x3076df,_0x4c2053=_0x111b33[_0x473245(0x36e)],_0x58898e=String(_0x1b22b9)['replace'](/\$/g,'')[_0x473245(0x7fe)](),_0x22832a=String(_0x4c2053)['replace'](/\$/g,'')['trim']();if(_0x58898e[_0x473245(0x235)]()===_0x22832a[_0x473245(0x235)]())return!![];if(isPotentiallyNumeric(_0x58898e)&&isPotentiallyNumeric(_0x22832a)){if(compareNumericalAnswers(_0x58898e,_0x22832a))return!![];}return console[_0x473245(0x676)](_0x473245(0x5db)),await gradeShortAnswerWithAI(_0x1b22b9,_0x4c2053);}async function revealAnswerForAdmin(_0x302a03,_0x18c0d6){const _0x477334=_0x3076df,_0xa9c42e=doc(db,'artifacts/'+appId+_0x477334(0xaf6),currentLiveGameId);await updateDoc(_0xa9c42e,{'questionStatus':_0x477334(0xc2c)});}function showTop5LeaderboardView(_0x2d2a0f){const _0x3a6c42=_0x3076df,_0x2781ff=Object[_0x3a6c42(0x391)](_0x2d2a0f['players']||{})[_0x3a6c42(0x475)](_0x58c7dc=>_0x58c7dc[_0x3a6c42(0x732)]===_0x3a6c42(0x28f));_0x2781ff[_0x3a6c42(0xa41)]((_0x16c391,_0x2cbff4)=>_0x2cbff4[_0x3a6c42(0x3cb)]-_0x16c391[_0x3a6c42(0x3cb)]);const _0x311167=_0x2781ff[_0x3a6c42(0x9e0)](0x0,0x5),_0x59a93a=_0x3a6c42(0x330)+_0x311167[_0x3a6c42(0x3c9)]((_0x353f80,_0x36de45)=>_0x3a6c42(0x8a4)+(_0x36de45+0x1)+'.\x20'+(_0x353f80[_0x3a6c42(0x774)]||Object[_0x3a6c42(0x3ca)](_0x2d2a0f['players'])[_0x3a6c42(0xcf4)](_0x38c657=>_0x2d2a0f[_0x3a6c42(0x501)][_0x38c657]===_0x353f80))+_0x3a6c42(0x9a9)+_0x353f80[_0x3a6c42(0x3cb)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3a6c42(0x28d)]('')+_0x3a6c42(0x515)+(_0x2d2a0f['currentQuestionIndex']+0x1===currentQuizData[_0x3a6c42(0x796)]['length']?_0x3a6c42(0xc05):'ข้อต่อไป')+_0x3a6c42(0x595);liveGameView[_0x3a6c42(0x9c8)]=_0x59a93a,document[_0x3a6c42(0x48d)](_0x3a6c42(0x327))[_0x3a6c42(0x331)](_0x3a6c42(0x623),async()=>{const _0x135cfb=_0x3a6c42,_0x308345=doc(db,_0x135cfb(0xaa1)+appId+_0x135cfb(0xaf6),currentLiveGameId),_0x1fa2f0=_0x2d2a0f[_0x135cfb(0xb27)]+0x1;if(_0x1fa2f0<currentQuizData[_0x135cfb(0x796)][_0x135cfb(0x3b0)]){const _0x5c4a37={'currentQuestionIndex':_0x1fa2f0,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object['keys'](_0x2d2a0f[_0x135cfb(0x501)])[_0x135cfb(0x9c9)](_0x2bc9d9=>{const _0x1fbd16=_0x135cfb;_0x5c4a37[_0x1fbd16(0x5a2)+_0x2bc9d9+_0x1fbd16(0xab9)]=![];}),await updateDoc(_0x308345,_0x5c4a37);}else await updateDoc(_0x308345,{'status':_0x135cfb(0xa54)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x56e41a=>{const _0x544ee3=_0x520b;if(_0x56e41a){userId=_0x56e41a[_0x544ee3(0x64c)],userIdDisplay[_0x544ee3(0x9ea)]=userId;const _0x4193d2=await loadUserPreferences();_0x4193d2[_0x544ee3(0xcca)]&&(document[_0x544ee3(0x48d)]('project-sort-select')[_0x544ee3(0xaef)]=_0x4193d2['projectSortOrder']);globalDashboardSettings['projectView']=_0x4193d2['projectView']||_0x544ee3(0x502);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x3c491c,_0x5447a6){const _0x3f7cfb=_0x3076df;if(!userId)return;try{const _0x2aa9e0=doc(db,_0x3f7cfb(0xaa1)+appId+_0x3f7cfb(0xcb5)+userId+_0x3f7cfb(0xa33)),_0x4695e5={};_0x4695e5[_0x3c491c]=_0x5447a6,await setDoc(_0x2aa9e0,_0x4695e5,{'merge':!![]});}catch(_0x3aca81){console['error'](_0x3f7cfb(0x5da),_0x3aca81);}}async function loadUserPreferences(){const _0x32a92b=_0x3076df;if(!userId)return{};try{const _0x4255e6=doc(db,_0x32a92b(0xaa1)+appId+_0x32a92b(0xcb5)+userId+_0x32a92b(0xa33)),_0x3e733a=await getDoc(_0x4255e6);if(_0x3e733a[_0x32a92b(0x6b3)]())return _0x3e733a[_0x32a92b(0x995)]();return{};}catch(_0x13d642){return console[_0x32a92b(0x405)](_0x32a92b(0x29b),_0x13d642),{};}}function parseIndentedBlueprint(_0x2dc7ea){const _0x3c3dd8=_0x3076df,_0x10789d=_0x2dc7ea['split']('\x0a')[_0x3c3dd8(0x475)](_0x22d94b=>_0x22d94b['trim']()!==''),_0x1d2a71=[];let _0x5bb955=null,_0x38cf77=null;return _0x10789d['forEach'](_0x513874=>{const _0x1ff93c=_0x3c3dd8,_0x3f9476=_0x513874[_0x1ff93c(0xc97)](/^\s*/)[0x0][_0x1ff93c(0x3b0)],_0x2ac046=_0x513874[_0x1ff93c(0x7fe)]();if(_0x3f9476===0x0)_0x5bb955={'sara':_0x2ac046,'mainTopics':[]},_0x1d2a71[_0x1ff93c(0x836)](_0x5bb955),_0x38cf77=null;else{if(_0x3f9476>0x0&&_0x3f9476<0x8&&_0x5bb955)_0x38cf77={'topicName':_0x2ac046,'subTopics':[]},_0x5bb955['mainTopics'][_0x1ff93c(0x836)](_0x38cf77);else _0x3f9476>=0x8&&_0x38cf77&&_0x38cf77[_0x1ff93c(0x710)][_0x1ff93c(0x836)](_0x2ac046);}}),{'curriculum':_0x1d2a71};}async function handleManualBlueprintSave(){const _0x35472c=_0x3076df,_0x4a3239=document['getElementById']('manual-bp-project-name')[_0x35472c(0xaef)][_0x35472c(0x7fe)](),_0x262ea4=document[_0x35472c(0x48d)]('manual-bp-grade-level')[_0x35472c(0xaef)][_0x35472c(0x7fe)](),_0x1de385=document[_0x35472c(0x48d)](_0x35472c(0xcfd))[_0x35472c(0xaef)];if(!_0x4a3239||!_0x262ea4||!_0x1de385){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x535948=parseIndentedBlueprint(_0x1de385);if(!_0x535948[_0x35472c(0x74f)]||_0x535948['curriculum']['length']===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x13377={};let _0x299be4=0x0;_0x535948['curriculum'][_0x35472c(0x9c9)](_0x1684ce=>{_0x1684ce['mainTopics']['forEach'](_0x3dc3a3=>{const _0x5c57ab=_0x520b;_0x3dc3a3[_0x5c57ab(0x710)][_0x5c57ab(0x9c9)](_0x3e8574=>{const _0x55c5ea=_0x5c57ab,_0x41cfb7=_0x55c5ea(0xbed)+Date[_0x55c5ea(0x95f)]()+Math['random']()[_0x55c5ea(0x2ed)](0x24)[_0x55c5ea(0x74e)](0x2,0x9);_0x13377[_0x41cfb7]={'sara':_0x1684ce[_0x55c5ea(0x79c)],'mainTopic':_0x3dc3a3[_0x55c5ea(0x877)],'subTopic':_0x3e8574,'status':_0x55c5ea(0x33a),'lessonContent':null,'order':_0x299be4++};});});});try{const _0x585208=collection(db,_0x35472c(0xaa1)+appId+_0x35472c(0xa8a));await addDoc(_0x585208,{'projectName':_0x4a3239,'gradeLevel':_0x262ea4,'topics':_0x13377,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x4a3239+_0x35472c(0x2db)),document[_0x35472c(0x48d)](_0x35472c(0x509))[_0x35472c(0xbbb)][_0x35472c(0x49b)]('hidden');}catch(_0x2f0e6f){console['error'](_0x35472c(0x8d9),_0x2f0e6f),showMessage(_0x35472c(0xcdc));}}function handleClearAllLinksForTopic(_0x172c60){const _0x3cea00=_0x3076df;showConfirmation(_0x3cea00(0xce8),async()=>{const _0x3fae03=_0x3cea00;try{const _0x15df42=doc(db,_0x3fae03(0xaa1)+appId+_0x3fae03(0xa8a),currentBlueprintProjectId);await updateDoc(_0x15df42,{[_0x3fae03(0x1cd)+_0x172c60+_0x3fae03(0x1b5)]:[]}),showMessage('ล้างการเชื่อมโยงทั้งหมดสำเร็จ'),openTopicQuizBank(_0x172c60),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x52a048){console['error']('Error\x20clearing\x20all\x20links:',_0x52a048),showMessage(_0x3fae03(0x65c));}});}function showPodiumView(_0x30d096,_0x5ba703=_0x3076df(0x3ee)){const _0xd94e97=_0x3076df,_0x2b5773=Object[_0xd94e97(0x5a3)](_0x30d096)[_0xd94e97(0x3c9)](([_0x26c30a,_0x452720])=>({'name':_0x26c30a,'score':_0x452720[_0xd94e97(0x3cb)]||0x0,'badges':_0x452720['badges']||[],'hasPerfectScoreBonus':_0x452720[_0xd94e97(0x798)]||![]}));_0x2b5773[_0xd94e97(0xa41)]((_0x19ef55,_0xc8b91c)=>{const _0xa6f76e=_0xd94e97,_0x3428a8=_0xc8b91c[_0xa6f76e(0x3cb)]-_0x19ef55[_0xa6f76e(0x3cb)];if(_0x3428a8!==0x0)return _0x3428a8;return(_0xc8b91c[_0xa6f76e(0x4a1)][_0xa6f76e(0x3b0)]||0x0)-(_0x19ef55[_0xa6f76e(0x4a1)][_0xa6f76e(0x3b0)]||0x0);});const _0x23bfae=_0x107e45=>{const _0x5214db=_0xd94e97;if(!_0x107e45||_0x107e45['length']===0x0)return'';const _0x12db28={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x5214db(0x24e)+_0x107e45[_0x5214db(0x3c9)](_0x3cb211=>_0x12db28[_0x3cb211]||'')[_0x5214db(0x28d)]('')+_0x5214db(0x9b9);},_0x314267=_0x2b5773[_0xd94e97(0x9e0)](0x3),_0x501f8d=_0x314267[_0xd94e97(0x3b0)]>0x0?_0xd94e97(0x50c)+_0x314267['map']((_0x352c23,_0x2b808c)=>{const _0x54a049=_0xd94e97,_0x512bf4=_0x352c23[_0x54a049(0x798)]?_0x54a049(0x25d):'';return _0x54a049(0x95d)+(_0x2b808c+0x4)+_0x54a049(0xaea)+_0x352c23[_0x54a049(0x774)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x352c23[_0x54a049(0x3cb)]+_0x54a049(0x453)+_0x512bf4+_0x54a049(0x8f2);})[_0xd94e97(0x28d)]('')+_0xd94e97(0xad0):'',_0x7a45ae='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2b5773[0x1]?_0xd94e97(0x748)+_0x2b5773[0x1][_0xd94e97(0x774)]+_0xd94e97(0x19e)+_0x23bfae(_0x2b5773[0x1][_0xd94e97(0x4a1)])+_0xd94e97(0x98c)+_0x2b5773[0x1]['score']+_0xd94e97(0x453)+(_0x2b5773[0x1][_0xd94e97(0x798)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+'</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0xd94e97(0x251))+_0xd94e97(0x671)+(_0x2b5773[0x0]?_0xd94e97(0xbff)+_0x2b5773[0x0][_0xd94e97(0x774)]+_0xd94e97(0x19e)+_0x23bfae(_0x2b5773[0x0][_0xd94e97(0x4a1)])+_0xd94e97(0x703)+_0x2b5773[0x0]['score']+_0xd94e97(0x453)+(_0x2b5773[0x0][_0xd94e97(0x798)]?_0xd94e97(0x768):'')+'</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':_0xd94e97(0x251))+_0xd94e97(0x671)+(_0x2b5773[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x2b5773[0x2]['name']+'</p>'+_0x23bfae(_0x2b5773[0x2]['badges'])+_0xd94e97(0x98c)+_0x2b5773[0x2][_0xd94e97(0x3cb)]+_0xd94e97(0x453)+(_0x2b5773[0x2][_0xd94e97(0x798)]?_0xd94e97(0x768):'')+_0xd94e97(0xcfe):_0xd94e97(0x251))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x501f8d+_0xd94e97(0x79d)+(currentMode===_0xd94e97(0x8f7)?_0xd94e97(0xb64):_0xd94e97(0x276))+_0xd94e97(0x19a);liveGameView[_0xd94e97(0x9c8)]=_0x7a45ae,currentMode===_0xd94e97(0x8f7)&&document[_0xd94e97(0x48d)](_0xd94e97(0x4ef))[_0xd94e97(0x331)](_0xd94e97(0x623),async()=>{const _0x54fd0a=_0xd94e97;let _0x45be10;_0x5ba703===_0x54fd0a(0xc90)?_0x45be10=doc(db,_0x54fd0a(0xaa1)+appId+'/public/data/syncGames',currentLiveGameId):_0x45be10=doc(db,_0x54fd0a(0xaa1)+appId+_0x54fd0a(0xaf6),currentLiveGameId),await deleteDoc(_0x45be10);});}function renderSyncSummaryView(_0x52995f,_0x290d61,_0x53eecd){const _0x2278ed=_0x3076df,_0x43a0ee=Object[_0x2278ed(0x391)](_0x52995f[_0x2278ed(0x501)]||{}),_0x5741a2=_0x290d61[_0x2278ed(0xbc3)]||_0x52995f['shuffledQuiz'][_0x2278ed(0xcb9)];let _0x5eaa33=[];_0x5741a2===_0x2278ed(0x35a)?_0x5eaa33=[_0x2278ed(0x640),'ไม่ใช่\x20/\x20ผิด']:_0x5eaa33=_0x290d61[_0x2278ed(0x7ce)]||[];const _0x28c39a=new Array(_0x5eaa33['length'])[_0x2278ed(0x566)](0x0),_0x3e10de={};_0x5eaa33['forEach']((_0x131dd8,_0x4068dd)=>{_0x3e10de[_0x4068dd]=[];}),Object['entries'](_0x52995f[_0x2278ed(0x501)]||{})[_0x2278ed(0x9c9)](([_0x445f4f,_0x1ad724])=>{const _0x590289=_0x2278ed;if(_0x1ad724[_0x590289(0x732)]!==_0x590289(0x9b6)&&_0x1ad724['lastAnswerIndex']!==undefined&&_0x1ad724[_0x590289(0x5a4)]!==null){const _0x321d6a=_0x1ad724['lastAnswerIndex'];_0x3e10de[_0x321d6a]!==undefined&&(_0x3e10de[_0x321d6a][_0x590289(0x836)](_0x445f4f),_0x28c39a[_0x321d6a]++);}});let _0x1c4061='';_0x53eecd?_0x1c4061=_0x2278ed(0x7b9):_0x1c4061=_0x2278ed(0x606);const _0x316603=_0x2278ed(0x77f)+_0x290d61['questionText']+_0x2278ed(0x436)+_0x28c39a[_0x2278ed(0x3c9)]((_0x1a716c,_0x1b0507)=>{const _0x19c0e1=_0x2278ed,_0x19d5f2=_0x3e10de[_0x1b0507][_0x19c0e1(0x3b0)]>0x0?_0x3e10de[_0x1b0507][_0x19c0e1(0x28d)](',\x20'):_0x19c0e1(0x697),_0x218afb=_0x19c0e1(0x441);return _0x19c0e1(0x8c1)+_0x1a716c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x218afb+_0x19c0e1(0xa11)+_0x1b0507+_0x19c0e1(0xca5)+_0x5eaa33[_0x1b0507]+_0x19c0e1(0x3b3)+_0x1b0507+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19d5f2+_0x19c0e1(0x5a7);})['join']('')+_0x2278ed(0xa77)+_0x1c4061+_0x2278ed(0xc35);liveGameView[_0x2278ed(0x9c8)]=_0x316603;if(window[_0x2278ed(0x278)])MathJax[_0x2278ed(0x73c)]();_0x53eecd&&(document[_0x2278ed(0x48d)](_0x2278ed(0x769))[_0x2278ed(0x331)](_0x2278ed(0x623),async()=>{const _0x148a7b=_0x2278ed,_0x2e985a=doc(db,_0x148a7b(0xaa1)+appId+_0x148a7b(0x947),currentLiveGameId);await updateDoc(_0x2e985a,{'status':_0x148a7b(0x7fa)});}),document['getElementById'](_0x2278ed(0xb62))['onclick']=()=>{openScratchpad(_0x290d61,_0x5eaa33);});}async function handleShowStudentRankings(){const _0x59c4e7=_0x3076df,_0x1381ea=document['querySelector']('#student-quiz-leaderboard-content\x20thead');_0x1381ea&&(_0x1381ea[_0x59c4e7(0x9c8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x32713e=document[_0x59c4e7(0x381)](_0x59c4e7(0xac0));_0x32713e&&(_0x32713e[_0x59c4e7(0x9c8)]=_0x59c4e7(0x1a5));const _0x383c2f=document[_0x59c4e7(0x48d)]('student-rankings-modal');_0x383c2f[_0x59c4e7(0xbbb)]['remove'](_0x59c4e7(0xc6c)),document[_0x59c4e7(0x48d)](_0x59c4e7(0xb0a))['onclick']=()=>_0x383c2f[_0x59c4e7(0xbbb)][_0x59c4e7(0x49b)](_0x59c4e7(0xc6c));const _0x5af774=document[_0x59c4e7(0x48d)](_0x59c4e7(0x4db)),_0x1c40e0=document[_0x59c4e7(0x48d)](_0x59c4e7(0xa30)),_0x304054=document[_0x59c4e7(0x48d)](_0x59c4e7(0xd2c)),_0x351b12=document[_0x59c4e7(0x48d)](_0x59c4e7(0x909));_0x5af774[_0x59c4e7(0x2ee)]=()=>{const _0x9986c4=_0x59c4e7;_0x5af774['classList'][_0x9986c4(0x49b)]('active'),_0x1c40e0[_0x9986c4(0xbbb)][_0x9986c4(0xb7d)](_0x9986c4(0x28f)),_0x304054[_0x9986c4(0xbbb)][_0x9986c4(0xb7d)](_0x9986c4(0xc6c)),_0x351b12[_0x9986c4(0xbbb)][_0x9986c4(0x49b)](_0x9986c4(0xc6c));},_0x1c40e0[_0x59c4e7(0x2ee)]=()=>{const _0x2de9da=_0x59c4e7;_0x1c40e0[_0x2de9da(0xbbb)]['add']('active'),_0x5af774[_0x2de9da(0xbbb)]['remove'](_0x2de9da(0x28f)),_0x351b12[_0x2de9da(0xbbb)][_0x2de9da(0xb7d)](_0x2de9da(0xc6c)),_0x304054[_0x2de9da(0xbbb)][_0x2de9da(0x49b)](_0x2de9da(0xc6c));};try{const _0x5d9a6f=collection(db,_0x59c4e7(0xaa1)+appId+_0x59c4e7(0xa74)+currentQuizData['id']+_0x59c4e7(0xa99)),_0x417cf6=await getDocs(_0x5d9a6f),_0x363dc5=_0x417cf6[_0x59c4e7(0x9a1)]['map'](_0x3d8cca=>_0x3d8cca[_0x59c4e7(0x995)]());renderQuizLeaderboard(_0x363dc5,currentQuizData,_0x59c4e7(0x480));const _0x46ec=collection(db,_0x59c4e7(0xaa1)+appId+'/public/data/projects/'+currentQuizData['projectId']+_0x59c4e7(0x715)),_0x741b04=await getDocs(_0x46ec),_0x1f8692=_0x741b04[_0x59c4e7(0x9a1)][_0x59c4e7(0x3c9)](_0x3c2a18=>_0x3c2a18[_0x59c4e7(0x995)]());renderLeaderboard(_0x1f8692,'student-project-leaderboard-table-body');}catch(_0x4d5d0b){console[_0x59c4e7(0x405)](_0x59c4e7(0x1b2),_0x4d5d0b),showMessage(_0x59c4e7(0x93f));}}async function handleSaveToBank(_0x934afb){const _0xe2075d=_0x3076df,_0x33fc7b=_0x934afb[_0xe2075d(0x328)],_0x594c6c=_0x33fc7b[_0xe2075d(0x40c)][_0xe2075d(0x353)],_0x1c8537=currentQuizData[_0xe2075d(0x796)][_0x594c6c];if(!userId){showMessage(_0xe2075d(0x662));return;}try{const _0x2d2634={..._0x1c8537,'originalTopic':currentQuizData[_0xe2075d(0x6a9)],'savedAt':serverTimestamp()},_0x366a28=collection(db,_0xe2075d(0xaa1)+appId+'/users/'+userId+_0xe2075d(0x654));await addDoc(_0x366a28,_0x2d2634),showMessage(_0xe2075d(0x9d3)),_0x33fc7b[_0xe2075d(0xbbb)]['remove'](_0xe2075d(0x645)),_0x33fc7b[_0xe2075d(0xbbb)]['add']('text-green-600'),_0x33fc7b[_0xe2075d(0x1dc)]=!![];}catch(_0xe5f9c0){console[_0xe2075d(0x405)](_0xe2075d(0x3c8),_0xe5f9c0),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function selectProjectAndGenerateBlueprintQuiz(_0x15b866,_0x2ba471=null,_0xc59c9e=null,_0xdaa113=![]){const _0x3af787=_0x3076df;cameFromBlueprint=!![];const _0xa0ebde=document[_0x3af787(0x48d)](_0x3af787(0x78b))?.[_0x3af787(0xaef)]['trim']();let _0x2f62bd=null;if(_0xa0ebde){showMessage(_0x3af787(0x88c));try{const _0x45e00e=await fetchFileFromUrl(_0xa0ebde,_0x3af787(0xc14)),_0x19c3c4=await new Promise((_0x1d2105,_0x5d1ad3)=>{const _0x507403=_0x3af787,_0x251717=new FileReader();_0x251717[_0x507403(0x99a)](_0x45e00e),_0x251717[_0x507403(0x4fd)]=()=>_0x1d2105(_0x251717['result'][_0x507403(0x1f1)](',')[0x1]),_0x251717[_0x507403(0x792)]=_0x5d1ad3;});_0x2f62bd=[{'inlineData':{'mimeType':_0x45e00e[_0x3af787(0x1a1)],'data':_0x19c3c4}}],messageModal[_0x3af787(0xbbb)][_0x3af787(0x49b)]('hidden');}catch(_0x4357f9){console['error'](_0x3af787(0x2ab),_0x4357f9),showMessage(_0x3af787(0x733));}}const _0x35ee83=document[_0x3af787(0x48d)](_0x3af787(0x2ae)),_0x3b3a51=document['getElementById'](_0x3af787(0x90a)),_0x5af5a6=_0x35ee83[_0x3af787(0x381)]('h3'),_0x204894=document[_0x3af787(0x48d)]('confirm-move-quiz-btn'),_0x26e029=document['getElementById'](_0x3af787(0x510));_0x5af5a6[_0x3af787(0x9ea)]=_0x3af787(0x91d),_0x204894['textContent']=_0x3af787(0x27e),_0x204894[_0x3af787(0x1dc)]=!![];allProjects[_0x3af787(0x3b0)]===0x0?_0x3b3a51[_0x3af787(0x9c8)]=_0x3af787(0xb9c):(_0x3b3a51[_0x3af787(0x9c8)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects['map'](_0x147a5c=>_0x3af787(0xb17)+_0x147a5c['id']+'\x22>'+_0x147a5c[_0x3af787(0x98e)]+'</option>')['join'](''),_0x204894[_0x3af787(0x1dc)]=![]);_0x35ee83[_0x3af787(0xbbb)][_0x3af787(0xb7d)]('hidden');const _0x5ed7ba=async()=>{const _0x2bd304=_0x3af787,_0x52d877=_0x3b3a51[_0x2bd304(0xaef)];if(!_0x52d877){showMessage(_0x2bd304(0x205));return;}_0x35ee83[_0x2bd304(0xbbb)]['add']('hidden'),document['getElementById']('blueprint-project-manager-view')[_0x2bd304(0xbbb)][_0x2bd304(0x49b)]('hidden'),await loadProjectDetails(_0x52d877),showView(_0x2bd304(0x58d)),handleGenerateQuizFromBlueprintTopic(_0x15b866,_0x2ba471,_0x52d877,_0xc59c9e,_0xdaa113,_0x2f62bd),_0x539b47();},_0x539b47=()=>{const _0x387460=_0x3af787;_0x5af5a6['textContent']=_0x387460(0xa02),_0x204894['textContent']=_0x387460(0xc6b),_0x204894[_0x387460(0x210)]('click',_0x5ed7ba),_0x26e029[_0x387460(0x210)](_0x387460(0x623),_0x539b47),_0x204894['addEventListener']('click',confirmMoveQuiz);};_0x204894['removeEventListener'](_0x3af787(0x623),confirmMoveQuiz),_0x204894[_0x3af787(0x331)]('click',_0x5ed7ba),_0x26e029[_0x3af787(0x331)](_0x3af787(0x623),_0x539b47);}function listenForStarredQuizzes(){const _0x3e6d4c=_0x3076df;if(!userId)return;const _0x58b31d=collection(db,_0x3e6d4c(0xaa1)+appId+_0x3e6d4c(0x695)),_0x4be7c4=query(_0x58b31d,where(_0x3e6d4c(0x407),'==',!![]));onSnapshot(_0x4be7c4,_0x5e5eef=>{const _0x4ec35f=_0x3e6d4c;starredQuizzes=_0x5e5eef[_0x4ec35f(0x9a1)][_0x4ec35f(0x3c9)](_0x39022d=>({'id':_0x39022d['id'],..._0x39022d['data']()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x2f0111=>{const _0x2043ac=_0x3e6d4c;console[_0x2043ac(0x405)](_0x2043ac(0xd1c),_0x2f0111);});}function listenForFileShortcuts(){const _0x4b8cc4=_0x3076df,_0x232c24=doc(db,_0x4b8cc4(0x3ae),'fileShortcutsConfig');onSnapshot(_0x232c24,_0x62debf=>{const _0xf927a6=_0x4b8cc4;let _0xeba5bd=[],_0x5da4e9=[],_0x3de836={};if(_0x62debf['exists']()){const _0x43a088=_0x62debf[_0xf927a6(0x995)]();_0xeba5bd=_0x43a088[_0xf927a6(0x610)]||[],_0x5da4e9=_0x43a088[_0xf927a6(0x874)]||[],_0x3de836=_0x43a088[_0xf927a6(0x9e3)]||{};}!_0x5da4e9[_0xf927a6(0xcf4)](_0x6d1833=>_0x6d1833['id']==='all')&&_0x5da4e9[_0xf927a6(0x5fb)]({'id':_0xf927a6(0x6a5),'name':_0xf927a6(0x875),'isDefault':!![]}),!_0xeba5bd[_0xf927a6(0xcf4)](_0x275536=>_0x275536['id']===_0xf927a6(0x7a7))&&_0xeba5bd[_0xf927a6(0x5fb)]({'id':_0xf927a6(0x7a7),'name':_0xf927a6(0x3d3),'url':'','isDefault':!![]}),!_0xeba5bd[_0xf927a6(0xcf4)](_0xad0daf=>_0xad0daf['id']===_0xf927a6(0x33f))&&_0xeba5bd[_0xf927a6(0x5fb)]({'id':_0xf927a6(0x33f),'name':_0xf927a6(0xbac),'url':'','isDefault':!![]}),fileShortcuts=_0xeba5bd,fileShortcutTabs=_0x5da4e9,fileShortcutOrder=_0x3de836,renderFileShortcuts(),!document['getElementById'](_0xf927a6(0x2b6))['classList'][_0xf927a6(0x477)]('hidden')&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x3287fd=_0x3076df,_0xa495df=doc(db,_0x3287fd(0x3ae),_0x3287fd(0x6cb));try{await setDoc(_0xa495df,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x463b73){console[_0x3287fd(0x405)]('Error\x20saving\x20file\x20shortcut\x20config:',_0x463b73);}}function renderAdditionalFileShortcutsModal(){const _0x15d6c3=_0x3076df,_0x3facd4=document[_0x15d6c3(0x48d)](_0x15d6c3(0x7ff)),_0x2c3b5c=document['getElementById'](_0x15d6c3(0xd2b));if(!_0x3facd4||!_0x2c3b5c)return;_0x3facd4['innerHTML']=fileShortcutTabs[_0x15d6c3(0x3c9)](_0x2562c4=>{const _0x4e020a=_0x15d6c3,_0x50161e=_0x2562c4['id']===activeFileShortcutTabId;return _0x4e020a(0x5c7)+_0x2562c4['id']+_0x4e020a(0xaf4)+(_0x50161e?_0x4e020a(0x49c):_0x4e020a(0x976))+_0x4e020a(0xa9d)+_0x2562c4[_0x4e020a(0x774)]+_0x4e020a(0x2de)+_0x2562c4[_0x4e020a(0x774)]+_0x4e020a(0xb63)+(!_0x2562c4[_0x4e020a(0x32d)]?'<button\x20data-tab-id=\x22'+_0x2562c4['id']+'\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x4e020a(0x9d6);})[_0x15d6c3(0x28d)]('');const _0xc68aa8=fileShortcutTabs[_0x15d6c3(0xcf4)](_0x4d3b19=>_0x4d3b19['id']===activeFileShortcutTabId);let _0x4d878c=_0xc68aa8?.[_0x15d6c3(0x32d)]?[...fileShortcuts]:fileShortcuts[_0x15d6c3(0x475)](_0x1ff16b=>(_0xc68aa8?.['shortcutIds']||[])[_0x15d6c3(0x59e)](_0x1ff16b['id']));const _0x3a1d4c=fileShortcutOrder[activeFileShortcutTabId]||[];_0x4d878c[_0x15d6c3(0xa41)]((_0x4ce3e9,_0x663bcb)=>{const _0x217fad=_0x15d6c3,_0x2a17ac=_0x3a1d4c[_0x217fad(0x2ea)](_0x4ce3e9['id']),_0x590121=_0x3a1d4c[_0x217fad(0x2ea)](_0x663bcb['id']);return(_0x2a17ac===-0x1?Infinity:_0x2a17ac)-(_0x590121===-0x1?Infinity:_0x590121);}),_0x2c3b5c[_0x15d6c3(0x9c8)]=_0x4d878c[_0x15d6c3(0x3c9)](_0x19c01c=>{const _0x16e17a=_0x15d6c3,_0x41a6d4=_0x19c01c['url']?'📄':'🔗',_0x562007=fileShortcutTabs['filter'](_0x8be989=>!_0x8be989[_0x16e17a(0x32d)]),_0x298abc=_0xc68aa8[_0x16e17a(0x32d)]&&_0x562007[_0x16e17a(0x3b0)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x562007[_0x16e17a(0x3c9)](_0x2741cc=>_0x16e17a(0xb35)+_0x19c01c['id']+_0x16e17a(0x5d3)+_0x2741cc['id']+'\x22>'+_0x2741cc[_0x16e17a(0x774)]+_0x16e17a(0x438))[_0x16e17a(0x28d)]('')+_0x16e17a(0x75d):'';return _0x16e17a(0x41c)+_0x19c01c['id']+_0x16e17a(0x75e)+_0x41a6d4+'\x20'+_0x19c01c['name']+_0x16e17a(0x6f3)+_0x19c01c['id']+_0x16e17a(0xc68)+_0x19c01c['id']+_0x16e17a(0x40a)+(!_0x19c01c[_0x16e17a(0x32d)]?_0x16e17a(0xb20)+_0x19c01c['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x16e17a(0xc31)+(!_0xc68aa8[_0x16e17a(0x32d)]?_0x16e17a(0x1a4)+_0x19c01c['id']+_0x16e17a(0x8a7):'')+_0x16e17a(0xc31)+_0x298abc+_0x16e17a(0x22d);})[_0x15d6c3(0x28d)]('')||_0x15d6c3(0x97c),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x1feefc=_0x3076df;document['querySelectorAll']('.file-shortcut-tab-btn')[_0x1feefc(0x9c9)](_0x41cc58=>{const _0x442b4b=_0x1feefc;_0x41cc58[_0x442b4b(0x2ee)]=_0x400579=>{const _0x226966=_0x442b4b;activeFileShortcutTabId=_0x400579['currentTarget'][_0x226966(0x40c)][_0x226966(0x4c8)],renderAdditionalFileShortcutsModal();},_0x41cc58['ondblclick']=_0x118d94=>{const _0x1978a8=_0x442b4b,_0x5931c5=_0x118d94[_0x1978a8(0x328)][_0x1978a8(0x381)]('.tab-name-input');_0x118d94[_0x1978a8(0x328)][_0x1978a8(0x381)](_0x1978a8(0x4c4))[_0x1978a8(0xbbb)]['add'](_0x1978a8(0xc6c)),_0x5931c5['classList'][_0x1978a8(0xb7d)](_0x1978a8(0xc6c)),_0x5931c5['focus'](),_0x5931c5['select']();};}),document[_0x1feefc(0x599)](_0x1feefc(0x24c))[_0x1feefc(0x9c9)](_0x5142f0=>{const _0x24dadc=_0x1feefc,_0x459796=()=>{const _0x481eb9=_0x520b,_0x51754c=_0x5142f0[_0x481eb9(0x951)](_0x481eb9(0x8e0))[_0x481eb9(0x40c)]['tabId'],_0x2b004f=fileShortcutTabs[_0x481eb9(0xcf4)](_0x467980=>_0x467980['id']===_0x51754c);_0x2b004f&&(_0x2b004f[_0x481eb9(0x774)]=_0x5142f0['value'][_0x481eb9(0x7fe)]()||_0x2b004f[_0x481eb9(0x774)],saveFileShortcutConfig());};_0x5142f0['onblur']=_0x459796,_0x5142f0[_0x24dadc(0x398)]=_0x2f2b97=>{const _0x5bec19=_0x24dadc;if(_0x2f2b97[_0x5bec19(0x5f2)]===_0x5bec19(0x1c2))_0x5142f0['blur']();};}),document[_0x1feefc(0x599)](_0x1feefc(0x4d9))[_0x1feefc(0x9c9)](_0x11b23f=>_0x11b23f[_0x1feefc(0x2ee)]=_0x5a2bf3=>{const _0x4ba068=_0x1feefc,_0x427fc5=_0x5a2bf3[_0x4ba068(0x328)][_0x4ba068(0x40c)]['tabId'];showConfirmation(_0x4ba068(0x693),()=>{const _0x43ec18=_0x4ba068;fileShortcutTabs=fileShortcutTabs[_0x43ec18(0x475)](_0xe1ba05=>_0xe1ba05['id']!==_0x427fc5),delete fileShortcutOrder[_0x427fc5];if(activeFileShortcutTabId===_0x427fc5)activeFileShortcutTabId=_0x43ec18(0x6a5);saveFileShortcutConfig();});}),document[_0x1feefc(0x599)](_0x1feefc(0xb98))['forEach'](_0x2c23ce=>_0x2c23ce[_0x1feefc(0x2ee)]=_0x23504b=>{const _0x7f8c62=_0x1feefc;_0x23504b['preventDefault']();const {shortcutId:_0xbcac49,targetTabId:_0x2ccf82}=_0x23504b['currentTarget']['dataset'],_0x275d37=fileShortcutTabs[_0x7f8c62(0xcf4)](_0x4917b0=>_0x4917b0['id']===_0x2ccf82);_0x275d37&&!_0x275d37[_0x7f8c62(0x8ad)][_0x7f8c62(0x59e)](_0xbcac49)&&(_0x275d37[_0x7f8c62(0x8ad)][_0x7f8c62(0x836)](_0xbcac49),saveFileShortcutConfig());}),document['querySelectorAll'](_0x1feefc(0x65e))[_0x1feefc(0x9c9)](_0x4c9459=>_0x4c9459[_0x1feefc(0x2ee)]=_0x37f676=>{const _0x346b6f=_0x1feefc,_0xc4722d=_0x37f676[_0x346b6f(0x328)]['dataset']['shortcutId'],_0x5b0992=fileShortcutTabs[_0x346b6f(0xcf4)](_0x3ed17d=>_0x3ed17d['id']===activeFileShortcutTabId);_0x5b0992&&!_0x5b0992[_0x346b6f(0x32d)]&&(_0x5b0992[_0x346b6f(0x8ad)]=_0x5b0992[_0x346b6f(0x8ad)][_0x346b6f(0x475)](_0x1a94d2=>_0x1a94d2!==_0xc4722d),saveFileShortcutConfig());}),document['querySelectorAll'](_0x1feefc(0x859))[_0x1feefc(0x9c9)](_0x47ad01=>_0x47ad01[_0x1feefc(0x2ee)]=_0x2b9fe4=>{const _0x33afe2=_0x1feefc;_0x2b9fe4['stopPropagation']();const _0x47cba5=_0x2b9fe4[_0x33afe2(0x328)]['nextElementSibling'];document[_0x33afe2(0x599)](_0x33afe2(0xb55))[_0x33afe2(0x9c9)](_0x5a23dd=>_0x5a23dd['classList'][_0x33afe2(0x49b)]('hidden')),_0x47cba5[_0x33afe2(0xbbb)][_0x33afe2(0xb7d)]('hidden');});const _0x3d80a9=document['getElementById']('additional-file-shortcuts-list');let _0x310ec5=null;_0x3d80a9['ondragstart']=_0xa9d8c8=>{const _0x3a7172=_0x1feefc;_0x310ec5=_0xa9d8c8['target'][_0x3a7172(0x951)]('.shortcut-list-item');if(_0x310ec5)setTimeout(()=>_0x310ec5[_0x3a7172(0xbbb)][_0x3a7172(0x49b)]('opacity-50'),0x0);},_0x3d80a9['ondragend']=()=>{const _0x211ed6=_0x1feefc;_0x310ec5&&(_0x310ec5[_0x211ed6(0xbbb)]['remove'](_0x211ed6(0x672)),_0x310ec5=null);},_0x3d80a9['ondragover']=_0x1d17a4=>{const _0x3b8404=_0x1feefc;_0x1d17a4[_0x3b8404(0x512)]();},_0x3d80a9['ondrop']=_0x1bb725=>{const _0x3681fe=_0x1feefc;_0x1bb725[_0x3681fe(0x512)]();if(_0x310ec5){const _0x2624d5=[..._0x3d80a9[_0x3681fe(0x599)](_0x3681fe(0x2e7))][_0x3681fe(0x2f8)]((_0x1eb622,_0x6abca3)=>{const _0x5cefa7=_0x3681fe,_0x450d0d=_0x6abca3[_0x5cefa7(0x67d)](),_0x350000=_0x1bb725[_0x5cefa7(0x619)]-_0x450d0d[_0x5cefa7(0xd06)]-_0x450d0d['height']/0x2;return _0x350000<0x0&&_0x350000>_0x1eb622[_0x5cefa7(0xbdd)]?{'offset':_0x350000,'element':_0x6abca3}:_0x1eb622;},{'offset':Number[_0x3681fe(0x548)]})['element'];_0x2624d5==null?_0x3d80a9[_0x3681fe(0xcff)](_0x310ec5):_0x3d80a9[_0x3681fe(0xce9)](_0x310ec5,_0x2624d5);const _0x5baae5=[..._0x3d80a9[_0x3681fe(0x599)](_0x3681fe(0x828))][_0x3681fe(0x3c9)](_0x292919=>_0x292919[_0x3681fe(0x40c)][_0x3681fe(0x99f)]);fileShortcutOrder[activeFileShortcutTabId]=_0x5baae5,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x4d0888=_0x3076df,_0x57a7b1=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x4d0888(0xa9f));_0x57a7b1&&_0x57a7b1[_0x4d0888(0x7fe)]()&&(fileShortcutTabs['push']({'id':'tab_'+Date[_0x4d0888(0x95f)](),'name':_0x57a7b1[_0x4d0888(0x7fe)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x442f71=_0x3076df,_0x3bee84=document[_0x442f71(0x48d)](_0x442f71(0x446)),_0x230599=document[_0x442f71(0x48d)](_0x442f71(0xd2b)),_0x5aa0b7=document[_0x442f71(0x48d)](_0x442f71(0xc5b));if(_0x5aa0b7)_0x5aa0b7['classList'][_0x442f71(0x49b)](_0x442f71(0xc6c));if(!_0x3bee84||!_0x230599)return;const _0x1c908d=fileShortcuts[_0x442f71(0x9e0)](0x0,0x4),_0x541cf6=fileShortcuts['slice'](0x4);_0x3bee84['innerHTML']=_0x1c908d[_0x442f71(0x3c9)](_0x4a80ad=>{const _0x7b406e=_0x442f71,_0x2b9610=_0x4a80ad[_0x7b406e(0xa5e)]&&_0x4a80ad[_0x7b406e(0xa5e)][_0x7b406e(0x7fe)]()!=='',_0x5f1c6d=selectedFile&&selectedFile[_0x7b406e(0x99f)]===_0x4a80ad['id'];let _0x57dce2=_0x7b406e(0x9ff),_0x64c015='🔗';if(_0x5f1c6d)_0x57dce2='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x64c015=_0x7b406e(0x395);else _0x2b9610&&(_0x57dce2='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x64c015='📄');const _0x25085b=!_0x4a80ad['isDefault']?_0x7b406e(0xb20)+_0x4a80ad['id']+_0x7b406e(0x558):'';return _0x7b406e(0x88f)+_0x4a80ad['id']+_0x7b406e(0xa9a)+_0x57dce2+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x64c015+_0x7b406e(0x893)+_0x4a80ad[_0x7b406e(0x774)]+_0x7b406e(0x3e0)+_0x4a80ad['id']+_0x7b406e(0x938)+_0x25085b+_0x7b406e(0xa01);})[_0x442f71(0x28d)](''),_0x541cf6[_0x442f71(0x3b0)]>0x0&&(_0x3bee84[_0x442f71(0x9c8)]+=_0x442f71(0x1c0)),_0x541cf6['length']>0x0?_0x230599['innerHTML']=_0x541cf6[_0x442f71(0x3c9)](_0x4e9408=>_0x442f71(0x8fb)+(_0x4e9408[_0x442f71(0xa5e)]?'📄':'🔗')+'\x20'+_0x4e9408[_0x442f71(0x774)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4e9408['id']+_0x442f71(0x9ad)+_0x4e9408['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4e9408[_0x442f71(0x32d)]?'<button\x20data-id=\x22'+_0x4e9408['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x442f71(0x40f))[_0x442f71(0x28d)](''):_0x230599[_0x442f71(0x9c8)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0xcb1e26=null){const _0xff2999=_0x3076df,_0x123a25=document[_0xff2999(0x48d)](_0xff2999(0x3a8)),_0x2f8c74=document[_0xff2999(0x48d)](_0xff2999(0x68c)),_0x5281be=document[_0xff2999(0x48d)]('file-shortcut-id-input'),_0x36d094=document['getElementById'](_0xff2999(0x866)),_0x4b7cad=document[_0xff2999(0x48d)](_0xff2999(0xaa5));if(_0xcb1e26){const _0x107360=fileShortcuts[_0xff2999(0xcf4)](_0x3b96b9=>_0x3b96b9['id']===_0xcb1e26);if(!_0x107360)return;_0x2f8c74[_0xff2999(0x9ea)]=_0xff2999(0x6fd),_0x5281be['value']=_0x107360['id'],_0x36d094[_0xff2999(0xaef)]=_0x107360[_0xff2999(0x774)],_0x4b7cad['value']=_0x107360['url']||'';}else _0x2f8c74[_0xff2999(0x9ea)]=_0xff2999(0x688),_0x5281be['value']='',_0x36d094[_0xff2999(0xaef)]='',_0x4b7cad[_0xff2999(0xaef)]='';_0x123a25['classList']['remove']('hidden');}async function saveFileShortcutChanges(){const _0x2d2e84=_0x3076df,_0x34a8b0=document[_0x2d2e84(0x48d)]('file-shortcut-id-input')[_0x2d2e84(0xaef)],_0x5b3644=document[_0x2d2e84(0x48d)]('file-shortcut-name-input')[_0x2d2e84(0xaef)][_0x2d2e84(0x7fe)](),_0x38c3f0=document[_0x2d2e84(0x48d)]('file-shortcut-url-input')[_0x2d2e84(0xaef)]['trim']();if(!_0x5b3644){showMessage(_0x2d2e84(0x9e2));return;}const _0x664c5a={'id':_0x34a8b0||_0x2d2e84(0xa53)+Date[_0x2d2e84(0x95f)](),'name':_0x5b3644,'url':_0x38c3f0,'isDefault':_0x34a8b0[_0x2d2e84(0x1c6)](_0x2d2e84(0x554))};let _0x3b7176;_0x34a8b0?_0x3b7176=fileShortcuts[_0x2d2e84(0x3c9)](_0x5897ac=>_0x5897ac['id']===_0x34a8b0?_0x664c5a:_0x5897ac):_0x3b7176=[...fileShortcuts,_0x664c5a];try{const _0x3fa4fe=doc(db,_0x2d2e84(0x3ae),'fileShortcutsConfig');await setDoc(_0x3fa4fe,{'shortcuts':_0x3b7176},{'merge':!![]}),document[_0x2d2e84(0x48d)](_0x2d2e84(0x3a8))[_0x2d2e84(0xbbb)]['add'](_0x2d2e84(0xc6c));}catch(_0x1589d6){console[_0x2d2e84(0x405)](_0x2d2e84(0xb26),_0x1589d6),showMessage(_0x2d2e84(0xb90));}}async function handleFileShortcutClick(_0xdd922d){const _0x382888=_0x3076df,_0x23de8a=fileShortcuts[_0x382888(0xcf4)](_0x39e52c=>_0x39e52c['id']===_0xdd922d);if(!_0x23de8a)return;if(!_0x23de8a[_0x382888(0xa5e)]||_0x23de8a['url'][_0x382888(0x7fe)]()===''){openFileShortcutEditor(_0xdd922d);return;}const _0x3df1bb=document['querySelector'](_0x382888(0x6c5)+_0xdd922d+'\x22]');if(_0x3df1bb){const _0x1b59fb=_0x3df1bb[_0x382888(0x9c8)];_0x3df1bb[_0x382888(0x9c8)]='<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>',_0x3df1bb[_0x382888(0x1dc)]=!![];}document[_0x382888(0x599)]('.file-shortcut-btn')[_0x382888(0x9c9)](_0x392ded=>{const _0x250c54=_0x382888;if(_0x392ded['dataset']['id']!==_0xdd922d)_0x392ded[_0x250c54(0xbbb)][_0x250c54(0x49b)](_0x250c54(0x672),'pointer-events-none');});try{const _0x1cf5e0=new URL(_0x23de8a[_0x382888(0xa5e)])[_0x382888(0x455)],_0x3487c4=_0x1cf5e0[_0x382888(0x5ac)](_0x1cf5e0[_0x382888(0x2ac)]('/')+0x1)||(_0x23de8a[_0x382888(0xa5e)][_0x382888(0x59e)](_0x382888(0x96c))?_0x382888(0xb24):'file.pdf'),_0x1ce047=await fetchFileFromUrl(_0x23de8a[_0x382888(0xa5e)],_0x3487c4);_0x1ce047[_0x382888(0x99f)]=_0xdd922d,selectedFile=_0x1ce047,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document['getElementById'](_0x382888(0xcf7))[_0x382888(0x624)]({'behavior':_0x382888(0x677),'block':'center'});}catch(_0x2ad227){console[_0x382888(0x405)](_0x382888(0x2f0),_0x2ad227),showMessage(_0x382888(0x25c)+_0x2ad227[_0x382888(0x5ce)]),renderFileShortcuts();}finally{document[_0x382888(0x599)]('.file-shortcut-btn')[_0x382888(0x9c9)](_0x214307=>{const _0x2f3bbb=_0x382888;_0x214307[_0x2f3bbb(0xbbb)]['remove'](_0x2f3bbb(0x672),_0x2f3bbb(0x3a5)),_0x214307['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x34b2a0=_0x3076df;if(allQuizzesGlobal[_0x34b2a0(0x3b0)]>0x0)return;console['log']('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0x4b6d93=await getDocs(collection(db,_0x34b2a0(0xaa1)+appId+_0x34b2a0(0x695)));allQuizzesGlobal=_0x4b6d93[_0x34b2a0(0x9a1)][_0x34b2a0(0x3c9)](_0x21a283=>({'id':_0x21a283['id'],..._0x21a283['data']()})),console[_0x34b2a0(0x676)]('Loaded\x20'+allQuizzesGlobal[_0x34b2a0(0x3b0)]+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x34b2a0(0xbbb)][_0x34b2a0(0x49b)](_0x34b2a0(0xc6c));}catch(_0xdba38b){console[_0x34b2a0(0x405)](_0x34b2a0(0xbfb),_0xdba38b),messageModal[_0x34b2a0(0xbbb)][_0x34b2a0(0x49b)](_0x34b2a0(0xc6c));throw new Error(_0x34b2a0(0x57a));}}function exportQuizAsWorksheetPDF(){const _0x22b29f=_0x3076df;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0xa87725=currentQuizData,_0x50a2d0=window[_0x22b29f(0x5d1)]('',_0x22b29f(0x722)),_0x1182a9=_0x42618c=>String[_0x22b29f(0x77b)](0x41+_0x42618c),_0x8bbd87='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0xa87725['topic']+_0x22b29f(0x5e4)+_0xa87725['topic']+_0x22b29f(0xccb)+_0xa87725['questions'][_0x22b29f(0x3c9)]((_0x38dc18,_0x18aa62)=>{const _0x375fb5=_0x22b29f;let _0x207209='';const _0x244e1c=_0x38dc18[_0x375fb5(0xbc3)]||_0xa87725[_0x375fb5(0xcb9)];switch(_0x244e1c){case _0x375fb5(0xa73):case'fill_in_with_choices':_0x207209=_0x375fb5(0xa10)+_0x38dc18[_0x375fb5(0x7ce)]['map']((_0xa2a32e,_0x4d4a89)=>_0x375fb5(0xaf9)+_0x1182a9(_0x4d4a89)+'.\x20'+_0xa2a32e+_0x375fb5(0x38f))[_0x375fb5(0x28d)](_0x375fb5(0xb99))+_0x375fb5(0x9b9);break;case _0x375fb5(0x35a):_0x207209=_0x375fb5(0x989);break;default:_0x207209=_0x375fb5(0x46b);break;}return _0x375fb5(0xc60)+(_0x18aa62+0x1)+_0x375fb5(0x273)+(_0x38dc18['stem']||_0x38dc18['questionText'])+_0x375fb5(0x508)+(_0x38dc18[_0x375fb5(0x415)]?_0x375fb5(0xaf1)+_0x38dc18['imageCode']+_0x375fb5(0x9b9):'')+_0x375fb5(0x373)+_0x207209+_0x375fb5(0x3fe);})['join']('')+_0x22b29f(0x6e0);_0x50a2d0[_0x22b29f(0xa66)]['write'](_0x8bbd87),_0x50a2d0[_0x22b29f(0xa66)]['close'](),_0x50a2d0[_0x22b29f(0x4fd)]=function(){setTimeout(()=>{const _0x2c1061=_0x520b;_0x50a2d0[_0x2c1061(0x860)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x28b0f3=_0x3076df;if(!currentQuizData||!currentQuizData[_0x28b0f3(0x796)]){showMessage(_0x28b0f3(0x43b));return;}const _0x2dc9e5=currentQuizData,_0x16d19b=window['open']('','_blank'),_0x32ebdd=_0xf53343=>String[_0x28b0f3(0x77b)](0x41+_0xf53343),_0x1f6e2d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x2dc9e5[_0x28b0f3(0x6a9)]+_0x28b0f3(0x242)+_0x2dc9e5[_0x28b0f3(0x796)][_0x28b0f3(0x3c9)]((_0xb3b4e2,_0xbf51c6)=>{const _0xe08e6e=_0x28b0f3;let _0x525b0a='';const _0x23e7e6=_0xb3b4e2[_0xe08e6e(0xbc3)]||_0x2dc9e5['quizType'];switch(_0x23e7e6){case'multiple_choice':case _0xe08e6e(0x62e):_0x525b0a=_0xe08e6e(0x6ae)+_0xb3b4e2[_0xe08e6e(0x7ce)][_0xe08e6e(0x3c9)]((_0x588f5a,_0x54e670)=>_0xe08e6e(0x586)+_0x32ebdd(_0x54e670)+'.\x20'+_0x588f5a+_0xe08e6e(0x9f3))[_0xe08e6e(0x28d)](_0xe08e6e(0xb99))+_0xe08e6e(0xbf8);break;case _0xe08e6e(0x35a):_0x525b0a=_0xe08e6e(0xa44);break;default:_0x525b0a='';break;}return _0xe08e6e(0x678)+_0x2dc9e5['topic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0xbf51c6+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0xb3b4e2[_0xe08e6e(0x255)]||_0xb3b4e2[_0xe08e6e(0x833)])+_0xe08e6e(0x508)+(_0xb3b4e2[_0xe08e6e(0x415)]?_0xe08e6e(0x9fe)+_0xb3b4e2[_0xe08e6e(0x415)]+'</div>':'')+_0xe08e6e(0x373)+_0x525b0a+_0xe08e6e(0x245);})[_0x28b0f3(0x28d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x16d19b[_0x28b0f3(0xa66)][_0x28b0f3(0xbf1)](_0x1f6e2d),_0x16d19b[_0x28b0f3(0xa66)][_0x28b0f3(0xd1e)](),_0x16d19b['onload']=function(){setTimeout(()=>{const _0x314e17=_0x520b;_0x16d19b[_0x314e17(0x860)]();},0x5dc);};}async function handleToggleStarQuiz(_0x570e7a){const _0x29d215=_0x3076df,_0x50175e=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x570e7a);try{const _0x43ac65=await getDoc(_0x50175e);if(_0x43ac65[_0x29d215(0x6b3)]()){const _0x3beab1=_0x43ac65[_0x29d215(0x995)]()[_0x29d215(0x407)]||![];await updateDoc(_0x50175e,{'isStarred':!_0x3beab1});}}catch(_0x21dbce){console[_0x29d215(0x405)](_0x29d215(0x9b3),_0x21dbce),showMessage(_0x29d215(0x62d));}}async function displayQuestionBank(){const _0x3377eb=_0x3076df,_0x56f03f=document[_0x3377eb(0x48d)](_0x3377eb(0x904));_0x56f03f['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x193e4b=collection(db,_0x3377eb(0xaa1)+appId+_0x3377eb(0xcb5)+userId+_0x3377eb(0x654)),_0x3be79d=query(_0x193e4b),_0x4ff023=await getDocs(_0x3be79d);if(_0x4ff023[_0x3377eb(0x3a7)]){_0x56f03f['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x50f08e=_0x4ff023[_0x3377eb(0x9a1)][_0x3377eb(0x3c9)](_0x485f91=>{const _0x5afbf4=_0x3377eb,_0x4acdc6=_0x485f91[_0x5afbf4(0x995)](),_0x408768=_0x485f91['id'];return _0x5afbf4(0xa12)+JSON[_0x5afbf4(0x4c6)](_0x4acdc6)+_0x5afbf4(0x585)+(_0x4acdc6['questionText']||_0x4acdc6[_0x5afbf4(0x255)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x4acdc6['originalTopic']+_0x5afbf4(0x511);})[_0x3377eb(0x28d)]('');_0x56f03f[_0x3377eb(0x9c8)]=_0x3377eb(0x39a)+_0x50f08e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x3377eb(0x48d)]('create-from-bank-btn')[_0x3377eb(0x331)](_0x3377eb(0x623),createQuizFromBank);}catch(_0xa1096f){console[_0x3377eb(0x405)]('Error\x20displaying\x20question\x20bank:',_0xa1096f),_0x56f03f[_0x3377eb(0x9c8)]=_0x3377eb(0xa87);}}async function handleExportLessonToPDF(){const _0x45592a=_0x3076df,_0x355292=document[_0x45592a(0x48d)](_0x45592a(0x1c7)),_0x511556=document[_0x45592a(0x48d)](_0x45592a(0x4f3))[_0x45592a(0x9ea)]||'บทเรียน';if(!_0x355292){showMessage(_0x45592a(0xd16));return;}const _0x146aa0=window['open']('',_0x45592a(0x722)),_0x4e30ff='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x511556+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>'+_0x511556+_0x45592a(0x535)+_0x355292[_0x45592a(0x9c8)]+_0x45592a(0x6e0);_0x146aa0[_0x45592a(0xa66)]['write'](_0x4e30ff),_0x146aa0[_0x45592a(0xa66)][_0x45592a(0xd1e)](),_0x146aa0[_0x45592a(0x4fd)]=function(){setTimeout(()=>{const _0x475641=_0x520b;_0x146aa0[_0x475641(0x860)]();},0x7d0);};}function showAdminLiveQuestionView(_0x5190b4,_0x308945,_0x30bd28){const _0x2e11c9=_0x3076df,_0xafe08a=_0x5190b4['questionType']||currentQuizData[_0x2e11c9(0xcb9)];let _0x2b957f='';if(_0xafe08a===_0x2e11c9(0xa73)||_0xafe08a===_0x2e11c9(0x35a)){const _0x30ea56=_0xafe08a===_0x2e11c9(0x35a)?[_0x2e11c9(0xbe5),_0x2e11c9(0x7e6)]:_0x5190b4[_0x2e11c9(0x7ce)],_0x66405=_0xafe08a===_0x2e11c9(0x35a)?_0x5190b4[_0x2e11c9(0x369)]?0x0:0x1:_0x5190b4[_0x2e11c9(0x60b)];_0x2b957f=_0x30ea56[_0x2e11c9(0x3c9)]((_0x51e0db,_0xefd7f9)=>_0x2e11c9(0xd0d)+(_0xefd7f9===_0x66405)+_0x2e11c9(0x794)+_0x51e0db+_0x2e11c9(0xa01))[_0x2e11c9(0x28d)]('');}else{if(_0xafe08a===_0x2e11c9(0xd01)){const _0x4f191e=_0x5190b4['allResponses']||[];_0x2b957f=_0x4f191e['map'](_0x438526=>_0x2e11c9(0xd0d)+(_0x438526===_0x5190b4[_0x2e11c9(0x4fc)])+_0x2e11c9(0x794)+_0x438526+_0x2e11c9(0xa01))['join']('');}}const _0x396763=_0x5190b4[_0x2e11c9(0x255)]||_0x5190b4[_0x2e11c9(0x833)],_0x1490a3=_0x2e11c9(0xd2d)+(_0x308945+0x1)+_0x2e11c9(0x41b)+_0x30bd28+_0x2e11c9(0x3fa)+currentLiveGamePin+_0x2e11c9(0x781)+_0x396763+_0x2e11c9(0x88d)+_0x2b957f+_0x2e11c9(0x208);liveGameView[_0x2e11c9(0x9c8)]=_0x1490a3,window[_0x2e11c9(0x278)]&&MathJax['typesetPromise']&&MathJax[_0x2e11c9(0x73c)]([liveGameView]),document[_0x2e11c9(0x48d)](_0x2e11c9(0xd27))['addEventListener'](_0x2e11c9(0x623),()=>revealAnswerForAdmin(_0x308945,_0x30bd28)),document[_0x2e11c9(0x48d)](_0x2e11c9(0x71d))[_0x2e11c9(0x331)](_0x2e11c9(0x623),async()=>{const _0x447a0f=_0x2e11c9;showConfirmation(_0x447a0f(0x42b),async()=>{const _0x4f12b7=_0x447a0f,_0x13116e=doc(db,_0x4f12b7(0xaa1)+appId+_0x4f12b7(0xaf6),currentLiveGameId);await updateDoc(_0x13116e,{'status':_0x4f12b7(0xa54)});});}),document[_0x2e11c9(0x48d)]('manage-players-btn')['addEventListener']('click',()=>{const _0x4855d9=_0x2e11c9;document[_0x4855d9(0x48d)]('live-player-management')[_0x4855d9(0xbbb)][_0x4855d9(0x1b8)](_0x4855d9(0xc6c));});}function promptForProjectBeforeGenerating(_0x12857c){const _0x194790=_0x3076df,_0x455860=document['getElementById'](_0x194790(0x2ae)),_0x37bee9=document[_0x194790(0x48d)](_0x194790(0x90a)),_0xab700e=_0x455860[_0x194790(0x381)]('h3'),_0x4300ee=document['getElementById'](_0x194790(0x22f)),_0x21928c=document[_0x194790(0x48d)](_0x194790(0x510));_0xab700e[_0x194790(0x9ea)]=_0x194790(0x91d),_0x4300ee['textContent']='เลือกและเริ่มสร้าง',_0x4300ee[_0x194790(0x1dc)]=!![];allProjects[_0x194790(0x3b0)]===0x0?_0x37bee9[_0x194790(0x9c8)]=_0x194790(0xb9c):(_0x37bee9[_0x194790(0x9c8)]=_0x194790(0xc2d)+allProjects['map'](_0x3d759d=>'<option\x20value=\x22'+_0x3d759d['id']+'\x22>'+_0x3d759d['projectName']+_0x194790(0x881))[_0x194790(0x28d)](''),_0x4300ee[_0x194790(0x1dc)]=![]);_0x455860[_0x194790(0xbbb)][_0x194790(0xb7d)](_0x194790(0xc6c));const _0x5531f5=async()=>{const _0x106aeb=_0x194790,_0x57b4c6=_0x37bee9[_0x106aeb(0xaef)];if(!_0x57b4c6){showMessage(_0x106aeb(0x205));return;}_0x455860[_0x106aeb(0xbbb)][_0x106aeb(0x49b)]('hidden'),await loadProjectDetails(_0x57b4c6),showView(_0x106aeb(0x58d)),handleGenerateQuizFromBlueprintTopic(_0x12857c),_0x2af75c();},_0x2af75c=()=>{const _0x180bd6=_0x194790;_0xab700e[_0x180bd6(0x9ea)]=_0x180bd6(0xa02),_0x4300ee[_0x180bd6(0x9ea)]=_0x180bd6(0xc6b),_0x4300ee['removeEventListener'](_0x180bd6(0x623),_0x5531f5),_0x21928c[_0x180bd6(0x210)](_0x180bd6(0x623),_0x2af75c),_0x4300ee[_0x180bd6(0x331)](_0x180bd6(0x623),confirmMoveQuiz);};_0x4300ee[_0x194790(0x210)](_0x194790(0x623),confirmMoveQuiz),_0x4300ee[_0x194790(0x331)](_0x194790(0x623),_0x5531f5),_0x21928c['addEventListener'](_0x194790(0x623),_0x2af75c);}function showStudentLiveQuestionView(_0x98310,_0x57397b,_0xee24d2){const _0x417969=_0x3076df,_0x2b1a7f=_0x98310['questionType']||currentQuizData[_0x417969(0xcb9)];let _0x22aa1c='';if(_0x2b1a7f===_0x417969(0xa73)||_0x2b1a7f==='true_false'){const _0x25a434=_0x2b1a7f===_0x417969(0x35a)?[_0x417969(0xbe5),_0x417969(0x7e6)]:_0x98310[_0x417969(0x7ce)];_0x22aa1c=_0x25a434[_0x417969(0x3c9)]((_0x24dfbb,_0x64557)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x64557+_0x417969(0x3f1)+_0x24dfbb+_0x417969(0x56c))['join']('');}else{if(_0x2b1a7f==='matching_item'){const _0x3dea1f=_0x98310[_0x417969(0x1cf)]||[];_0x22aa1c=_0x3dea1f['map']((_0x57ba83,_0x5b92f1)=>_0x417969(0x4fe)+_0x5b92f1+_0x417969(0x3f1)+_0x57ba83+_0x417969(0x56c))[_0x417969(0x28d)]('');}else _0x2b1a7f===_0x417969(0x296)&&(_0x22aa1c=_0x417969(0xb69));}const _0x4a788d=_0x98310[_0x417969(0x255)]||_0x98310['questionText'],_0x4f5c7c=_0x417969(0x3e9)+(_0x57397b+0x1)+_0x417969(0x41b)+_0xee24d2+_0x417969(0xa61)+_0x4a788d+_0x417969(0xcb2)+_0x22aa1c+_0x417969(0x660);liveGameView[_0x417969(0x9c8)]=_0x4f5c7c;window['MathJax']&&MathJax[_0x417969(0x73c)]&&MathJax[_0x417969(0x73c)]([liveGameView]);const _0x42c4fd=document[_0x417969(0x48d)](_0x417969(0x6c8));_0x42c4fd&&_0x42c4fd[_0x417969(0x331)]('click',()=>{const _0x15b322=_0x417969,_0x2b036f=document[_0x15b322(0x48d)](_0x15b322(0x7f1))[_0x15b322(0xaef)];handleLiveAnswer(_0x2b036f,_0x98310);}),document['getElementById'](_0x417969(0x949))[_0x417969(0x331)](_0x417969(0x623),_0x5c288f=>{const _0x8a9f85=_0x417969,_0x1ecb2b=_0x5c288f[_0x8a9f85(0x805)][_0x8a9f85(0x951)](_0x8a9f85(0xb0d));if(_0x1ecb2b){const _0x3ba2d7=parseInt(_0x1ecb2b[_0x8a9f85(0x40c)]['index']);handleLiveAnswer(_0x3ba2d7,_0x98310);}});}function listenForBlueprintShortcuts(){const _0x5404ad=_0x3076df,_0x46cae5=doc(db,_0x5404ad(0x3ae),_0x5404ad(0x68b));onSnapshot(_0x46cae5,_0x1bf000=>{const _0x579099=_0x5404ad;let _0x24ca4b=[],_0x437897=[],_0x6e5114={};if(_0x1bf000['exists']()){const _0x59d8c3=_0x1bf000['data']();_0x24ca4b=_0x59d8c3[_0x579099(0x494)]||[],_0x437897=_0x59d8c3[_0x579099(0x54e)]||[],_0x6e5114=_0x59d8c3[_0x579099(0x9d0)]||{};}!_0x437897[_0x579099(0xcf4)](_0x4713ce=>_0x4713ce['id']===_0x579099(0x6a5))&&_0x437897[_0x579099(0x5fb)]({'id':'all','name':_0x579099(0x7a0),'isDefault':!![]}),!_0x24ca4b[_0x579099(0xcf4)](_0x14d8ba=>_0x14d8ba['id']===_0x579099(0xbe8))&&_0x24ca4b[_0x579099(0x5fb)]({'id':'default-1','name':_0x579099(0x323),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x24ca4b[_0x579099(0xcf4)](_0x2b590b=>_0x2b590b['id']===_0x579099(0x613))&&_0x24ca4b['unshift']({'id':'default-2','name':_0x579099(0x8c8),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x24ca4b,shortcutTabs=_0x437897,shortcutOrder=_0x6e5114,renderBlueprintShortcuts(),!document[_0x579099(0x48d)](_0x579099(0x4a6))[_0x579099(0xbbb)][_0x579099(0x477)](_0x579099(0xc6c))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x1c7587=_0x3076df,_0x115132=document['getElementById'](_0x1c7587(0x884)),_0x27223f=document[_0x1c7587(0x48d)](_0x1c7587(0x52b));if(!_0x115132||!_0x27223f)return;_0x115132[_0x1c7587(0x9c8)]=shortcutTabs[_0x1c7587(0x3c9)](_0xb94f6a=>{const _0x1930fd=_0x1c7587,_0x7b4a57=_0xb94f6a['id']===activeShortcutTabId,_0xabc4c=_0x1930fd(0x49c),_0x505359='border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0xb94f6a['id']+_0x1930fd(0xc01)+(_0x7b4a57?_0xabc4c:_0x505359)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0xb94f6a['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0xb94f6a[_0x1930fd(0x774)]+_0x1930fd(0x532)+(!_0xb94f6a[_0x1930fd(0x32d)]?_0x1930fd(0x9c5)+_0xb94f6a['id']+_0x1930fd(0x6d3):'')+_0x1930fd(0xa01);})['join']('');const _0x4a4c23=shortcutTabs['find'](_0x2fcd41=>_0x2fcd41['id']===activeShortcutTabId);let _0x2954a5=[];if(_0x4a4c23){if(_0x4a4c23[_0x1c7587(0x32d)])_0x2954a5=[...blueprintShortcuts];else{const _0x5eb7fd=_0x4a4c23['shortcutIds']||[];_0x2954a5=blueprintShortcuts[_0x1c7587(0x475)](_0x195078=>_0x5eb7fd[_0x1c7587(0x59e)](_0x195078['id']));}}const _0x572a6b=shortcutOrder[activeShortcutTabId]||[];_0x2954a5[_0x1c7587(0xa41)]((_0xf47405,_0x3a5bb6)=>{const _0x147a4b=_0x1c7587,_0x5c6576=_0x572a6b[_0x147a4b(0x2ea)](_0xf47405['id']),_0x3449b3=_0x572a6b['indexOf'](_0x3a5bb6['id']);if(_0x5c6576===-0x1)return 0x1;if(_0x3449b3===-0x1)return-0x1;return _0x5c6576-_0x3449b3;}),_0x27223f[_0x1c7587(0x9c8)]=_0x2954a5['length']>0x0?_0x2954a5[_0x1c7587(0x3c9)](_0x48ed38=>{const _0x499a5c=_0x1c7587;let _0x2339c1='🧩';if(_0x48ed38[_0x499a5c(0x6c7)]&&_0x48ed38[_0x499a5c(0x24f)])_0x2339c1='📗';else{if(_0x48ed38[_0x499a5c(0x6c7)])_0x2339c1='📘';}const _0x3c73f4=shortcutTabs[_0x499a5c(0x475)](_0xa2e35a=>!_0xa2e35a[_0x499a5c(0x32d)]),_0x1cbb37=_0x4a4c23['isDefault']&&_0x3c73f4[_0x499a5c(0x3b0)]>0x0?'\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c73f4[_0x499a5c(0x3c9)](_0x2607ff=>_0x499a5c(0x424)+_0x48ed38['id']+_0x499a5c(0x5d3)+_0x2607ff['id']+'\x22>'+_0x2607ff['name']+_0x499a5c(0x9fd))['join']('')+_0x499a5c(0xd11):'';return _0x499a5c(0x8f4)+_0x48ed38['id']+_0x499a5c(0x2b9)+_0x2339c1+'\x20'+_0x48ed38[_0x499a5c(0x774)]+_0x499a5c(0x3ab)+_0x48ed38['id']+_0x499a5c(0x826)+_0x48ed38['id']+_0x499a5c(0xcb8)+(!_0x48ed38['isDefault']?_0x499a5c(0xb20)+_0x48ed38['id']+_0x499a5c(0x3d6):'')+_0x499a5c(0x9d1)+(!_0x4a4c23['isDefault']?'<button\x20data-shortcut-id=\x22'+_0x48ed38['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x499a5c(0x9d1)+_0x1cbb37+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x1c7587(0x28d)](''):_0x1c7587(0x97c),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x2ab93e=_0x3076df;document[_0x2ab93e(0x599)](_0x2ab93e(0x203))[_0x2ab93e(0x9c9)](_0x1084fb=>{const _0x3ba038=_0x2ab93e;_0x1084fb[_0x3ba038(0x331)]('click',_0x3f9746=>{const _0x5cee03=_0x3ba038;activeShortcutTabId=_0x3f9746['currentTarget'][_0x5cee03(0x40c)]['tabId'],renderAdditionalShortcutsModal();}),_0x1084fb[_0x3ba038(0x331)](_0x3ba038(0x404),_0x842854=>{const _0x5af281=_0x3ba038,_0x31c565=_0x842854[_0x5af281(0x328)];_0x31c565['querySelector'](_0x5af281(0x4c4))[_0x5af281(0xbbb)]['add']('hidden');const _0x3f4e96=_0x31c565[_0x5af281(0x381)](_0x5af281(0x577));_0x3f4e96['classList'][_0x5af281(0xb7d)](_0x5af281(0xc6c)),_0x3f4e96['focus'](),_0x3f4e96[_0x5af281(0x35d)]();});}),document[_0x2ab93e(0x599)](_0x2ab93e(0x577))['forEach'](_0x2cc15a=>{const _0x579b5a=_0x2ab93e,_0x18fd5b=()=>{const _0x297e34=_0x520b,_0x29dcf3=_0x2cc15a[_0x297e34(0x951)](_0x297e34(0x203))[_0x297e34(0x40c)][_0x297e34(0x4c8)];handleRenameShortcutTab(_0x29dcf3,_0x2cc15a['value']);};_0x2cc15a[_0x579b5a(0x331)](_0x579b5a(0xc81),_0x18fd5b),_0x2cc15a[_0x579b5a(0x331)](_0x579b5a(0x3ce),_0x483f47=>{const _0x1a3997=_0x579b5a;if(_0x483f47['key']==='Enter')_0x2cc15a[_0x1a3997(0xc81)]();});}),document['querySelectorAll']('.delete-shortcut-tab-btn')[_0x2ab93e(0x9c9)](_0x2f7e41=>{const _0x2c15e9=_0x2ab93e;_0x2f7e41[_0x2c15e9(0x331)]('click',_0xe4e316=>handleDeleteShortcutTab(_0xe4e316[_0x2c15e9(0x328)][_0x2c15e9(0x40c)][_0x2c15e9(0x4c8)]));}),document['querySelectorAll'](_0x2ab93e(0x2c1))[_0x2ab93e(0x9c9)](_0x5661cb=>{const _0x14da87=_0x2ab93e;_0x5661cb['addEventListener'](_0x14da87(0x623),_0x241d1b=>{const _0x50d422=_0x14da87;_0x241d1b[_0x50d422(0x512)]();const {shortcutId:_0x232753,targetTabId:_0x12f9be}=_0x241d1b[_0x50d422(0x328)][_0x50d422(0x40c)];handleMoveShortcutToTab(_0x232753,_0x12f9be);});}),document['querySelectorAll'](_0x2ab93e(0x853))[_0x2ab93e(0x9c9)](_0x1cf7d6=>{const _0x242c74=_0x2ab93e;_0x1cf7d6[_0x242c74(0x331)]('click',_0x101121=>{const _0x5e28e5=_0x242c74;handleRemoveShortcutFromTab(_0x101121[_0x5e28e5(0x328)][_0x5e28e5(0x40c)]['shortcutId'],activeShortcutTabId);});});const _0x43e946=document[_0x2ab93e(0x48d)](_0x2ab93e(0x52b));_0x43e946[_0x2ab93e(0x599)](_0x2ab93e(0x98b))['forEach'](_0x324775=>{const _0x492c05=_0x2ab93e;_0x324775[_0x492c05(0x331)](_0x492c05(0x623),()=>{const _0x5f2593=_0x492c05;document[_0x5f2593(0x48d)](_0x5f2593(0x4a6))[_0x5f2593(0xbbb)][_0x5f2593(0x49b)](_0x5f2593(0xc6c)),handleShortcutClick(_0x324775[_0x5f2593(0x40c)]['id']);});});let _0x30bd22=null;_0x43e946['addEventListener'](_0x2ab93e(0x537),_0x511682=>{const _0x46440c=_0x2ab93e;_0x30bd22=_0x511682['target'][_0x46440c(0x951)](_0x46440c(0x828)),_0x30bd22&&setTimeout(()=>_0x30bd22['classList'][_0x46440c(0x49b)](_0x46440c(0x672)),0x0);}),_0x43e946[_0x2ab93e(0x331)](_0x2ab93e(0xb03),()=>{const _0x1cc235=_0x2ab93e;_0x30bd22&&(_0x30bd22[_0x1cc235(0xbbb)][_0x1cc235(0xb7d)](_0x1cc235(0x672)),_0x30bd22=null);}),_0x43e946[_0x2ab93e(0x331)](_0x2ab93e(0x910),_0x3d363e=>{const _0x1bd50c=_0x2ab93e;_0x3d363e[_0x1bd50c(0x512)]();const _0x484b50=[..._0x43e946['querySelectorAll']('.shortcut-list-item:not(.opacity-50)')][_0x1bd50c(0x2f8)]((_0x2d4756,_0x457ca2)=>{const _0x421eb9=_0x1bd50c,_0x347475=_0x457ca2[_0x421eb9(0x67d)](),_0x4292a8=_0x3d363e[_0x421eb9(0x619)]-_0x347475[_0x421eb9(0xd06)]-_0x347475['height']/0x2;return _0x4292a8<0x0&&_0x4292a8>_0x2d4756['offset']?{'offset':_0x4292a8,'element':_0x457ca2}:_0x2d4756;},{'offset':Number[_0x1bd50c(0x548)]})[_0x1bd50c(0xa1d)];_0x484b50==null?_0x43e946[_0x1bd50c(0xcff)](_0x30bd22):_0x43e946[_0x1bd50c(0xce9)](_0x30bd22,_0x484b50);}),_0x43e946[_0x2ab93e(0x331)](_0x2ab93e(0xb5a),_0x93b439=>{const _0x42a9ff=_0x2ab93e;_0x93b439[_0x42a9ff(0x512)]();if(_0x30bd22){const _0x1d7bdf=[..._0x43e946[_0x42a9ff(0x599)](_0x42a9ff(0x828))][_0x42a9ff(0x3c9)](_0x5e80e5=>_0x5e80e5[_0x42a9ff(0x40c)][_0x42a9ff(0x99f)]);handleShortcutOrderChange(activeShortcutTabId,_0x1d7bdf);}}),document[_0x2ab93e(0x599)](_0x2ab93e(0x1a0))['forEach'](_0xdd2c8b=>{const _0x43dac7=_0x2ab93e;_0xdd2c8b[_0x43dac7(0x331)]('click',_0x56c5db=>{const _0x14ca35=_0x43dac7;_0x56c5db['stopPropagation']();const _0x28c0d1=_0x56c5db['currentTarget'][_0x14ca35(0x1f3)],_0x59d7a3=_0x28c0d1[_0x14ca35(0xbbb)][_0x14ca35(0x477)](_0x14ca35(0xc6c));document['querySelectorAll'](_0x14ca35(0x8e7))[_0x14ca35(0x9c9)](_0x36602e=>_0x36602e[_0x14ca35(0xbbb)][_0x14ca35(0x49b)]('hidden')),_0x59d7a3&&_0x28c0d1[_0x14ca35(0xbbb)][_0x14ca35(0xb7d)](_0x14ca35(0xc6c));});});}document[_0x3076df(0x331)](_0x3076df(0x623),_0x2c503a=>{const _0x38d2b4=_0x3076df;!_0x2c503a['target']['closest']('.group\x5c/dropdown')&&document['querySelectorAll']('.move-shortcut-dropdown')[_0x38d2b4(0x9c9)](_0x5a8fd6=>_0x5a8fd6['classList'][_0x38d2b4(0x49b)](_0x38d2b4(0xc6c)));});async function saveShortcutConfig(){const _0x250cfe=_0x3076df,_0xc2610=doc(db,_0x250cfe(0x3ae),_0x250cfe(0x68b));try{await setDoc(_0xc2610,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x4be124){console['error'](_0x250cfe(0x80e),_0x4be124);}}async function handleAddShortcutTab(){const _0xa3a6ef=_0x3076df,_0x36e853=prompt(_0xa3a6ef(0x89b),_0xa3a6ef(0xa9f));if(!_0x36e853||_0x36e853[_0xa3a6ef(0x7fe)]()==='')return;shortcutTabs[_0xa3a6ef(0x836)]({'id':_0xa3a6ef(0x3b8)+Date['now'](),'name':_0x36e853['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x256c51,_0x36cd19){const _0x45586f=_0x3076df,_0x3a0b42=shortcutTabs[_0x45586f(0xcf4)](_0x21084f=>_0x21084f['id']===_0x256c51);_0x3a0b42&&_0x36cd19[_0x45586f(0x7fe)]()!==''&&(_0x3a0b42[_0x45586f(0x774)]=_0x36cd19[_0x45586f(0x7fe)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0xd62de1){const _0xde071a=_0x3076df,_0x38b3b8=shortcutTabs['find'](_0x259e1e=>_0x259e1e['id']===_0xd62de1);_0x38b3b8&&!_0x38b3b8[_0xde071a(0x32d)]&&showConfirmation(_0xde071a(0x977)+_0x38b3b8[_0xde071a(0x774)]+_0xde071a(0x871),async()=>{const _0x2f65b9=_0xde071a;shortcutTabs=shortcutTabs[_0x2f65b9(0x475)](_0x474e8c=>_0x474e8c['id']!==_0xd62de1),delete shortcutOrder[_0xd62de1];if(activeShortcutTabId===_0xd62de1)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x2c64ce,_0x551b95){const _0x55b208=_0x3076df,_0x145e39=shortcutTabs['find'](_0x5611a5=>_0x5611a5['id']===_0x551b95);_0x145e39&&!_0x145e39[_0x55b208(0x8ad)]['includes'](_0x2c64ce)&&(_0x145e39['shortcutIds'][_0x55b208(0x836)](_0x2c64ce),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x4fbc67,_0x54d386){const _0x5f249a=_0x3076df,_0x19b533=shortcutTabs['find'](_0x28957c=>_0x28957c['id']===_0x54d386);_0x19b533&&!_0x19b533[_0x5f249a(0x32d)]&&(_0x19b533['shortcutIds']=_0x19b533['shortcutIds']['filter'](_0x5ce242=>_0x5ce242!==_0x4fbc67),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x4a2a94,_0x2c9543){shortcutOrder[_0x4a2a94]=_0x2c9543,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x40e2dc=_0x3076df,_0x35b1f5=document[_0x40e2dc(0x48d)]('blueprint-shortcut-container'),_0x2a0f05=document[_0x40e2dc(0x48d)]('additional-shortcuts-list'),_0x41c3c8=document[_0x40e2dc(0x48d)](_0x40e2dc(0xa7a));_0x41c3c8&&_0x41c3c8[_0x40e2dc(0xbbb)][_0x40e2dc(0x49b)](_0x40e2dc(0xc6c));if(!_0x35b1f5||!_0x2a0f05)return;const _0x1077ea=blueprintShortcuts['slice'](0x0,0x4),_0x170380=blueprintShortcuts[_0x40e2dc(0x9e0)](0x4);_0x35b1f5[_0x40e2dc(0x9c8)]=_0x1077ea[_0x40e2dc(0x3c9)](_0x45a8f3=>{const _0x4d9c1c=_0x40e2dc;let _0x4a62b5=_0x4d9c1c(0x9ff),_0x2dd4c6='🧩';if(_0x45a8f3[_0x4d9c1c(0x6c7)]&&_0x45a8f3['referenceUrl'])_0x4a62b5=_0x4d9c1c(0x846),_0x2dd4c6='📗';else _0x45a8f3[_0x4d9c1c(0x6c7)]&&(_0x4a62b5=_0x4d9c1c(0xb75),_0x2dd4c6='📘');const _0x587ef7=!_0x45a8f3['isDefault']?_0x4d9c1c(0xb20)+_0x45a8f3['id']+'\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x4d9c1c(0x88f)+_0x45a8f3['id']+_0x4d9c1c(0x234)+_0x4a62b5+_0x4d9c1c(0x387)+_0x2dd4c6+'\x20'+_0x45a8f3['name']+_0x4d9c1c(0x34d)+_0x45a8f3['id']+'\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x587ef7+_0x4d9c1c(0xa01);})['join'](''),_0x170380[_0x40e2dc(0x3b0)]>0x0&&(_0x35b1f5['innerHTML']+=_0x40e2dc(0xcc5)),_0x170380['length']>0x0?_0x2a0f05[_0x40e2dc(0x9c8)]=_0x170380[_0x40e2dc(0x3c9)](_0x2bec4a=>{const _0x49864f=_0x40e2dc;let _0x386bc8='🧩';if(_0x2bec4a[_0x49864f(0x6c7)]&&_0x2bec4a['referenceUrl'])_0x386bc8='📗';else _0x2bec4a[_0x49864f(0x6c7)]&&(_0x386bc8='📘');return _0x49864f(0x489)+_0x386bc8+'\x20'+_0x2bec4a[_0x49864f(0x774)]+_0x49864f(0x3ab)+_0x2bec4a['id']+_0x49864f(0x826)+_0x2bec4a['id']+_0x49864f(0xcb8)+(!_0x2bec4a[_0x49864f(0x32d)]?_0x49864f(0xb20)+_0x2bec4a['id']+_0x49864f(0x3d6):'')+_0x49864f(0x4d5);})['join'](''):_0x2a0f05[_0x40e2dc(0x9c8)]=_0x40e2dc(0x530);}function getMimeTypeFromFilename(_0x6ce526){const _0x154489=_0x3076df,_0x55f200=_0x6ce526['split']('.')[_0x154489(0x9b1)]()[_0x154489(0x235)]();switch(_0x55f200){case _0x154489(0x637):return'application/pdf';case _0x154489(0xb80):return _0x154489(0xb23);default:return'application/pdf';}}function openShortcutEditor(_0x3aecad=null){const _0x2f7877=_0x3076df,_0x3fdfbb=document['getElementById'](_0x2f7877(0x439)),_0x1eca68=document[_0x2f7877(0x48d)](_0x2f7877(0x1a8)),_0x35f6ef=document[_0x2f7877(0x48d)]('shortcut-id-input'),_0x117ca5=document[_0x2f7877(0x48d)](_0x2f7877(0x4ae)),_0x969b0f=document['getElementById'](_0x2f7877(0x90f)),_0x5788a2=document[_0x2f7877(0x48d)](_0x2f7877(0xb70));if(_0x3aecad){const _0x41270a=blueprintShortcuts[_0x2f7877(0xcf4)](_0x2c0760=>_0x2c0760['id']===_0x3aecad);if(!_0x41270a)return;_0x1eca68[_0x2f7877(0x9ea)]='แก้ไขปุ่มลัด',_0x35f6ef['value']=_0x41270a['id'],_0x117ca5[_0x2f7877(0xaef)]=_0x41270a[_0x2f7877(0x774)],_0x969b0f[_0x2f7877(0xaef)]=_0x41270a[_0x2f7877(0x6c7)]||'',_0x5788a2[_0x2f7877(0xaef)]=_0x41270a['referenceUrl']||'';}else _0x1eca68[_0x2f7877(0x9ea)]=_0x2f7877(0x36d),_0x35f6ef[_0x2f7877(0xaef)]='',_0x117ca5[_0x2f7877(0xaef)]='',_0x969b0f[_0x2f7877(0xaef)]='',_0x5788a2['value']='';_0x3fdfbb[_0x2f7877(0xbbb)]['remove'](_0x2f7877(0xc6c));}async function saveShortcutChanges(){const _0x5c7e82=_0x3076df,_0x43c7e2=document['getElementById']('shortcut-id-input')['value'],_0x1e99fd=document['getElementById'](_0x5c7e82(0x4ae))[_0x5c7e82(0xaef)]['trim'](),_0x446aca=document[_0x5c7e82(0x48d)](_0x5c7e82(0x90f))[_0x5c7e82(0xaef)][_0x5c7e82(0x7fe)]();if(!_0x1e99fd||!_0x446aca){showMessage(_0x5c7e82(0xc87));return;}const _0x4af9db={'id':_0x43c7e2||_0x5c7e82(0xa8c)+Date[_0x5c7e82(0x95f)](),'name':_0x1e99fd,'blueprintUrl':_0x446aca,'referenceUrl':document['getElementById'](_0x5c7e82(0xb70))[_0x5c7e82(0xaef)][_0x5c7e82(0x7fe)](),'isDefault':_0x43c7e2[_0x5c7e82(0x1c6)](_0x5c7e82(0x7ec))};let _0x3bb19e;_0x43c7e2?_0x3bb19e=blueprintShortcuts[_0x5c7e82(0x3c9)](_0x520fb3=>_0x520fb3['id']===_0x43c7e2?_0x4af9db:_0x520fb3):_0x3bb19e=[...blueprintShortcuts,_0x4af9db];try{const _0x226e36=doc(db,_0x5c7e82(0x3ae),_0x5c7e82(0x68b));await setDoc(_0x226e36,{'blueprintShortcuts':_0x3bb19e},{'merge':!![]}),document['getElementById'](_0x5c7e82(0x439))[_0x5c7e82(0xbbb)][_0x5c7e82(0x49b)](_0x5c7e82(0xc6c));}catch(_0x113cb3){console[_0x5c7e82(0x405)](_0x5c7e82(0xb31),_0x113cb3),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleShortcutClick(_0x5a774e){const _0x51f3c1=_0x3076df,_0x45aa47=blueprintShortcuts[_0x51f3c1(0xcf4)](_0x596d4f=>_0x596d4f['id']===_0x5a774e);if(!_0x45aa47||!_0x45aa47[_0x51f3c1(0x6c7)])return;document['getElementById'](_0x51f3c1(0x262))[_0x51f3c1(0xbbb)][_0x51f3c1(0x49b)](_0x51f3c1(0xc6c)),document[_0x51f3c1(0x48d)]('generate-from-blueprint-btn')[_0x51f3c1(0x1dc)]=!![];const _0x18070b=document[_0x51f3c1(0x48d)](_0x51f3c1(0x759)),_0x387455=document[_0x51f3c1(0x48d)]('loader-text');document['getElementById'](_0x51f3c1(0x644))[_0x51f3c1(0xbbb)][_0x51f3c1(0xb7d)](_0x51f3c1(0xc6c)),document[_0x51f3c1(0x48d)](_0x51f3c1(0x60a))[_0x51f3c1(0x9c8)]='',_0x18070b[_0x51f3c1(0xbbb)][_0x51f3c1(0xb7d)]('hidden');try{_0x387455[_0x51f3c1(0x9ea)]=_0x51f3c1(0x827);const _0xceed39=await fetchFileFromUrl(_0x45aa47[_0x51f3c1(0x6c7)],_0x51f3c1(0xa68));let _0x30aa91=null;if(_0x45aa47[_0x51f3c1(0x24f)]){_0x387455[_0x51f3c1(0x9ea)]=_0x51f3c1(0x400);const _0x5cc30a=_0x45aa47[_0x51f3c1(0x24f)][_0x51f3c1(0x235)]()[_0x51f3c1(0x43c)]('.txt')?_0x51f3c1(0xbc9):_0x51f3c1(0x842);_0x30aa91=await fetchFileFromUrl(_0x45aa47['referenceUrl'],_0x5cc30a);}await handleGenerateFromBlueprintWithFiles(_0xceed39,_0x30aa91);}catch(_0x33f40d){console[_0x51f3c1(0x405)]('Error\x20processing\x20shortcut\x20click:',_0x33f40d),showMessage(_0x51f3c1(0x427)+_0x33f40d['message']),_0x18070b['classList'][_0x51f3c1(0x49b)](_0x51f3c1(0xc6c));}}function getDirectDownloadUrl(_0x221140){const _0x36045c=_0x221140['match'](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x36045c&&_0x36045c[0x1])return'https://drive.google.com/uc?export=download&id='+_0x36045c[0x1];return _0x221140;}async function fetchFileFromUrl(_0x39e137,_0x5c9277){const _0x4d867c=_0x3076df,_0x151f60=getDirectDownloadUrl(_0x39e137),_0x70bdb3=_0x4d867c(0x6c4)+encodeURIComponent(_0x151f60),_0x378c49=await fetch(_0x70bdb3);if(!_0x378c49['ok'])throw new Error(_0x4d867c(0x9d2)+_0x378c49[_0x4d867c(0x732)]+')');const _0x481a58=await _0x378c49[_0x4d867c(0x95a)](),_0x4eeb46=await new Promise((_0x12ef90,_0x3e20cb)=>{const _0x16d314=_0x4d867c,_0x294a51=new FileReader();_0x294a51[_0x16d314(0xa0c)]=()=>_0x12ef90(new Uint8Array(_0x294a51[_0x16d314(0xa0e)])),_0x294a51[_0x16d314(0x792)]=_0x3e20cb,_0x294a51[_0x16d314(0x38a)](_0x481a58[_0x16d314(0x9e0)](0x0,0x4));});let _0x195b16='';const _0x13872b=new TextDecoder()[_0x4d867c(0xae4)](_0x4eeb46);return _0x13872b===_0x4d867c(0x691)?(_0x195b16=_0x4d867c(0x659),console[_0x4d867c(0x676)](_0x4d867c(0x195))):(_0x195b16=_0x4d867c(0xb23),console[_0x4d867c(0x676)]('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0x481a58],_0x5c9277,{'type':_0x195b16});}async function handleGenerateFromBlueprintWithFiles(_0x4a7fec,_0x46a5f1=null){const _0x427589=_0x3076df;if(!_0x4a7fec){showMessage(_0x427589(0x929));return;}const _0x1ce5d7=document[_0x427589(0x48d)](_0x427589(0x759)),_0x309faf=document[_0x427589(0x48d)](_0x427589(0x6f1));_0x1ce5d7[_0x427589(0xbbb)]['remove'](_0x427589(0xc6c)),document[_0x427589(0x48d)](_0x427589(0x644))['classList'][_0x427589(0xb7d)](_0x427589(0xc6c)),document[_0x427589(0x48d)](_0x427589(0x60a))[_0x427589(0x9c8)]='';try{_0x309faf[_0x427589(0x9ea)]=_0x427589(0x795);const _0x220d4a=await new Promise((_0x3838cc,_0x252a69)=>{const _0x2ccf86=_0x427589,_0x10248f=new FileReader();_0x10248f[_0x2ccf86(0x99a)](_0x4a7fec),_0x10248f['onload']=()=>_0x3838cc(_0x10248f[_0x2ccf86(0xa0e)]['split'](',')[0x1]),_0x10248f[_0x2ccf86(0x792)]=_0x252a69;}),_0x417b0e=[];if(_0x46a5f1){_0x309faf[_0x427589(0x9ea)]=_0x427589(0xbc6);const _0x334f76=await _0x46a5f1[_0x427589(0x5ca)]();_0x417b0e[_0x427589(0x836)]({'text':_0x427589(0x648)+_0x334f76});}const _0x52be18=[{'text':_0x427589(0x8b7)},{'inlineData':{'mimeType':_0x4a7fec['type'],'data':_0x220d4a}},..._0x417b0e];await handleGenerateFromBlueprint(_0x52be18);}catch(_0x2a8f80){console[_0x427589(0x405)](_0x427589(0xbb3),_0x2a8f80),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2a8f80['message']),_0x1ce5d7['classList']['add'](_0x427589(0xc6c));}}async function handleLiveAnswer(_0x5115c5,_0x409bdf){const _0x12479d=_0x3076df;document[_0x12479d(0x599)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x12479d(0x9c9)](_0x46f2bd=>_0x46f2bd[_0x12479d(0x1dc)]=!![]);const _0x545f15=_0x409bdf['questionType']||currentQuizData[_0x12479d(0xcb9)];let _0x43bedb=![],_0x87cd1=_0x5115c5;if(_0x545f15==='short_answer'){const _0x16a765=(_0x5115c5||'')[_0x12479d(0x2ed)]();_0x43bedb=await gradeShortAnswer(_0x16a765,_0x409bdf);}else{if(_0x545f15===_0x12479d(0xa73))_0x43bedb=_0x5115c5===_0x409bdf['correctAnswerIndex'];else{if(_0x545f15==='true_false'){const _0x459871=_0x409bdf[_0x12479d(0x369)];_0x43bedb=_0x5115c5===0x0&&_0x459871||_0x5115c5===0x1&&!_0x459871;}else{if(_0x545f15===_0x12479d(0xd01)){const _0x2b0933=_0x409bdf[_0x12479d(0x1cf)][_0x5115c5];_0x43bedb=_0x2b0933===_0x409bdf['correctResponse'],_0x87cd1=_0x2b0933;}}}}const _0x280e9a=doc(db,_0x12479d(0xaa1)+appId+_0x12479d(0xaf6),currentLiveGameId),_0x53a868={};_0x53a868[_0x12479d(0x5a2)+currentStudentName+_0x12479d(0xab9)]=!![],_0x53a868[_0x12479d(0x5a2)+currentStudentName+_0x12479d(0x7a1)]=_0x43bedb,_0x53a868[_0x12479d(0x5a2)+currentStudentName+_0x12479d(0x81a)]=_0x545f15===_0x12479d(0x296)||_0x545f15===_0x12479d(0xd01)?null:_0x5115c5,_0x53a868[_0x12479d(0x5a2)+currentStudentName+_0x12479d(0x872)]=_0x87cd1,_0x53a868[_0x12479d(0x5a2)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x53a868['players.'+currentStudentName+_0x12479d(0x3c7)]=![],await updateDoc(_0x280e9a,_0x53a868),liveGameView[_0x12479d(0x9c8)]=_0x12479d(0x2d4);}function showAdminSummaryView(_0x1f84b0,_0x48524f){const _0x2f4743=_0x3076df,_0x2c57f1=Object[_0x2f4743(0x391)](_0x1f84b0[_0x2f4743(0x501)]||{}),_0x133a83=_0x48524f[_0x2f4743(0xbc3)]||currentQuizData[_0x2f4743(0xcb9)],_0x5b0cb8=_0x133a83===_0x2f4743(0x35a)?[_0x2f4743(0xbe5),_0x2f4743(0x7e6)]:_0x48524f[_0x2f4743(0x7ce)]||_0x48524f[_0x2f4743(0x1cf)]||[],_0xa98c3e={},_0x30d6a2=new Array(_0x5b0cb8[_0x2f4743(0x3b0)])['fill'](0x0);_0x5b0cb8[_0x2f4743(0x9c9)]((_0xf70e2b,_0x4172e4)=>{_0xa98c3e[_0x4172e4]=[];}),Object[_0x2f4743(0x5a3)](_0x1f84b0[_0x2f4743(0x501)]||{})[_0x2f4743(0x9c9)](([_0x54c476,_0x3157f9])=>{const _0x27f24a=_0x2f4743;if(_0x3157f9['status']===_0x27f24a(0x28f)&&_0x3157f9[_0x27f24a(0x5a4)]!==undefined){const _0x5c0923=_0x3157f9['lastAnswerIndex'];_0xa98c3e[_0x5c0923]&&(_0xa98c3e[_0x5c0923][_0x27f24a(0x836)](_0x54c476),_0x30d6a2[_0x5c0923]++);}});const _0x1ea9ec=Math[_0x2f4743(0x6cf)](..._0x30d6a2,0x1),_0x4ddae6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x48524f[_0x2f4743(0x255)]||_0x48524f[_0x2f4743(0x833)])+_0x2f4743(0xa79)+_0x30d6a2['map']((_0x5863cc,_0x11f191)=>{const _0x4dde11=_0x2f4743,_0x3503c2=_0xa98c3e[_0x11f191][_0x4dde11(0x3b0)]>0x0?_0xa98c3e[_0x11f191]['join'](',\x20'):_0x4dde11(0x697);let _0x493fe0=![];if(_0x133a83===_0x4dde11(0xa73))_0x493fe0=_0x11f191===_0x48524f[_0x4dde11(0x60b)];else{if(_0x133a83===_0x4dde11(0x35a)){const _0x3db4d6=_0x48524f[_0x4dde11(0x369)];_0x493fe0=_0x3db4d6&&_0x11f191===0x0||!_0x3db4d6&&_0x11f191===0x1;}else _0x133a83==='matching_item'&&(_0x493fe0=_0x5b0cb8[_0x11f191]===_0x48524f['correctResponse']);}const _0x356df0=_0x493fe0?_0x4dde11(0x5d0):_0x4dde11(0x8f8);return _0x4dde11(0x2c3)+_0x5863cc+_0x4dde11(0x3e6)+_0x356df0+_0x4dde11(0xa11)+_0x11f191+_0x4dde11(0x304)+_0x5b0cb8[_0x11f191]+_0x4dde11(0x3b3)+_0x11f191+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3503c2+_0x4dde11(0x5a7);})[_0x2f4743(0x28d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x2f4743(0x9c8)]=_0x4ddae6;if(window[_0x2f4743(0x278)])MathJax[_0x2f4743(0x73c)]();document[_0x2f4743(0x48d)](_0x2f4743(0x1aa))[_0x2f4743(0x331)](_0x2f4743(0x623),async()=>{const _0x57671f=_0x2f4743,_0x285d7c=doc(db,_0x57671f(0xaa1)+appId+_0x57671f(0xaf6),currentLiveGameId);await updateDoc(_0x285d7c,{'questionStatus':_0x57671f(0x94d)});}),document[_0x2f4743(0x48d)]('open-scratchpad-btn')[_0x2f4743(0x331)](_0x2f4743(0x623),()=>{openScratchpad(_0x48524f,_0x5b0cb8);});}function showPlayerSummaryView(_0x4ebabd,_0x169107){const _0x2e2133=_0x3076df,_0x474045=Object['values'](_0x4ebabd[_0x2e2133(0x501)]||{}),_0x5834d0=_0x4ebabd[_0x2e2133(0x501)][_0x169107],_0x43a14f=_0x474045['filter'](_0x2db23c=>_0x2db23c[_0x2e2133(0x732)]===_0x2e2133(0x28f))[_0x2e2133(0xa41)]((_0x1ae302,_0x3811ce)=>_0x3811ce[_0x2e2133(0x3cb)]-_0x1ae302['score']),_0x5d9aee=_0x43a14f[_0x2e2133(0x3c0)](_0x2d8960=>_0x2d8960===_0x5834d0)+0x1,_0x7c6781=_0x5834d0[_0x2e2133(0x33c)]?_0x2e2133(0xc59):_0x2e2133(0x1e7),_0x1d4ae9=_0x5834d0[_0x2e2133(0x33c)]?'bg-green-500':_0x2e2133(0xd15),_0x4bdab9=_0x5834d0['pointsLastQuestion']||0x0,_0x5d4c4d=_0x2e2133(0x870),_0x4ebd83=_0x2e2133(0xa6b)+_0x5d4c4d+_0x2e2133(0x9e4)+_0x1d4ae9+_0x2e2133(0x95e)+_0x7c6781+_0x2e2133(0xa09)+_0x4bdab9+_0x2e2133(0xa2e)+(_0x5d9aee>0x0?_0x5d9aee:'-')+_0x2e2133(0xc84);liveGameView[_0x2e2133(0x9c8)]=_0x4ebd83;}function createQuizFromBank(){const _0x51d7a9=_0x3076df,_0x30f958=document[_0x51d7a9(0x599)](_0x51d7a9(0x229));if(_0x30f958[_0x51d7a9(0x3b0)]===0x0){showMessage(_0x51d7a9(0xcab));return;}const _0x766cda=[];_0x30f958[_0x51d7a9(0x9c9)](_0x2b4fa0=>{const _0x3c6085=_0x51d7a9;_0x766cda['push'](JSON[_0x3c6085(0x802)](_0x2b4fa0[_0x3c6085(0xaef)]));});const _0x3d9672={'topic':_0x51d7a9(0x25a),'questions':_0x766cda};displayGeneratedQuiz(_0x3d9672);}function showAdminLobbyView(_0x45de99,_0x34dab0){const _0x2cad84=_0x3076df;showView('live-game');const _0x1daa9b=_0x2cad84(0xa4e)+_0x34dab0+_0x2cad84(0xbaa)+_0x45de99+_0x2cad84(0x3f8);liveGameView[_0x2cad84(0x9c8)]=_0x1daa9b,document['getElementById']('start-game-btn')[_0x2cad84(0x331)](_0x2cad84(0x623),async()=>{const _0x63cf8a=_0x2cad84;if(!currentQuizData||!currentQuizData[_0x63cf8a(0x796)]||currentQuizData[_0x63cf8a(0x796)]['length']===0x0){showMessage(_0x63cf8a(0x32b));return;}try{const _0x4ed075=doc(db,_0x63cf8a(0xaa1)+appId+_0x63cf8a(0xaf6),currentLiveGameId);await updateDoc(_0x4ed075,{'status':_0x63cf8a(0x41d),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x5f75e1=currentQuizData['questions'][0x0],_0x2c1db9=currentQuizData[_0x63cf8a(0x796)][_0x63cf8a(0x3b0)];showAdminLiveQuestionView(_0x5f75e1,0x0,_0x2c1db9);}catch(_0x2ca42e){console[_0x63cf8a(0x405)](_0x63cf8a(0x2d7),_0x2ca42e),showMessage(_0x63cf8a(0x83c));}});}async function openQuizBankModal(){const _0x16f88d=_0x3076df;if(allQuizzesGlobal['length']===0x0){const _0x1c60ed=await getDocs(collection(db,_0x16f88d(0xaa1)+appId+_0x16f88d(0x695)));allQuizzesGlobal=_0x1c60ed[_0x16f88d(0x9a1)]['map'](_0x44e029=>({'id':_0x44e029['id'],..._0x44e029[_0x16f88d(0x995)]()}));}renderQuizBankList(''),document[_0x16f88d(0x48d)](_0x16f88d(0x58a))[_0x16f88d(0xbbb)][_0x16f88d(0xb7d)](_0x16f88d(0xc6c));}function renderQuizBankList(_0x4fff7e='',_0x2dbbe5=![]){const _0x2c4c7e=_0x3076df,_0x12ad0f=document[_0x2c4c7e(0x48d)](_0x2c4c7e(0x31f)),_0x4c2e07=_0x4fff7e['toLowerCase']()['trim'](),_0x4a89fd=allQuizzesGlobal[_0x2c4c7e(0x3c9)](_0x30cd69=>({..._0x30cd69,'projectName':allProjects[_0x2c4c7e(0xcf4)](_0x3d5df5=>_0x3d5df5['id']===_0x30cd69['projectId'])?.[_0x2c4c7e(0x98e)]||_0x2c4c7e(0xb36)}))[_0x2c4c7e(0x475)](_0x485217=>(_0x485217[_0x2c4c7e(0x6a9)]||'')[_0x2c4c7e(0x235)]()[_0x2c4c7e(0x59e)](_0x4c2e07)||(_0x485217[_0x2c4c7e(0x98e)]||'')['toLowerCase']()[_0x2c4c7e(0x59e)](_0x4c2e07)||_0x485217['id'][_0x2c4c7e(0x2ed)]()[_0x2c4c7e(0x59e)](_0x4c2e07));document[_0x2c4c7e(0x48d)](_0x2c4c7e(0x888))[_0x2c4c7e(0x9ea)]='('+_0x4a89fd[_0x2c4c7e(0x3b0)]+_0x2c4c7e(0x82e),_0x12ad0f[_0x2c4c7e(0x9c8)]=_0x4a89fd[_0x2c4c7e(0x3b0)]?_0x4a89fd[_0x2c4c7e(0x3c9)](_0x28aebb=>{const _0x4ad11d=_0x2c4c7e,_0x552883=!_0x2dbbe5?_0x4ad11d(0x310)+_0x28aebb['id']+_0x4ad11d(0x1dd)+_0x28aebb['id']+_0x4ad11d(0x54f)+_0x28aebb['id']+_0x4ad11d(0x85a)+_0x28aebb['id']+_0x4ad11d(0x513)+_0x28aebb['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x28aebb['id']+'\x22\x20data-topic=\x22'+_0x28aebb[_0x4ad11d(0x6a9)]+_0x4ad11d(0x32a):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x28aebb['id']+_0x4ad11d(0xb85)+(_0x28aebb['topic']||'(ไม่มีชื่อ)')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x28aebb[_0x4ad11d(0x796)]?.[_0x4ad11d(0x3b0)]||0x0)+_0x4ad11d(0x533)+_0x28aebb[_0x4ad11d(0x98e)]+_0x4ad11d(0xc3d)+_0x28aebb['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x552883+_0x4ad11d(0x6ac);})[_0x2c4c7e(0x28d)](''):_0x2c4c7e(0x62c),!_0x2dbbe5&&(_0x12ad0f[_0x2c4c7e(0x599)]('.quiz-bank-item')[_0x2c4c7e(0x9c9)](_0xa94be2=>{const _0xec19ea=_0x2c4c7e;_0xa94be2[_0xec19ea(0x331)](_0xec19ea(0x623),()=>{const _0x23f9b5=_0xec19ea,_0x2ec32e=_0xa94be2[_0x23f9b5(0x40c)]['id'];document[_0x23f9b5(0x48d)](_0x23f9b5(0x58a))[_0x23f9b5(0xbbb)]['add']('hidden'),showQuizDetailView(_0x2ec32e);});}),_0x12ad0f[_0x2c4c7e(0x599)](_0x2c4c7e(0x878))['forEach'](_0x1ca730=>{const _0x172cdd=_0x2c4c7e;_0x1ca730[_0x172cdd(0x331)](_0x172cdd(0x623),_0x444a3e=>{const _0xb70ad2=_0x172cdd;_0x444a3e[_0xb70ad2(0xc89)]();const _0x5e99de=_0x1ca730[_0xb70ad2(0x40c)]['id'],_0x539a60=allQuizzesGlobal['find'](_0x3e9ee4=>_0x3e9ee4['id']===_0x5e99de);_0x539a60?(currentQuizData=_0x539a60,document[_0xb70ad2(0x48d)](_0xb70ad2(0x58a))['classList']['add']('hidden'),startAdminTest()):showMessage(_0xb70ad2(0xbe2));});}),_0x12ad0f['querySelectorAll']('.quiz-bank-parallel-btn')[_0x2c4c7e(0x9c9)](_0x339b79=>{const _0x2a80df=_0x2c4c7e;_0x339b79[_0x2a80df(0x331)](_0x2a80df(0x623),_0x449355=>{const _0x5adefe=_0x2a80df;_0x449355[_0x5adefe(0xc89)]();const _0x3ebc45=_0x339b79[_0x5adefe(0x40c)]['id'],_0x881b4=allQuizzesGlobal[_0x5adefe(0xcf4)](_0x21f33d=>_0x21f33d['id']===_0x3ebc45);_0x881b4?(document[_0x5adefe(0x48d)](_0x5adefe(0x58a))[_0x5adefe(0xbbb)][_0x5adefe(0x49b)](_0x5adefe(0xc6c)),handleGenerateParallelFromBank(_0x881b4)):showMessage(_0x5adefe(0xbe2));});}),_0x12ad0f[_0x2c4c7e(0x599)](_0x2c4c7e(0xb01))[_0x2c4c7e(0x9c9)](_0x565bcc=>{const _0x5ace6e=_0x2c4c7e;_0x565bcc[_0x5ace6e(0x331)](_0x5ace6e(0x623),_0x46481a=>{const _0x104d36=_0x5ace6e;_0x46481a[_0x104d36(0xc89)]();const _0x52b2d8=_0x565bcc[_0x104d36(0x40c)]['id'],_0x23ec0a=allQuizzesGlobal[_0x104d36(0xcf4)](_0x9a2b29=>_0x9a2b29['id']===_0x52b2d8);_0x23ec0a?(document[_0x104d36(0x48d)](_0x104d36(0x58a))['classList']['add']('hidden'),startPresentation(_0x23ec0a)):showMessage(_0x104d36(0xbe2));});}),_0x12ad0f[_0x2c4c7e(0x599)](_0x2c4c7e(0xad9))[_0x2c4c7e(0x9c9)](_0x14befd=>{const _0x3f4b6a=_0x2c4c7e;_0x14befd[_0x3f4b6a(0x331)]('click',_0x596bda=>{const _0x3533a4=_0x3f4b6a;_0x596bda['stopPropagation']();const _0x1d3043=_0x14befd[_0x3533a4(0x40c)]['id'];document[_0x3533a4(0x48d)](_0x3533a4(0x58a))[_0x3533a4(0xbbb)][_0x3533a4(0x49b)](_0x3533a4(0xc6c)),handleMoveQuiz(_0x1d3043);});}),_0x12ad0f[_0x2c4c7e(0x599)]('.quiz-bank-settings-btn')[_0x2c4c7e(0x9c9)](_0x8e0100=>{const _0x55424f=_0x2c4c7e;_0x8e0100[_0x55424f(0x331)](_0x55424f(0x623),_0x28925a=>{const _0x15128c=_0x55424f;_0x28925a[_0x15128c(0xc89)]();const _0x478282=_0x8e0100[_0x15128c(0x40c)]['id'];document['getElementById'](_0x15128c(0x58a))[_0x15128c(0xbbb)][_0x15128c(0x49b)](_0x15128c(0xc6c)),handleQuizSettings(_0x478282);});}),_0x12ad0f[_0x2c4c7e(0x599)]('.quiz-bank-delete-btn')[_0x2c4c7e(0x9c9)](_0x3a0b8c=>{const _0x1903e3=_0x2c4c7e;_0x3a0b8c[_0x1903e3(0x331)](_0x1903e3(0x623),_0x450d1e=>{const _0x408296=_0x1903e3;_0x450d1e[_0x408296(0xc89)]();const _0x51de02=_0x3a0b8c['dataset']['id'],_0x43ce18=_0x3a0b8c['dataset'][_0x408296(0x6a9)];showConfirmation(_0x408296(0x8d3)+_0x43ce18+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x51de02));});}));}async function handleCompareResults(_0x535c8a,_0x1a3c08){const _0x2a1baf=_0x3076df,_0x180815=document[_0x2a1baf(0x48d)](_0x2a1baf(0xb9d)),_0x16c0bb=document['getElementById'](_0x2a1baf(0x973)),_0x1b2946=document[_0x2a1baf(0x48d)](_0x2a1baf(0x2da));document[_0x2a1baf(0x48d)](_0x2a1baf(0x1b9))[_0x2a1baf(0xbbb)][_0x2a1baf(0x49b)](_0x2a1baf(0x28f)),document[_0x2a1baf(0x48d)](_0x2a1baf(0x39f))[_0x2a1baf(0xbbb)]['remove'](_0x2a1baf(0x28f)),_0x16c0bb[_0x2a1baf(0xbbb)][_0x2a1baf(0xb7d)]('hidden'),_0x1b2946[_0x2a1baf(0xbbb)][_0x2a1baf(0x49b)](_0x2a1baf(0xc6c)),_0x16c0bb[_0x2a1baf(0x9c8)]=_0x2a1baf(0x6d4),_0x1b2946[_0x2a1baf(0x9c8)]='',_0x180815[_0x2a1baf(0xbbb)][_0x2a1baf(0xb7d)](_0x2a1baf(0xc6c));try{const _0x23023e=doc(db,_0x2a1baf(0xaa1)+appId+_0x2a1baf(0x695),_0x535c8a),_0x2f7a34=await getDoc(_0x23023e);if(!_0x2f7a34[_0x2a1baf(0x6b3)]())throw new Error(_0x2a1baf(0x3af));const _0x5cd5b2=_0x2f7a34[_0x2a1baf(0x995)](),_0x36e19e=_0x5cd5b2[_0x2a1baf(0x796)][_0x2a1baf(0x3b0)],_0x462cb3=collection(db,_0x2a1baf(0xaa1)+appId+_0x2a1baf(0xa74)+_0x1a3c08+_0x2a1baf(0xa99)),_0x52d4d9=collection(db,_0x2a1baf(0xaa1)+appId+_0x2a1baf(0xa74)+_0x535c8a+_0x2a1baf(0xa99)),[_0x17b593,_0x45ad8d]=await Promise[_0x2a1baf(0x6a5)]([getDocs(_0x462cb3),getDocs(_0x52d4d9)]),_0x4cc0d4=_0x17b593[_0x2a1baf(0x9a1)][_0x2a1baf(0x3c9)](_0x16bbd6=>_0x16bbd6['data']()),_0x40656b=_0x45ad8d[_0x2a1baf(0x9a1)]['map'](_0x185fcc=>_0x185fcc[_0x2a1baf(0x995)]()),_0x1b7164=_0x4cc0d4[_0x2a1baf(0x3c9)](_0x5b760a=>_0x5b760a['latestScore']),_0x5676f3=_0x40656b['map'](_0x11dd99=>_0x11dd99[_0x2a1baf(0x1f4)]),_0x4efe95=calculateMeanAndStdDev(_0x1b7164),_0x262bb2=calculateMeanAndStdDev(_0x5676f3),_0x523b0b=_0x4efe95[_0x2a1baf(0x3a6)],_0x5aa3a4=_0x262bb2[_0x2a1baf(0x3a6)],_0x21fc54=_0x5aa3a4-_0x523b0b;let _0x17ff35=_0x2a1baf(0xa67)+_0x523b0b[_0x2a1baf(0x598)](0x2)+_0x2a1baf(0x923)+_0x5aa3a4[_0x2a1baf(0x598)](0x2)+_0x2a1baf(0xd1b)+(_0x21fc54>=0x0?_0x2a1baf(0xbd0):_0x2a1baf(0x97d))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x21fc54>=0x0?'text-emerald-800':'text-red-800')+_0x2a1baf(0x280)+(_0x21fc54>=0x0?_0x2a1baf(0x889):_0x2a1baf(0x401))+'\x22>'+(_0x21fc54>=0x0?'+':'')+_0x21fc54['toFixed'](0x2)+_0x2a1baf(0x581);_0x16c0bb[_0x2a1baf(0x9c8)]=_0x17ff35;const _0x5f2c3b=document[_0x2a1baf(0x48d)](_0x2a1baf(0x2ca))[_0x2a1baf(0x683)]('2d');if(chartInstances[_0x2a1baf(0x685)])chartInstances[_0x2a1baf(0x685)][_0x2a1baf(0xbaf)]();chartInstances[_0x2a1baf(0x685)]=new Chart(_0x5f2c3b,{'type':_0x2a1baf(0x6b7),'data':{'labels':[_0x2a1baf(0x414)],'datasets':[{'label':_0x2a1baf(0x97e),'data':[_0x523b0b],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x2a1baf(0x4c5),'data':[_0x5aa3a4],'backgroundColor':_0x2a1baf(0x742)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x36e19e}}}});const _0x2a39ca=currentProjectData[_0x2a1baf(0x589)]||[],_0x47a7a3=_0x2a39ca['map'](_0x8d4441=>{const _0x5d6865=_0x2a1baf,_0x12eb3d=_0x4cc0d4[_0x5d6865(0xcf4)](_0x297184=>_0x297184['studentName']===_0x8d4441),_0x2b290e=_0x40656b[_0x5d6865(0xcf4)](_0x46b1be=>_0x46b1be[_0x5d6865(0xbe1)]===_0x8d4441),_0x1b15c4=_0x12eb3d?_0x12eb3d['latestScore']:null,_0x20794d=_0x2b290e?_0x2b290e[_0x5d6865(0x1f4)]:null,_0x1472c0=_0x1b15c4!==null&&_0x20794d!==null?_0x20794d-_0x1b15c4:null,_0x15f35a=_0x1b15c4!==null?calculateZScore(_0x1b15c4,_0x4efe95[_0x5d6865(0x3a6)],_0x4efe95[_0x5d6865(0x3ff)]):null,_0x1a9a42=_0x20794d!==null?calculateZScore(_0x20794d,_0x262bb2[_0x5d6865(0x3a6)],_0x262bb2[_0x5d6865(0x3ff)]):null,_0x2a9c8a=_0x15f35a!==null?calculateTScore(_0x15f35a):null,_0x3c53b2=_0x1a9a42!==null?calculateTScore(_0x1a9a42):null,_0x1b1113=_0x2a9c8a!==null&&_0x3c53b2!==null?_0x3c53b2-_0x2a9c8a:null;return{'name':_0x8d4441,'preScore':_0x1b15c4,'postScore':_0x20794d,'gain':_0x1472c0,'preTScore':_0x2a9c8a,'postTScore':_0x3c53b2,'tGain':_0x1b1113};});renderIndividualComparisonTable(_0x47a7a3,_0x1b2946);}catch(_0x533c64){console[_0x2a1baf(0x405)](_0x2a1baf(0x1be),_0x533c64),_0x16c0bb['innerHTML']=_0x2a1baf(0x72a);}}async function saveBlueprintProject(){const _0x3ceb56=_0x3076df;if(!extractedBlueprintData||!extractedBlueprintData[_0x3ceb56(0x74f)]){showMessage(_0x3ceb56(0x38b));return;}const _0x8e4e00=prompt(_0x3ceb56(0xced),'Blueprint\x20O-NET\x20ป.6');if(!_0x8e4e00||_0x8e4e00[_0x3ceb56(0x7fe)]()==='')return;const _0x55ac18={};extractedBlueprintData['curriculum'][_0x3ceb56(0x9c9)](_0x2d66d1=>{const _0x8c2e4e=_0x3ceb56;_0x2d66d1[_0x8c2e4e(0x198)][_0x8c2e4e(0x9c9)](_0x510829=>{const _0x356989=_0x8c2e4e;_0x510829[_0x356989(0x710)][_0x356989(0x9c9)](_0x145a09=>{const _0x33fce9=_0x356989,_0x4b6ece=_0x33fce9(0xbed)+Date['now']()+Math[_0x33fce9(0x386)]()[_0x33fce9(0x2ed)](0x24)[_0x33fce9(0x74e)](0x2,0x9);_0x55ac18[_0x4b6ece]={'sara':_0x2d66d1['sara'],'mainTopic':_0x510829[_0x33fce9(0x877)],'subTopic':_0x145a09,'status':'not_generated','lessonContent':null};});});});try{const _0x15c1d8=collection(db,'artifacts/'+appId+_0x3ceb56(0xa8a));await addDoc(_0x15c1d8,{'projectName':_0x8e4e00[_0x3ceb56(0x7fe)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x55ac18,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x8e4e00[_0x3ceb56(0x7fe)]()+_0x3ceb56(0x2db)),document[_0x3ceb56(0x48d)](_0x3ceb56(0x412))[_0x3ceb56(0xbbb)][_0x3ceb56(0x49b)]('hidden');}catch(_0x58093f){console[_0x3ceb56(0x405)](_0x3ceb56(0xcce),_0x58093f),showMessage(_0x3ceb56(0xcdc));}}async function showBlueprintProjects(){const _0x455363=_0x3076df,_0x3c3d55=document[_0x455363(0x48d)](_0x455363(0xcf5)),_0x44d087=document['getElementById'](_0x455363(0x865));_0x44d087[_0x455363(0x9c8)]=_0x455363(0xb1d),_0x3c3d55[_0x455363(0xbbb)]['remove'](_0x455363(0xc6c));try{const _0x3f034f=collection(db,_0x455363(0xaa1)+appId+_0x455363(0xa8a)),_0x42112e=await getDocs(_0x3f034f);if(_0x42112e[_0x455363(0x3a7)]){_0x44d087[_0x455363(0x9c8)]=_0x455363(0xc18);return;}const _0x4c4361=_0x42112e[_0x455363(0x9a1)][_0x455363(0x3c9)](_0x2534ee=>({'id':_0x2534ee['id'],..._0x2534ee[_0x455363(0x995)]()}));_0x4c4361[_0x455363(0xa41)]((_0x982aa3,_0x27366d)=>_0x982aa3[_0x455363(0x98e)]['localeCompare'](_0x27366d[_0x455363(0x98e)],'th')),_0x44d087[_0x455363(0x9c8)]=_0x4c4361[_0x455363(0x3c9)](_0x233d5f=>_0x455363(0x8c4)+_0x233d5f[_0x455363(0x98e)]+_0x455363(0x50a)+_0x233d5f[_0x455363(0xaf3)]+'\x20|\x20'+Object[_0x455363(0x3ca)](_0x233d5f[_0x455363(0x3ef)])[_0x455363(0x3b0)]+_0x455363(0x2c0)+_0x233d5f['id']+_0x455363(0x9bf)+_0x233d5f['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x455363(0x28d)]('');}catch(_0x4765cd){console['error']('Error\x20loading\x20blueprint\x20projects:',_0x4765cd),_0x44d087['innerHTML']=_0x455363(0x267);}}async function displayBlueprintProjectManager(_0x8dc981){const _0x191d6b=_0x3076df;currentBlueprintProjectId=_0x8dc981,document['getElementById']('blueprint-projects-modal')['classList'][_0x191d6b(0x49b)]('hidden'),showView(_0x191d6b(0xa60)),projectDashboardView[_0x191d6b(0xbbb)]['add'](_0x191d6b(0xc6c));const _0x1570e1=document['getElementById']('blueprint-project-manager-view');_0x1570e1['classList']['remove'](_0x191d6b(0xc6c)),document['getElementById']('bp-topic-list-container')['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x5f231d=doc(db,_0x191d6b(0xaa1)+appId+'/public/data/blueprintProjects',_0x8dc981),_0x68d119=await getDoc(_0x5f231d);if(!_0x68d119[_0x191d6b(0x6b3)]())throw new Error('ไม่พบโปรเจค');const _0x2bdd12={'id':_0x68d119['id'],..._0x68d119[_0x191d6b(0x995)]()};document['getElementById'](_0x191d6b(0xac4))[_0x191d6b(0x9ea)]=_0x2bdd12[_0x191d6b(0x98e)],document['getElementById'](_0x191d6b(0x78b))[_0x191d6b(0xaef)]=_0x2bdd12[_0x191d6b(0x7a4)]||'',renderBlueprintTopicManager(_0x2bdd12);}catch(_0x5f3f95){console[_0x191d6b(0x405)](_0x191d6b(0x694),_0x5f3f95),showMessage(_0x5f3f95['message']),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x516b){const _0x3adbfb=_0x3076df,_0x11cab6=document[_0x3adbfb(0x48d)]('bp-topic-list-container'),_0x298421=_0x516b['topics']||{};if(Object[_0x3adbfb(0x3ca)](_0x298421)['length']===0x0){_0x11cab6[_0x3adbfb(0x9c8)]=_0x3adbfb(0x4ff);return;}const _0xa6952b=Object[_0x3adbfb(0x5a3)](_0x298421)['map'](([_0x24c860,_0x334ed4])=>({'id':_0x24c860,..._0x334ed4}))[_0x3adbfb(0xa41)]((_0x194da1,_0x20bd02)=>(_0x194da1[_0x3adbfb(0x527)]??Infinity)-(_0x20bd02[_0x3adbfb(0x527)]??Infinity)),_0x1f3622={};_0xa6952b[_0x3adbfb(0x9c9)](_0x4dfea3=>{const _0x2895a8=_0x3adbfb,{sara:_0x3c9af2,mainTopic:_0x1e4bc3}=_0x4dfea3;!_0x1f3622[_0x3c9af2]&&(_0x1f3622[_0x3c9af2]={}),!_0x1f3622[_0x3c9af2][_0x1e4bc3]&&(_0x1f3622[_0x3c9af2][_0x1e4bc3]=[]),_0x1f3622[_0x3c9af2][_0x1e4bc3][_0x2895a8(0x836)](_0x4dfea3);});let _0x1c0c6d='';for(const _0xf77ac3 in _0x1f3622){_0x1c0c6d+=_0x3adbfb(0x352)+_0xf77ac3+'</h4>';for(const _0x18174f in _0x1f3622[_0xf77ac3]){_0x1c0c6d+=_0x3adbfb(0x63a)+_0x18174f+_0x3adbfb(0x71c),_0x1f3622[_0xf77ac3][_0x18174f][_0x3adbfb(0x9c9)](_0xa6b69a=>{const _0xd52429=_0x3adbfb,_0x26449b=_0xa6b69a['id'],_0x598aad=_0xa6b69a[_0xd52429(0x651)]||[],_0x4592a8=_0x598aad[_0xd52429(0x3b0)]>0x0,_0x275092=_0xa6b69a[_0xd52429(0x732)]==='generated';let _0x5a3397='';_0x4592a8?_0x5a3397=_0xd52429(0xb47)+_0x598aad[_0xd52429(0x3b0)]+_0xd52429(0x6bd):_0x5a3397=_0xd52429(0x7e5)+(_0x275092?_0xd52429(0x339):_0xd52429(0x51a))+'\x22>'+(_0x275092?_0xd52429(0x66a):_0xd52429(0x4ca))+_0xd52429(0x9f3);const _0x2e69be=!_0x275092?_0xd52429(0xbe4):'',_0x4724fb=!_0x275092?_0xd52429(0x5bb):'';let _0xe96d3a=_0x275092?_0xd52429(0xbf9):_0xd52429(0x4a8);_0x1c0c6d+=_0xd52429(0x5a8)+_0x26449b+_0xd52429(0x690)+_0xa6b69a['subTopic']+_0xd52429(0xa4b)+_0x5a3397+_0xd52429(0x4fb)+_0x2e69be+_0xd52429(0x1a9)+_0x4724fb+_0xd52429(0x4f0)+_0xe96d3a+_0xd52429(0xc74);}),_0x1c0c6d+=_0x3adbfb(0x5c0);}_0x1c0c6d+=_0x3adbfb(0x9b9);}_0x11cab6[_0x3adbfb(0x9c8)]=_0x1c0c6d;}async function handleDeepDeleteBlueprintProject(_0x4f09e6){const _0x361242=_0x3076df,_0x53fe9c=doc(db,_0x361242(0xaa1)+appId+_0x361242(0xa8a),_0x4f09e6),_0x17d5d5=await getDoc(_0x53fe9c);if(!_0x17d5d5[_0x361242(0x6b3)]()){showMessage(_0x361242(0x727));return;}const _0x230371=_0x17d5d5['data']()[_0x361242(0x98e)];showConfirmation('คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x230371+_0x361242(0x991),async()=>{const _0x2e590f=_0x361242;showMessage(_0x2e590f(0x33e));try{const _0x257cd3=writeBatch(db),_0x28bdf7=_0x17d5d5[_0x2e590f(0x995)](),_0x489db9=_0x28bdf7[_0x2e590f(0x3ef)]||{};for(const _0x5ac310 in _0x489db9){const _0x5b73f2=doc(db,_0x2e590f(0xaa1)+appId+_0x2e590f(0xb4e)+_0x4f09e6+'/lessons',_0x5ac310);_0x257cd3[_0x2e590f(0xa5b)](_0x5b73f2);}const _0x50f26d=new Set();for(const _0x275766 in _0x489db9){_0x489db9[_0x275766]['linkedQuizIds']&&_0x489db9[_0x275766][_0x2e590f(0x651)][_0x2e590f(0x9c9)](_0x100ef7=>_0x50f26d['add'](_0x100ef7));}for(const _0x58459e of _0x50f26d){await handleDeleteQuiz(_0x58459e,![]);}_0x257cd3['delete'](_0x53fe9c),await _0x257cd3[_0x2e590f(0x248)](),showMessage('ลบโปรเจค\x20\x22'+_0x230371+_0x2e590f(0xb81)),showBlueprintProjects();}catch(_0x22d842){console['error'](_0x2e590f(0x972),_0x22d842),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x141535){const _0x1de837=_0x3076df,_0x22e8c1=document[_0x1de837(0x48d)](_0x1de837(0x7eb)),_0x4bd9c4=document[_0x1de837(0x48d)](_0x1de837(0xa98)),_0x28e9eb=document['getElementById']('clear-all-links-btn');try{await ensureGlobalQuizzesLoaded();const _0x4076c5=doc(db,_0x1de837(0xaa1)+appId+_0x1de837(0xa8a),currentBlueprintProjectId),_0x3273eb=await getDoc(_0x4076c5);if(!_0x3273eb[_0x1de837(0x6b3)]())return;const _0x2ab471=_0x3273eb[_0x1de837(0x995)](),_0x4c4a9d=_0x2ab471[_0x1de837(0x3ef)][_0x141535];document['getElementById'](_0x1de837(0xa8f))[_0x1de837(0x9ea)]=_0x4c4a9d[_0x1de837(0x658)];const _0x5aab1c=_0x4c4a9d[_0x1de837(0x651)]||[];_0x28e9eb[_0x1de837(0xbbb)][_0x1de837(0x1b8)](_0x1de837(0xc6c),_0x5aab1c[_0x1de837(0x3b0)]===0x0),_0x28e9eb[_0x1de837(0x2ee)]=()=>handleClearAllLinksForTopic(_0x141535);if(_0x5aab1c[_0x1de837(0x3b0)]===0x0)_0x4bd9c4[_0x1de837(0x9c8)]=_0x1de837(0x975);else{const _0x267ad3=allQuizzesGlobal['filter'](_0x57b25e=>_0x5aab1c['includes'](_0x57b25e['id']));_0x4bd9c4[_0x1de837(0x9c8)]=_0x267ad3[_0x1de837(0x3c9)](_0x46a238=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0x46a238['id']+_0x1de837(0x3ad)+_0x46a238[_0x1de837(0x6a9)]+_0x1de837(0x31d)+_0x46a238['id']+_0x1de837(0x883)+_0x46a238[_0x1de837(0x796)]['length']+_0x1de837(0x3c2)+_0x46a238['id']+_0x1de837(0x326)+_0x46a238['id']+_0x1de837(0x468)+_0x46a238['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x46a238['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x46a238['id']+_0x1de837(0xbb1)+_0x46a238['id']+_0x1de837(0x777)+_0x141535+_0x1de837(0x50e)+_0x46a238['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1de837(0x28d)]('');}document[_0x1de837(0x48d)](_0x1de837(0x449))[_0x1de837(0x2ee)]=()=>{openQuizSelectorForBlueprint(_0x141535);},document[_0x1de837(0x48d)]('close-topic-bank-btn')[_0x1de837(0x2ee)]=()=>_0x22e8c1[_0x1de837(0xbbb)][_0x1de837(0x49b)](_0x1de837(0xc6c)),_0x22e8c1[_0x1de837(0xbbb)][_0x1de837(0xb7d)]('hidden');}catch(_0x26cb30){showMessage(_0x26cb30[_0x1de837(0x5ce)]);}}async function openQuizSelectorForBlueprint(_0x2bd770){const _0x274fcd=_0x3076df,_0x462f2c=document[_0x274fcd(0x48d)](_0x274fcd(0x58a)),_0x3b8a1f=document[_0x274fcd(0x48d)](_0x274fcd(0x7eb));_0x3b8a1f['classList'][_0x274fcd(0x49b)](_0x274fcd(0xc6c)),document[_0x274fcd(0x48d)](_0x274fcd(0x410))?.['remove']();const _0x3b49de=document[_0x274fcd(0x2b7)](_0x274fcd(0x899));_0x3b49de['id']='confirm-link-quiz-btn',_0x3b49de[_0x274fcd(0x76c)]=_0x274fcd(0x5c6),_0x3b49de['textContent']='เพิ่มรายการที่เลือก',_0x3b49de[_0x274fcd(0x1dc)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x462f2c[_0x274fcd(0xbbb)][_0x274fcd(0xb7d)](_0x274fcd(0xc6c)),renderQuizBankListForMultiSelect(''),document['getElementById'](_0x274fcd(0x218))[_0x274fcd(0x3b4)]['display']=_0x274fcd(0x700),_0x462f2c[_0x274fcd(0x381)](_0x274fcd(0xb19))['appendChild'](_0x3b49de);const _0x43cd46=(_0x4a1738=![])=>{const _0x3b544e=_0x274fcd;_0x462f2c['classList'][_0x3b544e(0x49b)](_0x3b544e(0xc6c)),document['getElementById'](_0x3b544e(0x218))['style'][_0x3b544e(0x418)]=_0x3b544e(0x30f),_0x3b49de['remove'](),_0x4a1738&&openTopicQuizBank(_0x2bd770);};_0x3b49de[_0x274fcd(0x2ee)]=async()=>{const _0x27caab=_0x274fcd,_0x102fa5=Array['from'](document[_0x27caab(0x599)](_0x27caab(0xc77)))[_0x27caab(0x3c9)](_0x199edc=>_0x199edc['value']);if(_0x102fa5[_0x27caab(0x3b0)]===0x0)return;try{const _0x12eb7f=doc(db,_0x27caab(0xaa1)+appId+_0x27caab(0xa8a),currentBlueprintProjectId),_0x4f7b7f=(await getDoc(_0x12eb7f))[_0x27caab(0x995)](),_0x2afd10=_0x4f7b7f[_0x27caab(0x3ef)][_0x2bd770]['linkedQuizIds']||[],_0x316022=[...new Set([..._0x2afd10,..._0x102fa5])];await updateDoc(_0x12eb7f,{[_0x27caab(0x1cd)+_0x2bd770+_0x27caab(0x1b5)]:_0x316022}),showMessage(_0x27caab(0x634)+_0x102fa5['length']+_0x27caab(0xc36)),_0x43cd46(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x13e664){console['error'](_0x27caab(0x919),_0x13e664);}},document['getElementById'](_0x274fcd(0xce2))[_0x274fcd(0x2ee)]=()=>_0x43cd46(!![]);}catch(_0x298fad){showMessage(_0x298fad[_0x274fcd(0x5ce)]),_0x3b8a1f[_0x274fcd(0xbbb)]['remove'](_0x274fcd(0xc6c));}}function handleClearLinkedQuiz(_0x25890e){const _0x34d832=_0x3076df;showConfirmation(_0x34d832(0xa59),async()=>{const _0x45ff84=_0x34d832;try{const _0x344530=doc(db,'artifacts/'+appId+_0x45ff84(0xa8a),currentBlueprintProjectId);await updateDoc(_0x344530,{[_0x45ff84(0x1cd)+_0x25890e+_0x45ff84(0x2e2)]:deleteField()}),showMessage(_0x45ff84(0x322)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x416e9c){console[_0x45ff84(0x405)](_0x45ff84(0x1eb),_0x416e9c),showMessage(_0x45ff84(0x647));}});}async function addTopicToProject(){const _0x2b3814=_0x3076df,_0x3dcaac=prompt('กรุณาป้อนชื่อหัวข้อย่อยใหม่:');if(!_0x3dcaac||_0x3dcaac['trim']()==='')return;const _0x2b98b4=prompt(_0x2b3814(0x86f),_0x2b3814(0x934)),_0x2c87c7=prompt('อยู่ในหัวข้อหลักใด:','หัวข้อหลักใหม่'),_0x3f1ce7=_0x2b3814(0xbed)+Date[_0x2b3814(0x95f)]()+Math[_0x2b3814(0x386)]()[_0x2b3814(0x2ed)](0x24)[_0x2b3814(0x74e)](0x2,0x9),_0xad77e4={'sara':_0x2b98b4,'mainTopic':_0x2c87c7,'subTopic':_0x3dcaac[_0x2b3814(0x7fe)](),'status':_0x2b3814(0x33a),'lessonContent':null};try{const _0x999de8=doc(db,_0x2b3814(0xaa1)+appId+_0x2b3814(0xa8a),currentBlueprintProjectId);await updateDoc(_0x999de8,{[_0x2b3814(0x1cd)+_0x3f1ce7]:_0xad77e4}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3d27cb){console['error'](_0x2b3814(0x9d7),_0x3d27cb),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x45511e){const _0x256689=_0x3076df,_0x5d4a70=document[_0x256689(0x381)](_0x256689(0x756)+_0x45511e+'\x22]'),_0x254f75=_0x5d4a70[_0x256689(0x381)](_0x256689(0xc88)),_0x461e0a=_0x254f75[_0x256689(0x9ea)],_0x2398ad=prompt(_0x256689(0x773),_0x461e0a);if(!_0x2398ad||_0x2398ad['trim']()===''||_0x2398ad[_0x256689(0x7fe)]()===_0x461e0a)return;try{const _0x2aa19a=doc(db,'artifacts/'+appId+_0x256689(0xa8a),currentBlueprintProjectId);await updateDoc(_0x2aa19a,{[_0x256689(0x1cd)+_0x45511e+_0x256689(0x7c0)]:_0x2398ad[_0x256689(0x7fe)]()}),_0x254f75[_0x256689(0x9ea)]=_0x2398ad[_0x256689(0x7fe)](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x3d3707){console[_0x256689(0x405)](_0x256689(0x7b0),_0x3d3707),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0xcb529){const _0x4b6e1a=_0x3076df;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x4a07f3=doc(db,_0x4b6e1a(0xaa1)+appId+_0x4b6e1a(0xa8a),currentBlueprintProjectId);await updateDoc(_0x4a07f3,{['topics.'+_0xcb529]:deleteField()}),document[_0x4b6e1a(0x381)](_0x4b6e1a(0x756)+_0xcb529+'\x22]')['remove'](),showMessage(_0x4b6e1a(0x1f0));}catch(_0x52decb){console[_0x4b6e1a(0x405)](_0x4b6e1a(0xa24),_0x52decb),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x27060a,_0x5198a7,_0xfad87a){handleGenerateAndShowLesson(_0x5198a7,_0xfad87a);const _0x1158d0=setInterval(async()=>{const _0xa4311c=_0x520b,_0x18a5ed=document[_0xa4311c(0x48d)]('lesson-view-modal'),_0x534677=_0x18a5ed[_0xa4311c(0xbbb)][_0xa4311c(0x477)](_0xa4311c(0xc6c));if(_0x534677){clearInterval(_0x1158d0);if(currentApplicationData&&currentApplicationData[_0xa4311c(0x3b0)]>0x0){const _0x213be2={'point':document[_0xa4311c(0x48d)](_0xa4311c(0x432))['innerHTML'],'memory':document[_0xa4311c(0x48d)]('memoryContent')[_0xa4311c(0x9c8)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0xa4311c(0x48d)](_0xa4311c(0x970))[_0xa4311c(0x9c8)]};try{const _0x4254e2=doc(db,_0xa4311c(0xaa1)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x5da63f=doc(db,_0xa4311c(0xaa1)+appId+_0xa4311c(0xb4e)+currentBlueprintProjectId+_0xa4311c(0xc00),_0x27060a),_0x136729=writeBatch(db);_0x136729[_0xa4311c(0x914)](_0x5da63f,{'content':_0x213be2}),_0x136729[_0xa4311c(0xad2)](_0x4254e2,{['topics.'+_0x27060a+_0xa4311c(0xd0a)]:_0xa4311c(0x497)}),await _0x136729[_0xa4311c(0x248)](),console['log'](_0xa4311c(0xb16)+_0x27060a+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x481c16){console['error'](_0xa4311c(0x578),_0x481c16);}}}},0x3e8);}function displayHalfMarkResult(_0x556446,_0x55294c){const _0x11177e=_0x3076df,_0x42f913=_0x556446>=_0x55294c/0x2,_0x4168fa=_0x42f913?_0x11177e(0x734):_0x11177e(0x97d),_0x4ab6d6=_0x42f913?_0x11177e(0xaba):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x150deb=_0x42f913?_0x11177e(0x4d2):_0x11177e(0x226),_0x290bfa=_0x42f913?_0x11177e(0x86e):'คะแนนยังไม่ถึงครึ่ง',_0x4fb6c1=_0x42f913?'ยอดเยี่ยม!':_0x11177e(0x43a);let _0x5940f1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x4168fa+_0x11177e(0x674)+_0x4ab6d6+_0x11177e(0xafa)+_0x150deb+'\x20mb-2\x22>'+_0x290bfa+_0x11177e(0x5be)+_0x4fb6c1+_0x11177e(0x42a);studentResultArea[_0x11177e(0x9c8)]=_0x5940f1,studentResultArea[_0x11177e(0xbbb)][_0x11177e(0xb7d)]('hidden'),studentQuizArea[_0x11177e(0xbbb)][_0x11177e(0x49b)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x42f913});}function displayPerfectScoreResult(_0x1ce539,_0x225cb5){const _0x194040=_0x3076df,_0x3586cc=_0x1ce539===_0x225cb5,_0x429f85=_0x3586cc?_0x194040(0x760):_0x194040(0x1b6),_0x31fd14=_0x3586cc?_0x194040(0x675):_0x194040(0x3dd),_0x4cbae0=_0x3586cc?'text-yellow-800':_0x194040(0x377),_0x4d954c=_0x3586cc?'คะแนนเต็ม!':'ยังไม่เต็มนะ',_0x455a8f=_0x3586cc?_0x194040(0x7d1):_0x194040(0xa83);let _0x51b72d=_0x194040(0xa15)+_0x429f85+_0x194040(0x674)+_0x31fd14+_0x194040(0xafa)+_0x4cbae0+'\x20mb-2\x22>'+_0x4d954c+_0x194040(0x5be)+_0x455a8f+_0x194040(0x42a);studentResultArea[_0x194040(0x9c8)]=_0x51b72d,studentResultArea[_0x194040(0xbbb)][_0x194040(0xb7d)](_0x194040(0xc6c)),studentQuizArea[_0x194040(0xbbb)][_0x194040(0x49b)](_0x194040(0xc6c)),setupResultScreenBackButton({'showRankings':![],'score':_0x1ce539,'totalQuestions':_0x225cb5});}function renderIndividualComparisonTable(_0x37d716,_0x5d1766){const _0x30d509=_0x3076df;_0x37d716[_0x30d509(0xa41)]((_0x5966b8,_0x502ef6)=>(_0x502ef6['tGain']??-Infinity)-(_0x5966b8['tGain']??-Infinity));let _0x17a7c1=_0x30d509(0x82a);_0x37d716[_0x30d509(0x3b0)]===0x0?_0x17a7c1+=_0x30d509(0x6e7):_0x37d716[_0x30d509(0x9c9)]((_0x9f0403,_0x30e8db)=>{const _0x431963=_0x30d509;let _0x34ff17='-',_0x4524aa='';if(_0x9f0403[_0x431963(0x37a)]!==null){const _0x3fb35c=_0x9f0403[_0x431963(0x37a)]>0x0?'text-green-600':_0x9f0403[_0x431963(0x37a)]<0x0?_0x431963(0x73f):_0x431963(0xc48),_0x26e32d=_0x9f0403[_0x431963(0x37a)]>0x0?'+':'';_0x34ff17=_0x431963(0x6be)+_0x3fb35c+'\x22>'+_0x26e32d+_0x9f0403['gain']+'</span>';if(_0x9f0403[_0x431963(0x37a)]>0x0)_0x4524aa='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x9f0403[_0x431963(0x37a)]<0x0?_0x4524aa=_0x431963(0xca7):_0x4524aa=_0x431963(0xc50);}let _0x64aa60='-';if(_0x9f0403[_0x431963(0xcb7)]!==null){const _0x38a239=_0x9f0403['tGain']>0x0?_0x431963(0x5e3):_0x9f0403[_0x431963(0xcb7)]<0x0?_0x431963(0x73f):_0x431963(0xc48),_0x184911=_0x9f0403[_0x431963(0xcb7)]>0x0?'+':'';_0x64aa60='<span\x20class=\x22font-bold\x20'+_0x38a239+'\x22>'+_0x184911+_0x9f0403['tGain'][_0x431963(0x598)](0x2)+'</span>';}_0x17a7c1+=_0x431963(0xb8a)+(_0x30e8db+0x1)+_0x431963(0xba4)+_0x9f0403[_0x431963(0x774)]+_0x431963(0x707)+(_0x9f0403[_0x431963(0x82f)]??'-')+_0x431963(0x6f2)+(_0x9f0403[_0x431963(0x536)]??'-')+_0x431963(0x707)+_0x34ff17+_0x431963(0xc73)+_0x4524aa+_0x431963(0x916)+(_0x9f0403[_0x431963(0x5c3)]?.['toFixed'](0x2)??'-')+_0x431963(0x825)+(_0x9f0403[_0x431963(0x443)]?.[_0x431963(0x598)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x64aa60+_0x431963(0x5b0);}),_0x17a7c1+=_0x30d509(0x1c3),_0x5d1766[_0x30d509(0x9c8)]=_0x17a7c1;}function handleRenameQuiz(_0x42e29f,_0x225eba){const _0x5968ba=_0x3076df;actionTargetId=_0x42e29f,document[_0x5968ba(0x48d)]('rename-quiz-input')[_0x5968ba(0xaef)]=_0x225eba,renameQuizModal[_0x5968ba(0xbbb)]['remove'](_0x5968ba(0xc6c));}function setupComparisonModalTabs(){const _0x4e1dc8=_0x3076df,_0x4b1a4e=document[_0x4e1dc8(0x48d)](_0x4e1dc8(0x1b9)),_0xd35864=document[_0x4e1dc8(0x48d)](_0x4e1dc8(0x39f)),_0xef2b97=document[_0x4e1dc8(0x48d)](_0x4e1dc8(0x973)),_0x167c59=document[_0x4e1dc8(0x48d)](_0x4e1dc8(0x2da));_0x4b1a4e[_0x4e1dc8(0x331)](_0x4e1dc8(0x623),()=>{const _0x4794e=_0x4e1dc8;_0x4b1a4e['classList']['add'](_0x4794e(0x28f)),_0xd35864['classList']['remove'](_0x4794e(0x28f)),_0xef2b97[_0x4794e(0xbbb)][_0x4794e(0xb7d)](_0x4794e(0xc6c)),_0x167c59[_0x4794e(0xbbb)][_0x4794e(0x49b)]('hidden');}),_0xd35864['addEventListener'](_0x4e1dc8(0x623),()=>{const _0xb0f600=_0x4e1dc8;_0xd35864['classList'][_0xb0f600(0x49b)](_0xb0f600(0x28f)),_0x4b1a4e[_0xb0f600(0xbbb)][_0xb0f600(0xb7d)](_0xb0f600(0x28f)),_0x167c59[_0xb0f600(0xbbb)][_0xb0f600(0xb7d)](_0xb0f600(0xc6c)),_0xef2b97[_0xb0f600(0xbbb)][_0xb0f600(0x49b)](_0xb0f600(0xc6c));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1bd72e=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1bd72e,_0x1b3787=>{const _0x2c580f=_0x520b;if(!_0x1b3787[_0x2c580f(0x6b3)]()){showMessage(_0x2c580f(0x9e1));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x2c580f(0x8f7)?showView(_0x2c580f(0x58d)):showView(_0x2c580f(0x849));return;}const _0x1f441b=_0x1b3787[_0x2c580f(0x995)]();_0x1f441b[_0x2c580f(0x65b)]&&(currentQuizData=_0x1f441b[_0x2c580f(0x65b)]);!currentQuizData&&_0x1f441b[_0x2c580f(0xccd)]&&((async()=>{const _0x3056aa=_0x2c580f;try{const _0x4239d7=doc(db,_0x3056aa(0xaa1)+appId+_0x3056aa(0x695),_0x1f441b[_0x3056aa(0xccd)]),_0x5abf83=await getDoc(_0x4239d7);_0x5abf83[_0x3056aa(0x6b3)]()&&(currentQuizData={'id':_0x5abf83['id'],..._0x5abf83[_0x3056aa(0x995)]()});}catch(_0x31fc5b){console['error'](_0x3056aa(0xa2b),_0x31fc5b);}})());switch(_0x1f441b['status']){case _0x2c580f(0xab6):if(currentMode==='admin'){const _0x2f8835=_0x1f441b['players']?Object[_0x2c580f(0x5a3)](_0x1f441b[_0x2c580f(0x501)]):[],_0x541790=_0x2f8835[_0x2c580f(0x475)](([_0x253e68,_0x111656])=>_0x111656[_0x2c580f(0x732)]===_0x2c580f(0x28f)),_0x491fe7=document[_0x2c580f(0x48d)]('player-count');if(_0x491fe7)_0x491fe7['textContent']=_0x541790[_0x2c580f(0x3b0)];const _0x272023=document[_0x2c580f(0x48d)](_0x2c580f(0xcdb));_0x272023&&(_0x272023[_0x2c580f(0x9c8)]=_0x541790[_0x2c580f(0x3c9)](([_0x86a60f,_0x6e8c09])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x86a60f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x86a60f+_0x2c580f(0x4f6))['join'](''));const _0x3fc143=document[_0x2c580f(0x48d)](_0x2c580f(0x471));_0x3fc143&&(_0x3fc143[_0x2c580f(0x1dc)]=_0x541790[_0x2c580f(0x3b0)]===0x0);}else showView(_0x2c580f(0x3d8)),liveGameView[_0x2c580f(0x9c8)]=_0x2c580f(0x57d)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x2c580f(0x41d):const _0x30de9d=_0x1f441b['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x2c580f(0x796)][_0x30de9d]){const _0x34bd21=currentQuizData['questions'][_0x30de9d],_0xefbb33=_0x1f441b[_0x2c580f(0x3d2)]||_0x2c580f(0xba6);switch(_0xefbb33){case _0x2c580f(0xc2c):currentMode===_0x2c580f(0x8f7)?showAdminSummaryView(_0x1f441b,_0x34bd21):showPlayerSummaryView(_0x1f441b,currentStudentName);break;case _0x2c580f(0x94d):currentMode===_0x2c580f(0x8f7)&&showTop5LeaderboardView(_0x1f441b);break;case _0x2c580f(0xba6):default:if(currentMode==='admin'){const _0x30bf41=writeBatch(db);let _0x220004=![];Object[_0x2c580f(0x5a3)](_0x1f441b[_0x2c580f(0x501)])[_0x2c580f(0x9c9)](([_0x51e618,_0x4ac788])=>{const _0x143818=_0x2c580f;if(_0x4ac788[_0x143818(0x732)]===_0x143818(0x28f)&&_0x4ac788[_0x143818(0x963)]&&!_0x4ac788[_0x143818(0x371)]){_0x220004=!![];const _0x250abf=_0x4ac788[_0x143818(0x963)][_0x143818(0xc39)]()-_0x1f441b['questionDisplayedAt']['toDate']();let _0x3c2b24=0x0;if(_0x4ac788[_0x143818(0x33c)]){const _0x529435=0x3e8,_0x438629=0x1f4,_0x4c470c=0x4e20;let _0x441c88=_0x250abf/_0x4c470c;if(_0x441c88>0x1)_0x441c88=0x1;const _0x11e406=Math[_0x143818(0x19c)](_0x441c88*_0x438629);_0x3c2b24=_0x529435-_0x11e406;}const _0x2e5afb=doc(db,'artifacts/'+appId+_0x143818(0xaf6),currentLiveGameId);_0x30bf41[_0x143818(0xad2)](_0x2e5afb,{[_0x143818(0x5a2)+_0x51e618+'.score']:increment(_0x3c2b24),['players.'+_0x51e618+_0x143818(0x375)]:_0x3c2b24,[_0x143818(0x5a2)+_0x51e618+_0x143818(0x3c7)]:!![]});}});_0x220004&&_0x30bf41[_0x2c580f(0x248)]()[_0x2c580f(0x3b5)](_0x5ec598=>console['error'](_0x2c580f(0x388),_0x5ec598));lastRenderedAdminQuestionIndex!==_0x30de9d&&(showAdminLiveQuestionView(_0x34bd21,_0x30de9d,currentQuizData['questions'][_0x2c580f(0x3b0)]),lastRenderedAdminQuestionIndex=_0x30de9d);const _0x3955c2=_0x1f441b['players']||{},_0x98167b=Object[_0x2c580f(0x391)](_0x3955c2)[_0x2c580f(0x475)](_0x5801ef=>_0x5801ef[_0x2c580f(0x732)]===_0x2c580f(0x28f)),_0x2212ac=_0x98167b[_0x2c580f(0x3b0)],_0x2d22a3=_0x98167b['filter'](_0x5de6cd=>_0x5de6cd['answeredCurrentQuestion']===!![])[_0x2c580f(0x3b0)],_0x36efd7=document[_0x2c580f(0x48d)](_0x2c580f(0xc02));if(_0x36efd7)_0x36efd7[_0x2c580f(0x9ea)]=_0x2d22a3+'/'+_0x2212ac;const _0x3500d7=document[_0x2c580f(0x48d)](_0x2c580f(0x2ec));if(_0x3500d7){let _0x12d43a=Object[_0x2c580f(0x5a3)](_0x3955c2)[_0x2c580f(0x475)](([_0x4f67f6,_0x200c15])=>_0x200c15['status']==='active')['map'](([_0x22bfb2,_0x104441])=>{const _0x12e98a=_0x2c580f,_0x2b531f=_0x104441[_0x12e98a(0xac3)]===!![],_0x15d71b=_0x2b531f?_0x12e98a(0x6e5):_0x12e98a(0x6a0),_0x136abb=_0x2b531f?_0x12e98a(0x395):_0x12e98a(0xa18);return _0x12e98a(0xb67)+_0x15d71b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x136abb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x22bfb2+_0x12e98a(0x5cc)+_0x22bfb2+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x2c580f(0x28d)]('');_0x3500d7[_0x2c580f(0x9c8)]=_0x12d43a||_0x2c580f(0x4b3);}_0x2212ac>0x0&&_0x2d22a3===_0x2212ac&&revealAnswerForAdmin(_0x30de9d,currentQuizData['questions'][_0x2c580f(0x3b0)]);}else{const _0x2467ee=_0x1f441b[_0x2c580f(0x501)][currentStudentName];_0x2467ee&&!_0x2467ee[_0x2c580f(0xac3)]&&showStudentLiveQuestionView(_0x34bd21,_0x30de9d,currentQuizData[_0x2c580f(0x796)][_0x2c580f(0x3b0)]);}break;}}break;case _0x2c580f(0xa54):showPodiumView(_0x1f441b['players'],_0x2c580f(0x3ee));break;}});}async function openGlobalActivityModal(){const _0x1e44ac=_0x3076df;if(allQuizzesGlobal[_0x1e44ac(0x3b0)]===0x0){const _0x7290c4=await getDocs(collection(db,_0x1e44ac(0xaa1)+appId+_0x1e44ac(0x695)));allQuizzesGlobal=_0x7290c4[_0x1e44ac(0x9a1)]['map'](_0x48859f=>({'id':_0x48859f['id'],..._0x48859f[_0x1e44ac(0x995)]()}));}renderGlobalActivityList(''),document['getElementById']('global-activity-modal')[_0x1e44ac(0xbbb)][_0x1e44ac(0xb7d)](_0x1e44ac(0xc6c));}function renderGlobalActivityList(_0x3e8b13=''){const _0x2d19de=_0x3076df,_0x9b866b=document['getElementById'](_0x2d19de(0x569)),_0x18153d=_0x3e8b13[_0x2d19de(0x235)]()[_0x2d19de(0x7fe)](),_0x32ad56=allQuizzesGlobal['map'](_0x1b17c9=>({..._0x1b17c9,'projectName':allProjects[_0x2d19de(0xcf4)](_0x520905=>_0x520905['id']===_0x1b17c9['projectId'])?.[_0x2d19de(0x98e)]||'N/A'}))[_0x2d19de(0x475)](_0x4b3555=>(_0x4b3555[_0x2d19de(0x6a9)]||'')[_0x2d19de(0x235)]()[_0x2d19de(0x59e)](_0x18153d)||(_0x4b3555[_0x2d19de(0x98e)]||'')[_0x2d19de(0x235)]()['includes'](_0x18153d));document['getElementById'](_0x2d19de(0x492))[_0x2d19de(0x9ea)]='('+_0x32ad56[_0x2d19de(0x3b0)]+'\x20ชุด)',_0x9b866b[_0x2d19de(0x9c8)]=_0x32ad56[_0x2d19de(0x3b0)]?_0x32ad56[_0x2d19de(0x3c9)](_0x3aa7f0=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x3aa7f0[_0x2d19de(0x6a9)]||'(ไม่มีชื่อ)')+_0x2d19de(0x7f0)+(_0x3aa7f0[_0x2d19de(0x796)]?.[_0x2d19de(0x3b0)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x3aa7f0[_0x2d19de(0x98e)]+_0x2d19de(0x6d5)+_0x3aa7f0['id']+_0x2d19de(0x7cb)+_0x3aa7f0['id']+_0x2d19de(0x629)+_0x3aa7f0['id']+_0x2d19de(0x31e)+_0x3aa7f0['id']+_0x2d19de(0x53d))[_0x2d19de(0x28d)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x31f45d){const _0x491852=_0x3076df;if(!currentLiveGameId||!_0x31f45d)return;const _0x20107a=doc(db,_0x491852(0xaa1)+appId+_0x491852(0xaf6),currentLiveGameId),_0xf6ec7d={};_0xf6ec7d[_0x491852(0x5a2)+_0x31f45d+_0x491852(0xd0a)]=_0x491852(0x9b6);try{await updateDoc(_0x20107a,_0xf6ec7d);}catch(_0x5d2bd7){console[_0x491852(0x405)](_0x491852(0x2e9)+_0x31f45d+':',_0x5d2bd7),showMessage(_0x491852(0x7b1));}}async function authenticateUser(){const _0x46f59a=_0x3076df;try{typeof __initial_auth_token!==_0x46f59a(0xc13)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x1ed181){console['error'](_0x46f59a(0x664),_0x1ed181),showMessage(_0x46f59a(0x5ff));}}function showView(_0x1ffd1d){const _0x1faff6=_0x3076df;adminView[_0x1faff6(0xbbb)][_0x1faff6(0x49b)](_0x1faff6(0xc6c)),studentView[_0x1faff6(0xbbb)][_0x1faff6(0x49b)](_0x1faff6(0xc6c)),projectDashboardView[_0x1faff6(0xbbb)][_0x1faff6(0x49b)](_0x1faff6(0xc6c)),projectDetailView[_0x1faff6(0xbbb)]['add'](_0x1faff6(0xc6c)),quizResultsView[_0x1faff6(0xbbb)]['add']('hidden'),liveGameView[_0x1faff6(0xbbb)][_0x1faff6(0x49b)](_0x1faff6(0xc6c)),document[_0x1faff6(0x48d)](_0x1faff6(0x368))[_0x1faff6(0xbbb)][_0x1faff6(0x49b)](_0x1faff6(0xc6c)),studentInitialView['classList']['add']('hidden'),studentJoinGameView[_0x1faff6(0xbbb)][_0x1faff6(0x49b)](_0x1faff6(0xc6c)),studentNameSelectionView['classList'][_0x1faff6(0x49b)](_0x1faff6(0xc6c)),studentQuizArea[_0x1faff6(0xbbb)][_0x1faff6(0x49b)]('hidden'),studentResultArea['classList']['add'](_0x1faff6(0xc6c)),studentReadingArea['classList'][_0x1faff6(0x49b)](_0x1faff6(0xc6c));const _0x26cc56=document[_0x1faff6(0x48d)](_0x1faff6(0x29a)),_0x129ff7=document[_0x1faff6(0x48d)](_0x1faff6(0x2fc));if(_0x26cc56)_0x26cc56['classList'][_0x1faff6(0x49b)](_0x1faff6(0xc6c));if(_0x129ff7)_0x129ff7[_0x1faff6(0xbbb)][_0x1faff6(0x49b)]('hidden');switch(_0x1ffd1d){case'admin-dashboard':adminView['classList']['remove'](_0x1faff6(0xc6c)),projectDashboardView[_0x1faff6(0xbbb)][_0x1faff6(0xb7d)](_0x1faff6(0xc6c));break;case'project-detail':adminView[_0x1faff6(0xbbb)][_0x1faff6(0xb7d)](_0x1faff6(0xc6c)),projectDetailView['classList'][_0x1faff6(0xb7d)]('hidden');break;case _0x1faff6(0x614):adminView['classList'][_0x1faff6(0xb7d)]('hidden'),quizResultsView[_0x1faff6(0xbbb)][_0x1faff6(0xb7d)](_0x1faff6(0xc6c));break;case _0x1faff6(0x849):studentView[_0x1faff6(0xbbb)][_0x1faff6(0xb7d)](_0x1faff6(0xc6c)),studentInitialView[_0x1faff6(0xbbb)][_0x1faff6(0xb7d)](_0x1faff6(0xc6c));break;case _0x1faff6(0x3d8):liveGameView[_0x1faff6(0xbbb)][_0x1faff6(0xb7d)](_0x1faff6(0xc6c));break;case _0x1faff6(0x6e8):studentView[_0x1faff6(0xbbb)][_0x1faff6(0xb7d)](_0x1faff6(0xc6c));if(_0x26cc56)_0x26cc56[_0x1faff6(0xbbb)][_0x1faff6(0xb7d)](_0x1faff6(0xc6c));break;case _0x1faff6(0x652):studentView[_0x1faff6(0xbbb)][_0x1faff6(0xb7d)](_0x1faff6(0xc6c));if(_0x129ff7)_0x129ff7['classList']['remove']('hidden');break;default:studentView['classList']['remove']('hidden'),studentInitialView[_0x1faff6(0xbbb)]['remove'](_0x1faff6(0xc6c));break;}}function showJoinGameView(){const _0x2d71a5=_0x3076df;studentInitialView[_0x2d71a5(0xbbb)][_0x2d71a5(0x49b)](_0x2d71a5(0xc6c)),studentJoinGameView[_0x2d71a5(0xbbb)]['remove'](_0x2d71a5(0xc6c));}async function handleSaveVisibilitySettings(){const _0x21db21=_0x3076df;if(!currentProjectId)return;const _0x5eecd0=doc(db,_0x21db21(0xaa1)+appId+_0x21db21(0x8bc),currentProjectId);try{await updateDoc(_0x5eecd0,{'settings.showInStudentDashboard':document[_0x21db21(0x48d)](_0x21db21(0x534))[_0x21db21(0xb91)],'settings.isPasscodeEnabled':document['getElementById'](_0x21db21(0x4e2))[_0x21db21(0xb91)],'settings.passcode':document['getElementById']('project-passcode-input')[_0x21db21(0xaef)]['trim']()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x45e637){console[_0x21db21(0x405)](_0x21db21(0xba0),_0x45e637),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x6c5a29=_0x3076df,_0x518f2b=document[_0x6c5a29(0x48d)](_0x6c5a29(0x69e));_0x518f2b&&(_0x518f2b[_0x6c5a29(0x331)](_0x6c5a29(0x60f),wakeUpScreen),_0x518f2b[_0x6c5a29(0x331)](_0x6c5a29(0xc49),wakeUpScreen));document[_0x6c5a29(0x48d)]('save-bp-reference-btn')[_0x6c5a29(0x331)]('click',async()=>{const _0x58582d=_0x6c5a29;if(!currentBlueprintProjectId)return;const _0x373eeb=document[_0x58582d(0x48d)]('bp-reference-file-url')['value'][_0x58582d(0x7fe)](),_0x2fa815=doc(db,_0x58582d(0xaa1)+appId+_0x58582d(0xa8a),currentBlueprintProjectId);try{await updateDoc(_0x2fa815,{'referenceFileUrl':_0x373eeb}),showMessage(_0x58582d(0x540));}catch(_0x5bba4b){console[_0x58582d(0x405)](_0x58582d(0x1f6),_0x5bba4b),showMessage(_0x58582d(0xb90));}}),document['getElementById'](_0x6c5a29(0x448))[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleAddParallelShortcutTab),document[_0x6c5a29(0x48d)]('parallel-test-input-area')['addEventListener']('click',_0x4e0da4=>{const _0x1ae3b8=_0x6c5a29;_0x4e0da4[_0x1ae3b8(0x805)]['closest'](_0x1ae3b8(0x6fa))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document['getElementById'](_0x1ae3b8(0x3df))['classList'][_0x1ae3b8(0xb7d)](_0x1ae3b8(0xc6c)));}),document[_0x6c5a29(0x48d)](_0x6c5a29(0xc1e))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x3bf5ca=_0x6c5a29;document[_0x3bf5ca(0x48d)](_0x3bf5ca(0x3df))[_0x3bf5ca(0xbbb)][_0x3bf5ca(0x49b)](_0x3bf5ca(0xc6c));}),document[_0x6c5a29(0x331)](_0x6c5a29(0x623),_0x1fb69b=>{const _0x5da6e1=_0x6c5a29;!_0x1fb69b[_0x5da6e1(0x805)][_0x5da6e1(0x951)](_0x5da6e1(0x81b))&&document[_0x5da6e1(0x599)](_0x5da6e1(0x9a5))['forEach'](_0x1610c7=>_0x1610c7[_0x5da6e1(0xbbb)][_0x5da6e1(0x49b)](_0x5da6e1(0xc6c)));}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x376))[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleAddFileShortcutTab),document[_0x6c5a29(0x48d)](_0x6c5a29(0xcf7))[_0x6c5a29(0x331)]('click',_0x3bd22d=>{const _0x35c024=_0x6c5a29;_0x3bd22d[_0x35c024(0x805)][_0x35c024(0x951)](_0x35c024(0x224))&&(activeFileShortcutTabId=_0x35c024(0x6a5),renderAdditionalFileShortcutsModal(),document[_0x35c024(0x48d)](_0x35c024(0x2b6))[_0x35c024(0xbbb)]['remove']('hidden'));}),document['getElementById']('close-additional-file-shortcuts-btn')['addEventListener'](_0x6c5a29(0x623),()=>{const _0x43ba51=_0x6c5a29;document[_0x43ba51(0x48d)](_0x43ba51(0x2b6))['classList']['add'](_0x43ba51(0xc6c));}),document['addEventListener'](_0x6c5a29(0x623),_0x436973=>{const _0x51e934=_0x6c5a29;!_0x436973[_0x51e934(0x805)]['closest'](_0x51e934(0xb8e))&&document[_0x51e934(0x599)](_0x51e934(0xb55))[_0x51e934(0x9c9)](_0x4b0765=>_0x4b0765[_0x51e934(0xbbb)][_0x51e934(0x49b)]('hidden'));}),document[_0x6c5a29(0x48d)](_0x6c5a29(0xc66))[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleAddShortcutTab),document[_0x6c5a29(0x48d)](_0x6c5a29(0x2d1))['addEventListener'](_0x6c5a29(0x623),_0x165081=>{const _0xbe8a2=_0x6c5a29,_0x508a92=_0x165081[_0xbe8a2(0x805)][_0xbe8a2(0x951)](_0xbe8a2(0x863)),_0x3eeb45=_0x165081['target']['closest'](_0xbe8a2(0xa07)),_0x17c503=_0x165081[_0xbe8a2(0x805)]['closest'](_0xbe8a2(0x23e));if(_0x3eeb45)openParallelTestShortcutEditor(_0x3eeb45[_0xbe8a2(0x40c)]['id']);else{if(_0x17c503){const _0x10772f=_0x17c503[_0xbe8a2(0x40c)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x23f498=_0xbe8a2,_0x4a804a=parallelTestShortcuts[_0x23f498(0x475)](_0x564988=>_0x564988['id']!==_0x10772f),_0x3e45a4=doc(db,'globalSettings',_0x23f498(0x1ac));await setDoc(_0x3e45a4,{'shortcuts':_0x4a804a},{'merge':!![]});});}else _0x508a92&&handleParallelTestShortcutClick(_0x508a92['dataset']['id']);}}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x7de))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>openParallelTestShortcutEditor(null)),document[_0x6c5a29(0x48d)]('cancel-parallel-shortcut-edit-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x2adf8c=_0x6c5a29;document[_0x2adf8c(0x48d)]('parallel-shortcut-editor-modal')[_0x2adf8c(0xbbb)][_0x2adf8c(0x49b)]('hidden');}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x9cf))[_0x6c5a29(0x331)](_0x6c5a29(0x623),saveParallelTestShortcutChanges),document[_0x6c5a29(0x48d)]('parallel-test-input-area')['addEventListener'](_0x6c5a29(0x623),_0x4f71b6=>{const _0x3fbe69=_0x6c5a29;_0x4f71b6[_0x3fbe69(0x805)][_0x3fbe69(0x951)](_0x3fbe69(0x6fa))&&document[_0x3fbe69(0x48d)](_0x3fbe69(0x3df))[_0x3fbe69(0xbbb)][_0x3fbe69(0xb7d)]('hidden');}),document[_0x6c5a29(0x48d)](_0x6c5a29(0xc1e))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x4bf032=_0x6c5a29;document[_0x4bf032(0x48d)](_0x4bf032(0x3df))[_0x4bf032(0xbbb)][_0x4bf032(0x49b)](_0x4bf032(0xc6c));}),document['getElementById'](_0x6c5a29(0x7e7))[_0x6c5a29(0x331)](_0x6c5a29(0x623),_0x12455c=>{const _0x3c8789=_0x6c5a29,_0x4b33de=document[_0x3c8789(0x48d)](_0x3c8789(0x3df)),_0x1a086a=_0x12455c[_0x3c8789(0x805)][_0x3c8789(0x951)](_0x3c8789(0xaa0)),_0x31bdc3=_0x12455c[_0x3c8789(0x805)][_0x3c8789(0x951)]('.edit-hidden-parallel-shortcut-btn'),_0x11e9bb=_0x12455c['target'][_0x3c8789(0x951)](_0x3c8789(0x423));if(_0x1a086a)_0x4b33de[_0x3c8789(0xbbb)][_0x3c8789(0x49b)]('hidden'),handleParallelTestShortcutClick(_0x1a086a[_0x3c8789(0x40c)]['id']);else{if(_0x31bdc3)_0x4b33de['classList'][_0x3c8789(0x49b)]('hidden'),openParallelTestShortcutEditor(_0x31bdc3[_0x3c8789(0x40c)]['id']);else{if(_0x11e9bb){const _0x57b110=_0x11e9bb[_0x3c8789(0x40c)]['id'];showConfirmation(_0x3c8789(0x9c7),async()=>{const _0x5050af=_0x3c8789,_0xaf5f21=parallelTestShortcuts['filter'](_0x25eb06=>_0x25eb06['id']!==_0x57b110),_0x50de7a=doc(db,_0x5050af(0x3ae),_0x5050af(0x1ac));await setDoc(_0x50de7a,{'shortcuts':_0xaf5f21},{'merge':!![]});});}}}}),document['getElementById'](_0x6c5a29(0x446))[_0x6c5a29(0x331)]('click',_0x4c56f0=>{const _0x56da79=_0x6c5a29,_0x119449=_0x4c56f0['target'][_0x56da79(0x951)](_0x56da79(0x31a)),_0x1bc5eb=_0x4c56f0['target'][_0x56da79(0x951)]('.edit-file-shortcut-btn'),_0x706816=_0x4c56f0[_0x56da79(0x805)]['closest'](_0x56da79(0xa50));if(_0x1bc5eb)openFileShortcutEditor(_0x1bc5eb[_0x56da79(0x40c)]['id']);else{if(_0x706816){const _0x2c8ab0=_0x706816[_0x56da79(0x40c)]['id'];showConfirmation(_0x56da79(0x9c7),async()=>{const _0x3d3f49=_0x56da79,_0x1c3a52=fileShortcuts[_0x3d3f49(0x475)](_0x1dbe41=>_0x1dbe41['id']!==_0x2c8ab0),_0x10acc2=doc(db,_0x3d3f49(0x3ae),'fileShortcutsConfig');await setDoc(_0x10acc2,{'shortcuts':_0x1c3a52},{'merge':!![]});});}else _0x119449&&handleFileShortcutClick(_0x119449[_0x56da79(0x40c)]['id']);}}),document[_0x6c5a29(0x48d)](_0x6c5a29(0xbc4))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>openFileShortcutEditor(null)),document[_0x6c5a29(0x48d)](_0x6c5a29(0x618))[_0x6c5a29(0x331)]('click',()=>{const _0x1769cc=_0x6c5a29;document[_0x1769cc(0x48d)](_0x1769cc(0x3a8))[_0x1769cc(0xbbb)][_0x1769cc(0x49b)](_0x1769cc(0xc6c));}),document['getElementById']('save-file-shortcut-btn')[_0x6c5a29(0x331)]('click',saveFileShortcutChanges),document[_0x6c5a29(0x48d)]('file-input-area')[_0x6c5a29(0x331)](_0x6c5a29(0x623),_0x45d62d=>{const _0x9ddb5=_0x6c5a29;_0x45d62d['target']['closest'](_0x9ddb5(0x224))&&document[_0x9ddb5(0x48d)](_0x9ddb5(0x2b6))[_0x9ddb5(0xbbb)][_0x9ddb5(0xb7d)](_0x9ddb5(0xc6c));}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x9a6))['addEventListener']('click',()=>{const _0x3a0a98=_0x6c5a29;document[_0x3a0a98(0x48d)](_0x3a0a98(0x2b6))['classList']['add'](_0x3a0a98(0xc6c));}),document[_0x6c5a29(0x48d)](_0x6c5a29(0xd2b))[_0x6c5a29(0x331)](_0x6c5a29(0x623),_0x42ad73=>{const _0x2df081=_0x6c5a29,_0x4599be=document['getElementById'](_0x2df081(0x2b6)),_0xd30073=_0x42ad73[_0x2df081(0x805)][_0x2df081(0x951)](_0x2df081(0x7f3)),_0x5d9c1c=_0x42ad73[_0x2df081(0x805)]['closest'](_0x2df081(0x65f)),_0x4dd89f=_0x42ad73[_0x2df081(0x805)]['closest']('.delete-hidden-file-shortcut-btn');if(_0xd30073)_0x4599be['classList']['add']('hidden'),handleFileShortcutClick(_0xd30073[_0x2df081(0x40c)]['id']);else{if(_0x5d9c1c)_0x4599be[_0x2df081(0xbbb)][_0x2df081(0x49b)](_0x2df081(0xc6c)),openFileShortcutEditor(_0x5d9c1c[_0x2df081(0x40c)]['id']);else{if(_0x4dd89f){const _0x2feecb=_0x4dd89f[_0x2df081(0x40c)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x27456c=_0x2df081,_0x3751b8=fileShortcuts['filter'](_0x25bac2=>_0x25bac2['id']!==_0x2feecb),_0x40c364=doc(db,_0x27456c(0x3ae),_0x27456c(0x6cb));await setDoc(_0x40c364,{'shortcuts':_0x3751b8},{'merge':!![]});});}}}}),document['getElementById']('blueprint-input-area')['addEventListener'](_0x6c5a29(0x623),_0x282322=>{const _0x303de3=_0x6c5a29;_0x282322[_0x303de3(0x805)][_0x303de3(0x951)](_0x303de3(0x84a))&&(activeShortcutTabId=_0x303de3(0x6a5),renderAdditionalShortcutsModal(),document[_0x303de3(0x48d)](_0x303de3(0x4a6))['classList'][_0x303de3(0xb7d)](_0x303de3(0xc6c)));}),document[_0x6c5a29(0x48d)](_0x6c5a29(0xbcf))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x3e888a=_0x6c5a29;document[_0x3e888a(0x48d)]('additional-shortcuts-modal')[_0x3e888a(0xbbb)][_0x3e888a(0x49b)](_0x3e888a(0xc6c));}),document[_0x6c5a29(0x48d)]('additional-shortcuts-list')[_0x6c5a29(0x331)](_0x6c5a29(0x623),_0x41a1d5=>{const _0x18b459=_0x6c5a29,_0x3364a9=_0x41a1d5[_0x18b459(0x805)][_0x18b459(0x951)](_0x18b459(0x98b)),_0x2787ee=_0x41a1d5[_0x18b459(0x805)]['closest'](_0x18b459(0x7bc)),_0x440fc6=_0x41a1d5['target']['closest'](_0x18b459(0x3d4)),_0x22ae22=document[_0x18b459(0x48d)](_0x18b459(0x4a6));if(_0x3364a9)_0x22ae22[_0x18b459(0xbbb)]['add'](_0x18b459(0xc6c)),handleShortcutClick(_0x3364a9[_0x18b459(0x40c)]['id']);else{if(_0x2787ee)_0x22ae22['classList'][_0x18b459(0x49b)](_0x18b459(0xc6c)),openShortcutEditor(_0x2787ee[_0x18b459(0x40c)]['id']);else{if(_0x440fc6){const _0x28f585=_0x440fc6[_0x18b459(0x40c)]['id'],_0x43abbd=blueprintShortcuts[_0x18b459(0xcf4)](_0x1d9749=>_0x1d9749['id']===_0x28f585)?.[_0x18b459(0x774)];showConfirmation(_0x18b459(0x68d)+_0x43abbd+'\x22?',async()=>{const _0x307105=_0x18b459,_0x5edf87=blueprintShortcuts[_0x307105(0x475)](_0x481553=>_0x481553['id']!==_0x28f585);try{const _0x485e7e=doc(db,_0x307105(0x3ae),_0x307105(0x68b));await setDoc(_0x485e7e,{'blueprintShortcuts':_0x5edf87},{'merge':!![]});}catch(_0xcc6fb7){console[_0x307105(0x405)](_0x307105(0x3f7),_0xcc6fb7);}});}}}}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x264))[_0x6c5a29(0x331)](_0x6c5a29(0x623),_0x476e7b=>{const _0x168cb4=_0x6c5a29,_0x5a1736=_0x476e7b[_0x168cb4(0x805)][_0x168cb4(0x951)]('.shortcut-btn'),_0x1c6904=_0x476e7b[_0x168cb4(0x805)]['closest']('.edit-shortcut-btn'),_0x59c330=_0x476e7b['target']['closest'](_0x168cb4(0xbe3));if(_0x1c6904)openShortcutEditor(_0x1c6904[_0x168cb4(0x40c)]['id']);else{if(_0x59c330){const _0x598a41=_0x59c330[_0x168cb4(0x40c)]['id'],_0x2eb3dc=blueprintShortcuts[_0x168cb4(0xcf4)](_0x55f392=>_0x55f392['id']===_0x598a41)?.[_0x168cb4(0x774)];showConfirmation(_0x168cb4(0x68d)+_0x2eb3dc+'\x22?',async()=>{const _0x350606=_0x168cb4,_0x317ceb=blueprintShortcuts['filter'](_0x312158=>_0x312158['id']!==_0x598a41);try{const _0x208eea=doc(db,_0x350606(0x3ae),'dashboardConfig');await setDoc(_0x208eea,{'blueprintShortcuts':_0x317ceb},{'merge':!![]});}catch(_0x15ba4a){console[_0x350606(0x405)](_0x350606(0x3f7),_0x15ba4a);}});}else _0x5a1736&&handleShortcutClick(_0x5a1736[_0x168cb4(0x40c)]['id']);}}),document[_0x6c5a29(0x48d)](_0x6c5a29(0xaae))['addEventListener']('click',()=>openShortcutEditor(null)),document['getElementById'](_0x6c5a29(0x58e))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x469b47=_0x6c5a29;document['getElementById'](_0x469b47(0x439))[_0x469b47(0xbbb)][_0x469b47(0x49b)](_0x469b47(0xc6c));}),document['getElementById'](_0x6c5a29(0x958))['addEventListener']('click',saveShortcutChanges),document['getElementById'](_0x6c5a29(0x8e3))['addEventListener'](_0x6c5a29(0x623),async()=>{const _0x320fea=_0x6c5a29,_0x374259=document[_0x320fea(0x48d)](_0x320fea(0xcbc)),_0x28d444=document[_0x320fea(0x48d)](_0x320fea(0x9e5));_0x374259['files'][_0x320fea(0x3b0)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x374259[_0x320fea(0x7c7)][0x0],_0x28d444[_0x320fea(0x7c7)][0x0]||null):showMessage(_0x320fea(0xa63));}),document['getElementById'](_0x6c5a29(0x7eb))[_0x6c5a29(0x331)]('click',async _0x4c140f=>{const _0x25103e=_0x6c5a29,_0x3ee49c=document[_0x25103e(0x48d)](_0x25103e(0x7eb)),_0x4889eb=_0x4c140f[_0x25103e(0x805)][_0x25103e(0x951)](_0x25103e(0x7e0)),_0x6b4169=_0x4c140f[_0x25103e(0x805)]['closest'](_0x25103e(0xcf3)),_0x14d86d=_0x4c140f[_0x25103e(0x805)][_0x25103e(0x951)](_0x25103e(0x25f)),_0x4883ae=_0x4c140f[_0x25103e(0x805)][_0x25103e(0x951)](_0x25103e(0x93e)),_0x3ea4f9=_0x4c140f[_0x25103e(0x805)]['closest'](_0x25103e(0x8b3)),_0x487e59=_0x4c140f[_0x25103e(0x805)]['closest'](_0x25103e(0x643));if(_0x4889eb){cameFromBlueprint=!![];const _0x72449=_0x4889eb[_0x25103e(0x40c)][_0x25103e(0xccd)];showQuizDetailView(_0x72449),_0x3ee49c['classList']['add'](_0x25103e(0xc6c));}else{if(_0x6b4169){const _0x8b8e75=_0x6b4169[_0x25103e(0x40c)][_0x25103e(0xb12)],_0x1742f6=_0x6b4169[_0x25103e(0x40c)]['quizId'],_0x47b2a7=allQuizzesGlobal[_0x25103e(0xcf4)](_0x48896b=>_0x48896b['id']===_0x1742f6),_0x2e5e68=_0x47b2a7?_0x47b2a7[_0x25103e(0x6a9)]:_0x25103e(0x442);showConfirmation(_0x25103e(0xd23)+_0x2e5e68+_0x25103e(0x821),async()=>{const _0x3cd12a=_0x25103e;try{const _0x283c5b=doc(db,'artifacts/'+appId+_0x3cd12a(0xa8a),currentBlueprintProjectId);await updateDoc(_0x283c5b,{[_0x3cd12a(0x1cd)+_0x8b8e75+_0x3cd12a(0x1b5)]:arrayRemove(_0x1742f6)}),showMessage(_0x3cd12a(0x516)),openTopicQuizBank(_0x8b8e75),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xe1aa8c){console[_0x3cd12a(0x405)](_0x3cd12a(0xca0),_0xe1aa8c),showMessage(_0x3cd12a(0x482));}});}else{if(_0x14d86d){cameFromBlueprint=!![];const _0x54f8e5=_0x14d86d[_0x25103e(0x40c)][_0x25103e(0xccd)],_0x1356d7=allQuizzesGlobal[_0x25103e(0xcf4)](_0x4540e5=>_0x4540e5['id']===_0x54f8e5);_0x1356d7&&(startPresentation(_0x1356d7),_0x3ee49c[_0x25103e(0xbbb)][_0x25103e(0x49b)](_0x25103e(0xc6c)));}else{if(_0x4883ae){cameFromBlueprint=!![];const _0x5683d2=_0x4883ae[_0x25103e(0x40c)][_0x25103e(0xccd)],_0x21e222=allQuizzesGlobal[_0x25103e(0xcf4)](_0x25f4d7=>_0x25f4d7['id']===_0x5683d2);_0x21e222&&(currentQuizData=_0x21e222,startAdminTest(),_0x3ee49c[_0x25103e(0xbbb)]['add'](_0x25103e(0xc6c)));}else{if(_0x3ea4f9)cameFromBlueprint=!![],handleStartLiveRace(_0x3ea4f9[_0x25103e(0x40c)][_0x25103e(0xccd)]),_0x3ee49c[_0x25103e(0xbbb)][_0x25103e(0x49b)](_0x25103e(0xc6c));else{if(_0x487e59){cameFromBlueprint=!![];const _0x53facb=_0x487e59[_0x25103e(0x40c)][_0x25103e(0xccd)],_0x1dd4d6=_0x487e59[_0x25103e(0x40c)][_0x25103e(0x852)],_0x120561=allQuizzesGlobal[_0x25103e(0xcf4)](_0x5d79c6=>_0x5d79c6['id']===_0x53facb);_0x120561&&(showGameStartConfirmationModal(_0x53facb,_0x1dd4d6,_0x120561[_0x25103e(0x6a9)]),_0x3ee49c[_0x25103e(0xbbb)][_0x25103e(0x49b)](_0x25103e(0xc6c)));}}}}}}}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x7b6))[_0x6c5a29(0x331)]('click',()=>{const _0x108fec=_0x6c5a29;document[_0x108fec(0x48d)](_0x108fec(0x509))[_0x108fec(0xbbb)]['remove']('hidden'),document[_0x108fec(0x48d)](_0x108fec(0xb22))['value']='',document['getElementById'](_0x108fec(0x993))[_0x108fec(0xaef)]='',document[_0x108fec(0x48d)](_0x108fec(0xcfd))[_0x108fec(0xaef)]='';}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x956))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x1d3373=_0x6c5a29;document['getElementById']('manual-blueprint-modal')[_0x1d3373(0xbbb)][_0x1d3373(0x49b)](_0x1d3373(0xc6c));}),document[_0x6c5a29(0x48d)](_0x6c5a29(0xb37))[_0x6c5a29(0x331)]('click',handleManualBlueprintSave),document[_0x6c5a29(0x48d)](_0x6c5a29(0x7f8))[_0x6c5a29(0x331)]('click',()=>document[_0x6c5a29(0x48d)]('blueprint-settings-modal')[_0x6c5a29(0xbbb)]['add'](_0x6c5a29(0xc6c))),document[_0x6c5a29(0x48d)]('save-bp-settings-btn')[_0x6c5a29(0x331)]('click',handleSaveBlueprintPageSettings),document[_0x6c5a29(0x48d)]('bp-quiz-settings-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),openBlueprintQuizSettings),document[_0x6c5a29(0x48d)]('save-blueprint-as-project-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),saveBlueprintProject),document[_0x6c5a29(0x48d)]('open-blueprint-projects-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),showBlueprintProjects),document[_0x6c5a29(0x48d)](_0x6c5a29(0x49d))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{document['getElementById']('blueprint-projects-modal')['classList']['add']('hidden');}),document['getElementById'](_0x6c5a29(0x865))[_0x6c5a29(0x331)](_0x6c5a29(0x623),_0x472674=>{const _0x244de6=_0x6c5a29,_0x344e3b=_0x472674['target']['closest'](_0x244de6(0x978)),_0x170a88=_0x472674[_0x244de6(0x805)][_0x244de6(0x951)](_0x244de6(0xc3a));if(_0x344e3b)displayBlueprintProjectManager(_0x344e3b['dataset']['id']);else _0x170a88&&handleDeepDeleteBlueprintProject(_0x170a88[_0x244de6(0x40c)]['id']);}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x231))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x4e9150=_0x6c5a29;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById']('blueprint-project-manager-view')[_0x4e9150(0xbbb)][_0x4e9150(0x49b)](_0x4e9150(0xc6c)),showView(_0x4e9150(0xa60));}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x764))[_0x6c5a29(0x331)](_0x6c5a29(0x623),addTopicToProject),document['getElementById']('bp-topic-list-container')[_0x6c5a29(0x331)](_0x6c5a29(0x623),async _0x3ccf4d=>{const _0x301fa5=_0x6c5a29,_0x58678d=_0x3ccf4d[_0x301fa5(0x805)][_0x301fa5(0x951)](_0x301fa5(0x52e));if(!_0x58678d)return;const _0x3e205a=_0x58678d[_0x301fa5(0x40c)][_0x301fa5(0xb12)],_0x3e8d3e=_0x3ccf4d[_0x301fa5(0x805)][_0x301fa5(0x951)](_0x301fa5(0x99b)),_0xafa600=_0x3ccf4d[_0x301fa5(0x805)][_0x301fa5(0x951)]('.bp-create-content-quiz-btn'),_0x1fb0cb=_0x3ccf4d[_0x301fa5(0x805)][_0x301fa5(0x951)](_0x301fa5(0xba1)),_0x3079d1=_0x3ccf4d[_0x301fa5(0x805)][_0x301fa5(0x951)](_0x301fa5(0x389)),_0x4d2c95=_0x3ccf4d['target']['closest'](_0x301fa5(0x88b)),_0x458223=_0x3ccf4d[_0x301fa5(0x805)][_0x301fa5(0x951)]('.bp-generate-lesson-btn'),_0x3713c7=_0x3ccf4d['target'][_0x301fa5(0x951)](_0x301fa5(0xad4)),_0x471d22=_0x3ccf4d['target']['closest'](_0x301fa5(0x63c)),_0x57f41f=_0x21ab35=>{const _0x4e9d54=_0x301fa5,_0x86abe3=_0x21ab35[_0x4e9d54(0x381)]('[data-field=\x22subTopic\x22]')[_0x4e9d54(0x9ea)][_0x4e9d54(0x7fe)](),_0x22dc2d=_0x21ab35[_0x4e9d54(0x951)](_0x4e9d54(0x29f))[_0x4e9d54(0x7f7)],_0xdf582f=_0x22dc2d?_0x22dc2d[_0x4e9d54(0x9ea)][_0x4e9d54(0x7fe)]():'';return _0xdf582f+':\x20'+_0x86abe3;};if(_0x3079d1)openTopicQuizBank(_0x3e205a);else{if(_0x3e8d3e){const _0x1566ef=_0x57f41f(_0x58678d);selectProjectAndGenerateBlueprintQuiz(_0x1566ef,null,_0x3e205a,!![]);}else{if(_0xafa600){const _0x2c84b6=_0x57f41f(_0x58678d);try{const _0x4786b5=doc(db,'artifacts/'+appId+_0x301fa5(0xb4e)+currentBlueprintProjectId+_0x301fa5(0xc00),_0x3e205a),_0xa02cc9=await getDoc(_0x4786b5);if(_0xa02cc9['exists']()){const _0x62ac22=_0xa02cc9[_0x301fa5(0x995)]()['content'],_0x41936a=document[_0x301fa5(0x2b7)]('div'),_0x493a50=_0x15e79d=>{const _0x3a4d51=_0x301fa5;if(!_0x15e79d)return'';return _0x41936a[_0x3a4d51(0x9c8)]=_0x15e79d,_0x41936a[_0x3a4d51(0x9ea)]||_0x41936a[_0x3a4d51(0x271)]||'';},_0x156377=(_0x493a50(_0x62ac22[_0x301fa5(0xb3f)])+'\x20'+_0x493a50(_0x62ac22[_0x301fa5(0x3e1)])+'\x20'+_0x493a50(_0x62ac22[_0x301fa5(0xb97)]))[_0x301fa5(0x7fe)]();selectProjectAndGenerateBlueprintQuiz(_0x2c84b6,_0x156377,_0x3e205a,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x4267db){console[_0x301fa5(0x405)](_0x301fa5(0x9f6),_0x4267db),showMessage(_0x301fa5(0xa1c));}}else{if(_0x1fb0cb){const _0x38c642=_0x57f41f(_0x58678d);selectProjectAndGenerateBlueprintQuiz(_0x38c642,null,_0x3e205a,![]);}else{if(_0x4d2c95){const _0x4038c0=doc(db,_0x301fa5(0xaa1)+appId+_0x301fa5(0xa8a),currentBlueprintProjectId),_0x37e64d=await getDoc(_0x4038c0);if(_0x37e64d[_0x301fa5(0x6b3)]()){const _0x3f9300=_0x37e64d[_0x301fa5(0x995)](),_0x4791a9=_0x3f9300[_0x301fa5(0x3ef)][_0x3e205a];if(_0x4791a9&&_0x4791a9[_0x301fa5(0x732)]===_0x301fa5(0x497))try{const _0x5e3d83=doc(db,_0x301fa5(0xaa1)+appId+_0x301fa5(0xb4e)+currentBlueprintProjectId+_0x301fa5(0xc00),_0x3e205a),_0x3c6c3f=await getDoc(_0x5e3d83);if(_0x3c6c3f[_0x301fa5(0x6b3)]()){const _0x4fe399=_0x3c6c3f[_0x301fa5(0x995)]()[_0x301fa5(0x7cf)];document['getElementById'](_0x301fa5(0x4f3))[_0x301fa5(0x9ea)]='บทเรียนเรื่อง:\x20'+_0x57f41f(_0x58678d),document[_0x301fa5(0x48d)]('pointContent')[_0x301fa5(0x9c8)]=_0x4fe399['point'],document[_0x301fa5(0x48d)](_0x301fa5(0xb21))[_0x301fa5(0x9c8)]=_0x4fe399[_0x301fa5(0x3e1)],document[_0x301fa5(0x48d)](_0x301fa5(0x970))['innerHTML']=_0x4fe399[_0x301fa5(0xb97)];const _0x361852=document[_0x301fa5(0x48d)](_0x301fa5(0x1d0));_0x4fe399[_0x301fa5(0xbd8)]?(currentApplicationData=_0x4fe399[_0x301fa5(0xbd8)],_0x361852[_0x301fa5(0x9c8)]=currentApplicationData['map']((_0x3131fa,_0x156608)=>'<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>'+(_0x156608+0x1)+'.\x20'+marked[_0x301fa5(0x750)](_0x3131fa[_0x301fa5(0x41d)])+_0x301fa5(0x924)+_0x156608+_0x301fa5(0xa22)+_0x3131fa[_0x301fa5(0x7ce)][_0x301fa5(0x3c9)]((_0x99cdc7,_0x507b2b)=>_0x301fa5(0x6de)+_0x156608+',\x20'+_0x507b2b+_0x301fa5(0x714)+String[_0x301fa5(0x77b)](0x61+_0x507b2b)+'.\x20'+marked['parseInline'](_0x99cdc7)+_0x301fa5(0xc58))[_0x301fa5(0x28d)]('')+_0x301fa5(0x5c0))[_0x301fa5(0x28d)]('')):(currentApplicationData=[],_0x361852[_0x301fa5(0x9c8)]=_0x4fe399[_0x301fa5(0x771)]||_0x4fe399[_0x301fa5(0xb46)]),document[_0x301fa5(0x48d)](_0x301fa5(0x908))[_0x301fa5(0xbbb)]['add'](_0x301fa5(0xc6c)),document['getElementById'](_0x301fa5(0x1c7))[_0x301fa5(0xbbb)][_0x301fa5(0xb7d)](_0x301fa5(0xc6c)),document[_0x301fa5(0x48d)](_0x301fa5(0x48a))[_0x301fa5(0xbbb)]['remove'](_0x301fa5(0xc6c)),window[_0x301fa5(0x278)]&&MathJax[_0x301fa5(0x73c)]([document['getElementById'](_0x301fa5(0x435))]);}else showMessage(_0x301fa5(0x845));}catch(_0x27e88c){console['error'](_0x301fa5(0x8ff),_0x27e88c),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage(_0x301fa5(0x9c3));}}else{if(_0x458223){const _0x522464=_0x57f41f(_0x58678d),_0x180ca6=doc(db,'artifacts/'+appId+_0x301fa5(0xa8a),currentBlueprintProjectId),_0x152833=await getDoc(_0x180ca6);if(_0x152833[_0x301fa5(0x6b3)]()){const _0x389235=_0x152833[_0x301fa5(0x995)]();generateAndSaveLessonForBlueprint(_0x3e205a,_0x522464,_0x389235['gradeLevel']);}}else{if(_0x3713c7)editTopicInProject(_0x3e205a);else _0x471d22&&deleteTopicFromProject(_0x3e205a);}}}}}}}),document[_0x6c5a29(0x48d)]('fix-lesson-latex-btn')[_0x6c5a29(0x331)]('click',handleFixLessonLatex),document[_0x6c5a29(0x48d)](_0x6c5a29(0x5c8))[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleExportLessonToPDF),document[_0x6c5a29(0x48d)]('close-lesson-view-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x22a406=_0x6c5a29;document[_0x22a406(0x48d)](_0x22a406(0x48a))[_0x22a406(0xbbb)]['add']('hidden');});const _0x3c8a70=document[_0x6c5a29(0x48d)](_0x6c5a29(0x68f)),_0xd53f7e=document[_0x6c5a29(0x48d)](_0x6c5a29(0x82c));_0x3c8a70[_0x6c5a29(0x331)](_0x6c5a29(0x34f),()=>{const _0x10175f=_0x6c5a29;_0xd53f7e[_0x10175f(0xbbb)][_0x10175f(0x1b8)](_0x10175f(0xc6c),!_0x3c8a70['checked']);});const _0x382825=document[_0x6c5a29(0x48d)]('confidence-scoring-checkbox'),_0x342e68=document[_0x6c5a29(0x48d)]('confidence-mode-container');_0x382825['addEventListener'](_0x6c5a29(0x34f),()=>{const _0x5a5dd0=_0x6c5a29;_0x342e68['classList'][_0x5a5dd0(0x1b8)]('hidden',!_0x382825[_0x5a5dd0(0xb91)]);});const _0x2f0ff4=document['getElementById'](_0x6c5a29(0xab3)),_0x16a467=document[_0x6c5a29(0x48d)]('modal-confidence-mode-container');_0x2f0ff4['addEventListener'](_0x6c5a29(0x34f),()=>{const _0x5c0b68=_0x6c5a29;_0x16a467[_0x5c0b68(0xbbb)][_0x5c0b68(0x1b8)]('hidden',!_0x2f0ff4[_0x5c0b68(0xb91)]);});const _0x55b087=document['getElementById']('confidence-modal'),_0x1d9c32=async _0x5ef64e=>{const _0x366678=_0x6c5a29,_0x2246d2=document[_0x366678(0x48d)](_0x366678(0x8c5)),_0x3240a5=_0x2246d2[_0x366678(0x40c)][_0x366678(0x479)],_0x18738f=document[_0x366678(0x48d)](_0x366678(0x579));_0x2246d2['classList'][_0x366678(0x49b)](_0x366678(0xc6c));if(_0x3240a5==='timed'){const _0x2d9ec7=_0x18738f[_0x366678(0xaef)],_0x833485={'answer':_0x2d9ec7,'wasConfident':_0x5ef64e};proceedToNextQuestion(_0x833485);}else{if(_0x3240a5===_0x366678(0xc90)){const _0x4c3dbc=_0x18738f['dataset'][_0x366678(0xa48)],_0x349c3d=JSON['parse'](_0x18738f['dataset'][_0x366678(0x41d)]),_0x3c1bf=JSON['parse'](_0x18738f[_0x366678(0x40c)]['gameData']),_0x4ff7cb=_0x18738f[_0x366678(0x40c)]['playerName'];handleSyncAnswerSubmit(_0x4c3dbc,_0x349c3d,_0x3c1bf,_0x4ff7cb,_0x5ef64e);}}_0x2246d2[_0x366678(0x40c)][_0x366678(0x479)]='';};document[_0x6c5a29(0x48d)](_0x6c5a29(0xa49))[_0x6c5a29(0x331)]('click',()=>_0x1d9c32(!![])),document['getElementById'](_0x6c5a29(0x396))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>_0x1d9c32(![])),liveGameView[_0x6c5a29(0x331)](_0x6c5a29(0x623),_0x5e1b5a=>{const _0x1ef598=_0x6c5a29,_0x36ea61=_0x5e1b5a[_0x1ef598(0x805)][_0x1ef598(0x951)]('.kick-player-btn-sync');if(_0x36ea61){const _0x435499=_0x36ea61[_0x1ef598(0x40c)]['playerName'];_0x435499&&handleKickPlayerSync(_0x435499);}});const _0x407cf1=document[_0x6c5a29(0x48d)](_0x6c5a29(0x21c)),_0x2d1877=document[_0x6c5a29(0x48d)](_0x6c5a29(0x2f1));_0x2d1877[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x4a41b3=_0x6c5a29;document[_0x4a41b3(0x48d)](_0x4a41b3(0x2c9))[_0x4a41b3(0xbbb)]['add'](_0x4a41b3(0xc6c));}),_0x407cf1[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x54c486=_0x6c5a29,_0x35c765=document['getElementById'](_0x54c486(0x2ad))[_0x54c486(0xaef)],_0x1344e3=document[_0x54c486(0x48d)](_0x54c486(0xc46))[_0x54c486(0xaef)],_0x526c5f=document[_0x54c486(0x48d)](_0x54c486(0x243))[_0x54c486(0xb91)];document[_0x54c486(0x48d)](_0x54c486(0x2c9))[_0x54c486(0xbbb)][_0x54c486(0x49b)](_0x54c486(0xc6c));switch(_0x1344e3){case'live-race':handleStartLiveRace(_0x35c765,_0x526c5f);break;case _0x54c486(0x8c0):handleStartTeamQuiz(_0x35c765,_0x526c5f);break;case _0x54c486(0x4df):handleStartGroupMode(_0x35c765,_0x526c5f);break;case'sync':handleStartSyncMode(_0x35c765,_0x526c5f);break;}}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x23a))[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleJoinGroupActivity),liveGameView[_0x6c5a29(0x331)](_0x6c5a29(0x623),_0x5e9a52=>{const _0x8f78d1=_0x6c5a29,_0x94b2eb=_0x5e9a52['target'][_0x8f78d1(0x951)](_0x8f78d1(0x1db));document[_0x8f78d1(0x599)](_0x8f78d1(0x6fb))[_0x8f78d1(0x9c9)](_0x521d1c=>{const _0x581855=_0x8f78d1;(!_0x94b2eb||_0x521d1c['id']!==_0x94b2eb[_0x581855(0x40c)][_0x581855(0x901)])&&_0x521d1c[_0x581855(0xbbb)][_0x581855(0xb7d)](_0x581855(0xc23));});if(!_0x94b2eb)return;const _0x3f25f7=_0x94b2eb[_0x8f78d1(0x40c)][_0x8f78d1(0x901)],_0xe52144=document[_0x8f78d1(0x48d)](_0x3f25f7);_0xe52144&&_0xe52144[_0x8f78d1(0xbbb)][_0x8f78d1(0x1b8)](_0x8f78d1(0xc23));}),liveGameView[_0x6c5a29(0x331)](_0x6c5a29(0x623),_0x1e5c73=>{const _0x144689=_0x6c5a29;if(_0x1e5c73[_0x144689(0x805)][_0x144689(0xbbb)][_0x144689(0x477)](_0x144689(0x26e))){const _0x129ea2=_0x1e5c73[_0x144689(0x805)][_0x144689(0x40c)][_0x144689(0x86d)];_0x129ea2&&handleKickPlayer(_0x129ea2);}}),document[_0x6c5a29(0x48d)](_0x6c5a29(0xaff))[_0x6c5a29(0x331)](_0x6c5a29(0x2b1),()=>document[_0x6c5a29(0x48d)]('save-project-name-btn')[_0x6c5a29(0xbbb)][_0x6c5a29(0xb7d)](_0x6c5a29(0xc6c))),document[_0x6c5a29(0x48d)]('save-project-name-btn')['addEventListener'](_0x6c5a29(0x623),handleSaveProjectName),document[_0x6c5a29(0x48d)](_0x6c5a29(0xaff))['addEventListener'](_0x6c5a29(0x3ce),_0x575955=>{const _0x2b84b4=_0x6c5a29;_0x575955[_0x2b84b4(0x5f2)]==='Enter'&&(_0x575955[_0x2b84b4(0x512)](),_0x575955[_0x2b84b4(0x805)][_0x2b84b4(0xc81)](),handleSaveProjectName());}),document['getElementById'](_0x6c5a29(0x218))['addEventListener'](_0x6c5a29(0x623),()=>{const _0xd80d6=_0x6c5a29;document['getElementById'](_0xd80d6(0x981))[_0xd80d6(0xbbb)][_0xd80d6(0xb7d)](_0xd80d6(0xc6c));}),document[_0x6c5a29(0x48d)]('cancel-bulk-quiz-settings-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x5be43c=_0x6c5a29;document[_0x5be43c(0x48d)](_0x5be43c(0x981))[_0x5be43c(0xbbb)][_0x5be43c(0x49b)]('hidden');}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x555))[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleBulkUpdateQuizSettings),document[_0x6c5a29(0x48d)](_0x6c5a29(0xc2e))[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleModeSwitch),document[_0x6c5a29(0x48d)](_0x6c5a29(0x335))[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleUpdateOldQuizzes),document[_0x6c5a29(0x48d)](_0x6c5a29(0xa96))['addEventListener'](_0x6c5a29(0x623),handleResetProjectOrder),document[_0x6c5a29(0x48d)](_0x6c5a29(0x7d3))[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleSaveVisibilitySettings),document[_0x6c5a29(0x48d)](_0x6c5a29(0x354))[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleAddCustomMathTopic),document['getElementById'](_0x6c5a29(0x761))[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleSelectAllTopics),document[_0x6c5a29(0x48d)](_0x6c5a29(0xcd6))[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleDeselectAllTopics),document[_0x6c5a29(0x48d)]('back-to-dashboard-btn')['addEventListener']('click',()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x83a))[_0x6c5a29(0x331)]('click',()=>{const _0x206071=_0x6c5a29;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x206071(0x58d));}}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x8f6))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{showView('admin-dashboard');}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x1bd))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x45d579=_0x6c5a29;messageModal[_0x45d579(0xbbb)]['add'](_0x45d579(0xc6c)),typeof modalConfirmAction===_0x45d579(0x4e1)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x6c5a29(0x48d)]('create-project-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>createProjectModal['classList'][_0x6c5a29(0xb7d)](_0x6c5a29(0xc6c))),document[_0x6c5a29(0x48d)]('cancel-create-project-btn')['addEventListener']('click',()=>createProjectModal[_0x6c5a29(0xbbb)][_0x6c5a29(0x49b)](_0x6c5a29(0xc6c))),document['getElementById']('cancel-admin-login-btn')['addEventListener'](_0x6c5a29(0x623),()=>adminPasswordModal[_0x6c5a29(0xbbb)][_0x6c5a29(0x49b)]('hidden')),document[_0x6c5a29(0x48d)]('confirm-admin-login-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleAdminLogin),document[_0x6c5a29(0x48d)](_0x6c5a29(0xa26))['addEventListener'](_0x6c5a29(0x61f),_0x4cbc5f=>{const _0x16f1bb=_0x6c5a29;if(_0x4cbc5f[_0x16f1bb(0x5f2)]===_0x16f1bb(0x1c2))handleAdminLogin();}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x3ba))[_0x6c5a29(0x331)]('click',()=>{const _0x2f5277=_0x6c5a29;confirmationModal['classList']['add'](_0x2f5277(0xc6c)),confirmAction=null;}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x3d1))[_0x6c5a29(0x331)]('click',()=>{const _0x417950=_0x6c5a29;confirmAction&&confirmAction(),confirmationModal[_0x417950(0xbbb)][_0x417950(0x49b)](_0x417950(0xc6c)),confirmAction=null;}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x669))['addEventListener']('click',()=>renameQuizModal['classList'][_0x6c5a29(0x49b)](_0x6c5a29(0xc6c))),document[_0x6c5a29(0x48d)](_0x6c5a29(0xc7d))[_0x6c5a29(0x331)](_0x6c5a29(0x623),confirmRenameQuiz),document[_0x6c5a29(0x48d)]('cancel-move-quiz-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>moveQuizModal[_0x6c5a29(0xbbb)][_0x6c5a29(0x49b)](_0x6c5a29(0xc6c))),document[_0x6c5a29(0x48d)](_0x6c5a29(0x22f))[_0x6c5a29(0x331)]('click',confirmMoveQuiz),document[_0x6c5a29(0x48d)]('cancel-quiz-settings-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>quizSettingsModal[_0x6c5a29(0xbbb)]['add'](_0x6c5a29(0xc6c))),document[_0x6c5a29(0x48d)](_0x6c5a29(0xc95))['addEventListener'](_0x6c5a29(0x623),confirmQuizSettings),document['getElementById'](_0x6c5a29(0x1ca))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>quizStatusModal['classList'][_0x6c5a29(0x49b)](_0x6c5a29(0xc6c))),document['getElementById'](_0x6c5a29(0x202))[_0x6c5a29(0x331)](_0x6c5a29(0x623),confirmQuizStatus);const _0x1bec8b=document[_0x6c5a29(0x48d)](_0x6c5a29(0x744));document['getElementById']('cancel-export-pdf-btn')['addEventListener'](_0x6c5a29(0x623),()=>{const _0x289749=_0x6c5a29;_0x1bec8b['classList'][_0x289749(0x49b)](_0x289749(0xc6c));}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x961))[_0x6c5a29(0x331)]('click',async()=>{const _0x52b6f6=_0x6c5a29,_0x210bb3=allQuizzes[_0x52b6f6(0xcf4)](_0xbd2b41=>_0xbd2b41['id']===actionTargetId);_0x210bb3?(currentQuizData=_0x210bb3,exportQuizAsWorksheetPDF()):showMessage(_0x52b6f6(0xbe2)),_0x1bec8b['classList'][_0x52b6f6(0x49b)](_0x52b6f6(0xc6c));}),document['getElementById'](_0x6c5a29(0xafe))['addEventListener'](_0x6c5a29(0x623),async()=>{const _0x5171ad=_0x6c5a29,_0x1d1cc8=allQuizzes[_0x5171ad(0xcf4)](_0xd98a1c=>_0xd98a1c['id']===actionTargetId);_0x1d1cc8?(currentQuizData=_0x1d1cc8,exportQuizAsTutorPDF()):showMessage(_0x5171ad(0xbe2)),_0x1bec8b[_0x5171ad(0xbbb)][_0x5171ad(0x49b)](_0x5171ad(0xc6c));});const _0x2b3f3a=document[_0x6c5a29(0x48d)](_0x6c5a29(0xc6e));_0x2b3f3a['innerHTML']=_0x6c5a29(0xc5a),_0x2b3f3a[_0x6c5a29(0x331)]('click',openGlobalActivityModal),document[_0x6c5a29(0x48d)](_0x6c5a29(0xba5))['addEventListener'](_0x6c5a29(0x623),()=>{const _0x449ced=_0x6c5a29;document[_0x449ced(0x48d)](_0x449ced(0xa80))['classList'][_0x449ced(0x49b)]('hidden');}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x6e4))[_0x6c5a29(0x331)](_0x6c5a29(0x6c3),_0x50cdd2=>{const _0x419307=_0x6c5a29;renderGlobalActivityList(_0x50cdd2[_0x419307(0x805)][_0x419307(0xaef)]);}),document[_0x6c5a29(0x48d)]('global-activity-quiz-list')[_0x6c5a29(0x331)](_0x6c5a29(0x623),_0x18294d=>{const _0x3cba4a=_0x6c5a29,_0x4b6c1d=_0x18294d[_0x3cba4a(0x805)][_0x3cba4a(0x951)](_0x3cba4a(0x355));if(!_0x4b6c1d)return;const _0x4baa6c=_0x4b6c1d[_0x3cba4a(0x40c)]['id'],_0x1b037c=_0x4b6c1d[_0x3cba4a(0x40c)][_0x3cba4a(0x852)],_0x25c7d1=allQuizzesGlobal[_0x3cba4a(0xcf4)](_0x19c2ff=>_0x19c2ff['id']===_0x4baa6c);_0x25c7d1&&(document[_0x3cba4a(0x48d)](_0x3cba4a(0xa80))[_0x3cba4a(0xbbb)][_0x3cba4a(0x49b)](_0x3cba4a(0xc6c)),_0x1b037c===_0x3cba4a(0x3ee)?handleStartLiveRace(_0x4baa6c):showGameStartConfirmationModal(_0x4baa6c,_0x1b037c,_0x25c7d1[_0x3cba4a(0x6a9)]));}),document[_0x6c5a29(0x48d)]('project-search-input')['addEventListener'](_0x6c5a29(0x6c3),renderProjects),document[_0x6c5a29(0x48d)]('project-sort-select')[_0x6c5a29(0x331)](_0x6c5a29(0x34f),async()=>{const _0x3d1ead=_0x6c5a29,_0x5e0c21=document['getElementById'](_0x3d1ead(0x8ce))['value'],_0xa8095a=doc(db,_0x3d1ead(0x3ae),_0x3d1ead(0x68b));try{await setDoc(_0xa8095a,{'projectSort':_0x5e0c21},{'merge':!![]});}catch(_0x30479e){console[_0x3d1ead(0x405)](_0x3d1ead(0x897),_0x30479e),showMessage(_0x3d1ead(0x1d2));}}),document['getElementById'](_0x6c5a29(0x783))[_0x6c5a29(0x331)](_0x6c5a29(0x6c3),renderQuizzes),document[_0x6c5a29(0x48d)](_0x6c5a29(0x962))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x424faa=_0x6c5a29;globalDashboardSettings[_0x424faa(0xa0b)]=_0x424faa(0x502),saveUserPreference(_0x424faa(0xa0b),_0x424faa(0x502)),renderProjects();}),document[_0x6c5a29(0x48d)]('list-view-btn')['addEventListener']('click',()=>{const _0x5cfc84=_0x6c5a29;globalDashboardSettings[_0x5cfc84(0xa0b)]=_0x5cfc84(0x4ac),saveUserPreference(_0x5cfc84(0xa0b),_0x5cfc84(0x4ac)),renderProjects();}),manageTab[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>switchProjectTab('manage')),resultsTab[_0x6c5a29(0x331)]('click',()=>switchProjectTab(_0x6c5a29(0x7fa))),leaderboardTab[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>switchProjectTab(_0x6c5a29(0x94d))),document[_0x6c5a29(0x48d)](_0x6c5a29(0xb45))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>switchQuizDetailTab(_0x6c5a29(0x1b1))),document['getElementById'](_0x6c5a29(0x4bc))['addEventListener'](_0x6c5a29(0x623),()=>switchQuizDetailTab(_0x6c5a29(0xa19))),document[_0x6c5a29(0x48d)](_0x6c5a29(0x3a9))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>switchQuizDetailTab(_0x6c5a29(0x933))),document['getElementById'](_0x6c5a29(0x483))['addEventListener'](_0x6c5a29(0x623),()=>switchQuizDetailTab(_0x6c5a29(0x8f5))),document[_0x6c5a29(0x48d)](_0x6c5a29(0x459))[_0x6c5a29(0x331)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x6c5a29(0x331)](_0x6c5a29(0x623),generateWorksheet);const _0x578b40=document[_0x6c5a29(0x48d)](_0x6c5a29(0x9eb)),_0x2f84a0=document['getElementById'](_0x6c5a29(0xb5e)),_0x2c767d=document['getElementById']('blueprint-tab'),_0x459583=document[_0x6c5a29(0x48d)](_0x6c5a29(0x4aa)),_0x1ec598=document[_0x6c5a29(0x48d)](_0x6c5a29(0xb94)),_0x284531=document[_0x6c5a29(0x48d)](_0x6c5a29(0x495));topicTab[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x4800c7=_0x6c5a29;topicTab[_0x4800c7(0xbbb)][_0x4800c7(0x49b)]('active'),textTab[_0x4800c7(0xbbb)][_0x4800c7(0xb7d)]('active'),fileTab['classList'][_0x4800c7(0xb7d)](_0x4800c7(0x28f)),worksheetTab[_0x4800c7(0xbbb)][_0x4800c7(0xb7d)](_0x4800c7(0x28f));if(_0x578b40)_0x578b40[_0x4800c7(0xbbb)][_0x4800c7(0xb7d)](_0x4800c7(0x28f));if(_0x2c767d)_0x2c767d[_0x4800c7(0xbbb)][_0x4800c7(0xb7d)]('active');if(_0x1ec598)_0x1ec598['classList'][_0x4800c7(0xb7d)](_0x4800c7(0x28f));topicInputArea[_0x4800c7(0xbbb)][_0x4800c7(0xb7d)](_0x4800c7(0xc6c)),textInputArea[_0x4800c7(0xbbb)][_0x4800c7(0x49b)](_0x4800c7(0xc6c)),fileInputArea[_0x4800c7(0xbbb)][_0x4800c7(0x49b)]('hidden'),worksheetInputArea[_0x4800c7(0xbbb)]['add'](_0x4800c7(0xc6c));if(_0x2f84a0)_0x2f84a0[_0x4800c7(0xbbb)][_0x4800c7(0x49b)]('hidden');if(_0x459583)_0x459583[_0x4800c7(0xbbb)][_0x4800c7(0x49b)](_0x4800c7(0xc6c));if(_0x284531)_0x284531[_0x4800c7(0xbbb)][_0x4800c7(0x49b)]('hidden');}),textTab[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x911e4b=_0x6c5a29;textTab[_0x911e4b(0xbbb)]['add'](_0x911e4b(0x28f)),topicTab['classList']['remove']('active'),fileTab['classList'][_0x911e4b(0xb7d)]('active'),worksheetTab[_0x911e4b(0xbbb)]['remove'](_0x911e4b(0x28f));if(_0x578b40)_0x578b40['classList'][_0x911e4b(0xb7d)](_0x911e4b(0x28f));if(_0x2c767d)_0x2c767d[_0x911e4b(0xbbb)][_0x911e4b(0xb7d)](_0x911e4b(0x28f));if(_0x1ec598)_0x1ec598[_0x911e4b(0xbbb)][_0x911e4b(0xb7d)](_0x911e4b(0x28f));textInputArea['classList'][_0x911e4b(0xb7d)](_0x911e4b(0xc6c)),topicInputArea[_0x911e4b(0xbbb)][_0x911e4b(0x49b)]('hidden'),fileInputArea[_0x911e4b(0xbbb)]['add'](_0x911e4b(0xc6c)),worksheetInputArea[_0x911e4b(0xbbb)][_0x911e4b(0x49b)](_0x911e4b(0xc6c));if(_0x2f84a0)_0x2f84a0[_0x911e4b(0xbbb)]['add']('hidden');if(_0x459583)_0x459583[_0x911e4b(0xbbb)][_0x911e4b(0x49b)](_0x911e4b(0xc6c));if(_0x284531)_0x284531[_0x911e4b(0xbbb)]['add'](_0x911e4b(0xc6c));}),fileTab[_0x6c5a29(0x331)]('click',()=>{const _0x304634=_0x6c5a29;fileTab['classList'][_0x304634(0x49b)](_0x304634(0x28f)),topicTab[_0x304634(0xbbb)][_0x304634(0xb7d)](_0x304634(0x28f)),textTab['classList'][_0x304634(0xb7d)](_0x304634(0x28f)),worksheetTab['classList'][_0x304634(0xb7d)](_0x304634(0x28f));if(_0x578b40)_0x578b40[_0x304634(0xbbb)][_0x304634(0xb7d)]('active');if(_0x2c767d)_0x2c767d['classList'][_0x304634(0xb7d)](_0x304634(0x28f));if(_0x1ec598)_0x1ec598[_0x304634(0xbbb)][_0x304634(0xb7d)]('active');fileInputArea[_0x304634(0xbbb)][_0x304634(0xb7d)](_0x304634(0xc6c)),topicInputArea[_0x304634(0xbbb)][_0x304634(0x49b)]('hidden'),textInputArea[_0x304634(0xbbb)][_0x304634(0x49b)](_0x304634(0xc6c)),worksheetInputArea[_0x304634(0xbbb)][_0x304634(0x49b)](_0x304634(0xc6c));if(_0x2f84a0)_0x2f84a0[_0x304634(0xbbb)][_0x304634(0x49b)]('hidden');if(_0x459583)_0x459583['classList'][_0x304634(0x49b)]('hidden');if(_0x284531)_0x284531[_0x304634(0xbbb)][_0x304634(0x49b)]('hidden');}),worksheetTab[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x125787=_0x6c5a29;worksheetTab[_0x125787(0xbbb)][_0x125787(0x49b)](_0x125787(0x28f)),topicTab[_0x125787(0xbbb)][_0x125787(0xb7d)]('active'),textTab[_0x125787(0xbbb)][_0x125787(0xb7d)](_0x125787(0x28f)),fileTab[_0x125787(0xbbb)][_0x125787(0xb7d)](_0x125787(0x28f));if(_0x578b40)_0x578b40[_0x125787(0xbbb)][_0x125787(0xb7d)](_0x125787(0x28f));if(_0x2c767d)_0x2c767d[_0x125787(0xbbb)][_0x125787(0xb7d)](_0x125787(0x28f));if(_0x1ec598)_0x1ec598[_0x125787(0xbbb)][_0x125787(0xb7d)]('active');worksheetInputArea[_0x125787(0xbbb)]['remove'](_0x125787(0xc6c)),topicInputArea[_0x125787(0xbbb)]['add']('hidden'),textInputArea[_0x125787(0xbbb)][_0x125787(0x49b)](_0x125787(0xc6c)),fileInputArea['classList']['add'](_0x125787(0xc6c));if(_0x2f84a0)_0x2f84a0[_0x125787(0xbbb)][_0x125787(0x49b)](_0x125787(0xc6c));if(_0x459583)_0x459583[_0x125787(0xbbb)][_0x125787(0x49b)]('hidden');if(_0x284531)_0x284531[_0x125787(0xbbb)][_0x125787(0x49b)](_0x125787(0xc6c));});const _0x33f555=document[_0x6c5a29(0x48d)](_0x6c5a29(0xa56)),_0x463a99=document[_0x6c5a29(0x48d)](_0x6c5a29(0x904));_0x33f555&&_0x33f555[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x2c3df2=_0x6c5a29;topicTab[_0x2c3df2(0xbbb)][_0x2c3df2(0xb7d)]('active'),textTab[_0x2c3df2(0xbbb)][_0x2c3df2(0xb7d)](_0x2c3df2(0x28f)),fileTab[_0x2c3df2(0xbbb)][_0x2c3df2(0xb7d)]('active'),worksheetTab[_0x2c3df2(0xbbb)]['remove'](_0x2c3df2(0x28f));if(_0x578b40)_0x578b40[_0x2c3df2(0xbbb)][_0x2c3df2(0xb7d)](_0x2c3df2(0x28f));if(_0x2c767d)_0x2c767d[_0x2c3df2(0xbbb)][_0x2c3df2(0xb7d)](_0x2c3df2(0x28f));if(_0x1ec598)_0x1ec598[_0x2c3df2(0xbbb)][_0x2c3df2(0xb7d)](_0x2c3df2(0x28f));_0x33f555[_0x2c3df2(0xbbb)][_0x2c3df2(0x49b)]('active'),topicInputArea[_0x2c3df2(0xbbb)]['add'](_0x2c3df2(0xc6c)),textInputArea['classList'][_0x2c3df2(0x49b)](_0x2c3df2(0xc6c)),fileInputArea['classList'][_0x2c3df2(0x49b)](_0x2c3df2(0xc6c)),worksheetInputArea['classList']['add'](_0x2c3df2(0xc6c));if(_0x2f84a0)_0x2f84a0[_0x2c3df2(0xbbb)][_0x2c3df2(0x49b)](_0x2c3df2(0xc6c));if(_0x459583)_0x459583[_0x2c3df2(0xbbb)][_0x2c3df2(0x49b)](_0x2c3df2(0xc6c));if(_0x284531)_0x284531['classList'][_0x2c3df2(0x49b)](_0x2c3df2(0xc6c));_0x463a99['classList']['remove'](_0x2c3df2(0xc6c)),displayQuestionBank();});_0x578b40&&(_0x578b40['addEventListener']('click',()=>{const _0x148756=_0x6c5a29;_0x578b40[_0x148756(0xbbb)]['add'](_0x148756(0x28f)),topicTab['classList']['remove'](_0x148756(0x28f)),textTab[_0x148756(0xbbb)][_0x148756(0xb7d)]('active'),fileTab[_0x148756(0xbbb)]['remove'](_0x148756(0x28f)),worksheetTab[_0x148756(0xbbb)][_0x148756(0xb7d)](_0x148756(0x28f));if(_0x2c767d)_0x2c767d[_0x148756(0xbbb)][_0x148756(0xb7d)](_0x148756(0x28f));if(_0x1ec598)_0x1ec598[_0x148756(0xbbb)][_0x148756(0xb7d)](_0x148756(0x28f));_0x2f84a0[_0x148756(0xbbb)][_0x148756(0xb7d)](_0x148756(0xc6c)),topicInputArea['classList'][_0x148756(0x49b)](_0x148756(0xc6c)),textInputArea[_0x148756(0xbbb)]['add'](_0x148756(0xc6c)),fileInputArea[_0x148756(0xbbb)][_0x148756(0x49b)]('hidden'),worksheetInputArea[_0x148756(0xbbb)][_0x148756(0x49b)](_0x148756(0xc6c));if(_0x459583)_0x459583[_0x148756(0xbbb)][_0x148756(0x49b)](_0x148756(0xc6c));if(_0x284531)_0x284531[_0x148756(0xbbb)]['add'](_0x148756(0xc6c));}),document['getElementById'](_0x6c5a29(0x338))['addEventListener'](_0x6c5a29(0x623),handleGenerateFromLink));_0x2c767d&&_0x2c767d[_0x6c5a29(0x331)]('click',()=>{const _0x4976e7=_0x6c5a29;_0x2c767d['classList'][_0x4976e7(0x49b)](_0x4976e7(0x28f)),topicTab[_0x4976e7(0xbbb)][_0x4976e7(0xb7d)]('active'),textTab[_0x4976e7(0xbbb)][_0x4976e7(0xb7d)](_0x4976e7(0x28f)),fileTab[_0x4976e7(0xbbb)][_0x4976e7(0xb7d)](_0x4976e7(0x28f)),worksheetTab[_0x4976e7(0xbbb)][_0x4976e7(0xb7d)](_0x4976e7(0x28f));if(_0x578b40)_0x578b40[_0x4976e7(0xbbb)][_0x4976e7(0xb7d)](_0x4976e7(0x28f));if(_0x33f555)_0x33f555[_0x4976e7(0xbbb)][_0x4976e7(0xb7d)]('active');if(_0x1ec598)_0x1ec598[_0x4976e7(0xbbb)][_0x4976e7(0xb7d)](_0x4976e7(0x28f));_0x459583[_0x4976e7(0xbbb)][_0x4976e7(0xb7d)]('hidden'),topicInputArea['classList']['add'](_0x4976e7(0xc6c)),textInputArea[_0x4976e7(0xbbb)][_0x4976e7(0x49b)]('hidden'),fileInputArea[_0x4976e7(0xbbb)][_0x4976e7(0x49b)]('hidden'),worksheetInputArea[_0x4976e7(0xbbb)][_0x4976e7(0x49b)](_0x4976e7(0xc6c));if(_0x2f84a0)_0x2f84a0[_0x4976e7(0xbbb)]['add'](_0x4976e7(0xc6c));if(_0x463a99)_0x463a99[_0x4976e7(0xbbb)][_0x4976e7(0x49b)](_0x4976e7(0xc6c));if(_0x284531)_0x284531[_0x4976e7(0xbbb)][_0x4976e7(0x49b)](_0x4976e7(0xc6c));});_0x1ec598&&_0x1ec598[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x128111=_0x6c5a29;_0x1ec598[_0x128111(0xbbb)][_0x128111(0x49b)]('active'),topicTab[_0x128111(0xbbb)][_0x128111(0xb7d)]('active'),textTab['classList'][_0x128111(0xb7d)](_0x128111(0x28f)),fileTab[_0x128111(0xbbb)][_0x128111(0xb7d)](_0x128111(0x28f)),worksheetTab[_0x128111(0xbbb)][_0x128111(0xb7d)](_0x128111(0x28f));if(_0x578b40)_0x578b40[_0x128111(0xbbb)][_0x128111(0xb7d)]('active');if(_0x2c767d)_0x2c767d[_0x128111(0xbbb)][_0x128111(0xb7d)](_0x128111(0x28f));if(_0x33f555)_0x33f555['classList'][_0x128111(0xb7d)]('active');_0x284531[_0x128111(0xbbb)][_0x128111(0xb7d)](_0x128111(0xc6c)),topicInputArea[_0x128111(0xbbb)][_0x128111(0x49b)](_0x128111(0xc6c)),textInputArea[_0x128111(0xbbb)][_0x128111(0x49b)](_0x128111(0xc6c)),fileInputArea[_0x128111(0xbbb)][_0x128111(0x49b)]('hidden'),worksheetInputArea[_0x128111(0xbbb)]['add']('hidden');if(_0x2f84a0)_0x2f84a0[_0x128111(0xbbb)]['add'](_0x128111(0xc6c));if(_0x459583)_0x459583[_0x128111(0xbbb)][_0x128111(0x49b)](_0x128111(0xc6c));if(_0x463a99)_0x463a99[_0x128111(0xbbb)]['add']('hidden');});const _0x1733d9=document['getElementById']('blueprint-upload-input'),_0x328bfa=document[_0x6c5a29(0x48d)]('generate-from-blueprint-btn');if(_0x1733d9){const _0x22e2eb=document['getElementById'](_0x6c5a29(0xcbc)),_0x34e904=document['getElementById']('generate-from-blueprint-btn'),_0x1035a2=document[_0x6c5a29(0x48d)](_0x6c5a29(0x262)),_0x49a120=document[_0x6c5a29(0x48d)]('separate-by-content-checkbox'),_0x34dda9=document['getElementById']('blueprint-topics-list-container'),_0x5c303c=document[_0x6c5a29(0x48d)](_0x6c5a29(0xc4c));_0x22e2eb&&_0x22e2eb[_0x6c5a29(0x331)](_0x6c5a29(0x34f),async _0x560eb3=>{const _0x513217=_0x6c5a29;_0x1035a2[_0x513217(0xbbb)]['add']('hidden'),_0x34dda9['classList'][_0x513217(0x49b)](_0x513217(0xc6c)),_0x49a120[_0x513217(0xb91)]=![],_0x34e904[_0x513217(0x1dc)]=!![];const _0x2d5131=_0x560eb3[_0x513217(0x805)][_0x513217(0x7c7)][0x0];if(_0x2d5131){_0x34e904[_0x513217(0x1dc)]=![];try{const _0x1a92f3=await extractTextFromPdf(_0x2d5131);await analyzeBlueprintForTopics(_0x1a92f3);}catch(_0x5b95ff){showMessage(_0x513217(0x99e)),_0x1035a2['classList'][_0x513217(0x49b)](_0x513217(0xc6c));}}}),_0x49a120&&_0x49a120['addEventListener'](_0x6c5a29(0x34f),_0x2b1a91=>{const _0x3f4228=_0x6c5a29,_0x444c8c=_0x2b1a91[_0x3f4228(0x805)]['checked'];_0x34dda9[_0x3f4228(0xbbb)][_0x3f4228(0x1b8)]('hidden',!_0x444c8c),_0x34e904[_0x3f4228(0x1dc)]=_0x444c8c;}),_0x5c303c&&(_0x5c303c&&_0x5c303c['addEventListener'](_0x6c5a29(0x623),_0x4c150a=>{const _0x58ead7=_0x6c5a29,_0x227630=_0x4c150a[_0x58ead7(0x805)][_0x58ead7(0x951)](_0x58ead7(0x8d2)),_0x3a63ff=_0x4c150a['target'][_0x58ead7(0x951)](_0x58ead7(0x856));if(_0x227630){const _0x32308f=unescape(_0x227630[_0x58ead7(0x40c)][_0x58ead7(0x6a9)]);generateQuizForSingleTopic(_0x32308f);}else{if(_0x3a63ff){const _0x1157ec=unescape(_0x3a63ff[_0x58ead7(0x40c)][_0x58ead7(0x6a9)]);handleGenerateTeachingContent(_0x1157ec);}}}));}_0x328bfa&&_0x328bfa[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleGenerateFromBlueprint);const _0x3d380e=document[_0x6c5a29(0x48d)](_0x6c5a29(0xaad)),_0x1dc5ee=document[_0x6c5a29(0x48d)](_0x6c5a29(0xadc));_0x3d380e&&_0x3d380e[_0x6c5a29(0x331)](_0x6c5a29(0x34f),_0x2c690e=>{const _0x3417d8=_0x6c5a29;_0x1dc5ee[_0x3417d8(0x1dc)]=_0x2c690e[_0x3417d8(0x805)][_0x3417d8(0x7c7)][_0x3417d8(0x3b0)]===0x0;});_0x1dc5ee&&_0x1dc5ee[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleLoadQuiz),startQuizBtn[_0x6c5a29(0x331)](_0x6c5a29(0x623),async()=>{const _0x251c83=_0x6c5a29,_0x2df343=document[_0x251c83(0x48d)](_0x251c83(0xbd7));currentStudentName=_0x2df343[_0x251c83(0xaef)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x52872c=currentQuizData['id'],_0x350085=doc(db,_0x251c83(0xaa1)+appId+_0x251c83(0xa74)+_0x52872c+'/submissions',currentStudentName),_0x17aed1=await getDoc(_0x350085);!_0x17aed1[_0x251c83(0x6b3)]()?await setDoc(_0x350085,{'studentName':currentStudentName,'startedAt':new Date()[_0x251c83(0x523)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x350085,{'startedAt':new Date()[_0x251c83(0x523)]()});}catch(_0x593c48){console[_0x251c83(0x405)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x593c48),showMessage(_0x251c83(0x402));return;}studentNameSelectionView[_0x251c83(0xbbb)][_0x251c83(0x49b)](_0x251c83(0xc6c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x6c5a29(0xbe6))[_0x6c5a29(0x331)](_0x6c5a29(0x623),showJoinGameView),document[_0x6c5a29(0x48d)]('confirm-join-game-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleJoinLiveGame),document['getElementById'](_0x6c5a29(0x70f))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>showView(_0x6c5a29(0x849)));const _0x599bce=()=>{const _0x39fd05=_0x6c5a29,_0x13a12f=document[_0x39fd05(0x48d)](_0x39fd05(0xc15))[_0x39fd05(0x9ea)][_0x39fd05(0x1ba)](/[^a-z0-9]/gi,'_')[_0x39fd05(0x235)]();return _0x39fd05(0xc42)+(_0x13a12f||_0x39fd05(0x1d5));},_0x6d9f45=document['getElementById'](_0x6c5a29(0x561));_0x6d9f45&&_0x6d9f45['addEventListener'](_0x6c5a29(0x6c3),_0x45ff29=>{const _0x3e807b=_0x6c5a29,_0x997581=_0x45ff29[_0x3e807b(0x805)][_0x3e807b(0xaef)][_0x3e807b(0x235)]()[_0x3e807b(0x7fe)](),_0x408571=document[_0x3e807b(0x48d)](_0x3e807b(0x3eb)),_0x5acb94=_0x408571['querySelectorAll']('.topic-category');_0x5acb94[_0x3e807b(0x9c9)](_0xda6283=>{const _0x9f287d=_0x3e807b;let _0x51ec83=![];const _0x248d96=_0xda6283['querySelectorAll']('.topic-row');_0x248d96[_0x9f287d(0x9c9)](_0xf3e1ba=>{const _0x251ea2=_0x9f287d,_0x924790=_0xf3e1ba[_0x251ea2(0x381)](_0x251ea2(0x4e9))['textContent'][_0x251ea2(0x235)]();_0x924790[_0x251ea2(0x59e)](_0x997581)?(_0xf3e1ba[_0x251ea2(0x3b4)][_0x251ea2(0x418)]=_0x251ea2(0x30f),_0x51ec83=!![]):_0xf3e1ba['style']['display']=_0x251ea2(0x700);}),_0x51ec83?_0xda6283[_0x9f287d(0x3b4)]['display']='block':_0xda6283[_0x9f287d(0x3b4)][_0x9f287d(0x418)]=_0x9f287d(0x700);});});document['getElementById'](_0x6c5a29(0x6f9))['addEventListener'](_0x6c5a29(0x623),()=>exportTableAsImage('results-table-container',_0x599bce())),document[_0x6c5a29(0x48d)](_0x6c5a29(0x2e1))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>exportTableAsPDF(_0x6c5a29(0x48f),_0x599bce())),document[_0x6c5a29(0x48d)](_0x6c5a29(0x4b1))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>exportTableAsWord(_0x6c5a29(0x52d),_0x599bce())),document[_0x6c5a29(0x48d)]('export-excel-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>exportTableAsExcel(_0x6c5a29(0x48f),_0x599bce()));const _0x57354b=()=>{const _0x5ee39c=_0x6c5a29,_0x28e245=document[_0x5ee39c(0x48d)]('results-quiz-title')[_0x5ee39c(0x9ea)][_0x5ee39c(0x1ba)](/[^a-z0-9]/gi,'_')[_0x5ee39c(0x235)]();return _0x5ee39c(0xc3f)+(_0x28e245||_0x5ee39c(0x1d5));};document[_0x6c5a29(0x48d)]('export-leaderboard-image-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x57354b())),document[_0x6c5a29(0x48d)](_0x6c5a29(0x37d))['addEventListener'](_0x6c5a29(0x623),()=>exportTableAsPDF('quiz-leaderboard-table',_0x57354b())),document[_0x6c5a29(0x48d)]('export-leaderboard-word-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>exportTableAsWord(_0x6c5a29(0xa31),_0x57354b())),document[_0x6c5a29(0x48d)](_0x6c5a29(0xae6))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>exportTableAsExcel(_0x6c5a29(0x9ae),_0x57354b())),projectQuizzesList['addEventListener'](_0x6c5a29(0x623),async _0x1d874b=>{const _0x4c302a=_0x6c5a29,_0x331509=_0x1d874b['target']['closest'](_0x4c302a(0xc61)),_0x7f442a=_0x1d874b[_0x4c302a(0x805)]['closest'](_0x4c302a(0xc2b)),_0x40510f=_0x1d874b[_0x4c302a(0x805)]['closest'](_0x4c302a(0x286)),_0x2d5aed=_0x1d874b['target'][_0x4c302a(0x951)]('.generate-lesson-btn'),_0x415532=_0x1d874b['target']['closest'](_0x4c302a(0x1f9)),_0x3f71dc=_0x1d874b[_0x4c302a(0x805)][_0x4c302a(0x951)](_0x4c302a(0x6ff)),_0x2b147a=_0x1d874b[_0x4c302a(0x805)][_0x4c302a(0x951)](_0x4c302a(0x3ed)),_0x20fad6=_0x1d874b['target'][_0x4c302a(0x951)](_0x4c302a(0x5c2)),_0x1992ef=_0x1d874b[_0x4c302a(0x805)][_0x4c302a(0x951)]('.duplicate-quiz-btn'),_0x1492cd=_0x1d874b[_0x4c302a(0x805)][_0x4c302a(0x951)](_0x4c302a(0x38d)),_0x1b68c7=_0x1d874b['target'][_0x4c302a(0x951)](_0x4c302a(0x8f9)),_0x1640a0=_0x1d874b[_0x4c302a(0x805)]['closest'](_0x4c302a(0x394)),_0x3e2fb4=_0x1d874b['target'][_0x4c302a(0x951)](_0x4c302a(0xbb2)),_0x332611=_0x1d874b[_0x4c302a(0x805)][_0x4c302a(0x951)](_0x4c302a(0x1b7)),_0x4f0893=_0x1d874b[_0x4c302a(0x805)]['closest'](_0x4c302a(0x5b2)),_0x24d394=_0x1d874b[_0x4c302a(0x805)]['closest'](_0x4c302a(0x55e)),_0x49bec1=_0x1d874b['target']['closest'](_0x4c302a(0x5fe)),_0x2df1b2=_0x1d874b[_0x4c302a(0x805)][_0x4c302a(0x951)]('.delete-quiz-btn'),_0x157fd4=_0x1d874b['target'][_0x4c302a(0x951)](_0x4c302a(0x367)),_0x3daa04=_0x1d874b[_0x4c302a(0x805)]['closest'](_0x4c302a(0xa9c)),_0x6e3a3=_0x1d874b[_0x4c302a(0x805)]['closest'](_0x4c302a(0x336)),_0x5dacba=_0x1d874b['target']['closest'](_0x4c302a(0x5f9)),_0x219a29=_0x1d874b[_0x4c302a(0x805)][_0x4c302a(0x951)](_0x4c302a(0xb39));if(_0x5dacba){const _0x5ec894=_0x5dacba[_0x4c302a(0x40c)][_0x4c302a(0xccd)],_0x29654=_0x5dacba['dataset'][_0x4c302a(0x852)],_0x1c4fc2=allQuizzes[_0x4c302a(0xcf4)](_0xcf6e0d=>_0xcf6e0d['id']===_0x5ec894);_0x1c4fc2&&showGameStartConfirmationModal(_0x5ec894,_0x29654,_0x1c4fc2[_0x4c302a(0x6a9)]);}else{if(_0x219a29){const _0x3c0469=_0x219a29[_0x4c302a(0x40c)][_0x4c302a(0xccd)];handleStartLiveRace(_0x3c0469);}else{if(_0x3daa04){const _0x54edde=_0x3daa04[_0x4c302a(0x40c)][_0x4c302a(0xccd)],_0x12197b=document[_0x4c302a(0x48d)]('actions-container-'+_0x54edde);_0x12197b&&_0x12197b[_0x4c302a(0xbbb)][_0x4c302a(0x1b8)](_0x4c302a(0xc6c));}else{if(_0x7f442a){const _0x16f585=_0x7f442a[_0x4c302a(0x40c)][_0x4c302a(0xccd)],_0x15063c=allQuizzes[_0x4c302a(0xcf4)](_0x225df5=>_0x225df5['id']===_0x16f585);_0x15063c&&handleGenerateParallelPostTest(_0x15063c);}else{if(_0x40510f)handleCompareResults(_0x40510f[_0x4c302a(0x40c)][_0x4c302a(0xccd)],_0x40510f[_0x4c302a(0x40c)][_0x4c302a(0x9f7)]);else{if(_0x2d5aed){const _0x4a10e7=_0x2d5aed['dataset'][_0x4c302a(0xccd)],_0x5bf9a6=allQuizzes[_0x4c302a(0xcf4)](_0x513533=>_0x513533['id']===_0x4a10e7);_0x5bf9a6&&_0x5bf9a6[_0x4c302a(0x567)]?(displayLessonPlan(_0x5bf9a6[_0x4c302a(0x567)],_0x5bf9a6),showConfirmation(_0x4c302a(0xc69),()=>handleGenerateLessonPlan(_0x4a10e7)),document['getElementById'](_0x4c302a(0x1d8))['querySelector']('h3')[_0x4c302a(0x9ea)]=_0x4c302a(0x723),document[_0x4c302a(0x48d)](_0x4c302a(0x3d1))[_0x4c302a(0x9ea)]=_0x4c302a(0xac1)):handleGenerateLessonPlan(_0x4a10e7);}else{if(_0x415532)handleToggleStarQuiz(_0x415532[_0x4c302a(0x40c)][_0x4c302a(0xccd)]);else{if(_0x3f71dc)copyTextToClipboard(_0x3f71dc[_0x4c302a(0x40c)]['quizId'],'คัดลอกรหัสแล้ว!');else{if(_0x2b147a)handleOpenQuizEditor(_0x2b147a[_0x4c302a(0x40c)][_0x4c302a(0xccd)]);else{if(_0x20fad6)handleQuizSettings(_0x20fad6[_0x4c302a(0x40c)][_0x4c302a(0xccd)]);else{if(_0x1992ef)handleDuplicateQuiz(_0x1992ef[_0x4c302a(0x40c)][_0x4c302a(0xccd)]);else{if(_0x1492cd)handleRenameQuiz(_0x1492cd[_0x4c302a(0x40c)]['quizId'],_0x1492cd[_0x4c302a(0x40c)][_0x4c302a(0x6a9)]);else{if(_0x1b68c7){const _0x3c28b0=_0x1b68c7[_0x4c302a(0x40c)][_0x4c302a(0xccd)],_0x424a89=allQuizzes[_0x4c302a(0xcf4)](_0x5c7b31=>_0x5c7b31['id']===_0x3c28b0);_0x424a89&&handleGenerateParallelFromBank(_0x424a89);}else{if(_0x1640a0)handleMoveQuiz(_0x1640a0['dataset'][_0x4c302a(0xccd)]);else{if(_0x3e2fb4)handleManualQuizPairing(_0x3e2fb4[_0x4c302a(0x40c)][_0x4c302a(0xccd)]);else{if(_0x332611)handleUnpairQuiz(_0x332611['dataset']['quizId']);else{if(_0x4f0893){const _0x439585=_0x4f0893[_0x4c302a(0x40c)][_0x4c302a(0xccd)],_0x53251d=allQuizzes[_0x4c302a(0xcf4)](_0x5ef0da=>_0x5ef0da['id']===_0x439585);if(_0x53251d)startPresentation(_0x53251d);}else{if(_0x24d394){const _0x13f226=_0x24d394[_0x4c302a(0x40c)]['quizId'],_0x490b2b=allQuizzes[_0x4c302a(0xcf4)](_0x24cc9c=>_0x24cc9c['id']===_0x13f226);_0x490b2b&&(currentQuizData=_0x490b2b,startAdminTest());}else{if(_0x49bec1)actionTargetId=_0x49bec1['dataset'][_0x4c302a(0xccd)],document['getElementById'](_0x4c302a(0x744))[_0x4c302a(0xbbb)][_0x4c302a(0xb7d)](_0x4c302a(0xc6c));else{if(_0x2df1b2)showConfirmation(_0x4c302a(0x8d3)+_0x2df1b2['dataset'][_0x4c302a(0x6a9)]+_0x4c302a(0x74a),()=>handleDeleteQuiz(_0x2df1b2[_0x4c302a(0x40c)][_0x4c302a(0xccd)]));else{if(_0x157fd4)handleQuizStatus(_0x157fd4[_0x4c302a(0x40c)]['quizId']);else{if(_0x6e3a3)handleGenerateEasyVersionQuiz(_0x6e3a3[_0x4c302a(0x40c)][_0x4c302a(0xccd)]);else _0x331509&&showQuizDetailView(_0x331509[_0x4c302a(0x40c)][_0x4c302a(0xccd)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x6c5a29(0xb3e))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>showView(_0x6c5a29(0x849))),document['getElementById'](_0x6c5a29(0x927))[_0x6c5a29(0x331)](_0x6c5a29(0x623),confirmAndStartTeamQuiz),document['getElementById'](_0x6c5a29(0x9ae))['querySelector']('thead')[_0x6c5a29(0x331)](_0x6c5a29(0x623),_0x130473=>{const _0x15c6f5=_0x6c5a29,_0x5392c5=_0x130473[_0x15c6f5(0x805)][_0x15c6f5(0x951)](_0x15c6f5(0x1e1));if(!_0x5392c5||!_0x5392c5[_0x15c6f5(0x40c)][_0x15c6f5(0xa41)])return;const _0x13b696=_0x5392c5[_0x15c6f5(0x40c)]['sort'];if(quizLeaderboardSortBy===_0x13b696)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x15c6f5(0xcc0)?_0x15c6f5(0x460):_0x15c6f5(0xcc0);else{quizLeaderboardSortBy=_0x13b696;const _0x1b6d5b=[_0x15c6f5(0xbe1)];quizLeaderboardSortOrder=_0x1b6d5b[_0x15c6f5(0x59e)](_0x13b696)?_0x15c6f5(0xcc0):_0x15c6f5(0x460);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x15c6f5(0x2a6));}),document[_0x6c5a29(0x48d)](_0x6c5a29(0xc3e))[_0x6c5a29(0x331)](_0x6c5a29(0x623),closePresentation),document[_0x6c5a29(0x48d)](_0x6c5a29(0x713))['addEventListener']('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x6c5a29(0x48d)]('next-question-btn')['addEventListener'](_0x6c5a29(0x623),()=>{const _0x293271=_0x6c5a29;currentQuizData[_0x293271(0x796)]&&currentPresentationSlide<currentQuizData[_0x293271(0x796)][_0x293271(0x3b0)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x6c5a29(0x331)]('fullscreenchange',()=>{const _0x5e35cb=_0x6c5a29;!document[_0x5e35cb(0x882)]&&(presentationModal[_0x5e35cb(0x3b4)][_0x5e35cb(0x418)]=_0x5e35cb(0x700));}),document[_0x6c5a29(0x48d)]('delete-all-students-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleDeleteAllStudents),studentList['addEventListener'](_0x6c5a29(0x623),_0x5c2c27=>{const _0x4c0d93=_0x6c5a29,_0xed39d2=_0x5c2c27[_0x4c0d93(0x805)][_0x4c0d93(0x951)]('.delete-student-btn');if(_0xed39d2){const _0x681958=_0xed39d2[_0x4c0d93(0x40c)]['studentName'];handleDeleteStudent(_0x681958);}}),document[_0x6c5a29(0x48d)](_0x6c5a29(0xb2e))[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleGenerateFromFileClick),fileUploadInput[_0x6c5a29(0x331)](_0x6c5a29(0x34f),_0x4548b5=>{const _0x253376=_0x6c5a29,_0x5ae85e=_0x4548b5['target']['files'][0x0],_0x4a49de=document[_0x253376(0x48d)](_0x253376(0xb2e)),_0x4c8e9a=document['getElementById']('file-topics-list-container'),_0x34cb91=document[_0x253376(0x48d)](_0x253376(0xa5f));_0x5ae85e?(selectedFile=_0x5ae85e,_0x34cb91[_0x253376(0xb91)]?(_0x4a49de[_0x253376(0x1dc)]=!![],analyzeFileForTopics(_0x5ae85e)):(_0x4a49de['disabled']=![],_0x4c8e9a[_0x253376(0xbbb)][_0x253376(0x49b)](_0x253376(0xc6c)))):(selectedFile=null,_0x4a49de[_0x253376(0x1dc)]=!![],_0x4c8e9a[_0x253376(0xbbb)][_0x253376(0x49b)](_0x253376(0xc6c)));}),document[_0x6c5a29(0x48d)](_0x6c5a29(0xa5f))['addEventListener'](_0x6c5a29(0x34f),_0x493d87=>{const _0x4162a4=_0x6c5a29,_0x52e439=_0x493d87['target']['checked'],_0x10f360=document[_0x4162a4(0x48d)](_0x4162a4(0xb2e)),_0x35317a=document['getElementById'](_0x4162a4(0xb88));_0x52e439?(_0x10f360[_0x4162a4(0x1dc)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x35317a[_0x4162a4(0xbbb)][_0x4162a4(0xb7d)](_0x4162a4(0xc6c)),document['getElementById'](_0x4162a4(0x4cd))[_0x4162a4(0x9c8)]=_0x4162a4(0xcba))):(_0x35317a['classList'][_0x4162a4(0x49b)]('hidden'),_0x10f360[_0x4162a4(0x1dc)]=!selectedFile);}),document[_0x6c5a29(0x48d)](_0x6c5a29(0xb88))[_0x6c5a29(0x331)](_0x6c5a29(0x623),_0x36f645=>{const _0x1037c2=_0x6c5a29,_0x18d471=_0x36f645['target'][_0x1037c2(0x951)](_0x1037c2(0x625)),_0x156fd7=_0x36f645[_0x1037c2(0x805)][_0x1037c2(0x951)](_0x1037c2(0x856));if(_0x18d471){const _0x332ab7=unescape(_0x18d471[_0x1037c2(0x40c)][_0x1037c2(0x6a9)]);generateHybridQuizForTopic(_0x332ab7);}else{if(_0x156fd7){const _0x1f1564=unescape(_0x156fd7[_0x1037c2(0x40c)][_0x1037c2(0x6a9)]),_0x6ea932=document[_0x1037c2(0x48d)](_0x1037c2(0xb56))[_0x1037c2(0xaef)];handleGenerateAndShowLesson(_0x1f1564,_0x6ea932);}}}),document[_0x6c5a29(0x48d)]('timer-mode-select')[_0x6c5a29(0x331)]('change',_0xd5278a=>{const _0x44c4f3=_0x6c5a29,_0x40f4a9=document[_0x44c4f3(0x48d)](_0x44c4f3(0x46a)),_0x149b54=document['getElementById']('timer-duration-label'),_0x4958b5=document['getElementById']('timer-duration-input');_0xd5278a[_0x44c4f3(0x805)]['value']===_0x44c4f3(0x700)?_0x40f4a9['classList'][_0x44c4f3(0x49b)](_0x44c4f3(0xc6c)):(_0x40f4a9[_0x44c4f3(0xbbb)]['remove'](_0x44c4f3(0xc6c)),_0xd5278a[_0x44c4f3(0x805)][_0x44c4f3(0xaef)]==='whole_quiz'?(_0x149b54[_0x44c4f3(0x9ea)]=_0x44c4f3(0x319),_0x4958b5[_0x44c4f3(0xaef)]='10'):(_0x149b54[_0x44c4f3(0x9ea)]=_0x44c4f3(0x73d),_0x4958b5[_0x44c4f3(0xaef)]='30'));}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x7ad))[_0x6c5a29(0x331)]('change',_0x163844=>{const _0x5d9296=_0x6c5a29,_0x85a37d=document['getElementById']('num-choices-container'),_0x20cfc3=_0x163844[_0x5d9296(0x805)][_0x5d9296(0xaef)],_0x3348a3=document['querySelector']('label[for=\x22num-questions\x22]'),_0x25b1b1=document[_0x5d9296(0x48d)](_0x5d9296(0x2d5)),_0x22d753=document[_0x5d9296(0x48d)]('num-questions');_0x20cfc3==='matching'?_0x3348a3['textContent']='จำนวนคู่:':_0x3348a3[_0x5d9296(0x9ea)]=_0x5d9296(0xb49),_0x20cfc3===_0x5d9296(0xa73)||_0x20cfc3===_0x5d9296(0x62e)||_0x20cfc3===_0x5d9296(0xacf)?_0x85a37d[_0x5d9296(0xbbb)][_0x5d9296(0xb7d)](_0x5d9296(0xc6c)):_0x85a37d[_0x5d9296(0xbbb)][_0x5d9296(0x49b)](_0x5d9296(0xc6c)),_0x25b1b1[_0x5d9296(0x6cf)]=_0x22d753[_0x5d9296(0xaef)];}),document['getElementById'](_0x6c5a29(0xcc3))[_0x6c5a29(0x331)](_0x6c5a29(0x6c3),_0x21711c=>{const _0xd02bfa=_0x6c5a29;document[_0xd02bfa(0x48d)](_0xd02bfa(0x2d5))[_0xd02bfa(0x6cf)]=_0x21711c[_0xd02bfa(0x805)][_0xd02bfa(0xaef)];}),document[_0x6c5a29(0x48d)]('modal-timer-mode-select')[_0x6c5a29(0x331)](_0x6c5a29(0x34f),_0x4c5355=>{const _0x3006fa=_0x6c5a29,_0x5a906a=document['getElementById'](_0x3006fa(0xa17)),_0x2c080d=document[_0x3006fa(0x48d)](_0x3006fa(0x61e)),_0x43284a=document[_0x3006fa(0x48d)](_0x3006fa(0xd0e));_0x4c5355[_0x3006fa(0x805)][_0x3006fa(0xaef)]===_0x3006fa(0x700)?_0x5a906a[_0x3006fa(0xbbb)][_0x3006fa(0x49b)](_0x3006fa(0xc6c)):(_0x5a906a[_0x3006fa(0xbbb)]['remove'](_0x3006fa(0xc6c)),_0x4c5355[_0x3006fa(0x805)][_0x3006fa(0xaef)]==='whole_quiz'?_0x2c080d[_0x3006fa(0x9ea)]=_0x3006fa(0x319):_0x2c080d['textContent']=_0x3006fa(0x73d));}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x3fd))['addEventListener'](_0x6c5a29(0x623),()=>{const _0x42821a=_0x6c5a29;document[_0x42821a(0x48d)](_0x42821a(0x755))[_0x42821a(0xbbb)][_0x42821a(0x49b)]('hidden');}),document[_0x6c5a29(0x48d)](_0x6c5a29(0xcad))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x105d6e=_0x6c5a29;document[_0x105d6e(0x48d)](_0x105d6e(0x755))[_0x105d6e(0xbbb)][_0x105d6e(0x49b)]('hidden');}),document[_0x6c5a29(0x48d)]('verify-answers-editor-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleVerifyAnswersInEditor),document[_0x6c5a29(0x48d)](_0x6c5a29(0x7b2))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x4ab383=_0x6c5a29;document[_0x4ab383(0x48d)]('quiz-editor-modal')['classList'][_0x4ab383(0x49b)](_0x4ab383(0xc6c)),showConfirmation(_0x4ab383(0x931),handleSaveChanges);}),document['getElementById']('auto-fix-latex-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleAutoFixLatex);const _0x5ecdce=document['getElementById']('quiz-editor-questions-container');_0x5ecdce&&_0x5ecdce[_0x6c5a29(0x331)]('click',_0x513c31=>{const _0x4d1ba8=_0x6c5a29,_0x254500=_0x513c31[_0x4d1ba8(0x805)][_0x4d1ba8(0x951)](_0x4d1ba8(0x3fc)),_0x2c804f=_0x513c31[_0x4d1ba8(0x805)][_0x4d1ba8(0x951)](_0x4d1ba8(0x37f));if(_0x254500){const _0x876c61=_0x254500[_0x4d1ba8(0x951)](_0x4d1ba8(0xb3a)),_0x228801=parseInt(_0x876c61['dataset'][_0x4d1ba8(0x7dc)],0xa);handleRegenerateQuestionInEditor(_0x228801);}else{if(_0x2c804f){const _0x320775=_0x2c804f['closest'](_0x4d1ba8(0xb3a)),_0xf5cabe=parseInt(_0x320775[_0x4d1ba8(0x40c)][_0x4d1ba8(0x7dc)],0xa);handleAiFixFormula(_0xf5cabe);}}});document['getElementById']('open-quiz-bank-btn')[_0x6c5a29(0x331)]('click',openQuizBankModal),document['getElementById'](_0x6c5a29(0xce2))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x12053a=_0x6c5a29;document[_0x12053a(0x48d)](_0x12053a(0x58a))[_0x12053a(0xbbb)]['add'](_0x12053a(0xc6c));}),document[_0x6c5a29(0x48d)]('bank-quiz-search-input')[_0x6c5a29(0x331)](_0x6c5a29(0x6c3),_0x4ec249=>renderQuizBankList(_0x4ec249[_0x6c5a29(0x805)][_0x6c5a29(0xaef)]));const _0x3333c5=document['getElementById']('math-topics-checkbox-container');if(_0x3333c5){let _0x341887=null;_0x3333c5['addEventListener'](_0x6c5a29(0x623),_0x3776d6=>{const _0x42fdeb=_0x6c5a29,_0x325b6f=_0x3776d6['target'],_0x2ce567=_0x325b6f[_0x42fdeb(0x951)](_0x42fdeb(0x7da)),_0x3eab86=_0x325b6f['closest'](_0x42fdeb(0x372)),_0x56b858=_0x325b6f['closest'](_0x42fdeb(0x522)),_0x1085ed=_0x325b6f[_0x42fdeb(0x951)](_0x42fdeb(0x45b));if(_0x3eab86){_0x3776d6['preventDefault']();const _0x5bd5b7=_0x3eab86[_0x42fdeb(0x40c)]['id'],_0xa622ed=_0x3eab86[_0x42fdeb(0x951)](_0x42fdeb(0x4d0))['querySelector']('.topic-name-display')['textContent'];showConfirmation(_0x42fdeb(0xb6d)+_0xa622ed+'\x22?',()=>handleDeleteCustomTopic(_0x5bd5b7));}else{if(_0x2ce567){_0x3776d6[_0x42fdeb(0x512)]();_0x341887&&toggleTopicEditMode(_0x341887,![]);const _0x5f4cbd=_0x2ce567['closest'](_0x42fdeb(0x615));_0x341887=_0x5f4cbd,toggleTopicEditMode(_0x5f4cbd,!![]);}else{if(_0x56b858){_0x3776d6[_0x42fdeb(0x512)]();const _0x2e14e2=_0x56b858['dataset']['id'],_0x4c961c=_0x56b858['closest'](_0x42fdeb(0x615)),_0x24ed12=_0x4c961c['querySelector'](_0x42fdeb(0x411))['value'];handleUpdateCustomTopic(_0x2e14e2,_0x24ed12),_0x341887=null;}else{if(_0x1085ed){_0x3776d6[_0x42fdeb(0x512)]();const _0x2f8840=_0x1085ed[_0x42fdeb(0x951)]('[data-topic-container-id]');toggleTopicEditMode(_0x2f8840,![]),_0x341887=null;}}}}}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x64d))['addEventListener'](_0x6c5a29(0x623),()=>{const _0x92205a=_0x6c5a29;document[_0x92205a(0x48d)](_0x92205a(0x7f9))[_0x92205a(0xbbb)][_0x92205a(0x49b)](_0x92205a(0xc6c));}),document[_0x6c5a29(0x48d)]('close-lesson-plan-modal-footer-btn')[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x543fb7=_0x6c5a29;document[_0x543fb7(0x48d)]('lesson-plan-modal')[_0x543fb7(0xbbb)][_0x543fb7(0x49b)](_0x543fb7(0xc6c));}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x6c9))[_0x6c5a29(0x331)](_0x6c5a29(0x623),handleExportLessonPDF);}document[_0x6c5a29(0x48d)](_0x6c5a29(0x6df))['addEventListener'](_0x6c5a29(0x623),()=>{const _0x54cc66=_0x6c5a29;document[_0x54cc66(0x48d)]('comparison-modal')['classList'][_0x54cc66(0x49b)](_0x54cc66(0xc6c));}),document['getElementById'](_0x6c5a29(0x6d0))[_0x6c5a29(0x331)](_0x6c5a29(0x623),()=>{const _0x4029e7=_0x6c5a29;document[_0x4029e7(0x48d)](_0x4029e7(0xb9d))['classList'][_0x4029e7(0x49b)]('hidden');}),setupComparisonModalTabs(),document[_0x6c5a29(0xb53)][_0x6c5a29(0x331)](_0x6c5a29(0x623),function(_0x103394){const _0x3694fb=_0x6c5a29;if(_0x103394['target']['classList'][_0x3694fb(0x477)](_0x3694fb(0xaab))){const _0x2656c1=unescape(_0x103394[_0x3694fb(0x805)][_0x3694fb(0x40c)][_0x3694fb(0x6a9)]);startSkillPractice(_0x2656c1);}}),document[_0x6c5a29(0x48d)](_0x6c5a29(0x698))[_0x6c5a29(0x331)](_0x6c5a29(0x623),_0x2287fe=>{const _0x8f6b5e=_0x6c5a29,_0xb182ee=_0x2287fe[_0x8f6b5e(0x805)][_0x8f6b5e(0x951)](_0x8f6b5e(0xae1));if(_0xb182ee){const _0x6a7e8f=_0xb182ee[_0x8f6b5e(0x40c)][_0x8f6b5e(0xbe1)];handleDeleteSubmission(_0x6a7e8f);}});}async function handleStartGroupMode(_0x213d53,_0x4c799c=![]){const _0x343423=_0x3076df,_0x4d1306=allQuizzes[_0x343423(0xcf4)](_0x2c96db=>_0x2c96db['id']===_0x213d53)||allQuizzesGlobal['find'](_0x43a4a1=>_0x43a4a1['id']===_0x213d53);if(!_0x4d1306){showMessage(_0x343423(0xbe2));return;}currentQuizData=getShuffledQuiz(_0x4d1306);const _0x189238=Math[_0x343423(0x230)](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x1c77cd=await addDoc(collection(db,_0x343423(0xaa1)+appId+'/public/data/teamQuizzes'),{'quizId':_0x4d1306['id'],'projectId':_0x4d1306[_0x343423(0x2a3)],'status':'lobby','pin':_0x189238,'mode':_0x343423(0x4df),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4c799c});currentTeamQuizId=_0x1c77cd['id'],showView(_0x343423(0x3d8)),renderAdminTeamQuizDashboard(_0x189238,_0x4d1306['topic'],'group'),listenForTeamQuizUpdates();}catch(_0x4ec898){console['error']('Error\x20starting\x20group\x20quiz:',_0x4ec898),showMessage(_0x343423(0x77d));}}async function showStudentProgressView(){const _0x45794a=_0x3076df;studentInitialView[_0x45794a(0xbbb)][_0x45794a(0x49b)](_0x45794a(0xc6c)),document[_0x45794a(0x48d)](_0x45794a(0x2fc))[_0x45794a(0xbbb)]['remove'](_0x45794a(0xc6c));const _0x14bf78=document['getElementById']('progress-project-select'),_0x34570e=document[_0x45794a(0x48d)]('progress-student-select'),_0x408fb2=document[_0x45794a(0x48d)](_0x45794a(0x36a));_0x408fb2[_0x45794a(0x9c8)]=_0x45794a(0x2e5),_0x34570e[_0x45794a(0x9c8)]=_0x45794a(0x747),_0x34570e['disabled']=!![],_0x14bf78[_0x45794a(0x9c8)]=_0x45794a(0xa86);if(allProjects['length']===0x0){const _0x37a321=collection(db,_0x45794a(0xaa1)+appId+_0x45794a(0x8bc)),_0x1d96cf=await getDocs(_0x37a321);allProjects=_0x1d96cf[_0x45794a(0x9a1)][_0x45794a(0x3c9)](_0x3ac691=>({'id':_0x3ac691['id'],..._0x3ac691[_0x45794a(0x995)]()}));}const _0x11352b=allProjects[_0x45794a(0x475)](_0x14e3a6=>_0x14e3a6[_0x45794a(0x1a6)]?.[_0x45794a(0xb9e)]!==![]);_0x11352b['sort']((_0x1eb4a2,_0x1be459)=>_0x1eb4a2[_0x45794a(0x98e)][_0x45794a(0x980)](_0x1be459[_0x45794a(0x98e)],'th')),_0x14bf78[_0x45794a(0x9c8)]=_0x45794a(0xc2d)+_0x11352b['map'](_0x19cb03=>_0x45794a(0xb17)+_0x19cb03['id']+'\x22>'+_0x19cb03['projectName']+_0x45794a(0x881))['join'](''),_0x14bf78[_0x45794a(0x4e3)]=()=>{const _0x383edf=_0x45794a,_0x2756cc=_0x34570e[_0x383edf(0xaef)],_0x259527=_0x14bf78[_0x383edf(0xaef)];_0x34570e[_0x383edf(0x1dc)]=!![],_0x34570e[_0x383edf(0x9c8)]=_0x383edf(0x747),_0x408fb2[_0x383edf(0x9c8)]=_0x383edf(0x318);if(!_0x259527)return;const _0x2e6b96=allProjects[_0x383edf(0xcf4)](_0x16c6b1=>_0x16c6b1['id']===_0x259527);if(!_0x2e6b96||!_0x2e6b96['students'])return;const _0x4200a8=()=>{const _0x546320=_0x383edf;_0x34570e['innerHTML']=_0x546320(0x747)+_0x2e6b96[_0x546320(0x589)]['map'](_0x4e738b=>_0x546320(0xb17)+_0x4e738b+'\x22>'+_0x4e738b+'</option>')[_0x546320(0x28d)](''),_0x34570e[_0x546320(0x1dc)]=![];const _0x1e3cf3=Array[_0x546320(0x2bb)](_0x34570e[_0x546320(0x7ce)])['map'](_0x2f411b=>_0x2f411b[_0x546320(0xaef)]);if(_0x2756cc&&_0x1e3cf3[_0x546320(0x59e)](_0x2756cc))_0x34570e['value']=_0x2756cc,_0x34570e[_0x546320(0x1ab)](new Event(_0x546320(0x34f)));else _0x2e6b96[_0x546320(0x589)][_0x546320(0x3b0)]===0x1&&(_0x34570e[_0x546320(0xaef)]=_0x2e6b96[_0x546320(0x589)][0x0],_0x34570e[_0x546320(0x1ab)](new Event(_0x546320(0x34f))));};if(_0x2e6b96[_0x383edf(0x1a6)]?.['isPasscodeEnabled']){if(sessionStorage[_0x383edf(0x6a8)](_0x383edf(0x78c)+_0x259527)===_0x383edf(0xab4)){_0x4200a8();return;}const _0xfc8de=document['getElementById'](_0x383edf(0x5aa)),_0x58c4c8=document['getElementById'](_0x383edf(0xac8)),_0x59ea0d=document[_0x383edf(0x48d)]('cancel-passcode-btn'),_0x46855e=document[_0x383edf(0x48d)](_0x383edf(0x52c)),_0x5b61dc=document[_0x383edf(0x48d)](_0x383edf(0xa2f));document[_0x383edf(0x48d)](_0x383edf(0xb3d))[_0x383edf(0x9ea)]='สำหรับโปรเจค:\x20'+_0x2e6b96['projectName'],_0x46855e['value']='',_0x5b61dc['classList'][_0x383edf(0x49b)](_0x383edf(0xc6c)),_0xfc8de[_0x383edf(0xbbb)][_0x383edf(0xb7d)](_0x383edf(0xc6c));const _0x40f37c=()=>{const _0x219de8=_0x383edf,_0x377631=_0x46855e[_0x219de8(0xaef)]['trim']();_0x377631===_0x2e6b96[_0x219de8(0x1a6)][_0x219de8(0xb0b)]?(sessionStorage[_0x219de8(0x67a)](_0x219de8(0x78c)+_0x259527,_0x219de8(0xab4)),_0xfc8de['classList']['add'](_0x219de8(0xc6c)),_0x4200a8(),_0x58c4c8['removeEventListener'](_0x219de8(0x623),_0x40f37c)):_0x5b61dc['classList'][_0x219de8(0xb7d)](_0x219de8(0xc6c));};_0x58c4c8['onclick']=_0x40f37c,_0x59ea0d[_0x383edf(0x2ee)]=()=>{const _0x486f69=_0x383edf;_0xfc8de['classList'][_0x486f69(0x49b)](_0x486f69(0xc6c)),_0x14bf78[_0x486f69(0xaef)]='',_0x58c4c8[_0x486f69(0x210)](_0x486f69(0x623),_0x40f37c);};}else _0x4200a8();},_0x34570e[_0x45794a(0x4e3)]=()=>{const _0x1a9b9e=_0x45794a,_0x582acc=_0x14bf78['value'],_0x23898a=_0x34570e[_0x1a9b9e(0xaef)];_0x582acc&&_0x23898a&&renderStudentProgressDashboard(_0x582acc,_0x23898a);};}async function confirmAndJoinSyncGame(){const _0x18137e=_0x3076df,_0x194d35=Array[_0x18137e(0x2bb)](document[_0x18137e(0x599)](_0x18137e(0x37c)))[_0x18137e(0x3c9)](_0x2edd33=>_0x2edd33['value']);if(_0x194d35[_0x18137e(0x3b0)]===0x0){showMessage(_0x18137e(0xc63));return;}localTeamPlayers=_0x194d35,localPlayerTurnIndex=0x0;const _0x26a084=doc(db,_0x18137e(0xaa1)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x897cf3={};_0x194d35['forEach'](_0x42aa6f=>{const _0xe830e1=_0x18137e;_0x897cf3[_0xe830e1(0x5a2)+_0x42aa6f]={'name':_0x42aa6f,'score':0x0,'answered':![],'status':_0xe830e1(0x28f)};}),await updateDoc(_0x26a084,_0x897cf3),document[_0x18137e(0x48d)](_0x18137e(0x29a))[_0x18137e(0xbbb)][_0x18137e(0x49b)](_0x18137e(0xc6c)),currentStudentName=_0x194d35[0x0],listenForSyncGameUpdates();const _0x125bc0={'gameId':currentLiveGameId,'mode':_0x18137e(0xc90),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x18137e(0x67a)](_0x18137e(0x4ab),JSON[_0x18137e(0x4c6)](_0x125bc0)),currentMode!==_0x18137e(0xa9b)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x18137e(0x331)](_0x18137e(0x801),handleFullscreenChange),document[_0x18137e(0x331)](_0x18137e(0xcfa),handleVisibilityChange),enterFullscreen(),window[_0x18137e(0x331)](_0x18137e(0x604),resetDimTimer),window[_0x18137e(0x331)]('mousedown',resetDimTimer),window['addEventListener'](_0x18137e(0xc49),resetDimTimer),window[_0x18137e(0x331)](_0x18137e(0x3ce),resetDimTimer),resetDimTimer());}catch(_0x33a1d3){console[_0x18137e(0x405)]('Error\x20confirming\x20players\x20for\x20sync\x20game:',_0x33a1d3),showMessage(_0x18137e(0x948));}}async function resumeActiveGameSession(){const _0x1f5f8d=_0x3076df,_0x24d2fb=sessionStorage[_0x1f5f8d(0x6a8)](_0x1f5f8d(0x4ab));if(!_0x24d2fb)return;const _0x4a95a2=JSON['parse'](_0x24d2fb),{gameId:_0x8ab855,mode:_0x3f62ce,players:_0x2a5794,turnIndex:_0x28f9c1}=_0x4a95a2;try{let _0x337dd5,_0x54a53a;_0x3f62ce===_0x1f5f8d(0xc90)?_0x337dd5=doc(db,_0x1f5f8d(0xaa1)+appId+_0x1f5f8d(0x947),_0x8ab855):_0x337dd5=doc(db,_0x1f5f8d(0xaa1)+appId+_0x1f5f8d(0x8aa),_0x8ab855);_0x54a53a=await getDoc(_0x337dd5);if(!_0x54a53a[_0x1f5f8d(0x6b3)]()||_0x54a53a[_0x1f5f8d(0x995)]()['status']===_0x1f5f8d(0xc56)||_0x54a53a[_0x1f5f8d(0x995)]()[_0x1f5f8d(0x732)]===_0x1f5f8d(0xa54)){sessionStorage[_0x1f5f8d(0x2cc)](_0x1f5f8d(0x4ab));return;}console[_0x1f5f8d(0x676)]('กำลังกลับเข้าสู่เกม\x20'+_0x3f62ce+_0x1f5f8d(0x7ba)+_0x8ab855+')'),localTeamPlayers=_0x2a5794,localPlayerTurnIndex=_0x28f9c1;if(_0x3f62ce===_0x1f5f8d(0xc90))currentLiveGameId=_0x8ab855,currentStudentName=_0x2a5794[0x0],showView(_0x1f5f8d(0x3d8)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x8ab855;const _0x4b944d=_0x54a53a[_0x1f5f8d(0x995)](),_0x3e8351=doc(db,_0x1f5f8d(0xaa1)+appId+_0x1f5f8d(0x695),_0x4b944d[_0x1f5f8d(0xccd)]),_0x24189b=await getDoc(_0x3e8351);_0x24189b['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x24189b['id'],..._0x24189b[_0x1f5f8d(0x995)]()}),showView(_0x1f5f8d(0x849)),studentInitialView['classList'][_0x1f5f8d(0x49b)](_0x1f5f8d(0xc6c)),renderTeamQuizQuestion());}}catch(_0x32e6f2){console[_0x1f5f8d(0x405)](_0x1f5f8d(0x7a2),_0x32e6f2),sessionStorage['removeItem'](_0x1f5f8d(0x4ab));}}function activateFileInputAreaWithLoadedFile(){const _0x2d9d4a=_0x3076df,_0x2b1eb7=document[_0x2d9d4a(0x48d)](_0x2d9d4a(0xb2e)),_0x207d17=document[_0x2d9d4a(0x48d)](_0x2d9d4a(0xb88)),_0x1617e5=document[_0x2d9d4a(0x48d)](_0x2d9d4a(0xa5f));selectedFile?_0x1617e5[_0x2d9d4a(0xb91)]?(_0x2b1eb7[_0x2d9d4a(0x1dc)]=!![],analyzeFileForTopics(selectedFile)):(_0x2b1eb7[_0x2d9d4a(0x1dc)]=![],_0x207d17[_0x2d9d4a(0xbbb)][_0x2d9d4a(0x49b)]('hidden')):(_0x2b1eb7[_0x2d9d4a(0x1dc)]=!![],_0x207d17[_0x2d9d4a(0xbbb)][_0x2d9d4a(0x49b)](_0x2d9d4a(0xc6c)));}async function handleKickPlayerSync(_0x30851e){const _0x4024ec=_0x3076df;if(!currentLiveGameId||!_0x30851e)return;const _0x79edfe=doc(db,_0x4024ec(0xaa1)+appId+_0x4024ec(0x947),currentLiveGameId),_0x2548f4={};_0x2548f4[_0x4024ec(0x5a2)+_0x30851e+_0x4024ec(0xd0a)]='inactive';try{await updateDoc(_0x79edfe,_0x2548f4);}catch(_0x37bbe9){console['error'](_0x4024ec(0x2e9)+_0x30851e+_0x4024ec(0x8d7),_0x37bbe9),showMessage(_0x4024ec(0x7b1));}}async function renderStudentProgressDashboard(_0x505dd2,_0x1e1f19){const _0x297fdc=_0x3076df,_0x3cf645=document[_0x297fdc(0x48d)](_0x297fdc(0x36a));_0x3cf645[_0x297fdc(0x9c8)]=_0x297fdc(0x6d4);try{const _0x11822c=collection(db,_0x297fdc(0xaa1)+appId+_0x297fdc(0x695)),_0x52b43f=query(_0x11822c,where(_0x297fdc(0x2a3),'==',_0x505dd2)),_0x363a4b=await getDocs(_0x52b43f),_0x1e0724=_0x363a4b['docs'][_0x297fdc(0x3c9)](_0x3c6073=>({'id':_0x3c6073['id'],..._0x3c6073[_0x297fdc(0x995)]()})),_0xbeb38c=_0x1e0724[_0x297fdc(0x3c9)](_0x565ccd=>getDoc(doc(db,_0x297fdc(0xaa1)+appId+_0x297fdc(0xa74)+_0x565ccd['id']+'/submissions',_0x1e1f19))),_0x332b7e=await Promise['all'](_0xbeb38c),_0x2c82a8=_0x332b7e['filter'](_0x300430=>_0x300430['exists']())[_0x297fdc(0x3c9)](_0x1e2d06=>({'quizId':_0x1e2d06[_0x297fdc(0xcc2)][_0x297fdc(0x53b)][_0x297fdc(0x53b)]['id'],..._0x1e2d06[_0x297fdc(0x995)]()}));if(_0x2c82a8[_0x297fdc(0x3b0)]===0x0){_0x3cf645[_0x297fdc(0x9c8)]=_0x297fdc(0x426);return;}let _0x4eccc4=_0x297fdc(0x6a3);_0x2c82a8[_0x297fdc(0x9c9)](_0x24bc22=>{const _0x44ffba=_0x297fdc,_0xe1c3ff=_0x1e0724[_0x44ffba(0xcf4)](_0x3857e7=>_0x3857e7['id']===_0x24bc22[_0x44ffba(0xccd)]),_0x7c61b5=_0xe1c3ff[_0x44ffba(0x1a6)]?.['resultsDisplay']||_0x44ffba(0x7d8),_0x1a9729=_0xe1c3ff[_0x44ffba(0x1a6)]?.[_0x44ffba(0xb3b)]??0x0,_0xdef4a1=_0x24bc22[_0x44ffba(0xc4d)]>=_0x1a9729;let _0x2a3b44='',_0x5541d9=_0x44ffba(0xbca);switch(_0x7c61b5){case _0x44ffba(0x7d8):case _0x44ffba(0x19d):_0x5541d9=_0xdef4a1?_0x44ffba(0x854):_0x44ffba(0xbd6),_0x2a3b44=_0x44ffba(0x5d7)+(_0xdef4a1?_0x44ffba(0x630):'text-red-700')+'\x22>'+_0x24bc22[_0x44ffba(0xc4d)]+_0x44ffba(0x41b)+_0x24bc22[_0x44ffba(0x4e5)]+_0x44ffba(0xbf5)+(_0xdef4a1?_0x44ffba(0x339):_0x44ffba(0x9b7))+'\x22>'+(_0xdef4a1?_0x44ffba(0x4cb):_0x44ffba(0x3cf))+_0x44ffba(0x7e8);break;case _0x44ffba(0xbde):_0x5541d9=_0xdef4a1?_0x44ffba(0x854):'bg-red-50',_0x2a3b44=_0x44ffba(0x952)+(_0xdef4a1?_0x44ffba(0x339):_0x44ffba(0x9b7))+'\x22>'+(_0xdef4a1?_0x44ffba(0x4cb):_0x44ffba(0x3cf))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'manual_release':_0x5541d9=_0x44ffba(0xbae),_0x2a3b44=_0x44ffba(0x990);break;}_0x4eccc4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x5541d9+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0xe1c3ff[_0x44ffba(0x6a9)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x24bc22['attempts']['length']+_0x44ffba(0x868)+new Date(_0x24bc22['latestSubmittedAt'])[_0x44ffba(0xcd5)](_0x44ffba(0xa92))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a3b44+_0x44ffba(0x937);}),_0x4eccc4+='</div>',_0x3cf645[_0x297fdc(0x9c8)]=_0x4eccc4;}catch(_0x439ba2){console[_0x297fdc(0x405)](_0x297fdc(0x596),_0x439ba2),_0x3cf645['innerHTML']=_0x297fdc(0x862);}}function renderQuizBankListForMultiSelect(_0x3f76cb=''){const _0x139082=_0x3076df,_0xc0da9e=document[_0x139082(0x48d)](_0x139082(0x31f)),_0x473c7f=_0x3f76cb[_0x139082(0x235)]()['trim'](),_0x40a9a4=allQuizzesGlobal[_0x139082(0x3c9)](_0x59d135=>({..._0x59d135,'projectName':allProjects[_0x139082(0xcf4)](_0x310979=>_0x310979['id']===_0x59d135[_0x139082(0x2a3)])?.[_0x139082(0x98e)]||_0x139082(0xb36)}))[_0x139082(0x475)](_0x496577=>(_0x496577[_0x139082(0x6a9)]||'')[_0x139082(0x235)]()[_0x139082(0x59e)](_0x473c7f)||(_0x496577['projectName']||'')[_0x139082(0x235)]()['includes'](_0x473c7f)||_0x496577['id'][_0x139082(0x2ed)]()['includes'](_0x473c7f));_0xc0da9e['innerHTML']=_0x40a9a4[_0x139082(0x3b0)]?_0x40a9a4[_0x139082(0x3c9)](_0x149efd=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x149efd['id']+'\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x149efd[_0x139082(0x6a9)]||_0x139082(0x3e5))+_0x139082(0xd14)+_0x149efd['projectName']+'\x20|\x20ID:\x20'+_0x149efd['id']+_0x139082(0x30d))[_0x139082(0x28d)](''):_0x139082(0x62c),_0xc0da9e[_0x139082(0x4e3)]=()=>{const _0x475714=_0x139082,_0x1d5727=document[_0x475714(0x381)](_0x475714(0xc77));document['getElementById'](_0x475714(0x410))[_0x475714(0x1dc)]=!_0x1d5727;};}function setupStudentProgressListeners(){const _0x332977=_0x3076df;document[_0x332977(0x48d)](_0x332977(0xc32))[_0x332977(0x331)]('click',showStudentProgressView),document[_0x332977(0x48d)]('back-to-student-home-btn')[_0x332977(0x331)]('click',()=>{const _0x2c0af=_0x332977;document[_0x2c0af(0x48d)]('student-progress-view')[_0x2c0af(0xbbb)]['add'](_0x2c0af(0xc6c)),document['getElementById']('student-initial-view')[_0x2c0af(0xbbb)][_0x2c0af(0xb7d)]('hidden');});}async function startSkillPractice(_0x146bf1){const _0x3fdc63=_0x3076df;studentResultArea[_0x3fdc63(0xbbb)][_0x3fdc63(0x49b)](_0x3fdc63(0xc6c)),studentQuizArea[_0x3fdc63(0x9c8)]=_0x3fdc63(0x706),studentQuizArea['classList'][_0x3fdc63(0xb7d)](_0x3fdc63(0xc6c));try{const _0x500fe5=await getStandardizedTopic(_0x146bf1);console[_0x3fdc63(0x676)](_0x3fdc63(0x4be)+_0x146bf1+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x500fe5+'\x22'),studentQuizArea[_0x3fdc63(0x381)]('p')[_0x3fdc63(0x9ea)]=_0x3fdc63(0x1b4)+_0x500fe5+_0x3fdc63(0x861);const _0x334912=collection(db,_0x3fdc63(0xaa1)+appId+_0x3fdc63(0x193)),_0x926216=query(_0x334912,where(_0x3fdc63(0x6a9),'==',_0x500fe5)),_0x455346=await getDocs(_0x926216);if(_0x455346['docs'][_0x3fdc63(0x3b0)]>=0x3){console[_0x3fdc63(0x676)](_0x3fdc63(0x349)+_0x455346['docs']['length']+_0x3fdc63(0xa2a)+_0x500fe5+_0x3fdc63(0x8d1));let _0x570662=_0x455346[_0x3fdc63(0x9a1)][_0x3fdc63(0x3c9)](_0x42c2c8=>_0x42c2c8[_0x3fdc63(0x995)]());shuffleArray(_0x570662);const _0xc99b4={'topic':_0x500fe5,'questions':_0x570662[_0x3fdc63(0x9e0)](0x0,0x3)};displaySkillPracticeDrill(_0xc99b4);}else{console[_0x3fdc63(0x676)](_0x3fdc63(0x6f4)+_0x500fe5+_0x3fdc63(0x788));const _0x495ab4=await generatePracticeQuestions(_0x500fe5);await saveDrillToPracticeBank(_0x495ab4,_0x500fe5),displaySkillPracticeDrill(_0x495ab4);}}catch(_0x5ad435){console[_0x3fdc63(0x405)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x5ad435),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x3fdc63(0xbbb)][_0x3fdc63(0x49b)](_0x3fdc63(0xc6c)),studentResultArea[_0x3fdc63(0xbbb)]['remove']('hidden');}}async function saveDrillToPracticeBank(_0x150eec,_0x4d5e0a){const _0x4189d4=_0x3076df,_0x220670=collection(db,_0x4189d4(0xaa1)+appId+_0x4189d4(0x193)),_0x107d05=writeBatch(db);_0x150eec[_0x4189d4(0x796)][_0x4189d4(0x9c9)](_0xbcad61=>{const _0xf91e43=_0x4189d4,_0x3df2ec=doc(_0x220670);_0x107d05[_0xf91e43(0x914)](_0x3df2ec,{'topic':_0x4d5e0a,'questionText':_0xbcad61[_0xf91e43(0x833)],'options':_0xbcad61[_0xf91e43(0x7ce)],'correctAnswerIndex':_0xbcad61['correctAnswerIndex'],'explanation':_0xbcad61[_0xf91e43(0x4f5)],'createdAt':serverTimestamp()});});try{await _0x107d05[_0x4189d4(0x248)](),console[_0x4189d4(0x676)]('บันทึกคำถามใหม่\x20'+_0x150eec[_0x4189d4(0x796)][_0x4189d4(0x3b0)]+_0x4189d4(0x930));}catch(_0x3b0829){console['error']('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x3b0829);}}async function getStandardizedTopic(_0x30a16b){const _0x1801b3=_0x3076df,_0x3923b8=_0x1801b3(0x2e3)+_0x30a16b+_0x1801b3(0x653),_0x5bee7d={'type':'OBJECT','properties':{'standardTopic':{'type':_0x1801b3(0x670)}},'required':['standardTopic']};try{const _0x3b0174=await callAnalysisApi(_0x3923b8,_0x5bee7d);return _0x3b0174[_0x1801b3(0xc11)];}catch(_0x169199){return console[_0x1801b3(0x405)](_0x1801b3(0x45f),_0x169199),_0x30a16b;}}async function handleGenerateEasyVersionQuiz(_0x5c7215){const _0x2245b4=_0x3076df,_0x1b96f6=document[_0x2245b4(0x48d)]('results-tab-content'),_0xcad4d0=document[_0x2245b4(0x48d)]('project-quizzes-list');_0xcad4d0[_0x2245b4(0xbbb)]['add'](_0x2245b4(0xc6c));const _0x3ccb2d=_0x2245b4(0x6d9);_0x1b96f6[_0x2245b4(0x8d6)](_0x2245b4(0x85b),_0x3ccb2d);try{const _0x55a33b=allQuizzes[_0x2245b4(0xcf4)](_0x2ec8b5=>_0x2ec8b5['id']===_0x5c7215);if(!_0x55a33b)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x20a7b9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x2245b4(0x4c6)](_0x55a33b[_0x2245b4(0x796)])+_0x2245b4(0x864),_0x45d216={'type':_0x2245b4(0x85f),'properties':{'questionText':{'type':_0x2245b4(0x670)},'questionType':{'type':_0x2245b4(0x670)},'options':{'type':_0x2245b4(0x45a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2245b4(0x312)},'idealAnswer':{'type':_0x2245b4(0x670)},'explanation':{'type':_0x2245b4(0x670)},'imageCode':{'type':_0x2245b4(0x670)}},'required':[_0x2245b4(0x833),_0x2245b4(0xbc3),_0x2245b4(0x4f5)]},_0x4d9b23={'type':_0x2245b4(0x85f),'properties':{'questions':{'type':_0x2245b4(0x45a),'items':_0x45d216}},'required':['questions']},_0x1e9d06=await callAnalysisApi(_0x20a7b9,_0x4d9b23);_0x1e9d06&&_0x1e9d06['questions']&&_0x1e9d06[_0x2245b4(0x796)][_0x2245b4(0x9c9)](_0x1f3560=>{const _0x2ead2e=_0x2245b4;if(_0x1f3560[_0x2ead2e(0x329)]('imageCode')){const _0x3aa48d=String(_0x1f3560[_0x2ead2e(0x415)])[_0x2ead2e(0x7fe)]();(_0x3aa48d===''||_0x3aa48d[_0x2ead2e(0x235)]()===_0x2ead2e(0x79a)||!_0x3aa48d[_0x2ead2e(0x1c6)]('<svg'))&&delete _0x1f3560[_0x2ead2e(0x415)];}});if(!_0x1e9d06||!_0x1e9d06[_0x2245b4(0x796)]||_0x1e9d06[_0x2245b4(0x796)]['length']===0x0)throw new Error(_0x2245b4(0x745));const _0x36b56a=_0x1e9d06[_0x2245b4(0x796)]['map']((_0x123cd2,_0x4fffd0)=>({..._0x123cd2,'id':'q_'+Date['now']()+'_'+_0x4fffd0})),_0x521779={'projectId':_0x55a33b['projectId'],'quizType':_0x55a33b[_0x2245b4(0xcb9)],'settings':_0x55a33b['settings'],'createdBy':_0x55a33b[_0x2245b4(0xb78)],'status':_0x2245b4(0x28f),'topic':_0x2245b4(0x1c9)+_0x55a33b['topic'],'questions':_0x36b56a,'createdAt':new Date()[_0x2245b4(0x523)](),'quizMode':'standard','pairedQuizId':null};let _0x33807b;while(!![]){_0x33807b=Math['floor'](0x3e8+Math[_0x2245b4(0x386)]()*0x2328)[_0x2245b4(0x2ed)]();const _0xa0d961=await getDoc(doc(db,'artifacts/'+appId+_0x2245b4(0x695),_0x33807b));if(!_0xa0d961[_0x2245b4(0x6b3)]())break;}await setDoc(doc(db,_0x2245b4(0xaa1)+appId+_0x2245b4(0x695),_0x33807b),_0x521779),showMessage(_0x2245b4(0x8df));}catch(_0x514408){console['error'](_0x2245b4(0xba9),_0x514408),showMessage(_0x2245b4(0x427)+_0x514408['message']);}finally{const _0x1bc80d=document[_0x2245b4(0x48d)](_0x2245b4(0x1f5));_0x1bc80d&&_0x1bc80d[_0x2245b4(0xb7d)](),_0xcad4d0[_0x2245b4(0xbbb)][_0x2245b4(0xb7d)](_0x2245b4(0xc6c));}}async function generatePracticeQuestions(_0x1823a8){const _0x48cb5c=_0x3076df,_0x5225e8=_0x48cb5c(0x433)+_0x1823a8+_0x48cb5c(0xace)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x4b3e41={'type':_0x48cb5c(0x85f),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x48cb5c(0x45a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x48cb5c(0x312)},'explanation':{'type':_0x48cb5c(0x670)}},'required':[_0x48cb5c(0x833),_0x48cb5c(0x7ce),'correctAnswerIndex',_0x48cb5c(0x4f5)]},_0x5c47f0={'type':_0x48cb5c(0x85f),'properties':{'topic':{'type':_0x48cb5c(0x670)},'questions':{'type':_0x48cb5c(0x45a),'items':_0x4b3e41}},'required':[_0x48cb5c(0x6a9),_0x48cb5c(0x796)]};return await callAnalysisApi(_0x5225e8,_0x5c47f0);}function displayLessonPlan(_0x11fe48,_0x39964c){const _0xd69b56=_0x3076df,_0x249b62=_0xd69b56(0x2e0)+_0x39964c[_0xd69b56(0x6a9)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x11fe48[_0xd69b56(0x20f)][_0xd69b56(0x3c9)](_0x3105f6=>'<li>'+_0x3105f6+_0xd69b56(0xa97))['join']('')+_0xd69b56(0x5b1)+_0x11fe48['teachingContent']+_0xd69b56(0x5d6)+_0x11fe48[_0xd69b56(0x7a5)]['map'](_0x500eff=>_0xd69b56(0x816)+_0x500eff[_0xd69b56(0x41d)]+_0xd69b56(0x9dd)+_0x500eff[_0xd69b56(0xa4c)]+'</p></div>')[_0xd69b56(0x28d)]('')+_0xd69b56(0xb9a);document[_0xd69b56(0x48d)](_0xd69b56(0xbbe))['textContent']='แผนการสอน:\x20'+_0x39964c['topic'],document['getElementById'](_0xd69b56(0xa13))[_0xd69b56(0x9c8)]=_0x249b62,document[_0xd69b56(0x48d)](_0xd69b56(0x7f9))[_0xd69b56(0xbbb)]['remove'](_0xd69b56(0xc6c));if(window['MathJax'])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x4f32a8){const _0x10942e=_0x3076df;let _0x4e57ed=0x0;const _0xd7d0cc=_0x4f32a8[_0x10942e(0x796)],_0x511aaf=()=>{const _0x55d787=_0x10942e,_0x16faee=_0xd7d0cc[_0x4e57ed],_0x47d5e4=_0x55d787(0xbb6)+(_0x4e57ed+0x1)+'\x20/\x20'+_0xd7d0cc[_0x55d787(0x3b0)]+_0x55d787(0x408)+_0x16faee[_0x55d787(0x833)]+_0x55d787(0x302)+_0x16faee[_0x55d787(0x7ce)][_0x55d787(0x3c9)]((_0x3be022,_0xcf8e74)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0xcf8e74+_0x55d787(0x3c4)+_0xcf8e74+_0x55d787(0x6db)+_0xcf8e74+'\x22>'+_0x3be022+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x55d787(0x28d)]('')+_0x55d787(0x282);studentQuizArea[_0x55d787(0x9c8)]=_0x47d5e4;if(window[_0x55d787(0x278)])MathJax[_0x55d787(0x73c)]([studentQuizArea]);document[_0x55d787(0x48d)](_0x55d787(0x5ef))[_0x55d787(0x331)](_0x55d787(0x623),async()=>{const _0x1879f2=_0x55d787,_0x5933d6=await getHintForQuestion(_0x16faee[_0x1879f2(0x833)]);showMessage(_0x5933d6);}),document[_0x55d787(0x48d)]('check-answer-btn')[_0x55d787(0x331)](_0x55d787(0x623),()=>{const _0x5ec331=_0x55d787,_0x484892=document[_0x5ec331(0x381)]('input[name=\x22drill_answer\x22]:checked');if(!_0x484892){showMessage(_0x5ec331(0x609));return;}const _0xc3a848=document['getElementById']('drill-feedback'),_0x132ac9=parseInt(_0x484892[_0x5ec331(0xaef)])===_0x16faee['correctAnswerIndex'];_0x132ac9?(_0xc3a848[_0x5ec331(0x76c)]=_0x5ec331(0x470),_0xc3a848[_0x5ec331(0x9c8)]=_0x5ec331(0x8b0)+_0x16faee[_0x5ec331(0x4f5)]):(_0xc3a848[_0x5ec331(0x76c)]=_0x5ec331(0xa3b),_0xc3a848[_0x5ec331(0x9c8)]=_0x5ec331(0x2dc)+_0x16faee[_0x5ec331(0x4f5)]);_0xc3a848['classList'][_0x5ec331(0xb7d)]('hidden');if(window[_0x5ec331(0x278)])MathJax[_0x5ec331(0x73c)]([_0xc3a848]);document[_0x5ec331(0x48d)](_0x5ec331(0x9ab))['classList'][_0x5ec331(0x49b)](_0x5ec331(0xc6c)),document['getElementById']('hint-btn')[_0x5ec331(0xbbb)]['add']('hidden'),document[_0x5ec331(0x48d)](_0x5ec331(0xb96))[_0x5ec331(0xbbb)][_0x5ec331(0xb7d)](_0x5ec331(0xc6c));}),document[_0x55d787(0x48d)](_0x55d787(0xb96))[_0x55d787(0x331)](_0x55d787(0x623),()=>{const _0x4842d5=_0x55d787;_0x4e57ed++,_0x4e57ed<_0xd7d0cc[_0x4842d5(0x3b0)]?_0x511aaf():(studentQuizArea[_0x4842d5(0x9c8)]=_0x4842d5(0x346),document[_0x4842d5(0x48d)](_0x4842d5(0x514))[_0x4842d5(0x331)](_0x4842d5(0x623),()=>{const _0x1e2f2f=_0x4842d5;studentQuizArea[_0x1e2f2f(0xbbb)][_0x1e2f2f(0x49b)](_0x1e2f2f(0xc6c)),studentResultArea[_0x1e2f2f(0xbbb)][_0x1e2f2f(0xb7d)](_0x1e2f2f(0xc6c));}));});};_0x511aaf();}async function getHintForQuestion(_0x5a9657){const _0x4c1483=_0x3076df,_0x3b6c17=_0x4c1483(0x8b6)+_0x5a9657+_0x4c1483(0xa2c),_0x141df4={'type':_0x4c1483(0x85f),'properties':{'hint':{'type':_0x4c1483(0x670)}},'required':[_0x4c1483(0x94f)]};try{const _0x99ef39=await callAnalysisApi(_0x3b6c17,_0x141df4);return _0x99ef39[_0x4c1483(0x94f)];}catch(_0x50e696){return console[_0x4c1483(0x405)](_0x4c1483(0x55d),_0x50e696),_0x4c1483(0x785);}}async function extractTextFromPdf(_0x5a668b){const _0x105656=_0x3076df;pdfjsLib['GlobalWorkerOptions'][_0x105656(0x804)]=_0x105656(0x9dc);const _0x40726a=await _0x5a668b[_0x105656(0xc3b)](),_0x41beaa=await pdfjsLib[_0x105656(0x1d1)](_0x40726a)['promise'],_0x57afd0=_0x41beaa[_0x105656(0x890)];let _0x50ddf0='';for(let _0x4ec42d=0x1;_0x4ec42d<=_0x57afd0;_0x4ec42d++){const _0x21a974=await _0x41beaa['getPage'](_0x4ec42d),_0x247bc2=await _0x21a974[_0x105656(0x361)](),_0x38e6c1=_0x247bc2['items'][_0x105656(0x3c9)](_0x4f8659=>_0x4f8659[_0x105656(0x600)])[_0x105656(0x28d)]('\x20');_0x50ddf0+=_0x38e6c1+'\x0a\x0a';}return _0x50ddf0;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x2f2fda){const _0x216b87=_0x3076df,_0x3b11a9=document[_0x216b87(0x48d)](_0x216b87(0x262)),_0x26a2ac=document[_0x216b87(0x48d)]('blueprint-topics-list'),_0xe9247b=document[_0x216b87(0x48d)](_0x216b87(0x412));_0x3b11a9[_0x216b87(0xbbb)][_0x216b87(0xb7d)]('hidden'),_0x26a2ac['innerHTML']='<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>',_0xe9247b[_0x216b87(0xbbb)][_0x216b87(0x49b)](_0x216b87(0xc6c));try{const _0x5af157=_0x216b87(0xbc8)+_0x2f2fda+'\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27',_0x51d4de={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x216b87(0x670)},'curriculum':{'type':_0x216b87(0x45a),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x216b87(0x670)},'mainTopics':{'type':'ARRAY','items':{'type':_0x216b87(0x85f),'properties':{'topicName':{'type':_0x216b87(0x670)},'subTopics':{'type':_0x216b87(0x45a),'items':{'type':_0x216b87(0x670)}}},'required':[_0x216b87(0x877),'subTopics']}}},'required':[_0x216b87(0x79c),_0x216b87(0x198)]}}},'required':[_0x216b87(0xaf3),_0x216b87(0x74f)]},_0x1a3abd=await callAnalysisApi(_0x5af157,_0x51d4de);if(_0x1a3abd&&_0x1a3abd['curriculum'])extractedBlueprintData=_0x1a3abd,renderBlueprintTopics(_0x1a3abd),_0xe9247b['classList'][_0x216b87(0xb7d)](_0x216b87(0xc6c));else throw new Error('AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้');}catch(_0x1548e5){console[_0x216b87(0x405)](_0x216b87(0x582),_0x1548e5),_0x26a2ac['innerHTML']=_0x216b87(0x964);}}function renderBlueprintTopics(_0x3130c2){const _0x36bb81=_0x3076df,_0x3056a7=document['getElementById'](_0x36bb81(0xc4c)),_0x181422=_0x3130c2[_0x36bb81(0xaf3)],_0x1df807=_0x36bb81(0x6cd)+_0x181422+'</h3>';let _0x45c91f='';_0x3130c2[_0x36bb81(0x74f)]['forEach'](_0x5360b9=>{const _0x3e78cf=_0x36bb81;_0x45c91f+=_0x3e78cf(0x207)+_0x5360b9['sara']+_0x3e78cf(0xc72),_0x5360b9[_0x3e78cf(0x198)][_0x3e78cf(0x9c9)](_0x3368a6=>{const _0xe09f95=_0x3e78cf;_0x45c91f+=_0xe09f95(0x6bf)+_0x3368a6[_0xe09f95(0x877)]+_0xe09f95(0xcda),_0x3368a6[_0xe09f95(0x710)]['forEach'](_0x43231f=>{const _0x6dd7eb=_0xe09f95;_0x45c91f+=_0x6dd7eb(0xaf7)+_0x43231f['replace'](/'/g,'\x5c\x27')+_0x6dd7eb(0xb77)+_0x181422[_0x6dd7eb(0x1ba)](/'/g,'\x5c\x27')+_0x6dd7eb(0x818)+_0x43231f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x43231f['replace'](/'/g,'\x5c\x27')+_0x6dd7eb(0x80c);}),_0x45c91f+=_0xe09f95(0x5c0);}),_0x45c91f+='</div>';}),_0x3056a7[_0x36bb81(0x9c8)]=_0x1df807+_0x45c91f;}async function handleGenerateTeachingContent(_0x20d9e5){const _0x2dee02=_0x3076df,_0x31a758=document[_0x2dee02(0x48d)](_0x2dee02(0x7f9)),_0xdf60bc=document[_0x2dee02(0x48d)](_0x2dee02(0xa13));document[_0x2dee02(0x48d)]('lesson-plan-title')[_0x2dee02(0x9ea)]='กำลังสร้างเนื้อหา:\x20'+_0x20d9e5,_0xdf60bc[_0x2dee02(0x9c8)]=_0x2dee02(0x8be),_0x31a758[_0x2dee02(0xbbb)][_0x2dee02(0xb7d)](_0x2dee02(0xc6c));try{const _0x18fb43=_0x2dee02(0xa93)+_0x20d9e5+_0x2dee02(0x9ec),_0x36c131={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x2dee02(0x45a),'items':{'type':_0x2dee02(0x670)}},'commonMistakes':{'type':_0x2dee02(0x45a),'items':{'type':'STRING'}},'stepByStepExamples':{'type':_0x2dee02(0x45a),'items':{'type':_0x2dee02(0x85f),'properties':{'question':{'type':_0x2dee02(0x670)},'solution':{'type':_0x2dee02(0x670)}},'required':[_0x2dee02(0x41d),_0x2dee02(0xa4c)]}},'teacherTips':{'type':_0x2dee02(0x45a),'items':{'type':_0x2dee02(0x670)}}},'required':[_0x2dee02(0x8d4),_0x2dee02(0x3bc),_0x2dee02(0x345),_0x2dee02(0x1f7)]},_0x2e2d82=await callAnalysisApi(_0x18fb43,_0x36c131);displayTeachingContent(_0x2e2d82,_0x20d9e5);}catch(_0x4b3dd0){console[_0x2dee02(0x405)](_0x2dee02(0x94a),_0x4b3dd0),_0xdf60bc[_0x2dee02(0x9c8)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x4b3dd0['message']+_0x2dee02(0x19e);}}function displayTeachingContent(_0x44750b,_0x2d9923){const _0x302eb8=_0x3076df,_0x420dc8=document[_0x302eb8(0x48d)](_0x302eb8(0xa13));document[_0x302eb8(0x48d)](_0x302eb8(0xbbe))[_0x302eb8(0x9ea)]='เนื้อหาสำหรับสอน:\x20'+_0x2d9923;const _0x2313eb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x44750b[_0x302eb8(0x8d4)]['map'](_0x280c19=>_0x302eb8(0xa4a)+_0x280c19+_0x302eb8(0xa97))['join']('')+_0x302eb8(0xbd2)+_0x44750b[_0x302eb8(0x3bc)]['map'](_0x3510fa=>_0x302eb8(0xa4a)+_0x3510fa+_0x302eb8(0xa97))['join']('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x44750b[_0x302eb8(0x345)][_0x302eb8(0x3c9)](_0x10f567=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x10f567['question']+_0x302eb8(0x986)+_0x10f567['solution']+_0x302eb8(0x663))['join']('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x44750b[_0x302eb8(0x1f7)][_0x302eb8(0x3c9)](_0x1b1121=>_0x302eb8(0xa4a)+_0x1b1121+_0x302eb8(0xa97))[_0x302eb8(0x28d)]('')+_0x302eb8(0x5f8);_0x420dc8[_0x302eb8(0x9c8)]=_0x2313eb;if(window[_0x302eb8(0x278)])MathJax['typesetPromise']([_0x420dc8]);}async function generateQuizForSingleTopic(_0x142d5f){const _0x327042=_0x3076df;console[_0x327042(0x676)](_0x327042(0xabf)+_0x142d5f+'\x22');const _0x2cbc9a=document['getElementById'](_0x327042(0x9e5)),_0x24043b=_0x2cbc9a['files'][_0x327042(0x3b0)]>0x0?_0x2cbc9a[_0x327042(0x7c7)][0x0]:null;let _0x488e81=null;if(_0x24043b)try{const _0x473598=new FileReader();_0x473598[_0x327042(0x99a)](_0x24043b);const _0x2f2746=await new Promise((_0x37072c,_0x558ae9)=>{const _0x4cfc06=_0x327042;_0x473598['onload']=()=>_0x37072c(_0x473598['result']['split'](',')[0x1]),_0x473598[_0x4cfc06(0x792)]=_0x2638f4=>_0x558ae9(_0x2638f4);});_0x488e81=[{'inlineData':{'mimeType':_0x24043b[_0x327042(0x1a1)],'data':_0x2f2746}}];}catch(_0x4d4927){console[_0x327042(0x405)](_0x327042(0x59a),_0x4d4927),showMessage(_0x327042(0xc0b));return;}generateQuiz(_0x142d5f,null,null,_0x488e81,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x32988a=null){const _0x3d3f7c=_0x3076df,_0x3b26f9=document[_0x3d3f7c(0x48d)]('loader'),_0x1dcb3c=document[_0x3d3f7c(0x48d)]('loader-text');let _0x5089c9;if(_0x32988a)_0x5089c9=_0x32988a;else{const _0x3b9233=document[_0x3d3f7c(0x48d)]('blueprint-upload-input'),_0x8bdeb8=_0x3b9233['files'][0x0];if(!_0x8bdeb8){showMessage(_0x3d3f7c(0xca3));return;}_0x1dcb3c[_0x3d3f7c(0x9ea)]=_0x3d3f7c(0x357);const _0x4f2f8c=await new Promise((_0x562353,_0x1bf472)=>{const _0x2d4e18=_0x3d3f7c,_0x27d539=new FileReader();_0x27d539[_0x2d4e18(0x99a)](_0x8bdeb8),_0x27d539['onload']=()=>_0x562353(_0x27d539[_0x2d4e18(0xa0e)][_0x2d4e18(0x1f1)](',')[0x1]),_0x27d539[_0x2d4e18(0x792)]=_0x1bf472;});_0x5089c9=[{'text':'PROMPT_PLACEHOLDER'},{'inlineData':{'mimeType':_0x8bdeb8[_0x3d3f7c(0x1a1)],'data':_0x4f2f8c}}];}const _0x1dd212='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20',_0x5f1ad9='**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET',_0x31ae13=_0x3d3f7c(0x9b8),_0x1d24e5={'type':_0x3d3f7c(0x85f),'properties':{'questionText':{'type':_0x3d3f7c(0x670)},'questionType':{'type':_0x3d3f7c(0x670),'enum':[_0x3d3f7c(0xa73),_0x3d3f7c(0x296),_0x3d3f7c(0x35a),_0x3d3f7c(0xd01)]},'options':{'type':'ARRAY','items':{'type':_0x3d3f7c(0x670)}},'correctAnswerIndex':{'type':_0x3d3f7c(0x312)},'idealAnswer':{'type':_0x3d3f7c(0x670)},'correctAnswer':{'type':_0x3d3f7c(0xa0f)},'explanation':{'type':_0x3d3f7c(0x670)},'imageCode':{'type':_0x3d3f7c(0x670)}},'required':[_0x3d3f7c(0xbc3),_0x3d3f7c(0x4f5)]},_0x5e455a={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3d3f7c(0x45a),'items':_0x1d24e5}},'required':[_0x3d3f7c(0x6a9),_0x3d3f7c(0x796)]};_0x5089c9[0x0]['text']=_0x31ae13,await handleApiCall(_0x5089c9,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x5e455a);}function proceedToNextQuestion(_0x1c91a0){const _0x12602a=_0x3076df;studentAnswersPerQuestion[_0x12602a(0x836)](_0x1c91a0),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x12602a(0x796)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x4370df,_0x1b1d04){const _0x2b0d1f=_0x3076df,_0x5abbdc=Object[_0x2b0d1f(0x391)](_0x4370df[_0x2b0d1f(0x501)]||{}),_0x23c827=_0x5abbdc['length'],_0x4fb82e=[..._0x5abbdc][_0x2b0d1f(0xa41)]((_0x2798eb,_0x236d98)=>_0x236d98[_0x2b0d1f(0x3cb)]-_0x2798eb[_0x2b0d1f(0x3cb)]),_0x5b9829=_0x4370df['currentQuestionIndex'];let _0x133edc='';const _0x513b27=_0x4370df['shuffledQuiz'][_0x2b0d1f(0x796)],_0x58b21c=_0x513b27[_0x5b9829],_0x3724fb=_0x4fc9d1=>String[_0x2b0d1f(0x77b)](0x41+_0x4fc9d1);let _0x3f40ca='',_0x48b0fa='';if(_0x58b21c){const _0x555d60=_0x58b21c[_0x2b0d1f(0xbc3)]||_0x4370df[_0x2b0d1f(0x65b)]['quizType'];if(_0x555d60==='multiple_choice'&&_0x58b21c[_0x2b0d1f(0x7ce)]&&_0x58b21c[_0x2b0d1f(0x60b)]!==undefined){const _0x1672c1=_0x58b21c[_0x2b0d1f(0x60b)];_0x3f40ca=_0x58b21c[_0x2b0d1f(0x7ce)][_0x1672c1],_0x48b0fa=_0x3724fb(_0x1672c1)+'.';}else{if(_0x555d60===_0x2b0d1f(0x35a)){const _0x2ee98a=_0x58b21c['correctAnswer']===!![]||String(_0x58b21c['correctAnswer'])['toLowerCase']()===_0x2b0d1f(0xab4);_0x2ee98a?(_0x3f40ca=_0x2b0d1f(0x640),_0x48b0fa='ก.'):(_0x3f40ca='ไม่ใช่\x20/\x20ผิด',_0x48b0fa='ข.');}else{if(_0x555d60===_0x2b0d1f(0xd01))_0x3f40ca=_0x58b21c[_0x2b0d1f(0x4fc)]||'-',_0x48b0fa='';else _0x555d60===_0x2b0d1f(0x296)&&(_0x3f40ca=_0x58b21c[_0x2b0d1f(0x36e)]||'-',_0x48b0fa='');}}}_0x3f40ca&&(_0x133edc=_0x2b0d1f(0x365)+(_0x5b9829+0x1)+'\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x48b0fa+'\x20'+_0x3f40ca+_0x2b0d1f(0x8e4));const _0x17f4b9=_0x4fb82e[_0x2b0d1f(0x3c9)](_0x404d7d=>{const _0x32ddaf=_0x2b0d1f;let _0x4ab642=![];if(_0x404d7d['answers']&&_0x5b9829!==-0x1){const _0x59face=_0x404d7d[_0x32ddaf(0x34e)]['find'](_0x582d66=>_0x582d66[_0x32ddaf(0x912)]===_0x5b9829);_0x59face&&_0x59face[_0x32ddaf(0xa78)]&&(_0x4ab642=!![]);}const _0x14ed33=_0x4ab642?_0x32ddaf(0xc44):_0x32ddaf(0x332);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x14ed33+_0x32ddaf(0x241)+_0x404d7d[_0x32ddaf(0x774)]+_0x32ddaf(0xd1a)+_0x404d7d[_0x32ddaf(0x3cb)]+_0x32ddaf(0xad7);})[_0x2b0d1f(0x28d)](''),_0xd3e74e=_0x513b27[_0x2b0d1f(0x3c9)]((_0x5e1666,_0x36c958)=>{const _0x32bcde=_0x2b0d1f,_0x40558b=_0x5abbdc[_0x32bcde(0x475)](_0xec16c0=>_0xec16c0[_0x32bcde(0x34e)]&&_0xec16c0['answers']['find'](_0x183e32=>_0x183e32[_0x32bcde(0x912)]===_0x36c958&&_0x183e32[_0x32bcde(0xa78)]))[_0x32bcde(0x3b0)],_0x1c36aa=_0x36c958===_0x5b9829,_0x27b813=_0x1c36aa?_0x32bcde(0x92e):_0x32bcde(0xbe0);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x27b813+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x36c958+0x1)+_0x32bcde(0x43f)+_0x40558b+'\x20/\x20'+_0x23c827+_0x32bcde(0xa81);})[_0x2b0d1f(0x28d)]('');let _0x5cabdb='',_0x94b21b='';if(_0x1b1d04){const _0x54206d=_0x4370df['currentQuestionIndex']>=_0x513b27[_0x2b0d1f(0x3b0)]-0x1;_0x5cabdb=_0x2b0d1f(0x9c6)+(_0x54206d?'ดูผลสรุปสุดท้าย':_0x2b0d1f(0x403))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x94b21b=_0x2b0d1f(0x922);}const _0x47e07c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x4370df[_0x2b0d1f(0x65b)][_0x2b0d1f(0x6a9)]+_0x2b0d1f(0x8ac)+_0x94b21b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x133edc+_0x2b0d1f(0xb42)+(_0x17f4b9||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0xd3e74e+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1b1d04?_0x2b0d1f(0x24d)+_0x5cabdb+_0x2b0d1f(0x9b9):'')+_0x2b0d1f(0xcb3);liveGameView[_0x2b0d1f(0x9c8)]=_0x47e07c;if(window[_0x2b0d1f(0x278)]){const _0x3d1214=document['getElementById']('main-correct-answer-display');_0x3d1214&&MathJax[_0x2b0d1f(0x73c)]([_0x3d1214]);}if(_0x1b1d04){document[_0x2b0d1f(0x48d)]('next-sync-question-btn')[_0x2b0d1f(0x2ee)]=async()=>{const _0x5942e1=_0x2b0d1f,_0x1de4e5=doc(db,_0x5942e1(0xaa1)+appId+_0x5942e1(0x947),currentLiveGameId),_0x2460f9=_0x4370df[_0x5942e1(0xb27)]+0x1;if(_0x2460f9<_0x513b27[_0x5942e1(0x3b0)]){const _0x2c96e1={};Object[_0x5942e1(0x3ca)](_0x4370df[_0x5942e1(0x501)])[_0x5942e1(0x9c9)](_0x23e916=>{const _0x100c45=_0x5942e1;_0x2c96e1[_0x100c45(0x5a2)+_0x23e916+_0x100c45(0x519)]=![],_0x2c96e1[_0x100c45(0x5a2)+_0x23e916+'.lastAnswerIndex']=null;}),await updateDoc(_0x1de4e5,{..._0x2c96e1,'status':_0x5942e1(0x41d),'currentQuestionIndex':_0x2460f9,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x1de4e5,{'status':_0x5942e1(0xa54)});};const _0xa9d0e3=document[_0x2b0d1f(0x48d)](_0x2b0d1f(0x7c8));_0xa9d0e3&&(_0xa9d0e3[_0x2b0d1f(0x2ee)]=()=>{const _0x2eea86=_0x2b0d1f;showConfirmation(_0x2eea86(0x42b),async()=>{const _0x17227f=_0x2eea86,_0x3016ab=doc(db,_0x17227f(0xaa1)+appId+_0x17227f(0x947),currentLiveGameId);await updateDoc(_0x3016ab,{'status':_0x17227f(0xa54)});});});}}async function handleGenerateParallelFromBank(_0xabbe7b){const _0x2d286c=_0x3076df,_0x38c767=document[_0x2d286c(0x48d)](_0x2d286c(0x9f1)),_0x9f7e1e=document['getElementById'](_0x2d286c(0xca2));_0x9f7e1e['classList'][_0x2d286c(0x49b)]('hidden');const _0x41420b=_0x2d286c(0x47d)+_0xabbe7b[_0x2d286c(0x6a9)]+_0x2d286c(0x1da);_0x38c767[_0x2d286c(0x8d6)](_0x2d286c(0x85b),_0x41420b);const _0x3be0b0=document['getElementById'](_0x2d286c(0x1a3));try{const _0x3ea280=_0xabbe7b[_0x2d286c(0x796)][_0x2d286c(0x3c9)]((_0x1c69f5,_0x27b9b0)=>{const _0x5d071e=_0x2d286c;let _0x206e92=_0x27b9b0+0x1+'.\x20'+(_0x1c69f5['questionText']||_0x1c69f5['stem'])+'\x0a';if(_0x1c69f5[_0x5d071e(0x7ce)])_0x206e92+=_0x1c69f5[_0x5d071e(0x7ce)][_0x5d071e(0x3c9)]((_0x9a83c,_0x1bb714)=>_0x5d071e(0x738)+(_0x1bb714===_0x1c69f5[_0x5d071e(0x60b)]?_0x5d071e(0xbc5):'')+'\x20'+_0x9a83c)[_0x5d071e(0x28d)]('\x0a');else _0x1c69f5[_0x5d071e(0x36e)]&&(_0x206e92+=_0x5d071e(0x35b)+_0x1c69f5['idealAnswer']);return _0x206e92;})[_0x2d286c(0x28d)]('\x0a\x0a');_0x3be0b0[_0x2d286c(0x9ea)]=_0x2d286c(0x314);const _0x20165e=_0x2d286c(0x8d5)+_0xabbe7b[_0x2d286c(0x6a9)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ea280+_0x2d286c(0x682)+simpleMathPrompt+_0x2d286c(0xb7b),_0x44c94b={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2d286c(0x670),'enum':[_0x2d286c(0xa73),_0x2d286c(0x296),_0x2d286c(0x35a),_0x2d286c(0xd01)]},'options':{'type':_0x2d286c(0x45a),'items':{'type':_0x2d286c(0x670)}},'correctAnswerIndex':{'type':_0x2d286c(0x312)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x2d286c(0x670)},'correctResponse':{'type':_0x2d286c(0x670)},'allResponses':{'type':_0x2d286c(0x45a),'items':{'type':_0x2d286c(0x670)}},'explanation':{'type':_0x2d286c(0x670)},'imageCode':{'type':_0x2d286c(0x670)}},'required':[_0x2d286c(0xbc3),_0x2d286c(0x4f5)]},_0x2a6d59={'type':'OBJECT','properties':{'topic':{'type':_0x2d286c(0x670)},'questions':{'type':_0x2d286c(0x45a),'items':_0x44c94b}},'required':[_0x2d286c(0x6a9),_0x2d286c(0x796)]},_0x33eab0=await callAnalysisApi(_0x20165e,_0x2a6d59),_0x2bc248=_0x33eab0[_0x2d286c(0x796)][_0x2d286c(0x3c9)]((_0x3be6b3,_0x201873)=>({..._0x3be6b3,'id':'q_'+Date[_0x2d286c(0x95f)]()+'_'+_0x201873})),_0x50ad9c=_0x2d286c(0xd18)+_0xabbe7b[_0x2d286c(0x6a9)],_0x28225b={'topic':_0x50ad9c,'questions':_0x2bc248,'quizType':_0xabbe7b['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2d286c(0x523)](),'status':_0x2d286c(0x28f),'settings':_0xabbe7b[_0x2d286c(0x1a6)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x9e3f11;while(!![]){_0x9e3f11=Math['floor'](0x3e8+Math[_0x2d286c(0x386)]()*0x2328)[_0x2d286c(0x2ed)]();const _0xa27f15=await getDoc(doc(db,_0x2d286c(0xaa1)+appId+_0x2d286c(0x695),_0x9e3f11));if(!_0xa27f15[_0x2d286c(0x6b3)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x2d286c(0x695),_0x9e3f11),_0x28225b),showMessage(_0x2d286c(0x72c));}catch(_0x409776){console[_0x2d286c(0x405)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x409776),showMessage(_0x2d286c(0x427)+_0x409776['message']);}finally{const _0x4be935=document[_0x2d286c(0x48d)](_0x2d286c(0x1f5));_0x4be935&&_0x4be935['remove'](),_0x9f7e1e[_0x2d286c(0xbbb)][_0x2d286c(0xb7d)](_0x2d286c(0xc6c));}}async function handleGenerateParallelPostTest(_0x232273){const _0x18add3=_0x3076df,_0x3990bd=document['getElementById'](_0x18add3(0x9f1)),_0x341bb0=document[_0x18add3(0x48d)](_0x18add3(0xca2));_0x341bb0[_0x18add3(0xbbb)]['add'](_0x18add3(0xc6c));const _0x3ce4e3=_0x18add3(0xa8e);_0x3990bd[_0x18add3(0x8d6)]('beforeend',_0x3ce4e3);try{const _0x157052=_0x232273[_0x18add3(0x796)][_0x18add3(0x3c9)]((_0x58cdd8,_0xaddadf)=>{const _0x556f12=_0x18add3;let _0x352cc7=_0xaddadf+0x1+'.\x20'+(_0x58cdd8[_0x556f12(0x833)]||_0x58cdd8[_0x556f12(0x255)]);if(_0x58cdd8[_0x556f12(0x7ce)])_0x352cc7+=_0x556f12(0x6b8)+_0x58cdd8[_0x556f12(0x7ce)][_0x556f12(0x28d)](',\x20');return _0x352cc7;})['join']('\x0a\x0a'),_0x4ed81d=_0x18add3(0xcef)+_0x232273[_0x18add3(0x6a9)]+_0x18add3(0x49e)+_0x157052+_0x18add3(0x74d)+simpleMathPrompt+_0x18add3(0xb7b),_0x2b4141={'type':_0x18add3(0x85f),'properties':{'topic':{'type':_0x18add3(0x670)},'questions':{'type':_0x18add3(0x45a),'items':{'type':_0x18add3(0x85f),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x18add3(0x670)},'options':{'type':_0x18add3(0x45a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x18add3(0x670)},'explanation':{'type':_0x18add3(0x670)}},'required':[_0x18add3(0x833),'explanation']}}},'required':[_0x18add3(0x6a9),_0x18add3(0x796)]},_0x509c43=await callAnalysisApi(_0x4ed81d,_0x2b4141),_0x5042ec=_0x232273[_0x18add3(0x6a9)]['replace'](_0x18add3(0x2d8),'')[_0x18add3(0x7fe)](),_0x69bef4=_0x18add3(0xcb6)+_0x5042ec,_0x164816={..._0x509c43,'topic':_0x69bef4,'quizType':_0x232273[_0x18add3(0xcb9)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x18add3(0x28f),'settings':_0x232273[_0x18add3(0x1a6)],'quizMode':'post-test','pairedQuizId':_0x232273['id']};let _0x996c3d;while(!![]){_0x996c3d=Math[_0x18add3(0x230)](0x3e8+Math[_0x18add3(0x386)]()*0x2328)['toString']();const _0x33c8a6=await getDoc(doc(db,_0x18add3(0xaa1)+appId+'/public/data/quizzes',_0x996c3d));if(!_0x33c8a6[_0x18add3(0x6b3)]())break;}await setDoc(doc(db,_0x18add3(0xaa1)+appId+'/public/data/quizzes',_0x996c3d),_0x164816);const _0xb46d5b=doc(db,_0x18add3(0xaa1)+appId+'/public/data/quizzes',_0x232273['id']);await updateDoc(_0xb46d5b,{'pairedQuizId':_0x996c3d}),showMessage(_0x18add3(0x3c3));}catch(_0x82754c){console[_0x18add3(0x405)]('Error\x20generating\x20parallel\x20post-test:',_0x82754c),showMessage(_0x18add3(0x427)+_0x82754c[_0x18add3(0x5ce)]);}finally{const _0x46a0a1=document[_0x18add3(0x48d)](_0x18add3(0x1f5));if(_0x46a0a1)_0x46a0a1[_0x18add3(0xb7d)]();_0x341bb0[_0x18add3(0xbbb)][_0x18add3(0xb7d)](_0x18add3(0xc6c));}}async function handleGenerateParallelTest(_0x3dec46=null){const _0x228f0c=_0x3076df;let _0x3684e8=_0x3dec46;if(!_0x3684e8){const _0x7eebff=document[_0x228f0c(0x48d)](_0x228f0c(0xaad));_0x7eebff['files'][_0x228f0c(0x3b0)]>0x0&&(_0x3684e8=_0x7eebff['files'][0x0]);}if(!_0x3684e8){showMessage(_0x228f0c(0x3f9));return;}const _0x5bfab1=document['getElementById'](_0x228f0c(0x759)),_0x38705d=document[_0x228f0c(0x48d)](_0x228f0c(0x6f1)),_0x30760f=document[_0x228f0c(0x48d)]('generated-quiz-container'),_0x4e641f=document['getElementById'](_0x228f0c(0xadc));_0x4e641f[_0x228f0c(0x1dc)]=!![],document[_0x228f0c(0x48d)]('quiz-generation-area')[_0x228f0c(0xbbb)][_0x228f0c(0xb7d)](_0x228f0c(0xc6c)),_0x30760f['innerHTML']='',_0x5bfab1[_0x228f0c(0xbbb)][_0x228f0c(0xb7d)](_0x228f0c(0xc6c)),_0x38705d['textContent']=_0x228f0c(0x55b);const _0x1caa1f=new FileReader();_0x1caa1f['readAsDataURL'](_0x3684e8),_0x1caa1f[_0x228f0c(0x4fd)]=async()=>{const _0x143681=_0x228f0c;try{const _0x2ca874=_0x1caa1f[_0x143681(0xa0e)][_0x143681(0x1f1)](',')[0x1],_0x49d6ed=_0x3684e8[_0x143681(0x1a1)];_0x38705d['textContent']=_0x143681(0xa47);const _0xfe4276=document[_0x143681(0x48d)](_0x143681(0xb0e))[_0x143681(0xb91)],_0x114764=_0xfe4276?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x5969e7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x3ca08f={'type':_0x143681(0x85f),'properties':{'questionText':{'type':_0x143681(0x670)},'questionType':{'type':_0x143681(0x670),'enum':[_0x143681(0xa73),'short_answer']},'options':{'type':_0x143681(0x45a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x143681(0x312)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x143681(0x670)},'imageCode':{'type':'STRING'}},'required':[_0x143681(0x833),_0x143681(0xbc3),_0x143681(0x4f5)]},_0x513db6={'type':_0x143681(0x85f),'properties':{'topic':{'type':_0x143681(0x670)},'questions':{'type':_0x143681(0x45a),'items':_0x3ca08f}},'required':[_0x143681(0x6a9),_0x143681(0x796)]},_0x190c08=[{'text':_0x5969e7},{'inlineData':{'mimeType':_0x49d6ed,'data':_0x2ca874}}];await handleApiCall(_0x190c08,_0x143681(0x917),_0x513db6);}catch(_0x54c58a){console[_0x143681(0x405)](_0x143681(0x43e),_0x54c58a),showMessage(_0x143681(0x427)+_0x54c58a[_0x143681(0x5ce)]),_0x30760f['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x5bfab1[_0x143681(0xbbb)][_0x143681(0x49b)]('hidden'),_0x4e641f['disabled']=![];}},_0x1caa1f[_0x228f0c(0x792)]=_0x326bf6=>{const _0x43f747=_0x228f0c;console[_0x43f747(0x405)](_0x43f747(0x69d),_0x326bf6),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x5bfab1['classList'][_0x43f747(0x49b)]('hidden'),_0x4e641f[_0x43f747(0x1dc)]=![];};}async function handleRegenerateQuestionInEditor(_0x26f3df){const _0xdcf602=_0x3076df;if(currentEditingQuizData===null)return;const _0x7ed00e=document['querySelector'](_0xdcf602(0x696)+_0x26f3df+'\x22]');_0x7ed00e&&(_0x7ed00e[_0xdcf602(0x9c8)]=_0xdcf602(0x971));const _0x9bc11f=currentEditingQuizData[_0xdcf602(0x796)][_0x26f3df],_0x4e1a95=currentEditingQuizData['topic'],_0x19599e=_0x9bc11f[_0xdcf602(0xbc3)],_0x58bf0f={'type':'OBJECT','properties':{'questionText':{'type':_0xdcf602(0x670)},'options':{'type':_0xdcf602(0x45a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xdcf602(0x312)},'explanation':{'type':_0xdcf602(0x670)}},'required':[_0xdcf602(0x833),_0xdcf602(0x7ce),_0xdcf602(0x60b),_0xdcf602(0x4f5)]},_0x1bd2e3={'type':_0xdcf602(0x85f),'properties':{'questionText':{'type':_0xdcf602(0x670)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xdcf602(0x670)}},'required':[_0xdcf602(0x833),'idealAnswer','explanation']};let _0x263b80,_0x341d8d='';_0x19599e==='multiple_choice'?(_0x263b80=_0x58bf0f,_0x341d8d=_0xdcf602(0x5c9)):(_0x263b80=_0x1bd2e3,_0x341d8d=_0xdcf602(0x78e));const _0x91e4ee='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x4e1a95+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x341d8d+_0xdcf602(0xcf8)+(_0x9bc11f[_0xdcf602(0x833)]||_0x9bc11f[_0xdcf602(0x255)])+_0xdcf602(0xa04)+simpleMathPrompt;try{const _0x4bf601=await callAnalysisApi(_0x91e4ee,_0x263b80);currentEditingQuizData['questions'][_0x26f3df]={..._0x9bc11f,..._0x4bf601},renderQuizEditor(currentEditingQuizData);}catch(_0x1d1ad8){console[_0xdcf602(0x405)](_0xdcf602(0x7af),_0x1d1ad8),showMessage(_0xdcf602(0x5b3)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x384fcd=_0x3076df,_0x269cef=document[_0x384fcd(0x48d)](_0x384fcd(0xc2e));currentMode===_0x384fcd(0x849)?(currentMode=_0x384fcd(0x8f7),_0x269cef['innerHTML']=_0x384fcd(0x2fa),_0x269cef[_0x384fcd(0xada)]=_0x384fcd(0x506),showView(_0x384fcd(0xa60))):(currentMode='student',_0x269cef[_0x384fcd(0x9c8)]=_0x384fcd(0x636),_0x269cef['title']=_0x384fcd(0x88e),showView('student'));}function handleAdminLogin(){const _0x3a5d9e=_0x3076df,_0x110e06=document['getElementById'](_0x3a5d9e(0xa26)),_0x536de7=document[_0x3a5d9e(0x48d)]('password-error-msg');if(_0x110e06['value']===_0x3a5d9e(0x27d)){adminPasswordModal[_0x3a5d9e(0xbbb)][_0x3a5d9e(0x49b)](_0x3a5d9e(0xc6c)),_0x110e06['value']='',_0x536de7[_0x3a5d9e(0xbbb)]['add'](_0x3a5d9e(0xc6c)),currentMode=_0x3a5d9e(0x8f7);const _0x1971de=document['getElementById'](_0x3a5d9e(0xc2e));_0x1971de[_0x3a5d9e(0x9c8)]=_0x3a5d9e(0x2fa),_0x1971de[_0x3a5d9e(0xada)]=_0x3a5d9e(0x506),showView(_0x3a5d9e(0xa60));}else _0x536de7[_0x3a5d9e(0xbbb)]['remove'](_0x3a5d9e(0xc6c)),_0x110e06[_0x3a5d9e(0xaef)]='';}function switchProjectTab(_0x513795){const _0x552078=_0x3076df;[_0x552078(0x55a),_0x552078(0x7fa),'leaderboard'][_0x552078(0x9c9)](_0x429146=>{const _0x5c3719=_0x552078;document['getElementById'](_0x429146+_0x5c3719(0x7e3))['classList'][_0x5c3719(0xb7d)](_0x5c3719(0x28f)),document[_0x5c3719(0x48d)](_0x429146+_0x5c3719(0x5ea))[_0x5c3719(0xbbb)][_0x5c3719(0x49b)]('hidden');}),document[_0x552078(0x48d)](_0x513795+_0x552078(0x7e3))[_0x552078(0xbbb)][_0x552078(0x49b)](_0x552078(0x28f)),document[_0x552078(0x48d)](_0x513795+_0x552078(0x5ea))[_0x552078(0xbbb)][_0x552078(0xb7d)](_0x552078(0xc6c));}function switchQuizDetailTab(_0x32b69f){const _0x28e886=_0x3076df,_0x10fa54={'analytics':{'btn':_0x28e886(0xb45),'content':_0x28e886(0x7f4)},'scores':{'btn':'scores-tab-btn','content':_0x28e886(0x698)},'leaderboard-quiz':{'btn':_0x28e886(0x3a9),'content':_0x28e886(0xb92)},'behavior-log':{'btn':'behavior-log-tab-btn','content':'behavior-log-tab-content'}};for(const _0x2b7002 in _0x10fa54){document[_0x28e886(0x48d)](_0x10fa54[_0x2b7002][_0x28e886(0x915)])['classList'][_0x28e886(0xb7d)](_0x28e886(0x28f)),document[_0x28e886(0x48d)](_0x10fa54[_0x2b7002][_0x28e886(0x7cf)])[_0x28e886(0xbbb)][_0x28e886(0x49b)]('hidden');}document[_0x28e886(0x48d)](_0x10fa54[_0x32b69f][_0x28e886(0x915)])[_0x28e886(0xbbb)]['add'](_0x28e886(0x28f)),document[_0x28e886(0x48d)](_0x10fa54[_0x32b69f][_0x28e886(0x7cf)])['classList'][_0x28e886(0xb7d)](_0x28e886(0xc6c));}function showMessage(_0x2b4283,_0xdf1e6=null){const _0xc575c2=_0x3076df;modalMessage[_0xc575c2(0x9ea)]=_0x2b4283,modalConfirmAction=_0xdf1e6,messageModal['classList'][_0xc575c2(0xb7d)](_0xc575c2(0xc6c));}function showConfirmation(_0x2140ca,_0x3cdf45){const _0x433a66=_0x3076df;document[_0x433a66(0x48d)](_0x433a66(0x593))['textContent']=_0x2140ca,document[_0x433a66(0x48d)](_0x433a66(0x1d8))['querySelector']('h3')[_0x433a66(0x9ea)]=_0x433a66(0x2df),confirmAction=_0x3cdf45,confirmationModal[_0x433a66(0xbbb)][_0x433a66(0xb7d)](_0x433a66(0xc6c));}function listenForProjects(){const _0x2f6fcc=_0x3076df,_0x2a56bf=doc(db,_0x2f6fcc(0x3ae),_0x2f6fcc(0x68b));onSnapshot(_0x2a56bf,_0x584b85=>{const _0x588eec=_0x2f6fcc;if(_0x584b85[_0x588eec(0x6b3)]()){const _0x3e0e99=_0x584b85[_0x588eec(0x995)]();globalDashboardSettings['projectSort']=_0x3e0e99[_0x588eec(0x2c8)]||_0x588eec(0x1ad),globalDashboardSettings[_0x588eec(0xc20)]=_0x3e0e99[_0x588eec(0xc20)]||[],globalDashboardSettings[_0x588eec(0x7b4)]=_0x3e0e99[_0x588eec(0x7b4)]||[];}allProjects[_0x588eec(0x3b0)]>0x0&&renderProjects();});const _0x43c18b=collection(db,'artifacts/'+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x43c18b,_0x30a8a7=>{const _0x9c455b=_0x2f6fcc;allProjects=_0x30a8a7[_0x9c455b(0x9a1)][_0x9c455b(0x3c9)](_0x4d7d04=>({'id':_0x4d7d04['id'],..._0x4d7d04[_0x9c455b(0x995)]()})),renderProjects();},_0x630892=>{const _0x40ecfb=_0x2f6fcc;console[_0x40ecfb(0x405)](_0x40ecfb(0x712),_0x630892),showMessage(_0x40ecfb(0x936));});}function showColorPalette(_0x3b00df,_0x11cfd5){const _0x122ebd=_0x3076df;document['querySelectorAll'](_0x122ebd(0x4a4))[_0x122ebd(0x9c9)](_0x14bc3d=>_0x14bc3d[_0x122ebd(0xb7d)]());const _0x4242ce=[_0x122ebd(0xc38),_0x122ebd(0xa7c),_0x122ebd(0x894),_0x122ebd(0x1bb),'#DBEAFE','#E0E7FF',_0x122ebd(0x892),'#FCE7F3',_0x122ebd(0x632)],_0x4d3914=document['createElement'](_0x122ebd(0x283));_0x4d3914[_0x122ebd(0x76c)]=_0x122ebd(0xcf9),_0x4242ce['forEach'](_0x41d29b=>{const _0x1e3685=_0x122ebd,_0x337df7=document[_0x1e3685(0x2b7)](_0x1e3685(0x283));_0x337df7[_0x1e3685(0x76c)]=_0x1e3685(0x5a0),_0x337df7['style'][_0x1e3685(0x9fc)]=_0x41d29b,_0x337df7[_0x1e3685(0x331)](_0x1e3685(0x623),()=>{const _0x18b4bf=_0x1e3685;handleProjectColorChange(_0x11cfd5,_0x41d29b),_0x4d3914[_0x18b4bf(0xb7d)]();}),_0x4d3914[_0x1e3685(0xcff)](_0x337df7);}),document[_0x122ebd(0xb53)][_0x122ebd(0xcff)](_0x4d3914);const _0x216f23=_0x3b00df[_0x122ebd(0x67d)]();_0x4d3914[_0x122ebd(0x3b4)][_0x122ebd(0xd06)]=_0x216f23['bottom']+window[_0x122ebd(0x27f)]+'px',_0x4d3914[_0x122ebd(0x3b4)][_0x122ebd(0x9de)]=_0x216f23[_0x122ebd(0x9de)]+window[_0x122ebd(0x526)]-_0x4d3914[_0x122ebd(0xaa9)]/0x2+'px';}async function handleProjectColorChange(_0x1df9ae,_0x30a0c7){const _0xa62d35=_0x3076df,_0x22e69e=doc(db,_0xa62d35(0xaa1)+appId+'/public/data/projects',_0x1df9ae);try{await updateDoc(_0x22e69e,{'color':_0x30a0c7});}catch(_0xbcc2ec){console[_0xa62d35(0x405)](_0xa62d35(0x44b),_0xbcc2ec),showMessage(_0xa62d35(0x348));}}async function renderProjects(){const _0xc86286=_0x3076df,_0x17d148=globalDashboardSettings[_0xc86286(0x2c8)]||_0xc86286(0x1ad),_0x3a6703=new Set(globalDashboardSettings[_0xc86286(0xc20)]||[]),_0xf9bdcd=globalDashboardSettings[_0xc86286(0xa0b)]||_0xc86286(0x502),_0xee9eb6=document['getElementById'](_0xc86286(0x962)),_0x3f7c69=document[_0xc86286(0x48d)](_0xc86286(0x4bb));_0xee9eb6['classList']['toggle']('active',_0xf9bdcd==='grid'),_0x3f7c69[_0xc86286(0xbbb)][_0xc86286(0x1b8)](_0xc86286(0x28f),_0xf9bdcd===_0xc86286(0x4ac)),document['getElementById'](_0xc86286(0x8ce))[_0xc86286(0xaef)]=_0x17d148;const _0x3ec37c=document[_0xc86286(0x48d)](_0xc86286(0x8ed))[_0xc86286(0xaef)][_0xc86286(0x235)]();let _0xeccb2d=allProjects[_0xc86286(0x475)](_0x108dec=>_0x108dec[_0xc86286(0x98e)][_0xc86286(0x235)]()[_0xc86286(0x59e)](_0x3ec37c));const _0x107fd9=_0xeccb2d[_0xc86286(0x475)](_0x56123c=>_0x3a6703[_0xc86286(0x709)](_0x56123c['id'])),_0x314b1b=_0xeccb2d['filter'](_0x22ee90=>!_0x3a6703[_0xc86286(0x709)](_0x22ee90['id'])),_0x181b75=(_0x2e9eae,_0x1259e6)=>{const _0xc8deb=_0xc86286;switch(_0x17d148){case'name_asc':return _0x2e9eae[_0xc8deb(0x98e)]['localeCompare'](_0x1259e6[_0xc8deb(0x98e)],'th');case _0xc8deb(0x98a):return _0x1259e6[_0xc8deb(0x98e)][_0xc8deb(0x980)](_0x2e9eae[_0xc8deb(0x98e)],'th');case _0xc8deb(0xbd4):return new Date(_0x2e9eae['createdAt'])-new Date(_0x1259e6['createdAt']);default:return new Date(_0x1259e6[_0xc8deb(0xbd3)])-new Date(_0x2e9eae[_0xc8deb(0xbd3)]);}};_0x107fd9[_0xc86286(0xa41)](_0x181b75),_0x314b1b[_0xc86286(0xa41)](_0x181b75);const _0x3c6705=[..._0x107fd9,..._0x314b1b],_0xf187e9=globalDashboardSettings[_0xc86286(0x7b4)]||[];_0xf187e9['length']>0x0&&_0xf9bdcd===_0xc86286(0x502)&&_0x3c6705[_0xc86286(0xa41)]((_0x25afae,_0x4b171b)=>{const _0x1247e2=_0xc86286,_0x8d77bf=_0xf187e9[_0x1247e2(0x2ea)](_0x25afae['id']),_0x41ca43=_0xf187e9['indexOf'](_0x4b171b['id']);if(_0x8d77bf===-0x1)return 0x1;if(_0x41ca43===-0x1)return-0x1;return _0x8d77bf-_0x41ca43;});const _0x217157={};await Promise[_0xc86286(0x6a5)](_0x3c6705[_0xc86286(0x3c9)](async _0x5e5126=>{const _0x2a7267=_0xc86286,_0x2b3e84=query(collection(db,_0x2a7267(0xaa1)+appId+_0x2a7267(0x695)),where(_0x2a7267(0x2a3),'==',_0x5e5126['id'])),_0x438771=await getDocs(_0x2b3e84);_0x217157[_0x5e5126['id']]=_0x438771['size'];}));const _0x6c6fc6=document[_0xc86286(0x48d)](_0xc86286(0xc96));let _0x436584='';if(_0xf9bdcd===_0xc86286(0x502)){_0x6c6fc6[_0xc86286(0x76c)]=_0xc86286(0xa8d);if(starredQuizzes[_0xc86286(0x3b0)]>0x0&&_0x3ec37c===''){const _0x114461=starredQuizzes[_0xc86286(0x3c9)](_0x2cafcf=>{const _0xb4e323=_0xc86286,_0x356d36=allProjects[_0xb4e323(0xcf4)](_0x4b748f=>_0x4b748f['id']===_0x2cafcf['projectId']);return{..._0x2cafcf,'projectName':_0x356d36?_0x356d36[_0xb4e323(0x98e)]:_0xb4e323(0xb36)};});_0x436584+=_0xc86286(0xbc0)+_0x114461[_0xc86286(0x3c9)](_0x5a74ac=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x5a74ac[_0xc86286(0x6a9)]+'\x22>'+_0x5a74ac[_0xc86286(0x6a9)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x5a74ac[_0xc86286(0x98e)]+'\x22>จาก:\x20'+_0x5a74ac[_0xc86286(0x98e)]+_0xc86286(0x69c))[_0xc86286(0x28d)]('')+_0xc86286(0x900)+starredQuizzes[_0xc86286(0x3b0)]+_0xc86286(0x87d);}_0x3c6705['forEach'](_0xd7f64e=>{const _0x43d717=_0xc86286,_0x11528a=_0x217157[_0xd7f64e['id']]??0x0,_0x1b8441=_0x3a6703[_0x43d717(0x709)](_0xd7f64e['id']),_0x454fa1=_0xd7f64e[_0x43d717(0x204)]||_0x43d717(0xc38),_0x1d0145=parseInt(_0x454fa1[_0x43d717(0x5ac)](0x1,0x3),0x10)*0.299+parseInt(_0x454fa1[_0x43d717(0x5ac)](0x3,0x5),0x10)*0.587+parseInt(_0x454fa1[_0x43d717(0x5ac)](0x5,0x7),0x10)*0.114<0xba,_0xce5c2b=_0x1d0145?_0x43d717(0xa84):_0x43d717(0x295),_0x15425a=_0x1d0145?_0x43d717(0x277):_0x43d717(0xc48);_0x436584+=_0x43d717(0xbad)+(_0x1b8441?_0x43d717(0x52f):_0x43d717(0xaa2))+_0x43d717(0x50b)+_0x454fa1+';\x22\x20data-id=\x22'+_0xd7f64e['id']+_0x43d717(0xa4d)+_0xd7f64e['id']+_0x43d717(0x324)+(_0x1d0145?_0x43d717(0x279):'text-gray-400\x20hover:text-indigo-600')+_0x43d717(0xad8)+_0xd7f64e['id']+_0x43d717(0x2e6)+(_0x1d0145?_0x43d717(0x279):'text-gray-400\x20hover:text-indigo-600')+_0x43d717(0xd12)+(_0x1b8441?_0x1d0145?_0x43d717(0x313):_0x43d717(0x5b5):'')+_0x43d717(0x8a1)+_0xd7f64e['id']+_0x43d717(0x358)+_0xce5c2b+_0x43d717(0x399)+_0xd7f64e[_0x43d717(0x98e)]+_0x43d717(0xc8b)+_0x15425a+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0xd7f64e[_0x43d717(0xbd3)])[_0x43d717(0xcd5)](_0x43d717(0xa92))+_0x43d717(0x217)+(_0x1d0145?'text-gray-100':_0x43d717(0x583))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x11528a+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xd7f64e['id']+_0x43d717(0x344)+_0xd7f64e[_0x43d717(0x98e)]+_0x43d717(0xcc9)+(_0x1d0145?_0x43d717(0x718):_0x43d717(0x4eb))+_0x43d717(0xc4a);});}else _0x6c6fc6['className']=_0xc86286(0xa57),starredQuizzes[_0xc86286(0x3b0)]>0x0&&_0x3ec37c===''&&(_0x436584+=_0xc86286(0x30b)+starredQuizzes['length']+_0xc86286(0x8fa)),_0x436584+=_0xc86286(0x221),_0x3c6705[_0xc86286(0x9c9)](_0x10f9f6=>{const _0x436531=_0xc86286,_0x5831f2=_0x217157[_0x10f9f6['id']]??0x0,_0xc14eae=_0x3a6703['has'](_0x10f9f6['id']);_0x436584+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x10f9f6['color']||_0x436531(0x632))+_0x436531(0x1e0)+_0x10f9f6['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x10f9f6['projectName']+_0x436531(0x422)+_0x5831f2+_0x436531(0x926)+new Date(_0x10f9f6[_0x436531(0xbd3)])[_0x436531(0x666)](_0x436531(0xa92))+_0x436531(0x488)+_0x10f9f6['id']+_0x436531(0x7b7)+(_0xc14eae?_0x436531(0x5b5):'')+_0x436531(0x7b3)+_0x10f9f6['id']+_0x436531(0x344)+_0x10f9f6[_0x436531(0x98e)]+_0x436531(0x965);});projectList[_0xc86286(0x9c8)]=_0x436584,noProjectsMsg['classList'][_0xc86286(0x1b8)](_0xc86286(0xc6c),_0x436584[_0xc86286(0x3b0)]>0x0);}document[_0x3076df(0x48d)](_0x3076df(0x716))[_0x3076df(0x331)]('click',async()=>{const _0x1e1444=_0x3076df,_0x36949b=document[_0x1e1444(0x48d)](_0x1e1444(0x92f)),_0x4edbd5=_0x36949b[_0x1e1444(0xaef)]['trim']();if(!_0x4edbd5){showMessage(_0x1e1444(0x97f));return;}try{const _0x21dce9=doc(collection(db,_0x1e1444(0xaa1)+appId+_0x1e1444(0x8bc)));await setDoc(_0x21dce9,{'projectName':_0x4edbd5,'students':[],'settings':{'resultsDisplay':_0x1e1444(0x7d8),'shuffleSetting':_0x1e1444(0x700),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x1e1444(0x700),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x36949b['value']='',createProjectModal[_0x1e1444(0xbbb)][_0x1e1444(0x49b)]('hidden'),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x485536){console[_0x1e1444(0x405)]('Error\x20creating\x20project:',_0x485536),showMessage(_0x1e1444(0x9c2));}}),projectList[_0x3076df(0x331)](_0x3076df(0x623),async _0x12a5b8=>{const _0x1daa36=_0x3076df,_0x19972a=_0x12a5b8[_0x1daa36(0x805)][_0x1daa36(0x951)]('.project-card-content'),_0x377abb=_0x12a5b8['target'][_0x1daa36(0x951)](_0x1daa36(0x6dd)),_0x3e6b74=_0x12a5b8[_0x1daa36(0x805)][_0x1daa36(0x951)](_0x1daa36(0x823)),_0x5ee661=_0x12a5b8[_0x1daa36(0x805)][_0x1daa36(0x951)]('.color-palette-btn');if(_0x3e6b74){const _0x3424cb=_0x3e6b74[_0x1daa36(0x40c)]['id'],_0x302cde=doc(db,_0x1daa36(0x3ae),_0x1daa36(0x68b)),_0x3564bc=globalDashboardSettings['pinnedProjects'];let _0x5a1668;_0x3564bc[_0x1daa36(0x59e)](_0x3424cb)?_0x5a1668=_0x3564bc['filter'](_0x4a9181=>_0x4a9181!==_0x3424cb):_0x5a1668=[..._0x3564bc,_0x3424cb];try{await setDoc(_0x302cde,{'pinnedProjects':_0x5a1668},{'merge':!![]});}catch(_0x52e1c1){console[_0x1daa36(0x405)](_0x1daa36(0x895),_0x52e1c1),showMessage(_0x1daa36(0x63e));}}else{if(_0x5ee661){const _0x27738e=_0x5ee661[_0x1daa36(0x40c)]['id'];showColorPalette(_0x5ee661,_0x27738e);}else{if(_0x19972a){const _0x2bdfed=_0x19972a[_0x1daa36(0x40c)]['id'];_0x2bdfed==='starred-project'?showStarredProjectView():(currentProjectId=_0x2bdfed,await loadProjectDetails(currentProjectId),showView(_0x1daa36(0x58d)));}else{if(_0x377abb){const _0x59bf16=_0x377abb[_0x1daa36(0x40c)]['id'],_0x3d882a=_0x377abb['dataset'][_0x1daa36(0x774)];showConfirmation(_0x1daa36(0x4cf)+_0x3d882a+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x59bf16));}}}}}),projectList['addEventListener'](_0x3076df(0x537),_0x2b3ee4=>{const _0x792e59=_0x3076df,_0x469494=_0x2b3ee4['target'][_0x792e59(0x951)](_0x792e59(0x5eb));_0x469494&&_0x469494[_0x792e59(0xbbb)][_0x792e59(0x49b)](_0x792e59(0x672));}),projectList['addEventListener'](_0x3076df(0xb03),_0x557af2=>{const _0x23a4d5=_0x3076df,_0x4d23aa=_0x557af2['target'][_0x23a4d5(0x951)]('.project-card-container');_0x4d23aa&&_0x4d23aa[_0x23a4d5(0xbbb)]['remove']('opacity-50');}),projectList['addEventListener'](_0x3076df(0x910),_0x40f9a9=>{const _0x307856=_0x3076df;_0x40f9a9[_0x307856(0x512)]();const _0x51c348=document[_0x307856(0x381)](_0x307856(0x486));if(!_0x51c348)return;const _0x4404d0=getDragAfterElement(projectList,_0x40f9a9['clientY']);_0x4404d0==null?projectList['appendChild'](_0x51c348):projectList[_0x307856(0xce9)](_0x51c348,_0x4404d0);}),projectList['addEventListener']('drop',_0x115923=>{const _0x55a53a=_0x3076df;_0x115923['preventDefault']();const _0x2d3d95=[...projectList[_0x55a53a(0x599)](_0x55a53a(0x5af))][_0x55a53a(0x3c9)](_0x18f703=>_0x18f703[_0x55a53a(0x40c)]['id']);saveProjectOrder(_0x2d3d95);});function renderBehaviorLog(_0x2cbbc1){const _0x1785a8=_0x3076df,_0xd6f3c0=document[_0x1785a8(0x48d)](_0x1785a8(0x701));if(!_0xd6f3c0)return;const _0x53d920=_0x2cbbc1[_0x1785a8(0x475)](_0x2c38ce=>_0x2c38ce[_0x1785a8(0x945)]&&_0x2c38ce[_0x1785a8(0x945)][_0x1785a8(0x3b0)]>0x0);if(_0x53d920[_0x1785a8(0x3b0)]===0x0){_0xd6f3c0[_0x1785a8(0x9c8)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x370fa8='';_0x53d920['forEach'](_0x2a315f=>{const _0x2b5f2f=_0x1785a8;_0x370fa8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x2a315f['studentName']+_0x2b5f2f(0xd07),_0x2a315f[_0x2b5f2f(0x945)]['sort']((_0x352b07,_0x3152e6)=>new Date(_0x3152e6[_0x2b5f2f(0x726)])-new Date(_0x352b07[_0x2b5f2f(0x726)]))['forEach'](_0x9714f7=>{const _0x5d5c3d=_0x2b5f2f,_0x1c676a=new Date(_0x9714f7[_0x5d5c3d(0x726)])[_0x5d5c3d(0x666)](_0x5d5c3d(0xa92),{'dateStyle':_0x5d5c3d(0x62b),'timeStyle':_0x5d5c3d(0xa88)});_0x370fa8+=_0x5d5c3d(0x4f1)+_0x9714f7[_0x5d5c3d(0x8a0)]+_0x5d5c3d(0x9d8)+_0x1c676a+_0x5d5c3d(0xc06);}),_0x370fa8+=_0x2b5f2f(0x40f);}),_0xd6f3c0[_0x1785a8(0x9c8)]=_0x370fa8;}function getDragAfterElement(_0x28695a,_0x2bdfb0){const _0x1f9764=_0x3076df,_0x49d3ac=[..._0x28695a[_0x1f9764(0x599)](_0x1f9764(0x71a))];return _0x49d3ac[_0x1f9764(0x2f8)]((_0x1c6fdc,_0x5e25cc)=>{const _0x1bf463=_0x1f9764,_0x1c456d=_0x5e25cc[_0x1bf463(0x67d)](),_0x45cdbb=_0x2bdfb0-_0x1c456d[_0x1bf463(0xd06)]-_0x1c456d[_0x1bf463(0xd08)]/0x2;return _0x45cdbb<0x0&&_0x45cdbb>_0x1c6fdc[_0x1bf463(0xbdd)]?{'offset':_0x45cdbb,'element':_0x5e25cc}:_0x1c6fdc;},{'offset':Number[_0x1f9764(0x548)]})[_0x1f9764(0xa1d)];}async function saveProjectOrder(_0x428697){const _0x58d44a=_0x3076df,_0x2ec2d2=doc(db,_0x58d44a(0x3ae),_0x58d44a(0x68b));try{await setDoc(_0x2ec2d2,{'projectOrder':_0x428697},{'merge':!![]});}catch(_0x2c4ccd){console['error']('Error\x20saving\x20project\x20order:',_0x2c4ccd),showMessage(_0x58d44a(0x879));}}async function logBehaviorEvent(_0x3fee75,_0x566092={}){const _0xfd427=_0x3076df;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0xfd427(0x30c)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x2b705d=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0xfd427(0xa99),currentStudentName),_0x31bd34={'event':_0x3fee75,'timestamp':new Date()['toISOString'](),..._0x566092};try{await updateDoc(_0x2b705d,{'behaviorLog':arrayUnion(_0x31bd34)}),console[_0xfd427(0x676)](_0xfd427(0xa0a)+currentStudentName+_0xfd427(0x22a));}catch(_0x1b75bb){_0x1b75bb['code']==='not-found'?console[_0xfd427(0x30c)](_0xfd427(0x56d)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0xfd427(0x405)](_0xfd427(0x8fe),_0x1b75bb);}}function calculateMeanAndStdDev(_0x318560){const _0x59a305=_0x3076df;if(_0x318560['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x1c3dca=_0x318560[_0x59a305(0x2f8)]((_0x4dfa7c,_0x3bbf7d)=>_0x4dfa7c+_0x3bbf7d,0x0)/_0x318560[_0x59a305(0x3b0)];if(_0x318560['length']===0x1)return{'mean':_0x1c3dca,'stdDev':0x0};const _0x530e22=Math[_0x59a305(0xac6)](_0x318560[_0x59a305(0x3c9)](_0x289b62=>Math[_0x59a305(0x661)](_0x289b62-_0x1c3dca,0x2))[_0x59a305(0x2f8)]((_0x15ed58,_0x358f73)=>_0x15ed58+_0x358f73,0x0)/(_0x318560['length']-0x1));return{'mean':_0x1c3dca,'stdDev':_0x530e22};}function calculateZScore(_0x40db80,_0x4e8093,_0x180107){if(_0x180107===0x0)return 0x0;return(_0x40db80-_0x4e8093)/_0x180107;}function calculateTScore(_0x130012){return 0xa*_0x130012+0x32;}function showStarredProjectView(){const _0x3383d5=_0x3076df;currentProjectId=_0x3383d5(0x8f3),currentProjectData=null,projectTitle['textContent']=_0x3383d5(0x256),projectIdDisplay[_0x3383d5(0x9ea)]=_0x3383d5(0x921),showView('project-detail'),manageTab[_0x3383d5(0xbbb)][_0x3383d5(0x49b)](_0x3383d5(0xc6c)),leaderboardTab[_0x3383d5(0xbbb)][_0x3383d5(0x49b)](_0x3383d5(0xc6c)),switchProjectTab(_0x3383d5(0x7fa)),renderQuizzes();}async function loadProjectDetails(_0x123f5d){const _0x1dd32d=_0x3076df,_0x8dff57=doc(db,_0x1dd32d(0xaa1)+appId+_0x1dd32d(0x8bc),_0x123f5d),_0x254952=await getDoc(_0x8dff57);if(_0x254952[_0x1dd32d(0x6b3)]()){manageTab[_0x1dd32d(0xbbb)][_0x1dd32d(0xb7d)](_0x1dd32d(0xc6c)),leaderboardTab[_0x1dd32d(0xbbb)][_0x1dd32d(0xb7d)](_0x1dd32d(0xc6c)),currentProjectData=_0x254952['data'](),projectTitle[_0x1dd32d(0x9ea)]=currentProjectData[_0x1dd32d(0x98e)],projectIdDisplay['textContent']=_0x123f5d;const _0x5dfe79=currentProjectData[_0x1dd32d(0x1a6)]||{};document[_0x1dd32d(0x48d)](_0x1dd32d(0x4dc))[_0x1dd32d(0xaef)]=_0x5dfe79[_0x1dd32d(0x724)]||'none';const _0x2c008a=document['getElementById'](_0x1dd32d(0x534));_0x2c008a[_0x1dd32d(0xb91)]=_0x5dfe79[_0x1dd32d(0xb9e)]!==![];const _0x172efa=document[_0x1dd32d(0x48d)](_0x1dd32d(0x4e2)),_0x2d146b=document[_0x1dd32d(0x48d)](_0x1dd32d(0x7e2)),_0x57f85e=document[_0x1dd32d(0x48d)](_0x1dd32d(0x9d5)),_0x1c9b1e=_0x5dfe79['isPasscodeEnabled']||![];_0x172efa[_0x1dd32d(0xb91)]=_0x1c9b1e,_0x57f85e['value']=_0x5dfe79[_0x1dd32d(0xb0b)]||'',_0x2d146b[_0x1dd32d(0xbbb)]['toggle'](_0x1dd32d(0xc6c),!_0x1c9b1e),_0x172efa[_0x1dd32d(0x4e3)]=()=>{const _0x1d1eab=_0x1dd32d;_0x2d146b[_0x1d1eab(0xbbb)][_0x1d1eab(0x1b8)](_0x1d1eab(0xc6c),!_0x172efa[_0x1d1eab(0xb91)]);},document['getElementById']('confidence-scoring-checkbox')[_0x1dd32d(0xb91)]=_0x5dfe79['isConfidenceScoringEnabled']||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x123f5d),listenForProjectQuizzes(_0x123f5d),listenForStudentProfiles(_0x123f5d);}else showMessage(_0x1dd32d(0xa72)),showView(_0x1dd32d(0xa60));}async function handleResetProjectOrder(){const _0x1fcb7f=_0x3076df,_0x36216c=doc(db,_0x1fcb7f(0x3ae),_0x1fcb7f(0x68b));try{await setDoc(_0x36216c,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x2f7556){console[_0x1fcb7f(0x405)]('Error\x20resetting\x20project\x20order:',_0x2f7556),showMessage(_0x1fcb7f(0x903));}}async function handleTogglePinProject(_0x20e8b0){const _0x71b674=_0x3076df;if(!_0x20e8b0)return;const _0x4af4ec=doc(db,_0x71b674(0xaa1)+appId+_0x71b674(0x8bc),_0x20e8b0);try{const _0x1e7b29=await getDoc(_0x4af4ec);if(_0x1e7b29[_0x71b674(0x6b3)]()){const _0x429117=_0x1e7b29[_0x71b674(0x995)]()[_0x71b674(0xbec)]||![];await updateDoc(_0x4af4ec,{'isPinned':!_0x429117});}}catch(_0x109181){console[_0x71b674(0x405)](_0x71b674(0x4c7),_0x109181),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x450e5f){const _0x5ef605=_0x3076df;try{const _0x5e9f5e=writeBatch(db),_0xfe59db=collection(db,'artifacts/'+appId+_0x5ef605(0x695)),_0xc70245=query(_0xfe59db,where(_0x5ef605(0x2a3),'==',_0x450e5f)),_0x4ac356=await getDocs(_0xc70245);for(const _0x2087cf of _0x4ac356[_0x5ef605(0x9a1)]){const _0x50e771=collection(db,_0x5ef605(0xaa1)+appId+_0x5ef605(0xa74)+_0x2087cf['id']+'/submissions'),_0x2a340d=await getDocs(_0x50e771);_0x2a340d['forEach'](_0x463177=>{const _0x30e610=_0x5ef605;_0x5e9f5e['delete'](_0x463177[_0x30e610(0xcc2)]);}),_0x5e9f5e['delete'](_0x2087cf[_0x5ef605(0xcc2)]);}const _0x58fbc7=collection(db,_0x5ef605(0xaa1)+appId+'/public/data/projects/'+_0x450e5f+_0x5ef605(0x715)),_0x4c5be7=await getDocs(_0x58fbc7);_0x4c5be7['forEach'](_0x29d7d4=>{const _0x53e30a=_0x5ef605;_0x5e9f5e[_0x53e30a(0xa5b)](_0x29d7d4[_0x53e30a(0xcc2)]);});const _0x290c1c=doc(db,_0x5ef605(0xaa1)+appId+_0x5ef605(0x8bc),_0x450e5f);_0x5e9f5e['delete'](_0x290c1c),await _0x5e9f5e[_0x5ef605(0x248)](),showMessage(_0x5ef605(0x290)),showView(_0x5ef605(0xa60));}catch(_0x184d01){console[_0x5ef605(0x405)](_0x5ef605(0x7fd),_0x184d01),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document['getElementById'](_0x3076df(0xc29))[_0x3076df(0x331)](_0x3076df(0x623),async()=>{const _0x4431e5=_0x3076df;if(!currentProjectId)return;const _0x47eff0={'defaultNumQuestions':parseInt(document[_0x4431e5(0x48d)](_0x4431e5(0xcc3))[_0x4431e5(0xaef)]),'defaultNumChoices':parseInt(document['getElementById'](_0x4431e5(0x1d6))[_0x4431e5(0xaef)]),'defaultPassingScore':parseInt(document[_0x4431e5(0x48d)]('passing-score-input')[_0x4431e5(0xaef)]),'resultsDisplay':document['getElementById'](_0x4431e5(0x9cb))[_0x4431e5(0xaef)],'shuffleSetting':document[_0x4431e5(0x48d)]('shuffle-setting-select')[_0x4431e5(0xaef)],'timerMode':document['getElementById']('timer-mode-select')[_0x4431e5(0xaef)],'timerDuration':parseInt(document[_0x4431e5(0x48d)](_0x4431e5(0x858))['value']),'isConfidenceScoringEnabled':document['getElementById']('confidence-scoring-checkbox')[_0x4431e5(0xb91)],'confidenceMode':document['getElementById'](_0x4431e5(0x4e7))[_0x4431e5(0xaef)]};try{const _0x135bd9=doc(db,_0x4431e5(0xaa1)+appId+_0x4431e5(0x8bc),currentProjectId);await updateDoc(_0x135bd9,{'settings':_0x47eff0}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x5d1c94){console[_0x4431e5(0x405)](_0x4431e5(0x236),_0x5d1c94),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x311c69){const _0xeec386=_0x3076df,_0x3069dc=doc(db,_0xeec386(0xaa1)+appId+_0xeec386(0x8bc),_0x311c69);unsubscribeStudentsListener=onSnapshot(_0x3069dc,_0x507b14=>{const _0x1151aa=_0xeec386;if(_0x507b14[_0x1151aa(0x6b3)]()){const _0x279586=_0x507b14[_0x1151aa(0x995)]();currentProjectData=_0x279586,renderStudentList(_0x279586[_0x1151aa(0x589)]||[]);}});}function renderStudentList(_0x276876){const _0x19f182=_0x3076df,_0x404e5c=document[_0x19f182(0x48d)](_0x19f182(0x1e3));_0x276876['length']===0x0?(studentList[_0x19f182(0x9c8)]=_0x19f182(0x6e3),_0x404e5c['classList'][_0x19f182(0x49b)](_0x19f182(0xc6c))):(studentList[_0x19f182(0x9c8)]=_0x276876[_0x19f182(0x3c9)](_0xfecc35=>_0x19f182(0x5dc)+_0xfecc35+_0x19f182(0x64e)+_0xfecc35+_0x19f182(0xc53))[_0x19f182(0x28d)](''),_0x404e5c['classList'][_0x19f182(0xb7d)]('hidden'));}document[_0x3076df(0x48d)](_0x3076df(0x4d8))[_0x3076df(0x331)](_0x3076df(0x623),async()=>{const _0x5f34fe=_0x3076df;if(!currentProjectId)return;const _0x54b576=document[_0x5f34fe(0x48d)](_0x5f34fe(0x288)),_0x76c7a7=_0x54b576[_0x5f34fe(0xaef)][_0x5f34fe(0x7fe)]();if(!_0x76c7a7){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x123597=_0x76c7a7[_0x5f34fe(0x1f1)]('\x0a')[_0x5f34fe(0x3c9)](_0x27ad73=>_0x27ad73['trim']())[_0x5f34fe(0x475)](_0x4e9008=>_0x4e9008);if(_0x123597['length']===0x0)return;try{const _0x3e3813=doc(db,_0x5f34fe(0xaa1)+appId+_0x5f34fe(0x8bc),currentProjectId),_0x11ec73=await getDoc(_0x3e3813);if(_0x11ec73[_0x5f34fe(0x6b3)]()){const _0x9a8465=_0x11ec73[_0x5f34fe(0x995)]()[_0x5f34fe(0x589)]||[],_0x2fa9a7=[...new Set([..._0x9a8465,..._0x123597])];await updateDoc(_0x3e3813,{'students':_0x2fa9a7}),_0x54b576[_0x5f34fe(0xaef)]='';}}catch(_0x2c2c2d){console[_0x5f34fe(0x405)](_0x5f34fe(0x3b6),_0x2c2c2d),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x2a1d68){const _0x4656a4=_0x3076df,_0x174fcf=document[_0x4656a4(0x48d)]('move-quiz-modal'),_0x4360c6=document[_0x4656a4(0x48d)](_0x4656a4(0x90a)),_0x49d4d4=_0x174fcf['querySelector']('h3'),_0x204466=document[_0x4656a4(0x48d)](_0x4656a4(0x22f)),_0x326385=document[_0x4656a4(0x48d)]('cancel-move-quiz-btn');_0x49d4d4[_0x4656a4(0x9ea)]='จับคู่เพื่อเปรียบเทียบผล',_0x4360c6[_0x4656a4(0x9c8)]=_0x4656a4(0x450),_0x204466['textContent']=_0x4656a4(0xb44),_0x174fcf[_0x4656a4(0xbbb)]['remove']('hidden');const _0x1a361a=allQuizzes[_0x4656a4(0x475)](_0x3e57ee=>_0x3e57ee['id']!==_0x2a1d68);_0x1a361a[_0x4656a4(0x3b0)]===0x0?(_0x4360c6[_0x4656a4(0x9c8)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x204466[_0x4656a4(0x1dc)]=!![]):(_0x4360c6['innerHTML']=_0x4656a4(0x66e)+_0x1a361a[_0x4656a4(0x3c9)](_0x331e0b=>_0x4656a4(0xb17)+_0x331e0b['id']+'\x22>'+_0x331e0b[_0x4656a4(0x6a9)]+_0x4656a4(0x881))[_0x4656a4(0x28d)](''),_0x204466[_0x4656a4(0x1dc)]=![]);const _0xd280cd=async()=>{const _0x85f14c=_0x4656a4,_0x4185da=_0x4360c6[_0x85f14c(0xaef)];if(!_0x4185da){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x204466['disabled']=!![],_0x204466[_0x85f14c(0x9ea)]=_0x85f14c(0xc8d);try{const _0x4ae9b8=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2a1d68),_0x4d19ab=doc(db,_0x85f14c(0xaa1)+appId+_0x85f14c(0x695),_0x4185da),_0xf7893f=writeBatch(db);_0xf7893f[_0x85f14c(0xad2)](_0x4ae9b8,{'pairedQuizId':_0x4185da}),_0xf7893f[_0x85f14c(0xad2)](_0x4d19ab,{'pairedQuizId':_0x2a1d68}),await _0xf7893f['commit'](),showMessage(_0x85f14c(0xbb0)),_0x174fcf[_0x85f14c(0xbbb)][_0x85f14c(0x49b)](_0x85f14c(0xc6c));}catch(_0x3f4fc6){console[_0x85f14c(0x405)](_0x85f14c(0x639),_0x3f4fc6),showMessage(_0x85f14c(0x642));}finally{_0x49d4d4[_0x85f14c(0x9ea)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x204466[_0x85f14c(0x9ea)]=_0x85f14c(0xc6b),_0x204466[_0x85f14c(0x1dc)]=![],_0x204466[_0x85f14c(0x210)]('click',_0xd280cd),_0x326385['removeEventListener'](_0x85f14c(0x623),_0x78929c);}},_0x78929c=()=>{const _0x504e8e=_0x4656a4;_0x174fcf[_0x504e8e(0xbbb)][_0x504e8e(0x49b)](_0x504e8e(0xc6c)),_0x49d4d4[_0x504e8e(0x9ea)]=_0x504e8e(0xa02),_0x204466[_0x504e8e(0x9ea)]=_0x504e8e(0xc6b),_0x204466['removeEventListener']('click',_0xd280cd),_0x326385[_0x504e8e(0x210)](_0x504e8e(0x623),_0x78929c);};_0x204466[_0x4656a4(0x331)](_0x4656a4(0x623),_0xd280cd),_0x326385[_0x4656a4(0x331)](_0x4656a4(0x623),_0x78929c);}function handleDeleteStudent(_0x1ad489){const _0x2f23d2=_0x3076df;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x1ad489+_0x2f23d2(0x6c1),async()=>{const _0x2f3493=_0x2f23d2;if(!currentProjectId||!currentProjectData)return;const _0x2b00d2=currentProjectData[_0x2f3493(0x589)][_0x2f3493(0x475)](_0x196eb6=>_0x196eb6!==_0x1ad489);try{const _0x241dbe=doc(db,_0x2f3493(0xaa1)+appId+_0x2f3493(0x8bc),currentProjectId),_0x51d561=doc(db,_0x2f3493(0xaa1)+appId+'/public/data/projects/'+currentProjectId+_0x2f3493(0x715),_0x1ad489),_0x414a64=writeBatch(db);_0x414a64['update'](_0x241dbe,{'students':_0x2b00d2}),_0x414a64[_0x2f3493(0xa5b)](_0x51d561),await _0x414a64[_0x2f3493(0x248)]();}catch(_0x5e84f0){console[_0x2f3493(0x405)](_0x2f3493(0x9df),_0x5e84f0),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x5671bf=_0x3076df;showConfirmation(_0x5671bf(0x550),async()=>{const _0x355c9a=_0x5671bf;if(!currentProjectId)return;try{const _0x4fe708=doc(db,_0x355c9a(0xaa1)+appId+_0x355c9a(0x8bc),currentProjectId),_0x21ceba=collection(db,'artifacts/'+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles'),_0xf5b6e8=await getDocs(_0x21ceba),_0x59cb1b=writeBatch(db);_0x59cb1b[_0x355c9a(0xad2)](_0x4fe708,{'students':[]}),_0xf5b6e8[_0x355c9a(0x9c9)](_0x2a4b0d=>_0x59cb1b[_0x355c9a(0xa5b)](_0x2a4b0d['ref'])),await _0x59cb1b[_0x355c9a(0x248)]();}catch(_0x4cb4b6){console[_0x355c9a(0x405)](_0x355c9a(0xa91),_0x4cb4b6),showMessage(_0x355c9a(0x8d8));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0xc67935){const _0x18e552=_0x3076df,_0x4426e0=document[_0x18e552(0x48d)](_0x18e552(0xb88)),_0x3c3d42=document[_0x18e552(0x48d)]('file-topics-list');_0x4426e0[_0x18e552(0xbbb)][_0x18e552(0xb7d)](_0x18e552(0xc6c)),_0x3c3d42[_0x18e552(0x9c8)]='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x2a5d3c=new FileReader();_0x2a5d3c[_0x18e552(0x99a)](_0xc67935),await new Promise((_0x2d9f52,_0x163e75)=>{const _0x341bb3=_0x18e552;_0x2a5d3c[_0x341bb3(0x4fd)]=()=>{const _0x30c736=_0x341bb3;fileDataBase64=_0x2a5d3c[_0x30c736(0xa0e)]['split'](',')[0x1],fileMimeType=_0xc67935[_0x30c736(0x1a1)],_0x2d9f52();},_0x2a5d3c[_0x341bb3(0x792)]=_0x55c181=>_0x163e75(_0x55c181);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0x17314b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x452498={'type':_0x18e552(0x85f),'properties':{'topics':{'type':_0x18e552(0x45a),'items':{'type':_0x18e552(0x670)}}},'required':[_0x18e552(0x3ef)]},_0x3f992e=[{'text':_0x17314b},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x4dfda9=await handleApiCall(_0x3f992e,_0x18e552(0xc9b),_0x452498,null,![]);if(_0x4dfda9&&_0x4dfda9[_0x18e552(0x3ef)])extractedFileTopics=_0x4dfda9['topics'],renderFileTopics();else throw new Error(_0x18e552(0xcb1));}catch(_0x4d2dc1){console['error']('Error\x20analyzing\x20file\x20for\x20topics:',_0x4d2dc1),_0x3c3d42[_0x18e552(0x9c8)]=_0x18e552(0x594)+_0x4d2dc1[_0x18e552(0x5ce)]+_0x18e552(0x19e);}}function renderFileTopics(){const _0x4dfa32=_0x3076df,_0x270235=document[_0x4dfa32(0x48d)](_0x4dfa32(0x4cd));if(extractedFileTopics[_0x4dfa32(0x3b0)]===0x0){_0x270235[_0x4dfa32(0x9c8)]=_0x4dfa32(0x2f4);return;}_0x270235[_0x4dfa32(0x9c8)]=extractedFileTopics[_0x4dfa32(0x3c9)](_0x36b6c9=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x36b6c9+_0x4dfa32(0x4a0)+escape(_0x36b6c9)+_0x4dfa32(0xc9f)+escape(_0x36b6c9)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')['join']('');}async function generateHybridQuizForTopic(_0x443a4c){const _0x91dac6=_0x3076df,_0x3dfa23=parseInt(document['getElementById'](_0x91dac6(0xcc3))['value'],0xa),_0x10cc3d=document[_0x91dac6(0x48d)](_0x91dac6(0x7ad))['value'],_0x4662d0=document['getElementById']('num-choices')['value'],_0x33c00d=document[_0x91dac6(0x48d)](_0x91dac6(0xb0e))[_0x91dac6(0xb91)],_0x184ad0=_0x33c00d?_0x91dac6(0xab7):_0x91dac6(0xb7c);let _0x34bf38='',_0x1d5900;const _0x59b67b={'type':_0x91dac6(0x85f),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x91dac6(0x45a),'items':{'type':_0x91dac6(0x670)}},'correctAnswerIndex':{'type':_0x91dac6(0x312)},'explanation':{'type':_0x91dac6(0x670)},'imageCode':{'type':'STRING'}},'required':[_0x91dac6(0x833),_0x91dac6(0x7ce),_0x91dac6(0x60b),_0x91dac6(0x4f5)]},_0x5a25f7={'type':_0x91dac6(0x85f),'properties':{'questionText':{'type':_0x91dac6(0x670)},'correctAnswer':{'type':_0x91dac6(0xa0f)},'explanation':{'type':_0x91dac6(0x670)},'imageCode':{'type':_0x91dac6(0x670)}},'required':[_0x91dac6(0x833),_0x91dac6(0x369),_0x91dac6(0x4f5)]},_0x1d7b08={'type':_0x91dac6(0x85f),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x91dac6(0x670)},'explanation':{'type':_0x91dac6(0x670)},'imageCode':{'type':_0x91dac6(0x670)}},'required':[_0x91dac6(0x833),_0x91dac6(0x36e),'explanation']},_0x315d2b={'type':_0x91dac6(0x85f),'properties':{'questionType':{'type':_0x91dac6(0x670),'enum':['matching_item']},'stem':{'type':_0x91dac6(0x670)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x91dac6(0x45a),'items':{'type':_0x91dac6(0x670)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x91dac6(0x670)}},'required':[_0x91dac6(0xbc3),_0x91dac6(0x255),_0x91dac6(0x4fc),_0x91dac6(0x1cf),'explanation']};switch(_0x10cc3d){case _0x91dac6(0xa73):_0x34bf38=_0x91dac6(0x959)+_0x4662d0+'\x20ตัวเลือก)',_0x1d5900=_0x59b67b;break;case'true_false':_0x34bf38=_0x91dac6(0x1a7),_0x1d5900=_0x5a25f7;break;case'fill_in_no_choices':_0x34bf38=_0x91dac6(0x254),_0x1d5900=_0x1d7b08;break;case _0x91dac6(0x4c2):_0x34bf38=_0x91dac6(0x2eb),_0x1d5900=_0x315d2b;break;case'fill_in_with_choices':_0x34bf38=_0x91dac6(0x474)+_0x4662d0+'\x20ตัวเลือก)',_0x1d5900=_0x59b67b;break;default:_0x34bf38='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x4662d0+_0x91dac6(0x7e1),_0x1d5900=_0x59b67b;break;}const _0x393f8e=_0x91dac6(0x4d6),_0x2decfc=document['getElementById']('loader'),_0x5840a2=document[_0x91dac6(0x48d)]('loader-text'),_0x1fcb9a=document[_0x91dac6(0x48d)](_0x91dac6(0x60a));document[_0x91dac6(0x48d)](_0x91dac6(0x644))[_0x91dac6(0xbbb)][_0x91dac6(0xb7d)]('hidden'),_0x1fcb9a['innerHTML']='',_0x2decfc[_0x91dac6(0xbbb)][_0x91dac6(0xb7d)](_0x91dac6(0xc6c)),_0x5840a2[_0x91dac6(0x9ea)]='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x443a4c+_0x91dac6(0x584)+_0x3dfa23+_0x91dac6(0x562);try{const _0x416f4f=_0x91dac6(0x5ec),_0x3f4e08=_0x91dac6(0x6d1)+_0x443a4c+'\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20'+_0x3dfa23+_0x91dac6(0x779)+_0x443a4c+_0x91dac6(0x64a)+_0x3dfa23+_0x91dac6(0x99c)+_0x184ad0+_0x91dac6(0x982)+_0x34bf38+_0x91dac6(0xcd8)+_0x393f8e+_0x91dac6(0x988)+_0x416f4f+_0x91dac6(0x9ee)+simpleMathPrompt+_0x91dac6(0xb7b),_0x4daefc={'type':_0x91dac6(0x85f),'properties':{'topic':{'type':_0x91dac6(0x670)},'questions':{'type':_0x91dac6(0x45a),'items':_0x1d5900}},'required':[_0x91dac6(0x6a9),_0x91dac6(0x796)]},_0x2f9432=[{'text':_0x3f4e08},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x2f9432,_0x91dac6(0x96f)+_0x443a4c+_0x91dac6(0x861),_0x4daefc);}catch(_0x5904a9){console[_0x91dac6(0x405)](_0x91dac6(0x90c),_0x5904a9),showMessage(_0x91dac6(0x427)+_0x5904a9[_0x91dac6(0x5ce)]),_0x1fcb9a['innerHTML']=_0x91dac6(0x627);}finally{_0x2decfc[_0x91dac6(0xbbb)]['add'](_0x91dac6(0xc6c));}}async function handleGenerateFromFileClick(){const _0x2f22e2=_0x3076df;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x398f83=document[_0x2f22e2(0x48d)](_0x2f22e2(0x759)),_0x5ba7a6=document['getElementById'](_0x2f22e2(0x6f1)),_0x287699=document['getElementById'](_0x2f22e2(0x60a)),_0x4643d5=document[_0x2f22e2(0x48d)](_0x2f22e2(0xb2e));_0x4643d5[_0x2f22e2(0x1dc)]=!![],document['getElementById'](_0x2f22e2(0x644))[_0x2f22e2(0xbbb)][_0x2f22e2(0xb7d)](_0x2f22e2(0xc6c)),_0x287699[_0x2f22e2(0x9c8)]='',_0x398f83['classList']['remove']('hidden'),_0x5ba7a6['textContent']=_0x2f22e2(0x374);try{const _0x5ccdd7=await new Promise((_0x4233a0,_0x441467)=>{const _0x4ab2a5=_0x2f22e2,_0x4056a9=new FileReader();_0x4056a9[_0x4ab2a5(0x99a)](selectedFile),_0x4056a9[_0x4ab2a5(0x4fd)]=()=>_0x4233a0(_0x4056a9[_0x4ab2a5(0xa0e)][_0x4ab2a5(0x1f1)](',')[0x1]),_0x4056a9[_0x4ab2a5(0x792)]=_0x23677f=>_0x441467(_0x23677f);});await generateQuizFromFile(selectedFile[_0x2f22e2(0x1a1)],_0x5ccdd7);}catch(_0x4f71fe){console[_0x2f22e2(0x405)]('Error\x20processing\x20file\x20for\x20AI:',_0x4f71fe),showMessage('เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20'+_0x4f71fe[_0x2f22e2(0x5ce)]),_0x398f83[_0x2f22e2(0xbbb)][_0x2f22e2(0x49b)](_0x2f22e2(0xc6c)),_0x4643d5[_0x2f22e2(0x1dc)]=![];}}function autoFormatMath(_0x20f802){const _0x25e72d=_0x3076df;if(typeof _0x20f802!==_0x25e72d(0x5d8)||!_0x20f802)return _0x20f802;const _0x11303c=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x493467=_0x20f802['replace'](_0x11303c,_0x8bd294=>{const _0x36feae=_0x25e72d;return'$'+_0x8bd294[_0x36feae(0x7fe)]()+'$';});return _0x493467;}function sanitizeQuizData(_0x2c2564){const _0x259224=_0x3076df;if(!_0x2c2564||!_0x2c2564['questions'])return _0x2c2564;const _0x506b3a={'imes':_0x259224(0x887),'div':_0x259224(0x2f2)},_0x6c411c=_0x3356fa=>{const _0x32cf68=_0x259224;if(typeof _0x3356fa!==_0x32cf68(0x5d8))return _0x3356fa;let _0x378166=_0x3356fa;for(const [_0x2a3b07,_0x1911dc]of Object[_0x32cf68(0x5a3)](_0x506b3a)){const _0x2be4f2=new RegExp('\x5cb'+_0x2a3b07+'\x5cb','g');_0x378166=_0x378166[_0x32cf68(0x1ba)](_0x2be4f2,_0x1911dc);}return _0x378166=_0x378166['replace'](/\\\//g,_0x32cf68(0x2f2)),_0x378166=_0x378166[_0x32cf68(0x1ba)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x32cf68(0x2f2))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x32cf68(0x887))['replace'](/÷/g,_0x32cf68(0x2f2))['replace'](/×/g,'\x5ctimes'),_0x378166=_0x378166['replace'](/(\d)(\\frac)/g,_0x32cf68(0x35c)),_0x378166=autoFormatMath(_0x378166),_0x378166;};return _0x2c2564[_0x259224(0x6a9)]&&(_0x2c2564[_0x259224(0x6a9)]=_0x6c411c(_0x2c2564[_0x259224(0x6a9)])),_0x2c2564['questions'][_0x259224(0x9c9)](_0x5cee97=>{const _0x56481e=_0x259224;_0x5cee97[_0x56481e(0x833)]=_0x6c411c(_0x5cee97['questionText']),_0x5cee97[_0x56481e(0x7ce)]&&(_0x5cee97['options']=_0x5cee97[_0x56481e(0x7ce)][_0x56481e(0x3c9)](_0x6c411c)),_0x5cee97['explanation']&&(_0x5cee97[_0x56481e(0x4f5)]=_0x6c411c(_0x5cee97[_0x56481e(0x4f5)])),_0x5cee97[_0x56481e(0x255)]&&(_0x5cee97[_0x56481e(0x255)]=_0x6c411c(_0x5cee97[_0x56481e(0x255)])),_0x5cee97['correctResponse']&&(_0x5cee97[_0x56481e(0x4fc)]=_0x6c411c(_0x5cee97[_0x56481e(0x4fc)])),_0x5cee97['allResponses']&&(_0x5cee97['allResponses']=_0x5cee97[_0x56481e(0x1cf)]['map'](_0x6c411c));}),_0x2c2564;}const simpleMathPrompt=_0x3076df(0x998);async function handleGenerateFromLink(){const _0x3f0023=_0x3076df,_0x2031b0=document[_0x3f0023(0x48d)](_0x3f0023(0x6b9)),_0x4a93d3=document['getElementById'](_0x3f0023(0xaa7)),_0x1b0d7c=_0x2031b0[_0x3f0023(0xaef)][_0x3f0023(0x7fe)](),_0x21a21a=_0x4a93d3['value'][_0x3f0023(0x7fe)]();if(!_0x1b0d7c){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x821676=document[_0x3f0023(0x48d)](_0x3f0023(0x759)),_0x1d8d65=document[_0x3f0023(0x48d)](_0x3f0023(0x6f1)),_0xed2a73=document[_0x3f0023(0x48d)](_0x3f0023(0x60a)),_0x3e1965=document[_0x3f0023(0x48d)](_0x3f0023(0x338));document[_0x3f0023(0x48d)](_0x3f0023(0x644))[_0x3f0023(0xbbb)][_0x3f0023(0xb7d)](_0x3f0023(0xc6c)),_0xed2a73[_0x3f0023(0x9c8)]='',_0x821676['classList'][_0x3f0023(0xb7d)](_0x3f0023(0xc6c)),_0x1d8d65[_0x3f0023(0x9ea)]=_0x3f0023(0xbbf),_0x3e1965[_0x3f0023(0x1dc)]=!![];try{const _0x4b4f1c='https://corsproxy.io/?'+encodeURIComponent(_0x1b0d7c),_0x1fe227=await fetch(_0x4b4f1c);if(!_0x1fe227['ok'])throw new Error(_0x3f0023(0xb83)+_0x1fe227[_0x3f0023(0x732)]+')');const _0x3e5144=await _0x1fe227[_0x3f0023(0x5ca)](),_0x2eaf1f=extractTextFromHtml(_0x3e5144);if(!_0x2eaf1f||_0x2eaf1f[_0x3f0023(0x3b0)]<0x64)throw new Error(_0x3f0023(0x5e7));await generateQuiz(_0x21a21a,_0x2eaf1f);}catch(_0x1a12c7){console[_0x3f0023(0x405)](_0x3f0023(0x299),_0x1a12c7),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1a12c7[_0x3f0023(0x5ce)]),_0xed2a73[_0x3f0023(0x9c8)]=_0x3f0023(0x7c9);}finally{_0x821676[_0x3f0023(0xbbb)][_0x3f0023(0x49b)]('hidden'),_0x3e1965[_0x3f0023(0x1dc)]=![];}}function extractTextFromHtml(_0xe6b78a){const _0xab6350=_0x3076df,_0x25a5b2=new DOMParser()[_0xab6350(0x2a8)](_0xe6b78a,_0xab6350(0xafb));return _0x25a5b2[_0xab6350(0x599)](_0xab6350(0xb87))[_0xab6350(0x9c9)](_0x1900a2=>_0x1900a2[_0xab6350(0xb7d)]()),_0x25a5b2[_0xab6350(0xb53)][_0xab6350(0x9ea)]||'';}document[_0x3076df(0x48d)]('generate-from-topic-btn')['addEventListener'](_0x3076df(0x623),()=>{const _0x4d0c77=_0x3076df,_0x26595e=document[_0x4d0c77(0x48d)](_0x4d0c77(0x80a))[_0x4d0c77(0xaef)][_0x4d0c77(0x7fe)]();generateQuiz(_0x26595e,null);}),document[_0x3076df(0x48d)](_0x3076df(0xcbd))[_0x3076df(0x331)]('click',()=>{const _0x490aee=_0x3076df,_0x3889df=document[_0x490aee(0x48d)]('text-content-input')[_0x490aee(0xaef)][_0x490aee(0x7fe)]();if(!_0x3889df){showMessage(_0x490aee(0x6d6));return;}const _0x1d0cc4=document[_0x490aee(0x48d)](_0x490aee(0x80a))[_0x490aee(0xaef)][_0x490aee(0x7fe)]();generateQuiz(_0x1d0cc4,_0x3889df);});async function generateQuiz(_0x2b6c75,_0x25a6c5,_0x291368=null,_0xe6896b=null,_0x2d70ef=![],_0x307d7c=null,_0x161fb3=null,_0x53116b=![]){const _0x57f8d5=_0x3076df;let _0x6df862={};if(_0x2d70ef&&blueprintPageSettings)_0x6df862=blueprintPageSettings;else{const _0x5ddf4f=document[_0x57f8d5(0x599)](_0x57f8d5(0x2f3));_0x6df862={'quizType':document[_0x57f8d5(0x48d)](_0x57f8d5(0x7ad))[_0x57f8d5(0xaef)],'numQuestions':document[_0x57f8d5(0x48d)](_0x57f8d5(0xcc3))[_0x57f8d5(0xaef)],'numChoices':document[_0x57f8d5(0x48d)](_0x57f8d5(0x1d6))[_0x57f8d5(0xaef)],'includeImages':document['getElementById'](_0x57f8d5(0xb0e))[_0x57f8d5(0xb91)],'isNormalTopic':document[_0x57f8d5(0x48d)](_0x57f8d5(0x56f))[_0x57f8d5(0xb91)],'difficultyValue':document[_0x57f8d5(0x48d)]('difficulty-level-select')[_0x57f8d5(0xaef)],'complexityValue':document[_0x57f8d5(0x48d)](_0x57f8d5(0xa6d))[_0x57f8d5(0xaef)],'selectedTopicNames':Array[_0x57f8d5(0x2bb)](_0x5ddf4f)[_0x57f8d5(0x3c9)](_0x180f57=>_0x180f57['value'])};}const _0xefb546=_0x6df862[_0x57f8d5(0x2bf)]?'':_0x57f8d5(0x19b),_0x287160=_0x6df862[_0x57f8d5(0x7ef)]!=='auto'?_0x57f8d5(0x3f0)+_0x6df862['difficultyValue']+'\x22':'',_0x3725e9=_0x6df862[_0x57f8d5(0x3e7)]!==_0x57f8d5(0xacf)?_0x57f8d5(0x6b4)+_0x6df862[_0x57f8d5(0x3e7)]+_0x57f8d5(0x2c5):'';let _0x12fa43='';_0x6df862[_0x57f8d5(0x8e1)]&&_0x6df862['selectedTopicNames']['length']>0x0&&(_0x12fa43='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x6df862[_0x57f8d5(0x8e1)][_0x57f8d5(0x28d)](',\x20')+'.');let _0x1a1193='';_0xe6896b&&(_0x1a1193='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x11af25='',_0x4d2d33='',_0x220662,_0x8f74aa=_0x57f8d5(0xacc)+_0x2b6c75+'\x22';if(!_0x2b6c75&&_0x25a6c5)_0x8f74aa=_0x57f8d5(0xc7c);else!_0x2b6c75&&!_0x25a6c5&&(_0x8f74aa='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x54d7e9={'type':_0x57f8d5(0x85f),'properties':{'questionText':{'type':_0x57f8d5(0x670)},'options':{'type':_0x57f8d5(0x45a),'items':{'type':_0x57f8d5(0x670)}},'correctAnswerIndex':{'type':_0x57f8d5(0x312)},'explanation':{'type':_0x57f8d5(0x670)},'imageCode':{'type':_0x57f8d5(0x670)}},'required':['questionText',_0x57f8d5(0x7ce),_0x57f8d5(0x60b),'explanation']},_0x1ca75e={'type':_0x57f8d5(0x85f),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x57f8d5(0x670)},'imageCode':{'type':_0x57f8d5(0x670)}},'required':[_0x57f8d5(0x833),'idealAnswer',_0x57f8d5(0x4f5)]},_0x31238c={'type':_0x57f8d5(0x85f),'properties':{'questionText':{'type':_0x57f8d5(0x670)},'questionType':{'type':_0x57f8d5(0x670),'enum':[_0x57f8d5(0xa73),'short_answer']},'options':{'type':_0x57f8d5(0x45a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x57f8d5(0x670)},'explanation':{'type':_0x57f8d5(0x670)},'imageCode':{'type':_0x57f8d5(0x670)}},'required':['questionText',_0x57f8d5(0xbc3),'explanation']},_0x4a549a={'type':_0x57f8d5(0x85f),'properties':{'questionText':{'type':_0x57f8d5(0x670)},'correctAnswer':{'type':_0x57f8d5(0xa0f)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x57f8d5(0x670)}},'required':[_0x57f8d5(0x833),_0x57f8d5(0x369),_0x57f8d5(0x4f5)]},_0x8f193d={'type':_0x57f8d5(0x85f),'properties':{'questionType':{'type':_0x57f8d5(0x670),'enum':['matching_item']},'stem':{'type':_0x57f8d5(0x670)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x57f8d5(0x45a),'items':{'type':_0x57f8d5(0x670)}},'explanation':{'type':_0x57f8d5(0x670)},'imageCode':{'type':_0x57f8d5(0x670)}},'required':['questionType',_0x57f8d5(0x255),_0x57f8d5(0x4fc),'allResponses','explanation']};let _0x3106f9;if(_0x291368!==null){const _0xd99df0=currentQuizData[_0x57f8d5(0x796)][_0x291368]['questionType'],_0x4c31e5=_0x6df862['includeImages']?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x11af25=_0x57f8d5(0x731)+_0x8f74aa+'\x20'+_0x12fa43+'\x20'+_0x287160+_0x57f8d5(0xcdd)+_0x4c31e5+'\x20'+simpleMathPrompt;if(_0xd99df0===_0x57f8d5(0xa73))_0x220662=_0x54d7e9;else{if(_0xd99df0===_0x57f8d5(0xd01))_0x220662={'type':_0x57f8d5(0x85f),'properties':{'questionType':{'type':_0x57f8d5(0x670),'enum':['matching_item']},'stem':{'type':_0x57f8d5(0x670)},'correctResponse':{'type':_0x57f8d5(0x670)},'explanation':{'type':_0x57f8d5(0x670)},'imageCode':{'type':_0x57f8d5(0x670)}},'required':[_0x57f8d5(0xbc3),_0x57f8d5(0x255),_0x57f8d5(0x4fc),_0x57f8d5(0x4f5)]};else _0x220662=_0x1ca75e;}_0x3106f9=_0x220662;}else{const _0x12f103=_0x6df862[_0x57f8d5(0xceb)]?_0x57f8d5(0x2ef):'';switch(_0x6df862[_0x57f8d5(0xcb9)]){case _0x57f8d5(0xa73):_0x11af25=_0x57f8d5(0xa7f)+_0xefb546+'\x20'+_0x6df862[_0x57f8d5(0x2a5)]+'\x20ข้อ\x20'+_0x8f74aa+'\x20'+_0x12fa43+'\x20'+_0x287160+'\x20'+_0x3725e9+'\x20'+_0x1a1193+_0x57f8d5(0x7cc)+_0x6df862[_0x57f8d5(0x199)]+_0x57f8d5(0x799)+_0x12f103+'\x20'+simpleMathPrompt,_0x220662=_0x54d7e9;break;case _0x57f8d5(0x62e):_0x11af25=_0x57f8d5(0x9aa)+_0xefb546+'\x20'+_0x6df862['numQuestions']+_0x57f8d5(0x41a)+_0x8f74aa+'\x20'+_0x12fa43+'\x20'+_0x287160+'\x20'+_0x3725e9+'\x20'+_0x1a1193+_0x57f8d5(0x39b)+_0x6df862[_0x57f8d5(0x199)]+_0x57f8d5(0x1e6)+_0x12f103+'\x20'+simpleMathPrompt,_0x220662=_0x54d7e9;break;case _0x57f8d5(0xa70):_0x11af25='สร้างคำถามแบบเติมคำในช่องว่าง'+_0xefb546+'\x20'+_0x6df862[_0x57f8d5(0x2a5)]+'\x20ข้อ\x20'+_0x8f74aa+'\x20'+_0x12fa43+'\x20'+_0x287160+'\x20'+_0x3725e9+'\x20'+_0x1a1193+_0x57f8d5(0x341)+_0x12f103+'\x20'+simpleMathPrompt,_0x220662=_0x1ca75e;break;case _0x57f8d5(0xacf):_0x11af25=_0x57f8d5(0x246)+_0xefb546+'\x20'+_0x6df862[_0x57f8d5(0x2a5)]+'\x20ข้อ\x20'+_0x8f74aa+'\x20'+_0x12fa43+'\x20'+_0x287160+'\x20'+_0x3725e9+'\x20'+_0x1a1193+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x6df862[_0x57f8d5(0x199)]+_0x57f8d5(0x9bc)+_0x12f103+'\x20'+simpleMathPrompt+'.',_0x220662=_0x31238c;break;case'true_false':_0x11af25=_0x57f8d5(0xbfd)+_0xefb546+'\x20'+_0x6df862[_0x57f8d5(0x2a5)]+'\x20ข้อ\x20'+_0x8f74aa+'\x20'+_0x12fa43+'\x20'+_0x287160+'\x20'+_0x3725e9+'\x20'+_0x1a1193+_0x57f8d5(0xa0d)+_0x12f103+'\x20'+simpleMathPrompt,_0x220662=_0x4a549a;break;case _0x57f8d5(0x4c2):_0x11af25='สร้างชุดคำถามจับคู่'+_0xefb546+'\x20'+_0x6df862[_0x57f8d5(0x2a5)]+_0x57f8d5(0x3c5)+_0x8f74aa+'\x20'+_0x12fa43+'\x20'+_0x287160+'\x20'+_0x3725e9+'\x20'+_0x1a1193+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x12f103+'\x20'+simpleMathPrompt,_0x220662=_0x8f193d;break;}_0x3106f9={'type':_0x57f8d5(0x85f),'properties':{'topic':{'type':_0x57f8d5(0x670)},'questions':{'type':_0x57f8d5(0x45a),'items':_0x220662}},'required':[_0x57f8d5(0x6a9),'questions']};}const _0x4b7d30=_0x57f8d5(0x237);_0x25a6c5?(_0x53116b?_0x11af25=_0x57f8d5(0x3bd)+_0x25a6c5+_0x57f8d5(0x28e)+_0x11af25+_0x4b7d30:_0x11af25=_0x57f8d5(0x3bd)+_0x25a6c5+_0x57f8d5(0x28e)+_0x11af25,_0x4d2d33='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):(_0x53116b&&(_0x11af25+=_0x4b7d30),_0x4d2d33='กำลังสร้างแบบทดสอบจากหัวข้อ...');let _0x4eb6ec;return _0xe6896b?(_0x4eb6ec=[{'text':_0x11af25},..._0xe6896b],_0x4d2d33=_0x57f8d5(0xd0c)):_0x4eb6ec=_0x11af25,handleApiCall(_0x4eb6ec,_0x4d2d33,_0x3106f9,_0x291368,!![],_0x307d7c,_0x161fb3);}async function generateQuizFromFile(_0x44c26f,_0x3ae431){const _0x2278ef=_0x3076df,_0x3092e6=document[_0x2278ef(0x48d)](_0x2278ef(0xc09))[_0x2278ef(0xaef)]['trim'](),_0xabc4ff=document[_0x2278ef(0x48d)](_0x2278ef(0x7ad))['value'],_0x166f23=document[_0x2278ef(0x48d)]('num-questions')['value'],_0xc8bac4=document[_0x2278ef(0x48d)](_0x2278ef(0x1d6))['value'],_0x430ebe=document[_0x2278ef(0x48d)](_0x2278ef(0xb0e))['checked'],_0x3abe5b=document['getElementById'](_0x2278ef(0x56f))[_0x2278ef(0xb91)],_0x478391=_0x3abe5b?'':_0x2278ef(0x19b),_0x572a15=document[_0x2278ef(0x48d)](_0x2278ef(0x941))['checked'];let _0x4f8bd5='',_0x4cc852;const _0x514428=_0x430ebe?_0x2278ef(0x2ef):'';if(_0x572a15)_0x4f8bd5='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0x514428+'\x0a'+simpleMathPrompt+'\x0a',_0x4cc852={'type':_0x2278ef(0x85f),'properties':{'questionText':{'type':_0x2278ef(0x670)},'questionType':{'type':'STRING','enum':[_0x2278ef(0xa73),_0x2278ef(0x296),'true_false',_0x2278ef(0xd01)]},'options':{'type':_0x2278ef(0x45a),'items':{'type':_0x2278ef(0x670)}},'correctAnswerIndex':{'type':_0x2278ef(0x312)},'idealAnswer':{'type':_0x2278ef(0x670)},'correctAnswer':{'type':_0x2278ef(0xa0f)},'stem':{'type':_0x2278ef(0x670)},'correctResponse':{'type':_0x2278ef(0x670)},'allResponses':{'type':_0x2278ef(0x45a),'items':{'type':_0x2278ef(0x670)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2278ef(0x670)}},'required':[_0x2278ef(0xbc3),'explanation']};else{let _0x49a38b=_0x2278ef(0xacc)+_0x3092e6+'\x22';!_0x3092e6&&(_0x49a38b=_0x2278ef(0x3e8));switch(_0xabc4ff){case _0x2278ef(0xa73):_0x4f8bd5=_0x2278ef(0xa7f)+_0x478391+'\x20'+_0x166f23+'\x20ข้อ\x20'+_0x49a38b+_0x2278ef(0x7cc)+_0xc8bac4+_0x2278ef(0x799)+_0x514428+'\x20'+simpleMathPrompt,_0x4cc852={'type':_0x2278ef(0x85f),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2278ef(0x45a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x2278ef(0x670)},'imageCode':{'type':_0x2278ef(0x670)}},'required':['questionText',_0x2278ef(0x7ce),_0x2278ef(0x60b),'explanation']};break;case _0x2278ef(0x62e):_0x4f8bd5=_0x2278ef(0x9aa)+_0x478391+'\x20'+_0x166f23+'\x20ข้อ\x20'+_0x49a38b+_0x2278ef(0x39b)+_0xc8bac4+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x514428+'\x20'+simpleMathPrompt,_0x4cc852={'type':_0x2278ef(0x85f),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2278ef(0x45a),'items':{'type':_0x2278ef(0x670)}},'correctAnswerIndex':{'type':_0x2278ef(0x312)},'explanation':{'type':_0x2278ef(0x670)},'imageCode':{'type':_0x2278ef(0x670)}},'required':[_0x2278ef(0x833),_0x2278ef(0x7ce),_0x2278ef(0x60b),'explanation']};break;case _0x2278ef(0xa70):_0x4f8bd5='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x478391+'\x20'+_0x166f23+_0x2278ef(0x41a)+_0x49a38b+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x514428+'\x20'+simpleMathPrompt,_0x4cc852={'type':_0x2278ef(0x85f),'properties':{'questionText':{'type':_0x2278ef(0x670)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x2278ef(0x833),_0x2278ef(0x36e),'explanation']};break;case _0x2278ef(0xacf):_0x4f8bd5=_0x2278ef(0x246)+_0x478391+'\x20'+_0x166f23+'\x20ข้อ\x20'+_0x49a38b+_0x2278ef(0x41e)+_0xc8bac4+_0x2278ef(0x96b)+_0x514428+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x4cc852={'type':_0x2278ef(0x85f),'properties':{'questionText':{'type':_0x2278ef(0x670)},'questionType':{'type':'STRING','enum':[_0x2278ef(0xa73),_0x2278ef(0x296)]},'options':{'type':'ARRAY','items':{'type':_0x2278ef(0x670)}},'correctAnswerIndex':{'type':_0x2278ef(0x312)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2278ef(0x670)},'imageCode':{'type':_0x2278ef(0x670)}},'required':[_0x2278ef(0x833),_0x2278ef(0xbc3),_0x2278ef(0x4f5)]};break;case _0x2278ef(0x35a):_0x4f8bd5=_0x2278ef(0xbfd)+_0x478391+'\x20'+_0x166f23+_0x2278ef(0x41a)+_0x49a38b+_0x2278ef(0xa20)+_0x514428+'\x20'+simpleMathPrompt,_0x4cc852={'type':_0x2278ef(0x85f),'properties':{'questionText':{'type':_0x2278ef(0x670)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x2278ef(0x833),_0x2278ef(0x369),_0x2278ef(0x4f5)]};break;case _0x2278ef(0x4c2):_0x4f8bd5=_0x2278ef(0x6c2)+_0x478391+'\x20'+_0x166f23+_0x2278ef(0x3c5)+_0x49a38b+_0x2278ef(0xbcb)+_0x166f23+_0x2278ef(0x458)+_0x514428+'\x20'+simpleMathPrompt,_0x4cc852={'type':'OBJECT','properties':{'questionType':{'type':_0x2278ef(0x670),'enum':[_0x2278ef(0xd01)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2278ef(0x670)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x2278ef(0x670)},'imageCode':{'type':'STRING'}},'required':[_0x2278ef(0xbc3),_0x2278ef(0x255),_0x2278ef(0x4fc),_0x2278ef(0x1cf),'explanation']};break;}}const _0x58dba9={'type':_0x2278ef(0x85f),'properties':{'topic':{'type':_0x2278ef(0x670)},'questions':{'type':_0x2278ef(0x45a),'items':_0x4cc852}},'required':[_0x2278ef(0x6a9),'questions']},_0x3119d3='จากไฟล์ที่แนบมานี้,\x20'+_0x4f8bd5,_0x2fc689={'contents':[{'parts':[{'text':_0x3119d3},{'inlineData':{'mimeType':_0x44c26f,'data':_0x3ae431}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x58dba9}};return handleApiCall(_0x2fc689[_0x2278ef(0xb4d)][0x0][_0x2278ef(0x219)],_0x2278ef(0xc6a),_0x58dba9);}async function handleApiCall(_0x5565a4,_0x85ad7e,_0x1d5bf0,_0x11349a=null,_0x3bbc1e=!![],_0x403620=null,_0x3d7d7d=null){const _0x35df32=_0x3076df,_0x1f7e50=document[_0x35df32(0x48d)]('quiz-generation-area'),_0x16a5c2=document[_0x35df32(0x48d)](_0x35df32(0x759)),_0x3279e9=document['getElementById'](_0x35df32(0x6f1)),_0x149f8a=document[_0x35df32(0x48d)](_0x35df32(0x60a));_0x1f7e50[_0x35df32(0xbbb)][_0x35df32(0xb7d)](_0x35df32(0xc6c));_0x11349a===null&&_0x3bbc1e&&(_0x149f8a['innerHTML']='');_0x16a5c2[_0x35df32(0xbbb)]['remove'](_0x35df32(0xc6c)),_0x3279e9[_0x35df32(0x9ea)]=_0x85ad7e,document['getElementById'](_0x35df32(0x87e))['disabled']=!![],document[_0x35df32(0x48d)]('generate-from-text-btn')[_0x35df32(0x1dc)]=!![],document[_0x35df32(0x48d)](_0x35df32(0x338))['disabled']=!![];const _0x3ba4cc=document['getElementById'](_0x35df32(0xb2e));if(_0x3ba4cc)_0x3ba4cc[_0x35df32(0x1dc)]=!![];const _0x40b3d9=document['getElementById'](_0x35df32(0x8e3));if(_0x40b3d9)_0x40b3d9[_0x35df32(0x1dc)]=!![];const _0x551c94=document[_0x35df32(0x48d)](_0x35df32(0xadc));if(_0x551c94)_0x551c94[_0x35df32(0x1dc)]=!![];try{const _0x1566e8=Array[_0x35df32(0x70c)](_0x5565a4)?_0x5565a4:[{'text':_0x5565a4}],_0x1fb9bf={'contents':[{'role':'user','parts':_0x1566e8}]};_0x1d5bf0&&(_0x1fb9bf['generationConfig']={'responseMimeType':'application/json','responseSchema':_0x1d5bf0});const _0x3f0d78=_0x35df32(0x886),_0x53b1ba=_0x35df32(0xce0)+_0x3f0d78,_0x369ade=await fetch(_0x53b1ba,{'method':_0x35df32(0x96a),'headers':{'Content-Type':_0x35df32(0x679)},'body':JSON[_0x35df32(0x4c6)](_0x1fb9bf)});if(!_0x369ade['ok']){const _0x5183bc=await _0x369ade[_0x35df32(0x5ca)]();console['error']('API\x20Error\x20Response:',_0x5183bc);throw new Error(_0x35df32(0x570)+_0x369ade[_0x35df32(0x732)]);}const _0x2ff4bf=await _0x369ade[_0x35df32(0xcd7)]();if(!_0x2ff4bf[_0x35df32(0x91b)]||_0x2ff4bf[_0x35df32(0x91b)][_0x35df32(0x3b0)]===0x0){let _0x5afd3e=_0x35df32(0x869);return _0x2ff4bf['promptFeedback']?.[_0x35df32(0xaeb)]&&(_0x5afd3e='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x2ff4bf[_0x35df32(0x47b)][_0x35df32(0xaeb)]+'.'),console[_0x35df32(0x405)](_0x5afd3e,JSON['stringify'](_0x2ff4bf)),null;}const _0x337ffa=_0x2ff4bf[_0x35df32(0x91b)][0x0][_0x35df32(0x7cf)]['parts'][0x0][_0x35df32(0x5ca)];if(_0x1d5bf0){let _0x2452fd=_0x337ffa;if(_0x2452fd[_0x35df32(0x1c6)](_0x35df32(0x520)))_0x2452fd=_0x2452fd['substring'](0x7,_0x2452fd[_0x35df32(0x3b0)]-0x3)['trim']();else _0x2452fd[_0x35df32(0x1c6)]('```')&&(_0x2452fd=_0x2452fd['substring'](0x3,_0x2452fd[_0x35df32(0x3b0)]-0x3)['trim']());let _0x2920f9=JSON[_0x35df32(0x802)](_0x2452fd);if(_0x3bbc1e){if(_0x11349a!==null){}else currentQuizData=_0x2920f9,displayGeneratedQuiz(currentQuizData,_0x403620,_0x3d7d7d);}return _0x2920f9;}else return _0x337ffa;}catch(_0x2fa808){console[_0x35df32(0x405)](_0x35df32(0x2d3),_0x2fa808),showMessage(_0x35df32(0xacd)+_0x2fa808[_0x35df32(0x5ce)]);_0x3bbc1e&&(_0x149f8a[_0x35df32(0x9c8)]=_0x35df32(0x6d7));throw _0x2fa808;}finally{_0x16a5c2[_0x35df32(0xbbb)][_0x35df32(0x49b)](_0x35df32(0xc6c)),document[_0x35df32(0x48d)](_0x35df32(0x87e))[_0x35df32(0x1dc)]=![],document[_0x35df32(0x48d)]('generate-from-text-btn')['disabled']=![],document['getElementById']('generate-from-link-btn')[_0x35df32(0x1dc)]=![];if(_0x3ba4cc)_0x3ba4cc[_0x35df32(0x1dc)]=![];if(_0x40b3d9)_0x40b3d9[_0x35df32(0x1dc)]=![];if(_0x551c94)_0x551c94[_0x35df32(0x1dc)]=![];}}function exitFullscreen(){const _0x4a9ae7=_0x3076df;if(document['exitFullscreen'])document['exitFullscreen']()['catch'](_0x4c048d=>console['error'](_0x4c048d));else{if(document[_0x4a9ae7(0xb08)])document[_0x4a9ae7(0xb08)]();else document[_0x4a9ae7(0x51e)]&&document[_0x4a9ae7(0x51e)]();}}function enterFullscreen(){const _0x550245=_0x3076df,_0xfbcda1=document['documentElement'];if(_0xfbcda1['requestFullscreen'])_0xfbcda1[_0x550245(0x268)]()[_0x550245(0x3b5)](_0x4b4958=>{const _0x1dead9=_0x550245;console['error'](_0x1dead9(0xc65)+_0x4b4958[_0x1dead9(0x5ce)]+'\x20('+_0x4b4958[_0x1dead9(0x774)]+')');});else{if(_0xfbcda1['webkitRequestFullscreen'])_0xfbcda1[_0x550245(0xc0c)]();else _0xfbcda1['msRequestFullscreen']&&_0xfbcda1[_0x550245(0x772)]();}}function handleCheatingEvent(){const _0x30c8da=_0x3076df;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x30c8da(0xd22),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x30c8da(0x232)),document[_0x30c8da(0x48d)](_0x30c8da(0x201))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x30c8da(0x210)]('visibilitychange',handleVisibilityChange),document[_0x30c8da(0x210)]('fullscreenchange',handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x30c8da(0x27c),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x49daf5=_0x3076df;if(currentMode==='admin-testing'||!isQuizActive)return;if(document[_0x49daf5(0x7dd)]===_0x49daf5(0xc6c))handleCheatingEvent();else document['visibilityState']==='visible'&&(console[_0x49daf5(0x676)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x1ef50e=_0x3076df;if(currentMode===_0x1ef50e(0xa9b)||!isQuizActive)return;!document[_0x1ef50e(0x882)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x306d7a,_0x5c270f=null,_0x3b5d3a=null){const _0xcddcc8=_0x3076df,_0x2a9b99=document[_0xcddcc8(0x48d)](_0xcddcc8(0x60a));let _0x46428b='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x306d7a[_0xcddcc8(0x6a9)]+'</h3>';_0x306d7a['questions'][_0xcddcc8(0x9c9)]((_0x50fbf6,_0x114175)=>{const _0x4dacf0=_0xcddcc8;!_0x50fbf6['id']&&(_0x50fbf6['id']='q_'+Date[_0x4dacf0(0x95f)]()+'_'+_0x114175);const _0x3be56c=_0x50fbf6[_0x4dacf0(0xbc3)]||_0x306d7a[_0x4dacf0(0xcb9)];_0x46428b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x114175+_0x4dacf0(0x985)+_0x114175+_0x4dacf0(0xaf8)+_0x114175+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x3be56c){case'matching_item':_0x46428b+=_0x4dacf0(0x9b0)+_0x114175+'\x22>'+(_0x114175+0x1)+'.\x20'+_0x50fbf6[_0x4dacf0(0x255)]+_0x4dacf0(0x19e);_0x50fbf6[_0x4dacf0(0x415)]&&(_0x46428b+=_0x4dacf0(0x194)+_0x114175+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x50fbf6[_0x4dacf0(0x415)]+'</div>');_0x46428b+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x114175+'\x22>'+_0x50fbf6[_0x4dacf0(0x4fc)]+_0x4dacf0(0x617),_0x46428b+=_0x4dacf0(0x464)+_0x114175+'\x22>'+_0x50fbf6[_0x4dacf0(0x4f5)]+_0x4dacf0(0x617);break;case _0x4dacf0(0x296):_0x46428b+=_0x4dacf0(0x9b0)+_0x114175+'\x22>'+(_0x114175+0x1)+'.\x20'+_0x50fbf6[_0x4dacf0(0x833)]+'</p>';_0x50fbf6['imageCode']&&(_0x46428b+=_0x4dacf0(0x194)+_0x114175+_0x4dacf0(0x2b2)+_0x50fbf6[_0x4dacf0(0x415)]+_0x4dacf0(0x9b9));_0x46428b+=_0x4dacf0(0x999)+_0x114175+'\x22>'+_0x50fbf6[_0x4dacf0(0x36e)]+_0x4dacf0(0x617),_0x46428b+=_0x4dacf0(0x464)+_0x114175+'\x22>'+_0x50fbf6[_0x4dacf0(0x4f5)]+_0x4dacf0(0x617);break;case _0x4dacf0(0x35a):_0x46428b+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x114175+'\x22>'+(_0x114175+0x1)+'.\x20'+_0x50fbf6[_0x4dacf0(0x833)]+'</p>';_0x50fbf6[_0x4dacf0(0x415)]&&(_0x46428b+='<div\x20id=\x22q-image-container-'+_0x114175+_0x4dacf0(0x2b2)+_0x50fbf6[_0x4dacf0(0x415)]+_0x4dacf0(0x9b9));_0x46428b+=_0x4dacf0(0xc0e)+(_0x50fbf6[_0x4dacf0(0x369)]===!![]?_0x4dacf0(0x655):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x50fbf6[_0x4dacf0(0x369)]===![]?_0x4dacf0(0x655):'')+_0x4dacf0(0x220),_0x46428b+=_0x4dacf0(0x464)+_0x114175+'\x22>'+_0x50fbf6[_0x4dacf0(0x4f5)]+_0x4dacf0(0x617);break;case'fill_in_the_blank':case _0x4dacf0(0xa73):default:_0x46428b+=_0x4dacf0(0x9b0)+_0x114175+'\x22>'+(_0x114175+0x1)+'.\x20'+_0x50fbf6[_0x4dacf0(0x833)]+_0x4dacf0(0x19e);_0x50fbf6[_0x4dacf0(0x415)]&&(_0x46428b+=_0x4dacf0(0x194)+_0x114175+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x50fbf6[_0x4dacf0(0x415)]+_0x4dacf0(0x9b9));_0x46428b+=_0x4dacf0(0x822)+_0x114175+_0x4dacf0(0x214)+(_0x50fbf6[_0x4dacf0(0x7ce)]||[])[_0x4dacf0(0x3c9)]((_0x5c985a,_0x16503b)=>_0x4dacf0(0x24a)+(_0x16503b===_0x50fbf6[_0x4dacf0(0x60b)]?_0x4dacf0(0x655):'')+'\x22>'+_0x5c985a+'</li>')[_0x4dacf0(0x28d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x46428b+=_0x4dacf0(0x464)+_0x114175+'\x22>'+_0x50fbf6[_0x4dacf0(0x4f5)]+'</span></div>';break;}_0x46428b+=_0x4dacf0(0x9b9);}),_0x46428b+=_0xcddcc8(0x730),_0x2a9b99['innerHTML']=_0x46428b,document[_0xcddcc8(0x599)](_0xcddcc8(0x490))[_0xcddcc8(0x9c9)](_0xd2931=>_0xd2931[_0xcddcc8(0x331)]('click',handleEditQuestion)),document[_0xcddcc8(0x599)](_0xcddcc8(0xc71))[_0xcddcc8(0x9c9)](_0x196812=>_0x196812[_0xcddcc8(0x331)](_0xcddcc8(0x623),handleRegenerateQuestion)),document[_0xcddcc8(0x48d)](_0xcddcc8(0x1b3))[_0xcddcc8(0x331)](_0xcddcc8(0x623),exportQuizAsWorksheetPDF),document['getElementById'](_0xcddcc8(0xcf1))[_0xcddcc8(0x331)]('click',handleVerifyAnswers);const _0x47c525=document[_0xcddcc8(0x48d)](_0xcddcc8(0x2d0));if(_0x47c525){const _0x221bda=_0x5c270f||currentProjectId;_0x47c525[_0xcddcc8(0x331)](_0xcddcc8(0x623),()=>saveQuiz(_0x221bda,_0x3b5d3a));}if(window['MathJax'])window[_0xcddcc8(0x278)]['typesetPromise']([_0x2a9b99]);}function handleRegenerateQuestion(_0x167b2f){const _0x4ec168=_0x3076df,_0x1557ee=_0x167b2f[_0x4ec168(0x328)][_0x4ec168(0x40c)][_0x4ec168(0x353)],_0x4876ca=currentQuizData['topic'];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x1557ee)+0x1)+'\x20ใหม่...'),generateQuiz(_0x4876ca,null,parseInt(_0x1557ee));}function getPointerPosition(_0x2281bc,_0x130aa0){const _0x53ca57=_0x3076df,_0x42b54b=_0x2281bc[_0x53ca57(0x49f)]();let _0x16b95b,_0x368428;return _0x130aa0[_0x53ca57(0x5f5)]&&_0x130aa0[_0x53ca57(0x5f5)][_0x53ca57(0x3b0)]>0x0?(_0x16b95b=_0x130aa0[_0x53ca57(0x5f5)][0x0][_0x53ca57(0xafc)],_0x368428=_0x130aa0[_0x53ca57(0x5f5)][0x0][_0x53ca57(0x619)]):(_0x16b95b=_0x130aa0[_0x53ca57(0xafc)],_0x368428=_0x130aa0[_0x53ca57(0x619)]),{'x':(_0x16b95b-_0x42b54b['e'])/_0x42b54b['a'],'y':(_0x368428-_0x42b54b['f'])/_0x42b54b['d']};}function startDrag(_0x156a46){const _0x1bc8ff=_0x3076df;_0x156a46[_0x1bc8ff(0x1a1)]==='touchstart'&&_0x156a46['preventDefault']();const _0x5643fd=_0x156a46[_0x1bc8ff(0x805)][_0x1bc8ff(0x951)](_0x1bc8ff(0xaaf));if(_0x5643fd){draggedSvgElement=_0x5643fd;const _0x2e623f=draggedSvgElement['ownerSVGElement'],_0x3ba760=getPointerPosition(_0x2e623f,_0x156a46);svgOffset['x']=_0x3ba760['x']-parseFloat(draggedSvgElement[_0x1bc8ff(0xc26)](null,'x')),svgOffset['y']=_0x3ba760['y']-parseFloat(draggedSvgElement[_0x1bc8ff(0xc26)](null,'y'));}}function calculateItemAnalysis(_0x188423,_0x406542){const _0x45d18b=_0x3076df,_0x57694f={};if(_0x406542[_0x45d18b(0x3b0)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x34861d=[..._0x406542][_0x45d18b(0xa41)]((_0x123944,_0xb8f45d)=>{const _0x3b3450=_0x45d18b,_0x138dcf=_0xb8f45d['latestScore']-_0x123944[_0x3b3450(0x1f4)];if(_0x138dcf!==0x0)return _0x138dcf;const _0x10808d=_0x123944[_0x3b3450(0x656)]?.['length']||0x1,_0x4b59e7=_0xb8f45d[_0x3b3450(0x656)]?.[_0x3b3450(0x3b0)]||0x1,_0x3de299=_0x10808d-_0x4b59e7;if(_0x3de299!==0x0)return _0x3de299;const _0xefef66=new Date(_0x123944[_0x3b3450(0x913)]),_0x114afc=new Date(_0xb8f45d['latestSubmittedAt']),_0x28f381=_0xefef66-_0x114afc;if(_0x28f381!==0x0)return _0x28f381;return _0x123944[_0x3b3450(0xbe1)][_0x3b3450(0x980)](_0xb8f45d[_0x3b3450(0xbe1)],'th');}),_0x39033b=_0x34861d[_0x45d18b(0x3b0)],_0x2f5b3f=Math[_0x45d18b(0x6cf)](0x1,Math['floor'](_0x39033b*0.33));if(_0x2f5b3f===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x3780c5=_0x34861d[_0x45d18b(0x9e0)](0x0,_0x2f5b3f),_0x38df3a=_0x34861d[_0x45d18b(0x9e0)](-_0x2f5b3f),_0x2db1d7=_0x3780c5[_0x45d18b(0x3c9)](_0x5874ea=>_0x5874ea['studentName']),_0x5f4ae0=_0x38df3a['map'](_0x5ba04a=>_0x5ba04a[_0x45d18b(0xbe1)]);return _0x188423[_0x45d18b(0x796)]['forEach']((_0x58583a,_0x83f59f)=>{const _0x147cd1=_0x45d18b,_0x45ab65=_0x58583a[_0x147cd1(0x255)]||_0x58583a[_0x147cd1(0x833)];let _0x58eb91=0x0,_0x5be3c4=0x0,_0x2c080a=0x0;const _0x501d8d=[],_0x497207=[];_0x3780c5[_0x147cd1(0x9c9)](_0x1f6fd2=>{const _0x3aaedc=_0x147cd1,_0x4d1979=_0x1f6fd2[_0x3aaedc(0x656)][_0x1f6fd2[_0x3aaedc(0x656)][_0x3aaedc(0x3b0)]-0x1],_0x4c69fc=_0x4d1979['answers'][_0x3aaedc(0xcf4)](_0x148cc2=>_0x148cc2[_0x3aaedc(0x27b)]===_0x45ab65);_0x501d8d[_0x3aaedc(0x836)]({'name':_0x1f6fd2[_0x3aaedc(0xbe1)],'isCorrect':_0x4c69fc?_0x4c69fc[_0x3aaedc(0xa78)]:![]}),_0x4c69fc&&_0x4c69fc[_0x3aaedc(0xa78)]&&_0x5be3c4++;}),_0x38df3a[_0x147cd1(0x9c9)](_0x552b6d=>{const _0x44d938=_0x147cd1,_0x588521=_0x552b6d[_0x44d938(0x656)][_0x552b6d[_0x44d938(0x656)][_0x44d938(0x3b0)]-0x1],_0x1d8aa8=_0x588521[_0x44d938(0x34e)][_0x44d938(0xcf4)](_0x65b624=>_0x65b624[_0x44d938(0x27b)]===_0x45ab65);_0x497207[_0x44d938(0x836)]({'name':_0x552b6d[_0x44d938(0xbe1)],'isCorrect':_0x1d8aa8?_0x1d8aa8[_0x44d938(0xa78)]:![]}),_0x1d8aa8&&_0x1d8aa8[_0x44d938(0xa78)]&&_0x2c080a++;}),_0x406542[_0x147cd1(0x9c9)](_0x1abb85=>{const _0x30d317=_0x147cd1,_0x3cf5b6=_0x1abb85[_0x30d317(0x656)][_0x1abb85[_0x30d317(0x656)][_0x30d317(0x3b0)]-0x1],_0x19140c=_0x3cf5b6[_0x30d317(0x34e)]['find'](_0x45e820=>_0x45e820[_0x30d317(0x27b)]===_0x45ab65);_0x19140c&&_0x19140c[_0x30d317(0xa78)]&&_0x58eb91++;});const _0x84c534=_0x39033b>0x0?_0x58eb91/_0x39033b:0x0,_0x2c0f70=_0x2f5b3f>0x0?_0x5be3c4/_0x2f5b3f-_0x2c080a/_0x2f5b3f:0x0;_0x57694f[_0x83f59f]={'p':_0x84c534,'r':_0x2c0f70,'upperGroupResponders':_0x501d8d,'lowerGroupResponders':_0x497207};}),{'perQuestionStats':_0x57694f,'overallGroups':{'upperGroupNames':_0x2db1d7,'lowerGroupNames':_0x5f4ae0}};}function drag(_0x239b39){const _0x2732d0=_0x3076df;if(draggedSvgElement){_0x239b39[_0x2732d0(0x512)]();const _0x203d05=draggedSvgElement[_0x2732d0(0x1b0)],_0x4e203b=getPointerPosition(_0x203d05,_0x239b39),_0x1a0e6a=_0x203d05[_0x2732d0(0x297)]['baseVal'];let _0xd9d364=_0x4e203b['x']-svgOffset['x'],_0x23a7a0=_0x4e203b['y']-svgOffset['y'];const _0x4deb72=draggedSvgElement[_0x2732d0(0x729)]();_0xd9d364=Math[_0x2732d0(0x6cf)](_0x1a0e6a['x'],Math[_0x2732d0(0x54c)](_0xd9d364,_0x1a0e6a['x']+_0x1a0e6a[_0x2732d0(0xa05)]-_0x4deb72[_0x2732d0(0xa05)])),_0x23a7a0=Math[_0x2732d0(0x6cf)](_0x1a0e6a['y'],Math[_0x2732d0(0x54c)](_0x23a7a0,_0x1a0e6a['y']+_0x1a0e6a[_0x2732d0(0xd08)]-_0x4deb72[_0x2732d0(0xd08)])),draggedSvgElement[_0x2732d0(0x2a4)](null,'x',_0xd9d364),draggedSvgElement['setAttributeNS'](null,'y',_0x23a7a0);}}function endDrag(_0x3d13d2){draggedSvgElement=null;}function handleSvgEditClick(_0x4c33e0){const _0x562577=_0x3076df;if(_0x4c33e0[_0x562577(0x805)][_0x562577(0xbbb)][_0x562577(0x477)](_0x562577(0xb8f))){const _0x1a5ec9=_0x4c33e0[_0x562577(0x805)][_0x562577(0x40c)][_0x562577(0xcd9)],_0x2ef16d=_0x4c33e0[_0x562577(0x328)],_0x5afe99=_0x2ef16d['querySelector']('#'+_0x1a5ec9);_0x5afe99&&_0x5afe99[_0x562577(0xb7d)](),_0x4c33e0[_0x562577(0x805)]['remove']();}}function handleEditQuestion(_0x1f1f8e){const _0x56e90c=_0x3076df,_0x33098f=_0x1f1f8e[_0x56e90c(0x328)],_0x4a1360=_0x33098f['dataset'][_0x56e90c(0x353)],_0x3c057c=currentQuizData['questions'][_0x4a1360],_0x4e97e0=document[_0x56e90c(0x48d)]('q-text-'+_0x4a1360),_0x4f1e3e=document[_0x56e90c(0x48d)](_0x56e90c(0xaed)+_0x4a1360),_0x355e56=document[_0x56e90c(0x48d)](_0x56e90c(0x38c)+_0x4a1360);if(_0x33098f[_0x56e90c(0x9c8)]['includes']('fa-pen')){_0x33098f[_0x56e90c(0x9c8)]=_0x56e90c(0xb89),_0x33098f[_0x56e90c(0xada)]='บันทึกการแก้ไข';if(_0x4e97e0)_0x4e97e0[_0x56e90c(0x525)]=!![];if(_0x4f1e3e)_0x4f1e3e[_0x56e90c(0x525)]=!![];if(_0x355e56){const _0x1a7273=_0x355e56['querySelector']('svg');if(_0x1a7273){const _0x576ffb=_0x1a7273[_0x56e90c(0x599)](_0x56e90c(0x5ca));_0x576ffb['forEach']((_0x1dfbc8,_0x225010)=>{const _0x3612e4=_0x56e90c,_0x21b9a9=_0x3612e4(0xbb9)+_0x4a1360+'-'+_0x225010;_0x1dfbc8['id']=_0x21b9a9,_0x1dfbc8[_0x3612e4(0xbbb)][_0x3612e4(0x49b)](_0x3612e4(0x8c3)),_0x1dfbc8[_0x3612e4(0x3b4)][_0x3612e4(0x851)]=_0x3612e4(0x20b);const _0x39f53a=document[_0x3612e4(0x5d2)](_0x3612e4(0x421),_0x3612e4(0x51f)),_0x5414cf=_0x1dfbc8[_0x3612e4(0x729)]();_0x39f53a[_0x3612e4(0xb66)]('cx',String(_0x5414cf['x']+_0x5414cf[_0x3612e4(0xa05)]+0x5)),_0x39f53a[_0x3612e4(0xb66)]('cy',String(_0x5414cf['y']+_0x5414cf[_0x3612e4(0xd08)]/0x2-0x5)),_0x39f53a['setAttribute']('r','5'),_0x39f53a[_0x3612e4(0xb66)]('fill',_0x3612e4(0x80b)),_0x39f53a[_0x3612e4(0xb66)](_0x3612e4(0x5ba),'delete-svg-btn'),_0x39f53a[_0x3612e4(0x40c)][_0x3612e4(0xcd9)]=_0x21b9a9,_0x1dfbc8[_0x3612e4(0x223)](_0x39f53a);}),_0x1a7273[_0x56e90c(0x331)]('mousedown',startDrag),_0x1a7273[_0x56e90c(0x331)](_0x56e90c(0x604),drag),_0x1a7273[_0x56e90c(0x331)](_0x56e90c(0x8d0),endDrag),_0x1a7273[_0x56e90c(0x331)]('mouseleave',endDrag),_0x1a7273[_0x56e90c(0x331)]('touchstart',startDrag,{'passive':![]}),_0x1a7273[_0x56e90c(0x331)]('touchmove',drag,{'passive':![]}),_0x1a7273[_0x56e90c(0x331)](_0x56e90c(0xae2),endDrag),_0x1a7273['addEventListener']('touchcancel',endDrag),_0x1a7273[_0x56e90c(0x331)](_0x56e90c(0x623),handleSvgEditClick);}}if(_0x4e97e0)_0x4e97e0[_0x56e90c(0x2b1)]();}else{_0x33098f[_0x56e90c(0x9c8)]=_0x56e90c(0xc6d),_0x33098f[_0x56e90c(0xada)]='แก้ไขข้อนี้';if(_0x4e97e0){_0x4e97e0[_0x56e90c(0x525)]=![];const _0x30441e=_0x3c057c[_0x56e90c(0xbc3)]||currentQuizData[_0x56e90c(0xcb9)];_0x30441e===_0x56e90c(0xd01)?_0x3c057c['stem']=_0x4e97e0[_0x56e90c(0x271)][_0x56e90c(0x5ac)](_0x4e97e0[_0x56e90c(0x271)][_0x56e90c(0x2ea)]('.')+0x2)[_0x56e90c(0x7fe)]():_0x3c057c[_0x56e90c(0x833)]=_0x4e97e0['innerText'][_0x56e90c(0x5ac)](_0x4e97e0[_0x56e90c(0x271)][_0x56e90c(0x2ea)]('.')+0x2)[_0x56e90c(0x7fe)]();}_0x4f1e3e&&(_0x4f1e3e[_0x56e90c(0x525)]=![],_0x3c057c[_0x56e90c(0x4f5)]=_0x4f1e3e[_0x56e90c(0x271)]);if(_0x355e56){const _0x5dcdac=_0x355e56[_0x56e90c(0x381)](_0x56e90c(0xcdf));if(_0x5dcdac){const _0x24f6ac=_0x5dcdac[_0x56e90c(0x80d)](!![]);_0x24f6ac[_0x56e90c(0x599)]('.delete-svg-btn')[_0x56e90c(0x9c9)](_0x2faead=>_0x2faead[_0x56e90c(0xb7d)]()),_0x24f6ac['querySelectorAll'](_0x56e90c(0xaaf))[_0x56e90c(0x9c9)](_0x1b7185=>{const _0x57e135=_0x56e90c;_0x1b7185[_0x57e135(0xbbb)][_0x57e135(0xb7d)](_0x57e135(0x8c3)),_0x1b7185[_0x57e135(0x3b4)][_0x57e135(0x851)]=_0x57e135(0x5fc),_0x1b7185['removeAttribute']('id');}),_0x3c057c['imageCode']=_0x24f6ac[_0x56e90c(0x3f3)],_0x5dcdac['removeEventListener'](_0x56e90c(0x60f),startDrag),_0x5dcdac[_0x56e90c(0x210)](_0x56e90c(0x604),drag),_0x5dcdac[_0x56e90c(0x210)]('mouseup',endDrag),_0x5dcdac[_0x56e90c(0x210)](_0x56e90c(0x591),endDrag),_0x5dcdac[_0x56e90c(0x210)]('touchstart',startDrag),_0x5dcdac[_0x56e90c(0x210)](_0x56e90c(0x4d7),drag),_0x5dcdac[_0x56e90c(0x210)](_0x56e90c(0xae2),endDrag),_0x5dcdac['removeEventListener']('touchcancel',endDrag),_0x5dcdac[_0x56e90c(0x210)]('click',handleSvgEditClick),_0x5dcdac[_0x56e90c(0x599)](_0x56e90c(0x51c))[_0x56e90c(0x9c9)](_0x59fefc=>_0x59fefc['remove']()),_0x5dcdac[_0x56e90c(0x599)](_0x56e90c(0xaaf))[_0x56e90c(0x9c9)](_0xa25d3e=>{const _0x5cef7a=_0x56e90c;_0xa25d3e['classList'][_0x5cef7a(0xb7d)](_0x5cef7a(0x8c3)),_0xa25d3e[_0x5cef7a(0x3b4)][_0x5cef7a(0x851)]=_0x5cef7a(0x5fc);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x4c25be){const _0x949601=_0x3076df,_0x852fa4=document[_0x949601(0x48d)](_0x949601(0x755)),_0x54553b=document[_0x949601(0x48d)]('quiz-editor-questions-container');_0x54553b['innerHTML']=_0x949601(0x6d4),_0x852fa4[_0x949601(0xbbb)][_0x949601(0xb7d)](_0x949601(0xc6c));try{const _0x11ec7e=doc(db,_0x949601(0xaa1)+appId+_0x949601(0x695),_0x4c25be),_0x51f27f=await getDoc(_0x11ec7e);if(!_0x51f27f[_0x949601(0x6b3)]())throw new Error(_0x949601(0xc67));currentEditingQuizData={'id':_0x4c25be,..._0x51f27f['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x110a22){console['error'](_0x949601(0x1fa),_0x110a22),showMessage(_0x949601(0x2cb)),_0x852fa4[_0x949601(0xbbb)][_0x949601(0x49b)]('hidden');}}function renderQuizEditor(_0x1fb533){const _0x7ed3db=_0x3076df;document[_0x7ed3db(0x48d)](_0x7ed3db(0x91c))['value']=_0x1fb533[_0x7ed3db(0x6a9)];const _0x37cb37=document[_0x7ed3db(0x48d)](_0x7ed3db(0xa45));let _0x2f41b8=_0x1fb533[_0x7ed3db(0x796)][_0x7ed3db(0x3c9)]((_0x5567c1,_0x38e55b)=>{const _0x3afe02=_0x7ed3db;let _0x315262='';const _0x108867=_0x5567c1[_0x3afe02(0xbc3)]||_0x1fb533[_0x3afe02(0xcb9)];switch(_0x108867){case _0x3afe02(0xa73):const _0x72c8e3=(_0x5567c1[_0x3afe02(0x7ce)]||[])[_0x3afe02(0x3c9)]((_0x8473e6,_0x152818)=>_0x3afe02(0x6b2)+_0x38e55b+_0x3afe02(0xc9a)+_0x152818+'\x22\x20'+(_0x152818===_0x5567c1['correctAnswerIndex']?'checked':'')+_0x3afe02(0x3f4)+_0x8473e6+_0x3afe02(0xa94))[_0x3afe02(0x28d)]('');_0x315262=_0x3afe02(0x597)+_0x72c8e3+_0x3afe02(0xc16);break;case _0x3afe02(0x296):_0x315262=_0x3afe02(0x918)+(_0x5567c1[_0x3afe02(0x36e)]||'')+_0x3afe02(0x838);break;case _0x3afe02(0x35a):_0x315262='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x38e55b+'\x22\x20value=\x22true\x22\x20'+(_0x5567c1[_0x3afe02(0x369)]===!![]?_0x3afe02(0xb91):'')+_0x3afe02(0xd1d)+_0x38e55b+_0x3afe02(0xacb)+(_0x5567c1[_0x3afe02(0x369)]===![]?_0x3afe02(0xb91):'')+_0x3afe02(0x5de);break;case _0x3afe02(0xd01):_0x315262=_0x3afe02(0x392)+(_0x5567c1[_0x3afe02(0x4fc)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}let _0x5e9617=_0x5567c1['questionText']||_0x5567c1['stem']||'';return _0x5e9617=_0x5e9617['replace'](/<br\s*\/?>/gi,'\x0a'),_0x3afe02(0x56e)+_0x38e55b+'\x22\x20data-q-type=\x22'+_0x108867+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x38e55b+0x1)+'\x20('+_0x108867+_0x3afe02(0x66d)+_0x5e9617+_0x3afe02(0x2aa)+_0x315262+_0x3afe02(0x8dc);})[_0x7ed3db(0x28d)]('');_0x37cb37['innerHTML']=_0x2f41b8,_0x37cb37[_0x7ed3db(0x599)](_0x7ed3db(0xc28))[_0x7ed3db(0x9c9)](_0x31f4a3=>{const _0x5a3808=_0x7ed3db;_0x31f4a3[_0x5a3808(0x3b4)][_0x5a3808(0x463)]='hidden',_0x31f4a3['style'][_0x5a3808(0x4d1)]=_0x5a3808(0x59b),_0x31f4a3['rows']=0x4;const _0x42a17c=()=>{const _0x22b09b=_0x5a3808;_0x31f4a3[_0x22b09b(0x3b4)][_0x22b09b(0xd08)]=_0x22b09b(0x983),_0x31f4a3[_0x22b09b(0x3b4)][_0x22b09b(0xd08)]=_0x31f4a3[_0x22b09b(0x7ae)]+'px';};_0x31f4a3[_0x5a3808(0x331)](_0x5a3808(0x6c3),_0x42a17c),_0x42a17c();}),_0x37cb37['querySelectorAll']('.ai-fix-question-btn')[_0x7ed3db(0x9c9)](_0x40cf47=>{const _0x386de=_0x7ed3db;_0x40cf47[_0x386de(0x331)](_0x386de(0x623),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x55315d){const _0x31ca0b=_0x3076df,_0x287487=_0x55315d[_0x31ca0b(0x328)],_0x52fa7b=_0x287487[_0x31ca0b(0x951)](_0x31ca0b(0xb3a));if(!_0x52fa7b)return;const _0x2d0bea=parseInt(_0x52fa7b[_0x31ca0b(0x40c)][_0x31ca0b(0x7dc)],0xa);if(isNaN(_0x2d0bea)||!currentEditingQuizData[_0x31ca0b(0x796)][_0x2d0bea]){showMessage(_0x31ca0b(0xd0f));return;}const _0x5e778a=currentEditingQuizData[_0x31ca0b(0x796)][_0x2d0bea];_0x287487[_0x31ca0b(0x9c8)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x287487['disabled']=!![];const _0x36aa6d=_0x31ca0b(0xa14)+JSON[_0x31ca0b(0x4c6)](_0x5e778a)+_0x31ca0b(0x40b);let _0xfd017e;const _0x467a54=_0x5e778a[_0x31ca0b(0xbc3)]||currentEditingQuizData[_0x31ca0b(0xcb9)];switch(_0x467a54){case'short_answer':_0xfd017e={'type':_0x31ca0b(0x85f),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x31ca0b(0x670)},'imageCode':{'type':_0x31ca0b(0x670)}},'required':['questionText','idealAnswer',_0x31ca0b(0x4f5)]};break;case _0x31ca0b(0xa73):default:_0xfd017e={'type':_0x31ca0b(0x85f),'properties':{'questionText':{'type':_0x31ca0b(0x670)},'options':{'type':_0x31ca0b(0x45a),'items':{'type':_0x31ca0b(0x670)}},'correctAnswerIndex':{'type':_0x31ca0b(0x312)},'explanation':{'type':_0x31ca0b(0x670)},'imageCode':{'type':_0x31ca0b(0x670)}},'required':[_0x31ca0b(0x833),_0x31ca0b(0x7ce),_0x31ca0b(0x60b),_0x31ca0b(0x4f5)]};break;}try{let _0xa1a935=await callAnalysisApi(_0x36aa6d,_0xfd017e);_0xa1a935[_0x31ca0b(0x7ce)]&&Array['isArray'](_0xa1a935[_0x31ca0b(0x7ce)])&&(_0xa1a935[_0x31ca0b(0x7ce)]=_0xa1a935['options'][_0x31ca0b(0x3c9)](_0x1b0c8a=>typeof _0x1b0c8a==='string'?_0x1b0c8a[_0x31ca0b(0x1ba)](/S(\s*[\d_]+?\s*)S/g,_0x31ca0b(0xa64)):_0x1b0c8a)),_0x5e778a[_0x31ca0b(0x415)]&&_0x5e778a['imageCode'][_0x31ca0b(0x59e)](_0x31ca0b(0xb41))&&(_0xa1a935[_0x31ca0b(0x415)]=''),currentEditingQuizData['questions'][_0x2d0bea]={..._0x5e778a,..._0xa1a935},renderQuizEditor(currentEditingQuizData),showMessage(_0x31ca0b(0xa4f));}catch(_0x179e63){console[_0x31ca0b(0x405)]('AI\x20Fix\x20Error:',_0x179e63),showMessage(_0x31ca0b(0xcc1)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x56241d=_0x3076df,_0x80d520=document[_0x56241d(0x48d)]('save-quiz-edits-btn');_0x80d520['disabled']=!![],_0x80d520[_0x56241d(0x9c8)]=_0x56241d(0xcd4);try{const _0x3d0328=document[_0x56241d(0x48d)](_0x56241d(0x91c))[_0x56241d(0xaef)],_0x121b67=document[_0x56241d(0x599)]('.question-editor-item');let _0x2b1873=[];const _0x29ae71=Array['from'](_0x121b67)[_0x56241d(0x3c9)]((_0x3d4638,_0x53f2e8)=>{const _0x28c219=_0x56241d,_0x4954cc=_0x3d4638[_0x28c219(0x40c)][_0x28c219(0x8e9)],_0xbd8be=_0x3d4638[_0x28c219(0x381)](_0x28c219(0xb50))[_0x28c219(0xaef)][_0x28c219(0x1ba)](/\n/g,'<br>');let _0x296d4a={'questionType':_0x4954cc};const _0x5dc469=currentEditingQuizData['questions'][_0x53f2e8];switch(_0x4954cc){case'multiple_choice':_0x296d4a[_0x28c219(0x833)]=_0xbd8be;const _0x63170c=_0x3d4638[_0x28c219(0x599)](_0x28c219(0x54b));_0x296d4a[_0x28c219(0x7ce)]=Array['from'](_0x63170c)[_0x28c219(0x3c9)](_0x4ef6e6=>_0x4ef6e6[_0x28c219(0xaef)]);const _0x4f6586=_0x3d4638['querySelector'](_0x28c219(0x571));_0x296d4a[_0x28c219(0x60b)]=_0x4f6586?parseInt(_0x4f6586[_0x28c219(0xaef)]):0x0;break;case _0x28c219(0x296):_0x296d4a[_0x28c219(0x833)]=_0xbd8be,_0x296d4a[_0x28c219(0x36e)]=_0x3d4638['querySelector']('.ideal-answer-input')[_0x28c219(0xaef)];break;case _0x28c219(0x35a):_0x296d4a[_0x28c219(0x833)]=_0xbd8be;const _0x54b6fb=_0x3d4638['querySelector']('input[type=\x22radio\x22]:checked');_0x296d4a[_0x28c219(0x369)]=_0x54b6fb?_0x54b6fb[_0x28c219(0xaef)]===_0x28c219(0xab4):!![];break;case _0x28c219(0xd01):_0x296d4a[_0x28c219(0x255)]=_0xbd8be;const _0x5c450c=_0x3d4638[_0x28c219(0x381)]('.correct-response-input');_0x296d4a[_0x28c219(0x4fc)]=_0x5c450c?_0x5c450c[_0x28c219(0xaef)]:'',_0x2b1873[_0x28c219(0x836)](_0x296d4a['correctResponse']);break;default:_0x296d4a[_0x28c219(0x833)]=_0xbd8be;break;}return{..._0x5dc469,..._0x296d4a};});_0x2b1873[_0x56241d(0x3b0)]>0x0&&_0x29ae71[_0x56241d(0x9c9)](_0x25f16b=>{const _0x4a3f4d=_0x56241d;_0x25f16b[_0x4a3f4d(0xbc3)]==='matching_item'&&(_0x25f16b[_0x4a3f4d(0x1cf)]=_0x2b1873);});const _0x3ef3b5=currentEditingQuizData['id'],_0xb4a154=doc(db,_0x56241d(0xaa1)+appId+_0x56241d(0x695),_0x3ef3b5);await updateDoc(_0xb4a154,{'topic':_0x3d0328,'questions':_0x29ae71}),document[_0x56241d(0x48d)](_0x56241d(0x755))['classList'][_0x56241d(0x49b)](_0x56241d(0xc6c)),showMessage(_0x56241d(0x30a),()=>initiateReGradeProcess(_0x3ef3b5));}catch(_0x173786){console[_0x56241d(0x405)](_0x56241d(0x303),_0x173786),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x80d520['disabled']=![],_0x80d520[_0x56241d(0x9c8)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x5a7b2f){const _0x2e76f0=_0x3076df;showMessage(_0x2e76f0(0xaa8));try{const _0x7b6aaa=doc(db,_0x2e76f0(0xaa1)+appId+_0x2e76f0(0x695),_0x5a7b2f),_0x186cfd=await getDoc(_0x7b6aaa);if(!_0x186cfd[_0x2e76f0(0x6b3)]())throw new Error(_0x2e76f0(0xbe2));const _0x28f7d3={'id':_0x5a7b2f,..._0x186cfd[_0x2e76f0(0x995)]()},_0x90e8fb=collection(db,'artifacts/'+appId+_0x2e76f0(0x695),_0x5a7b2f,'submissions'),_0x26355a=await getDocs(_0x90e8fb);if(_0x26355a['empty']){showMessage(_0x2e76f0(0xb4a));return;}const _0x21e3a9=_0x26355a[_0x2e76f0(0x9a1)][_0x2e76f0(0x3c9)](_0x429864=>reGradeSingleSubmission(_0x429864,_0x28f7d3));await Promise[_0x2e76f0(0x6a5)](_0x21e3a9);if(_0x28f7d3[_0x2e76f0(0x2a3)]){const _0x2c74da=doc(db,_0x2e76f0(0xaa1)+appId+_0x2e76f0(0x8bc),_0x28f7d3[_0x2e76f0(0x2a3)]),_0x4aca72=await getDoc(_0x2c74da);if(_0x4aca72[_0x2e76f0(0x6b3)]()&&_0x4aca72[_0x2e76f0(0x995)]()['students']){const _0x12cae5=_0x4aca72[_0x2e76f0(0x995)]()['students'][_0x2e76f0(0x3c9)](_0x203d99=>updateStudentProfile(_0x28f7d3[_0x2e76f0(0x2a3)],_0x203d99));await Promise[_0x2e76f0(0x6a5)](_0x12cae5);}}showMessage(_0x2e76f0(0x6ef)+_0x26355a[_0x2e76f0(0xbb8)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x57989c){console['error']('Re-grade\x20process\x20failed:',_0x57989c),showMessage(_0x2e76f0(0x1e5)+_0x57989c[_0x2e76f0(0x5ce)]);}}async function reGradeSingleSubmission(_0xd80d77,_0x102863){const _0x37db3f=_0x3076df,_0x470004=_0xd80d77[_0x37db3f(0x995)](),_0x7c0e73=_0x470004['studentName'],_0x35b439=_0x470004['attempts']||[],_0x30e279=[];for(const _0x35122a of _0x35b439){let _0x3db6d9=0x0,_0x765997=[],_0x342b0a=0x0;const _0x50f8f4=[];for(const _0x236366 of _0x35122a[_0x37db3f(0x34e)]){let _0x54eb44;_0x236366['questionId']&&(_0x54eb44=_0x102863['questions']['find'](_0x35f61d=>_0x35f61d['id']===_0x236366[_0x37db3f(0x649)]));!_0x54eb44&&_0x236366['originalQuestionText']&&(_0x54eb44=_0x102863['questions'][_0x37db3f(0xcf4)](_0x4f667b=>(_0x4f667b['stem']||_0x4f667b[_0x37db3f(0x833)])===_0x236366[_0x37db3f(0x27b)]));let _0x348403=![];if(_0x54eb44){const _0x24d635=_0x54eb44[_0x37db3f(0xbc3)]||_0x102863[_0x37db3f(0xcb9)];switch(_0x24d635){case _0x37db3f(0xa73):if(_0x54eb44[_0x37db3f(0x7ce)]&&_0x54eb44['correctAnswerIndex']<_0x54eb44['options'][_0x37db3f(0x3b0)]){const _0x486b4b=_0x54eb44[_0x37db3f(0x7ce)][_0x54eb44[_0x37db3f(0x60b)]];_0x348403=_0x236366[_0x37db3f(0x4cc)]===_0x486b4b;}break;case _0x37db3f(0x35a):const _0x49945a=_0x236366[_0x37db3f(0xb7a)]===!![]||_0x236366[_0x37db3f(0xb7a)]===_0x37db3f(0xab4);_0x348403=_0x49945a===_0x54eb44[_0x37db3f(0x369)];break;case _0x37db3f(0xd01):_0x348403=_0x236366[_0x37db3f(0xb7a)]===_0x54eb44[_0x37db3f(0x4fc)];break;case _0x37db3f(0x296):_0x348403=await gradeShortAnswer(_0x236366[_0x37db3f(0xb7a)],_0x54eb44);break;default:_0x348403=_0x236366['isCorrect'];break;}}if(_0x348403){_0x3db6d9++,_0x342b0a++;if(_0x342b0a===0x3)_0x765997[_0x37db3f(0x836)](BADGES[_0x37db3f(0x270)]['id']);}else _0x342b0a=0x0;_0x50f8f4[_0x37db3f(0x836)]({..._0x236366,'isCorrect':_0x348403});}let _0x58bc75=_0x3db6d9*0xa;_0x3db6d9===_0x102863[_0x37db3f(0x796)][_0x37db3f(0x3b0)]&&(_0x58bc75+=0x32,_0x765997[_0x37db3f(0x836)](BADGES[_0x37db3f(0x92d)]['id'])),_0x30e279[_0x37db3f(0x836)]({..._0x35122a,'score':_0x3db6d9,'points':_0x58bc75,'badges':Array[_0x37db3f(0x2bb)](new Set(_0x765997)),'answers':_0x50f8f4});}const _0x894364=_0x30e279[_0x37db3f(0x3b0)]>0x0?_0x30e279[0x0][_0x37db3f(0x3cb)]:0x0,_0x30e7fd=Math[_0x37db3f(0x6cf)](..._0x30e279[_0x37db3f(0x3c9)](_0x2e6f31=>_0x2e6f31['score'])),_0x35449c=_0x30e279[_0x37db3f(0x3b0)]>0x0?_0x30e279[_0x30e279['length']-0x1][_0x37db3f(0x3cb)]:0x0,_0x2b5809=_0x30e279[_0x37db3f(0x3b0)]>0x0?_0x30e279[_0x30e279[_0x37db3f(0x3b0)]-0x1][_0x37db3f(0x775)]:0x0,_0xb2c8d2=doc(db,_0x37db3f(0xaa1)+appId+_0x37db3f(0xa74)+_0x102863['id']+_0x37db3f(0xa99),_0x7c0e73);await updateDoc(_0xb2c8d2,{'attempts':_0x30e279,'firstScore':_0x894364,'bestScore':_0x30e7fd,'latestScore':_0x35449c,'points':_0x2b5809});}function cleanupQuizOptions(_0x3c0368){const _0x214716=_0x3076df,_0x29d716=(_0x11ab60,_0x25e37e)=>_0x25e37e===0x0?_0x11ab60:_0x29d716(_0x25e37e,_0x11ab60%_0x25e37e),_0x545ee9=_0x3c0a2e=>{const _0x49f31=_0x520b;if(typeof _0x3c0a2e!==_0x49f31(0x5d8))return null;_0x3c0a2e=_0x3c0a2e['trim']();const _0x4affcb=_0x3c0a2e[_0x49f31(0x1f1)](/[ /]/)[_0x49f31(0x475)](_0x4d8851=>_0x4d8851!=='');if(_0x4affcb[_0x49f31(0x3b0)]===0x3)return parseInt(_0x4affcb[0x0])+parseInt(_0x4affcb[0x1])/parseInt(_0x4affcb[0x2]);else{if(_0x4affcb[_0x49f31(0x3b0)]===0x2)return parseInt(_0x4affcb[0x0])/parseInt(_0x4affcb[0x1]);else{if(_0x4affcb[_0x49f31(0x3b0)]===0x1&&!isNaN(_0x4affcb[0x0]))return parseFloat(_0x4affcb[0x0]);}}return null;},_0x50b97b=_0x2a9200=>{const _0x2e1023=_0x520b;if(typeof _0x2a9200!=='string')return _0x2a9200;const _0x39f23d=_0x2a9200['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x39f23d){const _0x3d12de=parseInt(_0x39f23d[0x1]);let _0x3b8526=parseInt(_0x39f23d[0x2]),_0x58c862=parseInt(_0x39f23d[0x3]);const _0x481664=_0x29d716(_0x3b8526,_0x58c862);_0x3b8526/=_0x481664,_0x58c862/=_0x481664;if(_0x58c862===0x1)return(_0x3d12de+_0x3b8526)[_0x2e1023(0x2ed)]();return _0x3d12de+'\x20'+_0x3b8526+'/'+_0x58c862;}return _0x2a9200;};return _0x3c0368&&_0x3c0368[_0x214716(0x796)]&&_0x3c0368[_0x214716(0x796)]['forEach'](_0x35f008=>{const _0x1a8704=_0x214716;if(_0x35f008[_0x1a8704(0xbc3)]===_0x1a8704(0xa73)&&_0x35f008[_0x1a8704(0x7ce)]){const _0x5b94f4=new Map(),_0x13aa39=_0x35f008[_0x1a8704(0x7ce)][_0x35f008[_0x1a8704(0x60b)]];_0x35f008[_0x1a8704(0x7ce)]['forEach'](_0x287b77=>{const _0x141614=_0x1a8704,_0x4d10f6=_0x50b97b(_0x287b77),_0x51a935=_0x545ee9(_0x4d10f6);_0x51a935!==null&&!_0x5b94f4[_0x141614(0x709)](_0x51a935)&&_0x5b94f4[_0x141614(0x914)](_0x51a935,_0x4d10f6);}),_0x35f008[_0x1a8704(0x7ce)]=Array['from'](_0x5b94f4[_0x1a8704(0x391)]());const _0x1543fa=_0x35f008[_0x1a8704(0x7ce)]['findIndex'](_0x1c6dca=>_0x1c6dca===_0x50b97b(_0x13aa39));_0x35f008['correctAnswerIndex']=_0x1543fa!==-0x1?_0x1543fa:0x0;}}),_0x3c0368;}function showGameStartConfirmationModal(_0x4ea247,_0x291424,_0x29390b){const _0x2ca003=_0x3076df,_0x3b6161=document[_0x2ca003(0x48d)]('confirm-game-start-modal');document['getElementById'](_0x2ca003(0x26c))['textContent']='เริ่มกิจกรรม:\x20'+_0x29390b,document[_0x2ca003(0x48d)](_0x2ca003(0x2ad))['value']=_0x4ea247,document[_0x2ca003(0x48d)]('game-start-mode')['value']=_0x291424,document[_0x2ca003(0x48d)]('save-game-results-checkbox')['checked']=!![],_0x3b6161[_0x2ca003(0xbbb)][_0x2ca003(0xb7d)](_0x2ca003(0xc6c));}async function saveGameResultsAsSubmissions(_0xa1466){const _0x169df4=_0x3076df;console[_0x169df4(0x676)](_0x169df4(0xd17),_0xa1466);const _0x5804f9=_0xa1466[_0x169df4(0xccd)];let _0x2b8d74=[];if(_0xa1466[_0x169df4(0x501)])_0x2b8d74=Object[_0x169df4(0x5a3)](_0xa1466['players'])[_0x169df4(0x3c9)](([_0x16db39,_0x1b83e6])=>({'name':_0x16db39,..._0x1b83e6}));else{if(_0xa1466[_0x169df4(0xa03)])Object[_0x169df4(0x391)](_0xa1466[_0x169df4(0xa03)])[_0x169df4(0x9c9)](_0x301fd7=>{const _0x59af07=_0x169df4;_0x301fd7[_0x59af07(0x758)]['forEach'](_0x1265ff=>{const _0x34ac96=_0x59af07;_0x2b8d74['push']({'name':_0x1265ff,'score':_0x301fd7['score'],'answers':_0x301fd7[_0x34ac96(0x34e)]});});});else _0xa1466[_0x169df4(0x8b4)]&&Object[_0x169df4(0x5a3)](_0xa1466[_0x169df4(0x8b4)])[_0x169df4(0x9c9)](([_0x56729c,_0x1dabeb])=>{_0x2b8d74['push']({'name':_0x56729c,..._0x1dabeb});});}if(_0x2b8d74[_0x169df4(0x3b0)]===0x0){console[_0x169df4(0x676)](_0x169df4(0xc21));return;}const _0x394b8e=_0xa1466[_0x169df4(0x65b)]?.[_0x169df4(0x796)][_0x169df4(0x3b0)]||currentQuizData[_0x169df4(0x796)][_0x169df4(0x3b0)],_0x51be96=writeBatch(db);for(const _0x579b27 of _0x2b8d74){const _0x5a9da6=doc(db,_0x169df4(0xaa1)+appId+_0x169df4(0xa74)+_0x5804f9+_0x169df4(0xa99),_0x579b27[_0x169df4(0x774)]),_0x2d1f54=(_0x579b27[_0x169df4(0x34e)]||[])[_0x169df4(0x475)](_0x275c22=>_0x275c22[_0x169df4(0xa78)])[_0x169df4(0x3b0)];let _0x104809=_0x2d1f54;_0xa1466[_0x169df4(0x2b8)]&&_0x579b27[_0x169df4(0x34e)]&&_0x579b27['answers'][_0x169df4(0x9c9)](_0x178b8c=>{const _0x29d6fb=_0x169df4;if(_0x178b8c['isCorrect']&&(_0x178b8c['wasConfident']===!![]||_0x178b8c['wasConfident']===_0x29d6fb(0x83e)))_0x104809+=0x1;else!_0x178b8c[_0x29d6fb(0xa78)]&&(_0x178b8c[_0x29d6fb(0x35e)]===!![]||_0x178b8c['wasConfident']===_0x29d6fb(0x83e))&&(_0x104809-=0x1);});_0x394b8e>0x0&&_0x2d1f54===_0x394b8e&&(_0x104809+=0x1);const _0x6a561c={'score':_0x2d1f54,'points':_0x104809,'badges':_0x579b27[_0x169df4(0x4a1)]||[],'submittedAt':new Date()[_0x169df4(0x523)](),'answers':(_0x579b27[_0x169df4(0x34e)]||[])['map'](_0x3b78a8=>({'questionId':_0x3b78a8['questionId'],'answer':_0x3b78a8['answer'],'answerText':_0x3b78a8[_0x169df4(0x4cc)],'isCorrect':_0x3b78a8[_0x169df4(0xa78)],'originalQuestionText':_0x3b78a8[_0x169df4(0x27b)],'wasConfident':_0x3b78a8[_0x169df4(0x35e)]}))},_0x3fab5f=await getDoc(_0x5a9da6),_0x358364=_0x3fab5f[_0x169df4(0x6b3)]()?_0x3fab5f[_0x169df4(0x995)]():{},_0x11ea69=_0x358364['bestScore']||0x0,_0xec8dda=_0x358364[_0x169df4(0x656)]||[],_0x350f62={'studentName':_0x579b27['name'],'totalQuestions':_0x394b8e,'attempts':arrayUnion(_0x6a561c),'latestScore':_0x2d1f54,'points':_0x104809,'latestSubmittedAt':_0x6a561c['submittedAt'],'bestScore':Math[_0x169df4(0x6cf)](_0x11ea69,_0x2d1f54),'firstScore':_0xec8dda[_0x169df4(0x3b0)]===0x0?_0x2d1f54:_0x358364[_0x169df4(0xaca)]||0x0};_0x51be96[_0x169df4(0x914)](_0x5a9da6,_0x350f62,{'merge':!![]});}try{await _0x51be96[_0x169df4(0x248)](),showMessage(_0x169df4(0x687)+_0x2b8d74[_0x169df4(0x3b0)]+_0x169df4(0x587));const _0x2fe7c0=_0xa1466[_0x169df4(0x65b)]?.[_0x169df4(0x2a3)]||currentQuizData?.['projectId']||currentProjectId;if(_0x2fe7c0){const _0x40db0f=[...new Set(_0x2b8d74['map'](_0x3b0708=>_0x3b0708[_0x169df4(0x774)]))];for(const _0x4d76a6 of _0x40db0f){await updateStudentProfile(_0x2fe7c0,_0x4d76a6);}}}catch(_0x1ba06a){console['error'](_0x169df4(0x28b),_0x1ba06a),showMessage(_0x169df4(0xc76));}}async function saveQuiz(_0x5e0c9e=null,_0x522092=null){const _0x27880f=_0x3076df,_0x7c2761=_0x5e0c9e||currentProjectId;if(!_0x7c2761){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x4345d5=document[_0x27880f(0x48d)](_0x27880f(0x2d0));_0x4345d5[_0x27880f(0x1dc)]=!![],_0x4345d5[_0x27880f(0x9c8)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x616a2a=document[_0x27880f(0x48d)]('pre-test-checkbox')[_0x27880f(0xb91)];let _0x5dcdfc=document['getElementById']('editable-quiz-topic')['innerText'][_0x27880f(0x7fe)]();_0x616a2a&&!_0x5dcdfc[_0x27880f(0x1c6)](_0x27880f(0x2d8))&&(_0x5dcdfc=_0x27880f(0x209)+_0x5dcdfc);try{const _0x2045cb={'resultsDisplay':document[_0x27880f(0x48d)]('results-display-select')['value'],'shuffle':document[_0x27880f(0x48d)](_0x27880f(0x4dc))['value'],'timerMode':document['getElementById'](_0x27880f(0x717))[_0x27880f(0xaef)],'timerDuration':parseInt(document[_0x27880f(0x48d)](_0x27880f(0x858))['value'])||0xa,'passingScore':parseInt(document[_0x27880f(0x48d)](_0x27880f(0x2d5))[_0x27880f(0xaef)])||0x0,'isAdaptive':document['getElementById'](_0x27880f(0x79f))['checked'],'loopUntilPass':document['getElementById'](_0x27880f(0xc5c))[_0x27880f(0xb91)]},_0x353de5=(currentQuizData[_0x27880f(0x796)]||[])['map']((_0x579d78,_0x12efdd)=>{const _0x45dfc4=_0x27880f,_0x4a364b=document[_0x45dfc4(0x48d)]('quiz-type-select')[_0x45dfc4(0xaef)],_0x4dfd59={'id':'q_'+Date[_0x45dfc4(0x95f)]()+'_'+_0x12efdd,'questionText':_0x579d78['questionText']||'','explanation':_0x579d78[_0x45dfc4(0x4f5)]||_0x45dfc4(0x3b7),'questionType':_0x579d78['questionType']||_0x4a364b,'imageCode':_0x579d78[_0x45dfc4(0x415)]||null};return(_0x4dfd59[_0x45dfc4(0xbc3)]===_0x45dfc4(0xa73)||_0x4dfd59[_0x45dfc4(0xbc3)]===_0x45dfc4(0x62e)||_0x4dfd59['questionType']===_0x45dfc4(0xacf)&&_0x579d78[_0x45dfc4(0x7ce)])&&(_0x4dfd59[_0x45dfc4(0x7ce)]=_0x579d78[_0x45dfc4(0x7ce)]||[],_0x4dfd59[_0x45dfc4(0x60b)]=_0x579d78['correctAnswerIndex']!==undefined?_0x579d78[_0x45dfc4(0x60b)]:0x0),(_0x4dfd59[_0x45dfc4(0xbc3)]===_0x45dfc4(0x296)||_0x4dfd59['questionType']==='fill_in_no_choices'||_0x4dfd59['questionType']===_0x45dfc4(0xacf)&&_0x579d78[_0x45dfc4(0x36e)])&&(_0x4dfd59[_0x45dfc4(0x36e)]=_0x579d78[_0x45dfc4(0x36e)]||''),_0x4dfd59['questionType']===_0x45dfc4(0x35a)&&(_0x4dfd59[_0x45dfc4(0x369)]=_0x579d78[_0x45dfc4(0x369)]===!![]),_0x4dfd59['questionType']===_0x45dfc4(0xd01)&&(_0x4dfd59[_0x45dfc4(0x255)]=_0x579d78['stem']||'',_0x4dfd59[_0x45dfc4(0x4fc)]=_0x579d78[_0x45dfc4(0x4fc)]||'',_0x4dfd59['allResponses']=_0x579d78['allResponses']||[]),_0x4dfd59;}),_0x38460e={'topic':_0x5dcdfc,'quizType':currentQuizData[_0x27880f(0xcb9)]||_0x27880f(0xa73),'questions':_0x353de5,'projectId':_0x7c2761,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x2045cb,'quizMode':_0x616a2a?_0x27880f(0x6ed):_0x27880f(0x196),'pairedQuizId':null,'lessonPlan':null};let _0x490d4c;while(!![]){_0x490d4c=Math['floor'](0x3e8+Math[_0x27880f(0x386)]()*0x2328)[_0x27880f(0x2ed)]();const _0x2d5a7b=await getDoc(doc(db,_0x27880f(0xaa1)+appId+_0x27880f(0x695),_0x490d4c));if(!_0x2d5a7b[_0x27880f(0x6b3)]())break;}await setDoc(doc(db,_0x27880f(0xaa1)+appId+'/public/data/quizzes',_0x490d4c),_0x38460e);if(_0x522092&&currentBlueprintProjectId){console[_0x27880f(0x676)]('Auto-linking\x20new\x20quiz\x20'+_0x490d4c+_0x27880f(0x545)+_0x522092);try{const _0x266f5d=doc(db,_0x27880f(0xaa1)+appId+_0x27880f(0xa8a),currentBlueprintProjectId);await updateDoc(_0x266f5d,{[_0x27880f(0x1cd)+_0x522092+_0x27880f(0x1b5)]:arrayUnion(_0x490d4c)});}catch(_0x5ecbf5){console[_0x27880f(0x405)](_0x27880f(0x835),_0x5ecbf5);}}currentQuizData[_0x27880f(0x1a6)]=_0x2045cb,currentQuizData['id']=_0x490d4c;const _0x6878ed=document[_0x27880f(0x48d)]('generated-quiz-actions');_0x6878ed[_0x27880f(0x9c8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x490d4c+_0x27880f(0xc4b),document[_0x27880f(0x48d)]('copy-quiz-id-btn')['addEventListener']('click',()=>copyTextToClipboard(_0x490d4c,_0x27880f(0x9bd))),document['getElementById'](_0x27880f(0x5d4))[_0x27880f(0x331)](_0x27880f(0x623),()=>handleStartLiveRace(_0x490d4c)),document['getElementById'](_0x27880f(0x9cc))[_0x27880f(0x331)](_0x27880f(0x623),()=>startPresentation(currentQuizData)),document[_0x27880f(0x48d)](_0x27880f(0x287))[_0x27880f(0x331)](_0x27880f(0x623),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x45d722){console[_0x27880f(0x405)](_0x27880f(0x9ca),_0x45d722),showMessage(_0x27880f(0x42f));}finally{_0x4345d5[_0x27880f(0x1dc)]=![],_0x4345d5[_0x27880f(0x9c8)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x4328f1=_0x3076df,_0x260f1c=document[_0x4328f1(0x48d)](_0x4328f1(0x2ae)),_0xc40f6c=document['getElementById'](_0x4328f1(0x90a)),_0x1aa7ab=_0x260f1c[_0x4328f1(0x381)]('h3'),_0x3c23f3=document[_0x4328f1(0x48d)](_0x4328f1(0x22f));_0x1aa7ab[_0x4328f1(0x9ea)]=_0x4328f1(0x829),_0x3c23f3[_0x4328f1(0x9ea)]=_0x4328f1(0x2fb);allProjects['length']===0x0?(_0xc40f6c[_0x4328f1(0x9c8)]=_0x4328f1(0xaaa),_0x3c23f3[_0x4328f1(0x1dc)]=!![]):(_0xc40f6c[_0x4328f1(0x9c8)]=allProjects[_0x4328f1(0x3c9)](_0x35565e=>_0x4328f1(0xb17)+_0x35565e['id']+'\x22>'+_0x35565e[_0x4328f1(0x98e)]+_0x4328f1(0x881))[_0x4328f1(0x28d)](''),_0x3c23f3[_0x4328f1(0x1dc)]=![]);_0x260f1c[_0x4328f1(0xbbb)]['remove']('hidden');const _0x53c306=()=>{const _0x2a64ce=_0x4328f1,_0x22f302=_0xc40f6c[_0x2a64ce(0xaef)];_0x22f302?(currentProjectId=_0x22f302,_0x260f1c['classList'][_0x2a64ce(0x49b)](_0x2a64ce(0xc6c)),saveQuiz(),_0x1aa7ab[_0x2a64ce(0x9ea)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x3c23f3[_0x2a64ce(0x9ea)]=_0x2a64ce(0xc6b),_0x3c23f3[_0x2a64ce(0x210)]('click',_0x53c306),_0x3c23f3[_0x2a64ce(0x331)](_0x2a64ce(0x623),confirmMoveQuiz)):showMessage(_0x2a64ce(0x60e));};_0x3c23f3[_0x4328f1(0x210)](_0x4328f1(0x623),confirmMoveQuiz),_0x3c23f3[_0x4328f1(0x331)](_0x4328f1(0x623),_0x53c306);}function copyTextToClipboard(_0x2bc633,_0x35ae34){const _0xd3e76c=_0x3076df,_0x311808=document[_0xd3e76c(0x2b7)](_0xd3e76c(0xb50));_0x311808['value']=_0x2bc633,_0x311808[_0xd3e76c(0x3b4)][_0xd3e76c(0x767)]=_0xd3e76c(0x9c4),_0x311808[_0xd3e76c(0x3b4)][_0xd3e76c(0x850)]='0',document['body'][_0xd3e76c(0xcff)](_0x311808),_0x311808['focus'](),_0x311808[_0xd3e76c(0x35d)]();try{const _0x436c8d=document['execCommand']('copy');showMessage(_0x436c8d?_0x35ae34:_0xd3e76c(0xbdc));}catch(_0x2eef18){showMessage(_0xd3e76c(0xbdc)),console[_0xd3e76c(0x405)](_0xd3e76c(0x657),_0x2eef18);}document['body'][_0xd3e76c(0x4ec)](_0x311808);}function listenForProjectQuizzes(_0x541fbb){const _0x30ebe3=_0x3076df,_0x2d29b2=collection(db,_0x30ebe3(0xaa1)+appId+_0x30ebe3(0x695)),_0x1724e9=query(_0x2d29b2,where(_0x30ebe3(0x2a3),'==',_0x541fbb));unsubscribeQuizzesListener=onSnapshot(_0x1724e9,async _0xb15683=>{const _0x56868f=_0x30ebe3;allQuizzes=_0xb15683[_0x56868f(0x9a1)][_0x56868f(0x3c9)](_0x58a7cd=>({'id':_0x58a7cd['id'],..._0x58a7cd[_0x56868f(0x995)]()})),renderQuizzes();},_0xeb8cdd=>{const _0x37fc5a=_0x30ebe3;console['error']('Error\x20fetching\x20project\x20quizzes:',_0xeb8cdd),document[_0x37fc5a(0x48d)](_0x37fc5a(0xca2))[_0x37fc5a(0x9c8)]=_0x37fc5a(0x73e);});}async function renderQuizzes(){const _0x2d5556=_0x3076df,_0x5dd292=document[_0x2d5556(0x48d)](_0x2d5556(0xca2)),_0x14d90e=document[_0x2d5556(0x48d)]('quiz-search-input')[_0x2d5556(0xaef)][_0x2d5556(0x235)]();let _0x2ec1c9;currentProjectId==='starred'?_0x2ec1c9=starredQuizzes:_0x2ec1c9=allQuizzes;let _0x1b9609=_0x2ec1c9[_0x2d5556(0x475)](_0x10234=>_0x10234[_0x2d5556(0x6a9)]['toLowerCase']()[_0x2d5556(0x59e)](_0x14d90e));_0x1b9609[_0x2d5556(0xa41)]((_0x2fbcec,_0x335a98)=>new Date(_0x335a98[_0x2d5556(0xbd3)])-new Date(_0x2fbcec[_0x2d5556(0xbd3)]));if(_0x1b9609['length']===0x0){_0x5dd292[_0x2d5556(0x9c8)]=_0x2d5556(0x67e);return;}const _0x3987ff={},_0x1d82f1=_0x1b9609[_0x2d5556(0x3c9)](async _0x16cb0c=>{const _0x33220e=_0x2d5556,_0x50097b=collection(db,'artifacts/'+appId+_0x33220e(0xa74)+_0x16cb0c['id']+_0x33220e(0xa99)),_0x1dd43a=await getDocs(_0x50097b);_0x3987ff[_0x16cb0c['id']]=_0x1dd43a[_0x33220e(0xbb8)];});await Promise[_0x2d5556(0x6a5)](_0x1d82f1);let _0x4bdb94='';_0x1b9609['forEach'](_0x16eaf6=>{const _0xf7a7b3=_0x2d5556,_0x2f6ecd=_0x3987ff[_0x16eaf6['id']]||0x0,_0x22b4ec=_0x16eaf6[_0xf7a7b3(0x732)]||_0xf7a7b3(0x28f),_0xa951c5=_0x16eaf6['settings']?.[_0xf7a7b3(0x4f2)]||_0xf7a7b3(0x700);let _0x5907de='',_0xf7cbee='';const _0x1a26aa=new Date();let _0xefc9e7=_0x22b4ec;if(_0x22b4ec===_0xf7a7b3(0xbb7)){const _0x2086e8=_0x16eaf6[_0xf7a7b3(0xc83)]?new Date(_0x16eaf6[_0xf7a7b3(0xc83)]):null,_0x3ea643=_0x16eaf6['endTime']?new Date(_0x16eaf6[_0xf7a7b3(0x50f)]):null;if(_0x3ea643&&_0x1a26aa>_0x3ea643)_0xefc9e7=_0xf7a7b3(0x9b6);else _0x2086e8&&_0x1a26aa<_0x2086e8?_0xefc9e7=_0xf7a7b3(0xc86):_0xefc9e7=_0xf7a7b3(0x28f);}switch(_0xefc9e7){case _0xf7a7b3(0x9b6):_0x5907de=_0xf7a7b3(0x47c),_0xf7cbee=_0xf7a7b3(0x7c6);break;case'scheduled_pending':_0x5907de=_0xf7a7b3(0x765),_0xf7cbee=_0xf7a7b3(0x811);break;case _0xf7a7b3(0x28f):_0x5907de=_0xa951c5!==_0xf7a7b3(0x700)?_0xf7a7b3(0x2c6):'เปิดใช้งาน',_0xf7cbee=_0xf7a7b3(0x21d);break;default:_0x5907de=_0xf7a7b3(0x3d0),_0xf7cbee='text-green-700\x20bg-green-100';break;}let _0x40dc2a='';const _0x507bff={'day':'2-digit','month':_0xf7a7b3(0x834),'year':'numeric','hour':_0xf7a7b3(0x834),'minute':_0xf7a7b3(0x834),'hour12':![]};if(_0x22b4ec===_0xf7a7b3(0xbb7)){if(_0x16eaf6[_0xf7a7b3(0xc83)])_0x40dc2a+=_0xf7a7b3(0xc9d)+new Date(_0x16eaf6[_0xf7a7b3(0xc83)])[_0xf7a7b3(0x666)](_0xf7a7b3(0xa92),_0x507bff)+_0xf7a7b3(0x19e);if(_0x16eaf6[_0xf7a7b3(0x50f)])_0x40dc2a+=_0xf7a7b3(0xb2c)+new Date(_0x16eaf6[_0xf7a7b3(0x50f)])[_0xf7a7b3(0x666)]('th-TH',_0x507bff)+_0xf7a7b3(0x19e);}let _0x54e5f2='';if(_0x16eaf6[_0xf7a7b3(0xc04)]){const _0x50c6ff=allQuizzes[_0xf7a7b3(0xcf4)](_0x37d201=>_0x37d201['id']===_0x16eaf6[_0xf7a7b3(0xc04)]);if(_0x50c6ff){let _0x4e6d6e,_0x9381a;new Date(_0x16eaf6[_0xf7a7b3(0xbd3)])<new Date(_0x50c6ff[_0xf7a7b3(0xbd3)])?(_0x4e6d6e=_0x16eaf6['id'],_0x9381a=_0x50c6ff['id']):(_0x4e6d6e=_0x50c6ff['id'],_0x9381a=_0x16eaf6['id']),_0x54e5f2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x9381a+_0xf7a7b3(0x250)+_0x4e6d6e+_0xf7a7b3(0xbf6);}}else _0x16eaf6[_0xf7a7b3(0x383)]===_0xf7a7b3(0x6ed)&&(_0x54e5f2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x16eaf6['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x16eaf6[_0xf7a7b3(0x383)]==='pre-test'&&_0x2f6ecd>0x0)_0x54e5f2+=_0xf7a7b3(0x957)+_0x16eaf6['id']+_0xf7a7b3(0x35f);else!_0x16eaf6['pairedQuizId']&&_0x16eaf6['quizMode']!==_0xf7a7b3(0x6ed)&&_0x2f6ecd>0x0&&(_0x54e5f2+=_0xf7a7b3(0x957)+_0x16eaf6['id']+_0xf7a7b3(0x406));let _0x2b26b3='';_0x16eaf6[_0xf7a7b3(0xc04)]?_0x2b26b3=_0xf7a7b3(0xb5f)+_0x16eaf6['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x2b26b3=_0xf7a7b3(0xb5f)+_0x16eaf6['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x4bdb94+=_0xf7a7b3(0x817)+_0x16eaf6['id']+_0xf7a7b3(0x8ab)+_0x16eaf6['topic']+_0xf7a7b3(0x45d)+_0x16eaf6[_0xf7a7b3(0x796)][_0xf7a7b3(0x3b0)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x16eaf6[_0xf7a7b3(0xbd3)])[_0xf7a7b3(0x666)](_0xf7a7b3(0xa92))+_0xf7a7b3(0x5a6)+_0x2f6ecd+_0xf7a7b3(0x213)+_0x40dc2a+_0xf7a7b3(0xb60)+_0xf7cbee+'\x22>'+_0x5907de+_0xf7a7b3(0x253)+_0x16eaf6['id']+_0xf7a7b3(0xd24)+_0x16eaf6['id']+_0xf7a7b3(0xb00)+(_0x16eaf6['isStarred']?'fas\x20fa-star\x20text-yellow-500':_0xf7a7b3(0xb32))+_0xf7a7b3(0x5c4)+_0x54e5f2+_0xf7a7b3(0x641)+_0x16eaf6['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x16eaf6['id']+_0xf7a7b3(0xbb5)+_0x16eaf6['id']+_0xf7a7b3(0x5d5)+_0x16eaf6['id']+_0xf7a7b3(0x7df)+_0x16eaf6['id']+_0xf7a7b3(0x5df)+_0x16eaf6['id']+_0xf7a7b3(0x2f7)+_0x16eaf6['id']+_0xf7a7b3(0x7a9)+_0x16eaf6['topic']+_0xf7a7b3(0x753)+_0x16eaf6['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x16eaf6['id']+_0xf7a7b3(0x920)+_0x2b26b3+_0xf7a7b3(0x621)+_0x16eaf6['id']+_0xf7a7b3(0x766)+_0x16eaf6['id']+_0xf7a7b3(0xd28)+_0x16eaf6['id']+_0xf7a7b3(0x1bc)+_0x16eaf6['id']+_0xf7a7b3(0x6ea)+_0x16eaf6['id']+_0xf7a7b3(0x461)+_0x16eaf6['id']+_0xf7a7b3(0xbfe)+_0x16eaf6['id']+_0xf7a7b3(0xc33)+_0x16eaf6['id']+_0xf7a7b3(0x7a9)+_0x16eaf6[_0xf7a7b3(0x6a9)]+_0xf7a7b3(0x857)+_0x16eaf6['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5dd292[_0x2d5556(0x9c8)]=_0x4bdb94,document[_0x2d5556(0x599)](_0x2d5556(0xc61))['forEach'](_0x256316=>{const _0x4b6106=_0x2d5556;_0x256316[_0x4b6106(0x331)]('click',()=>{const _0x2c10d2=_0x4b6106,_0x1de048=_0x256316[_0x2c10d2(0x40c)][_0x2c10d2(0xccd)];showQuizDetailView(_0x1de048);});});}async function handleUnpairQuiz(_0x100ae6){const _0x13eefe=_0x3076df,_0x5a1900=allQuizzes[_0x13eefe(0xcf4)](_0x266f59=>_0x266f59['id']===_0x100ae6);if(!_0x5a1900||!_0x5a1900['pairedQuizId']){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x15b645=_0x13eefe;try{const _0x39d9bb=doc(db,'artifacts/'+appId+_0x15b645(0x695),_0x100ae6),_0x2ec9c3=doc(db,_0x15b645(0xaa1)+appId+_0x15b645(0x695),_0x5a1900[_0x15b645(0xc04)]),_0x1ac01b=writeBatch(db);_0x1ac01b[_0x15b645(0xad2)](_0x39d9bb,{'pairedQuizId':null}),_0x1ac01b['update'](_0x2ec9c3,{'pairedQuizId':null}),await _0x1ac01b['commit'](),showMessage(_0x15b645(0xc08));}catch(_0x1233fe){console[_0x15b645(0x405)](_0x15b645(0xb2f),_0x1233fe),showMessage(_0x15b645(0x8a3));}});}function formatAndPrintLessonPlan(_0x37a0bd,_0x488f26){const _0xb4665b=_0x3076df,_0x25c43e=window[_0xb4665b(0x5d1)]('',_0xb4665b(0x722)),_0x5b9b79=_0xb4665b(0x5a5)+_0x488f26[_0xb4665b(0x6a9)]+_0xb4665b(0x9cd)+_0x488f26[_0xb4665b(0x6a9)]+_0xb4665b(0x380)+_0x37a0bd['learningGaps']['map'](_0x3dec2e=>_0xb4665b(0xa4a)+_0x3dec2e+_0xb4665b(0xa97))[_0xb4665b(0x28d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x37a0bd[_0xb4665b(0xabb)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37a0bd[_0xb4665b(0x7a5)][_0xb4665b(0x3c9)](_0x4028bf=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x4028bf[_0xb4665b(0x41d)]+_0xb4665b(0x305)+_0x4028bf['solution']+_0xb4665b(0x478))[_0xb4665b(0x28d)]('')+_0xb4665b(0x1d7);_0x25c43e[_0xb4665b(0xa66)][_0xb4665b(0xbf1)](_0x5b9b79),_0x25c43e[_0xb4665b(0xa66)][_0xb4665b(0xd1e)](),_0x25c43e['onload']=function(){setTimeout(()=>{const _0x416e16=_0x520b;_0x25c43e[_0x416e16(0x860)]();},0x3e8);};}async function handleAiFixFormula(_0x41103){const _0x45c121=_0x3076df,_0x27c45f=document[_0x45c121(0x381)](_0x45c121(0x696)+_0x41103+'\x22]');if(!_0x27c45f)return;const _0x5161ba=_0x27c45f[_0x45c121(0x40c)][_0x45c121(0x8e9)],_0x5d7b73=_0x27c45f['querySelector'](_0x45c121(0x37f));let _0x4d898b={'question':_0x27c45f[_0x45c121(0x381)]('textarea')[_0x45c121(0xaef)]};switch(_0x5161ba){case _0x45c121(0xa73):_0x4d898b[_0x45c121(0x7ce)]=Array[_0x45c121(0x2bb)](_0x27c45f[_0x45c121(0x599)](_0x45c121(0x54b)))[_0x45c121(0x3c9)](_0xae576d=>_0xae576d['value']);break;case _0x45c121(0x296):_0x4d898b[_0x45c121(0x36e)]=_0x27c45f[_0x45c121(0x381)](_0x45c121(0x64b))[_0x45c121(0xaef)];break;case _0x45c121(0xd01):_0x4d898b[_0x45c121(0x4fc)]=_0x27c45f['querySelector']('.correct-response-input')['value'];break;}_0x5d7b73[_0x45c121(0x9c8)]=_0x45c121(0x4b4),_0x5d7b73[_0x45c121(0x1dc)]=!![];try{const _0x251873=_0x45c121(0xbda)+JSON[_0x45c121(0x4c6)](_0x4d898b)+_0x45c121(0xa71),_0x4dd8e1={'type':_0x45c121(0x85f),'properties':{'fixedData':{'type':_0x45c121(0x85f),'properties':{'question':{'type':_0x45c121(0x670)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'idealAnswer':{'type':_0x45c121(0x670)},'correctResponse':{'type':_0x45c121(0x670)}},'required':[_0x45c121(0x41d)]}},'required':[_0x45c121(0x212)]},_0x96997b=await callAnalysisApi(_0x251873,_0x4dd8e1);if(_0x96997b&&_0x96997b[_0x45c121(0x212)]){const _0x17bb27=_0x96997b['fixedData'];_0x27c45f[_0x45c121(0x381)](_0x45c121(0xb50))[_0x45c121(0xaef)]=_0x17bb27[_0x45c121(0x41d)]||_0x4d898b['question'];switch(_0x5161ba){case _0x45c121(0xa73):_0x17bb27[_0x45c121(0x7ce)]&&_0x17bb27[_0x45c121(0x7ce)][_0x45c121(0x3b0)]>0x0&&_0x27c45f[_0x45c121(0x599)]('input[type=\x22text\x22]')[_0x45c121(0x9c9)]((_0x2e55d1,_0x365050)=>{const _0x5d4ce8=_0x45c121;_0x2e55d1[_0x5d4ce8(0xaef)]=_0x17bb27[_0x5d4ce8(0x7ce)][_0x365050]||_0x4d898b[_0x5d4ce8(0x7ce)][_0x365050];});break;case _0x45c121(0x296):_0x27c45f[_0x45c121(0x381)]('.ideal-answer-input')[_0x45c121(0xaef)]=_0x17bb27[_0x45c121(0x36e)]||_0x4d898b[_0x45c121(0x36e)];break;case _0x45c121(0xd01):_0x27c45f[_0x45c121(0x381)]('.correct-response-input')[_0x45c121(0xaef)]=_0x17bb27['correctResponse']||_0x4d898b['correctResponse'];break;}if(_0x4d898b[_0x45c121(0x41d)]!==_0x17bb27[_0x45c121(0x41d)])try{const _0x14ffa7=collection(db,_0x45c121(0xaa1)+appId+_0x45c121(0x810));await addDoc(_0x14ffa7,{'broken':_0x4d898b[_0x45c121(0x41d)],'fixed':_0x17bb27[_0x45c121(0x41d)],'createdAt':serverTimestamp()});}catch(_0x2c0a2b){console['error'](_0x45c121(0x5cd),_0x2c0a2b);}showMessage(_0x45c121(0x84e));}else throw new Error(_0x45c121(0xc6f));}catch(_0x57e96e){console['error'](_0x45c121(0x454),_0x57e96e),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x5d7b73[_0x45c121(0x9c8)]=_0x45c121(0x6ec),_0x5d7b73[_0x45c121(0x1dc)]=![];}}async function handleGenerateLessonPlan(_0x15d5dd){const _0x280bbe=_0x3076df;showMessage(_0x280bbe(0x5e9));try{const _0x434555=doc(db,_0x280bbe(0xaa1)+appId+'/public/data/quizzes',_0x15d5dd),_0x2de58e=await getDoc(_0x434555);if(!_0x2de58e[_0x280bbe(0x6b3)]())throw new Error(_0x280bbe(0xbe2));const _0x17e344={'id':_0x15d5dd,..._0x2de58e['data']()},_0x4d267e=collection(db,_0x280bbe(0xaa1)+appId+_0x280bbe(0x695),_0x15d5dd,_0x280bbe(0x5e6)),_0x310deb=await getDocs(_0x4d267e),_0x5f093a=_0x310deb[_0x280bbe(0x9a1)][_0x280bbe(0x3c9)](_0x50b9af=>_0x50b9af[_0x280bbe(0x995)]());if(_0x5f093a[_0x280bbe(0x3b0)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x3ac0ec=calculateItemAnalysis(_0x17e344,_0x5f093a)[_0x280bbe(0x48c)],_0x5f1471=calculateDistractorAnalysis(_0x17e344,_0x5f093a),_0x2a8f2c=_0x478f49=>{const _0x5c04b5=_0x280bbe;if(!_0x478f49)return'';return _0x478f49[_0x5c04b5(0x1ba)](/\\/g,'\x5c\x5c')[_0x5c04b5(0x1ba)](/"/g,'\x5c\x22')[_0x5c04b5(0x1ba)](/\n/g,'\x5cn');};let _0x24a334=_0x280bbe(0x472);_0x17e344[_0x280bbe(0x796)][_0x280bbe(0x9c9)]((_0x5cb6f5,_0xbedbcd)=>{const _0xf6c8fe=_0x280bbe,_0x1261bd=_0x3ac0ec[_0xbedbcd]?.['p'][_0xf6c8fe(0x598)](0x2)||'N/A',_0x5b018c=_0x3ac0ec[_0xbedbcd]?.['r'][_0xf6c8fe(0x598)](0x2)||_0xf6c8fe(0xb36),_0x14288c=_0x2a8f2c(_0x5cb6f5['questionText']||_0x5cb6f5['stem']);_0x24a334+=_0xf6c8fe(0x2c2)+(_0xbedbcd+0x1)+_0xf6c8fe(0x631)+_0x1261bd+_0xf6c8fe(0x61b)+_0x5b018c+_0xf6c8fe(0x6f6)+_0x14288c+'\x5cn';if(_0x5cb6f5[_0xf6c8fe(0xbc3)]===_0xf6c8fe(0xa73)&&_0x5f1471[_0xbedbcd]){const _0x4de931=_0x5f1471[_0xbedbcd],_0x461949=Object[_0xf6c8fe(0x3ca)](_0x4de931)[_0xf6c8fe(0x475)](_0x265c16=>parseInt(_0x265c16)!==_0x5cb6f5['correctAnswerIndex'])['sort']((_0x4e3807,_0xfe2123)=>_0x4de931[_0xfe2123][_0xf6c8fe(0x26b)]-_0x4de931[_0x4e3807][_0xf6c8fe(0x26b)])[0x0];if(_0x461949&&_0x4de931[_0x461949][_0xf6c8fe(0x26b)]>0x0){const _0x224c82=_0x2a8f2c(_0x4de931[_0x461949][_0xf6c8fe(0x5ca)]);_0x24a334+=_0xf6c8fe(0x238)+_0x224c82+_0xf6c8fe(0xadd);}}});const _0x3b1981='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x17e344[_0x280bbe(0x6a9)]+_0x280bbe(0xb86)+_0x24a334+_0x280bbe(0x84d),_0x3db8c1={'type':_0x280bbe(0x85f),'properties':{'learningGaps':{'type':_0x280bbe(0x45a),'items':{'type':_0x280bbe(0x670)}},'teachingContent':{'type':_0x280bbe(0x670)},'practiceProblems':{'type':'ARRAY','items':{'type':_0x280bbe(0x85f),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x280bbe(0x670)}}}}},'required':[_0x280bbe(0x20f),_0x280bbe(0xabb),_0x280bbe(0x7a5)]},_0x4d8726=await callAnalysisApi(_0x3b1981,_0x3db8c1);await updateDoc(_0x434555,{'lessonPlan':_0x4d8726});const _0x1c70ed=_0x280bbe(0x837)+_0x17e344[_0x280bbe(0x6a9)]+_0x280bbe(0xa06)+_0x4d8726[_0x280bbe(0x20f)]['map'](_0x3ace7c=>'<li>'+_0x3ace7c+_0x280bbe(0xa97))[_0x280bbe(0x28d)]('')+_0x280bbe(0x228)+_0x4d8726[_0x280bbe(0xabb)]+_0x280bbe(0xabe)+_0x4d8726[_0x280bbe(0x7a5)][_0x280bbe(0x3c9)](_0x3304a8=>_0x280bbe(0x816)+_0x3304a8['question']+_0x280bbe(0x9dd)+_0x3304a8[_0x280bbe(0xa4c)]+'</p></div>')[_0x280bbe(0x28d)]('')+_0x280bbe(0x984);document['getElementById'](_0x280bbe(0xbbe))['textContent']=_0x280bbe(0x6e2)+_0x17e344[_0x280bbe(0x6a9)],document['getElementById'](_0x280bbe(0xa13))['innerHTML']=_0x1c70ed,document[_0x280bbe(0x48d)]('lesson-plan-modal')[_0x280bbe(0xbbb)]['remove'](_0x280bbe(0xc6c));if(window[_0x280bbe(0x278)])MathJax[_0x280bbe(0x73c)]();messageModal['classList'][_0x280bbe(0x49b)](_0x280bbe(0xc6c));}catch(_0x149c10){console[_0x280bbe(0x405)](_0x280bbe(0x3cd),_0x149c10),showMessage(_0x280bbe(0x427)+_0x149c10['message']);}}async function handleDuplicateQuiz(_0x3474e5){const _0x4ba52e=_0x3076df;try{const _0x5f5d76=doc(db,_0x4ba52e(0xaa1)+appId+'/public/data/quizzes',_0x3474e5),_0x18b993=await getDoc(_0x5f5d76);if(_0x18b993[_0x4ba52e(0x6b3)]()){const _0x280998=_0x18b993['data']();let _0x341115='',_0x34aadd=_0x4ba52e(0x196),_0x443229=null;if(_0x280998['quizMode']===_0x4ba52e(0x6ed)){let _0x207ba5=_0x280998[_0x4ba52e(0x6a9)][_0x4ba52e(0x1ba)](_0x4ba52e(0x2d8),'')[_0x4ba52e(0x7fe)]();_0x341115=_0x4ba52e(0xcb6)+_0x207ba5,_0x34aadd=_0x4ba52e(0x588),_0x443229=_0x3474e5;}else _0x341115=_0x4ba52e(0x77a)+_0x280998[_0x4ba52e(0x6a9)];const _0x5ba0d8={..._0x280998,'topic':_0x341115,'createdAt':new Date()['toISOString'](),'quizMode':_0x34aadd,'pairedQuizId':_0x443229};let _0x233eb7;while(!![]){_0x233eb7=Math['floor'](0x3e8+Math[_0x4ba52e(0x386)]()*0x2328)['toString']();const _0x3955cd=await getDoc(doc(db,'artifacts/'+appId+_0x4ba52e(0x695),_0x233eb7));if(!_0x3955cd['exists']())break;}const _0x1f97c3=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x233eb7);await setDoc(_0x1f97c3,_0x5ba0d8),_0x5ba0d8[_0x4ba52e(0x383)]==='post-test'&&await updateDoc(_0x5f5d76,{'pairedQuizId':_0x233eb7}),showMessage(_0x4ba52e(0xd00));}else throw new Error(_0x4ba52e(0xccc));}catch(_0x25c131){console[_0x4ba52e(0x405)](_0x4ba52e(0xa37),_0x25c131),showMessage(_0x4ba52e(0x720));}}async function handleDeleteQuiz(_0x797e54,_0x5c2758=!![]){const _0x558638=_0x3076df;try{const _0x2b301b=writeBatch(db),_0x1b344a=collection(db,_0x558638(0xaa1)+appId+_0x558638(0xa74)+_0x797e54+'/submissions'),_0x3ab9fe=await getDocs(_0x1b344a);_0x3ab9fe['forEach'](_0x10ba6c=>{_0x2b301b['delete'](doc(_0x1b344a,_0x10ba6c['id']));});const _0x3a5b90=doc(db,_0x558638(0xaa1)+appId+_0x558638(0x695),_0x797e54);_0x2b301b[_0x558638(0xa5b)](_0x3a5b90),await _0x2b301b['commit']();try{console['log'](_0x558638(0x791)+_0x797e54+_0x558638(0x9e8));const _0x4e77e7=collection(db,_0x558638(0xaa1)+appId+'/public/data/blueprintProjects'),_0xd0a24b=await getDocs(_0x4e77e7),_0x4f2f60=[];_0xd0a24b[_0x558638(0x9c9)](_0x1f7e91=>{const _0x2668e5=_0x558638,_0x193a1d=_0x1f7e91[_0x2668e5(0x995)](),_0x349efe=_0x193a1d[_0x2668e5(0x3ef)]||{};let _0x34805e=![];for(const _0x30733d in _0x349efe){const _0x1ec7f0=_0x349efe[_0x30733d];if(_0x1ec7f0[_0x2668e5(0x651)]&&_0x1ec7f0['linkedQuizIds'][_0x2668e5(0x59e)](_0x797e54)){_0x34805e=!![];const _0x22e08d=doc(db,_0x2668e5(0xaa1)+appId+_0x2668e5(0xa8a),_0x1f7e91['id']),_0x207014=updateDoc(_0x22e08d,{['topics.'+_0x30733d+_0x2668e5(0x1b5)]:arrayRemove(_0x797e54)});_0x4f2f60[_0x2668e5(0x836)](_0x207014);}}}),_0x4f2f60[_0x558638(0x3b0)]>0x0&&(await Promise[_0x558638(0x6a5)](_0x4f2f60),console[_0x558638(0x676)](_0x558638(0xcac)+_0x4f2f60[_0x558638(0x3b0)]+_0x558638(0x83d)+_0x797e54+'.'));}catch(_0x931760){console[_0x558638(0x405)](_0x558638(0x281),_0x931760);}_0x5c2758&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x4537ca){console[_0x558638(0x405)]('Error\x20deleting\x20quiz:',_0x4537ca),_0x5c2758&&showMessage(_0x558638(0x574));}}async function showQuizDetailView(_0x35934d){const _0x495a33=_0x3076df;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x495a33(0x1b1));try{const _0x1f8365=doc(db,_0x495a33(0xaa1)+appId+'/public/data/quizzes',_0x35934d),_0x165363=await getDoc(_0x1f8365);if(!_0x165363[_0x495a33(0x6b3)]()){showMessage(_0x495a33(0xbe2));return;}const _0x47388f={'id':_0x165363['id'],..._0x165363[_0x495a33(0x995)]()};currentQuizData=_0x47388f;const _0x4fda96=doc(db,'artifacts/'+appId+_0x495a33(0x8bc),_0x47388f['projectId']),_0x371cbb=await getDoc(_0x4fda96);_0x371cbb['exists']()?(currentProjectData=_0x371cbb['data'](),currentProjectId=_0x47388f[_0x495a33(0x2a3)]):(currentProjectData={'students':[]},currentProjectId=_0x47388f[_0x495a33(0x2a3)]);document['getElementById'](_0x495a33(0xc15))['textContent']=_0x47388f[_0x495a33(0x6a9)],document['getElementById'](_0x495a33(0x80f))[_0x495a33(0x9ea)]=_0x35934d;const _0xab4237=collection(db,_0x495a33(0xaa1)+appId+'/public/data/quizzes',_0x35934d,_0x495a33(0x5e6));unsubscribeSubmissionsListener=onSnapshot(_0xab4237,_0x36350e=>{const _0x2cff90=_0x495a33,_0x4ca2ee=_0x36350e[_0x2cff90(0x9a1)][_0x2cff90(0x3c9)](_0x42f05c=>({'id':_0x42f05c['id'],..._0x42f05c[_0x2cff90(0x995)]()}));currentSubmissions=_0x4ca2ee;const _0x5bff4c=_0x4ca2ee[_0x2cff90(0x475)](_0x17489e=>_0x17489e[_0x2cff90(0x656)]&&_0x17489e[_0x2cff90(0x656)]['length']>0x0);renderBehaviorLog(_0x4ca2ee),renderAnswerGrid(currentProjectData[_0x2cff90(0x589)],_0x5bff4c,_0x47388f),renderAnalytics(_0x47388f,_0x5bff4c),renderQuizResultsTable(currentProjectData[_0x2cff90(0x589)],_0x4ca2ee,_0x47388f),renderQuizLeaderboard(_0x5bff4c,_0x47388f,_0x2cff90(0x2a6));}),showView('quiz-results');}catch(_0x1210ed){console[_0x495a33(0x405)](_0x495a33(0x356),_0x1210ed),showMessage(_0x495a33(0xce1));}}function renderAnswerGrid(_0x46ea7d,_0x3ac952,_0xe18f48){const _0x4c7242=_0x3076df,_0x11f93d=document[_0x4c7242(0x48d)](_0x4c7242(0x907));if(!_0x11f93d)return;if(!_0x46ea7d||_0x46ea7d[_0x4c7242(0x3b0)]===0x0){_0x11f93d[_0x4c7242(0x9c8)]=_0x4c7242(0x7d7);return;}const _0x11a95d=_0xe18f48[_0x4c7242(0x796)],_0x1e2570=_0x3ac952['reduce']((_0x262578,_0x3423db)=>{return _0x262578[_0x3423db['studentName']]=_0x3423db,_0x262578;},{}),_0x8b87e7=_0x5cda01=>String[_0x4c7242(0x77b)](0x41+_0x5cda01),_0x294672=_0x4e8a45=>{const _0x2f225d=_0x4c7242,_0xd1492b=_0x4e8a45[_0x2f225d(0xbc3)]||_0xe18f48['quizType'];switch(_0xd1492b){case'multiple_choice':return _0x4e8a45[_0x2f225d(0x7ce)]&&_0x4e8a45[_0x2f225d(0x7ce)][_0x2f225d(0x3b0)]>_0x4e8a45[_0x2f225d(0x60b)]?_0x8b87e7(_0x4e8a45[_0x2f225d(0x60b)]):'-';case'true_false':const _0x4e2f8c=_0x4e8a45[_0x2f225d(0x369)]===!![]||String(_0x4e8a45['correctAnswer'])[_0x2f225d(0x235)]()===_0x2f225d(0xab4);return _0x4e2f8c?_0x2f225d(0xbe5):_0x2f225d(0x7e6);case _0x2f225d(0xd01):return _0x4e8a45[_0x2f225d(0x4fc)]||'-';case _0x2f225d(0x296):return _0x2f225d(0xad6);default:return'-';}},_0x4de066=(_0x498147,_0x29fef2)=>{const _0x150b4c=_0x4c7242;if(_0x29fef2[_0x150b4c(0xb7a)]===null||_0x29fef2[_0x150b4c(0xb7a)]===undefined)return'-';const _0x40ed93=_0x498147[_0x150b4c(0xbc3)]||_0xe18f48[_0x150b4c(0xcb9)];switch(_0x40ed93){case _0x150b4c(0xa73):const _0x4d18f=_0x498147[_0x150b4c(0x7ce)][_0x150b4c(0x3c0)](_0x5b611d=>_0x5b611d===_0x29fef2[_0x150b4c(0x4cc)]);return _0x4d18f!==-0x1?_0x8b87e7(_0x4d18f):_0x29fef2[_0x150b4c(0x4cc)]||'-';case'true_false':if(_0x29fef2[_0x150b4c(0xb7a)]=='0'||_0x29fef2[_0x150b4c(0xb7a)]===!![]||_0x29fef2[_0x150b4c(0xb7a)]===_0x150b4c(0xab4))return'ใช่';return _0x150b4c(0x7e6);default:return _0x29fef2[_0x150b4c(0xb7a)];}};let _0x10ebfb=_0x4c7242(0xb76)+_0x11a95d[_0x4c7242(0x3c9)]((_0x200d76,_0x1330ee)=>_0x4c7242(0x68e)+(_0x1330ee+0x1)+'</th>')['join']('')+_0x4c7242(0xc52)+_0x11a95d[_0x4c7242(0x3c9)](_0x49dc36=>_0x4c7242(0x69b)+_0x294672(_0x49dc36)+_0x4c7242(0x2d2))[_0x4c7242(0x28d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x46ea7d[_0x4c7242(0x9c9)](_0x100db0=>{const _0x35b098=_0x4c7242;_0x10ebfb+=_0x35b098(0x2c7),_0x10ebfb+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x100db0+_0x35b098(0x2d2);const _0x4131b3=_0x1e2570[_0x100db0];if(_0x4131b3){const _0x3f9d75=_0x4131b3[_0x35b098(0x656)][_0x4131b3['attempts']['length']-0x1];_0x11a95d[_0x35b098(0x9c9)]((_0x287a59,_0x3c2116)=>{const _0x34c28a=_0x35b098,_0xca5596=_0x3f9d75[_0x34c28a(0x34e)][_0x34c28a(0xcf4)](_0x223208=>_0x223208[_0x34c28a(0x649)]===_0x287a59['id']);if(_0xca5596){let _0x3588f5='';const _0x597071=_0xca5596[_0x34c28a(0xa78)]===!![],_0x4abeb9=_0xca5596['wasConfident']===!![]||_0xca5596['wasConfident']===_0x34c28a(0x83e);_0x4abeb9?_0x3588f5=_0x597071?'bg-green-400\x20text-white\x20font-bold':_0x34c28a(0x72e):_0x3588f5=_0x597071?_0x34c28a(0x734):_0x34c28a(0x97d),_0x10ebfb+=_0x34c28a(0x98f)+_0x3588f5+'\x22>'+_0x4de066(_0x287a59,_0xca5596)+'</td>';}else _0x10ebfb+=_0x34c28a(0xd10);});}else _0x10ebfb+=_0x11a95d['map'](()=>_0x35b098(0x5bd))[_0x35b098(0x28d)]('');_0x10ebfb+=_0x35b098(0x42e);}),_0x10ebfb+=_0x4c7242(0x2cd),_0x11f93d['innerHTML']=_0x10ebfb;}function renderQuizResultsTable(_0x320d42,_0xe9dec4,_0x1a02f1){const _0x3002d2=_0x3076df,_0x1f0d2a=_0xe9dec4[_0x3002d2(0x2f8)]((_0x3ea42e,_0x5e3c16)=>{const _0x406de4=_0x3002d2;return _0x3ea42e[_0x5e3c16[_0x406de4(0xbe1)]]=_0x5e3c16,_0x3ea42e;},{}),_0x5e3e38=document[_0x3002d2(0x381)](_0x3002d2(0xb13));_0x5e3e38&&!_0x5e3e38[_0x3002d2(0x9c8)][_0x3002d2(0x59e)](_0x3002d2(0x601))&&(_0x5e3e38[_0x3002d2(0x9c8)]+=_0x3002d2(0x966));const _0x504f95=document[_0x3002d2(0x48d)](_0x3002d2(0x53e));if(!_0x320d42||_0x320d42[_0x3002d2(0x3b0)]===0x0){_0x504f95[_0x3002d2(0x9c8)]=_0x3002d2(0x7d4);return;}const _0x18ecc0=_0x1a02f1[_0x3002d2(0xc5e)]===!![],_0x29f8ac=_0x1a02f1[_0x3002d2(0x1a6)]?.[_0x3002d2(0xb3b)]??-0x1;let _0x3d3d48='';_0x320d42['forEach'](_0x583a80=>{const _0xb36d3e=_0x3002d2,_0x16b665=_0x1f0d2a[_0x583a80];let _0x522dec=_0xb36d3e(0x8e8)+(_0x18ecc0?_0xb36d3e(0x721):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x18ecc0?_0xb36d3e(0x538):_0xb36d3e(0x429))+_0xb36d3e(0xbfa);if(_0x16b665){if(_0x16b665['attempts']&&_0x16b665[_0xb36d3e(0x656)][_0xb36d3e(0x3b0)]>0x0){let _0x50d351=_0x18ecc0?_0x16b665['bestScore']===_0x16b665['totalQuestions']:_0x29f8ac!==-0x1&&_0x16b665[_0xb36d3e(0xc4d)]>=_0x29f8ac;const _0x49cc8e=_0x50d351?_0xb36d3e(0x93d):_0xb36d3e(0x711),_0x59360c=_0x50d351?_0xb36d3e(0x4cb):_0xb36d3e(0x3cf),_0x1a01eb=_0xb36d3e(0xb34)+_0x49cc8e+'\x22>'+_0x59360c+'</span></td>',_0x4cabad=_0xb36d3e(0x56a)+(_0x16b665['attempts']?.['length']||0x1)+_0xb36d3e(0x69f);_0x3d3d48+=_0xb36d3e(0x7a6)+_0x583a80+_0xb36d3e(0x86c)+_0x16b665[_0xb36d3e(0xc4d)]+_0xb36d3e(0x41b)+_0x16b665[_0xb36d3e(0x4e5)]+_0xb36d3e(0xa1b)+_0x1a01eb+_0xb36d3e(0x9da)+_0x522dec+_0xb36d3e(0x602)+_0x16b665[_0xb36d3e(0xaca)]+'\x20/\x20'+_0x16b665[_0xb36d3e(0x4e5)]+_0xb36d3e(0xcaf)+_0x16b665[_0xb36d3e(0x1f4)]+_0xb36d3e(0x41b)+_0x16b665[_0xb36d3e(0x4e5)]+_0xb36d3e(0x580)+(_0x16b665[_0xb36d3e(0x775)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4cabad+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x16b665[_0xb36d3e(0x913)])['toLocaleString'](_0xb36d3e(0xa92))+_0xb36d3e(0x954)+_0x583a80+_0xb36d3e(0xb0c);}else{const _0x1e2095='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x3d3d48+=_0xb36d3e(0x81c)+_0x583a80+_0xb36d3e(0xa16)+_0x522dec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e2095+_0xb36d3e(0x819)+new Date(_0x16b665[_0xb36d3e(0xa32)])[_0xb36d3e(0x666)](_0xb36d3e(0xa92))+_0xb36d3e(0x743)+_0x583a80+_0xb36d3e(0xb0c);}}else{const _0x307fac='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x3d3d48+=_0xb36d3e(0x1c1)+_0x583a80+_0xb36d3e(0x94e)+_0x522dec+_0xb36d3e(0x76a)+_0x307fac+_0xb36d3e(0xc0d);}}),_0x504f95['innerHTML']=_0x3d3d48;}async function confirmRenameQuiz(){const _0x137e1f=_0x3076df,_0x1515cc=document[_0x137e1f(0x48d)](_0x137e1f(0x4dd))[_0x137e1f(0xaef)][_0x137e1f(0x7fe)]();if(!_0x1515cc){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x44ee48=doc(db,_0x137e1f(0xaa1)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x44ee48,{'topic':_0x1515cc}),showMessage(_0x137e1f(0x4a2)),renameQuizModal[_0x137e1f(0xbbb)]['add'](_0x137e1f(0xc6c)),actionTargetId=null;}catch(_0x135e90){console['error'](_0x137e1f(0x4b9),_0x135e90),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}function _0x45be(){const _0xa1cc8d=['save-settings-btn','scratchpad-modal','.generate-post-test-btn','summary_chart','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','mode-switcher-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','view-my-progress-btn','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20แบบทดสอบลงในคลังสำเร็จ!','.pen-size-btn','#FFFFFF','toDate','.delete-bp-project-btn','arrayBuffer','.correct-response-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','close-presentation-btn','leaderboard_','shadowColor','href','results_','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','then','game-start-mode','presentation-short-answer-input','text-gray-500','touchstart','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','blueprint-topics-list','bestScore','17151eBLbdm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','หน่วยเวลาและการคำนวณเวลา','finished','quadraticCurveTo','</button>','ถูกต้อง!','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','file-shortcuts-loading-msg','loop-until-pass-checkbox','autoTable','isRemedial','bulk-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','.quiz-result-card','ฟังก์ชันพหุนาม','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','topic-input-area','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','add-shortcut-tab-btn','ไม่พบแบบทดสอบ','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','ย้าย','hidden','<i\x20class=\x22fas\x20fa-pen\x22></i>','open-global-live-btn','AI\x20ไม่สามารถประมวลผลข้อมูลได้','per-q-countdown','.regenerate-question-btn','</h4>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','.quiz-bank-checkbox:checked','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','เกิดข้อผิดพลาดในการลบหัวข้อ','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','confirm-rename-quiz-btn','bp-modal-quiz-type-select','การหาร','border-green-300\x20bg-green-50','blur','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','startTime','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20custom\x20topic:','scheduled_pending','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','[data-field=\x22subTopic\x22]','stopPropagation','%</span>','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','กำลังจับคู่...','fill_in_the_blank','start-sync-game-btn','sync','shadowBlur','text/csv;charset=utf-8;','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','text-input-area','confirm-quiz-settings-btn','project-list','match','<button\x20data-value=\x22','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','\x22\x20value=\x22','กำลังวิเคราะห์หัวข้อ...','createObjectURL','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','student-reading-area','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','Error\x20unlinking\x20quiz:','พิสัย','project-quizzes-list','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','submission','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','message-modal','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','Successfully\x20removed\x20','cancel-quiz-edits-btn-footer','parallel-shortcut-editor-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','แคลคูลัสเบื้องต้น','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','upperGroupResponders','/users/','(หลังเรียน)\x20','tGain','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizType','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','ไม่พบตารางสำหรับ\x20Export','blueprint-upload-input','generate-from-text-btn','ondrop','กำลังค้นหากิจกรรม...','asc','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','ref','num-questions','คณิตการเงิน/บูรณาการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lowerGroupResponders','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x22\x20class=\x22delete-project-btn\x20','projectSortOrder','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Original\x20quiz\x20not\x20found','quizId','Error\x20saving\x20blueprint\x20project:','สมการราก\x20(radical)','Group\x20Mode','mandatory','isAdaptive','Error\x20updating\x20old\x20quizzes:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','toLocaleDateString','deselect-all-topics-btn','json','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','targetId','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','player-list-lobby','เกิดข้อผิดพลาดในการบันทึกโปรเจค','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','leq','svg','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','cancel-quiz-bank-btn','presentation-slide-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Failed\x20to\x20generate\x20lesson:','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','insertBefore','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','includeImages','student-quiz-area','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','สมการเชิงเส้นตัวแปรเดียว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','modal-confidence-mode-container','verify-answers-btn','label','.bp-unlink-quiz-btn','find','blueprint-projects-modal','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','file-input-area','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','visibilitychange','ต้นฉบับทั้งหมด','กรุณาพิมพ์คำตอบ','manual-bp-content','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','appendChild','คัดลอกแบบทดสอบสำเร็จ','matching_item','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','ข้อ\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','top','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','height','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','.status','pin','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','modal-timer-duration-input','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','.application-options\x20button','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','bg-red-500','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','Attempting\x20to\x20save\x20game\x20results...','(คู่ขนาน)\x20','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','</span><span\x20class=\x22font-bold\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','Error\x20listening\x20for\x20starred\x20quizzes:','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','close','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','screen_exit','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','lineCap','<tr><td\x20colspan=\x22','reveal-answer-btn','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','additional-file-shortcuts-list','student-quiz-leaderboard-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','submit-team-answer-btn','admin-view','/public/data/practiceBank','<div\x20id=\x22q-image-container-','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','standard','worksheet-tab','mainTopics','numChoices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','คณิตศาสตร์','round','show_results_only','</p>','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','.move-shortcut-menu-btn','type','parallel-shortcut-id-input','temp-loader-text-results','<button\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','settings','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','shortcut-modal-title','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','show-leaderboard-btn','dispatchEvent','parallelTestShortcutsConfig','date_desc','blueprint-settings-modal','</body></html>','ownerSVGElement','analytics','Error\x20fetching\x20student\x20rankings:','export-worksheet-pdf-btn','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','.linkedQuizIds','bg-blue-100','.unpair-quiz-btn','toggle','comparison-overall-tab','replace','#D1FAE5','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','modal-close-btn','Error\x20comparing\x20results:','next-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Enter','</tbody></table></div>','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','startsWith','lesson-sections-container','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','(ฉบับง่าย)\x20','cancel-quiz-status-btn','การเรียงสับเปลี่ยน\x20(Permutation)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','topics.','Error\x20submitting\x20team\x20answer:','allResponses','applicationContent','getDocument','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','quiz','num-choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','confirmation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.summary-bar-item','disabled','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','.sortable-header','ยืนยันและอัปเดตทั้งหมด','delete-all-students-btn','\x5cpm','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','ผิด','nickname-input','times','save-project-name-btn','Error\x20clearing\x20linked\x20quiz:','Firebase\x20initialization\x20failed:','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','block','ฮิสโตแกรม','ลบหัวข้อสำเร็จ','split','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','nextElementSibling','latestScore','temp-loader-results','Error\x20saving\x20reference\x20URL:','teacherTips','รหัสไม่ถูกต้อง','.star-quiz-btn','Error\x20opening\x20quiz\x20editor:','dimmed','destination-out','bp-modal-question-complexity-select','G-V90KRM0L63','perfect_score_status','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','quiz-form','confirm-quiz-status-btn','.shortcut-tab-btn','color','กรุณาเลือกโปรเจคก่อน','worksheet-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','(ก่อนเรียน)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','move','ondragend','dataIndex','\x20mx-1\x20text-lg\x22></i></span>','learningGaps','removeEventListener','ไม่พบแบบทดสอบในระบบเลย','fixedData','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริพันธ์จำกัด','หมดเวลาสำหรับข้อนี้!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','bulk-quiz-settings-btn','parts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ondblclick','confirm-game-start-btn','text-green-700\x20bg-green-100','strokeStyle','ฟังก์ชันแบบชิ้นส่วน','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>ไม่ใช่</p>','after','#open-additional-file-shortcuts-btn','อสมการค่าสัมบูรณ์','text-red-800','21714201HyBBeM','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x20สำเร็จ','Unexpected\x20API\x20response\x20structure:','question-analytics-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div><input\x20type=\x22radio\x22\x20id=\x22q','confirm-move-quiz-btn','floor','back-to-dashboard-from-bp-btn','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','toLowerCase','Error\x20saving\x20settings:','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอยากมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join-group-activity-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-parallel-shortcut-btn','\x20จุด','student-result-area','\x22><span>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-game-results-checkbox','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบ','ลบผลสอบของ\x20','commit','load-quiz-btn','<li\x20class=\x22','\x22\x20name=\x22team_answer\x22\x20value=\x22','#file-shortcut-tabs-nav\x20.tab-name-input','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','referenceUrl','\x22\x20data-pre-test-id=\x22','<div\x20class=\x22flex-1\x22></div>','บันทึกการตั้งค่าสำเร็จ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','stem','แบบทดสอบที่ติดดาว','/public/data/customMathTopics','rows','ความต่อเนื่อง','แบบทดสอบจากคลังส่วนตัว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','ชื่อหัวข้อห้ามว่าง','.bp-present-btn','upper_group_count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','blueprint-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-shortcut-container','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','requestFullscreen','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','อัปเดตสถานะสำเร็จ','total','game-start-modal-title','ตัวประกอบและตัวประกอบเฉพาะ','kick-player-btn','อุณหภูมิและการแปลง','ON_FIRE','innerText','pen','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','MathJax\x20typeset\x20error\x20(analytics):','การลบทศนิยม','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','text-gray-200','MathJax','text-gray-300\x20hover:text-white','โดเมนและเรนจ์','originalQuestionText','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','27411472','เลือกและเริ่มสร้าง','scrollY','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','Error\x20during\x20blueprint\x20link\x20cleanup:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','div','อัปเดตการตั้งค่าของแบบทดสอบ\x20','fa-rocket\x20text-purple-500','.compare-results-btn','admin-try-quiz-btn','student-name-input','\x20ตอบ','resultsDisplay','Error\x20saving\x20game\x20results:','เกิดข้อผิดพลาดในการเข้าร่วมเกม','join','\x22,\x20','active','ลบโปรเจคสำเร็จแล้ว','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','text-indigo-800','short_answer','viewBox','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20from\x20link:','student-team-selection-view','Error\x20loading\x20user\x20preferences:','\x20รายการ...','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','globalCompositeOperation','.space-y-1.pl-4','AI\x20request\x20was\x20blocked.\x20Reason:\x20','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','ตรีโกณมิติ','projectId','setAttributeNS','numQuestions','quiz-leaderboard-table-body','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','parseFromString','transform','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','Could\x20not\x20fetch\x20reference\x20file:','lastIndexOf','game-start-quiz-id','move-quiz-modal','พบ\x20Team\x20Quiz!','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','focus','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','geq','bg-black/10','additional-file-shortcuts-modal','createElement','isConfidenceScoringEnabled','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','from','API\x20Error\x20Body:','download','\x22\x20name=\x22question','isNormalTopic','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.move-shortcut-item','-\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','เปิด\x20(จับเวลา)','<tr>','projectSort','confirm-game-start-modal','comparison-chart','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','removeItem','</tbody></table>','ระบบสมการเชิงเส้นสองตัวแปร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-quiz-btn','parallel-shortcut-container','</td>','Error\x20in\x20handleApiCall:','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','passing-score-input','<p\x20class=\x22','Error\x20starting\x20game:','(ก่อนเรียน)','strength-weakness-analysis-container','comparison-individual-content','\x22\x20สำเร็จ!','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','score-distribution-chart','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ยืนยันการกระทำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','export-pdf-btn','.linkedQuizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','\x22\x20class=\x22pin-project-btn\x20','.shortcut-list-item:not(.opacity-50)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','Failed\x20to\x20kick\x20player\x20','indexOf','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','live-player-list','toString','onclick','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','Error\x20processing\x20file\x20shortcut\x20click:','cancel-game-start-btn','\x5cdiv','#math-topics-checkbox-container\x20input:checked','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','reduce','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','เลือกและบันทึก','student-progress-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','sync-player-list','cdot','สมการลอการิทึม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20quiz\x20edits:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-options','คะแนนเต็ม','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','warn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','tan','NUMBER','text-yellow-300','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','กำลังสแกนหาแบบทดสอบเก่า...','การกระจายและการจัดหมู่','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','ระยะเวลา\x20(นาที):','.file-shortcut-btn','admin-password-modal','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bank-quiz-list','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ยกเลิกการเชื่อมโยงสำเร็จ','Blueprint\x201','\x22\x20class=\x22color-palette-btn\x20','abs','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','goto-next-question-btn','currentTarget','hasOwnProperty','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','ตัวแปรและนิพจน์','isDefault','ไม่พบข้อมูลโปรเจค','.highlighter-color-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','bg-black/20',':</span><span>','undo-btn','update-old-quizzes-btn','.generate-easy-version-btn','bp-modal-difficulty-level-select','generate-from-link-btn','bg-green-200\x20text-green-800','not_generated','ดอทโปรดักต์\x20(dot)','lastAnswerCorrect','teacherSuggestions','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','file-default-2','transparent','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x22\x20data-name=\x22','stepByStepExamples','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointerdown','เกิดข้อผิดพลาดในการเปลี่ยนสี','พบข้อสอบ\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','เส้นจำนวน','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','answers','change','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perseverance','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','index','add-custom-math-topic-btn','.game-start-btn','Error\x20showing\x20quiz\x20detail\x20view:','กำลังเตรียมไฟล์...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','ถูก','true_false','\x20\x20\x20-\x20คำตอบ:\x20','$1\x20\x5cfrac','select','wasConfident','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label></div>','getTextContent','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงรี','หัวข้อที่สร้างเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','แบบทดสอบ:\x20','.quiz-status-btn','blueprint-project-manager-view','correctAnswer','student-progress-content','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','เพิ่มปุ่มลัดใหม่','idealAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','afterend','isScored','.delete-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านและเตรียมไฟล์...','.pointsLastQuestion','add-file-shortcut-tab-btn','text-blue-800','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','player-count','gain','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','input[name=\x22team_player\x22]:checked','export-leaderboard-pdf-btn','ระยะจากจุดถึงเส้นตรง','.ai-fix-formula-btn','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','<div>','quizMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','random','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','Error\x20committing\x20score\x20updates:','.bp-open-topic-bank-btn','readAsArrayBuffer','ไม่พบข้อมูลหัวข้อที่จะบันทึก','q-image-container-','.rename-quiz-btn','กำลังสร้างบทเรียน:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a---\x0a','values','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','.move-quiz-btn','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','confirm-not-confident','image/png','onkeydown','\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','checkAnswer','หน่วยมวล/น้ำหนักและการแปลง','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','comparison-individual-tab','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทฤษฎีบทพีทาโกรัสและการประยุกต์','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','Error\x20saving\x20parallel\x20shortcut:','pointer-events-none','mean','empty','file-shortcut-editor-modal','leaderboard-quiz-tab-btn','เกิดข้อผิดพลาดในการส่งคำตอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','interesting-stats-container','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','globalSettings','ไม่พบข้อมูลข้อสอบหลังเรียน','length','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','mouse','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','style','catch','Error\x20adding\x20students:','ไม่มีคำอธิบาย','tab_','รากที่สองและที่สาม','cancel-delete-btn','ไม่มี','commonMistakes','จากเนื้อหาต่อไปนี้:\x20\x22','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','แผนภาพกล่อง\x20(box\x20plot)','findIndex','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x20คู่\x20','องค์ประกอบของฟังก์ชัน','.isScored','Error\x20saving\x20to\x20question\x20bank:','map','keys','score','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','Error\x20generating\x20lesson\x20plan:','keydown','ไม่ผ่าน','ตั้งเวลา\x20(เปิด)','confirm-delete-btn','questionStatus','ไฟล์ลัด\x201','.delete-hidden-shortcut-btn','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','Error\x20generating\x20worksheet:','live-game','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','เรขาคณิต','คำถามถัดไป','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','isFinished','additional-parallel-shortcuts-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','memory','จุด\x20เส้น\x20ระนาบ','.sort-indicator','toDataURL','(ไม่มีชื่อ)','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','complexityValue','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','math-topics-checkbox-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','.edit-quiz-btn','live-race','topics','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','outerHTML','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20จาก\x20','Error\x20deleting\x20shortcut:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','.regenerate-question-editor-btn','cancel-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stdDev','กำลังดึงไฟล์อ้างอิงจากลิงก์...','text-red-900','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','ข้อต่อไป','dblclick','error','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isStarred','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','presentation-scratchpad-btn','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','dataset','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-link-quiz-btn','.topic-name-input','save-blueprint-as-project-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คะแนนเฉลี่ย','imageCode','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','highlighter-tool-btn','display','fadeStartTime','\x20ข้อ\x20','\x20/\x20','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','question',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','http://www.w3.org/2000/svg','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','.delete-hidden-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','กรุณาพิมพ์คำตอบของกลุ่ม','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','เกิดข้อผิดพลาด:\x20','screen','สอบปกติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','SAFETY','#ffffff','</tr>','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','ฟังก์ชันกำลังสองและกราฟ','pointContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','แก้ไขสูตรคณิตศาสตร์\x20','lesson-view-content','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','underline','</a>','shortcut-editor-modal','สู้ๆ\x20ลองอีกครั้งนะ','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','endsWith','input[name=\x22question_single\x22]:checked','Error\x20generating\x20from\x20parallel\x20test\x20file:',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','scratchpad-canvas','#6366F1','รายการนี้','postTScore','-options','API\x20call\x20failed','file-shortcut-container','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','add-parallel-shortcut-tab-btn','add-from-global-bank-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','Error\x20updating\x20project\x20color:','quiz-results-view','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','พอใช้','Team\x20Quiz','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','resize','\x20คะแนน\x20','AI\x20Formula\x20Fix\x20Error:','pathname','quiz-start-time','bg-green-200','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','analyze-strengths-btn','ARRAY','.cancel-edit-topic-btn','เส้นรอบรูป','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','มัธยฐาน','Failed\x20to\x20get\x20standardized\x20topic:','desc','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x5csqrt{$1}','overflowY','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','answered','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','timer-duration-container','<div\x20class=\x22answer-space\x22></div>','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','countdown-display','การจัดหมู่\x20(Combination)','ค่าสัมบูรณ์','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','start-game-btn','สรุปผลการวิเคราะห์:\x5cn','highlighter-size-slider','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','filter','bp-modal-num-questions','contains','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentMode','input[type=\x22radio\x22][value=\x22','promptFeedback','ปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','ความสัมพันธ์ของมุม','student-quiz-leaderboard-table-body','กิจกรรมสิ้นสุดลงแล้ว','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','behavior-log-tab-btn','raw','bp-modal-passing-score-input','.project-card-container.opacity-50','modal-shuffle-select','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','lesson-view-modal','คะแนน','perQuestionStats','getElementById','confidenceMode','results-table','.edit-question-btn','จำนวนเต็มลบ','global-quiz-count','deg','blueprintShortcuts','parallel-test-input-area','PERSEVERANCE','generated','อินเวอร์สของเมทริกซ์','bp-modal-include-images-checkbox','\x22><p\x20class=\x22font-semibold\x22>','add','border-indigo-500\x20text-indigo-600','cancel-blueprint-projects-btn','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getScreenCTM','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','badges','เปลี่ยนชื่อแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','.color-palette-popup','false','additional-shortcuts-modal','handleGenerateAndShowLesson','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','ค่าเฉลี่ย','blueprint-input-area','activeGameSession','list','จำนวนเชิงซ้อน\x20(เสริม)','shortcut-name-input','scratchpad-header','ลิมิต','export-word-btn','choices_only','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','submission-status-chart','ควรปรับปรุง','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','Error\x20renaming\x20quiz:','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','list-view-btn','scores-tab-btn','ส่วนเบี่ยงเบนมาตรฐาน','คำถามดิบ:\x20\x22','line-through\x20text-red-700','ชนิดของข้อมูลและการเก็บข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','matching','.verification-result-editor','.tab-name-display','หลังเรียน','stringify','Error\x20toggling\x20pin\x20status:','tabId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','ยังไม่สร้าง','ผ่าน','answerText','file-topics-list','</select>','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','.group','minHeight','text-green-800','responses.','onblur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','touchmove','add-student-btn','.delete-file-shortcut-tab-btn','.ai-content\x20h3','student-quiz-leaderboard-tab','shuffle-setting-select','rename-quiz-input','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','function','enable-passcode-checkbox','onchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalQuestions','project-id-display','confidence-mode-select','modal-timer-mode-select','.topic-name-display','กลุ่ม:\x20','text-red-500\x20hover:text-red-700','removeChild','\x20\x0a\x20\x20\x20\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','close-game-final-btn','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','timerMode','lesson-view-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','explanation','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exitFullscreen','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','presentation-explanation','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','correctResponse','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','instructions','players','grid','parallel-shortcut-tabs-nav','รูปสี่เหลี่ยมและสมบัติ','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','สลับไปโหมดนักเรียน','trail-tool-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual-blueprint-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointermove','\x22\x20data-quiz-id=\x22','endTime','cancel-move-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preventDefault','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','back-to-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นำแบบทดสอบออกจากคลังนี้แล้ว','highlighter-size-value','thead','.answered','bg-gray-200\x20text-gray-700','สเกลและแผนที่','.delete-svg-btn','bg-green-200\x20text-green-900','msExitFullscreen','circle','```json','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','.save-custom-topic-btn','toISOString','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','contentEditable','scrollX','order','comeback_king','center','Error\x20submitting\x20group\x20answer:','additional-shortcuts-list','student-passcode-input','results-table-container','[data-topic-id]','border-indigo-400\x20ring-2\x20ring-indigo-200','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','wheel','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','show-in-student-dashboard-checkbox','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','postScore','dragstart','สอบซ่อม','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','Error\x20moving\x20quiz:','parent','Error\x20saving\x20submission:','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','quiz-results-table-body','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','perfect_score','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','COMEBACK_KING','\x20to\x20blueprint\x20topic\x20','parallel-default-2','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','NEGATIVE_INFINITY','Error\x20starting\x20sync\x20game:','handleGeneratePracticeTest','input[type=\x22text\x22]','min','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','shortcutTabs','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','modal-results-display-select','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','.topic-actions-edit','file-default-','confirm-bulk-quiz-settings-btn','ส่วนเบี่ยงเบนเฉลี่ย','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','manage','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','table','Failed\x20to\x20get\x20hint:','.admin-try-quiz-list-btn','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','math-topic-search-input','\x20ข้อ...','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','Error\x20joining\x20sync\x20game:','presentation-ai-result','fill','lessonPlan','totalPoints','global-activity-quiz-list','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเอกสารการส่งงานของ\x20','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','force-math-checkbox','API\x20call\x20failed\x20with\x20status:\x20','input[type=\x22radio\x22]:checked','generationConfig','submit-group-answer-btn','เกิดข้อผิดพลาดในการลบแบบทดสอบ','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','.tab-name-input','Error\x20saving\x20lesson\x20to\x20project:','selected-answer-index-hidden','ไม่สามารถโหลดคลังข้อสอบได้','ดีเทอร์มิแนนต์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','7meOZEL','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','Error\x20analyzing\x20blueprint\x20topics:','text-gray-700','\x22\x20จำนวน\x20','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20รายการ\x20สำเร็จ!','post-test','students','quiz-bank-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','project-detail','cancel-shortcut-edit-btn','fa-dumbbell\x20text-gray-700','right','mouseleave','schedule','confirmation-message','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20rendering\x20student\x20progress:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','toFixed','querySelectorAll','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','100px','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','trail','includes','Error\x20starting\x20live\x20race:','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','players.','entries','lastAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','\x20รายการสำเร็จ!','project-passcode-modal','1:274192258111:web:4120c9118229b5644dd48a','substring','จำนวนและการดำเนินการ','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container[data-id]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','.start-presentation-list-btn','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','Error\x20confirming\x20players:','text-indigo-600','.scratchpad-content-wrapper','Error\x20processing\x20parallel\x20shortcut\x20click:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sync-short-answer-input','class','กรุณาสร้างบทเรียนก่อน','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','frac','</div></div>','Test\x20Blueprint','.quiz-settings-btn','preTScore','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','export-lesson-to-pdf-btn','แบบปรนัย\x204\x20ตัวเลือก','text','bulk-results-display-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','message','Failed\x20to\x20end\x20group\x20mode\x20game:','#26890c','open','createElementNS','\x22\x20data-target-tab-id=\x22','start-live-race-generated-btn','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','string','questions_only','Error\x20saving\x20user\x20preference:','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกิดข้อผิดพลาดในการสร้างใบงาน','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<h1></h1>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','worksheet-topic-input','text-green-600','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','timer-bar','submissions','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','fa-user-astronaut\x20text-blue-700','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','-tab-content','.project-card-container','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','number','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','hint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','responseSchema','key','border-green-700','#000000','touches','การปัดเศษและประมาณค่า','manage-tab','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.start-game-btn','text-blue-700','unshift','default','ความคล้ายของรูป','.export-pdf-list-btn','การยืนยันตัวตนล้มเหลว','str','จัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','<div\x20class=\x22mb-3\x20topic-category\x22>','mousemove','.delete-parallel-shortcut-tab-btn','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','.mb-6.p-4','pen-tools-group','กรุณาเลือกคำตอบก่อนครับ','generated-quiz-container','correctAnswerIndex','ค่าความจริง/ตารางค่าความจริง','แก้ไขหัวข้อสำเร็จ','กรุณาเลือกโปรเจคที่ต้องการบันทึก','mousedown','shortcuts','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','กฎของไซน์','default-2','quiz-results','[data-topic-container-id]','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','</span></div>','cancel-file-shortcut-edit-btn','clientY','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>',',\x20r=','student-initial-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-timer-duration-label','keyup','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','gameData','click','scrollIntoView','.file-topic-selection-btn','ผู้เชี่ยวชาญ','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','short','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','เกิดข้อผิดพลาดในการติดดาว','fill_in_with_choices','correct','text-green-700','\x20(p=','#E5E7EB','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','เพิ่ม\x20','confidence-input-','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','pdf','\x22\x20name=\x22confidence','Error\x20pairing\x20quizzes:','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','student-name-selection-view','.bp-delete-topic-btn','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','เกิดข้อผิดพลาดในการปักหมุด','jspdf','ใช่\x20/\x20ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการจับคู่','.bp-game-btn','quiz-generation-area','text-purple-600','การคูณทศนิยม','เกิดข้อผิดพลาด','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','questionId','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','.ideal-answer-input','uid','close-lesson-plan-modal-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','Error\x20verifying\x20answers:','cos','linkedQuizIds','student-progress','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','/questionBank','text-green-600\x20font-bold','attempts','Copy\x20command\x20failed','subTopic','application/pdf','no-projects-msg','shuffledQuiz','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','\x5cneq','.remove-file-shortcut-from-tab-btn','.edit-hidden-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pow','ไม่พบข้อมูลผู้ใช้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Authentication\x20failed:','parallel-shortcut-url-input','toLocaleString','การวัด','การหารทศนิยม','cancel-rename-quiz-btn','สร้างแล้ว','student-view','แบบทดสอบนี้ปิดใช้งานอยู่','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','STRING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','opacity-50','Error\x20listening\x20for\x20student\x20profiles:','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','log','smooth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','application/json','setItem','การแยกตัวประกอบ','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','getBoundingClientRect','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','end-team-quiz-btn','shouldSaveResults','การบวก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getContext','#10B981','comparison','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','บันทึกผลการเล่นเกมของ\x20','เพิ่มปุ่มลัดจากไฟล์ใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกสถานะ','dashboardConfig','file-shortcut-modal-title','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','bulk-confidence-scoring-checkbox','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','%PDF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คุณแน่ใจว่าต้องการลบแท็บนี้?','Error\x20displaying\x20blueprint\x20project:','/public/data/quizzes','.question-editor-item[data-q-index=\x22','ไม่มีผู้ตอบตัวเลือกนี้','scores-tab-content','quiz-id-input','description','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','FileReader\x20error:','dim-overlay','\x20ครั้ง)</span></td>','bg-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','<div\x20class=\x22space-y-4\x22>','.confidence-choice-btn','all','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','สมการค่าสัมบูรณ์','getItem','topic','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20ก่อนสร้างเนื้อหาใดๆ\x20ให้อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20</div>','redo-btn','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MathJax\x20re-render\x20failed:','วงกลม:\x20สมการและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','exists','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bar','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','link-url-input','icon','<option>กำลังโหลดโปรเจค...</option>','per-question-options','\x20ชุด)</span>','<span\x20class=\x22font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','#results-table','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','สร้างชุดคำถามจับคู่','input','https://corsproxy.io/?','.file-shortcut-btn[data-id=\x22','AI\x20grading\x20failed:','blueprintUrl','live-submit-short-answer-btn','export-lesson-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fileShortcutsConfig','สำหรับหัวข้อ\x20\x27','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','กราฟฟังก์ชันตรีโกณ','max','close-comparison-modal-footer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','upperGroupNames','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','border-red-300\x20bg-red-50','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','fas\x20fa-user-edit','.delete-project-btn','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','close-comparison-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','แผนการสอน:\x20','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','global-quiz-search-input','bg-green-500','live-game-view','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','student-team-join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','parallel-shortcut-name-input','<i\x20class=\x22fas\x20fa-magic\x22></i>','pre-test','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','ตรวจคะแนนใหม่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','loader-text','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','):\x20','pointerup','modal-passing-score-input','export-image-btn','#open-additional-parallel-shortcuts-btn','.live-summary-tooltip.visible','Leaderboard\x20update\x20transaction\x20failed:\x20','แก้ไขปุ่มลัดจากไฟล์','ระบบเลขและค่าประจำหลัก','.copy-quiz-id-list-btn','none','behavior-log-container','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','<p\x20class=\x22text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','ทำคะแนนเต็มในการทำครั้งแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','bulk-loop-until-pass-checkbox','has','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','Error\x20during\x20class\x20analysis:','isArray','source_document.pdf','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด:**\x20เนื้อหาในส่วน\x20POINT\x20และ\x20MEMORY\x20ต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง:**\x20ตัวอย่างประกอบ\x20(blockquote)\x20ต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x20แต่ห้ามคัดลอกโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**ยึดตามปรัชญา\x20O-NET:**\x20เน้นการประยุกต์ใช้,\x20การคิดวิเคราะห์,\x20และการแก้ปัญหาหลายขั้นตอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-initial-btn','subTopics','bg-red-100\x20text-red-800','Error\x20listening\x20for\x20projects:','prev-question-btn',')\x22>','/studentProfiles','confirm-create-project-btn','timer-mode-select','text-red-300\x20hover:text-red-100','00:00','.project-card-container:not(.opacity-50)','Error\x20updating\x20quiz\x20settings:','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','end-game-btn','canvas','.ai-content\x20td','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','bg-amber-100\x20text-amber-800','_blank','แผนการสอน','shuffleSetting','parallel-shortcuts-loading-msg','timestamp','ไม่พบโปรเจคที่ต้องการลบ','scratchpad-clear-btn','getBBox','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','(^|[^\x5c\x5c])\x5cb','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','restore','bg-red-500\x20text-white\x20font-bold','approx','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','สร้างคำถามใหม่\x201\x20ข้อ\x20','status','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','bg-green-100','การลบเศษส่วน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','transformOrigin','\x20\x20\x20-\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','<div\x20class=\x22p-2\x20rounded-md\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','typesetPromise','ระยะเวลา\x20(วินาที):','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','text-red-600','per-question-timer-container','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','rgba(16,\x20185,\x20129,\x200.7)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','export-pdf-modal','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','กำลังอัปเดตแบบทดสอบ\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','globalAlpha','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','Sync\x20Mode','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substr','curriculum','parseInline','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','timerDuration','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','quiz-editor-modal','[data-topic-id=\x22','มุมพิเศษ\x2045°-45°-90°','members','loader','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','QUICK_THINKER','next-question-timed-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','lowerGroupNames','bg-yellow-100','select-all-topics-btn','team-player-status-grid','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','bp-add-topic-btn','รอเปิด','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','position','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','show-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.png','className','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','หมดเวลา!\x20กำลังส่งคำตอบ...','quick_thinker','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','applicationHTML','msRequestFullscreen','แก้ไขชื่อหัวข้อย่อย:','name','points','การคูณ','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','groups.','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','(คัดลอก)\x20','fromCharCode','get','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ตอบถูกทุกข้อในแบบทดสอบนี้','quiz-search-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','normal','scratchpad-question','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','data:application/vnd.ms-word;charset=utf-8,','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','bp-reference-file-url','authed_project_','showRankings','แบบเติมคำตอบ','สถิติและความน่าจะเป็น','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','onerror','STOP','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านไฟล์\x20Test\x20Blueprint...','questions','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','hasPerfectScoreBonus','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','null','274192258111','sara','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','119cDyOXv','adaptive-quiz-checkbox','ปุ่มลัดทั้งหมด','.lastAnswerCorrect','Failed\x20to\x20resume\x20game\x20session:','กฎบวกและกฎคูณ','referenceFileUrl','practiceProblems','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','file-default-1','ค่าคลาดเคลื่อนของการวัด','\x22\x20data-topic=\x22','option','<div\x20class=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-type-select','scrollHeight','Error\x20regenerating\x20question\x20in\x20editor:','Error\x20editing\x20topic:','เกิดข้อผิดพลาดในการนำผู้เล่นออก','save-quiz-edits-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','projectOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','manual-create-blueprint-btn','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20(ID:\x20','scratchpad-close-btn','.edit-hidden-shortcut-btn','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','handleGenerateQuizFromBlueprintTopic','ส่งคำตอบ','.subTopic','submit','.pen-color-btn','ไม่ระบุ','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','text-red-700\x20bg-red-100','files','end-sync-game-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','_opt0\x22>ใช่</label></div>','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.\x20แต่ละข้อมี\x20','ceil','options','content','ร้อยละพื้นฐาน','สุดยอด!\x20ตอบถูกทุกข้อ','เซียนสมองไว','save-visibility-settings-btn','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','cancel-test-btn','parentElement','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','show_results_and_answers','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','.edit-custom-topic-btn','ชื่อโปรเจคห้ามว่าง','qIndex','visibilityState','add-parallel-shortcut-btn','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.bp-view-analysis-btn','\x20ตัวเลือก)','passcode-input-container','-tab','พีชคณิตและฟังก์ชัน','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ไม่ใช่','additional-parallel-shortcuts-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','0\x200','topic-quiz-bank-modal','default-','\x27\x20ในหัวข้อ\x20\x27','.score','difficultyValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','live-short-answer-input','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','.use-hidden-file-shortcut-btn','analytics-tab-content','every','setFont','previousElementSibling','cancel-bp-settings-btn','lesson-plan-modal','results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','Error\x20deleting\x20project:','trim','file-shortcut-tabs-nav','earned-badges-container','fullscreenchange','parse','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','workerSrc','target','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','ส่งแล้ว','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','topic-input','red','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','cloneNode','Error\x20saving\x20shortcut\x20config:','results-quiz-id-display','/public/data/learnedFixes','text-blue-700\x20bg-blue-100','สามเหลี่ยม\x20(ชนิด/สมบัติ)','multiply','deltaY','รูปแบบการให้เหตุผล','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','.lastAnswerIndex','.group\x5c/dropdown-parallel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','กำลังสร้างรูปภาพ...','กรุณาเลือกโปรเจคปลายทาง','\x22\x20ออกจากคลังนี้?','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','.pin-project-btn','interesting-stats-wrapper','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','.shortcut-list-item','เลือกโปรเจคเพื่อบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x20ชุดสำเร็จ!','bulk-confidence-mode-container','1670410FRsXkl','\x20ชุด)','preScore','กำลังสร้างแบบทดสอบ:\x20','lesson-loader-text','confidence-scoring-toggle','questionText','2-digit','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5ccdot','back-to-project-btn','ตอบถูก\x203\x20ข้อติดต่อกัน','ไม่สามารถเริ่มเกมได้','\x20link(s)\x20for\x20quiz\x20ID:\x20','confident','button[type=\x22submit\x22]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','reference.pdf','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','ต้นฉบับ\x202','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','bg-green-500\x20hover:bg-green-600\x20text-white','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','พื้นที่วงกลม/ส่วนของวงกลม','student','#open-additional-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','ดอกเบี้ยทบต้น','opacity','cursor','mode','.remove-shortcut-from-tab-btn','bg-green-50','Remedial\x20quiz\x20generation\x20failed:','.generate-content-btn','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','timer-duration-input','.move-file-shortcut-menu-btn','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','beforeend','จำนวนคละ','เศษส่วน\x20(ย่อ/ขยาย)','ยอดเยี่ยม','OBJECT','print','\x22...','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','.parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-project-list','file-shortcut-name-input','<tr\x20class=\x22','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','AI\x20did\x20not\x20return\x20any\x20content.','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','back-from-results-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','playerName','ทำคะแนนได้เกินครึ่ง','อยู่ในสาระการเรียนรู้ใด:','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','.lastAnswerValue','Error\x20fetching\x20quiz\x20settings:','fileShortcutTabs','ไฟล์ทั้งหมด','start-quiz-btn','topicName','.quiz-bank-try-btn','เกิดข้อผิดพลาดในการบันทึกลำดับ','textarea[name=\x22question_single\x22]','suggestedAnswer','.csv','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','generate-from-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','ความเป็นอิสระของเหตุการณ์','</option>','fullscreenElement','\x20|\x20','shortcut-tabs-nav','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','\x5ctimes','quiz-bank-count','text-emerald-900','13010yvQwXI','.view-bp-lesson-btn','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สลับไปโหมดผู้ควบคุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','numPages','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#F3E8FF','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','#FEF3C7','Error\x20updating\x20pin\x20status:','wakeLock','Error\x20updating\x20sort\x20preference:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','button','ปรับเพิ่ม/ลดเป็นร้อยละ','กรุณาตั้งชื่อแท็บใหม่:','ฟังก์ชันผกผัน','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ผู้ควบคุม\x20(ทดสอบ)','attemptNumber','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','Error\x20deleting\x20submission:','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','แบบทดสอบซ่อมเสริม','custom-math-topic-input','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','กลุ่มของคุณ','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','/public/data/teamQuizzes','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcutIds','ผลรวมอนุกรม\x20(Σ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','_opt','quiz-end-time','.bp-live-btn','responses','สมการตรีโกณมิติ','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','...','justification','input[type=\x22checkbox\x22]','เรขาคณิตวิเคราะห์','source-over','/public/data/projects','Failed\x20to\x20generate\x20practice\x20test:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','2589644KYiBlD','team','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','</td></tr>','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','confidence-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Blueprint\x202','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','overallGroups','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','ฟังก์ชันสัมพัทธ์\x20(rational)','project-sort-select','_opt0\x22\x20name=\x22question','mouseup','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','.topic-selection-btn','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','keyConcepts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','insertAdjacentHTML','\x20from\x20sync\x20game:','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','Error\x20saving\x20manual\x20blueprint\x20project:','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','manual_release','</div>\x0a</div>\x0a','อนุพันธ์:\x20กฎพื้นฐาน','ปริพันธ์ไม่จำกัด','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','.file-shortcut-tab-btn','selectedTopicNames','pointercancel','generate-from-blueprint-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','test','ไฮเพอร์โบลา','.move-shortcut-dropdown','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','qType','อนุพันธ์:\x20กฎลูกโซ่','9741714ogoyso','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','project-search-input','first_try_ace','ไม่พบข้อมูลเกม','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','starred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','behavior-log','back-to-dashboard-from-results-btn','admin','#e21b3c','.parallel-quiz-btn','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ห.ร.ม.\x20(GCD)','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','Error\x20fetching\x20lesson\x20content:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','tooltipTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','bank-input-area','grabbing','results-tab','answer-grid-container','lesson-loader','student-project-leaderboard-content','move-quiz-project-select','<p>','Error\x20generating\x20hybrid\x20quiz:','ศูนย์','sum','shortcut-blueprint-url-input','dragover','เงินงวด\x20(อนุกรมเงินงวด)','questionIndex','latestSubmittedAt','set','btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Error\x20linking\x20quizzes:','การแจกแจงปกติและ\x20z-score','candidates','editor-quiz-topic','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','เวกเตอร์และเมทริกซ์\x20(เสริม)','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pinned-items','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','stroke','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','confirm-team-players-btn','duration-300','ไม่พบไฟล์\x20Test\x20Blueprint','อัตราการเปลี่ยนแปลงทันที','project-dashboard-view','ร้อยละประยุกต์','PERFECT_SCORE','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','project-name-input','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','leaderboard-quiz','สาระที่\x201','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','เกิดข้อผิดพลาดในการโหลดโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อสมการเชิงเส้น','การนับ','sync-submit-btn','Error\x20verifying\x20answers\x20in\x20editor:','bg-green-100\x20text-green-800','.bp-try-btn','ไม่สามารถโหลดข้อมูลอันดับได้','lower_group_count','original-mode-checkbox','เพิ่มหัวข้อ\x20\x22','ไม่ใช่\x20/\x20ผิด','font-bold\x20text-green-700','behaviorLog','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/syncGames','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','live-options-container','Error\x20generating\x20teaching\x20content:','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','leaderboard','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hint','fa-shield-alt\x20text-gray-600','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','student-quiz-topic','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','cancel-manual-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','save-shortcut-btn','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','blob','finishReason','confidence-scoring-description','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','now','<p><strong>คำตอบที่แนะนำ:</strong>\x20','export-compact-pdf-btn','grid-view-btn','submittedAt','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','ดอกเบี้ยอย่างง่าย','category','\x20จุดเรียบร้อยแล้ว','POST','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','.txt','\x22\x20สำเร็จ','timer-container','กำลังสร้างแบบทดสอบ\x20\x22','summaryContent','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','Error\x20during\x20deep\x20delete:','comparison-overall-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','.open-bp-project-btn','<p\x20class=\x22font-bold\x20text-sm\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','bg-red-100','ก่อนเรียน','กรุณาใส่ชื่อโปรเจค','localeCompare','bulk-quiz-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','auto','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','แก้ระบบสมการด้วยเมทริกซ์','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','name_desc','.use-hidden-shortcut-btn','<p\x20class=\x22text-xl\x22>','วงกลม:\x20คอร์ดและเส้นสัมผัส','projectName','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','manual-bp-grade-level','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','data','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปหลายเหลี่ยมและมุมภายใน','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','readAsDataURL','.bp-create-onet-quiz-btn','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','shortcutId','ai-quiz-app-aefee.firebasestorage.app','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','ปริมาตร/ความจุและการแปลง','.move-parallel-shortcut-dropdown','close-additional-file-shortcuts-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tool','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','สร้างคำถามแบบเติมคำในช่องว่าง','check-answer-btn','</div><div\x20class=\x22space-y-2\x22>','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','quiz-leaderboard-table','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','pop','setTransform','Error\x20toggling\x20star\x20status:','modal-confidence-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','inactive','bg-red-200\x20text-red-800','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','</div>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x20</div>\x0a\x20\x20\x20\x20','\x20ตัวเลือก.\x20','คัดลอกรหัสแล้ว!','team-quiz-topic','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','.doc','ไม่สามารถสร้างโปรเจคได้','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','innerHTML','forEach','Error\x20saving\x20quiz:','results-display-select','start-presentation-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','save-parallel-shortcut-btn','shortcutOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','closePath','project-passcode-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20adding\x20topic:',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','</p><p><strong>เฉลย:</strong>\x20','left','Error\x20deleting\x20student:','slice','เกมสิ้นสุดลงแล้ว','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','fileShortcutOrder','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','reference-pdf-upload','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','\x20in\x20all\x20blueprint\x20projects.','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','textContent','link-tab','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','results-tab-content','back-to-home-manual-release','</span>','rgba(239,\x2068,\x2068,\x200.7)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20preparing\x20content\x20quiz:','preTestId','\x20mr-2\x22></i>','eraser-tool-btn','scratchpad-controls','neq','backgroundColor','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-6\x22>','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','groups','\x22.\x20','width','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','.edit-parallel-shortcut-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','อัปเดตพฤติกรรมสำหรับ\x20','projectView','onloadend','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','result','BOOLEAN','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','lesson-plan-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-container','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','scores','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','element','การแปลงรูปอัตลักษณ์','.answers','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','loopUntilPass','-options\x22>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','Error\x20deleting\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','admin-password-input','Invalid\x20response\x20structure\x20from\x20AI.','ฟังก์ชันยกกำลัง','classStrengths','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','half_mark_status','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','passcode-error-msg','student-project-leaderboard-tab','quiz-leaderboard-table-container','startedAt','/preferences/main','fa-bolt\x20text-blue-500','modal-adaptive-quiz-checkbox','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','Error\x20duplicating\x20quiz:','badgesCount','rgba(79,\x2070,\x20229,\x200.8)','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','leaderboard-tab','เส้นตรง:\x20รูปแบบสมการ','การบวกทศนิยม','\x5cfrac{$1}{$2}','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','quiz-editor-questions-container','กรุณาเลือกคำตอบ','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','answerValue','confirm-confident','<li>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','solution','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','AI\x20แก้ไขคำถามสำเร็จ!','.delete-file-shortcut-btn','ความชันเส้นสัมผัส','แผนภาพเวนน์','file-shortcut_','podium','clearRect','bank-tab','flex\x20flex-col\x20gap-2','รอ...','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','delete','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','ปริมาตรรูปทรงสามมิติ','url','separate-by-content-from-file-checkbox','admin-dashboard','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','$$$1$','fa-crown\x20text-yellow-500','document','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','blueprint.pdf','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','whole_quiz','question-complexity-select','ai-quiz-generator-v3','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','fill_in_no_choices','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบโปรเจค','multiple_choice','/public/data/quizzes/','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5csum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isCorrect','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcuts-loading-msg','ต้นฉบับ\x201','#FEE2E2','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','มุมและการวัดมุม','สร้างแบบทดสอบปรนัย','global-activity-modal','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ความคาดหมาย\x20(Expected\x20value)','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','text-white','presentation-modal','<option\x20value=\x22\x22>กำลังโหลด...</option>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','medium','lineJoin','/public/data/blueprintProjects','ไม่สามารถโหลดรายการโปรเจคได้','shortcut_','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topic-bank-subtopic-name','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','Error\x20deleting\x20all\x20students:','th-TH','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-status-modal','reset-project-order-btn','</li>','topic-bank-list','/submissions','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','admin-testing','.toggle-actions-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','s;\x22\x20title=\x22','แท็บใหม่','.use-hidden-parallel-shortcut-btn','artifacts/','border-gray-200','px,\x20','sin','file-shortcut-url-input','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','link-topic-input','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','offsetWidth','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','practice-topic-btn','.pdf','parallel-test-upload-input','add-shortcut-btn','.draggable-text','both','text-tab','ตรวจทานเฉลยเสร็จสิ้น!','modal-confidence-scoring-checkbox','true','ondragstart','lobby','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','student-join-game-view','.answeredCurrentQuestion','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','teachingContent','confidence_single','prod','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','#student-project-leaderboard-content\x20thead','สร้างใหม่','specialist','answeredCurrentQuestion','bp-project-title','translate','sqrt','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','confirm-passcode-btn','highlighter-tools-group','firstScore','\x22\x20value=\x22false\x22\x20','เกี่ยวกับหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการสร้าง:\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','mixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','quiz-settings-modal','update','/public/data/projects/','.bp-edit-topic-btn','next-sync-question-btn','พิมพ์ตอบ','\x20คะแนน</span></div>','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.quiz-bank-move-btn','title','บทเรียนเรื่อง:\x20','generate-from-parallel-test-btn','\x22\x5cn','request','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','สมการเหตุผล\x20(rational)','.delete-submission-btn','touchend','lineWidth','decode','modal-loop-until-pass-checkbox','export-leaderboard-excel-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','ความน่าจะเป็นแบบมีเงื่อนไข','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','blockReason','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','q-explanation-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','value','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','<div\x20class=\x22my-2\x22>','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','gradeLevel','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','สมมาตร\x20(แกน/จุด)','/public/data/liveGames','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','text/html','clientX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','export-tutor-pdf-btn','project-title','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','.quiz-bank-present-btn','\x22>ใช่</p>','dragend','rgba(255,\x20255,\x200,\x200.5)','$1\x5c%','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','webkitExitFullscreen','</p><div>','close-student-rankings-btn','passcode','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn','include-images-checkbox','topic-tab','overline','จำนวนเต็มบวก','topicId','#results-table\x20thead\x20tr','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','border-red-700','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','<option\x20value=\x22','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','.flex.justify-between.items-center','retake-quiz-loop-btn','game-pin-input','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','touch','sync-manage-players-btn','<button\x20data-id=\x22','memoryContent','manual-bp-project-name','text/plain','file.txt','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','Error\x20saving\x20file\x20shortcut:','currentQuestionIndex','parallel-shortcut-modal-title','shuffle','classWeaknesses','parallelShortcutOrder','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','sync-player-management','generate-from-file-btn','Error\x20unpairing\x20quizzes:','การคูณเศษส่วน','Error\x20saving\x20shortcut:','far\x20fa-star','ข้อที่\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','N/A','confirm-manual-bp-btn','verify-answers-editor-btn','.start-live-race-btn','.question-editor-item','passingScore','eraser','passcode-prompt-message','cancel-team-selection-btn','point','358040PCoQem','fix\x20the\x20option','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','ค่าเสื่อมราคา','ยืนยันการจับคู่','analytics-tab-btn','application','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','getElementsByTagName','จำนวนข้อ:','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','contents','/public/data/blueprintProjects/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textarea','ความเท่ากันทุกประการของสามเหลี่ยม','พื้นที่ผิวรูปทรงสามมิติ','body','Error\x20fetching\x20projects\x20for\x20move:','.move-file-shortcut-dropdown','difficulty-level-select','moveTo','พื้นที่สามเหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','drop','ตารางความถี่','user-id-display','ระยะทางและจุดกึ่งกลาง','link-input-area','<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','thead\x20.sortable-header','open-sync-scratchpad-btn','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','ไม่ได้ตอบ','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','shortcut-reference-url-input','.ai-content\x20li','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','fa-fire\x20text-orange-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','bg-blue-500\x20hover:bg-blue-600\x20text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27,\x20\x27','createdBy','per-question-text','answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','remove','</div></div></div>','\x22><i\x20class=\x22fas\x20','txt','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','เปลี่ยนชื่อโปรเจคสำเร็จ','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','การประยุกต์เวกเตอร์พื้นฐาน','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','file-topics-list-container','<i\x20class=\x22fas\x20fa-save\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','พบ\x20Sync\x20Game!','ผู้ไม่ยอมแพ้','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','.group\x5c/dropdown-file','delete-svg-btn','เกิดข้อผิดพลาดในการบันทึก','checked','leaderboard-quiz-tab-content','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','parallel-test-tab','hover:bg-indigo-100','next-drill-btn','summary','.move-file-shortcut-item','<br>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20joining\x20activity:','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','comparison-modal','showInStudentDashboard','bulk-confidence-mode-select','Error\x20saving\x20visibility\x20settings:','.bp-create-topic-quiz-btn','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','.parallel-shortcut-tab-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','cancel-global-activity-btn','answering','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','Error\x20generating\x20easy\x20version\x20quiz:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','.presentation-option','ไฟล์ลัด\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','bg-yellow-50','destroy','จับคู่แบบทดสอบสำเร็จ!','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.pair-quiz-btn','Error\x20in\x20generating\x20from\x20files:','อัปเดตแบบทดสอบเก่า\x20','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','scheduled','size','editable-text-','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','classList','div[data-question-index=\x22','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','lesson-plan-title','กำลังดึงข้อมูลจากลิงก์...','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22question','Error\x20updating\x20quiz\x20status:','questionType','add-file-shortcut-btn','[*]','กำลังอ่านไฟล์อ้างอิง...','textarea[name=\x22team_answer\x22]','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','reference.txt','bg-gray-50','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','highlighter','binom','close-additional-shortcuts-btn','bg-emerald-100','การแจกแจงทวินาม\x20(พื้นฐาน)','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','createdAt','date_asc','padStart','bg-red-50','student-name-select','applicationData','some','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','user','คัดลอกไม่สำเร็จ','offset','show_pass_fail_only','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','p-2\x20bg-black/10\x20rounded-md','studentName','ไม่พบข้อมูลแบบทดสอบ','.delete-shortcut-btn','disabled\x20bg-gray-400\x20cursor-not-allowed','ใช่','join-live-game-btn','</p></div>','default-1','rgba(79,\x2070,\x20229,\x201)','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','isPinned','topic_','\x5cle','td,\x20th','checkbox','write','gamePin','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-choice-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','</span></td>','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','ondragover','สร้างคำถามแบบใช่/ไม่ใช่','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','/lessons','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','answer-counter','fas\x20fa-bookmark','pairedQuizId','สรุปผลสุดท้าย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-num-choices','ยกเลิกการจับคู่สำเร็จ','file-topic-input','select[name=\x22question_single\x22]','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','webkitRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','ย้ายแบบทดสอบสำเร็จ','save','standardTopic','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','undefined','reference_onet.pdf','results-quiz-title','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20','helvetica','ฟังก์ชันเชิงเส้นและกราฟ','close-additional-parallel-shortcuts-btn','dfrac','pinnedProjects','No\x20player\x20data\x20to\x20save.','.ideal-answer-input,\x20.correct-response-input','visible','devicePixelRatio','beginPath','getAttributeNS','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','.auto-resize-textarea'];_0x45be=function(){return _0xa1cc8d;};return _0x45be();}async function handleMoveQuiz(_0x50d4b4){const _0x14c895=_0x3076df;actionTargetId=_0x50d4b4;const _0x2ee897=document[_0x14c895(0x48d)]('move-quiz-project-select');_0x2ee897['innerHTML']=_0x14c895(0x6bb),moveQuizModal[_0x14c895(0xbbb)][_0x14c895(0xb7d)](_0x14c895(0xc6c));try{const _0x2ee132=collection(db,'artifacts/'+appId+_0x14c895(0x8bc)),_0x273cb2=await getDocs(_0x2ee132),_0x380f45=_0x273cb2[_0x14c895(0x9a1)][_0x14c895(0x3c9)](_0x2c4559=>({'id':_0x2c4559['id'],..._0x2c4559[_0x14c895(0x995)]()})),_0x2e53ab=_0x380f45[_0x14c895(0x475)](_0x5cf780=>_0x5cf780['id']!==currentProjectId);if(_0x2e53ab[_0x14c895(0x3b0)]===0x0){_0x2ee897[_0x14c895(0x9c8)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x14c895(0x48d)]('confirm-move-quiz-btn')['disabled']=!![];return;}_0x2ee897[_0x14c895(0x9c8)]=_0x2e53ab[_0x14c895(0x3c9)](_0x530fce=>_0x14c895(0xb17)+_0x530fce['id']+'\x22>'+_0x530fce[_0x14c895(0x98e)]+'</option>')[_0x14c895(0x28d)](''),document[_0x14c895(0x48d)](_0x14c895(0x22f))['disabled']=![];}catch(_0x267e08){console[_0x14c895(0x405)](_0x14c895(0xb54),_0x267e08),showMessage(_0x14c895(0xa8b)),moveQuizModal[_0x14c895(0xbbb)][_0x14c895(0x49b)](_0x14c895(0xc6c));}}async function confirmMoveQuiz(){const _0x58987b=_0x3076df,_0x4128ec=document['getElementById'](_0x58987b(0x90a))['value'];if(!_0x4128ec){showMessage(_0x58987b(0x820));return;}if(!actionTargetId)return;const _0x3c394f=doc(db,_0x58987b(0xaa1)+appId+_0x58987b(0x695),actionTargetId);try{await updateDoc(_0x3c394f,{'projectId':_0x4128ec}),showMessage(_0x58987b(0xc0f)),moveQuizModal[_0x58987b(0xbbb)][_0x58987b(0x49b)](_0x58987b(0xc6c)),actionTargetId=null;}catch(_0x2db2fd){console[_0x58987b(0x405)](_0x58987b(0x53a),_0x2db2fd),showMessage(_0x58987b(0xd02));}}async function handleQuizSettings(_0x17367e){const _0x323606=_0x3076df;actionTargetId=_0x17367e;const _0x8648e=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x17367e);try{const _0x3b49e0=await getDoc(_0x8648e);if(_0x3b49e0[_0x323606(0x6b3)]()){const _0x57ff13=_0x3b49e0[_0x323606(0x995)](),_0x1838e3=_0x57ff13[_0x323606(0x1a6)]||{},_0x271d3d=_0x57ff13[_0x323606(0x796)][_0x323606(0x3b0)];document[_0x323606(0x48d)]('modal-shuffle-select')['value']=_0x1838e3['shuffle']||_0x323606(0x700),document[_0x323606(0x48d)](_0x323606(0x551))[_0x323606(0xaef)]=_0x1838e3[_0x323606(0x28a)]||_0x323606(0x7d8),document[_0x323606(0x48d)](_0x323606(0x4e8))[_0x323606(0xaef)]=_0x1838e3[_0x323606(0x4f2)]||_0x323606(0x700),document[_0x323606(0x48d)](_0x323606(0xd0e))[_0x323606(0xaef)]=_0x1838e3[_0x323606(0x752)]||0xa,document[_0x323606(0x48d)](_0x323606(0x6f8))[_0x323606(0xaef)]=_0x1838e3['passingScore']||Math['floor'](_0x271d3d/0x2),document[_0x323606(0x48d)]('modal-passing-score-input')[_0x323606(0x6cf)]=_0x271d3d,document['getElementById'](_0x323606(0xa35))['checked']=_0x1838e3[_0x323606(0xcd2)]||![],document[_0x323606(0x48d)](_0x323606(0xae5))[_0x323606(0xb91)]=_0x1838e3[_0x323606(0xa21)]||![];const _0x575de3=_0x1838e3['isConfidenceScoringEnabled']||![];document[_0x323606(0x48d)](_0x323606(0xab3))[_0x323606(0xb91)]=_0x575de3,document[_0x323606(0x48d)](_0x323606(0x9b4))[_0x323606(0xaef)]=_0x1838e3[_0x323606(0x48e)]||'checkbox';const _0x5e5557=document[_0x323606(0x48d)](_0x323606(0xcf0));_0x5e5557[_0x323606(0xbbb)]['toggle'](_0x323606(0xc6c),!_0x575de3),document[_0x323606(0x48d)](_0x323606(0x4e8))['dispatchEvent'](new Event(_0x323606(0x34f))),quizSettingsModal[_0x323606(0xbbb)][_0x323606(0xb7d)](_0x323606(0xc6c));}else showMessage(_0x323606(0xbe2));}catch(_0x5d8f31){console[_0x323606(0x405)](_0x323606(0x873),_0x5d8f31),showMessage(_0x323606(0x91f));}}async function confirmQuizSettings(){const _0x14c4f8=_0x3076df;if(!actionTargetId)return;const _0x4e1ed0=doc(db,_0x14c4f8(0xaa1)+appId+_0x14c4f8(0x695),actionTargetId),_0x2d3faf={'shuffle':document['getElementById'](_0x14c4f8(0x487))[_0x14c4f8(0xaef)],'resultsDisplay':document['getElementById'](_0x14c4f8(0x551))[_0x14c4f8(0xaef)],'timerMode':document[_0x14c4f8(0x48d)](_0x14c4f8(0x4e8))[_0x14c4f8(0xaef)],'timerDuration':parseInt(document[_0x14c4f8(0x48d)](_0x14c4f8(0xd0e))[_0x14c4f8(0xaef)])||0xa,'passingScore':parseInt(document['getElementById'](_0x14c4f8(0x6f8))[_0x14c4f8(0xaef)])||0x0,'isAdaptive':document[_0x14c4f8(0x48d)]('modal-adaptive-quiz-checkbox')[_0x14c4f8(0xb91)],'loopUntilPass':document[_0x14c4f8(0x48d)](_0x14c4f8(0xae5))[_0x14c4f8(0xb91)],'isConfidenceScoringEnabled':document[_0x14c4f8(0x48d)](_0x14c4f8(0xab3))[_0x14c4f8(0xb91)],'confidenceMode':document[_0x14c4f8(0x48d)](_0x14c4f8(0x9b4))[_0x14c4f8(0xaef)]};try{await updateDoc(_0x4e1ed0,{'settings':_0x2d3faf}),showMessage(_0x14c4f8(0x252)),quizSettingsModal[_0x14c4f8(0xbbb)]['add'](_0x14c4f8(0xc6c)),actionTargetId=null;}catch(_0x6e55e){console['error'](_0x14c4f8(0x71b),_0x6e55e),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x568936=_0x3076df;if(!actionTargetId)return;const _0x3bc166=doc(db,_0x568936(0xaa1)+appId+_0x568936(0x695),actionTargetId),_0x59ecb0=document[_0x568936(0x381)]('input[name=\x22status-option\x22]:checked');if(!_0x59ecb0){showMessage(_0x568936(0x68a));return;}const _0x2b1808=_0x59ecb0[_0x568936(0xaef)];let _0x1b2419={};if(_0x2b1808===_0x568936(0x28f)||_0x2b1808===_0x568936(0x9b6))_0x1b2419={'status':_0x2b1808,'startTime':null,'endTime':null};else{if(_0x2b1808===_0x568936(0x592)){const _0x4edf36=document[_0x568936(0x48d)](_0x568936(0x456))[_0x568936(0xaef)],_0x2e5929=document[_0x568936(0x48d)](_0x568936(0x8b2))[_0x568936(0xaef)];if(!_0x4edf36&&!_0x2e5929){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x1b2419={'status':_0x568936(0xbb7),'startTime':_0x4edf36?new Date(_0x4edf36)['toISOString']():null,'endTime':_0x2e5929?new Date(_0x2e5929)['toISOString']():null};}}try{await updateDoc(_0x3bc166,_0x1b2419),showMessage(_0x568936(0x26a)),quizStatusModal[_0x568936(0xbbb)][_0x568936(0x49b)](_0x568936(0xc6c)),actionTargetId=null;}catch(_0x183382){console[_0x568936(0x405)](_0x568936(0xbc2),_0x183382),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x510c79){const _0x4766ac=_0x3076df,_0xd896cb=collection(db,_0x4766ac(0xaa1)+appId+_0x4766ac(0xad3)+_0x510c79+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0xd896cb,_0x55a0fb=>{const _0x3a2fc7=_0x4766ac,_0x1795d3=_0x55a0fb[_0x3a2fc7(0x9a1)][_0x3a2fc7(0x3c9)](_0x3d6d9a=>_0x3d6d9a[_0x3a2fc7(0x995)]());renderLeaderboard(_0x1795d3,_0x3a2fc7(0xc30));},_0x440c39=>{const _0x417620=_0x4766ac;console[_0x417620(0x405)](_0x417620(0x673),_0x440c39),document[_0x417620(0x48d)]('leaderboard-table-body')['innerHTML']=_0x417620(0xc7b);});}function renderLeaderboard(_0x491aa3,_0x454e75){const _0x3e910c=_0x3076df,_0x3bd41a=document[_0x3e910c(0x48d)](_0x454e75);if(!_0x491aa3||_0x491aa3[_0x3e910c(0x3b0)]===0x0){_0x3bd41a['innerHTML']=_0x3e910c(0xc93);return;}_0x491aa3[_0x3e910c(0xa41)]((_0x5e78a2,_0x5c82b0)=>{const _0x2a97f9=_0x3e910c,_0x5a69fb=(_0x5c82b0[_0x2a97f9(0x568)]||0x0)-(_0x5e78a2[_0x2a97f9(0x568)]||0x0);if(_0x5a69fb!==0x0)return _0x5a69fb;const _0x19d110=(_0x5c82b0[_0x2a97f9(0xa38)]?.[_0x2a97f9(0xac2)]||0x0)-(_0x5e78a2[_0x2a97f9(0xa38)]?.[_0x2a97f9(0xac2)]||0x0);if(_0x19d110!==0x0)return _0x19d110;const _0x354104=(_0x5c82b0[_0x2a97f9(0xa38)]?.[_0x2a97f9(0x8ee)]||0x0)-(_0x5e78a2[_0x2a97f9(0xa38)]?.[_0x2a97f9(0x8ee)]||0x0);if(_0x354104!==0x0)return _0x354104;const _0x54ecba=(_0x5c82b0[_0x2a97f9(0xa38)]?.['perfect_score']||0x0)-(_0x5e78a2['badgesCount']?.['perfect_score']||0x0);if(_0x54ecba!==0x0)return _0x54ecba;const _0x17f691=(_0x5c82b0[_0x2a97f9(0xa38)]?.['quick_thinker']||0x0)-(_0x5e78a2[_0x2a97f9(0xa38)]?.[_0x2a97f9(0x76f)]||0x0);if(_0x17f691!==0x0)return _0x17f691;return _0x5e78a2[_0x2a97f9(0xbe1)]['localeCompare'](_0x5c82b0[_0x2a97f9(0xbe1)],'th');});let _0x5d1ee1='';_0x491aa3['forEach']((_0xadf746,_0x246427)=>{const _0x58d969=_0x3e910c,_0x35d913=_0x246427+0x1,_0x2fe251=_0xadf746[_0x58d969(0xa38)]||{};let _0x26725b='';const _0x1b310b=[_0x58d969(0xac2),_0x58d969(0x541),_0x58d969(0x8ee),_0x58d969(0x76f)];_0x1b310b[_0x58d969(0x9c9)](_0x335666=>{const _0xfa8d3d=_0x58d969;if(_0x2fe251[_0x335666]>0x0){const _0x2187e5=Object['values'](BADGES)[_0xfa8d3d(0xcf4)](_0x5c89f5=>_0x5c89f5['id']===_0x335666);_0x2187e5&&(_0x335666==='specialist'?_0x26725b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x2187e5[_0xfa8d3d(0x774)]+_0xfa8d3d(0x58b)+_0x2187e5['icon']+_0xfa8d3d(0xd04):_0x26725b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x2187e5['name']+'\x20('+_0x2fe251[_0x335666]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x2187e5[_0xfa8d3d(0x6ba)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x2fe251[_0x335666]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x5d1ee1+=_0x58d969(0x2e8)+_0x35d913+_0x58d969(0xce4)+_0xadf746[_0x58d969(0xbe1)]+_0x58d969(0x739)+(_0xadf746[_0x58d969(0x568)]||0x0)+_0x58d969(0xce4)+(_0x26725b||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3bd41a[_0x3e910c(0x9c8)]=_0x5d1ee1;}function displayLoopScreen(_0x7c8742,_0x4a7f5f,_0x4d5216){const _0x4f30b6=_0x3076df;let _0x3da309='';_0x4d5216!==_0x4f30b6(0xbde)&&(_0x3da309='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x7c8742+_0x4f30b6(0x41b)+_0x4a7f5f+'</strong></p>');const _0x579d92=_0x4f30b6(0x8af)+_0x3da309+_0x4f30b6(0x543);studentResultArea[_0x4f30b6(0x9c8)]=_0x579d92,studentResultArea[_0x4f30b6(0xbbb)][_0x4f30b6(0xb7d)](_0x4f30b6(0xc6c)),studentQuizArea['classList']['add'](_0x4f30b6(0xc6c)),document['getElementById']('retake-quiz-loop-btn')[_0x4f30b6(0x331)](_0x4f30b6(0x623),()=>{const _0x2d126d=_0x4f30b6;studentResultArea['classList'][_0x2d126d(0x49b)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x3abaf7,_0x23423d,_0x1d03c3){const _0x1d8a2c=_0x3076df,_0x3fcb75=document[_0x1d8a2c(0x48d)](_0x1d03c3),_0x5e6fc7=_0x1d03c3==='student-quiz-leaderboard-table-body',_0x13f63b=_0x23423d[_0x1d8a2c(0x796)][_0x1d8a2c(0x3b0)],_0x42aba7=document[_0x1d8a2c(0x48d)](_0x1d03c3)['closest'](_0x1d8a2c(0x55c));if(_0x42aba7&&!_0x5e6fc7){const _0x344232=_0x42aba7['querySelector'](_0x1d8a2c(0x518));_0x344232[_0x1d8a2c(0x9c8)]=_0x1d8a2c(0x1c5);}if(!_0x3abaf7||_0x3abaf7[_0x1d8a2c(0x3b0)]===0x0){_0x3fcb75[_0x1d8a2c(0x9c8)]=_0x1d8a2c(0xd26)+(_0x5e6fc7?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x931c7b=[..._0x3abaf7];_0x931c7b[_0x1d8a2c(0xa41)]((_0x55e3c4,_0x42afb0)=>{const _0xe1970d=_0x1d8a2c;let _0x1c3af8,_0x3c7ddd;switch(quizLeaderboardSortBy){case _0xe1970d(0xbe1):_0x1c3af8=_0x55e3c4['studentName']||'',_0x3c7ddd=_0x42afb0[_0xe1970d(0xbe1)]||'';return quizLeaderboardSortOrder==='asc'?_0x1c3af8[_0xe1970d(0x980)](_0x3c7ddd,'th'):_0x3c7ddd[_0xe1970d(0x980)](_0x1c3af8,'th');case _0xe1970d(0x775):_0x1c3af8=_0x55e3c4[_0xe1970d(0x775)]||0x0,_0x3c7ddd=_0x42afb0[_0xe1970d(0x775)]||0x0;break;case _0xe1970d(0x656):_0x1c3af8=_0x55e3c4['attempts']?.[_0xe1970d(0x3b0)]||0x1,_0x3c7ddd=_0x42afb0[_0xe1970d(0x656)]?.[_0xe1970d(0x3b0)]||0x1;break;case _0xe1970d(0x913):_0x1c3af8=new Date(_0x55e3c4['latestSubmittedAt']),_0x3c7ddd=new Date(_0x42afb0['latestSubmittedAt']);break;case _0xe1970d(0xc4d):default:_0x1c3af8=_0x55e3c4['bestScore'],_0x3c7ddd=_0x42afb0[_0xe1970d(0xc4d)];break;}if(_0x1c3af8<_0x3c7ddd)return quizLeaderboardSortOrder===_0xe1970d(0xcc0)?-0x1:0x1;if(_0x1c3af8>_0x3c7ddd)return quizLeaderboardSortOrder===_0xe1970d(0xcc0)?0x1:-0x1;return 0x0;});const _0x1eec62=_0x23423d['isRemedial']===!![],_0x4b99be=_0x23423d['settings']?.['passingScore']??-0x1;let _0x27e6f6='';_0x931c7b[_0x1d8a2c(0x9c9)]((_0xf120e8,_0x1e492d)=>{const _0x1a1792=_0x1d8a2c,_0x475ba2=_0x1e492d+0x1;let _0x44fc31=_0x1a1792(0x36c);if(_0x1eec62||_0x4b99be!==-0x1){let _0x3e8889=_0x1eec62?_0xf120e8[_0x1a1792(0xc4d)]===_0x13f63b:_0xf120e8['bestScore']>=_0x4b99be;const _0x44488d=_0x3e8889?_0x1a1792(0x93d):'bg-red-100\x20text-red-800',_0x1397ad=_0x3e8889?_0x1a1792(0x4cb):_0x1a1792(0x3cf);_0x44fc31=_0x1a1792(0x66f)+_0x44488d+'\x22>'+_0x1397ad+'</span></td>';}const _0x41c0e7=_0xf120e8[_0x1a1792(0x656)][_0xf120e8[_0x1a1792(0x656)][_0x1a1792(0x3b0)]-0x1],_0x295610=(_0x41c0e7[_0x1a1792(0x4a1)]||[])[_0x1a1792(0x3c9)](_0x2bf031=>{const _0x310bc0=_0x1a1792,_0x452cfc=Object[_0x310bc0(0x391)](BADGES)[_0x310bc0(0xcf4)](_0xb62b02=>_0xb62b02['id']===_0x2bf031);return _0x452cfc?'<span\x20title=\x22'+_0x452cfc[_0x310bc0(0x774)]+_0x310bc0(0xb7f)+_0x452cfc['icon']+_0x310bc0(0x20e):'';})[_0x1a1792(0x28d)]('');_0x27e6f6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x475ba2+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0xf120e8['studentName']+_0x1a1792(0x74c)+_0xf120e8[_0x1a1792(0xc4d)]+_0x1a1792(0x41b)+_0x13f63b+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44fc31+_0x1a1792(0x628)+(_0xf120e8[_0x1a1792(0x775)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5e6fc7?'':_0x1a1792(0x8ec)+(_0xf120e8[_0x1a1792(0x656)]?.[_0x1a1792(0x3b0)]||0x1)+_0x1a1792(0x2d2))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5e6fc7?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0xf120e8[_0x1a1792(0x913)])[_0x1a1792(0x666)](_0x1a1792(0xa92))+'</td>')+_0x1a1792(0xa42)+(_0x295610||'-')+_0x1a1792(0x54d);}),_0x3fcb75[_0x1d8a2c(0x9c8)]=_0x27e6f6,_0x42aba7&&!_0x5e6fc7&&_0x42aba7['querySelectorAll'](_0x1d8a2c(0xb61))[_0x1d8a2c(0x9c9)](_0x1679d3=>{const _0x1d9210=_0x1d8a2c,_0x18ed75=_0x1679d3[_0x1d9210(0x381)](_0x1d9210(0x3e3));if(_0x18ed75)_0x18ed75[_0x1d9210(0xb7d)]();_0x1679d3[_0x1d9210(0x40c)][_0x1d9210(0xa41)]===quizLeaderboardSortBy&&(_0x1679d3['innerHTML']+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x1d9210(0xcc0)?'▲':'▼')+_0x1d9210(0x9f3));});}async function handleDeleteSubmission(_0x11bc47){const _0x3b596f=_0x3076df;if(!currentQuizData||!currentQuizData['id']||!_0x11bc47){showMessage(_0x3b596f(0xd19));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x11bc47+_0x3b596f(0x63d),async()=>{const _0x573dac=_0x3b596f,_0x4283e4=currentQuizData['id'],_0x27db1d=doc(db,'artifacts/'+appId+_0x573dac(0xa74)+_0x4283e4+_0x573dac(0xa99),_0x11bc47);try{await deleteDoc(_0x27db1d),showMessage(_0x573dac(0x247)+_0x11bc47+'\x20สำเร็จ');}catch(_0xc66e21){console['error'](_0x573dac(0x8a2),_0xc66e21),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x1e9ac6=_0x3076df,_0x439da2=document[_0x1e9ac6(0x48d)](_0x1e9ac6(0x699)),_0xf755e9=_0x439da2[_0x1e9ac6(0xaef)][_0x1e9ac6(0x7fe)]();if(!_0xf755e9){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x1e9ac6(0x1dc)]=!![],loadQuizBtn[_0x1e9ac6(0x9c8)]=_0x1e9ac6(0xae7);try{const _0x1301c0=doc(db,'artifacts/'+appId+_0x1e9ac6(0x695),_0xf755e9),_0x57a078=await getDoc(_0x1301c0);if(!_0x57a078[_0x1e9ac6(0x6b3)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x57a078['id'],..._0x57a078[_0x1e9ac6(0x995)]()};const _0x3c9f8a=currentQuizData[_0x1e9ac6(0x732)]||_0x1e9ac6(0x28f),_0x2f66dd=new Date();if(_0x3c9f8a===_0x1e9ac6(0x9b6)){showMessage(_0x1e9ac6(0x66c));return;}if(_0x3c9f8a===_0x1e9ac6(0xbb7)){const _0x378792=currentQuizData[_0x1e9ac6(0xc83)]?new Date(currentQuizData[_0x1e9ac6(0xc83)]):null,_0x59ff36=currentQuizData[_0x1e9ac6(0x50f)]?new Date(currentQuizData['endTime']):null;if(_0x378792&&_0x2f66dd<_0x378792){showMessage(_0x1e9ac6(0x2f6)+_0x378792[_0x1e9ac6(0x666)]('th-TH',{'hour12':![]}));return;}if(_0x59ff36&&_0x2f66dd>_0x59ff36){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0xd112c6=currentQuizData[_0x1e9ac6(0x2a3)];currentProjectId=_0xd112c6;const _0x114434=doc(db,_0x1e9ac6(0xaa1)+appId+_0x1e9ac6(0x8bc),_0xd112c6),_0x1fb9d3=await getDoc(_0x114434);if(!_0x1fb9d3[_0x1e9ac6(0x6b3)]()){showMessage(_0x1e9ac6(0x8a9));return;}const _0x38bd22=_0x1fb9d3[_0x1e9ac6(0x995)]();currentStudentProjectData=_0x38bd22,displayStudentNameSelector(_0x38bd22['students'],currentQuizData[_0x1e9ac6(0x6a9)]);}catch(_0x358d21){console[_0x1e9ac6(0x405)]('Error\x20loading\x20quiz\x20for\x20student:',_0x358d21),showMessage(_0x1e9ac6(0xbba));}finally{loadQuizBtn['disabled']=![],loadQuizBtn['innerHTML']=_0x1e9ac6(0x46c);}}async function handleJoinLiveGame(){const _0x46b3fa=_0x3076df,_0x1b4ffd=document[_0x46b3fa(0x48d)](_0x46b3fa(0xb1b)),_0x10e521=document[_0x46b3fa(0x48d)](_0x46b3fa(0x1e8)),_0x40caee=document[_0x46b3fa(0x48d)]('confirm-join-game-btn'),_0x3600d9=_0x1b4ffd[_0x46b3fa(0xaef)]['trim'](),_0x45b6e2=_0x10e521[_0x46b3fa(0xaef)][_0x46b3fa(0x7fe)]();if(!_0x3600d9||!_0x45b6e2){showMessage(_0x46b3fa(0xbcc));return;}_0x40caee[_0x46b3fa(0x1dc)]=!![],_0x40caee['innerHTML']=_0x46b3fa(0x780);try{const _0x2849e5=collection(db,_0x46b3fa(0xaa1)+appId+_0x46b3fa(0xaf6)),_0x57e21f=query(_0x2849e5,where(_0x46b3fa(0xbf2),'==',_0x3600d9),where(_0x46b3fa(0x732),'in',[_0x46b3fa(0xab6),_0x46b3fa(0x41d)])),_0x38ab39=await getDocs(_0x57e21f);if(_0x38ab39[_0x46b3fa(0x3a7)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x1b1228=_0x38ab39[_0x46b3fa(0x9a1)][0x0],_0x2331f4=_0x1b1228[_0x46b3fa(0x995)]();currentLiveGameId=_0x1b1228['id'];const _0x1c03e2=_0x2331f4[_0x46b3fa(0xccd)],_0x41a296=doc(db,'artifacts/'+appId+_0x46b3fa(0x695),_0x1c03e2),_0x2d7ea0=await getDoc(_0x41a296);if(!_0x2d7ea0[_0x46b3fa(0x6b3)]()){showMessage(_0x46b3fa(0x44a));return;}currentQuizData={'id':_0x2d7ea0['id'],..._0x2d7ea0[_0x46b3fa(0x995)]()};if(_0x2331f4['players']&&_0x2331f4['players'][_0x45b6e2]){const _0x4cb7b3=_0x2331f4[_0x46b3fa(0x501)][_0x45b6e2];if(_0x4cb7b3['status']===_0x46b3fa(0x9b6)){_0x40caee[_0x46b3fa(0x9c8)]=_0x46b3fa(0xa08);const _0x2be82f={};_0x2be82f[_0x46b3fa(0x5a2)+_0x45b6e2+'.status']=_0x46b3fa(0x28f),await updateDoc(doc(db,_0x46b3fa(0xaa1)+appId+_0x46b3fa(0xaf6),currentLiveGameId),_0x2be82f),showView('live-game'),currentStudentName=_0x45b6e2,listenForLiveGameUpdates();return;}else{showMessage(_0x46b3fa(0x1ed));return;}}if(_0x2331f4[_0x46b3fa(0x732)]!==_0x46b3fa(0xab6)){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x40caee['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0xce83fc={};_0xce83fc[_0x46b3fa(0x5a2)+_0x45b6e2]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x46b3fa(0x28f)},await updateDoc(doc(db,_0x46b3fa(0xaa1)+appId+_0x46b3fa(0xaf6),currentLiveGameId),_0xce83fc),currentStudentName=_0x45b6e2,listenForLiveGameUpdates();}catch(_0x5ee863){console['error']('Error\x20joining\x20live\x20game:',_0x5ee863),showMessage(_0x46b3fa(0x28c));}finally{_0x40caee[_0x46b3fa(0x1dc)]=![],_0x40caee[_0x46b3fa(0x9c8)]=_0x46b3fa(0xa1a);}}function displayStudentNameSelector(_0x1e0504,_0x93c75c){const _0x39f943=_0x3076df,_0x2ce03f=document[_0x39f943(0x48d)](_0x39f943(0xbd7));document[_0x39f943(0x48d)](_0x39f943(0x953))[_0x39f943(0x9ea)]=_0x39f943(0x366)+_0x93c75c,!_0x1e0504||_0x1e0504[_0x39f943(0x3b0)]===0x0?(_0x2ce03f[_0x39f943(0x9c8)]=_0x39f943(0x57f),startQuizBtn[_0x39f943(0x1dc)]=!![]):(_0x2ce03f[_0x39f943(0x9c8)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x1e0504['forEach'](_0x1f2bf0=>{const _0x2070a1=_0x39f943,_0x4c6d6b=document[_0x2070a1(0x2b7)](_0x2070a1(0x7aa));_0x4c6d6b[_0x2070a1(0xaef)]=_0x1f2bf0,_0x4c6d6b['textContent']=_0x1f2bf0,_0x2ce03f[_0x2070a1(0xcff)](_0x4c6d6b);}),startQuizBtn['disabled']=![]),studentInitialView[_0x39f943(0xbbb)][_0x39f943(0x49b)](_0x39f943(0xc6c)),studentNameSelectionView[_0x39f943(0xbbb)][_0x39f943(0xb7d)](_0x39f943(0xc6c));}function shuffleArray(_0x2d09f8){const _0x5c6e44=_0x3076df;for(let _0x3f330a=_0x2d09f8[_0x5c6e44(0x3b0)]-0x1;_0x3f330a>0x0;_0x3f330a--){const _0x3dc537=Math['floor'](Math[_0x5c6e44(0x386)]()*(_0x3f330a+0x1));[_0x2d09f8[_0x3f330a],_0x2d09f8[_0x3dc537]]=[_0x2d09f8[_0x3dc537],_0x2d09f8[_0x3f330a]];}}function getShuffledQuiz(_0x21bff4){const _0x5b2167=_0x3076df;let _0x586b95=JSON['parse'](JSON['stringify'](_0x21bff4));const _0x1d492e=_0x586b95[_0x5b2167(0x1a6)]?.[_0x5b2167(0xb29)]||_0x5b2167(0x700);if(_0x1d492e===_0x5b2167(0x700))return _0x586b95;return(_0x1d492e===_0x5b2167(0x5d9)||_0x1d492e===_0x5b2167(0xab0))&&shuffleArray(_0x586b95[_0x5b2167(0x796)]),(_0x1d492e===_0x5b2167(0x4b2)||_0x1d492e==='both')&&_0x586b95[_0x5b2167(0x796)][_0x5b2167(0x9c9)](_0x3fa31e=>{const _0x25b609=_0x5b2167,_0x3ffc69=_0x3fa31e[_0x25b609(0xbc3)]||_0x586b95[_0x25b609(0xcb9)];if(_0x3fa31e['options']){let _0x53e63e=_0x3fa31e[_0x25b609(0x7ce)][_0x25b609(0x3c9)]((_0x1088d7,_0x3c5cc8)=>({'text':_0x1088d7,'isCorrect':_0x3c5cc8===_0x3fa31e[_0x25b609(0x60b)]}));shuffleArray(_0x53e63e),_0x3fa31e[_0x25b609(0x7ce)]=_0x53e63e[_0x25b609(0x3c9)](_0x4d3463=>_0x4d3463[_0x25b609(0x5ca)]),_0x3fa31e[_0x25b609(0x60b)]=_0x53e63e[_0x25b609(0x3c0)](_0x1d6b92=>_0x1d6b92[_0x25b609(0xa78)]);}_0x3ffc69==='matching_item'&&_0x3fa31e[_0x25b609(0x1cf)]&&shuffleArray(_0x3fa31e[_0x25b609(0x1cf)]);}),_0x586b95;}function displayQuizForStudent(_0x54a520){const _0x1cde12=_0x3076df;studentQuizArea['classList'][_0x1cde12(0xb7d)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x54a520);currentMode!==_0x1cde12(0xa9b)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x1cde12(0x331)](_0x1cde12(0x801),handleFullscreenChange),document['addEventListener'](_0x1cde12(0xcfa),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x1cde12(0x604),resetDimTimer),window['addEventListener'](_0x1cde12(0x60f),resetDimTimer),window[_0x1cde12(0x331)](_0x1cde12(0xc49),resetDimTimer),window[_0x1cde12(0x331)](_0x1cde12(0x3ce),resetDimTimer),resetDimTimer());const _0x4f8b9f=currentDisplayedQuiz[_0x1cde12(0x1a6)]?.[_0x1cde12(0x4f2)]||_0x1cde12(0x700);if(_0x4f8b9f===_0x1cde12(0xa6c))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x1cde12(0x1a6)][_0x1cde12(0x752)]);else _0x4f8b9f==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0xa35417=_0x3076df,_0x16be2e=currentDisplayedQuiz[_0xa35417(0x1a6)]?.[_0xa35417(0x2b8)]===!![],_0x48a4b0=currentDisplayedQuiz[_0xa35417(0x1a6)]?.[_0xa35417(0x48e)]||'checkbox';let _0x12941e=_0xa35417(0x3ea)+currentDisplayedQuiz[_0xa35417(0x6a9)]+_0xa35417(0x946)+(currentMode===_0xa35417(0xa9b)?_0xa35417(0x7f2):'')+_0xa35417(0x81d);currentDisplayedQuiz[_0xa35417(0x796)][_0xa35417(0x9c9)]((_0xe139f8,_0x1675b5)=>{const _0x97ad12=_0xa35417,_0x24e892=_0xe139f8[_0x97ad12(0xbc3)]||currentDisplayedQuiz['quizType'];_0x12941e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x24e892===_0x97ad12(0xd01)){}else _0x12941e+=_0x97ad12(0x90b)+(_0x1675b5+0x1)+'.\x20'+(_0xe139f8[_0x97ad12(0x500)]||_0xe139f8[_0x97ad12(0x833)])+'</p>',_0xe139f8[_0x97ad12(0x415)]&&(_0x12941e+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xe139f8[_0x97ad12(0x415)]+_0x97ad12(0x9b9));_0x12941e+=_0x97ad12(0x9ac);switch(_0x24e892){case _0x97ad12(0x296):_0x12941e+=_0x97ad12(0xbc1)+_0x1675b5+_0x97ad12(0x8ca);break;case _0x97ad12(0x35a):_0x12941e+=_0x97ad12(0x22e)+_0x1675b5+_0x97ad12(0x8cf)+_0x1675b5+_0x97ad12(0x37b)+_0x1675b5+_0x97ad12(0x7ca),_0x12941e+=_0x97ad12(0x22e)+_0x1675b5+'_opt1\x22\x20name=\x22question'+_0x1675b5+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x1675b5+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x97ad12(0xd01):_0x12941e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+_0xe139f8['stem']+_0x97ad12(0x3c1)+_0x1675b5+_0x97ad12(0x362)+_0xe139f8[_0x97ad12(0x1cf)][_0x97ad12(0x3c9)](_0xab2341=>_0x97ad12(0xb17)+_0xab2341+'\x22>'+_0xab2341+_0x97ad12(0x881))[_0x97ad12(0x28d)]('')+_0x97ad12(0x306);break;default:_0x12941e+=_0xe139f8[_0x97ad12(0x7ce)][_0x97ad12(0x3c9)]((_0x3c0176,_0xb8da8f)=>_0x97ad12(0x73b)+_0x1675b5+'_opt'+_0xb8da8f+_0x97ad12(0x2be)+_0x1675b5+_0x97ad12(0xc9a)+_0xb8da8f+_0x97ad12(0x309)+_0x1675b5+_0x97ad12(0x8b1)+_0xb8da8f+'\x22>'+_0x3c0176+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x12941e+=_0x97ad12(0x9b9),_0x16be2e&&(_0x12941e+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x48a4b0===_0x97ad12(0xcd1)?_0x12941e+=_0x97ad12(0x4c9)+_0x1675b5+'\x22\x20name=\x22confidence'+_0x1675b5+_0x97ad12(0xb14)+_0x1675b5+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x1675b5+_0x97ad12(0xa00):_0x12941e+=_0x97ad12(0xb65)+_0x1675b5+_0x97ad12(0x638)+_0x1675b5+_0x97ad12(0xa36)+_0x1675b5+_0x97ad12(0x239),_0x12941e+=_0x97ad12(0x9b9)),_0x12941e+='</div>';}),_0x12941e+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x12941e+='</form>',studentQuizArea[_0xa35417(0x9c8)]=_0x12941e;if(currentMode==='admin-testing'){const _0x409819=document[_0xa35417(0x48d)]('cancel-test-btn');if(_0x409819)_0x409819['addEventListener'](_0xa35417(0x623),cancelAdminTest);}const _0x4ab208=document[_0xa35417(0x48d)](_0xa35417(0x201));_0x4ab208&&(_0x4ab208['addEventListener'](_0xa35417(0x7c1),handleSubmitQuiz),_0x4ab208[_0xa35417(0x331)](_0xa35417(0x623),_0x26a7b8=>{const _0x18b551=_0xa35417;if(_0x26a7b8[_0x18b551(0x805)][_0x18b551(0xbbb)][_0x18b551(0x477)](_0x18b551(0xbf7))){const _0x5be38c=_0x26a7b8[_0x18b551(0x805)],_0x5548b6=_0x5be38c[_0x18b551(0x40c)]['questionIndex'],_0x1a6234=_0x5be38c[_0x18b551(0x40c)][_0x18b551(0xaef)];document[_0x18b551(0x48d)](_0x18b551(0x635)+_0x5548b6)[_0x18b551(0xaef)]=_0x1a6234;const _0x2d7756=_0x5be38c['parentElement'];_0x2d7756[_0x18b551(0x599)](_0x18b551(0x6a4))[_0x18b551(0x9c9)](_0x1e2357=>_0x1e2357[_0x18b551(0xbbb)][_0x18b551(0xb7d)](_0x18b551(0x28f))),_0x5be38c[_0x18b551(0xbbb)][_0x18b551(0x49b)]('active');}}));if(window[_0xa35417(0x278)])window[_0xa35417(0x278)][_0xa35417(0x73c)]([studentQuizArea]);}async function handleSubmitQuiz(_0x17f542){const _0x10f3b8=_0x3076df;if(_0x17f542)_0x17f542[_0x10f3b8(0x512)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x297ecd=document[_0x10f3b8(0x48d)](_0x10f3b8(0x201));if(!_0x297ecd)return;const _0x15cd0e=currentDisplayedQuiz['settings']?.[_0x10f3b8(0x2b8)]===!![],_0x3bc8ee=currentDisplayedQuiz['settings']?.[_0x10f3b8(0x48e)]||'checkbox';if(_0x15cd0e&&_0x3bc8ee===_0x10f3b8(0xcd1)){let _0x4fee42=!![];for(let _0x17dae5=0x0;_0x17dae5<currentDisplayedQuiz[_0x10f3b8(0x796)]['length'];_0x17dae5++){const _0x3afd48=_0x297ecd[_0x10f3b8(0x381)]('#confidence-input-'+_0x17dae5);if(!_0x3afd48||_0x3afd48[_0x10f3b8(0xaef)]===''){_0x4fee42=![];break;}}if(!_0x4fee42){showMessage(_0x10f3b8(0x763));return;}}const _0x57003c=_0x297ecd[_0x10f3b8(0x381)](_0x10f3b8(0x83f)),_0xec401d=currentDisplayedQuiz[_0x10f3b8(0x796)][_0x10f3b8(0xbd9)](_0x10b65c=>_0x10b65c['questionType']===_0x10f3b8(0x296));_0x57003c&&(_0x57003c[_0x10f3b8(0x1dc)]=!![],_0x57003c[_0x10f3b8(0x9c8)]=_0xec401d?_0x10f3b8(0x9ce):'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x42c4cf=new FormData(_0x297ecd),_0x32cd5e=currentDisplayedQuiz[_0x10f3b8(0x796)][_0x10f3b8(0x3c9)]((_0x414d54,_0x12cc02)=>{const _0x272fff=_0x10f3b8,_0x5dcf79=_0x42c4cf[_0x272fff(0x77c)](_0x272fff(0x41d)+_0x12cc02);let _0x14e353;_0x3bc8ee===_0x272fff(0xcd1)?_0x14e353=_0x42c4cf[_0x272fff(0x77c)]('confidence'+_0x12cc02):_0x14e353=_0x42c4cf['get']('confidence'+_0x12cc02)==='on';let _0x27f83a=null;if(_0x5dcf79!==null&&_0x5dcf79!==undefined){const _0x528a2c=_0x414d54[_0x272fff(0xbc3)]||currentDisplayedQuiz[_0x272fff(0xcb9)];_0x528a2c===_0x272fff(0xa73)||_0x528a2c===_0x272fff(0xc8e)?_0x27f83a=parseInt(_0x5dcf79):_0x27f83a=_0x5dcf79;}return{'answer':_0x27f83a,'wasConfident':_0x14e353};}),_0x1be4a2=currentQuizData['id'],_0xcb5435=doc(db,_0x10f3b8(0xaa1)+appId+_0x10f3b8(0xa74)+_0x1be4a2+_0x10f3b8(0xa99),currentStudentName),_0x4a9245=await getDoc(_0xcb5435),_0x2ab302=_0x4a9245[_0x10f3b8(0x6b3)]()?_0x4a9245['data']():{},_0x233584=_0x2ab302['attempts']||[];await processAndSubmitAnswers(_0x32cd5e,_0x233584);}async function gradeShortAnswerWithAI(_0x445be3,_0x427518){const _0x2c9e9e=_0x3076df;if(!_0x445be3||!_0x427518)return![];try{const _0x5085fb=_0x2c9e9e(0x55f)+_0x445be3+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x427518+_0x2c9e9e(0xb8d),_0x2e406d={'contents':[{'role':_0x2c9e9e(0xbdb),'parts':[{'text':_0x5085fb}]}]},_0x55618a=_0x2c9e9e(0x886),_0x4c7173=_0x2c9e9e(0xce0)+_0x55618a,_0x59f64a=await fetch(_0x4c7173,{'method':_0x2c9e9e(0x96a),'headers':{'Content-Type':_0x2c9e9e(0x679)},'body':JSON[_0x2c9e9e(0x4c6)](_0x2e406d)});if(!_0x59f64a['ok'])throw new Error(_0x2c9e9e(0x445));const _0x21cc1b=await _0x59f64a[_0x2c9e9e(0xcd7)](),_0x127889=_0x21cc1b['candidates'][0x0][_0x2c9e9e(0x7cf)][_0x2c9e9e(0x219)][0x0]['text'][_0x2c9e9e(0x7fe)]()['toLowerCase']();return _0x127889===_0x2c9e9e(0xab4);}catch(_0x251cb8){return console[_0x2c9e9e(0x405)](_0x2c9e9e(0x6c6),_0x251cb8),![];}}async function processAndSubmitAnswers(_0x468f7d,_0x2141ba){const _0x4e1d8f=_0x3076df;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x4e1d8f(0x210)](_0x4e1d8f(0x801),handleFullscreenChange),document[_0x4e1d8f(0x210)](_0x4e1d8f(0xcfa),handleVisibilityChange);let _0x3f6302=0x0;const _0x488840=[],_0xb5bcfd=currentDisplayedQuiz[_0x4e1d8f(0x796)][_0x4e1d8f(0x3b0)];let _0x3f8bcd=0x0,_0x252cdc=[];const _0x362f25=currentDisplayedQuiz[_0x4e1d8f(0x796)];for(let _0x5e64b1=0x0;_0x5e64b1<_0x362f25[_0x4e1d8f(0x3b0)];_0x5e64b1++){const _0x5d9904=_0x362f25[_0x5e64b1],_0x443f97=_0x468f7d[_0x5e64b1],_0x19606f=_0x443f97?_0x443f97['answer']:null,_0x2aadc4=_0x443f97?_0x443f97[_0x4e1d8f(0x35e)]:null;let _0x143413=![],_0x57cddd=0x0;if(_0x19606f!==null&&_0x19606f!==''){const _0x1c0a66=_0x5d9904[_0x4e1d8f(0xbc3)]||currentDisplayedQuiz['quizType'];switch(_0x1c0a66){case'matching_item':_0x143413=_0x19606f===_0x5d9904[_0x4e1d8f(0x4fc)];break;case _0x4e1d8f(0x35a):const _0xc3576f=_0x19606f===!![]||_0x19606f===_0x4e1d8f(0xab4);_0x143413=_0xc3576f===_0x5d9904[_0x4e1d8f(0x369)];break;case _0x4e1d8f(0x296):_0x143413=await gradeShortAnswer(_0x19606f,_0x5d9904);break;case'multiple_choice':default:_0x143413=Number(_0x19606f)===_0x5d9904[_0x4e1d8f(0x60b)];break;}}if(currentDisplayedQuiz[_0x4e1d8f(0x1a6)]?.[_0x4e1d8f(0x2b8)]){const _0x1e4cbd=_0x443f97?_0x443f97[_0x4e1d8f(0x35e)]:null;if(_0x143413&&(_0x1e4cbd===!![]||_0x1e4cbd===_0x4e1d8f(0x83e)))_0x57cddd=0x2;else{if(_0x143413)_0x57cddd=0x1;else{if(!_0x143413&&(_0x1e4cbd===![]||_0x1e4cbd==='not_confident'||_0x1e4cbd===null))_0x57cddd=0x0;else!_0x143413&&(_0x1e4cbd===!![]||_0x1e4cbd==='confident')&&(_0x57cddd=-0x1);}}}else _0x57cddd=_0x143413?0x1:0x0;_0x3f6302+=_0x57cddd;if(_0x143413){_0x3f8bcd++;if(_0x3f8bcd===0x3)_0x252cdc[_0x4e1d8f(0x836)](BADGES[_0x4e1d8f(0x270)]['id']);}else _0x3f8bcd=0x0;let _0x525d4c=null;_0x5d9904[_0x4e1d8f(0x7ce)]&&_0x19606f!==null&&(_0x525d4c=_0x5d9904[_0x4e1d8f(0x7ce)][_0x19606f]),_0x488840['push']({'questionId':_0x5d9904['id'],'answer':_0x19606f,'answerText':_0x525d4c,'isCorrect':_0x143413,'wasConfident':_0x2aadc4,'pointsAwarded':_0x57cddd,'originalQuestionText':_0x5d9904[_0x4e1d8f(0x255)]||_0x5d9904[_0x4e1d8f(0x833)]});}const _0x31d83d=_0x488840[_0x4e1d8f(0x475)](_0x1b0466=>_0x1b0466['isCorrect'])['length'],_0x2aa86d=currentDisplayedQuiz[_0x4e1d8f(0x1a6)]?.['passingScore']??Math[_0x4e1d8f(0x230)](_0xb5bcfd/0x2);_0x31d83d===_0xb5bcfd&&_0xb5bcfd>0x0&&!currentDisplayedQuiz[_0x4e1d8f(0xc5e)]&&_0x252cdc[_0x4e1d8f(0x836)](BADGES[_0x4e1d8f(0x92d)]['id']);const _0x75b36f=currentDisplayedQuiz['settings']?.['timerMode'];if(_0x75b36f==='whole_quiz'&&quizStartTime){const _0x2d8b4d=(new Date()-quizStartTime)/0x3e8,_0x344d3b=currentDisplayedQuiz[_0x4e1d8f(0x1a6)][_0x4e1d8f(0x752)]*0x3c;_0x31d83d>=_0x2aa86d&&_0x2d8b4d<_0x344d3b/0x2&&_0x252cdc['push'](BADGES[_0x4e1d8f(0x75b)]['id']);}_0x2141ba[_0x4e1d8f(0x3b0)]===0x0&&_0x31d83d===_0xb5bcfd&&_0xb5bcfd>0x0&&_0x252cdc[_0x4e1d8f(0x836)](BADGES['FIRST_TRY_ACE']['id']);if(_0x2141ba[_0x4e1d8f(0x3b0)]>0x0){const _0x31e56c=_0x2141ba[0x0][_0x4e1d8f(0x3cb)];if(_0x31e56c<_0x2aa86d&&_0x31d83d>=_0x2aa86d){const _0x979f9b=_0x2141ba['some'](_0x4abbdc=>(_0x4abbdc['badges']||[])['includes'](BADGES[_0x4e1d8f(0x544)]['id']));!_0x979f9b&&_0x252cdc[_0x4e1d8f(0x836)](BADGES[_0x4e1d8f(0x544)]['id']);}}_0x2141ba[_0x4e1d8f(0x3b0)]===0x4&&_0x252cdc[_0x4e1d8f(0x836)](BADGES[_0x4e1d8f(0x496)]['id']);const _0x1ab5a3=currentDisplayedQuiz['settings'][_0x4e1d8f(0x28a)];if(currentMode===_0x4e1d8f(0xa9b)){handleResultDisplay(_0x1ab5a3,_0x31d83d,_0x3f6302,_0x252cdc,_0x488840,_0xb5bcfd);return;}const _0xa0cf27=currentQuizData['id'],_0x420ba5=doc(db,'artifacts/'+appId+_0x4e1d8f(0xa74)+_0xa0cf27+'/submissions',currentStudentName);try{const _0x24a452=[..._0x2141ba],_0xff9baa={'score':_0x31d83d,'points':_0x3f6302,'badges':Array['from'](new Set(_0x252cdc)),'submittedAt':new Date()[_0x4e1d8f(0x523)](),'answers':_0x488840};_0x24a452[_0x4e1d8f(0x836)](_0xff9baa);const _0x467dc5=_0x2141ba[_0x4e1d8f(0x3b0)]===0x0?_0x31d83d:_0x2141ba[0x0][_0x4e1d8f(0x3cb)]||0x0,_0x21fccf=Math[_0x4e1d8f(0x6cf)](..._0x24a452['map'](_0x5ac258=>_0x5ac258[_0x4e1d8f(0x3cb)]));await setDoc(_0x420ba5,{'studentName':currentStudentName,'totalQuestions':_0xb5bcfd,'attempts':_0x24a452,'firstScore':_0x467dc5,'bestScore':_0x21fccf,'latestScore':_0x31d83d,'points':_0x3f6302,'latestSubmittedAt':_0xff9baa[_0x4e1d8f(0x963)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x4e1d8f(0x2a3)],currentStudentName),handleResultDisplay(_0x1ab5a3,_0x31d83d,_0x3f6302,_0x252cdc,_0x488840,_0xb5bcfd);}catch(_0x57af3d){console['error'](_0x4e1d8f(0x53c),_0x57af3d),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x41b374,_0x5ad9b0){const _0x16f0b3=_0x3076df,_0xf9e21e=doc(db,_0x16f0b3(0xaa1)+appId+_0x16f0b3(0xad3)+_0x41b374+_0x16f0b3(0x715),_0x5ad9b0);try{const _0x8d294c=query(collection(db,_0x16f0b3(0xaa1)+appId+'/public/data/quizzes'),where(_0x16f0b3(0x2a3),'==',_0x41b374)),_0x45fc12=await getDocs(_0x8d294c),_0x5ae180=new Map(_0x45fc12[_0x16f0b3(0x9a1)][_0x16f0b3(0x3c9)](_0x12184f=>[_0x12184f['id'],_0x12184f['data']()])),_0x4fa3b2=Array[_0x16f0b3(0x2bb)](_0x5ae180[_0x16f0b3(0x3ca)]());await runTransaction(db,async _0x5c0e90=>{const _0x38ae71=_0x16f0b3;let _0x174209=0x0;const _0x28728c={};let _0x5f2da4=!![],_0x38f706=0x0,_0x15cc88=0x0;for(const _0xa15376 of _0x4fa3b2){const _0x2af8a1=_0x5ae180[_0x38ae71(0x77c)](_0xa15376),_0x292897=doc(db,_0x38ae71(0xaa1)+appId+_0x38ae71(0xa74)+_0xa15376+_0x38ae71(0xa99),_0x5ad9b0),_0x5cb3c7=await _0x5c0e90[_0x38ae71(0x77c)](_0x292897);if(_0x5cb3c7[_0x38ae71(0x6b3)]()){const _0x1ebba2=_0x5cb3c7[_0x38ae71(0x995)](),_0x144158=_0x1ebba2[_0x38ae71(0x656)]||[];if(_0x144158[_0x38ae71(0x3b0)]>0x0){const _0x37b0ec=_0x144158[_0x38ae71(0x2f8)]((_0x14bffb,_0x52f88c)=>{const _0x4e07fd=_0x38ae71;if(_0x52f88c['score']>_0x14bffb[_0x4e07fd(0x3cb)])return _0x52f88c;if(_0x52f88c['score']===_0x14bffb['score'])return(_0x52f88c[_0x4e07fd(0x775)]||0x0)>(_0x14bffb['points']||0x0)?_0x52f88c:_0x14bffb;return _0x14bffb;},{'score':-0x1,'points':-0x1});_0x37b0ec[_0x38ae71(0x3cb)]>-0x1&&(_0x174209+=_0x37b0ec[_0x38ae71(0x775)]||0x0,(_0x37b0ec[_0x38ae71(0x4a1)]||[])[_0x38ae71(0x9c9)](_0x28e2cc=>{_0x28728c[_0x28e2cc]=(_0x28728c[_0x28e2cc]||0x0)+0x1;}));}}if(_0x2af8a1[_0x38ae71(0x6a9)]!==_0x38ae71(0x8a5)){_0x15cc88++;if(_0x5cb3c7[_0x38ae71(0x6b3)]()){_0x38f706++;const _0x2ecc28=_0x5cb3c7[_0x38ae71(0x995)]();_0x2ecc28[_0x38ae71(0xc4d)]!==_0x2ecc28[_0x38ae71(0x4e5)]&&(_0x5f2da4=![]);}else _0x5f2da4=![];}}_0x15cc88>0x0&&_0x38f706===_0x15cc88&&_0x5f2da4?_0x28728c[_0x38ae71(0xac2)]=0x1:_0x28728c[_0x38ae71(0xac2)]=0x0,_0x5c0e90['set'](_0xf9e21e,{'studentName':_0x5ad9b0,'totalPoints':_0x174209,'unlockedBadges':Object[_0x38ae71(0x3ca)](_0x28728c)['filter'](_0x3fa073=>_0x28728c[_0x3fa073]>0x0),'badgesCount':_0x28728c},{'merge':!![]});});}catch(_0x439798){console[_0x16f0b3(0x405)](_0x16f0b3(0x6fc),_0x439798),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function _0x520b(_0x55f89b,_0x2d15bf){const _0x45be1a=_0x45be();return _0x520b=function(_0x520b11,_0x9baf34){_0x520b11=_0x520b11-0x18f;let _0x4d082f=_0x45be1a[_0x520b11];return _0x4d082f;},_0x520b(_0x55f89b,_0x2d15bf);}function startAdminTest(){const _0x1ca32f=_0x3076df;if(!currentQuizData){showMessage(_0x1ca32f(0x552));return;}let _0x453538=JSON['parse'](JSON[_0x1ca32f(0x4c6)](currentQuizData));currentMode=_0x1ca32f(0xa9b),currentStudentName=_0x1ca32f(0x89f),adminView[_0x1ca32f(0xbbb)][_0x1ca32f(0x49b)](_0x1ca32f(0xc6c)),studentView[_0x1ca32f(0xbbb)][_0x1ca32f(0xb7d)](_0x1ca32f(0xc6c)),studentInitialView[_0x1ca32f(0xbbb)][_0x1ca32f(0x49b)](_0x1ca32f(0xc6c)),studentNameSelectionView[_0x1ca32f(0xbbb)][_0x1ca32f(0x49b)]('hidden'),studentResultArea[_0x1ca32f(0xbbb)][_0x1ca32f(0x49b)](_0x1ca32f(0xc6c)),studentQuizArea['classList'][_0x1ca32f(0xb7d)](_0x1ca32f(0xc6c)),quizStartTime=new Date(),displayQuizForStudent(_0x453538);}function handleResultDisplay(_0x578393,_0x4f4f38,_0x34a114,_0x210449,_0x2d8b86,_0x5eb766){const _0x36c210=_0x3076df;if(_0x578393===_0x36c210(0x8db)){displaySubmissionConfirmation();return;}const _0x487e5f=currentDisplayedQuiz['settings']?.[_0x36c210(0xb3b)]??Math['floor'](_0x5eb766/0x2),_0x40c08e=currentDisplayedQuiz['settings']?.['isAdaptive']??![],_0x4b9ee5=currentDisplayedQuiz[_0x36c210(0x1a6)]?.['loopUntilPass']===!![],_0x24aa06=_0x4f4f38<_0x487e5f,_0x1eb397=_0x578393===_0x36c210(0xa2d)||_0x578393===_0x36c210(0x1ff);if(_0x4b9ee5&&_0x24aa06&&!_0x1eb397){_0x578393===_0x36c210(0x7d8)?displayResultsWithAnswers(_0x4f4f38,_0x34a114,_0x210449,_0x2d8b86,_0x5eb766,!![]):displayLoopScreen(_0x4f4f38,_0x5eb766,_0x578393);return;}if(_0x40c08e&&_0x24aa06){startAdaptiveFlow(_0x2d8b86,_0x4f4f38,_0x5eb766);return;}switch(_0x578393){case'show_results_and_answers':displayResultsWithAnswers(_0x4f4f38,_0x34a114,_0x210449,_0x2d8b86,_0x5eb766);break;case _0x36c210(0x19d):displayResultsScoreOnly(_0x4f4f38,_0x34a114,_0x210449,_0x5eb766);break;case'show_pass_fail_only':displayPassFailOnly(_0x4f4f38,_0x5eb766);break;case'half_mark_status':displayHalfMarkResult(_0x4f4f38,_0x5eb766);break;case _0x36c210(0x1ff):displayPerfectScoreResult(_0x4f4f38,_0x5eb766);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x180a5e){const _0x1fd8d1=_0x3076df;studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x4ec700=_0x1fd8d1(0x21a)+_0x180a5e+_0x1fd8d1(0x53f)+simpleMathPrompt+_0x1fd8d1(0xc1b),_0x30a6f5={'type':_0x1fd8d1(0x85f),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1fd8d1(0x45a),'items':{'type':_0x1fd8d1(0x670)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x1fd8d1(0x670)}},'required':[_0x1fd8d1(0x833),'options',_0x1fd8d1(0x60b),'explanation']},_0x4136b5={'type':_0x1fd8d1(0x85f),'properties':{'topic':{'type':_0x1fd8d1(0x670)},'questions':{'type':'ARRAY','items':_0x30a6f5}},'required':['topic',_0x1fd8d1(0x796)]};try{const _0x3331e4=await callAnalysisApi(_0x4ec700,_0x4136b5);_0x3331e4[_0x1fd8d1(0xc5e)]=!![],studentReadingArea[_0x1fd8d1(0xbbb)][_0x1fd8d1(0x49b)](_0x1fd8d1(0xc6c));const _0x14a822={...currentDisplayedQuiz[_0x1fd8d1(0x1a6)],'isAdaptive':![],'resultsDisplay':_0x1fd8d1(0x7d8)};_0x3331e4[_0x1fd8d1(0x1a6)]=_0x14a822,displayQuizForStudent(_0x3331e4);}catch(_0x13a090){console[_0x1fd8d1(0x405)](_0x1fd8d1(0x855),_0x13a090),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView('student');}}function displayPassFailOnly(_0x550477,_0x484f14){const _0xcbf5bf=_0x3076df,_0x5d6d99=currentDisplayedQuiz[_0xcbf5bf(0x1a6)]?.[_0xcbf5bf(0xb3b)]??-0x1,_0x2c683c=currentDisplayedQuiz[_0xcbf5bf(0xc5e)]===!![];let _0x27209f='',_0x4dc3d5=![];if(_0x2c683c||_0x5d6d99!==-0x1){_0x4dc3d5=_0x2c683c?_0x550477===_0x484f14:_0x550477>=_0x5d6d99;const _0x34e73d=_0x4dc3d5?_0xcbf5bf(0x93d):_0xcbf5bf(0x711),_0x57c037=_0x4dc3d5?'ผ่าน':_0xcbf5bf(0x3cf);_0x27209f=_0xcbf5bf(0xc12)+_0x34e73d+'\x22>'+_0x57c037+_0xcbf5bf(0x617);}else _0x27209f=_0xcbf5bf(0x3fb);let _0x3b8754=_0xcbf5bf(0x7b5)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x27209f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0xcbf5bf(0x9c8)]=_0x3b8754,studentResultArea[_0xcbf5bf(0xbbb)][_0xcbf5bf(0xb7d)](_0xcbf5bf(0xc6c)),studentQuizArea[_0xcbf5bf(0xbbb)][_0xcbf5bf(0x49b)](_0xcbf5bf(0xc6c)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x4dc3d5});}function cancelAdminTest(){const _0x1be73d=_0x3076df;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x1be73d(0x210)](_0x1be73d(0x801),handleFullscreenChange),document[_0x1be73d(0x210)](_0x1be73d(0xcfa),handleVisibilityChange),currentMode=_0x1be73d(0x8f7),studentView[_0x1be73d(0xbbb)][_0x1be73d(0x49b)](_0x1be73d(0xc6c)),adminView[_0x1be73d(0xbbb)]['remove'](_0x1be73d(0xc6c)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x1be73d(0x58d));}function setupResultScreenBackButton(_0x1905d2){const _0x16e2d7=_0x3076df,_0x3674cb={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x1905d2};if(_0x3674cb['isLooping']){const _0xe098d5=_0x16e2d7(0x1df);studentResultArea[_0x16e2d7(0x8d6)](_0x16e2d7(0x85b),_0xe098d5),document[_0x16e2d7(0x48d)](_0x16e2d7(0xb1a))[_0x16e2d7(0x331)](_0x16e2d7(0x623),()=>{const _0x22d6d8=_0x16e2d7;studentResultArea[_0x22d6d8(0xbbb)][_0x22d6d8(0x49b)](_0x22d6d8(0xc6c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x3c7bba=_0x16e2d7(0x86b),_0x14d49a=currentMode===_0x16e2d7(0xa9b),_0x18be99=_0x14d49a?_0x16e2d7(0x8da):_0x16e2d7(0x9e6);let _0x28b9ec='';_0x3674cb[_0x16e2d7(0x78d)]&&(_0x28b9ec+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x50f2b9=_0x3674cb['showImproveButton'];_0x50f2b9===undefined&&(_0x50f2b9=_0x3674cb[_0x16e2d7(0x3cb)]<_0x3674cb['totalQuestions']);_0x50f2b9&&(_0x28b9ec+=_0x16e2d7(0xca4));_0x28b9ec+='<button\x20id=\x22'+_0x3c7bba+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x18be99+'</button>';const _0xc86bc1=_0x16e2d7(0xd29)+_0x28b9ec+'</div>';studentResultArea[_0x16e2d7(0x8d6)](_0x16e2d7(0x85b),_0xc86bc1),studentResultArea[_0x16e2d7(0x381)]('#view-rankings-btn')?.[_0x16e2d7(0x331)](_0x16e2d7(0x623),handleShowStudentRankings);const _0x596b73=studentResultArea[_0x16e2d7(0x381)]('#retake-for-improvement-btn');_0x596b73&&_0x596b73['addEventListener']('click',()=>{const _0x4a33cd=_0x16e2d7;studentResultArea[_0x4a33cd(0xbbb)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x3c7bba)[_0x16e2d7(0x331)](_0x16e2d7(0x623),()=>{const _0x5226ec=_0x16e2d7;_0x14d49a?(currentMode='admin',studentView[_0x5226ec(0xbbb)][_0x5226ec(0x49b)](_0x5226ec(0xc6c)),adminView[_0x5226ec(0xbbb)][_0x5226ec(0xb7d)]('hidden'),showView(_0x5226ec(0x58d))):(showView(_0x5226ec(0x849)),document['getElementById']('quiz-id-input')['value']='');});}function displayResultsWithAnswers(_0x56ec16,_0x4d289c,_0x4a4d53,_0x10c444,_0x1812ec,_0x547d93=![]){const _0x1b56ba=_0x3076df,_0x55fe70=_0x1812ec>0x0?_0x56ec16/_0x1812ec*0x64:0x0,_0x5dc637=currentDisplayedQuiz[_0x1b56ba(0x1a6)]?.[_0x1b56ba(0xb3b)]??-0x1,_0x2c86bd=currentDisplayedQuiz[_0x1b56ba(0xc5e)]===!![];let _0x430e1d='';if(_0x2c86bd||_0x5dc637!==-0x1){let _0x444e1c=_0x2c86bd?_0x56ec16===_0x1812ec:_0x56ec16>=_0x5dc637;const _0xfbccc8=_0x444e1c?_0x1b56ba(0x93d):_0x1b56ba(0x711),_0x3999e1=_0x444e1c?_0x1b56ba(0x4cb):_0x1b56ba(0x3cf);_0x430e1d=_0x1b56ba(0x75a)+_0xfbccc8+'\x22>'+_0x3999e1+_0x1b56ba(0x19e);}let _0x29fb4e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x56ec16+_0x1b56ba(0x9f0)+_0x1812ec+_0x1b56ba(0xb4b)+_0x430e1d+_0x1b56ba(0x6a1)+_0x4d289c+_0x1b56ba(0x233)+_0x55fe70[_0x1b56ba(0x598)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x1b56ba(0x796)]['forEach']((_0x2011b0,_0x253f38)=>{const _0x13a45b=_0x1b56ba,_0x5c9893=_0x10c444[_0x253f38],_0x29dbae=_0x5c9893['answer'],_0x24e904=_0x5c9893[_0x13a45b(0xa78)],_0x19adb3=_0x2011b0[_0x13a45b(0xbc3)]||currentDisplayedQuiz[_0x13a45b(0xcb9)];_0x29fb4e+=_0x13a45b(0x430)+(_0x24e904?_0x13a45b(0xc80):_0x13a45b(0x6da))+_0x13a45b(0x49a)+(_0x253f38+0x1)+'.\x20'+(_0x2011b0['stem']||_0x2011b0[_0x13a45b(0x833)])+_0x13a45b(0x465);switch(_0x19adb3){case _0x13a45b(0xd01):const _0x3457d0=_0x29dbae||_0x13a45b(0xb6c),_0x356d6b=_0x2011b0[_0x13a45b(0x4fc)];_0x29fb4e+=_0x13a45b(0xca9)+(!_0x24e904?_0x13a45b(0x4bf):'')+'\x22>'+_0x3457d0+'</span></p>';!_0x24e904&&(_0x29fb4e+=_0x13a45b(0xc75)+_0x356d6b+'</p>');break;case _0x13a45b(0x296):_0x29fb4e+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x29dbae||_0x13a45b(0xb6c))+'</p>',_0x29fb4e+=_0x13a45b(0x751)+_0x2011b0[_0x13a45b(0x36e)]+_0x13a45b(0x19e);break;case _0x13a45b(0x35a):_0x29fb4e+=_0x13a45b(0x2d6)+(_0x2011b0[_0x13a45b(0x369)]===!![]?_0x13a45b(0x944):'')+'\x20'+(_0x29dbae==='true'&&!_0x24e904?_0x13a45b(0x4bf):'')+_0x13a45b(0xb02),_0x29fb4e+=_0x13a45b(0x2d6)+(_0x2011b0[_0x13a45b(0x369)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x29dbae===_0x13a45b(0x4a5)&&!_0x24e904?_0x13a45b(0x4bf):'')+_0x13a45b(0x222);break;default:_0x29fb4e+=_0x2011b0[_0x13a45b(0x7ce)][_0x13a45b(0x3c9)]((_0x5c0abb,_0x4daafe)=>{const _0x119c21=_0x13a45b;let _0x3df00f='',_0x474b23='';if(_0x4daafe===_0x2011b0[_0x119c21(0x60b)])_0x3df00f='font-bold\x20text-green-700',_0x474b23=_0x119c21(0x6ee);else _0x4daafe===_0x29dbae&&(_0x3df00f='font-bold\x20text-red-700\x20line-through',_0x474b23=_0x119c21(0x9a3));return _0x119c21(0x7ab)+_0x3df00f+'\x22>'+_0x474b23+_0x5c0abb+_0x119c21(0x9b9);})[_0x13a45b(0x28d)]('');break;}_0x29fb4e+=_0x13a45b(0x41f)+(_0x2011b0['explanation']||_0x13a45b(0x3b7))+_0x13a45b(0x9b9);if(!_0x24e904){const _0x34b46c=_0x2011b0[_0x13a45b(0x255)]||_0x2011b0['questionText'];_0x29fb4e+=_0x13a45b(0x67c)+escape(_0x34b46c)+_0x13a45b(0x741);}_0x29fb4e+=_0x13a45b(0x9b9);}),studentResultArea['innerHTML']=_0x29fb4e,renderEarnedBadges(_0x4a4d53,_0x1b56ba(0x800)),studentResultArea['classList'][_0x1b56ba(0xb7d)]('hidden'),studentQuizArea['classList'][_0x1b56ba(0x49b)](_0x1b56ba(0xc6c)),setupResultScreenBackButton({'isLooping':_0x547d93,'score':_0x56ec16,'totalQuestions':_0x1812ec,'showRankings':!![]});if(window[_0x1b56ba(0x278)])window[_0x1b56ba(0x278)][_0x1b56ba(0x73c)]([studentResultArea]);}function displayResultsScoreOnly(_0x2ca6ff,_0x4b4cef,_0x49ada5,_0x4f9d39){const _0x32ce8d=_0x3076df,_0x2b9d0c=_0x4f9d39>0x0?_0x2ca6ff/_0x4f9d39*0x64:0x0,_0x57beca=currentDisplayedQuiz[_0x32ce8d(0x1a6)]?.[_0x32ce8d(0xb3b)]??-0x1,_0x3f2086=currentDisplayedQuiz[_0x32ce8d(0xc5e)]===!![];let _0x206067='';if(_0x3f2086||_0x57beca!==-0x1){let _0x5d6f12=_0x3f2086?_0x2ca6ff===_0x4f9d39:_0x2ca6ff>=_0x57beca;const _0x487bb3=_0x5d6f12?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x4bcc1f=_0x5d6f12?_0x32ce8d(0x4cb):_0x32ce8d(0x3cf);_0x206067=_0x32ce8d(0x75a)+_0x487bb3+'\x22>'+_0x4bcc1f+_0x32ce8d(0x19e);}let _0x3159ea=_0x32ce8d(0x7b5)+currentStudentName+_0x32ce8d(0xcc8)+_0x2ca6ff+_0x32ce8d(0xcf6)+_0x4f9d39+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x206067+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x4b4cef+_0x32ce8d(0xc43)+_0x2b9d0c['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x32ce8d(0x9c8)]=_0x3159ea,renderEarnedBadges(_0x49ada5,_0x32ce8d(0x800)),studentResultArea[_0x32ce8d(0xbbb)][_0x32ce8d(0xb7d)](_0x32ce8d(0xc6c)),studentQuizArea[_0x32ce8d(0xbbb)]['add'](_0x32ce8d(0xc6c)),setupResultScreenBackButton({'score':_0x2ca6ff,'totalQuestions':_0x4f9d39,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x340e2=_0x3076df;let _0x489b98=_0x340e2(0xc8c)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x489b98,studentResultArea['classList'][_0x340e2(0xb7d)]('hidden'),studentQuizArea[_0x340e2(0xbbb)][_0x340e2(0x49b)]('hidden'),document[_0x340e2(0x48d)](_0x340e2(0x9f2))[_0x340e2(0x331)](_0x340e2(0x623),()=>{const _0x3817b3=_0x340e2;showView(_0x3817b3(0x849)),document['getElementById']('quiz-id-input')['value']='';});}function renderEarnedBadges(_0x8b8a70,_0xecdb3e){const _0xf3e4ff=_0x3076df,_0x247df5=document['getElementById'](_0xecdb3e);if(!_0x247df5||!_0x8b8a70||_0x8b8a70[_0xf3e4ff(0x3b0)]===0x0)return;let _0x4d43b6='';_0x8b8a70[_0xf3e4ff(0x9c9)]((_0x6d63bb,_0x548b43)=>{const _0x245983=_0xf3e4ff,_0x20244e=Object['values'](BADGES)['find'](_0x29ab88=>_0x29ab88['id']===_0x6d63bb);_0x20244e&&(_0x4d43b6+=_0x245983(0x770)+_0x548b43*0.2+_0x245983(0xa9e)+_0x20244e[_0x245983(0x69a)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x20244e[_0x245983(0x6ba)]+_0x245983(0x6a2)+_0x20244e[_0x245983(0x774)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x247df5[_0xf3e4ff(0x9c8)]=_0x4d43b6;}function startPresentation(_0x3b01bc){const _0x3017f8=_0x3076df;currentQuizData=getShuffledQuiz(_0x3b01bc),currentPresentationSlide=0x0,presentationModal[_0x3017f8(0x3b4)][_0x3017f8(0x418)]=_0x3017f8(0x30f),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x3d75b9=_0x3076df;document[_0x3d75b9(0x882)]&&document[_0x3d75b9(0x4f7)](),presentationModal[_0x3d75b9(0x3b4)]['display']='none';}function renderPresentationSlide(_0x215f6a){const _0x3eb626=_0x3076df,_0x2aa15d=document[_0x3eb626(0x48d)](_0x3eb626(0xce3));if(!currentQuizData||!currentQuizData[_0x3eb626(0x796)]||!currentQuizData[_0x3eb626(0x796)][_0x215f6a]){_0x2aa15d[_0x3eb626(0x9c8)]=_0x3eb626(0xb6f);return;}const _0xfe86c3=currentQuizData['questions'][_0x215f6a],_0x3064d0=_0xfe86c3[_0x3eb626(0xbc3)]||currentQuizData[_0x3eb626(0xcb9)];_0x2aa15d[_0x3eb626(0x9c8)]='';let _0x4d6801=_0x3eb626(0xc4f)+(_0xfe86c3[_0x3eb626(0x415)]?_0x3eb626(0xadf)+_0xfe86c3[_0x3eb626(0x415)]+_0x3eb626(0x9b9):'')+_0x3eb626(0x4c1)+(_0x215f6a+0x1)+'.\x20'+(_0xfe86c3[_0x3eb626(0x255)]||_0xfe86c3[_0x3eb626(0x833)])+_0x3eb626(0x9f5);switch(_0x3064d0){case _0x3eb626(0xd01):_0x4d6801+=_0xfe86c3[_0x3eb626(0x1cf)][_0x3eb626(0x3c9)](_0x148a43=>_0x3eb626(0x84b)+_0x148a43+_0x3eb626(0x689))[_0x3eb626(0x28d)]('');break;case _0x3eb626(0x35a):_0x4d6801+=_0x3eb626(0xbf3),_0x4d6801+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x3eb626(0xa70):case _0x3eb626(0x296):_0x4d6801+=_0x3eb626(0x996);break;case _0x3eb626(0xc8e):case _0x3eb626(0xa73):default:_0x4d6801+=_0xfe86c3[_0x3eb626(0x7ce)]['map']((_0x2b4a1f,_0x38a71a)=>_0x3eb626(0x6d8)+_0x38a71a+_0x3eb626(0x298)+_0x2b4a1f+_0x3eb626(0x689))['join']('');break;}_0x4d6801+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0xfe86c3[_0x3eb626(0x4f5)]||_0x3eb626(0x3b7))+_0x3eb626(0x937),_0x2aa15d[_0x3eb626(0x9c8)]=_0x4d6801;if(window[_0x3eb626(0x278)])window['MathJax'][_0x3eb626(0x73c)]([_0x2aa15d]);let _0x49fcba=[];switch(_0x3064d0){case _0x3eb626(0xd01):_0x49fcba=_0xfe86c3['allResponses']||[];break;case'true_false':_0x49fcba=[_0x3eb626(0xbe5),_0x3eb626(0x7e6)];break;default:_0x49fcba=_0xfe86c3[_0x3eb626(0x7ce)]||[];break;}const _0x568e39=document[_0x3eb626(0x48d)](_0x3eb626(0x409));_0x568e39&&(_0x568e39['onclick']=()=>{openScratchpad(_0xfe86c3,_0x49fcba);});document[_0x3eb626(0x599)]('.presentation-option')[_0x3eb626(0x9c9)](_0x3907d9=>{const _0x292a44=_0x3eb626;_0x3907d9[_0x292a44(0x331)](_0x292a44(0x623),_0x365bbc=>revealAnswerForPresentation(_0x215f6a,_0x365bbc[_0x292a44(0x328)]));});const _0x319df2=document[_0x3eb626(0x48d)]('check-presentation-answer-btn');_0x319df2&&_0x319df2['addEventListener'](_0x3eb626(0x623),()=>checkShortAnswerForPresentation(_0x215f6a)),document[_0x3eb626(0x48d)]('slide-counter')[_0x3eb626(0x9ea)]=_0x3eb626(0xb33)+(_0x215f6a+0x1)+'\x20/\x20'+currentQuizData[_0x3eb626(0x796)][_0x3eb626(0x3b0)],document[_0x3eb626(0x48d)](_0x3eb626(0x713))[_0x3eb626(0x1dc)]=_0x215f6a===0x0,document[_0x3eb626(0x48d)](_0x3eb626(0x1bf))[_0x3eb626(0x1dc)]=_0x215f6a===currentQuizData['questions'][_0x3eb626(0x3b0)]-0x1;}async function checkShortAnswerForPresentation(_0x3aac33){const _0x1bd535=_0x3076df,_0x3535c8=currentQuizData[_0x1bd535(0x796)][_0x3aac33],_0x500813=document['getElementById'](_0x1bd535(0xc47)),_0x3695b7=document['getElementById']('check-presentation-answer-btn'),_0x31f93e=document[_0x1bd535(0x48d)](_0x1bd535(0x565)),_0x298cad=document[_0x1bd535(0x48d)]('presentation-explanation');if(!_0x500813||!_0x3695b7||!_0x31f93e||!_0x298cad)return;const _0x3855df=_0x500813[_0x1bd535(0xaef)]['trim']();if(_0x3855df==='')return;_0x3695b7[_0x1bd535(0x1dc)]=!![],_0x3695b7[_0x1bd535(0x9c8)]=_0x1bd535(0x3ec),_0x500813['disabled']=!![];const _0x2dd424=await gradeShortAnswer(_0x3855df,_0x3535c8);_0x2dd424?_0x31f93e[_0x1bd535(0x9c8)]=_0x1bd535(0x62a):_0x31f93e[_0x1bd535(0x9c8)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x3535c8['idealAnswer']+')',_0x31f93e[_0x1bd535(0xbbb)][_0x1bd535(0xb7d)](_0x1bd535(0xc6c)),_0x298cad['classList'][_0x1bd535(0xb7d)](_0x1bd535(0xc6c)),_0x3695b7[_0x1bd535(0xbbb)][_0x1bd535(0x49b)](_0x1bd535(0xc6c));}function revealAnswerForPresentation(_0x338ebc,_0x3a4f9f){const _0x4353b0=_0x3076df,_0x2dd874=currentQuizData[_0x4353b0(0x796)][_0x338ebc],_0x1d97d5=_0x2dd874[_0x4353b0(0xbc3)]||currentQuizData[_0x4353b0(0xcb9)];document[_0x4353b0(0x599)](_0x4353b0(0xbab))[_0x4353b0(0x9c9)](_0xa28544=>{const _0x8eeeb=_0x4353b0;_0xa28544[_0x8eeeb(0x1dc)]=!![],_0xa28544[_0x8eeeb(0xbbb)]['remove'](_0x8eeeb(0xb95));let _0x1f1817=![];if(_0x1d97d5===_0x8eeeb(0xa73)||_0x1d97d5===_0x8eeeb(0xc8e)){const _0x3a7f84=parseInt(_0xa28544['dataset'][_0x8eeeb(0x353)]);_0x1f1817=_0x3a7f84===_0x2dd874[_0x8eeeb(0x60b)];}else{if(_0x1d97d5===_0x8eeeb(0x35a)){const _0xcf630d=_0xa28544[_0x8eeeb(0x40c)]['answer']===_0x8eeeb(0xab4);_0x1f1817=_0xcf630d===_0x2dd874[_0x8eeeb(0x369)];}else _0x1d97d5==='matching_item'&&(_0x1f1817=_0xa28544['textContent'][_0x8eeeb(0x7fe)]()===_0x2dd874[_0x8eeeb(0x4fc)]);}_0x1f1817?_0xa28544[_0x8eeeb(0xbbb)]['add']('bg-green-500',_0x8eeeb(0xa84),_0x8eeeb(0x5f3)):_0xa28544[_0x8eeeb(0xbbb)]['add'](_0x8eeeb(0x672));}),_0x3a4f9f[_0x4353b0(0xbbb)][_0x4353b0(0xb7d)]('opacity-50');let _0x1a7e15=![];if(_0x1d97d5==='multiple_choice')_0x1a7e15=parseInt(_0x3a4f9f['dataset'][_0x4353b0(0x353)])===_0x2dd874[_0x4353b0(0x60b)];else{if(_0x1d97d5==='true_false')_0x1a7e15=_0x3a4f9f[_0x4353b0(0x40c)][_0x4353b0(0xb7a)]==='true'===_0x2dd874[_0x4353b0(0x369)];else _0x1d97d5==='matching_item'&&(_0x1a7e15=_0x3a4f9f['textContent']['trim']()===_0x2dd874['correctResponse']);}!_0x1a7e15&&_0x3a4f9f['classList'][_0x4353b0(0x49b)](_0x4353b0(0xd15),_0x4353b0(0xa84),_0x4353b0(0xb15)),document[_0x4353b0(0x48d)](_0x4353b0(0x4f9))[_0x4353b0(0xbbb)][_0x4353b0(0xb7d)]('hidden');}function startWholeQuizTimer(_0x268f42){const _0x21cfa1=_0x3076df,_0x42903e=document['getElementById'](_0x21cfa1(0x96e));if(!_0x42903e)return;const _0x3856cb=Date[_0x21cfa1(0x95f)]()+_0x268f42*0x3c*0x3e8;_0x42903e[_0x21cfa1(0x9c8)]=_0x21cfa1(0x9b5);const _0x12290e=document[_0x21cfa1(0x48d)](_0x21cfa1(0x46d));quizTimerInterval=setInterval(()=>{const _0x21efa5=_0x21cfa1,_0x4ed103=_0x3856cb-Date['now']();if(_0x4ed103<=0x0)clearInterval(quizTimerInterval),_0x12290e[_0x21efa5(0x9ea)]=_0x21efa5(0x719),showMessage(_0x21efa5(0x76e)),handleSubmitQuiz(null);else{const _0x5a3cf8=Math[_0x21efa5(0x230)](_0x4ed103/0x3e8/0x3c%0x3c)[_0x21efa5(0x2ed)]()[_0x21efa5(0xbd5)](0x2,'0'),_0x6233dc=Math[_0x21efa5(0x230)](_0x4ed103/0x3e8%0x3c)[_0x21efa5(0x2ed)]()[_0x21efa5(0xbd5)](0x2,'0');_0x12290e[_0x21efa5(0x9ea)]=_0x5a3cf8+':'+_0x6233dc;}},0x3e8);}function renderPerQuestionView(){const _0x4545c8=_0x3076df;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x3ed82b=currentDisplayedQuiz[_0x4545c8(0x796)][currentQuestionIndex],_0x15ac3e=_0x3ed82b[_0x4545c8(0xbc3)]||currentDisplayedQuiz[_0x4545c8(0xcb9)],_0x3044b6=currentDisplayedQuiz[_0x4545c8(0x1a6)]?.[_0x4545c8(0x2b8)]===!![];let _0x28e1e0=_0x4545c8(0x898)+(currentQuestionIndex+0x1)+_0x4545c8(0x3f6)+currentDisplayedQuiz[_0x4545c8(0x796)][_0x4545c8(0x3b0)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x4545c8(0xa9b)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x4545c8(0xb74)+currentDisplayedQuiz[_0x4545c8(0x6a9)]+_0x4545c8(0x413);studentQuizArea[_0x4545c8(0x9c8)]=_0x28e1e0;let _0x2d1bc9=_0x3ed82b[_0x4545c8(0x255)]||_0x3ed82b[_0x4545c8(0x833)];_0x3ed82b['imageCode']&&(_0x2d1bc9+=_0x4545c8(0xadf)+_0x3ed82b[_0x4545c8(0x415)]+_0x4545c8(0x9b9));let _0x9ad91e='';switch(_0x15ac3e){case _0x4545c8(0x296):case _0x4545c8(0xa70):_0x9ad91e=_0x4545c8(0xd09);break;case _0x4545c8(0x35a):_0x9ad91e=_0x4545c8(0xb6b);break;case _0x4545c8(0xd01):_0x9ad91e=_0x4545c8(0x8fc)+(_0x3ed82b[_0x4545c8(0x1cf)]||[])[_0x4545c8(0x3c9)](_0x42ce50=>_0x4545c8(0xb17)+_0x42ce50+'\x22>'+_0x42ce50+_0x4545c8(0x881))[_0x4545c8(0x28d)]('')+_0x4545c8(0x686);break;default:_0x3ed82b[_0x4545c8(0x7ce)]&&(_0x9ad91e=_0x3ed82b['options'][_0x4545c8(0x3c9)]((_0x1903ec,_0x3ccfa6)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x3ccfa6+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x3ccfa6+_0x4545c8(0x505)+_0x3ccfa6+'\x22>'+_0x1903ec+_0x4545c8(0x360))[_0x4545c8(0x28d)](''));break;}document['getElementById'](_0x4545c8(0xb79))[_0x4545c8(0x9c8)]=_0x2d1bc9,document[_0x4545c8(0x48d)](_0x4545c8(0x6bc))[_0x4545c8(0x9c8)]=_0x9ad91e;const _0x563358=currentDisplayedQuiz['settings']?.[_0x4545c8(0x2b8)]===!![],_0x443abf=currentDisplayedQuiz[_0x4545c8(0x1a6)]?.[_0x4545c8(0x48e)]||_0x4545c8(0xbf0);if(_0x563358&&_0x443abf==='checkbox'){const _0xd1b9df=_0x4545c8(0x6b6);studentQuizArea[_0x4545c8(0x381)](_0x4545c8(0x607))['insertAdjacentHTML'](_0x4545c8(0x85b),_0xd1b9df);}studentQuizArea[_0x4545c8(0x8d6)](_0x4545c8(0x85b),_0x4545c8(0x9ed)+(currentQuestionIndex===currentDisplayedQuiz[_0x4545c8(0x796)][_0x4545c8(0x3b0)]-0x1?_0x4545c8(0x7bf):_0x4545c8(0x3db))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode===_0x4545c8(0xa9b)&&document[_0x4545c8(0x48d)](_0x4545c8(0x7d5))?.[_0x4545c8(0x331)](_0x4545c8(0x623),cancelAdminTest);document['getElementById'](_0x4545c8(0x75c))[_0x4545c8(0x331)](_0x4545c8(0x623),()=>handleNextQuestionInTimedMode(![]));if(window[_0x4545c8(0x278)])window[_0x4545c8(0x278)][_0x4545c8(0x73c)]([studentQuizArea]);currentDisplayedQuiz['settings']?.[_0x4545c8(0x4f2)]==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x37d2ea=_0x3076df,_0x42cf48=currentDisplayedQuiz[_0x37d2ea(0x1a6)][_0x37d2ea(0x752)],_0x590e45=document['getElementById'](_0x37d2ea(0x740));if(!_0x590e45)return;let _0x4a31c0=_0x42cf48;_0x590e45['innerHTML']=_0x37d2ea(0x935)+_0x4a31c0+_0x37d2ea(0x350);const _0x3bd11d=document[_0x37d2ea(0x48d)](_0x37d2ea(0x5e5)),_0xc1924b=document['getElementById'](_0x37d2ea(0xc70));perQuestionTimerInterval=setInterval(()=>{const _0x4594d6=_0x37d2ea;_0x4a31c0--;const _0x4b3d4a=_0x4a31c0/_0x42cf48*0x64;_0x3bd11d[_0x4594d6(0x3b4)][_0x4594d6(0xa05)]=_0x4b3d4a+'%',_0xc1924b[_0x4594d6(0x9ea)]=_0x4a31c0,_0x4a31c0<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x4594d6(0x216)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x54aded=![]){const _0x338d87=_0x3076df;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x10b242=null,_0x25b176=![];if(!_0x54aded){const _0x186554=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x3ab1e5=_0x186554[_0x338d87(0xbc3)]||currentDisplayedQuiz[_0x338d87(0xcb9)];if(_0x3ab1e5===_0x338d87(0x296)||_0x3ab1e5===_0x338d87(0xa70))_0x10b242=document[_0x338d87(0x381)](_0x338d87(0x87a))?.[_0x338d87(0xaef)][_0x338d87(0x7fe)]()??'';else{if(_0x3ab1e5===_0x338d87(0xd01))_0x10b242=document[_0x338d87(0x381)](_0x338d87(0xc0a))?.['value']??'';else{const _0xbda085=document[_0x338d87(0x381)](_0x338d87(0x43d));_0xbda085&&(_0x10b242=_0xbda085['value']);}}if(_0x10b242===null||_0x10b242===''){showMessage(_0x338d87(0x2b3)),startPerQuestionTimer();return;}const _0x40d738=currentDisplayedQuiz[_0x338d87(0x1a6)]?.[_0x338d87(0x2b8)]===!![],_0x260b7c=currentDisplayedQuiz[_0x338d87(0x1a6)]?.[_0x338d87(0x48e)]||'checkbox';if(_0x40d738&&_0x260b7c===_0x338d87(0xcd1)){document[_0x338d87(0x48d)]('confidence-modal')[_0x338d87(0x40c)]['currentMode']='timed',document[_0x338d87(0x48d)]('selected-answer-index-hidden')[_0x338d87(0xaef)]=_0x10b242,document[_0x338d87(0x48d)](_0x338d87(0x8c5))[_0x338d87(0xbbb)]['remove'](_0x338d87(0xc6c));return;}const _0x2c6459=document[_0x338d87(0x48d)](_0x338d87(0xabc));_0x2c6459&&(_0x25b176=_0x2c6459[_0x338d87(0xb91)]);}const _0x2ce276={'answer':_0x10b242,'wasConfident':_0x25b176};proceedToNextQuestion(_0x2ce276);}async function finalizePerQuestionQuiz(){const _0xd747ba=_0x3076df,_0x5f4cd2=currentDisplayedQuiz[_0xd747ba(0x796)][_0xd747ba(0xbd9)](_0x5a71bd=>_0x5a71bd[_0xd747ba(0xbc3)]===_0xd747ba(0x296));_0x5f4cd2?showMessage(_0xd747ba(0x5e1)):showMessage(_0xd747ba(0xbea));const _0x4d57ee=currentQuizData['id'],_0x32bf36=doc(db,'artifacts/'+appId+_0xd747ba(0xa74)+_0x4d57ee+_0xd747ba(0xa99),currentStudentName),_0x16720e=await getDoc(_0x32bf36),_0xa5235a=_0x16720e['exists']()?_0x16720e[_0xd747ba(0x995)]():{},_0x5269f8=_0xa5235a['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x5269f8);}function getResultsFilename(){const _0x5e0064=_0x3076df,_0x1679f9=document[_0x5e0064(0x48d)](_0x5e0064(0xc15))[_0x5e0064(0x9ea)][_0x5e0064(0x1ba)](/[^a-z0-9]/gi,'_')[_0x5e0064(0x235)]();return _0x5e0064(0xc42)+(_0x1679f9||_0x5e0064(0x1d5));}function exportResultsAsImage(){const _0x2e66da=_0x3076df,_0x186041=document['getElementById']('results-table-container');showMessage(_0x2e66da(0x81f)),html2canvas(_0x186041)[_0x2e66da(0xc45)](_0x4a4309=>{const _0xd53ed5=_0x2e66da,_0x205c39=document[_0xd53ed5(0x2b7)]('a');_0x205c39[_0xd53ed5(0x2bd)]=getResultsFilename()+_0xd53ed5(0x76b),_0x205c39[_0xd53ed5(0xc41)]=_0x4a4309['toDataURL']('image/png'),_0x205c39[_0xd53ed5(0x623)](),messageModal['classList']['add']('hidden');});}function exportResultsAsPDF(){const _0x5eab08=_0x3076df,{jsPDF:_0x46990d}=window[_0x5eab08(0x63f)],_0x3dda2b=new _0x46990d();_0x3dda2b[_0x5eab08(0x7f6)](_0x5eab08(0xc1c),_0x5eab08(0x786)),_0x3dda2b[_0x5eab08(0xc5d)]({'html':_0x5eab08(0x6c0)}),_0x3dda2b['save'](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x4d2854=_0x3076df,_0x125f67=_0x4d2854(0x790)+_0x4d2854(0x6a6)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x4d2854(0x3dc),_0x35854c=_0x4d2854(0x1af),_0x4024f8=_0x125f67+document[_0x4d2854(0x48d)](_0x4d2854(0x52d))['innerHTML']+_0x35854c,_0x215498=_0x4d2854(0x789)+encodeURIComponent(_0x4024f8),_0x2a0440=document[_0x4d2854(0x2b7)]('a');document[_0x4d2854(0xb53)][_0x4d2854(0xcff)](_0x2a0440),_0x2a0440['href']=_0x215498,_0x2a0440[_0x4d2854(0x2bd)]=getResultsFilename()+_0x4d2854(0x9c1),_0x2a0440[_0x4d2854(0x623)](),document[_0x4d2854(0xb53)][_0x4d2854(0x4ec)](_0x2a0440);}function exportResultsAsExcel(){const _0x5798e3=_0x3076df,_0x8fbc4c=document['getElementById']('results-table');let _0x53d29b=[];for(let _0x10fee9=0x0;_0x10fee9<_0x8fbc4c[_0x5798e3(0x258)][_0x5798e3(0x3b0)];_0x10fee9++){let _0x4b0f7a=[],_0x35c2cd=_0x8fbc4c[_0x5798e3(0x258)][_0x10fee9][_0x5798e3(0x599)]('td,\x20th');for(let _0x2a9edc=0x0;_0x2a9edc<_0x35c2cd['length'];_0x2a9edc++){_0x4b0f7a['push']('\x22'+_0x35c2cd[_0x2a9edc][_0x5798e3(0x271)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x53d29b[_0x5798e3(0x836)](_0x4b0f7a[_0x5798e3(0x28d)](','));}const _0x219462=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x53d29b[_0x5798e3(0x28d)]('\x0a')],{'type':_0x5798e3(0xc92)}),_0x3c9435=document[_0x5798e3(0x2b7)]('a');_0x3c9435[_0x5798e3(0xc41)]=URL[_0x5798e3(0xc9c)](_0x219462),_0x3c9435['download']=getResultsFilename()+_0x5798e3(0x87c),_0x3c9435['click']();}function exportTableAsImage(_0x5148b5,_0x56cf44){const _0x4e3dc4=_0x3076df,_0x2db7de=document[_0x4e3dc4(0x48d)](_0x5148b5);if(!_0x2db7de){showMessage(_0x4e3dc4(0xcbb));return;}showMessage(_0x4e3dc4(0x81f)),html2canvas(_0x2db7de)[_0x4e3dc4(0xc45)](_0x408f49=>{const _0x56c7d5=_0x4e3dc4,_0x459ddb=document[_0x56c7d5(0x2b7)]('a');_0x459ddb['download']=_0x56cf44+'.png',_0x459ddb['href']=_0x408f49[_0x56c7d5(0x3e4)](_0x56c7d5(0x397)),_0x459ddb[_0x56c7d5(0x623)](),messageModal[_0x56c7d5(0xbbb)][_0x56c7d5(0x49b)](_0x56c7d5(0xc6c));});}function exportTableAsPDF(_0x44a74b,_0x4d3b29){const _0x3c8cde=_0x3076df,{jsPDF:_0x3160b6}=window[_0x3c8cde(0x63f)],_0x372c20=new _0x3160b6();_0x372c20[_0x3c8cde(0x7f6)](_0x3c8cde(0xc1c),_0x3c8cde(0x786)),_0x372c20[_0x3c8cde(0xc5d)]({'html':'#'+_0x44a74b}),_0x372c20['save'](_0x4d3b29+_0x3c8cde(0xaac));}function exportTableAsWord(_0x255340,_0x1f28d2){const _0x311002=_0x3076df,_0x361ad2=document[_0x311002(0x48d)](_0x255340);if(!_0x361ad2){showMessage(_0x311002(0xcbb));return;}const _0x41a4e3='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x311002(0x3dc),_0x265c85=_0x311002(0x1af),_0x9fae67=_0x41a4e3+_0x361ad2[_0x311002(0x9c8)]+_0x265c85,_0x36c827=_0x311002(0x789)+encodeURIComponent(_0x9fae67),_0x46f7aa=document[_0x311002(0x2b7)]('a');document[_0x311002(0xb53)]['appendChild'](_0x46f7aa),_0x46f7aa[_0x311002(0xc41)]=_0x36c827,_0x46f7aa[_0x311002(0x2bd)]=_0x1f28d2+_0x311002(0x9c1),_0x46f7aa[_0x311002(0x623)](),document[_0x311002(0xb53)]['removeChild'](_0x46f7aa);}function exportTableAsExcel(_0x26e41b,_0x579159){const _0x3e8624=_0x3076df,_0x5a6b52=document['getElementById'](_0x26e41b);if(!_0x5a6b52){showMessage(_0x3e8624(0xcbb));return;}let _0x4e8e0b=[];for(let _0x185d17=0x0;_0x185d17<_0x5a6b52['rows'][_0x3e8624(0x3b0)];_0x185d17++){let _0x13d467=[],_0x1f4dab=_0x5a6b52[_0x3e8624(0x258)][_0x185d17][_0x3e8624(0x599)](_0x3e8624(0xbef));for(let _0xde9cf4=0x0;_0xde9cf4<_0x1f4dab[_0x3e8624(0x3b0)];_0xde9cf4++){_0x13d467[_0x3e8624(0x836)]('\x22'+_0x1f4dab[_0xde9cf4]['innerText'][_0x3e8624(0x1ba)](/"/g,'\x22\x22')+'\x22');}_0x4e8e0b['push'](_0x13d467[_0x3e8624(0x28d)](','));}const _0x583453=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4e8e0b[_0x3e8624(0x28d)]('\x0a')],{'type':_0x3e8624(0xc92)}),_0x3b3359=document[_0x3e8624(0x2b7)]('a');_0x3b3359[_0x3e8624(0xc41)]=URL[_0x3e8624(0xc9c)](_0x583453),_0x3b3359[_0x3e8624(0x2bd)]=_0x579159+_0x3e8624(0x87c),_0x3b3359[_0x3e8624(0x623)]();}function renderAnalytics(_0x1d45dd,_0x215161){const _0x5a27b0=_0x3076df,_0x4244bb=_0x215161['filter'](_0x1c9245=>_0x1c9245[_0x5a27b0(0x1f4)]!==undefined),_0x338f60=currentProjectData[_0x5a27b0(0x589)][_0x5a27b0(0x3b0)],_0x51d5c4=_0x4244bb[_0x5a27b0(0x3b0)],_0x316b32=_0x338f60-_0x51d5c4,_0x5ae21f=_0x338f60>0x0?_0x51d5c4/_0x338f60*0x64:0x0,_0x3ca4f9=_0x4244bb[_0x5a27b0(0x3c9)](_0xc7324a=>_0xc7324a[_0x5a27b0(0x1f4)]),_0x29cc6e=_0x3ca4f9['length']>0x0?_0x3ca4f9[_0x5a27b0(0x2f8)]((_0x5ade36,_0x1fd279)=>_0x5ade36+_0x1fd279,0x0)/_0x3ca4f9[_0x5a27b0(0x3b0)]:0x0,_0x5cb800=_0x1d45dd[_0x5a27b0(0x796)][_0x5a27b0(0x3b0)],_0x580f44=_0x5cb800>0x0?_0x29cc6e/_0x5cb800*0x64:0x0,_0x3c67a5=calculateItemAnalysis(_0x1d45dd,_0x4244bb),_0x1a9762=calculateReliabilityKR20(_0x1d45dd,_0x4244bb,_0x3c67a5[_0x5a27b0(0x48c)]);let _0x51ef39='';if(_0x1a9762!==null){let _0x124a79='';if(_0x1a9762>=0.9)_0x124a79=_0x5a27b0(0x85e);else{if(_0x1a9762>=0.8)_0x124a79='ดีมาก';else{if(_0x1a9762>=0.7)_0x124a79='ดี';else{if(_0x1a9762>=0.6)_0x124a79=_0x5a27b0(0x44e);else _0x124a79=_0x5a27b0(0x4b6);}}}_0x51ef39='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x1a9762[_0x5a27b0(0x598)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x124a79+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0xef2527=document[_0x5a27b0(0x48d)]('analytics-summary-cards');_0xef2527[_0x5a27b0(0x9c8)]=_0x5a27b0(0x5c5)+_0x5ae21f['toFixed'](0x0)+_0x5a27b0(0xa3c)+_0x51d5c4+'/'+_0x338f60+_0x5a27b0(0xc82)+_0x29cc6e[_0x5a27b0(0x598)](0x2)+_0x5a27b0(0x542)+_0x580f44[_0x5a27b0(0x598)](0x0)+_0x5a27b0(0x994)+(_0x3ca4f9['length']>0x0?Math[_0x5a27b0(0x6cf)](..._0x3ca4f9):_0x5a27b0(0xb36))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x3ca4f9[_0x5a27b0(0x3b0)]>0x0?Math[_0x5a27b0(0x54c)](..._0x3ca4f9):_0x5a27b0(0xb36))+_0x5a27b0(0x6ab)+_0x51ef39+'\x0a\x20\x20\x20\x20';const _0x222425=document[_0x5a27b0(0x48d)](_0x5a27b0(0x824));_0x222425&&_0x222425['remove']();const _0x1c52ce=_0x5a27b0(0x6e9);_0xef2527[_0x5a27b0(0x8d6)](_0x5a27b0(0x370),_0x1c52ce);const _0x13104a=currentProjectData[_0x5a27b0(0x589)]||[];renderSubmissionChart(_0x51d5c4,_0x316b32,_0x4244bb,_0x13104a),renderScoreDistributionChart(_0x4244bb,_0x5cb800),renderQuestionAnalytics(_0x1d45dd,_0x4244bb,_0x13104a),renderInterestingStats(_0x1d45dd,_0x4244bb);}async function handleExportLessonPDF(){const _0x8b50af=_0x3076df,_0x2c9d94=document[_0x8b50af(0x48d)]('lesson-plan-content'),_0x437f47=document[_0x8b50af(0x48d)]('lesson-plan-title')[_0x8b50af(0x9ea)],_0x4573ca=window[_0x8b50af(0x5d1)]('',_0x8b50af(0x722)),_0x3b804e=_0x8b50af(0x87f)+_0x437f47+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c9d94['innerHTML']+_0x8b50af(0x40e);_0x4573ca['document']['write'](_0x3b804e),_0x4573ca['document']['close'](),_0x4573ca[_0x8b50af(0x4fd)]=function(){setTimeout(()=>{const _0x3e0d8f=_0x520b;_0x4573ca[_0x3e0d8f(0x860)]();},0x5dc);};}function renderInterestingStats(_0x166571,_0x2bc24b){const _0x1a1b81=_0x3076df,_0x4b16ad=document['getElementById'](_0x1a1b81(0x3ac));if(!_0x4b16ad)return;if(_0x2bc24b[_0x1a1b81(0x3b0)]===0x0){_0x4b16ad[_0x1a1b81(0x9c8)]=_0x1a1b81(0x8cc);return;}const _0xb32cd2=_0x166571[_0x1a1b81(0x796)][_0x1a1b81(0x3c9)]((_0x5a232f,_0x17a222)=>({'index':_0x17a222+0x1,'text':_0x5a232f[_0x1a1b81(0x833)]||_0x5a232f[_0x1a1b81(0x255)],'correct':0x0}));_0x2bc24b['forEach'](_0x505dd3=>{const _0x27ee72=_0x1a1b81,_0x2d3612=_0x505dd3[_0x27ee72(0x656)][_0x505dd3['attempts'][_0x27ee72(0x3b0)]-0x1];_0x2d3612&&_0x2d3612[_0x27ee72(0x34e)]&&_0x2d3612[_0x27ee72(0x34e)]['forEach'](_0x21e391=>{const _0x5d9ed0=_0x27ee72,_0x33b101=_0xb32cd2[_0x5d9ed0(0xcf4)](_0x45554e=>_0x45554e[_0x5d9ed0(0x5ca)]===_0x21e391[_0x5d9ed0(0x27b)]);_0x21e391[_0x5d9ed0(0xa78)]&&_0x33b101&&_0x33b101['correct']++;});});const _0x37a6bb=_0x2bc24b['length'],_0x4b4228=Math[_0x1a1b81(0x6cf)](..._0xb32cd2[_0x1a1b81(0x3c9)](_0x2949b8=>_0x2949b8[_0x1a1b81(0x62f)])),_0x396e5d=Math[_0x1a1b81(0x54c)](..._0xb32cd2['map'](_0x4cef63=>_0x4cef63['correct'])),_0x3ac5b2=_0xb32cd2[_0x1a1b81(0x475)](_0x27ad8d=>_0x27ad8d['correct']===_0x4b4228)[_0x1a1b81(0x3c9)](_0x38822e=>_0x1a1b81(0xd03)+_0x38822e[_0x1a1b81(0x353)]),_0x216063=_0xb32cd2['filter'](_0x12354e=>_0x12354e['correct']===_0x396e5d)['map'](_0x4af414=>_0x1a1b81(0xd03)+_0x4af414[_0x1a1b81(0x353)]),_0x8dd9ae=_0x2bc24b['sort']((_0x54bd06,_0x5118d9)=>_0x5118d9[_0x1a1b81(0x1f4)]-_0x54bd06[_0x1a1b81(0x1f4)])[_0x1a1b81(0x475)]((_0x4a3196,_0x5cea4c,_0x221b4b)=>_0x4a3196[_0x1a1b81(0x1f4)]===_0x221b4b[0x0][_0x1a1b81(0x1f4)]),_0x3d5b78=_0x2bc24b[_0x1a1b81(0xa41)]((_0x39b5f3,_0x5ecccf)=>_0x39b5f3[_0x1a1b81(0x1f4)]-_0x5ecccf[_0x1a1b81(0x1f4)])[_0x1a1b81(0x475)]((_0x2a7ddd,_0x1da7ba,_0x55cc82)=>_0x2a7ddd[_0x1a1b81(0x1f4)]===_0x55cc82[0x0][_0x1a1b81(0x1f4)]),_0x10197b=_0x1a1b81(0xb59)+_0x3ac5b2[_0x1a1b81(0x28d)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x4b4228+'\x20/\x20'+_0x37a6bb+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x216063['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x37a6bb-_0x396e5d)+_0x1a1b81(0x41b)+_0x37a6bb+_0x1a1b81(0xce7)+_0x8dd9ae[_0x1a1b81(0x3c9)](_0x52e05f=>_0x52e05f['studentName'])[_0x1a1b81(0x28d)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x8dd9ae[0x0][_0x1a1b81(0x1f4)]+_0x1a1b81(0xc1a)+_0x3d5b78[_0x1a1b81(0x3c9)](_0x3a2871=>_0x3a2871[_0x1a1b81(0xbe1)])[_0x1a1b81(0x28d)](',\x20')+_0x1a1b81(0xa7d)+_0x3d5b78[0x0]['latestScore']+_0x1a1b81(0xb06);_0x4b16ad['innerHTML']=_0x10197b;}function renderSubmissionChart(_0x388b8a,_0x5d2198,_0x4326d8,_0x34f453){const _0x20a03d=_0x3076df,_0x493cbb=document[_0x20a03d(0x48d)](_0x20a03d(0x4b5))[_0x20a03d(0x683)]('2d'),_0x4db267=_0x4326d8[_0x20a03d(0x3c9)](_0xf463bf=>_0xf463bf['studentName']),_0x4f9ac3=_0x34f453[_0x20a03d(0x475)](_0xbe4998=>!_0x4db267[_0x20a03d(0x59e)](_0xbe4998));chartInstances['submission']&&chartInstances[_0x20a03d(0xca6)]['destroy'](),chartInstances[_0x20a03d(0xca6)]=new Chart(_0x493cbb,{'type':'doughnut','data':{'labels':[_0x20a03d(0x807),'ยังไม่ส่ง'],'datasets':[{'data':[_0x388b8a,_0x5d2198],'backgroundColor':[_0x20a03d(0x684),'#F59E0B'],'borderColor':[_0x20a03d(0x42d),_0x20a03d(0x42d)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x39165f){const _0x24ec9=_0x20a03d;let _0x5f0756=_0x39165f[_0x24ec9(0xcf2)]||'';return _0x5f0756&&(_0x5f0756+=':\x20'),_0x5f0756+=_0x39165f[_0x24ec9(0x484)],_0x5f0756;},'afterLabel':function(_0x36ecfd){const _0x334a3b=_0x20a03d;let _0x285b84;return _0x36ecfd[_0x334a3b(0x20d)]===0x0?_0x285b84=_0x4db267:_0x285b84=_0x4f9ac3,_0x285b84[_0x334a3b(0x3b0)]>0x0?_0x285b84[_0x334a3b(0x28d)]('\x0a'):_0x334a3b(0x3bb);}}}}}});}function renderScoreDistributionChart(_0x1fcf7b,_0x57523e){const _0x276b9a=_0x3076df,_0x3a1af4=document[_0x276b9a(0x48d)](_0x276b9a(0x2dd))[_0x276b9a(0x683)]('2d'),_0x1aabce={};for(let _0x492fef=0x0;_0x492fef<=_0x57523e;_0x492fef++){_0x1aabce[_0x492fef]=0x0;}_0x1fcf7b[_0x276b9a(0x9c9)](_0x4ddbac=>{const _0x5ca494=_0x276b9a;_0x1aabce[_0x4ddbac[_0x5ca494(0x1f4)]]!==undefined&&_0x1aabce[_0x4ddbac[_0x5ca494(0x1f4)]]++;}),chartInstances['score']&&chartInstances[_0x276b9a(0x3cb)][_0x276b9a(0xbaf)](),chartInstances['score']=new Chart(_0x3a1af4,{'type':_0x276b9a(0x6b7),'data':{'labels':Object[_0x276b9a(0x3ca)](_0x1aabce),'datasets':[{'label':'จำนวนนักเรียน','data':Object['values'](_0x1aabce),'backgroundColor':_0x276b9a(0xa39),'borderColor':_0x276b9a(0xbe9),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x276b9a(0x48b)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x2e1da6){const _0x40fa1f=_0x276b9a,_0x27bd03=_0x2e1da6['label'],_0x1fe155=_0x1fcf7b[_0x40fa1f(0x475)](_0x4a24d0=>_0x4a24d0[_0x40fa1f(0x1f4)]==_0x27bd03)[_0x40fa1f(0x3c9)](_0x13d817=>_0x13d817[_0x40fa1f(0xbe1)]);return _0x1fe155[_0x40fa1f(0x3b0)]>0x0?_0x1fe155[_0x40fa1f(0x28d)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x2512f1,_0x37fc79,_0x5c50dd){const _0x1d622e=_0x3076df,_0x53802f=document[_0x1d622e(0x48d)](_0x1d622e(0x22c));if(_0x5c50dd[_0x1d622e(0x3b0)]===0x0){_0x53802f['innerHTML']=_0x1d622e(0x416);return;}const _0x3ff245=calculateItemAnalysis(_0x2512f1,_0x37fc79),_0x1bd18a=calculateDistractorAnalysis(_0x2512f1,_0x37fc79);let _0x2c1324='';_0x3ff245[_0x1d622e(0x8cb)]&&(_0x2c1324='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x3ff245[_0x1d622e(0x8cb)][_0x1d622e(0x6d2)][_0x1d622e(0x3b0)]+_0x1d622e(0x891)+_0x3ff245[_0x1d622e(0x8cb)][_0x1d622e(0x6d2)][_0x1d622e(0x3c9)](_0x151d6a=>_0x1d622e(0xa4a)+_0x151d6a+_0x1d622e(0xa97))[_0x1d622e(0x28d)]('')+_0x1d622e(0x36f)+_0x3ff245[_0x1d622e(0x8cb)][_0x1d622e(0x75f)][_0x1d622e(0x3b0)]+_0x1d622e(0x891)+_0x3ff245[_0x1d622e(0x8cb)][_0x1d622e(0x75f)][_0x1d622e(0x3c9)](_0x3861bf=>_0x1d622e(0xa4a)+_0x3861bf+'</li>')[_0x1d622e(0x28d)]('')+_0x1d622e(0x4f4));let _0x2846a7='';const _0x7529e=_0x37fc79[_0x1d622e(0x3c9)](_0x495aec=>_0x495aec[_0x1d622e(0xbe1)]),_0x2a515d=_0x3c0ca3=>{const _0x5587f0=_0x1d622e;if(_0x3c0ca3>=0.8)return _0x5587f0(0xbbd);if(_0x3c0ca3>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x3c0ca3>=0.4)return _0x5587f0(0xbdf);if(_0x3c0ca3>=0.2)return _0x5587f0(0x563);return _0x5587f0(0x39e);},_0x54d95a=_0x17c003=>{const _0x5eafe9=_0x1d622e;if(_0x17c003<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x17c003>=0.4)return _0x5eafe9(0x841);if(_0x17c003>=0.3)return _0x5eafe9(0x393);if(_0x17c003>=0.2)return _0x5eafe9(0x7b8);return _0x5eafe9(0x47e);},_0x3b4465=_0x4ec85d=>{const _0x3e1079=_0x1d622e,_0x31347e=_0x4ec85d['toFixed'](0x0);if(parseFloat(_0x31347e)===0x64)return _0x3e1079(0xaa6)+_0x31347e+_0x3e1079(0xc8a);if(_0x4ec85d>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x31347e+_0x3e1079(0xc8a);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x31347e+'%</span>';};_0x2512f1[_0x1d622e(0x796)][_0x1d622e(0x9c9)]((_0x544328,_0x1d245d)=>{const _0x23cb39=_0x1d622e,_0xa8b8b5=_0x3ff245[_0x23cb39(0x48c)][_0x1d245d],_0x405cdc=_0x1bd18a[_0x1d245d],_0x4ef99d=_0x544328[_0x23cb39(0x255)]||_0x544328[_0x23cb39(0x833)]||_0x544328[_0x23cb39(0x500)];let _0x3db3f6=0x0;const _0x2f1b28=[],_0x873410=[];_0x37fc79[_0x23cb39(0x9c9)](_0x25a11e=>{const _0x570d6a=_0x23cb39,_0x2254c8=_0x25a11e['attempts'][_0x25a11e[_0x570d6a(0x656)][_0x570d6a(0x3b0)]-0x1];if(_0x2254c8&&_0x2254c8[_0x570d6a(0x34e)]){const _0x37ff05=_0x2254c8[_0x570d6a(0x34e)][_0x570d6a(0xcf4)](_0x4a8e6f=>_0x4a8e6f[_0x570d6a(0x27b)]===_0x4ef99d)??_0x2254c8[_0x570d6a(0x34e)][_0x1d245d]??null;_0x37ff05&&(_0x37ff05[_0x570d6a(0xa78)]?(_0x3db3f6++,_0x2f1b28['push'](_0x25a11e['studentName'])):_0x873410[_0x570d6a(0x836)](_0x25a11e['studentName']));}});const _0x5741cc=_0x37fc79[_0x23cb39(0x3b0)]>0x0?_0x3db3f6/_0x37fc79['length']*0x64:0x0,_0x475363=_0x5c50dd[_0x23cb39(0x475)](_0x12d41d=>!_0x7529e[_0x23cb39(0x59e)](_0x12d41d)),_0xbd85c1=_0xa8b8b5?_0x23cb39(0x1d9)+_0xa8b8b5['p'][_0x23cb39(0x598)](0x2)+_0x23cb39(0xb09)+_0x2a515d(_0xa8b8b5['p'])+_0x23cb39(0x30e)+_0xa8b8b5['r'][_0x23cb39(0x598)](0x2)+_0x23cb39(0xb09)+_0x54d95a(_0xa8b8b5['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b4465(_0x5741cc)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x4156de='';_0x405cdc&&(_0x4156de=_0x23cb39(0x18f)+Object[_0x23cb39(0x3ca)](_0x405cdc)[_0x23cb39(0x3c9)](_0x2c61d3=>{const _0x198532=_0x23cb39,_0x44ea75=_0x405cdc[_0x2c61d3],_0x596790=parseInt(_0x2c61d3)===_0x544328[_0x198532(0x60b)],_0x5295b4=!_0x596790&&_0x44ea75[_0x198532(0x940)]>_0x44ea75[_0x198532(0x260)];return _0x198532(0x867)+(_0x596790?'bg-green-100\x20font-bold':'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x596790?'✔\x20':'')+_0x44ea75[_0x198532(0x5ca)]+_0x198532(0xcea)+_0x44ea75[_0x198532(0x260)]+_0x198532(0xcea)+_0x44ea75['lower_group_count']+'\x20'+(_0x5295b4?'👍':'')+_0x198532(0xcea)+_0x44ea75['total']+_0x198532(0x8c2);})[_0x23cb39(0x28d)]('')+_0x23cb39(0x8c6));let _0xece97a='';_0xa8b8b5&&_0xa8b8b5[_0x23cb39(0xcb4)]&&(_0xece97a=_0x23cb39(0x58c)+_0xa8b8b5[_0x23cb39(0xcb4)][_0x23cb39(0x3b0)]+_0x23cb39(0x3a0)+_0xa8b8b5[_0x23cb39(0xcb4)][_0x23cb39(0x3c9)](_0x3c985e=>_0x23cb39(0xa4a)+(_0x3c985e['isCorrect']?_0x23cb39(0x633):_0x23cb39(0xa69))+'\x20'+_0x3c985e[_0x23cb39(0x774)]+_0x23cb39(0xa97))[_0x23cb39(0x28d)]('')+_0x23cb39(0x56b)+_0xa8b8b5[_0x23cb39(0xcc6)][_0x23cb39(0x3b0)]+_0x23cb39(0x3a0)+_0xa8b8b5[_0x23cb39(0xcc6)][_0x23cb39(0x3c9)](_0xff29e9=>_0x23cb39(0xa4a)+(_0xff29e9[_0x23cb39(0xa78)]?_0x23cb39(0x633):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0xff29e9[_0x23cb39(0x774)]+_0x23cb39(0xa97))[_0x23cb39(0x28d)]('')+_0x23cb39(0x86a)),_0x2846a7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x1d245d+0x1)+':\x20'+_0x4ef99d+_0x23cb39(0x57c)+_0xbd85c1+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x4ef99d+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x3db3f6+_0x23cb39(0x3f6)+_0x37fc79['length']+_0x23cb39(0x385)+_0x5741cc['toFixed'](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x2f1b28[_0x23cb39(0x3b0)]+_0x23cb39(0xaf0)+(_0x2f1b28['length']>0x0?_0x2f1b28[_0x23cb39(0x28d)](',\x20'):_0x23cb39(0x3bb))+_0x23cb39(0x6f5)+_0x873410[_0x23cb39(0x3b0)]+_0x23cb39(0xaf0)+(_0x873410[_0x23cb39(0x3b0)]>0x0?_0x873410[_0x23cb39(0x28d)](',\x20'):_0x23cb39(0x3bb))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x475363[_0x23cb39(0x3b0)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x475363[_0x23cb39(0x3b0)]>0x0?_0x475363[_0x23cb39(0x28d)](',\x20'):_0x23cb39(0x3bb))+_0x23cb39(0x265)+_0x4156de+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xece97a+_0x23cb39(0xb07);}),_0x53802f[_0x1d622e(0x9c8)]=_0x2c1324+_0x2846a7;try{window[_0x1d622e(0x278)]&&MathJax[_0x1d622e(0x73c)]&&MathJax[_0x1d622e(0x73c)]([_0x53802f]);}catch(_0xff3215){console['error'](_0x1d622e(0x274),_0xff3215);}}function calculateDistractorAnalysis(_0x121365,_0x5ae96a){const _0x514896=_0x3076df,_0x436284={};if(_0x5ae96a['length']<0x2)return _0x436284;const _0x2a89d1=[..._0x5ae96a][_0x514896(0xa41)]((_0x29da45,_0x5623a0)=>{const _0x41319e=_0x514896,_0x4b74fa=_0x5623a0['latestScore']-_0x29da45[_0x41319e(0x1f4)];if(_0x4b74fa!==0x0)return _0x4b74fa;const _0x21e15c=_0x29da45[_0x41319e(0x656)]?.[_0x41319e(0x3b0)]||0x1,_0xf8a5d2=_0x5623a0[_0x41319e(0x656)]?.['length']||0x1,_0x2b2416=_0x21e15c-_0xf8a5d2;if(_0x2b2416!==0x0)return _0x2b2416;const _0x70c388=new Date(_0x29da45[_0x41319e(0x913)]),_0x1459fd=new Date(_0x5623a0[_0x41319e(0x913)]),_0x435189=_0x70c388-_0x1459fd;if(_0x435189!==0x0)return _0x435189;return _0x29da45[_0x41319e(0xbe1)][_0x41319e(0x980)](_0x5623a0[_0x41319e(0xbe1)],'th');}),_0x2bb76d=_0x2a89d1['length'],_0x5a57b7=Math[_0x514896(0x6cf)](0x1,Math[_0x514896(0x230)](_0x2bb76d*0.33)),_0x227f44=_0x2a89d1[_0x514896(0x9e0)](0x0,_0x5a57b7),_0xf96bbc=_0x2a89d1[_0x514896(0x9e0)](-_0x5a57b7);return _0x121365[_0x514896(0x796)][_0x514896(0x9c9)]((_0x1cee49,_0x4bc9bc)=>{const _0xb6568c=_0x514896;if(_0x1cee49['questionType']!=='multiple_choice'||!_0x1cee49[_0xb6568c(0x7ce)])return;const _0x4130c1=_0x1cee49[_0xb6568c(0x833)],_0x4fecae={};_0x1cee49['options'][_0xb6568c(0x9c9)]((_0xef0bc6,_0x140020)=>{_0x4fecae[_0x140020]={'text':_0xef0bc6,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x2a89d1['forEach'](_0x4f84ae=>{const _0x24333b=_0xb6568c,_0x2fd09f=_0x4f84ae[_0x24333b(0x656)][_0x4f84ae[_0x24333b(0x656)]['length']-0x1],_0x9e84a1=_0x2fd09f[_0x24333b(0x34e)]['find'](_0x595c8e=>_0x595c8e[_0x24333b(0x27b)]===_0x4130c1);if(_0x9e84a1&&_0x9e84a1['answer']!==null){const _0x25de70=_0x1cee49[_0x24333b(0x7ce)][_0x24333b(0x3c0)](_0x7b126a=>_0x7b126a===_0x9e84a1['answerText']);_0x25de70!==-0x1&&_0x4fecae[_0x25de70]&&(_0x4fecae[_0x25de70]['total']++,_0x227f44[_0x24333b(0x59e)](_0x4f84ae)&&_0x4fecae[_0x25de70][_0x24333b(0x260)]++,_0xf96bbc[_0x24333b(0x59e)](_0x4f84ae)&&_0x4fecae[_0x25de70][_0x24333b(0x940)]++);}}),_0x436284[_0x4bc9bc]=_0x4fecae;}),_0x436284;}function calculateReliabilityKR20(_0x497348,_0x604251,_0x5b0984){const _0x44e647=_0x3076df,_0x39672d=_0x497348['questions'][_0x44e647(0x3b0)];if(_0x39672d<0x2||_0x604251['length']<0x2)return null;const _0x34555c=_0x604251[_0x44e647(0x3c9)](_0x497d27=>_0x497d27[_0x44e647(0x1f4)]),_0x1bc8df=_0x34555c[_0x44e647(0x2f8)]((_0x481b61,_0x54b510)=>_0x481b61+_0x54b510,0x0)/_0x34555c[_0x44e647(0x3b0)],_0x42f321=_0x34555c[_0x44e647(0x3c9)](_0x2f2c6a=>Math['pow'](_0x2f2c6a-_0x1bc8df,0x2))[_0x44e647(0x2f8)]((_0x7e82ad,_0x5e3c8f)=>_0x7e82ad+_0x5e3c8f,0x0)/_0x34555c[_0x44e647(0x3b0)];if(_0x42f321===0x0)return null;let _0x34c669=0x0;for(let _0x4446fa=0x0;_0x4446fa<_0x39672d;_0x4446fa++){const _0x2226f4=_0x5b0984[_0x4446fa]?.['p'];if(_0x2226f4===undefined)continue;const _0x1dca69=0x1-_0x2226f4;_0x34c669+=_0x2226f4*_0x1dca69;}if(_0x34c669===0x0)return null;const _0x19cd25=_0x39672d/(_0x39672d-0x1)*(0x1-_0x34c669/_0x42f321);if(_0x19cd25>0x1)return null;return _0x19cd25;}async function handleAnalyzeClass(){const _0x523b7d=_0x3076df;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x523b7d(0x78a));return;}const _0x4bcf4d=collection(db,_0x523b7d(0xaa1)+appId+_0x523b7d(0xa74)+currentQuizData['id']+_0x523b7d(0xa99)),_0x253c09=await getDocs(_0x4bcf4d),_0x177ce8=_0x253c09[_0x523b7d(0x9a1)]['map'](_0x3bf2a6=>_0x3bf2a6['data']());if(_0x177ce8[_0x523b7d(0x3b0)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x5ecef6=document[_0x523b7d(0x48d)](_0x523b7d(0x2d9));_0x5ecef6[_0x523b7d(0x9c8)]=_0x523b7d(0x61d),document[_0x523b7d(0x48d)](_0x523b7d(0x459))[_0x523b7d(0x1dc)]=!![];const _0x25c289=_0x177ce8[_0x523b7d(0x3c9)]((_0x1afe7c,_0x4f789b)=>{const _0xbfb913=_0x523b7d,_0x72591e=_0x1afe7c['attempts'][_0x1afe7c[_0xbfb913(0x656)][_0xbfb913(0x3b0)]-0x1];if(!_0x72591e)return'';return _0xbfb913(0x342)+(_0x4f789b+0x1)+'\x20('+_0x1afe7c['studentName']+_0xbfb913(0x3d5)+_0x72591e[_0xbfb913(0x3cb)]+'/'+_0x1afe7c['totalQuestions']+_0xbfb913(0x1de)+JSON[_0xbfb913(0x4c6)](_0x72591e[_0xbfb913(0x34e)])+_0xbfb913(0xb7b);})['join'](_0x523b7d(0x390)),_0xf2a6d0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData['topic']+_0x523b7d(0x5ee)+JSON['stringify'](currentQuizData['questions'])+_0x523b7d(0x797)+_0x25c289+_0x523b7d(0x808),_0x4d0215={'type':_0x523b7d(0x85f),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x523b7d(0x670)}},'classWeaknesses':{'type':_0x523b7d(0x45a),'items':{'type':_0x523b7d(0x670)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':'STRING'}}},'required':[_0x523b7d(0xa29),_0x523b7d(0xb2a),_0x523b7d(0x33d)]};try{const _0x412130=await callAnalysisApi(_0xf2a6d0,_0x4d0215);displayClassAnalysis(_0x412130);}catch(_0x2228ff){console['error'](_0x523b7d(0x70b),_0x2228ff),_0x5ecef6['innerHTML']=_0x523b7d(0x8c9)+_0x2228ff['message']+_0x523b7d(0xbe7);}finally{document['getElementById'](_0x523b7d(0x459))['disabled']=![];}}function displayClassAnalysis(_0xae8c9d){const _0x3b3efc=_0x3076df,_0x25b98f=document[_0x3b3efc(0x48d)]('strength-weakness-analysis-container');if(!_0xae8c9d){_0x25b98f[_0x3b3efc(0x9c8)]=_0x3b3efc(0x9ba);return;}_0x25b98f[_0x3b3efc(0x9c8)]=_0x3b3efc(0x6af)+_0xae8c9d['classStrengths'][_0x3b3efc(0x3c9)](_0x25a4a5=>_0x3b3efc(0xa4a)+_0x25a4a5+_0x3b3efc(0xa97))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xae8c9d[_0x3b3efc(0xb2a)][_0x3b3efc(0x3c9)](_0x4ba2f4=>_0x3b3efc(0xa4a)+_0x4ba2f4+_0x3b3efc(0xa97))[_0x3b3efc(0x28d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xae8c9d['teacherSuggestions']['map'](_0x415e6e=>'<li>'+_0x415e6e+_0x3b3efc(0xa97))[_0x3b3efc(0x28d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x4c6994,_0x4ac82c){const _0x3a77ca=_0x3076df,_0x268185='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x4c6994[_0x3a77ca(0x6a9)]+_0x3a77ca(0x9c0)+_0x4c6994[_0x3a77ca(0x6a9)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c6994[_0x3a77ca(0x796)]['map']((_0x5cd146,_0x103e6b)=>_0x3a77ca(0x20a)+(_0x103e6b+0x1)+'.\x20'+_0x5cd146[_0x3a77ca(0x833)]+_0x3a77ca(0x9a7)+(_0x5cd146[_0x3a77ca(0x415)]?_0x3a77ca(0x7fc)+_0x5cd146[_0x3a77ca(0x415)]+_0x3a77ca(0x9b9):'')+_0x3a77ca(0x384))['join']('')+_0x3a77ca(0x6e0);_0x4ac82c[_0x3a77ca(0xa66)][_0x3a77ca(0xbf1)](_0x268185),_0x4ac82c[_0x3a77ca(0xa66)][_0x3a77ca(0xd1e)](),_0x4ac82c[_0x3a77ca(0x4fd)]=function(){setTimeout(()=>{const _0x56aff2=_0x520b;_0x4ac82c[_0x56aff2(0x860)]();},0x3e8);};}async function generateWorksheet(){const _0x65f580=_0x3076df,_0x323584=document[_0x65f580(0x48d)](_0x65f580(0x5e2))['value'][_0x65f580(0x7fe)]();if(!_0x323584){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x3e9d87=document['getElementById'](_0x65f580(0x56f))['checked'],_0x327b01=_0x3e9d87?'':_0x65f580(0x19b),_0x41ea23=window['open']('','_blank');_0x41ea23[_0x65f580(0xa66)][_0x65f580(0xbf1)](_0x65f580(0x5e0));const _0x56a79c=parseInt(document['getElementById'](_0x65f580(0xcc3))[_0x65f580(0xaef)]),_0x4d1514=document[_0x65f580(0x48d)](_0x65f580(0xb0e))[_0x65f580(0xb91)],_0x14bcfd=_0x4d1514?_0x65f580(0x34c):'',_0x541cb0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x327b01+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x56a79c+_0x65f580(0xb1c)+_0x323584+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x14bcfd+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x65f580(0x4ed),_0x52e34c={'type':_0x65f580(0x85f),'properties':{'topic':{'type':_0x65f580(0x670)},'questions':{'type':_0x65f580(0x45a),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x65f580(0x670)},'imageCode':{'type':_0x65f580(0x670)}},'required':['questionText']}}},'required':[_0x65f580(0x6a9),_0x65f580(0x796)]};document[_0x65f580(0x48d)](_0x65f580(0x6f1))[_0x65f580(0x9ea)]='',document[_0x65f580(0x48d)](_0x65f580(0x759))['classList'][_0x65f580(0xb7d)](_0x65f580(0xc6c)),document[_0x65f580(0x48d)](_0x65f580(0x644))[_0x65f580(0xbbb)][_0x65f580(0xb7d)](_0x65f580(0xc6c)),generateWorksheetBtn[_0x65f580(0x1dc)]=!![];try{const _0x5428f9=await callAnalysisApi(_0x541cb0,_0x52e34c);formatAndPrintWorksheet(_0x5428f9,_0x41ea23);}catch(_0x5653e1){console[_0x65f580(0x405)](_0x65f580(0x3d7),_0x5653e1);if(_0x41ea23)_0x41ea23['close']();showMessage(_0x65f580(0x5dd));}finally{document[_0x65f580(0x48d)](_0x65f580(0x759))['classList'][_0x65f580(0x49b)](_0x65f580(0xc6c)),document['getElementById'](_0x65f580(0x644))[_0x65f580(0xbbb)][_0x65f580(0x49b)](_0x65f580(0xc6c)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x93ac47,_0x25b199){const _0x59edf1=_0x3076df,_0x202944={'contents':[{'role':_0x59edf1(0xbdb),'parts':[{'text':_0x93ac47}]}],'generationConfig':{'responseMimeType':_0x59edf1(0x679),'responseSchema':_0x25b199}},_0x4bdb29='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0xcb89e=_0x59edf1(0xce0)+_0x4bdb29,_0x51d84d=await fetch(_0xcb89e,{'method':_0x59edf1(0x96a),'headers':{'Content-Type':_0x59edf1(0x679)},'body':JSON[_0x59edf1(0x4c6)](_0x202944)});if(!_0x51d84d['ok'])throw new Error(_0x59edf1(0x570)+_0x51d84d[_0x59edf1(0x732)]);const _0x41ffb9=await _0x51d84d[_0x59edf1(0xcd7)]();if(_0x41ffb9[_0x59edf1(0x91b)]?.[0x0]?.['content']?.['parts']?.[0x0])return JSON[_0x59edf1(0x802)](_0x41ffb9[_0x59edf1(0x91b)][0x0]['content'][_0x59edf1(0x219)][0x0][_0x59edf1(0x5ca)]);else{let _0x4031f0=_0x59edf1(0xa27);if(_0x41ffb9[_0x59edf1(0x47b)]?.[_0x59edf1(0xaeb)])_0x4031f0=_0x59edf1(0x2a0)+_0x41ffb9['promptFeedback'][_0x59edf1(0xaeb)]+'.';else _0x41ffb9[_0x59edf1(0x91b)]?.[0x0]?.[_0x59edf1(0x95b)]&&_0x41ffb9[_0x59edf1(0x91b)][0x0][_0x59edf1(0x95b)]!==_0x59edf1(0x793)&&(_0x4031f0=_0x59edf1(0x76d)+_0x41ffb9['candidates'][0x0][_0x59edf1(0x95b)]+'.');console[_0x59edf1(0x405)](_0x4031f0,JSON['stringify'](_0x41ffb9));throw new Error(_0x4031f0);}}async function handleStartSyncMode(_0x330874,_0x19da4f=![]){const _0x212498=_0x3076df,_0x4aa5a9=allQuizzes[_0x212498(0xcf4)](_0x48ff73=>_0x48ff73['id']===_0x330874)||allQuizzesGlobal[_0x212498(0xcf4)](_0x23e794=>_0x23e794['id']===_0x330874);if(!_0x4aa5a9){showMessage(_0x212498(0xbe2));return;}currentQuizData=getShuffledQuiz(_0x4aa5a9);const _0x136259=Math[_0x212498(0x230)](0x3e8+Math[_0x212498(0x386)]()*0x2328)['toString']();try{const _0x2e6866=await addDoc(collection(db,'artifacts/'+appId+_0x212498(0x947)),{'quizId':_0x4aa5a9['id'],'pin':_0x136259,'status':_0x212498(0xab6),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x19da4f,'players':{}});currentLiveGameId=_0x2e6866['id'],showView('live-game'),renderSyncLobbyView(_0x136259,_0x4aa5a9[_0x212498(0x6a9)]),listenForSyncGameUpdates();}catch(_0x4986a9){console[_0x212498(0x405)](_0x212498(0x549),_0x4986a9),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x520caf){const _0x165d22=_0x3076df;if(!_0x520caf||!_0x520caf[_0x165d22(0x65b)]||!_0x520caf[_0x165d22(0x501)])return _0x520caf[_0x165d22(0x501)]||{};const _0x177e53=_0x520caf[_0x165d22(0x65b)]['questions'][_0x165d22(0x3b0)],_0x5e261b=JSON[_0x165d22(0x802)](JSON[_0x165d22(0x4c6)](_0x520caf['players']));return Object[_0x165d22(0x391)](_0x5e261b)[_0x165d22(0x9c9)](_0x3f373b=>{const _0x458e3a=_0x165d22,_0x304ba8=_0x3f373b['score'];let _0x3f2dba=_0x304ba8,_0x181d6b=0x0;_0x520caf[_0x458e3a(0x2b8)]&&_0x3f373b[_0x458e3a(0x34e)]&&_0x3f373b[_0x458e3a(0x34e)][_0x458e3a(0x9c9)](_0x20e84d=>{const _0x827f16=_0x458e3a;if(_0x20e84d[_0x827f16(0xa78)]&&(_0x20e84d[_0x827f16(0x35e)]===!![]||_0x20e84d[_0x827f16(0x35e)]===_0x827f16(0x83e)))_0x181d6b+=0x1;else!_0x20e84d['isCorrect']&&(_0x20e84d[_0x827f16(0x35e)]===!![]||_0x20e84d['wasConfident']===_0x827f16(0x83e))&&(_0x181d6b-=0x1);}),_0x3f2dba+=_0x181d6b,_0x177e53>0x0&&_0x304ba8===_0x177e53&&(_0x3f2dba+=0x1,_0x3f373b[_0x458e3a(0x798)]=!![]),_0x3f373b[_0x458e3a(0x3cb)]=_0x3f2dba;}),_0x5e261b;}function listenForSyncGameUpdates(){const _0xaba4b6=_0x3076df;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x48993f=doc(db,_0xaba4b6(0xaa1)+appId+_0xaba4b6(0x947),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x48993f,_0x5998a0=>{const _0x174127=_0xaba4b6;if(!_0x5998a0['exists']()){sessionStorage['removeItem'](_0x174127(0x4ab));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x174127(0x481));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x174127(0x8f7)?showView(_0x174127(0x58d)):showView('student');return;}const _0x2d956b=_0x5998a0[_0x174127(0x995)]();currentMode===_0x174127(0x8f7)?updateAdminSyncView(_0x2d956b):updateStudentSyncView(_0x2d956b);});}function renderSyncLobbyView(_0x1e9e7e,_0xa09e83){const _0x28644f=_0x3076df;liveGameView[_0x28644f(0x9c8)]=_0x28644f(0xafd)+_0xa09e83+_0x28644f(0xbaa)+_0x1e9e7e+_0x28644f(0x469);const _0x55051b=document[_0x28644f(0x48d)]('confidence-scoring-toggle'),_0x460865=document['getElementById'](_0x28644f(0x95c));_0x55051b[_0x28644f(0x331)]('change',()=>{const _0xb3d74d=_0x28644f;_0x460865['style'][_0xb3d74d(0x418)]=_0x55051b[_0xb3d74d(0xb91)]?_0xb3d74d(0x1ee):_0xb3d74d(0x700);}),document[_0x28644f(0x48d)](_0x28644f(0xc8f))[_0x28644f(0x331)](_0x28644f(0x623),async()=>{const _0x1ad3dc=_0x28644f,_0x1123da=doc(db,'artifacts/'+appId+_0x1ad3dc(0x947),currentLiveGameId),_0x2c638b=document[_0x1ad3dc(0x48d)](_0x1ad3dc(0x832))[_0x1ad3dc(0xb91)];await updateDoc(_0x1123da,{'status':_0x1ad3dc(0x41d),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x2c638b});});}function updateAdminSyncView(_0x5c6da6){const _0x2389b5=_0x3076df;switch(_0x5c6da6[_0x2389b5(0x732)]){case _0x2389b5(0xab6):renderSyncLobbyView(_0x5c6da6[_0x2389b5(0xd0b)],_0x5c6da6[_0x2389b5(0x65b)][_0x2389b5(0x6a9)]);const _0x2e73b8=Object[_0x2389b5(0x5a3)](_0x5c6da6[_0x2389b5(0x501)]||{})[_0x2389b5(0x475)](([_0x1fa33f,_0x235d83])=>_0x235d83['status']!=='inactive');document[_0x2389b5(0x48d)](_0x2389b5(0x379))['textContent']=_0x2e73b8['length'],document[_0x2389b5(0x48d)](_0x2389b5(0xcdb))[_0x2389b5(0x9c8)]=_0x2e73b8[_0x2389b5(0x3c9)](([_0x519b6c,_0x275547])=>_0x2389b5(0x992)+_0x519b6c+_0x2389b5(0x266)+_0x519b6c+_0x2389b5(0x2f9))[_0x2389b5(0x28d)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x2389b5(0x48d)](_0x2389b5(0xc8f))[_0x2389b5(0x1dc)]=_0x2e73b8['length']===0x0;break;case _0x2389b5(0x41d):const _0xa2281e=Object[_0x2389b5(0x391)](_0x5c6da6[_0x2389b5(0x501)]||{})['filter'](_0x3983bd=>_0x3983bd[_0x2389b5(0x732)]!==_0x2389b5(0x9b6)),_0x1d4dd4=_0xa2281e['filter'](_0x1afade=>_0x1afade['answered'])['length'],_0x312368=_0x1d4dd4===_0xa2281e[_0x2389b5(0x3b0)]&&_0xa2281e[_0x2389b5(0x3b0)]>0x0;if(_0x312368&&_0x5c6da6[_0x2389b5(0x732)]==='question'){const _0x2fa359=doc(db,'artifacts/'+appId+_0x2389b5(0x947),currentLiveGameId);updateDoc(_0x2fa359,{'status':_0x2389b5(0xb97)});}else{if(document['getElementById'](_0x2389b5(0xb2d))===null)renderAdminSyncQuestionView(_0x5c6da6);else{const _0x478028=document[_0x2389b5(0x48d)](_0x2389b5(0xc02));_0x478028&&(_0x478028[_0x2389b5(0x9ea)]=_0x1d4dd4+'/'+_0xa2281e['length']);const _0x25ddd8=document[_0x2389b5(0x48d)](_0x2389b5(0x2ff));_0x25ddd8&&(_0x25ddd8[_0x2389b5(0x9c8)]=_0xa2281e[_0x2389b5(0x3c9)](_0x1c3cca=>{const _0x2a52d6=_0x2389b5,_0x16773e=_0x1c3cca[_0x2a52d6(0x466)]?_0x2a52d6(0x6e5):_0x2a52d6(0x6a0),_0x771574=_0x1c3cca[_0x2a52d6(0x466)]?_0x2a52d6(0x395):_0x2a52d6(0xa18);return _0x2a52d6(0x97b)+_0x16773e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x771574+_0x2a52d6(0xc19)+_0x1c3cca[_0x2a52d6(0x774)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x1c3cca[_0x2a52d6(0x774)]+_0x2a52d6(0x467);})[_0x2389b5(0x28d)](''));}}break;case _0x2389b5(0xb97):const _0x4d19ca=_0x5c6da6[_0x2389b5(0xb27)],_0x177ae7=_0x5c6da6[_0x2389b5(0x65b)][_0x2389b5(0x796)][_0x4d19ca];renderSyncSummaryView(_0x5c6da6,_0x177ae7,!![]);break;case _0x2389b5(0x7fa):renderAdminSyncDashboard(_0x5c6da6,!![]);break;case'podium':_0x5c6da6[_0x2389b5(0x680)]&&saveGameResultsAsSubmissions(_0x5c6da6);sessionStorage[_0x2389b5(0x2cc)](_0x2389b5(0x4ab));const _0x818fff=calculateFinalPodiumScores(_0x5c6da6);showPodiumView(_0x818fff,'sync');break;}}function renderAdminSyncQuestionView(_0x40a5e7){const _0x4f558c=_0x3076df,_0x5f372c=_0x40a5e7[_0x4f558c(0xb27)],_0x4d82e6=_0x40a5e7['shuffledQuiz'][_0x4f558c(0x796)][_0x5f372c],_0x5bdf72=_0x40a5e7[_0x4f558c(0x65b)][_0x4f558c(0x796)]['length'],_0xe0b8c1=Object['values'](_0x40a5e7[_0x4f558c(0x501)]||{})[_0x4f558c(0x475)](_0x166e0b=>_0x166e0b['status']!==_0x4f558c(0x9b6)),_0x344f34=_0xe0b8c1['filter'](_0x3f18f5=>_0x3f18f5[_0x4f558c(0x466)])['length'],_0x4eec5a=_0x344f34===_0xe0b8c1[_0x4f558c(0x3b0)]&&_0xe0b8c1[_0x4f558c(0x3b0)]>0x0,_0x163533=(_0x4d82e6[_0x4f558c(0x7ce)]||[])[_0x4f558c(0x3c9)](_0x53f8b3=>_0x4f558c(0x3cc)+_0x53f8b3+_0x4f558c(0x9b9))['join']('');liveGameView[_0x4f558c(0x9c8)]=_0x4f558c(0x4a3)+(_0x5f372c+0x1)+'\x20/\x20'+_0x5bdf72+_0x4f558c(0x9d9)+_0x344f34+'/'+_0xe0b8c1[_0x4f558c(0x3b0)]+'</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x4d82e6[_0x4f558c(0x833)]+_0x4f558c(0xc79)+_0x163533+_0x4f558c(0x9e7)+(!_0x4eec5a?_0x4f558c(0x1dc):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x4f558c(0x278)])MathJax[_0x4f558c(0x73c)]();document[_0x4f558c(0x48d)](_0x4f558c(0x769))['addEventListener'](_0x4f558c(0x623),async()=>{const _0x59d2fb=_0x4f558c,_0x4aebf7=doc(db,_0x59d2fb(0xaa1)+appId+_0x59d2fb(0x947),currentLiveGameId);await updateDoc(_0x4aebf7,{'status':'results'});}),document[_0x4f558c(0x48d)](_0x4f558c(0xb62))[_0x4f558c(0x2ee)]=()=>{openScratchpad(_0x4d82e6,_0x4d82e6['options']||[]);},document[_0x4f558c(0x48d)](_0x4f558c(0xb1f))[_0x4f558c(0x331)](_0x4f558c(0x623),()=>{const _0x286457=_0x4f558c;document[_0x286457(0x48d)](_0x286457(0xb2d))[_0x286457(0xbbb)][_0x286457(0x1b8)](_0x286457(0xc6c));});}function renderSyncLeaderboardView(_0x2e6ee7,_0x451c8b){const _0x4821c1=_0x3076df,_0x39cf38=Object[_0x4821c1(0x391)](_0x2e6ee7[_0x4821c1(0x501)]||{});_0x39cf38[_0x4821c1(0xa41)]((_0x321e42,_0x958d9c)=>_0x958d9c[_0x4821c1(0x3cb)]-_0x321e42[_0x4821c1(0x3cb)]);const _0x7ede3=_0x39cf38[_0x4821c1(0x9e0)](0x0,0x5);let _0x3912b7='';if(_0x451c8b){const _0x5b8f44=_0x2e6ee7[_0x4821c1(0xb27)]>=_0x2e6ee7[_0x4821c1(0x65b)]['questions'][_0x4821c1(0x3b0)]-0x1;_0x3912b7='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x5b8f44?'ดูผลสรุปสุดท้าย':'ข้อต่อไป')+_0x4821c1(0x89d);}else _0x3912b7=_0x4821c1(0xd2a);liveGameView[_0x4821c1(0x9c8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x7ede3['map']((_0x4d3e56,_0x2200b0)=>_0x4821c1(0x5bc)+(_0x2200b0+0x1)+'.\x20'+_0x4d3e56['name']+_0x4821c1(0xd1a)+_0x4d3e56[_0x4821c1(0x3cb)]+_0x4821c1(0x617))['join']('')+_0x4821c1(0x736)+_0x3912b7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x451c8b&&document[_0x4821c1(0x48d)](_0x4821c1(0xad5))[_0x4821c1(0x331)](_0x4821c1(0x623),async()=>{const _0x1a374e=_0x4821c1,_0xc0b06d=doc(db,'artifacts/'+appId+_0x1a374e(0x947),currentLiveGameId),_0x4757d2=_0x2e6ee7[_0x1a374e(0xb27)]+0x1;if(_0x4757d2<_0x2e6ee7[_0x1a374e(0x65b)][_0x1a374e(0x796)][_0x1a374e(0x3b0)]){const _0x45315b={};Object[_0x1a374e(0x3ca)](_0x2e6ee7['players'])['forEach'](_0x5f33f5=>{const _0xada69f=_0x1a374e;_0x45315b[_0xada69f(0x5a2)+_0x5f33f5+_0xada69f(0x519)]=![];}),await updateDoc(_0xc0b06d,{..._0x45315b,'status':_0x1a374e(0x41d),'currentQuestionIndex':_0x4757d2,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0xc0b06d,{'status':_0x1a374e(0xa54)});});}async function handleJoinSyncGame(){const _0x495ba9=_0x3076df,_0x18f6ae=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x18f6ae||_0x18f6ae[_0x495ba9(0x7fe)]()[_0x495ba9(0x3b0)]!==0x2){showMessage(_0x495ba9(0x1f8));return;}try{const _0x295aac=collection(db,_0x495ba9(0xaa1)+appId+'/public/data/syncGames'),_0xd2cd7d=query(_0x295aac,where('pin','==',_0x18f6ae[_0x495ba9(0x7fe)]()),where(_0x495ba9(0x732),'==',_0x495ba9(0xab6))),_0x1d099f=await getDocs(_0xd2cd7d);if(_0x1d099f[_0x495ba9(0x3a7)]){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x5a8dac=_0x1d099f[_0x495ba9(0x9a1)][0x0];currentLiveGameId=_0x5a8dac['id'];const _0x44cb78=_0x5a8dac[_0x495ba9(0x995)](),_0x2a5cbe=doc(db,_0x495ba9(0xaa1)+appId+_0x495ba9(0x695),_0x44cb78[_0x495ba9(0xccd)]),_0x1a6989=await getDoc(_0x2a5cbe);if(!_0x1a6989[_0x495ba9(0x6b3)]())throw new Error(_0x495ba9(0x2c4));const _0x3d1344=_0x1a6989[_0x495ba9(0x995)](),_0x3496fc=doc(db,_0x495ba9(0xaa1)+appId+_0x495ba9(0x8bc),_0x3d1344[_0x495ba9(0x2a3)]),_0x2dd1a9=await getDoc(_0x3496fc);if(!_0x2dd1a9[_0x495ba9(0x6b3)]())throw new Error(_0x495ba9(0x32e));currentQuizData=_0x44cb78['shuffledQuiz'];const _0x24c207=_0x2dd1a9[_0x495ba9(0x995)]();showView(_0x495ba9(0x6e8)),showTeamPlayerSelection(_0x24c207[_0x495ba9(0x589)],_0x3d1344['topic']);const _0x5d4a34=document['getElementById'](_0x495ba9(0x927));_0x5d4a34['onclick']=confirmAndJoinSyncGame;}catch(_0x9485c1){console[_0x495ba9(0x405)](_0x495ba9(0x564),_0x9485c1),showMessage(_0x495ba9(0x427)+_0x9485c1[_0x495ba9(0x5ce)]);}}function updateStudentSyncView(_0x577955){const _0x2b7c35=_0x3076df,_0x3a7602=_0x577955[_0x2b7c35(0x501)][localTeamPlayers[0x0]];switch(_0x577955[_0x2b7c35(0x732)]){case _0x2b7c35(0xab6):showView(_0x2b7c35(0x3d8)),liveGameView[_0x2b7c35(0x9c8)]=_0x2b7c35(0x6e1);break;case _0x2b7c35(0x41d):const _0x1f1d44=localTeamPlayers[_0x2b7c35(0x7f5)](_0x504fc8=>_0x577955[_0x2b7c35(0x501)][_0x504fc8]?.[_0x2b7c35(0x466)]===!![]);_0x1f1d44?liveGameView[_0x2b7c35(0x9c8)]=_0x2b7c35(0x3be):renderStudentSyncQuestionView(_0x577955);break;case _0x2b7c35(0xb97):liveGameView[_0x2b7c35(0x9c8)]=_0x2b7c35(0x4e4);break;case _0x2b7c35(0x7fa):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x577955);break;case _0x2b7c35(0xa54):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x2b7c35(0x801),handleFullscreenChange),document[_0x2b7c35(0x210)](_0x2b7c35(0xcfa),handleVisibilityChange),sessionStorage[_0x2b7c35(0x2cc)](_0x2b7c35(0x4ab));const _0x322cca=calculateFinalPodiumScores(_0x577955);showPodiumView(_0x322cca,_0x2b7c35(0xc90));break;}}function renderStudentSyncResultsView(_0x1b45c1){const _0xe176de=_0x3076df,_0x4a7827=localTeamPlayers[_0xe176de(0x3c9)](_0xe5ce2f=>_0x1b45c1[_0xe176de(0x501)][_0xe5ce2f])['filter'](Boolean);_0x4a7827[_0xe176de(0xa41)]((_0x2b605f,_0x567c58)=>(_0x567c58[_0xe176de(0x3cb)]||0x0)-(_0x2b605f[_0xe176de(0x3cb)]||0x0));const _0x3af8a0=_0x1b45c1[_0xe176de(0xb27)]>=_0x1b45c1[_0xe176de(0x65b)][_0xe176de(0x796)][_0xe176de(0x3b0)]-0x1;let _0x2bbbbb='';_0x3af8a0?_0x2bbbbb=_0xe176de(0x4de):_0x2bbbbb=_0xe176de(0x611);const _0x18aa18=_0xe176de(0x23b)+_0x4a7827['map']((_0x87dbba,_0x218364)=>_0xe176de(0x190)+(_0x218364+0x1)+_0xe176de(0x557)+_0x87dbba['name']+_0xe176de(0x97a)+_0x87dbba['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xe176de(0x28d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2bbbbb+_0xe176de(0x9bb);liveGameView[_0xe176de(0x9c8)]=_0x18aa18;}function renderStudentSyncQuestionView(_0x48afd9){const _0xaba33c=_0x3076df;while(localPlayerTurnIndex<localTeamPlayers[_0xaba33c(0x3b0)]&&_0x48afd9[_0xaba33c(0x501)][localTeamPlayers[localPlayerTurnIndex]]?.[_0xaba33c(0x466)]===!![]){localPlayerTurnIndex++;}const _0x3382f4=localTeamPlayers[localPlayerTurnIndex];if(!_0x3382f4)return;const _0x5b6275=_0x48afd9[_0xaba33c(0xb27)],_0x26a08d=_0x48afd9['shuffledQuiz'][_0xaba33c(0x796)]['length'],_0x2333c5=_0x48afd9[_0xaba33c(0x65b)][_0xaba33c(0x796)][_0x5b6275],_0x185a71=_0x2333c5['questionType']||_0x48afd9[_0xaba33c(0x65b)][_0xaba33c(0xcb9)];let _0xb32e7a='',_0xd29fd0=![];switch(_0x185a71){case'true_false':_0xb32e7a=_0xaba33c(0xb4f);break;case'short_answer':case _0xaba33c(0xa70):_0xd29fd0=!![],_0xb32e7a=_0xaba33c(0x25b);break;case _0xaba33c(0xd01):_0xd29fd0=!![],_0xb32e7a=_0xaba33c(0x23d)+(_0x2333c5[_0xaba33c(0x1cf)]||[])[_0xaba33c(0x3c9)](_0x5a62ed=>'<option\x20value=\x22'+_0x5a62ed+'\x22>'+_0x5a62ed+_0xaba33c(0x881))[_0xaba33c(0x28d)]('')+_0xaba33c(0xc2f);break;case'multiple_choice':default:_0xb32e7a=(_0x2333c5['options']||[])['map']((_0x54ef40,_0x342bcc)=>_0xaba33c(0xc98)+_0x342bcc+_0xaba33c(0x34a)+_0x54ef40+_0xaba33c(0xc58))[_0xaba33c(0x28d)]('');break;}liveGameView['innerHTML']=_0xaba33c(0x5f0)+(_0x5b6275+0x1)+_0xaba33c(0x41b)+_0x26a08d+_0xaba33c(0x293)+_0x3382f4+_0xaba33c(0x6f0)+(_0x2333c5['questionText']||_0x2333c5[_0xaba33c(0x255)])+_0xaba33c(0x843)+_0xb32e7a+_0xaba33c(0x291);if(window[_0xaba33c(0x278)])MathJax[_0xaba33c(0x73c)]();function _0x47a504(_0x5d609e,_0x3b81c1,_0x37d893,_0x312519){const _0x1dcde2=_0xaba33c,_0xe1d9ff=_0x37d893['isConfidenceScoringEnabled']===!![];if(_0xe1d9ff){document[_0x1dcde2(0x48d)](_0x1dcde2(0x8c5))[_0x1dcde2(0x40c)][_0x1dcde2(0x479)]='sync';const _0x180175=document[_0x1dcde2(0x48d)](_0x1dcde2(0x579));_0x180175[_0x1dcde2(0x40c)]['answerValue']=_0x5d609e,_0x180175['dataset']['question']=JSON[_0x1dcde2(0x4c6)](_0x3b81c1),_0x180175[_0x1dcde2(0x40c)][_0x1dcde2(0x622)]=JSON[_0x1dcde2(0x4c6)](_0x37d893),_0x180175[_0x1dcde2(0x40c)]['playerName']=_0x312519,document[_0x1dcde2(0x48d)](_0x1dcde2(0x8c5))['classList']['remove'](_0x1dcde2(0xc6c));}else handleSyncAnswerSubmit(_0x5d609e,_0x3b81c1,_0x37d893,_0x312519,![]);}_0xd29fd0?document['getElementById'](_0xaba33c(0x93b))[_0xaba33c(0x331)](_0xaba33c(0x623),()=>{const _0x19eb8d=_0xaba33c,_0x167d99=document[_0x19eb8d(0x48d)](_0x19eb8d(0x5b9))||document[_0x19eb8d(0x48d)]('sync-matching-select');if(_0x167d99[_0x19eb8d(0xaef)][_0x19eb8d(0x7fe)]()===''){showMessage(_0x19eb8d(0x315));return;}_0x47a504(_0x167d99[_0x19eb8d(0xaef)],_0x2333c5,_0x48afd9,_0x3382f4);}):document[_0xaba33c(0x599)](_0xaba33c(0xb0d))[_0xaba33c(0x9c9)](_0x5ab118=>{const _0x37db86=_0xaba33c;_0x5ab118[_0x37db86(0x331)](_0x37db86(0x623),()=>{const _0x3437da=_0x37db86;_0x47a504(_0x5ab118[_0x3437da(0x40c)][_0x3437da(0xaef)],_0x2333c5,_0x48afd9,_0x3382f4);});});}async function handleSyncAnswerSubmit(_0x4b010a,_0x16c7e2,_0x6848dd,_0x129b65,_0x3feedf){const _0x40084f=_0x3076df;document['querySelectorAll']('.live-answer-btn,\x20#sync-submit-btn')[_0x40084f(0x9c9)](_0x138230=>_0x138230['disabled']=!![]);const _0x31433a=_0x16c7e2['questionType']||_0x6848dd[_0x40084f(0x65b)]['quizType'];let _0x3bfede=![],_0x2285a3=_0x4b010a;switch(_0x31433a){case _0x40084f(0x35a):const _0x563254=parseInt(_0x4b010a),_0x2e94a5=_0x16c7e2[_0x40084f(0x369)]===!![]||String(_0x16c7e2[_0x40084f(0x369)])['toLowerCase']()==='true';_0x3bfede=_0x563254===0x0&&_0x2e94a5||_0x563254===0x1&&!_0x2e94a5,_0x2285a3=_0x563254===0x0?'ใช่\x20/\x20ถูก':_0x40084f(0x943);break;case _0x40084f(0x296):case _0x40084f(0xa70):_0x3bfede=await gradeShortAnswer(_0x4b010a,_0x16c7e2);break;case'matching_item':_0x3bfede=_0x4b010a===_0x16c7e2[_0x40084f(0x4fc)];break;case'multiple_choice':default:const _0x551300=parseInt(_0x4b010a);_0x3bfede=_0x551300===_0x16c7e2[_0x40084f(0x60b)];_0x16c7e2[_0x40084f(0x7ce)]&&_0x16c7e2[_0x40084f(0x7ce)][_0x551300]&&(_0x2285a3=_0x16c7e2[_0x40084f(0x7ce)][_0x551300]);break;}const _0xf30b41=_0x3bfede?0x1:0x0,_0x1b605b=doc(db,'artifacts/'+appId+_0x40084f(0x947),currentLiveGameId),_0x54325e={};_0x54325e[_0x40084f(0x5a2)+_0x129b65+'.score']=increment(_0xf30b41),_0x54325e['players.'+_0x129b65+_0x40084f(0x519)]=!![];let _0x3c17e2=null;(_0x31433a===_0x40084f(0xa73)||_0x31433a===_0x40084f(0x35a)||_0x31433a==='fill_in_with_choices')&&(_0x3c17e2=parseInt(_0x4b010a));_0x54325e[_0x40084f(0x5a2)+_0x129b65+_0x40084f(0x81a)]=_0x3c17e2;const _0x24d1da={'questionIndex':_0x6848dd['currentQuestionIndex'],'questionId':_0x16c7e2['id'],'answer':_0x4b010a,'answerText':_0x2285a3,'isCorrect':_0x3bfede,'originalQuestionText':_0x16c7e2[_0x40084f(0x833)]||_0x16c7e2[_0x40084f(0x255)],'wasConfident':_0x3feedf};_0x54325e[_0x40084f(0x5a2)+_0x129b65+_0x40084f(0xa1f)]=arrayUnion(_0x24d1da),await updateDoc(_0x1b605b,_0x54325e);}initialize();
