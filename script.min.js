const _0x56afb4=_0x1cf4;(function(_0x28105c,_0x1811a3){const _0x4d0563=_0x1cf4,_0x55cf73=_0x28105c();while(!![]){try{const _0x6b58ef=parseInt(_0x4d0563(0x4cd))/0x1*(parseInt(_0x4d0563(0x477))/0x2)+-parseInt(_0x4d0563(0x3a6))/0x3+-parseInt(_0x4d0563(0x8db))/0x4*(-parseInt(_0x4d0563(0x83f))/0x5)+-parseInt(_0x4d0563(0x430))/0x6*(parseInt(_0x4d0563(0x5b5))/0x7)+-parseInt(_0x4d0563(0x619))/0x8*(parseInt(_0x4d0563(0x23c))/0x9)+parseInt(_0x4d0563(0x486))/0xa+parseInt(_0x4d0563(0x909))/0xb;if(_0x6b58ef===_0x1811a3)break;else _0x55cf73['push'](_0x55cf73['shift']());}catch(_0x4c067f){_0x55cf73['push'](_0x55cf73['shift']());}}}(_0x2513,0xc0144));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x5ead0d=_0x1cf4;if(_0x5ead0d(0x550)in navigator)try{wakeLock=await navigator['wakeLock'][_0x5ead0d(0x153)](_0x5ead0d(0x78b)),console[_0x5ead0d(0x854)](_0x5ead0d(0x2e1)),wakeLock[_0x5ead0d(0xf2)](_0x5ead0d(0x85f),()=>{const _0x538262=_0x5ead0d;console['log'](_0x538262(0x60b));});}catch(_0x369978){console[_0x5ead0d(0x7d6)](_0x5ead0d(0x52a)+_0x369978[_0x5ead0d(0x79e)]+',\x20'+_0x369978[_0x5ead0d(0x69a)]);}else console['warn'](_0x5ead0d(0x579));},releaseWakeLock=async()=>{const _0x4bc45f=_0x1cf4;wakeLock!==null&&(await wakeLock[_0x4bc45f(0x85f)](),wakeLock=null,console['log'](_0x4bc45f(0x6c9)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x4df2da=_0x1cf4;if(dimTimer)clearTimeout(dimTimer);document[_0x4df2da(0x71d)][_0x4df2da(0x92b)][_0x4df2da(0x112)](_0x4df2da(0x596)),dimTimer=setTimeout(()=>{const _0x3e20f1=_0x4df2da;document[_0x3e20f1(0x71d)]['classList'][_0x3e20f1(0x3fa)]('dimmed'),console[_0x3e20f1(0x854)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0x3f1390=_0x1cf4;if(dimTimer)clearTimeout(dimTimer);document[_0x3f1390(0x71d)][_0x3f1390(0x92b)]['remove'](_0x3f1390(0x596)),window[_0x3f1390(0xd5)](_0x3f1390(0x493),resetDimTimer),window[_0x3f1390(0xd5)]('mousedown',resetDimTimer),window[_0x3f1390(0xd5)](_0x3f1390(0x50a),resetDimTimer),window[_0x3f1390(0xd5)](_0x3f1390(0x7b9),resetDimTimer),console[_0x3f1390(0x854)](_0x3f1390(0x2c0));}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x56afb4(0x641)};const allMathTopics=[{'category':_0x56afb4(0x923),'name':_0x56afb4(0x91f)},{'category':_0x56afb4(0x923),'name':'ระบบเลขและค่าประจำหลัก'},{'category':'จำนวนและการดำเนินการ','name':_0x56afb4(0x4dc)},{'category':'จำนวนและการดำเนินการ','name':_0x56afb4(0x435)},{'category':_0x56afb4(0x923),'name':_0x56afb4(0x72d)},{'category':_0x56afb4(0x923),'name':_0x56afb4(0x37c)},{'category':_0x56afb4(0x923),'name':'การคูณ'},{'category':_0x56afb4(0x923),'name':'การหาร'},{'category':_0x56afb4(0x923),'name':_0x56afb4(0x773)},{'category':_0x56afb4(0x923),'name':'จำนวนเต็มลบ'},{'category':_0x56afb4(0x923),'name':_0x56afb4(0x29f)},{'category':_0x56afb4(0x923),'name':_0x56afb4(0x583)},{'category':_0x56afb4(0x923),'name':_0x56afb4(0x69b)},{'category':_0x56afb4(0x923),'name':_0x56afb4(0xf1)},{'category':_0x56afb4(0x923),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x56afb4(0x923),'name':'ค.ร.น.\x20(LCM)'},{'category':'จำนวนและการดำเนินการ','name':_0x56afb4(0x5bd)},{'category':_0x56afb4(0x923),'name':_0x56afb4(0x12f)},{'category':'จำนวนและการดำเนินการ','name':_0x56afb4(0x875)},{'category':_0x56afb4(0x923),'name':_0x56afb4(0x4f4)},{'category':_0x56afb4(0x923),'name':'การลบเศษส่วน'},{'category':_0x56afb4(0x923),'name':_0x56afb4(0x584)},{'category':_0x56afb4(0x923),'name':'การหารเศษส่วน'},{'category':_0x56afb4(0x923),'name':_0x56afb4(0xfb)},{'category':'จำนวนและการดำเนินการ','name':_0x56afb4(0x3da)},{'category':'จำนวนและการดำเนินการ','name':'การบวกทศนิยม'},{'category':_0x56afb4(0x923),'name':'การลบทศนิยม'},{'category':_0x56afb4(0x923),'name':_0x56afb4(0x1ec)},{'category':_0x56afb4(0x923),'name':'การหารทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x56afb4(0x923),'name':_0x56afb4(0x8f5)},{'category':_0x56afb4(0x923),'name':_0x56afb4(0x13f)},{'category':'จำนวนและการดำเนินการ','name':_0x56afb4(0x1c5)},{'category':_0x56afb4(0x923),'name':_0x56afb4(0x4a8)},{'category':_0x56afb4(0x923),'name':'รากที่สองและที่สาม'},{'category':_0x56afb4(0x923),'name':_0x56afb4(0x35d)},{'category':_0x56afb4(0x923),'name':_0x56afb4(0x517)},{'category':_0x56afb4(0x5e9),'name':_0x56afb4(0x79c)},{'category':_0x56afb4(0x5e9),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x56afb4(0x5e9),'name':_0x56afb4(0x667)},{'category':_0x56afb4(0x5e9),'name':_0x56afb4(0x147)},{'category':_0x56afb4(0x5e9),'name':_0x56afb4(0x83c)},{'category':_0x56afb4(0x5e9),'name':_0x56afb4(0x580)},{'category':_0x56afb4(0x5e9),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x56afb4(0x5e9),'name':_0x56afb4(0x2b7)},{'category':_0x56afb4(0x5e9),'name':_0x56afb4(0x209)},{'category':_0x56afb4(0x5e9),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x56afb4(0x5e9),'name':_0x56afb4(0x901)},{'category':_0x56afb4(0x5e9),'name':_0x56afb4(0x194)},{'category':_0x56afb4(0x5e9),'name':'สเกลและแผนที่'},{'category':'การวัด','name':_0x56afb4(0x884)},{'category':_0x56afb4(0x783),'name':_0x56afb4(0x8cb)},{'category':_0x56afb4(0x783),'name':_0x56afb4(0x672)},{'category':_0x56afb4(0x783),'name':_0x56afb4(0x4de)},{'category':_0x56afb4(0x783),'name':_0x56afb4(0x2b7)},{'category':_0x56afb4(0x783),'name':_0x56afb4(0x480)},{'category':_0x56afb4(0x783),'name':_0x56afb4(0x8d9)},{'category':_0x56afb4(0x783),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x56afb4(0x783),'name':_0x56afb4(0x290)},{'category':_0x56afb4(0x783),'name':_0x56afb4(0x193)},{'category':'เรขาคณิต','name':_0x56afb4(0x737)},{'category':_0x56afb4(0x783),'name':_0x56afb4(0x2b2)},{'category':'เรขาคณิต','name':_0x56afb4(0x1ba)},{'category':_0x56afb4(0x783),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x56afb4(0x783),'name':_0x56afb4(0x2d0)},{'category':_0x56afb4(0x783),'name':_0x56afb4(0x102)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x136)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x63c)},{'category':_0x56afb4(0xd4),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x56afb4(0xd4),'name':'การแยกตัวประกอบ'},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x241)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x8c3)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x380)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x56afb4(0x464)},{'category':_0x56afb4(0xd4),'name':'สมการค่าสัมบูรณ์'},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x48f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x56afb4(0x4fd)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการยกกำลัง'},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x120)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x577)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x640)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x662)},{'category':_0x56afb4(0xd4),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x56afb4(0x57c)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x722)},{'category':_0x56afb4(0xd4),'name':'ฟังก์ชันผกผัน'},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x371)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x3ef)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x551)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x4a1)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x40c)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x86c)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x535)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x28c)},{'category':_0x56afb4(0xd4),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x56afb4(0xd4),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x889)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x53c)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x582)},{'category':_0x56afb4(0xd4),'name':_0x56afb4(0x7ea)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x56afb4(0x7d0)},{'category':_0x56afb4(0x501),'name':_0x56afb4(0x8fe)},{'category':'เรขาคณิตวิเคราะห์','name':_0x56afb4(0x3f9)},{'category':'เรขาคณิตวิเคราะห์','name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x56afb4(0x501),'name':_0x56afb4(0x6d7)},{'category':_0x56afb4(0x501),'name':_0x56afb4(0x2e0)},{'category':_0x56afb4(0x501),'name':_0x56afb4(0x6df)},{'category':_0x56afb4(0x501),'name':_0x56afb4(0x25f)},{'category':_0x56afb4(0x501),'name':_0x56afb4(0x67d)},{'category':'เรขาคณิตวิเคราะห์','name':_0x56afb4(0xff)},{'category':'ตรีโกณมิติ','name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x56afb4(0x63f),'name':_0x56afb4(0x546)},{'category':_0x56afb4(0x63f),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x56afb4(0x63f),'name':'เรเดียนและการแปลงหน่วย'},{'category':'ตรีโกณมิติ','name':_0x56afb4(0x782)},{'category':_0x56afb4(0x63f),'name':_0x56afb4(0x41c)},{'category':_0x56afb4(0x63f),'name':_0x56afb4(0x4f1)},{'category':_0x56afb4(0x63f),'name':_0x56afb4(0x42d)},{'category':'ตรีโกณมิติ','name':'สมการตรีโกณมิติ'},{'category':'ตรีโกณมิติ','name':_0x56afb4(0x1a6)},{'category':_0x56afb4(0x63f),'name':_0x56afb4(0x7d9)},{'category':_0x56afb4(0x6dc),'name':_0x56afb4(0x408)},{'category':_0x56afb4(0x6dc),'name':_0x56afb4(0x6d5)},{'category':_0x56afb4(0x6dc),'name':_0x56afb4(0x81e)},{'category':_0x56afb4(0x6dc),'name':_0x56afb4(0x683)},{'category':'สถิติและความน่าจะเป็น','name':_0x56afb4(0x7d4)},{'category':'สถิติและความน่าจะเป็น','name':_0x56afb4(0x895)},{'category':'สถิติและความน่าจะเป็น','name':_0x56afb4(0x43b)},{'category':_0x56afb4(0x6dc),'name':_0x56afb4(0x404)},{'category':_0x56afb4(0x6dc),'name':'ฐานนิยม'},{'category':_0x56afb4(0x6dc),'name':_0x56afb4(0x1e0)},{'category':_0x56afb4(0x6dc),'name':_0x56afb4(0x1fa)},{'category':_0x56afb4(0x6dc),'name':_0x56afb4(0x368)},{'category':_0x56afb4(0x6dc),'name':_0x56afb4(0x57f)},{'category':_0x56afb4(0x6dc),'name':_0x56afb4(0x6ef)},{'category':'สถิติและความน่าจะเป็น','name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x56afb4(0x6dc),'name':_0x56afb4(0x7c2)},{'category':_0x56afb4(0x6dc),'name':'กฎบวกและกฎคูณ'},{'category':_0x56afb4(0x6dc),'name':_0x56afb4(0x798)},{'category':'สถิติและความน่าจะเป็น','name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':'สถิติและความน่าจะเป็น','name':_0x56afb4(0x200)},{'category':_0x56afb4(0x6dc),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x56afb4(0x6dc),'name':_0x56afb4(0x5ca)},{'category':_0x56afb4(0x6dc),'name':_0x56afb4(0x774)},{'category':_0x56afb4(0x6dc),'name':_0x56afb4(0x1bb)},{'category':_0x56afb4(0x366),'name':_0x56afb4(0x8b1)},{'category':_0x56afb4(0x366),'name':'ความต่อเนื่อง'},{'category':'แคลคูลัสเบื้องต้น','name':_0x56afb4(0x73c)},{'category':_0x56afb4(0x366),'name':_0x56afb4(0x697)},{'category':_0x56afb4(0x366),'name':_0x56afb4(0x25e)},{'category':_0x56afb4(0x366),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x56afb4(0x366),'name':_0x56afb4(0x2f9)},{'category':_0x56afb4(0x366),'name':_0x56afb4(0x5a9)},{'category':_0x56afb4(0x366),'name':_0x56afb4(0x768)},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์ไม่จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์จำกัด'},{'category':_0x56afb4(0x366),'name':_0x56afb4(0x885)},{'category':_0x56afb4(0x366),'name':_0x56afb4(0x42b)},{'category':_0x56afb4(0x37b),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x56afb4(0x411)},{'category':_0x56afb4(0x37b),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x56afb4(0x37b),'name':_0x56afb4(0x344)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'อินเวอร์สของเมทริกซ์'},{'category':_0x56afb4(0x37b),'name':'ดีเทอร์มิแนนต์'},{'category':_0x56afb4(0x37b),'name':_0x56afb4(0x451)},{'category':_0x56afb4(0x17e),'name':_0x56afb4(0x47b)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x56afb4(0x18b)},{'category':_0x56afb4(0x17e),'name':_0x56afb4(0x3b3)},{'category':_0x56afb4(0x17e),'name':'ค่าเสื่อมราคา'},{'category':'คณิตการเงิน/บูรณาการ','name':'ร้อยละประยุกต์'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x56afb4(0x385)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x56afb4(0x6d8)},{'category':_0x56afb4(0x4c3),'name':_0x56afb4(0x6e0)}];function renderTopicCheckboxes(){const _0x5aab8e=_0x56afb4,_0x41a61c=document['getElementById'](_0x5aab8e(0x908));if(!_0x41a61c)return;const _0x2a948a=allMathTopics,_0x2205ac=customMathTopics[_0x5aab8e(0x757)](_0xed0dec=>({'id':_0xed0dec['id'],'category':_0x5aab8e(0x890),'name':_0xed0dec[_0x5aab8e(0x79e)]})),_0x4384e2=[..._0x2a948a,..._0x2205ac],_0x266ef5=_0x4384e2[_0x5aab8e(0x195)]((_0x4fddbb,_0x54eaf1)=>{const _0x359c8f=_0x5aab8e;return!_0x4fddbb[_0x54eaf1[_0x359c8f(0x266)]]&&(_0x4fddbb[_0x54eaf1[_0x359c8f(0x266)]]=[]),_0x4fddbb[_0x54eaf1['category']][_0x359c8f(0x6e6)](_0x54eaf1),_0x4fddbb;},{});let _0x29e611='';const _0x364f11=[_0x5aab8e(0x890),...Object['keys'](_0x266ef5)[_0x5aab8e(0x13b)](_0x25acc1=>_0x25acc1!==_0x5aab8e(0x890))];for(const _0x17196d of _0x364f11){if(_0x266ef5[_0x17196d]){const _0x2fcaa8=_0x17196d===_0x5aab8e(0x890),_0x113fa7=_0x2fcaa8?'fas\x20fa-user-edit':_0x5aab8e(0x934),_0x557a1d=_0x2fcaa8?_0x5aab8e(0x2d3):'text-indigo-700';_0x29e611+=_0x5aab8e(0x8e1),_0x29e611+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x557a1d+_0x5aab8e(0x6f7)+_0x113fa7+_0x5aab8e(0x174)+_0x17196d+_0x5aab8e(0x767),_0x266ef5[_0x17196d][_0x5aab8e(0x293)](_0x287a3e=>{const _0x45f7c9=_0x5aab8e,_0x19a8f1=!!_0x287a3e['id'],_0x391c90=_0x19a8f1?_0x45f7c9(0x89c)+_0x287a3e['id']+_0x45f7c9(0x14e)+_0x287a3e['id']+_0x45f7c9(0x2de)+_0x287a3e['id']+_0x45f7c9(0x57d)+_0x287a3e['id']+_0x45f7c9(0x8fc):'';_0x29e611+=_0x45f7c9(0x11c)+(_0x287a3e['id']||'')+_0x45f7c9(0x541)+_0x287a3e[_0x45f7c9(0x79e)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x287a3e[_0x45f7c9(0x79e)]+_0x45f7c9(0x129)+(_0x19a8f1?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x287a3e[_0x45f7c9(0x79e)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x391c90+_0x45f7c9(0x327);}),_0x29e611+='</div>';}}_0x41a61c[_0x5aab8e(0x8a3)]=_0x29e611||_0x5aab8e(0x48c),_0x41a61c[_0x5aab8e(0xd5)]('change',updateSelectedTopicsCount),_0x41a61c[_0x5aab8e(0xf2)](_0x5aab8e(0x589),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x4f8aa1,_0x40236d){const _0x4babf0=_0x56afb4;if(!_0x4f8aa1||!_0x40236d[_0x4babf0(0x4b1)]()){showMessage(_0x4babf0(0x32f));return;}try{const _0x575b6d=doc(db,_0x4babf0(0x58f)+appId+_0x4babf0(0xe9),_0x4f8aa1);await updateDoc(_0x575b6d,{'name':_0x40236d[_0x4babf0(0x4b1)]()}),showMessage(_0x4babf0(0x2f8));}catch(_0x3ff788){console[_0x4babf0(0x7d6)]('Error\x20updating\x20custom\x20topic:',_0x3ff788),showMessage(_0x4babf0(0x756));}}function toggleTopicEditMode(_0x3bccd5,_0x1aa14f){const _0x3dd1bb=_0x56afb4;if(!_0x3bccd5)return;const _0x568170=_0x3bccd5[_0x3dd1bb(0x351)]('.topic-name-display'),_0x4f55d4=_0x3bccd5[_0x3dd1bb(0x351)](_0x3dd1bb(0x458)),_0x1c3fd0=_0x3bccd5[_0x3dd1bb(0x351)](_0x3dd1bb(0x337)),_0x4055b5=_0x3bccd5[_0x3dd1bb(0x351)](_0x3dd1bb(0x772));_0x568170[_0x3dd1bb(0x92b)][_0x3dd1bb(0x406)](_0x3dd1bb(0x384),_0x1aa14f),_0x4f55d4[_0x3dd1bb(0x92b)][_0x3dd1bb(0x406)](_0x3dd1bb(0x384),!_0x1aa14f),_0x1c3fd0[_0x3dd1bb(0x92b)][_0x3dd1bb(0x406)](_0x3dd1bb(0x384),_0x1aa14f),_0x4055b5['classList'][_0x3dd1bb(0x406)](_0x3dd1bb(0x384),!_0x1aa14f),_0x1aa14f&&(_0x4f55d4['focus'](),_0x4f55d4[_0x3dd1bb(0x64c)]());}function updateSelectedTopicsCount(){const _0x430c74=_0x56afb4,_0x345a7e=document[_0x430c74(0x574)]('math-topics-checkbox-container'),_0x56bea7=_0x345a7e[_0x430c74(0x706)]('input[type=\x22checkbox\x22]:checked')['length'],_0x12a399=document[_0x430c74(0x574)](_0x430c74(0x78a));_0x56bea7>0x0?_0x12a399[_0x430c74(0x46f)]=_0x430c74(0x168)+_0x56bea7+_0x430c74(0x192):_0x12a399[_0x430c74(0x46f)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x56afb4(0x223),quizLeaderboardSortOrder=_0x56afb4(0x7e2),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x56afb4(0x622),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x56afb4(0x555),scratchpadPenColor=_0x56afb4(0x529),scratchpadPenSize=0x5;function getDistance(_0x4fed0f,_0x179d24){const _0x4169f1=_0x56afb4;return Math[_0x4169f1(0x64b)](Math[_0x4169f1(0x311)](_0x4fed0f['x']-_0x179d24['x'],0x2)+Math[_0x4169f1(0x311)](_0x4fed0f['y']-_0x179d24['y'],0x2));}function getMidpoint(_0x35ecf0,_0x2fcd57){return{'x':(_0x35ecf0['x']+_0x2fcd57['x'])/0x2,'y':(_0x35ecf0['y']+_0x2fcd57['y'])/0x2};}function getTransformedPoint(_0x5389ce,_0x37d56a){return{'x':(_0x5389ce-scratchpadOffset['x'])/scratchpadScale,'y':(_0x37d56a-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x38c659=_0x56afb4;if(!scratchpadCtx)return;const _0xf24d60=scratchpadCtx['canvas'],_0x1f2bad=window[_0x38c659(0x3d7)]||0x1,_0x226841=document['getElementById'](_0x38c659(0x647));_0x226841&&(_0x226841[_0x38c659(0x610)][_0x38c659(0x84e)]=_0x38c659(0x306),_0x226841[_0x38c659(0x610)]['transform']=_0x38c659(0x7f0)+scratchpadOffset['x']+_0x38c659(0x7ed)+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx[_0x38c659(0x470)](_0x1f2bad,0x0,0x0,_0x1f2bad,0x0,0x0),scratchpadCtx[_0x38c659(0x62d)](0x0,0x0,_0xf24d60[_0x38c659(0x3ab)],_0xf24d60[_0x38c659(0x2b1)]),scratchpadCtx['restore'](),scratchpadCtx[_0x38c659(0x8f6)](),scratchpadCtx[_0x38c659(0x479)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x38c659(0x69f)](scratchpadScale,scratchpadScale),strokes[_0x38c659(0x293)](_0x28f82a=>{drawStroke(_0x28f82a);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function handlePointerDown(_0x1c6266){const _0x3d1946=_0x56afb4;_0x1c6266[_0x3d1946(0x872)]();const _0x1d1d86=scratchpadCtx[_0x3d1946(0x21f)],_0x228b3f=_0x1d1d86[_0x3d1946(0x90a)](),_0x5084d2=_0x1c6266[_0x3d1946(0x33f)]||(_0x1c6266[_0x3d1946(0x254)]?_0x3d1946(0x51e):_0x3d1946(0x820));if(_0x5084d2==='pen'||_0x5084d2===_0x3d1946(0x820)){if(_0x1c6266[_0x3d1946(0x33f)]===_0x3d1946(0x820)&&_0x1c6266['button']!==0x0){_0x1c6266['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x1c6266[_0x3d1946(0x61c)],'y':_0x1c6266[_0x3d1946(0x5c2)]},_0x1d1d86[_0x3d1946(0x610)][_0x3d1946(0x760)]=_0x3d1946(0x85b));return;}isDrawingOnScratchpad=!![],redoStrokes=[];const _0xd8ac86=getTransformedPoint(_0x1c6266[_0x3d1946(0x61c)]-_0x228b3f[_0x3d1946(0x146)],_0x1c6266['clientY']-_0x228b3f[_0x3d1946(0x7de)]);let _0x414429={'tool':activeTool,'points':[_0xd8ac86]};if(activeTool===_0x3d1946(0x61b))_0x414429[_0x3d1946(0x2f0)]=scratchpadHighlighterColor,_0x414429['size']=scratchpadHighlighterSize;else activeTool===_0x3d1946(0x530)?(_0x414429['color']=scratchpadPenColor,_0x414429[_0x3d1946(0x900)]=scratchpadPenSize,_0x414429[_0x3d1946(0x2b6)]=Date['now']()):(_0x414429[_0x3d1946(0x2f0)]=scratchpadPenColor,_0x414429['size']=scratchpadPenSize);currentStroke=_0x414429;}else _0x1c6266['touches']&&(_0x1c6266[_0x3d1946(0x254)][_0x3d1946(0x261)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x1c6266[_0x3d1946(0x254)][0x0]['clientX'],'y':_0x1c6266[_0x3d1946(0x254)][0x0][_0x3d1946(0x5c2)]},{'x':_0x1c6266['touches'][0x1][_0x3d1946(0x61c)],'y':_0x1c6266[_0x3d1946(0x254)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x1c6266[_0x3d1946(0x254)][0x0]['clientX'],'y':_0x1c6266[_0x3d1946(0x254)][0x0][_0x3d1946(0x5c2)]},{'x':_0x1c6266[_0x3d1946(0x254)][0x1][_0x3d1946(0x61c)],'y':_0x1c6266[_0x3d1946(0x254)][0x1][_0x3d1946(0x5c2)]})));}function animateTrail(){const _0x42d0b7=_0x56afb4,_0x247e9b=Date[_0x42d0b7(0x5de)]();let _0x570591=![];strokes[_0x42d0b7(0x293)](_0xe52f73=>{const _0x3e2073=_0x42d0b7;if(_0xe52f73['tool']===_0x3e2073(0x530)){const _0x44af24=_0x247e9b-_0xe52f73['createdAt'];_0x44af24<TRAIL_DURATION?(_0xe52f73[_0x3e2073(0x8bc)]=0x1-_0x44af24/TRAIL_DURATION,_0x570591=!![]):_0xe52f73['opacity']=0x0;}}),strokes=strokes[_0x42d0b7(0x13b)](_0x3f8918=>_0x3f8918['tool']!==_0x42d0b7(0x530)||_0x3f8918['opacity']>0x0),redrawScratchpad(),_0x570591?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x40a0e1){const _0x57143c=_0x56afb4;if(!_0x40a0e1||_0x40a0e1[_0x57143c(0x5b3)][_0x57143c(0x261)]<0x1)return;scratchpadCtx[_0x57143c(0x8f6)](),scratchpadCtx[_0x57143c(0x211)]=_0x57143c(0x446),scratchpadCtx[_0x57143c(0x6d4)]='round';if(_0x40a0e1[_0x57143c(0x42a)]===_0x57143c(0x530)){const _0x2045f9=_0x40a0e1[_0x57143c(0x900)]/scratchpadScale;scratchpadCtx[_0x57143c(0x7bb)]=_0x40a0e1[_0x57143c(0x8bc)],scratchpadCtx[_0x57143c(0x165)]=_0x57143c(0x162),scratchpadCtx[_0x57143c(0x7b8)]=_0x2045f9*0x3,scratchpadCtx[_0x57143c(0x865)]=_0x57143c(0x92c),scratchpadCtx['lineWidth']=_0x2045f9*2.5,scratchpadCtx[_0x57143c(0x8c2)](),scratchpadCtx['moveTo'](_0x40a0e1[_0x57143c(0x5b3)][0x0]['x'],_0x40a0e1[_0x57143c(0x5b3)][0x0]['y']);for(let _0x4403b6=0x1;_0x4403b6<_0x40a0e1[_0x57143c(0x5b3)][_0x57143c(0x261)]-0x1;_0x4403b6++){const _0x4e1dae=getMidpoint(_0x40a0e1['points'][_0x4403b6],_0x40a0e1[_0x57143c(0x5b3)][_0x4403b6+0x1]);scratchpadCtx[_0x57143c(0x833)](_0x40a0e1[_0x57143c(0x5b3)][_0x4403b6]['x'],_0x40a0e1[_0x57143c(0x5b3)][_0x4403b6]['y'],_0x4e1dae['x'],_0x4e1dae['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x57143c(0x165)]=_0x57143c(0x7da),scratchpadCtx[_0x57143c(0x7b8)]=0x0,scratchpadCtx[_0x57143c(0x865)]=_0x57143c(0x180),scratchpadCtx[_0x57143c(0x7d7)]=_0x2045f9,scratchpadCtx[_0x57143c(0x182)](),scratchpadCtx[_0x57143c(0xee)]();}else{if(_0x40a0e1['tool']===_0x57143c(0x61b)){scratchpadCtx['globalCompositeOperation']=_0x57143c(0x4e1),scratchpadCtx[_0x57143c(0x865)]=_0x40a0e1[_0x57143c(0x2f0)],scratchpadCtx[_0x57143c(0x7d7)]=_0x40a0e1[_0x57143c(0x900)],scratchpadCtx[_0x57143c(0x8c2)](),scratchpadCtx[_0x57143c(0x626)](_0x40a0e1['points'][0x0]['x'],_0x40a0e1['points'][0x0]['y']);for(let _0x381b95=0x1;_0x381b95<_0x40a0e1[_0x57143c(0x5b3)][_0x57143c(0x261)]-0x1;_0x381b95++){const _0x43722f=getMidpoint(_0x40a0e1['points'][_0x381b95],_0x40a0e1['points'][_0x381b95+0x1]);scratchpadCtx[_0x57143c(0x833)](_0x40a0e1[_0x57143c(0x5b3)][_0x381b95]['x'],_0x40a0e1[_0x57143c(0x5b3)][_0x381b95]['y'],_0x43722f['x'],_0x43722f['y']);}scratchpadCtx[_0x57143c(0x182)](),scratchpadCtx[_0x57143c(0xee)]();}else{scratchpadCtx[_0x57143c(0x238)]=_0x40a0e1[_0x57143c(0x42a)]===_0x57143c(0x198)?_0x57143c(0x7c9):'source-over',scratchpadCtx[_0x57143c(0x865)]=_0x40a0e1['color'],scratchpadCtx['lineWidth']=_0x40a0e1[_0x57143c(0x900)],scratchpadCtx[_0x57143c(0x8c2)](),scratchpadCtx['moveTo'](_0x40a0e1[_0x57143c(0x5b3)][0x0]['x'],_0x40a0e1[_0x57143c(0x5b3)][0x0]['y']);for(let _0x19b677=0x1;_0x19b677<_0x40a0e1['points']['length']-0x1;_0x19b677++){const _0x16f28f=getMidpoint(_0x40a0e1[_0x57143c(0x5b3)][_0x19b677],_0x40a0e1[_0x57143c(0x5b3)][_0x19b677+0x1]);scratchpadCtx[_0x57143c(0x833)](_0x40a0e1[_0x57143c(0x5b3)][_0x19b677]['x'],_0x40a0e1[_0x57143c(0x5b3)][_0x19b677]['y'],_0x16f28f['x'],_0x16f28f['y']);}scratchpadCtx[_0x57143c(0x182)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x57143c(0x81f)]();}function handlePointerMove(_0x21a761){const _0x2c4e0c=_0x56afb4;_0x21a761['preventDefault']();const _0x4bf5ac=scratchpadCtx['canvas'],_0x53a257=_0x4bf5ac[_0x2c4e0c(0x90a)]();if(_0x21a761[_0x2c4e0c(0x254)]){if(_0x21a761['touches'][_0x2c4e0c(0x261)]===0x1&&isDrawingOnScratchpad){const _0x589a67=getTransformedPoint(_0x21a761['touches'][0x0][_0x2c4e0c(0x61c)]-_0x53a257[_0x2c4e0c(0x146)],_0x21a761[_0x2c4e0c(0x254)][0x0]['clientY']-_0x53a257[_0x2c4e0c(0x7de)]);currentStroke[_0x2c4e0c(0x5b3)][_0x2c4e0c(0x6e6)](_0x589a67),redrawScratchpad();}else{if(_0x21a761[_0x2c4e0c(0x254)][_0x2c4e0c(0x261)]===0x2&&isPanning){const _0x4053e8=getDistance({'x':_0x21a761[_0x2c4e0c(0x254)][0x0][_0x2c4e0c(0x61c)],'y':_0x21a761[_0x2c4e0c(0x254)][0x0]['clientY']},{'x':_0x21a761[_0x2c4e0c(0x254)][0x1][_0x2c4e0c(0x61c)],'y':_0x21a761['touches'][0x1][_0x2c4e0c(0x5c2)]}),_0x1eb2d8=getMidpoint({'x':_0x21a761['touches'][0x0][_0x2c4e0c(0x61c)],'y':_0x21a761[_0x2c4e0c(0x254)][0x0]['clientY']},{'x':_0x21a761['touches'][0x1][_0x2c4e0c(0x61c)],'y':_0x21a761['touches'][0x1]['clientY']}),_0x100e66=_0x4053e8/ initialPinchDistance,_0x1cfd7c=Math[_0x2c4e0c(0x89b)](Math[_0x2c4e0c(0x5cc)](scratchpadScale*_0x100e66,MIN_SCALE),MAX_SCALE),_0x2cff4d=_0x1eb2d8['x']-panStart['x'],_0x2e7a5c=_0x1eb2d8['y']-panStart['y'];scratchpadOffset['x']=_0x1eb2d8['x']-(_0x1eb2d8['x']-scratchpadOffset['x'])*(_0x1cfd7c/scratchpadScale),scratchpadOffset['y']=_0x1eb2d8['y']-(_0x1eb2d8['y']-scratchpadOffset['y'])*(_0x1cfd7c/scratchpadScale),scratchpadOffset['x']+=_0x2cff4d,scratchpadOffset['y']+=_0x2e7a5c,scratchpadScale=_0x1cfd7c,initialPinchDistance=_0x4053e8,panStart=_0x1eb2d8,redrawScratchpad();}}}else{if(isMousePanning){const _0x3467cb=_0x21a761[_0x2c4e0c(0x61c)]-panStart['x'],_0x34d5dd=_0x21a761['clientY']-panStart['y'];scratchpadOffset['x']+=_0x3467cb,scratchpadOffset['y']+=_0x34d5dd,panStart={'x':_0x21a761[_0x2c4e0c(0x61c)],'y':_0x21a761[_0x2c4e0c(0x5c2)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x254073=getTransformedPoint(_0x21a761[_0x2c4e0c(0x61c)]-_0x53a257['left'],_0x21a761[_0x2c4e0c(0x5c2)]-_0x53a257[_0x2c4e0c(0x7de)]);currentStroke[_0x2c4e0c(0x5b3)][_0x2c4e0c(0x6e6)](_0x254073),redrawScratchpad();}}}}function handlePointerUp(_0x1c61ec){const _0x530138=_0x56afb4;_0x1c61ec[_0x530138(0x872)]();const _0x4d2c16=scratchpadCtx[_0x530138(0x21f)];isMousePanning&&(isMousePanning=![],_0x4d2c16[_0x530138(0x610)][_0x530138(0x760)]=_0x530138(0x30e)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0x530138(0x261)]>0x1&&(strokes[_0x530138(0x6e6)](currentStroke),currentStroke[_0x530138(0x42a)]===_0x530138(0x530)&&startTrailAnimation()),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x160efd){const _0x42dcd3=_0x56afb4;_0x160efd[_0x42dcd3(0x872)]();const _0x11e552=_0x160efd['deltaY']*-0.005,_0x5bdee9=Math[_0x42dcd3(0x89b)](Math[_0x42dcd3(0x5cc)](scratchpadScale+_0x11e552,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x160efd['clientX']-(_0x160efd[_0x42dcd3(0x61c)]-scratchpadOffset['x'])*(_0x5bdee9/scratchpadScale),scratchpadOffset['y']=_0x160efd['clientY']-(_0x160efd[_0x42dcd3(0x5c2)]-scratchpadOffset['y'])*(_0x5bdee9/scratchpadScale),scratchpadScale=_0x5bdee9,redrawScratchpad();}function undo(){const _0x5a13e9=_0x56afb4;strokes[_0x5a13e9(0x261)]>0x0&&(redoStrokes[_0x5a13e9(0x6e6)](strokes[_0x5a13e9(0x829)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x580173=_0x56afb4;redoStrokes[_0x580173(0x261)]>0x0&&(strokes[_0x580173(0x6e6)](redoStrokes[_0x580173(0x829)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x47da3c=_0x56afb4;document[_0x47da3c(0x574)]('undo-btn')[_0x47da3c(0x4b9)]=strokes['length']===0x0,document[_0x47da3c(0x574)](_0x47da3c(0x2c5))[_0x47da3c(0x4b9)]=redoStrokes['length']===0x0;}function openScratchpad(_0x36135c,_0x49ff37){const _0x30e13a=_0x56afb4,_0x901119=document[_0x30e13a(0x574)](_0x30e13a(0x85a)),_0x7a3d34=document['getElementById'](_0x30e13a(0x5f3)),_0x2efe18=document[_0x30e13a(0x574)](_0x30e13a(0x924)),_0x5443c2=document[_0x30e13a(0x574)](_0x30e13a(0x638));_0x7a3d34['textContent']=_0x36135c[_0x30e13a(0x4a3)]||_0x36135c[_0x30e13a(0x53e)],_0x2efe18['innerHTML']=_0x49ff37[_0x30e13a(0x757)]((_0x45e8ef,_0x381b5c)=>'<div>'+String[_0x30e13a(0x601)](0x41+_0x381b5c)+'.\x20'+_0x45e8ef+_0x30e13a(0x24f))['join'](''),_0x5443c2[_0x30e13a(0x8a3)]=_0x30e13a(0x6a9),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x901119[_0x30e13a(0x92b)]['remove'](_0x30e13a(0x384)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x30e13a(0x784)])MathJax[_0x30e13a(0x12c)]([_0x7a3d34,_0x2efe18]);}function initializeScratchpadCanvas(){const _0x26df72=_0x56afb4,_0x28e4e2=document[_0x26df72(0x574)](_0x26df72(0x2a3)),_0x12c995=document[_0x26df72(0x351)](_0x26df72(0x6b2));if(!_0x28e4e2||!_0x12c995)return;scratchpadCtx=_0x28e4e2[_0x26df72(0x866)]('2d',{'willReadFrequently':!![]});const _0x2fe636=window[_0x26df72(0x3d7)]||0x1,_0x3134f7=_0x12c995[_0x26df72(0x90a)]();_0x28e4e2['width']=_0x3134f7['width']*_0x2fe636,_0x28e4e2[_0x26df72(0x2b1)]=_0x3134f7[_0x26df72(0x2b1)]*_0x2fe636,_0x28e4e2[_0x26df72(0x610)][_0x26df72(0x3ab)]=_0x3134f7[_0x26df72(0x3ab)]+'px',_0x28e4e2[_0x26df72(0x610)][_0x26df72(0x2b1)]=_0x3134f7[_0x26df72(0x2b1)]+'px',scratchpadCtx[_0x26df72(0x69f)](_0x2fe636,_0x2fe636),scratchpadCtx[_0x26df72(0x211)]=_0x26df72(0x446),scratchpadCtx[_0x26df72(0x6d4)]=_0x26df72(0x446),_0x28e4e2[_0x26df72(0xd5)]('pointerdown',handlePointerDown),_0x28e4e2[_0x26df72(0xd5)](_0x26df72(0x702),handlePointerMove),_0x28e4e2[_0x26df72(0xd5)](_0x26df72(0x19e),handlePointerUp),_0x28e4e2[_0x26df72(0xd5)](_0x26df72(0x346),handlePointerUp),_0x28e4e2[_0x26df72(0xd5)](_0x26df72(0x7fd),handleWheel),_0x28e4e2[_0x26df72(0xd5)]('touchstart',handlePointerDown),_0x28e4e2[_0x26df72(0xd5)]('touchmove',handlePointerMove),_0x28e4e2[_0x26df72(0xd5)](_0x26df72(0x5f4),handlePointerUp),_0x28e4e2[_0x26df72(0xf2)]('pointerdown',handlePointerDown),_0x28e4e2['addEventListener']('pointermove',handlePointerMove),_0x28e4e2[_0x26df72(0xf2)](_0x26df72(0x19e),handlePointerUp),_0x28e4e2[_0x26df72(0xf2)](_0x26df72(0x346),handlePointerUp),_0x28e4e2['addEventListener'](_0x26df72(0x7fd),handleWheel,{'passive':![]}),_0x28e4e2[_0x26df72(0xf2)](_0x26df72(0x50a),handlePointerDown,{'passive':![]}),_0x28e4e2[_0x26df72(0xf2)](_0x26df72(0x5d4),handlePointerMove,{'passive':![]}),_0x28e4e2['addEventListener'](_0x26df72(0x5f4),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0xb3c7a9=_0x56afb4,_0x3dad46=document[_0xb3c7a9(0x574)](_0xb3c7a9(0x85a)),_0x375d2e=document[_0xb3c7a9(0x574)](_0xb3c7a9(0x638));_0x375d2e['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0xb3c7a9(0x1e2);const _0x404c89=document[_0xb3c7a9(0x574)](_0xb3c7a9(0x6c2)),_0x1136a6=document[_0xb3c7a9(0x574)](_0xb3c7a9(0xf3)),_0x3c6c15=document[_0xb3c7a9(0x574)](_0xb3c7a9(0x80c)),_0x1e48b2=document[_0xb3c7a9(0x574)](_0xb3c7a9(0x824)),_0x4995ac=document[_0xb3c7a9(0x574)](_0xb3c7a9(0x843)),_0x1cecca=document[_0xb3c7a9(0x574)](_0xb3c7a9(0x3c7)),_0x37af8d=[_0x404c89,_0x1136a6,_0x3c6c15,_0x1e48b2];document[_0xb3c7a9(0x574)](_0xb3c7a9(0x78f))['addEventListener']('click',()=>_0x3dad46[_0xb3c7a9(0x92b)][_0xb3c7a9(0x3fa)](_0xb3c7a9(0x384))),document['getElementById'](_0xb3c7a9(0x1f8))['addEventListener']('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0xb3c7a9(0x574)](_0xb3c7a9(0x681))['addEventListener'](_0xb3c7a9(0x811),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0xb3c7a9(0x574)](_0xb3c7a9(0x299))[_0xb3c7a9(0xf2)](_0xb3c7a9(0x811),undo),document[_0xb3c7a9(0x574)]('redo-btn')['addEventListener']('click',redo);const _0x62549f=_0x3d862b=>{const _0x31a640=_0xb3c7a9;_0x37af8d[_0x31a640(0x293)](_0x5c9a76=>_0x5c9a76[_0x31a640(0x92b)][_0x31a640(0x112)](_0x31a640(0x3b9))),_0x3d862b['classList'][_0x31a640(0x3fa)](_0x31a640(0x3b9));const _0x597449=_0x3d862b===_0x1e48b2;_0x4995ac[_0x31a640(0x92b)][_0x31a640(0x406)](_0x31a640(0x384),_0x597449),_0x1cecca['classList'][_0x31a640(0x406)](_0x31a640(0x384),!_0x597449);};_0x404c89[_0xb3c7a9(0xf2)]('click',()=>{const _0x308847=_0xb3c7a9;activeTool=_0x308847(0x555),_0x62549f(_0x404c89);}),_0x1136a6[_0xb3c7a9(0xf2)]('click',()=>{activeTool='eraser',_0x62549f(_0x1136a6);}),_0x3c6c15['addEventListener'](_0xb3c7a9(0x811),()=>{const _0x167662=_0xb3c7a9;activeTool=_0x167662(0x530),_0x62549f(_0x3c6c15);}),_0x1e48b2[_0xb3c7a9(0xf2)](_0xb3c7a9(0x811),()=>{const _0x535d14=_0xb3c7a9;activeTool=_0x535d14(0x61b),_0x62549f(_0x1e48b2);}),_0x4995ac[_0xb3c7a9(0x706)](_0xb3c7a9(0x849))['forEach'](_0x33715c=>{const _0x52b932=_0xb3c7a9;_0x33715c[_0x52b932(0xf2)](_0x52b932(0x811),_0x24aeaa=>{const _0x4a4ab0=_0x52b932;scratchpadPenSize=parseInt(_0x24aeaa[_0x4a4ab0(0x868)][_0x4a4ab0(0xd6)][_0x4a4ab0(0x900)],0xa),_0x4995ac[_0x4a4ab0(0x706)]('.pen-size-btn')[_0x4a4ab0(0x293)](_0x488594=>_0x488594[_0x4a4ab0(0x92b)]['remove'](_0x4a4ab0(0x3b9))),_0x24aeaa['target'][_0x4a4ab0(0x92b)][_0x4a4ab0(0x3fa)](_0x4a4ab0(0x3b9));});}),_0x4995ac[_0xb3c7a9(0x706)](_0xb3c7a9(0x650))[_0xb3c7a9(0x293)](_0x4639f7=>{const _0x24c8ab=_0xb3c7a9;_0x4639f7[_0x24c8ab(0xf2)](_0x24c8ab(0x811),_0x9edfed=>{const _0x1e6384=_0x24c8ab;scratchpadPenColor=_0x9edfed['target']['dataset'][_0x1e6384(0x2f0)],_0x4995ac[_0x1e6384(0x706)](_0x1e6384(0x650))[_0x1e6384(0x293)](_0x1f1060=>_0x1f1060[_0x1e6384(0x92b)]['remove']('active')),_0x9edfed[_0x1e6384(0x868)][_0x1e6384(0x92b)][_0x1e6384(0x3fa)](_0x1e6384(0x3b9));});}),_0x1cecca['querySelectorAll'](_0xb3c7a9(0x188))['forEach'](_0x48aa1e=>{const _0x13cdf4=_0xb3c7a9;_0x48aa1e[_0x13cdf4(0xf2)](_0x13cdf4(0x811),_0x1adfd2=>{const _0xbe8450=_0x13cdf4;scratchpadHighlighterColor=_0x1adfd2[_0xbe8450(0x868)][_0xbe8450(0xd6)]['color'],_0x1cecca[_0xbe8450(0x706)]('.highlighter-color-btn')[_0xbe8450(0x293)](_0x42c90e=>_0x42c90e['classList'][_0xbe8450(0x112)](_0xbe8450(0x3b9))),_0x1adfd2[_0xbe8450(0x868)][_0xbe8450(0x92b)][_0xbe8450(0x3fa)]('active');});});const _0x16d069=document[_0xb3c7a9(0x574)](_0xb3c7a9(0x6ad)),_0x19b20b=document[_0xb3c7a9(0x574)](_0xb3c7a9(0x679));_0x16d069[_0xb3c7a9(0xf2)](_0xb3c7a9(0x4ab),_0x23c26e=>{const _0x508d05=_0xb3c7a9,_0x1764e4=parseInt(_0x23c26e[_0x508d05(0x868)][_0x508d05(0x54e)],0xa);scratchpadHighlighterSize=_0x1764e4,_0x19b20b[_0x508d05(0x46f)]=_0x1764e4;}),window[_0xb3c7a9(0xf2)]('resize',()=>{const _0x1e87c7=_0xb3c7a9;!_0x3dad46['classList']['contains'](_0x1e87c7(0x384))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x56afb4(0x6bf),'name':_0x56afb4(0x325),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x56afb4(0x6f6)},'QUICK_THINKER':{'id':_0x56afb4(0x2f7),'name':_0x56afb4(0x2a2),'description':_0x56afb4(0x8e4),'icon':_0x56afb4(0x87e)},'ON_FIRE':{'id':'on_fire','name':_0x56afb4(0x538),'description':_0x56afb4(0x5b7),'icon':_0x56afb4(0x394)},'FIRST_TRY_ACE':{'id':_0x56afb4(0x31d),'name':_0x56afb4(0x11f),'description':_0x56afb4(0x519),'icon':_0x56afb4(0x88e)},'COMEBACK_KING':{'id':'comeback_king','name':_0x56afb4(0x5a3),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x56afb4(0x5c7)},'SPECIALIST':{'id':_0x56afb4(0x5d8),'name':_0x56afb4(0x3e2),'description':_0x56afb4(0x190),'icon':_0x56afb4(0x4d6)},'PERSEVERANCE':{'id':_0x56afb4(0x242),'name':'ผู้ไม่ยอมแพ้','description':_0x56afb4(0x76b),'icon':_0x56afb4(0x592)}},firebaseConfig={'apiKey':_0x56afb4(0x6b9),'authDomain':_0x56afb4(0x796),'projectId':_0x56afb4(0x6d6),'storageBucket':_0x56afb4(0x7dc),'messagingSenderId':'274192258111','appId':_0x56afb4(0x5ad),'measurementId':_0x56afb4(0x1a7)},appId=typeof __app_id!=='undefined'?__app_id:_0x56afb4(0x8dd),adminView=document[_0x56afb4(0x574)](_0x56afb4(0x907)),studentView=document['getElementById'](_0x56afb4(0x61e)),projectDashboardView=document[_0x56afb4(0x574)](_0x56afb4(0x8cf)),projectDetailView=document[_0x56afb4(0x574)](_0x56afb4(0x3c8)),quizResultsView=document[_0x56afb4(0x574)](_0x56afb4(0x70d)),projectList=document[_0x56afb4(0x574)](_0x56afb4(0xfa)),noProjectsMsg=document[_0x56afb4(0x574)](_0x56afb4(0x507)),projectTitle=document[_0x56afb4(0x574)](_0x56afb4(0x171)),projectIdDisplay=document[_0x56afb4(0x574)](_0x56afb4(0x704)),studentList=document[_0x56afb4(0x574)](_0x56afb4(0x693)),messageModal=document[_0x56afb4(0x574)](_0x56afb4(0x323)),modalMessage=document[_0x56afb4(0x574)]('modal-message'),createProjectModal=document[_0x56afb4(0x574)]('create-project-modal'),adminPasswordModal=document[_0x56afb4(0x574)](_0x56afb4(0x4ca)),confirmationModal=document[_0x56afb4(0x574)](_0x56afb4(0x7fb)),userIdDisplay=document[_0x56afb4(0x574)](_0x56afb4(0x6c7)),topicTab=document[_0x56afb4(0x574)](_0x56afb4(0x197)),textTab=document[_0x56afb4(0x574)](_0x56afb4(0x6ff)),topicInputArea=document[_0x56afb4(0x574)](_0x56afb4(0xec)),textInputArea=document[_0x56afb4(0x574)]('text-input-area'),manageTab=document['getElementById'](_0x56afb4(0x792)),resultsTab=document[_0x56afb4(0x574)](_0x56afb4(0x5c8)),leaderboardTab=document['getElementById'](_0x56afb4(0x121)),manageTabContent=document[_0x56afb4(0x574)](_0x56afb4(0x90e)),resultsTabContent=document['getElementById'](_0x56afb4(0x2a6)),leaderboardTabContent=document[_0x56afb4(0x574)](_0x56afb4(0x6d0)),projectQuizzesList=document[_0x56afb4(0x574)]('project-quizzes-list'),fileTab=document[_0x56afb4(0x574)](_0x56afb4(0x1cf)),fileInputArea=document[_0x56afb4(0x574)]('file-input-area'),fileUploadInput=document['getElementById']('file-upload-input'),worksheetTab=document['getElementById'](_0x56afb4(0x475)),worksheetInputArea=document[_0x56afb4(0x574)]('worksheet-input-area'),generateWorksheetBtn=document['getElementById']('generate-worksheet-btn'),studentInitialView=document['getElementById'](_0x56afb4(0x30d)),studentNameSelectionView=document['getElementById'](_0x56afb4(0x77f)),studentQuizArea=document['getElementById']('student-quiz-area'),studentResultArea=document[_0x56afb4(0x574)](_0x56afb4(0x426)),studentReadingArea=document[_0x56afb4(0x574)](_0x56afb4(0x142)),loadQuizBtn=document[_0x56afb4(0x574)](_0x56afb4(0x157)),startQuizBtn=document[_0x56afb4(0x574)]('start-quiz-btn'),studentJoinGameView=document[_0x56afb4(0x574)](_0x56afb4(0x527)),presentationModal=document['getElementById'](_0x56afb4(0x719)),renameQuizModal=document['getElementById']('rename-quiz-modal'),moveQuizModal=document['getElementById'](_0x56afb4(0x3c4)),quizSettingsModal=document[_0x56afb4(0x574)](_0x56afb4(0x4cb)),quizStatusModal=document[_0x56afb4(0x574)]('quiz-status-modal'),liveGameView=document[_0x56afb4(0x574)]('live-game-view');function handleAutoFixLatex(){const _0x250890=_0x56afb4,_0x2038f9=document['getElementById'](_0x250890(0x498))||document,_0x2469bf=_0x2038f9[_0x250890(0x706)](['textarea',_0x250890(0x44b),_0x250890(0x6a4),'[role=\x22textbox\x22]',_0x250890(0x914),_0x250890(0x30c),_0x250890(0x3d4),'.option-text','.answer-text'][_0x250890(0x919)](','));let _0x3dbfb4=0x0;const _0x44de72=_0x4b0d1e=>_0x250890(0x54e)in _0x4b0d1e?String(_0x4b0d1e[_0x250890(0x54e)]):_0x4b0d1e[_0x250890(0x5bc)]!==undefined?_0x4b0d1e['innerText']:_0x4b0d1e[_0x250890(0x46f)]||'',_0xce32e2=(_0x448d8d,_0x5d29ff)=>{const _0x326ff4=_0x250890;if('value'in _0x448d8d){_0x448d8d[_0x326ff4(0x54e)]=_0x5d29ff;return;}if(_0x448d8d[_0x326ff4(0x351)]&&_0x448d8d[_0x326ff4(0x351)](_0x326ff4(0x347)))return;if(_0x448d8d['innerText']!==undefined)_0x448d8d[_0x326ff4(0x5bc)]=_0x5d29ff;else _0x448d8d['textContent']=_0x5d29ff;},_0xab9dbe=_0x5402a5=>_0x5402a5['replace'](/\u00A0/g,'\x20')[_0x250890(0x840)](/\u200B/g,'')[_0x250890(0x840)](/\r\n?/g,'\x0a'),_0x3b7869=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x438738=_0xcaee92=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x250890(0x26d)](_0xcaee92),_0x370a81=_0x29aeaa=>{const _0x424a45=_0x250890,_0x3f6832=(_0x29aeaa[_0x424a45(0x390)](/\{/g)||[])['length'],_0x5706a2=(_0x29aeaa[_0x424a45(0x390)](/\}/g)||[])[_0x424a45(0x261)];if(_0x3f6832>_0x5706a2)_0x29aeaa=_0x29aeaa+'}'[_0x424a45(0x49a)](_0x3f6832-_0x5706a2);return _0x29aeaa;},_0x32f957=_0x509ec2=>{const _0x4e72d1=_0x250890;let _0x3d982e=_0x509ec2[_0x4e72d1(0x4b1)]();const _0x47ff5c=[_0x4e72d1(0x8d2),_0x4e72d1(0x7f2),'tfrac',_0x4e72d1(0x64b),_0x4e72d1(0x28f),_0x4e72d1(0x4b0),'cdot',_0x4e72d1(0x708),'leq',_0x4e72d1(0x40e),'le','ge','neq','pm',_0x4e72d1(0x6a7),'sin',_0x4e72d1(0x82e),_0x4e72d1(0x39b),'log','ln',_0x4e72d1(0x7f3),_0x4e72d1(0x30a),_0x4e72d1(0x3e3),_0x4e72d1(0x146),_0x4e72d1(0x815),_0x4e72d1(0x8ee),_0x4e72d1(0x781),_0x4e72d1(0x603),_0x4e72d1(0x374)];_0x3d982e=_0x3d982e['replace'](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0x47ff5c[_0x4e72d1(0x919)]('|')+')\x5cb)','g'),'\x5c'),_0x47ff5c[_0x4e72d1(0x293)](_0x4cf56f=>{const _0x2f92c7=_0x4e72d1;_0x3d982e=_0x3d982e['replace'](new RegExp(_0x2f92c7(0x457)+_0x4cf56f+'\x5cb','g'),(_0x377d29,_0x275b00)=>_0x275b00+'\x5c'+_0x4cf56f);});const _0x196c87=[[/×/g,_0x4e72d1(0x635)],[/·/g,'\x5ccdot'],[/÷/g,_0x4e72d1(0x3fe)],[/≤/g,'\x5cle'],[/≥/g,_0x4e72d1(0x4f8)],[/≠/g,'\x5cneq'],[/±/g,_0x4e72d1(0x360)],[/∑/g,_0x4e72d1(0x6b8)],[/−/g,'-']];_0x196c87['forEach'](([_0x22b43e,_0x3dc2e4])=>{const _0x17cb69=_0x4e72d1;_0x3d982e=_0x3d982e[_0x17cb69(0x840)](_0x22b43e,_0x3dc2e4);}),_0x3d982e=_0x3d982e[_0x4e72d1(0x840)](/√\s*\(([^)]*)\)/g,_0x4e72d1(0x1af)),_0x3d982e=_0x3d982e[_0x4e72d1(0x840)](/√\s*([A-Za-z0-9]+)/g,_0x4e72d1(0x1af)),_0x3d982e=_0x3d982e[_0x4e72d1(0x840)](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')['replace'](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x4e72d1(0x1d6))[_0x4e72d1(0x840)](/(^|[^\\])ext\{/g,_0x4e72d1(0xda))[_0x4e72d1(0x840)](/(^|[^\\])ext\(/g,_0x4e72d1(0x6fa))[_0x4e72d1(0x840)](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')[_0x4e72d1(0x840)](/\s\\frac/g,'\x5cfrac'),_0x3d982e=_0x3d982e[_0x4e72d1(0x840)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x4c21d8,_0x2cb336,_0x326b2c,_0x470d4d)=>_0x2cb336+_0x4e72d1(0x256)+_0x326b2c+'}{'+_0x470d4d+'}'),_0x3d982e=_0x3d982e[_0x4e72d1(0x840)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x4e72d1(0x217))[_0x4e72d1(0x840)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x4e72d1(0x217))[_0x4e72d1(0x840)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x4e72d1(0x217)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x4e72d1(0x777)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x4e72d1(0x777)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x4e72d1(0x777)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x4e72d1(0x777)],[/(\d+)\s*°\s*C/g,_0x4e72d1(0x777)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x4e72d1(0x857)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']]['forEach'](([_0x5df155,_0x311fd8])=>{_0x3d982e=_0x3d982e['replace'](_0x5df155,_0x311fd8);}),_0x3d982e=_0x3d982e['replace'](/(\d+)\s*%/g,_0x4e72d1(0x4c2)),_0x3d982e=_0x3d982e[_0x4e72d1(0x840)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x4e72d1(0x4cf))[_0x4e72d1(0x840)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x4e72d1(0x103))[_0x4e72d1(0x840)](/\{\{([^\{\}]+)\}\}/g,_0x4e72d1(0xe6)),[_0x4e72d1(0x6aa),'cos',_0x4e72d1(0x39b),_0x4e72d1(0x854),'ln'][_0x4e72d1(0x293)](_0xd10a2f=>{const _0x34b7a6=_0x4e72d1;_0x3d982e=_0x3d982e[_0x34b7a6(0x840)](new RegExp(_0x34b7a6(0x457)+_0xd10a2f+'\x5cs*\x5c(','g'),(_0xe7b30d,_0x47ecae)=>_0x47ecae+'\x5c'+_0xd10a2f+'(');});const _0x575d1f=(_0x3d982e[_0x4e72d1(0x390)](/\\left\b/g)||[])[_0x4e72d1(0x261)],_0x213f21=(_0x3d982e[_0x4e72d1(0x390)](/\\right\b/g)||[])[_0x4e72d1(0x261)];if(_0x575d1f!==_0x213f21)_0x3d982e=_0x3d982e['replace'](/\\left\b/g,'')[_0x4e72d1(0x840)](/\\right\b/g,'');return _0x3d982e=_0x370a81(_0x3d982e),_0x3d982e;},_0x853c93=_0x4d8a56=>{const _0x13a98e=_0x250890;if(/\$|\\\(|\\\[/[_0x13a98e(0x26d)](_0x4d8a56))return _0x4d8a56;if(!_0x3b7869[_0x13a98e(0x26d)](_0x4d8a56))return _0x4d8a56;const _0x588c3c=_0x4d8a56[_0x13a98e(0x390)](/^\s*/)[0x0],_0x310846=_0x4d8a56['match'](/\s*$/)[0x0],_0x5e3756=_0x4d8a56[_0x13a98e(0x4b1)]();return _0x588c3c+'$'+_0x32f957(_0x5e3756)+'$'+_0x310846;},_0x1f8b7d=_0x5ec431=>_0x5ec431['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x2469bf['forEach'](_0x128fc7=>{const _0x3e6a7c=_0x250890;if(_0x128fc7[_0x3e6a7c(0x351)]&&_0x128fc7[_0x3e6a7c(0x351)](_0x3e6a7c(0x347)))return;const _0x3bb5bb=_0x44de72(_0x128fc7);let _0x3387e9=_0xab9dbe(_0x3bb5bb);_0x3387e9=_0x3387e9[_0x3e6a7c(0x840)](/\$\$([\s\S]*?)\$\$/g,(_0x3a4f2f,_0x5711b2)=>'$$'+_0x32f957(_0x5711b2)+'$$')[_0x3e6a7c(0x840)](/\$([^$]*?)\$/g,(_0x3afb76,_0x131621)=>'$'+_0x32f957(_0x131621)+'$')[_0x3e6a7c(0x840)](/\\\(([\s\S]*?)\\\)/g,(_0x33a439,_0x21f5c7)=>'\x5c('+_0x32f957(_0x21f5c7)+'\x5c)')[_0x3e6a7c(0x840)](/\\\[([\s\S]*?)\\\]/g,(_0x3413b2,_0x5607eb)=>'\x5c['+_0x32f957(_0x5607eb)+'\x5c]');let _0x45bb1a=_0x3387e9,_0x2a9da5=0x0;const _0x3cf830=_0x234d78=>_0x234d78[_0x3e6a7c(0x840)](/S([^S]{0,2000}?)S/g,(_0x38e669,_0x1b9d4e)=>_0x3b7869['test'](_0x1b9d4e)?'$'+_0x32f957(_0x1b9d4e)+'$':_0x38e669);while(_0x2a9da5++<0x14){const _0x1e9dfe=_0x3cf830(_0x45bb1a);if(_0x1e9dfe===_0x45bb1a)break;_0x45bb1a=_0x1e9dfe;}_0x3387e9=_0x45bb1a,_0x3387e9=_0x3387e9[_0x3e6a7c(0x728)]('\x0a')['map'](_0x54c811=>{const _0xd2fc4=_0x3e6a7c;if(!(/[,\u3001，;；]/[_0xd2fc4(0x26d)](_0x54c811)||/\s(?:และ|หรือ)\s/[_0xd2fc4(0x26d)](_0x54c811))||!_0x3b7869[_0xd2fc4(0x26d)](_0x54c811))return _0x54c811;return _0x1f8b7d(_0x54c811)['map'](_0x4ff077=>{const _0x21d122=_0xd2fc4;if(/^\s(?:และ|หรือ)\s$/[_0x21d122(0x26d)](_0x4ff077)||/^[,\u3001，;；]$/[_0x21d122(0x26d)](_0x4ff077))return _0x4ff077;return _0x853c93(_0x4ff077);})['join']('');})[_0x3e6a7c(0x919)]('\x0a'),_0x3387e9=_0x3387e9[_0x3e6a7c(0x728)]('\x0a')[_0x3e6a7c(0x757)](_0x32f4f7=>{const _0x1daeeb=_0x3e6a7c,_0x1a7c0c=_0x32f4f7['trim']();if(!_0x1a7c0c)return _0x32f4f7;const _0x3b2caa=/\$|\\\(|\\\[/[_0x1daeeb(0x26d)](_0x1a7c0c),_0xe0676=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x1daeeb(0x26d)](_0x1a7c0c);if(_0x3b2caa||!_0xe0676||_0x438738(_0x1a7c0c))return _0x32f4f7;return _0x32f4f7['replace'](_0x1a7c0c,'$'+_0x32f957(_0x1a7c0c)+'$');})[_0x3e6a7c(0x919)]('\x0a'),_0x3387e9=_0x3387e9[_0x3e6a7c(0x840)](/(\d+)\s*°\s*C\b/g,(_0x1462e5,_0x33d768,_0x478f68,_0x37f952)=>{const _0x51d7eb=_0x3e6a7c,_0x54f4c3=_0x37f952[_0x478f68-0x1];if(_0x54f4c3==='$'||_0x54f4c3==='S'||_0x54f4c3==='\x5c')return _0x1462e5;return'$'+_0x33d768+_0x51d7eb(0x2d2);})[_0x3e6a7c(0x840)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x684068,_0x5d2a12,_0x2a17af,_0x402f95)=>{const _0x4de390=_0x3e6a7c,_0x56a982=_0x402f95[_0x2a17af-0x1];if(_0x56a982==='$'||_0x56a982==='S'||_0x56a982==='\x5c')return _0x684068;return'$'+_0x5d2a12+_0x4de390(0x2d2);})['replace'](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x403faf,_0x26d331,_0x443b1c,_0xc48239)=>{const _0x1ac609=_0xc48239[_0x443b1c-0x1];if(_0x1ac609==='$'||_0x1ac609==='S'||_0x1ac609==='\x5c')return _0x403faf;return'$'+_0x26d331+'^{\x5ccirc}\x5ctext{C}$';}),_0x3387e9=_0x3387e9[_0x3e6a7c(0x840)](/\$\s*\$/g,'$$'),_0x3387e9!==_0x3bb5bb&&(_0xce32e2(_0x128fc7,_0x3387e9),_0x3dbfb4++);});if(_0x3dbfb4>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x3dbfb4+_0x250890(0x814));try{if(window[_0x250890(0x784)]&&MathJax['typesetPromise'])MathJax[_0x250890(0x12c)]();window[_0x250890(0x5f6)]&&typeof renderMathInElement===_0x250890(0x871)&&renderMathInElement(_0x2038f9,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x34c925){}}else showMessage(_0x250890(0x2d5));}async function listenForCustomMathTopics(){const _0x28e59f=_0x56afb4,_0x4a78ca=collection(db,'artifacts/'+appId+_0x28e59f(0xe9));onSnapshot(_0x4a78ca,_0x10f165=>{const _0x3c680c=_0x28e59f;customMathTopics=_0x10f165[_0x3c680c(0x3e0)]['map'](_0x4d3182=>({'id':_0x4d3182['id'],..._0x4d3182[_0x3c680c(0x58c)]()})),renderTopicCheckboxes();},_0x1fbe47=>{const _0x2129ea=_0x28e59f;console[_0x2129ea(0x7d6)](_0x2129ea(0x149),_0x1fbe47);});}function handleSelectAllTopics(){const _0x15b07c=_0x56afb4,_0x348c8c=document[_0x15b07c(0x574)](_0x15b07c(0x908)),_0x4d9473=_0x348c8c[_0x15b07c(0x706)](_0x15b07c(0x402));_0x4d9473[_0x15b07c(0x293)](_0x5bc5a3=>{_0x5bc5a3['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x5918b5=_0x56afb4,_0x5304c3=document[_0x5918b5(0x574)](_0x5918b5(0x908)),_0x5a3d06=_0x5304c3[_0x5918b5(0x706)](_0x5918b5(0x402));_0x5a3d06[_0x5918b5(0x293)](_0xfc172=>{const _0x1f259a=_0x5918b5;_0xfc172[_0x1f259a(0x5dd)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x3912eb){const _0x3ace43=_0x56afb4;if(!_0x3912eb)return;try{const _0x50d482=doc(db,_0x3ace43(0x58f)+appId+_0x3ace43(0xe9),_0x3912eb);await deleteDoc(_0x50d482),showMessage(_0x3ace43(0x8a2));}catch(_0x11453c){console[_0x3ace43(0x7d6)](_0x3ace43(0x825),_0x11453c),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x57fbaa=_0x56afb4,_0x5180d4=document[_0x57fbaa(0x574)](_0x57fbaa(0x823)),_0x2d6599=_0x5180d4[_0x57fbaa(0x54e)][_0x57fbaa(0x4b1)]();if(!_0x2d6599){showMessage(_0x57fbaa(0x7ae));return;}if(!userId){showMessage(_0x57fbaa(0x5e8));return;}try{const _0x10d505=collection(db,_0x57fbaa(0x58f)+appId+_0x57fbaa(0xe9));await addDoc(_0x10d505,{'name':_0x2d6599,'createdAt':serverTimestamp()}),_0x5180d4[_0x57fbaa(0x54e)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x2d6599+_0x57fbaa(0x4be));}catch(_0x4d2eb9){console['error'](_0x57fbaa(0x363),_0x4d2eb9),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x5b2b50=_0x1cf4,_0x1eee48=document['getElementById'](_0x5b2b50(0x5ee)),_0x1bfed0=document['getElementById'](_0x5b2b50(0x405)),_0xe1ffc5=_0x1bfed0[_0x5b2b50(0x46f)];_0x1eee48[_0x5b2b50(0x92b)]['remove']('hidden'),_0x1bfed0[_0x5b2b50(0x46f)]=_0x5b2b50(0x7d2);try{const _0x384d0c=collection(db,_0x5b2b50(0x58f)+appId+'/public/data/quizzes'),_0x4cf113=await getDocs(_0x384d0c);if(_0x4cf113[_0x5b2b50(0x1db)]){showMessage(_0x5b2b50(0x730));return;}const _0x173b59=writeBatch(db);let _0x49e20b=0x0;_0x4cf113['forEach'](_0x4bd7f8=>{const _0x43cffd=_0x5b2b50,_0x1ebab2=_0x4bd7f8[_0x43cffd(0x58c)](),_0x20ee5b=_0x4bd7f8['id'];if(_0x1ebab2['questions']&&_0x1ebab2[_0x43cffd(0x7d5)][_0x43cffd(0x261)]>0x0&&!_0x1ebab2[_0x43cffd(0x7d5)][0x0][_0x43cffd(0x38c)]('id')){console['log'](_0x43cffd(0x77b)+_0x20ee5b+'\x20('+_0x1ebab2[_0x43cffd(0x111)]+')'),_0x49e20b++;const _0x5025c0=_0x1ebab2[_0x43cffd(0x7d5)][_0x43cffd(0x757)]((_0x47b6fa,_0xd8b528)=>{const _0x1b4668=_0x43cffd;return{..._0x47b6fa,'id':_0x47b6fa['id']||'q_'+Date[_0x1b4668(0x5de)]()+'_'+_0x20ee5b+'_'+_0xd8b528};}),_0x48b0ee=doc(db,_0x43cffd(0x58f)+appId+_0x43cffd(0x444),_0x20ee5b);_0x173b59[_0x43cffd(0xdc)](_0x48b0ee,{'questions':_0x5025c0});}}),_0x49e20b>0x0?(_0x1bfed0[_0x5b2b50(0x46f)]=_0x5b2b50(0x602)+_0x49e20b+_0x5b2b50(0x450),await _0x173b59['commit'](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x49e20b+_0x5b2b50(0x566))):showMessage(_0x5b2b50(0x6de));}catch(_0x11afa1){console[_0x5b2b50(0x7d6)](_0x5b2b50(0xfd),_0x11afa1),showMessage(_0x5b2b50(0x8f7)+_0x11afa1[_0x5b2b50(0x69a)]);}finally{_0x1eee48['classList'][_0x5b2b50(0x3fa)]('hidden'),_0x1bfed0[_0x5b2b50(0x46f)]=_0xe1ffc5;}});}async function handleBulkUpdateQuizSettings(){const _0x1fbaa3=_0x56afb4,_0x278394={'shuffle':document[_0x1fbaa3(0x574)](_0x1fbaa3(0x669))[_0x1fbaa3(0x54e)],'resultsDisplay':document[_0x1fbaa3(0x574)]('bulk-results-display-select')[_0x1fbaa3(0x54e)],'loopUntilPass':document['getElementById']('bulk-loop-until-pass-checkbox')['checked']},_0x57d1ea=allQuizzesGlobal[_0x1fbaa3(0x261)];showConfirmation(_0x1fbaa3(0x7f1)+_0x57d1ea+_0x1fbaa3(0x89a),async()=>{const _0x28df01=_0x1fbaa3,_0x43e9e9=document[_0x28df01(0x574)](_0x28df01(0x64e));_0x43e9e9[_0x28df01(0x4b9)]=!![],_0x43e9e9[_0x28df01(0x8a3)]=_0x28df01(0x139);try{const _0x40b86e=writeBatch(db);allQuizzesGlobal[_0x28df01(0x293)](_0x9b9cd=>{const _0x3431db=_0x28df01,_0x27ddfb=doc(db,_0x3431db(0x58f)+appId+'/public/data/quizzes',_0x9b9cd['id']),_0x2baa48={..._0x9b9cd[_0x3431db(0x59e)]||{},..._0x278394};_0x40b86e[_0x3431db(0xdc)](_0x27ddfb,{'settings':_0x2baa48});}),await _0x40b86e[_0x28df01(0x508)](),document[_0x28df01(0x574)]('bulk-quiz-settings-modal')['classList'][_0x28df01(0x3fa)](_0x28df01(0x384)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x57d1ea+_0x28df01(0x656));}catch(_0x6202be){console['error'](_0x28df01(0x804),_0x6202be),showMessage(_0x28df01(0x513));}finally{_0x43e9e9[_0x28df01(0x4b9)]=![],_0x43e9e9[_0x28df01(0x8a3)]=_0x28df01(0x674);}});}async function handleSaveProjectName(){const _0x4610a6=_0x56afb4,_0xfb060d=document[_0x4610a6(0x574)](_0x4610a6(0x171)),_0x2fe00c=document['getElementById'](_0x4610a6(0x18c)),_0x168ad7=_0xfb060d[_0x4610a6(0x46f)]['trim']();if(!_0x168ad7||!currentProjectId){showMessage(_0x4610a6(0x3e1)),_0xfb060d[_0x4610a6(0x46f)]=currentProjectData['projectName'];return;}_0x2fe00c[_0x4610a6(0x4b9)]=!![],_0x2fe00c[_0x4610a6(0x8a3)]=_0x4610a6(0x44c);try{const _0x423f96=doc(db,_0x4610a6(0x58f)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x423f96,{'projectName':_0x168ad7}),currentProjectData&&(currentProjectData[_0x4610a6(0x1dc)]=_0x168ad7),showMessage(_0x4610a6(0x931));}catch(_0x1d6be0){console[_0x4610a6(0x7d6)]('Error\x20updating\x20project\x20name:',_0x1d6be0),showMessage(_0x4610a6(0x8b0)),_0xfb060d[_0x4610a6(0x46f)]=currentProjectData[_0x4610a6(0x1dc)];}finally{_0x2fe00c['classList'][_0x4610a6(0x3fa)]('hidden'),_0x2fe00c[_0x4610a6(0x4b9)]=![],_0x2fe00c[_0x4610a6(0x8a3)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}async function initialize(){const _0x5d010e=_0x56afb4;try{const _0x270ce4=initializeApp(firebaseConfig);db=getFirestore(_0x270ce4),auth=getAuth(_0x270ce4),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x5b3e3a){console[_0x5d010e(0x7d6)]('Firebase\x20initialization\x20failed:',_0x5b3e3a),showMessage(_0x5d010e(0x7ff));}}async function handleVerifyAnswersInEditor(){const _0x27ae32=_0x56afb4,_0x5e77d5=document['getElementById'](_0x27ae32(0x41a));if(!_0x5e77d5)return;const _0x53a633=document['getElementById'](_0x27ae32(0x32a));_0x53a633[_0x27ae32(0x4b9)]=!![],_0x53a633[_0x27ae32(0x8a3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0xff88fe=_0x5e77d5[_0x27ae32(0x706)](_0x27ae32(0x131)),_0x561c4d=Array[_0x27ae32(0x7eb)](_0xff88fe)['map']((_0x69b332,_0x45eafc)=>{const _0x41823f=_0x27ae32,_0x48fa43=_0x69b332[_0x41823f(0xd6)][_0x41823f(0x13d)],_0x4e1a27=_0x69b332[_0x41823f(0x351)](_0x41823f(0x838))['value'];let _0x3be564=null,_0x10c253='';switch(_0x48fa43){case'multiple_choice':const _0x3f915a=_0x69b332[_0x41823f(0x706)]('input[type=\x22text\x22]');_0x3be564=Array[_0x41823f(0x7eb)](_0x3f915a)[_0x41823f(0x757)](_0x31c844=>_0x31c844[_0x41823f(0x54e)]);const _0x114d9=_0x69b332[_0x41823f(0x351)](_0x41823f(0x393));_0x114d9&&(_0x10c253=_0x3be564[parseInt(_0x114d9[_0x41823f(0x54e)])]);break;case _0x41823f(0x62b):_0x10c253=_0x69b332[_0x41823f(0x351)](_0x41823f(0x177))['value'];break;case _0x41823f(0x89d):const _0x5aa71d=_0x69b332[_0x41823f(0x351)](_0x41823f(0x393));_0x10c253=_0x5aa71d?_0x5aa71d[_0x41823f(0x54e)]:'';break;case'matching_item':_0x10c253=_0x69b332['querySelector'](_0x41823f(0x25a))['value'];break;}return{'question':_0x4e1a27,'options':_0x3be564,'proposedAnswer':_0x10c253};}),_0x4bb4cc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x27ae32(0x224)](_0x561c4d)+_0x27ae32(0x235),_0x284f02={'type':_0x27ae32(0x60e),'items':{'type':_0x27ae32(0x8b5),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x27ae32(0x81a)},'justification':{'type':_0x27ae32(0x7d1)},'suggestedAnswer':{'type':_0x27ae32(0x7d1)}},'required':[_0x27ae32(0x657),_0x27ae32(0x440),_0x27ae32(0x264)]}},_0x3adb2a=await callAnalysisApi(_0x4bb4cc,{'type':_0x27ae32(0x8b5),'properties':{'result':_0x284f02},'required':[_0x27ae32(0x634)]});displayVerificationResultsInEditor(_0x3adb2a[_0x27ae32(0x634)]);}catch(_0x49e369){console[_0x27ae32(0x7d6)](_0x27ae32(0x6db),_0x49e369),showMessage(_0x27ae32(0x677));}finally{_0x53a633[_0x27ae32(0x4b9)]=![],_0x53a633[_0x27ae32(0x8a3)]=_0x27ae32(0x807);}}function displayVerificationResultsInEditor(_0x29fac3){const _0x299e3f=_0x56afb4;_0x29fac3[_0x299e3f(0x293)](_0x590434=>{const _0x430c52=_0x299e3f,_0x2407c6=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x590434[_0x430c52(0x657)]+'\x22]');if(!_0x2407c6)return;const _0x1e286e=_0x2407c6[_0x430c52(0x351)](_0x430c52(0x834));if(_0x1e286e)_0x1e286e[_0x430c52(0x112)]();let _0x41892b='';if(_0x590434[_0x430c52(0x440)])_0x41892b=_0x430c52(0x92a);else{const _0x1a6477=_0x590434['suggestedAnswer']?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x41892b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x1a6477+_0x430c52(0x6e9)+_0x590434[_0x430c52(0x264)]+_0x430c52(0x673)+(_0x590434[_0x430c52(0x2cb)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x590434[_0x430c52(0x2cb)]+_0x430c52(0x767):'')+_0x430c52(0x75f);}_0x2407c6[_0x430c52(0x33d)](_0x430c52(0x30f),_0x41892b);if(!_0x590434['isCorrect']&&_0x590434[_0x430c52(0x2cb)]){const _0x11ed7a=_0x2407c6['dataset'][_0x430c52(0x13d)],_0x4966e8=_0x2b980c=>{const _0x2afcb1=_0x430c52;if(!_0x2b980c)return;_0x2b980c[_0x2afcb1(0x92b)][_0x2afcb1(0x3fa)](_0x2afcb1(0x18e),'transition-all',_0x2afcb1(0x276)),setTimeout(()=>{const _0x438755=_0x2afcb1;_0x2b980c['classList'][_0x438755(0x112)](_0x438755(0x18e));},0x9c4);};if(_0x11ed7a===_0x430c52(0x899)){const _0x887a39=Array[_0x430c52(0x7eb)](_0x2407c6['querySelectorAll']('input[type=\x22text\x22]')),_0x4da026=_0x887a39[_0x430c52(0x7b7)](_0xfc33dd=>_0xfc33dd[_0x430c52(0x54e)][_0x430c52(0x4b1)]()[_0x430c52(0x56f)]()===_0x590434['suggestedAnswer']['trim']()[_0x430c52(0x56f)]());if(_0x4da026!==-0x1){const _0x4064ee=_0x2407c6['querySelector'](_0x430c52(0x66b)+_0x4da026+'\x22]');_0x4064ee&&(_0x4064ee['checked']=!![],_0x4966e8(_0x4064ee['closest'](_0x430c52(0x708))));}}else{if(_0x11ed7a===_0x430c52(0x62b)||_0x11ed7a===_0x430c52(0x3ed)){const _0x3f38cc=_0x2407c6[_0x430c52(0x351)](_0x430c52(0x65b));_0x3f38cc&&(_0x3f38cc['value']=_0x590434[_0x430c52(0x2cb)],_0x4966e8(_0x3f38cc));}else{if(_0x11ed7a===_0x430c52(0x89d)){const _0x396cb5=_0x590434['suggestedAnswer']['trim']()[_0x430c52(0x56f)](),_0x42a257=_0x2407c6[_0x430c52(0x351)]('input[type=\x22radio\x22][value=\x22'+_0x396cb5+'\x22]');_0x42a257&&(_0x42a257[_0x430c52(0x5dd)]=!![],_0x4966e8(_0x42a257[_0x430c52(0x213)](_0x430c52(0x708))));}}}}}),showMessage(_0x299e3f(0x13c));}async function handleVerifyAnswers(){const _0x189d9c=_0x56afb4;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x189d9c(0x46a));return;}const _0x22b1f0=document[_0x189d9c(0x574)](_0x189d9c(0x62f));_0x22b1f0['disabled']=!![],_0x22b1f0[_0x189d9c(0x8a3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x12af05=currentQuizData['questions'][_0x189d9c(0x757)]((_0x13cbcc,_0x375096)=>{const _0x40998d=_0x189d9c;let _0xf48f06='';const _0x5ae388=_0x13cbcc['questionType']||currentQuizData[_0x40998d(0x185)];switch(_0x5ae388){case _0x40998d(0x899):_0xf48f06=_0x13cbcc['options'][_0x13cbcc[_0x40998d(0x800)]];break;case _0x40998d(0x62b):_0xf48f06=_0x13cbcc['idealAnswer'];break;case _0x40998d(0x89d):_0xf48f06=_0x13cbcc['correctAnswer'][_0x40998d(0x8c5)]();break;case'matching_item':_0xf48f06=_0x13cbcc[_0x40998d(0x3aa)];break;}return{'question':_0x13cbcc['stem']||_0x13cbcc[_0x40998d(0x53e)],'options':_0x13cbcc['options']||null,'proposedAnswer':_0xf48f06};}),_0x3824c0=_0x189d9c(0x6e2)+JSON[_0x189d9c(0x224)](_0x12af05)+_0x189d9c(0x6b0),_0x3abf0f={'type':_0x189d9c(0x60e),'items':{'type':_0x189d9c(0x8b5),'properties':{'questionIndex':{'type':_0x189d9c(0x795)},'isCorrect':{'type':_0x189d9c(0x81a)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex','isCorrect',_0x189d9c(0x264)]}},_0x3b1d55=await callAnalysisApi(_0x3824c0,{'type':'OBJECT','properties':{'result':_0x3abf0f},'required':[_0x189d9c(0x634)]});displayVerificationResults(_0x3b1d55['result']);}catch(_0x3fdf4a){console['error'](_0x189d9c(0x2b3),_0x3fdf4a),showMessage(_0x189d9c(0x677));}finally{_0x22b1f0[_0x189d9c(0x4b9)]=![],_0x22b1f0[_0x189d9c(0x8a3)]=_0x189d9c(0x666);}}function displayVerificationResults(_0x4754ab){const _0x20e84e=_0x56afb4;_0x4754ab[_0x20e84e(0x293)](_0x3264ac=>{const _0x49b0e4=_0x20e84e,_0x11eb92=document[_0x49b0e4(0x351)](_0x49b0e4(0x5e1)+_0x3264ac[_0x49b0e4(0x657)]+'\x22]');if(_0x11eb92){const _0x193139=_0x11eb92[_0x49b0e4(0x351)](_0x49b0e4(0x524));if(_0x193139)_0x193139[_0x49b0e4(0x112)]();let _0x505309='';_0x3264ac['isCorrect']?_0x505309='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x505309=_0x49b0e4(0x52d)+_0x3264ac['justification']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3264ac[_0x49b0e4(0x2cb)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x3264ac[_0x49b0e4(0x2cb)]+_0x49b0e4(0x767):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x11eb92['insertAdjacentHTML'](_0x49b0e4(0x30f),_0x505309);}}),showMessage(_0x20e84e(0x13c));}function compareNumericalAnswers(_0x16d861,_0x1374ef){const _0x2b9797=_0x56afb4,_0x3cb5e6=String(_0x16d861)['replace'](',','.')[_0x2b9797(0x840)](/[^\d.-]/g,'')[_0x2b9797(0x4b1)](),_0x84f8b3=String(_0x1374ef)[_0x2b9797(0x840)](',','.')['replace'](/[^\d.-]/g,'')['trim']();if(_0x3cb5e6===''||_0x84f8b3==='')return![];const _0x356f93=parseFloat(_0x3cb5e6),_0x44b746=parseFloat(_0x84f8b3);if(isNaN(_0x356f93)||isNaN(_0x44b746))return![];return Math[_0x2b9797(0x8ba)](_0x356f93-_0x44b746)<0.001;}async function gradeShortAnswer(_0x2b5e34,_0x428d15){const _0x56cb62=_0x56afb4,_0x5c32e5=_0x428d15[_0x56cb62(0x66a)];if(String(_0x2b5e34)[_0x56cb62(0x4b1)]()[_0x56cb62(0x56f)]()===String(_0x5c32e5)[_0x56cb62(0x4b1)]()[_0x56cb62(0x56f)]())return!![];if(compareNumericalAnswers(_0x2b5e34,_0x5c32e5))return!![];return console[_0x56cb62(0x854)](_0x56cb62(0x230)),await gradeShortAnswerWithAI(_0x2b5e34,_0x5c32e5);}async function revealAnswerForAdmin(_0x5b53f9,_0x55ee03){const _0x21985c=_0x56afb4,_0x104427=doc(db,_0x21985c(0x58f)+appId+_0x21985c(0x362),currentLiveGameId);await updateDoc(_0x104427,{'questionStatus':_0x21985c(0x659)});}function showTop5LeaderboardView(_0x2e61e8){const _0x3a4d56=_0x56afb4,_0x4bc69b=Object[_0x3a4d56(0x130)](_0x2e61e8[_0x3a4d56(0x752)]||{})['filter'](_0x4ef606=>_0x4ef606['status']===_0x3a4d56(0x3b9));_0x4bc69b[_0x3a4d56(0x82b)]((_0x3d3e1c,_0x413545)=>_0x413545[_0x3a4d56(0x178)]-_0x3d3e1c[_0x3a4d56(0x178)]);const _0xa6144a=_0x4bc69b[_0x3a4d56(0x671)](0x0,0x5),_0x4d16f9=_0x3a4d56(0x309)+_0xa6144a['map']((_0x59e122,_0x1ad5a2)=>_0x3a4d56(0x6ce)+(_0x1ad5a2+0x1)+'.\x20'+(_0x59e122[_0x3a4d56(0x79e)]||Object[_0x3a4d56(0x80d)](_0x2e61e8[_0x3a4d56(0x752)])[_0x3a4d56(0x1c0)](_0x2fce1b=>_0x2e61e8[_0x3a4d56(0x752)][_0x2fce1b]===_0x59e122))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x59e122[_0x3a4d56(0x178)]+_0x3a4d56(0x7d3))[_0x3a4d56(0x919)]('')+_0x3a4d56(0x453)+(_0x2e61e8[_0x3a4d56(0x60a)]+0x1===currentQuizData[_0x3a4d56(0x7d5)][_0x3a4d56(0x261)]?_0x3a4d56(0x6ca):_0x3a4d56(0x8d3))+_0x3a4d56(0x1ce);liveGameView[_0x3a4d56(0x8a3)]=_0x4d16f9,document[_0x3a4d56(0x574)](_0x3a4d56(0x6e1))[_0x3a4d56(0xf2)](_0x3a4d56(0x811),async()=>{const _0x134ada=_0x3a4d56,_0x1bdeb7=doc(db,_0x134ada(0x58f)+appId+_0x134ada(0x362),currentLiveGameId),_0x4832e3=_0x2e61e8[_0x134ada(0x60a)]+0x1;if(_0x4832e3<currentQuizData[_0x134ada(0x7d5)][_0x134ada(0x261)]){const _0x2501a0={'currentQuestionIndex':_0x4832e3,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x134ada(0x80d)](_0x2e61e8[_0x134ada(0x752)])[_0x134ada(0x293)](_0x28db67=>{const _0x593bfe=_0x134ada;_0x2501a0[_0x593bfe(0x2ec)+_0x28db67+_0x593bfe(0x680)]=![];}),await updateDoc(_0x1bdeb7,_0x2501a0);}else await updateDoc(_0x1bdeb7,{'status':_0x134ada(0x229)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x3bbdc7=>{const _0x5f47c5=_0x1cf4;if(_0x3bbdc7){userId=_0x3bbdc7[_0x5f47c5(0x3f2)],userIdDisplay[_0x5f47c5(0x46f)]=userId;const _0xcb7507=await loadUserPreferences();_0xcb7507[_0x5f47c5(0x5b0)]&&(document['getElementById'](_0x5f47c5(0x696))[_0x5f47c5(0x54e)]=_0xcb7507['projectSortOrder']);globalDashboardSettings[_0x5f47c5(0x516)]=_0xcb7507[_0x5f47c5(0x516)]||_0x5f47c5(0x641);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x56c4c8,_0x35dd38){const _0x6ebce4=_0x56afb4;if(!userId)return;try{const _0x3fce6d=doc(db,_0x6ebce4(0x58f)+appId+'/users/'+userId+_0x6ebce4(0x82d)),_0x48693e={};_0x48693e[_0x56c4c8]=_0x35dd38,await setDoc(_0x3fce6d,_0x48693e,{'merge':!![]});}catch(_0x2a2003){console[_0x6ebce4(0x7d6)](_0x6ebce4(0x1f6),_0x2a2003);}}async function loadUserPreferences(){const _0x2a4ed5=_0x56afb4;if(!userId)return{};try{const _0x3fa8d8=doc(db,_0x2a4ed5(0x58f)+appId+_0x2a4ed5(0x4ee)+userId+_0x2a4ed5(0x82d)),_0x5d4765=await getDoc(_0x3fa8d8);if(_0x5d4765['exists']())return _0x5d4765[_0x2a4ed5(0x58c)]();return{};}catch(_0x49d933){return console[_0x2a4ed5(0x7d6)](_0x2a4ed5(0x3b4),_0x49d933),{};}}function showPodiumView(_0x39e3e1){const _0x22e39b=_0x56afb4,_0xb3b5fd=Object[_0x22e39b(0x37d)](_0x39e3e1)[_0x22e39b(0x757)](([_0x43ae09,_0x271a22])=>({'name':_0x43ae09,'score':_0x271a22[_0x22e39b(0x178)]||0x0,'badges':_0x271a22[_0x22e39b(0x1ee)]||[]}));_0xb3b5fd[_0x22e39b(0x82b)]((_0x2924e8,_0x2a0ea8)=>{const _0x58d2bb=_0x22e39b,_0x597e43=_0x2a0ea8['score']-_0x2924e8[_0x58d2bb(0x178)];if(_0x597e43!==0x0)return _0x597e43;return(_0x2a0ea8[_0x58d2bb(0x1ee)][_0x58d2bb(0x261)]||0x0)-(_0x2924e8[_0x58d2bb(0x1ee)][_0x58d2bb(0x261)]||0x0);});const _0x2c8ee6=_0x163c48=>{const _0xf9771=_0x22e39b;if(!_0x163c48||_0x163c48[_0xf9771(0x261)]===0x0)return'';const _0x5490e2={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x163c48[_0xf9771(0x757)](_0x381883=>_0x5490e2[_0x381883]||'')[_0xf9771(0x919)]('')+_0xf9771(0x24f);},_0x289e0f=_0xb3b5fd['slice'](0x3),_0x132f12=_0x289e0f[_0x22e39b(0x261)]>0x0?_0x22e39b(0x7a7)+_0x289e0f[_0x22e39b(0x757)]((_0x5c8993,_0x3111ae)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x3111ae+0x4)+_0x22e39b(0x85c)+_0x5c8993[_0x22e39b(0x79e)]+_0x22e39b(0x37e)+_0x5c8993[_0x22e39b(0x178)]+_0x22e39b(0x813))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0xb95ddd=_0x22e39b(0x897)+(_0xb3b5fd[0x1]?_0x22e39b(0x531)+_0xb3b5fd[0x1][_0x22e39b(0x79e)]+_0x22e39b(0x673)+_0x2c8ee6(_0xb3b5fd[0x1][_0x22e39b(0x1ee)])+_0x22e39b(0x710)+_0xb3b5fd[0x1]['score']+_0x22e39b(0x431):_0x22e39b(0x4c7))+_0x22e39b(0x8e5)+(_0xb3b5fd[0x0]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>'+_0xb3b5fd[0x0][_0x22e39b(0x79e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c8ee6(_0xb3b5fd[0x0][_0x22e39b(0x1ee)])+_0x22e39b(0x63e)+_0xb3b5fd[0x0][_0x22e39b(0x178)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x22e39b(0x4c7))+_0x22e39b(0x8e5)+(_0xb3b5fd[0x2]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0xb3b5fd[0x2][_0x22e39b(0x79e)]+_0x22e39b(0x673)+_0x2c8ee6(_0xb3b5fd[0x2][_0x22e39b(0x1ee)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0xb3b5fd[0x2][_0x22e39b(0x178)]+_0x22e39b(0x5b8):_0x22e39b(0x4c7))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x132f12+_0x22e39b(0x870)+(currentMode==='admin'?_0x22e39b(0x1c2):_0x22e39b(0xf7))+_0x22e39b(0x933);liveGameView[_0x22e39b(0x8a3)]=_0xb95ddd,currentMode==='admin'&&document['getElementById'](_0x22e39b(0x18a))['addEventListener'](_0x22e39b(0x811),async()=>{const _0x1d18ae=_0x22e39b,_0x448972=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x448972),showView(_0x1d18ae(0x92d));});}async function handleStartLiveRace(_0x55dc8f){const _0x2e3e80=_0x56afb4;let _0x3dcacd=allQuizzes['find'](_0x4c1642=>_0x4c1642['id']===_0x55dc8f);if(!_0x3dcacd){const _0x19640d=doc(db,_0x2e3e80(0x58f)+appId+_0x2e3e80(0x444),_0x55dc8f),_0x432971=await getDoc(_0x19640d);if(!_0x432971[_0x2e3e80(0x5f0)]()){showMessage(_0x2e3e80(0x859));return;}_0x3dcacd={'id':_0x432971['id'],..._0x432971[_0x2e3e80(0x58c)]()};}const _0x4f2f6c=getShuffledQuiz(_0x3dcacd);currentQuizData=_0x4f2f6c;const _0x29c67f=_0x3dcacd[_0x2e3e80(0x764)]||currentProjectId||null,_0x3d423c=Math[_0x2e3e80(0x504)](0xa+Math[_0x2e3e80(0x272)]()*0x5a)[_0x2e3e80(0x8c5)]();currentLiveGamePin=_0x3d423c;try{const _0x3ef5a1=await addDoc(collection(db,_0x2e3e80(0x58f)+appId+_0x2e3e80(0x362)),{'quizId':_0x55dc8f,'projectId':_0x29c67f,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x3d423c,'createdAt':serverTimestamp(),'shuffledQuiz':_0x4f2f6c});currentLiveGameId=_0x3ef5a1['id'],showAdminLobbyView(_0x3d423c,_0x3dcacd[_0x2e3e80(0x111)]),listenForLiveGameUpdates();}catch(_0x1fe81a){console[_0x2e3e80(0x7d6)](_0x2e3e80(0x38e),_0x1fe81a),showMessage(_0x2e3e80(0x159));}}async function handleShowStudentRankings(){const _0x59fc31=_0x56afb4,_0x55494c=document[_0x59fc31(0x351)](_0x59fc31(0x10d));_0x55494c&&(_0x55494c['innerHTML']=_0x59fc31(0x746));const _0x53a88d=document[_0x59fc31(0x351)](_0x59fc31(0x8ce));_0x53a88d&&(_0x53a88d[_0x59fc31(0x8a3)]=_0x59fc31(0x428));const _0x23bd43=document['getElementById'](_0x59fc31(0x2a9));_0x23bd43[_0x59fc31(0x92b)][_0x59fc31(0x112)](_0x59fc31(0x384)),document['getElementById'](_0x59fc31(0x65a))[_0x59fc31(0x809)]=()=>_0x23bd43[_0x59fc31(0x92b)][_0x59fc31(0x3fa)]('hidden');const _0x2a8ced=document[_0x59fc31(0x574)](_0x59fc31(0x5ed)),_0x1bb3cc=document[_0x59fc31(0x574)]('student-project-leaderboard-tab'),_0x510912=document[_0x59fc31(0x574)](_0x59fc31(0x827)),_0x825085=document['getElementById']('student-project-leaderboard-content');_0x2a8ced['onclick']=()=>{const _0x7679b3=_0x59fc31;_0x2a8ced[_0x7679b3(0x92b)][_0x7679b3(0x3fa)](_0x7679b3(0x3b9)),_0x1bb3cc[_0x7679b3(0x92b)][_0x7679b3(0x112)]('active'),_0x510912[_0x7679b3(0x92b)][_0x7679b3(0x112)]('hidden'),_0x825085['classList']['add'](_0x7679b3(0x384));},_0x1bb3cc[_0x59fc31(0x809)]=()=>{const _0x217d3e=_0x59fc31;_0x1bb3cc[_0x217d3e(0x92b)][_0x217d3e(0x3fa)](_0x217d3e(0x3b9)),_0x2a8ced['classList'][_0x217d3e(0x112)]('active'),_0x825085[_0x217d3e(0x92b)][_0x217d3e(0x112)](_0x217d3e(0x384)),_0x510912[_0x217d3e(0x92b)][_0x217d3e(0x3fa)](_0x217d3e(0x384));};try{const _0x449fd4=collection(db,_0x59fc31(0x58f)+appId+_0x59fc31(0x381)+currentQuizData['id']+'/submissions'),_0x4e2511=await getDocs(_0x449fd4),_0x5b0de1=_0x4e2511[_0x59fc31(0x3e0)][_0x59fc31(0x757)](_0x3a9b77=>_0x3a9b77[_0x59fc31(0x58c)]());renderQuizLeaderboard(_0x5b0de1,currentQuizData,_0x59fc31(0x38d));const _0x43bfba=collection(db,_0x59fc31(0x58f)+appId+'/public/data/projects/'+currentQuizData['projectId']+'/studentProfiles'),_0x4a240c=await getDocs(_0x43bfba),_0x222773=_0x4a240c[_0x59fc31(0x3e0)][_0x59fc31(0x757)](_0x49098b=>_0x49098b[_0x59fc31(0x58c)]());renderLeaderboard(_0x222773,_0x59fc31(0x8ed));}catch(_0x3b615f){console[_0x59fc31(0x7d6)]('Error\x20fetching\x20student\x20rankings:',_0x3b615f),showMessage(_0x59fc31(0x652));}}async function handleSaveToBank(_0x21295f){const _0x4c8748=_0x56afb4,_0x19c12e=_0x21295f['currentTarget'],_0x2cf85a=_0x19c12e[_0x4c8748(0xd6)][_0x4c8748(0xf4)],_0xa11add=currentQuizData[_0x4c8748(0x7d5)][_0x2cf85a];if(!userId){showMessage(_0x4c8748(0x10c));return;}try{const _0x1796f2={..._0xa11add,'originalTopic':currentQuizData[_0x4c8748(0x111)],'savedAt':serverTimestamp()},_0x904935=collection(db,_0x4c8748(0x58f)+appId+_0x4c8748(0x4ee)+userId+_0x4c8748(0x63d));await addDoc(_0x904935,_0x1796f2),showMessage(_0x4c8748(0x4a0)),_0x19c12e[_0x4c8748(0x92b)][_0x4c8748(0x112)](_0x4c8748(0x74c)),_0x19c12e[_0x4c8748(0x92b)][_0x4c8748(0x3fa)]('text-green-600'),_0x19c12e[_0x4c8748(0x4b9)]=!![];}catch(_0x36cf43){console[_0x4c8748(0x7d6)](_0x4c8748(0x5c5),_0x36cf43),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0x5059d9=_0x56afb4;if(!userId)return;const _0x991a8e=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x776ab1=query(_0x991a8e,where(_0x5059d9(0x758),'==',!![]));onSnapshot(_0x776ab1,_0x258a89=>{const _0x38c47a=_0x5059d9;starredQuizzes=_0x258a89['docs']['map'](_0x3b1098=>({'id':_0x3b1098['id'],..._0x3b1098['data']()})),currentProjectId===_0x38c47a(0x585)?renderQuizzes():renderProjects();},_0x15fb8c=>{const _0xb1a007=_0x5059d9;console[_0xb1a007(0x7d6)](_0xb1a007(0x2cf),_0x15fb8c);});}function exportQuizAsWorksheetPDF(){const _0x121ad4=_0x56afb4;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x121ad4(0x35c));return;}const _0x312608=currentQuizData,_0x1c1f03=window[_0x121ad4(0x82c)]('',_0x121ad4(0x202)),_0x18c4a7=_0x27918b=>String[_0x121ad4(0x601)](0x41+_0x27918b),_0xa7ba9f=_0x121ad4(0x4a9)+_0x312608[_0x121ad4(0x111)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x312608[_0x121ad4(0x111)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x312608[_0x121ad4(0x7d5)][_0x121ad4(0x757)]((_0x59f160,_0x4afac8)=>{const _0x20da71=_0x121ad4;let _0x281338='';const _0x172ea4=_0x59f160['questionType']||_0x312608['quizType'];switch(_0x172ea4){case _0x20da71(0x899):case _0x20da71(0x85e):_0x281338=_0x20da71(0x61f)+_0x59f160[_0x20da71(0x721)][_0x20da71(0x757)]((_0x56ad8b,_0x589170)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x18c4a7(_0x589170)+'.\x20'+_0x56ad8b+_0x20da71(0x7ec))[_0x20da71(0x919)](_0x20da71(0x1a3))+_0x20da71(0x24f);break;case _0x20da71(0x89d):_0x281338='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x281338=_0x20da71(0x1c8);break;}return _0x20da71(0x21c)+(_0x4afac8+0x1)+_0x20da71(0x88a)+(_0x59f160[_0x20da71(0x4a3)]||_0x59f160['questionText'])+_0x20da71(0x218)+(_0x59f160[_0x20da71(0x109)]?_0x20da71(0x822)+_0x59f160[_0x20da71(0x109)]+_0x20da71(0x24f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x281338+_0x20da71(0x73d);})[_0x121ad4(0x919)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1c1f03[_0x121ad4(0x903)][_0x121ad4(0x13a)](_0xa7ba9f),_0x1c1f03[_0x121ad4(0x903)][_0x121ad4(0x8d7)](),_0x1c1f03[_0x121ad4(0x5db)]=function(){setTimeout(()=>{const _0x536bca=_0x1cf4;_0x1c1f03[_0x536bca(0x3c0)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x10420f=_0x56afb4;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x10420f(0x35c));return;}const _0x3ef9cb=currentQuizData,_0x36c29a=window[_0x10420f(0x82c)]('',_0x10420f(0x202)),_0x54e237=_0x274a05=>String[_0x10420f(0x601)](0x41+_0x274a05),_0x53bcc0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x3ef9cb[_0x10420f(0x111)]+_0x10420f(0xe2)+_0x3ef9cb[_0x10420f(0x7d5)]['map']((_0x139d06,_0x193413)=>{const _0x4aae2c=_0x10420f;let _0x195338='';const _0x206c5c=_0x139d06[_0x4aae2c(0x4b8)]||_0x3ef9cb[_0x4aae2c(0x185)];switch(_0x206c5c){case'multiple_choice':case _0x4aae2c(0x85e):_0x195338=_0x4aae2c(0x7f7)+_0x139d06['options'][_0x4aae2c(0x757)]((_0x3cd801,_0x52f06b)=>_0x4aae2c(0x126)+_0x54e237(_0x52f06b)+'.\x20'+_0x3cd801+'</span>')['join']('<br>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'true_false':_0x195338=_0x4aae2c(0x1a5);break;default:_0x195338='';break;}return _0x4aae2c(0x8c4)+_0x3ef9cb[_0x4aae2c(0x111)]+_0x4aae2c(0x133)+(_0x193413+0x1)+_0x4aae2c(0x75e)+(_0x139d06['stem']||_0x139d06[_0x4aae2c(0x53e)])+_0x4aae2c(0x218)+(_0x139d06[_0x4aae2c(0x109)]?'<div\x20class=\x22my-6\x22>'+_0x139d06[_0x4aae2c(0x109)]+_0x4aae2c(0x24f):'')+_0x4aae2c(0x42e)+_0x195338+_0x4aae2c(0x572);})[_0x10420f(0x919)]('')+_0x10420f(0x636);_0x36c29a[_0x10420f(0x903)]['write'](_0x53bcc0),_0x36c29a[_0x10420f(0x903)][_0x10420f(0x8d7)](),_0x36c29a[_0x10420f(0x5db)]=function(){setTimeout(()=>{const _0x42a20=_0x1cf4;_0x36c29a[_0x42a20(0x3c0)]();},0x5dc);};}async function handleToggleStarQuiz(_0x394eb7){const _0x27d7e0=_0x56afb4,_0x401de3=doc(db,'artifacts/'+appId+_0x27d7e0(0x444),_0x394eb7);try{const _0x1b682c=await getDoc(_0x401de3);if(_0x1b682c[_0x27d7e0(0x5f0)]()){const _0x3e21aa=_0x1b682c['data']()[_0x27d7e0(0x758)]||![];await updateDoc(_0x401de3,{'isStarred':!_0x3e21aa});}}catch(_0x5c01f4){console[_0x27d7e0(0x7d6)](_0x27d7e0(0x55d),_0x5c01f4),showMessage(_0x27d7e0(0x810));}}async function displayQuestionBank(){const _0x26de0b=_0x56afb4,_0x4ca686=document[_0x26de0b(0x574)](_0x26de0b(0x3f3));_0x4ca686['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x587b95=collection(db,_0x26de0b(0x58f)+appId+_0x26de0b(0x4ee)+userId+_0x26de0b(0x63d)),_0x53e95d=query(_0x587b95),_0x25f5ea=await getDocs(_0x53e95d);if(_0x25f5ea['empty']){_0x4ca686[_0x26de0b(0x8a3)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x415adb=_0x25f5ea['docs']['map'](_0x22cd8d=>{const _0x36e29a=_0x26de0b,_0x1852aa=_0x22cd8d['data'](),_0x206afd=_0x22cd8d['id'];return _0x36e29a(0x803)+JSON[_0x36e29a(0x224)](_0x1852aa)+_0x36e29a(0x3a7)+(_0x1852aa[_0x36e29a(0x53e)]||_0x1852aa[_0x36e29a(0x4a3)])+_0x36e29a(0x2fb)+_0x1852aa[_0x36e29a(0x8f2)]+_0x36e29a(0x4ba);})['join']('');_0x4ca686['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x415adb+_0x26de0b(0x118),document[_0x26de0b(0x574)](_0x26de0b(0x6ec))[_0x26de0b(0xf2)]('click',createQuizFromBank);}catch(_0x3328b2){console['error'](_0x26de0b(0x7e3),_0x3328b2),_0x4ca686[_0x26de0b(0x8a3)]=_0x26de0b(0x64d);}}function showAdminLiveQuestionView(_0x4f640b,_0xfc475c,_0x1028a6){const _0x12cf91=_0x56afb4,_0x37386c=_0x4f640b[_0x12cf91(0x4b8)]||currentQuizData['quizType'];let _0x205d5b='';if(_0x37386c===_0x12cf91(0x899)||_0x37386c===_0x12cf91(0x89d)){const _0x32c8f4=_0x37386c===_0x12cf91(0x89d)?[_0x12cf91(0x417),'ไม่ใช่']:_0x4f640b[_0x12cf91(0x721)],_0x7f27dc=_0x37386c===_0x12cf91(0x89d)?_0x4f640b[_0x12cf91(0x53b)]?0x0:0x1:_0x4f640b[_0x12cf91(0x800)];_0x205d5b=_0x32c8f4[_0x12cf91(0x757)]((_0x63a9bb,_0x41bb01)=>_0x12cf91(0x33e)+(_0x41bb01===_0x7f27dc)+_0x12cf91(0x766)+_0x63a9bb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x12cf91(0x919)]('');}else{if(_0x37386c===_0x12cf91(0x3ed)){const _0x4c6930=_0x4f640b[_0x12cf91(0x1c1)]||[];_0x205d5b=_0x4c6930[_0x12cf91(0x757)](_0x32b261=>_0x12cf91(0x33e)+(_0x32b261===_0x4f640b[_0x12cf91(0x3aa)])+_0x12cf91(0x766)+_0x32b261+_0x12cf91(0x7e5))['join']('');}}const _0x4b8eff=_0x4f640b[_0x12cf91(0x4a3)]||_0x4f640b[_0x12cf91(0x53e)],_0x4ec27f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0xfc475c+0x1)+_0x12cf91(0x77d)+_0x1028a6+_0x12cf91(0x8f1)+currentLiveGamePin+_0x12cf91(0x4ed)+_0x4b8eff+_0x12cf91(0x442)+_0x205d5b+_0x12cf91(0x2e3);liveGameView[_0x12cf91(0x8a3)]=_0x4ec27f,window[_0x12cf91(0x784)]&&MathJax[_0x12cf91(0x12c)]&&MathJax[_0x12cf91(0x12c)]([liveGameView]),document[_0x12cf91(0x574)](_0x12cf91(0x4eb))['addEventListener'](_0x12cf91(0x811),()=>revealAnswerForAdmin(_0xfc475c,_0x1028a6)),document[_0x12cf91(0x574)](_0x12cf91(0x286))['addEventListener']('click',async()=>{const _0x38279b=_0x12cf91;showConfirmation(_0x38279b(0x675),async()=>{const _0x8d8a49=_0x38279b,_0x4afa4f=doc(db,_0x8d8a49(0x58f)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4afa4f,{'status':'podium'});});}),document[_0x12cf91(0x574)]('manage-players-btn')[_0x12cf91(0xf2)](_0x12cf91(0x811),()=>{const _0x542193=_0x12cf91;document[_0x542193(0x574)](_0x542193(0x732))['classList']['toggle']('hidden');});}function showStudentLiveQuestionView(_0x8c2274,_0x2a96b9,_0x2edd5b){const _0x57c594=_0x56afb4,_0x548016=_0x8c2274[_0x57c594(0x4b8)]||currentQuizData[_0x57c594(0x185)];let _0x1af7ec='';if(_0x548016===_0x57c594(0x899)||_0x548016===_0x57c594(0x89d)){const _0xabdcee=_0x548016===_0x57c594(0x89d)?[_0x57c594(0x417),_0x57c594(0x876)]:_0x8c2274[_0x57c594(0x721)];_0x1af7ec=_0xabdcee[_0x57c594(0x757)]((_0x20d3a8,_0xf6a9aa)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0xf6a9aa+_0x57c594(0x2a7)+_0x20d3a8+_0x57c594(0x6e4))['join']('');}else{if(_0x548016===_0x57c594(0x3ed)){const _0x1bfe00=_0x8c2274[_0x57c594(0x1c1)]||[];_0x1af7ec=_0x1bfe00[_0x57c594(0x757)]((_0x31d6d1,_0x5c6372)=>_0x57c594(0x16c)+_0x5c6372+_0x57c594(0x2a7)+_0x31d6d1+_0x57c594(0x6e4))[_0x57c594(0x919)]('');}else _0x548016===_0x57c594(0x62b)&&(_0x1af7ec=_0x57c594(0x260));}const _0x3799d8=_0x8c2274[_0x57c594(0x4a3)]||_0x8c2274[_0x57c594(0x53e)],_0x6a4d2a=_0x57c594(0x4db)+(_0x2a96b9+0x1)+'\x20/\x20'+_0x2edd5b+_0x57c594(0x279)+_0x3799d8+_0x57c594(0x771)+_0x1af7ec+_0x57c594(0x639);liveGameView[_0x57c594(0x8a3)]=_0x6a4d2a;window[_0x57c594(0x784)]&&MathJax[_0x57c594(0x12c)]&&MathJax[_0x57c594(0x12c)]([liveGameView]);const _0x276c8c=document[_0x57c594(0x574)](_0x57c594(0x1be));_0x276c8c&&_0x276c8c[_0x57c594(0xf2)](_0x57c594(0x811),()=>{const _0x31e862=_0x57c594,_0x50b72e=document[_0x31e862(0x574)](_0x31e862(0x82f))[_0x31e862(0x54e)];handleLiveAnswer(_0x50b72e,_0x8c2274);}),document[_0x57c594(0x574)](_0x57c594(0x145))[_0x57c594(0xf2)](_0x57c594(0x811),_0x9d2be3=>{const _0x5bd76b=_0x57c594,_0x57baf5=_0x9d2be3[_0x5bd76b(0x868)][_0x5bd76b(0x213)](_0x5bd76b(0x46b));if(_0x57baf5){const _0x312661=parseInt(_0x57baf5[_0x5bd76b(0xd6)]['index']);handleLiveAnswer(_0x312661,_0x8c2274);}});}async function handleLiveAnswer(_0x7eed68,_0x1d8aa1){const _0x5e0f69=_0x56afb4;document[_0x5e0f69(0x706)](_0x5e0f69(0x929))[_0x5e0f69(0x293)](_0x2e422f=>_0x2e422f[_0x5e0f69(0x4b9)]=!![]);const _0x6918ff=_0x1d8aa1[_0x5e0f69(0x4b8)]||currentQuizData[_0x5e0f69(0x185)];let _0x401d77=![],_0x455c82=_0x7eed68;if(_0x6918ff===_0x5e0f69(0x62b)){const _0x242d61=(_0x7eed68||'')[_0x5e0f69(0x8c5)]();_0x401d77=await gradeShortAnswer(_0x242d61,_0x1d8aa1);}else{if(_0x6918ff===_0x5e0f69(0x899))_0x401d77=_0x7eed68===_0x1d8aa1[_0x5e0f69(0x800)];else{if(_0x6918ff===_0x5e0f69(0x89d)){const _0x3ff11c=_0x1d8aa1[_0x5e0f69(0x53b)];_0x401d77=_0x7eed68===0x0&&_0x3ff11c||_0x7eed68===0x1&&!_0x3ff11c;}else{if(_0x6918ff==='matching_item'){const _0x3e8c44=_0x1d8aa1[_0x5e0f69(0x1c1)][_0x7eed68];_0x401d77=_0x3e8c44===_0x1d8aa1[_0x5e0f69(0x3aa)],_0x455c82=_0x3e8c44;}}}}const _0xd57fc9=doc(db,_0x5e0f69(0x58f)+appId+_0x5e0f69(0x362),currentLiveGameId),_0x23a7a8={};_0x23a7a8[_0x5e0f69(0x2ec)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x23a7a8['players.'+currentStudentName+_0x5e0f69(0x25c)]=_0x401d77,_0x23a7a8[_0x5e0f69(0x2ec)+currentStudentName+'.lastAnswerIndex']=_0x6918ff===_0x5e0f69(0x62b)||_0x6918ff===_0x5e0f69(0x3ed)?null:_0x7eed68,_0x23a7a8['players.'+currentStudentName+_0x5e0f69(0x275)]=_0x455c82,_0x23a7a8[_0x5e0f69(0x2ec)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x23a7a8[_0x5e0f69(0x2ec)+currentStudentName+_0x5e0f69(0x358)]=![],await updateDoc(_0xd57fc9,_0x23a7a8),liveGameView[_0x5e0f69(0x8a3)]=_0x5e0f69(0x86f);}function showAdminSummaryView(_0x2d9109,_0xcfa75f){const _0x5ac8c3=_0x56afb4,_0x25165a=Object[_0x5ac8c3(0x130)](_0x2d9109[_0x5ac8c3(0x752)]||{}),_0x47d33e=_0xcfa75f['questionType']||currentQuizData[_0x5ac8c3(0x185)],_0x423819=_0x47d33e===_0x5ac8c3(0x89d)?[_0x5ac8c3(0x417),_0x5ac8c3(0x876)]:_0xcfa75f[_0x5ac8c3(0x721)]||_0xcfa75f[_0x5ac8c3(0x1c1)]||[],_0x56a07d={},_0x342da6=new Array(_0x423819[_0x5ac8c3(0x261)])[_0x5ac8c3(0x7c5)](0x0);_0x423819[_0x5ac8c3(0x293)]((_0x45f9a9,_0x55622e)=>{_0x56a07d[_0x55622e]=[];}),Object[_0x5ac8c3(0x37d)](_0x2d9109[_0x5ac8c3(0x752)]||{})['forEach'](([_0x5e6f56,_0x4a2b7e])=>{const _0x24399c=_0x5ac8c3;if(_0x4a2b7e[_0x24399c(0x651)]===_0x24399c(0x3b9)&&_0x4a2b7e[_0x24399c(0x4f5)]!==undefined){const _0x4be269=_0x4a2b7e[_0x24399c(0x4f5)];_0x56a07d[_0x4be269]&&(_0x56a07d[_0x4be269]['push'](_0x5e6f56),_0x342da6[_0x4be269]++);}});const _0xd630c3=Math[_0x5ac8c3(0x5cc)](..._0x342da6,0x1),_0x327d9e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0xcfa75f[_0x5ac8c3(0x4a3)]||_0xcfa75f[_0x5ac8c3(0x53e)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x342da6[_0x5ac8c3(0x757)]((_0x533e1b,_0x23756d)=>{const _0x14a00e=_0x5ac8c3,_0x42e913=_0x56a07d[_0x23756d][_0x14a00e(0x261)]>0x0?_0x56a07d[_0x23756d]['join'](',\x20'):_0x14a00e(0x3ac);let _0x3e529a=![];if(_0x47d33e===_0x14a00e(0x899))_0x3e529a=_0x23756d===_0xcfa75f[_0x14a00e(0x800)];else{if(_0x47d33e===_0x14a00e(0x89d)){const _0x43795e=_0xcfa75f[_0x14a00e(0x53b)];_0x3e529a=_0x43795e&&_0x23756d===0x0||!_0x43795e&&_0x23756d===0x1;}else _0x47d33e===_0x14a00e(0x3ed)&&(_0x3e529a=_0x423819[_0x23756d]===_0xcfa75f['correctResponse']);}const _0x3c0fd2=_0x3e529a?'#26890c':'#e21b3c';return _0x14a00e(0x45b)+_0x533e1b+_0x14a00e(0x68b)+_0x3c0fd2+_0x14a00e(0x6fc)+_0x23756d+_0x14a00e(0x45d)+_0x423819[_0x23756d]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x23756d+_0x14a00e(0x503)+_0x42e913+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x5ac8c3(0x919)]('')+_0x5ac8c3(0x759);liveGameView[_0x5ac8c3(0x8a3)]=_0x327d9e;if(window['MathJax'])MathJax['typesetPromise']();document[_0x5ac8c3(0x574)](_0x5ac8c3(0x5ac))[_0x5ac8c3(0xf2)](_0x5ac8c3(0x811),async()=>{const _0x5d65bd=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x5d65bd,{'questionStatus':'leaderboard'});}),document[_0x5ac8c3(0x574)](_0x5ac8c3(0x2ea))['addEventListener'](_0x5ac8c3(0x811),()=>{openScratchpad(_0xcfa75f,_0x423819);});}function showPlayerSummaryView(_0x3f8aeb,_0x4816fc){const _0x473128=_0x56afb4,_0x681da3=Object[_0x473128(0x130)](_0x3f8aeb[_0x473128(0x752)]||{}),_0x23d492=_0x3f8aeb[_0x473128(0x752)][_0x4816fc],_0x4d9c8c=_0x681da3['filter'](_0x59e296=>_0x59e296[_0x473128(0x651)]===_0x473128(0x3b9))[_0x473128(0x82b)]((_0x40d15a,_0x470f00)=>_0x470f00[_0x473128(0x178)]-_0x40d15a['score']),_0x5061e0=_0x4d9c8c[_0x473128(0x7b7)](_0x3d4775=>_0x3d4775===_0x23d492)+0x1,_0x2a738a=_0x23d492[_0x473128(0x4b4)]?_0x473128(0x289):_0x473128(0x17a),_0x5e821f=_0x23d492[_0x473128(0x4b4)]?'bg-green-500':'bg-red-500',_0x49bc9f=_0x23d492[_0x473128(0x713)]||0x0,_0x3e7382=_0x473128(0x1f9),_0x443a6f=_0x473128(0x259)+_0x3e7382+_0x473128(0x5f2)+_0x5e821f+_0x473128(0x467)+_0x2a738a+_0x473128(0x140)+_0x49bc9f+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x5061e0>0x0?_0x5061e0:'-')+_0x473128(0x39a);liveGameView[_0x473128(0x8a3)]=_0x443a6f;}function createQuizFromBank(){const _0x1eaf02=_0x56afb4,_0x4db991=document[_0x1eaf02(0x706)](_0x1eaf02(0x1d8));if(_0x4db991[_0x1eaf02(0x261)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x2ef394=[];_0x4db991[_0x1eaf02(0x293)](_0x985376=>{const _0x3a0e5f=_0x1eaf02;_0x2ef394[_0x3a0e5f(0x6e6)](JSON[_0x3a0e5f(0x317)](_0x985376[_0x3a0e5f(0x54e)]));});const _0x1ea082={'topic':_0x1eaf02(0x18d),'questions':_0x2ef394};displayGeneratedQuiz(_0x1ea082);}function showAdminLobbyView(_0x234b50,_0xf67d8d){const _0x51192d=_0x56afb4;showView(_0x51192d(0x520));const _0x48558a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0xf67d8d+_0x51192d(0x439)+_0x234b50+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x51192d(0x8a3)]=_0x48558a,document['getElementById'](_0x51192d(0x423))[_0x51192d(0xf2)](_0x51192d(0x811),async()=>{const _0x56d79c=_0x51192d;if(!currentQuizData||!currentQuizData[_0x56d79c(0x7d5)]||currentQuizData[_0x56d79c(0x7d5)]['length']===0x0){showMessage(_0x56d79c(0x6f9));return;}try{const _0x2d19ed=doc(db,_0x56d79c(0x58f)+appId+_0x56d79c(0x362),currentLiveGameId);await updateDoc(_0x2d19ed,{'status':_0x56d79c(0x65f),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x4cea1f=currentQuizData[_0x56d79c(0x7d5)][0x0],_0xada2c0=currentQuizData[_0x56d79c(0x7d5)][_0x56d79c(0x261)];showAdminLiveQuestionView(_0x4cea1f,0x0,_0xada2c0);}catch(_0x41a91c){console[_0x56d79c(0x7d6)](_0x56d79c(0x90f),_0x41a91c),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x1d002a=_0x56afb4;if(allQuizzesGlobal[_0x1d002a(0x261)]===0x0){const _0x4d153f=await getDocs(collection(db,'artifacts/'+appId+_0x1d002a(0x444)));allQuizzesGlobal=_0x4d153f[_0x1d002a(0x3e0)][_0x1d002a(0x757)](_0x2b2476=>({'id':_0x2b2476['id'],..._0x2b2476[_0x1d002a(0x58c)]()}));}renderGlobalQuizList(''),document[_0x1d002a(0x574)]('global-live-game-modal')[_0x1d002a(0x92b)][_0x1d002a(0x112)](_0x1d002a(0x384));}async function openQuizBankModal(){const _0x1a8d39=_0x56afb4;if(allQuizzesGlobal['length']===0x0){const _0x32feed=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x32feed['docs']['map'](_0x585dd0=>({'id':_0x585dd0['id'],..._0x585dd0['data']()}));}renderQuizBankList(''),document[_0x1a8d39(0x574)]('quiz-bank-modal')['classList'][_0x1a8d39(0x112)](_0x1a8d39(0x384));}function renderQuizBankList(_0x1a4956=''){const _0x41cfc2=_0x56afb4,_0x531bf9=document['getElementById']('bank-quiz-list'),_0x356aee=_0x1a4956['toLowerCase']()[_0x41cfc2(0x4b1)](),_0x5d795b=allQuizzesGlobal[_0x41cfc2(0x757)](_0x218dbf=>({..._0x218dbf,'projectName':allProjects[_0x41cfc2(0x1c0)](_0x45f59b=>_0x45f59b['id']===_0x218dbf['projectId'])?.[_0x41cfc2(0x1dc)]||_0x41cfc2(0x36a)}))[_0x41cfc2(0x13b)](_0x5ebbe1=>(_0x5ebbe1[_0x41cfc2(0x111)]||'')[_0x41cfc2(0x56f)]()[_0x41cfc2(0x7a6)](_0x356aee)||(_0x5ebbe1[_0x41cfc2(0x1dc)]||'')['toLowerCase']()[_0x41cfc2(0x7a6)](_0x356aee)||_0x5ebbe1['id'][_0x41cfc2(0x8c5)]()[_0x41cfc2(0x7a6)](_0x356aee));document[_0x41cfc2(0x574)](_0x41cfc2(0x80e))[_0x41cfc2(0x46f)]='('+_0x5d795b['length']+_0x41cfc2(0x115),_0x531bf9[_0x41cfc2(0x8a3)]=_0x5d795b['length']?_0x5d795b[_0x41cfc2(0x757)](_0xab7e02=>_0x41cfc2(0x3a2)+_0xab7e02['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0xab7e02[_0x41cfc2(0x111)]||_0x41cfc2(0x1d9))+_0x41cfc2(0x1b0)+(_0xab7e02['questions']?.[_0x41cfc2(0x261)]||0x0)+_0x41cfc2(0x4b3)+_0xab7e02[_0x41cfc2(0x1dc)]+_0x41cfc2(0x4dd)+_0xab7e02['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0xab7e02['id']+_0x41cfc2(0x593)+_0xab7e02['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0xab7e02['id']+_0x41cfc2(0x3ce)+_0xab7e02['id']+_0x41cfc2(0x244)+_0xab7e02['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0xab7e02['id']+_0x41cfc2(0x2cc)+_0xab7e02[_0x41cfc2(0x111)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x41cfc2(0x919)](''):_0x41cfc2(0x2a8),_0x531bf9[_0x41cfc2(0x706)](_0x41cfc2(0x2ed))[_0x41cfc2(0x293)](_0xa5680a=>{const _0x241519=_0x41cfc2;_0xa5680a[_0x241519(0xf2)]('click',()=>{const _0x4e8e3c=_0x241519,_0x36f2c4=_0xa5680a['dataset']['id'];document[_0x4e8e3c(0x574)](_0x4e8e3c(0x3cb))[_0x4e8e3c(0x92b)][_0x4e8e3c(0x3fa)](_0x4e8e3c(0x384)),showQuizDetailView(_0x36f2c4);});}),_0x531bf9['querySelectorAll'](_0x41cfc2(0x179))['forEach'](_0x3d7159=>{const _0x29b75c=_0x41cfc2;_0x3d7159[_0x29b75c(0xf2)](_0x29b75c(0x811),_0x173a67=>{const _0x462e65=_0x29b75c;_0x173a67[_0x462e65(0x25d)]();const _0x5f9824=_0x3d7159['dataset']['id'],_0xc62681=allQuizzesGlobal[_0x462e65(0x1c0)](_0x80a793=>_0x80a793['id']===_0x5f9824);_0xc62681?(currentQuizData=_0xc62681,document[_0x462e65(0x574)](_0x462e65(0x3cb))[_0x462e65(0x92b)]['add']('hidden'),startAdminTest()):showMessage(_0x462e65(0x859));});}),_0x531bf9[_0x41cfc2(0x706)](_0x41cfc2(0x2bb))[_0x41cfc2(0x293)](_0xaa60bc=>{const _0x137565=_0x41cfc2;_0xaa60bc[_0x137565(0xf2)](_0x137565(0x811),_0x29f90e=>{const _0x5ed9ee=_0x137565;_0x29f90e[_0x5ed9ee(0x25d)]();const _0x355022=_0xaa60bc[_0x5ed9ee(0xd6)]['id'],_0x2c9a42=allQuizzesGlobal[_0x5ed9ee(0x1c0)](_0x3fe0e8=>_0x3fe0e8['id']===_0x355022);_0x2c9a42?(document[_0x5ed9ee(0x574)](_0x5ed9ee(0x3cb))[_0x5ed9ee(0x92b)][_0x5ed9ee(0x3fa)](_0x5ed9ee(0x384)),handleGenerateParallelFromBank(_0x2c9a42)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x531bf9[_0x41cfc2(0x706)](_0x41cfc2(0x720))[_0x41cfc2(0x293)](_0x213d86=>{const _0x53ee2e=_0x41cfc2;_0x213d86['addEventListener'](_0x53ee2e(0x811),_0x1a55f6=>{const _0x5dfa87=_0x53ee2e;_0x1a55f6[_0x5dfa87(0x25d)]();const _0x5413c0=_0x213d86[_0x5dfa87(0xd6)]['id'],_0x88bcfa=allQuizzesGlobal[_0x5dfa87(0x1c0)](_0x4b587d=>_0x4b587d['id']===_0x5413c0);_0x88bcfa?(document['getElementById'](_0x5dfa87(0x3cb))[_0x5dfa87(0x92b)][_0x5dfa87(0x3fa)](_0x5dfa87(0x384)),startPresentation(_0x88bcfa)):showMessage(_0x5dfa87(0x859));});}),_0x531bf9[_0x41cfc2(0x706)]('.quiz-bank-move-btn')[_0x41cfc2(0x293)](_0x4ad83f=>{const _0x254f58=_0x41cfc2;_0x4ad83f['addEventListener'](_0x254f58(0x811),_0x22bfc5=>{const _0x11fe21=_0x254f58;_0x22bfc5[_0x11fe21(0x25d)]();const _0x5b59cd=_0x4ad83f[_0x11fe21(0xd6)]['id'];document[_0x11fe21(0x574)](_0x11fe21(0x3cb))[_0x11fe21(0x92b)][_0x11fe21(0x3fa)]('hidden'),handleMoveQuiz(_0x5b59cd);});}),_0x531bf9['querySelectorAll']('.quiz-bank-settings-btn')[_0x41cfc2(0x293)](_0x2318a1=>{const _0x3cdeee=_0x41cfc2;_0x2318a1[_0x3cdeee(0xf2)]('click',_0x44fd17=>{const _0x531063=_0x3cdeee;_0x44fd17[_0x531063(0x25d)]();const _0x10b7ac=_0x2318a1[_0x531063(0xd6)]['id'];document[_0x531063(0x574)](_0x531063(0x3cb))[_0x531063(0x92b)]['add']('hidden'),handleQuizSettings(_0x10b7ac);});}),_0x531bf9[_0x41cfc2(0x706)](_0x41cfc2(0x58e))['forEach'](_0x357f26=>{const _0x174539=_0x41cfc2;_0x357f26['addEventListener'](_0x174539(0x811),_0x1a2a55=>{const _0x3bcf33=_0x174539;_0x1a2a55[_0x3bcf33(0x25d)]();const _0x123dcb=_0x357f26[_0x3bcf33(0xd6)]['id'],_0x473659=_0x357f26[_0x3bcf33(0xd6)][_0x3bcf33(0x111)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x473659+_0x3bcf33(0xe1),()=>handleDeleteQuiz(_0x123dcb));});});}async function handleCompareResults(_0x4988a2,_0x3696ea){const _0x5c13db=_0x56afb4,_0x399c5b=document[_0x5c13db(0x574)](_0x5c13db(0x494)),_0x53ec6b=document[_0x5c13db(0x574)]('comparison-overall-content'),_0x32407d=document[_0x5c13db(0x574)](_0x5c13db(0x545));document[_0x5c13db(0x574)](_0x5c13db(0x4c9))[_0x5c13db(0x92b)][_0x5c13db(0x3fa)](_0x5c13db(0x3b9)),document[_0x5c13db(0x574)](_0x5c13db(0x27a))[_0x5c13db(0x92b)]['remove'](_0x5c13db(0x3b9)),_0x53ec6b[_0x5c13db(0x92b)][_0x5c13db(0x112)](_0x5c13db(0x384)),_0x32407d[_0x5c13db(0x92b)][_0x5c13db(0x3fa)](_0x5c13db(0x384)),_0x53ec6b['innerHTML']=_0x5c13db(0x912),_0x32407d[_0x5c13db(0x8a3)]='',_0x399c5b['classList'][_0x5c13db(0x112)](_0x5c13db(0x384));try{const _0x5adbb9=doc(db,'artifacts/'+appId+_0x5c13db(0x444),_0x4988a2),_0x330fdb=await getDoc(_0x5adbb9);if(!_0x330fdb['exists']())throw new Error(_0x5c13db(0x1bc));const _0x4befbd=_0x330fdb[_0x5c13db(0x58c)](),_0x24778a=_0x4befbd[_0x5c13db(0x7d5)][_0x5c13db(0x261)],_0x16a62c=collection(db,_0x5c13db(0x58f)+appId+_0x5c13db(0x381)+_0x3696ea+_0x5c13db(0x16a)),_0x22a636=collection(db,_0x5c13db(0x58f)+appId+_0x5c13db(0x381)+_0x4988a2+_0x5c13db(0x16a)),[_0x471135,_0x113a17]=await Promise[_0x5c13db(0x7b1)]([getDocs(_0x16a62c),getDocs(_0x22a636)]),_0x1d4970=_0x471135[_0x5c13db(0x3e0)][_0x5c13db(0x757)](_0x15fab9=>_0x15fab9[_0x5c13db(0x58c)]()),_0x26f946=_0x113a17[_0x5c13db(0x3e0)][_0x5c13db(0x757)](_0x4fa340=>_0x4fa340[_0x5c13db(0x58c)]()),_0x49cd08=_0x1d4970['map'](_0x2121c0=>_0x2121c0[_0x5c13db(0x1d1)]),_0x38ee02=_0x26f946[_0x5c13db(0x757)](_0x2a8bd8=>_0x2a8bd8[_0x5c13db(0x1d1)]),_0x262c0b=calculateMeanAndStdDev(_0x49cd08),_0x386f21=calculateMeanAndStdDev(_0x38ee02),_0x26b427=_0x262c0b['mean'],_0x4a4d3c=_0x386f21[_0x5c13db(0x70b)],_0x543966=_0x4a4d3c-_0x26b427;let _0x2749f5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x26b427[_0x5c13db(0x6ab)](0x2)+_0x5c13db(0x456)+_0x4a4d3c['toFixed'](0x2)+_0x5c13db(0x84f)+(_0x543966>=0x0?_0x5c13db(0x670):_0x5c13db(0x562))+_0x5c13db(0x1d7)+(_0x543966>=0x0?_0x5c13db(0x71b):_0x5c13db(0x445))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x543966>=0x0?_0x5c13db(0x537):_0x5c13db(0x31e))+'\x22>'+(_0x543966>=0x0?'+':'')+_0x543966[_0x5c13db(0x6ab)](0x2)+_0x5c13db(0x18f);_0x53ec6b['innerHTML']=_0x2749f5;const _0x5434f7=document[_0x5c13db(0x574)](_0x5c13db(0x71f))[_0x5c13db(0x866)]('2d');if(chartInstances[_0x5c13db(0x6bd)])chartInstances['comparison']['destroy']();chartInstances[_0x5c13db(0x6bd)]=new Chart(_0x5434f7,{'type':_0x5c13db(0x689),'data':{'labels':[_0x5c13db(0x8ca)],'datasets':[{'label':_0x5c13db(0x4fa),'data':[_0x26b427],'backgroundColor':_0x5c13db(0x55e)},{'label':_0x5c13db(0x928),'data':[_0x4a4d3c],'backgroundColor':_0x5c13db(0x37f)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x24778a}}}});const _0xd45d94=currentProjectData[_0x5c13db(0x3b2)]||[],_0xfc12fb=_0xd45d94[_0x5c13db(0x757)](_0x588449=>{const _0x4ff607=_0x5c13db,_0x3254ea=_0x1d4970[_0x4ff607(0x1c0)](_0x1612ca=>_0x1612ca[_0x4ff607(0x460)]===_0x588449),_0x107b85=_0x26f946[_0x4ff607(0x1c0)](_0x31e913=>_0x31e913[_0x4ff607(0x460)]===_0x588449),_0x55eb8e=_0x3254ea?_0x3254ea[_0x4ff607(0x1d1)]:null,_0x5d7b00=_0x107b85?_0x107b85[_0x4ff607(0x1d1)]:null,_0x81f5c8=_0x55eb8e!==null&&_0x5d7b00!==null?_0x5d7b00-_0x55eb8e:null,_0x17a590=_0x55eb8e!==null?calculateZScore(_0x55eb8e,_0x262c0b[_0x4ff607(0x70b)],_0x262c0b[_0x4ff607(0x5d3)]):null,_0x35a805=_0x5d7b00!==null?calculateZScore(_0x5d7b00,_0x386f21['mean'],_0x386f21[_0x4ff607(0x5d3)]):null,_0x581651=_0x17a590!==null?calculateTScore(_0x17a590):null,_0x58107a=_0x35a805!==null?calculateTScore(_0x35a805):null,_0xcee0b7=_0x581651!==null&&_0x58107a!==null?_0x58107a-_0x581651:null;return{'name':_0x588449,'preScore':_0x55eb8e,'postScore':_0x5d7b00,'gain':_0x81f5c8,'preTScore':_0x581651,'postTScore':_0x58107a,'tGain':_0xcee0b7};});renderIndividualComparisonTable(_0xfc12fb,_0x32407d);}catch(_0x2b8eeb){console[_0x5c13db(0x7d6)]('Error\x20comparing\x20results:',_0x2b8eeb),_0x53ec6b[_0x5c13db(0x8a3)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x534419,_0x13d508){const _0x4bc0a3=_0x56afb4,_0x721af1=_0x534419>=_0x13d508/0x2,_0x52569b=_0x721af1?_0x4bc0a3(0x880):'bg-red-100',_0x2a1681=_0x721af1?_0x4bc0a3(0x361):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x4ba2eb=_0x721af1?'text-green-800':_0x4bc0a3(0x445),_0x4bed88=_0x721af1?_0x4bc0a3(0x356):_0x4bc0a3(0x7a1),_0x4a2693=_0x721af1?_0x4bc0a3(0x8ec):_0x4bc0a3(0x744);let _0x1e35e8=_0x4bc0a3(0x62a)+_0x52569b+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a1681+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x4ba2eb+_0x4bc0a3(0x1f1)+_0x4bed88+_0x4bc0a3(0x72c)+_0x4a2693+_0x4bc0a3(0x623);studentResultArea[_0x4bc0a3(0x8a3)]=_0x1e35e8,studentResultArea['classList'][_0x4bc0a3(0x112)](_0x4bc0a3(0x384)),studentQuizArea[_0x4bc0a3(0x92b)][_0x4bc0a3(0x3fa)](_0x4bc0a3(0x384)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x721af1});}function displayPerfectScoreResult(_0x4a942d,_0x1173ad){const _0x2eec0d=_0x56afb4,_0xe95015=_0x4a942d===_0x1173ad,_0x50b3b0=_0xe95015?'bg-yellow-100':'bg-blue-100',_0xaa22bd=_0xe95015?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x2eec0d(0x2fd),_0xe5e61b=_0xe95015?'text-yellow-800':_0x2eec0d(0x2dd),_0x106ab1=_0xe95015?_0x2eec0d(0x668):'ยังไม่เต็มนะ',_0x2d12c1=_0xe95015?'สุดยอด!\x20ตอบถูกทุกข้อ':'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x4ed8cc=_0x2eec0d(0x62a)+_0x50b3b0+_0x2eec0d(0x1ea)+_0xaa22bd+_0x2eec0d(0x4e8)+_0xe5e61b+_0x2eec0d(0x1f1)+_0x106ab1+_0x2eec0d(0x72c)+_0x2d12c1+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x2eec0d(0x8a3)]=_0x4ed8cc,studentResultArea[_0x2eec0d(0x92b)]['remove']('hidden'),studentQuizArea[_0x2eec0d(0x92b)][_0x2eec0d(0x3fa)](_0x2eec0d(0x384)),setupResultScreenBackButton({'showRankings':![],'score':_0x4a942d,'totalQuestions':_0x1173ad});}function renderIndividualComparisonTable(_0x1c1de3,_0x5bfd83){const _0x6d9042=_0x56afb4;_0x1c1de3['sort']((_0x3875ef,_0x23e695)=>(_0x23e695['tGain']??-Infinity)-(_0x3875ef[_0x6d9042(0x31b)]??-Infinity));let _0x667721=_0x6d9042(0x4d8);_0x1c1de3[_0x6d9042(0x261)]===0x0?_0x667721+=_0x6d9042(0x454):_0x1c1de3['forEach']((_0x5a2787,_0x254e5b)=>{const _0x19440a=_0x6d9042;let _0x5c9781='-',_0x464b70='';if(_0x5a2787[_0x19440a(0x567)]!==null){const _0x139e56=_0x5a2787[_0x19440a(0x567)]>0x0?'text-green-600':_0x5a2787[_0x19440a(0x567)]<0x0?_0x19440a(0x281):_0x19440a(0x80f),_0x4415a6=_0x5a2787[_0x19440a(0x567)]>0x0?'+':'';_0x5c9781=_0x19440a(0x5a4)+_0x139e56+'\x22>'+_0x4415a6+_0x5a2787['gain']+_0x19440a(0x72e);if(_0x5a2787['gain']>0x0)_0x464b70=_0x19440a(0x557);else _0x5a2787[_0x19440a(0x567)]<0x0?_0x464b70=_0x19440a(0x424):_0x464b70=_0x19440a(0x791);}let _0x384e3d='-';if(_0x5a2787[_0x19440a(0x31b)]!==null){const _0x2f59e8=_0x5a2787[_0x19440a(0x31b)]>0x0?'text-green-600':_0x5a2787[_0x19440a(0x31b)]<0x0?_0x19440a(0x281):_0x19440a(0x80f),_0x297dea=_0x5a2787['tGain']>0x0?'+':'';_0x384e3d=_0x19440a(0x5a4)+_0x2f59e8+'\x22>'+_0x297dea+_0x5a2787[_0x19440a(0x31b)][_0x19440a(0x6ab)](0x2)+_0x19440a(0x72e);}_0x667721+=_0x19440a(0x742)+(_0x254e5b+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x5a2787[_0x19440a(0x79e)]+_0x19440a(0x1d3)+(_0x5a2787[_0x19440a(0x3e9)]??'-')+_0x19440a(0x769)+(_0x5a2787[_0x19440a(0x8eb)]??'-')+_0x19440a(0x1d3)+_0x5c9781+_0x19440a(0x249)+_0x464b70+_0x19440a(0xd3)+(_0x5a2787[_0x19440a(0x925)]?.[_0x19440a(0x6ab)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x5a2787[_0x19440a(0x8c0)]?.[_0x19440a(0x6ab)](0x2)??'-')+_0x19440a(0x1d3)+_0x384e3d+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x667721+=_0x6d9042(0x61a),_0x5bfd83[_0x6d9042(0x8a3)]=_0x667721;}function handleRenameQuiz(_0x538f3c,_0x47e166){const _0x578f34=_0x56afb4;actionTargetId=_0x538f3c,document[_0x578f34(0x574)](_0x578f34(0x6e8))['value']=_0x47e166,renameQuizModal[_0x578f34(0x92b)]['remove'](_0x578f34(0x384));}function setupComparisonModalTabs(){const _0x1e83f0=_0x56afb4,_0x32fbdb=document[_0x1e83f0(0x574)](_0x1e83f0(0x4c9)),_0x577306=document['getElementById'](_0x1e83f0(0x27a)),_0x39da5a=document['getElementById']('comparison-overall-content'),_0x4995b7=document[_0x1e83f0(0x574)](_0x1e83f0(0x545));_0x32fbdb[_0x1e83f0(0xf2)](_0x1e83f0(0x811),()=>{const _0x3d8dbc=_0x1e83f0;_0x32fbdb[_0x3d8dbc(0x92b)]['add'](_0x3d8dbc(0x3b9)),_0x577306[_0x3d8dbc(0x92b)][_0x3d8dbc(0x112)](_0x3d8dbc(0x3b9)),_0x39da5a['classList']['remove'](_0x3d8dbc(0x384)),_0x4995b7[_0x3d8dbc(0x92b)][_0x3d8dbc(0x3fa)](_0x3d8dbc(0x384));}),_0x577306['addEventListener'](_0x1e83f0(0x811),()=>{const _0x3b087d=_0x1e83f0;_0x577306[_0x3b087d(0x92b)][_0x3b087d(0x3fa)](_0x3b087d(0x3b9)),_0x32fbdb['classList'][_0x3b087d(0x112)](_0x3b087d(0x3b9)),_0x4995b7[_0x3b087d(0x92b)][_0x3b087d(0x112)](_0x3b087d(0x384)),_0x39da5a[_0x3b087d(0x92b)][_0x3b087d(0x3fa)](_0x3b087d(0x384));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x32760d=''){const _0x299fd5=_0x56afb4,_0x2322fd=document[_0x299fd5(0x574)](_0x299fd5(0x49b)),_0x38f2be=_0x32760d[_0x299fd5(0x56f)]()['trim'](),_0x8f81ca=allQuizzesGlobal[_0x299fd5(0x757)](_0x35a5ab=>({..._0x35a5ab,'projectName':allProjects[_0x299fd5(0x1c0)](_0x2ca7cd=>_0x2ca7cd['id']===_0x35a5ab['projectId'])?.['projectName']||_0x35a5ab[_0x299fd5(0x764)]}))['filter'](_0x205ab0=>(_0x205ab0[_0x299fd5(0x111)]||'')[_0x299fd5(0x56f)]()[_0x299fd5(0x7a6)](_0x38f2be)||(_0x205ab0[_0x299fd5(0x1dc)]||'')['toLowerCase']()[_0x299fd5(0x7a6)](_0x38f2be));document[_0x299fd5(0x574)](_0x299fd5(0x438))[_0x299fd5(0x46f)]='('+_0x8f81ca[_0x299fd5(0x261)]+'\x20ชุด)',_0x2322fd[_0x299fd5(0x8a3)]=_0x8f81ca[_0x299fd5(0x261)]?_0x8f81ca[_0x299fd5(0x757)](_0x244962=>_0x299fd5(0x476)+_0x244962['id']+_0x299fd5(0x846)+(_0x244962['topic']||_0x299fd5(0x1d9))+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x244962[_0x299fd5(0x7d5)]?.[_0x299fd5(0x261)]||0x0)+_0x299fd5(0x415)+_0x244962[_0x299fd5(0x1dc)]+_0x299fd5(0x75d))[_0x299fd5(0x919)](''):_0x299fd5(0x416),selectedGlobalQuizId=null,document[_0x299fd5(0x574)](_0x299fd5(0x540))[_0x299fd5(0x4b9)]=!![],_0x2322fd[_0x299fd5(0x706)](_0x299fd5(0x16f))[_0x299fd5(0x293)](_0x428eb0=>{_0x428eb0['addEventListener']('click',()=>{const _0x7f9e6b=_0x1cf4;selectedGlobalQuizId=_0x428eb0[_0x7f9e6b(0xd6)]['id'],_0x2322fd[_0x7f9e6b(0x706)](_0x7f9e6b(0x4d7))[_0x7f9e6b(0x293)](_0x194ad8=>_0x194ad8['classList'][_0x7f9e6b(0x112)](_0x7f9e6b(0x73e),_0x7f9e6b(0x312),_0x7f9e6b(0x292))),_0x428eb0[_0x7f9e6b(0x92b)]['add'](_0x7f9e6b(0x73e),_0x7f9e6b(0x312),_0x7f9e6b(0x292)),document[_0x7f9e6b(0x574)](_0x7f9e6b(0x540))[_0x7f9e6b(0x4b9)]=![];});});}function listenForLiveGameUpdates(){const _0x16e839=_0x56afb4;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x53b37d=doc(db,_0x16e839(0x58f)+appId+_0x16e839(0x362),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x53b37d,_0x142bef=>{const _0x152a34=_0x16e839;if(!_0x142bef[_0x152a34(0x5f0)]()){showMessage(_0x152a34(0x4c5)),showView(currentMode);return;}const _0x9a4588=_0x142bef[_0x152a34(0x58c)]();_0x9a4588['shuffledQuiz']&&(currentQuizData=_0x9a4588[_0x152a34(0x3ee)]);!currentQuizData&&_0x9a4588[_0x152a34(0x8fa)]&&((async()=>{const _0x44c783=_0x152a34;try{const _0x23810b=doc(db,_0x44c783(0x58f)+appId+_0x44c783(0x444),_0x9a4588[_0x44c783(0x8fa)]),_0x5c31eb=await getDoc(_0x23810b);_0x5c31eb[_0x44c783(0x5f0)]()&&(currentQuizData={'id':_0x5c31eb['id'],..._0x5c31eb[_0x44c783(0x58c)]()});}catch(_0x27bdb1){console[_0x44c783(0x7d6)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x27bdb1);}})());switch(_0x9a4588[_0x152a34(0x651)]){case _0x152a34(0x291):if(currentMode===_0x152a34(0x2ac)){const _0x25f2bb=_0x9a4588['players']?Object['entries'](_0x9a4588[_0x152a34(0x752)]):[],_0x7e9a8d=_0x25f2bb[_0x152a34(0x13b)](([_0x16fb12,_0x50e69f])=>_0x50e69f['status']===_0x152a34(0x3b9)),_0x495c6a=document['getElementById'](_0x152a34(0x245));if(_0x495c6a)_0x495c6a[_0x152a34(0x46f)]=_0x7e9a8d[_0x152a34(0x261)];const _0x5430f2=document[_0x152a34(0x574)](_0x152a34(0x143));_0x5430f2&&(_0x5430f2[_0x152a34(0x8a3)]=_0x7e9a8d[_0x152a34(0x757)](([_0x4e4b9e,_0x107994])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4e4b9e+_0x152a34(0x328)+_0x4e4b9e+_0x152a34(0x22c))[_0x152a34(0x919)](''));const _0x15fca1=document[_0x152a34(0x574)](_0x152a34(0x423));_0x15fca1&&(_0x15fca1[_0x152a34(0x4b9)]=_0x7e9a8d[_0x152a34(0x261)]===0x0);}else showView('live-game'),liveGameView[_0x152a34(0x8a3)]=_0x152a34(0x302)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x152a34(0x65f):const _0x3f608a=_0x9a4588['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x152a34(0x7d5)][_0x3f608a]){const _0x291e1f=currentQuizData[_0x152a34(0x7d5)][_0x3f608a],_0x46be40=_0x9a4588[_0x152a34(0x13e)]||_0x152a34(0x793);switch(_0x46be40){case _0x152a34(0x659):currentMode===_0x152a34(0x2ac)?showAdminSummaryView(_0x9a4588,_0x291e1f):showPlayerSummaryView(_0x9a4588,currentStudentName);break;case _0x152a34(0x27c):currentMode===_0x152a34(0x2ac)&&showTop5LeaderboardView(_0x9a4588);break;case _0x152a34(0x793):default:if(currentMode===_0x152a34(0x2ac)){const _0x94f82=writeBatch(db);let _0x43a73a=![];Object[_0x152a34(0x37d)](_0x9a4588['players'])['forEach'](([_0x357729,_0x146cd9])=>{const _0xfd772=_0x152a34;if(_0x146cd9[_0xfd772(0x651)]===_0xfd772(0x3b9)&&_0x146cd9['submittedAt']&&!_0x146cd9['isScored']){_0x43a73a=!![];const _0xb07704=_0x146cd9[_0xfd772(0x314)][_0xfd772(0x734)]()-_0x9a4588[_0xfd772(0x214)][_0xfd772(0x734)]();let _0x2414c3=0x0;if(_0x146cd9[_0xfd772(0x4b4)]){const _0x20c703=0x3e8,_0x563622=0x1f4,_0x302912=0x4e20;let _0x357f88=_0xb07704/_0x302912;if(_0x357f88>0x1)_0x357f88=0x1;const _0x43db8d=Math[_0xfd772(0x446)](_0x357f88*_0x563622);_0x2414c3=_0x20c703-_0x43db8d;}const _0x155703=doc(db,'artifacts/'+appId+_0xfd772(0x362),currentLiveGameId);_0x94f82['update'](_0x155703,{[_0xfd772(0x2ec)+_0x357729+'.score']:increment(_0x2414c3),[_0xfd772(0x2ec)+_0x357729+'.pointsLastQuestion']:_0x2414c3,['players.'+_0x357729+_0xfd772(0x358)]:!![]});}});_0x43a73a&&_0x94f82[_0x152a34(0x508)]()[_0x152a34(0x20c)](_0xd57419=>console[_0x152a34(0x7d6)](_0x152a34(0x1ad),_0xd57419));lastRenderedAdminQuestionIndex!==_0x3f608a&&(showAdminLiveQuestionView(_0x291e1f,_0x3f608a,currentQuizData[_0x152a34(0x7d5)][_0x152a34(0x261)]),lastRenderedAdminQuestionIndex=_0x3f608a);const _0x184f63=_0x9a4588[_0x152a34(0x752)]||{},_0x547253=Object['values'](_0x184f63)[_0x152a34(0x13b)](_0x5ea791=>_0x5ea791['status']===_0x152a34(0x3b9)),_0x40e440=_0x547253[_0x152a34(0x261)],_0x440be2=_0x547253[_0x152a34(0x13b)](_0x4af84c=>_0x4af84c[_0x152a34(0x11d)]===!![])[_0x152a34(0x261)],_0x2d300c=document[_0x152a34(0x574)]('answer-counter');if(_0x2d300c)_0x2d300c[_0x152a34(0x46f)]=_0x440be2+'/'+_0x40e440;const _0x410a45=document[_0x152a34(0x574)](_0x152a34(0x471));if(_0x410a45){let _0x511e34=Object[_0x152a34(0x37d)](_0x184f63)[_0x152a34(0x13b)](([_0x200d7f,_0x43bae8])=>_0x43bae8[_0x152a34(0x651)]===_0x152a34(0x3b9))[_0x152a34(0x757)](([_0xf6d34f,_0x128206])=>{const _0x3f26c2=_0x152a34,_0x47fa2b=_0x128206[_0x3f26c2(0x11d)]===!![],_0x5daa0b=_0x47fa2b?'bg-green-500':_0x3f26c2(0x861),_0xb0d55b=_0x47fa2b?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x3f26c2(0x4a4);return _0x3f26c2(0x788)+_0x5daa0b+_0x3f26c2(0x3d5)+_0xb0d55b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0xf6d34f+_0x3f26c2(0x401)+_0xf6d34f+_0x3f26c2(0x5e3);})[_0x152a34(0x919)]('');_0x410a45['innerHTML']=_0x511e34||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x40e440>0x0&&_0x440be2===_0x40e440&&revealAnswerForAdmin(_0x3f608a,currentQuizData[_0x152a34(0x7d5)]['length']);}else{const _0xfe13a5=_0x9a4588[_0x152a34(0x752)][currentStudentName];_0xfe13a5&&!_0xfe13a5['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x291e1f,_0x3f608a,currentQuizData[_0x152a34(0x7d5)][_0x152a34(0x261)]);}break;}}break;case _0x152a34(0x229):showPodiumView(_0x9a4588[_0x152a34(0x752)]);break;}});}async function handleKickPlayer(_0x28ba4a){const _0x5a3c29=_0x56afb4;if(!currentLiveGameId||!_0x28ba4a)return;const _0x135c3a=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x4c0814={};_0x4c0814[_0x5a3c29(0x2ec)+_0x28ba4a+'.status']=_0x5a3c29(0x1a2);try{await updateDoc(_0x135c3a,_0x4c0814);}catch(_0xf2347d){console[_0x5a3c29(0x7d6)]('Failed\x20to\x20kick\x20player\x20'+_0x28ba4a+':',_0xf2347d),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x43dd98=_0x56afb4;try{typeof __initial_auth_token!==_0x43dd98(0x16b)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x533ad5){console[_0x43dd98(0x7d6)](_0x43dd98(0x382),_0x533ad5),showMessage(_0x43dd98(0x68e));}}function showView(_0x5f5996){const _0x10c294=_0x56afb4,_0x4b7889=['admin-view',_0x10c294(0x61e),_0x10c294(0x8cf),_0x10c294(0x3c8),_0x10c294(0x70d),_0x10c294(0x711),'student-progress-view'];_0x4b7889[_0x10c294(0x293)](_0x5b65d0=>document[_0x10c294(0x574)](_0x5b65d0)?.[_0x10c294(0x92b)][_0x10c294(0x3fa)]('hidden'));if(_0x5f5996==='admin-dashboard')adminView[_0x10c294(0x92b)][_0x10c294(0x112)](_0x10c294(0x384)),projectDashboardView[_0x10c294(0x92b)][_0x10c294(0x112)](_0x10c294(0x384));else{if(_0x5f5996===_0x10c294(0x4ad))studentView[_0x10c294(0x92b)][_0x10c294(0x112)](_0x10c294(0x384)),studentInitialView[_0x10c294(0x92b)][_0x10c294(0x112)](_0x10c294(0x384)),studentNameSelectionView['classList'][_0x10c294(0x3fa)](_0x10c294(0x384)),studentQuizArea[_0x10c294(0x92b)][_0x10c294(0x3fa)](_0x10c294(0x384)),studentResultArea[_0x10c294(0x92b)][_0x10c294(0x3fa)](_0x10c294(0x384)),studentReadingArea['classList'][_0x10c294(0x3fa)](_0x10c294(0x384)),studentJoinGameView['classList'][_0x10c294(0x3fa)]('hidden');else{if(_0x5f5996===_0x10c294(0x319))adminView[_0x10c294(0x92b)][_0x10c294(0x112)](_0x10c294(0x384)),projectDetailView[_0x10c294(0x92b)][_0x10c294(0x112)](_0x10c294(0x384));else{if(_0x5f5996===_0x10c294(0x376))adminView[_0x10c294(0x92b)]['remove'](_0x10c294(0x384)),quizResultsView['classList']['remove'](_0x10c294(0x384));else _0x5f5996===_0x10c294(0x520)&&liveGameView['classList'][_0x10c294(0x112)](_0x10c294(0x384));}}}}function showJoinGameView(){const _0x140961=_0x56afb4;studentInitialView[_0x140961(0x92b)][_0x140961(0x3fa)](_0x140961(0x384)),studentJoinGameView[_0x140961(0x92b)]['remove'](_0x140961(0x384));}function _0x1cf4(_0xede0ad,_0x16b5a6){const _0x25138f=_0x2513();return _0x1cf4=function(_0x1cf41f,_0x1b7b43){_0x1cf41f=_0x1cf41f-0xd0;let _0x4f8b84=_0x25138f[_0x1cf41f];return _0x4f8b84;},_0x1cf4(_0xede0ad,_0x16b5a6);}async function handleSaveVisibilitySettings(){const _0x184686=_0x56afb4;if(!currentProjectId)return;const _0x5ec9e2=doc(db,_0x184686(0x58f)+appId+_0x184686(0x785),currentProjectId);try{await updateDoc(_0x5ec9e2,{'settings.showInStudentDashboard':document[_0x184686(0x574)](_0x184686(0x5a1))[_0x184686(0x5dd)],'settings.isPasscodeEnabled':document[_0x184686(0x574)](_0x184686(0x3cf))[_0x184686(0x5dd)],'settings.passcode':document[_0x184686(0x574)](_0x184686(0x2ab))['value'][_0x184686(0x4b1)]()}),showMessage(_0x184686(0x25b));}catch(_0x319d2e){console[_0x184686(0x7d6)](_0x184686(0x1d4),_0x319d2e),showMessage(_0x184686(0x8b0));}}function setupEventListeners(){const _0x104ff0=_0x56afb4,_0x2bbaef=document['getElementById']('live-game-view');_0x2bbaef[_0x104ff0(0xf2)](_0x104ff0(0x811),_0x3628ab=>{const _0x5c6c02=_0x104ff0,_0x2d8786=_0x3628ab[_0x5c6c02(0x868)]['closest'](_0x5c6c02(0x3ad));document[_0x5c6c02(0x706)]('.live-summary-tooltip.visible')[_0x5c6c02(0x293)](_0x24d79f=>{const _0x1528f4=_0x5c6c02;(!_0x2d8786||_0x24d79f['id']!==_0x2d8786[_0x1528f4(0xd6)][_0x1528f4(0x731)])&&_0x24d79f[_0x1528f4(0x92b)][_0x1528f4(0x112)](_0x1528f4(0x2b9));});if(!_0x2d8786)return;const _0x2a129b=_0x2d8786['dataset'][_0x5c6c02(0x731)],_0x51b206=document[_0x5c6c02(0x574)](_0x2a129b);_0x51b206&&_0x51b206[_0x5c6c02(0x92b)][_0x5c6c02(0x406)](_0x5c6c02(0x2b9));}),_0x2bbaef[_0x104ff0(0xf2)](_0x104ff0(0x811),_0x39273b=>{const _0x27a966=_0x104ff0;if(_0x39273b[_0x27a966(0x868)][_0x27a966(0x92b)][_0x27a966(0x4ea)]('kick-player-btn')){const _0xa7345c=_0x39273b[_0x27a966(0x868)][_0x27a966(0xd6)][_0x27a966(0x324)];_0xa7345c&&handleKickPlayer(_0xa7345c);}}),document[_0x104ff0(0x574)](_0x104ff0(0x171))[_0x104ff0(0xf2)](_0x104ff0(0x326),()=>document[_0x104ff0(0x574)](_0x104ff0(0x18c))['classList']['remove'](_0x104ff0(0x384))),document['getElementById'](_0x104ff0(0x18c))[_0x104ff0(0xf2)](_0x104ff0(0x811),handleSaveProjectName),document[_0x104ff0(0x574)](_0x104ff0(0x171))[_0x104ff0(0xf2)]('keydown',_0x4d48c7=>{const _0x3c6a4c=_0x104ff0;_0x4d48c7[_0x3c6a4c(0x8f4)]===_0x3c6a4c(0x860)&&(_0x4d48c7[_0x3c6a4c(0x872)](),_0x4d48c7['target']['blur'](),handleSaveProjectName());}),document[_0x104ff0(0x574)](_0x104ff0(0x620))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x2c4a72=_0x104ff0;document[_0x2c4a72(0x574)]('bulk-quiz-settings-modal')[_0x2c4a72(0x92b)][_0x2c4a72(0x112)]('hidden');}),document[_0x104ff0(0x574)](_0x104ff0(0x57a))['addEventListener'](_0x104ff0(0x811),()=>{const _0x2c49b0=_0x104ff0;document[_0x2c49b0(0x574)]('bulk-quiz-settings-modal')[_0x2c49b0(0x92b)][_0x2c49b0(0x3fa)](_0x2c49b0(0x384));}),document['getElementById'](_0x104ff0(0x64e))[_0x104ff0(0xf2)]('click',handleBulkUpdateQuizSettings),document[_0x104ff0(0x574)](_0x104ff0(0x33c))[_0x104ff0(0xf2)](_0x104ff0(0x811),handleModeSwitch),document['getElementById'](_0x104ff0(0x81b))[_0x104ff0(0xf2)]('click',handleUpdateOldQuizzes),document[_0x104ff0(0x574)](_0x104ff0(0x853))[_0x104ff0(0xf2)](_0x104ff0(0x811),handleResetProjectOrder),document[_0x104ff0(0x574)](_0x104ff0(0x1a8))[_0x104ff0(0xf2)]('click',handleSaveVisibilitySettings),document[_0x104ff0(0x574)]('add-custom-math-topic-btn')[_0x104ff0(0xf2)](_0x104ff0(0x811),handleAddCustomMathTopic),document[_0x104ff0(0x574)](_0x104ff0(0x8c7))[_0x104ff0(0xf2)](_0x104ff0(0x811),handleSelectAllTopics),document[_0x104ff0(0x574)](_0x104ff0(0x898))['addEventListener']('click',handleDeselectAllTopics),document[_0x104ff0(0x574)](_0x104ff0(0x2aa))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x5b159d=_0x104ff0;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x5b159d(0x92d));}),document[_0x104ff0(0x574)](_0x104ff0(0x2ca))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x4e9363=_0x104ff0;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x4e9363(0x319));}),document['getElementById']('back-to-dashboard-from-results-btn')[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x185178=_0x104ff0;showView(_0x185178(0x92d));}),document[_0x104ff0(0x574)]('modal-close-btn')[_0x104ff0(0xf2)]('click',()=>{const _0x1af265=_0x104ff0;messageModal[_0x1af265(0x92b)]['add'](_0x1af265(0x384)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x104ff0(0x574)](_0x104ff0(0x8da))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>createProjectModal[_0x104ff0(0x92b)][_0x104ff0(0x112)]('hidden')),document[_0x104ff0(0x574)](_0x104ff0(0x40a))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>createProjectModal[_0x104ff0(0x92b)][_0x104ff0(0x3fa)](_0x104ff0(0x384))),document[_0x104ff0(0x574)](_0x104ff0(0x8b9))[_0x104ff0(0xf2)]('click',()=>adminPasswordModal[_0x104ff0(0x92b)][_0x104ff0(0x3fa)](_0x104ff0(0x384))),document[_0x104ff0(0x574)](_0x104ff0(0x8cc))[_0x104ff0(0xf2)](_0x104ff0(0x811),handleAdminLogin),document['getElementById']('admin-password-input')[_0x104ff0(0xf2)]('keyup',_0x34dcb6=>{const _0x2639fe=_0x104ff0;if(_0x34dcb6[_0x2639fe(0x8f4)]===_0x2639fe(0x860))handleAdminLogin();}),document[_0x104ff0(0x574)](_0x104ff0(0x3bf))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{confirmationModal['classList']['add']('hidden'),confirmAction=null;}),document[_0x104ff0(0x574)]('confirm-delete-btn')['addEventListener'](_0x104ff0(0x811),()=>{const _0x50c4fc=_0x104ff0;confirmAction&&confirmAction(),confirmationModal['classList'][_0x50c4fc(0x3fa)](_0x50c4fc(0x384)),confirmAction=null;}),document[_0x104ff0(0x574)]('cancel-rename-quiz-btn')[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>renameQuizModal['classList']['add'](_0x104ff0(0x384))),document[_0x104ff0(0x574)]('confirm-rename-quiz-btn')[_0x104ff0(0xf2)](_0x104ff0(0x811),confirmRenameQuiz),document[_0x104ff0(0x574)](_0x104ff0(0x333))['addEventListener']('click',()=>moveQuizModal[_0x104ff0(0x92b)][_0x104ff0(0x3fa)](_0x104ff0(0x384))),document[_0x104ff0(0x574)](_0x104ff0(0x313))['addEventListener'](_0x104ff0(0x811),confirmMoveQuiz),document[_0x104ff0(0x574)](_0x104ff0(0x422))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>quizSettingsModal['classList'][_0x104ff0(0x3fa)](_0x104ff0(0x384))),document[_0x104ff0(0x574)](_0x104ff0(0x676))[_0x104ff0(0xf2)]('click',confirmQuizSettings),document[_0x104ff0(0x574)](_0x104ff0(0x20b))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>quizStatusModal['classList'][_0x104ff0(0x3fa)](_0x104ff0(0x384))),document['getElementById'](_0x104ff0(0x137))[_0x104ff0(0xf2)](_0x104ff0(0x811),confirmQuizStatus);const _0x4be82d=document[_0x104ff0(0x574)](_0x104ff0(0x15d));document[_0x104ff0(0x574)](_0x104ff0(0xe5))[_0x104ff0(0xf2)]('click',()=>{const _0x5df694=_0x104ff0;_0x4be82d[_0x5df694(0x92b)][_0x5df694(0x3fa)](_0x5df694(0x384));}),document[_0x104ff0(0x574)]('export-compact-pdf-btn')['addEventListener'](_0x104ff0(0x811),async()=>{const _0x4dd7fd=_0x104ff0,_0x3c0937=allQuizzes[_0x4dd7fd(0x1c0)](_0x24ba67=>_0x24ba67['id']===actionTargetId);_0x3c0937?(currentQuizData=_0x3c0937,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x4be82d['classList']['add']('hidden');}),document[_0x104ff0(0x574)](_0x104ff0(0x44d))[_0x104ff0(0xf2)]('click',async()=>{const _0x2df45a=_0x104ff0,_0x2253b9=allQuizzes['find'](_0x142c3b=>_0x142c3b['id']===actionTargetId);_0x2253b9?(currentQuizData=_0x2253b9,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x4be82d[_0x2df45a(0x92b)][_0x2df45a(0x3fa)]('hidden');}),document[_0x104ff0(0x574)](_0x104ff0(0x1e6))[_0x104ff0(0xf2)](_0x104ff0(0x811),openGlobalLiveModal),document[_0x104ff0(0x574)](_0x104ff0(0x8c1))['addEventListener'](_0x104ff0(0x811),()=>{const _0x50ed0a=_0x104ff0;document[_0x50ed0a(0x574)](_0x50ed0a(0x8a5))[_0x50ed0a(0x92b)][_0x50ed0a(0x3fa)](_0x50ed0a(0x384)),selectedGlobalQuizId=null;}),document[_0x104ff0(0x574)]('global-quiz-search-input')[_0x104ff0(0xf2)](_0x104ff0(0x4ab),_0x49ac19=>renderGlobalQuizList(_0x49ac19['target']['value'])),document[_0x104ff0(0x574)](_0x104ff0(0x540))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x235254=_0x104ff0,_0x320e38=selectedGlobalQuizId;if(!_0x320e38)return;document['getElementById'](_0x235254(0x8a5))[_0x235254(0x92b)][_0x235254(0x3fa)](_0x235254(0x384)),handleStartLiveRace(_0x320e38);}),document['getElementById'](_0x104ff0(0x38f))[_0x104ff0(0xf2)]('input',renderProjects),document['getElementById'](_0x104ff0(0x696))['addEventListener'](_0x104ff0(0x589),async()=>{const _0x429d7a=_0x104ff0,_0x54ad26=document[_0x429d7a(0x574)](_0x429d7a(0x696))[_0x429d7a(0x54e)],_0x24c6e4=doc(db,_0x429d7a(0x694),_0x429d7a(0x606));try{await setDoc(_0x24c6e4,{'projectSort':_0x54ad26},{'merge':!![]});}catch(_0x55f038){console[_0x429d7a(0x7d6)](_0x429d7a(0xef),_0x55f038),showMessage(_0x429d7a(0x73f));}}),document[_0x104ff0(0x574)](_0x104ff0(0x87b))[_0x104ff0(0xf2)]('input',renderQuizzes),document[_0x104ff0(0x574)](_0x104ff0(0x57b))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x407f3e=_0x104ff0;globalDashboardSettings['projectView']=_0x407f3e(0x641),saveUserPreference('projectView',_0x407f3e(0x641)),renderProjects();}),document[_0x104ff0(0x574)](_0x104ff0(0x6a2))[_0x104ff0(0xf2)]('click',()=>{const _0x2595c9=_0x104ff0;globalDashboardSettings[_0x2595c9(0x516)]=_0x2595c9(0x69c),saveUserPreference(_0x2595c9(0x516),_0x2595c9(0x69c)),renderProjects();}),manageTab[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>switchProjectTab('manage')),resultsTab['addEventListener'](_0x104ff0(0x811),()=>switchProjectTab(_0x104ff0(0x581))),leaderboardTab[_0x104ff0(0xf2)]('click',()=>switchProjectTab(_0x104ff0(0x27c))),document['getElementById']('analytics-tab-btn')['addEventListener'](_0x104ff0(0x811),()=>switchQuizDetailTab('analytics')),document[_0x104ff0(0x574)]('scores-tab-btn')[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>switchQuizDetailTab(_0x104ff0(0x2d7))),document['getElementById'](_0x104ff0(0x191))['addEventListener'](_0x104ff0(0x811),()=>switchQuizDetailTab(_0x104ff0(0x552))),document['getElementById']('behavior-log-tab-btn')[_0x104ff0(0xf2)]('click',()=>switchQuizDetailTab(_0x104ff0(0x8e7))),document[_0x104ff0(0x574)](_0x104ff0(0x1cc))['addEventListener'](_0x104ff0(0x811),handleAnalyzeClass),generateWorksheetBtn[_0x104ff0(0xf2)]('click',generateWorksheet);const _0x5ef08f=document[_0x104ff0(0x574)](_0x104ff0(0x87d)),_0x407280=document[_0x104ff0(0x574)](_0x104ff0(0x6d1)),_0xbaaf2b=document[_0x104ff0(0x574)](_0x104ff0(0x3b0)),_0x481dc9=document['getElementById'](_0x104ff0(0x8a9)),_0xf4ec0b=document[_0x104ff0(0x574)]('parallel-test-tab'),_0x37b3b2=document[_0x104ff0(0x574)]('parallel-test-input-area');topicTab[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x242fc3=_0x104ff0;topicTab['classList'][_0x242fc3(0x3fa)]('active'),textTab['classList'][_0x242fc3(0x112)](_0x242fc3(0x3b9)),fileTab[_0x242fc3(0x92b)][_0x242fc3(0x112)]('active'),worksheetTab[_0x242fc3(0x92b)]['remove'](_0x242fc3(0x3b9));if(_0x5ef08f)_0x5ef08f[_0x242fc3(0x92b)][_0x242fc3(0x112)](_0x242fc3(0x3b9));if(_0xbaaf2b)_0xbaaf2b[_0x242fc3(0x92b)][_0x242fc3(0x112)](_0x242fc3(0x3b9));if(_0xf4ec0b)_0xf4ec0b['classList']['remove'](_0x242fc3(0x3b9));topicInputArea[_0x242fc3(0x92b)][_0x242fc3(0x112)](_0x242fc3(0x384)),textInputArea[_0x242fc3(0x92b)][_0x242fc3(0x3fa)](_0x242fc3(0x384)),fileInputArea[_0x242fc3(0x92b)]['add'](_0x242fc3(0x384)),worksheetInputArea[_0x242fc3(0x92b)][_0x242fc3(0x3fa)](_0x242fc3(0x384));if(_0x407280)_0x407280['classList']['add'](_0x242fc3(0x384));if(_0x481dc9)_0x481dc9[_0x242fc3(0x92b)][_0x242fc3(0x3fa)](_0x242fc3(0x384));if(_0x37b3b2)_0x37b3b2[_0x242fc3(0x92b)][_0x242fc3(0x3fa)]('hidden');}),textTab['addEventListener'](_0x104ff0(0x811),()=>{const _0x6272d1=_0x104ff0;textTab['classList']['add'](_0x6272d1(0x3b9)),topicTab['classList'][_0x6272d1(0x112)]('active'),fileTab[_0x6272d1(0x92b)]['remove'](_0x6272d1(0x3b9)),worksheetTab[_0x6272d1(0x92b)][_0x6272d1(0x112)]('active');if(_0x5ef08f)_0x5ef08f['classList']['remove'](_0x6272d1(0x3b9));if(_0xbaaf2b)_0xbaaf2b[_0x6272d1(0x92b)][_0x6272d1(0x112)](_0x6272d1(0x3b9));if(_0xf4ec0b)_0xf4ec0b['classList']['remove'](_0x6272d1(0x3b9));textInputArea[_0x6272d1(0x92b)]['remove']('hidden'),topicInputArea[_0x6272d1(0x92b)][_0x6272d1(0x3fa)]('hidden'),fileInputArea[_0x6272d1(0x92b)][_0x6272d1(0x3fa)](_0x6272d1(0x384)),worksheetInputArea[_0x6272d1(0x92b)][_0x6272d1(0x3fa)]('hidden');if(_0x407280)_0x407280['classList'][_0x6272d1(0x3fa)]('hidden');if(_0x481dc9)_0x481dc9['classList']['add'](_0x6272d1(0x384));if(_0x37b3b2)_0x37b3b2[_0x6272d1(0x92b)][_0x6272d1(0x3fa)](_0x6272d1(0x384));}),fileTab[_0x104ff0(0xf2)]('click',()=>{const _0x1a2daa=_0x104ff0;fileTab[_0x1a2daa(0x92b)][_0x1a2daa(0x3fa)](_0x1a2daa(0x3b9)),topicTab[_0x1a2daa(0x92b)][_0x1a2daa(0x112)](_0x1a2daa(0x3b9)),textTab[_0x1a2daa(0x92b)]['remove'](_0x1a2daa(0x3b9)),worksheetTab['classList'][_0x1a2daa(0x112)](_0x1a2daa(0x3b9));if(_0x5ef08f)_0x5ef08f[_0x1a2daa(0x92b)][_0x1a2daa(0x112)](_0x1a2daa(0x3b9));if(_0xbaaf2b)_0xbaaf2b[_0x1a2daa(0x92b)][_0x1a2daa(0x112)](_0x1a2daa(0x3b9));if(_0xf4ec0b)_0xf4ec0b['classList']['remove']('active');fileInputArea[_0x1a2daa(0x92b)][_0x1a2daa(0x112)](_0x1a2daa(0x384)),topicInputArea['classList'][_0x1a2daa(0x3fa)]('hidden'),textInputArea[_0x1a2daa(0x92b)][_0x1a2daa(0x3fa)](_0x1a2daa(0x384)),worksheetInputArea[_0x1a2daa(0x92b)][_0x1a2daa(0x3fa)](_0x1a2daa(0x384));if(_0x407280)_0x407280['classList'][_0x1a2daa(0x3fa)](_0x1a2daa(0x384));if(_0x481dc9)_0x481dc9['classList'][_0x1a2daa(0x3fa)](_0x1a2daa(0x384));if(_0x37b3b2)_0x37b3b2[_0x1a2daa(0x92b)][_0x1a2daa(0x3fa)](_0x1a2daa(0x384));}),worksheetTab['addEventListener'](_0x104ff0(0x811),()=>{const _0x19e1b4=_0x104ff0;worksheetTab[_0x19e1b4(0x92b)][_0x19e1b4(0x3fa)](_0x19e1b4(0x3b9)),topicTab['classList'][_0x19e1b4(0x112)](_0x19e1b4(0x3b9)),textTab[_0x19e1b4(0x92b)][_0x19e1b4(0x112)](_0x19e1b4(0x3b9)),fileTab[_0x19e1b4(0x92b)][_0x19e1b4(0x112)](_0x19e1b4(0x3b9));if(_0x5ef08f)_0x5ef08f[_0x19e1b4(0x92b)][_0x19e1b4(0x112)](_0x19e1b4(0x3b9));if(_0xbaaf2b)_0xbaaf2b[_0x19e1b4(0x92b)][_0x19e1b4(0x112)](_0x19e1b4(0x3b9));if(_0xf4ec0b)_0xf4ec0b[_0x19e1b4(0x92b)][_0x19e1b4(0x112)](_0x19e1b4(0x3b9));worksheetInputArea[_0x19e1b4(0x92b)]['remove'](_0x19e1b4(0x384)),topicInputArea[_0x19e1b4(0x92b)][_0x19e1b4(0x3fa)](_0x19e1b4(0x384)),textInputArea[_0x19e1b4(0x92b)][_0x19e1b4(0x3fa)]('hidden'),fileInputArea[_0x19e1b4(0x92b)][_0x19e1b4(0x3fa)](_0x19e1b4(0x384));if(_0x407280)_0x407280[_0x19e1b4(0x92b)][_0x19e1b4(0x3fa)]('hidden');if(_0x481dc9)_0x481dc9[_0x19e1b4(0x92b)]['add'](_0x19e1b4(0x384));if(_0x37b3b2)_0x37b3b2[_0x19e1b4(0x92b)][_0x19e1b4(0x3fa)](_0x19e1b4(0x384));});const _0x2775e8=document['getElementById'](_0x104ff0(0x8a4)),_0x2c6064=document[_0x104ff0(0x574)]('bank-input-area');_0x2775e8&&_0x2775e8[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x729eb9=_0x104ff0;topicTab['classList'][_0x729eb9(0x112)](_0x729eb9(0x3b9)),textTab[_0x729eb9(0x92b)][_0x729eb9(0x112)]('active'),fileTab['classList']['remove'](_0x729eb9(0x3b9)),worksheetTab[_0x729eb9(0x92b)][_0x729eb9(0x112)](_0x729eb9(0x3b9));if(_0x5ef08f)_0x5ef08f[_0x729eb9(0x92b)][_0x729eb9(0x112)](_0x729eb9(0x3b9));if(_0xbaaf2b)_0xbaaf2b[_0x729eb9(0x92b)]['remove'](_0x729eb9(0x3b9));if(_0xf4ec0b)_0xf4ec0b[_0x729eb9(0x92b)][_0x729eb9(0x112)]('active');_0x2775e8['classList'][_0x729eb9(0x3fa)](_0x729eb9(0x3b9)),topicInputArea[_0x729eb9(0x92b)][_0x729eb9(0x3fa)]('hidden'),textInputArea['classList'][_0x729eb9(0x3fa)](_0x729eb9(0x384)),fileInputArea['classList'][_0x729eb9(0x3fa)](_0x729eb9(0x384)),worksheetInputArea[_0x729eb9(0x92b)]['add']('hidden');if(_0x407280)_0x407280[_0x729eb9(0x92b)]['add'](_0x729eb9(0x384));if(_0x481dc9)_0x481dc9['classList'][_0x729eb9(0x3fa)](_0x729eb9(0x384));if(_0x37b3b2)_0x37b3b2[_0x729eb9(0x92b)][_0x729eb9(0x3fa)]('hidden');_0x2c6064[_0x729eb9(0x92b)]['remove'](_0x729eb9(0x384)),displayQuestionBank();});_0x5ef08f&&(_0x5ef08f[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x8c6296=_0x104ff0;_0x5ef08f[_0x8c6296(0x92b)][_0x8c6296(0x3fa)](_0x8c6296(0x3b9)),topicTab['classList'][_0x8c6296(0x112)](_0x8c6296(0x3b9)),textTab['classList'][_0x8c6296(0x112)]('active'),fileTab[_0x8c6296(0x92b)]['remove'](_0x8c6296(0x3b9)),worksheetTab[_0x8c6296(0x92b)]['remove'](_0x8c6296(0x3b9));if(_0xbaaf2b)_0xbaaf2b['classList']['remove'](_0x8c6296(0x3b9));if(_0xf4ec0b)_0xf4ec0b['classList']['remove']('active');_0x407280[_0x8c6296(0x92b)]['remove'](_0x8c6296(0x384)),topicInputArea[_0x8c6296(0x92b)][_0x8c6296(0x3fa)](_0x8c6296(0x384)),textInputArea[_0x8c6296(0x92b)][_0x8c6296(0x3fa)](_0x8c6296(0x384)),fileInputArea[_0x8c6296(0x92b)][_0x8c6296(0x3fa)](_0x8c6296(0x384)),worksheetInputArea['classList'][_0x8c6296(0x3fa)](_0x8c6296(0x384));if(_0x481dc9)_0x481dc9['classList'][_0x8c6296(0x3fa)](_0x8c6296(0x384));if(_0x37b3b2)_0x37b3b2['classList'][_0x8c6296(0x3fa)]('hidden');}),document[_0x104ff0(0x574)](_0x104ff0(0x301))[_0x104ff0(0xf2)](_0x104ff0(0x811),handleGenerateFromLink));_0xbaaf2b&&_0xbaaf2b[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x15a038=_0x104ff0;_0xbaaf2b[_0x15a038(0x92b)][_0x15a038(0x3fa)](_0x15a038(0x3b9)),topicTab[_0x15a038(0x92b)][_0x15a038(0x112)](_0x15a038(0x3b9)),textTab[_0x15a038(0x92b)][_0x15a038(0x112)](_0x15a038(0x3b9)),fileTab[_0x15a038(0x92b)][_0x15a038(0x112)](_0x15a038(0x3b9)),worksheetTab[_0x15a038(0x92b)][_0x15a038(0x112)]('active');if(_0x5ef08f)_0x5ef08f['classList'][_0x15a038(0x112)]('active');if(_0x2775e8)_0x2775e8['classList'][_0x15a038(0x112)](_0x15a038(0x3b9));if(_0xf4ec0b)_0xf4ec0b['classList'][_0x15a038(0x112)](_0x15a038(0x3b9));_0x481dc9[_0x15a038(0x92b)][_0x15a038(0x112)](_0x15a038(0x384)),topicInputArea[_0x15a038(0x92b)][_0x15a038(0x3fa)]('hidden'),textInputArea[_0x15a038(0x92b)][_0x15a038(0x3fa)]('hidden'),fileInputArea[_0x15a038(0x92b)][_0x15a038(0x3fa)](_0x15a038(0x384)),worksheetInputArea['classList']['add']('hidden');if(_0x407280)_0x407280[_0x15a038(0x92b)][_0x15a038(0x3fa)](_0x15a038(0x384));if(_0x2c6064)_0x2c6064[_0x15a038(0x92b)]['add'](_0x15a038(0x384));if(_0x37b3b2)_0x37b3b2['classList'][_0x15a038(0x3fa)](_0x15a038(0x384));});_0xf4ec0b&&_0xf4ec0b[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x1a40a1=_0x104ff0;_0xf4ec0b['classList'][_0x1a40a1(0x3fa)](_0x1a40a1(0x3b9)),topicTab[_0x1a40a1(0x92b)][_0x1a40a1(0x112)](_0x1a40a1(0x3b9)),textTab['classList'][_0x1a40a1(0x112)](_0x1a40a1(0x3b9)),fileTab['classList'][_0x1a40a1(0x112)]('active'),worksheetTab[_0x1a40a1(0x92b)]['remove'](_0x1a40a1(0x3b9));if(_0x5ef08f)_0x5ef08f[_0x1a40a1(0x92b)][_0x1a40a1(0x112)](_0x1a40a1(0x3b9));if(_0xbaaf2b)_0xbaaf2b[_0x1a40a1(0x92b)][_0x1a40a1(0x112)](_0x1a40a1(0x3b9));if(_0x2775e8)_0x2775e8[_0x1a40a1(0x92b)][_0x1a40a1(0x112)](_0x1a40a1(0x3b9));_0x37b3b2[_0x1a40a1(0x92b)]['remove']('hidden'),topicInputArea[_0x1a40a1(0x92b)][_0x1a40a1(0x3fa)](_0x1a40a1(0x384)),textInputArea[_0x1a40a1(0x92b)][_0x1a40a1(0x3fa)]('hidden'),fileInputArea[_0x1a40a1(0x92b)][_0x1a40a1(0x3fa)]('hidden'),worksheetInputArea['classList'][_0x1a40a1(0x3fa)](_0x1a40a1(0x384));if(_0x407280)_0x407280[_0x1a40a1(0x92b)][_0x1a40a1(0x3fa)]('hidden');if(_0x481dc9)_0x481dc9[_0x1a40a1(0x92b)][_0x1a40a1(0x3fa)](_0x1a40a1(0x384));if(_0x2c6064)_0x2c6064[_0x1a40a1(0x92b)][_0x1a40a1(0x3fa)](_0x1a40a1(0x384));});const _0x11dac2=document[_0x104ff0(0x574)]('blueprint-upload-input'),_0x9847cb=document[_0x104ff0(0x574)](_0x104ff0(0x888));_0x11dac2&&_0x11dac2['addEventListener'](_0x104ff0(0x589),_0x28cec5=>{const _0x82b900=_0x104ff0;_0x28cec5[_0x82b900(0x868)][_0x82b900(0x239)][_0x82b900(0x261)]>0x0?_0x9847cb[_0x82b900(0x4b9)]=![]:_0x9847cb[_0x82b900(0x4b9)]=!![];});_0x9847cb&&_0x9847cb[_0x104ff0(0xf2)](_0x104ff0(0x811),handleGenerateFromBlueprint);const _0x58e0a0=document[_0x104ff0(0x574)]('parallel-test-upload-input'),_0x5b2f35=document[_0x104ff0(0x574)](_0x104ff0(0xd7));_0x58e0a0&&_0x58e0a0[_0x104ff0(0xf2)]('change',_0x15e46d=>{const _0x586b84=_0x104ff0;_0x5b2f35[_0x586b84(0x4b9)]=_0x15e46d['target'][_0x586b84(0x239)][_0x586b84(0x261)]===0x0;});_0x5b2f35&&_0x5b2f35['addEventListener'](_0x104ff0(0x811),handleGenerateParallelTest);loadQuizBtn[_0x104ff0(0xf2)](_0x104ff0(0x811),handleLoadQuiz),startQuizBtn[_0x104ff0(0xf2)]('click',async()=>{const _0x2af0a1=_0x104ff0,_0x4c7ed9=document[_0x2af0a1(0x574)]('student-name-select');currentStudentName=_0x4c7ed9[_0x2af0a1(0x54e)];if(!currentStudentName){showMessage(_0x2af0a1(0x2eb));return;}try{const _0x3572b7=currentQuizData['id'],_0x4b6e10=doc(db,_0x2af0a1(0x58f)+appId+_0x2af0a1(0x381)+_0x3572b7+_0x2af0a1(0x16a),currentStudentName);await setDoc(_0x4b6e10,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x5dbcfa){console['error'](_0x2af0a1(0x342),_0x5dbcfa),showMessage(_0x2af0a1(0x543));return;}studentNameSelectionView[_0x2af0a1(0x92b)][_0x2af0a1(0x3fa)](_0x2af0a1(0x384)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x104ff0(0xf8))['addEventListener']('click',showJoinGameView),document[_0x104ff0(0x574)](_0x104ff0(0x4e9))[_0x104ff0(0xf2)](_0x104ff0(0x811),handleJoinLiveGame),document[_0x104ff0(0x574)]('back-to-student-initial-btn')[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>showView(_0x104ff0(0x4ad)));const _0x2c760e=()=>{const _0x53cc30=_0x104ff0,_0xe8a66b=document['getElementById'](_0x53cc30(0x29d))['textContent'][_0x53cc30(0x840)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x53cc30(0x5a8)+(_0xe8a66b||_0x53cc30(0x83d));},_0x43f76c=document[_0x104ff0(0x574)]('math-topic-search-input');_0x43f76c&&_0x43f76c[_0x104ff0(0xf2)](_0x104ff0(0x4ab),_0x5d36cd=>{const _0x4b64da=_0x104ff0,_0x433e21=_0x5d36cd['target'][_0x4b64da(0x54e)][_0x4b64da(0x56f)]()[_0x4b64da(0x4b1)](),_0x4ca47e=document[_0x4b64da(0x574)](_0x4b64da(0x908)),_0x598000=_0x4ca47e[_0x4b64da(0x706)](_0x4b64da(0x14b));_0x598000[_0x4b64da(0x293)](_0x9138dd=>{const _0x5b73da=_0x4b64da;let _0xe8f89a=![];const _0x2b766d=_0x9138dd[_0x5b73da(0x706)](_0x5b73da(0x4cc));_0x2b766d['forEach'](_0x333648=>{const _0x16a269=_0x5b73da,_0x2d5e41=_0x333648[_0x16a269(0x351)]('.topic-name-display')[_0x16a269(0x46f)][_0x16a269(0x56f)]();_0x2d5e41[_0x16a269(0x7a6)](_0x433e21)?(_0x333648[_0x16a269(0x610)][_0x16a269(0x8b3)]='flex',_0xe8f89a=!![]):_0x333648['style']['display']=_0x16a269(0x372);}),_0xe8f89a?_0x9138dd[_0x5b73da(0x610)][_0x5b73da(0x8b3)]=_0x5b73da(0xeb):_0x9138dd['style'][_0x5b73da(0x8b3)]='none';});});document[_0x104ff0(0x574)]('export-image-btn')[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>exportTableAsImage('results-table-container',_0x2c760e())),document[_0x104ff0(0x574)](_0x104ff0(0x700))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>exportTableAsPDF(_0x104ff0(0x101),_0x2c760e())),document[_0x104ff0(0x574)](_0x104ff0(0x369))[_0x104ff0(0xf2)]('click',()=>exportTableAsWord(_0x104ff0(0x707),_0x2c760e())),document[_0x104ff0(0x574)](_0x104ff0(0x549))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>exportTableAsExcel(_0x104ff0(0x101),_0x2c760e()));const _0x41ef84=()=>{const _0x42df8f=_0x104ff0,_0x5d4295=document[_0x42df8f(0x574)](_0x42df8f(0x29d))['textContent'][_0x42df8f(0x840)](/[^a-z0-9]/gi,'_')[_0x42df8f(0x56f)]();return _0x42df8f(0xf5)+(_0x5d4295||_0x42df8f(0x83d));};document[_0x104ff0(0x574)](_0x104ff0(0x248))[_0x104ff0(0xf2)]('click',()=>exportTableAsImage(_0x104ff0(0x176),_0x41ef84())),document[_0x104ff0(0x574)](_0x104ff0(0x1de))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>exportTableAsPDF('quiz-leaderboard-table',_0x41ef84())),document['getElementById'](_0x104ff0(0x80b))['addEventListener'](_0x104ff0(0x811),()=>exportTableAsWord(_0x104ff0(0x176),_0x41ef84())),document['getElementById'](_0x104ff0(0x8ac))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>exportTableAsExcel(_0x104ff0(0x3ec),_0x41ef84())),projectQuizzesList['addEventListener'](_0x104ff0(0x811),async _0x2ad7ac=>{const _0x3dedaa=_0x104ff0,_0x3544b6=_0x2ad7ac[_0x3dedaa(0x868)]['closest'](_0x3dedaa(0x723)),_0x1c2a0c=_0x2ad7ac[_0x3dedaa(0x868)][_0x3dedaa(0x213)](_0x3dedaa(0x47f)),_0x16ee90=_0x2ad7ac['target'][_0x3dedaa(0x213)](_0x3dedaa(0x3ea)),_0x56b1ff=_0x2ad7ac[_0x3dedaa(0x868)][_0x3dedaa(0x213)](_0x3dedaa(0x4c6)),_0x110c25=_0x2ad7ac[_0x3dedaa(0x868)][_0x3dedaa(0x213)](_0x3dedaa(0x7a8)),_0x2fca9a=_0x2ad7ac[_0x3dedaa(0x868)]['closest'](_0x3dedaa(0x637)),_0x520a51=_0x2ad7ac['target'][_0x3dedaa(0x213)](_0x3dedaa(0x3be)),_0x309e58=_0x2ad7ac[_0x3dedaa(0x868)][_0x3dedaa(0x213)](_0x3dedaa(0x436)),_0x5b7b0f=_0x2ad7ac[_0x3dedaa(0x868)][_0x3dedaa(0x213)](_0x3dedaa(0x7ab)),_0x4a06f0=_0x2ad7ac[_0x3dedaa(0x868)]['closest']('.rename-quiz-btn'),_0x11ef86=_0x2ad7ac[_0x3dedaa(0x868)][_0x3dedaa(0x213)](_0x3dedaa(0x29b)),_0x5d6067=_0x2ad7ac['target']['closest'](_0x3dedaa(0x175)),_0x567724=_0x2ad7ac[_0x3dedaa(0x868)][_0x3dedaa(0x213)](_0x3dedaa(0x56b)),_0x4f6680=_0x2ad7ac[_0x3dedaa(0x868)][_0x3dedaa(0x213)](_0x3dedaa(0x3a0)),_0x144d40=_0x2ad7ac[_0x3dedaa(0x868)][_0x3dedaa(0x213)](_0x3dedaa(0x665)),_0x4f92ca=_0x2ad7ac['target']['closest'](_0x3dedaa(0x43f)),_0x19e5af=_0x2ad7ac[_0x3dedaa(0x868)][_0x3dedaa(0x213)]('.start-live-race-btn'),_0x1f688d=_0x2ad7ac[_0x3dedaa(0x868)]['closest'](_0x3dedaa(0x544)),_0x920581=_0x2ad7ac[_0x3dedaa(0x868)]['closest'](_0x3dedaa(0x68f)),_0x4a29c4=_0x2ad7ac[_0x3dedaa(0x868)][_0x3dedaa(0x213)](_0x3dedaa(0x437)),_0x4c9295=_0x2ad7ac['target'][_0x3dedaa(0x213)](_0x3dedaa(0x4d0)),_0x50056d=_0x2ad7ac[_0x3dedaa(0x868)][_0x3dedaa(0x213)](_0x3dedaa(0x7c6));if(_0x4c9295){const _0x470e73=_0x4c9295[_0x3dedaa(0xd6)][_0x3dedaa(0x8fa)],_0x45e72d=document[_0x3dedaa(0x574)](_0x3dedaa(0x1b6)+_0x470e73);_0x45e72d&&_0x45e72d[_0x3dedaa(0x92b)][_0x3dedaa(0x406)](_0x3dedaa(0x384));}else{if(_0x1c2a0c){const _0x301101=_0x1c2a0c[_0x3dedaa(0xd6)]['quizId'],_0x25fdad=allQuizzes['find'](_0x1b5d78=>_0x1b5d78['id']===_0x301101);_0x25fdad&&handleGenerateParallelPostTest(_0x25fdad);}else{if(_0x16ee90)handleCompareResults(_0x16ee90[_0x3dedaa(0xd6)][_0x3dedaa(0x8fa)],_0x16ee90[_0x3dedaa(0xd6)][_0x3dedaa(0x570)]);else{if(_0x56b1ff){const _0x414d09=_0x56b1ff[_0x3dedaa(0xd6)][_0x3dedaa(0x8fa)],_0x447994=allQuizzes[_0x3dedaa(0x1c0)](_0x1cea0a=>_0x1cea0a['id']===_0x414d09);_0x447994&&_0x447994['lessonPlan']?(displayLessonPlan(_0x447994[_0x3dedaa(0x379)],_0x447994),showConfirmation(_0x3dedaa(0x2c7),()=>handleGenerateLessonPlan(_0x414d09)),document['getElementById']('confirmation-modal')[_0x3dedaa(0x351)]('h3')[_0x3dedaa(0x46f)]=_0x3dedaa(0x365),document[_0x3dedaa(0x574)]('confirm-delete-btn')['textContent']=_0x3dedaa(0x74f)):handleGenerateLessonPlan(_0x414d09);}else{if(_0x110c25)handleToggleStarQuiz(_0x110c25['dataset'][_0x3dedaa(0x8fa)]);else{if(_0x2fca9a)copyTextToClipboard(_0x2fca9a[_0x3dedaa(0xd6)][_0x3dedaa(0x8fa)],_0x3dedaa(0x4bf));else{if(_0x520a51)handleOpenQuizEditor(_0x520a51[_0x3dedaa(0xd6)][_0x3dedaa(0x8fa)]);else{if(_0x309e58)handleQuizSettings(_0x309e58['dataset'][_0x3dedaa(0x8fa)]);else{if(_0x5b7b0f)handleDuplicateQuiz(_0x5b7b0f[_0x3dedaa(0xd6)][_0x3dedaa(0x8fa)]);else{if(_0x4a06f0)handleRenameQuiz(_0x4a06f0[_0x3dedaa(0xd6)][_0x3dedaa(0x8fa)],_0x4a06f0['dataset']['topic']);else{if(_0x11ef86){const _0x57163b=_0x11ef86[_0x3dedaa(0xd6)]['quizId'],_0x802ef7=allQuizzes[_0x3dedaa(0x1c0)](_0x38c380=>_0x38c380['id']===_0x57163b);_0x802ef7&&handleGenerateParallelFromBank(_0x802ef7);}else{if(_0x5d6067)handleMoveQuiz(_0x5d6067['dataset']['quizId']);else{if(_0x567724)handleManualQuizPairing(_0x567724['dataset'][_0x3dedaa(0x8fa)]);else{if(_0x4f6680)handleUnpairQuiz(_0x4f6680[_0x3dedaa(0xd6)]['quizId']);else{if(_0x144d40){const _0x1bfe97=_0x144d40[_0x3dedaa(0xd6)]['quizId'],_0x4dfe0c=allQuizzes['find'](_0x4b6230=>_0x4b6230['id']===_0x1bfe97);if(_0x4dfe0c)startPresentation(_0x4dfe0c);}else{if(_0x4f92ca){const _0x11fe36=_0x4f92ca['dataset'][_0x3dedaa(0x8fa)],_0x53fd1a=allQuizzes[_0x3dedaa(0x1c0)](_0x2201bd=>_0x2201bd['id']===_0x11fe36);_0x53fd1a&&(currentQuizData=_0x53fd1a,startAdminTest());}else{if(_0x19e5af)handleStartLiveRace(_0x19e5af[_0x3dedaa(0xd6)][_0x3dedaa(0x8fa)]);else{if(_0x1f688d)actionTargetId=_0x1f688d['dataset']['quizId'],document[_0x3dedaa(0x574)](_0x3dedaa(0x15d))[_0x3dedaa(0x92b)]['remove'](_0x3dedaa(0x384));else{if(_0x920581)showConfirmation(_0x3dedaa(0x48b)+_0x920581[_0x3dedaa(0xd6)][_0x3dedaa(0x111)]+_0x3dedaa(0x5d1),()=>handleDeleteQuiz(_0x920581[_0x3dedaa(0xd6)][_0x3dedaa(0x8fa)]));else{if(_0x4a29c4)handleQuizStatus(_0x4a29c4[_0x3dedaa(0xd6)][_0x3dedaa(0x8fa)]);else{if(_0x50056d)handleGenerateEasyVersionQuiz(_0x50056d[_0x3dedaa(0xd6)]['quizId']);else _0x3544b6&&showQuizDetailView(_0x3544b6[_0x3dedaa(0xd6)][_0x3dedaa(0x8fa)]);}}}}}}}}}}}}}}}}}}}}}),document[_0x104ff0(0x574)](_0x104ff0(0x3ec))[_0x104ff0(0x351)](_0x104ff0(0x8aa))[_0x104ff0(0xf2)](_0x104ff0(0x811),_0x1dff37=>{const _0x307b8b=_0x104ff0,_0x30d42e=_0x1dff37[_0x307b8b(0x868)]['closest']('.sortable-header');if(!_0x30d42e||!_0x30d42e[_0x307b8b(0xd6)][_0x307b8b(0x82b)])return;const _0x305c9a=_0x30d42e[_0x307b8b(0xd6)]['sort'];if(quizLeaderboardSortBy===_0x305c9a)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x307b8b(0x7e2):_0x307b8b(0x2d9);else{quizLeaderboardSortBy=_0x305c9a;const _0x139063=[_0x307b8b(0x460)];quizLeaderboardSortOrder=_0x139063[_0x307b8b(0x7a6)](_0x305c9a)?_0x307b8b(0x2d9):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document['getElementById'](_0x104ff0(0x2db))['addEventListener']('click',closePresentation),document[_0x104ff0(0x574)](_0x104ff0(0x8bb))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x104ff0(0x574)]('next-question-btn')[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x27d9bc=_0x104ff0;currentQuizData[_0x27d9bc(0x7d5)]&&currentPresentationSlide<currentQuizData[_0x27d9bc(0x7d5)][_0x27d9bc(0x261)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x104ff0(0xf2)](_0x104ff0(0x26e),()=>{const _0x41c110=_0x104ff0;!document[_0x41c110(0x1a0)]&&(presentationModal[_0x41c110(0x610)][_0x41c110(0x8b3)]='none');}),document[_0x104ff0(0x574)]('delete-all-students-btn')['addEventListener'](_0x104ff0(0x811),handleDeleteAllStudents),studentList[_0x104ff0(0xf2)]('click',_0x31a943=>{const _0x3df246=_0x104ff0,_0x7ecaa1=_0x31a943[_0x3df246(0x868)]['closest'](_0x3df246(0x614));if(_0x7ecaa1){const _0x536900=_0x7ecaa1[_0x3df246(0xd6)][_0x3df246(0x460)];handleDeleteStudent(_0x536900);}}),document[_0x104ff0(0x574)](_0x104ff0(0x20a))[_0x104ff0(0xf2)](_0x104ff0(0x811),handleGenerateFromFileClick),fileUploadInput[_0x104ff0(0xf2)](_0x104ff0(0x589),_0x1be159=>{const _0x2fd3ca=_0x104ff0,_0xa536df=_0x1be159[_0x2fd3ca(0x868)][_0x2fd3ca(0x239)][0x0],_0x2afa48=document[_0x2fd3ca(0x574)](_0x2fd3ca(0x20a));_0xa536df?(selectedFile=_0xa536df,_0x2afa48[_0x2fd3ca(0x4b9)]=![]):(selectedFile=null,_0x2afa48[_0x2fd3ca(0x4b9)]=!![]);}),document[_0x104ff0(0x574)](_0x104ff0(0x41d))[_0x104ff0(0xf2)](_0x104ff0(0x589),_0x287295=>{const _0x2f81b3=_0x104ff0,_0x368ec9=document[_0x2f81b3(0x574)](_0x2f81b3(0x915)),_0x420648=document['getElementById']('timer-duration-label'),_0x2e238a=document['getElementById']('timer-duration-input');_0x287295[_0x2f81b3(0x868)]['value']===_0x2f81b3(0x372)?_0x368ec9[_0x2f81b3(0x92b)]['add'](_0x2f81b3(0x384)):(_0x368ec9['classList'][_0x2f81b3(0x112)](_0x2f81b3(0x384)),_0x287295[_0x2f81b3(0x868)][_0x2f81b3(0x54e)]==='whole_quiz'?(_0x420648[_0x2f81b3(0x46f)]=_0x2f81b3(0x15a),_0x2e238a[_0x2f81b3(0x54e)]='10'):(_0x420648[_0x2f81b3(0x46f)]=_0x2f81b3(0x1b4),_0x2e238a[_0x2f81b3(0x54e)]='30'));}),document[_0x104ff0(0x574)](_0x104ff0(0x4b5))['addEventListener'](_0x104ff0(0x589),_0x5bb85b=>{const _0x4aed3e=_0x104ff0,_0x2f6f90=document[_0x4aed3e(0x574)](_0x4aed3e(0x15f)),_0x4c882c=_0x5bb85b[_0x4aed3e(0x868)][_0x4aed3e(0x54e)],_0x3bd605=document['querySelector'](_0x4aed3e(0x8af)),_0x1d686a=document['getElementById']('passing-score-input'),_0x34c6c1=document[_0x4aed3e(0x574)](_0x4aed3e(0x1ac));_0x4c882c===_0x4aed3e(0x1cd)?_0x3bd605[_0x4aed3e(0x46f)]=_0x4aed3e(0x3c3):_0x3bd605['textContent']='จำนวนข้อ:',_0x4c882c===_0x4aed3e(0x899)||_0x4c882c==='fill_in_with_choices'||_0x4c882c==='mixed'?_0x2f6f90[_0x4aed3e(0x92b)][_0x4aed3e(0x112)]('hidden'):_0x2f6f90[_0x4aed3e(0x92b)][_0x4aed3e(0x3fa)](_0x4aed3e(0x384)),_0x1d686a[_0x4aed3e(0x5cc)]=_0x34c6c1[_0x4aed3e(0x54e)];}),document['getElementById'](_0x104ff0(0x1ac))[_0x104ff0(0xf2)](_0x104ff0(0x4ab),_0x52dfbd=>{const _0x3a335b=_0x104ff0;document[_0x3a335b(0x574)](_0x3a335b(0x37a))['max']=_0x52dfbd[_0x3a335b(0x868)]['value'];}),document[_0x104ff0(0x574)]('modal-timer-mode-select')['addEventListener'](_0x104ff0(0x589),_0x3e28e9=>{const _0x4a1e99=_0x104ff0,_0x531933=document[_0x4a1e99(0x574)](_0x4a1e99(0x2ad)),_0x7f69ce=document['getElementById']('modal-timer-duration-label'),_0x11d376=document['getElementById']('modal-timer-duration-input');_0x3e28e9[_0x4a1e99(0x868)][_0x4a1e99(0x54e)]===_0x4a1e99(0x372)?_0x531933[_0x4a1e99(0x92b)][_0x4a1e99(0x3fa)](_0x4a1e99(0x384)):(_0x531933[_0x4a1e99(0x92b)][_0x4a1e99(0x112)](_0x4a1e99(0x384)),_0x3e28e9[_0x4a1e99(0x868)][_0x4a1e99(0x54e)]===_0x4a1e99(0x497)?_0x7f69ce[_0x4a1e99(0x46f)]='ระยะเวลา\x20(นาที):':_0x7f69ce[_0x4a1e99(0x46f)]='ระยะเวลา\x20(วินาที):');}),document['getElementById'](_0x104ff0(0x219))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x165f85=_0x104ff0;document[_0x165f85(0x574)](_0x165f85(0x41a))['classList'][_0x165f85(0x3fa)](_0x165f85(0x384));}),document['getElementById']('cancel-quiz-edits-btn-footer')[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x14708d=_0x104ff0;document[_0x14708d(0x574)]('quiz-editor-modal')[_0x14708d(0x92b)][_0x14708d(0x3fa)](_0x14708d(0x384));}),document[_0x104ff0(0x574)](_0x104ff0(0x32a))[_0x104ff0(0xf2)](_0x104ff0(0x811),handleVerifyAnswersInEditor),document[_0x104ff0(0x574)](_0x104ff0(0x32b))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x3e9ad7=_0x104ff0;document[_0x3e9ad7(0x574)]('quiz-editor-modal')[_0x3e9ad7(0x92b)]['add'](_0x3e9ad7(0x384)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x104ff0(0x574)](_0x104ff0(0x2b5))['addEventListener'](_0x104ff0(0x811),handleAutoFixLatex);const _0x48ec57=document[_0x104ff0(0x574)](_0x104ff0(0x498));_0x48ec57&&_0x48ec57[_0x104ff0(0xf2)](_0x104ff0(0x811),_0x492f9f=>{const _0xb5822e=_0x104ff0,_0x586121=_0x492f9f[_0xb5822e(0x868)][_0xb5822e(0x213)]('.regenerate-question-editor-btn'),_0x5c3210=_0x492f9f[_0xb5822e(0x868)][_0xb5822e(0x213)](_0xb5822e(0x144));if(_0x586121){const _0xe132c2=_0x586121[_0xb5822e(0x213)]('.question-editor-item'),_0x218b19=parseInt(_0xe132c2[_0xb5822e(0xd6)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x218b19);}else{if(_0x5c3210){const _0x38be36=_0x5c3210[_0xb5822e(0x213)](_0xb5822e(0x131)),_0x411e0e=parseInt(_0x38be36[_0xb5822e(0xd6)]['qIndex'],0xa);handleAiFixFormula(_0x411e0e);}}});document[_0x104ff0(0x574)]('open-quiz-bank-btn')[_0x104ff0(0xf2)](_0x104ff0(0x811),openQuizBankModal),document[_0x104ff0(0x574)](_0x104ff0(0x201))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x2a22d8=_0x104ff0;document['getElementById'](_0x2a22d8(0x3cb))[_0x2a22d8(0x92b)]['add'](_0x2a22d8(0x384));}),document[_0x104ff0(0x574)](_0x104ff0(0x183))[_0x104ff0(0xf2)](_0x104ff0(0x4ab),_0x595fd2=>renderQuizBankList(_0x595fd2[_0x104ff0(0x868)][_0x104ff0(0x54e)]));const _0x174a50=document[_0x104ff0(0x574)](_0x104ff0(0x908));if(_0x174a50){let _0x480422=null;_0x174a50[_0x104ff0(0xf2)]('click',_0x5545fa=>{const _0x25c7c0=_0x104ff0,_0x1a8b06=_0x5545fa[_0x25c7c0(0x868)],_0x5d9644=_0x1a8b06['closest'](_0x25c7c0(0x615)),_0x25fcb4=_0x1a8b06[_0x25c7c0(0x213)](_0x25c7c0(0x587)),_0x482994=_0x1a8b06['closest']('.save-custom-topic-btn'),_0x3e47eb=_0x1a8b06[_0x25c7c0(0x213)](_0x25c7c0(0x28d));if(_0x25fcb4){_0x5545fa[_0x25c7c0(0x872)]();const _0x30b581=_0x25fcb4[_0x25c7c0(0xd6)]['id'],_0x4c514b=_0x25fcb4[_0x25c7c0(0x213)](_0x25c7c0(0x247))[_0x25c7c0(0x351)](_0x25c7c0(0x51b))['textContent'];showConfirmation(_0x25c7c0(0x8ea)+_0x4c514b+'\x22?',()=>handleDeleteCustomTopic(_0x30b581));}else{if(_0x5d9644){_0x5545fa[_0x25c7c0(0x872)]();_0x480422&&toggleTopicEditMode(_0x480422,![]);const _0x1ff27c=_0x5d9644[_0x25c7c0(0x213)]('[data-topic-container-id]');_0x480422=_0x1ff27c,toggleTopicEditMode(_0x1ff27c,!![]);}else{if(_0x482994){_0x5545fa[_0x25c7c0(0x872)]();const _0x2ed6a0=_0x482994['dataset']['id'],_0xd2026e=_0x482994[_0x25c7c0(0x213)](_0x25c7c0(0x308)),_0xb2ffb9=_0xd2026e[_0x25c7c0(0x351)]('.topic-name-input')[_0x25c7c0(0x54e)];handleUpdateCustomTopic(_0x2ed6a0,_0xb2ffb9),_0x480422=null;}else{if(_0x3e47eb){_0x5545fa[_0x25c7c0(0x872)]();const _0x49b371=_0x3e47eb[_0x25c7c0(0x213)](_0x25c7c0(0x308));toggleTopicEditMode(_0x49b371,![]),_0x480422=null;}}}}}),document['getElementById']('close-lesson-plan-modal-btn')[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x518ba1=_0x104ff0;document[_0x518ba1(0x574)](_0x518ba1(0x644))[_0x518ba1(0x92b)]['add'](_0x518ba1(0x384));}),document[_0x104ff0(0x574)](_0x104ff0(0x4d3))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x16e11d=_0x104ff0;document[_0x16e11d(0x574)](_0x16e11d(0x644))[_0x16e11d(0x92b)][_0x16e11d(0x3fa)](_0x16e11d(0x384));}),document[_0x104ff0(0x574)]('export-lesson-pdf-btn')[_0x104ff0(0xf2)](_0x104ff0(0x811),handleExportLessonPDF);}document['getElementById'](_0x104ff0(0x8ab))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0x389204=_0x104ff0;document['getElementById'](_0x389204(0x494))[_0x389204(0x92b)][_0x389204(0x3fa)](_0x389204(0x384));}),document[_0x104ff0(0x574)](_0x104ff0(0x343))[_0x104ff0(0xf2)](_0x104ff0(0x811),()=>{const _0xb04e07=_0x104ff0;document[_0xb04e07(0x574)](_0xb04e07(0x494))[_0xb04e07(0x92b)][_0xb04e07(0x3fa)]('hidden');}),setupComparisonModalTabs(),document['body'][_0x104ff0(0xf2)](_0x104ff0(0x811),function(_0x128b89){const _0x1ef9fb=_0x104ff0;if(_0x128b89[_0x1ef9fb(0x868)][_0x1ef9fb(0x92b)][_0x1ef9fb(0x4ea)](_0x1ef9fb(0x336))){const _0x519dc6=unescape(_0x128b89[_0x1ef9fb(0x868)]['dataset']['topic']);startSkillPractice(_0x519dc6);}}),document[_0x104ff0(0x574)](_0x104ff0(0x699))[_0x104ff0(0xf2)]('click',_0x67beaf=>{const _0x21efd5=_0x104ff0,_0x2b9fd8=_0x67beaf[_0x21efd5(0x868)]['closest']('.delete-submission-btn');if(_0x2b9fd8){const _0x541998=_0x2b9fd8['dataset'][_0x21efd5(0x460)];handleDeleteSubmission(_0x541998);}});}async function showStudentProgressView(){const _0x32ef2e=_0x56afb4;studentInitialView[_0x32ef2e(0x92b)][_0x32ef2e(0x3fa)](_0x32ef2e(0x384)),document[_0x32ef2e(0x574)](_0x32ef2e(0x310))[_0x32ef2e(0x92b)][_0x32ef2e(0x112)](_0x32ef2e(0x384));const _0x2a8402=document[_0x32ef2e(0x574)](_0x32ef2e(0x4c1)),_0x5294db=document[_0x32ef2e(0x574)](_0x32ef2e(0x4d5)),_0x495f26=document[_0x32ef2e(0x574)](_0x32ef2e(0x300));_0x495f26[_0x32ef2e(0x8a3)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x5294db['innerHTML']=_0x32ef2e(0x54f),_0x5294db[_0x32ef2e(0x4b9)]=!![],_0x2a8402['innerHTML']=_0x32ef2e(0xea);if(allProjects[_0x32ef2e(0x261)]===0x0){const _0xae2493=collection(db,_0x32ef2e(0x58f)+appId+_0x32ef2e(0x785)),_0x2ec79e=await getDocs(_0xae2493);allProjects=_0x2ec79e[_0x32ef2e(0x3e0)]['map'](_0x2c9757=>({'id':_0x2c9757['id'],..._0x2c9757[_0x32ef2e(0x58c)]()}));}const _0x46f03a=allProjects[_0x32ef2e(0x13b)](_0x49f57d=>_0x49f57d[_0x32ef2e(0x59e)]?.[_0x32ef2e(0x5d5)]!==![]);_0x46f03a['sort']((_0x5223eb,_0x44c6a0)=>_0x5223eb[_0x32ef2e(0x1dc)]['localeCompare'](_0x44c6a0[_0x32ef2e(0x1dc)],'th')),_0x2a8402[_0x32ef2e(0x8a3)]=_0x32ef2e(0x7a0)+_0x46f03a[_0x32ef2e(0x757)](_0x2625dc=>_0x32ef2e(0x45c)+_0x2625dc['id']+'\x22>'+_0x2625dc[_0x32ef2e(0x1dc)]+_0x32ef2e(0x3a3))[_0x32ef2e(0x919)](''),_0x2a8402[_0x32ef2e(0x492)]=()=>{const _0x51065b=_0x32ef2e,_0x594882=_0x5294db[_0x51065b(0x54e)],_0x514296=_0x2a8402[_0x51065b(0x54e)];_0x5294db[_0x51065b(0x4b9)]=!![],_0x5294db[_0x51065b(0x8a3)]=_0x51065b(0x54f),_0x495f26[_0x51065b(0x8a3)]=_0x51065b(0x701);if(!_0x514296)return;const _0xf448c0=allProjects[_0x51065b(0x1c0)](_0x2f259d=>_0x2f259d['id']===_0x514296);if(!_0xf448c0||!_0xf448c0[_0x51065b(0x3b2)])return;const _0x325e93=()=>{const _0x34b142=_0x51065b;_0x5294db[_0x34b142(0x8a3)]=_0x34b142(0x54f)+_0xf448c0['students'][_0x34b142(0x757)](_0x4fd635=>_0x34b142(0x45c)+_0x4fd635+'\x22>'+_0x4fd635+_0x34b142(0x3a3))[_0x34b142(0x919)](''),_0x5294db[_0x34b142(0x4b9)]=![];const _0x453b79=Array['from'](_0x5294db[_0x34b142(0x721)])['map'](_0x5cad0c=>_0x5cad0c[_0x34b142(0x54e)]);if(_0x594882&&_0x453b79[_0x34b142(0x7a6)](_0x594882))_0x5294db[_0x34b142(0x54e)]=_0x594882,_0x5294db[_0x34b142(0x5a7)](new Event('change'));else _0xf448c0[_0x34b142(0x3b2)][_0x34b142(0x261)]===0x1&&(_0x5294db['value']=_0xf448c0[_0x34b142(0x3b2)][0x0],_0x5294db[_0x34b142(0x5a7)](new Event(_0x34b142(0x589))));};if(_0xf448c0[_0x51065b(0x59e)]?.[_0x51065b(0x2f3)]){if(sessionStorage['getItem'](_0x51065b(0x258)+_0x514296)===_0x51065b(0x3ff)){_0x325e93();return;}const _0x2a3c32=document['getElementById'](_0x51065b(0x3b5)),_0x1e206a=document[_0x51065b(0x574)](_0x51065b(0x21d)),_0x245cca=document['getElementById'](_0x51065b(0x8ef)),_0x53f7a7=document[_0x51065b(0x574)](_0x51065b(0x348)),_0x4cfbd8=document[_0x51065b(0x574)](_0x51065b(0x1b3));document[_0x51065b(0x574)](_0x51065b(0x794))[_0x51065b(0x46f)]=_0x51065b(0x29c)+_0xf448c0[_0x51065b(0x1dc)],_0x53f7a7['value']='',_0x4cfbd8[_0x51065b(0x92b)]['add'](_0x51065b(0x384)),_0x2a3c32['classList'][_0x51065b(0x112)](_0x51065b(0x384));const _0x50e3c8=()=>{const _0x4ca8b6=_0x51065b,_0x109ede=_0x53f7a7[_0x4ca8b6(0x54e)][_0x4ca8b6(0x4b1)]();_0x109ede===_0xf448c0[_0x4ca8b6(0x59e)][_0x4ca8b6(0x7f5)]?(sessionStorage[_0x4ca8b6(0x4ac)]('authed_project_'+_0x514296,_0x4ca8b6(0x3ff)),_0x2a3c32['classList']['add'](_0x4ca8b6(0x384)),_0x325e93(),_0x1e206a[_0x4ca8b6(0xd5)](_0x4ca8b6(0x811),_0x50e3c8)):_0x4cfbd8[_0x4ca8b6(0x92b)][_0x4ca8b6(0x112)](_0x4ca8b6(0x384));};_0x1e206a[_0x51065b(0x809)]=_0x50e3c8,_0x245cca[_0x51065b(0x809)]=()=>{const _0x52e0ca=_0x51065b;_0x2a3c32[_0x52e0ca(0x92b)]['add']('hidden'),_0x2a8402[_0x52e0ca(0x54e)]='',_0x1e206a[_0x52e0ca(0xd5)]('click',_0x50e3c8);};}else _0x325e93();},_0x5294db['onchange']=()=>{const _0x84fb62=_0x32ef2e,_0x2bc44f=_0x2a8402[_0x84fb62(0x54e)],_0x1881c9=_0x5294db[_0x84fb62(0x54e)];_0x2bc44f&&_0x1881c9&&renderStudentProgressDashboard(_0x2bc44f,_0x1881c9);};}async function renderStudentProgressDashboard(_0x2b0f27,_0x26a64a){const _0x3c442d=_0x56afb4,_0x2dc247=document[_0x3c442d(0x574)]('student-progress-content');_0x2dc247[_0x3c442d(0x8a3)]=_0x3c442d(0x912);try{const _0x5a704d=collection(db,_0x3c442d(0x58f)+appId+_0x3c442d(0x444)),_0x47e125=query(_0x5a704d,where(_0x3c442d(0x764),'==',_0x2b0f27)),_0x203487=await getDocs(_0x47e125),_0x4b0429=_0x203487[_0x3c442d(0x3e0)][_0x3c442d(0x757)](_0x216619=>({'id':_0x216619['id'],..._0x216619[_0x3c442d(0x58c)]()})),_0x5699ed=_0x4b0429[_0x3c442d(0x757)](_0xf38087=>getDoc(doc(db,_0x3c442d(0x58f)+appId+'/public/data/quizzes/'+_0xf38087['id']+_0x3c442d(0x16a),_0x26a64a))),_0x4e26c8=await Promise['all'](_0x5699ed),_0x5bf8d8=_0x4e26c8['filter'](_0x5dc0c3=>_0x5dc0c3['exists']())['map'](_0x242ab8=>({'quizId':_0x242ab8['ref'][_0x3c442d(0x23a)][_0x3c442d(0x23a)]['id'],..._0x242ab8['data']()}));if(_0x5bf8d8['length']===0x0){_0x2dc247['innerHTML']=_0x3c442d(0x74d);return;}let _0x2711ae=_0x3c442d(0x2b4);_0x5bf8d8[_0x3c442d(0x293)](_0x39673e=>{const _0x514b7f=_0x3c442d,_0xde2c2c=_0x4b0429['find'](_0x18b3e1=>_0x18b3e1['id']===_0x39673e[_0x514b7f(0x8fa)]),_0x1e88d6=_0xde2c2c[_0x514b7f(0x59e)]?.[_0x514b7f(0x36c)]||_0x514b7f(0x110),_0x311a6d=_0xde2c2c[_0x514b7f(0x59e)]?.['passingScore']??0x0,_0x3c86a7=_0x39673e[_0x514b7f(0x223)]>=_0x311a6d;let _0x30fdf5='',_0x2e2e24=_0x514b7f(0x624);switch(_0x1e88d6){case'show_results_and_answers':case _0x514b7f(0x786):_0x2e2e24=_0x3c86a7?'bg-green-50':_0x514b7f(0x148),_0x30fdf5=_0x514b7f(0x7f9)+(_0x3c86a7?'text-green-700':_0x514b7f(0x222))+'\x22>'+_0x39673e[_0x514b7f(0x223)]+_0x514b7f(0x77d)+_0x39673e[_0x514b7f(0x6a6)]+_0x514b7f(0x922)+(_0x3c86a7?_0x514b7f(0x8c9):_0x514b7f(0x81d))+'\x22>'+(_0x3c86a7?_0x514b7f(0x6c0):'ไม่ผ่าน')+_0x514b7f(0x196);break;case'show_pass_fail_only':_0x2e2e24=_0x3c86a7?'bg-green-50':'bg-red-50',_0x30fdf5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x3c86a7?_0x514b7f(0x8c9):_0x514b7f(0x81d))+'\x22>'+(_0x3c86a7?'ผ่าน':_0x514b7f(0x7b3))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'manual_release':_0x2e2e24='bg-yellow-50',_0x30fdf5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x2711ae+=_0x514b7f(0x33a)+_0x2e2e24+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0xde2c2c[_0x514b7f(0x111)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x39673e[_0x514b7f(0x4bd)][_0x514b7f(0x261)]+_0x514b7f(0x34f)+new Date(_0x39673e['latestSubmittedAt'])[_0x514b7f(0x240)](_0x514b7f(0x443))+_0x514b7f(0x4e5)+_0x30fdf5+_0x514b7f(0x505);}),_0x2711ae+=_0x3c442d(0x24f),_0x2dc247[_0x3c442d(0x8a3)]=_0x2711ae;}catch(_0x2f2e8c){console[_0x3c442d(0x7d6)]('Error\x20rendering\x20student\x20progress:',_0x2f2e8c),_0x2dc247['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function setupStudentProgressListeners(){const _0x4c2992=_0x56afb4;document[_0x4c2992(0x574)](_0x4c2992(0x58a))[_0x4c2992(0xf2)](_0x4c2992(0x811),showStudentProgressView),document[_0x4c2992(0x574)]('back-to-student-home-btn')[_0x4c2992(0xf2)]('click',()=>{const _0x5a9cc5=_0x4c2992;document[_0x5a9cc5(0x574)]('student-progress-view')[_0x5a9cc5(0x92b)][_0x5a9cc5(0x3fa)](_0x5a9cc5(0x384)),document[_0x5a9cc5(0x574)]('student-initial-view')[_0x5a9cc5(0x92b)][_0x5a9cc5(0x112)](_0x5a9cc5(0x384));});}async function startSkillPractice(_0x50196f){const _0x4c589f=_0x56afb4;studentResultArea['classList'][_0x4c589f(0x3fa)](_0x4c589f(0x384)),studentQuizArea[_0x4c589f(0x8a3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x4c589f(0x92b)][_0x4c589f(0x112)](_0x4c589f(0x384));try{const _0x3abc1a=await getStandardizedTopic(_0x50196f);console[_0x4c589f(0x854)]('คำถามดิบ:\x20\x22'+_0x50196f+_0x4c589f(0x906)+_0x3abc1a+'\x22'),studentQuizArea['querySelector']('p')[_0x4c589f(0x46f)]=_0x4c589f(0x743)+_0x3abc1a+_0x4c589f(0x79b);const _0x14e2ee=collection(db,_0x4c589f(0x58f)+appId+_0x4c589f(0x2f4)),_0x251dee=query(_0x14e2ee,where('topic','==',_0x3abc1a)),_0x9c5292=await getDocs(_0x251dee);if(_0x9c5292['docs'][_0x4c589f(0x261)]>=0x3){console[_0x4c589f(0x854)](_0x4c589f(0x88f)+_0x9c5292[_0x4c589f(0x3e0)][_0x4c589f(0x261)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x3abc1a+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x358f6e=_0x9c5292[_0x4c589f(0x3e0)][_0x4c589f(0x757)](_0x49cd66=>_0x49cd66[_0x4c589f(0x58c)]());shuffleArray(_0x358f6e);const _0x2617c7={'topic':_0x3abc1a,'questions':_0x358f6e[_0x4c589f(0x671)](0x0,0x3)};displaySkillPracticeDrill(_0x2617c7);}else{console[_0x4c589f(0x854)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x3abc1a+_0x4c589f(0x67a));const _0x4457eb=await generatePracticeQuestions(_0x3abc1a);await saveDrillToPracticeBank(_0x4457eb,_0x3abc1a),displaySkillPracticeDrill(_0x4457eb);}}catch(_0x25d3ef){console[_0x4c589f(0x7d6)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x25d3ef),showMessage(_0x4c589f(0x473)),studentQuizArea[_0x4c589f(0x92b)][_0x4c589f(0x3fa)]('hidden'),studentResultArea[_0x4c589f(0x92b)][_0x4c589f(0x112)]('hidden');}}async function saveDrillToPracticeBank(_0x380d54,_0x4466a5){const _0x4e0c12=_0x56afb4,_0x4f602e=collection(db,_0x4e0c12(0x58f)+appId+_0x4e0c12(0x2f4)),_0x32f8b9=writeBatch(db);_0x380d54['questions'][_0x4e0c12(0x293)](_0x3206de=>{const _0x5d13e3=_0x4e0c12,_0x436e05=doc(_0x4f602e);_0x32f8b9[_0x5d13e3(0x1f4)](_0x436e05,{'topic':_0x4466a5,'questionText':_0x3206de['questionText'],'options':_0x3206de[_0x5d13e3(0x721)],'correctAnswerIndex':_0x3206de[_0x5d13e3(0x800)],'explanation':_0x3206de[_0x5d13e3(0x461)],'createdAt':serverTimestamp()});});try{await _0x32f8b9[_0x4e0c12(0x508)](),console['log'](_0x4e0c12(0x2ee)+_0x380d54['questions'][_0x4e0c12(0x261)]+_0x4e0c12(0x621));}catch(_0x2a3035){console['error'](_0x4e0c12(0x36b),_0x2a3035);}}async function getStandardizedTopic(_0x50bbe6){const _0x4f55ce=_0x56afb4,_0xe5de95=_0x4f55ce(0x5e6)+_0x50bbe6+_0x4f55ce(0xf9),_0x17541={'type':_0x4f55ce(0x8b5),'properties':{'standardTopic':{'type':_0x4f55ce(0x7d1)}},'required':[_0x4f55ce(0x556)]};try{const _0x471d3c=await callAnalysisApi(_0xe5de95,_0x17541);return _0x471d3c[_0x4f55ce(0x556)];}catch(_0x4a84f9){return console['error'](_0x4f55ce(0x11b),_0x4a84f9),_0x50bbe6;}}async function handleGenerateEasyVersionQuiz(_0x1deee3){const _0x872ee9=_0x56afb4;showConfirmation(_0x872ee9(0x6cb),async()=>{const _0x1cb0a9=_0x872ee9;showMessage(_0x1cb0a9(0x373));try{const _0x75985f=allQuizzes[_0x1cb0a9(0x1c0)](_0x168043=>_0x168043['id']===_0x1deee3);if(!_0x75985f)throw new Error(_0x1cb0a9(0x3f5));const _0x362711='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x1cb0a9(0x224)](_0x75985f[_0x1cb0a9(0x7d5)])+_0x1cb0a9(0x7e0),_0x42e886={'type':_0x1cb0a9(0x8b5),'properties':{'questionText':{'type':_0x1cb0a9(0x7d1)},'questionType':{'type':_0x1cb0a9(0x7d1)},'options':{'type':'ARRAY','items':{'type':_0x1cb0a9(0x7d1)}},'correctAnswerIndex':{'type':_0x1cb0a9(0x795)},'idealAnswer':{'type':_0x1cb0a9(0x7d1)},'explanation':{'type':_0x1cb0a9(0x7d1)},'imageCode':{'type':_0x1cb0a9(0x7d1)}},'required':[_0x1cb0a9(0x53e),_0x1cb0a9(0x4b8),_0x1cb0a9(0x461)]},_0x57aa48={'type':_0x1cb0a9(0x8b5),'properties':{'questions':{'type':'ARRAY','items':_0x42e886}},'required':['questions']},_0xba4962=await callAnalysisApi(_0x362711,_0x57aa48);_0xba4962&&_0xba4962[_0x1cb0a9(0x7d5)]&&_0xba4962[_0x1cb0a9(0x7d5)][_0x1cb0a9(0x293)](_0x41d002=>{const _0x46cbc2=_0x1cb0a9;_0x41d002['questionText']&&(_0x41d002['questionText']=_0x41d002[_0x46cbc2(0x53e)][_0x46cbc2(0x4b1)]()[_0x46cbc2(0x840)](/,$/,'')[_0x46cbc2(0x4b1)]());_0x41d002[_0x46cbc2(0x721)]&&Array[_0x46cbc2(0x22d)](_0x41d002[_0x46cbc2(0x721)])&&(_0x41d002[_0x46cbc2(0x721)]=_0x41d002['options'][_0x46cbc2(0x757)](_0x349e0f=>_0x349e0f||_0x46cbc2(0x522)));if(_0x41d002['imageCode']){const _0x54a505=_0x41d002[_0x46cbc2(0x109)][_0x46cbc2(0x4b1)]();_0x54a505===''||_0x54a505[_0x46cbc2(0x56f)]()===_0x46cbc2(0x4e4)||!_0x54a505['startsWith'](_0x46cbc2(0x911))?delete _0x41d002[_0x46cbc2(0x109)]:_0x41d002[_0x46cbc2(0x109)]=_0x54a505;}});if(!_0xba4962||!_0xba4962[_0x1cb0a9(0x7d5)]||_0xba4962['questions']['length']===0x0)throw new Error(_0x1cb0a9(0x23d));const _0x52bea5={'projectId':_0x75985f['projectId'],'quizType':_0x75985f['quizType'],'settings':_0x75985f['settings'],'createdBy':_0x75985f[_0x1cb0a9(0x727)],'status':_0x1cb0a9(0x3b9),'topic':'(ฉบับง่าย)\x20'+_0x75985f[_0x1cb0a9(0x111)],'questions':_0xba4962[_0x1cb0a9(0x7d5)],'createdAt':new Date()[_0x1cb0a9(0xfe)](),'quizMode':'standard','pairedQuizId':null};let _0x3ddb42;while(!![]){_0x3ddb42=Math['floor'](0x3e8+Math[_0x1cb0a9(0x272)]()*0x2328)['toString']();const _0x4cb225=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3ddb42));if(!_0x4cb225[_0x1cb0a9(0x5f0)]())break;}await setDoc(doc(db,_0x1cb0a9(0x58f)+appId+_0x1cb0a9(0x444),_0x3ddb42),_0x52bea5),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x2aee38){console['error'](_0x1cb0a9(0x2dc),_0x2aee38),showMessage(_0x1cb0a9(0x23b)+_0x2aee38['message']);}});}async function generatePracticeQuestions(_0x230962){const _0x14e8cf=_0x56afb4,_0x48bc71=_0x14e8cf(0x210)+_0x230962+_0x14e8cf(0x322)+simpleMathPrompt+_0x14e8cf(0x207),_0x4af439={'type':_0x14e8cf(0x8b5),'properties':{'questionText':{'type':_0x14e8cf(0x7d1)},'options':{'type':_0x14e8cf(0x60e),'items':{'type':_0x14e8cf(0x7d1)}},'correctAnswerIndex':{'type':_0x14e8cf(0x795)},'explanation':{'type':_0x14e8cf(0x7d1)}},'required':[_0x14e8cf(0x53e),'options',_0x14e8cf(0x800),_0x14e8cf(0x461)]},_0x424c6e={'type':_0x14e8cf(0x8b5),'properties':{'topic':{'type':_0x14e8cf(0x7d1)},'questions':{'type':'ARRAY','items':_0x4af439}},'required':[_0x14e8cf(0x111),_0x14e8cf(0x7d5)]};return await callAnalysisApi(_0x48bc71,_0x424c6e);}function displayLessonPlan(_0x59084b,_0x932f50){const _0x23d8a3=_0x56afb4,_0x12fb27=_0x23d8a3(0x7ad)+_0x932f50[_0x23d8a3(0x111)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x59084b[_0x23d8a3(0x3f1)][_0x23d8a3(0x757)](_0x19a277=>_0x23d8a3(0x816)+_0x19a277+_0x23d8a3(0x58b))[_0x23d8a3(0x919)]('')+_0x23d8a3(0x4a2)+_0x59084b['teachingContent']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x59084b[_0x23d8a3(0x8d8)][_0x23d8a3(0x757)](_0x41e16a=>_0x23d8a3(0x8e6)+_0x41e16a['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0x41e16a[_0x23d8a3(0x161)]+_0x23d8a3(0x225))['join']('')+_0x23d8a3(0x472);document[_0x23d8a3(0x574)](_0x23d8a3(0x6fd))[_0x23d8a3(0x46f)]='แผนการสอน:\x20'+_0x932f50['topic'],document[_0x23d8a3(0x574)]('lesson-plan-content')['innerHTML']=_0x12fb27,document['getElementById'](_0x23d8a3(0x644))[_0x23d8a3(0x92b)]['remove']('hidden');if(window[_0x23d8a3(0x784)])MathJax[_0x23d8a3(0x12c)]();}function displaySkillPracticeDrill(_0x2d668e){const _0x37dc62=_0x56afb4;let _0xc0ff8d=0x0;const _0x3e3f0e=_0x2d668e[_0x37dc62(0x7d5)],_0x2ce078=()=>{const _0x3be317=_0x37dc62,_0x1d71bd=_0x3e3f0e[_0xc0ff8d],_0x12f9d6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0xc0ff8d+0x1)+_0x3be317(0x77d)+_0x3e3f0e[_0x3be317(0x261)]+_0x3be317(0x14d)+_0x1d71bd[_0x3be317(0x53e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d71bd[_0x3be317(0x721)][_0x3be317(0x757)]((_0x4cc0e2,_0x3a4219)=>_0x3be317(0x688)+_0x3a4219+_0x3be317(0x47d)+_0x3a4219+_0x3be317(0x36f)+_0x3a4219+'\x22>'+_0x4cc0e2+_0x3be317(0x1c6))[_0x3be317(0x919)]('')+_0x3be317(0x12d);studentQuizArea['innerHTML']=_0x12f9d6;if(window[_0x3be317(0x784)])MathJax[_0x3be317(0x12c)]([studentQuizArea]);document[_0x3be317(0x574)](_0x3be317(0x1df))['addEventListener'](_0x3be317(0x811),async()=>{const _0xdd2d41=_0x3be317,_0x44bc5f=await getHintForQuestion(_0x1d71bd[_0xdd2d41(0x53e)]);showMessage(_0x44bc5f);}),document[_0x3be317(0x574)](_0x3be317(0x367))[_0x3be317(0xf2)](_0x3be317(0x811),()=>{const _0x3ec421=_0x3be317,_0x445ae3=document[_0x3ec421(0x351)](_0x3ec421(0x649));if(!_0x445ae3){showMessage(_0x3ec421(0x4bb));return;}const _0x13d9b2=document[_0x3ec421(0x574)](_0x3ec421(0x413)),_0xab860=parseInt(_0x445ae3['value'])===_0x1d71bd[_0x3ec421(0x800)];_0xab860?(_0x13d9b2[_0x3ec421(0x50d)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x13d9b2[_0x3ec421(0x8a3)]=_0x3ec421(0x71c)+_0x1d71bd[_0x3ec421(0x461)]):(_0x13d9b2[_0x3ec421(0x50d)]=_0x3ec421(0x6cd),_0x13d9b2[_0x3ec421(0x8a3)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x1d71bd['explanation']);_0x13d9b2[_0x3ec421(0x92b)]['remove']('hidden');if(window[_0x3ec421(0x784)])MathJax[_0x3ec421(0x12c)]([_0x13d9b2]);document[_0x3ec421(0x574)](_0x3ec421(0x367))[_0x3ec421(0x92b)]['add'](_0x3ec421(0x384)),document[_0x3ec421(0x574)]('hint-btn')[_0x3ec421(0x92b)][_0x3ec421(0x3fa)](_0x3ec421(0x384)),document['getElementById']('next-drill-btn')['classList']['remove'](_0x3ec421(0x384));}),document[_0x3be317(0x574)]('next-drill-btn')[_0x3be317(0xf2)](_0x3be317(0x811),()=>{const _0x3b2d8b=_0x3be317;_0xc0ff8d++,_0xc0ff8d<_0x3e3f0e[_0x3b2d8b(0x261)]?_0x2ce078():(studentQuizArea[_0x3b2d8b(0x8a3)]=_0x3b2d8b(0x2e9),document[_0x3b2d8b(0x574)]('back-to-results-btn')[_0x3b2d8b(0xf2)](_0x3b2d8b(0x811),()=>{const _0x45453d=_0x3b2d8b;studentQuizArea[_0x45453d(0x92b)][_0x45453d(0x3fa)](_0x45453d(0x384)),studentResultArea[_0x45453d(0x92b)]['remove'](_0x45453d(0x384));}));});};_0x2ce078();}async function getHintForQuestion(_0x16e235){const _0x6c623a=_0x56afb4,_0x2848a4=_0x6c623a(0x10b)+_0x16e235+_0x6c623a(0x267),_0x1950be={'type':'OBJECT','properties':{'hint':{'type':_0x6c623a(0x7d1)}},'required':[_0x6c623a(0x1a4)]};try{const _0x13236b=await callAnalysisApi(_0x2848a4,_0x1950be);return _0x13236b['hint'];}catch(_0x3ad951){return console[_0x6c623a(0x7d6)](_0x6c623a(0x4ff),_0x3ad951),_0x6c623a(0x270);}}async function extractTextFromPdf(_0x44b6cd){const _0x3673e4=_0x56afb4;pdfjsLib[_0x3673e4(0x49f)][_0x3673e4(0x495)]=_0x3673e4(0x724);const _0x2b00e1=await _0x44b6cd[_0x3673e4(0x776)](),_0x4480da=await pdfjsLib[_0x3673e4(0x294)](_0x2b00e1)[_0x3673e4(0x863)],_0x2198a9=_0x4480da['numPages'];let _0x1b3764='';for(let _0x352e05=0x1;_0x352e05<=_0x2198a9;_0x352e05++){const _0x3f0c9c=await _0x4480da[_0x3673e4(0xf0)](_0x352e05),_0x3be44e=await _0x3f0c9c[_0x3673e4(0x1cb)](),_0x22ddd0=_0x3be44e[_0x3673e4(0x1ae)][_0x3673e4(0x757)](_0x31f441=>_0x31f441['str'])[_0x3673e4(0x919)]('\x20');_0x1b3764+=_0x22ddd0+'\x0a\x0a';}return _0x1b3764;}async function handleGenerateFromBlueprint(){const _0x74f6c1=_0x56afb4,_0x5cafd4=document[_0x74f6c1(0x574)]('blueprint-upload-input'),_0x31af02=document['getElementById'](_0x74f6c1(0x927)),_0x12ce74=_0x5cafd4[_0x74f6c1(0x239)][0x0],_0x2133ad=_0x31af02['files'][_0x74f6c1(0x261)]>0x0?_0x31af02['files'][0x0]:null;if(!_0x12ce74){showMessage(_0x74f6c1(0x739));return;}const _0x26f822=document[_0x74f6c1(0x574)](_0x74f6c1(0x5ee)),_0xb204af=document['getElementById']('loader-text'),_0x3ac85d=document[_0x74f6c1(0x574)]('generated-quiz-container'),_0x2bbb1f=document[_0x74f6c1(0x574)]('generate-from-blueprint-btn');_0x2bbb1f[_0x74f6c1(0x4b9)]=!![],document['getElementById']('quiz-generation-area')[_0x74f6c1(0x92b)][_0x74f6c1(0x112)](_0x74f6c1(0x384)),_0x3ac85d[_0x74f6c1(0x8a3)]='',_0x26f822[_0x74f6c1(0x92b)][_0x74f6c1(0x112)](_0x74f6c1(0x384));try{_0xb204af['textContent']=_0x74f6c1(0x34a);const _0x3199f1=await extractTextFromPdf(_0x12ce74);if(!_0x3199f1[_0x74f6c1(0x4b1)]())throw new Error('ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย');let _0x4fdf9f='';_0x2133ad&&(_0xb204af['textContent']=_0x74f6c1(0x255),_0x4fdf9f=await extractTextFromPdf(_0x2133ad));_0xb204af[_0x74f6c1(0x46f)]='วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...';const _0x2da3a2=document[_0x74f6c1(0x574)](_0x74f6c1(0x282))[_0x74f6c1(0x5dd)],_0x211bd3=_0x2da3a2?_0x74f6c1(0x84b):'',_0x265590=_0x4fdf9f?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4fdf9f+_0x74f6c1(0x4e6):'',_0x11ca3a=_0x74f6c1(0x23e)+(_0x4fdf9f?_0x74f6c1(0x625):'')+_0x74f6c1(0x77a)+_0x3199f1+_0x74f6c1(0x4e6)+_0x265590+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x211bd3+_0x74f6c1(0x31a)+simpleMathPrompt+_0x74f6c1(0x42f),_0x6684c9={'type':'OBJECT','properties':{'questionText':{'type':_0x74f6c1(0x7d1)},'questionType':{'type':_0x74f6c1(0x7d1),'enum':[_0x74f6c1(0x899),_0x74f6c1(0x62b)]},'options':{'type':_0x74f6c1(0x60e),'items':{'type':_0x74f6c1(0x7d1)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x74f6c1(0x7d1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x74f6c1(0x7d1)}},'required':[_0x74f6c1(0x53e),_0x74f6c1(0x4b8),_0x74f6c1(0x461)]},_0xbcfd6={'type':_0x74f6c1(0x8b5),'properties':{'topic':{'type':_0x74f6c1(0x7d1)},'questions':{'type':'ARRAY','items':_0x6684c9}},'required':[_0x74f6c1(0x111),_0x74f6c1(0x7d5)]};await handleApiCall(_0x11ca3a,_0x74f6c1(0x35e),_0xbcfd6);}catch(_0x516b2c){console['error'](_0x74f6c1(0x71e),_0x516b2c),showMessage(_0x74f6c1(0x23b)+_0x516b2c[_0x74f6c1(0x69a)]),_0x3ac85d[_0x74f6c1(0x8a3)]=_0x74f6c1(0x818);}finally{_0x26f822[_0x74f6c1(0x92b)][_0x74f6c1(0x3fa)](_0x74f6c1(0x384)),_0x2bbb1f[_0x74f6c1(0x4b9)]=![];}}async function handleGenerateParallelFromBank(_0x3e7c39){const _0x1a52fe=_0x56afb4;switchProjectTab('manage');const _0x581044=document[_0x1a52fe(0x574)](_0x1a52fe(0x5ee)),_0x1bb3b5=document[_0x1a52fe(0x574)](_0x1a52fe(0x405)),_0x3415f2=document[_0x1a52fe(0x574)](_0x1a52fe(0x1c7));document[_0x1a52fe(0x574)](_0x1a52fe(0x5b2))[_0x1a52fe(0x92b)]['remove'](_0x1a52fe(0x384)),_0x3415f2[_0x1a52fe(0x8a3)]='',_0x581044['classList'][_0x1a52fe(0x112)]('hidden'),_0x1bb3b5['textContent']=_0x1a52fe(0x4ef)+_0x3e7c39[_0x1a52fe(0x111)]+_0x1a52fe(0x563);try{const _0x4b5872=_0x3e7c39['questions'][_0x1a52fe(0x757)]((_0xf3e84c,_0x5b628c)=>{const _0x8cc085=_0x1a52fe;let _0x5133ae=_0x5b628c+0x1+'.\x20'+(_0xf3e84c['questionText']||_0xf3e84c[_0x8cc085(0x4a3)])+'\x0a';if(_0xf3e84c['options'])_0x5133ae+=_0xf3e84c[_0x8cc085(0x721)]['map']((_0x49738a,_0x12fea5)=>_0x8cc085(0x34e)+(_0x12fea5===_0xf3e84c['correctAnswerIndex']?_0x8cc085(0x4b2):'')+'\x20'+_0x49738a)[_0x8cc085(0x919)]('\x0a');else _0xf3e84c[_0x8cc085(0x66a)]&&(_0x5133ae+=_0x8cc085(0x7a4)+_0xf3e84c[_0x8cc085(0x66a)]);return _0x5133ae;})[_0x1a52fe(0x919)]('\x0a\x0a');_0x1bb3b5['textContent']='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x2444c7=_0x3e7c39[_0x1a52fe(0x7d5)][_0x1a52fe(0x261)],_0x33a939=_0x1a52fe(0x856)+_0x3e7c39['topic']+_0x1a52fe(0x57e)+_0x2444c7+_0x1a52fe(0x6bb)+_0x4b5872+_0x1a52fe(0x658)+_0x2444c7+_0x1a52fe(0x608)+simpleMathPrompt+_0x1a52fe(0x42f),_0x5da220={'type':_0x1a52fe(0x8b5),'properties':{'questionText':{'type':_0x1a52fe(0x7d1)},'questionType':{'type':'STRING','enum':[_0x1a52fe(0x899),_0x1a52fe(0x62b),'true_false',_0x1a52fe(0x3ed)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x1a52fe(0x7d1)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x1a52fe(0x7d1)},'correctResponse':{'type':_0x1a52fe(0x7d1)},'allResponses':{'type':_0x1a52fe(0x60e),'items':{'type':_0x1a52fe(0x7d1)}},'explanation':{'type':_0x1a52fe(0x7d1)},'imageCode':{'type':'STRING'}},'required':[_0x1a52fe(0x53e),_0x1a52fe(0x4b8),_0x1a52fe(0x461)]},_0x600ac8={'type':_0x1a52fe(0x8b5),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1a52fe(0x60e),'items':_0x5da220}},'required':[_0x1a52fe(0x111),'questions']},_0x53a17e=await callAnalysisApi(_0x33a939,_0x600ac8);_0x53a17e[_0x1a52fe(0x7d5)]['length']>_0x2444c7&&(_0x53a17e[_0x1a52fe(0x7d5)]=_0x53a17e[_0x1a52fe(0x7d5)][_0x1a52fe(0x671)](0x0,_0x2444c7)),_0x53a17e[_0x1a52fe(0x111)]='(คู่ขนาน)\x20'+_0x3e7c39['topic'],_0x53a17e['quizType']=_0x3e7c39[_0x1a52fe(0x185)],currentQuizData=_0x53a17e,displayGeneratedQuiz(_0x53a17e),document[_0x1a52fe(0x574)](_0x1a52fe(0x90e))[_0x1a52fe(0x539)]({'behavior':_0x1a52fe(0x887)});}catch(_0x119b02){console['error']('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x119b02),showMessage(_0x1a52fe(0x23b)+_0x119b02[_0x1a52fe(0x69a)]),_0x3415f2[_0x1a52fe(0x8a3)]=_0x1a52fe(0x420);}finally{_0x581044[_0x1a52fe(0x92b)]['add']('hidden');}}async function handleGenerateParallelPostTest(_0x456b3b){const _0x50d8e6=_0x56afb4,_0x118393=document[_0x50d8e6(0x574)](_0x50d8e6(0x2a6)),_0x1ddab8=document[_0x50d8e6(0x574)](_0x50d8e6(0x2e8));_0x1ddab8[_0x50d8e6(0x92b)][_0x50d8e6(0x3fa)](_0x50d8e6(0x384));const _0x4b626a=_0x50d8e6(0x397);_0x118393[_0x50d8e6(0x33d)](_0x50d8e6(0x30f),_0x4b626a);try{const _0x353f78=_0x456b3b[_0x50d8e6(0x7d5)][_0x50d8e6(0x757)]((_0xcd3e15,_0x556679)=>{const _0x11222b=_0x50d8e6;let _0x144774=_0x556679+0x1+'.\x20'+(_0xcd3e15['questionText']||_0xcd3e15[_0x11222b(0x4a3)]);if(_0xcd3e15[_0x11222b(0x721)])_0x144774+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0xcd3e15[_0x11222b(0x721)]['join'](',\x20');return _0x144774;})[_0x50d8e6(0x919)]('\x0a\x0a'),_0x433336=_0x50d8e6(0x329)+_0x456b3b[_0x50d8e6(0x111)]+_0x50d8e6(0x3d6)+_0x353f78+_0x50d8e6(0xd2)+simpleMathPrompt+_0x50d8e6(0x42f),_0xd9fec0={'type':_0x50d8e6(0x8b5),'properties':{'topic':{'type':_0x50d8e6(0x7d1)},'questions':{'type':_0x50d8e6(0x60e),'items':{'type':_0x50d8e6(0x8b5),'properties':{'questionText':{'type':_0x50d8e6(0x7d1)},'questionType':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x50d8e6(0x795)},'idealAnswer':{'type':_0x50d8e6(0x7d1)},'explanation':{'type':'STRING'}},'required':['questionText','explanation']}}},'required':[_0x50d8e6(0x111),_0x50d8e6(0x7d5)]},_0x5b91cd=await callAnalysisApi(_0x433336,_0xd9fec0),_0x4f8fef=_0x456b3b[_0x50d8e6(0x111)][_0x50d8e6(0x840)](_0x50d8e6(0x715),'')['trim'](),_0x36e9fe=_0x50d8e6(0x250)+_0x4f8fef,_0x408ab3={..._0x5b91cd,'topic':_0x36e9fe,'quizType':_0x456b3b['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x50d8e6(0xfe)](),'status':_0x50d8e6(0x3b9),'settings':_0x456b3b['settings'],'quizMode':_0x50d8e6(0x5f5),'pairedQuizId':_0x456b3b['id']};let _0x1f8183;while(!![]){_0x1f8183=Math['floor'](0x3e8+Math[_0x50d8e6(0x272)]()*0x2328)[_0x50d8e6(0x8c5)]();const _0x505c76=await getDoc(doc(db,_0x50d8e6(0x58f)+appId+_0x50d8e6(0x444),_0x1f8183));if(!_0x505c76['exists']())break;}await setDoc(doc(db,_0x50d8e6(0x58f)+appId+_0x50d8e6(0x444),_0x1f8183),_0x408ab3);const _0x46c7dc=doc(db,_0x50d8e6(0x58f)+appId+'/public/data/quizzes',_0x456b3b['id']);await updateDoc(_0x46c7dc,{'pairedQuizId':_0x1f8183}),showMessage(_0x50d8e6(0x216));}catch(_0x1aa017){console[_0x50d8e6(0x7d6)](_0x50d8e6(0x514),_0x1aa017),showMessage(_0x50d8e6(0x23b)+_0x1aa017[_0x50d8e6(0x69a)]);}finally{const _0xe9d1a9=document[_0x50d8e6(0x574)]('temp-loader-results');if(_0xe9d1a9)_0xe9d1a9[_0x50d8e6(0x112)]();_0x1ddab8[_0x50d8e6(0x92b)][_0x50d8e6(0x112)](_0x50d8e6(0x384));}}async function handleGenerateParallelTest(){const _0x3aa09c=_0x56afb4,_0x4c693d=document[_0x3aa09c(0x574)]('parallel-test-upload-input'),_0x47b86e=_0x4c693d[_0x3aa09c(0x239)][0x0];if(!_0x47b86e){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0x270f65=document[_0x3aa09c(0x574)](_0x3aa09c(0x5ee)),_0x1267af=document[_0x3aa09c(0x574)](_0x3aa09c(0x405)),_0x59c9c8=document[_0x3aa09c(0x574)](_0x3aa09c(0x1c7)),_0x2b7a8f=document[_0x3aa09c(0x574)](_0x3aa09c(0xd7));_0x2b7a8f['disabled']=!![],document[_0x3aa09c(0x574)](_0x3aa09c(0x5b2))['classList'][_0x3aa09c(0x112)](_0x3aa09c(0x384)),_0x59c9c8[_0x3aa09c(0x8a3)]='',_0x270f65[_0x3aa09c(0x92b)][_0x3aa09c(0x112)](_0x3aa09c(0x384)),_0x1267af[_0x3aa09c(0x46f)]=_0x3aa09c(0x75c);try{const _0x591b60=await extractTextFromPdf(_0x47b86e);if(!_0x591b60[_0x3aa09c(0x4b1)]())throw new Error(_0x3aa09c(0x6cf));_0x1267af[_0x3aa09c(0x46f)]=_0x3aa09c(0x5fc);const _0x1bdd64=document[_0x3aa09c(0x574)](_0x3aa09c(0x282))[_0x3aa09c(0x5dd)],_0x3abbc6=_0x1bdd64?_0x3aa09c(0x84b):'',_0x18d594=_0x3aa09c(0x22e)+_0x591b60+_0x3aa09c(0x5c4)+_0x3abbc6+_0x3aa09c(0x31a)+simpleMathPrompt+_0x3aa09c(0x42f),_0x1a5ed1={'type':_0x3aa09c(0x8b5),'properties':{'questionText':{'type':_0x3aa09c(0x7d1)},'questionType':{'type':_0x3aa09c(0x7d1),'enum':['multiple_choice','short_answer']},'options':{'type':_0x3aa09c(0x60e),'items':{'type':_0x3aa09c(0x7d1)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x3aa09c(0x53e),_0x3aa09c(0x4b8),_0x3aa09c(0x461)]},_0x4d1721={'type':_0x3aa09c(0x8b5),'properties':{'topic':{'type':_0x3aa09c(0x7d1)},'questions':{'type':_0x3aa09c(0x60e),'items':_0x1a5ed1}},'required':['topic','questions']};await handleApiCall(_0x18d594,_0x3aa09c(0x8d1),_0x4d1721);}catch(_0x38157a){console[_0x3aa09c(0x7d6)](_0x3aa09c(0x82a),_0x38157a),showMessage(_0x3aa09c(0x23b)+_0x38157a[_0x3aa09c(0x69a)]),_0x59c9c8[_0x3aa09c(0x8a3)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x270f65[_0x3aa09c(0x92b)]['add'](_0x3aa09c(0x384)),_0x2b7a8f[_0x3aa09c(0x4b9)]=![];}}async function handleRegenerateQuestionInEditor(_0x348088){const _0x12c0ed=_0x56afb4;if(currentEditingQuizData===null)return;const _0xb177f2=document[_0x12c0ed(0x351)](_0x12c0ed(0x287)+_0x348088+'\x22]');_0xb177f2&&(_0xb177f2[_0x12c0ed(0x8a3)]=_0x12c0ed(0x55c));const _0x54e4bd=currentEditingQuizData[_0x12c0ed(0x7d5)][_0x348088],_0x30e211=currentEditingQuizData['topic'],_0x322708=_0x54e4bd[_0x12c0ed(0x4b8)],_0x52ab1b={'type':_0x12c0ed(0x8b5),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x12c0ed(0x60e),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x12c0ed(0x7d1)}},'required':[_0x12c0ed(0x53e),_0x12c0ed(0x721),_0x12c0ed(0x800),_0x12c0ed(0x461)]},_0x515f54={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x12c0ed(0x7d1)}},'required':[_0x12c0ed(0x53e),'idealAnswer','explanation']};let _0x2a0ba3,_0x1f8666='';_0x322708==='multiple_choice'?(_0x2a0ba3=_0x52ab1b,_0x1f8666='แบบปรนัย\x204\x20ตัวเลือก'):(_0x2a0ba3=_0x515f54,_0x1f8666=_0x12c0ed(0x52f));const _0x186616='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x30e211+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x1f8666+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x54e4bd[_0x12c0ed(0x53e)]||_0x54e4bd['stem'])+'\x22.\x20'+simpleMathPrompt;try{const _0x4e8328=await callAnalysisApi(_0x186616,_0x2a0ba3);currentEditingQuizData[_0x12c0ed(0x7d5)][_0x348088]={..._0x54e4bd,..._0x4e8328},renderQuizEditor(currentEditingQuizData);}catch(_0x3170ea){console[_0x12c0ed(0x7d6)](_0x12c0ed(0x653),_0x3170ea),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x2d5780=_0x56afb4,_0x2f814e=document[_0x2d5780(0x574)](_0x2d5780(0x33c));currentMode===_0x2d5780(0x4ad)?(currentMode='admin',_0x2f814e[_0x2d5780(0x8a3)]=_0x2d5780(0x63a),_0x2f814e[_0x2d5780(0x469)]=_0x2d5780(0x54c),showView(_0x2d5780(0x92d))):(currentMode='student',_0x2f814e[_0x2d5780(0x8a3)]=_0x2d5780(0x70c),_0x2f814e[_0x2d5780(0x469)]=_0x2d5780(0x3dd),showView(_0x2d5780(0x4ad)));}function handleAdminLogin(){const _0x4be103=_0x56afb4,_0x3cde5f=document[_0x4be103(0x574)](_0x4be103(0x6b1)),_0x3c525d=document[_0x4be103(0x574)]('password-error-msg');if(_0x3cde5f['value']===_0x4be103(0x172)){adminPasswordModal['classList'][_0x4be103(0x3fa)](_0x4be103(0x384)),_0x3cde5f[_0x4be103(0x54e)]='',_0x3c525d[_0x4be103(0x92b)][_0x4be103(0x3fa)](_0x4be103(0x384)),currentMode='admin';const _0x5aa3b2=document['getElementById'](_0x4be103(0x33c));_0x5aa3b2[_0x4be103(0x8a3)]=_0x4be103(0x63a),_0x5aa3b2['title']='สลับไปโหมดนักเรียน',showView(_0x4be103(0x92d));}else _0x3c525d[_0x4be103(0x92b)][_0x4be103(0x112)]('hidden'),_0x3cde5f[_0x4be103(0x54e)]='';}function switchProjectTab(_0x2a1a86){const _0x5dc97a=_0x56afb4;[_0x5dc97a(0x3b8),_0x5dc97a(0x581),'leaderboard'][_0x5dc97a(0x293)](_0x2be8d4=>{const _0x15d0f6=_0x5dc97a;document['getElementById'](_0x2be8d4+_0x15d0f6(0x864))[_0x15d0f6(0x92b)][_0x15d0f6(0x112)](_0x15d0f6(0x3b9)),document[_0x15d0f6(0x574)](_0x2be8d4+'-tab-content')['classList'][_0x15d0f6(0x3fa)](_0x15d0f6(0x384));}),document[_0x5dc97a(0x574)](_0x2a1a86+_0x5dc97a(0x864))['classList'][_0x5dc97a(0x3fa)](_0x5dc97a(0x3b9)),document[_0x5dc97a(0x574)](_0x2a1a86+_0x5dc97a(0x858))[_0x5dc97a(0x92b)]['remove']('hidden');}function switchQuizDetailTab(_0x35297c){const _0xc65059=_0x56afb4,_0x2308aa={'analytics':{'btn':'analytics-tab-btn','content':_0xc65059(0x27e)},'scores':{'btn':_0xc65059(0x4aa),'content':_0xc65059(0x699)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0xc65059(0x66e),'content':_0xc65059(0x87f)}};for(const _0x4c0553 in _0x2308aa){document['getElementById'](_0x2308aa[_0x4c0553][_0xc65059(0x1aa)])[_0xc65059(0x92b)][_0xc65059(0x112)](_0xc65059(0x3b9)),document[_0xc65059(0x574)](_0x2308aa[_0x4c0553]['content'])[_0xc65059(0x92b)]['add']('hidden');}document[_0xc65059(0x574)](_0x2308aa[_0x35297c][_0xc65059(0x1aa)])[_0xc65059(0x92b)]['add'](_0xc65059(0x3b9)),document[_0xc65059(0x574)](_0x2308aa[_0x35297c][_0xc65059(0x6c5)])[_0xc65059(0x92b)][_0xc65059(0x112)](_0xc65059(0x384));}function showMessage(_0x5135e3,_0x34448d=null){const _0x3f55ba=_0x56afb4;modalMessage[_0x3f55ba(0x46f)]=_0x5135e3,modalConfirmAction=_0x34448d,messageModal['classList']['remove'](_0x3f55ba(0x384));}function showConfirmation(_0x565fd6,_0x2500ed){const _0xc2bbfe=_0x56afb4;document[_0xc2bbfe(0x574)](_0xc2bbfe(0x1ef))[_0xc2bbfe(0x46f)]=_0x565fd6,document['getElementById'](_0xc2bbfe(0x7fb))[_0xc2bbfe(0x351)]('h3')[_0xc2bbfe(0x46f)]=_0xc2bbfe(0x1e3),confirmAction=_0x2500ed,confirmationModal[_0xc2bbfe(0x92b)][_0xc2bbfe(0x112)](_0xc2bbfe(0x384));}function listenForProjects(){const _0x2066d0=_0x56afb4,_0x493cea=doc(db,_0x2066d0(0x694),_0x2066d0(0x606));onSnapshot(_0x493cea,_0x2ca793=>{const _0x398536=_0x2066d0;if(_0x2ca793[_0x398536(0x5f0)]()){const _0x21d6cf=_0x2ca793['data']();globalDashboardSettings[_0x398536(0x812)]=_0x21d6cf[_0x398536(0x812)]||'date_desc',globalDashboardSettings[_0x398536(0x8e3)]=_0x21d6cf[_0x398536(0x8e3)]||[],globalDashboardSettings[_0x398536(0x378)]=_0x21d6cf[_0x398536(0x378)]||[];}allProjects[_0x398536(0x261)]>0x0&&renderProjects();});const _0x5aa84f=collection(db,_0x2066d0(0x58f)+appId+_0x2066d0(0x785));unsubscribeProjectsListener=onSnapshot(_0x5aa84f,_0xaa1c9f=>{const _0x4923d4=_0x2066d0;allProjects=_0xaa1c9f[_0x4923d4(0x3e0)][_0x4923d4(0x757)](_0x508209=>({'id':_0x508209['id'],..._0x508209[_0x4923d4(0x58c)]()})),renderProjects();},_0x41d695=>{const _0x2f1353=_0x2066d0;console[_0x2f1353(0x7d6)](_0x2f1353(0x33b),_0x41d695),showMessage(_0x2f1353(0x789));});}function showColorPalette(_0x31d101,_0x372b26){const _0x1c7b57=_0x56afb4;document[_0x1c7b57(0x706)](_0x1c7b57(0x59d))[_0x1c7b57(0x293)](_0x9f69a0=>_0x9f69a0[_0x1c7b57(0x112)]());const _0x49a2eb=['#FFFFFF','#FEE2E2',_0x1c7b57(0x1fc),'#D1FAE5',_0x1c7b57(0x8b6),_0x1c7b57(0x2fc),_0x1c7b57(0x26f),'#FCE7F3',_0x1c7b57(0x7cf)],_0x16950c=document['createElement'](_0x1c7b57(0x708));_0x16950c[_0x1c7b57(0x50d)]=_0x1c7b57(0x123),_0x49a2eb['forEach'](_0x1fb9f3=>{const _0x1af67f=_0x1c7b57,_0x280c89=document[_0x1af67f(0x51d)](_0x1af67f(0x708));_0x280c89['className']=_0x1af67f(0x618),_0x280c89[_0x1af67f(0x610)][_0x1af67f(0x1b1)]=_0x1fb9f3,_0x280c89[_0x1af67f(0xf2)](_0x1af67f(0x811),()=>{const _0x4a02ad=_0x1af67f;handleProjectColorChange(_0x372b26,_0x1fb9f3),_0x16950c[_0x4a02ad(0x112)]();}),_0x16950c[_0x1af67f(0x21a)](_0x280c89);}),document[_0x1c7b57(0x71d)][_0x1c7b57(0x21a)](_0x16950c);const _0x20c75d=_0x31d101['getBoundingClientRect']();_0x16950c[_0x1c7b57(0x610)][_0x1c7b57(0x7de)]=_0x20c75d[_0x1c7b57(0x536)]+window[_0x1c7b57(0x364)]+'px',_0x16950c[_0x1c7b57(0x610)][_0x1c7b57(0x146)]=_0x20c75d[_0x1c7b57(0x146)]+window[_0x1c7b57(0x747)]-_0x16950c[_0x1c7b57(0x28e)]/0x2+'px';}async function handleProjectColorChange(_0x4b1e57,_0x34861a){const _0x1385b6=_0x56afb4,_0x24a224=doc(db,'artifacts/'+appId+_0x1385b6(0x785),_0x4b1e57);try{await updateDoc(_0x24a224,{'color':_0x34861a});}catch(_0x21f526){console['error']('Error\x20updating\x20project\x20color:',_0x21f526),showMessage(_0x1385b6(0x5bb));}}async function renderProjects(){const _0x3d8772=_0x56afb4,_0x1d8672=globalDashboardSettings[_0x3d8772(0x812)]||_0x3d8772(0x284),_0x23a248=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x213f41=globalDashboardSettings[_0x3d8772(0x516)]||_0x3d8772(0x641),_0x309f14=document[_0x3d8772(0x574)](_0x3d8772(0x57b)),_0xb8206c=document[_0x3d8772(0x574)](_0x3d8772(0x6a2));_0x309f14[_0x3d8772(0x92b)][_0x3d8772(0x406)](_0x3d8772(0x3b9),_0x213f41===_0x3d8772(0x641)),_0xb8206c[_0x3d8772(0x92b)]['toggle'](_0x3d8772(0x3b9),_0x213f41==='list'),document[_0x3d8772(0x574)](_0x3d8772(0x696))[_0x3d8772(0x54e)]=_0x1d8672;const _0x23b3a2=document[_0x3d8772(0x574)](_0x3d8772(0x38f))[_0x3d8772(0x54e)][_0x3d8772(0x56f)]();let _0x533e60=allProjects[_0x3d8772(0x13b)](_0x2bbaa7=>_0x2bbaa7[_0x3d8772(0x1dc)]['toLowerCase']()[_0x3d8772(0x7a6)](_0x23b3a2));const _0x3f1e77=_0x533e60[_0x3d8772(0x13b)](_0x2a6210=>_0x23a248[_0x3d8772(0x21e)](_0x2a6210['id'])),_0x35e75f=_0x533e60['filter'](_0x5850d9=>!_0x23a248[_0x3d8772(0x21e)](_0x5850d9['id'])),_0x503306=(_0x38697e,_0x4cdf53)=>{const _0x44010d=_0x3d8772;switch(_0x1d8672){case _0x44010d(0x917):return _0x38697e[_0x44010d(0x1dc)][_0x44010d(0x5bf)](_0x4cdf53['projectName'],'th');case _0x44010d(0x339):return _0x4cdf53[_0x44010d(0x1dc)]['localeCompare'](_0x38697e[_0x44010d(0x1dc)],'th');case _0x44010d(0x69e):return new Date(_0x38697e['createdAt'])-new Date(_0x4cdf53[_0x44010d(0x2b6)]);default:return new Date(_0x4cdf53['createdAt'])-new Date(_0x38697e[_0x44010d(0x2b6)]);}};_0x3f1e77['sort'](_0x503306),_0x35e75f[_0x3d8772(0x82b)](_0x503306);const _0x5e456d=[..._0x3f1e77,..._0x35e75f],_0x4eddb6=globalDashboardSettings['projectOrder']||[];_0x4eddb6['length']>0x0&&_0x213f41===_0x3d8772(0x641)&&_0x5e456d['sort']((_0x53a211,_0x2dcd21)=>{const _0x3c2e18=_0x3d8772,_0x2da767=_0x4eddb6[_0x3c2e18(0x271)](_0x53a211['id']),_0x413776=_0x4eddb6[_0x3c2e18(0x271)](_0x2dcd21['id']);if(_0x2da767===-0x1)return 0x1;if(_0x413776===-0x1)return-0x1;return _0x2da767-_0x413776;});const _0x621ea8={};await Promise[_0x3d8772(0x7b1)](_0x5e456d[_0x3d8772(0x757)](async _0xaaae26=>{const _0x1019d0=_0x3d8772,_0x19a9ad=query(collection(db,_0x1019d0(0x58f)+appId+_0x1019d0(0x444)),where(_0x1019d0(0x764),'==',_0xaaae26['id'])),_0x87cbbd=await getDocs(_0x19a9ad);_0x621ea8[_0xaaae26['id']]=_0x87cbbd[_0x1019d0(0x900)];}));const _0x2c0b30=document[_0x3d8772(0x574)](_0x3d8772(0xfa));let _0x4a753e='';if(_0x213f41===_0x3d8772(0x641)){_0x2c0b30[_0x3d8772(0x50d)]=_0x3d8772(0x7f8);if(starredQuizzes[_0x3d8772(0x261)]>0x0&&_0x23b3a2===''){const _0x2e99f1=starredQuizzes[_0x3d8772(0x757)](_0x11a378=>{const _0x328bf6=_0x3d8772,_0x246d5e=allProjects['find'](_0x475786=>_0x475786['id']===_0x11a378[_0x328bf6(0x764)]);return{..._0x11a378,'projectName':_0x246d5e?_0x246d5e[_0x328bf6(0x1dc)]:_0x328bf6(0x36a)};});_0x4a753e+=_0x3d8772(0x6e3)+_0x2e99f1[_0x3d8772(0x757)](_0x3a99dc=>_0x3d8772(0xdf)+_0x3a99dc[_0x3d8772(0x111)]+'\x22>'+_0x3a99dc[_0x3d8772(0x111)]+_0x3d8772(0x7c4)+_0x3a99dc['projectName']+'\x22>จาก:\x20'+_0x3a99dc[_0x3d8772(0x1dc)]+_0x3d8772(0x500))[_0x3d8772(0x919)]('')+_0x3d8772(0x22f)+starredQuizzes[_0x3d8772(0x261)]+_0x3d8772(0x51c);}_0x5e456d[_0x3d8772(0x293)](_0x8463d6=>{const _0x580dad=_0x3d8772,_0x3b819c=_0x621ea8[_0x8463d6['id']]??0x0,_0xf58923=_0x23a248[_0x580dad(0x21e)](_0x8463d6['id']),_0x3f7520=_0x8463d6[_0x580dad(0x2f0)]||_0x580dad(0x180),_0x3a5edc=parseInt(_0x3f7520[_0x580dad(0x5f9)](0x1,0x3),0x10)*0.299+parseInt(_0x3f7520['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x3f7520[_0x580dad(0x5f9)](0x5,0x7),0x10)*0.114<0xba,_0x4d7f13=_0x3a5edc?_0x580dad(0x4f2):_0x580dad(0x53d),_0x1b1b6a=_0x3a5edc?_0x580dad(0x5aa):_0x580dad(0x80f);_0x4a753e+=_0x580dad(0x113)+(_0xf58923?'border-indigo-400\x20ring-2\x20ring-indigo-200':'border-gray-200')+_0x580dad(0x331)+_0x3f7520+_0x580dad(0x3b7)+_0x8463d6['id']+_0x580dad(0x2e5)+_0x8463d6['id']+_0x580dad(0x654)+(_0x3a5edc?_0x580dad(0x141):_0x580dad(0x63b))+_0x580dad(0x83b)+_0x8463d6['id']+_0x580dad(0x5a2)+(_0x3a5edc?_0x580dad(0x141):_0x580dad(0x63b))+_0x580dad(0x4a7)+(_0xf58923?_0x3a5edc?_0x580dad(0x489):_0x580dad(0x560):'')+_0x580dad(0x738)+_0x8463d6['id']+_0x580dad(0x3a1)+_0x4d7f13+_0x580dad(0x2c2)+_0x8463d6[_0x580dad(0x1dc)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x1b1b6a+_0x580dad(0x391)+new Date(_0x8463d6['createdAt'])[_0x580dad(0x240)](_0x580dad(0x443))+_0x580dad(0x1ab)+(_0x3a5edc?'text-gray-100':_0x580dad(0x6da))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x3b819c+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x8463d6['id']+'\x22\x20data-name=\x22'+_0x8463d6['projectName']+_0x580dad(0x79a)+(_0x3a5edc?_0x580dad(0x132):_0x580dad(0x5d2))+_0x580dad(0x655);});}else _0x2c0b30[_0x3d8772(0x50d)]=_0x3d8772(0x89f),starredQuizzes[_0x3d8772(0x261)]>0x0&&_0x23b3a2===''&&(_0x4a753e+=_0x3d8772(0x3a8)+starredQuizzes[_0x3d8772(0x261)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x4a753e+=_0x3d8772(0x2ef),_0x5e456d[_0x3d8772(0x293)](_0x217f5e=>{const _0x4696c2=_0x3d8772,_0x23eccb=_0x621ea8[_0x217f5e['id']]??0x0,_0x4d5acf=_0x23a248[_0x4696c2(0x21e)](_0x217f5e['id']);_0x4a753e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x217f5e[_0x4696c2(0x2f0)]||'#E5E7EB')+_0x4696c2(0x220)+_0x217f5e['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x217f5e[_0x4696c2(0x1dc)]+_0x4696c2(0x930)+_0x23eccb+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x217f5e['createdAt'])[_0x4696c2(0x31f)](_0x4696c2(0x443))+_0x4696c2(0x72f)+_0x217f5e['id']+_0x4696c2(0x78d)+(_0x4d5acf?_0x4696c2(0x560):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x217f5e['id']+_0x4696c2(0x6a5)+_0x217f5e[_0x4696c2(0x1dc)]+_0x4696c2(0x87c);});projectList[_0x3d8772(0x8a3)]=_0x4a753e,noProjectsMsg['classList']['toggle'](_0x3d8772(0x384),_0x4a753e['length']>0x0);}document[_0x56afb4(0x574)](_0x56afb4(0x76c))['addEventListener']('click',async()=>{const _0xcf2aef=_0x56afb4,_0xc640fc=document['getElementById'](_0xcf2aef(0x2c8)),_0x26829a=_0xc640fc[_0xcf2aef(0x54e)]['trim']();if(!_0x26829a){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x591bbf=doc(collection(db,'artifacts/'+appId+_0xcf2aef(0x785)));await setDoc(_0x591bbf,{'projectName':_0x26829a,'students':[],'settings':{'resultsDisplay':_0xcf2aef(0x110),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0xcf2aef(0x372),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0xcf2aef(0xfe)]()}),_0xc640fc[_0xcf2aef(0x54e)]='',createProjectModal[_0xcf2aef(0x92b)][_0xcf2aef(0x3fa)](_0xcf2aef(0x384)),showMessage(_0xcf2aef(0x76d));}catch(_0x43d709){console[_0xcf2aef(0x7d6)](_0xcf2aef(0x1b2),_0x43d709),showMessage(_0xcf2aef(0x10a));}}),projectList[_0x56afb4(0xf2)](_0x56afb4(0x811),async _0x4851d4=>{const _0x87bf32=_0x56afb4,_0x5e9b6d=_0x4851d4[_0x87bf32(0x868)][_0x87bf32(0x213)](_0x87bf32(0x741)),_0x513362=_0x4851d4[_0x87bf32(0x868)][_0x87bf32(0x213)](_0x87bf32(0x3a4)),_0x24b278=_0x4851d4['target'][_0x87bf32(0x213)](_0x87bf32(0x91a)),_0x1ce903=_0x4851d4[_0x87bf32(0x868)][_0x87bf32(0x213)](_0x87bf32(0x709));if(_0x24b278){const _0x53e708=_0x24b278[_0x87bf32(0xd6)]['id'],_0x246804=doc(db,_0x87bf32(0x694),_0x87bf32(0x606)),_0x2f67e0=globalDashboardSettings[_0x87bf32(0x8e3)];let _0xc7761f;_0x2f67e0['includes'](_0x53e708)?_0xc7761f=_0x2f67e0[_0x87bf32(0x13b)](_0x2eb064=>_0x2eb064!==_0x53e708):_0xc7761f=[..._0x2f67e0,_0x53e708];try{await setDoc(_0x246804,{'pinnedProjects':_0xc7761f},{'merge':!![]});}catch(_0xd261ac){console[_0x87bf32(0x7d6)](_0x87bf32(0x203),_0xd261ac),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x1ce903){const _0x36f0fe=_0x1ce903[_0x87bf32(0xd6)]['id'];showColorPalette(_0x1ce903,_0x36f0fe);}else{if(_0x5e9b6d){const _0x46fef1=_0x5e9b6d[_0x87bf32(0xd6)]['id'];_0x46fef1===_0x87bf32(0x799)?showStarredProjectView():(currentProjectId=_0x46fef1,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x513362){const _0x2c7e32=_0x513362['dataset']['id'],_0x2982e5=_0x513362[_0x87bf32(0xd6)][_0x87bf32(0x79e)];showConfirmation(_0x87bf32(0x52e)+_0x2982e5+_0x87bf32(0x5d1),()=>handleDeleteProject(_0x2c7e32));}}}}}),projectList[_0x56afb4(0xf2)](_0x56afb4(0x265),_0x4d9f58=>{const _0x4fc811=_0x56afb4,_0x1089ba=_0x4d9f58[_0x4fc811(0x868)][_0x4fc811(0x213)](_0x4fc811(0x617));_0x1089ba&&_0x1089ba[_0x4fc811(0x92b)][_0x4fc811(0x3fa)](_0x4fc811(0x16e));}),projectList[_0x56afb4(0xf2)](_0x56afb4(0x45f),_0x1936e9=>{const _0x55b6e4=_0x56afb4,_0x43d076=_0x1936e9['target']['closest'](_0x55b6e4(0x617));_0x43d076&&_0x43d076[_0x55b6e4(0x92b)][_0x55b6e4(0x112)](_0x55b6e4(0x16e));}),projectList[_0x56afb4(0xf2)](_0x56afb4(0x687),_0x4c3ec6=>{const _0x226ba9=_0x56afb4;_0x4c3ec6[_0x226ba9(0x872)]();const _0x37086b=document[_0x226ba9(0x351)](_0x226ba9(0x1fe));if(!_0x37086b)return;const _0xc410a6=getDragAfterElement(projectList,_0x4c3ec6['clientY']);_0xc410a6==null?projectList[_0x226ba9(0x21a)](_0x37086b):projectList['insertBefore'](_0x37086b,_0xc410a6);}),projectList['addEventListener'](_0x56afb4(0x835),_0x533061=>{const _0x43ea93=_0x56afb4;_0x533061['preventDefault']();const _0xae59c0=[...projectList['querySelectorAll'](_0x43ea93(0x6e5))][_0x43ea93(0x757)](_0x3fc881=>_0x3fc881[_0x43ea93(0xd6)]['id']);saveProjectOrder(_0xae59c0);});function renderBehaviorLog(_0x31eedf){const _0x1660a2=_0x56afb4,_0x308cc8=document[_0x1660a2(0x574)](_0x1660a2(0x53f));if(!_0x308cc8)return;const _0x5add34=_0x31eedf['filter'](_0x1432d7=>_0x1432d7['behaviorLog']&&_0x1432d7[_0x1660a2(0x837)][_0x1660a2(0x261)]>0x0);if(_0x5add34[_0x1660a2(0x261)]===0x0){_0x308cc8[_0x1660a2(0x8a3)]=_0x1660a2(0x27f);return;}let _0x3dd6d4='';_0x5add34['forEach'](_0x24681f=>{const _0x452650=_0x1660a2;_0x3dd6d4+=_0x452650(0x65d)+_0x24681f[_0x452650(0x460)]+_0x452650(0x5df),_0x24681f['behaviorLog']['sort']((_0x314e61,_0x19b4db)=>new Date(_0x19b4db[_0x452650(0x3de)])-new Date(_0x314e61[_0x452650(0x3de)]))['forEach'](_0x496c04=>{const _0x29481f=_0x452650,_0x319a05=new Date(_0x496c04[_0x29481f(0x3de)])[_0x29481f(0x31f)](_0x29481f(0x443),{'dateStyle':_0x29481f(0x315),'timeStyle':_0x29481f(0x629)});_0x3dd6d4+=_0x29481f(0x338)+_0x496c04['attemptNumber']+_0x29481f(0x17c)+_0x319a05+_0x29481f(0x855);}),_0x3dd6d4+=_0x452650(0x298);}),_0x308cc8['innerHTML']=_0x3dd6d4;}function getDragAfterElement(_0x8aed85,_0x599fd5){const _0x3e96dc=_0x56afb4,_0x5afb6a=[..._0x8aed85[_0x3e96dc(0x706)](_0x3e96dc(0x6ae))];return _0x5afb6a[_0x3e96dc(0x195)]((_0x57a102,_0x11d273)=>{const _0x296d48=_0x3e96dc,_0x4e6a50=_0x11d273[_0x296d48(0x90a)](),_0x386040=_0x599fd5-_0x4e6a50['top']-_0x4e6a50[_0x296d48(0x2b1)]/0x2;return _0x386040<0x0&&_0x386040>_0x57a102[_0x296d48(0x34b)]?{'offset':_0x386040,'element':_0x11d273}:_0x57a102;},{'offset':Number['NEGATIVE_INFINITY']})[_0x3e96dc(0x40b)];}async function saveProjectOrder(_0x4e07cd){const _0x599c4a=_0x56afb4,_0x581929=doc(db,_0x599c4a(0x694),_0x599c4a(0x606));try{await setDoc(_0x581929,{'projectOrder':_0x4e07cd},{'merge':!![]});}catch(_0x156f26){console['error'](_0x599c4a(0x7a9),_0x156f26),showMessage(_0x599c4a(0x60d));}}async function logBehaviorEvent(_0x3f2afd,_0x520510={}){const _0x226caa=_0x56afb4;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x226caa(0x387)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x582055=doc(db,_0x226caa(0x58f)+appId+_0x226caa(0x381)+currentQuizData['id']+_0x226caa(0x16a),currentStudentName),_0x4ee0a4={'event':_0x3f2afd,'timestamp':new Date()['toISOString'](),..._0x520510};try{await updateDoc(_0x582055,{'behaviorLog':arrayUnion(_0x4ee0a4)}),console[_0x226caa(0x854)](_0x226caa(0x8dc)+currentStudentName+'\x20สำเร็จ');}catch(_0x2050e3){_0x2050e3[_0x226caa(0x645)]==='not-found'?console[_0x226caa(0x387)](_0x226caa(0x205)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x226caa(0x7d6)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x2050e3);}}function calculateMeanAndStdDev(_0x195847){const _0x32d2a3=_0x56afb4;if(_0x195847[_0x32d2a3(0x261)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x48ca51=_0x195847[_0x32d2a3(0x195)]((_0xe22c48,_0x3c21f9)=>_0xe22c48+_0x3c21f9,0x0)/_0x195847[_0x32d2a3(0x261)];if(_0x195847['length']===0x1)return{'mean':_0x48ca51,'stdDev':0x0};const _0x4131b8=Math['sqrt'](_0x195847[_0x32d2a3(0x757)](_0xcb21bd=>Math[_0x32d2a3(0x311)](_0xcb21bd-_0x48ca51,0x2))['reduce']((_0x27b765,_0xc71a19)=>_0x27b765+_0xc71a19,0x0)/(_0x195847[_0x32d2a3(0x261)]-0x1));return{'mean':_0x48ca51,'stdDev':_0x4131b8};}function calculateZScore(_0x21a010,_0x2ade3a,_0x2fccce){if(_0x2fccce===0x0)return 0x0;return(_0x21a010-_0x2ade3a)/_0x2fccce;}function calculateTScore(_0x177e17){return 0xa*_0x177e17+0x32;}function showStarredProjectView(){const _0x53d36f=_0x56afb4;currentProjectId=_0x53d36f(0x585),currentProjectData=null,projectTitle[_0x53d36f(0x46f)]=_0x53d36f(0x20e),projectIdDisplay[_0x53d36f(0x46f)]='pinned-items',showView(_0x53d36f(0x319)),manageTab['classList'][_0x53d36f(0x3fa)](_0x53d36f(0x384)),leaderboardTab[_0x53d36f(0x92b)][_0x53d36f(0x3fa)]('hidden'),switchProjectTab(_0x53d36f(0x581)),renderQuizzes();}async function loadProjectDetails(_0x39dd14){const _0x271b60=_0x56afb4,_0x37084b=doc(db,_0x271b60(0x58f)+appId+'/public/data/projects',_0x39dd14),_0x3240a8=await getDoc(_0x37084b);if(_0x3240a8['exists']()){manageTab[_0x271b60(0x92b)]['remove']('hidden'),leaderboardTab['classList'][_0x271b60(0x112)]('hidden'),currentProjectData=_0x3240a8['data'](),projectTitle[_0x271b60(0x46f)]=currentProjectData['projectName'],projectIdDisplay[_0x271b60(0x46f)]=_0x39dd14;const _0x2ddd60=currentProjectData[_0x271b60(0x59e)]||{};document[_0x271b60(0x574)](_0x271b60(0x65c))[_0x271b60(0x54e)]=_0x2ddd60[_0x271b60(0x2fe)]||_0x271b60(0x372);const _0x3b38d3=document['getElementById']('show-in-student-dashboard-checkbox');_0x3b38d3[_0x271b60(0x5dd)]=_0x2ddd60[_0x271b60(0x5d5)]!==![];const _0x8303c=document[_0x271b60(0x574)](_0x271b60(0x3cf)),_0x318bb7=document[_0x271b60(0x574)](_0x271b60(0x89e)),_0x5d22f2=document[_0x271b60(0x574)](_0x271b60(0x2ab)),_0x297b8b=_0x2ddd60[_0x271b60(0x2f3)]||![];_0x8303c['checked']=_0x297b8b,_0x5d22f2['value']=_0x2ddd60['passcode']||'',_0x318bb7[_0x271b60(0x92b)][_0x271b60(0x406)](_0x271b60(0x384),!_0x297b8b),_0x8303c['onchange']=()=>{const _0x247e85=_0x271b60;_0x318bb7[_0x247e85(0x92b)][_0x247e85(0x406)](_0x247e85(0x384),!_0x8303c['checked']);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x39dd14),listenForProjectQuizzes(_0x39dd14),listenForStudentProfiles(_0x39dd14);}else showMessage('ไม่พบโปรเจค'),showView(_0x271b60(0x92d));}async function handleResetProjectOrder(){const _0x355611=_0x56afb4,_0x6d5b42=doc(db,_0x355611(0x694),_0x355611(0x606));try{await setDoc(_0x6d5b42,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x355611(0x45e));}catch(_0x3a51d5){console[_0x355611(0x7d6)](_0x355611(0x11a),_0x3a51d5),showMessage(_0x355611(0x6a1));}}async function handleTogglePinProject(_0x28cbb0){const _0x4667e2=_0x56afb4;if(!_0x28cbb0)return;const _0xd102bc=doc(db,_0x4667e2(0x58f)+appId+'/public/data/projects',_0x28cbb0);try{const _0x1ba4cb=await getDoc(_0xd102bc);if(_0x1ba4cb[_0x4667e2(0x5f0)]()){const _0xa2fdab=_0x1ba4cb[_0x4667e2(0x58c)]()[_0x4667e2(0x83e)]||![];await updateDoc(_0xd102bc,{'isPinned':!_0xa2fdab});}}catch(_0x5e5f5a){console[_0x4667e2(0x7d6)](_0x4667e2(0x528),_0x5e5f5a),showMessage(_0x4667e2(0x7db));}}async function handleDeleteProject(_0x27098b){const _0x5ea19e=_0x56afb4;try{const _0x116227=writeBatch(db),_0x10da86=collection(db,_0x5ea19e(0x58f)+appId+_0x5ea19e(0x444)),_0xe49e98=query(_0x10da86,where(_0x5ea19e(0x764),'==',_0x27098b)),_0x3196f7=await getDocs(_0xe49e98);for(const _0x590bb1 of _0x3196f7[_0x5ea19e(0x3e0)]){const _0xa09984=collection(db,_0x5ea19e(0x58f)+appId+_0x5ea19e(0x381)+_0x590bb1['id']+_0x5ea19e(0x16a)),_0x1426e4=await getDocs(_0xa09984);_0x1426e4[_0x5ea19e(0x293)](_0x5cb38d=>{const _0x159212=_0x5ea19e;_0x116227['delete'](_0x5cb38d[_0x159212(0x54b)]);}),_0x116227['delete'](_0x590bb1[_0x5ea19e(0x54b)]);}const _0x4b7a29=collection(db,_0x5ea19e(0x58f)+appId+'/public/data/projects/'+_0x27098b+_0x5ea19e(0x17b)),_0x7c583f=await getDocs(_0x4b7a29);_0x7c583f['forEach'](_0x17b8bd=>{const _0x2fcd39=_0x5ea19e;_0x116227[_0x2fcd39(0x751)](_0x17b8bd[_0x2fcd39(0x54b)]);});const _0x536d7a=doc(db,_0x5ea19e(0x58f)+appId+_0x5ea19e(0x785),_0x27098b);_0x116227[_0x5ea19e(0x751)](_0x536d7a),await _0x116227[_0x5ea19e(0x508)](),showMessage(_0x5ea19e(0x910)),showView(_0x5ea19e(0x92d));}catch(_0x60b267){console[_0x5ea19e(0x7d6)]('Error\x20deleting\x20project:',_0x60b267),showMessage(_0x5ea19e(0x6ee));}}document[_0x56afb4(0x574)](_0x56afb4(0x35f))['addEventListener'](_0x56afb4(0x811),async()=>{const _0x2297ad=_0x56afb4;if(!currentProjectId)return;const _0x1ce525={'defaultNumQuestions':parseInt(document['getElementById'](_0x2297ad(0x1ac))[_0x2297ad(0x54e)]),'defaultNumChoices':parseInt(document[_0x2297ad(0x574)](_0x2297ad(0x44a))[_0x2297ad(0x54e)]),'defaultPassingScore':parseInt(document[_0x2297ad(0x574)](_0x2297ad(0x37a))[_0x2297ad(0x54e)]),'resultsDisplay':document[_0x2297ad(0x574)](_0x2297ad(0x35a))[_0x2297ad(0x54e)],'shuffleSetting':document[_0x2297ad(0x574)]('shuffle-setting-select')[_0x2297ad(0x54e)],'timerMode':document[_0x2297ad(0x574)](_0x2297ad(0x41d))[_0x2297ad(0x54e)],'timerDuration':parseInt(document['getElementById'](_0x2297ad(0x31c))[_0x2297ad(0x54e)])};try{const _0x179c6a=doc(db,_0x2297ad(0x58f)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x179c6a,{'settings':_0x1ce525}),showMessage(_0x2297ad(0x805));}catch(_0x18e46f){console[_0x2297ad(0x7d6)](_0x2297ad(0x74b),_0x18e46f),showMessage(_0x2297ad(0x1a1));}});function listenForStudents(_0x176789){const _0x8ffa66=_0x56afb4,_0x59c7ea=doc(db,_0x8ffa66(0x58f)+appId+_0x8ffa66(0x785),_0x176789);unsubscribeStudentsListener=onSnapshot(_0x59c7ea,_0x4a2aa4=>{const _0x4ee24f=_0x8ffa66;if(_0x4a2aa4['exists']()){const _0x46c7b1=_0x4a2aa4[_0x4ee24f(0x58c)]();currentProjectData=_0x46c7b1,renderStudentList(_0x46c7b1[_0x4ee24f(0x3b2)]||[]);}});}function renderStudentList(_0x3c08b5){const _0x3518e6=_0x56afb4,_0xa99967=document[_0x3518e6(0x574)](_0x3518e6(0x49d));_0x3c08b5[_0x3518e6(0x261)]===0x0?(studentList['innerHTML']='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0xa99967[_0x3518e6(0x92b)]['add'](_0x3518e6(0x384))):(studentList[_0x3518e6(0x8a3)]=_0x3c08b5[_0x3518e6(0x757)](_0x375ede=>_0x3518e6(0x86b)+_0x375ede+_0x3518e6(0x590)+_0x375ede+_0x3518e6(0x80a))[_0x3518e6(0x919)](''),_0xa99967[_0x3518e6(0x92b)][_0x3518e6(0x112)]('hidden'));}document[_0x56afb4(0x574)](_0x56afb4(0x3d2))[_0x56afb4(0xf2)]('click',async()=>{const _0x29f8d7=_0x56afb4;if(!currentProjectId)return;const _0x2f5e1e=document[_0x29f8d7(0x574)](_0x29f8d7(0x58d)),_0x38f1b9=_0x2f5e1e['value'][_0x29f8d7(0x4b1)]();if(!_0x38f1b9){showMessage(_0x29f8d7(0x421));return;}const _0x7b9157=_0x38f1b9['split']('\x0a')[_0x29f8d7(0x757)](_0x56725f=>_0x56725f['trim']())['filter'](_0x4759de=>_0x4759de);if(_0x7b9157[_0x29f8d7(0x261)]===0x0)return;try{const _0x4b4050=doc(db,'artifacts/'+appId+_0x29f8d7(0x785),currentProjectId),_0x2248d6=await getDoc(_0x4b4050);if(_0x2248d6[_0x29f8d7(0x5f0)]()){const _0x1d8f07=_0x2248d6[_0x29f8d7(0x58c)]()['students']||[],_0xd1b9af=[...new Set([..._0x1d8f07,..._0x7b9157])];await updateDoc(_0x4b4050,{'students':_0xd1b9af}),_0x2f5e1e[_0x29f8d7(0x54e)]='';}}catch(_0x383f4b){console[_0x29f8d7(0x7d6)](_0x29f8d7(0x164),_0x383f4b),showMessage(_0x29f8d7(0x78e));}});async function handleManualQuizPairing(_0x6af02a){const _0x3d68f9=_0x56afb4,_0x39fb11=document[_0x3d68f9(0x574)](_0x3d68f9(0x3c4)),_0x1e6f92=document[_0x3d68f9(0x574)](_0x3d68f9(0x698)),_0x2ade59=_0x39fb11['querySelector']('h3'),_0x55b960=document['getElementById']('confirm-move-quiz-btn'),_0x50cccf=document[_0x3d68f9(0x574)](_0x3d68f9(0x333));_0x2ade59[_0x3d68f9(0x46f)]=_0x3d68f9(0x765),_0x1e6f92[_0x3d68f9(0x8a3)]=_0x3d68f9(0x412),_0x55b960[_0x3d68f9(0x46f)]=_0x3d68f9(0x419),_0x39fb11[_0x3d68f9(0x92b)][_0x3d68f9(0x112)](_0x3d68f9(0x384));const _0xcd1f1=allQuizzes[_0x3d68f9(0x13b)](_0x554966=>_0x554966['id']!==_0x6af02a);_0xcd1f1[_0x3d68f9(0x261)]===0x0?(_0x1e6f92[_0x3d68f9(0x8a3)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x55b960[_0x3d68f9(0x4b9)]=!![]):(_0x1e6f92['innerHTML']=_0x3d68f9(0x575)+_0xcd1f1[_0x3d68f9(0x757)](_0x3d8806=>_0x3d68f9(0x45c)+_0x3d8806['id']+'\x22>'+_0x3d8806['topic']+_0x3d68f9(0x3a3))[_0x3d68f9(0x919)](''),_0x55b960['disabled']=![]);const _0x55dc7e=async()=>{const _0x2decde=_0x3d68f9,_0x504279=_0x1e6f92[_0x2decde(0x54e)];if(!_0x504279){showMessage(_0x2decde(0x15b));return;}_0x55b960['disabled']=!![],_0x55b960[_0x2decde(0x46f)]=_0x2decde(0x24e);try{const _0x3fece5=doc(db,'artifacts/'+appId+_0x2decde(0x444),_0x6af02a),_0x54bc5d=doc(db,'artifacts/'+appId+_0x2decde(0x444),_0x504279),_0x3c1094=writeBatch(db);_0x3c1094[_0x2decde(0xdc)](_0x3fece5,{'pairedQuizId':_0x504279}),_0x3c1094['update'](_0x54bc5d,{'pairedQuizId':_0x6af02a}),await _0x3c1094[_0x2decde(0x508)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x39fb11[_0x2decde(0x92b)][_0x2decde(0x3fa)]('hidden');}catch(_0x46e5fd){console[_0x2decde(0x7d6)](_0x2decde(0x81c),_0x46e5fd),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x2ade59['textContent']=_0x2decde(0x663),_0x55b960[_0x2decde(0x46f)]=_0x2decde(0x5cb),_0x55b960[_0x2decde(0x4b9)]=![],_0x55b960[_0x2decde(0xd5)](_0x2decde(0x811),_0x55dc7e),_0x50cccf['removeEventListener'](_0x2decde(0x811),_0x1e78f0);}},_0x1e78f0=()=>{const _0x904ebb=_0x3d68f9;_0x39fb11[_0x904ebb(0x92b)][_0x904ebb(0x3fa)](_0x904ebb(0x384)),_0x2ade59['textContent']=_0x904ebb(0x663),_0x55b960[_0x904ebb(0x46f)]=_0x904ebb(0x5cb),_0x55b960['removeEventListener']('click',_0x55dc7e),_0x50cccf[_0x904ebb(0xd5)](_0x904ebb(0x811),_0x1e78f0);};_0x55b960[_0x3d68f9(0xf2)]('click',_0x55dc7e),_0x50cccf[_0x3d68f9(0xf2)](_0x3d68f9(0x811),_0x1e78f0);}function handleDeleteStudent(_0x36ebdf){const _0x59b913=_0x56afb4;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x36ebdf+_0x59b913(0x12e),async()=>{const _0x258f74=_0x59b913;if(!currentProjectId||!currentProjectData)return;const _0x34d2a8=currentProjectData[_0x258f74(0x3b2)][_0x258f74(0x13b)](_0xd90a3f=>_0xd90a3f!==_0x36ebdf);try{const _0x5dcc8a=doc(db,_0x258f74(0x58f)+appId+_0x258f74(0x785),currentProjectId),_0x3005d1=doc(db,_0x258f74(0x58f)+appId+'/public/data/projects/'+currentProjectId+_0x258f74(0x17b),_0x36ebdf),_0x309342=writeBatch(db);_0x309342[_0x258f74(0xdc)](_0x5dcc8a,{'students':_0x34d2a8}),_0x309342[_0x258f74(0x751)](_0x3005d1),await _0x309342[_0x258f74(0x508)]();}catch(_0x41eb43){console['error']('Error\x20deleting\x20student:',_0x41eb43),showMessage(_0x258f74(0x554));}});}function handleDeleteAllStudents(){const _0x29d751=_0x56afb4;showConfirmation(_0x29d751(0x39d),async()=>{const _0x1b2591=_0x29d751;if(!currentProjectId)return;try{const _0x154f33=doc(db,_0x1b2591(0x58f)+appId+_0x1b2591(0x785),currentProjectId),_0x5a9cd1=collection(db,_0x1b2591(0x58f)+appId+_0x1b2591(0x59f)+currentProjectId+'/studentProfiles'),_0x377ac5=await getDocs(_0x5a9cd1),_0x2c0ac6=writeBatch(db);_0x2c0ac6['update'](_0x154f33,{'students':[]}),_0x377ac5['forEach'](_0x515c67=>_0x2c0ac6[_0x1b2591(0x751)](_0x515c67[_0x1b2591(0x54b)])),await _0x2c0ac6[_0x1b2591(0x508)]();}catch(_0x4f5b87){console[_0x1b2591(0x7d6)](_0x1b2591(0x1a9),_0x4f5b87),showMessage(_0x1b2591(0x932));}});}async function handleGenerateFromFileClick(){const _0x371253=_0x56afb4;if(!selectedFile){showMessage(_0x371253(0x605));return;}const _0x1afbf6=document[_0x371253(0x574)]('loader'),_0x3bd95b=document[_0x371253(0x574)](_0x371253(0x405)),_0x5b175a=document[_0x371253(0x574)](_0x371253(0x1c7)),_0x566dc5=document[_0x371253(0x574)]('generate-from-file-btn');_0x566dc5['disabled']=!![],document[_0x371253(0x574)]('quiz-generation-area')[_0x371253(0x92b)][_0x371253(0x112)](_0x371253(0x384)),_0x5b175a['innerHTML']='',_0x1afbf6[_0x371253(0x92b)][_0x371253(0x112)](_0x371253(0x384)),_0x3bd95b['textContent']='กำลังอ่านและเตรียมไฟล์...';const _0x3f8f46=new FileReader();_0x3f8f46[_0x371253(0x926)](selectedFile),_0x3f8f46[_0x371253(0x5db)]=async()=>{const _0x41d35d=_0x371253;try{const _0xebff89=_0x3f8f46[_0x41d35d(0x634)][_0x41d35d(0x728)](',')[0x1],_0x31e9ce=selectedFile[_0x41d35d(0xd1)];await generateQuizFromFile(_0x31e9ce,_0xebff89);}catch(_0x515149){console[_0x41d35d(0x7d6)](_0x41d35d(0x2af),_0x515149),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x515149[_0x41d35d(0x69a)]),_0x1afbf6[_0x41d35d(0x92b)][_0x41d35d(0x3fa)](_0x41d35d(0x384));}finally{}},_0x3f8f46[_0x371253(0x29a)]=_0x533472=>{const _0x165db8=_0x371253;console['error'](_0x165db8(0x893),_0x533472),showMessage(_0x165db8(0x114)),_0x1afbf6[_0x165db8(0x92b)][_0x165db8(0x3fa)](_0x165db8(0x384)),_0x566dc5[_0x165db8(0x4b9)]=![];};}function autoFormatMath(_0x16f6be){const _0x2c4239=_0x56afb4;if(typeof _0x16f6be!==_0x2c4239(0x8a0)||!_0x16f6be)return _0x16f6be;const _0x176c90=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x1e893d=_0x16f6be['replace'](_0x176c90,_0x1aff91=>{const _0x12ee4a=_0x2c4239;return'$'+_0x1aff91[_0x12ee4a(0x4b1)]()+'$';});return _0x1e893d;}function sanitizeQuizData(_0x957b52){const _0x3d6945=_0x56afb4;if(!_0x957b52||!_0x957b52['questions'])return _0x957b52;const _0x41add2={'imes':_0x3d6945(0x635),'div':'\x5cdiv'},_0x235759=_0x5da11e=>{const _0x75f939=_0x3d6945;if(typeof _0x5da11e!=='string')return _0x5da11e;let _0x41000a=_0x5da11e;for(const [_0x247c02,_0x51446b]of Object[_0x75f939(0x37d)](_0x41add2)){const _0x309a8e=new RegExp('\x5cb'+_0x247c02+'\x5cb','g');_0x41000a=_0x41000a[_0x75f939(0x840)](_0x309a8e,_0x51446b);}return _0x41000a=_0x41000a['replace'](/\\\//g,_0x75f939(0x3fe)),_0x41000a=_0x41000a['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x75f939(0x840)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x75f939(0x635))[_0x75f939(0x840)](/÷/g,_0x75f939(0x3fe))[_0x75f939(0x840)](/×/g,'\x5ctimes'),_0x41000a=_0x41000a['replace'](/(\d)(\\frac)/g,_0x75f939(0x894)),_0x41000a=autoFormatMath(_0x41000a),_0x41000a;};return _0x957b52[_0x3d6945(0x111)]&&(_0x957b52[_0x3d6945(0x111)]=_0x235759(_0x957b52[_0x3d6945(0x111)])),_0x957b52[_0x3d6945(0x7d5)]['forEach'](_0x343d44=>{const _0x236775=_0x3d6945;_0x343d44[_0x236775(0x53e)]=_0x235759(_0x343d44[_0x236775(0x53e)]),_0x343d44['options']&&(_0x343d44[_0x236775(0x721)]=_0x343d44[_0x236775(0x721)][_0x236775(0x757)](_0x235759)),_0x343d44[_0x236775(0x461)]&&(_0x343d44[_0x236775(0x461)]=_0x235759(_0x343d44[_0x236775(0x461)])),_0x343d44[_0x236775(0x4a3)]&&(_0x343d44[_0x236775(0x4a3)]=_0x235759(_0x343d44[_0x236775(0x4a3)])),_0x343d44[_0x236775(0x3aa)]&&(_0x343d44[_0x236775(0x3aa)]=_0x235759(_0x343d44[_0x236775(0x3aa)])),_0x343d44[_0x236775(0x1c1)]&&(_0x343d44[_0x236775(0x1c1)]=_0x343d44[_0x236775(0x1c1)]['map'](_0x235759));}),_0x957b52;}const simpleMathPrompt=_0x56afb4(0x5c0);async function handleGenerateFromLink(){const _0x1b19c7=_0x56afb4,_0x2d8acb=document[_0x1b19c7(0x574)](_0x1b19c7(0x6ac)),_0xe3e94f=document[_0x1b19c7(0x574)](_0x1b19c7(0x316)),_0x5599e9=_0x2d8acb[_0x1b19c7(0x54e)][_0x1b19c7(0x4b1)](),_0x4f9e5d=_0xe3e94f[_0x1b19c7(0x54e)][_0x1b19c7(0x4b1)]();if(!_0x5599e9){showMessage(_0x1b19c7(0x8a1));return;}const _0xf20767=document['getElementById']('loader'),_0x5a038b=document[_0x1b19c7(0x574)]('loader-text'),_0x30dafa=document[_0x1b19c7(0x574)](_0x1b19c7(0x1c7)),_0x5766a9=document[_0x1b19c7(0x574)]('generate-from-link-btn');document[_0x1b19c7(0x574)](_0x1b19c7(0x5b2))['classList'][_0x1b19c7(0x112)](_0x1b19c7(0x384)),_0x30dafa[_0x1b19c7(0x8a3)]='',_0xf20767[_0x1b19c7(0x92b)][_0x1b19c7(0x112)](_0x1b19c7(0x384)),_0x5a038b[_0x1b19c7(0x46f)]=_0x1b19c7(0x54d),_0x5766a9[_0x1b19c7(0x4b9)]=!![];try{const _0x18499a=_0x1b19c7(0x686)+encodeURIComponent(_0x5599e9),_0x3256ad=await fetch(_0x18499a);if(!_0x3256ad['ok'])throw new Error(_0x1b19c7(0x8de)+_0x3256ad[_0x1b19c7(0x651)]+')');const _0x52473a=await _0x3256ad['text'](),_0x2837aa=extractTextFromHtml(_0x52473a);if(!_0x2837aa||_0x2837aa['length']<0x64)throw new Error(_0x1b19c7(0x892));await generateQuiz(_0x4f9e5d,_0x2837aa);}catch(_0xfe41a2){console['error'](_0x1b19c7(0x611),_0xfe41a2),showMessage(_0x1b19c7(0x23b)+_0xfe41a2[_0x1b19c7(0x69a)]),_0x30dafa[_0x1b19c7(0x8a3)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0xf20767[_0x1b19c7(0x92b)][_0x1b19c7(0x3fa)]('hidden'),_0x5766a9[_0x1b19c7(0x4b9)]=![];}}function extractTextFromHtml(_0x3ed5ed){const _0x207159=_0x56afb4,_0x5f1666=new DOMParser()[_0x207159(0x352)](_0x3ed5ed,_0x207159(0x918));return _0x5f1666['querySelectorAll'](_0x207159(0x8f9))[_0x207159(0x293)](_0xe4d695=>_0xe4d695['remove']()),_0x5f1666[_0x207159(0x71d)][_0x207159(0x46f)]||'';}document[_0x56afb4(0x574)](_0x56afb4(0x502))[_0x56afb4(0xf2)](_0x56afb4(0x811),()=>{const _0x37b49f=_0x56afb4,_0x5eef46=document[_0x37b49f(0x574)](_0x37b49f(0x553))[_0x37b49f(0x54e)][_0x37b49f(0x4b1)]();generateQuiz(_0x5eef46,null);}),document[_0x56afb4(0x574)](_0x56afb4(0x59c))[_0x56afb4(0xf2)](_0x56afb4(0x811),()=>{const _0xb7e6b9=_0x56afb4,_0x1be438=document[_0xb7e6b9(0x574)](_0xb7e6b9(0x4fc))['value']['trim']();if(!_0x1be438){showMessage(_0xb7e6b9(0x138));return;}const _0x529734=document[_0xb7e6b9(0x574)](_0xb7e6b9(0x553))[_0xb7e6b9(0x54e)][_0xb7e6b9(0x4b1)]();generateQuiz(_0x529734,_0x1be438);});async function generateQuiz(_0x3626e5,_0x184a88,_0x3d62cf=null){const _0x529e07=_0x56afb4,_0x21ef48=document[_0x529e07(0x574)](_0x529e07(0x282))[_0x529e07(0x5dd)],_0x55bceb=document[_0x529e07(0x574)](_0x529e07(0x4b5))['value'],_0x1121b9=document[_0x529e07(0x574)](_0x529e07(0x1ac))['value'],_0x186139=document['getElementById'](_0x529e07(0x44a))['value'],_0x2f79d3=document[_0x529e07(0x574)]('force-math-checkbox')[_0x529e07(0x5dd)],_0xb7f00b=_0x2f79d3?'':'คณิตศาสตร์',_0x12d2fb=document[_0x529e07(0x574)](_0x529e07(0x60c)),_0x484986=_0x12d2fb[_0x529e07(0x54e)];let _0x4ddf3d='';_0x484986!==_0x529e07(0x2fa)&&(_0x4ddf3d='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x484986+'\x22');const _0x1166ea=document[_0x529e07(0x574)](_0x529e07(0x125)),_0x489c4b=_0x1166ea[_0x529e07(0x54e)];let _0x3abb67='';_0x489c4b!==_0x529e07(0x154)&&(_0x3abb67=_0x529e07(0x5b6)+_0x489c4b+_0x529e07(0x68a));const _0x4fb1f5=document[_0x529e07(0x706)](_0x529e07(0x79f)),_0x471096=Array[_0x529e07(0x7eb)](_0x4fb1f5)[_0x529e07(0x757)](_0x38c7bb=>_0x38c7bb[_0x529e07(0x54e)]);let _0x5ad6ba='';_0x471096[_0x529e07(0x261)]>0x0&&(_0x5ad6ba=_0x529e07(0x72a)+_0x471096[_0x529e07(0x919)](',\x20')+_0x529e07(0x787));let _0xe41b7='',_0x7327f3='',_0x9b1dab,_0x5395f7=_0x529e07(0x35b)+_0x3626e5+'\x22';if(!_0x3626e5&&_0x184a88)_0x5395f7=_0x529e07(0x2ba);else!_0x3626e5&&!_0x184a88&&(_0x5395f7=_0x529e07(0x55f));const _0x2544eb={'type':_0x529e07(0x8b5),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x529e07(0x60e),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x529e07(0x7d1)},'imageCode':{'type':'STRING'}},'required':[_0x529e07(0x53e),_0x529e07(0x721),_0x529e07(0x800),'explanation']},_0x3286c8={'type':_0x529e07(0x8b5),'properties':{'questionText':{'type':_0x529e07(0x7d1)},'idealAnswer':{'type':_0x529e07(0x7d1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x529e07(0x7d1)}},'required':[_0x529e07(0x53e),'idealAnswer',_0x529e07(0x461)]},_0x4574bc={'type':_0x529e07(0x8b5),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x529e07(0x899),_0x529e07(0x62b)]},'options':{'type':'ARRAY','items':{'type':_0x529e07(0x7d1)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x529e07(0x7d1)},'imageCode':{'type':_0x529e07(0x7d1)}},'required':[_0x529e07(0x53e),_0x529e07(0x4b8),_0x529e07(0x461)]},_0x19861c={'type':_0x529e07(0x8b5),'properties':{'questionText':{'type':_0x529e07(0x7d1)},'correctAnswer':{'type':_0x529e07(0x81a)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x529e07(0x7d1)}},'required':[_0x529e07(0x53e),'correctAnswer','explanation']},_0x3241bd={'type':_0x529e07(0x8b5),'properties':{'questionType':{'type':_0x529e07(0x7d1),'enum':[_0x529e07(0x3ed)]},'stem':{'type':_0x529e07(0x7d1)},'correctResponse':{'type':_0x529e07(0x7d1)},'allResponses':{'type':_0x529e07(0x60e),'items':{'type':'STRING'}},'explanation':{'type':_0x529e07(0x7d1)},'imageCode':{'type':'STRING'}},'required':[_0x529e07(0x4b8),_0x529e07(0x4a3),_0x529e07(0x3aa),'allResponses',_0x529e07(0x461)]};let _0x40a2a6;if(_0x3d62cf!==null){const _0x487fdb=currentQuizData[_0x529e07(0x7d5)][_0x3d62cf]['questionType'],_0x4c2628=_0x21ef48?_0x529e07(0x879):'';_0xe41b7=_0x529e07(0x588)+_0x5395f7+'\x20'+_0x5ad6ba+'\x20'+_0x4ddf3d+_0x529e07(0x43a)+_0x4c2628+'\x20'+simpleMathPrompt;if(_0x487fdb==='multiple_choice')_0x9b1dab=_0x2544eb;else{if(_0x487fdb===_0x529e07(0x3ed))_0x9b1dab={'type':_0x529e07(0x8b5),'properties':{'questionType':{'type':_0x529e07(0x7d1),'enum':[_0x529e07(0x3ed)]},'stem':{'type':_0x529e07(0x7d1)},'correctResponse':{'type':_0x529e07(0x7d1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x529e07(0x7d1)}},'required':[_0x529e07(0x4b8),'stem',_0x529e07(0x3aa),_0x529e07(0x461)]};else _0x9b1dab=_0x3286c8;}_0x40a2a6=_0x9b1dab;}else{const _0x293f83=_0x21ef48?_0x529e07(0x642):'',_0x1d1e99=_0x529e07(0x3bc);switch(_0x55bceb){case _0x529e07(0x899):_0xe41b7=_0x529e07(0x484)+_0xb7f00b+'\x20'+_0x1121b9+_0x529e07(0x633)+_0x5395f7+'\x20'+_0x5ad6ba+'\x20'+_0x4ddf3d+'\x20'+_0x3abb67+_0x529e07(0x359)+_0x186139+_0x529e07(0x7a5)+_0x293f83+'\x20'+simpleMathPrompt,_0x9b1dab=_0x2544eb;break;case'fill_in_with_choices':_0xe41b7=_0x529e07(0x483)+_0xb7f00b+'\x20'+_0x1121b9+_0x529e07(0x633)+_0x5395f7+'\x20'+_0x5ad6ba+'\x20'+_0x4ddf3d+'\x20'+_0x3abb67+_0x529e07(0x5fd)+_0x186139+_0x529e07(0x410)+_0x293f83+'\x20'+simpleMathPrompt,_0x9b1dab=_0x2544eb;break;case'fill_in_no_choices':_0xe41b7=_0x529e07(0x483)+_0xb7f00b+'\x20'+_0x1121b9+'\x20ข้อ\x20'+_0x5395f7+'\x20'+_0x5ad6ba+'\x20'+_0x4ddf3d+'\x20'+_0x3abb67+_0x529e07(0x831)+_0x293f83+'\x20'+simpleMathPrompt,_0x9b1dab=_0x3286c8;break;case'mixed':_0xe41b7=_0x529e07(0x4c0)+_0xb7f00b+'\x20'+_0x1121b9+_0x529e07(0x633)+_0x5395f7+'\x20'+_0x5ad6ba+'\x20'+_0x4ddf3d+'\x20'+_0x3abb67+_0x529e07(0x6b3)+_0x186139+'\x20ตัวเลือก.\x20'+_0x293f83+'\x20'+simpleMathPrompt+'.',_0x9b1dab=_0x4574bc;break;case _0x529e07(0x89d):_0xe41b7=_0x529e07(0x88d)+_0xb7f00b+'\x20'+_0x1121b9+_0x529e07(0x633)+_0x5395f7+'\x20'+_0x5ad6ba+'\x20'+_0x4ddf3d+'\x20'+_0x3abb67+_0x529e07(0x119)+_0x293f83+'\x20'+simpleMathPrompt,_0x9b1dab=_0x19861c;break;case'matching':_0xe41b7='สร้างชุดคำถามจับคู่'+_0xb7f00b+'\x20'+_0x1121b9+'\x20คู่\x20'+_0x5395f7+'\x20'+_0x5ad6ba+'\x20'+_0x4ddf3d+'\x20'+_0x3abb67+_0x529e07(0x5f1)+_0x293f83+'\x20'+simpleMathPrompt,_0x9b1dab=_0x3241bd;break;}_0x40a2a6={'type':_0x529e07(0x8b5),'properties':{'topic':{'type':_0x529e07(0x7d1)},'questions':{'type':'ARRAY','items':_0x9b1dab}},'required':[_0x529e07(0x111),_0x529e07(0x7d5)]};}return _0x184a88?(_0xe41b7=_0x529e07(0x10e)+_0x184a88+_0x529e07(0x215)+_0xe41b7,_0x7327f3=_0x529e07(0x5d7)):_0x7327f3=_0x529e07(0x108),handleApiCall(_0xe41b7,_0x7327f3,_0x40a2a6,_0x3d62cf);}async function generateQuizFromFile(_0x22b919,_0x5f55dc){const _0x1e1895=_0x56afb4,_0x1263af=document[_0x1e1895(0x574)]('file-topic-input')[_0x1e1895(0x54e)][_0x1e1895(0x4b1)](),_0x5d4657=document[_0x1e1895(0x574)](_0x1e1895(0x4b5))[_0x1e1895(0x54e)],_0x56d3e9=document[_0x1e1895(0x574)](_0x1e1895(0x1ac))[_0x1e1895(0x54e)],_0x586895=document[_0x1e1895(0x574)](_0x1e1895(0x44a))[_0x1e1895(0x54e)],_0x444456=document[_0x1e1895(0x574)](_0x1e1895(0x282))[_0x1e1895(0x5dd)],_0xc9951e=document[_0x1e1895(0x574)](_0x1e1895(0x4ec))[_0x1e1895(0x5dd)],_0x595133=_0xc9951e?'':'คณิตศาสตร์';let _0x2b28e4='',_0x54d1e5,_0x58b488=_0x1e1895(0x35b)+_0x1263af+'\x22';!_0x1263af&&(_0x58b488=_0x1e1895(0x770));const _0x35a0c1=_0x444456?_0x1e1895(0x642):'';switch(_0x5d4657){case _0x1e1895(0x899):_0x2b28e4=_0x1e1895(0x484)+_0x595133+'\x20'+_0x56d3e9+_0x1e1895(0x633)+_0x58b488+_0x1e1895(0x359)+_0x586895+_0x1e1895(0x7a5)+_0x35a0c1+'\x20'+simpleMathPrompt,_0x54d1e5={'type':_0x1e1895(0x8b5),'properties':{'questionText':{'type':_0x1e1895(0x7d1)},'options':{'type':_0x1e1895(0x60e),'items':{'type':_0x1e1895(0x7d1)}},'correctAnswerIndex':{'type':_0x1e1895(0x795)},'explanation':{'type':_0x1e1895(0x7d1)},'imageCode':{'type':'STRING'}},'required':[_0x1e1895(0x53e),_0x1e1895(0x721),_0x1e1895(0x800),'explanation']};break;case _0x1e1895(0x85e):_0x2b28e4=_0x1e1895(0x483)+_0x595133+'\x20'+_0x56d3e9+'\x20ข้อ\x20'+_0x58b488+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x586895+_0x1e1895(0x410)+_0x35a0c1+'\x20'+simpleMathPrompt,_0x54d1e5={'type':_0x1e1895(0x8b5),'properties':{'questionText':{'type':_0x1e1895(0x7d1)},'options':{'type':_0x1e1895(0x60e),'items':{'type':_0x1e1895(0x7d1)}},'correctAnswerIndex':{'type':_0x1e1895(0x795)},'explanation':{'type':_0x1e1895(0x7d1)},'imageCode':{'type':_0x1e1895(0x7d1)}},'required':['questionText',_0x1e1895(0x721),_0x1e1895(0x800),_0x1e1895(0x461)]};break;case'fill_in_no_choices':_0x2b28e4=_0x1e1895(0x483)+_0x595133+'\x20'+_0x56d3e9+_0x1e1895(0x633)+_0x58b488+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x35a0c1+'\x20'+simpleMathPrompt,_0x54d1e5={'type':_0x1e1895(0x8b5),'properties':{'questionText':{'type':_0x1e1895(0x7d1)},'idealAnswer':{'type':_0x1e1895(0x7d1)},'explanation':{'type':_0x1e1895(0x7d1)},'imageCode':{'type':_0x1e1895(0x7d1)}},'required':['questionText',_0x1e1895(0x66a),'explanation']};break;case _0x1e1895(0x154):_0x2b28e4=_0x1e1895(0x4c0)+_0x595133+'\x20'+_0x56d3e9+_0x1e1895(0x633)+_0x58b488+_0x1e1895(0x8df)+_0x586895+'\x20ตัวเลือก.\x20'+_0x35a0c1+'\x20'+simpleMathPrompt+_0x1e1895(0x745),_0x54d1e5={'type':_0x1e1895(0x8b5),'properties':{'questionText':{'type':_0x1e1895(0x7d1)},'questionType':{'type':'STRING','enum':[_0x1e1895(0x899),'short_answer']},'options':{'type':'ARRAY','items':{'type':_0x1e1895(0x7d1)}},'correctAnswerIndex':{'type':_0x1e1895(0x795)},'idealAnswer':{'type':_0x1e1895(0x7d1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1e1895(0x7d1)}},'required':['questionText',_0x1e1895(0x4b8),_0x1e1895(0x461)]};break;case _0x1e1895(0x89d):_0x2b28e4=_0x1e1895(0x88d)+_0x595133+'\x20'+_0x56d3e9+_0x1e1895(0x633)+_0x58b488+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x35a0c1+'\x20'+simpleMathPrompt,_0x54d1e5={'type':_0x1e1895(0x8b5),'properties':{'questionText':{'type':_0x1e1895(0x7d1)},'correctAnswer':{'type':_0x1e1895(0x81a)},'explanation':{'type':_0x1e1895(0x7d1)},'imageCode':{'type':_0x1e1895(0x7d1)}},'required':[_0x1e1895(0x53e),_0x1e1895(0x53b),_0x1e1895(0x461)]};break;case _0x1e1895(0x1cd):_0x2b28e4=_0x1e1895(0x5a0)+_0x595133+'\x20'+_0x56d3e9+_0x1e1895(0x5d0)+_0x58b488+_0x1e1895(0x878)+_0x56d3e9+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x35a0c1+'\x20'+simpleMathPrompt,_0x54d1e5={'type':'OBJECT','properties':{'questionType':{'type':_0x1e1895(0x7d1),'enum':[_0x1e1895(0x3ed)]},'stem':{'type':_0x1e1895(0x7d1)},'correctResponse':{'type':_0x1e1895(0x7d1)},'allResponses':{'type':_0x1e1895(0x60e),'items':{'type':'STRING'}},'explanation':{'type':_0x1e1895(0x7d1)},'imageCode':{'type':_0x1e1895(0x7d1)}},'required':[_0x1e1895(0x4b8),'stem',_0x1e1895(0x3aa),_0x1e1895(0x1c1),_0x1e1895(0x461)]};break;}const _0x4a595e={'type':_0x1e1895(0x8b5),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1e1895(0x60e),'items':_0x54d1e5}},'required':['topic',_0x1e1895(0x7d5)]},_0x56f31f='จากไฟล์ที่แนบมานี้,\x20'+_0x2b28e4,_0xf57648={'contents':[{'parts':[{'text':_0x56f31f},{'inlineData':{'mimeType':_0x22b919,'data':_0x5f55dc}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x4a595e}};return handleApiCall(_0xf57648[_0x1e1895(0x920)][0x0][_0x1e1895(0x839)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x4a595e);}async function handleApiCall(_0x4c55b3,_0x1050eb,_0x2ad92b,_0x472808=null){const _0x230251=_0x56afb4,_0x1e9ceb=document[_0x230251(0x574)](_0x230251(0x5b2)),_0xfcd2e0=document['getElementById'](_0x230251(0x5ee)),_0xf2bcb3=document[_0x230251(0x574)]('loader-text'),_0x123738=document[_0x230251(0x574)](_0x230251(0x1c7));_0x1e9ceb['classList']['remove'](_0x230251(0x384));_0x472808===null&&(_0x123738[_0x230251(0x8a3)]='');_0xfcd2e0[_0x230251(0x92b)][_0x230251(0x112)]('hidden'),_0xf2bcb3[_0x230251(0x46f)]=_0x1050eb,document[_0x230251(0x574)](_0x230251(0x502))[_0x230251(0x4b9)]=!![],document[_0x230251(0x574)]('generate-from-text-btn')[_0x230251(0x4b9)]=!![],document[_0x230251(0x574)](_0x230251(0x301))[_0x230251(0x4b9)]=!![];try{const _0x1cd762={'responseMimeType':_0x230251(0x8d5),'responseSchema':_0x2ad92b},_0x1f4507=Array[_0x230251(0x22d)](_0x4c55b3)?_0x4c55b3:[{'text':_0x4c55b3}],_0x5542db={'contents':[{'role':_0x230251(0x3f6),'parts':_0x1f4507}],'generationConfig':_0x1cd762},_0x54af7f=_0x230251(0xe7),_0xbf47ae='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x54af7f,_0x166dee=await fetch(_0xbf47ae,{'method':_0x230251(0x7ce),'headers':{'Content-Type':_0x230251(0x8d5)},'body':JSON[_0x230251(0x224)](_0x5542db)});if(!_0x166dee['ok'])throw new Error(_0x230251(0x72b)+_0x166dee[_0x230251(0x651)]);const _0x666b4f=await _0x166dee[_0x230251(0x712)]();if(_0x666b4f[_0x230251(0x4f7)]?.[0x0]?.[_0x230251(0x6c5)]?.[_0x230251(0x839)]?.[0x0]){let _0x317529=_0x666b4f[_0x230251(0x4f7)][0x0][_0x230251(0x6c5)][_0x230251(0x839)][0x0][_0x230251(0x28f)],_0x148c73;try{if(_0x317529['startsWith'](_0x230251(0x8e2)))_0x317529=_0x317529[_0x230251(0x5f9)](0x7,_0x317529[_0x230251(0x261)]-0x3)['trim']();else _0x317529[_0x230251(0x55a)]('```')&&(_0x317529=_0x317529[_0x230251(0x5f9)](0x3,_0x317529[_0x230251(0x261)]-0x3)[_0x230251(0x4b1)]());_0x148c73=JSON[_0x230251(0x317)](_0x317529);}catch(_0x111f64){console[_0x230251(0x7d6)](_0x230251(0x2d4),_0x111f64,_0x317529);throw new Error(_0x230251(0x7bf));}if(_0x472808!==null){if(_0x148c73[_0x230251(0x4b8)]===_0x230251(0x3ed)){const _0x5cf7db=currentQuizData[_0x230251(0x7d5)][_0x230251(0x757)](_0x514da3=>_0x514da3[_0x230251(0x3aa)]);_0x148c73[_0x230251(0x1c1)]=_0x5cf7db;const _0x56325c=currentQuizData[_0x230251(0x7d5)][_0x472808][_0x230251(0x3aa)],_0x516f4d=_0x5cf7db[_0x230251(0x271)](_0x56325c);_0x516f4d>-0x1&&(_0x5cf7db[_0x516f4d]=_0x148c73[_0x230251(0x3aa)]),currentQuizData['questions'][_0x230251(0x293)](_0x5a2d3d=>{const _0x33d40c=_0x230251;if(_0x5a2d3d[_0x33d40c(0x4b8)]===_0x33d40c(0x3ed))_0x5a2d3d['allResponses']=_0x5cf7db;});}currentQuizData['questions'][_0x472808]=_0x148c73,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x148c73;const _0x4937c4=document[_0x230251(0x574)](_0x230251(0x4b5))[_0x230251(0x54e)];currentQuizData[_0x230251(0x185)]=_0x4937c4,currentQuizData[_0x230251(0x7d5)]&&currentQuizData[_0x230251(0x7d5)][_0x230251(0x293)](_0x117150=>{const _0x41dd91=_0x230251;if(!_0x117150['questionType']){if(_0x4937c4==='fill_in_with_choices')_0x117150[_0x41dd91(0x4b8)]='multiple_choice';else _0x4937c4===_0x41dd91(0x124)?_0x117150[_0x41dd91(0x4b8)]=_0x41dd91(0x62b):_0x117150[_0x41dd91(0x4b8)]=_0x4937c4;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x230251(0x7d6)]('Invalid\x20response\x20structure\x20from\x20AI:',JSON[_0x230251(0x224)](_0x666b4f));throw new Error(_0x230251(0x7bf));}}catch(_0xdc1425){console[_0x230251(0x7d6)]('Error\x20generating\x20quiz:',_0xdc1425),showMessage(_0x230251(0x4a6)),_0x472808===null&&(_0x123738[_0x230251(0x8a3)]=_0x230251(0x1e9));}finally{_0xfcd2e0[_0x230251(0x92b)]['add'](_0x230251(0x384)),document['getElementById']('generate-from-topic-btn')['disabled']=![],document[_0x230251(0x574)]('generate-from-text-btn')[_0x230251(0x4b9)]=![],document[_0x230251(0x574)](_0x230251(0x301))[_0x230251(0x4b9)]=![];const _0x2eead9=document[_0x230251(0x574)](_0x230251(0x20a));_0x2eead9&&(_0x2eead9[_0x230251(0x4b9)]=![]);}}function exitFullscreen(){const _0x4c4fdb=_0x56afb4;if(document[_0x4c4fdb(0x749)])document['exitFullscreen']()['catch'](_0x20355b=>console[_0x4c4fdb(0x7d6)](_0x20355b));else{if(document['webkitExitFullscreen'])document['webkitExitFullscreen']();else document['msExitFullscreen']&&document[_0x4c4fdb(0x481)]();}}function enterFullscreen(){const _0x5b1fcc=_0x56afb4,_0x5f5986=document['documentElement'];if(_0x5f5986[_0x5b1fcc(0x3d3)])_0x5f5986[_0x5b1fcc(0x3d3)]()[_0x5b1fcc(0x20c)](_0x4427d9=>{const _0x12605c=_0x5b1fcc;console['error'](_0x12605c(0x841)+_0x4427d9[_0x12605c(0x69a)]+'\x20('+_0x4427d9[_0x12605c(0x79e)]+')');});else{if(_0x5f5986[_0x5b1fcc(0x598)])_0x5f5986['webkitRequestFullscreen']();else _0x5f5986[_0x5b1fcc(0x5f8)]&&_0x5f5986['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x359fb9=_0x56afb4;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x359fb9(0x14a),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x359fb9(0x5ba)+maxCheatAttempts+_0x359fb9(0x2c3)),document[_0x359fb9(0x574)](_0x359fb9(0x718))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x359fb9(0x8bf),handleVisibilityChange),document[_0x359fb9(0xd5)](_0x359fb9(0x26e),handleFullscreenChange)):showMessage(_0x359fb9(0x7fc)+cheatAttempts+'/'+maxCheatAttempts+_0x359fb9(0x7e7),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x11c621=_0x56afb4;if(currentMode===_0x11c621(0x278)||!isQuizActive)return;if(document[_0x11c621(0x8d6)]===_0x11c621(0x384))handleCheatingEvent();else document[_0x11c621(0x8d6)]===_0x11c621(0x2b9)&&(console[_0x11c621(0x854)](_0x11c621(0x51f)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){if(currentMode==='admin-testing'||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4970cd){const _0x47e89c=_0x56afb4,_0x4c45d7=document[_0x47e89c(0x574)]('generated-quiz-container');let _0x54f909=_0x47e89c(0x491)+_0x4970cd[_0x47e89c(0x111)]+_0x47e89c(0x762);_0x4970cd[_0x47e89c(0x7d5)][_0x47e89c(0x293)]((_0x18b35d,_0x38d84d)=>{const _0x2127a8=_0x47e89c;!_0x18b35d['id']&&(_0x18b35d['id']='q_'+Date[_0x2127a8(0x5de)]()+'_'+_0x38d84d);const _0xafd6fc=_0x18b35d[_0x2127a8(0x4b8)]||_0x4970cd[_0x2127a8(0x185)];_0x54f909+=_0x2127a8(0x465)+_0x38d84d+_0x2127a8(0x173)+_0x38d84d+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x38d84d+_0x2127a8(0x189)+_0x38d84d+_0x2127a8(0x5ce);switch(_0xafd6fc){case _0x2127a8(0x3ed):_0x54f909+=_0x2127a8(0x160)+_0x38d84d+'\x22>'+(_0x38d84d+0x1)+'.\x20'+_0x18b35d['stem']+_0x2127a8(0x767);_0x18b35d[_0x2127a8(0x109)]&&(_0x54f909+='<div\x20id=\x22q-image-container-'+_0x38d84d+_0x2127a8(0x3c6)+_0x18b35d[_0x2127a8(0x109)]+_0x2127a8(0x24f));_0x54f909+=_0x2127a8(0x780)+_0x38d84d+'\x22>'+_0x18b35d[_0x2127a8(0x3aa)]+_0x2127a8(0x3f7),_0x54f909+=_0x2127a8(0x6e7)+_0x38d84d+'\x22>'+_0x18b35d['explanation']+_0x2127a8(0x3f7);break;case _0x2127a8(0x62b):_0x54f909+=_0x2127a8(0x160)+_0x38d84d+'\x22>'+(_0x38d84d+0x1)+'.\x20'+_0x18b35d[_0x2127a8(0x53e)]+_0x2127a8(0x767);_0x18b35d[_0x2127a8(0x109)]&&(_0x54f909+=_0x2127a8(0x4f6)+_0x38d84d+_0x2127a8(0x3c6)+_0x18b35d[_0x2127a8(0x109)]+'</div>');_0x54f909+=_0x2127a8(0x21b)+_0x38d84d+'\x22>'+_0x18b35d[_0x2127a8(0x66a)]+_0x2127a8(0x3f7),_0x54f909+=_0x2127a8(0x6e7)+_0x38d84d+'\x22>'+_0x18b35d[_0x2127a8(0x461)]+_0x2127a8(0x3f7);break;case _0x2127a8(0x89d):_0x54f909+=_0x2127a8(0x160)+_0x38d84d+'\x22>'+(_0x38d84d+0x1)+'.\x20'+_0x18b35d[_0x2127a8(0x53e)]+_0x2127a8(0x767);_0x18b35d['imageCode']&&(_0x54f909+=_0x2127a8(0x4f6)+_0x38d84d+_0x2127a8(0x3c6)+_0x18b35d[_0x2127a8(0x109)]+_0x2127a8(0x24f));_0x54f909+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x18b35d[_0x2127a8(0x53b)]===!![]?_0x2127a8(0x116):'')+_0x2127a8(0x432)+(_0x18b35d['correctAnswer']===![]?'text-green-600\x20font-bold':'')+_0x2127a8(0x184),_0x54f909+=_0x2127a8(0x6e7)+_0x38d84d+'\x22>'+_0x18b35d['explanation']+_0x2127a8(0x3f7);break;case _0x2127a8(0x36d):case _0x2127a8(0x899):default:_0x54f909+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x38d84d+'\x22>'+(_0x38d84d+0x1)+'.\x20'+_0x18b35d[_0x2127a8(0x53e)]+_0x2127a8(0x767);_0x18b35d['imageCode']&&(_0x54f909+=_0x2127a8(0x4f6)+_0x38d84d+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x18b35d[_0x2127a8(0x109)]+_0x2127a8(0x24f));_0x54f909+=_0x2127a8(0x59b)+_0x38d84d+_0x2127a8(0x127)+_0x18b35d[_0x2127a8(0x721)][_0x2127a8(0x757)]((_0x921277,_0x3a7717)=>_0x2127a8(0x2ae)+(_0x3a7717===_0x18b35d[_0x2127a8(0x800)]?_0x2127a8(0x116):'')+'\x22>'+_0x921277+_0x2127a8(0x58b))[_0x2127a8(0x919)]('')+_0x2127a8(0x1eb),_0x54f909+=_0x2127a8(0x6e7)+_0x38d84d+'\x22>'+_0x18b35d['explanation']+_0x2127a8(0x3f7);break;}_0x54f909+=_0x2127a8(0x24f);}),_0x54f909+=_0x47e89c(0x403),_0x4c45d7['innerHTML']=_0x54f909,document[_0x47e89c(0x706)]('.edit-question-btn')[_0x47e89c(0x293)](_0x29fc4e=>_0x29fc4e['addEventListener'](_0x47e89c(0x811),handleEditQuestion)),document[_0x47e89c(0x706)](_0x47e89c(0xdb))[_0x47e89c(0x293)](_0x4f748b=>_0x4f748b[_0x47e89c(0xf2)](_0x47e89c(0x811),handleRegenerateQuestion)),document[_0x47e89c(0x706)](_0x47e89c(0x2bc))['forEach'](_0x366a62=>_0x366a62[_0x47e89c(0xf2)]('click',handleSaveToBank)),document[_0x47e89c(0x574)](_0x47e89c(0x34d))[_0x47e89c(0xf2)](_0x47e89c(0x811),exportQuizAsWorksheetPDF),document[_0x47e89c(0x574)](_0x47e89c(0x6d9))[_0x47e89c(0xf2)]('click',saveQuiz),document[_0x47e89c(0x574)](_0x47e89c(0x62f))['addEventListener'](_0x47e89c(0x811),handleVerifyAnswers);if(window[_0x47e89c(0x784)])window[_0x47e89c(0x784)][_0x47e89c(0x12c)]([_0x4c45d7]);}function handleRegenerateQuestion(_0x1eb0aa){const _0x2ecb11=_0x56afb4,_0x26c46d=_0x1eb0aa['currentTarget'][_0x2ecb11(0xd6)][_0x2ecb11(0xf4)],_0x5c6810=currentQuizData[_0x2ecb11(0x111)];showMessage(_0x2ecb11(0x320)+(parseInt(_0x26c46d)+0x1)+'\x20ใหม่...'),generateQuiz(_0x5c6810,null,parseInt(_0x26c46d));}function getPointerPosition(_0x57b2de,_0x157ba0){const _0x42f569=_0x56afb4,_0x206515=_0x57b2de[_0x42f569(0x631)]();let _0x7e2797,_0x43992a;return _0x157ba0[_0x42f569(0x254)]&&_0x157ba0[_0x42f569(0x254)][_0x42f569(0x261)]>0x0?(_0x7e2797=_0x157ba0['touches'][0x0][_0x42f569(0x61c)],_0x43992a=_0x157ba0[_0x42f569(0x254)][0x0][_0x42f569(0x5c2)]):(_0x7e2797=_0x157ba0['clientX'],_0x43992a=_0x157ba0['clientY']),{'x':(_0x7e2797-_0x206515['e'])/_0x206515['a'],'y':(_0x43992a-_0x206515['f'])/_0x206515['d']};}function startDrag(_0x29891c){const _0x1b6f0b=_0x56afb4;_0x29891c['type']==='touchstart'&&_0x29891c[_0x1b6f0b(0x872)]();const _0x59ce7b=_0x29891c[_0x1b6f0b(0x868)]['closest'](_0x1b6f0b(0x1e8));if(_0x59ce7b){draggedSvgElement=_0x59ce7b;const _0xf78939=draggedSvgElement[_0x1b6f0b(0x7ef)],_0x31a1ac=getPointerPosition(_0xf78939,_0x29891c);svgOffset['x']=_0x31a1ac['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x31a1ac['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x628970,_0x10e5a0){const _0x139044=_0x56afb4,_0x3bb947={};if(_0x10e5a0[_0x139044(0x261)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xaa26f7=[..._0x10e5a0][_0x139044(0x82b)]((_0x1fa524,_0x81dbcf)=>{const _0x2b6a70=_0x139044,_0x264bc3=_0x81dbcf[_0x2b6a70(0x1d1)]-_0x1fa524['latestScore'];if(_0x264bc3!==0x0)return _0x264bc3;const _0x39b8ed=_0x1fa524[_0x2b6a70(0x4bd)]?.[_0x2b6a70(0x261)]||0x1,_0x238d54=_0x81dbcf[_0x2b6a70(0x4bd)]?.[_0x2b6a70(0x261)]||0x1,_0x572ca6=_0x39b8ed-_0x238d54;if(_0x572ca6!==0x0)return _0x572ca6;const _0x2007e8=new Date(_0x1fa524[_0x2b6a70(0x335)]),_0x22b7fc=new Date(_0x81dbcf['latestSubmittedAt']),_0x30d0eb=_0x2007e8-_0x22b7fc;if(_0x30d0eb!==0x0)return _0x30d0eb;return _0x1fa524[_0x2b6a70(0x460)][_0x2b6a70(0x5bf)](_0x81dbcf[_0x2b6a70(0x460)],'th');}),_0x19cd33=_0xaa26f7['length'],_0x3b9fb2=Math[_0x139044(0x5cc)](0x1,Math[_0x139044(0x504)](_0x19cd33*0.33));if(_0x3b9fb2===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x1a0f5c=_0xaa26f7[_0x139044(0x671)](0x0,_0x3b9fb2),_0x396a4f=_0xaa26f7['slice'](-_0x3b9fb2),_0xfe69=_0x1a0f5c[_0x139044(0x757)](_0x424ae7=>_0x424ae7[_0x139044(0x460)]),_0x1503fb=_0x396a4f[_0x139044(0x757)](_0x52236e=>_0x52236e[_0x139044(0x460)]);return _0x628970[_0x139044(0x7d5)][_0x139044(0x293)]((_0x8861f3,_0xd6b602)=>{const _0x50da0b=_0x139044,_0x96e782=_0x8861f3['stem']||_0x8861f3[_0x50da0b(0x53e)];let _0x5a4eda=0x0,_0x50a6a6=0x0,_0x17aa14=0x0;const _0x191a0f=[],_0x24eb2f=[];_0x1a0f5c[_0x50da0b(0x293)](_0x552e73=>{const _0x53a35b=_0x50da0b,_0x35c165=_0x552e73['attempts'][_0x552e73['attempts'][_0x53a35b(0x261)]-0x1],_0x16bbf5=_0x35c165[_0x53a35b(0x418)][_0x53a35b(0x1c0)](_0x38439d=>_0x38439d[_0x53a35b(0x468)]===_0x96e782);_0x191a0f[_0x53a35b(0x6e6)]({'name':_0x552e73['studentName'],'isCorrect':_0x16bbf5?_0x16bbf5[_0x53a35b(0x440)]:![]}),_0x16bbf5&&_0x16bbf5[_0x53a35b(0x440)]&&_0x50a6a6++;}),_0x396a4f['forEach'](_0x276c45=>{const _0x119078=_0x50da0b,_0x4aff51=_0x276c45[_0x119078(0x4bd)][_0x276c45[_0x119078(0x4bd)][_0x119078(0x261)]-0x1],_0x56a06d=_0x4aff51['answers'][_0x119078(0x1c0)](_0x24fa57=>_0x24fa57[_0x119078(0x468)]===_0x96e782);_0x24eb2f[_0x119078(0x6e6)]({'name':_0x276c45[_0x119078(0x460)],'isCorrect':_0x56a06d?_0x56a06d['isCorrect']:![]}),_0x56a06d&&_0x56a06d[_0x119078(0x440)]&&_0x17aa14++;}),_0x10e5a0['forEach'](_0x2daab0=>{const _0x465fd0=_0x50da0b,_0x293877=_0x2daab0[_0x465fd0(0x4bd)][_0x2daab0['attempts'][_0x465fd0(0x261)]-0x1],_0x3d71e7=_0x293877['answers'][_0x465fd0(0x1c0)](_0x5b7478=>_0x5b7478[_0x465fd0(0x468)]===_0x96e782);_0x3d71e7&&_0x3d71e7[_0x465fd0(0x440)]&&_0x5a4eda++;});const _0x6e15d5=_0x19cd33>0x0?_0x5a4eda/_0x19cd33:0x0,_0x2bd708=_0x3b9fb2>0x0?_0x50a6a6/_0x3b9fb2-_0x17aa14/_0x3b9fb2:0x0;_0x3bb947[_0xd6b602]={'p':_0x6e15d5,'r':_0x2bd708,'upperGroupResponders':_0x191a0f,'lowerGroupResponders':_0x24eb2f};}),{'perQuestionStats':_0x3bb947,'overallGroups':{'upperGroupNames':_0xfe69,'lowerGroupNames':_0x1503fb}};}function drag(_0x302766){const _0x22e55a=_0x56afb4;if(draggedSvgElement){_0x302766['preventDefault']();const _0x3e8b04=draggedSvgElement[_0x22e55a(0x7ef)],_0x501b2e=getPointerPosition(_0x3e8b04,_0x302766),_0x1e72e4=_0x3e8b04[_0x22e55a(0x533)][_0x22e55a(0x19f)];let _0x311d96=_0x501b2e['x']-svgOffset['x'],_0x4a4c22=_0x501b2e['y']-svgOffset['y'];const _0x4ad7ba=draggedSvgElement['getBBox']();_0x311d96=Math['max'](_0x1e72e4['x'],Math['min'](_0x311d96,_0x1e72e4['x']+_0x1e72e4['width']-_0x4ad7ba['width'])),_0x4a4c22=Math[_0x22e55a(0x5cc)](_0x1e72e4['y'],Math[_0x22e55a(0x89b)](_0x4a4c22,_0x1e72e4['y']+_0x1e72e4[_0x22e55a(0x2b1)]-_0x4ad7ba[_0x22e55a(0x2b1)])),draggedSvgElement[_0x22e55a(0x6b7)](null,'x',_0x311d96),draggedSvgElement['setAttributeNS'](null,'y',_0x4a4c22);}}function endDrag(_0x2f2a68){draggedSvgElement=null;}function handleSvgEditClick(_0x3b660f){const _0x1bd861=_0x56afb4;if(_0x3b660f[_0x1bd861(0x868)][_0x1bd861(0x92b)]['contains'](_0x1bd861(0x8ff))){const _0x3eeefb=_0x3b660f[_0x1bd861(0x868)][_0x1bd861(0xd6)][_0x1bd861(0x269)],_0x1b8fc6=_0x3b660f[_0x1bd861(0x682)],_0x356fe8=_0x1b8fc6[_0x1bd861(0x351)]('#'+_0x3eeefb);_0x356fe8&&_0x356fe8[_0x1bd861(0x112)](),_0x3b660f[_0x1bd861(0x868)]['remove']();}}function handleEditQuestion(_0x4911bc){const _0x5032b3=_0x56afb4,_0x3590bf=_0x4911bc[_0x5032b3(0x682)],_0x3f651b=_0x3590bf[_0x5032b3(0xd6)]['index'],_0xea4060=currentQuizData[_0x5032b3(0x7d5)][_0x3f651b],_0x4628c8=document[_0x5032b3(0x574)](_0x5032b3(0x87a)+_0x3f651b),_0x205761=document[_0x5032b3(0x574)](_0x5032b3(0x15c)+_0x3f651b),_0x444936=document[_0x5032b3(0x574)](_0x5032b3(0x14f)+_0x3f651b);if(_0x3590bf[_0x5032b3(0x8a3)]['includes']('fa-pen')){_0x3590bf[_0x5032b3(0x8a3)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x3590bf[_0x5032b3(0x469)]='บันทึกการแก้ไข';if(_0x4628c8)_0x4628c8[_0x5032b3(0x1f2)]=!![];if(_0x205761)_0x205761[_0x5032b3(0x1f2)]=!![];if(_0x444936){const _0x10a353=_0x444936[_0x5032b3(0x351)]('svg');if(_0x10a353){const _0x181542=_0x10a353['querySelectorAll']('text');_0x181542['forEach']((_0x3c9f29,_0x5f0703)=>{const _0x2f5788=_0x5032b3,_0x4a180e=_0x2f5788(0x6eb)+_0x3f651b+'-'+_0x5f0703;_0x3c9f29['id']=_0x4a180e,_0x3c9f29['classList']['add'](_0x2f5788(0x6a8)),_0x3c9f29[_0x2f5788(0x610)][_0x2f5788(0x760)]='move';const _0x21c7f7=document[_0x2f5788(0x3bd)](_0x2f5788(0x56e),_0x2f5788(0x330)),_0x195d6a=_0x3c9f29[_0x2f5788(0x685)]();_0x21c7f7['setAttribute']('cx',String(_0x195d6a['x']+_0x195d6a['width']+0x5)),_0x21c7f7['setAttribute']('cy',String(_0x195d6a['y']+_0x195d6a[_0x2f5788(0x2b1)]/0x2-0x5)),_0x21c7f7[_0x2f5788(0x79d)]('r','5'),_0x21c7f7[_0x2f5788(0x79d)]('fill','red'),_0x21c7f7['setAttribute'](_0x2f5788(0x488),_0x2f5788(0x8ff)),_0x21c7f7[_0x2f5788(0xd6)][_0x2f5788(0x269)]=_0x4a180e,_0x3c9f29[_0x2f5788(0x55b)](_0x21c7f7);}),_0x10a353[_0x5032b3(0xf2)](_0x5032b3(0x414),startDrag),_0x10a353['addEventListener']('mousemove',drag),_0x10a353[_0x5032b3(0xf2)](_0x5032b3(0x8ad),endDrag),_0x10a353[_0x5032b3(0xf2)](_0x5032b3(0x1d5),endDrag),_0x10a353[_0x5032b3(0xf2)](_0x5032b3(0x50a),startDrag,{'passive':![]}),_0x10a353[_0x5032b3(0xf2)](_0x5032b3(0x5d4),drag,{'passive':![]}),_0x10a353['addEventListener']('touchend',endDrag),_0x10a353[_0x5032b3(0xf2)]('touchcancel',endDrag),_0x10a353[_0x5032b3(0xf2)](_0x5032b3(0x811),handleSvgEditClick);}}if(_0x4628c8)_0x4628c8[_0x5032b3(0x326)]();}else{_0x3590bf[_0x5032b3(0x8a3)]=_0x5032b3(0x735),_0x3590bf[_0x5032b3(0x469)]=_0x5032b3(0x19a);if(_0x4628c8){_0x4628c8[_0x5032b3(0x1f2)]=![];const _0x2a73aa=_0xea4060[_0x5032b3(0x4b8)]||currentQuizData['quizType'];_0x2a73aa===_0x5032b3(0x3ed)?_0xea4060[_0x5032b3(0x4a3)]=_0x4628c8[_0x5032b3(0x5bc)]['substring'](_0x4628c8[_0x5032b3(0x5bc)][_0x5032b3(0x271)]('.')+0x2)[_0x5032b3(0x4b1)]():_0xea4060[_0x5032b3(0x53e)]=_0x4628c8[_0x5032b3(0x5bc)]['substring'](_0x4628c8[_0x5032b3(0x5bc)][_0x5032b3(0x271)]('.')+0x2)[_0x5032b3(0x4b1)]();}_0x205761&&(_0x205761['contentEditable']=![],_0xea4060[_0x5032b3(0x461)]=_0x205761['innerText']);if(_0x444936){const _0x442ce9=_0x444936[_0x5032b3(0x351)](_0x5032b3(0x5e4));if(_0x442ce9){const _0x33657e=_0x442ce9[_0x5032b3(0x877)](!![]);_0x33657e[_0x5032b3(0x706)](_0x5032b3(0x7c0))[_0x5032b3(0x293)](_0x4f8ab2=>_0x4f8ab2[_0x5032b3(0x112)]()),_0x33657e[_0x5032b3(0x706)]('.draggable-text')['forEach'](_0x193e60=>{const _0x260a0e=_0x5032b3;_0x193e60[_0x260a0e(0x92b)][_0x260a0e(0x112)]('draggable-text'),_0x193e60[_0x260a0e(0x610)]['cursor']=_0x260a0e(0x30e),_0x193e60[_0x260a0e(0x5da)]('id');}),_0xea4060['imageCode']=_0x33657e[_0x5032b3(0xfc)],_0x442ce9[_0x5032b3(0xd5)]('mousedown',startDrag),_0x442ce9[_0x5032b3(0xd5)](_0x5032b3(0x493),drag),_0x442ce9[_0x5032b3(0xd5)]('mouseup',endDrag),_0x442ce9[_0x5032b3(0xd5)](_0x5032b3(0x1d5),endDrag),_0x442ce9[_0x5032b3(0xd5)](_0x5032b3(0x50a),startDrag),_0x442ce9['removeEventListener']('touchmove',drag),_0x442ce9['removeEventListener'](_0x5032b3(0x5f4),endDrag),_0x442ce9[_0x5032b3(0xd5)](_0x5032b3(0x30b),endDrag),_0x442ce9[_0x5032b3(0xd5)](_0x5032b3(0x811),handleSvgEditClick),_0x442ce9[_0x5032b3(0x706)](_0x5032b3(0x7c0))[_0x5032b3(0x293)](_0x2c3afc=>_0x2c3afc[_0x5032b3(0x112)]()),_0x442ce9[_0x5032b3(0x706)]('.draggable-text')[_0x5032b3(0x293)](_0x36d59b=>{const _0x592647=_0x5032b3;_0x36d59b[_0x592647(0x92b)][_0x592647(0x112)](_0x592647(0x6a8)),_0x36d59b[_0x592647(0x610)][_0x592647(0x760)]=_0x592647(0x30e);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x2ad1c6){const _0x2bb291=_0x56afb4,_0x13a357=document[_0x2bb291(0x574)]('quiz-editor-modal'),_0x1b5db3=document[_0x2bb291(0x574)](_0x2bb291(0x498));_0x1b5db3[_0x2bb291(0x8a3)]=_0x2bb291(0x912),_0x13a357[_0x2bb291(0x92b)][_0x2bb291(0x112)](_0x2bb291(0x384));try{const _0x5da0a3=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2ad1c6),_0x42deb9=await getDoc(_0x5da0a3);if(!_0x42deb9[_0x2bb291(0x5f0)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x2ad1c6,..._0x42deb9[_0x2bb291(0x58c)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x1b1975){console[_0x2bb291(0x7d6)](_0x2bb291(0x6be),_0x1b1975),showMessage(_0x2bb291(0x3d9)),_0x13a357[_0x2bb291(0x92b)][_0x2bb291(0x3fa)](_0x2bb291(0x384));}}function renderQuizEditor(_0x2efe31){const _0xfb8d6f=_0x56afb4;document[_0xfb8d6f(0x574)]('editor-quiz-topic')[_0xfb8d6f(0x54e)]=_0x2efe31[_0xfb8d6f(0x111)];const _0x3df7f0=document[_0xfb8d6f(0x574)](_0xfb8d6f(0x498));let _0x20a8f3=_0x2efe31[_0xfb8d6f(0x7d5)][_0xfb8d6f(0x757)]((_0x593ab6,_0xa71f)=>{const _0xd10f12=_0xfb8d6f;let _0x1d48e2='';const _0x1429fb=_0x593ab6[_0xd10f12(0x4b8)]||_0x2efe31['quizType'];switch(_0x1429fb){case _0xd10f12(0x899):const _0x310728=(_0x593ab6[_0xd10f12(0x721)]||[])['map']((_0x109864,_0x37d401)=>_0xd10f12(0x690)+_0xa71f+_0xd10f12(0x392)+_0x37d401+'\x22\x20'+(_0x37d401===_0x593ab6[_0xd10f12(0x800)]?_0xd10f12(0x5dd):'')+_0xd10f12(0x400)+_0x109864+_0xd10f12(0x8b4))[_0xd10f12(0x919)]('');_0x1d48e2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x310728+_0xd10f12(0x7fa);break;case _0xd10f12(0x62b):_0x1d48e2=_0xd10f12(0x2c1)+(_0x593ab6[_0xd10f12(0x66a)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xd10f12(0x89d):_0x1d48e2=_0xd10f12(0x1b9)+_0xa71f+_0xd10f12(0x5b4)+(_0x593ab6['correctAnswer']===!![]?_0xd10f12(0x5dd):'')+_0xd10f12(0x70a)+_0xa71f+_0xd10f12(0x49e)+(_0x593ab6[_0xd10f12(0x53b)]===![]?_0xd10f12(0x5dd):'')+_0xd10f12(0x1ed);break;case _0xd10f12(0x3ed):_0x1d48e2=_0xd10f12(0x274)+(_0x593ab6[_0xd10f12(0x3aa)]||'')+_0xd10f12(0x509);break;}const _0x226c97=_0x593ab6[_0xd10f12(0x53e)]||_0x593ab6[_0xd10f12(0x4a3)]||'';return'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0xa71f+_0xd10f12(0x42c)+_0x1429fb+_0xd10f12(0x6f1)+(_0xa71f+0x1)+'\x20('+_0x1429fb+_0xd10f12(0x24d)+_0x226c97+_0xd10f12(0x487)+_0x1d48e2+'</div>\x0a</div>\x0a';})[_0xfb8d6f(0x919)]('');_0x3df7f0[_0xfb8d6f(0x8a3)]=_0x20a8f3,_0x3df7f0[_0xfb8d6f(0x706)](_0xfb8d6f(0x7c3))[_0xfb8d6f(0x293)](_0x28ebf9=>{const _0x3f6f13=_0xfb8d6f;_0x28ebf9['addEventListener'](_0x3f6f13(0x811),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x5499a7){const _0x37173a=_0x56afb4,_0x940604=_0x5499a7['currentTarget'],_0x14f225=_0x940604[_0x37173a(0x213)]('.question-editor-item');if(!_0x14f225)return;const _0x3aa970=parseInt(_0x14f225[_0x37173a(0xd6)][_0x37173a(0x41b)],0xa);if(isNaN(_0x3aa970)||!currentEditingQuizData['questions'][_0x3aa970]){showMessage(_0x37173a(0x763));return;}const _0x495bf3=currentEditingQuizData['questions'][_0x3aa970];_0x940604[_0x37173a(0x8a3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x940604[_0x37173a(0x4b9)]=!![];const _0x17fc83='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON['stringify'](_0x495bf3)+_0x37173a(0x3dc);let _0x30ced4;const _0xef5bbb=_0x495bf3[_0x37173a(0x4b8)]||currentEditingQuizData[_0x37173a(0x185)];switch(_0xef5bbb){case'short_answer':_0x30ced4={'type':_0x37173a(0x8b5),'properties':{'questionText':{'type':_0x37173a(0x7d1)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x37173a(0x7d1)},'imageCode':{'type':_0x37173a(0x7d1)}},'required':[_0x37173a(0x53e),'idealAnswer',_0x37173a(0x461)]};break;case'multiple_choice':default:_0x30ced4={'type':'OBJECT','properties':{'questionText':{'type':_0x37173a(0x7d1)},'options':{'type':_0x37173a(0x60e),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x37173a(0x795)},'explanation':{'type':_0x37173a(0x7d1)},'imageCode':{'type':_0x37173a(0x7d1)}},'required':['questionText',_0x37173a(0x721),_0x37173a(0x800),_0x37173a(0x461)]};break;}try{let _0x7cdc0b=await callAnalysisApi(_0x17fc83,_0x30ced4);_0x7cdc0b[_0x37173a(0x721)]&&Array[_0x37173a(0x22d)](_0x7cdc0b[_0x37173a(0x721)])&&(_0x7cdc0b[_0x37173a(0x721)]=_0x7cdc0b[_0x37173a(0x721)][_0x37173a(0x757)](_0xb6c89e=>typeof _0xb6c89e==='string'?_0xb6c89e['replace'](/S(\s*[\d_]+?\s*)S/g,_0x37173a(0x830)):_0xb6c89e)),_0x495bf3[_0x37173a(0x109)]&&_0x495bf3['imageCode'][_0x37173a(0x7a6)]('fix\x20the\x20option')&&(_0x7cdc0b[_0x37173a(0x109)]=''),currentEditingQuizData[_0x37173a(0x7d5)][_0x3aa970]={..._0x495bf3,..._0x7cdc0b},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0xef06fc){console[_0x37173a(0x7d6)](_0x37173a(0x8d0),_0xef06fc),showMessage(_0x37173a(0x7e8)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x281a53=_0x56afb4,_0x85f023=document[_0x281a53(0x574)](_0x281a53(0x32b));_0x85f023[_0x281a53(0x4b9)]=!![],_0x85f023['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0xf047f3=document[_0x281a53(0x574)](_0x281a53(0x6d3))[_0x281a53(0x54e)],_0x54df75=document[_0x281a53(0x706)](_0x281a53(0x131));let _0x2b1b3b=[];const _0x2c8c1=Array[_0x281a53(0x7eb)](_0x54df75)[_0x281a53(0x757)]((_0x356ff3,_0x312426)=>{const _0x7f446d=_0x281a53,_0x2060a7=_0x356ff3[_0x7f446d(0xd6)][_0x7f446d(0x13d)],_0x24e1f6=_0x356ff3[_0x7f446d(0x351)](_0x7f446d(0x838))[_0x7f446d(0x54e)];let _0x177a15={'questionType':_0x2060a7};const _0x44e138=currentEditingQuizData['questions'][_0x312426];switch(_0x2060a7){case _0x7f446d(0x899):_0x177a15[_0x7f446d(0x53e)]=_0x24e1f6;const _0x1f7dd0=_0x356ff3[_0x7f446d(0x706)](_0x7f446d(0x44b));_0x177a15['options']=Array[_0x7f446d(0x7eb)](_0x1f7dd0)['map'](_0x2bd9fd=>_0x2bd9fd['value']);const _0x179c94=_0x356ff3['querySelector']('input[type=\x22radio\x22]:checked');_0x177a15['correctAnswerIndex']=_0x179c94?parseInt(_0x179c94['value']):0x0;break;case _0x7f446d(0x62b):_0x177a15[_0x7f446d(0x53e)]=_0x24e1f6,_0x177a15[_0x7f446d(0x66a)]=_0x356ff3['querySelector'](_0x7f446d(0x177))['value'];break;case _0x7f446d(0x89d):_0x177a15[_0x7f446d(0x53e)]=_0x24e1f6;const _0x3771ef=_0x356ff3['querySelector'](_0x7f446d(0x393));_0x177a15[_0x7f446d(0x53b)]=_0x3771ef?_0x3771ef[_0x7f446d(0x54e)]==='true':!![];break;case _0x7f446d(0x3ed):_0x177a15[_0x7f446d(0x4a3)]=_0x24e1f6;const _0x6c17a2=_0x356ff3['querySelector']('.correct-response-input');_0x177a15[_0x7f446d(0x3aa)]=_0x6c17a2?_0x6c17a2[_0x7f446d(0x54e)]:'',_0x2b1b3b['push'](_0x177a15[_0x7f446d(0x3aa)]);break;default:_0x177a15[_0x7f446d(0x53e)]=_0x24e1f6;break;}return{..._0x44e138,..._0x177a15};});_0x2b1b3b[_0x281a53(0x261)]>0x0&&_0x2c8c1[_0x281a53(0x293)](_0x6455ef=>{const _0x1d6938=_0x281a53;_0x6455ef['questionType']===_0x1d6938(0x3ed)&&(_0x6455ef[_0x1d6938(0x1c1)]=_0x2b1b3b);});const _0x4c36b5=currentEditingQuizData['id'],_0x2b3ce2=doc(db,_0x281a53(0x58f)+appId+_0x281a53(0x444),_0x4c36b5);await updateDoc(_0x2b3ce2,{'topic':_0xf047f3,'questions':_0x2c8c1}),document['getElementById']('quiz-editor-modal')[_0x281a53(0x92b)][_0x281a53(0x3fa)](_0x281a53(0x384)),showMessage(_0x281a53(0x353),()=>initiateReGradeProcess(_0x4c36b5));}catch(_0x36268b){console[_0x281a53(0x7d6)](_0x281a53(0x819),_0x36268b),showMessage(_0x281a53(0x8b0));}finally{_0x85f023['disabled']=![],_0x85f023[_0x281a53(0x8a3)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0xdcb2c2){const _0x9625cf=_0x56afb4;showMessage(_0x9625cf(0x515));try{const _0x5bf55b=doc(db,'artifacts/'+appId+_0x9625cf(0x444),_0xdcb2c2),_0x3d8669=await getDoc(_0x5bf55b);if(!_0x3d8669[_0x9625cf(0x5f0)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x341f70={'id':_0xdcb2c2,..._0x3d8669[_0x9625cf(0x58c)]()},_0x5bc938=collection(db,_0x9625cf(0x58f)+appId+_0x9625cf(0x444),_0xdcb2c2,_0x9625cf(0xd0)),_0x3fed0f=await getDocs(_0x5bc938);if(_0x3fed0f[_0x9625cf(0x1db)]){showMessage(_0x9625cf(0x7a3));return;}const _0x220918=_0x3fed0f['docs'][_0x9625cf(0x757)](_0x25d9e2=>reGradeSingleSubmission(_0x25d9e2,_0x341f70));await Promise[_0x9625cf(0x7b1)](_0x220918);if(_0x341f70[_0x9625cf(0x764)]){const _0x59e975=doc(db,_0x9625cf(0x58f)+appId+_0x9625cf(0x785),_0x341f70[_0x9625cf(0x764)]),_0xec4c67=await getDoc(_0x59e975);if(_0xec4c67[_0x9625cf(0x5f0)]()&&_0xec4c67[_0x9625cf(0x58c)]()[_0x9625cf(0x3b2)]){const _0x4e8be7=_0xec4c67[_0x9625cf(0x58c)]()[_0x9625cf(0x3b2)][_0x9625cf(0x757)](_0x337350=>updateStudentProfile(_0x341f70['projectId'],_0x337350));await Promise[_0x9625cf(0x7b1)](_0x4e8be7);}}showMessage(_0x9625cf(0x4bc)+_0x3fed0f['size']+_0x9625cf(0x8fd));}catch(_0x4a03dc){console[_0x9625cf(0x7d6)]('Re-grade\x20process\x20failed:',_0x4a03dc),showMessage(_0x9625cf(0x1bd)+_0x4a03dc['message']);}}async function reGradeSingleSubmission(_0x2aad2c,_0x282fc6){const _0x1fd611=_0x56afb4,_0x2b52b5=_0x2aad2c['data'](),_0x1ed041=_0x2b52b5[_0x1fd611(0x460)],_0x3347f0=_0x2b52b5[_0x1fd611(0x4bd)]||[],_0x246704=[];for(const _0x23035c of _0x3347f0){let _0x338929=0x0,_0x304d4c=[],_0x416178=0x0;const _0xc06368=[];for(const _0x1b9912 of _0x23035c[_0x1fd611(0x418)]){let _0x246bae;_0x1b9912[_0x1fd611(0x5b1)]&&(_0x246bae=_0x282fc6[_0x1fd611(0x7d5)][_0x1fd611(0x1c0)](_0x134a90=>_0x134a90['id']===_0x1b9912[_0x1fd611(0x5b1)]));!_0x246bae&&_0x1b9912['originalQuestionText']&&(_0x246bae=_0x282fc6[_0x1fd611(0x7d5)][_0x1fd611(0x1c0)](_0x2aeb55=>(_0x2aeb55[_0x1fd611(0x4a3)]||_0x2aeb55[_0x1fd611(0x53e)])===_0x1b9912[_0x1fd611(0x468)]));let _0x739771=![];if(_0x246bae){const _0x2098fa=_0x246bae['questionType']||_0x282fc6[_0x1fd611(0x185)];switch(_0x2098fa){case'multiple_choice':if(_0x246bae[_0x1fd611(0x721)]&&_0x246bae[_0x1fd611(0x800)]<_0x246bae[_0x1fd611(0x721)]['length']){const _0x1e3a8c=_0x246bae[_0x1fd611(0x721)][_0x246bae[_0x1fd611(0x800)]];_0x739771=_0x1b9912[_0x1fd611(0x77e)]===_0x1e3a8c;}break;case _0x1fd611(0x89d):const _0x57edc0=_0x1b9912[_0x1fd611(0x90d)]===!![]||_0x1b9912[_0x1fd611(0x90d)]==='true';_0x739771=_0x57edc0===_0x246bae[_0x1fd611(0x53b)];break;case _0x1fd611(0x3ed):_0x739771=_0x1b9912[_0x1fd611(0x90d)]===_0x246bae[_0x1fd611(0x3aa)];break;case _0x1fd611(0x62b):_0x739771=await gradeShortAnswer(_0x1b9912[_0x1fd611(0x90d)],_0x246bae);break;default:_0x739771=_0x1b9912[_0x1fd611(0x440)];break;}}if(_0x739771){_0x338929++,_0x416178++;if(_0x416178===0x3)_0x304d4c[_0x1fd611(0x6e6)](BADGES[_0x1fd611(0x5be)]['id']);}else _0x416178=0x0;_0xc06368[_0x1fd611(0x6e6)]({..._0x1b9912,'isCorrect':_0x739771});}let _0x43e556=_0x338929*0xa;_0x338929===_0x282fc6['questions'][_0x1fd611(0x261)]&&(_0x43e556+=0x32,_0x304d4c[_0x1fd611(0x6e6)](BADGES[_0x1fd611(0x7be)]['id'])),_0x246704['push']({..._0x23035c,'score':_0x338929,'points':_0x43e556,'badges':Array[_0x1fd611(0x7eb)](new Set(_0x304d4c)),'answers':_0xc06368});}const _0x7a2cd7=_0x246704[_0x1fd611(0x261)]>0x0?_0x246704[0x0][_0x1fd611(0x178)]:0x0,_0x37ea7e=Math['max'](..._0x246704[_0x1fd611(0x757)](_0x463fa4=>_0x463fa4[_0x1fd611(0x178)])),_0x55fc86=_0x246704[_0x1fd611(0x261)]>0x0?_0x246704[_0x246704[_0x1fd611(0x261)]-0x1][_0x1fd611(0x178)]:0x0,_0x3db2f9=_0x246704[_0x1fd611(0x261)]>0x0?_0x246704[_0x246704['length']-0x1][_0x1fd611(0x5b3)]:0x0,_0x37dfae=doc(db,'artifacts/'+appId+_0x1fd611(0x381)+_0x282fc6['id']+_0x1fd611(0x16a),_0x1ed041);await updateDoc(_0x37dfae,{'attempts':_0x246704,'firstScore':_0x7a2cd7,'bestScore':_0x37ea7e,'latestScore':_0x55fc86,'points':_0x3db2f9});}function cleanupQuizOptions(_0x2d83b4){const _0x110f0a=_0x56afb4,_0x35a29b=(_0x22ed2d,_0x3dc424)=>_0x3dc424===0x0?_0x22ed2d:_0x35a29b(_0x3dc424,_0x22ed2d%_0x3dc424),_0x4e8031=_0x495a40=>{const _0x3c6fa5=_0x1cf4;if(typeof _0x495a40!==_0x3c6fa5(0x8a0))return null;_0x495a40=_0x495a40[_0x3c6fa5(0x4b1)]();const _0x13c999=_0x495a40['split'](/[ /]/)[_0x3c6fa5(0x13b)](_0xf38294=>_0xf38294!=='');if(_0x13c999[_0x3c6fa5(0x261)]===0x3)return parseInt(_0x13c999[0x0])+parseInt(_0x13c999[0x1])/parseInt(_0x13c999[0x2]);else{if(_0x13c999[_0x3c6fa5(0x261)]===0x2)return parseInt(_0x13c999[0x0])/parseInt(_0x13c999[0x1]);else{if(_0x13c999[_0x3c6fa5(0x261)]===0x1&&!isNaN(_0x13c999[0x0]))return parseFloat(_0x13c999[0x0]);}}return null;},_0x48ceda=_0x43032e=>{const _0x33c77c=_0x1cf4;if(typeof _0x43032e!==_0x33c77c(0x8a0))return _0x43032e;const _0x178b6c=_0x43032e[_0x33c77c(0x390)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x178b6c){const _0x5b0a5c=parseInt(_0x178b6c[0x1]);let _0x3b2c20=parseInt(_0x178b6c[0x2]),_0x490137=parseInt(_0x178b6c[0x3]);const _0x533642=_0x35a29b(_0x3b2c20,_0x490137);_0x3b2c20/=_0x533642,_0x490137/=_0x533642;if(_0x490137===0x1)return(_0x5b0a5c+_0x3b2c20)[_0x33c77c(0x8c5)]();return _0x5b0a5c+'\x20'+_0x3b2c20+'/'+_0x490137;}return _0x43032e;};return _0x2d83b4&&_0x2d83b4[_0x110f0a(0x7d5)]&&_0x2d83b4[_0x110f0a(0x7d5)]['forEach'](_0x50eb10=>{const _0x20efaa=_0x110f0a;if(_0x50eb10[_0x20efaa(0x4b8)]===_0x20efaa(0x899)&&_0x50eb10[_0x20efaa(0x721)]){const _0x3c7690=new Map(),_0x553d69=_0x50eb10[_0x20efaa(0x721)][_0x50eb10['correctAnswerIndex']];_0x50eb10['options']['forEach'](_0x4b6597=>{const _0x456ba0=_0x20efaa,_0x4877a7=_0x48ceda(_0x4b6597),_0x516af2=_0x4e8031(_0x4877a7);_0x516af2!==null&&!_0x3c7690[_0x456ba0(0x21e)](_0x516af2)&&_0x3c7690[_0x456ba0(0x1f4)](_0x516af2,_0x4877a7);}),_0x50eb10[_0x20efaa(0x721)]=Array[_0x20efaa(0x7eb)](_0x3c7690[_0x20efaa(0x130)]());const _0x950e7a=_0x50eb10[_0x20efaa(0x721)][_0x20efaa(0x7b7)](_0x58914f=>_0x58914f===_0x48ceda(_0x553d69));_0x50eb10['correctAnswerIndex']=_0x950e7a!==-0x1?_0x950e7a:0x0;}}),_0x2d83b4;}async function saveQuiz(){const _0x124f0b=_0x56afb4;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x124f0b(0x7d5)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x4ae493=document[_0x124f0b(0x574)](_0x124f0b(0x6d9));_0x4ae493[_0x124f0b(0x4b9)]=!![],_0x4ae493[_0x124f0b(0x8a3)]=_0x124f0b(0x806);const _0x32f59b=document[_0x124f0b(0x574)](_0x124f0b(0x47a))[_0x124f0b(0x5dd)];let _0x129f0e=document[_0x124f0b(0x574)](_0x124f0b(0x5c3))[_0x124f0b(0x5bc)][_0x124f0b(0x4b1)]();_0x32f59b&&!_0x129f0e[_0x124f0b(0x55a)](_0x124f0b(0x715))&&(_0x129f0e='(ก่อนเรียน)\x20'+_0x129f0e);try{const _0x1fe412={'resultsDisplay':document[_0x124f0b(0x574)]('results-display-select')['value'],'shuffle':document[_0x124f0b(0x574)]('shuffle-setting-select')[_0x124f0b(0x54e)],'timerMode':document['getElementById']('timer-mode-select')[_0x124f0b(0x54e)],'timerDuration':parseInt(document[_0x124f0b(0x574)](_0x124f0b(0x31c))['value'])||0xa,'passingScore':parseInt(document[_0x124f0b(0x574)]('passing-score-input')[_0x124f0b(0x54e)])||0x0,'isAdaptive':document[_0x124f0b(0x574)]('adaptive-quiz-checkbox')[_0x124f0b(0x5dd)],'loopUntilPass':document[_0x124f0b(0x574)]('loop-until-pass-checkbox')['checked']},_0x5a35af=(currentQuizData[_0x124f0b(0x7d5)]||[])[_0x124f0b(0x757)]((_0x2ed294,_0x111a09)=>{const _0x24a23d=_0x124f0b,_0x11d62d=document[_0x24a23d(0x574)]('quiz-type-select')[_0x24a23d(0x54e)],_0x5047a3={'id':'q_'+Date[_0x24a23d(0x5de)]()+'_'+_0x111a09,'questionText':_0x2ed294['questionText']||'','explanation':_0x2ed294['explanation']||_0x24a23d(0x7bc),'questionType':_0x2ed294[_0x24a23d(0x4b8)]||_0x11d62d,'imageCode':_0x2ed294[_0x24a23d(0x109)]||null};return(_0x5047a3['questionType']===_0x24a23d(0x899)||_0x5047a3[_0x24a23d(0x4b8)]===_0x24a23d(0x85e)||_0x5047a3['questionType']==='mixed'&&_0x2ed294[_0x24a23d(0x721)])&&(_0x5047a3[_0x24a23d(0x721)]=_0x2ed294[_0x24a23d(0x721)]||[],_0x5047a3[_0x24a23d(0x800)]=_0x2ed294['correctAnswerIndex']!==undefined?_0x2ed294[_0x24a23d(0x800)]:0x0),(_0x5047a3[_0x24a23d(0x4b8)]===_0x24a23d(0x62b)||_0x5047a3[_0x24a23d(0x4b8)]===_0x24a23d(0x124)||_0x5047a3[_0x24a23d(0x4b8)]===_0x24a23d(0x154)&&_0x2ed294[_0x24a23d(0x66a)])&&(_0x5047a3['idealAnswer']=_0x2ed294[_0x24a23d(0x66a)]||''),_0x5047a3[_0x24a23d(0x4b8)]===_0x24a23d(0x89d)&&(_0x5047a3[_0x24a23d(0x53b)]=_0x2ed294['correctAnswer']===!![]),_0x5047a3[_0x24a23d(0x4b8)]===_0x24a23d(0x3ed)&&(_0x5047a3['stem']=_0x2ed294['stem']||'',_0x5047a3[_0x24a23d(0x3aa)]=_0x2ed294[_0x24a23d(0x3aa)]||'',_0x5047a3['allResponses']=_0x2ed294['allResponses']||[]),_0x5047a3;}),_0x445f95={'topic':_0x129f0e,'quizType':currentQuizData['quizType']||'multiple_choice','questions':_0x5a35af,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x1fe412,'quizMode':_0x32f59b?_0x124f0b(0x600):_0x124f0b(0x801),'pairedQuizId':null,'lessonPlan':null};let _0x4aafe2;while(!![]){_0x4aafe2=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x124f0b(0x8c5)]();const _0x27b194=await getDoc(doc(db,'artifacts/'+appId+_0x124f0b(0x444),_0x4aafe2));if(!_0x27b194[_0x124f0b(0x5f0)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x124f0b(0x444),_0x4aafe2),_0x445f95),currentQuizData['settings']=_0x1fe412,currentQuizData['id']=_0x4aafe2;const _0x443843=document[_0x124f0b(0x574)](_0x124f0b(0x3d8));_0x443843['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x4aafe2+_0x124f0b(0x510),document['getElementById'](_0x124f0b(0x48e))['addEventListener']('click',()=>copyTextToClipboard(_0x4aafe2,_0x124f0b(0x4bf))),document[_0x124f0b(0x574)]('start-live-race-generated-btn')[_0x124f0b(0xf2)](_0x124f0b(0x811),()=>handleStartLiveRace(_0x4aafe2)),document[_0x124f0b(0x574)](_0x124f0b(0x46c))[_0x124f0b(0xf2)](_0x124f0b(0x811),()=>startPresentation(currentQuizData)),document[_0x124f0b(0x574)](_0x124f0b(0x5ea))[_0x124f0b(0xf2)](_0x124f0b(0x811),startAdminTest),showMessage(_0x124f0b(0x90b));}catch(_0x4cff3e){console['error'](_0x124f0b(0x1f7),_0x4cff3e),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0x4ae493[_0x124f0b(0x4b9)]=![],_0x4ae493['innerHTML']=_0x124f0b(0x66f);}}function promptForProjectAndSave(){const _0x5cbba3=_0x56afb4,_0x24351a=document[_0x5cbba3(0x574)](_0x5cbba3(0x3c4)),_0x452770=document[_0x5cbba3(0x574)]('move-quiz-project-select'),_0x5bc15f=_0x24351a[_0x5cbba3(0x351)]('h3'),_0x4e5cff=document['getElementById'](_0x5cbba3(0x313));_0x5bc15f[_0x5cbba3(0x46f)]='เลือกโปรเจคเพื่อบันทึก',_0x4e5cff[_0x5cbba3(0x46f)]=_0x5cbba3(0x251);allProjects[_0x5cbba3(0x261)]===0x0?(_0x452770[_0x5cbba3(0x8a3)]=_0x5cbba3(0x3db),_0x4e5cff['disabled']=!![]):(_0x452770[_0x5cbba3(0x8a3)]=allProjects['map'](_0x13e9e5=>'<option\x20value=\x22'+_0x13e9e5['id']+'\x22>'+_0x13e9e5['projectName']+_0x5cbba3(0x3a3))[_0x5cbba3(0x919)](''),_0x4e5cff[_0x5cbba3(0x4b9)]=![]);_0x24351a[_0x5cbba3(0x92b)][_0x5cbba3(0x112)](_0x5cbba3(0x384));const _0x21bf5a=()=>{const _0x40578f=_0x5cbba3,_0x57611e=_0x452770['value'];_0x57611e?(currentProjectId=_0x57611e,_0x24351a[_0x40578f(0x92b)]['add'](_0x40578f(0x384)),saveQuiz(),_0x5bc15f[_0x40578f(0x46f)]=_0x40578f(0x663),_0x4e5cff['textContent']='ย้าย',_0x4e5cff[_0x40578f(0xd5)](_0x40578f(0x811),_0x21bf5a),_0x4e5cff['addEventListener']('click',confirmMoveQuiz)):showMessage(_0x40578f(0x19d));};_0x4e5cff[_0x5cbba3(0xd5)](_0x5cbba3(0x811),confirmMoveQuiz),_0x4e5cff['addEventListener']('click',_0x21bf5a);}function copyTextToClipboard(_0x57e687,_0x301fd6){const _0x4e4973=_0x56afb4,_0x5f19f3=document[_0x4e4973(0x51d)](_0x4e4973(0x838));_0x5f19f3[_0x4e4973(0x54e)]=_0x57e687,_0x5f19f3[_0x4e4973(0x610)][_0x4e4973(0x867)]=_0x4e4973(0x5d6),_0x5f19f3[_0x4e4973(0x610)][_0x4e4973(0x8bc)]='0',document[_0x4e4973(0x71d)][_0x4e4973(0x21a)](_0x5f19f3),_0x5f19f3['focus'](),_0x5f19f3[_0x4e4973(0x64c)]();try{const _0x5d7b2d=document['execCommand'](_0x4e4973(0x2bd));showMessage(_0x5d7b2d?_0x301fd6:_0x4e4973(0x761));}catch(_0x50e97e){showMessage(_0x4e4973(0x761)),console['error']('Copy\x20command\x20failed',_0x50e97e);}document['body'][_0x4e4973(0x506)](_0x5f19f3);}function listenForProjectQuizzes(_0x23259b){const _0x43bb1f=_0x56afb4,_0x1628ea=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x351e8e=query(_0x1628ea,where(_0x43bb1f(0x764),'==',_0x23259b));unsubscribeQuizzesListener=onSnapshot(_0x351e8e,async _0x1ad87e=>{allQuizzes=_0x1ad87e['docs']['map'](_0x39b4d1=>({'id':_0x39b4d1['id'],..._0x39b4d1['data']()})),renderQuizzes();},_0x48147c=>{const _0x379773=_0x43bb1f;console[_0x379773(0x7d6)]('Error\x20fetching\x20project\x20quizzes:',_0x48147c),document[_0x379773(0x574)](_0x379773(0x2e8))[_0x379773(0x8a3)]=_0x379773(0x181);});}async function renderQuizzes(){const _0x232710=_0x56afb4,_0x2874d3=document[_0x232710(0x574)](_0x232710(0x2e8)),_0x5398b6=document[_0x232710(0x574)]('quiz-search-input')[_0x232710(0x54e)][_0x232710(0x56f)]();let _0x4b411c;currentProjectId===_0x232710(0x585)?_0x4b411c=starredQuizzes:_0x4b411c=allQuizzes;let _0x4239cf=_0x4b411c[_0x232710(0x13b)](_0x3e32b1=>_0x3e32b1[_0x232710(0x111)][_0x232710(0x56f)]()[_0x232710(0x7a6)](_0x5398b6));_0x4239cf[_0x232710(0x82b)]((_0x498527,_0x92de6c)=>new Date(_0x92de6c[_0x232710(0x2b6)])-new Date(_0x498527[_0x232710(0x2b6)]));if(_0x4239cf[_0x232710(0x261)]===0x0){_0x2874d3[_0x232710(0x8a3)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x5569c4={},_0x5c4ec1=_0x4239cf[_0x232710(0x757)](async _0x590e51=>{const _0x5881ce=_0x232710,_0x5ac1ef=collection(db,_0x5881ce(0x58f)+appId+'/public/data/quizzes/'+_0x590e51['id']+_0x5881ce(0x16a)),_0x1a822d=await getDocs(_0x5ac1ef);_0x5569c4[_0x590e51['id']]=_0x1a822d[_0x5881ce(0x900)];});await Promise['all'](_0x5c4ec1);let _0x404bef='';_0x4239cf[_0x232710(0x293)](_0x4ce4f5=>{const _0x212a4b=_0x232710,_0x57220d=_0x5569c4[_0x4ce4f5['id']]||0x0,_0x2ecdb1=_0x4ce4f5['status']||'active',_0x423730=_0x4ce4f5[_0x212a4b(0x59e)]?.[_0x212a4b(0x2c6)]||'none';let _0x3327a3='',_0x27299b='';const _0xba074d=new Date();let _0x1d1eeb=_0x2ecdb1;if(_0x2ecdb1===_0x212a4b(0x74e)){const _0x261a73=_0x4ce4f5['startTime']?new Date(_0x4ce4f5['startTime']):null,_0x1c5982=_0x4ce4f5[_0x212a4b(0x7ee)]?new Date(_0x4ce4f5['endTime']):null;if(_0x1c5982&&_0xba074d>_0x1c5982)_0x1d1eeb=_0x212a4b(0x1a2);else _0x261a73&&_0xba074d<_0x261a73?_0x1d1eeb=_0x212a4b(0x5cf):_0x1d1eeb='active';}switch(_0x1d1eeb){case _0x212a4b(0x1a2):_0x3327a3=_0x212a4b(0x874),_0x27299b=_0x212a4b(0x8f3);break;case'scheduled_pending':_0x3327a3='รอเปิด',_0x27299b=_0x212a4b(0x873);break;case _0x212a4b(0x3b9):_0x3327a3=_0x423730!==_0x212a4b(0x372)?_0x212a4b(0x5fb):_0x212a4b(0x7d8),_0x27299b=_0x212a4b(0x4a5);break;default:_0x3327a3=_0x212a4b(0x4c4),_0x27299b=_0x212a4b(0x4a5);break;}let _0x482689='';const _0x59ae3e={'day':'2-digit','month':'2-digit','year':'numeric','hour':_0x212a4b(0x518),'minute':_0x212a4b(0x518),'hour12':![]};if(_0x2ecdb1===_0x212a4b(0x74e)){if(_0x4ce4f5[_0x212a4b(0x7f4)])_0x482689+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x4ce4f5['startTime'])['toLocaleString']('th-TH',_0x59ae3e)+_0x212a4b(0x767);if(_0x4ce4f5[_0x212a4b(0x7ee)])_0x482689+=_0x212a4b(0x52c)+new Date(_0x4ce4f5[_0x212a4b(0x7ee)])[_0x212a4b(0x31f)]('th-TH',_0x59ae3e)+_0x212a4b(0x767);}let _0xfde242='';if(_0x4ce4f5[_0x212a4b(0x7b0)]){const _0x3038a2=allQuizzes[_0x212a4b(0x1c0)](_0x1c2497=>_0x1c2497['id']===_0x4ce4f5['pairedQuizId']);if(_0x3038a2){let _0x37e8cb,_0x1bf67e;new Date(_0x4ce4f5[_0x212a4b(0x2b6)])<new Date(_0x3038a2[_0x212a4b(0x2b6)])?(_0x37e8cb=_0x4ce4f5['id'],_0x1bf67e=_0x3038a2['id']):(_0x37e8cb=_0x3038a2['id'],_0x1bf67e=_0x4ce4f5['id']),_0xfde242+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1bf67e+_0x212a4b(0x48a)+_0x37e8cb+_0x212a4b(0x8c6);}}else _0x4ce4f5[_0x212a4b(0x91e)]===_0x212a4b(0x600)&&(_0xfde242+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4ce4f5['id']+_0x212a4b(0x14c));if(_0x4ce4f5[_0x212a4b(0x91e)]==='pre-test'&&_0x57220d>0x0)_0xfde242+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4ce4f5['id']+_0x212a4b(0x236);else!_0x4ce4f5[_0x212a4b(0x7b0)]&&_0x4ce4f5[_0x212a4b(0x91e)]!==_0x212a4b(0x600)&&_0x57220d>0x0&&(_0xfde242+=_0x212a4b(0x233)+_0x4ce4f5['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x3cf764='';_0x4ce4f5[_0x212a4b(0x7b0)]?_0x3cf764=_0x212a4b(0x6f8)+_0x4ce4f5['id']+_0x212a4b(0x427):_0x3cf764=_0x212a4b(0x6f8)+_0x4ce4f5['id']+_0x212a4b(0x88c),_0x404bef+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x4ce4f5['id']+_0x212a4b(0x5ab)+_0x4ce4f5[_0x212a4b(0x111)]+_0x212a4b(0x2a5)+_0x4ce4f5[_0x212a4b(0x7d5)][_0x212a4b(0x261)]+_0x212a4b(0x664)+new Date(_0x4ce4f5[_0x212a4b(0x2b6)])[_0x212a4b(0x31f)](_0x212a4b(0x443))+_0x212a4b(0x53a)+_0x57220d+_0x212a4b(0x105)+_0x482689+_0x212a4b(0x565)+_0x27299b+'\x22>'+_0x3327a3+_0x212a4b(0x4ae)+_0x4ce4f5['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4ce4f5['id']+_0x212a4b(0x434)+(_0x4ce4f5[_0x212a4b(0x758)]?'fas\x20fa-star\x20text-yellow-500':_0x212a4b(0x828))+_0x212a4b(0x41e)+_0xfde242+_0x212a4b(0x389)+_0x4ce4f5['id']+_0x212a4b(0x90c)+_0x4ce4f5['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4ce4f5['id']+_0x212a4b(0x6ba)+_0x4ce4f5['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4ce4f5['id']+_0x212a4b(0x354)+_0x4ce4f5['id']+_0x212a4b(0x5e0)+_0x4ce4f5['id']+_0x212a4b(0x2cc)+_0x4ce4f5['topic']+_0x212a4b(0x913)+_0x4ce4f5['id']+_0x212a4b(0x83a)+_0x4ce4f5['id']+_0x212a4b(0x5ec)+_0x3cf764+_0x212a4b(0x46d)+_0x4ce4f5['id']+_0x212a4b(0x2e7)+_0x4ce4f5['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4ce4f5['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4ce4f5['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4ce4f5['id']+'\x22\x20data-topic=\x22'+_0x4ce4f5[_0x212a4b(0x111)]+_0x212a4b(0x64f)+_0x4ce4f5['id']+_0x212a4b(0x778);}),_0x2874d3[_0x232710(0x8a3)]=_0x404bef,document[_0x232710(0x706)](_0x232710(0x723))[_0x232710(0x293)](_0x3e29da=>{const _0xac6de2=_0x232710;_0x3e29da[_0xac6de2(0xf2)](_0xac6de2(0x811),()=>{const _0x1bf374=_0xac6de2,_0x4449e8=_0x3e29da['dataset'][_0x1bf374(0x8fa)];showQuizDetailView(_0x4449e8);});});}async function handleUnpairQuiz(_0x4db965){const _0x3e3bc4=_0x56afb4,_0x22863b=allQuizzes[_0x3e3bc4(0x1c0)](_0x13752c=>_0x13752c['id']===_0x4db965);if(!_0x22863b||!_0x22863b[_0x3e3bc4(0x7b0)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x3e3bc4(0x7aa),async()=>{const _0x5e43ee=_0x3e3bc4;try{const _0x4af676=doc(db,_0x5e43ee(0x58f)+appId+_0x5e43ee(0x444),_0x4db965),_0x1b5af1=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x22863b[_0x5e43ee(0x7b0)]),_0x45adb6=writeBatch(db);_0x45adb6['update'](_0x4af676,{'pairedQuizId':null}),_0x45adb6['update'](_0x1b5af1,{'pairedQuizId':null}),await _0x45adb6[_0x5e43ee(0x508)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x198e91){console[_0x5e43ee(0x7d6)]('Error\x20unpairing\x20quizzes:',_0x198e91),showMessage(_0x5e43ee(0x41f));}});}function formatAndPrintLessonPlan(_0x2d8ec8,_0x237bfb){const _0x33e20b=_0x56afb4,_0x81811d=window[_0x33e20b(0x82c)]('','_blank'),_0x2ce7c5=_0x33e20b(0x64a)+_0x237bfb[_0x33e20b(0x111)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x237bfb[_0x33e20b(0x111)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d8ec8[_0x33e20b(0x3f1)][_0x33e20b(0x757)](_0x28efcb=>'<li>'+_0x28efcb+_0x33e20b(0x58b))[_0x33e20b(0x919)]('')+_0x33e20b(0x8be)+_0x2d8ec8[_0x33e20b(0x7af)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d8ec8[_0x33e20b(0x8d8)][_0x33e20b(0x757)](_0x28d624=>_0x33e20b(0x5b9)+_0x28d624[_0x33e20b(0x65f)]+_0x33e20b(0x167)+_0x28d624['solution']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x33e20b(0x919)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x81811d[_0x33e20b(0x903)][_0x33e20b(0x13a)](_0x2ce7c5),_0x81811d[_0x33e20b(0x903)][_0x33e20b(0x8d7)](),_0x81811d[_0x33e20b(0x5db)]=function(){setTimeout(()=>{_0x81811d['print']();},0x3e8);};}async function handleAiFixFormula(_0x7eb748){const _0x1caadb=_0x56afb4,_0x5b9922=document[_0x1caadb(0x351)](_0x1caadb(0x287)+_0x7eb748+'\x22]');if(!_0x5b9922)return;const _0x2a5460=_0x5b9922[_0x1caadb(0xd6)][_0x1caadb(0x13d)],_0x44907f=_0x5b9922[_0x1caadb(0x351)](_0x1caadb(0x144));let _0x12489f={'question':_0x5b9922['querySelector'](_0x1caadb(0x838))[_0x1caadb(0x54e)]};switch(_0x2a5460){case _0x1caadb(0x899):_0x12489f[_0x1caadb(0x721)]=Array[_0x1caadb(0x7eb)](_0x5b9922[_0x1caadb(0x706)](_0x1caadb(0x44b)))[_0x1caadb(0x757)](_0x5db236=>_0x5db236[_0x1caadb(0x54e)]);break;case _0x1caadb(0x62b):_0x12489f[_0x1caadb(0x66a)]=_0x5b9922[_0x1caadb(0x351)](_0x1caadb(0x177))[_0x1caadb(0x54e)];break;case _0x1caadb(0x3ed):_0x12489f[_0x1caadb(0x3aa)]=_0x5b9922[_0x1caadb(0x351)](_0x1caadb(0x25a))[_0x1caadb(0x54e)];break;}_0x44907f[_0x1caadb(0x8a3)]=_0x1caadb(0x44c),_0x44907f[_0x1caadb(0x4b9)]=!![];try{const _0x2c30d9=_0x1caadb(0x716)+JSON[_0x1caadb(0x224)](_0x12489f)+_0x1caadb(0x69d),_0x55c56d={'type':_0x1caadb(0x8b5),'properties':{'fixedData':{'type':_0x1caadb(0x8b5),'properties':{'question':{'type':_0x1caadb(0x7d1)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'idealAnswer':{'type':_0x1caadb(0x7d1)},'correctResponse':{'type':_0x1caadb(0x7d1)}},'required':[_0x1caadb(0x65f)]}},'required':['fixedData']},_0x427a80=await callAnalysisApi(_0x2c30d9,_0x55c56d);if(_0x427a80&&_0x427a80[_0x1caadb(0x7a2)]){const _0x1bd4b0=_0x427a80['fixedData'];_0x5b9922[_0x1caadb(0x351)](_0x1caadb(0x838))[_0x1caadb(0x54e)]=_0x1bd4b0[_0x1caadb(0x65f)]||_0x12489f[_0x1caadb(0x65f)];switch(_0x2a5460){case _0x1caadb(0x899):_0x1bd4b0[_0x1caadb(0x721)]&&_0x1bd4b0[_0x1caadb(0x721)][_0x1caadb(0x261)]>0x0&&_0x5b9922[_0x1caadb(0x706)](_0x1caadb(0x44b))['forEach']((_0x4059a2,_0x16b0a5)=>{const _0x4ff1bb=_0x1caadb;_0x4059a2['value']=_0x1bd4b0[_0x4ff1bb(0x721)][_0x16b0a5]||_0x12489f[_0x4ff1bb(0x721)][_0x16b0a5];});break;case _0x1caadb(0x62b):_0x5b9922[_0x1caadb(0x351)]('.ideal-answer-input')[_0x1caadb(0x54e)]=_0x1bd4b0[_0x1caadb(0x66a)]||_0x12489f[_0x1caadb(0x66a)];break;case _0x1caadb(0x3ed):_0x5b9922[_0x1caadb(0x351)](_0x1caadb(0x25a))[_0x1caadb(0x54e)]=_0x1bd4b0[_0x1caadb(0x3aa)]||_0x12489f[_0x1caadb(0x3aa)];break;}if(_0x12489f[_0x1caadb(0x65f)]!==_0x1bd4b0[_0x1caadb(0x65f)])try{const _0x3c5fd0=collection(db,_0x1caadb(0x58f)+appId+_0x1caadb(0x7e6));await addDoc(_0x3c5fd0,{'broken':_0x12489f[_0x1caadb(0x65f)],'fixed':_0x1bd4b0['question'],'createdAt':serverTimestamp()});}catch(_0x42f62e){console['error'](_0x1caadb(0x386),_0x42f62e);}showMessage(_0x1caadb(0x170));}else throw new Error(_0x1caadb(0x86e));}catch(_0x39b57b){console['error'](_0x1caadb(0x283),_0x39b57b),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x44907f[_0x1caadb(0x8a3)]=_0x1caadb(0x726),_0x44907f[_0x1caadb(0x4b9)]=![];}}async function handleGenerateLessonPlan(_0x57aa5b){const _0x2b3042=_0x56afb4;showMessage(_0x2b3042(0x106));try{const _0x2f2406=doc(db,_0x2b3042(0x58f)+appId+_0x2b3042(0x444),_0x57aa5b),_0xfb62d8=await getDoc(_0x2f2406);if(!_0xfb62d8['exists']())throw new Error(_0x2b3042(0x859));const _0x3aa4b6={'id':_0x57aa5b,..._0xfb62d8[_0x2b3042(0x58c)]()},_0x500f14=collection(db,_0x2b3042(0x58f)+appId+_0x2b3042(0x444),_0x57aa5b,_0x2b3042(0xd0)),_0x853548=await getDocs(_0x500f14),_0x157d6c=_0x853548['docs'][_0x2b3042(0x757)](_0x4d4019=>_0x4d4019[_0x2b3042(0x58c)]());if(_0x157d6c[_0x2b3042(0x261)]===0x0)throw new Error(_0x2b3042(0x8d4));const _0x50db32=calculateItemAnalysis(_0x3aa4b6,_0x157d6c)[_0x2b3042(0x882)],_0x27fedd=calculateDistractorAnalysis(_0x3aa4b6,_0x157d6c),_0x22ab5f=_0x101738=>{const _0x5e7739=_0x2b3042;if(!_0x101738)return'';return _0x101738['replace'](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x5e7739(0x840)](/\n/g,'\x5cn');};let _0x456a01=_0x2b3042(0x599);_0x3aa4b6['questions'][_0x2b3042(0x293)]((_0x385f23,_0x4972ce)=>{const _0x8ce8cf=_0x2b3042,_0x2c5d16=_0x50db32[_0x4972ce]?.['p']['toFixed'](0x2)||'N/A',_0xfb4e1e=_0x50db32[_0x4972ce]?.['r'][_0x8ce8cf(0x6ab)](0x2)||_0x8ce8cf(0x36a),_0x1528b3=_0x22ab5f(_0x385f23[_0x8ce8cf(0x53e)]||_0x385f23[_0x8ce8cf(0x4a3)]);_0x456a01+=_0x8ce8cf(0x6bc)+(_0x4972ce+0x1)+_0x8ce8cf(0x548)+_0x2c5d16+',\x20r='+_0xfb4e1e+_0x8ce8cf(0x3e4)+_0x1528b3+'\x5cn';if(_0x385f23[_0x8ce8cf(0x4b8)]===_0x8ce8cf(0x899)&&_0x27fedd[_0x4972ce]){const _0x3c4cce=_0x27fedd[_0x4972ce],_0x4bb104=Object['keys'](_0x3c4cce)[_0x8ce8cf(0x13b)](_0x50b848=>parseInt(_0x50b848)!==_0x385f23[_0x8ce8cf(0x800)])[_0x8ce8cf(0x82b)]((_0x11d4a7,_0x5ef967)=>_0x3c4cce[_0x5ef967]['total']-_0x3c4cce[_0x11d4a7][_0x8ce8cf(0x845)])[0x0];if(_0x4bb104&&_0x3c4cce[_0x4bb104][_0x8ce8cf(0x845)]>0x0){const _0x65c4fd=_0x22ab5f(_0x3c4cce[_0x4bb104][_0x8ce8cf(0x28f)]);_0x456a01+=_0x8ce8cf(0x733)+_0x65c4fd+_0x8ce8cf(0x59a);}}});const _0x59914d=_0x2b3042(0x2d6)+_0x3aa4b6[_0x2b3042(0x111)]+_0x2b3042(0x56a)+_0x456a01+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x394e26={'type':'OBJECT','properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x2b3042(0x7d1)}},'teachingContent':{'type':_0x2b3042(0x7d1)},'practiceProblems':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}}}}},'required':[_0x2b3042(0x3f1),_0x2b3042(0x7af),_0x2b3042(0x8d8)]},_0x3a1e3a=await callAnalysisApi(_0x59914d,_0x394e26);await updateDoc(_0x2f2406,{'lessonPlan':_0x3a1e3a});const _0x535b31=_0x2b3042(0x8e9)+_0x3aa4b6[_0x2b3042(0x111)]+_0x2b3042(0x43d)+_0x3a1e3a['learningGaps'][_0x2b3042(0x757)](_0x2061ef=>_0x2b3042(0x816)+_0x2061ef+'</li>')[_0x2b3042(0x919)]('')+_0x2b3042(0x204)+_0x3a1e3a['teachingContent']+_0x2b3042(0x6a3)+_0x3a1e3a[_0x2b3042(0x8d8)][_0x2b3042(0x757)](_0x2efe7e=>_0x2b3042(0x8e6)+_0x2efe7e[_0x2b3042(0x65f)]+_0x2b3042(0x902)+_0x2efe7e['solution']+'</p></div>')['join']('')+_0x2b3042(0x5e2);document[_0x2b3042(0x574)]('lesson-plan-title')[_0x2b3042(0x46f)]=_0x2b3042(0x75a)+_0x3aa4b6[_0x2b3042(0x111)],document[_0x2b3042(0x574)](_0x2b3042(0x3df))[_0x2b3042(0x8a3)]=_0x535b31,document['getElementById'](_0x2b3042(0x644))[_0x2b3042(0x92b)][_0x2b3042(0x112)](_0x2b3042(0x384));if(window[_0x2b3042(0x784)])MathJax['typesetPromise']();messageModal[_0x2b3042(0x92b)][_0x2b3042(0x3fa)](_0x2b3042(0x384));}catch(_0x380069){console['error'](_0x2b3042(0x295),_0x380069),showMessage('เกิดข้อผิดพลาด:\x20'+_0x380069[_0x2b3042(0x69a)]);}}async function handleDuplicateQuiz(_0x3cd265){const _0x3bc451=_0x56afb4;try{const _0x43d7ea=doc(db,'artifacts/'+appId+_0x3bc451(0x444),_0x3cd265),_0x372676=await getDoc(_0x43d7ea);if(_0x372676['exists']()){const _0x21c7df=_0x372676[_0x3bc451(0x58c)]();let _0x28155a='',_0x15ad7a=_0x3bc451(0x801),_0x371a0f=null;if(_0x21c7df[_0x3bc451(0x91e)]===_0x3bc451(0x600)){let _0x48d403=_0x21c7df[_0x3bc451(0x111)][_0x3bc451(0x840)](_0x3bc451(0x715),'')[_0x3bc451(0x4b1)]();_0x28155a=_0x3bc451(0x250)+_0x48d403,_0x15ad7a='post-test',_0x371a0f=_0x3cd265;}else _0x28155a=_0x3bc451(0x463)+_0x21c7df[_0x3bc451(0x111)];const _0x11e808={..._0x21c7df,'topic':_0x28155a,'createdAt':new Date()['toISOString'](),'quizMode':_0x15ad7a,'pairedQuizId':_0x371a0f};let _0x475033;while(!![]){_0x475033=Math[_0x3bc451(0x504)](0x3e8+Math['random']()*0x2328)[_0x3bc451(0x8c5)]();const _0x52fb15=await getDoc(doc(db,_0x3bc451(0x58f)+appId+_0x3bc451(0x444),_0x475033));if(!_0x52fb15[_0x3bc451(0x5f0)]())break;}const _0x30c12b=doc(db,_0x3bc451(0x58f)+appId+_0x3bc451(0x444),_0x475033);await setDoc(_0x30c12b,_0x11e808),_0x11e808[_0x3bc451(0x91e)]==='post-test'&&await updateDoc(_0x43d7ea,{'pairedQuizId':_0x475033}),showMessage(_0x3bc451(0x691));}else throw new Error(_0x3bc451(0x318));}catch(_0x4a88ba){console[_0x3bc451(0x7d6)](_0x3bc451(0x447),_0x4a88ba),showMessage(_0x3bc451(0x73a));}}async function handleDeleteQuiz(_0x2219ec,_0x52fd84=!![]){const _0x5710eb=_0x56afb4;try{const _0x521772=writeBatch(db),_0x3a31fd=collection(db,_0x5710eb(0x58f)+appId+_0x5710eb(0x381)+_0x2219ec+'/submissions'),_0x3a1531=await getDocs(_0x3a31fd);_0x3a1531['forEach'](_0x59af43=>{const _0x4af772=_0x5710eb;_0x521772[_0x4af772(0x751)](doc(_0x3a31fd,_0x59af43['id']));});const _0x21357c=doc(db,'artifacts/'+appId+_0x5710eb(0x444),_0x2219ec);_0x521772[_0x5710eb(0x751)](_0x21357c),await _0x521772[_0x5710eb(0x508)](),_0x52fd84&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x5d4427){console[_0x5710eb(0x7d6)](_0x5710eb(0x8f8),_0x5d4427),_0x52fd84&&showMessage(_0x5710eb(0x2ce));}}async function showQuizDetailView(_0x1de47a){const _0x399197=_0x56afb4;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x573abb=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1de47a),_0x4f5210=await getDoc(_0x573abb);if(!_0x4f5210[_0x399197(0x5f0)]()){showMessage(_0x399197(0x859));return;}const _0x274354={'id':_0x4f5210['id'],..._0x4f5210[_0x399197(0x58c)]()};currentQuizData=_0x274354;const _0xd9d109=doc(db,'artifacts/'+appId+_0x399197(0x785),_0x274354[_0x399197(0x764)]),_0x145c46=await getDoc(_0xd9d109);_0x145c46[_0x399197(0x5f0)]()?(currentProjectData=_0x145c46[_0x399197(0x58c)](),currentProjectId=_0x274354[_0x399197(0x764)]):(currentProjectData={'students':[]},currentProjectId=_0x274354['projectId']);document[_0x399197(0x574)](_0x399197(0x29d))['textContent']=_0x274354[_0x399197(0x111)],document['getElementById'](_0x399197(0x1bf))[_0x399197(0x46f)]=_0x1de47a;const _0x559a55=collection(db,_0x399197(0x58f)+appId+_0x399197(0x444),_0x1de47a,_0x399197(0xd0));unsubscribeSubmissionsListener=onSnapshot(_0x559a55,_0x3e6827=>{const _0x447418=_0x399197,_0x468798=_0x3e6827[_0x447418(0x3e0)][_0x447418(0x757)](_0x97ef84=>({'id':_0x97ef84['id'],..._0x97ef84[_0x447418(0x58c)]()}));currentSubmissions=_0x468798;const _0x5eb65e=_0x468798['filter'](_0x3bfa36=>_0x3bfa36[_0x447418(0x4bd)]&&_0x3bfa36[_0x447418(0x4bd)][_0x447418(0x261)]>0x0);renderBehaviorLog(_0x468798),renderAnswerGrid(currentProjectData[_0x447418(0x3b2)],_0x5eb65e,_0x274354),renderAnalytics(_0x274354,_0x5eb65e),renderQuizResultsTable(currentProjectData['students'],_0x468798,_0x274354),renderQuizLeaderboard(_0x5eb65e,_0x274354,_0x447418(0x3d0));}),showView('quiz-results');}catch(_0x230c8){console[_0x399197(0x7d6)](_0x399197(0x1ff),_0x230c8),showMessage(_0x399197(0x237));}}function renderAnswerGrid(_0x1265ef,_0x2b07d2,_0xc854e){const _0x8a658f=_0x56afb4,_0x2ee8e2=document[_0x8a658f(0x574)]('answer-grid-container');if(!_0x2ee8e2)return;if(!_0x1265ef||_0x1265ef['length']===0x0){_0x2ee8e2[_0x8a658f(0x8a3)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x16a71b=_0xc854e['questions'],_0x4f1f35=_0x2b07d2[_0x8a658f(0x195)]((_0x3b4132,_0x1a25ba)=>{return _0x3b4132[_0x1a25ba['studentName']]=_0x1a25ba,_0x3b4132;},{}),_0x53b56e=_0x2bab3f=>String[_0x8a658f(0x601)](0x41+_0x2bab3f),_0x2e9640=_0x252f7a=>{const _0xc35f51=_0x8a658f,_0x708a9d=_0x252f7a[_0xc35f51(0x4b8)]||_0xc854e['quizType'];switch(_0x708a9d){case _0xc35f51(0x899):return _0x252f7a['options']&&_0x252f7a['options'][_0xc35f51(0x261)]>_0x252f7a[_0xc35f51(0x800)]?_0x53b56e(_0x252f7a['correctAnswerIndex']):'-';case _0xc35f51(0x89d):return _0x252f7a[_0xc35f51(0x53b)]?_0xc35f51(0x417):_0xc35f51(0x876);case _0xc35f51(0x3ed):return _0x252f7a['correctResponse']||'-';case _0xc35f51(0x62b):return _0xc35f51(0x7dd);default:return'-';}},_0x16f5c9=(_0x1da637,_0x196426)=>{const _0x39fef1=_0x8a658f;if(_0x196426['answer']===null||_0x196426['answer']===undefined)return'-';const _0x4c6eea=_0x1da637[_0x39fef1(0x4b8)]||_0xc854e[_0x39fef1(0x185)];switch(_0x4c6eea){case _0x39fef1(0x899):const _0x4741e6=_0x1da637[_0x39fef1(0x721)][_0x39fef1(0x7b7)](_0x54e5f5=>_0x54e5f5===_0x196426[_0x39fef1(0x77e)]);return _0x4741e6!==-0x1?_0x53b56e(_0x4741e6):_0x196426[_0x39fef1(0x77e)]||'-';case _0x39fef1(0x89d):return _0x196426[_0x39fef1(0x90d)]==='true'||_0x196426[_0x39fef1(0x90d)]===!![]?_0x39fef1(0x417):_0x39fef1(0x876);default:return _0x196426[_0x39fef1(0x90d)];}};let _0x1e8104='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16a71b['map']((_0x413503,_0x35930f)=>_0x8a658f(0x32d)+(_0x35930f+0x1)+'</th>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16a71b[_0x8a658f(0x757)](_0x560e7a=>_0x8a658f(0x350)+_0x2e9640(_0x560e7a)+_0x8a658f(0x85d))[_0x8a658f(0x919)]('')+_0x8a658f(0x532);_0x1265ef[_0x8a658f(0x293)](_0x2d1470=>{const _0x31f8db=_0x8a658f;_0x1e8104+='<tr>',_0x1e8104+=_0x31f8db(0x377)+_0x2d1470+_0x31f8db(0x85d);const _0x375137=_0x4f1f35[_0x2d1470];if(_0x375137){const _0x65a6a6=_0x375137[_0x31f8db(0x4bd)][_0x375137[_0x31f8db(0x4bd)]['length']-0x1];_0x16a71b[_0x31f8db(0x293)]((_0x4271b4,_0x2247e0)=>{const _0x4202f9=_0x31f8db,_0x33168b=_0x65a6a6[_0x4202f9(0x418)][_0x4202f9(0x1c0)](_0x1df977=>_0x1df977[_0x4202f9(0x468)]===(_0x4271b4[_0x4202f9(0x4a3)]||_0x4271b4['questionText']));if(_0x33168b){let _0x5d5734=![];const _0x3e2503=_0x4271b4['questionType']||_0xc854e[_0x4202f9(0x185)];if(_0x33168b['answer']!==null&&_0x33168b[_0x4202f9(0x90d)]!==undefined)switch(_0x3e2503){case'multiple_choice':const _0x3e32f2=_0x4271b4[_0x4202f9(0x721)][_0x4271b4[_0x4202f9(0x800)]];_0x5d5734=_0x33168b[_0x4202f9(0x77e)]===_0x3e32f2;break;case _0x4202f9(0x89d):const _0xc0ccd1=_0x33168b[_0x4202f9(0x90d)]===!![]||_0x33168b[_0x4202f9(0x90d)]===_0x4202f9(0x3ff);_0x5d5734=_0xc0ccd1===_0x4271b4[_0x4202f9(0x53b)];break;case _0x4202f9(0x3ed):_0x5d5734=_0x33168b[_0x4202f9(0x90d)]===_0x4271b4[_0x4202f9(0x3aa)];break;default:_0x5d5734=_0x33168b[_0x4202f9(0x440)];break;}const _0x48acc3=_0x5d5734?_0x4202f9(0x880):'bg-red-100';_0x1e8104+=_0x4202f9(0x2c9)+_0x48acc3+'\x22>'+_0x16f5c9(_0x4271b4,_0x33168b)+_0x4202f9(0x85d);}else _0x1e8104+=_0x4202f9(0x8a7);});}else _0x1e8104+=_0x16a71b[_0x31f8db(0x757)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x31f8db(0x919)]('');_0x1e8104+='</tr>';}),_0x1e8104+='</tbody></table>',_0x2ee8e2[_0x8a658f(0x8a3)]=_0x1e8104;}function renderQuizResultsTable(_0x991adf,_0x14190a,_0x4147e5){const _0x28c261=_0x56afb4,_0x194c54=_0x14190a['reduce']((_0x4a01ff,_0x37eb05)=>{const _0x5ed472=_0x1cf4;return _0x4a01ff[_0x37eb05[_0x5ed472(0x460)]]=_0x37eb05,_0x4a01ff;},{}),_0x592556=document[_0x28c261(0x351)](_0x28c261(0x10f));_0x592556&&!_0x592556[_0x28c261(0x8a3)][_0x28c261(0x7a6)](_0x28c261(0x4fe))&&(_0x592556[_0x28c261(0x8a3)]+=_0x28c261(0x3a5));const _0x8ccd24=document[_0x28c261(0x574)](_0x28c261(0x84c));if(!_0x991adf||_0x991adf['length']===0x0){_0x8ccd24['innerHTML']=_0x28c261(0x84d);return;}const _0x69d1de=_0x4147e5[_0x28c261(0x1e7)]===!![],_0x4cc2cb=_0x4147e5[_0x28c261(0x59e)]?.[_0x28c261(0x5ff)]??-0x1;let _0x4837c9='';_0x991adf[_0x28c261(0x293)](_0x51dfa2=>{const _0x3d6347=_0x28c261,_0x518f39=_0x194c54[_0x51dfa2];let _0x147205=_0x3d6347(0x234)+(_0x69d1de?_0x3d6347(0x91d):_0x3d6347(0x482))+'\x22>'+(_0x69d1de?_0x3d6347(0x578):_0x3d6347(0x678))+_0x3d6347(0x27b);if(_0x518f39){if(_0x518f39['attempts']&&_0x518f39[_0x3d6347(0x4bd)][_0x3d6347(0x261)]>0x0){let _0x350b24=_0x69d1de?_0x518f39[_0x3d6347(0x223)]===_0x518f39[_0x3d6347(0x6a6)]:_0x4cc2cb!==-0x1&&_0x518f39[_0x3d6347(0x223)]>=_0x4cc2cb;const _0x34d0ff=_0x350b24?_0x3d6347(0x462):'bg-red-100\x20text-red-800',_0x535fa8=_0x350b24?_0x3d6347(0x6c0):_0x3d6347(0x7b3),_0x103e1b=_0x3d6347(0x56c)+_0x34d0ff+'\x22>'+_0x535fa8+_0x3d6347(0x27b),_0x52cb03=_0x3d6347(0x77c)+(_0x518f39[_0x3d6347(0x4bd)]?.[_0x3d6347(0x261)]||0x1)+'\x20ครั้ง)</span></td>';_0x4837c9+=_0x3d6347(0x60f)+_0x51dfa2+_0x3d6347(0x1c3)+_0x518f39[_0x3d6347(0x223)]+_0x3d6347(0x77d)+_0x518f39['totalQuestions']+_0x3d6347(0xdd)+_0x103e1b+_0x3d6347(0x905)+_0x147205+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x518f39[_0x3d6347(0x558)]+_0x3d6347(0x77d)+_0x518f39[_0x3d6347(0x6a6)]+_0x3d6347(0x44e)+_0x518f39[_0x3d6347(0x1d1)]+'\x20/\x20'+_0x518f39[_0x3d6347(0x6a6)]+_0x3d6347(0x54a)+(_0x518f39['points']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52cb03+_0x3d6347(0x91b)+new Date(_0x518f39[_0x3d6347(0x335)])[_0x3d6347(0x31f)](_0x3d6347(0x443))+_0x3d6347(0x740)+_0x51dfa2+_0x3d6347(0x262);}else{const _0x580cc9=_0x3d6347(0x1d0);_0x4837c9+=_0x3d6347(0x68d)+_0x51dfa2+_0x3d6347(0xe0)+_0x147205+_0x3d6347(0x2a4)+_0x580cc9+_0x3d6347(0x91b)+new Date(_0x518f39[_0x3d6347(0x1f5)])['toLocaleString'](_0x3d6347(0x443))+_0x3d6347(0x1d2)+_0x51dfa2+_0x3d6347(0x262);}}else{const _0x1f79e0=_0x3d6347(0x7e9);_0x4837c9+=_0x3d6347(0x7bd)+_0x51dfa2+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x147205+_0x3d6347(0x586)+_0x1f79e0+_0x3d6347(0x3e7);}}),_0x8ccd24[_0x28c261(0x8a3)]=_0x4837c9;}async function confirmRenameQuiz(){const _0x6f2643=_0x56afb4,_0x2209a5=document[_0x6f2643(0x574)](_0x6f2643(0x6e8))[_0x6f2643(0x54e)][_0x6f2643(0x4b1)]();if(!_0x2209a5){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x390523=doc(db,_0x6f2643(0x58f)+appId+_0x6f2643(0x444),actionTargetId);try{await updateDoc(_0x390523,{'topic':_0x2209a5}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x6f2643(0x92b)][_0x6f2643(0x3fa)](_0x6f2643(0x384)),actionTargetId=null;}catch(_0x519271){console[_0x6f2643(0x7d6)]('Error\x20renaming\x20quiz:',_0x519271),showMessage(_0x6f2643(0x7f6));}}async function handleMoveQuiz(_0x15af23){const _0x388dfa=_0x56afb4;actionTargetId=_0x15af23;const _0x37d9cb=document['getElementById'](_0x388dfa(0x698));_0x37d9cb[_0x388dfa(0x8a3)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x388dfa(0x92b)][_0x388dfa(0x112)](_0x388dfa(0x384));try{const _0x3b9e3d=collection(db,_0x388dfa(0x58f)+appId+_0x388dfa(0x785)),_0x5c5dee=await getDocs(_0x3b9e3d),_0x326331=_0x5c5dee[_0x388dfa(0x3e0)][_0x388dfa(0x757)](_0x46a6ea=>({'id':_0x46a6ea['id'],..._0x46a6ea['data']()})),_0x3b2d21=_0x326331[_0x388dfa(0x13b)](_0x1fa47b=>_0x1fa47b['id']!==currentProjectId);if(_0x3b2d21[_0x388dfa(0x261)]===0x0){_0x37d9cb['innerHTML']=_0x388dfa(0x6c8),document['getElementById'](_0x388dfa(0x313))[_0x388dfa(0x4b9)]=!![];return;}_0x37d9cb[_0x388dfa(0x8a3)]=_0x3b2d21[_0x388dfa(0x757)](_0x11e63f=>_0x388dfa(0x45c)+_0x11e63f['id']+'\x22>'+_0x11e63f[_0x388dfa(0x1dc)]+'</option>')[_0x388dfa(0x919)](''),document[_0x388dfa(0x574)]('confirm-move-quiz-btn')[_0x388dfa(0x4b9)]=![];}catch(_0x19a2eb){console['error'](_0x388dfa(0x355),_0x19a2eb),showMessage(_0x388dfa(0xd8)),moveQuizModal['classList']['add'](_0x388dfa(0x384));}}async function confirmMoveQuiz(){const _0x3de350=_0x56afb4,_0x1b24be=document[_0x3de350(0x574)](_0x3de350(0x698))[_0x3de350(0x54e)];if(!_0x1b24be){showMessage(_0x3de350(0x22a));return;}if(!actionTargetId)return;const _0x4e49f1=doc(db,_0x3de350(0x58f)+appId+_0x3de350(0x444),actionTargetId);try{await updateDoc(_0x4e49f1,{'projectId':_0x1b24be}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x3de350(0x92b)][_0x3de350(0x3fa)]('hidden'),actionTargetId=null;}catch(_0x2bb961){console[_0x3de350(0x7d6)](_0x3de350(0x19c),_0x2bb961),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0xcd6b36){const _0x4dc471=_0x56afb4;actionTargetId=_0xcd6b36;const _0x425c9f=doc(db,_0x4dc471(0x58f)+appId+_0x4dc471(0x444),_0xcd6b36);try{const _0x89cd64=await getDoc(_0x425c9f);if(_0x89cd64['exists']()){const _0x32468a=_0x89cd64['data'](),_0x147077=_0x32468a[_0x4dc471(0x59e)]||{},_0x3a0422=_0x32468a['questions'][_0x4dc471(0x261)];document['getElementById']('modal-shuffle-select')[_0x4dc471(0x54e)]=_0x147077[_0x4dc471(0x50b)]||_0x4dc471(0x372),document['getElementById']('modal-results-display-select')[_0x4dc471(0x54e)]=_0x147077[_0x4dc471(0x36c)]||'show_results_and_answers',document[_0x4dc471(0x574)](_0x4dc471(0x3cc))[_0x4dc471(0x54e)]=_0x147077['timerMode']||_0x4dc471(0x372),document[_0x4dc471(0x574)]('modal-timer-duration-input')['value']=_0x147077[_0x4dc471(0x5cd)]||0xa,document[_0x4dc471(0x574)](_0x4dc471(0x92f))[_0x4dc471(0x54e)]=_0x147077[_0x4dc471(0x5ff)]||Math[_0x4dc471(0x504)](_0x3a0422/0x2),document[_0x4dc471(0x574)]('modal-passing-score-input')[_0x4dc471(0x5cc)]=_0x3a0422,document[_0x4dc471(0x574)]('modal-adaptive-quiz-checkbox')[_0x4dc471(0x5dd)]=_0x147077[_0x4dc471(0x5c9)]||![],document[_0x4dc471(0x574)](_0x4dc471(0x26c))['checked']=_0x147077[_0x4dc471(0x511)]||![],document[_0x4dc471(0x574)](_0x4dc471(0x3cc))[_0x4dc471(0x5a7)](new Event(_0x4dc471(0x589))),quizSettingsModal[_0x4dc471(0x92b)][_0x4dc471(0x112)](_0x4dc471(0x384));}else showMessage(_0x4dc471(0x859));}catch(_0x337ed6){console[_0x4dc471(0x7d6)](_0x4dc471(0x66c),_0x337ed6),showMessage(_0x4dc471(0x152));}}async function confirmQuizSettings(){const _0x4de99f=_0x56afb4;if(!actionTargetId)return;const _0x1f94b5=doc(db,'artifacts/'+appId+_0x4de99f(0x444),actionTargetId),_0x3cd3a3={'shuffle':document['getElementById']('modal-shuffle-select')[_0x4de99f(0x54e)],'resultsDisplay':document[_0x4de99f(0x574)](_0x4de99f(0x779))[_0x4de99f(0x54e)],'timerMode':document[_0x4de99f(0x574)](_0x4de99f(0x3cc))[_0x4de99f(0x54e)],'timerDuration':parseInt(document['getElementById'](_0x4de99f(0x7c1))[_0x4de99f(0x54e)])||0xa,'passingScore':parseInt(document[_0x4de99f(0x574)]('modal-passing-score-input')[_0x4de99f(0x54e)])||0x0,'passingScore':parseInt(document['getElementById']('modal-passing-score-input')['value'])||0x0,'isAdaptive':document[_0x4de99f(0x574)](_0x4de99f(0x4fb))[_0x4de99f(0x5dd)],'loopUntilPass':document['getElementById'](_0x4de99f(0x26c))['checked']};try{await updateDoc(_0x1f94b5,{'settings':_0x3cd3a3}),showMessage(_0x4de99f(0x775)),quizSettingsModal[_0x4de99f(0x92b)][_0x4de99f(0x3fa)]('hidden'),actionTargetId=null;}catch(_0x4e76fe){console[_0x4de99f(0x7d6)](_0x4de99f(0x107),_0x4e76fe),showMessage(_0x4de99f(0x8b0));}}async function handleQuizStatus(_0x4b01e4){const _0x1aa871=_0x56afb4;actionTargetId=_0x4b01e4;const _0x35da58=doc(db,'artifacts/'+appId+_0x1aa871(0x444),_0x4b01e4);try{const _0x5cda37=await getDoc(_0x35da58);if(_0x5cda37[_0x1aa871(0x5f0)]()){const _0x249dc4=_0x5cda37['data'](),_0x4c9627=_0x249dc4['status']||_0x1aa871(0x3b9),_0x497631=document['getElementById'](_0x1aa871(0x8bd)),_0x533ca3=document[_0x1aa871(0x574)](_0x1aa871(0x4e3)),_0x4b8473=document[_0x1aa871(0x574)]('quiz-schedule-end-container');let _0x11eb41='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20'+(_0x4c9627===_0x1aa871(0x3b9)?'checked':'')+'>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20'+(_0x4c9627===_0x1aa871(0x1a2)?_0x1aa871(0x5dd):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x4c9627===_0x1aa871(0x74e)?_0x1aa871(0x5dd):'')+'>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x497631[_0x1aa871(0x8a3)]=_0x11eb41;const _0x32715e=_0x4c9627===_0x1aa871(0x74e);_0x533ca3[_0x1aa871(0x92b)][_0x1aa871(0x406)](_0x1aa871(0x384),!_0x32715e),_0x4b8473[_0x1aa871(0x92b)]['toggle']('hidden',!_0x32715e),document[_0x1aa871(0x574)]('quiz-start-time')[_0x1aa871(0x54e)]=_0x249dc4['startTime']?_0x249dc4[_0x1aa871(0x7f4)][_0x1aa871(0x5f9)](0x0,0x10):'',document['getElementById']('quiz-end-time')['value']=_0x249dc4['endTime']?_0x249dc4['endTime'][_0x1aa871(0x5f9)](0x0,0x10):'',_0x497631['querySelectorAll']('input[name=\x22status-option\x22]')[_0x1aa871(0x293)](_0x525de2=>{const _0xff84ec=_0x1aa871;_0x525de2[_0xff84ec(0xf2)](_0xff84ec(0x589),_0xfa8967=>{const _0x1a4fcb=_0xff84ec,_0x15c426=_0xfa8967[_0x1a4fcb(0x868)][_0x1a4fcb(0x54e)]===_0x1a4fcb(0x158);_0x533ca3[_0x1a4fcb(0x92b)][_0x1a4fcb(0x406)]('hidden',!_0x15c426),_0x4b8473[_0x1a4fcb(0x92b)][_0x1a4fcb(0x406)]('hidden',!_0x15c426);});}),quizStatusModal[_0x1aa871(0x92b)][_0x1aa871(0x112)]('hidden');}}catch(_0x470dbd){console[_0x1aa871(0x7d6)]('Error\x20fetching\x20quiz\x20status:',_0x470dbd),showMessage('เกิดข้อผิดพลาดในการโหลดสถานะ');}}async function confirmQuizStatus(){const _0x30a91a=_0x56afb4;if(!actionTargetId)return;const _0x59dcc3=doc(db,_0x30a91a(0x58f)+appId+_0x30a91a(0x444),actionTargetId),_0xc7eaf3=document[_0x30a91a(0x351)](_0x30a91a(0x3f0));if(!_0xc7eaf3){showMessage(_0x30a91a(0x2df));return;}const _0x39298e=_0xc7eaf3[_0x30a91a(0x54e)];let _0x362404={};if(_0x39298e===_0x30a91a(0x3b9)||_0x39298e===_0x30a91a(0x1a2))_0x362404={'status':_0x39298e,'startTime':null,'endTime':null};else{if(_0x39298e==='schedule'){const _0x48f135=document[_0x30a91a(0x574)](_0x30a91a(0x628))[_0x30a91a(0x54e)],_0x57b7f3=document[_0x30a91a(0x574)](_0x30a91a(0x15e))[_0x30a91a(0x54e)];if(!_0x48f135&&!_0x57b7f3){showMessage(_0x30a91a(0x1b5));return;}_0x362404={'status':'scheduled','startTime':_0x48f135?new Date(_0x48f135)[_0x30a91a(0xfe)]():null,'endTime':_0x57b7f3?new Date(_0x57b7f3)[_0x30a91a(0xfe)]():null};}}try{await updateDoc(_0x59dcc3,_0x362404),showMessage(_0x30a91a(0x84a)),quizStatusModal[_0x30a91a(0x92b)][_0x30a91a(0x3fa)](_0x30a91a(0x384)),actionTargetId=null;}catch(_0x467b77){console['error'](_0x30a91a(0x297),_0x467b77),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x2c2bff){const _0x324880=_0x56afb4,_0x3011b4=collection(db,_0x324880(0x58f)+appId+_0x324880(0x59f)+_0x2c2bff+_0x324880(0x17b));unsubscribeStudentProfilesListener=onSnapshot(_0x3011b4,_0x21c88d=>{const _0x411df8=_0x324880,_0x1fee71=_0x21c88d['docs'][_0x411df8(0x757)](_0x9a83a6=>_0x9a83a6['data']());renderLeaderboard(_0x1fee71,'leaderboard-table-body');},_0x568f18=>{const _0x15f200=_0x324880;console['error'](_0x15f200(0x542),_0x568f18),document['getElementById'](_0x15f200(0x45a))[_0x15f200(0x8a3)]=_0x15f200(0x1c4);});}function renderLeaderboard(_0x1e1d76,_0x16a7ae){const _0x5415f8=_0x56afb4,_0x57b196=document[_0x5415f8(0x574)](_0x16a7ae);if(!_0x1e1d76||_0x1e1d76['length']===0x0){_0x57b196[_0x5415f8(0x8a3)]=_0x5415f8(0x334);return;}_0x1e1d76[_0x5415f8(0x82b)]((_0x3c0ed6,_0x1f24ce)=>{const _0x2f3545=_0x5415f8,_0x3068d5=(_0x1f24ce[_0x2f3545(0x4e0)]||0x0)-(_0x3c0ed6[_0x2f3545(0x4e0)]||0x0);if(_0x3068d5!==0x0)return _0x3068d5;const _0x38490b=(_0x1f24ce[_0x2f3545(0x39c)]?.[_0x2f3545(0x5d8)]||0x0)-(_0x3c0ed6[_0x2f3545(0x39c)]?.[_0x2f3545(0x5d8)]||0x0);if(_0x38490b!==0x0)return _0x38490b;const _0x43020b=(_0x1f24ce[_0x2f3545(0x39c)]?.[_0x2f3545(0x31d)]||0x0)-(_0x3c0ed6[_0x2f3545(0x39c)]?.[_0x2f3545(0x31d)]||0x0);if(_0x43020b!==0x0)return _0x43020b;const _0x1b0256=(_0x1f24ce[_0x2f3545(0x39c)]?.[_0x2f3545(0x6bf)]||0x0)-(_0x3c0ed6[_0x2f3545(0x39c)]?.[_0x2f3545(0x6bf)]||0x0);if(_0x1b0256!==0x0)return _0x1b0256;const _0x231168=(_0x1f24ce['badgesCount']?.[_0x2f3545(0x2f7)]||0x0)-(_0x3c0ed6[_0x2f3545(0x39c)]?.['quick_thinker']||0x0);if(_0x231168!==0x0)return _0x231168;return _0x3c0ed6[_0x2f3545(0x460)][_0x2f3545(0x5bf)](_0x1f24ce[_0x2f3545(0x460)],'th');});let _0x356887='';_0x1e1d76[_0x5415f8(0x293)]((_0x1875bb,_0x2d87f6)=>{const _0x5ac4ca=_0x5415f8,_0x1f7816=_0x2d87f6+0x1,_0x5145d6=_0x1875bb[_0x5ac4ca(0x39c)]||{};let _0x53b5f5='';const _0x5ea2e9=[_0x5ac4ca(0x5d8),_0x5ac4ca(0x6bf),_0x5ac4ca(0x31d),_0x5ac4ca(0x2f7)];_0x5ea2e9[_0x5ac4ca(0x293)](_0x235d07=>{const _0x44e41b=_0x5ac4ca;if(_0x5145d6[_0x235d07]>0x0){const _0x28b2cc=Object[_0x44e41b(0x130)](BADGES)[_0x44e41b(0x1c0)](_0x16a509=>_0x16a509['id']===_0x235d07);_0x28b2cc&&(_0x235d07===_0x44e41b(0x5d8)?_0x53b5f5+=_0x44e41b(0x648)+_0x28b2cc[_0x44e41b(0x79e)]+_0x44e41b(0x150)+_0x28b2cc[_0x44e41b(0x2e2)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x53b5f5+=_0x44e41b(0x648)+_0x28b2cc[_0x44e41b(0x79e)]+'\x20('+_0x5145d6[_0x235d07]+_0x44e41b(0x8a8)+_0x28b2cc['icon']+_0x44e41b(0x6f3)+_0x5145d6[_0x235d07]+_0x44e41b(0xe4));}}),_0x356887+=_0x5ac4ca(0x5e7)+_0x1f7816+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1875bb[_0x5ac4ca(0x460)]+_0x5ac4ca(0x232)+(_0x1875bb[_0x5ac4ca(0x4e0)]||0x0)+_0x5ac4ca(0x808)+(_0x53b5f5||'-')+_0x5ac4ca(0x19b);}),_0x57b196[_0x5415f8(0x8a3)]=_0x356887;}function displayLoopScreen(_0x19751e,_0x30cb07,_0x1ffad7){const _0x3d43c8=_0x56afb4;let _0x4940e4='';_0x1ffad7!==_0x3d43c8(0x156)&&(_0x4940e4=_0x3d43c8(0x44f)+_0x19751e+_0x3d43c8(0x77d)+_0x30cb07+_0x3d43c8(0x836));const _0x307df0=_0x3d43c8(0x595)+_0x4940e4+_0x3d43c8(0x206);studentResultArea[_0x3d43c8(0x8a3)]=_0x307df0,studentResultArea[_0x3d43c8(0x92b)][_0x3d43c8(0x112)](_0x3d43c8(0x384)),studentQuizArea[_0x3d43c8(0x92b)][_0x3d43c8(0x3fa)](_0x3d43c8(0x384)),document[_0x3d43c8(0x574)](_0x3d43c8(0x75b))['addEventListener'](_0x3d43c8(0x811),()=>{const _0x433c4a=_0x3d43c8;studentResultArea[_0x433c4a(0x92b)][_0x433c4a(0x3fa)](_0x433c4a(0x384)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x22b7fb,_0x73045c,_0x31ac25){const _0x16ea12=_0x56afb4,_0x2ca892=document[_0x16ea12(0x574)](_0x31ac25),_0x4d1a32=_0x31ac25===_0x16ea12(0x38d),_0x2cc5a4=_0x73045c[_0x16ea12(0x7d5)]['length'],_0x4bea6f=document[_0x16ea12(0x574)](_0x31ac25)[_0x16ea12(0x213)](_0x16ea12(0x612));if(_0x4bea6f&&!_0x4d1a32){const _0x257304=_0x4bea6f[_0x16ea12(0x351)](_0x16ea12(0x8aa));_0x257304[_0x16ea12(0x8a3)]=_0x16ea12(0x851);}if(!_0x22b7fb||_0x22b7fb['length']===0x0){_0x2ca892[_0x16ea12(0x8a3)]=_0x16ea12(0x6f5)+(_0x4d1a32?0x6:0x8)+_0x16ea12(0x754);return;}const _0x375130=[..._0x22b7fb];_0x375130[_0x16ea12(0x82b)]((_0x222cfc,_0x2cf1a4)=>{const _0x5254f4=_0x16ea12;let _0x352a4e,_0x1debb2;switch(quizLeaderboardSortBy){case _0x5254f4(0x460):_0x352a4e=_0x222cfc[_0x5254f4(0x460)]||'',_0x1debb2=_0x2cf1a4[_0x5254f4(0x460)]||'';return quizLeaderboardSortOrder===_0x5254f4(0x2d9)?_0x352a4e[_0x5254f4(0x5bf)](_0x1debb2,'th'):_0x1debb2['localeCompare'](_0x352a4e,'th');case _0x5254f4(0x5b3):_0x352a4e=_0x222cfc[_0x5254f4(0x5b3)]||0x0,_0x1debb2=_0x2cf1a4[_0x5254f4(0x5b3)]||0x0;break;case _0x5254f4(0x4bd):_0x352a4e=_0x222cfc['attempts']?.[_0x5254f4(0x261)]||0x1,_0x1debb2=_0x2cf1a4['attempts']?.[_0x5254f4(0x261)]||0x1;break;case _0x5254f4(0x335):_0x352a4e=new Date(_0x222cfc[_0x5254f4(0x335)]),_0x1debb2=new Date(_0x2cf1a4[_0x5254f4(0x335)]);break;case _0x5254f4(0x223):default:_0x352a4e=_0x222cfc[_0x5254f4(0x223)],_0x1debb2=_0x2cf1a4[_0x5254f4(0x223)];break;}if(_0x352a4e<_0x1debb2)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x352a4e>_0x1debb2)return quizLeaderboardSortOrder===_0x5254f4(0x2d9)?0x1:-0x1;return 0x0;});const _0x5f242d=_0x73045c[_0x16ea12(0x1e7)]===!![],_0x1d7724=_0x73045c[_0x16ea12(0x59e)]?.[_0x16ea12(0x5ff)]??-0x1;let _0x75e111='';_0x375130[_0x16ea12(0x293)]((_0x5d0a14,_0x37f23a)=>{const _0x5400e8=_0x16ea12,_0x51c867=_0x37f23a+0x1;let _0x32d4f6=_0x5400e8(0x2a1);if(_0x5f242d||_0x1d7724!==-0x1){let _0x3b6631=_0x5f242d?_0x5d0a14[_0x5400e8(0x223)]===_0x2cc5a4:_0x5d0a14[_0x5400e8(0x223)]>=_0x1d7724;const _0x2ba2f9=_0x3b6631?_0x5400e8(0x462):_0x5400e8(0xed),_0x4366e0=_0x3b6631?'ผ่าน':'ไม่ผ่าน';_0x32d4f6=_0x5400e8(0x4da)+_0x2ba2f9+'\x22>'+_0x4366e0+_0x5400e8(0x27b);}const _0x189896=_0x5d0a14['attempts'][_0x5d0a14[_0x5400e8(0x4bd)][_0x5400e8(0x261)]-0x1],_0x164c1a=(_0x189896[_0x5400e8(0x1ee)]||[])[_0x5400e8(0x757)](_0x5724b0=>{const _0x1cbc64=_0x5400e8,_0x442e06=Object['values'](BADGES)[_0x1cbc64(0x1c0)](_0x19e8e8=>_0x19e8e8['id']===_0x5724b0);return _0x442e06?_0x1cbc64(0x39e)+_0x442e06['name']+_0x1cbc64(0x263)+_0x442e06[_0x1cbc64(0x2e2)]+_0x1cbc64(0x6b5):'';})[_0x5400e8(0x919)]('');_0x75e111+=_0x5400e8(0x399)+_0x51c867+_0x5400e8(0x5c1)+_0x5d0a14['studentName']+_0x5400e8(0x564)+_0x5d0a14['bestScore']+_0x5400e8(0x77d)+_0x2cc5a4+_0x5400e8(0x613)+_0x32d4f6+_0x5400e8(0x26a)+(_0x5d0a14[_0x5400e8(0x5b3)]||0x0)+_0x5400e8(0x613)+(_0x4d1a32?'':_0x5400e8(0x40f)+(_0x5d0a14['attempts']?.['length']||0x1)+'</td>')+_0x5400e8(0x616)+(_0x4d1a32?'':_0x5400e8(0x2e4)+new Date(_0x5d0a14[_0x5400e8(0x335)])[_0x5400e8(0x31f)]('th-TH')+_0x5400e8(0x85d))+_0x5400e8(0x38a)+(_0x164c1a||'-')+_0x5400e8(0x47c);}),_0x2ca892[_0x16ea12(0x8a3)]=_0x75e111,_0x4bea6f&&!_0x4d1a32&&_0x4bea6f[_0x16ea12(0x706)]('thead\x20.sortable-header')['forEach'](_0x4e91a1=>{const _0x35ba02=_0x16ea12,_0x5b3993=_0x4e91a1[_0x35ba02(0x351)](_0x35ba02(0x73b));if(_0x5b3993)_0x5b3993[_0x35ba02(0x112)]();_0x4e91a1[_0x35ba02(0xd6)][_0x35ba02(0x82b)]===quizLeaderboardSortBy&&(_0x4e91a1[_0x35ba02(0x8a3)]+=_0x35ba02(0x729)+(quizLeaderboardSortOrder===_0x35ba02(0x2d9)?'▲':'▼')+_0x35ba02(0x72e));});}async function handleDeleteSubmission(_0x144e0f){const _0x2e708b=_0x56afb4;if(!currentQuizData||!currentQuizData['id']||!_0x144e0f){showMessage(_0x2e708b(0x70e));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x144e0f+_0x2e708b(0x8c8),async()=>{const _0x2a004c=_0x2e708b,_0x31f531=currentQuizData['id'],_0x5e5e23=doc(db,_0x2a004c(0x58f)+appId+_0x2a004c(0x381)+_0x31f531+_0x2a004c(0x16a),_0x144e0f);try{await deleteDoc(_0x5e5e23),showMessage('ลบผลสอบของ\x20'+_0x144e0f+_0x2a004c(0x56d));}catch(_0x2f2bcd){console[_0x2a004c(0x7d6)]('Error\x20deleting\x20submission:',_0x2f2bcd),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x5860bd=_0x56afb4,_0x574fab=document[_0x5860bd(0x574)](_0x5860bd(0x199)),_0x18d13e=_0x574fab[_0x5860bd(0x54e)][_0x5860bd(0x4b1)]();if(!_0x18d13e){showMessage(_0x5860bd(0x4d2));return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x5860bd(0x8a3)]=_0x5860bd(0x340);try{const _0x1a10e1=doc(db,'artifacts/'+appId+_0x5860bd(0x444),_0x18d13e),_0x40e88c=await getDoc(_0x1a10e1);if(!_0x40e88c[_0x5860bd(0x5f0)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x40e88c['id'],..._0x40e88c[_0x5860bd(0x58c)]()};const _0x1b4d2b=currentQuizData[_0x5860bd(0x651)]||_0x5860bd(0x3b9),_0x176eb9=new Date();if(_0x1b4d2b===_0x5860bd(0x1a2)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x1b4d2b===_0x5860bd(0x74e)){const _0x7c57b7=currentQuizData[_0x5860bd(0x7f4)]?new Date(currentQuizData[_0x5860bd(0x7f4)]):null,_0x3e2ba2=currentQuizData[_0x5860bd(0x7ee)]?new Date(currentQuizData[_0x5860bd(0x7ee)]):null;if(_0x7c57b7&&_0x176eb9<_0x7c57b7){showMessage(_0x5860bd(0x8e0)+_0x7c57b7[_0x5860bd(0x31f)](_0x5860bd(0x443),{'hour12':![]}));return;}if(_0x3e2ba2&&_0x176eb9>_0x3e2ba2){showMessage(_0x5860bd(0x51a));return;}}const _0x32d8f0=currentQuizData[_0x5860bd(0x764)];currentProjectId=_0x32d8f0;const _0x5d163a=doc(db,_0x5860bd(0x58f)+appId+_0x5860bd(0x785),_0x32d8f0),_0x41c387=await getDoc(_0x5d163a);if(!_0x41c387[_0x5860bd(0x5f0)]()){showMessage(_0x5860bd(0x8b8));return;}const _0x3695da=_0x41c387[_0x5860bd(0x58c)]();currentStudentProjectData=_0x3695da,displayStudentNameSelector(_0x3695da[_0x5860bd(0x3b2)],currentQuizData[_0x5860bd(0x111)]);}catch(_0x48f286){console[_0x5860bd(0x7d6)]('Error\x20loading\x20quiz\x20for\x20student:',_0x48f286),showMessage(_0x5860bd(0x736));}finally{loadQuizBtn[_0x5860bd(0x4b9)]=![],loadQuizBtn[_0x5860bd(0x8a3)]=_0x5860bd(0x2d1);}}async function handleJoinLiveGame(){const _0x573af4=_0x56afb4,_0x4c6d86=document['getElementById'](_0x573af4(0x1b8)),_0x217706=document[_0x573af4(0x574)](_0x573af4(0x3c5)),_0x43eb39=document[_0x573af4(0x574)]('confirm-join-game-btn'),_0x4422da=_0x4c6d86[_0x573af4(0x54e)][_0x573af4(0x4b1)](),_0x5d4b90=_0x217706[_0x573af4(0x54e)][_0x573af4(0x4b1)]();if(!_0x4422da||!_0x5d4b90){showMessage(_0x573af4(0x594));return;}_0x43eb39['disabled']=!![],_0x43eb39[_0x573af4(0x8a3)]=_0x573af4(0x296);try{const _0x1bdd06=collection(db,_0x573af4(0x58f)+appId+_0x573af4(0x362)),_0x3db669=query(_0x1bdd06,where(_0x573af4(0x12a),'==',_0x4422da),where(_0x573af4(0x651),'in',[_0x573af4(0x291),_0x573af4(0x65f)])),_0x30c6e5=await getDocs(_0x3db669);if(_0x30c6e5[_0x573af4(0x1db)]){showMessage(_0x573af4(0x604));return;}const _0x1c01d5=_0x30c6e5[_0x573af4(0x3e0)][0x0],_0xaf46ab=_0x1c01d5[_0x573af4(0x58c)]();currentLiveGameId=_0x1c01d5['id'];const _0x46c0ff=_0xaf46ab['quizId'],_0x2fe233=doc(db,_0x573af4(0x58f)+appId+_0x573af4(0x444),_0x46c0ff),_0x5d50b6=await getDoc(_0x2fe233);if(!_0x5d50b6[_0x573af4(0x5f0)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x5d50b6['id'],..._0x5d50b6[_0x573af4(0x58c)]()};if(_0xaf46ab[_0x573af4(0x752)]&&_0xaf46ab['players'][_0x5d4b90]){const _0x5297be=_0xaf46ab[_0x573af4(0x752)][_0x5d4b90];if(_0x5297be[_0x573af4(0x651)]===_0x573af4(0x1a2)){_0x43eb39['innerHTML']=_0x573af4(0x821);const _0x36114f={};_0x36114f['players.'+_0x5d4b90+_0x573af4(0x17d)]='active',await updateDoc(doc(db,_0x573af4(0x58f)+appId+_0x573af4(0x362),currentLiveGameId),_0x36114f),showView(_0x573af4(0x520)),currentStudentName=_0x5d4b90,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0xaf46ab[_0x573af4(0x651)]!==_0x573af4(0x291)){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x43eb39[_0x573af4(0x8a3)]=_0x573af4(0x534);const _0x38a86c={};_0x38a86c[_0x573af4(0x2ec)+_0x5d4b90]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,'artifacts/'+appId+_0x573af4(0x362),currentLiveGameId),_0x38a86c),currentStudentName=_0x5d4b90,listenForLiveGameUpdates();}catch(_0x19f0dc){console[_0x573af4(0x7d6)](_0x573af4(0x883),_0x19f0dc),showMessage(_0x573af4(0x43e));}finally{_0x43eb39[_0x573af4(0x4b9)]=![],_0x43eb39[_0x573af4(0x8a3)]=_0x573af4(0x1da);}}function displayStudentNameSelector(_0x485eb7,_0x205aec){const _0x359e59=_0x56afb4,_0x11477f=document[_0x359e59(0x574)](_0x359e59(0x39f));document[_0x359e59(0x574)]('student-quiz-topic')[_0x359e59(0x46f)]=_0x359e59(0x3e8)+_0x205aec,!_0x485eb7||_0x485eb7[_0x359e59(0x261)]===0x0?(_0x11477f[_0x359e59(0x8a3)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn['disabled']=!![]):(_0x11477f[_0x359e59(0x8a3)]=_0x359e59(0x280),_0x485eb7[_0x359e59(0x293)](_0x3e048c=>{const _0x32de35=_0x359e59,_0x2b98fb=document[_0x32de35(0x51d)](_0x32de35(0x2da));_0x2b98fb['value']=_0x3e048c,_0x2b98fb[_0x32de35(0x46f)]=_0x3e048c,_0x11477f['appendChild'](_0x2b98fb);}),startQuizBtn[_0x359e59(0x4b9)]=![]),studentInitialView[_0x359e59(0x92b)][_0x359e59(0x3fa)](_0x359e59(0x384)),studentNameSelectionView[_0x359e59(0x92b)][_0x359e59(0x112)](_0x359e59(0x384));}function shuffleArray(_0x2e3fbd){const _0x4408d2=_0x56afb4;for(let _0x2fcd2c=_0x2e3fbd[_0x4408d2(0x261)]-0x1;_0x2fcd2c>0x0;_0x2fcd2c--){const _0x470864=Math[_0x4408d2(0x504)](Math[_0x4408d2(0x272)]()*(_0x2fcd2c+0x1));[_0x2e3fbd[_0x2fcd2c],_0x2e3fbd[_0x470864]]=[_0x2e3fbd[_0x470864],_0x2e3fbd[_0x2fcd2c]];}}function getShuffledQuiz(_0x272cd6){const _0x17c840=_0x56afb4;let _0x77fe8c=JSON[_0x17c840(0x317)](JSON[_0x17c840(0x224)](_0x272cd6));const _0xf2f2f6=_0x77fe8c[_0x17c840(0x59e)]?.['shuffle']||_0x17c840(0x372);if(_0xf2f2f6==='none')return _0x77fe8c;return(_0xf2f2f6===_0x17c840(0x40d)||_0xf2f2f6===_0x17c840(0x703))&&shuffleArray(_0x77fe8c[_0x17c840(0x7d5)]),(_0xf2f2f6===_0x17c840(0x847)||_0xf2f2f6==='both')&&_0x77fe8c[_0x17c840(0x7d5)]['forEach'](_0x45a580=>{const _0x55f1c7=_0x17c840,_0x4b7b7b=_0x45a580['questionType']||_0x77fe8c[_0x55f1c7(0x185)];if(_0x45a580[_0x55f1c7(0x721)]){let _0x1928e7=_0x45a580[_0x55f1c7(0x721)][_0x55f1c7(0x757)]((_0x437bbc,_0x5aac10)=>({'text':_0x437bbc,'isCorrect':_0x5aac10===_0x45a580[_0x55f1c7(0x800)]}));shuffleArray(_0x1928e7),_0x45a580[_0x55f1c7(0x721)]=_0x1928e7[_0x55f1c7(0x757)](_0x52b445=>_0x52b445[_0x55f1c7(0x28f)]),_0x45a580[_0x55f1c7(0x800)]=_0x1928e7['findIndex'](_0x110be0=>_0x110be0['isCorrect']);}_0x4b7b7b===_0x55f1c7(0x3ed)&&_0x45a580[_0x55f1c7(0x1c1)]&&shuffleArray(_0x45a580['allResponses']);}),_0x77fe8c;}function displayQuizForStudent(_0x54b37f){const _0x2bb75f=_0x56afb4;studentQuizArea[_0x2bb75f(0x92b)][_0x2bb75f(0x112)](_0x2bb75f(0x384)),currentDisplayedQuiz=getShuffledQuiz(_0x54b37f);currentMode!==_0x2bb75f(0x278)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x2bb75f(0xf2)](_0x2bb75f(0x26e),handleFullscreenChange),document[_0x2bb75f(0xf2)](_0x2bb75f(0x8bf),handleVisibilityChange),enterFullscreen(),window[_0x2bb75f(0xf2)](_0x2bb75f(0x493),resetDimTimer),window['addEventListener'](_0x2bb75f(0x414),resetDimTimer),window['addEventListener']('touchstart',resetDimTimer),window[_0x2bb75f(0xf2)]('keydown',resetDimTimer),resetDimTimer());const _0x3c34c9=currentDisplayedQuiz[_0x2bb75f(0x59e)]?.[_0x2bb75f(0x2c6)]||_0x2bb75f(0x372);if(_0x3c34c9===_0x2bb75f(0x497))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x2bb75f(0x59e)][_0x2bb75f(0x5cd)]);else _0x3c34c9===_0x2bb75f(0x466)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x3bf083=_0x56afb4;let _0x190e0f=_0x3bf083(0x425)+currentDisplayedQuiz[_0x3bf083(0x111)]+_0x3bf083(0x8fb)+(currentMode===_0x3bf083(0x278)?_0x3bf083(0x88b):'')+_0x3bf083(0x717);currentDisplayedQuiz[_0x3bf083(0x7d5)][_0x3bf083(0x293)]((_0x868683,_0x48f820)=>{const _0x39960a=_0x3bf083,_0x4f8ebc=_0x868683[_0x39960a(0x4b8)]||currentDisplayedQuiz[_0x39960a(0x185)];_0x190e0f+=_0x39960a(0x886);_0x4f8ebc==='matching_item'?_0x190e0f+=_0x39960a(0x597)+(_0x48f820+0x1)+'.\x20'+_0x868683['stem']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x48f820+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x868683[_0x39960a(0x1c1)][_0x39960a(0x757)](_0x2d203d=>_0x39960a(0x45c)+_0x2d203d+'\x22>'+_0x2d203d+_0x39960a(0x3a3))[_0x39960a(0x919)]('')+_0x39960a(0x576):(_0x190e0f+='<p>'+(_0x48f820+0x1)+'.\x20'+(_0x868683[_0x39960a(0x383)]||_0x868683[_0x39960a(0x53e)])+'</p>',_0x868683[_0x39960a(0x109)]&&(_0x190e0f+=_0x39960a(0x692)+_0x868683[_0x39960a(0x109)]+_0x39960a(0x24f)));_0x190e0f+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x4f8ebc){case _0x39960a(0x62b):_0x190e0f+=_0x39960a(0x695)+_0x48f820+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x39960a(0x89d):_0x190e0f+=_0x39960a(0x869)+_0x48f820+'_opt0\x22\x20name=\x22question'+_0x48f820+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x48f820+_0x39960a(0x407),_0x190e0f+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x48f820+_0x39960a(0x86d)+_0x48f820+_0x39960a(0x257)+_0x48f820+_0x39960a(0x92e);break;case _0x39960a(0x3ed):break;case'fill_in_the_blank':case _0x39960a(0x899):default:_0x190e0f+=_0x868683[_0x39960a(0x721)]['map']((_0x57f7dd,_0x2fd082)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x48f820+'_opt'+_0x2fd082+_0x39960a(0x591)+_0x48f820+'\x22\x20value=\x22'+_0x2fd082+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x48f820+_0x39960a(0x684)+_0x2fd082+'\x22>'+_0x57f7dd+_0x39960a(0x5eb))[_0x39960a(0x919)]('');break;}_0x190e0f+=_0x39960a(0x6d2);}),_0x190e0f+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x190e0f+=_0x3bf083(0x7fe),studentQuizArea[_0x3bf083(0x8a3)]=_0x190e0f;if(currentMode===_0x3bf083(0x278)){const _0x46b660=document[_0x3bf083(0x574)]('cancel-test-btn');if(_0x46b660)_0x46b660['addEventListener'](_0x3bf083(0x811),cancelAdminTest);}document['getElementById'](_0x3bf083(0x718))['addEventListener'](_0x3bf083(0x7c7),handleSubmitQuiz);if(window[_0x3bf083(0x784)])window['MathJax'][_0x3bf083(0x12c)]([studentQuizArea]);}async function handleSubmitQuiz(_0x4bc4e4){const _0x80a49=_0x56afb4;if(_0x4bc4e4)_0x4bc4e4[_0x80a49(0x872)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x2be9c4=document[_0x80a49(0x574)]('quiz-form');if(!_0x2be9c4)return;const _0x5e2142=_0x2be9c4[_0x80a49(0x351)](_0x80a49(0x826)),_0x49aebe=currentDisplayedQuiz[_0x80a49(0x7d5)][_0x80a49(0x573)](_0x2ad249=>_0x2ad249['questionType']===_0x80a49(0x62b));_0x5e2142&&(_0x5e2142[_0x80a49(0x4b9)]=!![],_0x49aebe?_0x5e2142[_0x80a49(0x8a3)]=_0x80a49(0x2e6):_0x5e2142[_0x80a49(0x8a3)]=_0x80a49(0x273));const _0x12d34a=new FormData(_0x2be9c4),_0x42ea30=currentDisplayedQuiz[_0x80a49(0x7d5)][_0x80a49(0x757)]((_0x3de652,_0x37de3b)=>{const _0x2658b8=_0x80a49,_0x2b5c90=_0x3de652['questionType']||currentDisplayedQuiz[_0x2658b8(0x185)],_0x53fb83=_0x12d34a[_0x2658b8(0x65e)](_0x2658b8(0x65f)+_0x37de3b);if(_0x53fb83!==null&&_0x53fb83!==undefined){if(_0x2b5c90===_0x2658b8(0x899)||_0x2b5c90===_0x2658b8(0x36d))return parseInt(_0x53fb83);return _0x53fb83;}return null;}),_0x340fdb=currentQuizData['id'],_0x5d9094=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x340fdb+_0x80a49(0x16a),currentStudentName),_0x4bc56c=await getDoc(_0x5d9094),_0xda0e20=_0x4bc56c['exists']()?_0x4bc56c[_0x80a49(0x58c)]():{},_0x5ccfb0=_0xda0e20[_0x80a49(0x4bd)]||[];await processAndSubmitAnswers(_0x42ea30,_0x5ccfb0);}async function gradeShortAnswerWithAI(_0x14d3c0,_0x235da6){const _0x39cf86=_0x56afb4;if(!_0x14d3c0||!_0x235da6)return![];try{const _0x49a2e4=_0x39cf86(0x904)+_0x14d3c0+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x235da6+_0x39cf86(0x398),_0x2eb842={'contents':[{'role':_0x39cf86(0x3f6),'parts':[{'text':_0x49a2e4}]}]},_0x443440=_0x39cf86(0xe7),_0x2fb2ba='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x443440,_0x42294b=await fetch(_0x2fb2ba,{'method':_0x39cf86(0x7ce),'headers':{'Content-Type':_0x39cf86(0x8d5)},'body':JSON[_0x39cf86(0x224)](_0x2eb842)});if(!_0x42294b['ok'])throw new Error(_0x39cf86(0x43c));const _0x3f895c=await _0x42294b[_0x39cf86(0x712)](),_0x5c4bb8=_0x3f895c[_0x39cf86(0x4f7)][0x0][_0x39cf86(0x6c5)][_0x39cf86(0x839)][0x0][_0x39cf86(0x28f)][_0x39cf86(0x4b1)]()['toLowerCase']();return _0x5c4bb8===_0x39cf86(0x3ff);}catch(_0x454a6e){return console['error'](_0x39cf86(0x5dc),_0x454a6e),![];}}async function processAndSubmitAnswers(_0xd81cbd,_0x193ebd){const _0x27cae9=_0x56afb4;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x27cae9(0xd5)](_0x27cae9(0x26e),handleFullscreenChange),document[_0x27cae9(0xd5)]('visibilitychange',handleVisibilityChange);let _0x28581e=0x0,_0x31932b=0x0,_0x58881c=[];const _0x4687ed=[],_0x1491dd=currentDisplayedQuiz[_0x27cae9(0x7d5)][_0x27cae9(0x261)];let _0x441321=0x0;const _0x9238e=currentDisplayedQuiz['questions'];for(let _0x305d43=0x0;_0x305d43<_0x9238e['length'];_0x305d43++){const _0x491429=_0x9238e[_0x305d43],_0x2b0fdc=_0xd81cbd[_0x305d43],_0x214a3b=_0x491429[_0x27cae9(0x4b8)]||currentDisplayedQuiz[_0x27cae9(0x185)];let _0x454a5a=![];if(_0x2b0fdc!==null&&_0x2b0fdc!=='')switch(_0x214a3b){case _0x27cae9(0x3ed):_0x454a5a=_0x2b0fdc===_0x491429[_0x27cae9(0x3aa)];break;case _0x27cae9(0x89d):const _0x2106f7=_0x2b0fdc===!![]||_0x2b0fdc===_0x27cae9(0x3ff);_0x454a5a=_0x2106f7===_0x491429[_0x27cae9(0x53b)];break;case _0x27cae9(0x36d):case _0x27cae9(0x899):default:_0x454a5a=Number(_0x2b0fdc)===_0x491429['correctAnswerIndex'];break;case _0x27cae9(0x62b):_0x454a5a=await gradeShortAnswer(_0x2b0fdc,_0x491429);break;}_0x454a5a?(_0x28581e++,_0x441321++,_0x441321===0x3&&(_0x58881c['push'](BADGES[_0x27cae9(0x5be)]['id']),_0x441321=0x0)):_0x441321=0x0;let _0x4cf400=null;_0x491429[_0x27cae9(0x721)]&&_0x2b0fdc!==null&&(_0x4cf400=_0x491429[_0x27cae9(0x721)][_0x2b0fdc]),_0x4687ed['push']({'questionId':_0x491429['id'],'answer':_0x2b0fdc,'answerText':_0x4cf400,'isCorrect':_0x454a5a,'originalQuestionText':_0x491429[_0x27cae9(0x4a3)]||_0x491429[_0x27cae9(0x53e)]});}_0x31932b=_0x28581e*0xa;_0x28581e===_0x1491dd&&_0x1491dd>0x0&&!currentDisplayedQuiz[_0x27cae9(0x1e7)]&&(_0x31932b+=0x32,_0x58881c[_0x27cae9(0x6e6)](BADGES['PERFECT_SCORE']['id']));const _0x3390f0=currentDisplayedQuiz['settings']?.[_0x27cae9(0x5ff)]??Math[_0x27cae9(0x504)](_0x1491dd/0x2),_0x23aa18=currentDisplayedQuiz[_0x27cae9(0x59e)]?.[_0x27cae9(0x2c6)];if(_0x23aa18===_0x27cae9(0x497)&&quizStartTime){const _0x9a8833=(new Date()-quizStartTime)/0x3e8,_0x45a04c=currentDisplayedQuiz[_0x27cae9(0x59e)]['timerDuration']*0x3c;_0x28581e>=_0x3390f0&&_0x9a8833<_0x45a04c/0x2&&(_0x31932b+=0x14,_0x58881c[_0x27cae9(0x6e6)](BADGES[_0x27cae9(0x6a0)]['id']));}_0x193ebd[_0x27cae9(0x261)]===0x0&&_0x28581e===_0x1491dd&&_0x1491dd>0x0&&_0x58881c[_0x27cae9(0x6e6)](BADGES[_0x27cae9(0x643)]['id']);if(_0x193ebd[_0x27cae9(0x261)]>0x0){const _0x4b6e46=_0x193ebd[0x0][_0x27cae9(0x178)];if(_0x4b6e46<_0x3390f0&&_0x28581e>=_0x3390f0){const _0x369573=_0x193ebd[_0x27cae9(0x573)](_0x8c8d18=>(_0x8c8d18[_0x27cae9(0x1ee)]||[])['includes'](BADGES[_0x27cae9(0x916)]['id']));!_0x369573&&_0x58881c[_0x27cae9(0x6e6)](BADGES[_0x27cae9(0x916)]['id']);}}_0x193ebd[_0x27cae9(0x261)]===0x4&&_0x58881c[_0x27cae9(0x6e6)](BADGES[_0x27cae9(0x2a0)]['id']);const _0x208aa3=currentDisplayedQuiz[_0x27cae9(0x59e)][_0x27cae9(0x36c)];if(currentMode==='admin-testing'){handleResultDisplay(_0x208aa3,_0x28581e,_0x31932b,_0x58881c,_0x4687ed,_0x1491dd);return;}const _0x3cfaf2=currentQuizData['id'],_0x227e1d=doc(db,_0x27cae9(0x58f)+appId+_0x27cae9(0x381)+_0x3cfaf2+_0x27cae9(0x16a),currentStudentName);try{const _0x1e5f39=[..._0x193ebd],_0x414bb4={'score':_0x28581e,'points':_0x31932b,'badges':_0x58881c,'submittedAt':new Date()['toISOString'](),'answers':_0x4687ed};_0x1e5f39[_0x27cae9(0x6e6)](_0x414bb4);const _0x2d2e3e=_0x1e5f39[0x0][_0x27cae9(0x178)],_0x2670d5=Math[_0x27cae9(0x5cc)](..._0x1e5f39[_0x27cae9(0x757)](_0xd6a9fb=>_0xd6a9fb[_0x27cae9(0x178)])),_0x1f0ae7=_0x28581e,_0x5712a5=_0x414bb4[_0x27cae9(0x314)];await setDoc(_0x227e1d,{'studentName':currentStudentName,'totalQuestions':_0x1491dd,'attempts':_0x1e5f39,'firstScore':_0x2d2e3e,'bestScore':_0x2670d5,'latestScore':_0x1f0ae7,'points':_0x31932b,'latestSubmittedAt':_0x5712a5},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x27cae9(0x764)],currentStudentName),handleResultDisplay(_0x208aa3,_0x28581e,_0x31932b,_0x58881c,_0x4687ed,_0x1491dd);}catch(_0x2991e0){console[_0x27cae9(0x7d6)](_0x27cae9(0x231),_0x2991e0),showMessage(_0x27cae9(0x7b5));}}async function updateStudentProfile(_0x4b94e9,_0x263675){const _0x17a3a5=_0x56afb4,_0x32a62d=doc(db,'artifacts/'+appId+_0x17a3a5(0x59f)+_0x4b94e9+_0x17a3a5(0x17b),_0x263675);try{const _0x66cf04=query(collection(db,'artifacts/'+appId+_0x17a3a5(0x444)),where('projectId','==',_0x4b94e9)),_0x3daa44=await getDocs(_0x66cf04),_0x575858=new Map(_0x3daa44['docs'][_0x17a3a5(0x757)](_0x3008d2=>[_0x3008d2['id'],_0x3008d2[_0x17a3a5(0x58c)]()])),_0x167514=Array[_0x17a3a5(0x7eb)](_0x575858[_0x17a3a5(0x80d)]());await runTransaction(db,async _0x59713c=>{const _0x34a992=_0x17a3a5;let _0x93e51b=0x0;const _0x76d890={};let _0x3df5e2=!![],_0x375f5c=0x0,_0x1f317c=0x0;for(const _0x479d24 of _0x167514){const _0x31f566=_0x575858[_0x34a992(0x65e)](_0x479d24),_0x32e5e0=doc(db,_0x34a992(0x58f)+appId+'/public/data/quizzes/'+_0x479d24+_0x34a992(0x16a),_0x263675),_0x215777=await _0x59713c['get'](_0x32e5e0);if(_0x215777['exists']()){const _0x19d620=_0x215777['data'](),_0xf24c8d=_0x19d620[_0x34a992(0x4bd)]||[];if(_0xf24c8d[_0x34a992(0x261)]>0x0){const _0x26db62=_0xf24c8d[_0x34a992(0x195)]((_0xcc1d41,_0x2f4783)=>{const _0x3a4f97=_0x34a992;if(_0x2f4783[_0x3a4f97(0x178)]>_0xcc1d41[_0x3a4f97(0x178)])return _0x2f4783;if(_0x2f4783['score']===_0xcc1d41[_0x3a4f97(0x178)])return(_0x2f4783['points']||0x0)>(_0xcc1d41['points']||0x0)?_0x2f4783:_0xcc1d41;return _0xcc1d41;},{'score':-0x1,'points':-0x1});_0x26db62['score']>-0x1&&(_0x93e51b+=_0x26db62['points']||0x0,(_0x26db62[_0x34a992(0x1ee)]||[])[_0x34a992(0x293)](_0x1cbdc6=>{_0x76d890[_0x1cbdc6]=(_0x76d890[_0x1cbdc6]||0x0)+0x1;}));}}if(_0x31f566[_0x34a992(0x111)]!==_0x34a992(0x6dd)){_0x1f317c++;if(_0x215777[_0x34a992(0x5f0)]()){_0x375f5c++;const _0x57afee=_0x215777[_0x34a992(0x58c)]();_0x57afee[_0x34a992(0x223)]!==_0x57afee['totalQuestions']&&(_0x3df5e2=![]);}else _0x3df5e2=![];}}_0x1f317c>0x0&&_0x375f5c===_0x1f317c&&_0x3df5e2?_0x76d890[_0x34a992(0x5d8)]=0x1:_0x76d890[_0x34a992(0x5d8)]=0x0,_0x59713c[_0x34a992(0x1f4)](_0x32a62d,{'studentName':_0x263675,'totalPoints':_0x93e51b,'unlockedBadges':Object[_0x34a992(0x80d)](_0x76d890)[_0x34a992(0x13b)](_0x41c119=>_0x76d890[_0x41c119]>0x0),'badgesCount':_0x76d890},{'merge':!![]});});}catch(_0x326b8e){console[_0x17a3a5(0x7d6)](_0x17a3a5(0x3af),_0x326b8e),showMessage(_0x17a3a5(0x208));}}function startAdminTest(){const _0x47fd24=_0x56afb4;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x251706=JSON[_0x47fd24(0x317)](JSON[_0x47fd24(0x224)](currentQuizData));currentMode=_0x47fd24(0x278),currentStudentName=_0x47fd24(0x49c),adminView['classList']['add'](_0x47fd24(0x384)),studentView[_0x47fd24(0x92b)][_0x47fd24(0x112)]('hidden'),studentInitialView[_0x47fd24(0x92b)][_0x47fd24(0x3fa)](_0x47fd24(0x384)),studentNameSelectionView[_0x47fd24(0x92b)][_0x47fd24(0x3fa)](_0x47fd24(0x384)),studentResultArea[_0x47fd24(0x92b)][_0x47fd24(0x3fa)](_0x47fd24(0x384)),studentQuizArea[_0x47fd24(0x92b)][_0x47fd24(0x112)](_0x47fd24(0x384)),quizStartTime=new Date(),displayQuizForStudent(_0x251706);}function handleResultDisplay(_0x3b894c,_0x49fdfe,_0x3d08e4,_0x1ffae8,_0x18abf4,_0x229310){const _0x82d24a=_0x56afb4;if(_0x3b894c===_0x82d24a(0x627)){displaySubmissionConfirmation();return;}const _0x2bd449=currentDisplayedQuiz[_0x82d24a(0x59e)]?.[_0x82d24a(0x5ff)]??Math[_0x82d24a(0x504)](_0x229310/0x2),_0x3913a8=currentDisplayedQuiz[_0x82d24a(0x59e)]?.[_0x82d24a(0x5c9)]??![],_0xa66ba=currentDisplayedQuiz[_0x82d24a(0x59e)]?.[_0x82d24a(0x511)]===!![],_0x124d91=_0x49fdfe<_0x2bd449,_0xa31d1f=_0x3b894c===_0x82d24a(0x20f)||_0x3b894c==='perfect_score_status';if(_0xa66ba&&_0x124d91&&!_0xa31d1f){_0x3b894c===_0x82d24a(0x110)?displayResultsWithAnswers(_0x49fdfe,_0x3d08e4,_0x1ffae8,_0x18abf4,_0x229310,!![]):displayLoopScreen(_0x49fdfe,_0x229310,_0x3b894c);return;}if(_0x3913a8&&_0x124d91){startAdaptiveFlow(_0x18abf4,_0x49fdfe,_0x229310);return;}switch(_0x3b894c){case _0x82d24a(0x110):displayResultsWithAnswers(_0x49fdfe,_0x3d08e4,_0x1ffae8,_0x18abf4,_0x229310);break;case _0x82d24a(0x786):displayResultsScoreOnly(_0x49fdfe,_0x3d08e4,_0x1ffae8,_0x229310);break;case _0x82d24a(0x156):displayPassFailOnly(_0x49fdfe,_0x229310);break;case'half_mark_status':displayHalfMarkResult(_0x49fdfe,_0x229310);break;case _0x82d24a(0x802):displayPerfectScoreResult(_0x49fdfe,_0x229310);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0xb38d36){const _0x3a736a=_0x56afb4;studentReadingArea[_0x3a736a(0x8a3)]=_0x3a736a(0x4c8);const _0x5e5bb1=_0x3a736a(0x6f0)+_0xb38d36+_0x3a736a(0x3d1)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x3b64ca={'type':_0x3a736a(0x8b5),'properties':{'questionText':{'type':_0x3a736a(0x7d1)},'options':{'type':_0x3a736a(0x60e),'items':{'type':_0x3a736a(0x7d1)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':['questionText','options',_0x3a736a(0x800),_0x3a736a(0x461)]},_0x11d260={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3a736a(0x60e),'items':_0x3b64ca}},'required':['topic','questions']};try{const _0x3e85da=await callAnalysisApi(_0x5e5bb1,_0x11d260);_0x3e85da['isRemedial']=!![],studentReadingArea[_0x3a736a(0x92b)]['add']('hidden');const _0x42386b={...currentDisplayedQuiz[_0x3a736a(0x59e)],'isAdaptive':![],'resultsDisplay':_0x3a736a(0x110)};_0x3e85da[_0x3a736a(0x59e)]=_0x42386b,displayQuizForStudent(_0x3e85da);}catch(_0x159b53){console[_0x3a736a(0x7d6)](_0x3a736a(0x607),_0x159b53),showMessage(_0x3a736a(0x8f0)),showView(_0x3a736a(0x4ad));}}function displayPassFailOnly(_0x3f0a14,_0xd31476){const _0x287652=_0x56afb4,_0x5eb712=currentDisplayedQuiz[_0x287652(0x59e)]?.['passingScore']??-0x1,_0x37c581=currentDisplayedQuiz['isRemedial']===!![];let _0x32eff9='',_0x4f64c0=![];if(_0x37c581||_0x5eb712!==-0x1){_0x4f64c0=_0x37c581?_0x3f0a14===_0xd31476:_0x3f0a14>=_0x5eb712;const _0x37c4d9=_0x4f64c0?_0x287652(0x462):_0x287652(0xed),_0x1bf9dc=_0x4f64c0?_0x287652(0x6c0):_0x287652(0x7b3);_0x32eff9=_0x287652(0x24a)+_0x37c4d9+'\x22>'+_0x1bf9dc+_0x287652(0x3f7);}else _0x32eff9=_0x287652(0x2ff);let _0x35b259=_0x287652(0x50e)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x32eff9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x287652(0x8a3)]=_0x35b259,studentResultArea[_0x287652(0x92b)][_0x287652(0x112)](_0x287652(0x384)),studentQuizArea[_0x287652(0x92b)][_0x287652(0x3fa)](_0x287652(0x384)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x4f64c0});}function cancelAdminTest(){const _0x5b0aa2=_0x56afb4;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x5b0aa2(0xd5)](_0x5b0aa2(0x26e),handleFullscreenChange),document['removeEventListener'](_0x5b0aa2(0x8bf),handleVisibilityChange),currentMode=_0x5b0aa2(0x2ac),studentView['classList'][_0x5b0aa2(0x3fa)](_0x5b0aa2(0x384)),adminView['classList'][_0x5b0aa2(0x112)](_0x5b0aa2(0x384)),showView(_0x5b0aa2(0x319));}function setupResultScreenBackButton(_0x19acf7){const _0x4167e1=_0x56afb4,_0x2443d9={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x19acf7};if(_0x2443d9[_0x4167e1(0x5e5)]){const _0x129df1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['insertAdjacentHTML'](_0x4167e1(0x30f),_0x129df1),document[_0x4167e1(0x574)](_0x4167e1(0x75b))[_0x4167e1(0xf2)]('click',()=>{const _0x246b9b=_0x4167e1;studentResultArea[_0x246b9b(0x92b)]['add'](_0x246b9b(0x384)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x573ae4=_0x4167e1(0x169),_0x2ec8d5=currentMode===_0x4167e1(0x278),_0x28c09a=_0x2ec8d5?_0x4167e1(0x226):_0x4167e1(0x3b1);let _0x41d067='';_0x2443d9['showRankings']&&(_0x41d067+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x59a07e=_0x2443d9[_0x4167e1(0x832)];_0x59a07e===undefined&&(_0x59a07e=_0x2443d9['score']<_0x2443d9[_0x4167e1(0x6a6)]);_0x59a07e&&(_0x41d067+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x41d067+='<button\x20id=\x22'+_0x573ae4+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x28c09a+_0x4167e1(0x22b);const _0x28da84=_0x4167e1(0x881)+_0x41d067+'</div>';studentResultArea[_0x4167e1(0x33d)](_0x4167e1(0x30f),_0x28da84),studentResultArea['querySelector'](_0x4167e1(0x1f0))?.[_0x4167e1(0xf2)](_0x4167e1(0x811),handleShowStudentRankings);const _0x12d1f4=studentResultArea[_0x4167e1(0x351)]('#retake-for-improvement-btn');_0x12d1f4&&_0x12d1f4[_0x4167e1(0xf2)]('click',()=>{const _0x4ad0f2=_0x4167e1;studentResultArea[_0x4ad0f2(0x92b)][_0x4ad0f2(0x3fa)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4167e1(0x574)](_0x573ae4)[_0x4167e1(0xf2)](_0x4167e1(0x811),()=>{const _0x591051=_0x4167e1;_0x2ec8d5?(currentMode=_0x591051(0x2ac),studentView[_0x591051(0x92b)][_0x591051(0x3fa)](_0x591051(0x384)),adminView['classList']['remove']('hidden'),showView(_0x591051(0x319))):(showView('student'),document['getElementById'](_0x591051(0x199))['value']='');});}function displayResultsWithAnswers(_0x507d20,_0x340f43,_0x539c63,_0x1fcb31,_0x3419a1,_0x4f220d=![]){const _0x376213=_0x56afb4,_0x4f4812=_0x3419a1>0x0?_0x507d20/_0x3419a1*0x64:0x0,_0x323ca8=currentDisplayedQuiz[_0x376213(0x59e)]?.[_0x376213(0x5ff)]??-0x1,_0x4c19e6=currentDisplayedQuiz['isRemedial']===!![];let _0x46d62b='';if(_0x4c19e6||_0x323ca8!==-0x1){let _0x4132f9=_0x4c19e6?_0x507d20===_0x3419a1:_0x507d20>=_0x323ca8;const _0x55257c=_0x4132f9?_0x376213(0x462):'bg-red-100\x20text-red-800',_0x424c1b=_0x4132f9?'ผ่าน':_0x376213(0x7b3);_0x46d62b=_0x376213(0x750)+_0x55257c+'\x22>'+_0x424c1b+_0x376213(0x767);}let _0x5b5318=_0x376213(0x6cc)+currentStudentName+_0x376213(0x16d)+_0x507d20+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x3419a1+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46d62b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x340f43+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x4f4812[_0x376213(0x6ab)](0x0)+_0x376213(0x4f3);currentDisplayedQuiz[_0x376213(0x7d5)][_0x376213(0x293)]((_0x4c66ab,_0x4d70c3)=>{const _0x339466=_0x376213,_0x41c402=_0x1fcb31[_0x4d70c3],_0x405b7e=_0x41c402[_0x339466(0x90d)],_0xd74ce1=_0x41c402[_0x339466(0x440)],_0x119d6f=_0x4c66ab[_0x339466(0x4b8)]||currentDisplayedQuiz[_0x339466(0x185)];_0x5b5318+=_0x339466(0x4df)+(_0xd74ce1?_0x339466(0x449):_0x339466(0x67f))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x4d70c3+0x1)+'.\x20'+(_0x4c66ab['stem']||_0x4c66ab[_0x339466(0x53e)])+_0x339466(0x496);switch(_0x119d6f){case _0x339466(0x3ed):const _0xdf59ce=_0x405b7e||'ไม่ได้ตอบ',_0x1b2293=_0x4c66ab[_0x339466(0x3aa)];_0x5b5318+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0xd74ce1?_0x339466(0x78c):'')+'\x22>'+_0xdf59ce+_0x339466(0x32c);!_0xd74ce1&&(_0x5b5318+=_0x339466(0x2b0)+_0x1b2293+_0x339466(0x767));break;case _0x339466(0x62b):_0x5b5318+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x405b7e||'ไม่ได้ตอบ')+_0x339466(0x767),_0x5b5318+=_0x339466(0x29e)+_0x4c66ab[_0x339466(0x66a)]+'</p>';break;case'true_false':_0x5b5318+=_0x339466(0xde)+(_0x4c66ab['correctAnswer']===!![]?_0x339466(0x755):'')+'\x20'+(_0x405b7e===_0x339466(0x3ff)&&!_0xd74ce1?_0x339466(0x78c):'')+_0x339466(0x8cd),_0x5b5318+='<p\x20class=\x22'+(_0x4c66ab['correctAnswer']===![]?_0x339466(0x755):'')+'\x20'+(_0x405b7e==='false'&&!_0xd74ce1?_0x339466(0x78c):'')+_0x339466(0x455);break;default:_0x5b5318+=_0x4c66ab['options'][_0x339466(0x757)]((_0x5078d7,_0xb77c49)=>{const _0xcaaa50=_0x339466;let _0xfe4e44='',_0x5357c0='';if(_0xb77c49===_0x4c66ab[_0xcaaa50(0x800)])_0xfe4e44=_0xcaaa50(0x755),_0x5357c0=_0xcaaa50(0x76a);else _0xb77c49===_0x405b7e&&(_0xfe4e44=_0xcaaa50(0x345),_0x5357c0=_0xcaaa50(0x100));return _0xcaaa50(0x2f5)+_0xfe4e44+'\x22>'+_0x5357c0+_0x5078d7+_0xcaaa50(0x24f);})['join']('');break;}_0x5b5318+=_0x339466(0x660)+(_0x4c66ab[_0x339466(0x461)]||_0x339466(0x7bc))+_0x339466(0x24f);if(!_0xd74ce1){const _0xcac934=_0x4c66ab[_0x339466(0x4a3)]||_0x4c66ab[_0x339466(0x53e)];_0x5b5318+=_0x339466(0x50f)+escape(_0xcac934)+_0x339466(0x7e4);}_0x5b5318+=_0x339466(0x24f);}),studentResultArea[_0x376213(0x8a3)]=_0x5b5318,renderEarnedBadges(_0x539c63,'earned-badges-container'),studentResultArea[_0x376213(0x92b)][_0x376213(0x112)](_0x376213(0x384)),studentQuizArea['classList']['add']('hidden'),setupResultScreenBackButton({'isLooping':_0x4f220d,'score':_0x507d20,'totalQuestions':_0x3419a1,'showRankings':!![]});if(window['MathJax'])window['MathJax'][_0x376213(0x12c)]([studentResultArea]);}function displayResultsScoreOnly(_0x457b05,_0x21c3e5,_0x21ff7e,_0x58cf02){const _0x1dc1d9=_0x56afb4,_0x1027c2=_0x58cf02>0x0?_0x457b05/_0x58cf02*0x64:0x0,_0x19f288=currentDisplayedQuiz[_0x1dc1d9(0x59e)]?.[_0x1dc1d9(0x5ff)]??-0x1,_0x2f44b8=currentDisplayedQuiz['isRemedial']===!![];let _0x2686b4='';if(_0x2f44b8||_0x19f288!==-0x1){let _0x519bd5=_0x2f44b8?_0x457b05===_0x58cf02:_0x457b05>=_0x19f288;const _0x3113a6=_0x519bd5?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x3b4b12=_0x519bd5?_0x1dc1d9(0x6c0):'ไม่ผ่าน';_0x2686b4=_0x1dc1d9(0x750)+_0x3113a6+'\x22>'+_0x3b4b12+_0x1dc1d9(0x767);}let _0x4545be=_0x1dc1d9(0x50e)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x457b05+_0x1dc1d9(0x91c)+_0x58cf02+_0x1dc1d9(0x268)+_0x2686b4+_0x1dc1d9(0x2f1)+_0x21c3e5+_0x1dc1d9(0x212)+_0x1027c2[_0x1dc1d9(0x6ab)](0x0)+_0x1dc1d9(0x227);studentResultArea[_0x1dc1d9(0x8a3)]=_0x4545be,renderEarnedBadges(_0x21ff7e,_0x1dc1d9(0x842)),studentResultArea[_0x1dc1d9(0x92b)]['remove'](_0x1dc1d9(0x384)),studentQuizArea[_0x1dc1d9(0x92b)][_0x1dc1d9(0x3fa)]('hidden'),setupResultScreenBackButton({'score':_0x457b05,'totalQuestions':_0x58cf02,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x5c4577=_0x56afb4;let _0x31ffdf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x5c4577(0x3c1);studentResultArea[_0x5c4577(0x8a3)]=_0x31ffdf,studentResultArea[_0x5c4577(0x92b)]['remove'](_0x5c4577(0x384)),studentQuizArea[_0x5c4577(0x92b)][_0x5c4577(0x3fa)](_0x5c4577(0x384)),document[_0x5c4577(0x574)](_0x5c4577(0x6b6))[_0x5c4577(0xf2)](_0x5c4577(0x811),()=>{const _0x4d3228=_0x5c4577;showView(_0x4d3228(0x4ad)),document[_0x4d3228(0x574)](_0x4d3228(0x199))[_0x4d3228(0x54e)]='';});}function renderEarnedBadges(_0x194ab2,_0x531c9b){const _0xb1769f=_0x56afb4,_0x1aaf89=document['getElementById'](_0x531c9b);if(!_0x1aaf89||!_0x194ab2||_0x194ab2[_0xb1769f(0x261)]===0x0)return;let _0x4470b7='';_0x194ab2[_0xb1769f(0x293)]((_0x1d6664,_0x7831d5)=>{const _0x3c9682=_0xb1769f,_0x39b13f=Object['values'](BADGES)['find'](_0x4964b2=>_0x4964b2['id']===_0x1d6664);_0x39b13f&&(_0x4470b7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x7831d5*0.2+'s;\x22\x20title=\x22'+_0x39b13f['description']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x39b13f[_0x3c9682(0x2e2)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x39b13f[_0x3c9682(0x79e)]+_0x3c9682(0x474));}),_0x1aaf89[_0xb1769f(0x8a3)]=_0x4470b7;}function startPresentation(_0x4ed3fe){const _0x455354=_0x56afb4;currentQuizData=getShuffledQuiz(_0x4ed3fe),currentPresentationSlide=0x0,presentationModal[_0x455354(0x610)][_0x455354(0x8b3)]=_0x455354(0x221),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x6872cd=_0x56afb4;document[_0x6872cd(0x1a0)]&&document['exitFullscreen'](),presentationModal[_0x6872cd(0x610)][_0x6872cd(0x8b3)]=_0x6872cd(0x372);}function renderPresentationSlide(_0x500245){const _0x155222=_0x56afb4,_0x25702c=document[_0x155222(0x574)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x155222(0x7d5)]||!currentQuizData[_0x155222(0x7d5)][_0x500245]){_0x25702c[_0x155222(0x8a3)]=_0x155222(0x4f9);return;}const _0x3fb2a7=currentQuizData[_0x155222(0x7d5)][_0x500245],_0xa11ae5=_0x3fb2a7['questionType']||currentQuizData[_0x155222(0x185)];_0x25702c[_0x155222(0x8a3)]='';let _0x52bc18=_0x155222(0x304)+(_0x3fb2a7[_0x155222(0x109)]?_0x155222(0x692)+_0x3fb2a7['imageCode']+_0x155222(0x24f):'')+_0x155222(0x4d4)+(_0x500245+0x1)+'.\x20'+(_0x3fb2a7['stem']||_0x3fb2a7[_0x155222(0x53e)])+_0x155222(0x7cd);switch(_0xa11ae5){case'matching_item':_0x52bc18+=_0x3fb2a7[_0x155222(0x1c1)]['map'](_0xb24f5c=>_0x155222(0x17f)+_0xb24f5c+_0x155222(0x547))[_0x155222(0x919)]('');break;case _0x155222(0x89d):_0x52bc18+=_0x155222(0x523),_0x52bc18+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x155222(0x124):case _0x155222(0x62b):_0x52bc18+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x155222(0x36d):case _0x155222(0x899):default:_0x52bc18+=_0x3fb2a7[_0x155222(0x721)][_0x155222(0x757)]((_0x491884,_0x1ec826)=>_0x155222(0x891)+_0x1ec826+_0x155222(0x4b7)+_0x491884+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x155222(0x919)]('');break;}_0x52bc18+=_0x155222(0x630)+(_0x3fb2a7['explanation']||'ไม่มีคำอธิบาย')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x25702c['innerHTML']=_0x52bc18;if(window[_0x155222(0x784)])window[_0x155222(0x784)][_0x155222(0x12c)]([_0x25702c]);let _0x5272af=[];switch(_0xa11ae5){case _0x155222(0x3ed):_0x5272af=_0x3fb2a7['allResponses']||[];break;case _0x155222(0x89d):_0x5272af=[_0x155222(0x417),_0x155222(0x876)];break;default:_0x5272af=_0x3fb2a7['options']||[];break;}const _0xec3e40=document['getElementById'](_0x155222(0x7b4));_0xec3e40&&(_0xec3e40[_0x155222(0x809)]=()=>{openScratchpad(_0x3fb2a7,_0x5272af);});document[_0x155222(0x706)](_0x155222(0x8a6))['forEach'](_0x339096=>{const _0x189086=_0x155222;_0x339096[_0x189086(0xf2)]('click',_0xf3f785=>revealAnswerForPresentation(_0x500245,_0xf3f785[_0x189086(0x682)]));});const _0x18d59b=document[_0x155222(0x574)]('check-presentation-answer-btn');_0x18d59b&&_0x18d59b[_0x155222(0xf2)]('click',()=>checkShortAnswerForPresentation(_0x500245)),document[_0x155222(0x574)](_0x155222(0x921))[_0x155222(0x46f)]='ข้อที่\x20'+(_0x500245+0x1)+_0x155222(0x77d)+currentQuizData['questions'][_0x155222(0x261)],document['getElementById'](_0x155222(0x8bb))[_0x155222(0x4b9)]=_0x500245===0x0,document[_0x155222(0x574)](_0x155222(0x5a6))[_0x155222(0x4b9)]=_0x500245===currentQuizData[_0x155222(0x7d5)][_0x155222(0x261)]-0x1;}async function checkShortAnswerForPresentation(_0x4eba66){const _0x3cdc0d=_0x56afb4,_0xff6517=currentQuizData[_0x3cdc0d(0x7d5)][_0x4eba66],_0x198ea5=document['getElementById'](_0x3cdc0d(0x4f0)),_0x4a2b2b=document[_0x3cdc0d(0x574)](_0x3cdc0d(0x135)),_0x412c92=document['getElementById']('presentation-ai-result'),_0x63c1c5=document[_0x3cdc0d(0x574)](_0x3cdc0d(0x3ae));if(!_0x198ea5||!_0x4a2b2b||!_0x412c92||!_0x63c1c5)return;const _0x51fe98=_0x198ea5[_0x3cdc0d(0x54e)][_0x3cdc0d(0x4b1)]();if(_0x51fe98==='')return;_0x4a2b2b[_0x3cdc0d(0x4b9)]=!![],_0x4a2b2b['innerHTML']=_0x3cdc0d(0x3bb),_0x198ea5[_0x3cdc0d(0x4b9)]=!![];const _0x4060d1=await gradeShortAnswer(_0x51fe98,_0xff6517);_0x4060d1?_0x412c92['innerHTML']=_0x3cdc0d(0x7cb):_0x412c92['innerHTML']=_0x3cdc0d(0x23f)+_0xff6517[_0x3cdc0d(0x66a)]+')',_0x412c92[_0x3cdc0d(0x92b)][_0x3cdc0d(0x112)](_0x3cdc0d(0x384)),_0x63c1c5[_0x3cdc0d(0x92b)][_0x3cdc0d(0x112)](_0x3cdc0d(0x384)),_0x4a2b2b[_0x3cdc0d(0x92b)][_0x3cdc0d(0x3fa)](_0x3cdc0d(0x384));}function revealAnswerForPresentation(_0x42d7b3,_0x3a4a01){const _0x2e769e=_0x56afb4,_0x28bc10=currentQuizData[_0x2e769e(0x7d5)][_0x42d7b3],_0x4e60da=_0x28bc10[_0x2e769e(0x4b8)]||currentQuizData['quizType'];document[_0x2e769e(0x706)](_0x2e769e(0x8a6))['forEach'](_0x5ed9ae=>{const _0x1b0b39=_0x2e769e;_0x5ed9ae['disabled']=!![],_0x5ed9ae['classList'][_0x1b0b39(0x112)](_0x1b0b39(0x252));let _0x1b53ff=![];if(_0x4e60da===_0x1b0b39(0x899)||_0x4e60da===_0x1b0b39(0x36d)){const _0x417f07=parseInt(_0x5ed9ae[_0x1b0b39(0xd6)][_0x1b0b39(0xf4)]);_0x1b53ff=_0x417f07===_0x28bc10[_0x1b0b39(0x800)];}else{if(_0x4e60da===_0x1b0b39(0x89d)){const _0x3642a9=_0x5ed9ae['dataset'][_0x1b0b39(0x90d)]===_0x1b0b39(0x3ff);_0x1b53ff=_0x3642a9===_0x28bc10[_0x1b0b39(0x53b)];}else _0x4e60da===_0x1b0b39(0x3ed)&&(_0x1b53ff=_0x5ed9ae[_0x1b0b39(0x46f)]['trim']()===_0x28bc10[_0x1b0b39(0x3aa)]);}_0x1b53ff?_0x5ed9ae[_0x1b0b39(0x92b)]['add'](_0x1b0b39(0x357),_0x1b0b39(0x4f2),_0x1b0b39(0x661)):_0x5ed9ae[_0x1b0b39(0x92b)]['add'](_0x1b0b39(0x16e));}),_0x3a4a01[_0x2e769e(0x92b)][_0x2e769e(0x112)]('opacity-50');let _0x534e06=![];if(_0x4e60da==='multiple_choice')_0x534e06=parseInt(_0x3a4a01[_0x2e769e(0xd6)]['index'])===_0x28bc10[_0x2e769e(0x800)];else{if(_0x4e60da===_0x2e769e(0x89d))_0x534e06=_0x3a4a01[_0x2e769e(0xd6)][_0x2e769e(0x90d)]===_0x2e769e(0x3ff)===_0x28bc10[_0x2e769e(0x53b)];else _0x4e60da===_0x2e769e(0x3ed)&&(_0x534e06=_0x3a4a01[_0x2e769e(0x46f)][_0x2e769e(0x4b1)]()===_0x28bc10[_0x2e769e(0x3aa)]);}!_0x534e06&&_0x3a4a01[_0x2e769e(0x92b)][_0x2e769e(0x3fa)](_0x2e769e(0x1b7),'text-white',_0x2e769e(0x790)),document[_0x2e769e(0x574)](_0x2e769e(0x3ae))[_0x2e769e(0x92b)][_0x2e769e(0x112)](_0x2e769e(0x384));}function startWholeQuizTimer(_0x1fea0d){const _0x3899ed=_0x56afb4,_0x3cd51f=document[_0x3899ed(0x574)](_0x3899ed(0x8e8));if(!_0x3cd51f)return;const _0x3429c7=Date[_0x3899ed(0x5de)]()+_0x1fea0d*0x3c*0x3e8;_0x3cd51f['innerHTML']=_0x3899ed(0x122);const _0x56c3bc=document['getElementById'](_0x3899ed(0x1e4));quizTimerInterval=setInterval(()=>{const _0xb80ec2=_0x3899ed,_0xa57806=_0x3429c7-Date[_0xb80ec2(0x5de)]();if(_0xa57806<=0x0)clearInterval(quizTimerInterval),_0x56c3bc[_0xb80ec2(0x46f)]='00:00',showMessage(_0xb80ec2(0x305)),handleSubmitQuiz(null);else{const _0x37c4c5=Math['floor'](_0xa57806/0x3e8/0x3c%0x3c)['toString']()[_0xb80ec2(0x7cc)](0x2,'0'),_0x108a29=Math[_0xb80ec2(0x504)](_0xa57806/0x3e8%0x3c)[_0xb80ec2(0x8c5)]()[_0xb80ec2(0x7cc)](0x2,'0');_0x56c3bc[_0xb80ec2(0x46f)]=_0x37c4c5+':'+_0x108a29;}},0x3e8);}function renderPerQuestionView(){const _0x5bf764=_0x56afb4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x49fb1d=currentDisplayedQuiz[_0x5bf764(0x7d5)][currentQuestionIndex],_0x5f1fbe=_0x49fb1d[_0x5bf764(0x4b8)]||currentDisplayedQuiz[_0x5bf764(0x185)];let _0x4f5458=_0x5bf764(0x571)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x5bf764(0x7d5)][_0x5bf764(0x261)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x5bf764(0x278)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x5bf764(0x4d1)+currentDisplayedQuiz['topic']+_0x5bf764(0x7e1)+(currentQuestionIndex===currentDisplayedQuiz[_0x5bf764(0x7d5)][_0x5bf764(0x261)]-0x1?_0x5bf764(0x3fd):_0x5bf764(0x7ca))+_0x5bf764(0xe3);studentQuizArea[_0x5bf764(0x8a3)]=_0x4f5458;let _0x330f3b='',_0x4ff7f9='';switch(_0x5f1fbe){case _0x5bf764(0x3ed):_0x330f3b=currentQuestionIndex+0x1+'.\x20'+_0x49fb1d[_0x5bf764(0x4a3)],_0x4ff7f9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x49fb1d[_0x5bf764(0x1c1)][_0x5bf764(0x757)](_0x4a33ab=>'<option\x20value=\x22'+_0x4a33ab+'\x22>'+_0x4a33ab+_0x5bf764(0x3a3))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x5bf764(0x89d):_0x330f3b=currentQuestionIndex+0x1+'.\x20'+_0x49fb1d['questionText'],_0x4ff7f9=_0x5bf764(0x74a);break;case _0x5bf764(0x62b):case _0x5bf764(0x124):_0x330f3b=currentQuestionIndex+0x1+'.\x20'+_0x49fb1d[_0x5bf764(0x53e)],_0x4ff7f9='<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>';break;case _0x5bf764(0x899):case _0x5bf764(0x85e):default:_0x330f3b=currentQuestionIndex+0x1+'.\x20'+_0x49fb1d['questionText'],_0x4ff7f9=_0x49fb1d[_0x5bf764(0x721)][_0x5bf764(0x757)]((_0x5bc757,_0x19dd0d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt'+_0x19dd0d+_0x5bf764(0x748)+_0x19dd0d+_0x5bf764(0x3f4)+_0x19dd0d+'\x22>'+_0x5bc757+_0x5bf764(0x6c6))[_0x5bf764(0x919)]('');break;}_0x49fb1d[_0x5bf764(0x109)]&&(_0x330f3b+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x49fb1d[_0x5bf764(0x109)]+_0x5bf764(0x24f));document[_0x5bf764(0x574)](_0x5bf764(0x2cd))['innerHTML']=_0x330f3b,document[_0x5bf764(0x574)]('per-question-options')['innerHTML']=_0x4ff7f9;if(currentMode===_0x5bf764(0x278)){const _0x170543=document['getElementById']('cancel-test-btn');if(_0x170543)_0x170543[_0x5bf764(0xf2)](_0x5bf764(0x811),cancelAdminTest);}document[_0x5bf764(0x574)](_0x5bf764(0x62e))[_0x5bf764(0xf2)](_0x5bf764(0x811),()=>handleNextQuestionInTimedMode(![]));if(window[_0x5bf764(0x784)])window['MathJax'][_0x5bf764(0x12c)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x20a77b=_0x56afb4,_0x5ec221=currentDisplayedQuiz['settings']['timerDuration'],_0x86e808=document[_0x20a77b(0x574)]('per-question-timer-container');if(!_0x86e808)return;let _0x15873f=_0x5ec221;_0x86e808[_0x20a77b(0x8a3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x15873f+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x573522=document[_0x20a77b(0x574)]('timer-bar'),_0x4f6d22=document[_0x20a77b(0x574)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x180b0b=_0x20a77b;_0x15873f--;const _0x4a0cfe=_0x15873f/_0x5ec221*0x64;_0x573522[_0x180b0b(0x610)][_0x180b0b(0x3ab)]=_0x4a0cfe+'%',_0x4f6d22[_0x180b0b(0x46f)]=_0x15873f,_0x15873f<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x180b0b(0x4af)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x24b856=![]){const _0x5537ab=_0x56afb4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x5e9da7=null;if(!_0x24b856){const _0x513332=currentDisplayedQuiz[_0x5537ab(0x7d5)][currentQuestionIndex],_0x2a74ac=_0x513332[_0x5537ab(0x4b8)]||currentDisplayedQuiz[_0x5537ab(0x185)];if(_0x2a74ac==='short_answer'||_0x2a74ac===_0x5537ab(0x124)){const _0x143388=document[_0x5537ab(0x351)](_0x5537ab(0x253));_0x5e9da7=_0x143388?_0x143388[_0x5537ab(0x54e)][_0x5537ab(0x4b1)]():'';}else{if(_0x2a74ac===_0x5537ab(0x3ed)){const _0x526cef=document[_0x5537ab(0x351)](_0x5537ab(0x24c));_0x5e9da7=_0x526cef?_0x526cef[_0x5537ab(0x54e)]:'';}else{const _0x54060f=document['querySelector']('input[name=\x22question_single\x22]:checked');if(_0x54060f){const _0x1ef4ff=_0x54060f[_0x5537ab(0x54e)];_0x5e9da7=!isNaN(parseInt(_0x1ef4ff,0xa))&&_0x1ef4ff['trim']()!==''?parseInt(_0x1ef4ff,0xa):_0x1ef4ff;}}}}studentAnswersPerQuestion[_0x5537ab(0x6e6)](_0x5e9da7),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x5537ab(0x7d5)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x5f326e=_0x56afb4,_0x52895b=currentDisplayedQuiz[_0x5f326e(0x7d5)][_0x5f326e(0x573)](_0x224f11=>_0x224f11[_0x5f326e(0x4b8)]===_0x5f326e(0x62b));_0x52895b?showMessage(_0x5f326e(0x1c9)):showMessage(_0x5f326e(0x3b6));const _0x622e4f=currentQuizData['id'],_0x113fb3=doc(db,_0x5f326e(0x58f)+appId+_0x5f326e(0x381)+_0x622e4f+_0x5f326e(0x16a),currentStudentName),_0x2ab4cb=await getDoc(_0x113fb3),_0x53825b=_0x2ab4cb[_0x5f326e(0x5f0)]()?_0x2ab4cb[_0x5f326e(0x58c)]():{},_0x26abe1=_0x53825b[_0x5f326e(0x4bd)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x26abe1);}function getResultsFilename(){const _0x24085e=_0x56afb4,_0x3f2eab=document[_0x24085e(0x574)](_0x24085e(0x29d))[_0x24085e(0x46f)][_0x24085e(0x840)](/[^a-z0-9]/gi,'_')[_0x24085e(0x56f)]();return _0x24085e(0x5a8)+(_0x3f2eab||_0x24085e(0x83d));}function exportResultsAsImage(){const _0xb0ccc0=_0x56afb4,_0x305fcd=document[_0xb0ccc0(0x574)](_0xb0ccc0(0x707));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x305fcd)[_0xb0ccc0(0x5fa)](_0x45143c=>{const _0x20d08c=_0xb0ccc0,_0x1ec2ff=document['createElement']('a');_0x1ec2ff['download']=getResultsFilename()+_0x20d08c(0x850),_0x1ec2ff[_0x20d08c(0x50c)]=_0x45143c[_0x20d08c(0x4ce)](_0x20d08c(0x5a5)),_0x1ec2ff[_0x20d08c(0x811)](),messageModal['classList']['add'](_0x20d08c(0x384));});}function exportResultsAsPDF(){const _0xb68fb9=_0x56afb4,{jsPDF:_0x1f54c1}=window[_0xb68fb9(0x2d8)],_0xb764e=new _0x1f54c1();_0xb764e[_0xb68fb9(0x28b)]('helvetica','normal'),_0xb764e[_0xb68fb9(0x441)]({'html':_0xb68fb9(0x7ac)}),_0xb764e['save'](getResultsFilename()+_0xb68fb9(0x321));}function exportResultsAsWord(){const _0x40f0c3=_0x56afb4,_0x27db7=_0x40f0c3(0x3eb)+_0x40f0c3(0x46e)+_0x40f0c3(0x499)+_0x40f0c3(0x561),_0xc4538=_0x40f0c3(0x8b7),_0x23ea32=_0x27db7+document[_0x40f0c3(0x574)](_0x40f0c3(0x707))[_0x40f0c3(0x8a3)]+_0xc4538,_0x25776c=_0x40f0c3(0x7b2)+encodeURIComponent(_0x23ea32),_0x5b8f53=document['createElement']('a');document[_0x40f0c3(0x71d)][_0x40f0c3(0x21a)](_0x5b8f53),_0x5b8f53[_0x40f0c3(0x50c)]=_0x25776c,_0x5b8f53[_0x40f0c3(0x6ea)]=getResultsFilename()+_0x40f0c3(0x1e1),_0x5b8f53['click'](),document[_0x40f0c3(0x71d)][_0x40f0c3(0x506)](_0x5b8f53);}function exportResultsAsExcel(){const _0x2fc15b=_0x56afb4,_0x28027c=document[_0x2fc15b(0x574)](_0x2fc15b(0x101));let _0x1dfc3e=[];for(let _0x425b91=0x0;_0x425b91<_0x28027c['rows'][_0x2fc15b(0x261)];_0x425b91++){let _0x40faf3=[],_0x168720=_0x28027c[_0x2fc15b(0x559)][_0x425b91][_0x2fc15b(0x706)](_0x2fc15b(0x388));for(let _0x9e961d=0x0;_0x9e961d<_0x168720[_0x2fc15b(0x261)];_0x9e961d++){_0x40faf3[_0x2fc15b(0x6e6)]('\x22'+_0x168720[_0x9e961d][_0x2fc15b(0x5bc)][_0x2fc15b(0x840)](/"/g,'\x22\x22')+'\x22');}_0x1dfc3e['push'](_0x40faf3[_0x2fc15b(0x919)](','));}const _0x1584f3=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1dfc3e['join']('\x0a')],{'type':_0x2fc15b(0x117)}),_0x1db720=document[_0x2fc15b(0x51d)]('a');_0x1db720['href']=URL[_0x2fc15b(0x705)](_0x1584f3),_0x1db720['download']=getResultsFilename()+'.csv',_0x1db720[_0x2fc15b(0x811)]();}function _0x2513(){const _0xb1a37=['answerText','student-name-selection-view','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','underline','กฎของไซน์','เรขาคณิต','MathJax','/public/data/projects','show_results_only','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','เกิดข้อผิดพลาดในการโหลดโปรเจค','selected-topics-count','screen','line-through\x20text-red-700','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','ไม่สามารถเพิ่มนักเรียนได้','scratchpad-close-btn','border-red-700','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','manage-tab','answering','passcode-prompt-message','NUMBER','ai-quiz-app-aefee.firebaseapp.com','%</span>','แผนภาพเวนน์','starred-project','\x22\x20class=\x22delete-project-btn\x20','\x22...','หน่วยความยาวและการแปลง','setAttribute','name','#math-topics-checkbox-container\x20input:checked','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','คะแนนยังไม่ถึงครึ่ง','fixedData','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','\x20\x20\x20-\x20คำตอบ:\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','includes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.star-quiz-btn','Error\x20saving\x20project\x20order:','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','.duplicate-quiz-btn','#results-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','teachingContent','pairedQuizId','all','data:application/vnd.ms-word;charset=utf-8,','ไม่ผ่าน','presentation-scratchpad-btn','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','analytics-summary-cards','findIndex','shadowBlur','keydown','correct','globalAlpha','ไม่มีคำอธิบาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','PERFECT_SCORE','Invalid\x20response\x20structure\x20from\x20AI.','.delete-svg-btn','modal-timer-duration-input','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','.ai-fix-question-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','fill','.generate-easy-version-btn','submit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','destination-out','คำถามถัดไป','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','padStart','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','POST','#E5E7EB','จำนวนเชิงซ้อน\x20(เสริม)','STRING','กำลังสแกนหาแบบทดสอบเก่า...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฮิสโตแกรม','questions','error','lineWidth','เปิดใช้งาน','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','transparent','เกิดข้อผิดพลาดในการปักหมุด','ai-quiz-app-aefee.firebasestorage.app','พิมพ์ตอบ','top','จำนวนนักเรียน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','desc','Error\x20displaying\x20question\x20bank:','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/learnedFixes','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','ทฤษฎีทวินาม\x20(เบื้องต้น)','from','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px,\x20','endTime','ownerSVGElement','translate(','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','dfrac','sum','startTime','passcode','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-modal','คำเตือน\x20(','wheel','</form>','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','correctAnswerIndex','standard','perfect_score_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','บันทึกการตั้งค่าแล้ว','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','onclick','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-word-btn','trail-tool-btn','keys','quiz-bank-count','text-gray-500','เกิดข้อผิดพลาดในการติดดาว','click','projectSort','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ช่อง','right','<li>','lowerGroupResponders','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','Error\x20saving\x20quiz\x20edits:','BOOLEAN','update-old-quizzes-btn','Error\x20pairing\x20quizzes:','bg-red-200\x20text-red-800','ตารางความถี่','restore','mouse','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','<div\x20class=\x22my-2\x22>','custom-math-topic-input','highlighter-tool-btn','Error\x20deleting\x20custom\x20topic:','button[type=\x22submit\x22]','student-quiz-leaderboard-content','far\x20fa-star','pop','Error\x20generating\x20from\x20parallel\x20test\x20file:','sort','open','/preferences/main','cos','live-short-answer-input','$$$1$','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','showImproveButton','quadraticCurveTo','.verification-result-editor','drop','</strong></p>','behaviorLog','textarea','parts','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','อุณหภูมิและการแปลง','quiz','isPinned','15KdSokB','replace','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','earned-badges-container','pen-tools-group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','total','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','choices_only','blockReason','.pen-size-btn','อัปเดตสถานะสำเร็จ','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','quiz-results-table-body','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','transformOrigin','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','reset-project-order-btn','log','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22','$1^{\x5ccirc}','-tab-content','ไม่พบข้อมูลแบบทดสอบ','scratchpad-modal','grabbing','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</td>','fill_in_with_choices','release','Enter','bg-gray-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','promise','-tab','strokeStyle','getContext','position','target','<div><input\x20type=\x22radio\x22\x20id=\x22q','.csv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ฟังก์ชันราก\x20(root)','_opt1\x22\x20name=\x22question','AI\x20ไม่สามารถประมวลผลข้อมูลได้','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','function','preventDefault','text-blue-700\x20bg-blue-100','ปิดใช้งาน','เศษส่วน\x20(ย่อ/ขยาย)','ไม่ใช่','cloneNode','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','q-text-','quiz-search-input','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-tab','fa-bolt\x20text-blue-500','behavior-log-tab-content','bg-green-100','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','perQuestionStats','Error\x20joining\x20live\x20game:','ค่าคลาดเคลื่อนของการวัด','ทฤษฎีบทพื้นฐานของแคลคูลัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','smooth','generate-from-blueprint-btn','ลำดับเลขคณิต\x20(AP)','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','สร้างคำถามแบบใช่/ไม่ใช่','fa-rocket\x20text-purple-500','พบข้อสอบ\x20','หัวข้อที่สร้างเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','FileReader\x20error:','$1\x20\x5cfrac','แผนภาพกล่อง\x20(box\x20plot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','deselect-all-topics-btn','multiple_choice','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','min','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','true_false','passcode-input-container','flex\x20flex-col\x20gap-2','string','กรุณาวาง\x20URL\x20ของบทความก่อน','ลบหัวข้อสำเร็จ','innerHTML','bank-tab','global-live-game-modal','.presentation-option','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','blueprint-input-area','thead','close-comparison-modal-btn','export-leaderboard-excel-btn','mouseup','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','label[for=\x22num-questions\x22]','เกิดข้อผิดพลาดในการบันทึก','ลิมิต','strength-weakness-analysis-container','display','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','OBJECT','#DBEAFE','</body></html>','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','cancel-admin-login-btn','abs','prev-question-btn','opacity','quiz-status-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','visibilitychange','postTScore','cancel-global-live-btn','beginPath','ระบบสมการเชิงเส้นสองตัวแปร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','toString','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','select-all-topics-btn','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','bg-green-200\x20text-green-800','คะแนนเฉลี่ย','จุด\x20เส้น\x20ระนาบ','confirm-admin-login-btn','\x22>ใช่</p>','#student-project-leaderboard-content\x20thead','project-dashboard-view','AI\x20Fix\x20Error:','กำลังสร้างแบบทดสอบคู่ขนาน...','frac','ข้อต่อไป','ยังไม่มีนักเรียนส่งงาน','application/json','visibilityState','close','practiceProblems','ความคล้ายของรูป','create-project-btn','257204LyJKQH','อัปเดตพฤติกรรมสำหรับ\x20','ai-quiz-generator-v3','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','<div\x20class=\x22mb-3\x20topic-category\x22>','```json','pinnedProjects','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','behavior-log','timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','postScore','ยอดเยี่ยม!','student-project-leaderboard-table-body','overline','cancel-passcode-btn','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','originalTopic','text-red-700\x20bg-red-100','key','ร้อยละพื้นฐาน','save','เกิดข้อผิดพลาดในการอัปเดต:\x20','Error\x20deleting\x20quiz:','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','quizId','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','ระยะทางและจุดกึ่งกลาง','delete-svg-btn','size','ปริมาตรรูปทรงสามมิติ','</p><p><strong>เฉลย:</strong>\x20','document','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','admin-view','math-topics-checkbox-container','7655384hbqAgq','getBoundingClientRect','บันทึกแบบทดสอบสำเร็จแล้ว!','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','answer','manage-tab-content','Error\x20starting\x20game:','ลบโปรเจคสำเร็จแล้ว','<svg','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.ql-editor','timer-duration-container','COMEBACK_KING','name_asc','text/html','join','.pin-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','bg-amber-100\x20text-amber-800','quizMode','การนับ','contents','slide-counter','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','จำนวนและการดำเนินการ','scratchpad-options','preTScore','readAsDataURL','reference-pdf-upload','หลังเรียน','.live-answer-btn,\x20#live-submit-short-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','classList','rgba(239,\x2068,\x2068,\x200.7)','admin-dashboard','_opt1\x22>ไม่ใช่</label></div>','modal-passing-score-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','เปลี่ยนชื่อโปรเจคสำเร็จ','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-bookmark','submissions','type','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','พีชคณิตและฟังก์ชัน','removeEventListener','dataset','generate-from-parallel-test-btn','ไม่สามารถโหลดรายการโปรเจคได้','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','$1\x5ctext{','.regenerate-question-btn','update','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-export-pdf-btn','{$1}','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','/public/data/customMathTopics','<option\x20value=\x22\x22>กำลังโหลด...</option>','block','topic-input-area','bg-red-100\x20text-red-800','closePath','Error\x20updating\x20sort\x20preference:','getPage','ตัวประกอบและตัวประกอบเฉพาะ','addEventListener','eraser-tool-btn','index','leaderboard_','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join-live-game-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','project-list','จำนวนคละ','outerHTML','Error\x20updating\x20old\x20quizzes:','toISOString','ไฮเพอร์โบลา','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','results-table','ทฤษฎีบทพีทาโกรัสและการประยุกต์','$1_{$2}','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','Error\x20updating\x20quiz\x20settings:','กำลังสร้างแบบทดสอบจากหัวข้อ...','imageCode','ไม่สามารถสร้างโปรเจคได้','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','ไม่พบข้อมูลผู้ใช้','#student-quiz-leaderboard-content\x20thead','จากเนื้อหาต่อไปนี้:\x20\x22','#results-table\x20thead\x20tr','show_results_and_answers','topic','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','\x20ชุด)','text-green-600\x20font-bold','text/csv;charset=utf-8;','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','Error\x20resetting\x20project\x20order:','Failed\x20to\x20get\x20standardized\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ผ่านฉลุย','สมการลอการิทึม','leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','fill_in_no_choices','question-complexity-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gamePin','<tr\x20class=\x22','typesetPromise','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','อัตราและอัตราหน่วย','values','.question-editor-item','text-red-300\x20hover:text-red-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','upperGroupResponders','check-presentation-answer-btn','ตัวแปรและนิพจน์','confirm-quiz-status-btn','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','write','filter','ตรวจทานเฉลยเสร็จสิ้น!','qType','questionStatus','ปรับเพิ่ม/ลดเป็นร้อยละ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','text-gray-300\x20hover:text-white','student-reading-area','player-list-lobby','.ai-fix-formula-btn','live-options-container','left','ปริมาตร/ความจุและการแปลง','bg-red-50','Error\x20listening\x20for\x20custom\x20math\x20topics:','screen_exit','.topic-category','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','q-image-container-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','request','mixed','#10B981','show_pass_fail_only','load-quiz-btn','schedule','เกิดข้อผิดพลาดในการสร้างห้องเกม','ระยะเวลา\x20(นาที):','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','q-explanation-','export-pdf-modal','quiz-end-time','num-choices-container','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','solution','rgba(239,\x2068,\x2068,\x200.9)','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','Error\x20adding\x20students:','shadowColor','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','(เลือกแล้ว\x20','back-from-results-btn','/submissions','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','opacity-50','button[data-id]','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','project-title','27411472','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x20mr-2\x22></i>','.move-quiz-btn','quiz-leaderboard-table-container','.ideal-answer-input','score','.quiz-bank-try-btn','ผิด','/studentProfiles',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','.status','คณิตการเงิน/บูรณาการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#FFFFFF','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','stroke','bank-quiz-search-input','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','quizType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','.highlighter-color-btn','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','close-game-final-btn','ดอกเบี้ยทบต้น','save-project-name-btn','แบบทดสอบจากคลังส่วนตัว','bg-green-200','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','leaderboard-quiz-tab-btn','\x20หัวข้อ)','วงกลม:\x20คอร์ดและเส้นสัมผัส','มุมและการวัดมุม','reduce','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-tab','eraser','quiz-id-input','แก้ไขข้อนี้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20moving\x20quiz:','กรุณาเลือกโปรเจคที่ต้องการบันทึก','pointerup','baseVal','fullscreenElement','ไม่สามารถบันทึกการตั้งค่าได้','inactive','<br>','hint','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กราฟฟังก์ชันตรีโกณ','G-V90KRM0L63','save-visibility-settings-btn','Error\x20deleting\x20all\x20students:','btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','num-questions','Error\x20committing\x20score\x20updates:','items','\x5csqrt{$1}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','backgroundColor','Error\x20creating\x20project:','passcode-error-msg','ระยะเวลา\x20(วินาที):','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','actions-container-','bg-red-500','game-pin-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','ความคาดหมาย\x20(Expected\x20value)','ไม่พบข้อมูลข้อสอบหลังเรียน','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','live-submit-short-answer-btn','results-quiz-id-display','find','allResponses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generated-quiz-container','<div\x20class=\x22answer-space\x22></div>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','getTextContent','analyze-strengths-btn','matching','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-tab','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','latestScore','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','Error\x20saving\x20visibility\x20settings:','mouseleave','$1\x5cfrac','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','(ไม่มีชื่อ)','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','empty','projectName','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','export-leaderboard-pdf-btn','hint-btn','พิสัย','.doc','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ยืนยันการกระทำ','countdown-display','ข้อ\x20','open-global-live-btn','isRemedial','.draggable-text','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','การคูณทศนิยม','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','badges','confirmation-message','#view-rankings-btn','\x20mb-2\x22>','contentEditable','raw','set','startedAt','Error\x20saving\x20user\x20preference:','Error\x20saving\x20quiz:','reset-view-btn','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','ส่วนเบี่ยงเบนเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','#FEF3C7','upper_group_count','.project-card-container.opacity-50','Error\x20showing\x20quiz\x20detail\x20view:','ความเป็นอิสระของเหตุการณ์','cancel-quiz-bank-btn','_blank','Error\x20updating\x20pin\x20status:','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','ไม่พบเอกสารการส่งงานของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','พื้นที่วงกลม/ส่วนของวงกลม','generate-from-file-btn','cancel-quiz-status-btn','catch','\x20คนที่ส่ง\x20ตอบถูก\x20(','แบบทดสอบที่ติดดาว','half_mark_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','lineJoin','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','closest','questionDisplayedAt','\x22,\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','\x5cfrac{$1}{$2}','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-edits-btn','appendChild','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','confirm-passcode-btn','has','canvas','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','flex','text-red-700','bestScore','stringify','</p></div>','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ที่พิมพ์ได้\x20จำนวน\x20','podium','กรุณาเลือกโปรเจคปลายทาง','</button>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isArray','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','Error\x20saving\x20submission:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','globalCompositeOperation','files','parent','เกิดข้อผิดพลาด:\x20','27HXOXCl','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','toLocaleDateString','สมการเชิงเส้นตัวแปรเดียว','perseverance','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','player-count','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','.group','export-leaderboard-image-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','afterend','#per-question-options\x20select','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','กำลังจับคู่...','</div>','(หลังเรียน)\x20','เลือกและบันทึก','hover:bg-indigo-100','#per-question-options\x20textarea','touches','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','\x5cfrac{','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','authed_project_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','.correct-response-input','บันทึกการตั้งค่าการแสดงผลสำเร็จ','.lastAnswerCorrect','stopPropagation','อนุพันธ์:\x20ผลคูณ/ผลหาร','พาราโบลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><i\x20class=\x22fas\x20','justification','dragstart','category','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','targetId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x20จาก\x20','modal-loop-until-pass-checkbox','test','fullscreenchange','#F3E8FF','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','indexOf','random','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.lastAnswerValue','duration-300','rgba(79,\x2070,\x20229,\x200.8)','admin-testing','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','comparison-individual-tab','</span></td>','leaderboard','doughnut','analytics-tab-content','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','text-red-600','include-images-checkbox','AI\x20Formula\x20Fix\x20Error:','date_desc','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','end-game-btn','.question-editor-item[data-q-index=\x22','ยังไม่ส่ง','ถูกต้อง!','ส่งแล้ว','setFont','ฟังก์ชันแบบชิ้นส่วน','.cancel-edit-topic-btn','offsetWidth','text','รูปหลายเหลี่ยมและมุมภายใน','lobby','ring-purple-400','forEach','getDocument','Error\x20generating\x20lesson\x20plan:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','Error\x20updating\x20quiz\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','undo-btn','onerror','.parallel-quiz-btn','สำหรับโปรเจค:\x20','results-quiz-title','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','ศูนย์','PERSEVERANCE','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','เซียนสมองไว','scratchpad-canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','results-tab-content','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','student-rankings-modal','back-to-dashboard-btn','project-passcode-input','admin','modal-timer-duration-container','<li\x20class=\x22','Error\x20processing\x20file\x20for\x20AI:','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','height','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','Error\x20verifying\x20answers:','<div\x20class=\x22space-y-4\x22>','auto-fix-latex-btn','createdAt','พื้นที่สามเหลี่ยม','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','visible','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','.quiz-bank-parallel-btn','.save-to-bank-btn','copy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classWeaknesses','หยุดระบบจับเวลาหรี่หน้าจอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20pointer-events-none\x22>','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','redo-btn','timerMode','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','project-name-input','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','back-to-project-btn','suggestedAnswer','\x22\x20data-topic=\x22','per-question-text','เกิดข้อผิดพลาดในการลบแบบทดสอบ','Error\x20listening\x20for\x20starred\x20quizzes:','การสร้างรูปด้วยวงเวียน–สันตรง','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','^{\x5ccirc}\x5ctext{C}$','text-blue-700','Failed\x20to\x20parse\x20JSON\x20from\x20AI','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','scores','jspdf','asc','option','close-presentation-btn','Error\x20generating\x20easy\x20version\x20quiz:','text-blue-800','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกสถานะ','ระยะจากจุดถึงเส้นตรง','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','icon','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','project-quizzes-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-scratchpad-btn','กรุณาเลือกชื่อของคุณ','players.','.quiz-bank-item','บันทึกคำถามใหม่\x20','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','color','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','กำลังสร้างรูปภาพ...','isPasscodeEnabled','/public/data/practiceBank','<div\x20class=\x22','interesting-stats-container','quick_thinker','แก้ไขหัวข้อสำเร็จ','ความชันเส้นสัมผัส','auto','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','#E0E7FF','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','shuffleSetting','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','student-progress-content','generate-from-link-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หมดเวลา!\x20กำลังส่งคำตอบ...','0\x200','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','[data-topic-container-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','prod','touchcancel','label','student-initial-view','default','beforeend','student-progress-view','pow','ring-2','confirm-move-quiz-btn','submittedAt','short','link-topic-input','parse','Original\x20quiz\x20not\x20found','project-detail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tGain','timer-duration-input','first_try_ace','text-red-900','toLocaleString','กำลังสร้างคำถามข้อ\x20','.pdf','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','message-modal','playerName','คะแนนเต็ม','focus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','verify-answers-editor-btn','save-quiz-edits-btn','</span></p>','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','ไม่พบตารางสำหรับ\x20Export','ชื่อหัวข้อห้ามว่าง','circle','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','cancel-move-quiz-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','latestSubmittedAt','practice-topic-btn','.topic-actions-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','name_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','Error\x20listening\x20for\x20projects:','mode-switcher-btn','insertAdjacentHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','pointerType','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20create\x20initial\x20submission\x20record:','close-comparison-modal-footer-btn','เมทริกซ์:\x20บวก/คูณ','font-bold\x20text-red-700\x20line-through','pointercancel','mjx-container','student-passcode-input','คะแนน','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','offset','ไม่มี','export-worksheet-pdf-btn','\x20\x20\x20-\x20','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','querySelector','parseFromString','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20fetching\x20projects\x20for\x20move:','ทำคะแนนได้เกินครึ่ง','bg-green-500','.isScored','.\x20แต่ละข้อมี\x20','results-display-select','เกี่ยวกับหัวข้อ\x20\x22','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','รูปสแควร์รูท\x20(surd)','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','save-settings-btn','\x5cpm','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','/public/data/liveGames','Error\x20adding\x20custom\x20topic:','scrollY','แผนการสอน','แคลคูลัสเบื้องต้น','check-answer-btn','ความแปรปรวน','export-word-btn','N/A','Error\x20saving\x20questions\x20to\x20practice\x20bank:','resultsDisplay','fill_in_the_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','none','AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่','deg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','quiz-results','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','projectOrder','lessonPlan','passing-score-input','เวกเตอร์และเมทริกซ์\x20(เสริม)','การลบ','entries','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','rgba(16,\x20185,\x20129,\x200.7)','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','/public/data/quizzes/','Authentication\x20failed:','instructions','hidden','ค่าความจริง/ตารางค่าความจริง','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','warn','td,\x20th','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','hasOwnProperty','student-quiz-leaderboard-table-body','Error\x20starting\x20live\x20race:','project-search-input','match','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x22\x20value=\x22','input[type=\x22radio\x22]:checked','fa-fire\x20text-orange-500','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tan','badgesCount','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<span\x20title=\x22','student-name-select','.unpair-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','</option>','.delete-project-btn','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','63372elpPjc','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctResponse','width','ไม่มีผู้ตอบตัวเลือกนี้','.summary-bar-item','presentation-explanation','Leaderboard\x20update\x20transaction\x20failed:\x20','blueprint-tab','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','students','เงินงวด\x20(อนุกรมเงินงวด)','Error\x20loading\x20user\x20preferences:','project-passcode-modal','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...',';\x22\x20data-id=\x22','manage','active','#F59E0B','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','createElementNS','.edit-quiz-btn','cancel-delete-btn','print','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','promptFeedback','จำนวนคู่:','move-quiz-modal','nickname-input','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','highlighter-tools-group','project-detail-view','classStrengths','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-modal','modal-timer-mode-select','upperGroupNames','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','enable-passcode-checkbox','quiz-leaderboard-table-body','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','add-student-btn','requestFullscreen','.choice-text','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','devicePixelRatio','generated-quiz-actions','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','ทศนิยม\x20(ค่าประจำหลัก)','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','สลับไปโหมดผู้ควบคุม','timestamp','lesson-plan-content','docs','ชื่อโปรเจคห้ามว่าง','ผู้เชี่ยวชาญ','binom','):\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','lowerGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบ:\x20','preScore','.compare-results-btn','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','quiz-leaderboard-table','matching_item','shuffledQuiz','ฟังก์ชันเชิงเส้นและกราฟ','input[name=\x22status-option\x22]:checked','learningGaps','uid','bank-input-area','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','user','</span></div>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','ความชันและเส้นตรง','add','<h1></h1>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','ส่งคำตอบ','\x5cdiv','true','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','input[type=\x22checkbox\x22]','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','มัธยฐาน','loader-text','toggle','_opt0\x22>ใช่</label></div>','ชนิดของข้อมูลและการเก็บข้อมูล','teacherSuggestions','cancel-create-project-btn','element','ฟังก์ชันสัมพัทธ์\x20(rational)','questions_only','geq','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','ดอทโปรดักต์\x20(dot)','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','drill-feedback','mousedown','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','ใช่','answers','ยืนยันการจับคู่','quiz-editor-modal','qIndex','กฎของโคไซน์','timer-mode-select','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','กรุณาใส่ชื่อนักเรียน','cancel-quiz-settings-btn','start-game-btn','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','student-result-area','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','tool','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x22\x20data-q-type=\x22','การแปลงรูปอัตลักษณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','4889262xBOSeb','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','กรุณาป้อนหัวข้อสำหรับใบงาน','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','ลำดับการดำเนินการ\x20(PEMDAS)','.quiz-settings-btn','.quiz-status-btn','global-live-game-count','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','ค่าเฉลี่ย','API\x20call\x20failed','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','เกิดข้อผิดพลาดในการเข้าร่วมเกม','.admin-try-quiz-list-btn','isCorrect','autoTable','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','th-TH','/public/data/quizzes','text-red-800','round','Error\x20duplicating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','border-green-300\x20bg-green-50','num-choices','input[type=\x22text\x22]','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','export-tutor-pdf-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x20รายการ...','แก้ระบบสมการด้วยเมทริกซ์','</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','\x22>ไม่ใช่</p>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','(^|[^\x5c\x5c])\x5cb','.topic-name-input','destroy','leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','<option\x20value=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','รีเซ็ตลำดับโปรเจคแล้ว','dragend','studentName','explanation','bg-green-100\x20text-green-800','(คัดลอก)\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','per_question','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','originalQuestionText','title','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','.live-answer-btn','start-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','textContent','setTransform','live-player-list','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','worksheet-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','4kcLMmR','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','translate','pre-test-checkbox','ดอกเบี้ยอย่างง่าย','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','.generate-post-test-btn','ความเท่ากันทุกประการของสามเหลี่ยม','msExitFullscreen','bg-blue-100\x20text-blue-800','สร้างคำถามแบบเติมคำในช่องว่าง','สร้างแบบทดสอบปรนัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','13465640VxKnra','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','class','text-yellow-300','\x22\x20data-pre-test-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','copy-quiz-id-btn','สมการเหตุผล\x20(rational)','submission','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','onchange','mousemove','comparison-modal','workerSrc','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','whole_quiz','quiz-editor-questions-container','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','repeat','global-quiz-list','ผู้ควบคุม\x20(ทดสอบ)','delete-all-students-btn','\x22\x20value=\x22false\x22\x20','GlobalWorkerOptions','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','ฟังก์ชันพหุนาม','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','stem','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','text-green-700\x20bg-green-100','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','scores-tab-btn','input','setItem','student','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','หมดเวลาสำหรับข้อนี้!','times','trim','[*]','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','lastAnswerCorrect','quiz-type-select','MathJax\x20typeset\x20error\x20(analytics):','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionType','disabled','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกคำตอบก่อนครับ','ตรวจคะแนนใหม่\x20','attempts','\x22\x20สำเร็จ','คัดลอกรหัสแล้ว!','สร้างแบบทดสอบ','progress-project-select','$1\x5c%','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','ตั้งเวลา\x20(เปิด)','เกมสิ้นสุดลงแล้ว','.generate-lesson-btn','<div\x20class=\x22flex-1\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','comparison-overall-tab','admin-password-modal','quiz-settings-modal','.topic-row','151062nLBWPf','toDataURL','$1^{$2}','.toggle-actions-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','กรุณาป้อนรหัสแบบทดสอบ','close-lesson-plan-modal-footer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','progress-student-select','fa-user-astronaut\x20text-blue-700','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','การปัดเศษและประมาณค่า','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','สามเหลี่ยม\x20(ชนิด/สมบัติ)','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','totalPoints','multiply','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','quiz-schedule-start-container','null','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','finishReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','confirm-join-game-btn','contains','reveal-answer-btn','force-math-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','/users/','กำลังวิเคราะห์ข้อสอบ\x20\x22','presentation-short-answer-input','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','text-white','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','การบวกเศษส่วน','lastAnswerIndex','<div\x20id=\x22q-image-container-','candidates','\x5cge','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','ก่อนเรียน','modal-adaptive-quiz-checkbox','text-content-input','สมการราก\x20(radical)','จัดการ','Failed\x20to\x20get\x20hint:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิตวิเคราะห์','generate-from-topic-btn','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeChild','no-projects-msg','commit','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchstart','shuffle','href','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','loopUntilPass','rgba(79,\x2070,\x20229,\x201)','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','Error\x20generating\x20parallel\x20post-test:','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','projectView','สัญกรณ์วิทยาศาสตร์','2-digit','ทำคะแนนเต็มในการทำครั้งแรก','แบบทดสอบนี้หมดเวลาแล้ว','.topic-name-display','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','createElement','touch','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','live-game','</p><div>','(ตัวเลือกผิดพลาด)','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','.verification-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-join-game-view','Error\x20toggling\x20pin\x20status:','#000000','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','แบบเติมคำตอบ','trail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','viewBox','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','ฟังก์ชันค่าสัมบูรณ์','bottom','text-emerald-900','ท็อปฟอร์ม','scrollIntoView','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','correctAnswer','ลำดับเรขาคณิต\x20(GP)','text-indigo-800','questionText','behavior-log-container','confirm-global-live-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','Error\x20listening\x20for\x20student\x20profiles:','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','.export-pdf-list-btn','comparison-individual-content','มุมพิเศษ\x2030°-60°-90°','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(p=','export-excel-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','ref','สลับไปโหมดนักเรียน','กำลังดึงข้อมูลจากลิงก์...','value','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','wakeLock','ฟังก์ชันกำลังสองและกราฟ','leaderboard-quiz','topic-input','เกิดข้อผิดพลาดในการลบนักเรียน','pen','standardTopic','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','firstScore','rows','startsWith','after','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','Error\x20toggling\x20star\x20status:','rgba(59,\x20130,\x20246,\x200.7)','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','text-indigo-600','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','bg-red-100','\x22\x20เพื่อสร้างชุดคู่ขนาน...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x20รายการสำเร็จ!','gain','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','overallGroups','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pair-quiz-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x20สำเร็จ','http://www.w3.org/2000/svg','toLowerCase','preTestId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','some','getElementById','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','อสมการเชิงเส้น','สอบซ่อม','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','cancel-bulk-quiz-settings-btn','grid-view-btn','โดเมนและเรนจ์','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20ซึ่งมีทั้งหมด\x20','ส่วนเบี่ยงเบนมาตรฐาน','เส้นรอบรูป','results','ผลรวมอนุกรม\x20(Σ)','ค่าสัมบูรณ์','การคูณเศษส่วน','starred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-custom-topic-btn','สร้างคำถามใหม่\x201\x20ข้อ\x20','change','view-my-progress-btn','</li>','data','student-name-input','.quiz-bank-delete-btn','artifacts/','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22\x20name=\x22question','fa-dumbbell\x20text-gray-700','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dimmed','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','webkitRequestFullscreen','สรุปผลการวิเคราะห์:\x5cn','\x22\x5cn','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','generate-from-text-btn','.color-palette-popup','settings','/public/data/projects/','สร้างชุดคำถามจับคู่','show-in-student-dashboard-checkbox','\x22\x20class=\x22pin-project-btn\x20','ราชาคัมแบ็ก','<span\x20class=\x22font-bold\x20','image/png','next-question-btn','dispatchEvent','results_','อัตราการเปลี่ยนแปลงทันที','text-gray-200','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','show-leaderboard-btn','1:274192258111:web:4120c9118229b5644dd48a','#ffffff','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectSortOrder','questionId','quiz-generation-area','points','\x22\x20value=\x22true\x22\x20','7rctUcq','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','ตอบถูก\x203\x20ข้อติดต่อกัน','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','ตรวจพบการออกจากหน้าจอครบ\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','innerText','อัตราส่วนและสัดส่วน','ON_FIRE','localeCompare','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','clientY','editable-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20to\x20question\x20bank:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','fa-shield-alt\x20text-gray-600','results-tab','isAdaptive','การจัดหมู่\x20(Combination)','ย้าย','max','timerDuration','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scheduled_pending','\x20คู่\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','text-red-500\x20hover:text-red-700','stdDev','touchmove','showInStudentDashboard','fixed','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','specialist','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','removeAttribute','onload','AI\x20grading\x20failed:','checked','now','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','div[data-question-index=\x22','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','svg','isLooping','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','การวัด','admin-try-quiz-btn','</label>\x0a\x20\x20\x20\x20</div>\x0a','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-tab','loader','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','exists','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','scratchpad-question','touchend','post-test','katex','\x0a\x20\x20\x20\x20','msRequestFullscreen','substring','then','เปิด\x20(จับเวลา)','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','submission-status-chart','passingScore','pre-test','fromCharCode','กำลังอัปเดตแบบทดสอบ\x20','circ','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','กรุณาเลือกไฟล์ก่อน','dashboardConfig','Remedial\x20quiz\x20generation\x20failed:','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100\x20font-bold','currentQuestionIndex','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','difficulty-level-select','เกิดข้อผิดพลาดในการบันทึกลำดับ','ARRAY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','style','Error\x20generating\x20from\x20link:','table','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-student-btn','.edit-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','2439408fznbzG','</tbody></table></div>','highlighter','clientX','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','student-view','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','bulk-quiz-settings-btn','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','rgba(255,\x20255,\x200,\x200.5)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-gray-50','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','moveTo','manual_release','quiz-start-time','medium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','short_answer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','clearRect','next-question-timed-btn','verify-answers-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','getScreenCTM','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','\x20ข้อ\x20','result','\x5ctimes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.copy-quiz-id-list-btn','scratchpad-controls','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','text-gray-400\x20hover:text-indigo-600','การกระจายและการจัดหมู่','/questionBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','ตรีโกณมิติ','อสมการค่าสัมบูรณ์','grid','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','FIRST_TRY_ACE','lesson-plan-modal','code','STOP','scratchpad-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','input[name=\x22drill_answer\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','sqrt','select','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','confirm-bulk-quiz-settings-btn','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','.pen-color-btn','status','ไม่สามารถโหลดข้อมูลอันดับได้','Error\x20regenerating\x20question\x20in\x20editor:','\x22\x20class=\x22color-palette-btn\x20','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ชุดสำเร็จ!','questionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**','summary_chart','close-student-rankings-btn','.ideal-answer-input,\x20.correct-response-input','shuffle-setting-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','get','question','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','border-green-700','ระบบอสมการ','ย้ายแบบทดสอบไปโปรเจคอื่น','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','.start-presentation-list-btn','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','หน่วยเวลาและการคำนวณเวลา','คะแนนเต็ม!','bulk-shuffle-select','idealAnswer','input[type=\x22radio\x22][value=\x22','Error\x20fetching\x20quiz\x20settings:','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','behavior-log-tab-btn','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','bg-emerald-100','slice','ความสัมพันธ์ของมุม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันและอัปเดตทั้งหมด','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','confirm-quiz-settings-btn','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','สอบปกติ','highlighter-size-value','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','วงรี','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-red-300\x20bg-red-50','.answeredCurrentQuestion','scratchpad-clear-btn','currentTarget','กราฟแท่ง\x20กราฟเส้น','_opt','getBBox','https://corsproxy.io/?','dragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','bar','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','normal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','การยืนยันตัวตนล้มเหลว','.delete-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','คัดลอกแบบทดสอบสำเร็จ','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','student-list','globalSettings','<textarea\x20name=\x22question','project-sort-select','อนุพันธ์:\x20กฎลูกโซ่','move-quiz-project-select','scores-tab-content','message','เส้นจำนวน','list','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','date_asc','scale','QUICK_THINKER','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','list-view-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','[contenteditable=\x22true\x22]','\x22\x20data-name=\x22','totalQuestions','approx','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x09\x09\x09<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','sin','toFixed','link-url-input','highlighter-size-slider','.project-card-container:not(.opacity-50)','คณิตศาสตร์','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-password-input','.scratchpad-content-wrapper',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x20mx-1\x20text-lg\x22></i></span>','back-to-home-manual-release','setAttributeNS','\x5csum','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-\x20ข้อ\x20','comparison','Error\x20opening\x20quiz\x20editor:','perfect_score','ผ่าน','helvetica','pen-tool-btn','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','content','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user-id-display','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','สรุปผลสุดท้าย','คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','leaderboard-tab-content','link-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editor-quiz-topic','lineCap','การจัดกลุ่มข้อมูล','ai-quiz-app-aefee','เส้นตรง:\x20ขนาน/ตั้งฉาก','รูปแบบการให้เหตุผล','save-quiz-btn','text-gray-700','Error\x20verifying\x20answers\x20in\x20editor:','สถิติและความน่าจะเป็น','แบบทดสอบซ่อมเสริม','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','วงกลม:\x20สมการและสมบัติ','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','goto-next-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container[data-id]','push','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','rename-quiz-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','download','editable-text-','create-from-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบโปรเจค','การแจกแจงปกติและ\x20z-score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','ดีมาก','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','AI\x20request\x20was\x20blocked.\x20Reason:\x20','<tr><td\x20colspan=\x22','fa-crown\x20text-yellow-500','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','$1\x5ctext(','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','lesson-plan-title','score-distribution-chart','text-tab','export-pdf-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','pointermove','both','project-id-display','createObjectURL','querySelectorAll','results-table-container','div','.color-palette-btn','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','mean','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','quiz-results-view','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','Error\x20during\x20class\x20analysis:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','live-game-view','json','pointsLastQuestion','question-analytics-container','(ก่อนเรียน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-form','presentation-modal','\x20\x0a\x20\x20\x20\x20','text-emerald-800','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','body','Error\x20generating\x20from\x20blueprint:','comparison-chart','.quiz-bank-present-btn','options','องค์ประกอบของฟังก์ชัน','.quiz-result-card','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-magic\x22></i>','createdBy','split','<span\x20class=\x22sort-indicator\x20ml-2\x22>','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','API\x20call\x20failed\x20with\x20status:\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','การบวก','</span>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบแบบทดสอบในระบบเลย','tooltipTarget','live-player-management','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','toDate','<i\x20class=\x22fas\x20fa-pen\x22></i>','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','.sort-indicator','อนุพันธ์:\x20กฎพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-purple-50','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','.project-card-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','สู้ๆ\x20ลองอีกครั้งนะ','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','scrollX','\x22\x20name=\x22question_single\x22\x20value=\x22','exitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20settings:','text-purple-600','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','scheduled','สร้างใหม่','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','delete','players','\x0a---\x0a','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','font-bold\x20text-green-700','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','map','isStarred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แผนการสอน:\x20','retake-quiz-loop-btn','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cursor','คัดลอกไม่สำเร็จ','</h3>','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','projectId','จับคู่เพื่อเปรียบเทียบผล','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','confirm-create-project-btn','สร้างโปรเจคสำเร็จ!','interesting-stats-wrapper','worksheet-topic-input','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-actions-edit','จำนวนเต็มบวก','การแจกแจงทวินาม\x20(พื้นฐาน)','บันทึกการตั้งค่าสำเร็จ','arrayBuffer','$1^{\x5ccirc}\x5ctext{C}','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','modal-results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x20/\x20'];_0x2513=function(){return _0xb1a37;};return _0x2513();}function exportTableAsImage(_0xfa6194,_0x4e52f1){const _0x39ce56=_0x56afb4,_0x1414b6=document[_0x39ce56(0x574)](_0xfa6194);if(!_0x1414b6){showMessage(_0x39ce56(0x32e));return;}showMessage(_0x39ce56(0x2f2)),html2canvas(_0x1414b6)[_0x39ce56(0x5fa)](_0x1ac930=>{const _0x5f115a=_0x39ce56,_0x2e289f=document[_0x5f115a(0x51d)]('a');_0x2e289f[_0x5f115a(0x6ea)]=_0x4e52f1+'.png',_0x2e289f['href']=_0x1ac930[_0x5f115a(0x4ce)](_0x5f115a(0x5a5)),_0x2e289f['click'](),messageModal[_0x5f115a(0x92b)][_0x5f115a(0x3fa)](_0x5f115a(0x384));});}function exportTableAsPDF(_0x10f4fa,_0x716e74){const _0x436012=_0x56afb4,{jsPDF:_0x13352c}=window[_0x436012(0x2d8)],_0xc1da31=new _0x13352c();_0xc1da31[_0x436012(0x28b)](_0x436012(0x6c1),_0x436012(0x68c)),_0xc1da31[_0x436012(0x441)]({'html':'#'+_0x10f4fa}),_0xc1da31['save'](_0x716e74+_0x436012(0x321));}function exportTableAsWord(_0xa90947,_0x342fe4){const _0x47cb5c=_0x56afb4,_0x553e2a=document[_0x47cb5c(0x574)](_0xa90947);if(!_0x553e2a){showMessage(_0x47cb5c(0x32e));return;}const _0x2a9fdf=_0x47cb5c(0x3eb)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x47cb5c(0x499)+_0x47cb5c(0x561),_0x11acd1=_0x47cb5c(0x8b7),_0x34049e=_0x2a9fdf+_0x553e2a['innerHTML']+_0x11acd1,_0x13ce59=_0x47cb5c(0x7b2)+encodeURIComponent(_0x34049e),_0xbc7e49=document[_0x47cb5c(0x51d)]('a');document['body']['appendChild'](_0xbc7e49),_0xbc7e49[_0x47cb5c(0x50c)]=_0x13ce59,_0xbc7e49[_0x47cb5c(0x6ea)]=_0x342fe4+_0x47cb5c(0x1e1),_0xbc7e49[_0x47cb5c(0x811)](),document[_0x47cb5c(0x71d)][_0x47cb5c(0x506)](_0xbc7e49);}function exportTableAsExcel(_0x3bfb0f,_0x23cb98){const _0x5cfba4=_0x56afb4,_0x2f5992=document[_0x5cfba4(0x574)](_0x3bfb0f);if(!_0x2f5992){showMessage(_0x5cfba4(0x32e));return;}let _0x57a19e=[];for(let _0x505446=0x0;_0x505446<_0x2f5992[_0x5cfba4(0x559)][_0x5cfba4(0x261)];_0x505446++){let _0xd69265=[],_0x5c7409=_0x2f5992[_0x5cfba4(0x559)][_0x505446][_0x5cfba4(0x706)](_0x5cfba4(0x388));for(let _0x3bb504=0x0;_0x3bb504<_0x5c7409[_0x5cfba4(0x261)];_0x3bb504++){_0xd69265['push']('\x22'+_0x5c7409[_0x3bb504][_0x5cfba4(0x5bc)][_0x5cfba4(0x840)](/"/g,'\x22\x22')+'\x22');}_0x57a19e[_0x5cfba4(0x6e6)](_0xd69265['join'](','));}const _0x2e3464=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x57a19e[_0x5cfba4(0x919)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x42269b=document[_0x5cfba4(0x51d)]('a');_0x42269b[_0x5cfba4(0x50c)]=URL['createObjectURL'](_0x2e3464),_0x42269b[_0x5cfba4(0x6ea)]=_0x23cb98+_0x5cfba4(0x86a),_0x42269b['click']();}function renderAnalytics(_0x5e73a5,_0x4bab03){const _0x201c8a=_0x56afb4,_0xe7238=_0x4bab03[_0x201c8a(0x13b)](_0xb1fb5a=>_0xb1fb5a[_0x201c8a(0x1d1)]!==undefined),_0x25b597=currentProjectData[_0x201c8a(0x3b2)]['length'],_0x3caeea=_0xe7238[_0x201c8a(0x261)],_0x4729b4=_0x25b597-_0x3caeea,_0x4a3106=_0x25b597>0x0?_0x3caeea/_0x25b597*0x64:0x0,_0x2d3e70=_0xe7238[_0x201c8a(0x757)](_0x380a7e=>_0x380a7e[_0x201c8a(0x1d1)]),_0x175249=_0x2d3e70[_0x201c8a(0x261)]>0x0?_0x2d3e70['reduce']((_0x85a8da,_0x5502f5)=>_0x85a8da+_0x5502f5,0x0)/_0x2d3e70[_0x201c8a(0x261)]:0x0,_0x13363a=_0x5e73a5[_0x201c8a(0x7d5)][_0x201c8a(0x261)],_0x464c50=_0x13363a>0x0?_0x175249/_0x13363a*0x64:0x0,_0x459890=calculateItemAnalysis(_0x5e73a5,_0xe7238),_0x2c61de=calculateReliabilityKR20(_0x5e73a5,_0xe7238,_0x459890[_0x201c8a(0x882)]);let _0x2db1ad='';if(_0x2c61de!==null){let _0x501714='';if(_0x2c61de>=0.9)_0x501714='ยอดเยี่ยม';else{if(_0x2c61de>=0.8)_0x501714=_0x201c8a(0x6f2);else{if(_0x2c61de>=0.7)_0x501714='ดี';else{if(_0x2c61de>=0.6)_0x501714='พอใช้';else _0x501714='ควรปรับปรุง';}}}_0x2db1ad=_0x201c8a(0x186)+_0x2c61de[_0x201c8a(0x6ab)](0x2)+_0x201c8a(0x862)+_0x501714+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x4b9ce8=document[_0x201c8a(0x574)](_0x201c8a(0x7b6));_0x4b9ce8[_0x201c8a(0x8a3)]=_0x201c8a(0x6b4)+_0x4a3106[_0x201c8a(0x6ab)](0x0)+_0x201c8a(0x128)+_0x3caeea+'/'+_0x25b597+_0x201c8a(0x632)+_0x175249[_0x201c8a(0x6ab)](0x2)+_0x201c8a(0x67b)+_0x464c50[_0x201c8a(0x6ab)](0x0)+_0x201c8a(0x395)+(_0x2d3e70[_0x201c8a(0x261)]>0x0?Math[_0x201c8a(0x5cc)](..._0x2d3e70):_0x201c8a(0x36a))+_0x201c8a(0x307)+(_0x2d3e70[_0x201c8a(0x261)]>0x0?Math['min'](..._0x2d3e70):_0x201c8a(0x36a))+_0x201c8a(0x725)+_0x2db1ad+_0x201c8a(0x5f7);const _0x1fb6b1=document[_0x201c8a(0x574)](_0x201c8a(0x76e));_0x1fb6b1&&_0x1fb6b1[_0x201c8a(0x112)]();const _0x1e46ab=_0x201c8a(0x6ed);_0x4b9ce8['insertAdjacentHTML'](_0x201c8a(0x24b),_0x1e46ab);const _0x80215e=currentProjectData[_0x201c8a(0x3b2)]||[];renderSubmissionChart(_0x3caeea,_0x4729b4,_0xe7238,_0x80215e),renderScoreDistributionChart(_0xe7238,_0x13363a),renderQuestionAnalytics(_0x5e73a5,_0xe7238,_0x80215e),renderInterestingStats(_0x5e73a5,_0xe7238);}async function handleExportLessonPDF(){const _0x5e0b0a=_0x56afb4,_0x517d62=document[_0x5e0b0a(0x574)](_0x5e0b0a(0x3df)),_0x5b525b=document[_0x5e0b0a(0x574)](_0x5e0b0a(0x6fd))[_0x5e0b0a(0x46f)],_0x73b2e5=window['open']('','_blank'),_0x5071f7=_0x5e0b0a(0x1fb)+_0x5b525b+_0x5e0b0a(0x2b8)+_0x517d62['innerHTML']+_0x5e0b0a(0x370);_0x73b2e5[_0x5e0b0a(0x903)][_0x5e0b0a(0x13a)](_0x5071f7),_0x73b2e5[_0x5e0b0a(0x903)]['close'](),_0x73b2e5[_0x5e0b0a(0x5db)]=function(){setTimeout(()=>{const _0x1f7b68=_0x1cf4;_0x73b2e5[_0x1f7b68(0x3c0)]();},0x5dc);};}function renderInterestingStats(_0x16485b,_0x32f198){const _0x1f812e=_0x56afb4,_0x41c473=document['getElementById'](_0x1f812e(0x2f6));if(!_0x41c473)return;if(_0x32f198[_0x1f812e(0x261)]===0x0){_0x41c473[_0x1f812e(0x8a3)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x257a05=_0x16485b[_0x1f812e(0x7d5)]['map']((_0x135418,_0x66065a)=>({'index':_0x66065a+0x1,'text':_0x135418[_0x1f812e(0x53e)]||_0x135418[_0x1f812e(0x4a3)],'correct':0x0}));_0x32f198[_0x1f812e(0x293)](_0x1fa771=>{const _0x7bcc83=_0x1f812e,_0x4a78bd=_0x1fa771[_0x7bcc83(0x4bd)][_0x1fa771[_0x7bcc83(0x4bd)][_0x7bcc83(0x261)]-0x1];_0x4a78bd&&_0x4a78bd[_0x7bcc83(0x418)]&&_0x4a78bd[_0x7bcc83(0x418)][_0x7bcc83(0x293)](_0x49bc9d=>{const _0x195937=_0x7bcc83,_0x2ebbfc=_0x257a05[_0x195937(0x1c0)](_0x5b9f33=>_0x5b9f33['text']===_0x49bc9d[_0x195937(0x468)]);_0x49bc9d[_0x195937(0x440)]&&_0x2ebbfc&&_0x2ebbfc[_0x195937(0x7ba)]++;});});const _0x9bcbde=_0x32f198[_0x1f812e(0x261)],_0x46af0e=Math[_0x1f812e(0x5cc)](..._0x257a05[_0x1f812e(0x757)](_0x2037a6=>_0x2037a6['correct'])),_0x5c7f48=Math[_0x1f812e(0x89b)](..._0x257a05[_0x1f812e(0x757)](_0x45df89=>_0x45df89[_0x1f812e(0x7ba)])),_0x5a5f03=_0x257a05[_0x1f812e(0x13b)](_0x19788d=>_0x19788d[_0x1f812e(0x7ba)]===_0x46af0e)[_0x1f812e(0x757)](_0x361c61=>_0x1f812e(0x1e5)+_0x361c61[_0x1f812e(0xf4)]),_0x18a3e5=_0x257a05[_0x1f812e(0x13b)](_0x127077=>_0x127077[_0x1f812e(0x7ba)]===_0x5c7f48)[_0x1f812e(0x757)](_0x1f33a6=>'ข้อ\x20'+_0x1f33a6[_0x1f812e(0xf4)]),_0x2f4d9c=_0x32f198[_0x1f812e(0x82b)]((_0x5887a4,_0x79383c)=>_0x79383c[_0x1f812e(0x1d1)]-_0x5887a4[_0x1f812e(0x1d1)])['filter']((_0x26bbb1,_0x5f2483,_0x29300a)=>_0x26bbb1[_0x1f812e(0x1d1)]===_0x29300a[0x0]['latestScore']),_0x28e1b3=_0x32f198[_0x1f812e(0x82b)]((_0x1135d7,_0x44bf75)=>_0x1135d7[_0x1f812e(0x1d1)]-_0x44bf75[_0x1f812e(0x1d1)])[_0x1f812e(0x13b)]((_0x4c6a0e,_0xe6638c,_0x2f1c4f)=>_0x4c6a0e[_0x1f812e(0x1d1)]===_0x2f1c4f[0x0][_0x1f812e(0x1d1)]),_0x2ccdbd=_0x1f812e(0x375)+_0x5a5f03[_0x1f812e(0x919)](',\x20')+_0x1f812e(0x62c)+_0x46af0e+'\x20/\x20'+_0x9bcbde+_0x1f812e(0x332)+_0x18a3e5[_0x1f812e(0x919)](',\x20')+_0x1f812e(0x62c)+(_0x9bcbde-_0x5c7f48)+_0x1f812e(0x77d)+_0x9bcbde+_0x1f812e(0x151)+_0x2f4d9c[_0x1f812e(0x757)](_0x87407c=>_0x87407c[_0x1f812e(0x460)])[_0x1f812e(0x919)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x2f4d9c[0x0][_0x1f812e(0x1d1)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x28e1b3[_0x1f812e(0x757)](_0x48c36b=>_0x48c36b[_0x1f812e(0x460)])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x28e1b3[0x0]['latestScore']+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x41c473['innerHTML']=_0x2ccdbd;}function renderSubmissionChart(_0x3ad398,_0x4ffb95,_0x3da646,_0x3ec2ea){const _0x5dd509=_0x56afb4,_0x45fff0=document[_0x5dd509(0x574)](_0x5dd509(0x5fe))[_0x5dd509(0x866)]('2d'),_0x3c0222=_0x3da646['map'](_0x2f33dc=>_0x2f33dc[_0x5dd509(0x460)]),_0x1fb437=_0x3ec2ea['filter'](_0x32477d=>!_0x3c0222[_0x5dd509(0x7a6)](_0x32477d));chartInstances[_0x5dd509(0x490)]&&chartInstances[_0x5dd509(0x490)][_0x5dd509(0x459)](),chartInstances[_0x5dd509(0x490)]=new Chart(_0x45fff0,{'type':_0x5dd509(0x27d),'data':{'labels':[_0x5dd509(0x28a),_0x5dd509(0x288)],'datasets':[{'data':[_0x3ad398,_0x4ffb95],'backgroundColor':[_0x5dd509(0x155),_0x5dd509(0x3ba)],'borderColor':[_0x5dd509(0x5ae),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x5dd509(0x536)},'tooltip':{'callbacks':{'label':function(_0x1ec873){const _0x5c4ebb=_0x5dd509;let _0x32aeda=_0x1ec873[_0x5c4ebb(0x30c)]||'';return _0x32aeda&&(_0x32aeda+=':\x20'),_0x32aeda+=_0x1ec873[_0x5c4ebb(0x1f3)],_0x32aeda;},'afterLabel':function(_0x275546){const _0xc9190d=_0x5dd509;let _0x456b83;return _0x275546['dataIndex']===0x0?_0x456b83=_0x3c0222:_0x456b83=_0x1fb437,_0x456b83[_0xc9190d(0x261)]>0x0?_0x456b83['join']('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x3fa267,_0x570585){const _0x28cc18=_0x56afb4,_0x493c8a=document[_0x28cc18(0x574)](_0x28cc18(0x6fe))[_0x28cc18(0x866)]('2d'),_0x40d9c1={};for(let _0x37c3e2=0x0;_0x37c3e2<=_0x570585;_0x37c3e2++){_0x40d9c1[_0x37c3e2]=0x0;}_0x3fa267[_0x28cc18(0x293)](_0x2978ad=>{const _0x1fc34b=_0x28cc18;_0x40d9c1[_0x2978ad[_0x1fc34b(0x1d1)]]!==undefined&&_0x40d9c1[_0x2978ad[_0x1fc34b(0x1d1)]]++;}),chartInstances[_0x28cc18(0x178)]&&chartInstances[_0x28cc18(0x178)][_0x28cc18(0x459)](),chartInstances[_0x28cc18(0x178)]=new Chart(_0x493c8a,{'type':'bar','data':{'labels':Object[_0x28cc18(0x80d)](_0x40d9c1),'datasets':[{'label':_0x28cc18(0x7df),'data':Object[_0x28cc18(0x130)](_0x40d9c1),'backgroundColor':_0x28cc18(0x277),'borderColor':_0x28cc18(0x512),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x28cc18(0x349)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x576869){const _0x4f732e=_0x28cc18,_0x1aa71b=_0x576869[_0x4f732e(0x30c)],_0x2c21a6=_0x3fa267[_0x4f732e(0x13b)](_0x1b0755=>_0x1b0755[_0x4f732e(0x1d1)]==_0x1aa71b)[_0x4f732e(0x757)](_0x3aa67f=>_0x3aa67f[_0x4f732e(0x460)]);return _0x2c21a6[_0x4f732e(0x261)]>0x0?_0x2c21a6[_0x4f732e(0x919)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x2a110a,_0x143c96,_0x3d1e9f){const _0x36c578=_0x56afb4,_0x45df22=document[_0x36c578(0x574)](_0x36c578(0x714));if(_0x3d1e9f[_0x36c578(0x261)]===0x0){_0x45df22[_0x36c578(0x8a3)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x1c515f=calculateItemAnalysis(_0x2a110a,_0x143c96),_0x202630=calculateDistractorAnalysis(_0x2a110a,_0x143c96);let _0x43a45a='';_0x1c515f[_0x36c578(0x569)]&&(_0x43a45a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x1c515f['overallGroups'][_0x36c578(0x3cd)][_0x36c578(0x261)]+_0x36c578(0x3a9)+_0x1c515f[_0x36c578(0x569)][_0x36c578(0x3cd)][_0x36c578(0x757)](_0x486132=>_0x36c578(0x816)+_0x486132+'</li>')[_0x36c578(0x919)]('')+_0x36c578(0x844)+_0x1c515f[_0x36c578(0x569)]['lowerGroupNames'][_0x36c578(0x261)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c515f[_0x36c578(0x569)][_0x36c578(0x3e6)][_0x36c578(0x757)](_0x37e741=>_0x36c578(0x816)+_0x37e741+'</li>')[_0x36c578(0x919)]('')+_0x36c578(0x341));let _0x2b470c='';const _0x5f15f4=_0x143c96[_0x36c578(0x757)](_0x3ffec0=>_0x3ffec0[_0x36c578(0x460)]),_0x4eb4c7=_0x134ff2=>{const _0x11ceac=_0x36c578;if(_0x134ff2>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x134ff2>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x134ff2>=0.4)return _0x11ceac(0x429);if(_0x134ff2>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x11ceac(0x1dd);},_0x30294c=_0x52963d=>{const _0x4e0954=_0x36c578;if(_0x52963d<0x0)return _0x4e0954(0x6c3);if(_0x52963d>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x52963d>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x52963d>=0.2)return _0x4e0954(0x187);return _0x4e0954(0x5ef);},_0x5c08bf=_0x569cdc=>{const _0x548773=_0x36c578,_0xdd507e=_0x569cdc[_0x548773(0x6ab)](0x0);if(parseFloat(_0xdd507e)===0x64)return _0x548773(0xd9)+_0xdd507e+_0x548773(0x797);if(_0x569cdc>=0x32)return _0x548773(0x2c4)+_0xdd507e+_0x548773(0x797);return _0x548773(0x8ae)+_0xdd507e+'%</span>';};_0x2a110a['questions'][_0x36c578(0x293)]((_0x152961,_0x58262b)=>{const _0x346bce=_0x36c578,_0x2338f5=_0x1c515f['perQuestionStats'][_0x58262b],_0x4883f1=_0x202630[_0x58262b],_0xf5c1ee=_0x152961[_0x346bce(0x4a3)]||_0x152961[_0x346bce(0x53e)]||_0x152961[_0x346bce(0x383)];let _0xbf7030=0x0;const _0x35d3cb=[],_0x31528a=[];_0x143c96['forEach'](_0x2622ab=>{const _0x5e5fa4=_0x346bce,_0x2ce14c=_0x2622ab['attempts'][_0x2622ab[_0x5e5fa4(0x4bd)][_0x5e5fa4(0x261)]-0x1];if(_0x2ce14c&&_0x2ce14c[_0x5e5fa4(0x418)]){const _0x4dad8a=_0x2ce14c[_0x5e5fa4(0x418)]['find'](_0x12d63f=>_0x12d63f[_0x5e5fa4(0x468)]===_0xf5c1ee)??_0x2ce14c[_0x5e5fa4(0x418)][_0x58262b]??null;_0x4dad8a&&(_0x4dad8a[_0x5e5fa4(0x440)]?(_0xbf7030++,_0x35d3cb[_0x5e5fa4(0x6e6)](_0x2622ab[_0x5e5fa4(0x460)])):_0x31528a[_0x5e5fa4(0x6e6)](_0x2622ab['studentName']));}});const _0x53b051=_0x143c96[_0x346bce(0x261)]>0x0?_0xbf7030/_0x143c96[_0x346bce(0x261)]*0x64:0x0,_0x3dfc2a=_0x3d1e9f[_0x346bce(0x13b)](_0x276420=>!_0x5f15f4[_0x346bce(0x7a6)](_0x276420)),_0x1961d7=_0x2338f5?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x2338f5['p'][_0x346bce(0x6ab)](0x2)+_0x346bce(0x521)+_0x4eb4c7(_0x2338f5['p'])+_0x346bce(0x3f8)+_0x2338f5['r'][_0x346bce(0x6ab)](0x2)+_0x346bce(0x521)+_0x30294c(_0x2338f5['r'])+_0x346bce(0x6c4)+_0x5c08bf(_0x53b051)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x51edc1='';_0x4883f1&&(_0x51edc1=_0x346bce(0x525)+Object[_0x346bce(0x80d)](_0x4883f1)[_0x346bce(0x757)](_0x4a427a=>{const _0x4b193b=_0x346bce,_0x42ab2c=_0x4883f1[_0x4a427a],_0x148630=parseInt(_0x4a427a)===_0x152961[_0x4b193b(0x800)],_0x5a3a83=!_0x148630&&_0x42ab2c['lower_group_count']>_0x42ab2c[_0x4b193b(0x1fd)];return _0x4b193b(0x12b)+(_0x148630?_0x4b193b(0x609):'')+_0x4b193b(0x4e2)+(_0x148630?'✔\x20':'')+_0x42ab2c[_0x4b193b(0x28f)]+_0x4b193b(0x166)+_0x42ab2c[_0x4b193b(0x1fd)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x42ab2c['lower_group_count']+'\x20'+(_0x5a3a83?'👍':'')+_0x4b193b(0x166)+_0x42ab2c[_0x4b193b(0x845)]+_0x4b193b(0x452);})[_0x346bce(0x919)]('')+_0x346bce(0x36e));let _0x5cdaa5='';_0x2338f5&&_0x2338f5['upperGroupResponders']&&(_0x5cdaa5=_0x346bce(0x5d9)+_0x2338f5[_0x346bce(0x134)][_0x346bce(0x261)]+_0x346bce(0x4d9)+_0x2338f5[_0x346bce(0x134)][_0x346bce(0x757)](_0x48165c=>_0x346bce(0x816)+(_0x48165c[_0x346bce(0x440)]?_0x346bce(0xe8):_0x346bce(0x48d))+'\x20'+_0x48165c['name']+'</li>')[_0x346bce(0x919)]('')+_0x346bce(0x163)+_0x2338f5[_0x346bce(0x817)][_0x346bce(0x261)]+_0x346bce(0x4d9)+_0x2338f5[_0x346bce(0x817)][_0x346bce(0x757)](_0x261599=>_0x346bce(0x816)+(_0x261599['isCorrect']?_0x346bce(0xe8):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x261599[_0x346bce(0x79e)]+_0x346bce(0x58b))[_0x346bce(0x919)]('')+_0x346bce(0x285)),_0x2b470c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x58262b+0x1)+':\x20'+_0xf5c1ee+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x1961d7+_0x346bce(0x6fb)+_0xf5c1ee+_0x346bce(0x3fc)+_0xbf7030+_0x346bce(0x26b)+_0x143c96[_0x346bce(0x261)]+_0x346bce(0x20d)+_0x53b051[_0x346bce(0x6ab)](0x0)+_0x346bce(0x3e5)+_0x35d3cb[_0x346bce(0x261)]+_0x346bce(0x303)+(_0x35d3cb[_0x346bce(0x261)]>0x0?_0x35d3cb[_0x346bce(0x919)](',\x20'):_0x346bce(0x34c))+_0x346bce(0x243)+_0x31528a[_0x346bce(0x261)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x31528a[_0x346bce(0x261)]>0x0?_0x31528a['join'](',\x20'):_0x346bce(0x34c))+_0x346bce(0x5c6)+_0x3dfc2a[_0x346bce(0x261)]+_0x346bce(0x303)+(_0x3dfc2a['length']>0x0?_0x3dfc2a[_0x346bce(0x919)](',\x20'):_0x346bce(0x34c))+_0x346bce(0x3ca)+_0x51edc1+_0x346bce(0x896)+_0x5cdaa5+_0x346bce(0x526);}),_0x45df22[_0x36c578(0x8a3)]=_0x43a45a+_0x2b470c;try{window[_0x36c578(0x784)]&&MathJax[_0x36c578(0x12c)]&&MathJax[_0x36c578(0x12c)]([_0x45df22]);}catch(_0xc1420d){console[_0x36c578(0x7d6)](_0x36c578(0x4b6),_0xc1420d);}}function calculateDistractorAnalysis(_0x44242f,_0x59881b){const _0x51053d=_0x56afb4,_0x11dbb5={};if(_0x59881b[_0x51053d(0x261)]<0x2)return _0x11dbb5;const _0xd9e947=[..._0x59881b]['sort']((_0x14a35b,_0x74eb46)=>{const _0x75fbc9=_0x51053d,_0x3cb0a7=_0x74eb46[_0x75fbc9(0x1d1)]-_0x14a35b[_0x75fbc9(0x1d1)];if(_0x3cb0a7!==0x0)return _0x3cb0a7;const _0x4a379f=_0x14a35b[_0x75fbc9(0x4bd)]?.[_0x75fbc9(0x261)]||0x1,_0x58148a=_0x74eb46[_0x75fbc9(0x4bd)]?.[_0x75fbc9(0x261)]||0x1,_0x28b343=_0x4a379f-_0x58148a;if(_0x28b343!==0x0)return _0x28b343;const _0x354822=new Date(_0x14a35b[_0x75fbc9(0x335)]),_0x3e7802=new Date(_0x74eb46[_0x75fbc9(0x335)]),_0x49f795=_0x354822-_0x3e7802;if(_0x49f795!==0x0)return _0x49f795;return _0x14a35b[_0x75fbc9(0x460)]['localeCompare'](_0x74eb46[_0x75fbc9(0x460)],'th');}),_0x41548e=_0xd9e947[_0x51053d(0x261)],_0x5dc364=Math['max'](0x1,Math[_0x51053d(0x504)](_0x41548e*0.33)),_0x7a2e34=_0xd9e947['slice'](0x0,_0x5dc364),_0x56648a=_0xd9e947[_0x51053d(0x671)](-_0x5dc364);return _0x44242f[_0x51053d(0x7d5)][_0x51053d(0x293)]((_0x39a224,_0x47ad14)=>{const _0x561ffb=_0x51053d;if(_0x39a224[_0x561ffb(0x4b8)]!==_0x561ffb(0x899)||!_0x39a224[_0x561ffb(0x721)])return;const _0xda1a94=_0x39a224[_0x561ffb(0x53e)],_0x5c91c2={};_0x39a224[_0x561ffb(0x721)][_0x561ffb(0x293)]((_0x10935a,_0x462891)=>{_0x5c91c2[_0x462891]={'text':_0x10935a,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0xd9e947[_0x561ffb(0x293)](_0x4a659a=>{const _0x16fc39=_0x561ffb,_0x4c617e=_0x4a659a[_0x16fc39(0x4bd)][_0x4a659a[_0x16fc39(0x4bd)][_0x16fc39(0x261)]-0x1],_0x22677a=_0x4c617e[_0x16fc39(0x418)][_0x16fc39(0x1c0)](_0xa3f4c6=>_0xa3f4c6[_0x16fc39(0x468)]===_0xda1a94);if(_0x22677a&&_0x22677a[_0x16fc39(0x90d)]!==null){const _0x4545fd=_0x39a224['options'][_0x16fc39(0x7b7)](_0x4778cb=>_0x4778cb===_0x22677a[_0x16fc39(0x77e)]);_0x4545fd!==-0x1&&_0x5c91c2[_0x4545fd]&&(_0x5c91c2[_0x4545fd][_0x16fc39(0x845)]++,_0x7a2e34['includes'](_0x4a659a)&&_0x5c91c2[_0x4545fd][_0x16fc39(0x1fd)]++,_0x56648a[_0x16fc39(0x7a6)](_0x4a659a)&&_0x5c91c2[_0x4545fd]['lower_group_count']++);}}),_0x11dbb5[_0x47ad14]=_0x5c91c2;}),_0x11dbb5;}function calculateReliabilityKR20(_0x582453,_0x192d09,_0x5872dc){const _0x56c1d8=_0x56afb4,_0x21ae1b=_0x582453['questions'][_0x56c1d8(0x261)];if(_0x21ae1b<0x2||_0x192d09['length']<0x2)return null;const _0x1f6923=_0x192d09[_0x56c1d8(0x757)](_0x2f7e7a=>_0x2f7e7a['latestScore']),_0x12b440=_0x1f6923[_0x56c1d8(0x195)]((_0xa179dd,_0x5d0c52)=>_0xa179dd+_0x5d0c52,0x0)/_0x1f6923[_0x56c1d8(0x261)],_0x29697c=_0x1f6923[_0x56c1d8(0x757)](_0x3c1020=>Math[_0x56c1d8(0x311)](_0x3c1020-_0x12b440,0x2))[_0x56c1d8(0x195)]((_0x2cc0fb,_0xbf4d52)=>_0x2cc0fb+_0xbf4d52,0x0)/_0x1f6923[_0x56c1d8(0x261)];if(_0x29697c===0x0)return null;let _0x30c89e=0x0;for(let _0x4337b8=0x0;_0x4337b8<_0x21ae1b;_0x4337b8++){const _0x588e66=_0x5872dc[_0x4337b8]?.['p'];if(_0x588e66===undefined)continue;const _0xc6c36f=0x1-_0x588e66;_0x30c89e+=_0x588e66*_0xc6c36f;}if(_0x30c89e===0x0)return null;const _0x4d46c3=_0x21ae1b/(_0x21ae1b-0x1)*(0x1-_0x30c89e/_0x29697c);if(_0x4d46c3>0x1)return null;return _0x4d46c3;}async function handleAnalyzeClass(){const _0x18ab9e=_0x56afb4;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x18ab9e(0x568));return;}const _0x4532ab=collection(db,_0x18ab9e(0x58f)+appId+_0x18ab9e(0x381)+currentQuizData['id']+_0x18ab9e(0x16a)),_0x1d7d27=await getDocs(_0x4532ab),_0x4b74e1=_0x1d7d27[_0x18ab9e(0x3e0)][_0x18ab9e(0x757)](_0x32e814=>_0x32e814[_0x18ab9e(0x58c)]());if(_0x4b74e1['length']<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x465578=document[_0x18ab9e(0x574)](_0x18ab9e(0x8b2));_0x465578[_0x18ab9e(0x8a3)]=_0x18ab9e(0x11e),document[_0x18ab9e(0x574)](_0x18ab9e(0x1cc))['disabled']=!![];const _0x377890=_0x4b74e1[_0x18ab9e(0x757)]((_0x3c8852,_0x190695)=>{const _0x367fad=_0x18ab9e,_0x8e06e1=_0x3c8852[_0x367fad(0x4bd)][_0x3c8852[_0x367fad(0x4bd)][_0x367fad(0x261)]-0x1];if(!_0x8e06e1)return'';return _0x367fad(0x47e)+(_0x190695+0x1)+'\x20('+_0x3c8852['studentName']+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x8e06e1[_0x367fad(0x178)]+'/'+_0x3c8852['totalQuestions']+_0x367fad(0x448)+JSON['stringify'](_0x8e06e1[_0x367fad(0x418)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x18ab9e(0x919)](_0x18ab9e(0x753)),_0x21790a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData['topic']+_0x18ab9e(0x61d)+JSON[_0x18ab9e(0x224)](currentQuizData[_0x18ab9e(0x7d5)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x377890+_0x18ab9e(0x52b),_0x754e0={'type':_0x18ab9e(0x8b5),'properties':{'classStrengths':{'type':_0x18ab9e(0x60e),'items':{'type':_0x18ab9e(0x7d1)}},'classWeaknesses':{'type':_0x18ab9e(0x60e),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x18ab9e(0x60e),'items':{'type':_0x18ab9e(0x7d1)}}},'required':[_0x18ab9e(0x3c9),_0x18ab9e(0x2bf),_0x18ab9e(0x409)]};try{const _0x3cf9cb=await callAnalysisApi(_0x21790a,_0x754e0);displayClassAnalysis(_0x3cf9cb);}catch(_0x510403){console['error'](_0x18ab9e(0x70f),_0x510403),_0x465578[_0x18ab9e(0x8a3)]=_0x18ab9e(0x104)+_0x510403[_0x18ab9e(0x69a)]+_0x18ab9e(0x225);}finally{document[_0x18ab9e(0x574)](_0x18ab9e(0x1cc))[_0x18ab9e(0x4b9)]=![];}}function displayClassAnalysis(_0x537b5a){const _0x4889e7=_0x56afb4,_0x21286e=document[_0x4889e7(0x574)]('strength-weakness-analysis-container');if(!_0x537b5a){_0x21286e[_0x4889e7(0x8a3)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x21286e['innerHTML']=_0x4889e7(0x2be)+_0x537b5a[_0x4889e7(0x3c9)][_0x4889e7(0x757)](_0x14e64b=>_0x4889e7(0x816)+_0x14e64b+'</li>')[_0x4889e7(0x919)]('')+_0x4889e7(0x5af)+_0x537b5a[_0x4889e7(0x2bf)][_0x4889e7(0x757)](_0x3e0dfe=>_0x4889e7(0x816)+_0x3e0dfe+_0x4889e7(0x58b))[_0x4889e7(0x919)]('')+_0x4889e7(0x478)+_0x537b5a[_0x4889e7(0x409)][_0x4889e7(0x757)](_0x23dc5b=>'<li>'+_0x23dc5b+_0x4889e7(0x58b))[_0x4889e7(0x919)]('')+_0x4889e7(0x485);}function formatAndPrintWorksheet(_0x336931,_0x19f46b){const _0x185da4=_0x56afb4,_0x1a0b60='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x336931[_0x185da4(0x111)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x336931[_0x185da4(0x111)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x336931[_0x185da4(0x7d5)][_0x185da4(0x757)]((_0x13a976,_0x10fc2e)=>_0x185da4(0x7c8)+(_0x10fc2e+0x1)+'.\x20'+_0x13a976[_0x185da4(0x53e)]+_0x185da4(0x67e)+(_0x13a976[_0x185da4(0x109)]?_0x185da4(0x1ca)+_0x13a976[_0x185da4(0x109)]+_0x185da4(0x24f):'')+_0x185da4(0x396))[_0x185da4(0x919)]('')+_0x185da4(0x67c);_0x19f46b[_0x185da4(0x903)]['write'](_0x1a0b60),_0x19f46b[_0x185da4(0x903)]['close'](),_0x19f46b[_0x185da4(0x5db)]=function(){setTimeout(()=>{const _0x2901ae=_0x1cf4;_0x19f46b[_0x2901ae(0x3c0)]();},0x3e8);};}async function generateWorksheet(){const _0xaf242d=_0x56afb4,_0x27896e=document[_0xaf242d(0x574)](_0xaf242d(0x76f))[_0xaf242d(0x54e)][_0xaf242d(0x4b1)]();if(!_0x27896e){showMessage(_0xaf242d(0x433));return;}const _0x24c861=document[_0xaf242d(0x574)](_0xaf242d(0x4ec))[_0xaf242d(0x5dd)],_0x1405fd=_0x24c861?'':_0xaf242d(0x6af),_0x59689d=window[_0xaf242d(0x82c)]('','_blank');_0x59689d[_0xaf242d(0x903)][_0xaf242d(0x13a)](_0xaf242d(0x3fb));const _0x4f3346=parseInt(document[_0xaf242d(0x574)](_0xaf242d(0x1ac))['value']),_0x1ac3d2=document[_0xaf242d(0x574)](_0xaf242d(0x282))[_0xaf242d(0x5dd)],_0x3ba984=_0x1ac3d2?_0xaf242d(0x66d):'',_0x53749d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x1405fd+_0xaf242d(0x228)+_0x4f3346+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x27896e+_0xaf242d(0xf6)+_0x3ba984+_0xaf242d(0x852)+simpleMathPrompt+_0xaf242d(0x71a),_0x455710={'type':_0xaf242d(0x8b5),'properties':{'topic':{'type':_0xaf242d(0x7d1)},'questions':{'type':_0xaf242d(0x60e),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0xaf242d(0x7d1)},'imageCode':{'type':_0xaf242d(0x7d1)}},'required':['questionText']}}},'required':[_0xaf242d(0x111),_0xaf242d(0x7d5)]};document['getElementById'](_0xaf242d(0x405))[_0xaf242d(0x46f)]='',document['getElementById'](_0xaf242d(0x5ee))[_0xaf242d(0x92b)][_0xaf242d(0x112)](_0xaf242d(0x384)),document[_0xaf242d(0x574)](_0xaf242d(0x5b2))['classList'][_0xaf242d(0x112)](_0xaf242d(0x384)),generateWorksheetBtn[_0xaf242d(0x4b9)]=!![];try{const _0x43df61=await callAnalysisApi(_0x53749d,_0x455710);formatAndPrintWorksheet(_0x43df61,_0x59689d);}catch(_0x1824b1){console['error']('Error\x20generating\x20worksheet:',_0x1824b1);if(_0x59689d)_0x59689d['close']();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0xaf242d(0x574)](_0xaf242d(0x5ee))[_0xaf242d(0x92b)][_0xaf242d(0x3fa)](_0xaf242d(0x384)),document[_0xaf242d(0x574)](_0xaf242d(0x5b2))['classList'][_0xaf242d(0x3fa)](_0xaf242d(0x384)),generateWorksheetBtn[_0xaf242d(0x4b9)]=![];}}async function callAnalysisApi(_0x45b034,_0x94d77e){const _0x3d49ab=_0x56afb4,_0x34091e={'contents':[{'role':'user','parts':[{'text':_0x45b034}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x94d77e}},_0x3ecd30=_0x3d49ab(0xe7),_0x4aaeb7=_0x3d49ab(0x38b)+_0x3ecd30,_0x30a211=await fetch(_0x4aaeb7,{'method':_0x3d49ab(0x7ce),'headers':{'Content-Type':_0x3d49ab(0x8d5)},'body':JSON[_0x3d49ab(0x224)](_0x34091e)});if(!_0x30a211['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x30a211[_0x3d49ab(0x651)]);const _0x12ab88=await _0x30a211[_0x3d49ab(0x712)]();if(_0x12ab88[_0x3d49ab(0x4f7)]?.[0x0]?.[_0x3d49ab(0x6c5)]?.[_0x3d49ab(0x839)]?.[0x0])return JSON[_0x3d49ab(0x317)](_0x12ab88[_0x3d49ab(0x4f7)][0x0][_0x3d49ab(0x6c5)][_0x3d49ab(0x839)][0x0][_0x3d49ab(0x28f)]);else{let _0x2aadac=_0x3d49ab(0x7bf);if(_0x12ab88[_0x3d49ab(0x3c2)]?.['blockReason'])_0x2aadac=_0x3d49ab(0x6f4)+_0x12ab88[_0x3d49ab(0x3c2)][_0x3d49ab(0x848)]+'.';else _0x12ab88[_0x3d49ab(0x4f7)]?.[0x0]?.[_0x3d49ab(0x4e7)]&&_0x12ab88[_0x3d49ab(0x4f7)][0x0][_0x3d49ab(0x4e7)]!==_0x3d49ab(0x646)&&(_0x2aadac=_0x3d49ab(0x246)+_0x12ab88[_0x3d49ab(0x4f7)][0x0][_0x3d49ab(0x4e7)]+'.');console[_0x3d49ab(0x7d6)](_0x2aadac,JSON[_0x3d49ab(0x224)](_0x12ab88));throw new Error(_0x2aadac);}}initialize();
