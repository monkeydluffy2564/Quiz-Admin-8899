const _0x1d7cc9=_0x5842;(function(_0x267024,_0x449985){const _0x26734f=_0x5842,_0x374a4d=_0x267024();while(!![]){try{const _0x3d7400=-parseInt(_0x26734f(0x764))/0x1+-parseInt(_0x26734f(0x478))/0x2+-parseInt(_0x26734f(0xd25))/0x3+parseInt(_0x26734f(0x7ec))/0x4*(-parseInt(_0x26734f(0x4dc))/0x5)+-parseInt(_0x26734f(0xbe2))/0x6+-parseInt(_0x26734f(0xb70))/0x7+parseInt(_0x26734f(0x805))/0x8;if(_0x3d7400===_0x449985)break;else _0x374a4d['push'](_0x374a4d['shift']());}catch(_0x3af2a1){_0x374a4d['push'](_0x374a4d['shift']());}}}(_0x49b4,0xb7085));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x1d7cc9(0x5f5),_0x1d7cc9(0x9c4),_0x1d7cc9(0x494),_0x1d7cc9(0xb96),_0x1d7cc9(0x495),_0x1d7cc9(0x9c5),_0x1d7cc9(0xe62),_0x1d7cc9(0x174),_0x1d7cc9(0xbe9),_0x1d7cc9(0xbd9),_0x1d7cc9(0x361),_0x1d7cc9(0x3f8),'เงาปริศนา',_0x1d7cc9(0x189),_0x1d7cc9(0xa5a),'จอมเวทย์ขนมหวาน','นินจาชาเขียว',_0x1d7cc9(0x85e),_0x1d7cc9(0x3f9),_0x1d7cc9(0x2bd),_0x1d7cc9(0xa58),_0x1d7cc9(0xcaf),_0x1d7cc9(0x677),'ไก่ฟ้าพญาลอ',_0x1d7cc9(0x924),_0x1d7cc9(0xcef),_0x1d7cc9(0x746),_0x1d7cc9(0xb3e),_0x1d7cc9(0x5d3),_0x1d7cc9(0x88c),'ยอดนักสืบ',_0x1d7cc9(0xcb3),'คนดีศรีสยาม',_0x1d7cc9(0x590),_0x1d7cc9(0xb8e),_0x1d7cc9(0x366),_0x1d7cc9(0x821),'อินฟลูเอนเซอร์',_0x1d7cc9(0xd10),_0x1d7cc9(0x88d),_0x1d7cc9(0x32c),_0x1d7cc9(0xa6f),'ส้มตำปูปลาร้า',_0x1d7cc9(0xbe7),_0x1d7cc9(0x332),_0x1d7cc9(0x5e7),_0x1d7cc9(0x148),_0x1d7cc9(0xa6a),_0x1d7cc9(0xc1b),_0x1d7cc9(0x9a6),_0x1d7cc9(0x642),_0x1d7cc9(0x374),_0x1d7cc9(0x28f),_0x1d7cc9(0x58d),_0x1d7cc9(0xb62),_0x1d7cc9(0xc6e),_0x1d7cc9(0x506),_0x1d7cc9(0x5bb),_0x1d7cc9(0x850),_0x1d7cc9(0xde8),_0x1d7cc9(0x693),'ตะวันฉาย','สายหมอก',_0x1d7cc9(0x76c),'ดวงดาว',_0x1d7cc9(0xd89),'ทะเล',_0x1d7cc9(0xe0c),_0x1d7cc9(0x112),'แม่น้ำ',_0x1d7cc9(0x27b),_0x1d7cc9(0x737),_0x1d7cc9(0x777),'ศิลปิน','นักดนตรี',_0x1d7cc9(0x183),_0x1d7cc9(0xccd),_0x1d7cc9(0xb51),_0x1d7cc9(0x4dd),_0x1d7cc9(0x55c),_0x1d7cc9(0xcb8),_0x1d7cc9(0x6d8),_0x1d7cc9(0x682),_0x1d7cc9(0xcbe),_0x1d7cc9(0xbf1),_0x1d7cc9(0xbce),_0x1d7cc9(0xaca),_0x1d7cc9(0x8ee),_0x1d7cc9(0xaa7),_0x1d7cc9(0x2cf),_0x1d7cc9(0x79e),'คนโสด',_0x1d7cc9(0x125),'อกหัก',_0x1d7cc9(0xaf3),'คู่จิ้น',_0x1d7cc9(0xb7d),_0x1d7cc9(0xd98),_0x1d7cc9(0xe4d),'มูเตลู'];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x1d7cc9(0x2d2),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x1d7cc9(0x2d2),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0xe20faa=_0x1d7cc9;if(_0xe20faa(0xd4f)in navigator)try{wakeLock=await navigator[_0xe20faa(0xd4f)][_0xe20faa(0x79f)]('screen'),console[_0xe20faa(0xe59)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0xe20faa(0x6f7)](_0xe20faa(0xa86),()=>{const _0x43d3c7=_0xe20faa;console[_0x43d3c7(0xe59)](_0x43d3c7(0x475));});}catch(_0x3c674a){console[_0xe20faa(0x7bc)](_0xe20faa(0xbf6)+_0x3c674a[_0xe20faa(0xb30)]+',\x20'+_0x3c674a[_0xe20faa(0xcee)]);}else console[_0xe20faa(0x377)](_0xe20faa(0x16c));},releaseWakeLock=async()=>{const _0x7fd40c=_0x1d7cc9;wakeLock!==null&&(await wakeLock[_0x7fd40c(0xa86)](),wakeLock=null,console[_0x7fd40c(0xe59)](_0x7fd40c(0xfb)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x3670c5=_0x1d7cc9;if(!document[_0x3670c5(0xb31)]['classList']['contains']('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x599ddf=_0x3670c5;document[_0x599ddf(0xb31)][_0x599ddf(0x985)][_0x599ddf(0xd0a)](_0x599ddf(0x6fb)),console[_0x599ddf(0xe59)](_0x599ddf(0xc17));},inactivityTime);}}function wakeUpScreen(_0x185b81){const _0x365521=_0x1d7cc9;_0x185b81&&(_0x185b81[_0x365521(0x799)](),_0x185b81[_0x365521(0x952)]());document[_0x365521(0xb31)][_0x365521(0x985)]['remove'](_0x365521(0x6fb));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x2f729f=_0x365521;document[_0x2f729f(0xb31)]['classList'][_0x2f729f(0xd0a)](_0x2f729f(0x6fb));},inactivityTime);}function stopDimTimer(){const _0x3c3813=_0x1d7cc9;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x3c3813(0x985)]['remove']('dimmed'),window[_0x3c3813(0x755)](_0x3c3813(0x5a2),resetDimTimer),window[_0x3c3813(0x755)](_0x3c3813(0xe5b),resetDimTimer),window[_0x3c3813(0x755)]('touchstart',resetDimTimer),window[_0x3c3813(0x755)](_0x3c3813(0x42b),resetDimTimer),console[_0x3c3813(0xe59)](_0x3c3813(0x187));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x3e2db9,_0x2d3c7d=![]){const _0x5a4c9d=_0x1d7cc9,_0x45636e=allQuizzes[_0x5a4c9d(0x15b)](_0x33cd5b=>_0x33cd5b['id']===_0x3e2db9)||allQuizzesGlobal[_0x5a4c9d(0x15b)](_0x269c59=>_0x269c59['id']===_0x3e2db9);if(!_0x45636e){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x45636e);const _0x5464a3=Math[_0x5a4c9d(0x36b)](0x3e8+Math['random']()*0x2328)[_0x5a4c9d(0x51a)]();try{const _0x4f4d8b=await addDoc(collection(db,_0x5a4c9d(0x6de)+appId+_0x5a4c9d(0xc95)),{'quizId':_0x45636e['id'],'projectId':_0x45636e[_0x5a4c9d(0xa1f)],'status':_0x5a4c9d(0xe8),'pin':_0x5464a3,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2d3c7d});currentTeamQuizId=_0x4f4d8b['id'],showView(_0x5a4c9d(0xc90)),renderAdminTeamQuizDashboard(_0x5464a3,_0x45636e[_0x5a4c9d(0xa37)]),listenForTeamQuizUpdates();}catch(_0x16c120){console[_0x5a4c9d(0x7bc)](_0x5a4c9d(0xc73),_0x16c120),showMessage(_0x5a4c9d(0xb81));}}function renderAdminTeamQuizDashboard(_0xf5280b,_0x266134,_0x1dd2fd='team'){const _0x2165f8=_0x1d7cc9,_0x2fa282=_0x1dd2fd==='group'?_0x2165f8(0x662):_0x2165f8(0xf1);liveGameView[_0x2165f8(0x8ec)]=_0x2165f8(0xd3d)+_0x2fa282+':\x20'+_0x266134+_0x2165f8(0x640)+_0xf5280b+_0x2165f8(0x1b2),document['getElementById'](_0x2165f8(0xbac))['addEventListener']('click',async()=>{const _0x478918=_0x2165f8;showConfirmation(_0x478918(0x4d6),async()=>{const _0x565495=_0x478918;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x565495(0x6de)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0x565495(0x90c));});});}function listenForTeamQuizUpdates(){const _0x3cc9b8=_0x1d7cc9;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0xa74b66=doc(db,'artifacts/'+appId+_0x3cc9b8(0xc95),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0xa74b66,_0x4fd222=>{const _0x4517e1=_0x3cc9b8;if(!_0x4fd222['exists']()){sessionStorage[_0x4517e1(0xb27)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x4517e1(0x90c)):showView('student');return;}const _0x5c7de6=_0x4fd222[_0x4517e1(0xafb)]();if(currentMode==='admin'){if(_0x5c7de6[_0x4517e1(0x91a)]===_0x4517e1(0x193)&&_0x5c7de6[_0x4517e1(0xfc)]!==_0x4517e1(0x66f)&&_0x5c7de6[_0x4517e1(0xfc)]!==_0x4517e1(0x95b)){const _0x3387aa=Object['values'](_0x5c7de6[_0x4517e1(0x84c)]||{});if(_0x3387aa[_0x4517e1(0x5df)]>0x0){const _0x3f4ef0=_0x3387aa['every'](_0x34bcf8=>_0x34bcf8[_0x4517e1(0x3f3)]===!![]);_0x3f4ef0&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x5c7de6);}else{if(_0x5c7de6[_0x4517e1(0xfc)]===_0x4517e1(0x66f)||_0x5c7de6[_0x4517e1(0xfc)]===_0x4517e1(0x95b)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x5c7de6['mode']==='group'){const _0x2189a7=_0x5c7de6[_0x4517e1(0x84c)][userId];(!_0x2189a7||!_0x2189a7[_0x4517e1(0x3f3)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x3c03a4){const _0x17c848=_0x1d7cc9;console['log'](_0x17c848(0x686));const _0x16eca0=doc(db,_0x17c848(0x6de)+appId+_0x17c848(0xc95),_0x3c03a4);try{const _0x49cf92=await getDoc(_0x16eca0);if(_0x49cf92[_0x17c848(0xc63)]()){const _0x426a9a=_0x49cf92[_0x17c848(0xafb)]();_0x426a9a[_0x17c848(0xa02)]&&await saveGameResultsAsSubmissions(_0x426a9a);}await updateDoc(_0x16eca0,{'status':'podium'});}catch(_0x313d4c){console['error'](_0x17c848(0x52f),_0x313d4c);}}function updateAdminTeamDashboard(_0x166955){const _0x11a395=_0x1d7cc9,_0x2ca804=document[_0x11a395(0x773)](_0x11a395(0x7b7));if(!_0x2ca804)return;const _0x4bb680=_0x166955[_0x11a395(0x91a)]||_0x11a395(0x61d),_0x516424=currentQuizData['questions'][_0x11a395(0x5df)];if(_0x4bb680===_0x11a395(0x193)){const _0x114d11=Object[_0x11a395(0x230)](_0x166955[_0x11a395(0x84c)]||{});if(_0x114d11[_0x11a395(0x5df)]===0x0){_0x2ca804[_0x11a395(0x8ec)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x2d2cc3=[..._0x114d11][_0x11a395(0xc1c)]((_0x1cbc50,_0x6c0f34)=>_0x6c0f34['score']-_0x1cbc50[_0x11a395(0x5f8)]),_0x4a98fb=_0x2d2cc3['map']((_0xb83041,_0x545bb4)=>{const _0x17aaa1=_0x11a395,_0x1ae877=_0xb83041[_0x17aaa1(0x382)]?.[_0x17aaa1(0x5df)]||0x0;return _0x17aaa1(0x274)+(_0x545bb4+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0xb83041[_0x17aaa1(0x19d)][_0x17aaa1(0x370)](',\x20')+_0x17aaa1(0xb50)+_0x1ae877+'/'+_0x516424+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0xb83041[_0x17aaa1(0x5f8)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x11a395(0x370)](''),_0x3eb45e=currentQuizData['questions'][_0x11a395(0x9d3)]((_0x32a3d2,_0x45fa80)=>{const _0xfd92b3=_0x11a395;let _0x4458ee=0x0,_0x89319c=0x0;_0x114d11['forEach'](_0x2cecab=>{const _0x4f3f8a=_0x5842,_0x4b697d=_0x2cecab[_0x4f3f8a(0x382)]?.[_0x4f3f8a(0x15b)](_0x50bc9b=>_0x50bc9b[_0x4f3f8a(0x550)]===_0x45fa80);if(_0x4b697d){_0x89319c++;if(_0x4b697d[_0x4f3f8a(0x17c)])_0x4458ee++;}});const _0x37fb4c=_0x89319c>0x0&&_0x89319c===_0x114d11['length'],_0xbe007a=_0x37fb4c?_0xfd92b3(0x3c1):_0xfd92b3(0x9f6),_0x3943d2=_0x37fb4c?_0xfd92b3(0x451):'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0xbe007a+_0xfd92b3(0x704)+(_0x45fa80+0x1)+_0xfd92b3(0x200)+_0x3943d2+_0xfd92b3(0x78d)+_0x4458ee+'/'+_0x114d11[_0xfd92b3(0x5df)]+'\x20กลุ่ม</p></div>';})[_0x11a395(0x370)]('');_0x2ca804[_0x11a395(0x8ec)]=_0x11a395(0x4be)+_0x4a98fb+_0x11a395(0xb92)+_0x3eb45e+'</div></div></div>';return;}const _0x5bdd3a=_0x166955['responses']||{},_0x594c72=Object[_0x11a395(0x203)](_0x5bdd3a);if(_0x594c72[_0x11a395(0x5df)]===0x0){_0x2ca804['innerHTML']=_0x11a395(0x2c7);return;}const _0x2a686a=_0x594c72[_0x11a395(0x9d3)](_0x15d996=>({'name':_0x15d996,'score':_0x5bdd3a[_0x15d996][_0x11a395(0x5f8)]||0x0}))[_0x11a395(0xc1c)]((_0x42b1d0,_0x1037d8)=>_0x1037d8[_0x11a395(0x5f8)]-_0x42b1d0[_0x11a395(0x5f8)]),_0x1b0c43=_0x2a686a['map'](_0x11b00a=>{const _0x5433a0=_0x11a395,_0x379e77=_0x5bdd3a[_0x11b00a[_0x5433a0(0xb30)]]?.[_0x5433a0(0x382)]?.[_0x5433a0(0x5df)]||0x0,_0xa43a50=Math[_0x5433a0(0xb3c)](_0x516424/_0x594c72[_0x5433a0(0x5df)]);return _0x5433a0(0xe31)+_0x11b00a[_0x5433a0(0xb30)]+_0x5433a0(0x94c)+_0x379e77+'/'+_0xa43a50+_0x5433a0(0x13d)+_0x11b00a['score']+_0x5433a0(0x95d);})[_0x11a395(0x370)](''),_0x20b13e=_0x594c72[_0x11a395(0x731)]((_0x4e4972,_0x507420)=>_0x4e4972+(_0x5bdd3a[_0x507420][_0x11a395(0x382)]?.[_0x11a395(0x5df)]||0x0),0x0),_0x328b11=currentQuizData['questions']['map']((_0x5149f9,_0x2f60a8)=>{const _0x339ca4=_0x11a395;let _0x455d02=null,_0x13e1f0=null;for(const _0x1de41b of _0x594c72){const _0x5202ab=_0x5bdd3a[_0x1de41b][_0x339ca4(0x382)]?.[_0x339ca4(0x15b)](_0x467cef=>_0x467cef['questionIndex']===_0x2f60a8);if(_0x5202ab){_0x455d02=_0x5202ab,_0x13e1f0=_0x1de41b;break;}}const _0x2beef4=!!_0x455d02,_0xceda7f=_0x2beef4&&_0x455d02[_0x339ca4(0x17c)],_0x587259=(Math[_0x339ca4(0x36b)](_0x2f60a8/_0x594c72[_0x339ca4(0x5df)])+0x1)*_0x594c72[_0x339ca4(0x5df)],_0x59454c=_0x20b13e>=_0x587259,_0x2a2679=_0x59454c?'bg-green-200\x20text-green-900':_0x339ca4(0x9f6),_0x2765f6=_0x59454c?_0x339ca4(0x451):'';let _0x22d1af='รอ...';return _0x2beef4&&(_0x22d1af=_0x13e1f0+'\x20ตอบ'+(_0xceda7f?_0x339ca4(0xacf):_0x339ca4(0xbfa))),_0x339ca4(0x34c)+_0x2a2679+_0x339ca4(0x704)+(_0x2f60a8+0x1)+_0x339ca4(0x200)+_0x2765f6+_0x339ca4(0x836)+_0x22d1af+_0x339ca4(0x700);})[_0x11a395(0x370)]('');_0x2ca804[_0x11a395(0x8ec)]=_0x11a395(0x538)+_0x1b0c43+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x328b11+_0x11a395(0x957);}async function handleJoinTeamQuiz(){const _0x3e82de=_0x1d7cc9,_0x1b2021=prompt(_0x3e82de(0x443));if(!_0x1b2021||_0x1b2021[_0x3e82de(0xafd)]()[_0x3e82de(0x5df)]!==0x4){showMessage(_0x3e82de(0x5a3));return;}try{const _0x17e570=collection(db,_0x3e82de(0x6de)+appId+_0x3e82de(0xc95)),_0x56103b=query(_0x17e570,where(_0x3e82de(0xd22),'==',_0x1b2021['trim']()),where(_0x3e82de(0xfc),'==',_0x3e82de(0xe8))),_0x2750cd=await getDocs(_0x56103b);if(_0x2750cd['empty']){showMessage(_0x3e82de(0x691));return;}const _0x1333dc=_0x2750cd[_0x3e82de(0x79c)][0x0];currentTeamQuizId=_0x1333dc['id'];const _0x5d14ff=_0x1333dc['data'](),_0x399db9=doc(db,_0x3e82de(0x6de)+appId+_0x3e82de(0x45c),_0x5d14ff[_0x3e82de(0xa1f)]),_0x1fb0ac=doc(db,'artifacts/'+appId+_0x3e82de(0xde0),_0x5d14ff[_0x3e82de(0x514)]),[_0x3606ab,_0x567ef3]=await Promise['all']([getDoc(_0x399db9),getDoc(_0x1fb0ac)]);if(!_0x3606ab[_0x3e82de(0xc63)]()||!_0x567ef3['exists']())throw new Error(_0x3e82de(0x53c));currentQuizData=getShuffledQuiz({'id':_0x567ef3['id'],..._0x567ef3[_0x3e82de(0xafb)]()});const _0xcb7095=_0x3606ab[_0x3e82de(0xafb)]();showTeamPlayerSelection(_0xcb7095[_0x3e82de(0xb2e)],currentQuizData[_0x3e82de(0xa37)]);}catch(_0x45fda4){console[_0x3e82de(0x7bc)](_0x3e82de(0xb2f),_0x45fda4),showMessage('เกิดข้อผิดพลาด:\x20'+_0x45fda4[_0x3e82de(0xcee)]);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x427ea4=_0x1d7cc9;currentInputPin='',updatePinDisplay(),document[_0x427ea4(0x773)](_0x427ea4(0x2dc))[_0x427ea4(0x985)][_0x427ea4(0xa54)](_0x427ea4(0x806));}function updatePinDisplay(){const _0x2d6944=_0x1d7cc9,_0x3ee597=document[_0x2d6944(0x4a1)](_0x2d6944(0x3f0));_0x3ee597[_0x2d6944(0xa25)]((_0x236a18,_0x36a71e)=>{const _0x32aae4=_0x2d6944;_0x36a71e<currentInputPin[_0x32aae4(0x5df)]?(_0x236a18['textContent']=currentInputPin[_0x36a71e],_0x236a18['classList']['add'](_0x32aae4(0xc56),_0x32aae4(0x54f)),_0x236a18[_0x32aae4(0x985)][_0x32aae4(0xa54)](_0x32aae4(0x101),_0x32aae4(0x921))):(_0x236a18[_0x32aae4(0xcd6)]='',_0x236a18[_0x32aae4(0x985)][_0x32aae4(0xa54)](_0x32aae4(0xc56),'bg-white'),_0x236a18['classList']['add'](_0x32aae4(0x101),_0x32aae4(0x921)));});}async function handlePinKeyPress(_0x540f00){const _0x242433=_0x1d7cc9;if(_0x540f00===_0x242433(0x51f))currentInputPin=currentInputPin['slice'](0x0,-0x1);else currentInputPin[_0x242433(0x5df)]<0x4&&(currentInputPin+=_0x540f00);updatePinDisplay(),currentInputPin[_0x242433(0x5df)]===0x4&&setTimeout(async()=>{const _0x4de8dd=_0x242433;document['getElementById'](_0x4de8dd(0x2dc))['classList'][_0x4de8dd(0xd0a)](_0x4de8dd(0x806)),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0x6cf7cb){const _0xd1aae3=_0x1d7cc9,_0x7422e5=_0x6cf7cb['trim']();showMessage(_0xd1aae3(0xc5f));try{const _0x47cbec=collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),_0x4f6110=query(_0x47cbec,where(_0xd1aae3(0xd22),'==',_0x7422e5),where('status','==',_0xd1aae3(0xe8))),_0x39a40e=await getDocs(_0x4f6110);if(!_0x39a40e[_0xd1aae3(0x758)]){console['log']('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x39a40e[_0xd1aae3(0x79c)][0x0]);return;}const _0xed7a4f=collection(db,_0xd1aae3(0x6de)+appId+_0xd1aae3(0x782)),_0x5d1644=query(_0xed7a4f,where('pin','==',_0x7422e5),where(_0xd1aae3(0xfc),'in',[_0xd1aae3(0xe8),_0xd1aae3(0xa9f),_0xd1aae3(0x788),'results'])),_0x348dc9=await getDocs(_0x5d1644);if(!_0x348dc9[_0xd1aae3(0x758)]){console[_0xd1aae3(0xe59)](_0xd1aae3(0x3b8)),await proceedWithSyncQuizJoin(_0x348dc9[_0xd1aae3(0x79c)][0x0]);return;}showMessage(_0xd1aae3(0x21f));}catch(_0x8daaba){console[_0xd1aae3(0x7bc)](_0xd1aae3(0x4c2),_0x8daaba),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x8daaba[_0xd1aae3(0xcee)]);}}async function proceedWithTeamQuizJoin(_0x1e1e65){const _0x2d8100=_0x1d7cc9;currentTeamQuizId=_0x1e1e65['id'];const _0x59d55d=_0x1e1e65[_0x2d8100(0xafb)](),_0x214a7c=doc(db,_0x2d8100(0x6de)+appId+_0x2d8100(0x45c),_0x59d55d[_0x2d8100(0xa1f)]),_0x3eab3b=doc(db,_0x2d8100(0x6de)+appId+'/public/data/quizzes',_0x59d55d['quizId']),[_0x1689b8,_0x35c30c]=await Promise[_0x2d8100(0x2d2)]([getDoc(_0x214a7c),getDoc(_0x3eab3b)]);if(!_0x1689b8[_0x2d8100(0xc63)]()||!_0x35c30c[_0x2d8100(0xc63)]())throw new Error(_0x2d8100(0x53c));currentQuizData=getShuffledQuiz({'id':_0x35c30c['id'],..._0x35c30c[_0x2d8100(0xafb)]()}),showTeamPlayerSelection(_0x1689b8[_0x2d8100(0xafb)]()[_0x2d8100(0xb2e)],currentQuizData[_0x2d8100(0xa37)],_0x59d55d[_0x2d8100(0x91a)]||_0x2d8100(0x61d)),messageModal[_0x2d8100(0x985)]['add']('hidden');}async function proceedWithSyncQuizJoin(_0x5aeeac){const _0x5b8e23=_0x1d7cc9;currentLiveGameId=_0x5aeeac['id'];const _0x1e2773=_0x5aeeac[_0x5b8e23(0xafb)](),_0xb0c3a6=doc(db,_0x5b8e23(0x6de)+appId+_0x5b8e23(0xde0),_0x1e2773[_0x5b8e23(0x514)]),_0x243732=await getDoc(_0xb0c3a6);if(!_0x243732[_0x5b8e23(0xc63)]())throw new Error(_0x5b8e23(0x84a));const _0x50619a=_0x243732[_0x5b8e23(0xafb)](),_0x452dad=doc(db,_0x5b8e23(0x6de)+appId+_0x5b8e23(0x45c),_0x50619a[_0x5b8e23(0xa1f)]),_0x3aa2b5=await getDoc(_0x452dad);if(!_0x3aa2b5['exists']())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x1e2773[_0x5b8e23(0x142)],showView(_0x5b8e23(0x160)),showTeamPlayerSelection(_0x3aa2b5[_0x5b8e23(0xafb)]()[_0x5b8e23(0xb2e)],_0x50619a[_0x5b8e23(0xa37)],_0x5b8e23(0x479));const _0x1cf8a0=document['getElementById'](_0x5b8e23(0xde1)),_0x3dec52=_0x1cf8a0['cloneNode'](!![]);_0x1cf8a0[_0x5b8e23(0xbdb)][_0x5b8e23(0xbb7)](_0x3dec52,_0x1cf8a0),_0x3dec52[_0x5b8e23(0xb4f)]=confirmAndJoinSyncGame,messageModal[_0x5b8e23(0x985)][_0x5b8e23(0xd0a)](_0x5b8e23(0x806));}function getCleanApplicationHTML(){const _0x39e369=_0x1d7cc9,_0x526954=document[_0x39e369(0x773)](_0x39e369(0x75c));if(!_0x526954)return'';const _0x151f3f=_0x526954[_0x39e369(0xaa2)](!![]);return _0x151f3f[_0x39e369(0x4a1)](_0x39e369(0x971))[_0x39e369(0xa25)](_0x54679c=>{const _0x3a9fb3=_0x39e369;_0x54679c[_0x3a9fb3(0x985)]['remove'](_0x3a9fb3(0x868),_0x3a9fb3(0xcf4)),_0x54679c[_0x3a9fb3(0x67a)]=![];}),_0x151f3f[_0x39e369(0x8ec)];}function showTeamPlayerSelection(_0x224c05,_0x53b479,_0x24efa8=_0x1d7cc9(0x61d)){const _0x2232a4=_0x1d7cc9;studentInitialView[_0x2232a4(0x985)][_0x2232a4(0xd0a)]('hidden'),studentJoinGameView[_0x2232a4(0x985)][_0x2232a4(0xd0a)](_0x2232a4(0x806)),document[_0x2232a4(0x773)](_0x2232a4(0xce7))[_0x2232a4(0x985)]['remove'](_0x2232a4(0x806));let _0x4dddc2=_0x2232a4(0xf1);if(_0x24efa8===_0x2232a4(0x193))_0x4dddc2=_0x2232a4(0x662);else _0x24efa8===_0x2232a4(0x479)&&(_0x4dddc2=_0x2232a4(0x1d8));document[_0x2232a4(0x773)](_0x2232a4(0x79b))['textContent']=_0x4dddc2+':\x20'+_0x53b479;const _0x4350c4=document[_0x2232a4(0x773)](_0x2232a4(0xe35));if(!_0x224c05||_0x224c05['length']===0x0){_0x4350c4['innerHTML']=_0x2232a4(0x947),document[_0x2232a4(0x773)]('confirm-team-players-btn')['disabled']=!![];return;}_0x4350c4['innerHTML']=_0x224c05[_0x2232a4(0x9d3)](_0x497c80=>_0x2232a4(0x147)+_0x497c80+_0x2232a4(0x48f)+_0x497c80+_0x2232a4(0x44e))[_0x2232a4(0x370)](''),document[_0x2232a4(0x773)](_0x2232a4(0xde1))['disabled']=![];}async function confirmAndStartTeamQuiz(){const _0x1dadab=_0x1d7cc9,_0x3bab30=Array[_0x1dadab(0xc85)](document[_0x1dadab(0x4a1)](_0x1dadab(0x156)))[_0x1dadab(0x9d3)](_0x438417=>_0x438417['value']);if(_0x3bab30[_0x1dadab(0x5df)]===0x0){showMessage(_0x1dadab(0xdfe));return;}localTeamPlayers=_0x3bab30,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x48e885=doc(db,_0x1dadab(0x6de)+appId+_0x1dadab(0xc95),currentTeamQuizId);try{const _0x359c58=await getDoc(_0x48e885);if(!_0x359c58[_0x1dadab(0xc63)]())throw new Error(_0x1dadab(0x162));const _0x256803=_0x359c58[_0x1dadab(0xafb)]();if(_0x256803[_0x1dadab(0x91a)]===_0x1dadab(0x193)){const _0x2b5a5c={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x48e885,_0x2b5a5c);}else{const _0x28a181=_0x256803[_0x1dadab(0x7c7)]||{};localTeamPlayers[_0x1dadab(0xa25)](_0x5e00d6=>{!_0x28a181[_0x5e00d6]&&(_0x28a181[_0x5e00d6]={'score':0x0,'answers':[]});}),await updateDoc(_0x48e885,{'responses':_0x28a181});}document[_0x1dadab(0x773)]('student-team-selection-view')[_0x1dadab(0x985)][_0x1dadab(0xd0a)](_0x1dadab(0x806)),renderTeamQuizQuestion();const _0x5acb36={'gameId':currentTeamQuizId,'mode':_0x256803[_0x1dadab(0x91a)]||_0x1dadab(0x61d),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem']('activeGameSession',JSON[_0x1dadab(0xbd7)](_0x5acb36)),listenForTeamQuizUpdates();}catch(_0x5d844d){console[_0x1dadab(0x7bc)](_0x1dadab(0x9d6),_0x5d844d),showMessage(_0x1dadab(0xdd3));}}async function renderTeamQuizQuestion(){const _0x184c8f=_0x1d7cc9;if(localQuestionIndex>=currentQuizData[_0x184c8f(0xcf9)][_0x184c8f(0x5df)]){displayTeamQuizFinalResults();return;}const _0x107b53=currentQuizData[_0x184c8f(0xcf9)][localQuestionIndex],_0x38dadc=localTeamPlayers[localPlayerIndex],_0x4dddbe=_0x107b53['questionType']||currentQuizData[_0x184c8f(0xd83)];let _0x5c5a1=_0x107b53[_0x184c8f(0x43c)]||_0x107b53['questionText'],_0x24066e='';switch(_0x4dddbe){case _0x184c8f(0xbed):case _0x184c8f(0xc55):_0x24066e=_0x107b53['options'][_0x184c8f(0x9d3)]((_0x16dba0,_0x33efa6)=>_0x184c8f(0x9a2)+_0x33efa6+_0x184c8f(0x89d)+_0x33efa6+_0x184c8f(0x529)+_0x33efa6+'\x22>'+_0x16dba0+_0x184c8f(0xd59))['join']('');break;case _0x184c8f(0xc39):_0x24066e=_0x184c8f(0xb18);break;case'short_answer':case'fill_in_no_choices':_0x24066e=_0x184c8f(0x81a);break;case'matching_item':_0x24066e=_0x184c8f(0x9de)+_0x107b53[_0x184c8f(0x59d)][_0x184c8f(0x9d3)](_0x39bb01=>_0x184c8f(0xd4d)+_0x39bb01+'\x22>'+_0x39bb01+_0x184c8f(0x6da))[_0x184c8f(0x370)]('')+_0x184c8f(0xd54);break;default:_0x24066e=_0x184c8f(0xb59);break;}studentQuizArea[_0x184c8f(0x8ec)]=_0x184c8f(0x9cc)+(localQuestionIndex+0x1)+_0x184c8f(0x9fa)+currentQuizData[_0x184c8f(0xcf9)]['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x38dadc+_0x184c8f(0xdb8)+(localQuestionIndex+0x1)+'.\x20'+_0x5c5a1+_0x184c8f(0x81d)+(_0x107b53[_0x184c8f(0x52c)]?_0x184c8f(0x40a)+_0x107b53[_0x184c8f(0x52c)]+_0x184c8f(0x1b1):'')+_0x184c8f(0xdc2)+_0x24066e+_0x184c8f(0xbcd),studentQuizArea[_0x184c8f(0x985)]['remove'](_0x184c8f(0x806));if(window[_0x184c8f(0x6a1)])MathJax[_0x184c8f(0x7c9)]([studentQuizArea]);document['getElementById'](_0x184c8f(0xe6))[_0x184c8f(0x6f7)](_0x184c8f(0x2af),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x4fbd2d=_0x1d7cc9,_0x2e70cd=currentQuizData[_0x4fbd2d(0xcf9)][localQuestionIndex],_0x226a59=_0x2e70cd['questionType']||currentQuizData[_0x4fbd2d(0xd83)];let _0x12ca0a=null,_0x3a2244=![];if(_0x226a59===_0x4fbd2d(0x33a)||_0x226a59===_0x4fbd2d(0x488)){const _0x4e8444=document[_0x4fbd2d(0x86f)](_0x4fbd2d(0x26c));if(!_0x4e8444||!_0x4e8444['value'][_0x4fbd2d(0xafd)]()){showMessage(_0x4fbd2d(0xcc5));return;}_0x12ca0a=_0x4e8444[_0x4fbd2d(0xd9d)][_0x4fbd2d(0xafd)](),_0x3a2244=await gradeShortAnswer(_0x12ca0a,_0x2e70cd);}else{const _0x49f540=document[_0x4fbd2d(0x86f)](_0x4fbd2d(0xa9d));if(!_0x49f540||_0x49f540[_0x4fbd2d(0xd9d)]===''){showMessage(_0x4fbd2d(0x8b6));return;}_0x12ca0a=_0x49f540[_0x4fbd2d(0xd9d)];switch(_0x226a59){case _0x4fbd2d(0xc39):_0x3a2244=_0x12ca0a===_0x4fbd2d(0x9ff)===_0x2e70cd[_0x4fbd2d(0x77e)];break;case _0x4fbd2d(0xe52):_0x3a2244=_0x12ca0a===_0x2e70cd[_0x4fbd2d(0x8e3)];break;default:_0x3a2244=parseInt(_0x12ca0a)===_0x2e70cd[_0x4fbd2d(0xc68)];break;}}const _0xfb7243={'questionIndex':localQuestionIndex,'isCorrect':_0x3a2244},_0x1334b5=userId,_0x3c7861={[_0x4fbd2d(0x286)+_0x1334b5+_0x4fbd2d(0x4ac)]:arrayUnion(_0xfb7243)};_0x3a2244&&(_0x3c7861['groups.'+_0x1334b5+_0x4fbd2d(0x182)]=increment(0x1));try{await updateDoc(doc(db,_0x4fbd2d(0x6de)+appId+_0x4fbd2d(0xc95),currentTeamQuizId),_0x3c7861),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions'][_0x4fbd2d(0x5df)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x12cfb2){console['error'](_0x4fbd2d(0x117),_0x12cfb2),showMessage(_0x4fbd2d(0x1b8));}}async function handleTeamAnswerSubmit(){const _0x2a8211=_0x1d7cc9,_0x4da246=await getDoc(doc(db,_0x2a8211(0x6de)+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0x4da246[_0x2a8211(0xc63)]())return;const _0x4fcc31=_0x4da246['data']();if(_0x4fcc31[_0x2a8211(0x91a)]==='group'){handleGroupAnswerSubmit();return;}const _0x5193cc=localTeamPlayers[localPlayerIndex],_0x2fa9e6=currentQuizData[_0x2a8211(0xcf9)][localQuestionIndex],_0x2ef210=_0x2fa9e6['questionType']||currentQuizData[_0x2a8211(0xd83)];let _0x41057c=null,_0x4d1e7b=![];if(_0x2ef210===_0x2a8211(0x33a)||_0x2ef210===_0x2a8211(0x488)){const _0xf26429=document['querySelector'](_0x2a8211(0x26c));if(!_0xf26429||!_0xf26429[_0x2a8211(0xd9d)][_0x2a8211(0xafd)]()){showMessage(_0x2a8211(0x198));return;}_0x41057c=_0xf26429[_0x2a8211(0xd9d)][_0x2a8211(0xafd)](),_0x4d1e7b=await gradeShortAnswer(_0x41057c,_0x2fa9e6);}else{const _0x4d3a3c=document[_0x2a8211(0x86f)](_0x2a8211(0xa9d));if(!_0x4d3a3c||_0x4d3a3c[_0x2a8211(0xd9d)]===''){showMessage(_0x2a8211(0xc66));return;}_0x41057c=_0x4d3a3c[_0x2a8211(0xd9d)];switch(_0x2ef210){case _0x2a8211(0xc39):_0x4d1e7b=_0x41057c===_0x2a8211(0x9ff)===_0x2fa9e6[_0x2a8211(0x77e)];break;case _0x2a8211(0xe52):_0x4d1e7b=_0x41057c===_0x2fa9e6[_0x2a8211(0x8e3)];break;default:_0x4d1e7b=parseInt(_0x41057c)===_0x2fa9e6['correctAnswerIndex'];break;}}const _0x305170={'questionIndex':localQuestionIndex,'isCorrect':_0x4d1e7b,'answerValue':_0x41057c},_0x5d25c1={[_0x2a8211(0xd27)+_0x5193cc+_0x2a8211(0x4ac)]:arrayUnion(_0x305170)};_0x4d1e7b&&(_0x5d25c1['responses.'+_0x5193cc+_0x2a8211(0x182)]=increment(0x1));try{await updateDoc(doc(db,_0x2a8211(0x6de)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x5d25c1),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x2a8211(0x5df)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x424b3f){console[_0x2a8211(0x7bc)](_0x2a8211(0x922),_0x424b3f),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x55a84c=_0x1d7cc9;studentQuizArea[_0x55a84c(0x985)][_0x55a84c(0xd0a)]('hidden'),studentResultArea[_0x55a84c(0x985)]['remove'](_0x55a84c(0x806));const _0x3de79c=doc(db,_0x55a84c(0x6de)+appId+_0x55a84c(0xc95),currentTeamQuizId),_0x5ae709=await getDoc(_0x3de79c);if(!_0x5ae709['exists']()){studentResultArea['innerHTML']=_0x55a84c(0x113);return;}const _0x4396db=_0x5ae709[_0x55a84c(0xafb)]();let _0x2388f0=[];const _0x1eeaab=_0x4396db[_0x55a84c(0x91a)]||'team';if(_0x1eeaab==='group'){const _0x36e763=_0x4396db[_0x55a84c(0x84c)][userId];_0x36e763?_0x2388f0=[{'name':'กลุ่ม:\x20'+localTeamPlayers['join'](',\x20'),'score':_0x36e763[_0x55a84c(0x5f8)]||0x0}]:_0x2388f0=[{'name':_0x55a84c(0xa13),'score':'N/A'}];}else _0x2388f0=localTeamPlayers[_0x55a84c(0x9d3)](_0x40e087=>({'name':_0x40e087,'score':_0x4396db[_0x55a84c(0x7c7)][_0x40e087]?.['score']||0x0}))['sort']((_0x5dcbba,_0x4891a7)=>_0x4891a7[_0x55a84c(0x5f8)]-_0x5dcbba[_0x55a84c(0x5f8)]);studentResultArea[_0x55a84c(0x8ec)]=_0x55a84c(0x23f)+_0x2388f0[_0x55a84c(0x9d3)](_0x42c093=>_0x55a84c(0xc7a)+_0x42c093[_0x55a84c(0xb30)]+_0x55a84c(0x9d2)+_0x42c093[_0x55a84c(0x5f8)]+_0x55a84c(0xe1e))[_0x55a84c(0x370)]('')+_0x55a84c(0x31e),sessionStorage[_0x55a84c(0xb27)](_0x55a84c(0xcc6)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x1aa360=_0x55a84c;deleteDoc(doc(db,_0x1aa360(0x6de)+appId+_0x1aa360(0xc95),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x1d7cc9(0x5b9),'pinnedProjects':[],'projectView':_0x1d7cc9(0x1e3)};const allMathTopics=[{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0x623)},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0xb9e)},{'category':'จำนวนและการดำเนินการ','name':'การปัดเศษและประมาณค่า'},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0xd49)},{'category':_0x1d7cc9(0xd7e),'name':'การบวก'},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0x4a8)},{'category':_0x1d7cc9(0xd7e),'name':'การคูณ'},{'category':_0x1d7cc9(0xd7e),'name':'การหาร'},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0x525)},{'category':'จำนวนและการดำเนินการ','name':_0x1d7cc9(0xae7)},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0x708)},{'category':'จำนวนและการดำเนินการ','name':_0x1d7cc9(0x349)},{'category':_0x1d7cc9(0xd7e),'name':'เส้นจำนวน'},{'category':_0x1d7cc9(0xd7e),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0x30e)},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0x592)},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0x99f)},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0x4b5)},{'category':_0x1d7cc9(0xd7e),'name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0x6fd)},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0x221)},{'category':'จำนวนและการดำเนินการ','name':_0x1d7cc9(0xbec)},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0x411)},{'category':_0x1d7cc9(0xd7e),'name':'จำนวนคละ'},{'category':_0x1d7cc9(0xd7e),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x1d7cc9(0xd7e),'name':'การบวกทศนิยม'},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0x166)},{'category':_0x1d7cc9(0xd7e),'name':'การคูณทศนิยม'},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0x8bc)},{'category':'จำนวนและการดำเนินการ','name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0xba6)},{'category':_0x1d7cc9(0xd7e),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0x465)},{'category':'จำนวนและการดำเนินการ','name':_0x1d7cc9(0x73e)},{'category':'จำนวนและการดำเนินการ','name':_0x1d7cc9(0xb23)},{'category':'จำนวนและการดำเนินการ','name':_0x1d7cc9(0xcde)},{'category':_0x1d7cc9(0xd7e),'name':_0x1d7cc9(0x23b)},{'category':_0x1d7cc9(0xbd3),'name':_0x1d7cc9(0x79d)},{'category':_0x1d7cc9(0xbd3),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x1d7cc9(0xbd3),'name':_0x1d7cc9(0xddf)},{'category':_0x1d7cc9(0xbd3),'name':_0x1d7cc9(0x215)},{'category':'การวัด','name':_0x1d7cc9(0x3ba)},{'category':'การวัด','name':_0x1d7cc9(0x62c)},{'category':'การวัด','name':_0x1d7cc9(0xc77)},{'category':_0x1d7cc9(0xbd3),'name':_0x1d7cc9(0x1e4)},{'category':_0x1d7cc9(0xbd3),'name':_0x1d7cc9(0xc70)},{'category':_0x1d7cc9(0xbd3),'name':_0x1d7cc9(0xd9c)},{'category':_0x1d7cc9(0xbd3),'name':_0x1d7cc9(0xe25)},{'category':_0x1d7cc9(0xbd3),'name':_0x1d7cc9(0xc6f)},{'category':_0x1d7cc9(0xbd3),'name':_0x1d7cc9(0x35c)},{'category':'การวัด','name':_0x1d7cc9(0xe43)},{'category':_0x1d7cc9(0x865),'name':_0x1d7cc9(0xd40)},{'category':_0x1d7cc9(0x865),'name':_0x1d7cc9(0x481)},{'category':'เรขาคณิต','name':_0x1d7cc9(0x801)},{'category':_0x1d7cc9(0x865),'name':_0x1d7cc9(0x1e4)},{'category':'เรขาคณิต','name':_0x1d7cc9(0x925)},{'category':_0x1d7cc9(0x865),'name':_0x1d7cc9(0x8a9)},{'category':_0x1d7cc9(0x865),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':'เรขาคณิต','name':_0x1d7cc9(0xdc9)},{'category':_0x1d7cc9(0x865),'name':_0x1d7cc9(0xdb6)},{'category':'เรขาคณิต','name':_0x1d7cc9(0xa56)},{'category':_0x1d7cc9(0x865),'name':_0x1d7cc9(0x74f)},{'category':_0x1d7cc9(0x865),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':_0x1d7cc9(0x270)},{'category':_0x1d7cc9(0x865),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x1d7cc9(0x865),'name':_0x1d7cc9(0x8a4)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0x8e6)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1d7cc9(0x572)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0xabb)},{'category':_0x1d7cc9(0x15c),'name':'การแยกตัวประกอบ'},{'category':_0x1d7cc9(0x15c),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0xa0e)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0xbcc)},{'category':_0x1d7cc9(0x15c),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0x71c)},{'category':_0x1d7cc9(0x15c),'name':'สมการเหตุผล\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1d7cc9(0xa3f)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0xb42)},{'category':_0x1d7cc9(0x15c),'name':'สมการลอการิทึม'},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0x70b)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0x64b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1d7cc9(0x212)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0x7b2)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0x5c4)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0xc2f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1d7cc9(0xd0d)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0xa20)},{'category':_0x1d7cc9(0x15c),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0x448)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันพหุนาม'},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0xa17)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0x723)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0x666)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1d7cc9(0x3e1)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0x717)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0x7ce)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1d7cc9(0xb80)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0xef)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0x8ea)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0xdfb)},{'category':_0x1d7cc9(0x15c),'name':_0x1d7cc9(0x8a5)},{'category':_0x1d7cc9(0x798),'name':_0x1d7cc9(0xa93)},{'category':_0x1d7cc9(0x798),'name':_0x1d7cc9(0x551)},{'category':_0x1d7cc9(0x798),'name':_0x1d7cc9(0x68b)},{'category':_0x1d7cc9(0x798),'name':_0x1d7cc9(0x872)},{'category':_0x1d7cc9(0x798),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x1d7cc9(0x798),'name':_0x1d7cc9(0xb04)},{'category':_0x1d7cc9(0x798),'name':_0x1d7cc9(0x684)},{'category':_0x1d7cc9(0x798),'name':_0x1d7cc9(0xd2c)},{'category':'เรขาคณิตวิเคราะห์','name':'ไฮเพอร์โบลา'},{'category':_0x1d7cc9(0xc8e),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':'ตรีโกณมิติ','name':_0x1d7cc9(0x4d9)},{'category':_0x1d7cc9(0xc8e),'name':_0x1d7cc9(0xc5e)},{'category':_0x1d7cc9(0xc8e),'name':'เรเดียนและการแปลงหน่วย'},{'category':'ตรีโกณมิติ','name':_0x1d7cc9(0x2ea)},{'category':'ตรีโกณมิติ','name':'กฎของโคไซน์'},{'category':_0x1d7cc9(0xc8e),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x1d7cc9(0xc8e),'name':_0x1d7cc9(0xe3c)},{'category':'ตรีโกณมิติ','name':'สมการตรีโกณมิติ'},{'category':_0x1d7cc9(0xc8e),'name':_0x1d7cc9(0x5fc)},{'category':_0x1d7cc9(0xc8e),'name':_0x1d7cc9(0xbb1)},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0x354)},{'category':'สถิติและความน่าจะเป็น','name':'การจัดกลุ่มข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':_0x1d7cc9(0xbf0)},{'category':'สถิติและความน่าจะเป็น','name':_0x1d7cc9(0x47a)},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0xc7d)},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0x4e0)},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0x2b0)},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0xc02)},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0x656)},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0xaf0)},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0x323)},{'category':'สถิติและความน่าจะเป็น','name':_0x1d7cc9(0xbd8)},{'category':_0x1d7cc9(0xaa3),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0x66b)},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0xe1c)},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0x28b)},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0x23e)},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0x119)},{'category':'สถิติและความน่าจะเป็น','name':_0x1d7cc9(0xc8c)},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0x150)},{'category':'สถิติและความน่าจะเป็น','name':_0x1d7cc9(0x459)},{'category':'สถิติและความน่าจะเป็น','name':_0x1d7cc9(0x30b)},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0xabc)},{'category':_0x1d7cc9(0xaa3),'name':_0x1d7cc9(0xcd4)},{'category':_0x1d7cc9(0x143),'name':_0x1d7cc9(0x885)},{'category':_0x1d7cc9(0x143),'name':_0x1d7cc9(0x50d)},{'category':_0x1d7cc9(0x143),'name':_0x1d7cc9(0xa44)},{'category':_0x1d7cc9(0x143),'name':_0x1d7cc9(0xae9)},{'category':_0x1d7cc9(0x143),'name':_0x1d7cc9(0xb76)},{'category':_0x1d7cc9(0x143),'name':_0x1d7cc9(0x442)},{'category':_0x1d7cc9(0x143),'name':'ความชันเส้นสัมผัส'},{'category':_0x1d7cc9(0x143),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x1d7cc9(0x143),'name':_0x1d7cc9(0x3c2)},{'category':_0x1d7cc9(0x143),'name':_0x1d7cc9(0xb38)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1d7cc9(0x7fd)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1d7cc9(0x115)},{'category':_0x1d7cc9(0x143),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1d7cc9(0xa15)},{'category':_0x1d7cc9(0x6d5),'name':_0x1d7cc9(0x39e)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1d7cc9(0xd18)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1d7cc9(0x98e)},{'category':_0x1d7cc9(0x6d5),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x1d7cc9(0x6d5),'name':_0x1d7cc9(0xce9)},{'category':_0x1d7cc9(0x6d5),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x1d7cc9(0xb4a),'name':_0x1d7cc9(0x13f)},{'category':_0x1d7cc9(0xb4a),'name':_0x1d7cc9(0x1d3)},{'category':_0x1d7cc9(0xb4a),'name':_0x1d7cc9(0x153)},{'category':_0x1d7cc9(0xb4a),'name':_0x1d7cc9(0x1f8)},{'category':_0x1d7cc9(0xb4a),'name':_0x1d7cc9(0x1bf)},{'category':_0x1d7cc9(0x866),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x1d7cc9(0x866),'name':_0x1d7cc9(0xbb0)},{'category':_0x1d7cc9(0x866),'name':_0x1d7cc9(0x679)}];function renderTopicCheckboxes(){const _0x548673=_0x1d7cc9,_0x17e90c=document[_0x548673(0x773)]('math-topics-checkbox-container');if(!_0x17e90c)return;const _0x54499d=allMathTopics,_0x306f5c=customMathTopics[_0x548673(0x9d3)](_0x5029b1=>({'id':_0x5029b1['id'],'category':'หัวข้อที่สร้างเอง','name':_0x5029b1[_0x548673(0xb30)]})),_0x300843=[..._0x54499d,..._0x306f5c],_0x32d271=_0x300843['reduce']((_0x4e0b43,_0x258e6c)=>{const _0x164940=_0x548673;return!_0x4e0b43[_0x258e6c[_0x164940(0x3a4)]]&&(_0x4e0b43[_0x258e6c[_0x164940(0x3a4)]]=[]),_0x4e0b43[_0x258e6c[_0x164940(0x3a4)]][_0x164940(0x65b)](_0x258e6c),_0x4e0b43;},{});let _0x55f541='';const _0x1a1af3=[_0x548673(0xb35),...Object[_0x548673(0x203)](_0x32d271)[_0x548673(0x485)](_0x37c014=>_0x37c014!==_0x548673(0xb35))];for(const _0xdedc5a of _0x1a1af3){if(_0x32d271[_0xdedc5a]){const _0x4c4bfb=_0xdedc5a==='หัวข้อที่สร้างเอง',_0x424abe=_0x4c4bfb?_0x548673(0x7a9):_0x548673(0x2ba),_0xd9de83=_0x4c4bfb?'text-blue-700':_0x548673(0xb32);_0x55f541+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x55f541+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0xd9de83+_0x548673(0xa5f)+_0x424abe+_0x548673(0xb8a)+_0xdedc5a+'</p>',_0x32d271[_0xdedc5a][_0x548673(0xa25)](_0x1fc921=>{const _0x39cced=_0x548673,_0x1c1347=!!_0x1fc921['id'],_0x5a7ac7=_0x1c1347?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1fc921['id']+_0x39cced(0xd53)+_0x1fc921['id']+_0x39cced(0x7e6)+_0x1fc921['id']+_0x39cced(0x496)+_0x1fc921['id']+_0x39cced(0x358):'';_0x55f541+=_0x39cced(0x8e1)+(_0x1fc921['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x1fc921['name']+_0x39cced(0x2cd)+_0x1fc921['name']+_0x39cced(0x1ba)+(_0x1c1347?_0x39cced(0x350)+_0x1fc921['name']+'\x22>':'')+_0x39cced(0xc69)+_0x5a7ac7+_0x39cced(0x7f8);}),_0x55f541+='</div>';}}_0x17e90c[_0x548673(0x8ec)]=_0x55f541||_0x548673(0x1a0),_0x17e90c[_0x548673(0x755)](_0x548673(0x813),updateSelectedTopicsCount),_0x17e90c[_0x548673(0x6f7)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x156f2e,_0x7d0075){const _0x3af550=_0x1d7cc9;if(!_0x156f2e||!_0x7d0075[_0x3af550(0xafd)]()){showMessage(_0x3af550(0x103));return;}try{const _0x17587b=doc(db,_0x3af550(0x6de)+appId+_0x3af550(0x5b0),_0x156f2e);await updateDoc(_0x17587b,{'name':_0x7d0075[_0x3af550(0xafd)]()}),showMessage(_0x3af550(0x348));}catch(_0x4b3e56){console[_0x3af550(0x7bc)](_0x3af550(0x6cb),_0x4b3e56),showMessage(_0x3af550(0x42a));}}function toggleTopicEditMode(_0x5dbe20,_0x586e1d){const _0x244ca8=_0x1d7cc9;if(!_0x5dbe20)return;const _0x419665=_0x5dbe20['querySelector'](_0x244ca8(0x696)),_0x5a2682=_0x5dbe20[_0x244ca8(0x86f)](_0x244ca8(0xb95)),_0x4ac5c9=_0x5dbe20[_0x244ca8(0x86f)]('.topic-actions-view'),_0x126a3a=_0x5dbe20[_0x244ca8(0x86f)](_0x244ca8(0x85b));_0x419665[_0x244ca8(0x985)][_0x244ca8(0xbbd)](_0x244ca8(0x806),_0x586e1d),_0x5a2682['classList'][_0x244ca8(0xbbd)](_0x244ca8(0x806),!_0x586e1d),_0x4ac5c9['classList']['toggle'](_0x244ca8(0x806),_0x586e1d),_0x126a3a[_0x244ca8(0x985)][_0x244ca8(0xbbd)](_0x244ca8(0x806),!_0x586e1d),_0x586e1d&&(_0x5a2682[_0x244ca8(0xc61)](),_0x5a2682[_0x244ca8(0x606)]());}async function handleStartLiveRace(_0x575add){const _0x5c83b9=_0x1d7cc9;let _0x192aff=allQuizzes['find'](_0x8b3da5=>_0x8b3da5['id']===_0x575add);if(!_0x192aff){const _0x1b2c69=doc(db,_0x5c83b9(0x6de)+appId+_0x5c83b9(0xde0),_0x575add),_0x40dee4=await getDoc(_0x1b2c69);if(!_0x40dee4[_0x5c83b9(0xc63)]()){showMessage(_0x5c83b9(0x84a));return;}_0x192aff={'id':_0x40dee4['id'],..._0x40dee4[_0x5c83b9(0xafb)]()};}const _0x299bd0=getShuffledQuiz(_0x192aff);currentQuizData=_0x299bd0;const _0x22b676=_0x192aff[_0x5c83b9(0xa1f)]||currentProjectId||null,_0x4ff9ea=Math[_0x5c83b9(0x36b)](0x3e8+Math[_0x5c83b9(0xa75)]()*0x2328)[_0x5c83b9(0x51a)]();currentLiveGamePin=_0x4ff9ea;try{const _0x5eed26=await addDoc(collection(db,_0x5c83b9(0x6de)+appId+'/public/data/liveGames'),{'quizId':_0x575add,'projectId':_0x22b676,'status':_0x5c83b9(0xe8),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x4ff9ea,'createdAt':serverTimestamp(),'shuffledQuiz':_0x299bd0});currentLiveGameId=_0x5eed26['id'],showAdminLobbyView(_0x4ff9ea,_0x192aff[_0x5c83b9(0xa37)]),listenForLiveGameUpdates();}catch(_0x2709f4){console[_0x5c83b9(0x7bc)](_0x5c83b9(0x3de),_0x2709f4),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x112f68=_0x1d7cc9,_0x4e5a3b=document[_0x112f68(0x773)](_0x112f68(0xd47)),_0x2d689a=_0x4e5a3b['querySelectorAll'](_0x112f68(0x65a))['length'],_0x1f7356=document['getElementById'](_0x112f68(0x1c4));_0x2d689a>0x0?_0x1f7356['textContent']=_0x112f68(0x825)+_0x2d689a+_0x112f68(0x984):_0x1f7356[_0x112f68(0xcd6)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x1d7cc9(0xcd1),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x1d7cc9(0xa4e),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x1d7cc9(0xe2f),scratchpadPenColor='#000000',scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x77538a,_0x31127f){const _0x2d3590=_0x1d7cc9;return Math['sqrt'](Math[_0x2d3590(0xcce)](_0x77538a['x']-_0x31127f['x'],0x2)+Math[_0x2d3590(0xcce)](_0x77538a['y']-_0x31127f['y'],0x2));}function getMidpoint(_0x3f814b,_0x2b769a){return{'x':(_0x3f814b['x']+_0x2b769a['x'])/0x2,'y':(_0x3f814b['y']+_0x2b769a['y'])/0x2};}function getTransformedPoint(_0x5c9b75,_0xf89ac7){return{'x':(_0x5c9b75-scratchpadOffset['x'])/scratchpadScale,'y':(_0xf89ac7-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x332501=_0x1d7cc9;if(!scratchpadCtx)return;const _0x2a6c30=scratchpadCtx[_0x332501(0x2e7)],_0x326281=window[_0x332501(0xa26)]||0x1,_0x53c513=document[_0x332501(0x773)](_0x332501(0x4a0));_0x53c513&&(_0x53c513[_0x332501(0x90e)][_0x332501(0xe1a)]=_0x332501(0x96a),_0x53c513['style']['transform']=_0x332501(0x83a)+scratchpadOffset['x']+_0x332501(0x99b)+scratchpadOffset['y']+_0x332501(0x3f4)+scratchpadScale+')'),scratchpadCtx[_0x332501(0xadd)](),scratchpadCtx['setTransform'](_0x326281,0x0,0x0,_0x326281,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x2a6c30[_0x332501(0x2f0)],_0x2a6c30[_0x332501(0x3e4)]),scratchpadCtx[_0x332501(0xe5c)](),scratchpadCtx[_0x332501(0xadd)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x332501(0xa25)](_0x57aac5=>{drawStroke(_0x57aac5);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x332501(0xe5c)]();}function renderGroupModeQuestion(){const _0x28f12b=_0x1d7cc9;if(localQuestionIndex>=currentQuizData[_0x28f12b(0xcf9)]['length']){displayTeamQuizFinalResults();return;}const _0x5f14ac=currentQuizData[_0x28f12b(0xcf9)][localQuestionIndex],_0x4874b9=_0x5f14ac[_0x28f12b(0xa8d)]||currentQuizData[_0x28f12b(0xd83)];let _0x4eb599=_0x5f14ac[_0x28f12b(0x43c)]||_0x5f14ac[_0x28f12b(0xc27)],_0x55e472='';switch(_0x4874b9){case _0x28f12b(0xbed):case'fill_in_with_choices':_0x55e472=_0x5f14ac[_0x28f12b(0x50b)][_0x28f12b(0x9d3)]((_0xec115f,_0x578996)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x578996+_0x28f12b(0x89d)+_0x578996+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x578996+'\x22>'+_0xec115f+_0x28f12b(0xd59))[_0x28f12b(0x370)]('');break;case _0x28f12b(0xc39):_0x55e472=_0x28f12b(0xb18);break;case _0x28f12b(0x33a):case _0x28f12b(0x488):_0x55e472=_0x28f12b(0x38e);break;case _0x28f12b(0xe52):_0x55e472=_0x28f12b(0x9de)+_0x5f14ac[_0x28f12b(0x59d)][_0x28f12b(0x9d3)](_0x5c4ad3=>_0x28f12b(0xd4d)+_0x5c4ad3+'\x22>'+_0x5c4ad3+_0x28f12b(0x6da))[_0x28f12b(0x370)]('')+_0x28f12b(0xd54);break;default:_0x55e472=_0x28f12b(0xb59);break;}studentQuizArea[_0x28f12b(0x8ec)]=_0x28f12b(0x9cc)+(localQuestionIndex+0x1)+_0x28f12b(0x9fa)+currentQuizData[_0x28f12b(0xcf9)][_0x28f12b(0x5df)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers[_0x28f12b(0x370)](',\x20')+_0x28f12b(0xdb8)+(localQuestionIndex+0x1)+'.\x20'+_0x4eb599+_0x28f12b(0x81d)+(_0x5f14ac['imageCode']?_0x28f12b(0x40a)+_0x5f14ac[_0x28f12b(0x52c)]+_0x28f12b(0x1b1):'')+_0x28f12b(0xdc2)+_0x55e472+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x28f12b(0x985)][_0x28f12b(0xa54)]('hidden');if(window['MathJax'])MathJax[_0x28f12b(0x7c9)]([studentQuizArea]);document[_0x28f12b(0x773)](_0x28f12b(0x122))[_0x28f12b(0x6f7)](_0x28f12b(0x2af),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x52e370,_0x57b5fb=null,_0x297c1c,_0x5618cc=null,_0x180e32=![],_0x454590=null){const _0x6e9249=_0x1d7cc9,_0x3e676a=document[_0x6e9249(0x773)](_0x6e9249(0x647));_0x3e676a&&_0x3e676a[_0x6e9249(0x776)]({'behavior':'smooth','block':_0x6e9249(0xc94)}),generateQuiz(_0x52e370,_0x57b5fb,null,_0x454590,!![],_0x297c1c,_0x5618cc,_0x180e32);}function handleGenerateAndShowLesson(_0xdc575,_0x578d24){const _0x243894=_0x1d7cc9,_0x32b664=document[_0x243894(0x773)]('lesson-view-modal'),_0xaa027a=document[_0x243894(0x773)](_0x243894(0x8b0)),_0x29dead=document[_0x243894(0x773)]('lesson-loader'),_0x359fc3=document[_0x243894(0x773)](_0x243894(0xd36));[_0x243894(0xae2),'memoryContent',_0x243894(0x75c),_0x243894(0xbef)]['forEach'](_0x3323dc=>{const _0x4ce573=_0x243894,_0x1fa692=document[_0x4ce573(0x773)](_0x3323dc)[_0x4ce573(0x434)];_0x1fa692&&(_0x1fa692[_0x4ce573(0x90e)]['display']=_0x4ce573(0x96b));}),_0xaa027a['textContent']='กำลังสร้างบทเรียน:\x20'+_0xdc575,_0x359fc3[_0x243894(0x985)][_0x243894(0xd0a)](_0x243894(0x806)),_0x29dead[_0x243894(0x985)]['remove'](_0x243894(0x806)),_0x32b664['classList'][_0x243894(0xa54)]('hidden'),generateLesson(_0xdc575,_0x578d24)[_0x243894(0x222)](_0x11ca6f=>{const _0x3f1d95=_0x243894;console[_0x3f1d95(0x7bc)](_0x3f1d95(0x8e0),_0x11ca6f),showMessage(_0x3f1d95(0x840)),_0x32b664['classList']['add'](_0x3f1d95(0x806));});}function handlePointerDown(_0x620384){const _0x5ca50f=_0x1d7cc9;_0x620384[_0x5ca50f(0x952)]();const _0x16cdf7=scratchpadCtx['canvas'],_0x4b7f0a=_0x16cdf7[_0x5ca50f(0xc57)](),_0x1c5c8a=_0x620384[_0x5ca50f(0x4de)]||(_0x620384[_0x5ca50f(0x3aa)]?'touch':_0x5ca50f(0xd4e));if(_0x1c5c8a===_0x5ca50f(0xe2f)||_0x1c5c8a==='mouse'){if(_0x620384[_0x5ca50f(0x4de)]===_0x5ca50f(0xd4e)&&_0x620384[_0x5ca50f(0x9b2)]!==0x0){_0x620384[_0x5ca50f(0x9b2)]===0x1&&(isMousePanning=!![],panStart={'x':_0x620384['clientX'],'y':_0x620384['clientY']},_0x16cdf7[_0x5ca50f(0x90e)]['cursor']=_0x5ca50f(0x29f));return;}activeTool===_0x5ca50f(0x9c9)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x25c7c6=getTransformedPoint(_0x620384[_0x5ca50f(0xd86)]-_0x4b7f0a['left'],_0x620384[_0x5ca50f(0x9dd)]-_0x4b7f0a[_0x5ca50f(0x1d7)]);let _0x288de9={'tool':activeTool,'points':[_0x25c7c6]};if(activeTool===_0x5ca50f(0xe2f))_0x288de9[_0x5ca50f(0x61f)]=scratchpadPenColor,_0x288de9[_0x5ca50f(0x619)]=scratchpadPenSize;else{if(activeTool==='eraser')_0x288de9[_0x5ca50f(0x61f)]=scratchpadPenColor,_0x288de9[_0x5ca50f(0x619)]=scratchpadEraserSize;else{if(activeTool===_0x5ca50f(0x15a))_0x288de9[_0x5ca50f(0x61f)]=scratchpadHighlighterColor,_0x288de9[_0x5ca50f(0x619)]=scratchpadHighlighterSize;else activeTool===_0x5ca50f(0x9c9)&&(_0x288de9[_0x5ca50f(0x61f)]=scratchpadPenColor,_0x288de9[_0x5ca50f(0x619)]=scratchpadPenSize);}}currentStroke=_0x288de9;}else _0x620384['touches']&&(_0x620384[_0x5ca50f(0x3aa)][_0x5ca50f(0x5df)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x620384['touches'][0x0]['clientX'],'y':_0x620384[_0x5ca50f(0x3aa)][0x0][_0x5ca50f(0x9dd)]},{'x':_0x620384['touches'][0x1][_0x5ca50f(0xd86)],'y':_0x620384[_0x5ca50f(0x3aa)][0x1][_0x5ca50f(0x9dd)]}),initialPinchDistance=getDistance({'x':_0x620384[_0x5ca50f(0x3aa)][0x0]['clientX'],'y':_0x620384[_0x5ca50f(0x3aa)][0x0][_0x5ca50f(0x9dd)]},{'x':_0x620384[_0x5ca50f(0x3aa)][0x1]['clientX'],'y':_0x620384[_0x5ca50f(0x3aa)][0x1][_0x5ca50f(0x9dd)]})));}function animateTrail(){const _0x4d24a8=_0x1d7cc9,_0x434979=Date[_0x4d24a8(0xdbe)]();let _0x531d23=![];for(let _0xb10c0c=strokes[_0x4d24a8(0x5df)]-0x1;_0xb10c0c>=0x0;_0xb10c0c--){const _0x249b61=strokes[_0xb10c0c];if(_0x249b61[_0x4d24a8(0xb94)]===_0x4d24a8(0x9c9)&&_0x249b61[_0x4d24a8(0x8e9)]){const _0xb31d06=_0x434979-_0x249b61[_0x4d24a8(0x8e9)];_0xb31d06>=TRAIL_DURATION?strokes[_0x4d24a8(0xdd0)](_0xb10c0c,0x1):(_0x249b61[_0x4d24a8(0xb03)]=0x1-_0xb31d06/TRAIL_DURATION,_0x531d23=!![]);}}redrawScratchpad(),_0x531d23?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x13ca5b){const _0x186f33=_0x1d7cc9;if(!_0x13ca5b||_0x13ca5b['points']['length']<0x1)return;scratchpadCtx['save'](),scratchpadCtx['lineJoin']='round',scratchpadCtx[_0x186f33(0x842)]=_0x186f33(0x75b);if(_0x13ca5b['tool']==='trail'){const _0xae0954=_0x13ca5b[_0x186f33(0x619)]/scratchpadScale;scratchpadCtx[_0x186f33(0xb1d)]=_0x13ca5b[_0x186f33(0xb03)]??0x1,scratchpadCtx['shadowColor']=_0x186f33(0x975),scratchpadCtx[_0x186f33(0xa46)]=_0xae0954*0x3,scratchpadCtx[_0x186f33(0x703)]=_0x186f33(0xd1e),scratchpadCtx['lineWidth']=_0xae0954*2.5,scratchpadCtx[_0x186f33(0xa19)](),scratchpadCtx['moveTo'](_0x13ca5b[_0x186f33(0x829)][0x0]['x'],_0x13ca5b[_0x186f33(0x829)][0x0]['y']);for(let _0x50b69e=0x1;_0x50b69e<_0x13ca5b['points']['length']-0x1;_0x50b69e++){const _0x516e39=getMidpoint(_0x13ca5b['points'][_0x50b69e],_0x13ca5b['points'][_0x50b69e+0x1]);scratchpadCtx[_0x186f33(0xd15)](_0x13ca5b[_0x186f33(0x829)][_0x50b69e]['x'],_0x13ca5b['points'][_0x50b69e]['y'],_0x516e39['x'],_0x516e39['y']);}scratchpadCtx[_0x186f33(0x3f5)](),scratchpadCtx[_0x186f33(0x69f)]='transparent',scratchpadCtx[_0x186f33(0xa46)]=0x0,scratchpadCtx['strokeStyle']=_0x186f33(0xbb3),scratchpadCtx[_0x186f33(0x71e)]=_0xae0954,scratchpadCtx[_0x186f33(0x3f5)](),scratchpadCtx[_0x186f33(0x61b)]();}else{if(_0x13ca5b[_0x186f33(0xb94)]===_0x186f33(0x15a)){scratchpadCtx[_0x186f33(0x605)]='multiply',scratchpadCtx[_0x186f33(0x703)]=_0x13ca5b[_0x186f33(0x61f)],scratchpadCtx[_0x186f33(0x71e)]=_0x13ca5b[_0x186f33(0x619)],scratchpadCtx[_0x186f33(0xa19)](),scratchpadCtx[_0x186f33(0xe53)](_0x13ca5b[_0x186f33(0x829)][0x0]['x'],_0x13ca5b['points'][0x0]['y']);for(let _0x4d31a0=0x1;_0x4d31a0<_0x13ca5b['points']['length']-0x1;_0x4d31a0++){const _0x4953c5=getMidpoint(_0x13ca5b[_0x186f33(0x829)][_0x4d31a0],_0x13ca5b[_0x186f33(0x829)][_0x4d31a0+0x1]);scratchpadCtx[_0x186f33(0xd15)](_0x13ca5b[_0x186f33(0x829)][_0x4d31a0]['x'],_0x13ca5b[_0x186f33(0x829)][_0x4d31a0]['y'],_0x4953c5['x'],_0x4953c5['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x186f33(0x61b)]();}else{scratchpadCtx['globalCompositeOperation']=_0x13ca5b[_0x186f33(0xb94)]===_0x186f33(0xd46)?_0x186f33(0x5e9):'source-over',scratchpadCtx[_0x186f33(0x703)]=_0x13ca5b[_0x186f33(0x61f)],scratchpadCtx['lineWidth']=_0x13ca5b[_0x186f33(0x619)],scratchpadCtx[_0x186f33(0xa19)](),scratchpadCtx[_0x186f33(0xe53)](_0x13ca5b[_0x186f33(0x829)][0x0]['x'],_0x13ca5b[_0x186f33(0x829)][0x0]['y']);for(let _0x5a53a8=0x1;_0x5a53a8<_0x13ca5b[_0x186f33(0x829)][_0x186f33(0x5df)]-0x1;_0x5a53a8++){const _0x42e2ae=getMidpoint(_0x13ca5b[_0x186f33(0x829)][_0x5a53a8],_0x13ca5b['points'][_0x5a53a8+0x1]);scratchpadCtx[_0x186f33(0xd15)](_0x13ca5b[_0x186f33(0x829)][_0x5a53a8]['x'],_0x13ca5b['points'][_0x5a53a8]['y'],_0x42e2ae['x'],_0x42e2ae['y']);}scratchpadCtx[_0x186f33(0x3f5)](),scratchpadCtx[_0x186f33(0x61b)]();}}scratchpadCtx[_0x186f33(0xe5c)]();}function handlePointerMove(_0x2ac17c){const _0xc9f9f0=_0x1d7cc9;_0x2ac17c['preventDefault']();const _0x4a9aa9=scratchpadCtx[_0xc9f9f0(0x2e7)],_0x477fa3=_0x4a9aa9[_0xc9f9f0(0xc57)]();if(_0x2ac17c[_0xc9f9f0(0x3aa)]){if(_0x2ac17c['touches'][_0xc9f9f0(0x5df)]===0x1&&isDrawingOnScratchpad){const _0x121d60=getTransformedPoint(_0x2ac17c[_0xc9f9f0(0x3aa)][0x0]['clientX']-_0x477fa3['left'],_0x2ac17c[_0xc9f9f0(0x3aa)][0x0][_0xc9f9f0(0x9dd)]-_0x477fa3[_0xc9f9f0(0x1d7)]);currentStroke[_0xc9f9f0(0x829)][_0xc9f9f0(0x65b)](_0x121d60),redrawScratchpad();}else{if(_0x2ac17c[_0xc9f9f0(0x3aa)][_0xc9f9f0(0x5df)]===0x2&&isPanning){const _0x472a1f=getDistance({'x':_0x2ac17c[_0xc9f9f0(0x3aa)][0x0][_0xc9f9f0(0xd86)],'y':_0x2ac17c['touches'][0x0][_0xc9f9f0(0x9dd)]},{'x':_0x2ac17c[_0xc9f9f0(0x3aa)][0x1][_0xc9f9f0(0xd86)],'y':_0x2ac17c[_0xc9f9f0(0x3aa)][0x1][_0xc9f9f0(0x9dd)]}),_0xdba945=getMidpoint({'x':_0x2ac17c[_0xc9f9f0(0x3aa)][0x0][_0xc9f9f0(0xd86)],'y':_0x2ac17c['touches'][0x0][_0xc9f9f0(0x9dd)]},{'x':_0x2ac17c[_0xc9f9f0(0x3aa)][0x1][_0xc9f9f0(0xd86)],'y':_0x2ac17c[_0xc9f9f0(0x3aa)][0x1][_0xc9f9f0(0x9dd)]}),_0x285b0a=_0x472a1f/ initialPinchDistance,_0x283ca6=Math['min'](Math['max'](scratchpadScale*_0x285b0a,MIN_SCALE),MAX_SCALE),_0x25ec26=_0xdba945['x']-panStart['x'],_0x5b5048=_0xdba945['y']-panStart['y'];scratchpadOffset['x']=_0xdba945['x']-(_0xdba945['x']-scratchpadOffset['x'])*(_0x283ca6/scratchpadScale),scratchpadOffset['y']=_0xdba945['y']-(_0xdba945['y']-scratchpadOffset['y'])*(_0x283ca6/scratchpadScale),scratchpadOffset['x']+=_0x25ec26,scratchpadOffset['y']+=_0x5b5048,scratchpadScale=_0x283ca6,initialPinchDistance=_0x472a1f,panStart=_0xdba945,redrawScratchpad();}}}else{if(isMousePanning){const _0x5aace2=_0x2ac17c['clientX']-panStart['x'],_0x310657=_0x2ac17c[_0xc9f9f0(0x9dd)]-panStart['y'];scratchpadOffset['x']+=_0x5aace2,scratchpadOffset['y']+=_0x310657,panStart={'x':_0x2ac17c[_0xc9f9f0(0xd86)],'y':_0x2ac17c[_0xc9f9f0(0x9dd)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x4dbbe8=getTransformedPoint(_0x2ac17c[_0xc9f9f0(0xd86)]-_0x477fa3[_0xc9f9f0(0xbf2)],_0x2ac17c[_0xc9f9f0(0x9dd)]-_0x477fa3[_0xc9f9f0(0x1d7)]);currentStroke[_0xc9f9f0(0x829)][_0xc9f9f0(0x65b)](_0x4dbbe8),redrawScratchpad();}}}}function handlePointerUp(_0x25b00c){const _0x1e8bda=_0x1d7cc9;_0x25b00c[_0x1e8bda(0x952)]();const _0x575ef3=scratchpadCtx[_0x1e8bda(0x2e7)];isMousePanning&&(isMousePanning=![],_0x575ef3[_0x1e8bda(0x90e)][_0x1e8bda(0x228)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0x1e8bda(0x5df)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x1e8bda(0xb94)]===_0x1e8bda(0x9c9)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x534264=_0x1e8bda,_0x27da67=strokes[_0x534264(0x485)](_0x28b27b=>_0x28b27b[_0x534264(0xb94)]===_0x534264(0x9c9)&&!_0x28b27b['fadeStartTime']);if(_0x27da67[_0x534264(0x5df)]>0x0){const _0x442616=Date['now']();_0x27da67[_0x534264(0xa25)](_0x17c089=>_0x17c089[_0x534264(0x8e9)]=_0x442616),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x6de423){const _0x40ac4d=_0x1d7cc9;_0x6de423[_0x40ac4d(0x952)]();const _0x2ee969=_0x6de423['deltaY']*-0.005,_0x10f41b=Math[_0x40ac4d(0x20e)](Math[_0x40ac4d(0x98d)](scratchpadScale+_0x2ee969,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x6de423[_0x40ac4d(0xd86)]-(_0x6de423[_0x40ac4d(0xd86)]-scratchpadOffset['x'])*(_0x10f41b/scratchpadScale),scratchpadOffset['y']=_0x6de423[_0x40ac4d(0x9dd)]-(_0x6de423[_0x40ac4d(0x9dd)]-scratchpadOffset['y'])*(_0x10f41b/scratchpadScale),scratchpadScale=_0x10f41b,redrawScratchpad();}function undo(){const _0xb2d5f1=_0x1d7cc9;strokes[_0xb2d5f1(0x5df)]>0x0&&(redoStrokes[_0xb2d5f1(0x65b)](strokes[_0xb2d5f1(0xf3)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x1a3d47=_0x1d7cc9;redoStrokes[_0x1a3d47(0x5df)]>0x0&&(strokes['push'](redoStrokes[_0x1a3d47(0xf3)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x1306c1=_0x1d7cc9;document[_0x1306c1(0x773)](_0x1306c1(0xb71))[_0x1306c1(0x67a)]=strokes[_0x1306c1(0x5df)]===0x0,document[_0x1306c1(0x773)](_0x1306c1(0xd77))[_0x1306c1(0x67a)]=redoStrokes[_0x1306c1(0x5df)]===0x0;}function openScratchpad(_0x456124,_0x1e2f0d){const _0x551038=_0x1d7cc9,_0x17562d=document[_0x551038(0x773)](_0x551038(0xcdc)),_0x13f6b1=document[_0x551038(0x773)]('scratchpad-question'),_0x1bf301=document['getElementById'](_0x551038(0x593)),_0x2b4a17=document[_0x551038(0x773)](_0x551038(0x71f));_0x13f6b1['innerHTML']=_0x456124['stem']||_0x456124[_0x551038(0xc27)],_0x1bf301[_0x551038(0x8ec)]=_0x1e2f0d[_0x551038(0x9d3)]((_0x5f1d87,_0x5488a6)=>'<div>'+String[_0x551038(0x31f)](0x41+_0x5488a6)+'.\x20'+_0x5f1d87+'</div>')[_0x551038(0x370)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x17562d[_0x551038(0x985)]['remove'](_0x551038(0x806)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x551038(0x6a1)])MathJax[_0x551038(0x7c9)]([_0x13f6b1,_0x1bf301]);}function openBlueprintQuizSettings(){const _0x13296e=_0x1d7cc9,_0x2ca697=document[_0x13296e(0x773)](_0x13296e(0xa8c)),_0xf0fb72=blueprintPageSettings||(currentProjectData?currentProjectData[_0x13296e(0xadf)]:{})||{};document[_0x13296e(0x773)](_0x13296e(0x7fe))['value']=_0xf0fb72[_0x13296e(0xd83)]||document[_0x13296e(0x773)](_0x13296e(0x2e2))['value'],document[_0x13296e(0x773)](_0x13296e(0x6b7))[_0x13296e(0x8ec)]=document[_0x13296e(0x773)](_0x13296e(0x306))[_0x13296e(0x8ec)],document['getElementById']('bp-modal-difficulty-level-select')['value']=_0xf0fb72['difficultyValue']||document[_0x13296e(0x773)](_0x13296e(0x306))[_0x13296e(0xd9d)],document[_0x13296e(0x773)]('bp-modal-question-complexity-select')[_0x13296e(0x8ec)]=document[_0x13296e(0x773)]('question-complexity-select')[_0x13296e(0x8ec)],document[_0x13296e(0x773)]('bp-modal-question-complexity-select')[_0x13296e(0xd9d)]=_0xf0fb72[_0x13296e(0x510)]||document[_0x13296e(0x773)]('question-complexity-select')[_0x13296e(0xd9d)],document[_0x13296e(0x773)]('bp-modal-num-questions')[_0x13296e(0xd9d)]=_0xf0fb72[_0x13296e(0x6e2)]||document['getElementById'](_0x13296e(0x6c6))['value'],document[_0x13296e(0x773)]('bp-modal-passing-score-input')[_0x13296e(0xd9d)]=_0xf0fb72[_0x13296e(0x5db)]||document[_0x13296e(0x773)](_0x13296e(0xa4c))[_0x13296e(0xd9d)],document[_0x13296e(0x773)](_0x13296e(0x1d0))['value']=_0xf0fb72[_0x13296e(0xe01)]||document['getElementById'](_0x13296e(0x12f))[_0x13296e(0xd9d)],document[_0x13296e(0x773)]('bp-modal-shuffle-setting-select')['value']=_0xf0fb72[_0x13296e(0xa88)]||document[_0x13296e(0x773)](_0x13296e(0xbc2))[_0x13296e(0xd9d)],document[_0x13296e(0x773)](_0x13296e(0xd85))[_0x13296e(0x17e)]=_0xf0fb72['includeImages']||document[_0x13296e(0x773)]('include-images-checkbox')['checked'],_0x2ca697[_0x13296e(0x985)][_0x13296e(0xa54)](_0x13296e(0x806));}function handleSaveBlueprintPageSettings(){const _0x113cee=_0x1d7cc9;blueprintPageSettings={'quizType':document[_0x113cee(0x773)]('bp-modal-quiz-type-select')['value'],'difficultyValue':document[_0x113cee(0x773)](_0x113cee(0x6b7))[_0x113cee(0xd9d)],'complexityValue':document['getElementById'](_0x113cee(0x29d))[_0x113cee(0xd9d)],'numQuestions':document['getElementById'](_0x113cee(0x22d))[_0x113cee(0xd9d)],'passingScore':document[_0x113cee(0x773)]('bp-modal-passing-score-input')[_0x113cee(0xd9d)],'numChoices':document[_0x113cee(0x773)](_0x113cee(0x1d0))[_0x113cee(0xd9d)],'shuffle':document[_0x113cee(0x773)](_0x113cee(0x7e3))[_0x113cee(0xd9d)],'includeImages':document[_0x113cee(0x773)]('bp-modal-include-images-checkbox')[_0x113cee(0x17e)]},showMessage(_0x113cee(0x575)),document[_0x113cee(0x773)](_0x113cee(0xa8c))['classList'][_0x113cee(0xd0a)](_0x113cee(0x806));}function listenForParallelTestShortcuts(){const _0x542437=_0x1d7cc9,_0x327049=doc(db,_0x542437(0x284),_0x542437(0xace));onSnapshot(_0x327049,_0x278fe9=>{const _0x4dcbe2=_0x542437;let _0x5827d6=[],_0x29882b=[],_0xdbb00e={};if(_0x278fe9[_0x4dcbe2(0xc63)]()){const _0x450299=_0x278fe9[_0x4dcbe2(0xafb)]();_0x5827d6=_0x450299['shortcuts']||[],_0x29882b=_0x450299[_0x4dcbe2(0x60f)]||[],_0xdbb00e=_0x450299['parallelShortcutOrder']||{};}!_0x29882b[_0x4dcbe2(0x15b)](_0x3ab323=>_0x3ab323['id']===_0x4dcbe2(0x2d2))&&_0x29882b[_0x4dcbe2(0x44d)]({'id':'all','name':'ต้นฉบับทั้งหมด','isDefault':!![]}),!_0x5827d6[_0x4dcbe2(0x15b)](_0x2885ef=>_0x2885ef['id']===_0x4dcbe2(0xc3e))&&_0x5827d6[_0x4dcbe2(0x44d)]({'id':_0x4dcbe2(0xc3e),'name':_0x4dcbe2(0x291),'url':'','isDefault':!![]}),!_0x5827d6[_0x4dcbe2(0x15b)](_0x258bde=>_0x258bde['id']===_0x4dcbe2(0x6a9))&&_0x5827d6['unshift']({'id':'parallel-default-2','name':'ต้นฉบับ\x202','url':'','isDefault':!![]}),parallelTestShortcuts=_0x5827d6,parallelShortcutTabs=_0x29882b,parallelShortcutOrder=_0xdbb00e,renderParallelTestShortcuts(),!document[_0x4dcbe2(0x773)](_0x4dcbe2(0x9ae))['classList'][_0x4dcbe2(0xc49)]('hidden')&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x4b60f8=_0x1d7cc9,_0x4f8dbb=doc(db,'globalSettings','parallelTestShortcutsConfig');try{await setDoc(_0x4f8dbb,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x12c26f){console[_0x4b60f8(0x7bc)](_0x4b60f8(0x4c4),_0x12c26f);}}function renderAdditionalParallelShortcutsModal(){const _0x3efe99=_0x1d7cc9,_0x404230=document[_0x3efe99(0x773)](_0x3efe99(0x28d)),_0x12497f=document[_0x3efe99(0x773)](_0x3efe99(0xd5a));if(!_0x404230||!_0x12497f)return;_0x404230[_0x3efe99(0x8ec)]=parallelShortcutTabs[_0x3efe99(0x9d3)](_0x198905=>{const _0x559c7c=_0x3efe99,_0x465a95=_0x198905['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x198905['id']+_0x559c7c(0x2b1)+(_0x465a95?_0x559c7c(0xdb1):_0x559c7c(0x3a3))+_0x559c7c(0xe38)+_0x198905['name']+_0x559c7c(0x1f3)+_0x198905[_0x559c7c(0xb30)]+_0x559c7c(0x639)+(!_0x198905[_0x559c7c(0x648)]?_0x559c7c(0x225)+_0x198905['id']+_0x559c7c(0x937):'')+_0x559c7c(0xcf0);})[_0x3efe99(0x370)]('');const _0x209af0=parallelShortcutTabs[_0x3efe99(0x15b)](_0x7dbe4d=>_0x7dbe4d['id']===activeParallelShortcutTabId);let _0x37c118=_0x209af0?.[_0x3efe99(0x648)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x5cd1d7=>(_0x209af0?.['shortcutIds']||[])[_0x3efe99(0x1f6)](_0x5cd1d7['id']));const _0x1370c1=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x37c118[_0x3efe99(0xc1c)]((_0x115827,_0x4e70da)=>{const _0x265a29=_0x3efe99,_0x3df314=_0x1370c1['indexOf'](_0x115827['id']),_0x5c466d=_0x1370c1[_0x265a29(0x355)](_0x4e70da['id']);return(_0x3df314===-0x1?Infinity:_0x3df314)-(_0x5c466d===-0x1?Infinity:_0x5c466d);}),_0x12497f[_0x3efe99(0x8ec)]=_0x37c118[_0x3efe99(0x9d3)](_0x1a32b1=>{const _0x1e0424=_0x3efe99,_0x127aa9=_0x1a32b1[_0x1e0424(0x68a)]?'🔁':'🔗',_0x5370fd=parallelShortcutTabs[_0x1e0424(0x485)](_0x4a6b9b=>!_0x4a6b9b[_0x1e0424(0x648)]),_0x508822=_0x209af0[_0x1e0424(0x648)]&&_0x5370fd[_0x1e0424(0x5df)]>0x0?_0x1e0424(0xe04)+_0x5370fd[_0x1e0424(0x9d3)](_0x1c921e=>_0x1e0424(0x89f)+_0x1a32b1['id']+_0x1e0424(0x2d1)+_0x1c921e['id']+'\x22>'+_0x1c921e[_0x1e0424(0xb30)]+_0x1e0424(0x653))[_0x1e0424(0x370)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x1a32b1['id']+_0x1e0424(0x71d)+_0x127aa9+'\x20'+_0x1a32b1[_0x1e0424(0xb30)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1a32b1['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1a32b1['id']+_0x1e0424(0x29a)+(!_0x1a32b1['isDefault']?'<button\x20data-id=\x22'+_0x1a32b1['id']+_0x1e0424(0x1b6):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x209af0[_0x1e0424(0x648)]?'<button\x20data-shortcut-id=\x22'+_0x1a32b1['id']+_0x1e0424(0x5a5):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x508822+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x2595de=_0x1d7cc9;document['querySelectorAll']('.parallel-shortcut-tab-btn')[_0x2595de(0xa25)](_0x55b0e9=>{const _0x43ad30=_0x2595de;_0x55b0e9[_0x43ad30(0xb4f)]=_0x4deb2a=>{const _0xb0e4c7=_0x43ad30;activeParallelShortcutTabId=_0x4deb2a[_0xb0e4c7(0x236)]['dataset'][_0xb0e4c7(0x5ed)],renderAdditionalParallelShortcutsModal();},_0x55b0e9['ondblclick']=_0x463712=>{const _0xcb69a7=_0x43ad30,_0x18091c=_0x463712[_0xcb69a7(0x236)][_0xcb69a7(0x86f)]('.tab-name-input');_0x463712[_0xcb69a7(0x236)][_0xcb69a7(0x86f)](_0xcb69a7(0x2ec))[_0xcb69a7(0x985)]['add'](_0xcb69a7(0x806)),_0x18091c[_0xcb69a7(0x985)][_0xcb69a7(0xa54)](_0xcb69a7(0x806)),_0x18091c[_0xcb69a7(0xc61)](),_0x18091c[_0xcb69a7(0x606)]();};}),document[_0x2595de(0x4a1)](_0x2595de(0x9fd))[_0x2595de(0xa25)](_0x4022fb=>{const _0x2608d9=()=>{const _0x28e71d=_0x5842,_0x568913=_0x4022fb[_0x28e71d(0x2e4)](_0x28e71d(0x4ff))[_0x28e71d(0x576)]['tabId'],_0x40bcf3=parallelShortcutTabs[_0x28e71d(0x15b)](_0x46a934=>_0x46a934['id']===_0x568913);_0x40bcf3&&(_0x40bcf3['name']=_0x4022fb['value'][_0x28e71d(0xafd)]()||_0x40bcf3[_0x28e71d(0xb30)],saveParallelShortcutConfig());};_0x4022fb['onblur']=_0x2608d9,_0x4022fb['onkeydown']=_0x63c62a=>{const _0x87908=_0x5842;if(_0x63c62a[_0x87908(0xadc)]===_0x87908(0xe50))_0x4022fb[_0x87908(0x8ed)]();};}),document['querySelectorAll'](_0x2595de(0x8c2))[_0x2595de(0xa25)](_0x59a0b2=>_0x59a0b2[_0x2595de(0xb4f)]=_0x398793=>{const _0x48575e=_0x2595de,_0x976375=_0x398793[_0x48575e(0x236)][_0x48575e(0x576)][_0x48575e(0x5ed)];showConfirmation(_0x48575e(0x26a),()=>{const _0x45e7f7=_0x48575e;parallelShortcutTabs=parallelShortcutTabs[_0x45e7f7(0x485)](_0x2155d1=>_0x2155d1['id']!==_0x976375),delete parallelShortcutOrder[_0x976375];if(activeParallelShortcutTabId===_0x976375)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document['querySelectorAll'](_0x2595de(0x1a1))[_0x2595de(0xa25)](_0x2e8738=>_0x2e8738[_0x2595de(0xb4f)]=_0x459b3c=>{const _0x3432b0=_0x2595de;_0x459b3c[_0x3432b0(0x952)]();const {shortcutId:_0x23e7b3,targetTabId:_0x55b510}=_0x459b3c[_0x3432b0(0x236)][_0x3432b0(0x576)],_0x7227bd=parallelShortcutTabs[_0x3432b0(0x15b)](_0x18680f=>_0x18680f['id']===_0x55b510);_0x7227bd&&!_0x7227bd[_0x3432b0(0x290)][_0x3432b0(0x1f6)](_0x23e7b3)&&(_0x7227bd[_0x3432b0(0x290)]['push'](_0x23e7b3),saveParallelShortcutConfig());}),document[_0x2595de(0x4a1)](_0x2595de(0xe7))[_0x2595de(0xa25)](_0x524628=>_0x524628[_0x2595de(0xb4f)]=_0xbfe3fe=>{const _0x582ab0=_0x2595de,_0x50c45b=_0xbfe3fe[_0x582ab0(0x236)][_0x582ab0(0x576)][_0x582ab0(0x177)],_0x56b942=parallelShortcutTabs[_0x582ab0(0x15b)](_0x56c460=>_0x56c460['id']===activeParallelShortcutTabId);_0x56b942&&!_0x56b942[_0x582ab0(0x648)]&&(_0x56b942[_0x582ab0(0x290)]=_0x56b942['shortcutIds'][_0x582ab0(0x485)](_0x56665c=>_0x56665c!==_0x50c45b),saveParallelShortcutConfig());}),document[_0x2595de(0x4a1)](_0x2595de(0xab7))[_0x2595de(0xa25)](_0x22b2b6=>_0x22b2b6['onclick']=_0x56eda6=>{const _0x28ecc7=_0x2595de;_0x56eda6[_0x28ecc7(0x799)]();const _0x463ad9=_0x56eda6[_0x28ecc7(0x236)][_0x28ecc7(0x3e8)];document[_0x28ecc7(0x4a1)]('.move-parallel-shortcut-dropdown')['forEach'](_0x129bf0=>_0x129bf0[_0x28ecc7(0x985)][_0x28ecc7(0xd0a)]('hidden')),_0x463ad9[_0x28ecc7(0x985)][_0x28ecc7(0xa54)]('hidden');});const _0x12e1f1=document[_0x2595de(0x773)]('additional-parallel-shortcuts-list');let _0x51b42f=null;_0x12e1f1[_0x2595de(0x4c3)]=_0x153058=>{const _0x3f0312=_0x2595de;_0x51b42f=_0x153058['target'][_0x3f0312(0x2e4)](_0x3f0312(0xb6c));if(_0x51b42f)setTimeout(()=>_0x51b42f['classList'][_0x3f0312(0xd0a)](_0x3f0312(0xd11)),0x0);},_0x12e1f1[_0x2595de(0x1c5)]=()=>{const _0x33887d=_0x2595de;_0x51b42f&&(_0x51b42f['classList'][_0x33887d(0xa54)](_0x33887d(0xd11)),_0x51b42f=null);},_0x12e1f1[_0x2595de(0x480)]=_0x16c7a9=>{const _0x21c8d1=_0x2595de;_0x16c7a9[_0x21c8d1(0x952)]();},_0x12e1f1['ondrop']=_0x148a7a=>{const _0x435743=_0x2595de;_0x148a7a[_0x435743(0x952)]();if(_0x51b42f){const _0x20eb2e=[..._0x12e1f1['querySelectorAll'](_0x435743(0xb9d))][_0x435743(0x731)]((_0x4c8e42,_0x5a02cd)=>{const _0x5e31b5=_0x435743,_0x46242d=_0x5a02cd[_0x5e31b5(0xc57)](),_0x143322=_0x148a7a[_0x5e31b5(0x9dd)]-_0x46242d[_0x5e31b5(0x1d7)]-_0x46242d[_0x5e31b5(0x3e4)]/0x2;return _0x143322<0x0&&_0x143322>_0x4c8e42[_0x5e31b5(0x386)]?{'offset':_0x143322,'element':_0x5a02cd}:_0x4c8e42;},{'offset':Number[_0x435743(0xd0b)]})[_0x435743(0x6e8)];_0x20eb2e==null?_0x12e1f1[_0x435743(0x3d7)](_0x51b42f):_0x12e1f1[_0x435743(0x51d)](_0x51b42f,_0x20eb2e);const _0x2125c2=[..._0x12e1f1[_0x435743(0x4a1)]('.shortcut-list-item')]['map'](_0x25d53a=>_0x25d53a[_0x435743(0x576)][_0x435743(0x177)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x2125c2,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x461b16=_0x1d7cc9,_0x15a331=prompt(_0x461b16(0xacc),_0x461b16(0xaf1));_0x15a331&&_0x15a331['trim']()&&(parallelShortcutTabs[_0x461b16(0x65b)]({'id':'tab_'+Date[_0x461b16(0xdbe)](),'name':_0x15a331['trim'](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x1ec3e9=_0x1d7cc9,_0x3d5b62=document[_0x1ec3e9(0x773)]('parallel-shortcut-container'),_0x1783ab=document[_0x1ec3e9(0x773)](_0x1ec3e9(0xd5a)),_0x4b7a9c=document[_0x1ec3e9(0x773)](_0x1ec3e9(0x318));if(_0x4b7a9c)_0x4b7a9c[_0x1ec3e9(0x985)][_0x1ec3e9(0xd0a)](_0x1ec3e9(0x806));if(!_0x3d5b62||!_0x1783ab)return;const _0x3bec20=parallelTestShortcuts[_0x1ec3e9(0xd66)](0x0,0x4),_0x55e1f0=parallelTestShortcuts[_0x1ec3e9(0xd66)](0x4);_0x3d5b62[_0x1ec3e9(0x8ec)]=_0x3bec20[_0x1ec3e9(0x9d3)](_0x4b503f=>{const _0x5d9ae2=_0x1ec3e9,_0x36710a=_0x4b503f[_0x5d9ae2(0x68a)]&&_0x4b503f[_0x5d9ae2(0x68a)][_0x5d9ae2(0xafd)]()!=='',_0x403041=_0x36710a?_0x5d9ae2(0x473):'bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x1d5417=_0x36710a?'🔁':'🔗',_0x191b27=!_0x4b503f['isDefault']?_0x5d9ae2(0xd23)+_0x4b503f['id']+_0x5d9ae2(0x261):'';return _0x5d9ae2(0x205)+_0x4b503f['id']+_0x5d9ae2(0x6d2)+_0x403041+_0x5d9ae2(0x803)+_0x1d5417+'\x20'+_0x4b503f['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4b503f['id']+_0x5d9ae2(0x923)+_0x191b27+_0x5d9ae2(0x555);})[_0x1ec3e9(0x370)](''),_0x55e1f0[_0x1ec3e9(0x5df)]>0x0&&(_0x3d5b62[_0x1ec3e9(0x8ec)]+=_0x1ec3e9(0x553)),_0x55e1f0[_0x1ec3e9(0x5df)]>0x0?_0x1783ab['innerHTML']=_0x55e1f0[_0x1ec3e9(0x9d3)](_0x4832af=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x4832af['url']?'🔁':'🔗')+'\x20'+_0x4832af[_0x1ec3e9(0xb30)]+_0x1ec3e9(0xe5e)+_0x4832af['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4832af['id']+_0x1ec3e9(0x3eb)+(!_0x4832af[_0x1ec3e9(0x648)]?_0x1ec3e9(0xd23)+_0x4832af['id']+_0x1ec3e9(0x1b6):'')+_0x1ec3e9(0x37f))['join'](''):_0x1783ab['innerHTML']=_0x1ec3e9(0xe1f);}function openParallelTestShortcutEditor(_0x2b9111=null){const _0x7dcd2b=_0x1d7cc9,_0x524728=document['getElementById'](_0x7dcd2b(0x9d7)),_0x16bc8b=document[_0x7dcd2b(0x773)](_0x7dcd2b(0x252)),_0x310e8a=document[_0x7dcd2b(0x773)](_0x7dcd2b(0x690)),_0x24762a=document[_0x7dcd2b(0x773)](_0x7dcd2b(0xaab)),_0x5152b7=document[_0x7dcd2b(0x773)](_0x7dcd2b(0x733));if(_0x2b9111){const _0x2df7c7=parallelTestShortcuts[_0x7dcd2b(0x15b)](_0x5b5c5c=>_0x5b5c5c['id']===_0x2b9111);if(!_0x2df7c7)return;_0x16bc8b[_0x7dcd2b(0xcd6)]='แก้ไขปุ่มลัดข้อสอบต้นฉบับ',_0x310e8a[_0x7dcd2b(0xd9d)]=_0x2df7c7['id'],_0x24762a[_0x7dcd2b(0xd9d)]=_0x2df7c7[_0x7dcd2b(0xb30)],_0x5152b7[_0x7dcd2b(0xd9d)]=_0x2df7c7[_0x7dcd2b(0x68a)]||'';}else _0x16bc8b['textContent']=_0x7dcd2b(0x919),_0x310e8a['value']='',_0x24762a[_0x7dcd2b(0xd9d)]='',_0x5152b7[_0x7dcd2b(0xd9d)]='';_0x524728[_0x7dcd2b(0x985)][_0x7dcd2b(0xa54)](_0x7dcd2b(0x806));}async function saveParallelTestShortcutChanges(){const _0x254ef3=_0x1d7cc9,_0x5ba309=document['getElementById']('parallel-shortcut-id-input')['value'],_0x1bceeb=document[_0x254ef3(0x773)](_0x254ef3(0xaab))['value']['trim'](),_0x2fdcb4=document[_0x254ef3(0x773)]('parallel-shortcut-url-input')[_0x254ef3(0xd9d)][_0x254ef3(0xafd)]();if(!_0x1bceeb){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x342a6e={'id':_0x5ba309||'parallel-shortcut_'+Date['now'](),'name':_0x1bceeb,'url':_0x2fdcb4,'isDefault':_0x5ba309[_0x254ef3(0x1aa)]('parallel-default-')};let _0x39ff55;_0x5ba309?_0x39ff55=parallelTestShortcuts[_0x254ef3(0x9d3)](_0x3ef347=>_0x3ef347['id']===_0x5ba309?_0x342a6e:_0x3ef347):_0x39ff55=[...parallelTestShortcuts,_0x342a6e];try{const _0xfcdc85=doc(db,_0x254ef3(0x284),_0x254ef3(0xace));await setDoc(_0xfcdc85,{'shortcuts':_0x39ff55},{'merge':!![]}),document[_0x254ef3(0x773)](_0x254ef3(0x9d7))[_0x254ef3(0x985)][_0x254ef3(0xd0a)]('hidden');}catch(_0x410add){console[_0x254ef3(0x7bc)](_0x254ef3(0x376),_0x410add),showMessage(_0x254ef3(0xcf2));}}async function handleParallelTestShortcutClick(_0x4268b1){const _0x6acbf6=_0x1d7cc9,_0x886981=parallelTestShortcuts[_0x6acbf6(0x15b)](_0x5aaede=>_0x5aaede['id']===_0x4268b1);if(!_0x886981)return;if(!_0x886981[_0x6acbf6(0x68a)]||_0x886981[_0x6acbf6(0x68a)][_0x6acbf6(0xafd)]()===''){openParallelTestShortcutEditor(_0x4268b1);return;}const _0x3166f9=document[_0x6acbf6(0x773)](_0x6acbf6(0x388)),_0x5da97a=document[_0x6acbf6(0x773)]('loader-text');document['getElementById'](_0x6acbf6(0x647))[_0x6acbf6(0x985)]['remove'](_0x6acbf6(0x806)),document[_0x6acbf6(0x773)](_0x6acbf6(0x689))[_0x6acbf6(0x8ec)]='',_0x3166f9[_0x6acbf6(0x985)][_0x6acbf6(0xa54)]('hidden'),_0x5da97a[_0x6acbf6(0xcd6)]=_0x6acbf6(0xb1c);try{let _0x329777;_0x886981[_0x6acbf6(0x68a)][_0x6acbf6(0xa43)]()[_0x6acbf6(0x1f6)](_0x6acbf6(0x7e0))?_0x329777=_0x6acbf6(0x61c):_0x329777='source_document.pdf';const _0x45021e=await fetchFileFromUrl(_0x886981['url'],_0x329777);await handleGenerateParallelTest(_0x45021e);}catch(_0x3014cd){console['error'](_0x6acbf6(0x420),_0x3014cd),showMessage(_0x6acbf6(0x8ae)+_0x3014cd[_0x6acbf6(0xcee)]),_0x3166f9[_0x6acbf6(0x985)][_0x6acbf6(0xd0a)](_0x6acbf6(0x806));}}function initializeScratchpadCanvas(){const _0x5bc1b4=_0x1d7cc9,_0x23ebc5=document[_0x5bc1b4(0x773)]('scratchpad-canvas'),_0xfc00a9=document[_0x5bc1b4(0x86f)]('.scratchpad-content-wrapper');if(!_0x23ebc5||!_0xfc00a9)return;scratchpadCtx=_0x23ebc5[_0x5bc1b4(0xd95)]('2d',{'willReadFrequently':!![]});const _0x63e3ce=window[_0x5bc1b4(0xa26)]||0x1,_0x30c06c=_0xfc00a9['getBoundingClientRect']();_0x23ebc5[_0x5bc1b4(0x2f0)]=_0x30c06c['width']*_0x63e3ce,_0x23ebc5[_0x5bc1b4(0x3e4)]=_0x30c06c[_0x5bc1b4(0x3e4)]*_0x63e3ce,_0x23ebc5[_0x5bc1b4(0x90e)][_0x5bc1b4(0x2f0)]=_0x30c06c['width']+'px',_0x23ebc5[_0x5bc1b4(0x90e)][_0x5bc1b4(0x3e4)]=_0x30c06c['height']+'px',scratchpadCtx['scale'](_0x63e3ce,_0x63e3ce),scratchpadCtx['lineJoin']=_0x5bc1b4(0x75b),scratchpadCtx[_0x5bc1b4(0x842)]=_0x5bc1b4(0x75b),_0x23ebc5['removeEventListener']('pointerdown',handlePointerDown),_0x23ebc5[_0x5bc1b4(0x755)](_0x5bc1b4(0x4e3),handlePointerMove),_0x23ebc5[_0x5bc1b4(0x755)](_0x5bc1b4(0x4fc),handlePointerUp),_0x23ebc5[_0x5bc1b4(0x755)](_0x5bc1b4(0x6e5),handlePointerUp),_0x23ebc5[_0x5bc1b4(0x755)](_0x5bc1b4(0xc2a),handleWheel),_0x23ebc5[_0x5bc1b4(0x755)](_0x5bc1b4(0xd6e),handlePointerDown),_0x23ebc5['removeEventListener'](_0x5bc1b4(0xbd1),handlePointerMove),_0x23ebc5[_0x5bc1b4(0x755)](_0x5bc1b4(0xba5),handlePointerUp),_0x23ebc5[_0x5bc1b4(0x6f7)](_0x5bc1b4(0x9a1),handlePointerDown),_0x23ebc5[_0x5bc1b4(0x6f7)](_0x5bc1b4(0x4e3),handlePointerMove),_0x23ebc5['addEventListener']('pointerup',handlePointerUp),_0x23ebc5[_0x5bc1b4(0x6f7)]('pointercancel',handlePointerUp),_0x23ebc5[_0x5bc1b4(0x6f7)]('wheel',handleWheel,{'passive':![]}),_0x23ebc5[_0x5bc1b4(0x6f7)]('touchstart',handlePointerDown,{'passive':![]}),_0x23ebc5['addEventListener'](_0x5bc1b4(0xbd1),handlePointerMove,{'passive':![]}),_0x23ebc5[_0x5bc1b4(0x6f7)](_0x5bc1b4(0xba5),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0xc5e055=_0x1d7cc9,_0x59e5d0=document[_0xc5e055(0x773)](_0xc5e055(0xcdc)),_0x56baaf=document[_0xc5e055(0x773)](_0xc5e055(0x71f));_0x56baaf['innerHTML']=_0xc5e055(0xb3f)+scratchpadHighlighterSize+_0xc5e055(0x8d4);const _0x30d6fc=document[_0xc5e055(0x773)]('pen-tool-btn'),_0x13d419=document[_0xc5e055(0x773)]('eraser-tool-btn'),_0x212005=document[_0xc5e055(0x773)](_0xc5e055(0xd2f)),_0x3c79e4=document['getElementById'](_0xc5e055(0x907)),_0x4bb726=document[_0xc5e055(0x773)](_0xc5e055(0x725)),_0x2740f8=document[_0xc5e055(0x773)](_0xc5e055(0x90f)),_0x3ca797=document[_0xc5e055(0x773)](_0xc5e055(0x498)),_0x58b702=[_0x30d6fc,_0x13d419,_0x212005,_0x3c79e4];document['getElementById'](_0xc5e055(0xdce))[_0xc5e055(0x6f7)](_0xc5e055(0x2af),()=>_0x59e5d0[_0xc5e055(0x985)][_0xc5e055(0xd0a)]('hidden')),document[_0xc5e055(0x773)](_0xc5e055(0x663))['addEventListener'](_0xc5e055(0x2af),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0xc5e055(0x773)](_0xc5e055(0x170))[_0xc5e055(0x6f7)]('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0xc5e055(0x773)](_0xc5e055(0xb71))['addEventListener']('click',undo),document[_0xc5e055(0x773)](_0xc5e055(0xd77))[_0xc5e055(0x6f7)]('click',redo);const _0x1b41f5=_0x24001d=>{const _0x43d9e8=_0xc5e055;_0x58b702[_0x43d9e8(0xa25)](_0x43d39c=>_0x43d39c[_0x43d9e8(0x985)][_0x43d9e8(0xa54)](_0x43d9e8(0x4c8))),_0x24001d[_0x43d9e8(0x985)][_0x43d9e8(0xd0a)](_0x43d9e8(0x4c8)),_0x4bb726['classList'][_0x43d9e8(0xd0a)](_0x43d9e8(0x806)),_0x2740f8[_0x43d9e8(0x985)][_0x43d9e8(0xd0a)](_0x43d9e8(0x806)),_0x3ca797[_0x43d9e8(0x985)]['add'](_0x43d9e8(0x806));if(activeTool===_0x43d9e8(0xe2f)||activeTool===_0x43d9e8(0x9c9))_0x4bb726[_0x43d9e8(0x985)]['remove']('hidden');else{if(activeTool===_0x43d9e8(0x15a))_0x2740f8[_0x43d9e8(0x985)][_0x43d9e8(0xa54)](_0x43d9e8(0x806));else activeTool==='eraser'&&_0x3ca797[_0x43d9e8(0x985)][_0x43d9e8(0xa54)](_0x43d9e8(0x806));}};_0x30d6fc[_0xc5e055(0x6f7)](_0xc5e055(0x2af),()=>{activeTool='pen',_0x1b41f5(_0x30d6fc);}),_0x13d419[_0xc5e055(0x6f7)]('click',()=>{const _0xf0ff0c=_0xc5e055;activeTool=_0xf0ff0c(0xd46),_0x1b41f5(_0x13d419);}),_0x212005['addEventListener'](_0xc5e055(0x2af),()=>{const _0x1c7f5e=_0xc5e055;activeTool=_0x1c7f5e(0x9c9),_0x1b41f5(_0x212005);}),_0x3c79e4[_0xc5e055(0x6f7)](_0xc5e055(0x2af),()=>{const _0x4a7467=_0xc5e055;activeTool=_0x4a7467(0x15a),_0x1b41f5(_0x3c79e4);}),_0x4bb726[_0xc5e055(0x4a1)](_0xc5e055(0x73f))[_0xc5e055(0xa25)](_0x30f23=>{const _0x35dff9=_0xc5e055;_0x30f23[_0x35dff9(0x6f7)](_0x35dff9(0x2af),_0xd2d943=>{const _0x389e1f=_0x35dff9;scratchpadPenSize=parseInt(_0xd2d943[_0x389e1f(0x674)][_0x389e1f(0x576)][_0x389e1f(0x619)],0xa),_0x4bb726['querySelectorAll'](_0x389e1f(0x73f))[_0x389e1f(0xa25)](_0x73f699=>_0x73f699[_0x389e1f(0x985)][_0x389e1f(0xa54)]('active')),_0xd2d943[_0x389e1f(0x674)][_0x389e1f(0x985)][_0x389e1f(0xd0a)]('active');});}),_0x3ca797[_0xc5e055(0x4a1)](_0xc5e055(0x43e))['forEach'](_0x1ba4e9=>{const _0x49ce50=_0xc5e055;_0x1ba4e9[_0x49ce50(0x6f7)]('click',_0x32204c=>{const _0x5b75f0=_0x49ce50,_0x5ad15a=_0x32204c[_0x5b75f0(0x236)];scratchpadEraserSize=parseInt(_0x5ad15a[_0x5b75f0(0x576)]['size'],0xa),_0x3ca797['querySelectorAll'](_0x5b75f0(0x43e))[_0x5b75f0(0xa25)](_0x37aecb=>_0x37aecb[_0x5b75f0(0x985)]['remove'](_0x5b75f0(0x4c8))),_0x5ad15a[_0x5b75f0(0x985)][_0x5b75f0(0xd0a)](_0x5b75f0(0x4c8));});}),_0x4bb726[_0xc5e055(0x4a1)](_0xc5e055(0x530))['forEach'](_0x327ccf=>{_0x327ccf['addEventListener']('click',_0x4c9649=>{const _0x4737c1=_0x5842;scratchpadPenColor=_0x4c9649[_0x4737c1(0x674)][_0x4737c1(0x576)][_0x4737c1(0x61f)],_0x4bb726[_0x4737c1(0x4a1)](_0x4737c1(0x530))[_0x4737c1(0xa25)](_0x2adf5b=>_0x2adf5b[_0x4737c1(0x985)]['remove'](_0x4737c1(0x4c8))),_0x4c9649['target'][_0x4737c1(0x985)]['add'](_0x4737c1(0x4c8));});}),_0x2740f8[_0xc5e055(0x4a1)]('.highlighter-color-btn')['forEach'](_0x317b66=>{const _0x40b470=_0xc5e055;_0x317b66['addEventListener'](_0x40b470(0x2af),_0xe30e6b=>{const _0x1e51a1=_0x40b470;scratchpadHighlighterColor=_0xe30e6b[_0x1e51a1(0x674)][_0x1e51a1(0x576)][_0x1e51a1(0x61f)],_0x2740f8['querySelectorAll']('.highlighter-color-btn')['forEach'](_0x57756c=>_0x57756c['classList'][_0x1e51a1(0xa54)](_0x1e51a1(0x4c8))),_0xe30e6b['target'][_0x1e51a1(0x985)]['add'](_0x1e51a1(0x4c8));});});const _0x477cc5=document[_0xc5e055(0x773)](_0xc5e055(0x30d)),_0x47f5a8=document[_0xc5e055(0x773)](_0xc5e055(0xb14));_0x477cc5[_0xc5e055(0x6f7)](_0xc5e055(0xd6b),_0x50c05a=>{const _0x33b8a4=_0xc5e055,_0x37d033=parseInt(_0x50c05a[_0x33b8a4(0x674)][_0x33b8a4(0xd9d)],0xa);scratchpadHighlighterSize=_0x37d033,_0x47f5a8[_0x33b8a4(0xcd6)]=_0x37d033;}),window[_0xc5e055(0x6f7)](_0xc5e055(0x507),()=>{const _0x203c77=_0xc5e055;!_0x59e5d0[_0x203c77(0x985)][_0x203c77(0xc49)](_0x203c77(0x806))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x1d7cc9(0x16e),'name':_0x1d7cc9(0x7df),'description':_0x1d7cc9(0xde6),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x1d7cc9(0xa63),'description':_0x1d7cc9(0x7ba),'icon':_0x1d7cc9(0x42f)},'ON_FIRE':{'id':_0x1d7cc9(0x58b),'name':_0x1d7cc9(0xd9b),'description':_0x1d7cc9(0xb0e),'icon':_0x1d7cc9(0xcad)},'FIRST_TRY_ACE':{'id':_0x1d7cc9(0xc8a),'name':'ผ่านฉลุย','description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x1d7cc9(0xc4c)},'COMEBACK_KING':{'id':_0x1d7cc9(0x2dd),'name':_0x1d7cc9(0xeb),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x1d7cc9(0xb5d),'name':_0x1d7cc9(0xb09),'description':_0x1d7cc9(0xbb5),'icon':_0x1d7cc9(0xc97)},'PERSEVERANCE':{'id':'perseverance','name':_0x1d7cc9(0x14a),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x1d7cc9(0x47c)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':'ai-quiz-app-aefee','storageBucket':_0x1d7cc9(0xdd),'messagingSenderId':_0x1d7cc9(0x10a),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x1d7cc9(0xb28)},appId=typeof __app_id!=='undefined'?__app_id:_0x1d7cc9(0x6f2),adminView=document['getElementById'](_0x1d7cc9(0xd5b)),studentView=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x509)),projectDashboardView=document[_0x1d7cc9(0x773)](_0x1d7cc9(0xac4)),projectDetailView=document['getElementById']('project-detail-view'),quizResultsView=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x5a4)),projectList=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x7af)),noProjectsMsg=document['getElementById'](_0x1d7cc9(0x9e5)),projectTitle=document[_0x1d7cc9(0x773)](_0x1d7cc9(0xcbf)),projectIdDisplay=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x654)),studentList=document[_0x1d7cc9(0x773)]('student-list'),messageModal=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x3bb)),modalMessage=document[_0x1d7cc9(0x773)]('modal-message'),createProjectModal=document[_0x1d7cc9(0x773)]('create-project-modal'),adminPasswordModal=document[_0x1d7cc9(0x773)](_0x1d7cc9(0xdec)),confirmationModal=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x107)),userIdDisplay=document['getElementById']('user-id-display'),topicTab=document['getElementById'](_0x1d7cc9(0x1e8)),textTab=document[_0x1d7cc9(0x773)]('text-tab'),topicInputArea=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x8df)),textInputArea=document['getElementById'](_0x1d7cc9(0xa05)),manageTab=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x5ce)),resultsTab=document[_0x1d7cc9(0x773)](_0x1d7cc9(0xa24)),leaderboardTab=document['getElementById'](_0x1d7cc9(0x155)),manageTabContent=document[_0x1d7cc9(0x773)]('manage-tab-content'),resultsTabContent=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x37e)),leaderboardTabContent=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x523)),projectQuizzesList=document[_0x1d7cc9(0x773)](_0x1d7cc9(0xb9c)),fileTab=document[_0x1d7cc9(0x773)]('file-tab'),fileInputArea=document[_0x1d7cc9(0x773)](_0x1d7cc9(0xdde)),fileUploadInput=document[_0x1d7cc9(0x773)]('file-upload-input'),worksheetTab=document[_0x1d7cc9(0x773)]('worksheet-tab'),worksheetInputArea=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x161)),generateWorksheetBtn=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x795)),studentInitialView=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x769)),studentNameSelectionView=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x3cb)),studentQuizArea=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x76d)),studentResultArea=document[_0x1d7cc9(0x773)](_0x1d7cc9(0xa06)),studentReadingArea=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x5cc)),loadQuizBtn=document[_0x1d7cc9(0x773)]('load-quiz-btn'),startQuizBtn=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x364)),studentJoinGameView=document['getElementById'](_0x1d7cc9(0x855)),presentationModal=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x996)),renameQuizModal=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x1fa)),moveQuizModal=document[_0x1d7cc9(0x773)]('move-quiz-modal'),quizSettingsModal=document['getElementById'](_0x1d7cc9(0x8da)),quizStatusModal=document[_0x1d7cc9(0x773)](_0x1d7cc9(0x9f2)),liveGameView=document[_0x1d7cc9(0x773)]('live-game-view');function handleFixLessonLatex(){const _0x9f12ed=_0x1d7cc9,_0x9023e6=document['getElementById']('lesson-view-content');if(!_0x9023e6){showMessage(_0x9f12ed(0xaeb));return;}const _0xb17216=_0x9023e6[_0x9f12ed(0x4a1)]([_0x9f12ed(0x4ad),_0x9f12ed(0x344),_0x9f12ed(0xb7f),_0x9f12ed(0x3c4),_0x9f12ed(0x2df)][_0x9f12ed(0x370)](','));let _0x4e0415=0x0;const _0x4e7185=_0x354d29=>_0x354d29['textContent']||'',_0x4d0291=(_0x25c06f,_0x269213)=>{const _0x11ee35=_0x9f12ed;if(_0x25c06f[_0x11ee35(0x86f)]&&_0x25c06f[_0x11ee35(0x86f)](_0x11ee35(0xcba)))return;_0x25c06f[_0x11ee35(0xcd6)]=_0x269213;},_0x4d98f6=_0x2f8c79=>_0x2f8c79['replace'](/\u00A0/g,'\x20')[_0x9f12ed(0xc21)](/\u200B/g,'')[_0x9f12ed(0xc21)](/\r\n?/g,'\x0a'),_0x134032=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x19d81f=_0x902a57=>{const _0x3519b3=_0x9f12ed;let _0x242242=_0x902a57[_0x3519b3(0xafd)]();const _0x2168e5=[_0x3519b3(0x39b),_0x3519b3(0x818),'tfrac',_0x3519b3(0x87f),'text','times',_0x3519b3(0x92a),_0x3519b3(0x5f9),'leq',_0x3519b3(0xc13),'le','ge',_0x3519b3(0xa73),'pm',_0x3519b3(0xc3b),_0x3519b3(0xc26),_0x3519b3(0x522),'tan',_0x3519b3(0xe59),'ln','sum',_0x3519b3(0xcf),_0x3519b3(0x12c),_0x3519b3(0xbf2),_0x3519b3(0xd6f),_0x3519b3(0x241),'underline','circ','deg'];_0x2168e5[_0x3519b3(0xa25)](_0x51f485=>{const _0x4c0309=_0x3519b3;_0x242242=_0x242242['replace'](new RegExp(_0x4c0309(0xc3a)+_0x51f485+'\x5cb','g'),(_0x55971c,_0x24939b)=>_0x24939b+'\x5c'+_0x51f485);});const _0x5df320=[[/×/g,_0x3519b3(0x1e7)],[/·/g,_0x3519b3(0x909)],[/÷/g,_0x3519b3(0xb72)],[/≤/g,_0x3519b3(0x41a)],[/≥/g,_0x3519b3(0xac1)],[/≠/g,'\x5cneq'],[/±/g,_0x3519b3(0xa00)],[/∑/g,_0x3519b3(0x637)],[/−/g,'-']];return _0x5df320[_0x3519b3(0xa25)](([_0x428bd2,_0x557357])=>{const _0x567790=_0x3519b3;_0x242242=_0x242242[_0x567790(0xc21)](_0x428bd2,_0x557357);}),_0x242242=_0x242242[_0x3519b3(0xc21)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x242242=_0x242242[_0x3519b3(0xc21)](/(\d+)\s*%/g,_0x3519b3(0x68f)),_0x242242;},_0x280cc4=_0x299f69=>{const _0x59a70d=_0x9f12ed;if(/\$|\\\(|\\\[/[_0x59a70d(0x5e1)](_0x299f69))return _0x299f69;if(!_0x134032[_0x59a70d(0x5e1)](_0x299f69))return _0x299f69;const _0x501b27=_0x299f69[_0x59a70d(0x45a)](/^\s*/)[0x0],_0x159aee=_0x299f69[_0x59a70d(0x45a)](/\s*$/)[0x0],_0x5ad1a3=_0x299f69[_0x59a70d(0xafd)]();return _0x501b27+'$'+_0x19d81f(_0x5ad1a3)+'$'+_0x159aee;};_0xb17216['forEach'](_0x4b7ded=>{const _0x5d705e=_0x9f12ed,_0x1c47c5=_0x4e7185(_0x4b7ded);let _0x348d75=_0x4d98f6(_0x1c47c5);_0x348d75=_0x348d75[_0x5d705e(0xc21)](/\$([^$]*?)\$/g,(_0x433ed5,_0x3d484a)=>'$'+_0x19d81f(_0x3d484a)+'$');const _0x4136f1=_0x348d75[_0x5d705e(0xa50)](/(\s+)/),_0x37d311=_0x4136f1[_0x5d705e(0x9d3)](_0x187ebe=>{if(/\s+/['test'](_0x187ebe))return _0x187ebe;return _0x280cc4(_0x187ebe);});_0x348d75=_0x37d311['join'](''),_0x348d75!==_0x1c47c5&&(_0x4d0291(_0x4b7ded,_0x348d75),_0x4e0415++);});if(_0x4e0415>0x0){showMessage('แก้ไขสูตรคณิตศาสตร์\x20'+_0x4e0415+'\x20จุดเรียบร้อยแล้ว');try{window[_0x9f12ed(0x6a1)]&&MathJax['typesetPromise']&&MathJax[_0x9f12ed(0x7c9)]([_0x9023e6]);}catch(_0x57c53){console['error']('MathJax\x20re-render\x20failed:',_0x57c53);}}else showMessage(_0x9f12ed(0xe36));}function handleAutoFixLatex(){const _0x299379=_0x1d7cc9,_0x220616=document[_0x299379(0x773)](_0x299379(0x371))||document,_0x299520=_0x220616[_0x299379(0x4a1)](_0x299379(0xca0));let _0x2a621e=0x0;const _0x3bace5=_0x536097=>'value'in _0x536097?String(_0x536097[_0x299379(0xd9d)]):_0x536097[_0x299379(0xab8)]!==undefined?_0x536097[_0x299379(0xab8)]:_0x536097[_0x299379(0xcd6)]||'',_0x421a49=(_0x178e99,_0xf3d71e)=>{const _0x3260f1=_0x299379;if(_0x3260f1(0xd9d)in _0x178e99){_0x178e99[_0x3260f1(0xd9d)]=_0xf3d71e;return;}if(_0x178e99[_0x3260f1(0x86f)]&&_0x178e99['querySelector'](_0x3260f1(0xcba)))return;if(_0x178e99['innerText']!==undefined)_0x178e99[_0x3260f1(0xab8)]=_0xf3d71e;else _0x178e99['textContent']=_0xf3d71e;},_0x108483=_0x550f8c=>_0x550f8c[_0x299379(0xc21)](/\u00A0/g,'\x20')[_0x299379(0xc21)](/\u200B/g,'')[_0x299379(0xc21)](/\r\n?/g,'\x0a'),_0x30ca29=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x28f0ac=_0x1e45bb=>{const _0x3c4a30=_0x299379;let _0xe3a77=_0x1e45bb['trim']();_0xe3a77=_0xe3a77[_0x3c4a30(0xc21)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x3c4a30(0x5d9)),_0xe3a77=_0xe3a77[_0x3c4a30(0xc21)](/\bfrac(\d)(\d)/g,_0x3c4a30(0x5d9));const _0x9105fb=['frac','sqrt',_0x3c4a30(0x5f6),_0x3c4a30(0x92a),_0x3c4a30(0x5f9),_0x3c4a30(0x75f),_0x3c4a30(0xc13),_0x3c4a30(0xa73),'pm','sin',_0x3c4a30(0x522),'tan',_0x3c4a30(0xe59),'ln'];_0x9105fb[_0x3c4a30(0xa25)](_0x3cb2b2=>{const _0xaa554=_0x3c4a30;_0xe3a77=_0xe3a77[_0xaa554(0xc21)](new RegExp(_0xaa554(0xc3a)+_0x3cb2b2+'\x5cb','g'),(_0x4e21b7,_0x54a4df)=>_0x54a4df+'\x5c'+_0x3cb2b2);});const _0x469009=[[/×/g,_0x3c4a30(0x1e7)],[/·/g,_0x3c4a30(0x909)],[/÷/g,_0x3c4a30(0xb72)],[/≤/g,'\x5cle'],[/≥/g,_0x3c4a30(0xac1)],[/≠/g,_0x3c4a30(0x600)],[/±/g,_0x3c4a30(0xa00)]];return _0x469009[_0x3c4a30(0xa25)](([_0x5e5750,_0x14e062])=>{_0xe3a77=_0xe3a77['replace'](_0x5e5750,_0x14e062);}),_0xe3a77;},_0x530a2b=_0x50df56=>{const _0x1428dc=_0x299379;if(/\$|\\\(|\\\[/[_0x1428dc(0x5e1)](_0x50df56))return _0x50df56;if(!_0x30ca29[_0x1428dc(0x5e1)](_0x50df56))return _0x50df56;const _0x15e505=_0x50df56['match'](/^\s*/)[0x0],_0x11941f=_0x50df56[_0x1428dc(0x45a)](/\s*$/)[0x0],_0x329449=_0x50df56['trim']();return _0x15e505+'$'+_0x28f0ac(_0x329449)+'$'+_0x11941f;};_0x299520[_0x299379(0xa25)](_0x547499=>{const _0x476899=_0x299379,_0x19302e=_0x3bace5(_0x547499);let _0x4d3b0a=_0x108483(_0x19302e);_0x4d3b0a=_0x4d3b0a[_0x476899(0xc21)](/\$([^$]*?)\$/g,(_0x145ab2,_0x39741b)=>'$'+_0x28f0ac(_0x39741b)+'$');const _0x3e68a5=_0x4d3b0a['split'](/(\s+)/),_0xdef286=_0x3e68a5[_0x476899(0x9d3)](_0xc7c6a6=>/\s+/['test'](_0xc7c6a6)?_0xc7c6a6:_0x530a2b(_0xc7c6a6));_0x4d3b0a=_0xdef286['join'](''),_0x4d3b0a!==_0x19302e&&(_0x421a49(_0x547499,_0x4d3b0a),_0x2a621e++);});if(_0x2a621e>0x0){showMessage(_0x299379(0x6ca)+_0x2a621e+'\x20จุด');try{if(window[_0x299379(0x6a1)]&&MathJax[_0x299379(0x7c9)])MathJax[_0x299379(0x7c9)]();}catch(_0x34dfce){}}else showMessage(_0x299379(0x3fe));}async function listenForCustomMathTopics(){const _0x509f1a=_0x1d7cc9,_0x239f2f=collection(db,_0x509f1a(0x6de)+appId+_0x509f1a(0x5b0));onSnapshot(_0x239f2f,_0x319ade=>{const _0x3a9ab7=_0x509f1a;customMathTopics=_0x319ade[_0x3a9ab7(0x79c)]['map'](_0xd83193=>({'id':_0xd83193['id'],..._0xd83193['data']()})),renderTopicCheckboxes();},_0x31552a=>{const _0x547eb2=_0x509f1a;console[_0x547eb2(0x7bc)](_0x547eb2(0xb16),_0x31552a);});}function handleSelectAllTopics(){const _0x14961c=_0x1d7cc9,_0x1a0f04=document[_0x14961c(0x773)]('math-topics-checkbox-container'),_0x2d7d95=_0x1a0f04[_0x14961c(0x4a1)]('input[type=\x22checkbox\x22]');_0x2d7d95[_0x14961c(0xa25)](_0x700d9=>{const _0x20de59=_0x14961c;_0x700d9[_0x20de59(0x17e)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x4f1623=_0x1d7cc9,_0x509966=document[_0x4f1623(0x773)](_0x4f1623(0xd47)),_0x26cce1=_0x509966[_0x4f1623(0x4a1)](_0x4f1623(0x82b));_0x26cce1['forEach'](_0x457f1b=>{const _0x19e6ff=_0x4f1623;_0x457f1b[_0x19e6ff(0x17e)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x4b6450){const _0x38b41f=_0x1d7cc9;if(!_0x4b6450)return;try{const _0x27f8c6=doc(db,_0x38b41f(0x6de)+appId+_0x38b41f(0x5b0),_0x4b6450);await deleteDoc(_0x27f8c6),showMessage(_0x38b41f(0xd9e));}catch(_0x1985e2){console['error']('Error\x20deleting\x20custom\x20topic:',_0x1985e2),showMessage(_0x38b41f(0x27d));}}async function handleAddCustomMathTopic(){const _0x111767=_0x1d7cc9,_0x1ad3fa=document[_0x111767(0x773)](_0x111767(0x9da)),_0x610e99=_0x1ad3fa[_0x111767(0xd9d)]['trim']();if(!_0x610e99){showMessage(_0x111767(0x779));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x291abe=collection(db,_0x111767(0x6de)+appId+_0x111767(0x5b0));await addDoc(_0x291abe,{'name':_0x610e99,'createdAt':serverTimestamp()}),_0x1ad3fa[_0x111767(0xd9d)]='',showMessage(_0x111767(0x192)+_0x610e99+_0x111767(0x748));}catch(_0x42b6f2){console['error'](_0x111767(0x368),_0x42b6f2),showMessage(_0x111767(0x86d));}}async function handleUpdateOldQuizzes(){const _0x4e03a3=_0x1d7cc9;showConfirmation(_0x4e03a3(0x3cd),async()=>{const _0x580f75=_0x4e03a3,_0x24208a=document[_0x580f75(0x773)](_0x580f75(0x388)),_0x30bd34=document[_0x580f75(0x773)](_0x580f75(0x815)),_0xea5599=_0x30bd34[_0x580f75(0xcd6)];_0x24208a[_0x580f75(0x985)][_0x580f75(0xa54)](_0x580f75(0x806)),_0x30bd34[_0x580f75(0xcd6)]=_0x580f75(0x757);try{const _0x2496a1=collection(db,_0x580f75(0x6de)+appId+_0x580f75(0xde0)),_0x196909=await getDocs(_0x2496a1);if(_0x196909[_0x580f75(0x758)]){showMessage(_0x580f75(0xb07));return;}const _0x68fec8=writeBatch(db);let _0x470b9b=0x0;_0x196909[_0x580f75(0xa25)](_0x299354=>{const _0x36c964=_0x580f75,_0x194177=_0x299354['data'](),_0x5243c4=_0x299354['id'];if(_0x194177['questions']&&_0x194177[_0x36c964(0xcf9)][_0x36c964(0x5df)]>0x0&&!_0x194177['questions'][0x0][_0x36c964(0x4a6)]('id')){console['log'](_0x36c964(0xad3)+_0x5243c4+'\x20('+_0x194177[_0x36c964(0xa37)]+')'),_0x470b9b++;const _0x440e83=_0x194177[_0x36c964(0xcf9)][_0x36c964(0x9d3)]((_0x4d49fe,_0x9352a7)=>{const _0x2e31d4=_0x36c964;return{..._0x4d49fe,'id':_0x4d49fe['id']||'q_'+Date[_0x2e31d4(0xdbe)]()+'_'+_0x5243c4+'_'+_0x9352a7};}),_0x17b224=doc(db,_0x36c964(0x6de)+appId+_0x36c964(0xde0),_0x5243c4);_0x68fec8[_0x36c964(0x7c3)](_0x17b224,{'questions':_0x440e83});}}),_0x470b9b>0x0?(_0x30bd34[_0x580f75(0xcd6)]=_0x580f75(0x72a)+_0x470b9b+_0x580f75(0x4b8),await _0x68fec8[_0x580f75(0x3f1)](),showMessage(_0x580f75(0x493)+_0x470b9b+_0x580f75(0x587))):showMessage(_0x580f75(0x67b));}catch(_0x1c13a9){console[_0x580f75(0x7bc)](_0x580f75(0x4f7),_0x1c13a9),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x1c13a9[_0x580f75(0xcee)]);}finally{_0x24208a['classList'][_0x580f75(0xd0a)](_0x580f75(0x806)),_0x30bd34[_0x580f75(0xcd6)]=_0xea5599;}});}async function handleBulkUpdateQuizSettings(){const _0x146cd7=_0x1d7cc9,_0x20496e={'shuffle':document[_0x146cd7(0x773)](_0x146cd7(0x64c))['value'],'resultsDisplay':document['getElementById']('bulk-results-display-select')[_0x146cd7(0xd9d)],'loopUntilPass':document['getElementById'](_0x146cd7(0x23a))[_0x146cd7(0x17e)],'isConfidenceScoringEnabled':document[_0x146cd7(0x773)](_0x146cd7(0x6d3))['checked'],'confidenceMode':document[_0x146cd7(0x773)]('bulk-confidence-mode-select')[_0x146cd7(0xd9d)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x59ba57=await getDocs(collection(db,'artifacts/'+appId+_0x146cd7(0xde0))),_0x29b23c=_0x59ba57[_0x146cd7(0x79c)][_0x146cd7(0x9d3)](_0x40e747=>({'id':_0x40e747['id'],'data':_0x40e747[_0x146cd7(0xafb)]()})),_0x5abfbc=_0x29b23c[_0x146cd7(0x5df)];showConfirmation(_0x146cd7(0x280)+_0x5abfbc+_0x146cd7(0x19c),async()=>{const _0x28f051=_0x146cd7,_0x45ab32=document[_0x28f051(0x773)](_0x28f051(0x3fd));_0x45ab32[_0x28f051(0x67a)]=!![],_0x45ab32[_0x28f051(0x8ec)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x4a5733=writeBatch(db);_0x29b23c['forEach'](_0x1f901e=>{const _0x4cbb43=_0x28f051,_0x5619b7=doc(db,'artifacts/'+appId+_0x4cbb43(0xde0),_0x1f901e['id']),_0x3b18f3={..._0x1f901e['data'][_0x4cbb43(0xadf)]||{},..._0x20496e};_0x4a5733['update'](_0x5619b7,{'settings':_0x3b18f3});}),await _0x4a5733[_0x28f051(0x3f1)](),document[_0x28f051(0x773)]('bulk-quiz-settings-modal')[_0x28f051(0x985)][_0x28f051(0xd0a)]('hidden'),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x5abfbc+_0x28f051(0x5fe));}catch(_0x2ac7ea){console[_0x28f051(0x7bc)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x2ac7ea),showMessage('เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม');}finally{_0x45ab32[_0x28f051(0x67a)]=![],_0x45ab32[_0x28f051(0x8ec)]=_0x28f051(0x266);}});}catch(_0x18d71f){console[_0x146cd7(0x7bc)](_0x146cd7(0x394),_0x18d71f),showMessage(_0x146cd7(0x870));}}async function handleSaveProjectName(){const _0x5a0013=_0x1d7cc9,_0x1653d2=document['getElementById'](_0x5a0013(0xcbf)),_0x200b6a=document[_0x5a0013(0x773)](_0x5a0013(0xe18)),_0x430130=_0x1653d2[_0x5a0013(0xcd6)]['trim']();if(!_0x430130||!currentProjectId){showMessage(_0x5a0013(0x9d0)),_0x1653d2[_0x5a0013(0xcd6)]=currentProjectData[_0x5a0013(0x1c1)];return;}_0x200b6a[_0x5a0013(0x67a)]=!![],_0x200b6a[_0x5a0013(0x8ec)]=_0x5a0013(0x23d);try{const _0x3f7057=doc(db,'artifacts/'+appId+_0x5a0013(0x45c),currentProjectId);await updateDoc(_0x3f7057,{'projectName':_0x430130}),currentProjectData&&(currentProjectData[_0x5a0013(0x1c1)]=_0x430130),showMessage(_0x5a0013(0xb49));}catch(_0x16d297){console[_0x5a0013(0x7bc)](_0x5a0013(0xcb),_0x16d297),showMessage(_0x5a0013(0xcf2)),_0x1653d2[_0x5a0013(0xcd6)]=currentProjectData[_0x5a0013(0x1c1)];}finally{_0x200b6a['classList']['add'](_0x5a0013(0x806)),_0x200b6a[_0x5a0013(0x67a)]=![],_0x200b6a[_0x5a0013(0x8ec)]=_0x5a0013(0xe09);}}function handleGeneratePracticeTest(_0x2944d6,_0x729124){const _0x4be296=_0x1d7cc9,_0x507dc2=document[_0x4be296(0x773)](_0x4be296(0x42d)),_0x2fffbb=document[_0x4be296(0x773)](_0x4be296(0x8b0)),_0x17c8c2=document[_0x4be296(0x773)](_0x4be296(0x8c8)),_0x4d4747=document['getElementById'](_0x4be296(0xd36));_0x2fffbb['textContent']='กำลังสร้างแบบทดสอบ:\x20'+_0x2944d6,_0x4d4747[_0x4be296(0x985)][_0x4be296(0xd0a)](_0x4be296(0x806)),_0x17c8c2[_0x4be296(0x985)][_0x4be296(0xa54)](_0x4be296(0x806)),_0x507dc2[_0x4be296(0x985)][_0x4be296(0xa54)](_0x4be296(0x806)),generatePracticeTest(_0x2944d6,_0x729124)['catch'](_0x26414a=>{const _0x41914d=_0x4be296;console[_0x41914d(0x7bc)](_0x41914d(0x1ad),_0x26414a),showMessage(_0x41914d(0x2d6)),_0x507dc2[_0x41914d(0x985)]['add']('hidden');});}async function generatePracticeTest(_0x38842d,_0x3afbae){const _0x5b7185=_0x1d7cc9;[_0x5b7185(0xae2),_0x5b7185(0x116),_0x5b7185(0x75c),'summaryContent']['forEach'](_0x237282=>{const _0x12878a=_0x5b7185,_0x23ec96=document['getElementById'](_0x237282)[_0x12878a(0x434)];_0x23ec96&&(_0x23ec96[_0x12878a(0x90e)]['display']='none');});try{const _0x2ed3e4=_0x5b7185(0x743),_0x2d8119=_0x5b7185(0x7c0)+_0x3afbae+'\x27\x20ในหัวข้อ\x20\x27'+_0x38842d+_0x5b7185(0x202),_0x23b3f1=await callGemini(_0x2d8119,!![]),_0x450e2d=document['getElementById'](_0x5b7185(0x8b0)),_0x2865f5=document[_0x5b7185(0x773)](_0x5b7185(0x8c8)),_0x395442=document[_0x5b7185(0x773)](_0x5b7185(0xd36)),_0x13f104=document[_0x5b7185(0x773)](_0x5b7185(0x75c))[_0x5b7185(0x434)];_0x450e2d[_0x5b7185(0xab8)]=_0x5b7185(0xbc4)+_0x38842d[_0x5b7185(0xc21)](/•\s/g,'')+_0x5b7185(0xa10)+_0x3afbae+')',currentApplicationData=JSON['parse'](_0x23b3f1);const _0x2ee315=document[_0x5b7185(0x773)]('applicationContent');_0x2ee315[_0x5b7185(0x8ec)]=currentApplicationData[_0x5b7185(0x9d3)]((_0x461fff,_0x477442)=>_0x5b7185(0x4c1)+(_0x477442+0x1)+'.\x20'+marked[_0x5b7185(0x367)](_0x461fff['question'])+_0x5b7185(0xb4d)+_0x477442+_0x5b7185(0x59a)+_0x461fff[_0x5b7185(0x50b)][_0x5b7185(0x9d3)]((_0x251c7e,_0x336bba)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x477442+',\x20'+_0x336bba+_0x5b7185(0x47d)+String[_0x5b7185(0x31f)](0x61+_0x336bba)+'.\x20'+marked[_0x5b7185(0x367)](_0x251c7e)+_0x5b7185(0x541))[_0x5b7185(0x370)]('')+_0x5b7185(0x37f))[_0x5b7185(0x370)](''),window[_0x5b7185(0x6a1)]&&MathJax[_0x5b7185(0x7c9)]([_0x2ee315]),_0x13f104&&(_0x13f104[_0x5b7185(0x90e)][_0x5b7185(0x45d)]=_0x5b7185(0x96b)),_0x2865f5[_0x5b7185(0x985)][_0x5b7185(0xd0a)](_0x5b7185(0x806)),_0x395442['classList'][_0x5b7185(0xa54)](_0x5b7185(0x806));}catch(_0xd193ae){console[_0x5b7185(0x7bc)](_0xd193ae);throw _0xd193ae;}}async function callGemini(_0x3a8d0f,_0x49cf78=![]){const _0x3330f3=_0x1d7cc9,_0x36d149=_0x3330f3(0x300),_0x23951f=_0x3330f3(0xa4d)+_0x36d149,_0x142613={'contents':[{'parts':[{'text':_0x3a8d0f}]}]};_0x49cf78&&(_0x142613[_0x3330f3(0x701)]={'responseMimeType':_0x3330f3(0x988)},_0x3a8d0f[_0x3330f3(0x1f6)](_0x3330f3(0x4c0))?_0x142613[_0x3330f3(0x701)]['responseSchema']={'type':_0x3330f3(0x181),'properties':{'gradeLevel':{'type':_0x3330f3(0x3a5)},'curriculum':{'type':_0x3330f3(0x37c),'items':{'type':_0x3330f3(0x181),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x3330f3(0x37c),'items':{'type':_0x3330f3(0x181),'properties':{'topicName':{'type':_0x3330f3(0x3a5)},'subTopics':{'type':'ARRAY','items':{'type':_0x3330f3(0x3a5)}}},'required':[_0x3330f3(0x3c7),_0x3330f3(0x7d5)]}}},'required':['sara','mainTopics']}}},'required':['gradeLevel',_0x3330f3(0xd94)]}:_0x142613['generationConfig'][_0x3330f3(0x271)]={'type':_0x3330f3(0x37c),'items':{'type':_0x3330f3(0x181),'properties':{'question':{'type':_0x3330f3(0x3a5)},'options':{'type':_0x3330f3(0x37c),'items':{'type':_0x3330f3(0x3a5)}},'answer':{'type':_0x3330f3(0x1b3)}},'required':['question',_0x3330f3(0x50b),_0x3330f3(0x29b)]}});try{const _0x499b3=await fetch(_0x23951f,{'method':_0x3330f3(0x621),'headers':{'Content-Type':_0x3330f3(0x988)},'body':JSON[_0x3330f3(0xbd7)](_0x142613)});if(!_0x499b3['ok']){const _0x1e19e7=await _0x499b3[_0x3330f3(0xab4)]();console['error']('API\x20Error\x20Body:',_0x1e19e7);throw new Error(_0x3330f3(0x66d)+_0x499b3[_0x3330f3(0xfc)]);}const _0x48cca6=await _0x499b3['json']();if(_0x48cca6['candidates']&&_0x48cca6[_0x3330f3(0x9e3)][0x0]['content']&&_0x48cca6[_0x3330f3(0x9e3)][0x0][_0x3330f3(0x7bf)][_0x3330f3(0x1a9)][0x0])return _0x48cca6[_0x3330f3(0x9e3)][0x0][_0x3330f3(0x7bf)][_0x3330f3(0x1a9)][0x0][_0x3330f3(0xab4)];else{console['error']('Unexpected\x20API\x20response\x20structure:',_0x48cca6);if(_0x48cca6['candidates']&&_0x48cca6[_0x3330f3(0x9e3)][0x0][_0x3330f3(0x535)]==='SAFETY')return JSON[_0x3330f3(0xbd7)]({'error':_0x3330f3(0x13c)});throw new Error(_0x3330f3(0xd84));}}catch(_0x1cb3d2){console[_0x3330f3(0x7bc)](_0x3330f3(0x950),_0x1cb3d2);throw _0x1cb3d2;}}async function generateLesson(_0x3233fe=null,_0x18ec06=null){const _0x482949=_0x1d7cc9,_0x12d675=_0x3233fe,_0x57c3ba=_0x18ec06||'ไม่ระบุ',_0x1d48cd=document[_0x482949(0x773)](_0x482949(0x8c8)),_0x5f2970=document[_0x482949(0x773)](_0x482949(0x64e));_0x5f2970['textContent']=_0x482949(0xddc)+_0x12d675+_0x482949(0xd8f);try{let _0xc6c816=[];const _0x402cdb=document['getElementById'](_0x482949(0x132))?.[_0x482949(0xd9d)][_0x482949(0xafd)]();if(_0x402cdb)try{_0x5f2970['textContent']=_0x482949(0xb5b);const _0x35db06=await fetchFileFromUrl(_0x402cdb,_0x482949(0x2a3)),_0x15af23=await new Promise((_0x4f0569,_0x1ea7bc)=>{const _0x219adb=_0x482949,_0x13a0bb=new FileReader();_0x13a0bb['readAsDataURL'](_0x35db06),_0x13a0bb[_0x219adb(0x4c6)]=()=>_0x4f0569(_0x13a0bb[_0x219adb(0xa53)][_0x219adb(0xa50)](',')[0x1]),_0x13a0bb[_0x219adb(0xdaa)]=_0x1ea7bc;});_0xc6c816[_0x482949(0x65b)]({'inlineData':{'mimeType':_0x35db06[_0x482949(0x900)],'data':_0x15af23}});}catch(_0xfd3a1a){console['error'](_0x482949(0x8d0),_0xfd3a1a),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ');}const _0x1d89a8=_0x482949(0x526)+_0x12d675+_0x482949(0xd58)+_0x12d675+'\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x5f2970[_0x482949(0xcd6)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x12d675+_0x482949(0xd8f);const _0x4a9f59=_0x482949(0x6cf)+_0x57c3ba+_0x482949(0x9aa)+_0x12d675+_0x482949(0x4a3)+_0x1d89a8+'.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art',_0x523e5d='สำหรับหัวข้อ\x20\x27'+_0x12d675+_0x482949(0x84b)+_0x57c3ba+_0x482949(0x6b3)+_0x1d89a8+_0x482949(0x20a),_0x21bc04=_0x482949(0x3c6),_0x11dbb4='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x57c3ba+_0x482949(0x9aa)+_0x12d675+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d89a8+_0x482949(0xb90)+_0x21bc04+_0x482949(0x916),_0x43c487=_0x482949(0xa8f)+_0x12d675+_0x482949(0x2d0)+_0x57c3ba+_0x482949(0x9cd)+_0x1d89a8+_0x482949(0x34a),_0x27b956={'type':'ARRAY','items':{'type':_0x482949(0x181),'properties':{'question':{'type':_0x482949(0x3a5)},'options':{'type':_0x482949(0x37c),'items':{'type':_0x482949(0x3a5)}},'answer':{'type':_0x482949(0x1b3)}},'required':['question','options',_0x482949(0x29b)]}},[_0x44442a,_0x316489,_0x2604ab,_0x5c5300]=await Promise[_0x482949(0x2d2)]([handleApiCall([{'text':_0x4a9f59},..._0xc6c816],_0x482949(0xa29),null,null,![]),handleApiCall([{'text':_0x523e5d},..._0xc6c816],_0x482949(0xa29),null,null,![]),handleApiCall([{'text':_0x11dbb4},..._0xc6c816],_0x482949(0xa29),_0x27b956,null,![]),handleApiCall([{'text':_0x43c487},..._0xc6c816],_0x482949(0xa29),null,null,![])]),_0xe41352=JSON['stringify'](_0x2604ab||[]),_0x2084c1=document[_0x482949(0x773)](_0x482949(0x8b0)),_0x4fa908=document['getElementById'](_0x482949(0xd36));_0x2084c1[_0x482949(0xab8)]=_0x482949(0xdff)+_0x12d675[_0x482949(0xc21)](/•\s/g,'')+_0x482949(0xa10)+_0x57c3ba+')',[_0x482949(0xae2),_0x482949(0x116),_0x482949(0xbef)][_0x482949(0xa25)](_0x1d2c7e=>{const _0x1d2fa5=_0x482949;document['getElementById'](_0x1d2c7e)[_0x1d2fa5(0x8ec)]='';}),document['getElementById']('pointContent')[_0x482949(0x8ec)]=_0x44442a?marked['parse'](_0x44442a):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x482949(0x773)](_0x482949(0x116))['innerHTML']=_0x316489?marked['parse'](_0x316489):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x482949(0x773)]('summaryContent')[_0x482949(0x8ec)]=_0x5c5300?marked[_0x482949(0xbf7)](_0x5c5300):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON[_0x482949(0xbf7)](_0xe41352);const _0x15703e=document[_0x482949(0x773)](_0x482949(0x75c));_0x15703e[_0x482949(0x8ec)]=(currentApplicationData||[])[_0x482949(0x9d3)]((_0xb988fa,_0x26ee88)=>_0x482949(0x4c1)+(_0x26ee88+0x1)+'.\x20'+marked[_0x482949(0x367)](_0xb988fa[_0x482949(0xa9f)]||'')+_0x482949(0xb4d)+_0x26ee88+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xb988fa[_0x482949(0x50b)]||[])[_0x482949(0x9d3)]((_0x1eb90a,_0x28b9fb)=>_0x482949(0x446)+_0x26ee88+',\x20'+_0x28b9fb+')\x22>'+String[_0x482949(0x31f)](0x61+_0x28b9fb)+'.\x20'+marked[_0x482949(0x367)](_0x1eb90a||'')+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x482949(0x370)]('')+_0x482949(0x37f))['join']('')||_0x482949(0x8f6),window[_0x482949(0x6a1)]&&MathJax[_0x482949(0x7c9)]([_0x4fa908]),_0x1d48cd[_0x482949(0x985)][_0x482949(0xd0a)](_0x482949(0x806)),_0x4fa908[_0x482949(0x985)]['remove'](_0x482949(0x806));}catch(_0x27db45){console[_0x482949(0x7bc)](_0x27db45);throw _0x27db45;}}function checkAnswer(_0x406642,_0x126ced){const _0x4ae77f=_0x1d7cc9,_0x33c725=currentApplicationData[_0x406642],_0x3926a3=document[_0x4ae77f(0x773)]('q'+_0x406642+_0x4ae77f(0xb0a)),_0x9e4065=_0x3926a3[_0x4ae77f(0x644)]('button');for(let _0x42602e of _0x9e4065){_0x42602e[_0x4ae77f(0x67a)]=!![];}_0x126ced===_0x33c725[_0x4ae77f(0x29b)]?_0x9e4065[_0x126ced][_0x4ae77f(0x985)]['add'](_0x4ae77f(0x868)):(_0x9e4065[_0x126ced][_0x4ae77f(0x985)][_0x4ae77f(0xd0a)](_0x4ae77f(0xcf4)),_0x9e4065[_0x33c725[_0x4ae77f(0x29b)]][_0x4ae77f(0x985)][_0x4ae77f(0xd0a)]('correct'));}window['handleGenerateAndShowLesson']=handleGenerateAndShowLesson,window[_0x1d7cc9(0x415)]=checkAnswer,window[_0x1d7cc9(0xcf5)]=handleGeneratePracticeTest,window[_0x1d7cc9(0x8bb)]=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function startCropper(_0xf8c35b){const _0x3486e0=_0x1d7cc9,_0x5f262e=document['getElementById']('cropper-modal'),_0x179c79=document['getElementById']('image-to-crop'),_0x40b508=new FileReader();_0x40b508['onload']=_0x43ecc8=>{const _0x1c73ff=_0x5842;_0x179c79[_0x1c73ff(0x405)]=_0x43ecc8['target'][_0x1c73ff(0xa53)],_0x5f262e[_0x1c73ff(0x985)][_0x1c73ff(0xa54)](_0x1c73ff(0x806)),cropperInstance&&cropperInstance[_0x1c73ff(0xcff)](),cropperInstance=new Cropper(_0x179c79,{'viewMode':0x1,'dragMode':'move','autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x40b508[_0x3486e0(0x15f)](_0xf8c35b);}async function handleScanImageForText(_0x254758){const _0x22c56c=_0x1d7cc9,_0x1341b2=document['getElementById'](_0x22c56c(0x11d)),_0x5ecbc5=document[_0x22c56c(0x773)](_0x22c56c(0xda8));if(!_0x254758)return;_0x5ecbc5[_0x22c56c(0x67a)]=!![],_0x5ecbc5[_0x22c56c(0x8ec)]=_0x22c56c(0xd26),_0x1341b2[_0x22c56c(0x80f)]=_0x22c56c(0x407);try{const _0x27d27f=await new Promise((_0x22c9ca,_0x4cfd2b)=>{const _0x5cdfe5=_0x22c56c,_0x1309f9=new FileReader();_0x1309f9[_0x5cdfe5(0x15f)](_0x254758),_0x1309f9[_0x5cdfe5(0x4c6)]=()=>_0x22c9ca(_0x1309f9[_0x5cdfe5(0xa53)][_0x5cdfe5(0xa50)](',')[0x1]),_0x1309f9[_0x5cdfe5(0xdaa)]=_0x4cfd2b;}),_0x2fd5bd=_0x22c56c(0x5bf),_0x2e931c=[{'text':_0x2fd5bd},{'inlineData':{'mimeType':_0x254758[_0x22c56c(0x900)],'data':_0x27d27f}}],_0x5d0a55=await handleApiCall(_0x2e931c,_0x22c56c(0xa55),null,null,![]);if(_0x5d0a55){const _0xca8cc9=_0x1341b2[_0x22c56c(0xd9d)][_0x22c56c(0xafd)]();_0x1341b2['value']=_0xca8cc9?_0xca8cc9+'\x0a\x0a'+_0x5d0a55:_0x5d0a55,showMessage(_0x22c56c(0x68e));}else throw new Error('AI\x20ไม่สามารถอ่านข้อความได้');}catch(_0x54066c){console['error'](_0x22c56c(0x413),_0x54066c),showMessage(_0x22c56c(0xc53)+_0x54066c['message']);}finally{_0x5ecbc5[_0x22c56c(0x67a)]=![],_0x5ecbc5[_0x22c56c(0x8ec)]='<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ',document[_0x22c56c(0x773)](_0x22c56c(0x6e4))[_0x22c56c(0xd9d)]='';}}async function initialize(){const _0x5c09f4=_0x1d7cc9;try{const _0x3884ee=initializeApp(firebaseConfig);db=getFirestore(_0x3884ee),auth=getAuth(_0x3884ee),setupAuthListener(),setupEventListeners(),showView(_0x5c09f4(0xcd1)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x370c87){console[_0x5c09f4(0x7bc)]('Firebase\x20initialization\x20failed:',_0x370c87),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x1ee2b9=_0x1d7cc9,_0x4f6b20=document[_0x1ee2b9(0x773)](_0x1ee2b9(0x5dc));if(!_0x4f6b20)return;const _0x56907a=document[_0x1ee2b9(0x773)](_0x1ee2b9(0xd19));_0x56907a[_0x1ee2b9(0x67a)]=!![],_0x56907a[_0x1ee2b9(0x8ec)]=_0x1ee2b9(0x5ee);try{const _0x102616=_0x4f6b20['querySelectorAll'](_0x1ee2b9(0x559)),_0x2583be=Array[_0x1ee2b9(0xc85)](_0x102616)[_0x1ee2b9(0x9d3)]((_0x34c52b,_0x57c830)=>{const _0x38b5bc=_0x1ee2b9,_0xc902e2=_0x34c52b[_0x38b5bc(0x576)][_0x38b5bc(0x3d9)],_0x17ee06=_0x34c52b[_0x38b5bc(0x86f)]('textarea')[_0x38b5bc(0xd9d)];let _0xd33ab=null,_0x2ece53='';switch(_0xc902e2){case _0x38b5bc(0xbed):const _0x2e657f=_0x34c52b[_0x38b5bc(0x4a1)]('input[type=\x22text\x22]');_0xd33ab=Array[_0x38b5bc(0xc85)](_0x2e657f)[_0x38b5bc(0x9d3)](_0x37a75=>_0x37a75[_0x38b5bc(0xd9d)]);const _0x1eceb7=_0x34c52b[_0x38b5bc(0x86f)]('input[type=\x22radio\x22]:checked');_0x1eceb7&&(_0x2ece53=_0xd33ab[parseInt(_0x1eceb7[_0x38b5bc(0xd9d)])]);break;case _0x38b5bc(0x33a):_0xd33ab=[],_0x2ece53=_0x34c52b[_0x38b5bc(0x86f)](_0x38b5bc(0xb8d))[_0x38b5bc(0xd9d)];break;case'true_false':_0xd33ab=[_0x38b5bc(0x9ff),'false'];const _0x3d6415=_0x34c52b['querySelector'](_0x38b5bc(0x2b3));_0x2ece53=_0x3d6415?_0x3d6415[_0x38b5bc(0xd9d)]:'';break;case'matching_item':_0xd33ab=[],_0x2ece53=_0x34c52b[_0x38b5bc(0x86f)]('.correct-response-input')[_0x38b5bc(0xd9d)];break;}return{'question':_0x17ee06,'options':_0xd33ab,'proposedAnswer':_0x2ece53};}),_0x56ddf1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON['stringify'](_0x2583be)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x28037c={'type':_0x1ee2b9(0x37c),'items':{'type':_0x1ee2b9(0x181),'properties':{'questionIndex':{'type':_0x1ee2b9(0x1b3)},'isCorrect':{'type':_0x1ee2b9(0xae5)},'justification':{'type':_0x1ee2b9(0x3a5)},'correctOptionExists':{'type':'BOOLEAN'},'suggestedAnswer':{'type':'STRING'},'newOptionsPayload':{'type':_0x1ee2b9(0x181),'properties':{'newOptions':{'type':_0x1ee2b9(0x37c),'items':{'type':_0x1ee2b9(0x3a5)}},'newCorrectIndex':{'type':_0x1ee2b9(0x1b3)}}}},'required':['questionIndex','isCorrect',_0x1ee2b9(0xb55)]}},_0x526d54=await callAnalysisApi(_0x56ddf1,{'type':_0x1ee2b9(0x181),'properties':{'result':_0x28037c},'required':[_0x1ee2b9(0xa53)]});displayVerificationResultsInEditor(_0x526d54['result']);}catch(_0x473d01){console[_0x1ee2b9(0x7bc)](_0x1ee2b9(0x483),_0x473d01),showMessage(_0x1ee2b9(0x4ab));}finally{_0x56907a[_0x1ee2b9(0x67a)]=![],_0x56907a[_0x1ee2b9(0x8ec)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x4ff3b9){const _0x38aa2b=_0x1d7cc9;_0x4ff3b9[_0x38aa2b(0xa25)](_0xd16198=>{const _0xaa1a90=_0x38aa2b,_0x251b6f=document[_0xaa1a90(0x86f)]('.question-editor-item[data-q-index=\x22'+_0xd16198[_0xaa1a90(0x550)]+'\x22]');if(!_0x251b6f)return;const _0x3e512a=_0x251b6f[_0xaa1a90(0x86f)](_0xaa1a90(0xe0b));if(_0x3e512a)_0x3e512a[_0xaa1a90(0xa54)]();let _0x81f4c7='';if(_0xd16198[_0xaa1a90(0x6ab)]&&_0xd16198[_0xaa1a90(0x6ab)][_0xaa1a90(0x1ff)]){const _0x335446=_0xd16198['newOptionsPayload'][_0xaa1a90(0x1ff)],_0x23f191=_0xd16198[_0xaa1a90(0x6ab)][_0xaa1a90(0x6aa)],_0x560808=_0x251b6f['dataset'][_0xaa1a90(0x3d9)];if(_0x560808===_0xaa1a90(0xbed)){const _0x4d2321=_0x251b6f['querySelectorAll'](_0xaa1a90(0x1af));_0x4d2321[_0xaa1a90(0xa25)]((_0x135da7,_0x550e0e)=>{const _0x5cad2d=_0xaa1a90;_0x335446[_0x550e0e]?_0x135da7[_0x5cad2d(0xd9d)]=_0x335446[_0x550e0e]:_0x135da7[_0x5cad2d(0xd9d)]=_0x5cad2d(0xa21);});const _0x4af7cd=_0x251b6f['querySelector'](_0xaa1a90(0x954)+_0x23f191+'\x22]');_0x4af7cd&&(_0x4af7cd[_0xaa1a90(0x17e)]=!![]),_0x81f4c7=_0xaa1a90(0x7e9),_0x251b6f['classList']['add'](_0xaa1a90(0x66c),'transition-all',_0xaa1a90(0x754)),setTimeout(()=>{const _0x2c70d6=_0xaa1a90;_0x251b6f[_0x2c70d6(0x985)]['remove']('bg-yellow-200');},0x9c4);}}else{if(!_0xd16198[_0xaa1a90(0x17c)]&&_0xd16198[_0xaa1a90(0x8cc)]){const _0x5745e7=_0xd16198['suggestedAnswer']?_0xaa1a90(0x296):'';_0x81f4c7=_0xaa1a90(0x8ba)+_0x5745e7+_0xaa1a90(0x4e6)+_0xd16198[_0xaa1a90(0xb55)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xd16198[_0xaa1a90(0x8cc)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0xd16198[_0xaa1a90(0x8cc)]+'</p>':'')+_0xaa1a90(0xc8d);const _0x1ef713=_0x251b6f[_0xaa1a90(0x576)]['qType'],_0x292eda=_0x198de6=>{const _0x6edff9=_0xaa1a90;if(!_0x198de6)return;_0x198de6['classList'][_0x6edff9(0xd0a)]('bg-green-200','transition-all',_0x6edff9(0x754)),setTimeout(()=>{const _0x360656=_0x6edff9;_0x198de6['classList'][_0x360656(0xa54)](_0x360656(0x1e0));},0x9c4);};if(_0x1ef713===_0xaa1a90(0xbed)){const _0x4c1945=Array[_0xaa1a90(0xc85)](_0x251b6f[_0xaa1a90(0x4a1)](_0xaa1a90(0x1af))),_0x2ecf3a=_0x4c1945[_0xaa1a90(0x50a)](_0x2776f9=>_0x2776f9[_0xaa1a90(0xd9d)][_0xaa1a90(0xafd)]()['toLowerCase']()===_0xd16198['suggestedAnswer'][_0xaa1a90(0xafd)]()[_0xaa1a90(0xa43)]());if(_0x2ecf3a!==-0x1){const _0x19d415=_0x251b6f['querySelector'](_0xaa1a90(0x954)+_0x2ecf3a+'\x22]');_0x19d415&&(_0x19d415[_0xaa1a90(0x17e)]=!![],_0x292eda(_0x19d415[_0xaa1a90(0x2e4)](_0xaa1a90(0x5f9))));}}else{if(_0x1ef713==='short_answer'||_0x1ef713===_0xaa1a90(0xe52)){const _0x3c80d9=_0x251b6f[_0xaa1a90(0x86f)](_0xaa1a90(0xba3));_0x3c80d9&&(_0x3c80d9[_0xaa1a90(0xd9d)]=_0xd16198[_0xaa1a90(0x8cc)],_0x292eda(_0x3c80d9));}else{if(_0x1ef713===_0xaa1a90(0xc39)){const _0x45cb50=_0xd16198[_0xaa1a90(0x8cc)][_0xaa1a90(0xafd)]()[_0xaa1a90(0xa43)](),_0x42a257=_0x251b6f[_0xaa1a90(0x86f)]('input[type=\x22radio\x22][value=\x22'+_0x45cb50+'\x22]');_0x42a257&&(_0x42a257[_0xaa1a90(0x17e)]=!![],_0x292eda(_0x42a257['closest']('div')));}}}}else _0xd16198[_0xaa1a90(0x17c)]&&(_0x81f4c7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0x251b6f[_0xaa1a90(0x5c1)](_0xaa1a90(0xa5d),_0x81f4c7);}),showMessage(_0x38aa2b(0x302));}async function handleVerifyAnswers(){const _0x24681a=_0x1d7cc9;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x24681a(0x217));return;}const _0x4cf700=document[_0x24681a(0x773)](_0x24681a(0x940));_0x4cf700['disabled']=!![],_0x4cf700[_0x24681a(0x8ec)]=_0x24681a(0x5ee);try{const _0x165865=currentQuizData['questions'][_0x24681a(0x9d3)]((_0x34ace7,_0x4c459b)=>{const _0x56b4c7=_0x24681a;let _0x10774a='';const _0x91a222=_0x34ace7[_0x56b4c7(0xa8d)]||currentQuizData[_0x56b4c7(0xd83)];switch(_0x91a222){case'multiple_choice':_0x10774a=_0x34ace7[_0x56b4c7(0x50b)][_0x34ace7[_0x56b4c7(0xc68)]];break;case _0x56b4c7(0x33a):_0x10774a=_0x34ace7[_0x56b4c7(0x4b9)];break;case'true_false':_0x10774a=_0x34ace7[_0x56b4c7(0x77e)]['toString']();break;case _0x56b4c7(0xe52):_0x10774a=_0x34ace7['correctResponse'];break;}return{'question':_0x34ace7['stem']||_0x34ace7[_0x56b4c7(0xc27)],'options':_0x34ace7[_0x56b4c7(0x50b)]||null,'proposedAnswer':_0x10774a};}),_0x509fcf=_0x24681a(0xd88)+JSON['stringify'](_0x165865)+_0x24681a(0xb5a),_0x250be0={'type':_0x24681a(0x37c),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x24681a(0x1b3)},'isCorrect':{'type':_0x24681a(0xae5)},'justification':{'type':_0x24681a(0x3a5)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x24681a(0x550),_0x24681a(0x17c),_0x24681a(0xb55)]}},_0x23f264=await callAnalysisApi(_0x509fcf,{'type':_0x24681a(0x181),'properties':{'result':_0x250be0},'required':['result']});displayVerificationResults(_0x23f264['result']);}catch(_0x308c4f){console[_0x24681a(0x7bc)](_0x24681a(0x81c),_0x308c4f),showMessage(_0x24681a(0x4ab));}finally{_0x4cf700[_0x24681a(0x67a)]=![],_0x4cf700[_0x24681a(0x8ec)]=_0x24681a(0xba7);}}function displayVerificationResults(_0x5c166a){const _0x587bf7=_0x1d7cc9;_0x5c166a['forEach'](_0x1c8390=>{const _0x49401a=_0x5842,_0x359b8e=document[_0x49401a(0x86f)](_0x49401a(0xe12)+_0x1c8390['questionIndex']+'\x22]');if(_0x359b8e){const _0x33a755=_0x359b8e[_0x49401a(0x86f)](_0x49401a(0x631));if(_0x33a755)_0x33a755[_0x49401a(0xa54)]();let _0x29ca9a='';_0x1c8390['isCorrect']?_0x29ca9a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x29ca9a=_0x49401a(0x24b)+_0x1c8390[_0x49401a(0xb55)]+_0x49401a(0xaa4)+(_0x1c8390[_0x49401a(0x8cc)]?_0x49401a(0x6d9)+_0x1c8390['suggestedAnswer']+'</p>':'')+_0x49401a(0x543),_0x359b8e[_0x49401a(0x5c1)]('beforeend',_0x29ca9a);}}),showMessage(_0x587bf7(0x302));}function compareNumericalAnswers(_0x168184,_0x5ac2cd){const _0xb9b3ad=_0x1d7cc9,_0x20c000=String(_0x168184)[_0xb9b3ad(0xc21)](',','.')[_0xb9b3ad(0xc21)](/[^\d.-]/g,'')[_0xb9b3ad(0xafd)](),_0x1a17f7=String(_0x5ac2cd)[_0xb9b3ad(0xc21)](',','.')[_0xb9b3ad(0xc21)](/[^\d.-]/g,'')[_0xb9b3ad(0xafd)]();if(_0x20c000===''||_0x1a17f7==='')return![];const _0x1d47df=parseFloat(_0x20c000),_0x59a853=parseFloat(_0x1a17f7);if(isNaN(_0x1d47df)||isNaN(_0x59a853))return![];return Math['abs'](_0x1d47df-_0x59a853)<0.001;}function isPotentiallyNumeric(_0x5f565d){const _0x58bc23=_0x1d7cc9;if(typeof _0x5f565d!=='string'&&typeof _0x5f565d!==_0x58bc23(0x157))return![];const _0x41943e=String(_0x5f565d)[_0x58bc23(0xc21)](',','.')[_0x58bc23(0xafd)]();return _0x41943e!==''&&!isNaN(parseFloat(_0x41943e))&&isFinite(_0x41943e);}async function gradeShortAnswer(_0x9de1a6,_0x542a01){const _0x2c6849=_0x1d7cc9,_0x236c13=_0x542a01['idealAnswer'],_0x32f554=String(_0x9de1a6)[_0x2c6849(0xc21)](/\$/g,'')['trim'](),_0x24f555=String(_0x236c13)[_0x2c6849(0xc21)](/\$/g,'')[_0x2c6849(0xafd)]();if(_0x32f554['toLowerCase']()===_0x24f555[_0x2c6849(0xa43)]())return!![];if(isPotentiallyNumeric(_0x32f554)&&isPotentiallyNumeric(_0x24f555)){if(compareNumericalAnswers(_0x32f554,_0x24f555))return!![];}return console[_0x2c6849(0xe59)](_0x2c6849(0x7c1)),![];}async function revealAnswerForAdmin(_0x4f88a0,_0x64af6b){const _0x4ae8c0=_0x1d7cc9,_0x5a3572=doc(db,_0x4ae8c0(0x6de)+appId+_0x4ae8c0(0x352),currentLiveGameId);await updateDoc(_0x5a3572,{'questionStatus':_0x4ae8c0(0x91c)});}function showTop5LeaderboardView(_0x4fe821){const _0x312a1d=_0x1d7cc9,_0x36a560=Object[_0x312a1d(0x230)](_0x4fe821[_0x312a1d(0x10d)]||{})[_0x312a1d(0x485)](_0x2d80ce=>_0x2d80ce[_0x312a1d(0xfc)]==='active');_0x36a560[_0x312a1d(0xc1c)]((_0x5c27c7,_0xe8b0b2)=>_0xe8b0b2['score']-_0x5c27c7['score']);const _0x52b812=_0x36a560[_0x312a1d(0xd66)](0x0,0x5),_0x25f6b1=_0x312a1d(0x5c5)+_0x52b812['map']((_0x2adfe1,_0x2bd639)=>_0x312a1d(0xa2e)+(_0x2bd639+0x1)+'.\x20'+(_0x2adfe1[_0x312a1d(0xb30)]||Object[_0x312a1d(0x203)](_0x4fe821[_0x312a1d(0x10d)])[_0x312a1d(0x15b)](_0x1421de=>_0x4fe821['players'][_0x1421de]===_0x2adfe1))+_0x312a1d(0x333)+_0x2adfe1[_0x312a1d(0x5f8)]+_0x312a1d(0x1df))['join']('')+_0x312a1d(0xc83)+(_0x4fe821['currentQuestionIndex']+0x1===currentQuizData[_0x312a1d(0xcf9)][_0x312a1d(0x5df)]?_0x312a1d(0x7ab):_0x312a1d(0x326))+_0x312a1d(0x4b3);liveGameView[_0x312a1d(0x8ec)]=_0x25f6b1,document[_0x312a1d(0x773)]('goto-next-question-btn')[_0x312a1d(0x6f7)](_0x312a1d(0x2af),async()=>{const _0x421c3d=_0x312a1d,_0x4cfc9f=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x4eb574=_0x4fe821[_0x421c3d(0x393)]+0x1;if(_0x4eb574<currentQuizData[_0x421c3d(0xcf9)][_0x421c3d(0x5df)]){const _0x56170d={'currentQuestionIndex':_0x4eb574,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x421c3d(0x9cf)};Object[_0x421c3d(0x203)](_0x4fe821['players'])[_0x421c3d(0xa25)](_0x34dfe6=>{const _0x41cbdd=_0x421c3d;_0x56170d[_0x41cbdd(0xd7a)+_0x34dfe6+_0x41cbdd(0x504)]=![];}),await updateDoc(_0x4cfc9f,_0x56170d);}else await updateDoc(_0x4cfc9f,{'status':_0x421c3d(0x66f)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x3cbca2=>{const _0x519593=_0x5842;if(_0x3cbca2){userId=_0x3cbca2[_0x519593(0xe21)],userIdDisplay[_0x519593(0xcd6)]=userId;const _0x35c497=await loadUserPreferences();_0x35c497[_0x519593(0x3c3)]&&(document['getElementById'](_0x519593(0xc0d))[_0x519593(0xd9d)]=_0x35c497[_0x519593(0x3c3)]);globalDashboardSettings['projectView']=_0x35c497[_0x519593(0xc4f)]||_0x519593(0x1e3);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0xb034c0,_0x3923a1){const _0x2958fd=_0x1d7cc9;if(!userId)return;try{const _0x2a1ab1=doc(db,_0x2958fd(0x6de)+appId+_0x2958fd(0x999)+userId+'/preferences/main'),_0x261345={};_0x261345[_0xb034c0]=_0x3923a1,await setDoc(_0x2a1ab1,_0x261345,{'merge':!![]});}catch(_0x7ffcc0){console[_0x2958fd(0x7bc)](_0x2958fd(0xdae),_0x7ffcc0);}}async function loadUserPreferences(){const _0x5854e0=_0x1d7cc9;if(!userId)return{};try{const _0x2a5448=doc(db,_0x5854e0(0x6de)+appId+_0x5854e0(0x999)+userId+'/preferences/main'),_0x172a8b=await getDoc(_0x2a5448);if(_0x172a8b[_0x5854e0(0xc63)]())return _0x172a8b[_0x5854e0(0xafb)]();return{};}catch(_0x283f6c){return console[_0x5854e0(0x7bc)]('Error\x20loading\x20user\x20preferences:',_0x283f6c),{};}}function parseIndentedBlueprint(_0x572a74){const _0x6e4be2=_0x1d7cc9,_0x2fc3c8=_0x572a74['split']('\x0a')[_0x6e4be2(0x485)](_0x553152=>_0x553152[_0x6e4be2(0xafd)]()!==''),_0x12ea37=[];let _0x4a878b=null,_0x1f61bd=null;return _0x2fc3c8[_0x6e4be2(0xa25)](_0x3d27ac=>{const _0xbcb7c3=_0x6e4be2,_0x4723d8=_0x3d27ac['match'](/^\s*/)[0x0][_0xbcb7c3(0x5df)],_0x1515f8=_0x3d27ac[_0xbcb7c3(0xafd)]();if(_0x4723d8===0x0)_0x4a878b={'sara':_0x1515f8,'mainTopics':[]},_0x12ea37[_0xbcb7c3(0x65b)](_0x4a878b),_0x1f61bd=null;else{if(_0x4723d8>0x0&&_0x4723d8<0x8&&_0x4a878b)_0x1f61bd={'topicName':_0x1515f8,'subTopics':[]},_0x4a878b[_0xbcb7c3(0x586)]['push'](_0x1f61bd);else _0x4723d8>=0x8&&_0x1f61bd&&_0x1f61bd['subTopics']['push'](_0x1515f8);}}),{'curriculum':_0x12ea37};}async function handleManualBlueprintSave(){const _0x4ea08f=_0x1d7cc9,_0x342ff9=document[_0x4ea08f(0x773)](_0x4ea08f(0xca2))[_0x4ea08f(0xd9d)][_0x4ea08f(0xafd)](),_0x101d0b=document[_0x4ea08f(0x773)](_0x4ea08f(0x34f))[_0x4ea08f(0xd9d)][_0x4ea08f(0xafd)](),_0x93199c=document[_0x4ea08f(0x773)](_0x4ea08f(0xac9))[_0x4ea08f(0xd9d)];if(!_0x342ff9||!_0x101d0b||!_0x93199c){showMessage(_0x4ea08f(0xf8));return;}const _0x3fd5a6=parseIndentedBlueprint(_0x93199c);if(!_0x3fd5a6[_0x4ea08f(0xd94)]||_0x3fd5a6[_0x4ea08f(0xd94)][_0x4ea08f(0x5df)]===0x0){showMessage(_0x4ea08f(0x16d));return;}const _0x1b78c8={};let _0x27fced=0x0;_0x3fd5a6['curriculum'][_0x4ea08f(0xa25)](_0x2d5b4e=>{_0x2d5b4e['mainTopics']['forEach'](_0x6e359a=>{const _0x5c7d72=_0x5842;_0x6e359a[_0x5c7d72(0x7d5)][_0x5c7d72(0xa25)](_0x26fc88=>{const _0x58b22e=_0x5c7d72,_0x4f3293=_0x58b22e(0xb47)+Date['now']()+Math['random']()[_0x58b22e(0x51a)](0x24)['substr'](0x2,0x9);_0x1b78c8[_0x4f3293]={'sara':_0x2d5b4e[_0x58b22e(0x4c9)],'mainTopic':_0x6e359a[_0x58b22e(0x3c7)],'subTopic':_0x26fc88,'status':_0x58b22e(0xe00),'lessonContent':null,'order':_0x27fced++};});});});try{const _0x5c633b=collection(db,_0x4ea08f(0x6de)+appId+_0x4ea08f(0x31d));await addDoc(_0x5c633b,{'projectName':_0x342ff9,'gradeLevel':_0x101d0b,'topics':_0x1b78c8,'createdAt':serverTimestamp()}),showMessage(_0x4ea08f(0x517)+_0x342ff9+'\x22\x20สำเร็จ!'),document[_0x4ea08f(0x773)](_0x4ea08f(0x3be))['classList']['add'](_0x4ea08f(0x806));}catch(_0x5dab87){console['error'](_0x4ea08f(0x469),_0x5dab87),showMessage(_0x4ea08f(0x106));}}function handleClearAllLinksForTopic(_0x2161ef){const _0x570320=_0x1d7cc9;showConfirmation(_0x570320(0x603),async()=>{const _0x3b23a2=_0x570320;try{const _0xa6386f=doc(db,'artifacts/'+appId+_0x3b23a2(0x31d),currentBlueprintProjectId);await updateDoc(_0xa6386f,{[_0x3b23a2(0x8c4)+_0x2161ef+'.linkedQuizIds']:[]}),showMessage('ล้างการเชื่อมโยงทั้งหมดสำเร็จ'),openTopicQuizBank(_0x2161ef),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x7358ce){console[_0x3b23a2(0x7bc)](_0x3b23a2(0xa6c),_0x7358ce),showMessage(_0x3b23a2(0x7a7));}});}function showPodiumView(_0x22085c,_0xf8c648=_0x1d7cc9(0xb6f),_0x4ae7cc=null){const _0x4e1e41=_0x1d7cc9,_0xdffa06=_0x4ae7cc?.['isBlackMarketEnabled']===!![],_0x3b37e2=Object[_0x4e1e41(0x565)](_0x22085c)[_0x4e1e41(0x9d3)](([_0x5dc415,_0x5f3be9])=>({'name':_0x5dc415,'realScore':_0x5f3be9[_0x4e1e41(0x930)]||_0x5f3be9[_0x4e1e41(0x5f8)]||0x0,'totalPoints':_0x5f3be9['totalPoints']||0x0,'badges':_0x5f3be9[_0x4e1e41(0x340)]||[],'hasPerfectScoreBonus':_0x5f3be9[_0x4e1e41(0x683)]||![]})),_0x408664=Math[_0x4e1e41(0x98d)](..._0x3b37e2[_0x4e1e41(0x9d3)](_0x46d7c0=>_0x46d7c0[_0x4e1e41(0x7f7)]),-Infinity),_0x5f0742=Math['max'](..._0x3b37e2[_0x4e1e41(0x9d3)](_0x1b0d8f=>_0x1b0d8f[_0x4e1e41(0x930)]),-Infinity);_0x3b37e2[_0x4e1e41(0xc1c)]((_0x3a9ed8,_0x39bd62)=>{const _0x291341=_0x4e1e41;if(_0xdffa06){const _0xb74635=_0x39bd62[_0x291341(0x7f7)]-_0x3a9ed8[_0x291341(0x7f7)];if(_0xb74635!==0x0)return _0xb74635;const _0x23f9f5=_0x39bd62[_0x291341(0x930)]-_0x3a9ed8[_0x291341(0x930)];if(_0x23f9f5!==0x0)return _0x23f9f5;return _0x3a9ed8['name'][_0x291341(0xbbb)](_0x39bd62[_0x291341(0xb30)],'th');}else{const _0x2553a2=_0x39bd62['totalPoints']-_0x3a9ed8[_0x291341(0x7f7)];if(_0x2553a2!==0x0)return _0x2553a2;return _0x39bd62[_0x291341(0x930)]-_0x3a9ed8['realScore'];}});const _0x57c96e=_0x21bb01=>{const _0x4bf933=_0x4e1e41;if(!_0x21bb01||_0x21bb01[_0x4bf933(0x5df)]===0x0)return'';const _0x34fb04={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x4bf933(0xe2c)+_0x21bb01[_0x4bf933(0x9d3)](_0x207e7e=>_0x34fb04[_0x207e7e]||'')[_0x4bf933(0x370)]('')+_0x4bf933(0x1b1);},_0x3e214d=_0x4c0881=>{const _0x5b88a5=_0x4e1e41;let _0x24ea5e='';if(_0xdffa06){if(_0x4c0881[_0x5b88a5(0x7f7)]===_0x408664&&_0x408664>0x0)_0x24ea5e+=_0x5b88a5(0xb08);if(_0x4c0881[_0x5b88a5(0x930)]===_0x5f0742&&_0x5f0742>0x0)_0x24ea5e+='<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20';}else{if(_0x4c0881[_0x5b88a5(0x683)])_0x24ea5e=_0x5b88a5(0xe3f);}if(_0xdffa06){const _0x396d76=_0x4c0881[_0x5b88a5(0x7f7)]>=0x0?'(+'+_0x4c0881['totalPoints'][_0x5b88a5(0x990)]()+')':'('+_0x4c0881[_0x5b88a5(0x7f7)][_0x5b88a5(0x990)]()+')';return _0x5b88a5(0x5a9)+_0x4c0881['realScore']+'\x20คะแนน\x20'+_0x396d76+'\x20'+_0x24ea5e+_0x5b88a5(0xd28);}else return _0x5b88a5(0x5a9)+_0x4c0881[_0x5b88a5(0x7f7)][_0x5b88a5(0x990)]()+'\x20คะแนน\x20'+_0x24ea5e+_0x5b88a5(0xd28);},_0x3e8a32=_0x3b37e2[_0x4e1e41(0xd66)](0x3),_0x3dc8f0=_0x3e8a32['length']>0x0?_0x4e1e41(0xd69)+_0x3e8a32[_0x4e1e41(0x9d3)]((_0x40df87,_0x255a57)=>{const _0x11b980=_0x4e1e41;return _0x11b980(0x794)+(_0x255a57+0x4)+_0x11b980(0x5d8)+_0x40df87[_0x11b980(0xb30)]+_0x11b980(0x8eb)+_0x3e214d(_0x40df87)+_0x11b980(0xe03);})[_0x4e1e41(0x370)]('')+_0x4e1e41(0x32d):'',_0x47ad39=_0x4e1e41(0x853)+(_0x3b37e2[0x1]?_0x4e1e41(0x51b)+_0x3b37e2[0x1][_0x4e1e41(0xb30)]+_0x4e1e41(0xd28)+_0x57c96e(_0x3b37e2[0x1][_0x4e1e41(0x340)])+_0x3e214d(_0x3b37e2[0x1])+_0x4e1e41(0xde9):'<div\x20class=\x22flex-1\x22></div>')+_0x4e1e41(0x5de)+(_0x3b37e2[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x3b37e2[0x0][_0x4e1e41(0xb30)]+_0x4e1e41(0xd28)+_0x57c96e(_0x3b37e2[0x0][_0x4e1e41(0x340)])+_0x3e214d(_0x3b37e2[0x0])+_0x4e1e41(0x6b2):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3b37e2[0x2]?_0x4e1e41(0x55a)+_0x3b37e2[0x2]['name']+_0x4e1e41(0xd28)+_0x57c96e(_0x3b37e2[0x2][_0x4e1e41(0x340)])+_0x3e214d(_0x3b37e2[0x2])+_0x4e1e41(0x90a):_0x4e1e41(0xbc3))+_0x4e1e41(0x780)+_0x3dc8f0+_0x4e1e41(0x293)+(currentMode==='admin'?_0x4e1e41(0x3e0):'<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>')+_0x4e1e41(0xac7);liveGameView[_0x4e1e41(0x8ec)]=_0x47ad39,currentMode==='admin'?document[_0x4e1e41(0x773)](_0x4e1e41(0x7fb))['addEventListener'](_0x4e1e41(0x2af),async()=>{const _0x53a595=_0x4e1e41;let _0x18a9fe;_0xf8c648===_0x53a595(0x479)?_0x18a9fe=doc(db,'artifacts/'+appId+_0x53a595(0x782),currentLiveGameId):_0x18a9fe=doc(db,_0x53a595(0x6de)+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x18a9fe);}):document[_0x4e1e41(0x773)](_0x4e1e41(0xd00))?.[_0x4e1e41(0x6f7)](_0x4e1e41(0x2af),()=>{const _0x2d4c33=_0x4e1e41;showView(_0x2d4c33(0xcd1));});}function renderSyncSummaryView(_0x1b03f5,_0x3dfe68,_0x19716f){const _0xa9242=_0x1d7cc9,_0x3bf184=_0x1b03f5[_0xa9242(0x6fa)]||_0xa9242(0x486),_0x5e12bd=(_0x3bf184==='anonymous'||_0x3bf184===_0xa9242(0x263))&&_0x1b03f5['isAnonymousRevealed']===![],_0x3af265=_0x3bf184==='reveal_at_end'||_0x3bf184===_0xa9242(0x263),_0x38f7cf=_0x1b03f5[_0xa9242(0x142)][_0xa9242(0xcf9)],_0x534bd1=_0x3dfe68[_0xa9242(0xa8d)]||_0x1b03f5[_0xa9242(0x142)]['quizType'],_0x25fc13=_0x534bd1===_0xa9242(0x33a)||_0x534bd1==='fill_in_no_choices';let _0x259d9e='';if(_0x25fc13){let _0x10b805=0x0,_0x986200=0x0;const _0x4966ac=[],_0x12548e=[];Object[_0xa9242(0x565)](_0x1b03f5[_0xa9242(0x10d)]||{})[_0xa9242(0xa25)](([_0x1efb6c,_0x59b389])=>{const _0x910418=_0xa9242,_0x428fde=(_0x59b389['answers']||[])[_0x910418(0x15b)](_0x264687=>_0x264687[_0x910418(0x550)]===_0x1b03f5[_0x910418(0x393)]);if(_0x59b389[_0x910418(0xfc)]!==_0x910418(0x36c)&&_0x428fde){const _0x4b999d=_0x428fde[_0x910418(0x5c3)],_0xeeaa50=_0x5e12bd?_0x1b03f5[_0x910418(0x319)][_0x1efb6c]||'???':_0x1efb6c;_0x428fde[_0x910418(0x17c)]?(_0x10b805++,_0x4966ac['push'](_0xeeaa50)):(_0x986200++,_0x12548e[_0x910418(0x65b)](_0x910418(0xc42)+_0xeeaa50+_0x910418(0xba2)+(_0x4b999d||'(ไม่ตอบ)')));}}),_0x259d9e=_0xa9242(0x9b9)+_0x10b805+_0xa9242(0x373)+(_0x4966ac[_0xa9242(0x5df)]>0x0?_0x4966ac[_0xa9242(0x370)](',\x20'):'-')+_0xa9242(0x21c)+_0x986200+_0xa9242(0x905)+(_0x12548e['length']>0x0?_0x12548e[_0xa9242(0x370)](_0xa9242(0x9c2)):'-')+_0xa9242(0x87d);}else{let _0xeb7765=[];_0x534bd1===_0xa9242(0xc39)?_0xeb7765=[_0xa9242(0x1bc),'ไม่ใช่\x20/\x20ผิด']:_0xeb7765=_0x3dfe68[_0xa9242(0x50b)]||[];const _0x5dbe06=new Array(_0xeb7765[_0xa9242(0x5df)])[_0xa9242(0xc47)](0x0),_0x13a32c={};_0xeb7765[_0xa9242(0xa25)]((_0x263462,_0x3bef60)=>{_0x13a32c[_0x3bef60]=[];}),Object[_0xa9242(0x565)](_0x1b03f5[_0xa9242(0x10d)]||{})[_0xa9242(0xa25)](([_0x5ded5e,_0x39e2cb])=>{const _0x5a2e98=_0xa9242,_0x1babd9=(_0x39e2cb['answers']||[])[_0x5a2e98(0x15b)](_0x8fee4d=>_0x8fee4d['questionIndex']===_0x1b03f5[_0x5a2e98(0x393)]);if(_0x39e2cb[_0x5a2e98(0xfc)]!==_0x5a2e98(0x36c)&&_0x1babd9&&_0x1babd9[_0x5a2e98(0x29b)]!==null){const _0x5758e2=parseInt(_0x1babd9['answer']);if(!isNaN(_0x5758e2)&&_0x13a32c[_0x5758e2]!==undefined){const _0x41215c=_0x5e12bd?_0x1b03f5['playerNicknames'][_0x5ded5e]||'???':_0x5ded5e;_0x13a32c[_0x5758e2][_0x5a2e98(0x65b)](_0x41215c),_0x5dbe06[_0x5758e2]++;}}}),_0x259d9e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5dbe06['map']((_0x4011c1,_0x1fc586)=>{const _0x391b3f=_0xa9242,_0x27f162=_0x13a32c[_0x1fc586][_0x391b3f(0x5df)]>0x0?_0x13a32c[_0x1fc586][_0x391b3f(0x370)](',\x20'):_0x391b3f(0xae1),_0x32d4d2=_0x391b3f(0x9e6);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x4011c1+_0x391b3f(0xe4a)+_0x32d4d2+_0x391b3f(0xe61)+_0x1fc586+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0xeb7765[_0x1fc586]+_0x391b3f(0x8be)+_0x1fc586+_0x391b3f(0xa16)+_0x27f162+_0x391b3f(0x206);})[_0xa9242(0x370)]('')+_0xa9242(0x8f8);}let _0x3db655='';const _0x47cf6f=_0x1b03f5[_0xa9242(0x393)]>=_0x38f7cf[_0xa9242(0x5df)]-0x1;_0x19716f?_0x3af265?_0x47cf6f?_0x3db655=_0xa9242(0xa7d):_0x3db655=_0xa9242(0x7d3):_0x3db655=_0xa9242(0xc80):_0x3af265?_0x3db655='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>':_0x3db655=_0xa9242(0x680);const _0x5817e2=_0x19716f?'<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>'+_0x1b03f5[_0xa9242(0xd22)]+_0xa9242(0x4cc):'',_0x4389dc=_0xa9242(0xb73)+_0x5817e2+_0xa9242(0xa69)+(_0x3dfe68[_0xa9242(0xc27)]||_0x3dfe68[_0xa9242(0x43c)]||'')+_0xa9242(0x705)+_0x259d9e+_0xa9242(0xb22)+_0x3db655+_0xa9242(0xb61);liveGameView[_0xa9242(0x8ec)]=_0x4389dc;if(window['MathJax'])MathJax[_0xa9242(0x7c9)]();if(_0x19716f){const _0x2eff23=doc(db,_0xa9242(0x6de)+appId+_0xa9242(0x782),currentLiveGameId);document['getElementById'](_0xa9242(0x7b5))?.[_0xa9242(0x6f7)](_0xa9242(0x2af),async()=>{const _0x354393=_0xa9242,_0x7f0868=Object[_0x354393(0x230)](_0x1b03f5[_0x354393(0x10d)]||{})['map'](_0x13e6a8=>({'name':_0x13e6a8[_0x354393(0xb30)],'score':_0x13e6a8[_0x354393(0x5f8)]||0x0,'totalPoints':_0x13e6a8['totalPoints']||0x0,'pointsLastRound':_0x13e6a8['pointsLastRound']||0x0,'answers':_0x13e6a8['answers']||[],'correctStreak':_0x13e6a8[_0x354393(0x695)]||0x0}));await updateDoc(_0x2eff23,{'status':_0x354393(0x2ae),'publicLeaderboard':_0x7f0868});}),document[_0xa9242(0x773)](_0xa9242(0x6af))?.['addEventListener'](_0xa9242(0x2af),()=>{const _0x290e8d=_0xa9242;openScratchpad(_0x3dfe68,_0x3dfe68[_0x290e8d(0x50b)]||[]);}),document[_0xa9242(0x773)](_0xa9242(0xc9a))?.[_0xa9242(0x6f7)](_0xa9242(0x2af),async()=>{const _0xb6f9ed=_0xa9242,_0x2f23e7=_0x1b03f5['currentQuestionIndex']+0x1;await updateDoc(_0x2eff23,{'status':_0xb6f9ed(0xa9f),'currentQuestionIndex':_0x2f23e7,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0xa9242(0x773)](_0xa9242(0xd21))?.['addEventListener'](_0xa9242(0x2af),async()=>{const _0x300f3e=_0xa9242,_0x2d17f5=Object[_0x300f3e(0x230)](_0x1b03f5[_0x300f3e(0x10d)]||{})[_0x300f3e(0x9d3)](_0x42c56c=>({'name':_0x42c56c[_0x300f3e(0xb30)],'score':_0x42c56c[_0x300f3e(0x5f8)]||0x0,'totalPoints':_0x42c56c[_0x300f3e(0x7f7)]||0x0,'pointsLastRound':_0x42c56c[_0x300f3e(0xb02)]||0x0,'answers':_0x42c56c[_0x300f3e(0x382)]||[],'correctStreak':_0x42c56c['correctStreak']||0x0}));await updateDoc(_0x2eff23,{'status':_0x300f3e(0x2ae),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x2d17f5});});}}function renderAnonymousStudentResultsView(_0x22f5cb){const _0x534c74=_0x1d7cc9,_0x1772a2=_0x22f5cb[_0x534c74(0x393)]>=_0x22f5cb[_0x534c74(0x142)][_0x534c74(0xcf9)]['length']-0x1;let _0x5470de='';if(_0x22f5cb[_0x534c74(0x8cf)]===!![]){const _0x5c1f33=_0x22f5cb[_0x534c74(0x10d)][localTeamPlayers[0x0]],_0xaad404=_0x5c1f33['name'],_0x11714b=_0x5c1f33[_0x534c74(0x5f8)];_0x5470de=_0x534c74(0xb11)+_0xaad404+_0x534c74(0x6bd)+_0x11714b+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x5470de='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1772a2?'รอผู้ควบคุมแสดงผลสรุปสุดท้าย...':_0x534c74(0xd5e))+_0x534c74(0x40f);const _0x81e754=_0x534c74(0x127)+_0x5470de+_0x534c74(0xb20);liveGameView['innerHTML']=_0x81e754;}async function handleShowStudentRankings(){const _0x383d32=_0x1d7cc9,_0x19e512=document[_0x383d32(0x86f)]('#student-quiz-leaderboard-content\x20thead');_0x19e512&&(_0x19e512[_0x383d32(0x8ec)]=_0x383d32(0xbeb));const _0x21af34=document[_0x383d32(0x86f)](_0x383d32(0xb82));_0x21af34&&(_0x21af34[_0x383d32(0x8ec)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x3e5b9b=document[_0x383d32(0x773)](_0x383d32(0x4cb));_0x3e5b9b[_0x383d32(0x985)][_0x383d32(0xa54)](_0x383d32(0x806)),document[_0x383d32(0x773)](_0x383d32(0x278))[_0x383d32(0xb4f)]=()=>_0x3e5b9b[_0x383d32(0x985)][_0x383d32(0xd0a)](_0x383d32(0x806));const _0x3ae14e=document['getElementById']('student-quiz-leaderboard-tab'),_0x3a2cfb=document[_0x383d32(0x773)]('student-project-leaderboard-tab'),_0x49eae4=document[_0x383d32(0x773)](_0x383d32(0xda)),_0x184a46=document[_0x383d32(0x773)](_0x383d32(0xa59));_0x3ae14e['onclick']=()=>{const _0x4d6b7f=_0x383d32;_0x3ae14e[_0x4d6b7f(0x985)][_0x4d6b7f(0xd0a)](_0x4d6b7f(0x4c8)),_0x3a2cfb['classList']['remove'](_0x4d6b7f(0x4c8)),_0x49eae4[_0x4d6b7f(0x985)][_0x4d6b7f(0xa54)](_0x4d6b7f(0x806)),_0x184a46[_0x4d6b7f(0x985)][_0x4d6b7f(0xd0a)](_0x4d6b7f(0x806));},_0x3a2cfb[_0x383d32(0xb4f)]=()=>{const _0xf75b5f=_0x383d32;_0x3a2cfb['classList'][_0xf75b5f(0xd0a)]('active'),_0x3ae14e[_0xf75b5f(0x985)]['remove'](_0xf75b5f(0x4c8)),_0x184a46[_0xf75b5f(0x985)][_0xf75b5f(0xa54)](_0xf75b5f(0x806)),_0x49eae4[_0xf75b5f(0x985)][_0xf75b5f(0xd0a)]('hidden');};try{const _0x1d56e3=collection(db,'artifacts/'+appId+_0x383d32(0x6b1)+currentQuizData['id']+_0x383d32(0x1cf)),_0x19d7be=await getDocs(_0x1d56e3),_0x1855c8=_0x19d7be[_0x383d32(0x79c)][_0x383d32(0x9d3)](_0x505f93=>_0x505f93[_0x383d32(0xafb)]());renderQuizLeaderboard(_0x1855c8,currentQuizData,'student-quiz-leaderboard-table-body');const _0x1796f6=collection(db,_0x383d32(0x6de)+appId+_0x383d32(0x846)+currentQuizData[_0x383d32(0xa1f)]+_0x383d32(0x22e)),_0x58d203=await getDocs(_0x1796f6),_0x306ded=_0x58d203[_0x383d32(0x79c)][_0x383d32(0x9d3)](_0x4abe60=>_0x4abe60[_0x383d32(0xafb)]());renderLeaderboard(_0x306ded,_0x383d32(0x378));}catch(_0xfa4d01){console['error'](_0x383d32(0x6fe),_0xfa4d01),showMessage(_0x383d32(0x287));}}async function handleSaveToBank(_0x84c602){const _0x5b3e3f=_0x1d7cc9,_0x656b4a=_0x84c602['currentTarget'],_0x58bf3e=_0x656b4a[_0x5b3e3f(0x576)]['index'],_0x320345=currentQuizData[_0x5b3e3f(0xcf9)][_0x58bf3e];if(!userId){showMessage(_0x5b3e3f(0x4ca));return;}try{const _0x146b04={..._0x320345,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x5c6831=collection(db,'artifacts/'+appId+_0x5b3e3f(0x999)+userId+_0x5b3e3f(0x828));await addDoc(_0x5c6831,_0x146b04),showMessage(_0x5b3e3f(0x8a2)),_0x656b4a[_0x5b3e3f(0x985)][_0x5b3e3f(0xa54)]('text-purple-600'),_0x656b4a[_0x5b3e3f(0x985)][_0x5b3e3f(0xd0a)](_0x5b3e3f(0xd06)),_0x656b4a[_0x5b3e3f(0x67a)]=!![];}catch(_0x5cc25e){console[_0x5b3e3f(0x7bc)](_0x5b3e3f(0xb17),_0x5cc25e),showMessage(_0x5b3e3f(0xcf2));}}async function selectProjectAndGenerateBlueprintQuiz(_0x5a14fa,_0x326993=null,_0x4fd2f3=null,_0x560080=![]){const _0xd09556=_0x1d7cc9;cameFromBlueprint=!![];const _0x36aeea=document[_0xd09556(0x773)]('bp-reference-file-url')?.[_0xd09556(0xd9d)][_0xd09556(0xafd)]();let _0x4233c7=null;if(_0x36aeea){showMessage(_0xd09556(0xb5b));try{const _0x1bb3d9=await fetchFileFromUrl(_0x36aeea,_0xd09556(0x2a3)),_0x48fe3f=await new Promise((_0x4596a0,_0x1609d9)=>{const _0x3a9553=_0xd09556,_0x3c1cf4=new FileReader();_0x3c1cf4[_0x3a9553(0x15f)](_0x1bb3d9),_0x3c1cf4['onload']=()=>_0x4596a0(_0x3c1cf4[_0x3a9553(0xa53)][_0x3a9553(0xa50)](',')[0x1]),_0x3c1cf4[_0x3a9553(0xdaa)]=_0x1609d9;});_0x4233c7=[{'inlineData':{'mimeType':_0x1bb3d9[_0xd09556(0x900)],'data':_0x48fe3f}}],messageModal[_0xd09556(0x985)][_0xd09556(0xd0a)](_0xd09556(0x806));}catch(_0x23d7e3){console[_0xd09556(0x7bc)](_0xd09556(0x681),_0x23d7e3),showMessage(_0xd09556(0x7f3));}}const _0x436b58=document['getElementById'](_0xd09556(0x912)),_0x573040=document['getElementById'](_0xd09556(0x904)),_0x421711=_0x436b58[_0xd09556(0x86f)]('h3'),_0xffa9bd=document[_0xd09556(0x773)]('confirm-move-quiz-btn'),_0x3474b4=document[_0xd09556(0x773)](_0xd09556(0x7b1));_0x421711[_0xd09556(0xcd6)]=_0xd09556(0x911),_0xffa9bd[_0xd09556(0xcd6)]=_0xd09556(0x685),_0xffa9bd[_0xd09556(0x67a)]=!![];allProjects['length']===0x0?_0x573040[_0xd09556(0x8ec)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x573040[_0xd09556(0x8ec)]=_0xd09556(0x981)+allProjects[_0xd09556(0x9d3)](_0x359120=>_0xd09556(0xd4d)+_0x359120['id']+'\x22>'+_0x359120['projectName']+_0xd09556(0x6da))[_0xd09556(0x370)](''),_0xffa9bd[_0xd09556(0x67a)]=![]);_0x436b58['classList'][_0xd09556(0xa54)]('hidden');const _0x2748d4=async()=>{const _0x87104c=_0xd09556,_0x139308=_0x573040[_0x87104c(0xd9d)];if(!_0x139308){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x436b58[_0x87104c(0x985)][_0x87104c(0xd0a)](_0x87104c(0x806)),document[_0x87104c(0x773)](_0x87104c(0xb45))[_0x87104c(0x985)][_0x87104c(0xd0a)](_0x87104c(0x806)),await loadProjectDetails(_0x139308),showView(_0x87104c(0x90c)),handleGenerateQuizFromBlueprintTopic(_0x5a14fa,_0x326993,_0x139308,_0x4fd2f3,_0x560080,_0x4233c7),_0x100a5d();},_0x100a5d=()=>{const _0x49d10a=_0xd09556;_0x421711[_0x49d10a(0xcd6)]=_0x49d10a(0xc34),_0xffa9bd[_0x49d10a(0xcd6)]=_0x49d10a(0x3fa),_0xffa9bd[_0x49d10a(0x755)](_0x49d10a(0x2af),_0x2748d4),_0x3474b4[_0x49d10a(0x755)](_0x49d10a(0x2af),_0x100a5d),_0xffa9bd['addEventListener'](_0x49d10a(0x2af),confirmMoveQuiz);};_0xffa9bd[_0xd09556(0x755)](_0xd09556(0x2af),confirmMoveQuiz),_0xffa9bd[_0xd09556(0x6f7)]('click',_0x2748d4),_0x3474b4['addEventListener'](_0xd09556(0x2af),_0x100a5d);}function listenForStarredQuizzes(){const _0x44f61d=_0x1d7cc9;if(!userId)return;const _0x5007f0=collection(db,'artifacts/'+appId+_0x44f61d(0xde0)),_0x2f53c6=query(_0x5007f0,where(_0x44f61d(0x5cd),'==',!![]));onSnapshot(_0x2f53c6,_0x5aa6ab=>{const _0x349fce=_0x44f61d;starredQuizzes=_0x5aa6ab[_0x349fce(0x79c)][_0x349fce(0x9d3)](_0x4f343c=>({'id':_0x4f343c['id'],..._0x4f343c['data']()})),currentProjectId===_0x349fce(0x94e)?renderQuizzes():renderProjects();},_0x3751d1=>{const _0xac7c25=_0x44f61d;console['error'](_0xac7c25(0x93a),_0x3751d1);});}function listenForFileShortcuts(){const _0x28d6c9=_0x1d7cc9,_0x1d86e1=doc(db,_0x28d6c9(0x284),'fileShortcutsConfig');onSnapshot(_0x1d86e1,_0x543648=>{const _0x560606=_0x28d6c9;let _0x3ce241=[],_0x2dc9db=[],_0x1efbb9={};if(_0x543648[_0x560606(0xc63)]()){const _0x2dd196=_0x543648[_0x560606(0xafb)]();_0x3ce241=_0x2dd196[_0x560606(0x12d)]||[],_0x2dc9db=_0x2dd196[_0x560606(0x7f5)]||[],_0x1efbb9=_0x2dd196[_0x560606(0x46a)]||{};}!_0x2dc9db[_0x560606(0x15b)](_0x573ef3=>_0x573ef3['id']===_0x560606(0x2d2))&&_0x2dc9db[_0x560606(0x44d)]({'id':_0x560606(0x2d2),'name':_0x560606(0x73d),'isDefault':!![]}),!_0x3ce241[_0x560606(0x15b)](_0x5d94ae=>_0x5d94ae['id']===_0x560606(0x289))&&_0x3ce241[_0x560606(0x44d)]({'id':'file-default-1','name':_0x560606(0xdcf),'url':'','isDefault':!![]}),!_0x3ce241['find'](_0x42d7f5=>_0x42d7f5['id']===_0x560606(0xdf))&&_0x3ce241[_0x560606(0x44d)]({'id':_0x560606(0xdf),'name':'ไฟล์ลัด\x202','url':'','isDefault':!![]}),fileShortcuts=_0x3ce241,fileShortcutTabs=_0x2dc9db,fileShortcutOrder=_0x1efbb9,renderFileShortcuts(),!document[_0x560606(0x773)](_0x560606(0xaff))[_0x560606(0x985)]['contains'](_0x560606(0x806))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x3a9294=_0x1d7cc9,_0x1f6472=doc(db,'globalSettings',_0x3a9294(0x678));try{await setDoc(_0x1f6472,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x29dc56){console[_0x3a9294(0x7bc)](_0x3a9294(0xe08),_0x29dc56);}}function renderAdditionalFileShortcutsModal(){const _0x34f82d=_0x1d7cc9,_0x119e66=document['getElementById']('file-shortcut-tabs-nav'),_0x456c0b=document[_0x34f82d(0x773)](_0x34f82d(0x35f));if(!_0x119e66||!_0x456c0b)return;_0x119e66[_0x34f82d(0x8ec)]=fileShortcutTabs[_0x34f82d(0x9d3)](_0x32117d=>{const _0x3ce2fd=_0x34f82d,_0x53699c=_0x32117d['id']===activeFileShortcutTabId;return _0x3ce2fd(0xd80)+_0x32117d['id']+_0x3ce2fd(0xed)+(_0x53699c?_0x3ce2fd(0xdb1):_0x3ce2fd(0x3a3))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x32117d[_0x3ce2fd(0xb30)]+_0x3ce2fd(0x1f3)+_0x32117d[_0x3ce2fd(0xb30)]+_0x3ce2fd(0x639)+(!_0x32117d[_0x3ce2fd(0x648)]?_0x3ce2fd(0x225)+_0x32117d['id']+_0x3ce2fd(0x7a1):'')+_0x3ce2fd(0xcf0);})[_0x34f82d(0x370)]('');const _0x4ee573=fileShortcutTabs['find'](_0x2e9215=>_0x2e9215['id']===activeFileShortcutTabId);let _0x21fc47=_0x4ee573?.[_0x34f82d(0x648)]?[...fileShortcuts]:fileShortcuts[_0x34f82d(0x485)](_0x25f927=>(_0x4ee573?.[_0x34f82d(0x290)]||[])['includes'](_0x25f927['id']));const _0x55ebef=fileShortcutOrder[activeFileShortcutTabId]||[];_0x21fc47['sort']((_0x5c4b93,_0x1d9dce)=>{const _0x751032=_0x34f82d,_0x19d6c2=_0x55ebef['indexOf'](_0x5c4b93['id']),_0x10d70b=_0x55ebef[_0x751032(0x355)](_0x1d9dce['id']);return(_0x19d6c2===-0x1?Infinity:_0x19d6c2)-(_0x10d70b===-0x1?Infinity:_0x10d70b);}),_0x456c0b[_0x34f82d(0x8ec)]=_0x21fc47[_0x34f82d(0x9d3)](_0x37b446=>{const _0x487141=_0x34f82d,_0x1241de=_0x37b446[_0x487141(0x68a)]?'📄':'🔗',_0xf64215=fileShortcutTabs['filter'](_0x1f4bf5=>!_0x1f4bf5[_0x487141(0x648)]),_0xa7cc27=_0x4ee573['isDefault']&&_0xf64215[_0x487141(0x5df)]>0x0?_0x487141(0x3ff)+_0xf64215[_0x487141(0x9d3)](_0x4da022=>_0x487141(0xe16)+_0x37b446['id']+'\x22\x20data-target-tab-id=\x22'+_0x4da022['id']+'\x22>'+_0x4da022[_0x487141(0xb30)]+_0x487141(0x653))[_0x487141(0x370)]('')+_0x487141(0x938):'';return _0x487141(0x5c6)+_0x37b446['id']+_0x487141(0x9bb)+_0x1241de+'\x20'+_0x37b446[_0x487141(0xb30)]+_0x487141(0xc87)+_0x37b446['id']+_0x487141(0x1f9)+_0x37b446['id']+_0x487141(0xccc)+(!_0x37b446[_0x487141(0x648)]?_0x487141(0xd23)+_0x37b446['id']+_0x487141(0xdb3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4ee573[_0x487141(0x648)]?_0x487141(0xa6b)+_0x37b446['id']+_0x487141(0xb4e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa7cc27+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')||_0x34f82d(0xcd8),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x2d0a1a=_0x1d7cc9;document[_0x2d0a1a(0x4a1)](_0x2d0a1a(0x218))[_0x2d0a1a(0xa25)](_0x303f83=>{const _0xa98312=_0x2d0a1a;_0x303f83['onclick']=_0x43d093=>{const _0x24ad16=_0x5842;activeFileShortcutTabId=_0x43d093[_0x24ad16(0x236)][_0x24ad16(0x576)][_0x24ad16(0x5ed)],renderAdditionalFileShortcutsModal();},_0x303f83[_0xa98312(0xbfb)]=_0x4c5932=>{const _0x491a8a=_0xa98312,_0x473fc6=_0x4c5932[_0x491a8a(0x236)]['querySelector'](_0x491a8a(0xcbb));_0x4c5932[_0x491a8a(0x236)][_0x491a8a(0x86f)](_0x491a8a(0x2ec))[_0x491a8a(0x985)][_0x491a8a(0xd0a)](_0x491a8a(0x806)),_0x473fc6['classList'][_0x491a8a(0xa54)](_0x491a8a(0x806)),_0x473fc6['focus'](),_0x473fc6[_0x491a8a(0x606)]();};}),document[_0x2d0a1a(0x4a1)]('#file-shortcut-tabs-nav\x20.tab-name-input')['forEach'](_0x49a1e5=>{const _0x5c07fd=_0x2d0a1a,_0x12273b=()=>{const _0x3b8df9=_0x5842,_0x493deb=_0x49a1e5['closest']('.file-shortcut-tab-btn')[_0x3b8df9(0x576)][_0x3b8df9(0x5ed)],_0xe8971e=fileShortcutTabs[_0x3b8df9(0x15b)](_0x71bb48=>_0x71bb48['id']===_0x493deb);_0xe8971e&&(_0xe8971e['name']=_0x49a1e5[_0x3b8df9(0xd9d)][_0x3b8df9(0xafd)]()||_0xe8971e[_0x3b8df9(0xb30)],saveFileShortcutConfig());};_0x49a1e5[_0x5c07fd(0xc76)]=_0x12273b,_0x49a1e5[_0x5c07fd(0xde7)]=_0x29c423=>{const _0xb76d4c=_0x5c07fd;if(_0x29c423[_0xb76d4c(0xadc)]===_0xb76d4c(0xe50))_0x49a1e5[_0xb76d4c(0x8ed)]();};}),document[_0x2d0a1a(0x4a1)]('.delete-file-shortcut-tab-btn')['forEach'](_0x528eac=>_0x528eac[_0x2d0a1a(0xb4f)]=_0x225b01=>{const _0x8093a=_0x2d0a1a,_0x35d1ab=_0x225b01['currentTarget'][_0x8093a(0x576)][_0x8093a(0x5ed)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x2251fc=_0x8093a;fileShortcutTabs=fileShortcutTabs[_0x2251fc(0x485)](_0x223f0c=>_0x223f0c['id']!==_0x35d1ab),delete fileShortcutOrder[_0x35d1ab];if(activeFileShortcutTabId===_0x35d1ab)activeFileShortcutTabId=_0x2251fc(0x2d2);saveFileShortcutConfig();});}),document[_0x2d0a1a(0x4a1)]('.move-file-shortcut-item')[_0x2d0a1a(0xa25)](_0x272807=>_0x272807[_0x2d0a1a(0xb4f)]=_0xe2fcde=>{const _0xf382ef=_0x2d0a1a;_0xe2fcde[_0xf382ef(0x952)]();const {shortcutId:_0x4afbae,targetTabId:_0x5bc3e3}=_0xe2fcde[_0xf382ef(0x236)][_0xf382ef(0x576)],_0x4f0de1=fileShortcutTabs['find'](_0x113a31=>_0x113a31['id']===_0x5bc3e3);_0x4f0de1&&!_0x4f0de1[_0xf382ef(0x290)]['includes'](_0x4afbae)&&(_0x4f0de1['shortcutIds'][_0xf382ef(0x65b)](_0x4afbae),saveFileShortcutConfig());}),document[_0x2d0a1a(0x4a1)](_0x2d0a1a(0x508))[_0x2d0a1a(0xa25)](_0x497d1e=>_0x497d1e[_0x2d0a1a(0xb4f)]=_0x273f7e=>{const _0x2b6402=_0x2d0a1a,_0x3ac508=_0x273f7e[_0x2b6402(0x236)]['dataset'][_0x2b6402(0x177)],_0x12c8e0=fileShortcutTabs[_0x2b6402(0x15b)](_0x410c76=>_0x410c76['id']===activeFileShortcutTabId);_0x12c8e0&&!_0x12c8e0[_0x2b6402(0x648)]&&(_0x12c8e0[_0x2b6402(0x290)]=_0x12c8e0[_0x2b6402(0x290)][_0x2b6402(0x485)](_0x2c6360=>_0x2c6360!==_0x3ac508),saveFileShortcutConfig());}),document[_0x2d0a1a(0x4a1)]('.move-file-shortcut-menu-btn')[_0x2d0a1a(0xa25)](_0x53ee33=>_0x53ee33['onclick']=_0x30d981=>{const _0x5a5806=_0x2d0a1a;_0x30d981[_0x5a5806(0x799)]();const _0x256b65=_0x30d981[_0x5a5806(0x236)][_0x5a5806(0x3e8)];document['querySelectorAll'](_0x5a5806(0x939))[_0x5a5806(0xa25)](_0x54e4a3=>_0x54e4a3[_0x5a5806(0x985)][_0x5a5806(0xd0a)](_0x5a5806(0x806))),_0x256b65[_0x5a5806(0x985)]['remove'](_0x5a5806(0x806));});const _0x20b122=document[_0x2d0a1a(0x773)]('additional-file-shortcuts-list');let _0x1545c0=null;_0x20b122[_0x2d0a1a(0x4c3)]=_0xe7c38c=>{const _0x179ac0=_0x2d0a1a;_0x1545c0=_0xe7c38c['target'][_0x179ac0(0x2e4)](_0x179ac0(0xb6c));if(_0x1545c0)setTimeout(()=>_0x1545c0[_0x179ac0(0x985)][_0x179ac0(0xd0a)](_0x179ac0(0xd11)),0x0);},_0x20b122[_0x2d0a1a(0x1c5)]=()=>{const _0x1275f1=_0x2d0a1a;_0x1545c0&&(_0x1545c0['classList'][_0x1275f1(0xa54)](_0x1275f1(0xd11)),_0x1545c0=null);},_0x20b122[_0x2d0a1a(0x480)]=_0x46f89d=>{const _0x1e4ff2=_0x2d0a1a;_0x46f89d[_0x1e4ff2(0x952)]();},_0x20b122[_0x2d0a1a(0x9a9)]=_0x499108=>{const _0x1ef361=_0x2d0a1a;_0x499108[_0x1ef361(0x952)]();if(_0x1545c0){const _0x39dae0=[..._0x20b122[_0x1ef361(0x4a1)](_0x1ef361(0xb9d))][_0x1ef361(0x731)]((_0x344090,_0xcddd2c)=>{const _0xdad1e2=_0x1ef361,_0x5bced1=_0xcddd2c[_0xdad1e2(0xc57)](),_0x3e45df=_0x499108[_0xdad1e2(0x9dd)]-_0x5bced1[_0xdad1e2(0x1d7)]-_0x5bced1['height']/0x2;return _0x3e45df<0x0&&_0x3e45df>_0x344090[_0xdad1e2(0x386)]?{'offset':_0x3e45df,'element':_0xcddd2c}:_0x344090;},{'offset':Number['NEGATIVE_INFINITY']})[_0x1ef361(0x6e8)];_0x39dae0==null?_0x20b122[_0x1ef361(0x3d7)](_0x1545c0):_0x20b122['insertBefore'](_0x1545c0,_0x39dae0);const _0x31904c=[..._0x20b122[_0x1ef361(0x4a1)](_0x1ef361(0xb6c))][_0x1ef361(0x9d3)](_0x5b0c75=>_0x5b0c75[_0x1ef361(0x576)][_0x1ef361(0x177)]);fileShortcutOrder[activeFileShortcutTabId]=_0x31904c,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x1a3da7=_0x1d7cc9,_0x51574f=prompt(_0x1a3da7(0xacc),_0x1a3da7(0xaf1));_0x51574f&&_0x51574f[_0x1a3da7(0xafd)]()&&(fileShortcutTabs[_0x1a3da7(0x65b)]({'id':_0x1a3da7(0x98c)+Date[_0x1a3da7(0xdbe)](),'name':_0x51574f[_0x1a3da7(0xafd)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x2e2893=_0x1d7cc9,_0x4a7770=document[_0x2e2893(0x773)](_0x2e2893(0x3a2)),_0x11a65c=document[_0x2e2893(0x773)]('additional-file-shortcuts-list'),_0x599902=document[_0x2e2893(0x773)](_0x2e2893(0x390));if(_0x599902)_0x599902[_0x2e2893(0x985)]['add'](_0x2e2893(0x806));if(!_0x4a7770||!_0x11a65c)return;const _0x3402ac=fileShortcuts['slice'](0x0,0x4),_0x508f64=fileShortcuts[_0x2e2893(0xd66)](0x4);_0x4a7770['innerHTML']=_0x3402ac[_0x2e2893(0x9d3)](_0x40e285=>{const _0xd54e67=_0x2e2893,_0x31b536=_0x40e285[_0xd54e67(0x68a)]&&_0x40e285[_0xd54e67(0x68a)][_0xd54e67(0xafd)]()!=='',_0x59e79e=selectedFile&&selectedFile['shortcutId']===_0x40e285['id'];let _0x278d2a=_0xd54e67(0x9f8),_0x392a00='🔗';if(_0x59e79e)_0x278d2a='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x392a00=_0xd54e67(0xb01);else _0x31b536&&(_0x278d2a=_0xd54e67(0xc7b),_0x392a00='📄');const _0x34a05b=!_0x40e285[_0xd54e67(0x648)]?_0xd54e67(0xd23)+_0x40e285['id']+_0xd54e67(0xdf2):'';return _0xd54e67(0x205)+_0x40e285['id']+_0xd54e67(0x1c7)+_0x278d2a+_0xd54e67(0xd0e)+_0x392a00+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>'+_0x40e285[_0xd54e67(0xb30)]+_0xd54e67(0x800)+_0x40e285['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34a05b+_0xd54e67(0x555);})[_0x2e2893(0x370)](''),_0x508f64[_0x2e2893(0x5df)]>0x0&&(_0x4a7770['innerHTML']+=_0x2e2893(0x2fe)),_0x508f64[_0x2e2893(0x5df)]>0x0?_0x11a65c[_0x2e2893(0x8ec)]=_0x508f64[_0x2e2893(0x9d3)](_0x39ec15=>_0x2e2893(0x1fd)+(_0x39ec15[_0x2e2893(0x68a)]?'📄':'🔗')+'\x20'+_0x39ec15[_0x2e2893(0xb30)]+_0x2e2893(0xe5e)+_0x39ec15['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x39ec15['id']+_0x2e2893(0x2c4)+(!_0x39ec15[_0x2e2893(0x648)]?_0x2e2893(0xd23)+_0x39ec15['id']+_0x2e2893(0xdb3):'')+_0x2e2893(0x37f))[_0x2e2893(0x370)](''):_0x11a65c[_0x2e2893(0x8ec)]=_0x2e2893(0xe1f);}function openFileShortcutEditor(_0x50306b=null){const _0x25041d=_0x1d7cc9,_0x508ce7=document[_0x25041d(0x773)]('file-shortcut-editor-modal'),_0x2f33f7=document['getElementById'](_0x25041d(0xbe1)),_0x565121=document['getElementById'](_0x25041d(0x11e)),_0x3ba2b1=document['getElementById']('file-shortcut-name-input'),_0x2146f9=document[_0x25041d(0x773)](_0x25041d(0xa0f));if(_0x50306b){const _0x59a38f=fileShortcuts['find'](_0x1e7ce=>_0x1e7ce['id']===_0x50306b);if(!_0x59a38f)return;_0x2f33f7['textContent']=_0x25041d(0x7b0),_0x565121[_0x25041d(0xd9d)]=_0x59a38f['id'],_0x3ba2b1['value']=_0x59a38f[_0x25041d(0xb30)],_0x2146f9[_0x25041d(0xd9d)]=_0x59a38f[_0x25041d(0x68a)]||'';}else _0x2f33f7[_0x25041d(0xcd6)]=_0x25041d(0xd4),_0x565121[_0x25041d(0xd9d)]='',_0x3ba2b1[_0x25041d(0xd9d)]='',_0x2146f9['value']='';_0x508ce7['classList'][_0x25041d(0xa54)](_0x25041d(0x806));}async function saveFileShortcutChanges(){const _0x3a77c5=_0x1d7cc9,_0x25fb0d=document['getElementById']('file-shortcut-id-input')['value'],_0x53e294=document['getElementById'](_0x3a77c5(0x8c5))['value']['trim'](),_0x49e761=document['getElementById'](_0x3a77c5(0xa0f))[_0x3a77c5(0xd9d)]['trim']();if(!_0x53e294){showMessage(_0x3a77c5(0xfe));return;}const _0x4c043d={'id':_0x25fb0d||_0x3a77c5(0x9f3)+Date[_0x3a77c5(0xdbe)](),'name':_0x53e294,'url':_0x49e761,'isDefault':_0x25fb0d[_0x3a77c5(0x1aa)](_0x3a77c5(0x993))};let _0x55af43;_0x25fb0d?_0x55af43=fileShortcuts[_0x3a77c5(0x9d3)](_0x2a6c64=>_0x2a6c64['id']===_0x25fb0d?_0x4c043d:_0x2a6c64):_0x55af43=[...fileShortcuts,_0x4c043d];try{const _0x196814=doc(db,'globalSettings',_0x3a77c5(0x678));await setDoc(_0x196814,{'shortcuts':_0x55af43},{'merge':!![]}),document[_0x3a77c5(0x773)](_0x3a77c5(0xb4b))['classList'][_0x3a77c5(0xd0a)](_0x3a77c5(0x806));}catch(_0x2296f1){console[_0x3a77c5(0x7bc)](_0x3a77c5(0x597),_0x2296f1),showMessage(_0x3a77c5(0xcf2));}}async function handleFileShortcutClick(_0x5b224b){const _0x4566d4=_0x1d7cc9,_0x592322=fileShortcuts[_0x4566d4(0x15b)](_0x384048=>_0x384048['id']===_0x5b224b);if(!_0x592322)return;if(!_0x592322[_0x4566d4(0x68a)]||_0x592322[_0x4566d4(0x68a)]['trim']()===''){openFileShortcutEditor(_0x5b224b);return;}const _0x471605=document[_0x4566d4(0x86f)](_0x4566d4(0xe11)+_0x5b224b+'\x22]');if(_0x471605){const _0x808cfa=_0x471605[_0x4566d4(0x8ec)];_0x471605[_0x4566d4(0x8ec)]=_0x4566d4(0xd1f),_0x471605[_0x4566d4(0x67a)]=!![];}document[_0x4566d4(0x4a1)]('.file-shortcut-btn')[_0x4566d4(0xa25)](_0x140cec=>{const _0x54889b=_0x4566d4;if(_0x140cec[_0x54889b(0x576)]['id']!==_0x5b224b)_0x140cec[_0x54889b(0x985)][_0x54889b(0xd0a)](_0x54889b(0xd11),_0x54889b(0x5c8));});try{const _0x245b2f=new URL(_0x592322['url'])[_0x4566d4(0xb0c)],_0x3f103a=_0x245b2f[_0x4566d4(0xf5)](_0x245b2f[_0x4566d4(0xdea)]('/')+0x1)||(_0x592322[_0x4566d4(0x68a)]['includes'](_0x4566d4(0x7e0))?'file.txt':'file.pdf'),_0x597129=await fetchFileFromUrl(_0x592322[_0x4566d4(0x68a)],_0x3f103a);_0x597129[_0x4566d4(0x177)]=_0x5b224b,selectedFile=_0x597129,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x4566d4(0x773)](_0x4566d4(0xdde))[_0x4566d4(0x776)]({'behavior':_0x4566d4(0xaf9),'block':_0x4566d4(0xc94)});}catch(_0x44bd40){console[_0x4566d4(0x7bc)](_0x4566d4(0x5e4),_0x44bd40),showMessage(_0x4566d4(0x536)+_0x44bd40[_0x4566d4(0xcee)]),renderFileShortcuts();}finally{document[_0x4566d4(0x4a1)](_0x4566d4(0x438))[_0x4566d4(0xa25)](_0xa651b3=>{const _0x200050=_0x4566d4;_0xa651b3[_0x200050(0x985)][_0x200050(0xa54)](_0x200050(0xd11),_0x200050(0x5c8)),_0xa651b3['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x395c9f=_0x1d7cc9;if(allQuizzesGlobal[_0x395c9f(0x5df)]>0x0)return;console['log'](_0x395c9f(0x3df)),showMessage(_0x395c9f(0xcd9));try{const _0x3c46a9=await getDocs(collection(db,_0x395c9f(0x6de)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x3c46a9['docs'][_0x395c9f(0x9d3)](_0x1061e5=>({'id':_0x1061e5['id'],..._0x1061e5[_0x395c9f(0xafb)]()})),console[_0x395c9f(0xe59)](_0x395c9f(0xc7c)+allQuizzesGlobal['length']+_0x395c9f(0x618)),messageModal['classList'][_0x395c9f(0xd0a)](_0x395c9f(0x806));}catch(_0x3a5393){console[_0x395c9f(0x7bc)]('Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.',_0x3a5393),messageModal[_0x395c9f(0x985)][_0x395c9f(0xd0a)](_0x395c9f(0x806));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x193282=_0x1d7cc9;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x193282(0xbe3));return;}const _0x4118ac=currentQuizData,_0x122762=window[_0x193282(0x2f8)]('',_0x193282(0x211)),_0x68596f=_0x133802=>String['fromCharCode'](0x41+_0x133802),_0x106c01=_0x193282(0xcf3)+_0x4118ac[_0x193282(0xa37)]+_0x193282(0xe66)+_0x4118ac[_0x193282(0xa37)]+_0x193282(0x86e)+_0x4118ac[_0x193282(0xcf9)][_0x193282(0x9d3)]((_0x2a677e,_0x21ebad)=>{const _0x1899d5=_0x193282;let _0x3bcf30='';const _0x23737b=_0x2a677e['questionType']||_0x4118ac[_0x1899d5(0xd83)];switch(_0x23737b){case _0x1899d5(0xbed):case _0x1899d5(0xc55):_0x3bcf30=_0x1899d5(0xc84)+_0x2a677e[_0x1899d5(0x50b)][_0x1899d5(0x9d3)]((_0x67691c,_0x3c98e2)=>_0x1899d5(0x901)+_0x68596f(_0x3c98e2)+'.\x20'+_0x67691c+_0x1899d5(0x4bb))['join']('<br>')+_0x1899d5(0x1b1);break;case _0x1899d5(0xc39):_0x3bcf30=_0x1899d5(0x5b8);break;default:_0x3bcf30=_0x1899d5(0x25e);break;}return _0x1899d5(0x3b6)+(_0x21ebad+0x1)+_0x1899d5(0x83b)+(_0x2a677e[_0x1899d5(0x43c)]||_0x2a677e[_0x1899d5(0xc27)])+_0x1899d5(0x244)+(_0x2a677e[_0x1899d5(0x52c)]?_0x1899d5(0xa80)+_0x2a677e[_0x1899d5(0x52c)]+'</div>':'')+_0x1899d5(0xb6a)+_0x3bcf30+_0x1899d5(0x858);})[_0x193282(0x370)]('')+_0x193282(0xc2e);_0x122762[_0x193282(0xd45)]['write'](_0x106c01),_0x122762[_0x193282(0xd45)][_0x193282(0x2d7)](),_0x122762['onload']=function(){setTimeout(()=>{const _0x8d5f34=_0x5842;_0x122762[_0x8d5f34(0x574)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0xe1bd23=_0x1d7cc9;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x3f1c34=currentQuizData,_0x403126=window[_0xe1bd23(0x2f8)]('',_0xe1bd23(0x211)),_0x3e169c=_0x45ba93=>String[_0xe1bd23(0x31f)](0x41+_0x45ba93),_0xe29567=_0xe1bd23(0xc2b)+_0x3f1c34['topic']+_0xe1bd23(0xc6b)+_0x3f1c34[_0xe1bd23(0xcf9)][_0xe1bd23(0x9d3)]((_0x331fc0,_0x1f5654)=>{const _0x1b5843=_0xe1bd23;let _0x362ac6='';const _0x41655d=_0x331fc0[_0x1b5843(0xa8d)]||_0x3f1c34[_0x1b5843(0xd83)];switch(_0x41655d){case _0x1b5843(0xbed):case _0x1b5843(0xc55):_0x362ac6=_0x1b5843(0xe40)+_0x331fc0[_0x1b5843(0x50b)][_0x1b5843(0x9d3)]((_0x4e8ce0,_0x245c5b)=>_0x1b5843(0xab9)+_0x3e169c(_0x245c5b)+'.\x20'+_0x4e8ce0+_0x1b5843(0xe54))[_0x1b5843(0x370)](_0x1b5843(0x9c2))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'true_false':_0x362ac6=_0x1b5843(0x596);break;default:_0x362ac6='';break;}return _0x1b5843(0x461)+_0x3f1c34['topic']+_0x1b5843(0x844)+(_0x1f5654+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x331fc0[_0x1b5843(0x43c)]||_0x331fc0['questionText'])+_0x1b5843(0x244)+(_0x331fc0[_0x1b5843(0x52c)]?'<div\x20class=\x22my-6\x22>'+_0x331fc0['imageCode']+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x362ac6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0xe1bd23(0x370)]('')+_0xe1bd23(0x99a);_0x403126[_0xe1bd23(0xd45)][_0xe1bd23(0xdbf)](_0xe29567),_0x403126[_0xe1bd23(0xd45)][_0xe1bd23(0x2d7)](),_0x403126['onload']=function(){setTimeout(()=>{const _0x19bc27=_0x5842;_0x403126[_0x19bc27(0x574)]();},0x5dc);};}async function handleToggleStarQuiz(_0x5e2bb8){const _0x39e1ca=_0x1d7cc9,_0x2d180e=doc(db,_0x39e1ca(0x6de)+appId+_0x39e1ca(0xde0),_0x5e2bb8);try{const _0x4b7a19=await getDoc(_0x2d180e);if(_0x4b7a19[_0x39e1ca(0xc63)]()){const _0x5d31a2=_0x4b7a19[_0x39e1ca(0xafb)]()[_0x39e1ca(0x5cd)]||![];await updateDoc(_0x2d180e,{'isStarred':!_0x5d31a2});}}catch(_0x503e00){console['error'](_0x39e1ca(0x989),_0x503e00),showMessage(_0x39e1ca(0x423));}}async function displayQuestionBank(){const _0x4fdb90=_0x1d7cc9,_0x2ff5a4=document[_0x4fdb90(0x773)](_0x4fdb90(0x63c));_0x2ff5a4[_0x4fdb90(0x8ec)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x4f2af3=collection(db,_0x4fdb90(0x6de)+appId+_0x4fdb90(0x999)+userId+_0x4fdb90(0x828)),_0x40e7f7=query(_0x4f2af3),_0x75e1cb=await getDocs(_0x40e7f7);if(_0x75e1cb[_0x4fdb90(0x758)]){_0x2ff5a4[_0x4fdb90(0x8ec)]=_0x4fdb90(0xd44);return;}let _0x9461ac=_0x75e1cb['docs'][_0x4fdb90(0x9d3)](_0x1dbf67=>{const _0x29ccf0=_0x4fdb90,_0x5aa563=_0x1dbf67['data'](),_0x4bbec8=_0x1dbf67['id'];return _0x29ccf0(0xca1)+JSON[_0x29ccf0(0xbd7)](_0x5aa563)+_0x29ccf0(0x152)+(_0x5aa563[_0x29ccf0(0xc27)]||_0x5aa563[_0x29ccf0(0x43c)])+_0x29ccf0(0xc81)+_0x5aa563['originalTopic']+_0x29ccf0(0x785);})[_0x4fdb90(0x370)]('');_0x2ff5a4[_0x4fdb90(0x8ec)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x9461ac+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x4fdb90(0xae6))[_0x4fdb90(0x6f7)](_0x4fdb90(0x2af),createQuizFromBank);}catch(_0x2cf8fc){console[_0x4fdb90(0x7bc)](_0x4fdb90(0x77f),_0x2cf8fc),_0x2ff5a4[_0x4fdb90(0x8ec)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x206b15=_0x1d7cc9,_0x87d143=document[_0x206b15(0x773)](_0x206b15(0xd36)),_0x19b6b8=document[_0x206b15(0x773)](_0x206b15(0x8b0))[_0x206b15(0xcd6)]||_0x206b15(0x4d3);if(!_0x87d143){showMessage(_0x206b15(0xcd3));return;}const _0x61ea61=window[_0x206b15(0x2f8)]('',_0x206b15(0x211)),_0x20c676=_0x206b15(0x62a)+_0x19b6b8+_0x206b15(0xca7)+_0x19b6b8+_0x206b15(0xb63)+_0x87d143[_0x206b15(0x8ec)]+_0x206b15(0x8e7);_0x61ea61[_0x206b15(0xd45)][_0x206b15(0xdbf)](_0x20c676),_0x61ea61['document'][_0x206b15(0x2d7)](),_0x61ea61[_0x206b15(0x4c6)]=function(){setTimeout(()=>{const _0x2a3b05=_0x5842;_0x61ea61[_0x2a3b05(0x574)]();},0x7d0);};}function showAdminLiveQuestionView(_0x54c9a3,_0x28d395,_0x1e2251){const _0x17c334=_0x1d7cc9,_0x336abc=_0x54c9a3[_0x17c334(0xa8d)]||currentQuizData[_0x17c334(0xd83)];let _0x4e9907='';if(_0x336abc===_0x17c334(0xbed)||_0x336abc===_0x17c334(0xc39)){const _0x3463f1=_0x336abc===_0x17c334(0xc39)?[_0x17c334(0x6f3),_0x17c334(0xd0c)]:_0x54c9a3['options'],_0x48d923=_0x336abc===_0x17c334(0xc39)?_0x54c9a3[_0x17c334(0x77e)]?0x0:0x1:_0x54c9a3['correctAnswerIndex'];_0x4e9907=_0x3463f1[_0x17c334(0x9d3)]((_0x1e1120,_0x54f111)=>_0x17c334(0x991)+(_0x54f111===_0x48d923)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e1120+_0x17c334(0x555))[_0x17c334(0x370)]('');}else{if(_0x336abc==='matching_item'){const _0x5b6c70=_0x54c9a3['allResponses']||[];_0x4e9907=_0x5b6c70[_0x17c334(0x9d3)](_0x22b78e=>_0x17c334(0x991)+(_0x22b78e===_0x54c9a3['correctResponse'])+_0x17c334(0xaf8)+_0x22b78e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x17c334(0x370)]('');}}const _0x529a32=_0x54c9a3[_0x17c334(0x43c)]||_0x54c9a3[_0x17c334(0xc27)],_0x4abb6a=_0x17c334(0x62f)+(_0x28d395+0x1)+_0x17c334(0x9fa)+_0x1e2251+_0x17c334(0x365)+currentLiveGamePin+_0x17c334(0x6db)+_0x529a32+_0x17c334(0x6f0)+_0x4e9907+_0x17c334(0xe0a);liveGameView[_0x17c334(0x8ec)]=_0x4abb6a,window[_0x17c334(0x6a1)]&&MathJax['typesetPromise']&&MathJax[_0x17c334(0x7c9)]([liveGameView]),document[_0x17c334(0x773)](_0x17c334(0xe3d))[_0x17c334(0x6f7)]('click',()=>revealAnswerForAdmin(_0x28d395,_0x1e2251)),document[_0x17c334(0x773)](_0x17c334(0x633))[_0x17c334(0x6f7)](_0x17c334(0x2af),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x3b23a5=_0x5842,_0x3db85c=doc(db,_0x3b23a5(0x6de)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x3db85c,{'status':_0x3b23a5(0x66f)});});}),document[_0x17c334(0x773)]('manage-players-btn')[_0x17c334(0x6f7)](_0x17c334(0x2af),()=>{const _0x42f5aa=_0x17c334;document[_0x42f5aa(0x773)](_0x42f5aa(0x6f4))[_0x42f5aa(0x985)][_0x42f5aa(0xbbd)](_0x42f5aa(0x806));});}function promptForProjectBeforeGenerating(_0x400c42){const _0x2873be=_0x1d7cc9,_0x2ed6d8=document[_0x2873be(0x773)](_0x2873be(0x912)),_0x5b68c7=document['getElementById'](_0x2873be(0x904)),_0x4c5500=_0x2ed6d8['querySelector']('h3'),_0x1b8d0c=document[_0x2873be(0x773)](_0x2873be(0x21a)),_0x2f0145=document[_0x2873be(0x773)](_0x2873be(0x7b1));_0x4c5500[_0x2873be(0xcd6)]=_0x2873be(0x911),_0x1b8d0c[_0x2873be(0xcd6)]='เลือกและเริ่มสร้าง',_0x1b8d0c[_0x2873be(0x67a)]=!![];allProjects['length']===0x0?_0x5b68c7['innerHTML']='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x5b68c7[_0x2873be(0x8ec)]=_0x2873be(0x981)+allProjects[_0x2873be(0x9d3)](_0x4e96ec=>_0x2873be(0xd4d)+_0x4e96ec['id']+'\x22>'+_0x4e96ec[_0x2873be(0x1c1)]+_0x2873be(0x6da))[_0x2873be(0x370)](''),_0x1b8d0c['disabled']=![]);_0x2ed6d8['classList'][_0x2873be(0xa54)](_0x2873be(0x806));const _0x4e4d1d=async()=>{const _0x2aa343=_0x2873be,_0x1120e8=_0x5b68c7['value'];if(!_0x1120e8){showMessage(_0x2aa343(0x571));return;}_0x2ed6d8['classList'][_0x2aa343(0xd0a)](_0x2aa343(0x806)),await loadProjectDetails(_0x1120e8),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x400c42),_0x304993();},_0x304993=()=>{const _0x403a2c=_0x2873be;_0x4c5500[_0x403a2c(0xcd6)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x1b8d0c[_0x403a2c(0xcd6)]='ย้าย',_0x1b8d0c[_0x403a2c(0x755)](_0x403a2c(0x2af),_0x4e4d1d),_0x2f0145['removeEventListener'](_0x403a2c(0x2af),_0x304993),_0x1b8d0c['addEventListener']('click',confirmMoveQuiz);};_0x1b8d0c[_0x2873be(0x755)](_0x2873be(0x2af),confirmMoveQuiz),_0x1b8d0c[_0x2873be(0x6f7)](_0x2873be(0x2af),_0x4e4d1d),_0x2f0145[_0x2873be(0x6f7)](_0x2873be(0x2af),_0x304993);}function showStudentLiveQuestionView(_0x4215fc,_0x4ada16,_0x1e227e){const _0x48f21a=_0x1d7cc9,_0x4781e0=_0x4215fc[_0x48f21a(0xa8d)]||currentQuizData[_0x48f21a(0xd83)];let _0x1e0343='';if(_0x4781e0===_0x48f21a(0xbed)||_0x4781e0==='true_false'){const _0xa5c3c7=_0x4781e0===_0x48f21a(0xc39)?[_0x48f21a(0x6f3),_0x48f21a(0xd0c)]:_0x4215fc[_0x48f21a(0x50b)];_0x1e0343=_0xa5c3c7[_0x48f21a(0x9d3)]((_0x337792,_0x38029d)=>_0x48f21a(0xa57)+_0x38029d+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x337792+_0x48f21a(0xd74))[_0x48f21a(0x370)]('');}else{if(_0x4781e0===_0x48f21a(0xe52)){const _0xf792e6=_0x4215fc[_0x48f21a(0x59d)]||[];_0x1e0343=_0xf792e6[_0x48f21a(0x9d3)]((_0x31a9ab,_0x4376c9)=>_0x48f21a(0xa57)+_0x4376c9+_0x48f21a(0x5b7)+_0x31a9ab+_0x48f21a(0xd74))[_0x48f21a(0x370)]('');}else _0x4781e0===_0x48f21a(0x33a)&&(_0x1e0343=_0x48f21a(0x110));}const _0x3404b7=_0x4215fc['stem']||_0x4215fc[_0x48f21a(0xc27)],_0xbb7e1c=_0x48f21a(0xafe)+(_0x4ada16+0x1)+_0x48f21a(0x9fa)+_0x1e227e+_0x48f21a(0x9a7)+_0x3404b7+_0x48f21a(0x9a3)+_0x1e0343+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0xbb7e1c;window['MathJax']&&MathJax[_0x48f21a(0x7c9)]&&MathJax[_0x48f21a(0x7c9)]([liveGameView]);const _0x63ad18=document[_0x48f21a(0x773)](_0x48f21a(0x7ea));_0x63ad18&&_0x63ad18['addEventListener'](_0x48f21a(0x2af),()=>{const _0x7c911f=_0x48f21a,_0x1340b2=document[_0x7c911f(0x773)]('live-short-answer-input')[_0x7c911f(0xd9d)];handleLiveAnswer(_0x1340b2,_0x4215fc);}),document[_0x48f21a(0x773)](_0x48f21a(0x69e))['addEventListener'](_0x48f21a(0x2af),_0x34722a=>{const _0x3a65d4=_0x48f21a,_0x136c6f=_0x34722a[_0x3a65d4(0x674)][_0x3a65d4(0x2e4)](_0x3a65d4(0x36d));if(_0x136c6f){const _0x36cce7=parseInt(_0x136c6f[_0x3a65d4(0x576)][_0x3a65d4(0x450)]);handleLiveAnswer(_0x36cce7,_0x4215fc);}});}function listenForBlueprintShortcuts(){const _0x2e9af5=_0x1d7cc9,_0x58dfe3=doc(db,_0x2e9af5(0x284),_0x2e9af5(0xd3b));onSnapshot(_0x58dfe3,_0x27a2c9=>{const _0x5651a0=_0x2e9af5;let _0x1dc0a0=[],_0x3feeb5=[],_0x239d0c={};if(_0x27a2c9[_0x5651a0(0xc63)]()){const _0x36abc4=_0x27a2c9['data']();_0x1dc0a0=_0x36abc4[_0x5651a0(0xc5a)]||[],_0x3feeb5=_0x36abc4['shortcutTabs']||[],_0x239d0c=_0x36abc4[_0x5651a0(0x30f)]||{};}!_0x3feeb5[_0x5651a0(0x15b)](_0x13bdf9=>_0x13bdf9['id']===_0x5651a0(0x2d2))&&_0x3feeb5['unshift']({'id':'all','name':_0x5651a0(0x476),'isDefault':!![]}),!_0x1dc0a0[_0x5651a0(0x15b)](_0x59d660=>_0x59d660['id']===_0x5651a0(0xce3))&&_0x1dc0a0[_0x5651a0(0x44d)]({'id':_0x5651a0(0xce3),'name':_0x5651a0(0x945),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x1dc0a0[_0x5651a0(0x15b)](_0x20f5a4=>_0x20f5a4['id']===_0x5651a0(0x9ee))&&_0x1dc0a0[_0x5651a0(0x44d)]({'id':_0x5651a0(0x9ee),'name':_0x5651a0(0x651),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x1dc0a0,shortcutTabs=_0x3feeb5,shortcutOrder=_0x239d0c,renderBlueprintShortcuts(),!document['getElementById'](_0x5651a0(0x4f3))[_0x5651a0(0x985)]['contains']('hidden')&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x41289=_0x1d7cc9,_0x5f1059=document[_0x41289(0x773)](_0x41289(0x338)),_0x3ae8ce=document[_0x41289(0x773)]('additional-shortcuts-list');if(!_0x5f1059||!_0x3ae8ce)return;_0x5f1059[_0x41289(0x8ec)]=shortcutTabs[_0x41289(0x9d3)](_0x3ffef9=>{const _0x23e334=_0x41289,_0x369801=_0x3ffef9['id']===activeShortcutTabId,_0x111708='border-indigo-500\x20text-indigo-600',_0x263812=_0x23e334(0x3a3);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x3ffef9['id']+_0x23e334(0x435)+(_0x369801?_0x111708:_0x263812)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x3ffef9[_0x23e334(0xb30)]+_0x23e334(0x7c2)+_0x3ffef9[_0x23e334(0xb30)]+_0x23e334(0x380)+(!_0x3ffef9['isDefault']?_0x23e334(0x89a)+_0x3ffef9['id']+'\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x23e334(0x555);})[_0x41289(0x370)]('');const _0x59419d=shortcutTabs['find'](_0x38d84f=>_0x38d84f['id']===activeShortcutTabId);let _0x1c95dd=[];if(_0x59419d){if(_0x59419d[_0x41289(0x648)])_0x1c95dd=[...blueprintShortcuts];else{const _0x53becf=_0x59419d[_0x41289(0x290)]||[];_0x1c95dd=blueprintShortcuts[_0x41289(0x485)](_0x16d12e=>_0x53becf['includes'](_0x16d12e['id']));}}const _0x3e9c9f=shortcutOrder[activeShortcutTabId]||[];_0x1c95dd[_0x41289(0xc1c)]((_0x525d3a,_0xde11c5)=>{const _0x1a9503=_0x41289,_0x597f9f=_0x3e9c9f[_0x1a9503(0x355)](_0x525d3a['id']),_0x51c09c=_0x3e9c9f[_0x1a9503(0x355)](_0xde11c5['id']);if(_0x597f9f===-0x1)return 0x1;if(_0x51c09c===-0x1)return-0x1;return _0x597f9f-_0x51c09c;}),_0x3ae8ce[_0x41289(0x8ec)]=_0x1c95dd[_0x41289(0x5df)]>0x0?_0x1c95dd['map'](_0xec5877=>{const _0x356d92=_0x41289;let _0x3331fa='🧩';if(_0xec5877[_0x356d92(0x78e)]&&_0xec5877['referenceUrl'])_0x3331fa='📗';else{if(_0xec5877['blueprintUrl'])_0x3331fa='📘';}const _0x16358b=shortcutTabs[_0x356d92(0x485)](_0x2c6341=>!_0x2c6341[_0x356d92(0x648)]),_0x375750=_0x59419d[_0x356d92(0x648)]&&_0x16358b[_0x356d92(0x5df)]>0x0?_0x356d92(0x27a)+_0x16358b[_0x356d92(0x9d3)](_0xa8ea26=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0xec5877['id']+'\x22\x20data-target-tab-id=\x22'+_0xa8ea26['id']+'\x22>'+_0xa8ea26['name']+_0x356d92(0x8ad))[_0x356d92(0x370)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0xec5877['id']+_0x356d92(0x2a4)+_0x3331fa+'\x20'+_0xec5877[_0x356d92(0xb30)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xec5877['id']+_0x356d92(0xc3d)+_0xec5877['id']+_0x356d92(0x8f0)+(!_0xec5877[_0x356d92(0x648)]?_0x356d92(0xd23)+_0xec5877['id']+_0x356d92(0x894):'')+_0x356d92(0xa99)+(!_0x59419d[_0x356d92(0x648)]?_0x356d92(0xa6b)+_0xec5877['id']+_0x356d92(0x58e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x375750+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x41289(0x370)](''):_0x41289(0xcd8),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x5e8e78=_0x1d7cc9;document[_0x5e8e78(0x4a1)]('.shortcut-tab-btn')[_0x5e8e78(0xa25)](_0x1a5e66=>{const _0x38bd35=_0x5e8e78;_0x1a5e66[_0x38bd35(0x6f7)](_0x38bd35(0x2af),_0x4df477=>{const _0x3df3ff=_0x38bd35;activeShortcutTabId=_0x4df477[_0x3df3ff(0x236)]['dataset'][_0x3df3ff(0x5ed)],renderAdditionalShortcutsModal();}),_0x1a5e66['addEventListener'](_0x38bd35(0x7be),_0x4ddef6=>{const _0x1e607a=_0x38bd35,_0x491ba6=_0x4ddef6[_0x1e607a(0x236)];_0x491ba6['querySelector'](_0x1e607a(0x2ec))[_0x1e607a(0x985)][_0x1e607a(0xd0a)](_0x1e607a(0x806));const _0x5d3a2b=_0x491ba6[_0x1e607a(0x86f)]('.tab-name-input');_0x5d3a2b[_0x1e607a(0x985)]['remove']('hidden'),_0x5d3a2b['focus'](),_0x5d3a2b[_0x1e607a(0x606)]();});}),document[_0x5e8e78(0x4a1)]('.tab-name-input')[_0x5e8e78(0xa25)](_0x33aa2a=>{const _0x3f7702=_0x5e8e78,_0x43fd87=()=>{const _0x4e8307=_0x5842,_0x3b63c2=_0x33aa2a['closest'](_0x4e8307(0xced))[_0x4e8307(0x576)]['tabId'];handleRenameShortcutTab(_0x3b63c2,_0x33aa2a[_0x4e8307(0xd9d)]);};_0x33aa2a[_0x3f7702(0x6f7)]('blur',_0x43fd87),_0x33aa2a['addEventListener'](_0x3f7702(0x42b),_0x267449=>{const _0x32c414=_0x3f7702;if(_0x267449[_0x32c414(0xadc)]==='Enter')_0x33aa2a[_0x32c414(0x8ed)]();});}),document['querySelectorAll'](_0x5e8e78(0x728))['forEach'](_0x1e25eb=>{const _0x1d50ae=_0x5e8e78;_0x1e25eb['addEventListener'](_0x1d50ae(0x2af),_0x285e4b=>handleDeleteShortcutTab(_0x285e4b['currentTarget']['dataset'][_0x1d50ae(0x5ed)]));}),document[_0x5e8e78(0x4a1)]('.move-shortcut-item')[_0x5e8e78(0xa25)](_0x333a22=>{const _0x14954d=_0x5e8e78;_0x333a22['addEventListener'](_0x14954d(0x2af),_0x59b7ff=>{const _0x1cd75f=_0x14954d;_0x59b7ff[_0x1cd75f(0x952)]();const {shortcutId:_0x35cfd1,targetTabId:_0x39810f}=_0x59b7ff[_0x1cd75f(0x236)][_0x1cd75f(0x576)];handleMoveShortcutToTab(_0x35cfd1,_0x39810f);});}),document['querySelectorAll'](_0x5e8e78(0xd4b))[_0x5e8e78(0xa25)](_0x1f0a35=>{const _0x3087ec=_0x5e8e78;_0x1f0a35[_0x3087ec(0x6f7)](_0x3087ec(0x2af),_0x2c5df2=>{const _0x4a6f34=_0x3087ec;handleRemoveShortcutFromTab(_0x2c5df2[_0x4a6f34(0x236)][_0x4a6f34(0x576)][_0x4a6f34(0x177)],activeShortcutTabId);});});const _0x57e0b3=document['getElementById'](_0x5e8e78(0x7ff));_0x57e0b3['querySelectorAll'](_0x5e8e78(0x784))[_0x5e8e78(0xa25)](_0x1808ed=>{const _0xbdf197=_0x5e8e78;_0x1808ed[_0xbdf197(0x6f7)](_0xbdf197(0x2af),()=>{const _0x464513=_0xbdf197;document['getElementById'](_0x464513(0x4f3))[_0x464513(0x985)]['add'](_0x464513(0x806)),handleShortcutClick(_0x1808ed[_0x464513(0x576)]['id']);});});let _0x2bd7b3=null;_0x57e0b3['addEventListener']('dragstart',_0x4ed12d=>{const _0x222c90=_0x5e8e78;_0x2bd7b3=_0x4ed12d[_0x222c90(0x674)][_0x222c90(0x2e4)]('.shortcut-list-item'),_0x2bd7b3&&setTimeout(()=>_0x2bd7b3[_0x222c90(0x985)][_0x222c90(0xd0a)](_0x222c90(0xd11)),0x0);}),_0x57e0b3[_0x5e8e78(0x6f7)](_0x5e8e78(0xbfd),()=>{const _0x4200e8=_0x5e8e78;_0x2bd7b3&&(_0x2bd7b3[_0x4200e8(0x985)][_0x4200e8(0xa54)](_0x4200e8(0xd11)),_0x2bd7b3=null);}),_0x57e0b3[_0x5e8e78(0x6f7)](_0x5e8e78(0xd99),_0x1f05d0=>{const _0x465a7b=_0x5e8e78;_0x1f05d0[_0x465a7b(0x952)]();const _0x4640e4=[..._0x57e0b3[_0x465a7b(0x4a1)](_0x465a7b(0xb9d))][_0x465a7b(0x731)]((_0x181e7b,_0x5eda18)=>{const _0x2aac36=_0x465a7b,_0x534c3d=_0x5eda18[_0x2aac36(0xc57)](),_0x78ddb0=_0x1f05d0[_0x2aac36(0x9dd)]-_0x534c3d[_0x2aac36(0x1d7)]-_0x534c3d[_0x2aac36(0x3e4)]/0x2;return _0x78ddb0<0x0&&_0x78ddb0>_0x181e7b[_0x2aac36(0x386)]?{'offset':_0x78ddb0,'element':_0x5eda18}:_0x181e7b;},{'offset':Number[_0x465a7b(0xd0b)]})[_0x465a7b(0x6e8)];_0x4640e4==null?_0x57e0b3[_0x465a7b(0x3d7)](_0x2bd7b3):_0x57e0b3[_0x465a7b(0x51d)](_0x2bd7b3,_0x4640e4);}),_0x57e0b3['addEventListener']('drop',_0xf1e5dd=>{const _0x5e8998=_0x5e8e78;_0xf1e5dd[_0x5e8998(0x952)]();if(_0x2bd7b3){const _0x42241c=[..._0x57e0b3[_0x5e8998(0x4a1)](_0x5e8998(0xb6c))]['map'](_0x261a5d=>_0x261a5d[_0x5e8998(0x576)][_0x5e8998(0x177)]);handleShortcutOrderChange(activeShortcutTabId,_0x42241c);}}),document['querySelectorAll'](_0x5e8e78(0xb2d))['forEach'](_0x21799a=>{_0x21799a['addEventListener']('click',_0x59f383=>{const _0x2fcdc0=_0x5842;_0x59f383['stopPropagation']();const _0x5cd113=_0x59f383[_0x2fcdc0(0x236)][_0x2fcdc0(0x3e8)],_0x45bd13=_0x5cd113[_0x2fcdc0(0x985)][_0x2fcdc0(0xc49)](_0x2fcdc0(0x806));document[_0x2fcdc0(0x4a1)](_0x2fcdc0(0x8db))[_0x2fcdc0(0xa25)](_0x1cbbf0=>_0x1cbbf0[_0x2fcdc0(0x985)][_0x2fcdc0(0xd0a)]('hidden')),_0x45bd13&&_0x5cd113['classList'][_0x2fcdc0(0xa54)](_0x2fcdc0(0x806));});});}document[_0x1d7cc9(0x6f7)](_0x1d7cc9(0x2af),_0x43e740=>{const _0x45df39=_0x1d7cc9;!_0x43e740[_0x45df39(0x674)][_0x45df39(0x2e4)]('.group\x5c/dropdown')&&document[_0x45df39(0x4a1)](_0x45df39(0x8db))[_0x45df39(0xa25)](_0x4e2159=>_0x4e2159[_0x45df39(0x985)][_0x45df39(0xd0a)](_0x45df39(0x806)));});async function saveShortcutConfig(){const _0x3bb95=_0x1d7cc9,_0x35acd7=doc(db,_0x3bb95(0x284),_0x3bb95(0xd3b));try{await setDoc(_0x35acd7,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0xd70925){console['error']('Error\x20saving\x20shortcut\x20config:',_0xd70925);}}async function handleAddShortcutTab(){const _0x423558=_0x1d7cc9,_0x33ca7f=prompt(_0x423558(0xacc),_0x423558(0xaf1));if(!_0x33ca7f||_0x33ca7f[_0x423558(0xafd)]()==='')return;shortcutTabs['push']({'id':_0x423558(0x98c)+Date[_0x423558(0xdbe)](),'name':_0x33ca7f['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x50c439,_0x2371cb){const _0x2713cb=_0x1d7cc9,_0x1fb06d=shortcutTabs[_0x2713cb(0x15b)](_0x291494=>_0x291494['id']===_0x50c439);_0x1fb06d&&_0x2371cb['trim']()!==''&&(_0x1fb06d[_0x2713cb(0xb30)]=_0x2371cb[_0x2713cb(0xafd)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x2f5632){const _0x5a906a=_0x1d7cc9,_0x224b53=shortcutTabs['find'](_0x5c88f8=>_0x5c88f8['id']===_0x2f5632);_0x224b53&&!_0x224b53[_0x5a906a(0x648)]&&showConfirmation(_0x5a906a(0x245)+_0x224b53[_0x5a906a(0xb30)]+_0x5a906a(0x33f),async()=>{const _0x1f75f6=_0x5a906a;shortcutTabs=shortcutTabs[_0x1f75f6(0x485)](_0x8d3c23=>_0x8d3c23['id']!==_0x2f5632),delete shortcutOrder[_0x2f5632];if(activeShortcutTabId===_0x2f5632)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x15fad2,_0x278a33){const _0xa3b58f=_0x1d7cc9,_0x2d797b=shortcutTabs['find'](_0x19cb4f=>_0x19cb4f['id']===_0x278a33);_0x2d797b&&!_0x2d797b[_0xa3b58f(0x290)][_0xa3b58f(0x1f6)](_0x15fad2)&&(_0x2d797b[_0xa3b58f(0x290)][_0xa3b58f(0x65b)](_0x15fad2),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x8f9011,_0x33ba42){const _0x9f516a=_0x1d7cc9,_0x5099e6=shortcutTabs[_0x9f516a(0x15b)](_0x531596=>_0x531596['id']===_0x33ba42);_0x5099e6&&!_0x5099e6['isDefault']&&(_0x5099e6[_0x9f516a(0x290)]=_0x5099e6[_0x9f516a(0x290)][_0x9f516a(0x485)](_0x53ad5b=>_0x53ad5b!==_0x8f9011),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x1ab729,_0x45d646){shortcutOrder[_0x1ab729]=_0x45d646,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x3fbb4d=_0x1d7cc9,_0x366945=document[_0x3fbb4d(0x773)]('blueprint-shortcut-container'),_0x113087=document[_0x3fbb4d(0x773)](_0x3fbb4d(0x7ff)),_0x83b642=document[_0x3fbb4d(0x773)]('shortcuts-loading-msg');_0x83b642&&_0x83b642[_0x3fbb4d(0x985)]['add']('hidden');if(!_0x366945||!_0x113087)return;const _0x2debb8=blueprintShortcuts[_0x3fbb4d(0xd66)](0x0,0x4),_0x2a9460=blueprintShortcuts[_0x3fbb4d(0xd66)](0x4);_0x366945[_0x3fbb4d(0x8ec)]=_0x2debb8[_0x3fbb4d(0x9d3)](_0x36412f=>{const _0x400661=_0x3fbb4d;let _0x5b85d7='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x520942='🧩';if(_0x36412f[_0x400661(0x78e)]&&_0x36412f[_0x400661(0xb1e)])_0x5b85d7=_0x400661(0x1fc),_0x520942='📗';else _0x36412f['blueprintUrl']&&(_0x5b85d7=_0x400661(0xc7b),_0x520942='📘');const _0x339492=!_0x36412f[_0x400661(0x648)]?_0x400661(0xd23)+_0x36412f['id']+_0x400661(0xb36):'';return _0x400661(0x205)+_0x36412f['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x5b85d7+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x520942+'\x20'+_0x36412f[_0x400661(0xb30)]+_0x400661(0x1e2)+_0x36412f['id']+_0x400661(0x609)+_0x339492+_0x400661(0x555);})[_0x3fbb4d(0x370)](''),_0x2a9460[_0x3fbb4d(0x5df)]>0x0&&(_0x366945[_0x3fbb4d(0x8ec)]+=_0x3fbb4d(0x585)),_0x2a9460[_0x3fbb4d(0x5df)]>0x0?_0x113087[_0x3fbb4d(0x8ec)]=_0x2a9460['map'](_0xdcaef5=>{const _0x49393f=_0x3fbb4d;let _0xa2d2a1='🧩';if(_0xdcaef5['blueprintUrl']&&_0xdcaef5[_0x49393f(0xb1e)])_0xa2d2a1='📗';else _0xdcaef5['blueprintUrl']&&(_0xa2d2a1='📘');return _0x49393f(0xd14)+_0xa2d2a1+'\x20'+_0xdcaef5[_0x49393f(0xb30)]+_0x49393f(0x6c1)+_0xdcaef5['id']+_0x49393f(0xc3d)+_0xdcaef5['id']+_0x49393f(0x8f0)+(!_0xdcaef5[_0x49393f(0x648)]?'<button\x20data-id=\x22'+_0xdcaef5['id']+_0x49393f(0x894):'')+_0x49393f(0xa6e);})['join'](''):_0x113087[_0x3fbb4d(0x8ec)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x285aa6){const _0x5358d2=_0x1d7cc9,_0x2b0092=_0x285aa6['split']('.')['pop']()[_0x5358d2(0xa43)]();switch(_0x2b0092){case _0x5358d2(0xb78):return _0x5358d2(0xde5);case'txt':return _0x5358d2(0xce2);default:return _0x5358d2(0xde5);}}function openShortcutEditor(_0x2e6245=null){const _0x906c4e=_0x1d7cc9,_0xd0bdcb=document[_0x906c4e(0x773)](_0x906c4e(0x970)),_0x554f2c=document[_0x906c4e(0x773)]('shortcut-modal-title'),_0x5c0882=document[_0x906c4e(0x773)](_0x906c4e(0x1e1)),_0x2a98f4=document['getElementById']('shortcut-name-input'),_0x37ffbd=document[_0x906c4e(0x773)](_0x906c4e(0xa0b)),_0x50fb49=document[_0x906c4e(0x773)]('shortcut-reference-url-input');if(_0x2e6245){const _0x2836e2=blueprintShortcuts['find'](_0x599125=>_0x599125['id']===_0x2e6245);if(!_0x2836e2)return;_0x554f2c[_0x906c4e(0xcd6)]=_0x906c4e(0xd37),_0x5c0882[_0x906c4e(0xd9d)]=_0x2836e2['id'],_0x2a98f4[_0x906c4e(0xd9d)]=_0x2836e2[_0x906c4e(0xb30)],_0x37ffbd[_0x906c4e(0xd9d)]=_0x2836e2[_0x906c4e(0x78e)]||'',_0x50fb49[_0x906c4e(0xd9d)]=_0x2836e2[_0x906c4e(0xb1e)]||'';}else _0x554f2c[_0x906c4e(0xcd6)]='เพิ่มปุ่มลัดใหม่',_0x5c0882[_0x906c4e(0xd9d)]='',_0x2a98f4[_0x906c4e(0xd9d)]='',_0x37ffbd[_0x906c4e(0xd9d)]='',_0x50fb49['value']='';_0xd0bdcb[_0x906c4e(0x985)]['remove'](_0x906c4e(0x806));}async function saveShortcutChanges(){const _0x221fdd=_0x1d7cc9,_0x2d0c78=document[_0x221fdd(0x773)](_0x221fdd(0x1e1))['value'],_0x241dfe=document[_0x221fdd(0x773)](_0x221fdd(0xcbc))['value'][_0x221fdd(0xafd)](),_0x53a21a=document[_0x221fdd(0x773)](_0x221fdd(0xa0b))['value'][_0x221fdd(0xafd)]();if(!_0x241dfe||!_0x53a21a){showMessage(_0x221fdd(0x47f));return;}const _0x366102={'id':_0x2d0c78||_0x221fdd(0x6bb)+Date[_0x221fdd(0xdbe)](),'name':_0x241dfe,'blueprintUrl':_0x53a21a,'referenceUrl':document[_0x221fdd(0x773)](_0x221fdd(0xdf9))['value']['trim'](),'isDefault':_0x2d0c78[_0x221fdd(0x1aa)](_0x221fdd(0xa6d))};let _0x20e2b0;_0x2d0c78?_0x20e2b0=blueprintShortcuts[_0x221fdd(0x9d3)](_0x1d1f37=>_0x1d1f37['id']===_0x2d0c78?_0x366102:_0x1d1f37):_0x20e2b0=[...blueprintShortcuts,_0x366102];try{const _0x7897f=doc(db,_0x221fdd(0x284),'dashboardConfig');await setDoc(_0x7897f,{'blueprintShortcuts':_0x20e2b0},{'merge':!![]}),document[_0x221fdd(0x773)]('shortcut-editor-modal')['classList'][_0x221fdd(0xd0a)](_0x221fdd(0x806));}catch(_0x260448){console[_0x221fdd(0x7bc)](_0x221fdd(0xa68),_0x260448),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleShortcutClick(_0x1fe961){const _0x4ffa59=_0x1d7cc9,_0x4bd1c0=blueprintShortcuts['find'](_0x25c0bc=>_0x25c0bc['id']===_0x1fe961);if(!_0x4bd1c0||!_0x4bd1c0[_0x4ffa59(0x78e)])return;document[_0x4ffa59(0x773)]('blueprint-options-container')[_0x4ffa59(0x985)][_0x4ffa59(0xd0a)](_0x4ffa59(0x806)),document[_0x4ffa59(0x773)](_0x4ffa59(0xcae))[_0x4ffa59(0x67a)]=!![];const _0x2cbea1=document[_0x4ffa59(0x773)](_0x4ffa59(0x388)),_0xc236f=document[_0x4ffa59(0x773)](_0x4ffa59(0x815));document['getElementById'](_0x4ffa59(0x647))[_0x4ffa59(0x985)][_0x4ffa59(0xa54)](_0x4ffa59(0x806)),document[_0x4ffa59(0x773)](_0x4ffa59(0x689))[_0x4ffa59(0x8ec)]='',_0x2cbea1[_0x4ffa59(0x985)][_0x4ffa59(0xa54)]('hidden');try{_0xc236f[_0x4ffa59(0xcd6)]=_0x4ffa59(0x3b4);const _0x187e0e=await fetchFileFromUrl(_0x4bd1c0[_0x4ffa59(0x78e)],_0x4ffa59(0x9b1));let _0x1bed68=null;if(_0x4bd1c0[_0x4ffa59(0xb1e)]){_0xc236f[_0x4ffa59(0xcd6)]=_0x4ffa59(0x6a4);const _0x40a341=_0x4bd1c0[_0x4ffa59(0xb1e)]['toLowerCase']()['endsWith'](_0x4ffa59(0x7e0))?_0x4ffa59(0xd91):_0x4ffa59(0x87c);_0x1bed68=await fetchFileFromUrl(_0x4bd1c0[_0x4ffa59(0xb1e)],_0x40a341);}await handleGenerateFromBlueprintWithFiles(_0x187e0e,_0x1bed68);}catch(_0x590b7f){console[_0x4ffa59(0x7bc)](_0x4ffa59(0x7cd),_0x590b7f),showMessage('เกิดข้อผิดพลาด:\x20'+_0x590b7f[_0x4ffa59(0xcee)]),_0x2cbea1[_0x4ffa59(0x985)][_0x4ffa59(0xd0a)](_0x4ffa59(0x806));}}function getDirectDownloadUrl(_0x441b37){const _0x33b441=_0x1d7cc9,_0x1cbb83=_0x441b37[_0x33b441(0x45a)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x1cbb83&&_0x1cbb83[0x1])return _0x33b441(0xb7c)+_0x1cbb83[0x1];return _0x441b37;}async function fetchFileFromUrl(_0x45cab5,_0x329f77){const _0x12c6d6=_0x1d7cc9,_0x5e0008=getDirectDownloadUrl(_0x45cab5),_0x1ef4eb=_0x12c6d6(0x372)+encodeURIComponent(_0x5e0008),_0x2a1dd3=await fetch(_0x1ef4eb);if(!_0x2a1dd3['ok'])throw new Error(_0x12c6d6(0x26b)+_0x2a1dd3[_0x12c6d6(0xfc)]+')');const _0xfdb424=await _0x2a1dd3[_0x12c6d6(0x8e2)](),_0x2b5c71=await new Promise((_0x58acb5,_0x2998ba)=>{const _0x342cfa=_0x12c6d6,_0x441164=new FileReader();_0x441164['onloadend']=()=>_0x58acb5(new Uint8Array(_0x441164[_0x342cfa(0xa53)])),_0x441164[_0x342cfa(0xdaa)]=_0x2998ba,_0x441164['readAsArrayBuffer'](_0xfdb424[_0x342cfa(0xd66)](0x0,0x4));});let _0x4bbb74='';const _0x4215f1=new TextDecoder()[_0x12c6d6(0x582)](_0x2b5c71);return _0x4215f1===_0x12c6d6(0x40c)?(_0x4bbb74='application/pdf',console[_0x12c6d6(0xe59)](_0x12c6d6(0x39d))):(_0x4bbb74=_0x12c6d6(0xce2),console['log'](_0x12c6d6(0x878))),new File([_0xfdb424],_0x329f77,{'type':_0x4bbb74});}async function handleGenerateFromBlueprintWithFiles(_0x469397,_0xa3c72e=null){const _0x45c45c=_0x1d7cc9;if(!_0x469397){showMessage('ไม่พบไฟล์\x20Test\x20Blueprint');return;}const _0x39356b=document[_0x45c45c(0x773)](_0x45c45c(0x388)),_0x446436=document[_0x45c45c(0x773)](_0x45c45c(0x815));_0x39356b[_0x45c45c(0x985)][_0x45c45c(0xa54)](_0x45c45c(0x806)),document['getElementById']('quiz-generation-area')[_0x45c45c(0x985)][_0x45c45c(0xa54)](_0x45c45c(0x806)),document[_0x45c45c(0x773)]('generated-quiz-container')[_0x45c45c(0x8ec)]='';try{_0x446436[_0x45c45c(0xcd6)]=_0x45c45c(0x88f);const _0x26b53d=await new Promise((_0xfdc11d,_0x3b63e9)=>{const _0x661ade=_0x45c45c,_0x371c39=new FileReader();_0x371c39[_0x661ade(0x15f)](_0x469397),_0x371c39[_0x661ade(0x4c6)]=()=>_0xfdc11d(_0x371c39['result'][_0x661ade(0xa50)](',')[0x1]),_0x371c39[_0x661ade(0xdaa)]=_0x3b63e9;}),_0x630faa=[];if(_0xa3c72e){_0x446436[_0x45c45c(0xcd6)]=_0x45c45c(0x4f1);const _0x1a3243=await _0xa3c72e[_0x45c45c(0xab4)]();_0x630faa[_0x45c45c(0x65b)]({'text':_0x45c45c(0x56b)+_0x1a3243});}const _0x13ed55=[{'text':'...'},{'inlineData':{'mimeType':_0x469397['type'],'data':_0x26b53d}},..._0x630faa];await handleGenerateFromBlueprint(_0x13ed55);}catch(_0xdd4573){console[_0x45c45c(0x7bc)](_0x45c45c(0x1c6),_0xdd4573),showMessage(_0x45c45c(0x8ae)+_0xdd4573[_0x45c45c(0xcee)]),_0x39356b[_0x45c45c(0x985)]['add'](_0x45c45c(0x806));}}async function handleLiveAnswer(_0x42674a,_0x3068c4){const _0x2ec84e=_0x1d7cc9;document[_0x2ec84e(0x4a1)](_0x2ec84e(0x11a))[_0x2ec84e(0xa25)](_0x44f9c6=>_0x44f9c6[_0x2ec84e(0x67a)]=!![]);const _0xe45c75=_0x3068c4[_0x2ec84e(0xa8d)]||currentQuizData[_0x2ec84e(0xd83)];let _0x250b23=![],_0x9527c5=_0x42674a;if(_0xe45c75===_0x2ec84e(0x33a)){const _0x5e4a0c=(_0x42674a||'')[_0x2ec84e(0x51a)]();_0x250b23=await gradeShortAnswer(_0x5e4a0c,_0x3068c4);}else{if(_0xe45c75===_0x2ec84e(0xbed))_0x250b23=_0x42674a===_0x3068c4['correctAnswerIndex'];else{if(_0xe45c75===_0x2ec84e(0xc39)){const _0x53b3d3=_0x3068c4[_0x2ec84e(0x77e)];_0x250b23=_0x42674a===0x0&&_0x53b3d3||_0x42674a===0x1&&!_0x53b3d3;}else{if(_0xe45c75===_0x2ec84e(0xe52)){const _0x331f50=_0x3068c4[_0x2ec84e(0x59d)][_0x42674a];_0x250b23=_0x331f50===_0x3068c4[_0x2ec84e(0x8e3)],_0x9527c5=_0x331f50;}}}}const _0x262039=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x4eba1a={};_0x4eba1a[_0x2ec84e(0xd7a)+currentStudentName+_0x2ec84e(0x504)]=!![],_0x4eba1a['players.'+currentStudentName+_0x2ec84e(0x544)]=_0x250b23,_0x4eba1a[_0x2ec84e(0xd7a)+currentStudentName+_0x2ec84e(0x721)]=_0xe45c75===_0x2ec84e(0x33a)||_0xe45c75===_0x2ec84e(0xe52)?null:_0x42674a,_0x4eba1a[_0x2ec84e(0xd7a)+currentStudentName+'.lastAnswerValue']=_0x9527c5,_0x4eba1a[_0x2ec84e(0xd7a)+currentStudentName+_0x2ec84e(0x714)]=serverTimestamp(),_0x4eba1a['players.'+currentStudentName+_0x2ec84e(0x742)]=![],await updateDoc(_0x262039,_0x4eba1a),liveGameView[_0x2ec84e(0x8ec)]=_0x2ec84e(0xc75);}function showAdminSummaryView(_0x596ab7,_0x30c2f0){const _0x307177=_0x1d7cc9,_0x5740f3=Object[_0x307177(0x230)](_0x596ab7[_0x307177(0x10d)]||{}),_0x530ac2=_0x30c2f0['questionType']||currentQuizData['quizType'],_0x2f2e7c=_0x530ac2==='true_false'?['ใช่',_0x307177(0xd0c)]:_0x30c2f0[_0x307177(0x50b)]||_0x30c2f0[_0x307177(0x59d)]||[],_0x10a4f0={},_0x51cc2b=new Array(_0x2f2e7c[_0x307177(0x5df)])[_0x307177(0xc47)](0x0);_0x2f2e7c['forEach']((_0x369a9f,_0x6522b3)=>{_0x10a4f0[_0x6522b3]=[];}),Object[_0x307177(0x565)](_0x596ab7[_0x307177(0x10d)]||{})['forEach'](([_0x246a5e,_0x2c77ef])=>{const _0x57e809=_0x307177;if(_0x2c77ef[_0x57e809(0xfc)]===_0x57e809(0x4c8)&&_0x2c77ef['lastAnswerIndex']!==undefined){const _0x125843=_0x2c77ef[_0x57e809(0x92d)];_0x10a4f0[_0x125843]&&(_0x10a4f0[_0x125843]['push'](_0x246a5e),_0x51cc2b[_0x125843]++);}});const _0x42b9aa=Math['max'](..._0x51cc2b,0x1),_0x3ad463=_0x307177(0x976)+(_0x30c2f0[_0x307177(0x43c)]||_0x30c2f0[_0x307177(0xc27)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51cc2b['map']((_0x313219,_0x524bbd)=>{const _0x2007ef=_0x307177,_0x2b6771=_0x10a4f0[_0x524bbd][_0x2007ef(0x5df)]>0x0?_0x10a4f0[_0x524bbd][_0x2007ef(0x370)](',\x20'):_0x2007ef(0xae1);let _0x188266=![];if(_0x530ac2===_0x2007ef(0xbed))_0x188266=_0x524bbd===_0x30c2f0[_0x2007ef(0xc68)];else{if(_0x530ac2===_0x2007ef(0xc39)){const _0x4c2763=_0x30c2f0[_0x2007ef(0x77e)];_0x188266=_0x4c2763&&_0x524bbd===0x0||!_0x4c2763&&_0x524bbd===0x1;}else _0x530ac2===_0x2007ef(0xe52)&&(_0x188266=_0x2f2e7c[_0x524bbd]===_0x30c2f0[_0x2007ef(0x8e3)]);}const _0x3605b3=_0x188266?_0x2007ef(0x6c0):_0x2007ef(0x1c2);return _0x2007ef(0x49d)+_0x313219+_0x2007ef(0x375)+_0x3605b3+_0x2007ef(0x542)+_0x524bbd+_0x2007ef(0x54e)+_0x2f2e7c[_0x524bbd]+_0x2007ef(0x163)+_0x524bbd+_0x2007ef(0x3bf)+_0x2b6771+_0x2007ef(0x206);})['join']('')+_0x307177(0xa78);liveGameView[_0x307177(0x8ec)]=_0x3ad463;if(window[_0x307177(0x6a1)])MathJax['typesetPromise']();document[_0x307177(0x773)]('show-leaderboard-btn')['addEventListener'](_0x307177(0x2af),async()=>{const _0x1f49ec=_0x307177,_0x5a113f=doc(db,_0x1f49ec(0x6de)+appId+_0x1f49ec(0x352),currentLiveGameId);await updateDoc(_0x5a113f,{'questionStatus':_0x1f49ec(0x8e4)});}),document[_0x307177(0x773)](_0x307177(0x7f1))[_0x307177(0x6f7)](_0x307177(0x2af),()=>{openScratchpad(_0x30c2f0,_0x2f2e7c);});}function showPlayerSummaryView(_0x14c551,_0x368050){const _0x256a8e=_0x1d7cc9,_0x5d78e2=Object[_0x256a8e(0x230)](_0x14c551['players']||{}),_0x1330ba=_0x14c551[_0x256a8e(0x10d)][_0x368050],_0x2e0e2c=_0x5d78e2[_0x256a8e(0x485)](_0x1691b2=>_0x1691b2[_0x256a8e(0xfc)]==='active')[_0x256a8e(0xc1c)]((_0x1034a5,_0x346a8a)=>_0x346a8a[_0x256a8e(0x5f8)]-_0x1034a5['score']),_0x3ee75f=_0x2e0e2c[_0x256a8e(0x50a)](_0x448f0a=>_0x448f0a===_0x1330ba)+0x1,_0x54357d=_0x1330ba[_0x256a8e(0x1f5)]?_0x256a8e(0xdaf):'ผิด',_0x157004=_0x1330ba[_0x256a8e(0x1f5)]?_0x256a8e(0x5f3):_0x256a8e(0x34d),_0x44f222=_0x1330ba[_0x256a8e(0x14b)]||0x0,_0x27d130=_0x256a8e(0xac2),_0x274b92=_0x256a8e(0xb0d)+_0x27d130+_0x256a8e(0xda0)+_0x157004+_0x256a8e(0x7de)+_0x54357d+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x44f222+_0x256a8e(0x97f)+(_0x3ee75f>0x0?_0x3ee75f:'-')+_0x256a8e(0x5e5);liveGameView[_0x256a8e(0x8ec)]=_0x274b92;}function createQuizFromBank(){const _0x5afdf0=_0x1d7cc9,_0x4d8868=document['querySelectorAll'](_0x5afdf0(0x6e9));if(_0x4d8868[_0x5afdf0(0x5df)]===0x0){showMessage(_0x5afdf0(0x437));return;}const _0x3f307c=[];_0x4d8868[_0x5afdf0(0xa25)](_0x56fb46=>{const _0x5442b7=_0x5afdf0;_0x3f307c[_0x5442b7(0x65b)](JSON[_0x5442b7(0xbf7)](_0x56fb46[_0x5442b7(0xd9d)]));});const _0x134a2b={'topic':_0x5afdf0(0x8b9),'questions':_0x3f307c};displayGeneratedQuiz(_0x134a2b);}function showAdminLobbyView(_0x21ad34,_0x2b5ea7){const _0x4102b5=_0x1d7cc9;showView(_0x4102b5(0xc90));const _0x46701d=_0x4102b5(0xdb2)+_0x2b5ea7+_0x4102b5(0x640)+_0x21ad34+_0x4102b5(0xdc);liveGameView[_0x4102b5(0x8ec)]=_0x46701d,document[_0x4102b5(0x773)](_0x4102b5(0x727))[_0x4102b5(0x6f7)]('click',async()=>{const _0x30f1d7=_0x4102b5;if(!currentQuizData||!currentQuizData[_0x30f1d7(0xcf9)]||currentQuizData[_0x30f1d7(0xcf9)][_0x30f1d7(0x5df)]===0x0){showMessage(_0x30f1d7(0x357));return;}try{const _0x58354e=doc(db,_0x30f1d7(0x6de)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x58354e,{'status':_0x30f1d7(0xa9f),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x231215=currentQuizData[_0x30f1d7(0xcf9)][0x0],_0x199443=currentQuizData[_0x30f1d7(0xcf9)][_0x30f1d7(0x5df)];showAdminLiveQuestionView(_0x231215,0x0,_0x199443);}catch(_0x2011e8){console[_0x30f1d7(0x7bc)]('Error\x20starting\x20game:',_0x2011e8),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x403b16=_0x1d7cc9;if(allQuizzesGlobal[_0x403b16(0x5df)]===0x0){const _0xe7b586=await getDocs(collection(db,_0x403b16(0x6de)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0xe7b586[_0x403b16(0x79c)][_0x403b16(0x9d3)](_0x5cd395=>({'id':_0x5cd395['id'],..._0x5cd395[_0x403b16(0xafb)]()}));}renderQuizBankList(''),document[_0x403b16(0x773)]('quiz-bank-modal')[_0x403b16(0x985)][_0x403b16(0xa54)]('hidden');}function renderQuizBankList(_0x6c8fbc='',_0x14b61e=![]){const _0x2ff9df=_0x1d7cc9,_0x6e91e8=document[_0x2ff9df(0x773)](_0x2ff9df(0xcd7)),_0x4e2037=_0x6c8fbc[_0x2ff9df(0xa43)]()[_0x2ff9df(0xafd)](),_0x238d6d=allQuizzesGlobal[_0x2ff9df(0x9d3)](_0x5709a8=>({..._0x5709a8,'projectName':allProjects['find'](_0x19e003=>_0x19e003['id']===_0x5709a8[_0x2ff9df(0xa1f)])?.[_0x2ff9df(0x1c1)]||_0x2ff9df(0x539)}))[_0x2ff9df(0x485)](_0x4fb496=>(_0x4fb496[_0x2ff9df(0xa37)]||'')[_0x2ff9df(0xa43)]()[_0x2ff9df(0x1f6)](_0x4e2037)||(_0x4fb496['projectName']||'')[_0x2ff9df(0xa43)]()[_0x2ff9df(0x1f6)](_0x4e2037)||_0x4fb496['id'][_0x2ff9df(0x51a)]()[_0x2ff9df(0x1f6)](_0x4e2037));document[_0x2ff9df(0x773)]('quiz-bank-count')['textContent']='('+_0x238d6d[_0x2ff9df(0x5df)]+_0x2ff9df(0x8f1),_0x6e91e8[_0x2ff9df(0x8ec)]=_0x238d6d['length']?_0x238d6d['map'](_0x2f79a2=>{const _0x46b07=_0x2ff9df,_0x159429=!_0x14b61e?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2f79a2['id']+_0x46b07(0xac0)+_0x2f79a2['id']+_0x46b07(0xaa1)+_0x2f79a2['id']+_0x46b07(0x5f1)+_0x2f79a2['id']+_0x46b07(0x760)+_0x2f79a2['id']+_0x46b07(0x6ee)+_0x2f79a2['id']+_0x46b07(0xe3e)+_0x2f79a2[_0x46b07(0xa37)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return _0x46b07(0x5dd)+_0x2f79a2['id']+_0x46b07(0x7f9)+(_0x2f79a2[_0x46b07(0xa37)]||_0x46b07(0xcc9))+_0x46b07(0xd63)+(_0x2f79a2[_0x46b07(0xcf9)]?.[_0x46b07(0x5df)]||0x0)+_0x46b07(0xba0)+_0x2f79a2[_0x46b07(0x1c1)]+_0x46b07(0xda3)+_0x2f79a2['id']+_0x46b07(0xc33)+_0x159429+_0x46b07(0x515);})[_0x2ff9df(0x370)](''):_0x2ff9df(0xbbe),!_0x14b61e&&(_0x6e91e8[_0x2ff9df(0x4a1)](_0x2ff9df(0x826))[_0x2ff9df(0xa25)](_0x5e187d=>{const _0x3c0794=_0x2ff9df;_0x5e187d[_0x3c0794(0x6f7)](_0x3c0794(0x2af),()=>{const _0x38431c=_0x3c0794,_0x4b6105=_0x5e187d['dataset']['id'];document['getElementById'](_0x38431c(0xe45))[_0x38431c(0x985)][_0x38431c(0xd0a)](_0x38431c(0x806)),showQuizDetailView(_0x4b6105);});}),_0x6e91e8[_0x2ff9df(0x4a1)](_0x2ff9df(0x90d))[_0x2ff9df(0xa25)](_0x3c4139=>{const _0x2b2b50=_0x2ff9df;_0x3c4139[_0x2b2b50(0x6f7)]('click',_0xa34dd=>{const _0x33cfed=_0x2b2b50;_0xa34dd['stopPropagation']();const _0xb9846f=_0x3c4139[_0x33cfed(0x576)]['id'],_0x335547=allQuizzesGlobal[_0x33cfed(0x15b)](_0x37655d=>_0x37655d['id']===_0xb9846f);_0x335547?(currentQuizData=_0x335547,document[_0x33cfed(0x773)](_0x33cfed(0xe45))[_0x33cfed(0x985)][_0x33cfed(0xd0a)](_0x33cfed(0x806)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x6e91e8['querySelectorAll']('.quiz-bank-parallel-btn')[_0x2ff9df(0xa25)](_0x51c4ca=>{_0x51c4ca['addEventListener']('click',_0x1963cc=>{const _0x24d160=_0x5842;_0x1963cc[_0x24d160(0x799)]();const _0x116516=_0x51c4ca[_0x24d160(0x576)]['id'],_0x3b124e=allQuizzesGlobal[_0x24d160(0x15b)](_0x3b4b4a=>_0x3b4b4a['id']===_0x116516);_0x3b124e?(document[_0x24d160(0x773)](_0x24d160(0xe45))[_0x24d160(0x985)][_0x24d160(0xd0a)](_0x24d160(0x806)),handleGenerateParallelFromBank(_0x3b124e)):showMessage(_0x24d160(0x84a));});}),_0x6e91e8[_0x2ff9df(0x4a1)](_0x2ff9df(0xdcc))[_0x2ff9df(0xa25)](_0x3d0b3d=>{const _0x3f4913=_0x2ff9df;_0x3d0b3d[_0x3f4913(0x6f7)]('click',_0x2bac24=>{const _0x45016f=_0x3f4913;_0x2bac24[_0x45016f(0x799)]();const _0x24d876=_0x3d0b3d[_0x45016f(0x576)]['id'],_0x53969c=allQuizzesGlobal[_0x45016f(0x15b)](_0x1c410b=>_0x1c410b['id']===_0x24d876);_0x53969c?(document[_0x45016f(0x773)](_0x45016f(0xe45))[_0x45016f(0x985)]['add'](_0x45016f(0x806)),startPresentation(_0x53969c)):showMessage(_0x45016f(0x84a));});}),_0x6e91e8[_0x2ff9df(0x4a1)]('.quiz-bank-move-btn')[_0x2ff9df(0xa25)](_0x5cdf0a=>{const _0x581d70=_0x2ff9df;_0x5cdf0a[_0x581d70(0x6f7)]('click',_0x590a45=>{const _0x16ec6a=_0x581d70;_0x590a45['stopPropagation']();const _0x5fba33=_0x5cdf0a[_0x16ec6a(0x576)]['id'];document[_0x16ec6a(0x773)](_0x16ec6a(0xe45))[_0x16ec6a(0x985)][_0x16ec6a(0xd0a)]('hidden'),handleMoveQuiz(_0x5fba33);});}),_0x6e91e8['querySelectorAll'](_0x2ff9df(0xe5f))[_0x2ff9df(0xa25)](_0x17cae4=>{const _0x1ca613=_0x2ff9df;_0x17cae4[_0x1ca613(0x6f7)](_0x1ca613(0x2af),_0x12cac9=>{const _0x4aa719=_0x1ca613;_0x12cac9[_0x4aa719(0x799)]();const _0x1684fa=_0x17cae4[_0x4aa719(0x576)]['id'];document['getElementById'](_0x4aa719(0xe45))[_0x4aa719(0x985)][_0x4aa719(0xd0a)]('hidden'),handleQuizSettings(_0x1684fa);});}),_0x6e91e8[_0x2ff9df(0x4a1)]('.quiz-bank-delete-btn')[_0x2ff9df(0xa25)](_0x21c17e=>{const _0x5859cb=_0x2ff9df;_0x21c17e[_0x5859cb(0x6f7)](_0x5859cb(0x2af),_0x229577=>{const _0x3cf6bf=_0x5859cb;_0x229577[_0x3cf6bf(0x799)]();const _0x3ad2c1=_0x21c17e['dataset']['id'],_0x15140c=_0x21c17e[_0x3cf6bf(0x576)][_0x3cf6bf(0xa37)];showConfirmation(_0x3cf6bf(0xe02)+_0x15140c+_0x3cf6bf(0xc60),()=>handleDeleteQuiz(_0x3ad2c1));});}));}async function handleCompareResults(_0x7f7c85,_0x245917){const _0x4a5798=_0x1d7cc9,_0xcefd44=document[_0x4a5798(0x773)](_0x4a5798(0x513)),_0xe90a72=document[_0x4a5798(0x773)](_0x4a5798(0xbb8)),_0x289694=document[_0x4a5798(0x773)](_0x4a5798(0x4e1));document[_0x4a5798(0x773)](_0x4a5798(0x9b3))['classList'][_0x4a5798(0xd0a)](_0x4a5798(0x4c8)),document[_0x4a5798(0x773)](_0x4a5798(0x1e5))[_0x4a5798(0x985)][_0x4a5798(0xa54)](_0x4a5798(0x4c8)),_0xe90a72['classList'][_0x4a5798(0xa54)](_0x4a5798(0x806)),_0x289694[_0x4a5798(0x985)][_0x4a5798(0xd0a)]('hidden'),_0xe90a72[_0x4a5798(0x8ec)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x289694[_0x4a5798(0x8ec)]='',_0xcefd44[_0x4a5798(0x985)]['remove'](_0x4a5798(0x806));try{const _0x5dffb7=doc(db,_0x4a5798(0x6de)+appId+'/public/data/quizzes',_0x7f7c85),_0x15548c=await getDoc(_0x5dffb7);if(!_0x15548c[_0x4a5798(0xc63)]())throw new Error(_0x4a5798(0x871));const _0x768fb9=_0x15548c['data'](),_0x3631da=_0x768fb9['questions'][_0x4a5798(0x5df)],_0x32ef06=collection(db,_0x4a5798(0x6de)+appId+_0x4a5798(0x6b1)+_0x245917+_0x4a5798(0x1cf)),_0xa78e0=collection(db,'artifacts/'+appId+_0x4a5798(0x6b1)+_0x7f7c85+'/submissions'),[_0x294a77,_0x17ce36]=await Promise['all']([getDocs(_0x32ef06),getDocs(_0xa78e0)]),_0x3b597f=_0x294a77[_0x4a5798(0x79c)][_0x4a5798(0x9d3)](_0x4bee8b=>_0x4bee8b[_0x4a5798(0xafb)]()),_0x327029=_0x17ce36[_0x4a5798(0x79c)][_0x4a5798(0x9d3)](_0x3b9fd6=>_0x3b9fd6[_0x4a5798(0xafb)]()),_0x8c4ce9=_0x3b597f['map'](_0x5d9af0=>_0x5d9af0[_0x4a5798(0x1ea)]),_0xc9b971=_0x327029[_0x4a5798(0x9d3)](_0x5b830d=>_0x5b830d[_0x4a5798(0x1ea)]),_0x2c69da=calculateMeanAndStdDev(_0x8c4ce9),_0x23008b=calculateMeanAndStdDev(_0xc9b971),_0x6bc1ee=_0x2c69da[_0x4a5798(0xd71)],_0x2bb4df=_0x23008b[_0x4a5798(0xd71)],_0x4e4493=_0x2bb4df-_0x6bc1ee;let _0x443be6=_0x4a5798(0xbd6)+_0x6bc1ee['toFixed'](0x2)+_0x4a5798(0x258)+_0x2bb4df[_0x4a5798(0x7ad)](0x2)+_0x4a5798(0x91d)+(_0x4e4493>=0x0?_0x4a5798(0x9c1):_0x4a5798(0x5f4))+_0x4a5798(0x2d4)+(_0x4e4493>=0x0?_0x4a5798(0xc18):_0x4a5798(0xbe6))+_0x4a5798(0x972)+(_0x4e4493>=0x0?_0x4a5798(0x8d8):_0x4a5798(0xca4))+'\x22>'+(_0x4e4493>=0x0?'+':'')+_0x4e4493[_0x4a5798(0x7ad)](0x2)+_0x4a5798(0xc24);_0xe90a72[_0x4a5798(0x8ec)]=_0x443be6;const _0x4dd7e4=document[_0x4a5798(0x773)](_0x4a5798(0xc11))[_0x4a5798(0xd95)]('2d');if(chartInstances[_0x4a5798(0x99e)])chartInstances[_0x4a5798(0x99e)][_0x4a5798(0xcff)]();chartInstances[_0x4a5798(0x99e)]=new Chart(_0x4dd7e4,{'type':_0x4a5798(0x8f5),'data':{'labels':[_0x4a5798(0xb2a)],'datasets':[{'label':_0x4a5798(0x151),'data':[_0x6bc1ee],'backgroundColor':_0x4a5798(0x8d7)},{'label':'หลังเรียน','data':[_0x2bb4df],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x3631da}}}});const _0x5eaf06=currentProjectData['students']||[],_0x55029b=_0x5eaf06[_0x4a5798(0x9d3)](_0x40f824=>{const _0x2720af=_0x4a5798,_0x5981f4=_0x3b597f['find'](_0xba69f1=>_0xba69f1['studentName']===_0x40f824),_0x7aa631=_0x327029[_0x2720af(0x15b)](_0x3276f2=>_0x3276f2[_0x2720af(0xa12)]===_0x40f824),_0x377da3=_0x5981f4?_0x5981f4[_0x2720af(0x1ea)]:null,_0x45e984=_0x7aa631?_0x7aa631['latestScore']:null,_0x465887=_0x377da3!==null&&_0x45e984!==null?_0x45e984-_0x377da3:null,_0x56bcb4=_0x377da3!==null?calculateZScore(_0x377da3,_0x2c69da['mean'],_0x2c69da[_0x2720af(0xb21)]):null,_0x460dcd=_0x45e984!==null?calculateZScore(_0x45e984,_0x23008b[_0x2720af(0xd71)],_0x23008b[_0x2720af(0xb21)]):null,_0x5ba9f2=_0x56bcb4!==null?calculateTScore(_0x56bcb4):null,_0x12667e=_0x460dcd!==null?calculateTScore(_0x460dcd):null,_0x795e3a=_0x5ba9f2!==null&&_0x12667e!==null?_0x12667e-_0x5ba9f2:null;return{'name':_0x40f824,'preScore':_0x377da3,'postScore':_0x45e984,'gain':_0x465887,'preTScore':_0x5ba9f2,'postTScore':_0x12667e,'tGain':_0x795e3a};});renderIndividualComparisonTable(_0x55029b,_0x289694);}catch(_0x2f488d){console[_0x4a5798(0x7bc)](_0x4a5798(0x6f8),_0x2f488d),_0xe90a72[_0x4a5798(0x8ec)]=_0x4a5798(0xe32);}}async function saveBlueprintProject(){const _0x3f0c63=_0x1d7cc9;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage(_0x3f0c63(0x9ab));return;}const _0x5eae76=prompt(_0x3f0c63(0x867),_0x3f0c63(0xd7d));if(!_0x5eae76||_0x5eae76['trim']()==='')return;const _0x22c8fc={};extractedBlueprintData[_0x3f0c63(0xd94)][_0x3f0c63(0xa25)](_0x389b70=>{const _0x313d5e=_0x3f0c63;_0x389b70[_0x313d5e(0x586)]['forEach'](_0x571b5a=>{const _0x28cb12=_0x313d5e;_0x571b5a[_0x28cb12(0x7d5)]['forEach'](_0x504746=>{const _0x4a6176=_0x28cb12,_0x4268d5=_0x4a6176(0xb47)+Date[_0x4a6176(0xdbe)]()+Math[_0x4a6176(0xa75)]()[_0x4a6176(0x51a)](0x24)[_0x4a6176(0x6d7)](0x2,0x9);_0x22c8fc[_0x4268d5]={'sara':_0x389b70[_0x4a6176(0x4c9)],'mainTopic':_0x571b5a[_0x4a6176(0x3c7)],'subTopic':_0x504746,'status':_0x4a6176(0xe00),'lessonContent':null};});});});try{const _0x43ff11=collection(db,_0x3f0c63(0x6de)+appId+_0x3f0c63(0x31d));await addDoc(_0x43ff11,{'projectName':_0x5eae76[_0x3f0c63(0xafd)](),'gradeLevel':extractedBlueprintData[_0x3f0c63(0x5ca)],'topics':_0x22c8fc,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x5eae76['trim']()+_0x3f0c63(0x3bc)),document[_0x3f0c63(0x773)](_0x3f0c63(0xc9e))[_0x3f0c63(0x985)][_0x3f0c63(0xd0a)](_0x3f0c63(0x806));}catch(_0x423b9f){console[_0x3f0c63(0x7bc)](_0x3f0c63(0x292),_0x423b9f),showMessage(_0x3f0c63(0x106));}}async function showBlueprintProjects(){const _0x59ff34=_0x1d7cc9,_0x51f523=document['getElementById'](_0x59ff34(0x697)),_0x3722b1=document[_0x59ff34(0x773)](_0x59ff34(0x1ed));_0x3722b1[_0x59ff34(0x8ec)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x51f523[_0x59ff34(0x985)]['remove'](_0x59ff34(0x806));try{const _0x178c52=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects'),_0x3be0e9=await getDocs(_0x178c52);if(_0x3be0e9['empty']){_0x3722b1[_0x59ff34(0x8ec)]=_0x59ff34(0x257);return;}const _0x486460=_0x3be0e9[_0x59ff34(0x79c)][_0x59ff34(0x9d3)](_0x457bfe=>({'id':_0x457bfe['id'],..._0x457bfe['data']()}));_0x486460[_0x59ff34(0xc1c)]((_0x4e436c,_0x19bc96)=>_0x4e436c[_0x59ff34(0x1c1)][_0x59ff34(0xbbb)](_0x19bc96[_0x59ff34(0x1c1)],'th')),_0x3722b1[_0x59ff34(0x8ec)]=_0x486460['map'](_0x5dc7b7=>_0x59ff34(0x66e)+_0x5dc7b7[_0x59ff34(0x1c1)]+_0x59ff34(0x8ac)+_0x5dc7b7[_0x59ff34(0x5ca)]+_0x59ff34(0x3ef)+Object[_0x59ff34(0x203)](_0x5dc7b7['topics'])[_0x59ff34(0x5df)]+_0x59ff34(0x830)+_0x5dc7b7['id']+_0x59ff34(0x5f0)+_0x5dc7b7['id']+_0x59ff34(0x45f))[_0x59ff34(0x370)]('');}catch(_0x236ba8){console[_0x59ff34(0x7bc)](_0x59ff34(0x942),_0x236ba8),_0x3722b1[_0x59ff34(0x8ec)]=_0x59ff34(0xb25);}}async function displayBlueprintProjectManager(_0x556775){const _0xc8f5a5=_0x1d7cc9;currentBlueprintProjectId=_0x556775,document[_0xc8f5a5(0x773)]('blueprint-projects-modal')[_0xc8f5a5(0x985)]['add'](_0xc8f5a5(0x806)),showView(_0xc8f5a5(0x14f)),projectDashboardView[_0xc8f5a5(0x985)][_0xc8f5a5(0xd0a)](_0xc8f5a5(0x806));const _0x45a455=document[_0xc8f5a5(0x773)](_0xc8f5a5(0xb45));_0x45a455['classList']['remove'](_0xc8f5a5(0x806)),document[_0xc8f5a5(0x773)]('bp-topic-list-container')[_0xc8f5a5(0x8ec)]=_0xc8f5a5(0x464);try{const _0x5f5522=doc(db,_0xc8f5a5(0x6de)+appId+_0xc8f5a5(0x31d),_0x556775),_0x4e40cc=await getDoc(_0x5f5522);if(!_0x4e40cc[_0xc8f5a5(0xc63)]())throw new Error(_0xc8f5a5(0x720));const _0x5cf4c8={'id':_0x4e40cc['id'],..._0x4e40cc[_0xc8f5a5(0xafb)]()};document['getElementById'](_0xc8f5a5(0x712))[_0xc8f5a5(0xcd6)]=_0x5cf4c8[_0xc8f5a5(0x1c1)],document[_0xc8f5a5(0x773)]('bp-reference-file-url')[_0xc8f5a5(0xd9d)]=_0x5cf4c8[_0xc8f5a5(0xe4f)]||'',renderBlueprintTopicManager(_0x5cf4c8);}catch(_0x365819){console[_0xc8f5a5(0x7bc)](_0xc8f5a5(0xa72),_0x365819),showMessage(_0x365819[_0xc8f5a5(0xcee)]),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x437301){const _0x3c1548=_0x1d7cc9,_0x1ceeac=document['getElementById']('bp-topic-list-container'),_0x3737c4=_0x437301[_0x3c1548(0x64f)]||{};if(Object[_0x3c1548(0x203)](_0x3737c4)['length']===0x0){_0x1ceeac[_0x3c1548(0x8ec)]=_0x3c1548(0xe60);return;}const _0xefb6d6=Object[_0x3c1548(0x565)](_0x3737c4)[_0x3c1548(0x9d3)](([_0x12622e,_0x4603fb])=>({'id':_0x12622e,..._0x4603fb}))[_0x3c1548(0xc1c)]((_0x45555c,_0x159cff)=>(_0x45555c[_0x3c1548(0x8ab)]??Infinity)-(_0x159cff[_0x3c1548(0x8ab)]??Infinity)),_0x18fc7b={};_0xefb6d6['forEach'](_0x49b4cb=>{const {sara:_0x3b386d,mainTopic:_0x551c85}=_0x49b4cb;!_0x18fc7b[_0x3b386d]&&(_0x18fc7b[_0x3b386d]={}),!_0x18fc7b[_0x3b386d][_0x551c85]&&(_0x18fc7b[_0x3b386d][_0x551c85]=[]),_0x18fc7b[_0x3b386d][_0x551c85]['push'](_0x49b4cb);});let _0x38fa5c='';for(const _0xdca5a6 in _0x18fc7b){_0x38fa5c+=_0x3c1548(0x169)+_0xdca5a6+_0x3c1548(0x8f2);for(const _0x319ce6 in _0x18fc7b[_0xdca5a6]){_0x38fa5c+=_0x3c1548(0x5e3)+_0x319ce6+_0x3c1548(0x88e),_0x18fc7b[_0xdca5a6][_0x319ce6][_0x3c1548(0xa25)](_0x4f3016=>{const _0x5417ed=_0x3c1548,_0x17d2ae=_0x4f3016['id'],_0x4d2bf0=_0x4f3016[_0x5417ed(0x8cd)]||[],_0x16b3da=_0x4d2bf0[_0x5417ed(0x5df)]>0x0,_0x47e681=_0x4f3016[_0x5417ed(0xfc)]===_0x5417ed(0x1ac);let _0x60dbff='';_0x16b3da?_0x60dbff=_0x5417ed(0x269)+_0x4d2bf0[_0x5417ed(0x5df)]+_0x5417ed(0xa09):_0x60dbff='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0x47e681?_0x5417ed(0xe48):_0x5417ed(0x8a0))+'\x22>'+(_0x47e681?'สร้างแล้ว':_0x5417ed(0xc78))+_0x5417ed(0xe54);const _0x45dfec=!_0x47e681?_0x5417ed(0x105):'',_0x303244=!_0x47e681?_0x5417ed(0xb52):'';let _0x23675=_0x47e681?_0x5417ed(0x64a):_0x5417ed(0x7d9);_0x38fa5c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x17d2ae+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x4f3016[_0x5417ed(0x9eb)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x60dbff+_0x5417ed(0xa0a)+_0x45dfec+_0x5417ed(0xcdb)+_0x303244+_0x5417ed(0x93c)+_0x23675+_0x5417ed(0xc12);}),_0x38fa5c+=_0x3c1548(0x8fe);}_0x38fa5c+=_0x3c1548(0x1b1);}_0x1ceeac[_0x3c1548(0x8ec)]=_0x38fa5c;}async function handleDeepDeleteBlueprintProject(_0x566a52){const _0x271517=_0x1d7cc9,_0x562567=doc(db,_0x271517(0x6de)+appId+'/public/data/blueprintProjects',_0x566a52),_0x312ed0=await getDoc(_0x562567);if(!_0x312ed0[_0x271517(0xc63)]()){showMessage('ไม่พบโปรเจคที่ต้องการลบ');return;}const _0x2989e5=_0x312ed0[_0x271517(0xafb)]()[_0x271517(0x1c1)];showConfirmation('คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x2989e5+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x2d6c57=_0x271517;showMessage('กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...');try{const _0x479159=writeBatch(db),_0x23f371=_0x312ed0[_0x2d6c57(0xafb)](),_0x1e10e6=_0x23f371[_0x2d6c57(0x64f)]||{};for(const _0x337220 in _0x1e10e6){const _0x179e9d=doc(db,_0x2d6c57(0x6de)+appId+_0x2d6c57(0xdf4)+_0x566a52+'/lessons',_0x337220);_0x479159[_0x2d6c57(0x2ca)](_0x179e9d);}const _0x2151db=new Set();for(const _0x39c4c1 in _0x1e10e6){_0x1e10e6[_0x39c4c1][_0x2d6c57(0x8cd)]&&_0x1e10e6[_0x39c4c1]['linkedQuizIds']['forEach'](_0x3ff8b6=>_0x2151db[_0x2d6c57(0xd0a)](_0x3ff8b6));}for(const _0x119294 of _0x2151db){await handleDeleteQuiz(_0x119294,![]);}_0x479159[_0x2d6c57(0x2ca)](_0x562567),await _0x479159[_0x2d6c57(0x3f1)](),showMessage(_0x2d6c57(0xaf4)+_0x2989e5+_0x2d6c57(0xd12)),showBlueprintProjects();}catch(_0x1c897c){console[_0x2d6c57(0x7bc)](_0x2d6c57(0x18d),_0x1c897c),showMessage(_0x2d6c57(0xe47));}});}async function openTopicQuizBank(_0x2745af){const _0x243999=_0x1d7cc9,_0xdf9d44=document[_0x243999(0x773)](_0x243999(0x387)),_0x26257d=document[_0x243999(0x773)](_0x243999(0xdf8)),_0x55b519=document['getElementById']('clear-all-links-btn');try{await ensureGlobalQuizzesLoaded();const _0x43813a=doc(db,'artifacts/'+appId+_0x243999(0x31d),currentBlueprintProjectId),_0x5a1962=await getDoc(_0x43813a);if(!_0x5a1962[_0x243999(0xc63)]())return;const _0x6ddda7=_0x5a1962['data'](),_0x3b778e=_0x6ddda7[_0x243999(0x64f)][_0x2745af];document[_0x243999(0x773)](_0x243999(0x191))[_0x243999(0xcd6)]=_0x3b778e[_0x243999(0x9eb)];const _0x32094a=_0x3b778e['linkedQuizIds']||[];_0x55b519[_0x243999(0x985)][_0x243999(0xbbd)](_0x243999(0x806),_0x32094a[_0x243999(0x5df)]===0x0),_0x55b519['onclick']=()=>handleClearAllLinksForTopic(_0x2745af);if(_0x32094a[_0x243999(0x5df)]===0x0)_0x26257d['innerHTML']=_0x243999(0x453);else{const _0x435e77=allQuizzesGlobal[_0x243999(0x485)](_0xa4e0e3=>_0x32094a['includes'](_0xa4e0e3['id']));_0x26257d['innerHTML']=_0x435e77[_0x243999(0x9d3)](_0x1840c7=>_0x243999(0x471)+_0x1840c7['id']+_0x243999(0x3e6)+_0x1840c7[_0x243999(0xa37)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x1840c7['id']+'\x20|\x20'+_0x1840c7[_0x243999(0xcf9)][_0x243999(0x5df)]+_0x243999(0x4e5)+_0x1840c7['id']+_0x243999(0xaaf)+_0x1840c7['id']+_0x243999(0x130)+_0x1840c7['id']+_0x243999(0x97c)+_0x1840c7['id']+_0x243999(0x35d)+_0x2745af+_0x243999(0x2c6)+_0x1840c7['id']+_0x243999(0x752))[_0x243999(0x370)]('');}document[_0x243999(0x773)](_0x243999(0x60e))[_0x243999(0xb4f)]=()=>{openQuizSelectorForBlueprint(_0x2745af);},document['getElementById'](_0x243999(0xcaa))['onclick']=()=>_0xdf9d44[_0x243999(0x985)][_0x243999(0xd0a)](_0x243999(0x806)),_0xdf9d44['classList'][_0x243999(0xa54)]('hidden');}catch(_0x5ac9fb){showMessage(_0x5ac9fb[_0x243999(0xcee)]);}}async function openQuizSelectorForBlueprint(_0x30559e){const _0x578c22=_0x1d7cc9,_0x395fd8=document[_0x578c22(0x773)](_0x578c22(0xe45)),_0x45263b=document[_0x578c22(0x773)](_0x578c22(0x387));_0x45263b[_0x578c22(0x985)][_0x578c22(0xd0a)](_0x578c22(0x806)),document[_0x578c22(0x773)](_0x578c22(0x874))?.['remove']();const _0x5e60ad=document['createElement'](_0x578c22(0x9b2));_0x5e60ad['id']=_0x578c22(0x874),_0x5e60ad[_0x578c22(0xbb6)]=_0x578c22(0x96d),_0x5e60ad[_0x578c22(0xcd6)]=_0x578c22(0x1a4),_0x5e60ad[_0x578c22(0x67a)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x395fd8[_0x578c22(0x985)][_0x578c22(0xa54)](_0x578c22(0x806)),renderQuizBankListForMultiSelect(''),document[_0x578c22(0x773)](_0x578c22(0x25a))['style']['display']=_0x578c22(0x264),_0x395fd8[_0x578c22(0x86f)]('.flex.justify-between.items-center')[_0x578c22(0x3d7)](_0x5e60ad);const _0x29fc0e=(_0x430d39=![])=>{const _0x5d433a=_0x578c22;_0x395fd8['classList'][_0x5d433a(0xd0a)]('hidden'),document['getElementById'](_0x5d433a(0x25a))['style']['display']=_0x5d433a(0xe4e),_0x5e60ad[_0x5d433a(0xa54)](),_0x430d39&&openTopicQuizBank(_0x30559e);};_0x5e60ad[_0x578c22(0xb4f)]=async()=>{const _0x5cd619=_0x578c22,_0x298123=Array['from'](document[_0x5cd619(0x4a1)]('.quiz-bank-checkbox:checked'))[_0x5cd619(0x9d3)](_0x233dac=>_0x233dac[_0x5cd619(0xd9d)]);if(_0x298123['length']===0x0)return;try{const _0xccd6c=doc(db,'artifacts/'+appId+_0x5cd619(0x31d),currentBlueprintProjectId),_0x59a36d=(await getDoc(_0xccd6c))['data'](),_0x4dab1c=_0x59a36d[_0x5cd619(0x64f)][_0x30559e][_0x5cd619(0x8cd)]||[],_0x52e8d8=[...new Set([..._0x4dab1c,..._0x298123])];await updateDoc(_0xccd6c,{[_0x5cd619(0x8c4)+_0x30559e+_0x5cd619(0x6ce)]:_0x52e8d8}),showMessage(_0x5cd619(0x16b)+_0x298123['length']+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x29fc0e(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x19ca37){console['error'](_0x5cd619(0xdbb),_0x19ca37);}},document[_0x578c22(0x773)](_0x578c22(0xe39))[_0x578c22(0xb4f)]=()=>_0x29fc0e(!![]);}catch(_0x4abad2){showMessage(_0x4abad2[_0x578c22(0xcee)]),_0x45263b['classList']['remove'](_0x578c22(0x806));}}function handleClearLinkedQuiz(_0x1cd6ff){const _0xad10ce=_0x1d7cc9;showConfirmation(_0xad10ce(0x67f),async()=>{const _0x5924fd=_0xad10ce;try{const _0x3d07fa=doc(db,_0x5924fd(0x6de)+appId+_0x5924fd(0x31d),currentBlueprintProjectId);await updateDoc(_0x3d07fa,{[_0x5924fd(0x8c4)+_0x1cd6ff+_0x5924fd(0xe5)]:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4dee9c){console['error'](_0x5924fd(0xd3),_0x4dee9c),showMessage(_0x5924fd(0x1de));}});}async function addTopicToProject(){const _0x56fca7=_0x1d7cc9,_0x430a64=prompt('กรุณาป้อนชื่อหัวข้อย่อยใหม่:');if(!_0x430a64||_0x430a64[_0x56fca7(0xafd)]()==='')return;const _0x4098f1=prompt(_0x56fca7(0x738),_0x56fca7(0xd97)),_0x1657f9=prompt(_0x56fca7(0xb6b),_0x56fca7(0x97d)),_0x116d86=_0x56fca7(0xb47)+Date['now']()+Math[_0x56fca7(0xa75)]()[_0x56fca7(0x51a)](0x24)[_0x56fca7(0x6d7)](0x2,0x9),_0x3c2c2f={'sara':_0x4098f1,'mainTopic':_0x1657f9,'subTopic':_0x430a64['trim'](),'status':_0x56fca7(0xe00),'lessonContent':null};try{const _0x3c65f8=doc(db,'artifacts/'+appId+_0x56fca7(0x31d),currentBlueprintProjectId);await updateDoc(_0x3c65f8,{[_0x56fca7(0x8c4)+_0x116d86]:_0x3c2c2f}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1476ec){console[_0x56fca7(0x7bc)]('Error\x20adding\x20topic:',_0x1476ec),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x14dea0){const _0x1b9bac=_0x1d7cc9,_0x47e6f0=document[_0x1b9bac(0x86f)](_0x1b9bac(0x882)+_0x14dea0+'\x22]'),_0x14a5ec=_0x47e6f0[_0x1b9bac(0x86f)](_0x1b9bac(0x99d)),_0x7ff3b8=_0x14a5ec['textContent'],_0x4421b4=prompt(_0x1b9bac(0xd92),_0x7ff3b8);if(!_0x4421b4||_0x4421b4[_0x1b9bac(0xafd)]()===''||_0x4421b4['trim']()===_0x7ff3b8)return;try{const _0x5a8e0d=doc(db,_0x1b9bac(0x6de)+appId+_0x1b9bac(0x31d),currentBlueprintProjectId);await updateDoc(_0x5a8e0d,{[_0x1b9bac(0x8c4)+_0x14dea0+_0x1b9bac(0xd65)]:_0x4421b4[_0x1b9bac(0xafd)]()}),_0x14a5ec[_0x1b9bac(0xcd6)]=_0x4421b4[_0x1b9bac(0xafd)](),showMessage(_0x1b9bac(0x348));}catch(_0x128af5){console[_0x1b9bac(0x7bc)](_0x1b9bac(0xd6d),_0x128af5),showMessage(_0x1b9bac(0x17a));}}async function deleteTopicFromProject(_0x3495f8){const _0x2ba96c=_0x1d7cc9;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x18306b=doc(db,_0x2ba96c(0x6de)+appId+_0x2ba96c(0x31d),currentBlueprintProjectId);await updateDoc(_0x18306b,{[_0x2ba96c(0x8c4)+_0x3495f8]:deleteField()}),document[_0x2ba96c(0x86f)](_0x2ba96c(0x882)+_0x3495f8+'\x22]')[_0x2ba96c(0xa54)](),showMessage(_0x2ba96c(0xd9e));}catch(_0xcefc8a){console[_0x2ba96c(0x7bc)](_0x2ba96c(0x20d),_0xcefc8a),showMessage(_0x2ba96c(0x43d));}}async function generateAndSaveLessonForBlueprint(_0x3bdf46,_0x3fbc7a,_0xea4fff){handleGenerateAndShowLesson(_0x3fbc7a,_0xea4fff);const _0x3e16eb=setInterval(async()=>{const _0x2f5a2e=_0x5842,_0x3ef460=document[_0x2f5a2e(0x773)]('lesson-view-modal'),_0x1e5095=_0x3ef460[_0x2f5a2e(0x985)][_0x2f5a2e(0xc49)](_0x2f5a2e(0x806));if(_0x1e5095){clearInterval(_0x3e16eb);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x123a63={'point':document[_0x2f5a2e(0x773)](_0x2f5a2e(0xae2))[_0x2f5a2e(0x8ec)],'memory':document[_0x2f5a2e(0x773)](_0x2f5a2e(0x116))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x2f5a2e(0x773)](_0x2f5a2e(0xbef))[_0x2f5a2e(0x8ec)]};try{const _0x2daf52=doc(db,_0x2f5a2e(0x6de)+appId+_0x2f5a2e(0x31d),currentBlueprintProjectId),_0x20a828=doc(db,_0x2f5a2e(0x6de)+appId+_0x2f5a2e(0xdf4)+currentBlueprintProjectId+_0x2f5a2e(0xc89),_0x3bdf46),_0x9b0a20=writeBatch(db);_0x9b0a20[_0x2f5a2e(0x948)](_0x20a828,{'content':_0x123a63}),_0x9b0a20[_0x2f5a2e(0x7c3)](_0x2daf52,{[_0x2f5a2e(0x8c4)+_0x3bdf46+'.status']:'generated'}),await _0x9b0a20['commit'](),console[_0x2f5a2e(0xe59)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x3bdf46+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x19ffb5){console['error'](_0x2f5a2e(0x8c6),_0x19ffb5);}}}},0x3e8);}function displayHalfMarkResult(_0xe74093,_0x37421d){const _0x13dc32=_0x1d7cc9,_0x2707ea=_0xe74093>=_0x37421d/0x2,_0x3b64c7=_0x2707ea?_0x13dc32(0x715):'bg-red-100',_0x2de05d=_0x2707ea?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x13dc32(0xa30),_0x368061=_0x2707ea?_0x13dc32(0x726):_0x13dc32(0xbe6),_0x1120bd=_0x2707ea?_0x13dc32(0x18e):_0x13dc32(0x335),_0x252a92=_0x2707ea?_0x13dc32(0xbb9):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x148687=_0x13dc32(0x2aa)+_0x3b64c7+_0x13dc32(0x13a)+_0x2de05d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x368061+_0x13dc32(0x7b8)+_0x1120bd+_0x13dc32(0x9b5)+_0x252a92+_0x13dc32(0x46c);studentResultArea[_0x13dc32(0x8ec)]=_0x148687,studentResultArea[_0x13dc32(0x985)][_0x13dc32(0xa54)](_0x13dc32(0x806)),studentQuizArea[_0x13dc32(0x985)][_0x13dc32(0xd0a)](_0x13dc32(0x806)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x2707ea});}function displayPerfectScoreResult(_0x4c2cbc,_0x46c8f7){const _0x31e461=_0x1d7cc9,_0x584c35=_0x4c2cbc===_0x46c8f7,_0x3c506e=_0x584c35?_0x31e461(0x9f1):_0x31e461(0xb39),_0x1365b4=_0x584c35?_0x31e461(0x20f):_0x31e461(0x4f0),_0x23805a=_0x584c35?'text-yellow-800':_0x31e461(0x1f1),_0x301704=_0x584c35?_0x31e461(0xe0f):_0x31e461(0x48c),_0x25e851=_0x584c35?_0x31e461(0xa04):_0x31e461(0x5ff);let _0x143597=_0x31e461(0x2aa)+_0x3c506e+_0x31e461(0x13a)+_0x1365b4+_0x31e461(0xd17)+_0x23805a+_0x31e461(0x7b8)+_0x301704+_0x31e461(0x9b5)+_0x25e851+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x31e461(0x8ec)]=_0x143597,studentResultArea[_0x31e461(0x985)]['remove'](_0x31e461(0x806)),studentQuizArea[_0x31e461(0x985)][_0x31e461(0xd0a)](_0x31e461(0x806)),setupResultScreenBackButton({'showRankings':![],'score':_0x4c2cbc,'totalQuestions':_0x46c8f7});}function renderIndividualComparisonTable(_0x43d143,_0x5b697c){const _0x5cc07a=_0x1d7cc9;_0x43d143['sort']((_0x3cb28c,_0x451f1a)=>(_0x451f1a[_0x5cc07a(0x2ef)]??-Infinity)-(_0x3cb28c[_0x5cc07a(0x2ef)]??-Infinity));let _0xb24311=_0x5cc07a(0xc79);_0x43d143[_0x5cc07a(0x5df)]===0x0?_0xb24311+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x43d143[_0x5cc07a(0xa25)]((_0x2e952f,_0x515c63)=>{const _0x2ee7c0=_0x5cc07a;let _0x19ed51='-',_0x2d07c7='';if(_0x2e952f[_0x2ee7c0(0x7d7)]!==null){const _0x5eb791=_0x2e952f[_0x2ee7c0(0x7d7)]>0x0?_0x2ee7c0(0xd06):_0x2e952f[_0x2ee7c0(0x7d7)]<0x0?_0x2ee7c0(0xb41):_0x2ee7c0(0x9fe),_0x422548=_0x2e952f['gain']>0x0?'+':'';_0x19ed51=_0x2ee7c0(0xa5c)+_0x5eb791+'\x22>'+_0x422548+_0x2e952f[_0x2ee7c0(0x7d7)]+_0x2ee7c0(0xe54);if(_0x2e952f[_0x2ee7c0(0x7d7)]>0x0)_0x2d07c7=_0x2ee7c0(0x14c);else _0x2e952f[_0x2ee7c0(0x7d7)]<0x0?_0x2d07c7=_0x2ee7c0(0xad4):_0x2d07c7='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x27dd65='-';if(_0x2e952f[_0x2ee7c0(0x2ef)]!==null){const _0x262a2f=_0x2e952f[_0x2ee7c0(0x2ef)]>0x0?_0x2ee7c0(0xd06):_0x2e952f['tGain']<0x0?_0x2ee7c0(0xb41):_0x2ee7c0(0x9fe),_0x2d1e87=_0x2e952f[_0x2ee7c0(0x2ef)]>0x0?'+':'';_0x27dd65='<span\x20class=\x22font-bold\x20'+_0x262a2f+'\x22>'+_0x2d1e87+_0x2e952f[_0x2ee7c0(0x2ef)][_0x2ee7c0(0x7ad)](0x2)+_0x2ee7c0(0xe54);}_0xb24311+=_0x2ee7c0(0xe2e)+(_0x515c63+0x1)+_0x2ee7c0(0xa66)+_0x2e952f['name']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x2e952f[_0x2ee7c0(0x8c0)]??'-')+_0x2ee7c0(0xec)+(_0x2e952f[_0x2ee7c0(0x53f)]??'-')+_0x2ee7c0(0xb40)+_0x19ed51+_0x2ee7c0(0xe2b)+_0x2d07c7+_0x2ee7c0(0x463)+(_0x2e952f[_0x2ee7c0(0xcac)]?.[_0x2ee7c0(0x7ad)](0x2)??'-')+_0x2ee7c0(0x49b)+(_0x2e952f['postTScore']?.[_0x2ee7c0(0x7ad)](0x2)??'-')+_0x2ee7c0(0xb40)+_0x27dd65+_0x2ee7c0(0xd13);}),_0xb24311+=_0x5cc07a(0xa11),_0x5b697c[_0x5cc07a(0x8ec)]=_0xb24311;}function handleRenameQuiz(_0x4d37f3,_0x1be588){const _0x25c2c1=_0x1d7cc9;actionTargetId=_0x4d37f3,document[_0x25c2c1(0x773)]('rename-quiz-input')[_0x25c2c1(0xd9d)]=_0x1be588,renameQuizModal[_0x25c2c1(0x985)][_0x25c2c1(0xa54)](_0x25c2c1(0x806));}function setupComparisonModalTabs(){const _0x12eca9=_0x1d7cc9,_0x5b4977=document[_0x12eca9(0x773)](_0x12eca9(0x9b3)),_0x15d701=document[_0x12eca9(0x773)]('comparison-individual-tab'),_0x46eb02=document['getElementById'](_0x12eca9(0xbb8)),_0x463f62=document['getElementById']('comparison-individual-content');_0x5b4977[_0x12eca9(0x6f7)](_0x12eca9(0x2af),()=>{const _0x144153=_0x12eca9;_0x5b4977['classList']['add'](_0x144153(0x4c8)),_0x15d701[_0x144153(0x985)]['remove']('active'),_0x46eb02['classList'][_0x144153(0xa54)](_0x144153(0x806)),_0x463f62[_0x144153(0x985)]['add'](_0x144153(0x806));}),_0x15d701[_0x12eca9(0x6f7)](_0x12eca9(0x2af),()=>{const _0x40b219=_0x12eca9;_0x15d701['classList'][_0x40b219(0xd0a)](_0x40b219(0x4c8)),_0x5b4977[_0x40b219(0x985)][_0x40b219(0xa54)]('active'),_0x463f62[_0x40b219(0x985)][_0x40b219(0xa54)]('hidden'),_0x46eb02[_0x40b219(0x985)][_0x40b219(0xd0a)](_0x40b219(0x806));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x4106bd=_0x1d7cc9;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5de1b5=doc(db,_0x4106bd(0x6de)+appId+_0x4106bd(0x352),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5de1b5,_0x4576d1=>{const _0x376e9e=_0x4106bd;if(!_0x4576d1[_0x376e9e(0xc63)]()){showMessage(_0x376e9e(0x39a));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x376e9e(0x204)?showView(_0x376e9e(0x90c)):showView('student');return;}const _0x408137=_0x4576d1['data']();_0x408137[_0x376e9e(0x142)]&&(currentQuizData=_0x408137['shuffledQuiz']);!currentQuizData&&_0x408137[_0x376e9e(0x514)]&&((async()=>{const _0x3fa916=_0x376e9e;try{const _0x20445f=doc(db,_0x3fa916(0x6de)+appId+'/public/data/quizzes',_0x408137[_0x3fa916(0x514)]),_0x30f360=await getDoc(_0x20445f);_0x30f360['exists']()&&(currentQuizData={'id':_0x30f360['id'],..._0x30f360[_0x3fa916(0xafb)]()});}catch(_0x32c0c0){console[_0x3fa916(0x7bc)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x32c0c0);}})());switch(_0x408137[_0x376e9e(0xfc)]){case _0x376e9e(0xe8):if(currentMode==='admin'){const _0x3a2158=_0x408137['players']?Object[_0x376e9e(0x565)](_0x408137[_0x376e9e(0x10d)]):[],_0x415bff=_0x3a2158[_0x376e9e(0x485)](([_0x3d2f74,_0x1ec955])=>_0x1ec955[_0x376e9e(0xfc)]===_0x376e9e(0x4c8)),_0x25f5d6=document[_0x376e9e(0x773)](_0x376e9e(0xc4e));if(_0x25f5d6)_0x25f5d6[_0x376e9e(0xcd6)]=_0x415bff[_0x376e9e(0x5df)];const _0x17ecaf=document[_0x376e9e(0x773)](_0x376e9e(0x3e5));_0x17ecaf&&(_0x17ecaf[_0x376e9e(0x8ec)]=_0x415bff[_0x376e9e(0x9d3)](([_0x4b4ae1,_0xb62cc4])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4b4ae1+_0x376e9e(0xdbc)+_0x4b4ae1+_0x376e9e(0x381))['join'](''));const _0x4c812b=document[_0x376e9e(0x773)]('start-game-btn');_0x4c812b&&(_0x4c812b[_0x376e9e(0x67a)]=_0x415bff[_0x376e9e(0x5df)]===0x0);}else showView('live-game'),liveGameView[_0x376e9e(0x8ec)]=_0x376e9e(0x4ea)+currentStudentName+_0x376e9e(0x260);break;case _0x376e9e(0xa9f):const _0x26cf21=_0x408137[_0x376e9e(0x393)];if(currentQuizData&&currentQuizData[_0x376e9e(0xcf9)][_0x26cf21]){const _0x419274=currentQuizData['questions'][_0x26cf21],_0x4a1659=_0x408137[_0x376e9e(0x861)]||_0x376e9e(0x9cf);switch(_0x4a1659){case'summary_chart':currentMode===_0x376e9e(0x204)?showAdminSummaryView(_0x408137,_0x419274):showPlayerSummaryView(_0x408137,currentStudentName);break;case _0x376e9e(0x8e4):currentMode===_0x376e9e(0x204)&&showTop5LeaderboardView(_0x408137);break;case'answering':default:if(currentMode===_0x376e9e(0x204)){const _0x279c52=writeBatch(db);let _0x52face=![];Object[_0x376e9e(0x565)](_0x408137['players'])[_0x376e9e(0xa25)](([_0x436fb9,_0x2d15d3])=>{const _0x5d9866=_0x376e9e;if(_0x2d15d3[_0x5d9866(0xfc)]===_0x5d9866(0x4c8)&&_0x2d15d3[_0x5d9866(0x580)]&&!_0x2d15d3[_0x5d9866(0x563)]){_0x52face=!![];const _0x2f050b=_0x2d15d3['submittedAt']['toDate']()-_0x408137[_0x5d9866(0xd5d)][_0x5d9866(0xb8c)]();let _0x502d19=0x0;if(_0x2d15d3['lastAnswerCorrect']){const _0x502fb1=0x3e8,_0x110f3f=0x1f4,_0x396691=0x4e20;let _0x3ab4f2=_0x2f050b/_0x396691;if(_0x3ab4f2>0x1)_0x3ab4f2=0x1;const _0x110bc8=Math[_0x5d9866(0x75b)](_0x3ab4f2*_0x110f3f);_0x502d19=_0x502fb1-_0x110bc8;}const _0x6a943=doc(db,_0x5d9866(0x6de)+appId+_0x5d9866(0x352),currentLiveGameId);_0x279c52['update'](_0x6a943,{[_0x5d9866(0xd7a)+_0x436fb9+_0x5d9866(0x182)]:increment(_0x502d19),['players.'+_0x436fb9+'.pointsLastQuestion']:_0x502d19,[_0x5d9866(0xd7a)+_0x436fb9+_0x5d9866(0x742)]:!![]});}});_0x52face&&_0x279c52['commit']()[_0x376e9e(0x222)](_0x362dc4=>console['error'](_0x376e9e(0x424),_0x362dc4));lastRenderedAdminQuestionIndex!==_0x26cf21&&(showAdminLiveQuestionView(_0x419274,_0x26cf21,currentQuizData[_0x376e9e(0xcf9)][_0x376e9e(0x5df)]),lastRenderedAdminQuestionIndex=_0x26cf21);const _0x52b63c=_0x408137[_0x376e9e(0x10d)]||{},_0x209657=Object[_0x376e9e(0x230)](_0x52b63c)[_0x376e9e(0x485)](_0x29ecfc=>_0x29ecfc[_0x376e9e(0xfc)]===_0x376e9e(0x4c8)),_0x51341d=_0x209657[_0x376e9e(0x5df)],_0x41c793=_0x209657[_0x376e9e(0x485)](_0x137ff4=>_0x137ff4[_0x376e9e(0xc58)]===!![])['length'],_0x8dae56=document[_0x376e9e(0x773)](_0x376e9e(0x176));if(_0x8dae56)_0x8dae56[_0x376e9e(0xcd6)]=_0x41c793+'/'+_0x51341d;const _0xdc06b6=document['getElementById'](_0x376e9e(0x768));if(_0xdc06b6){let _0x13f537=Object['entries'](_0x52b63c)[_0x376e9e(0x485)](([_0x2d8e8e,_0x5cbf87])=>_0x5cbf87[_0x376e9e(0xfc)]===_0x376e9e(0x4c8))[_0x376e9e(0x9d3)](([_0xbc635a,_0x5c7c4e])=>{const _0x55a9ae=_0x376e9e,_0x4f36f4=_0x5c7c4e[_0x55a9ae(0xc58)]===!![],_0x2942bc=_0x4f36f4?_0x55a9ae(0x5f3):_0x55a9ae(0x57a),_0x3044f9=_0x4f36f4?_0x55a9ae(0xb01):_0x55a9ae(0x50e);return _0x55a9ae(0xa08)+_0x2942bc+_0x55a9ae(0x4ba)+_0x3044f9+_0x55a9ae(0x53a)+_0xbc635a+_0x55a9ae(0x7b6)+_0xbc635a+_0x55a9ae(0x664);})['join']('');_0xdc06b6[_0x376e9e(0x8ec)]=_0x13f537||_0x376e9e(0x89e);}_0x51341d>0x0&&_0x41c793===_0x51341d&&revealAnswerForAdmin(_0x26cf21,currentQuizData[_0x376e9e(0xcf9)][_0x376e9e(0x5df)]);}else{const _0x5918d9=_0x408137[_0x376e9e(0x10d)][currentStudentName];_0x5918d9&&!_0x5918d9[_0x376e9e(0xc58)]&&showStudentLiveQuestionView(_0x419274,_0x26cf21,currentQuizData[_0x376e9e(0xcf9)][_0x376e9e(0x5df)]);}break;}}break;case _0x376e9e(0x66f):showPodiumView(_0x408137['players'],_0x376e9e(0xb6f));break;}});}async function openGlobalActivityModal(){const _0x4d0704=_0x1d7cc9;if(allQuizzesGlobal[_0x4d0704(0x5df)]===0x0){const _0x2655e6=await getDocs(collection(db,'artifacts/'+appId+_0x4d0704(0xde0)));allQuizzesGlobal=_0x2655e6['docs'][_0x4d0704(0x9d3)](_0x574c02=>({'id':_0x574c02['id'],..._0x574c02[_0x4d0704(0xafb)]()}));}renderGlobalActivityList(''),document[_0x4d0704(0x773)](_0x4d0704(0xc41))[_0x4d0704(0x985)][_0x4d0704(0xa54)](_0x4d0704(0x806));}function renderGlobalActivityList(_0x4ac72b=''){const _0x323987=_0x1d7cc9,_0x2e8e1f=document[_0x323987(0x773)](_0x323987(0xe3)),_0x125dcf=_0x4ac72b['toLowerCase']()['trim'](),_0x52fbcc=allQuizzesGlobal['map'](_0x2f644a=>({..._0x2f644a,'projectName':allProjects[_0x323987(0x15b)](_0x2cbc18=>_0x2cbc18['id']===_0x2f644a[_0x323987(0xa1f)])?.['projectName']||_0x323987(0x539)}))[_0x323987(0x485)](_0x23c3bb=>(_0x23c3bb['topic']||'')[_0x323987(0xa43)]()['includes'](_0x125dcf)||(_0x23c3bb[_0x323987(0x1c1)]||'')[_0x323987(0xa43)]()[_0x323987(0x1f6)](_0x125dcf));document[_0x323987(0x773)](_0x323987(0x4ce))[_0x323987(0xcd6)]='('+_0x52fbcc['length']+'\x20ชุด)',_0x2e8e1f['innerHTML']=_0x52fbcc['length']?_0x52fbcc[_0x323987(0x9d3)](_0x3eb4bc=>_0x323987(0xce4)+(_0x3eb4bc[_0x323987(0xa37)]||'(ไม่มีชื่อ)')+_0x323987(0x4a2)+(_0x3eb4bc[_0x323987(0xcf9)]?.[_0x323987(0x5df)]||0x0)+_0x323987(0x7fc)+_0x3eb4bc[_0x323987(0x1c1)]+_0x323987(0xb74)+_0x3eb4bc['id']+_0x323987(0xc96)+_0x3eb4bc['id']+_0x323987(0x62b))[_0x323987(0x370)](''):_0x323987(0xbbe);}async function handleKickPlayer(_0x36ffb3){const _0x396004=_0x1d7cc9;if(!currentLiveGameId||!_0x36ffb3)return;const _0x37b1e5=doc(db,_0x396004(0x6de)+appId+_0x396004(0x352),currentLiveGameId),_0x2ffea7={};_0x2ffea7['players.'+_0x36ffb3+_0x396004(0xccf)]=_0x396004(0x36c);try{await updateDoc(_0x37b1e5,_0x2ffea7);}catch(_0x3dc794){console[_0x396004(0x7bc)](_0x396004(0x1d9)+_0x36ffb3+':',_0x3dc794),showMessage(_0x396004(0x314));}}async function authenticateUser(){const _0x31ecd6=_0x1d7cc9;try{typeof __initial_auth_token!==_0x31ecd6(0xd1)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x20926f){console[_0x31ecd6(0x7bc)]('Authentication\x20failed:',_0x20926f),showMessage(_0x31ecd6(0x1eb));}}function showView(_0x1113ac){const _0x4573d0=_0x1d7cc9;adminView[_0x4573d0(0x985)][_0x4573d0(0xd0a)](_0x4573d0(0x806)),studentView['classList'][_0x4573d0(0xd0a)](_0x4573d0(0x806)),projectDashboardView['classList'][_0x4573d0(0xd0a)]('hidden'),projectDetailView[_0x4573d0(0x985)][_0x4573d0(0xd0a)](_0x4573d0(0x806)),quizResultsView[_0x4573d0(0x985)][_0x4573d0(0xd0a)](_0x4573d0(0x806)),liveGameView[_0x4573d0(0x985)]['add'](_0x4573d0(0x806)),document[_0x4573d0(0x773)](_0x4573d0(0xb45))[_0x4573d0(0x985)][_0x4573d0(0xd0a)](_0x4573d0(0x806)),studentInitialView[_0x4573d0(0x985)][_0x4573d0(0xd0a)](_0x4573d0(0x806)),studentJoinGameView['classList'][_0x4573d0(0xd0a)]('hidden'),studentNameSelectionView[_0x4573d0(0x985)][_0x4573d0(0xd0a)](_0x4573d0(0x806)),studentQuizArea['classList'][_0x4573d0(0xd0a)]('hidden'),studentResultArea[_0x4573d0(0x985)][_0x4573d0(0xd0a)](_0x4573d0(0x806)),studentReadingArea[_0x4573d0(0x985)]['add'](_0x4573d0(0x806));const _0x39584c=document[_0x4573d0(0x773)](_0x4573d0(0xce7)),_0x4b78f3=document[_0x4573d0(0x773)](_0x4573d0(0xe27));if(_0x39584c)_0x39584c[_0x4573d0(0x985)][_0x4573d0(0xd0a)](_0x4573d0(0x806));if(_0x4b78f3)_0x4b78f3[_0x4573d0(0x985)]['add']('hidden');switch(_0x1113ac){case _0x4573d0(0x14f):adminView[_0x4573d0(0x985)][_0x4573d0(0xa54)]('hidden'),projectDashboardView[_0x4573d0(0x985)][_0x4573d0(0xa54)](_0x4573d0(0x806));break;case _0x4573d0(0x90c):adminView[_0x4573d0(0x985)][_0x4573d0(0xa54)]('hidden'),projectDetailView['classList'][_0x4573d0(0xa54)]('hidden');break;case _0x4573d0(0xad9):adminView[_0x4573d0(0x985)][_0x4573d0(0xa54)](_0x4573d0(0x806)),quizResultsView[_0x4573d0(0x985)][_0x4573d0(0xa54)](_0x4573d0(0x806));break;case'student':studentView[_0x4573d0(0x985)]['remove'](_0x4573d0(0x806)),studentInitialView[_0x4573d0(0x985)][_0x4573d0(0xa54)](_0x4573d0(0x806));break;case _0x4573d0(0xc90):liveGameView[_0x4573d0(0x985)]['remove'](_0x4573d0(0x806));break;case _0x4573d0(0x160):studentView['classList'][_0x4573d0(0xa54)]('hidden');if(_0x39584c)_0x39584c['classList'][_0x4573d0(0xa54)](_0x4573d0(0x806));break;case _0x4573d0(0x8b3):studentView[_0x4573d0(0x985)]['remove'](_0x4573d0(0x806));if(_0x4b78f3)_0x4b78f3['classList'][_0x4573d0(0xa54)](_0x4573d0(0x806));break;default:studentView[_0x4573d0(0x985)][_0x4573d0(0xa54)](_0x4573d0(0x806)),studentInitialView[_0x4573d0(0x985)]['remove'](_0x4573d0(0x806));break;}}function showJoinGameView(){const _0x4a55a4=_0x1d7cc9;studentInitialView[_0x4a55a4(0x985)][_0x4a55a4(0xd0a)]('hidden'),studentJoinGameView[_0x4a55a4(0x985)][_0x4a55a4(0xa54)](_0x4a55a4(0x806));}async function handleSaveVisibilitySettings(){const _0x3160af=_0x1d7cc9;if(!currentProjectId)return;const _0x28ffce=doc(db,_0x3160af(0x6de)+appId+_0x3160af(0x45c),currentProjectId);try{await updateDoc(_0x28ffce,{'settings.showInStudentDashboard':document[_0x3160af(0x773)](_0x3160af(0xce))[_0x3160af(0x17e)],'settings.isPasscodeEnabled':document[_0x3160af(0x773)](_0x3160af(0x7b3))[_0x3160af(0x17e)],'settings.passcode':document[_0x3160af(0x773)](_0x3160af(0x267))[_0x3160af(0xd9d)][_0x3160af(0xafd)]()}),showMessage(_0x3160af(0x839));}catch(_0x485986){console[_0x3160af(0x7bc)](_0x3160af(0x223),_0x485986),showMessage(_0x3160af(0xcf2));}}function setupEventListeners(){const _0x4086c7=_0x1d7cc9;document[_0x4086c7(0x6f7)](_0x4086c7(0x88a),()=>{const _0x59801a=_0x4086c7,_0x1f3f89=document['getElementById'](_0x59801a(0x2f5)),_0x18e744=document[_0x59801a(0x773)](_0x59801a(0x17f)),_0x5f2d93=document['getElementById']('confirm-crop-btn'),_0x4a469f=document[_0x59801a(0x773)](_0x59801a(0xb1f)),_0x1611dd=document[_0x59801a(0x773)]('cropper-modal');_0x18e744&&_0x1f3f89&&(_0x18e744['addEventListener']('click',()=>{const _0x47a05e=_0x59801a;_0x1f3f89[_0x47a05e(0xd9d)]='',_0x1f3f89[_0x47a05e(0x2af)]();}),_0x1f3f89[_0x59801a(0x6f7)](_0x59801a(0x813),_0xbfb8f1=>{const _0x17e74d=_0x59801a;_0xbfb8f1[_0x17e74d(0x674)]['files']&&_0xbfb8f1[_0x17e74d(0x674)]['files'][_0x17e74d(0x5df)]>0x0&&startCropper(_0xbfb8f1[_0x17e74d(0x674)][_0x17e74d(0x735)][0x0]);})),_0x5f2d93&&_0x5f2d93[_0x59801a(0x6f7)]('click',()=>{const _0x39d903=_0x59801a;if(!cropperInstance)return;const _0x3d614b=_0x5f2d93[_0x39d903(0x8ec)];_0x5f2d93[_0x39d903(0x8ec)]=_0x39d903(0x595),_0x5f2d93[_0x39d903(0x67a)]=!![],cropperInstance['getCroppedCanvas']()[_0x39d903(0x334)](async _0x377a6f=>{const _0x3e9762=_0x39d903;_0x1611dd[_0x3e9762(0x985)][_0x3e9762(0xd0a)](_0x3e9762(0x806));const _0x390615=new File([_0x377a6f],_0x3e9762(0xd20),{'type':_0x3e9762(0x4b2)});await handleScanImageForText(_0x390615),_0x5f2d93['innerHTML']=_0x3d614b,_0x5f2d93[_0x3e9762(0x67a)]=![],cropperInstance[_0x3e9762(0xcff)](),cropperInstance=null;},_0x39d903(0x4b2));}),_0x4a469f&&_0x4a469f[_0x59801a(0x6f7)](_0x59801a(0x2af),()=>{const _0x372d1d=_0x59801a;_0x1611dd[_0x372d1d(0x985)][_0x372d1d(0xd0a)](_0x372d1d(0x806)),cropperInstance&&(cropperInstance[_0x372d1d(0xcff)](),cropperInstance=null),document[_0x372d1d(0x773)](_0x372d1d(0x2f5))['value']='';});});const _0x5173e8=document[_0x4086c7(0x773)](_0x4086c7(0x6e4)),_0x3913fd=document[_0x4086c7(0x773)]('scan-text-image-btn');_0x5173e8&&_0x3913fd&&(_0x3913fd[_0x4086c7(0x6f7)]('click',()=>_0x5173e8[_0x4086c7(0x2af)]()),_0x5173e8[_0x4086c7(0x6f7)](_0x4086c7(0x813),_0x53928d=>{const _0x3be924=_0x4086c7;_0x53928d[_0x3be924(0x674)]['files'][_0x3be924(0x5df)]>0x0&&handleScanImageForText(_0x53928d['target'][_0x3be924(0x735)][0x0]);}));const _0x4a8bad=document['getElementById']('wager-all-in-btn');_0x4a8bad&&_0x4a8bad[_0x4086c7(0x6f7)]('click',()=>{const _0x1e8b4f=_0x4086c7,_0x43d749=document[_0x1e8b4f(0x773)](_0x1e8b4f(0x46f)),_0x6466d4=document[_0x1e8b4f(0x773)]('wager-amount-display');_0x43d749&&(_0x43d749[_0x1e8b4f(0xd9d)]=_0x43d749['max'],_0x6466d4&&(_0x6466d4[_0x1e8b4f(0xcd6)]=_0x43d749[_0x1e8b4f(0xd9d)],_0x6466d4[_0x1e8b4f(0x985)][_0x1e8b4f(0xa54)](_0x1e8b4f(0x299)),void _0x6466d4[_0x1e8b4f(0xae3)],_0x6466d4[_0x1e8b4f(0x985)][_0x1e8b4f(0xd0a)](_0x1e8b4f(0x895),_0x1e8b4f(0xb7e),_0x1e8b4f(0x299),'text-red-600'),setTimeout(()=>_0x6466d4[_0x1e8b4f(0x985)][_0x1e8b4f(0xa54)](_0x1e8b4f(0x299),_0x1e8b4f(0xb41)),0xc8)));});document['getElementById']('cancel-wager-btn')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x14fd78=_0x4086c7;document[_0x14fd78(0x773)](_0x14fd78(0xe24))[_0x14fd78(0x985)][_0x14fd78(0xd0a)]('hidden');}),document[_0x4086c7(0x773)](_0x4086c7(0x71b))['addEventListener'](_0x4086c7(0x2af),()=>{const _0x12759e=_0x4086c7,_0x1ab353=document[_0x12759e(0x773)](_0x12759e(0xe24)),_0x481774=document[_0x12759e(0x773)]('selected-answer-index-hidden-wager'),_0x22fb1e=document[_0x12759e(0x773)](_0x12759e(0x46f))['value'],_0x5bb45a=_0x481774['dataset'][_0x12759e(0xd1b)],_0x44d3cc=JSON[_0x12759e(0xbf7)](_0x481774[_0x12759e(0x576)][_0x12759e(0xa9f)]),_0x24dc9d=JSON['parse'](_0x481774['dataset'][_0x12759e(0xe37)]),_0x1adc17=_0x481774[_0x12759e(0x576)][_0x12759e(0xaf2)];_0x1ab353['classList'][_0x12759e(0xd0a)]('hidden'),handleSyncAnswerSubmit(_0x5bb45a,_0x44d3cc,_0x24dc9d,_0x1adc17,![],_0x22fb1e);}),document[_0x4086c7(0x4a1)](_0x4086c7(0x810))[_0x4086c7(0xa25)](_0x2e9be=>{const _0x29d50f=_0x4086c7;_0x2e9be[_0x29d50f(0x6f7)](_0x29d50f(0x813),_0x4122c4=>{const _0x3ec045=_0x29d50f,_0x251e8d=document[_0x3ec045(0x773)](_0x3ec045(0x72f));_0x4122c4[_0x3ec045(0x674)][_0x3ec045(0xd9d)]===_0x3ec045(0x2b8)?_0x251e8d[_0x3ec045(0x985)][_0x3ec045(0xa54)](_0x3ec045(0x806)):_0x251e8d[_0x3ec045(0x985)]['add'](_0x3ec045(0x806));});}),document['getElementById'](_0x4086c7(0xc5b))[_0x4086c7(0x6f7)](_0x4086c7(0x813),_0x4f91ea=>{const _0x2b2378=_0x4086c7;document[_0x2b2378(0x773)](_0x2b2378(0x330))[_0x2b2378(0x985)]['toggle'](_0x2b2378(0x806),!_0x4f91ea[_0x2b2378(0x674)]['checked']);});const _0x329b5e=document[_0x4086c7(0x773)]('cancel-confidence-btn'),_0x40cbca=document[_0x4086c7(0x773)](_0x4086c7(0x482));_0x329b5e&&_0x40cbca&&_0x329b5e[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x491922=_0x4086c7;_0x40cbca[_0x491922(0x985)][_0x491922(0xd0a)](_0x491922(0x806)),_0x40cbca['dataset']['currentMode']='';});const _0x2d7de7=document[_0x4086c7(0x773)]('dim-overlay');_0x2d7de7&&(_0x2d7de7[_0x4086c7(0x6f7)](_0x4086c7(0xe5b),wakeUpScreen),_0x2d7de7[_0x4086c7(0x6f7)](_0x4086c7(0xd6e),wakeUpScreen));document[_0x4086c7(0x773)](_0x4086c7(0xb1a))[_0x4086c7(0x6f7)]('click',async()=>{const _0x1c527c=_0x4086c7;if(!currentBlueprintProjectId)return;const _0x4e1f7a=document['getElementById'](_0x1c527c(0x132))[_0x1c527c(0xd9d)][_0x1c527c(0xafd)](),_0xb6c793=doc(db,_0x1c527c(0x6de)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);try{await updateDoc(_0xb6c793,{'referenceFileUrl':_0x4e1f7a}),showMessage(_0x1c527c(0x98b));}catch(_0x54d0c6){console[_0x1c527c(0x7bc)]('Error\x20saving\x20reference\x20URL:',_0x54d0c6),showMessage(_0x1c527c(0xcf2));}}),document[_0x4086c7(0x773)](_0x4086c7(0x315))['addEventListener'](_0x4086c7(0x2af),handleAddParallelShortcutTab),document[_0x4086c7(0x773)](_0x4086c7(0xa2f))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0x178062=>{const _0xfb187a=_0x4086c7;_0x178062[_0xfb187a(0x674)][_0xfb187a(0x2e4)](_0xfb187a(0x8de))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0xfb187a(0x773)](_0xfb187a(0x9ae))[_0xfb187a(0x985)]['remove'](_0xfb187a(0x806)));}),document[_0x4086c7(0x773)]('close-additional-parallel-shortcuts-btn')[_0x4086c7(0x6f7)]('click',()=>{const _0x217a7f=_0x4086c7;document[_0x217a7f(0x773)]('additional-parallel-shortcuts-modal')['classList'][_0x217a7f(0xd0a)]('hidden');}),document[_0x4086c7(0x6f7)]('click',_0x32f8c2=>{const _0x48687d=_0x4086c7;!_0x32f8c2[_0x48687d(0x674)]['closest'](_0x48687d(0xa90))&&document['querySelectorAll'](_0x48687d(0x327))['forEach'](_0x4c5e53=>_0x4c5e53[_0x48687d(0x985)]['add'](_0x48687d(0x806)));}),document[_0x4086c7(0x773)]('add-file-shortcut-tab-btn')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleAddFileShortcutTab),document[_0x4086c7(0x773)](_0x4086c7(0xdde))['addEventListener'](_0x4086c7(0x2af),_0x7ef68e=>{const _0x415b45=_0x4086c7;_0x7ef68e[_0x415b45(0x674)][_0x415b45(0x2e4)]('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId='all',renderAdditionalFileShortcutsModal(),document[_0x415b45(0x773)](_0x415b45(0xaff))[_0x415b45(0x985)][_0x415b45(0xa54)]('hidden'));}),document[_0x4086c7(0x773)]('close-additional-file-shortcuts-btn')[_0x4086c7(0x6f7)]('click',()=>{const _0x2a57c7=_0x4086c7;document['getElementById'](_0x2a57c7(0xaff))[_0x2a57c7(0x985)][_0x2a57c7(0xd0a)](_0x2a57c7(0x806));}),document[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0x13887d=>{const _0x141798=_0x4086c7;!_0x13887d[_0x141798(0x674)][_0x141798(0x2e4)](_0x141798(0x22a))&&document['querySelectorAll'](_0x141798(0x939))[_0x141798(0xa25)](_0x3aebfd=>_0x3aebfd[_0x141798(0x985)][_0x141798(0xd0a)](_0x141798(0x806)));}),document[_0x4086c7(0x773)]('add-shortcut-tab-btn')['addEventListener']('click',handleAddShortcutTab),document[_0x4086c7(0x773)]('parallel-shortcut-container')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0x327aa2=>{const _0x86d36b=_0x4086c7,_0x2615e1=_0x327aa2[_0x86d36b(0x674)][_0x86d36b(0x2e4)](_0x86d36b(0x56f)),_0x380649=_0x327aa2[_0x86d36b(0x674)][_0x86d36b(0x2e4)]('.edit-parallel-shortcut-btn'),_0x40a2af=_0x327aa2[_0x86d36b(0x674)][_0x86d36b(0x2e4)](_0x86d36b(0x167));if(_0x380649)openParallelTestShortcutEditor(_0x380649['dataset']['id']);else{if(_0x40a2af){const _0x4a6ab5=_0x40a2af[_0x86d36b(0x576)]['id'];showConfirmation(_0x86d36b(0xae0),async()=>{const _0xc996ab=_0x86d36b,_0x61e265=parallelTestShortcuts[_0xc996ab(0x485)](_0x282ce4=>_0x282ce4['id']!==_0x4a6ab5),_0x5c7460=doc(db,_0xc996ab(0x284),_0xc996ab(0xace));await setDoc(_0x5c7460,{'shortcuts':_0x61e265},{'merge':!![]});});}else _0x2615e1&&handleParallelTestShortcutClick(_0x2615e1[_0x86d36b(0x576)]['id']);}}),document[_0x4086c7(0x773)](_0x4086c7(0x9d1))[_0x4086c7(0x6f7)]('click',()=>openParallelTestShortcutEditor(null)),document[_0x4086c7(0x773)]('cancel-parallel-shortcut-edit-btn')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x23b6d6=_0x4086c7;document[_0x23b6d6(0x773)](_0x23b6d6(0x9d7))[_0x23b6d6(0x985)][_0x23b6d6(0xd0a)]('hidden');}),document[_0x4086c7(0x773)]('save-parallel-shortcut-btn')['addEventListener'](_0x4086c7(0x2af),saveParallelTestShortcutChanges),document[_0x4086c7(0x773)](_0x4086c7(0xa2f))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0x24170d=>{const _0x55bd1c=_0x4086c7;_0x24170d[_0x55bd1c(0x674)]['closest'](_0x55bd1c(0x8de))&&document[_0x55bd1c(0x773)](_0x55bd1c(0x9ae))[_0x55bd1c(0x985)][_0x55bd1c(0xa54)](_0x55bd1c(0x806));}),document[_0x4086c7(0x773)](_0x4086c7(0x111))['addEventListener']('click',()=>{const _0x3f3fbb=_0x4086c7;document['getElementById']('additional-parallel-shortcuts-modal')[_0x3f3fbb(0x985)][_0x3f3fbb(0xd0a)](_0x3f3fbb(0x806));}),document[_0x4086c7(0x773)]('additional-parallel-shortcuts-list')[_0x4086c7(0x6f7)]('click',_0x280223=>{const _0x3a2b0f=_0x4086c7,_0x283e01=document[_0x3a2b0f(0x773)]('additional-parallel-shortcuts-modal'),_0x386853=_0x280223[_0x3a2b0f(0x674)][_0x3a2b0f(0x2e4)](_0x3a2b0f(0x89b)),_0x1fdf08=_0x280223[_0x3a2b0f(0x674)][_0x3a2b0f(0x2e4)]('.edit-hidden-parallel-shortcut-btn'),_0x407c22=_0x280223[_0x3a2b0f(0x674)]['closest'](_0x3a2b0f(0x1db));if(_0x386853)_0x283e01[_0x3a2b0f(0x985)][_0x3a2b0f(0xd0a)](_0x3a2b0f(0x806)),handleParallelTestShortcutClick(_0x386853['dataset']['id']);else{if(_0x1fdf08)_0x283e01[_0x3a2b0f(0x985)][_0x3a2b0f(0xd0a)](_0x3a2b0f(0x806)),openParallelTestShortcutEditor(_0x1fdf08[_0x3a2b0f(0x576)]['id']);else{if(_0x407c22){const _0x38a2f5=_0x407c22[_0x3a2b0f(0x576)]['id'];showConfirmation(_0x3a2b0f(0xae0),async()=>{const _0x2fb282=_0x3a2b0f,_0xa1df0=parallelTestShortcuts[_0x2fb282(0x485)](_0x12257d=>_0x12257d['id']!==_0x38a2f5),_0x46113d=doc(db,_0x2fb282(0x284),_0x2fb282(0xace));await setDoc(_0x46113d,{'shortcuts':_0xa1df0},{'merge':!![]});});}}}}),document['getElementById']('file-shortcut-container')['addEventListener'](_0x4086c7(0x2af),_0x5b2cc2=>{const _0x5489a0=_0x4086c7,_0x1b39b6=_0x5b2cc2[_0x5489a0(0x674)][_0x5489a0(0x2e4)]('.file-shortcut-btn'),_0x5995a7=_0x5b2cc2[_0x5489a0(0x674)][_0x5489a0(0x2e4)](_0x5489a0(0xe3b)),_0x6ce484=_0x5b2cc2[_0x5489a0(0x674)][_0x5489a0(0x2e4)](_0x5489a0(0x4aa));if(_0x5995a7)openFileShortcutEditor(_0x5995a7[_0x5489a0(0x576)]['id']);else{if(_0x6ce484){const _0x2510a1=_0x6ce484[_0x5489a0(0x576)]['id'];showConfirmation(_0x5489a0(0xae0),async()=>{const _0x3efa91=_0x5489a0,_0x4cba3e=fileShortcuts['filter'](_0x21af3b=>_0x21af3b['id']!==_0x2510a1),_0x1ae046=doc(db,_0x3efa91(0x284),_0x3efa91(0x678));await setDoc(_0x1ae046,{'shortcuts':_0x4cba3e},{'merge':!![]});});}else _0x1b39b6&&handleFileShortcutClick(_0x1b39b6[_0x5489a0(0x576)]['id']);}}),document[_0x4086c7(0x773)]('add-file-shortcut-btn')['addEventListener']('click',()=>openFileShortcutEditor(null)),document[_0x4086c7(0x773)](_0x4086c7(0x57d))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0xcbd548=_0x4086c7;document[_0xcbd548(0x773)](_0xcbd548(0xb4b))[_0xcbd548(0x985)][_0xcbd548(0xd0a)]('hidden');}),document[_0x4086c7(0x773)](_0x4086c7(0xdf7))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),saveFileShortcutChanges),document[_0x4086c7(0x773)](_0x4086c7(0xdde))['addEventListener'](_0x4086c7(0x2af),_0x37cc47=>{const _0x24d7a3=_0x4086c7;_0x37cc47[_0x24d7a3(0x674)][_0x24d7a3(0x2e4)](_0x24d7a3(0x184))&&document[_0x24d7a3(0x773)](_0x24d7a3(0xaff))['classList'][_0x24d7a3(0xa54)](_0x24d7a3(0x806));}),document['getElementById'](_0x4086c7(0xc0f))[_0x4086c7(0x6f7)]('click',()=>{const _0x157f31=_0x4086c7;document[_0x157f31(0x773)]('additional-file-shortcuts-modal')[_0x157f31(0x985)][_0x157f31(0xd0a)](_0x157f31(0x806));}),document[_0x4086c7(0x773)](_0x4086c7(0x35f))[_0x4086c7(0x6f7)]('click',_0x29a888=>{const _0x43dcfe=_0x4086c7,_0x21b163=document[_0x43dcfe(0x773)](_0x43dcfe(0xaff)),_0x8280ca=_0x29a888[_0x43dcfe(0x674)]['closest'](_0x43dcfe(0x5b2)),_0x434eea=_0x29a888[_0x43dcfe(0x674)][_0x43dcfe(0x2e4)](_0x43dcfe(0x36a)),_0x2bafd8=_0x29a888[_0x43dcfe(0x674)][_0x43dcfe(0x2e4)](_0x43dcfe(0x6ef));if(_0x8280ca)_0x21b163[_0x43dcfe(0x985)][_0x43dcfe(0xd0a)](_0x43dcfe(0x806)),handleFileShortcutClick(_0x8280ca[_0x43dcfe(0x576)]['id']);else{if(_0x434eea)_0x21b163['classList'][_0x43dcfe(0xd0a)](_0x43dcfe(0x806)),openFileShortcutEditor(_0x434eea['dataset']['id']);else{if(_0x2bafd8){const _0x4e5131=_0x2bafd8[_0x43dcfe(0x576)]['id'];showConfirmation(_0x43dcfe(0xae0),async()=>{const _0x44e8c5=_0x43dcfe,_0x42f173=fileShortcuts['filter'](_0x441ab2=>_0x441ab2['id']!==_0x4e5131),_0x391602=doc(db,_0x44e8c5(0x284),_0x44e8c5(0x678));await setDoc(_0x391602,{'shortcuts':_0x42f173},{'merge':!![]});});}}}}),document[_0x4086c7(0x773)](_0x4086c7(0xa81))[_0x4086c7(0x6f7)]('click',_0x492c14=>{const _0x277628=_0x4086c7;_0x492c14[_0x277628(0x674)][_0x277628(0x2e4)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId=_0x277628(0x2d2),renderAdditionalShortcutsModal(),document[_0x277628(0x773)]('additional-shortcuts-modal')[_0x277628(0x985)][_0x277628(0xa54)](_0x277628(0x806)));}),document[_0x4086c7(0x773)](_0x4086c7(0xe49))['addEventListener'](_0x4086c7(0x2af),()=>{const _0x9fb537=_0x4086c7;document['getElementById'](_0x9fb537(0x4f3))['classList'][_0x9fb537(0xd0a)](_0x9fb537(0x806));}),document[_0x4086c7(0x773)]('additional-shortcuts-list')[_0x4086c7(0x6f7)]('click',_0xa21cad=>{const _0x39e0cc=_0x4086c7,_0x1ef472=_0xa21cad['target'][_0x39e0cc(0x2e4)]('.use-hidden-shortcut-btn'),_0x17be19=_0xa21cad[_0x39e0cc(0x674)]['closest'](_0x39e0cc(0x76f)),_0x159f7a=_0xa21cad['target'][_0x39e0cc(0x2e4)](_0x39e0cc(0xa7e)),_0x5cf377=document['getElementById']('additional-shortcuts-modal');if(_0x1ef472)_0x5cf377['classList'][_0x39e0cc(0xd0a)]('hidden'),handleShortcutClick(_0x1ef472[_0x39e0cc(0x576)]['id']);else{if(_0x17be19)_0x5cf377[_0x39e0cc(0x985)][_0x39e0cc(0xd0a)]('hidden'),openShortcutEditor(_0x17be19[_0x39e0cc(0x576)]['id']);else{if(_0x159f7a){const _0x61325f=_0x159f7a['dataset']['id'],_0xf09ea5=blueprintShortcuts[_0x39e0cc(0x15b)](_0x2edcf5=>_0x2edcf5['id']===_0x61325f)?.[_0x39e0cc(0xb30)];showConfirmation(_0x39e0cc(0xe55)+_0xf09ea5+'\x22?',async()=>{const _0x1ad737=_0x39e0cc,_0x2932fc=blueprintShortcuts[_0x1ad737(0x485)](_0x4de5f0=>_0x4de5f0['id']!==_0x61325f);try{const _0x60c490=doc(db,_0x1ad737(0x284),'dashboardConfig');await setDoc(_0x60c490,{'blueprintShortcuts':_0x2932fc},{'merge':!![]});}catch(_0x378e55){console['error']('Error\x20deleting\x20shortcut:',_0x378e55);}});}}}}),document[_0x4086c7(0x773)](_0x4086c7(0x339))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0x544f5a=>{const _0x5cde90=_0x4086c7,_0x34b159=_0x544f5a[_0x5cde90(0x674)][_0x5cde90(0x2e4)]('.shortcut-btn'),_0x3c4ad7=_0x544f5a[_0x5cde90(0x674)][_0x5cde90(0x2e4)](_0x5cde90(0x25c)),_0x57dc71=_0x544f5a[_0x5cde90(0x674)][_0x5cde90(0x2e4)]('.delete-shortcut-btn');if(_0x3c4ad7)openShortcutEditor(_0x3c4ad7[_0x5cde90(0x576)]['id']);else{if(_0x57dc71){const _0x5294dd=_0x57dc71[_0x5cde90(0x576)]['id'],_0x4596f4=blueprintShortcuts[_0x5cde90(0x15b)](_0x461f15=>_0x461f15['id']===_0x5294dd)?.[_0x5cde90(0xb30)];showConfirmation(_0x5cde90(0xe55)+_0x4596f4+'\x22?',async()=>{const _0x5c32c0=_0x5cde90,_0x4c34c0=blueprintShortcuts['filter'](_0x5ba9d0=>_0x5ba9d0['id']!==_0x5294dd);try{const _0x5c1b83=doc(db,_0x5c32c0(0x284),_0x5c32c0(0xd3b));await setDoc(_0x5c1b83,{'blueprintShortcuts':_0x4c34c0},{'merge':!![]});}catch(_0x4631f5){console['error'](_0x5c32c0(0x741),_0x4631f5);}});}else _0x34b159&&handleShortcutClick(_0x34b159[_0x5cde90(0x576)]['id']);}}),document[_0x4086c7(0x773)](_0x4086c7(0xbab))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>openShortcutEditor(null)),document[_0x4086c7(0x773)](_0x4086c7(0x718))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x269b87=_0x4086c7;document['getElementById'](_0x269b87(0x970))[_0x269b87(0x985)][_0x269b87(0xd0a)](_0x269b87(0x806));}),document['getElementById'](_0x4086c7(0xb26))['addEventListener'](_0x4086c7(0x2af),saveShortcutChanges),document[_0x4086c7(0x773)](_0x4086c7(0xcae))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),async()=>{const _0x2e64e9=_0x4086c7,_0xe3939d=document[_0x2e64e9(0x773)](_0x2e64e9(0x955)),_0x43545c=document['getElementById'](_0x2e64e9(0x503));_0xe3939d['files'][_0x2e64e9(0x5df)]>0x0?await handleGenerateFromBlueprintWithFiles(_0xe3939d[_0x2e64e9(0x735)][0x0],_0x43545c[_0x2e64e9(0x735)][0x0]||null):showMessage('กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด');}),document[_0x4086c7(0x773)](_0x4086c7(0x387))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),async _0x3a6a66=>{const _0x2ba420=_0x4086c7,_0x96b082=document[_0x2ba420(0x773)](_0x2ba420(0x387)),_0x5d1cdb=_0x3a6a66[_0x2ba420(0x674)][_0x2ba420(0x2e4)](_0x2ba420(0x2e9)),_0x5e7ddd=_0x3a6a66['target'][_0x2ba420(0x2e4)]('.bp-unlink-quiz-btn'),_0x15280f=_0x3a6a66[_0x2ba420(0x674)][_0x2ba420(0x2e4)](_0x2ba420(0xdb)),_0x2d1541=_0x3a6a66[_0x2ba420(0x674)][_0x2ba420(0x2e4)](_0x2ba420(0x1ef)),_0x37a82d=_0x3a6a66['target'][_0x2ba420(0x2e4)](_0x2ba420(0x824)),_0x24b97d=_0x3a6a66[_0x2ba420(0x674)][_0x2ba420(0x2e4)](_0x2ba420(0x484));if(_0x5d1cdb){cameFromBlueprint=!![];const _0x3bd76d=_0x5d1cdb[_0x2ba420(0x576)][_0x2ba420(0x514)];showQuizDetailView(_0x3bd76d),_0x96b082[_0x2ba420(0x985)][_0x2ba420(0xd0a)](_0x2ba420(0x806));}else{if(_0x5e7ddd){const _0xa681bf=_0x5e7ddd[_0x2ba420(0x576)][_0x2ba420(0x1a8)],_0x29e6b0=_0x5e7ddd[_0x2ba420(0x576)][_0x2ba420(0x514)],_0x2f2280=allQuizzesGlobal[_0x2ba420(0x15b)](_0x252117=>_0x252117['id']===_0x29e6b0),_0x3eedfe=_0x2f2280?_0x2f2280[_0x2ba420(0xa37)]:_0x2ba420(0x492);showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0x3eedfe+_0x2ba420(0x9a5),async()=>{const _0x3479cc=_0x2ba420;try{const _0x5dce49=doc(db,_0x3479cc(0x6de)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x5dce49,{[_0x3479cc(0x8c4)+_0xa681bf+_0x3479cc(0x6ce)]:arrayRemove(_0x29e6b0)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0xa681bf),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5d2f4e){console[_0x3479cc(0x7bc)](_0x3479cc(0x8c1),_0x5d2f4e),showMessage(_0x3479cc(0x814));}});}else{if(_0x15280f){cameFromBlueprint=!![];const _0xa4077a=_0x15280f[_0x2ba420(0x576)]['quizId'],_0x1919ba=allQuizzesGlobal['find'](_0x2ef27a=>_0x2ef27a['id']===_0xa4077a);_0x1919ba&&(startPresentation(_0x1919ba),_0x96b082['classList'][_0x2ba420(0xd0a)]('hidden'));}else{if(_0x2d1541){cameFromBlueprint=!![];const _0x23cccc=_0x2d1541[_0x2ba420(0x576)][_0x2ba420(0x514)],_0x48cfc2=allQuizzesGlobal[_0x2ba420(0x15b)](_0x4b6e7=>_0x4b6e7['id']===_0x23cccc);_0x48cfc2&&(currentQuizData=_0x48cfc2,startAdminTest(),_0x96b082['classList']['add'](_0x2ba420(0x806)));}else{if(_0x37a82d)cameFromBlueprint=!![],handleStartLiveRace(_0x37a82d[_0x2ba420(0x576)][_0x2ba420(0x514)]),_0x96b082[_0x2ba420(0x985)][_0x2ba420(0xd0a)]('hidden');else{if(_0x24b97d){cameFromBlueprint=!![];const _0x5c6c61=_0x24b97d['dataset']['quizId'],_0xf787f9=_0x24b97d['dataset'][_0x2ba420(0x91a)],_0x5a6f70=allQuizzesGlobal[_0x2ba420(0x15b)](_0x1e7cf3=>_0x1e7cf3['id']===_0x5c6c61);_0x5a6f70&&(showGameStartConfirmationModal(_0x5c6c61,_0xf787f9,_0x5a6f70['topic']),_0x96b082[_0x2ba420(0x985)][_0x2ba420(0xd0a)](_0x2ba420(0x806)));}}}}}}}),document[_0x4086c7(0x773)](_0x4086c7(0x6fc))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x5078d9=_0x4086c7;document[_0x5078d9(0x773)]('manual-blueprint-modal')[_0x5078d9(0x985)][_0x5078d9(0xa54)](_0x5078d9(0x806)),document[_0x5078d9(0x773)]('manual-bp-project-name')['value']='',document[_0x5078d9(0x773)]('manual-bp-grade-level')[_0x5078d9(0xd9d)]='',document[_0x5078d9(0x773)](_0x5078d9(0xac9))[_0x5078d9(0xd9d)]='';}),document[_0x4086c7(0x773)]('cancel-manual-bp-btn')['addEventListener'](_0x4086c7(0x2af),()=>{const _0x3d4fb7=_0x4086c7;document[_0x3d4fb7(0x773)](_0x3d4fb7(0x3be))['classList'][_0x3d4fb7(0xd0a)](_0x3d4fb7(0x806));}),document['getElementById'](_0x4086c7(0x55b))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleManualBlueprintSave),document[_0x4086c7(0x773)](_0x4086c7(0x5aa))['addEventListener'](_0x4086c7(0x2af),()=>document[_0x4086c7(0x773)](_0x4086c7(0xa8c))[_0x4086c7(0x985)]['add']('hidden')),document[_0x4086c7(0x773)](_0x4086c7(0x4ee))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleSaveBlueprintPageSettings),document[_0x4086c7(0x773)](_0x4086c7(0x566))['addEventListener'](_0x4086c7(0x2af),openBlueprintQuizSettings),document[_0x4086c7(0x773)](_0x4086c7(0xc9e))['addEventListener'](_0x4086c7(0x2af),saveBlueprintProject),document['getElementById'](_0x4086c7(0xc8))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),showBlueprintProjects),document[_0x4086c7(0x773)]('cancel-blueprint-projects-btn')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x596083=_0x4086c7;document[_0x596083(0x773)]('blueprint-projects-modal')[_0x596083(0x985)][_0x596083(0xd0a)](_0x596083(0x806));}),document[_0x4086c7(0x773)]('blueprint-project-list')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0x339efd=>{const _0x50bd7a=_0x4086c7,_0xd4e241=_0x339efd['target']['closest'](_0x50bd7a(0x6f1)),_0x31ae42=_0x339efd[_0x50bd7a(0x674)][_0x50bd7a(0x2e4)](_0x50bd7a(0xd64));if(_0xd4e241)displayBlueprintProjectManager(_0xd4e241['dataset']['id']);else _0x31ae42&&handleDeepDeleteBlueprintProject(_0x31ae42[_0x50bd7a(0x576)]['id']);}),document[_0x4086c7(0x773)](_0x4086c7(0xe42))[_0x4086c7(0x6f7)]('click',()=>{const _0x29d596=_0x4086c7;currentBlueprintProjectId=null,currentProjectId=null,document[_0x29d596(0x773)]('blueprint-project-manager-view')[_0x29d596(0x985)][_0x29d596(0xd0a)](_0x29d596(0x806)),showView(_0x29d596(0x14f));}),document[_0x4086c7(0x773)](_0x4086c7(0x4bc))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),addTopicToProject),document['getElementById'](_0x4086c7(0xdb9))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),async _0x3b5596=>{const _0x1fb3cc=_0x4086c7,_0x59d325=_0x3b5596['target'][_0x1fb3cc(0x2e4)](_0x1fb3cc(0x1d1));if(!_0x59d325)return;const _0x13cbb3=_0x59d325[_0x1fb3cc(0x576)][_0x1fb3cc(0x1a8)],_0x3c1a12=_0x3b5596[_0x1fb3cc(0x674)]['closest'](_0x1fb3cc(0x4f9)),_0x4e6ecf=_0x3b5596[_0x1fb3cc(0x674)][_0x1fb3cc(0x2e4)](_0x1fb3cc(0x4c7)),_0x55b4c0=_0x3b5596['target']['closest'](_0x1fb3cc(0xbc1)),_0x398cb0=_0x3b5596[_0x1fb3cc(0x674)][_0x1fb3cc(0x2e4)](_0x1fb3cc(0x51e)),_0x4c7e73=_0x3b5596[_0x1fb3cc(0x674)][_0x1fb3cc(0x2e4)]('.view-bp-lesson-btn'),_0x2dc7bc=_0x3b5596[_0x1fb3cc(0x674)][_0x1fb3cc(0x2e4)](_0x1fb3cc(0x974)),_0x1cf46f=_0x3b5596[_0x1fb3cc(0x674)]['closest'](_0x1fb3cc(0x41b)),_0x45d7af=_0x3b5596['target'][_0x1fb3cc(0x2e4)](_0x1fb3cc(0xdeb)),_0x39bdbf=_0x36f89b=>{const _0x221c27=_0x1fb3cc,_0x38708f=_0x36f89b[_0x221c27(0x86f)](_0x221c27(0x99d))['textContent'][_0x221c27(0xafd)](),_0x163e39=_0x36f89b[_0x221c27(0x2e4)](_0x221c27(0x6b9))[_0x221c27(0xaf6)],_0x15204e=_0x163e39?_0x163e39[_0x221c27(0xcd6)][_0x221c27(0xafd)]():'';return _0x15204e+':\x20'+_0x38708f;};if(_0x398cb0)openTopicQuizBank(_0x13cbb3);else{if(_0x3c1a12){const _0x51cf5d=_0x39bdbf(_0x59d325);selectProjectAndGenerateBlueprintQuiz(_0x51cf5d,null,_0x13cbb3,!![]);}else{if(_0x4e6ecf){const _0x394bbf=_0x39bdbf(_0x59d325);try{const _0x5ad8af=doc(db,_0x1fb3cc(0x6de)+appId+_0x1fb3cc(0xdf4)+currentBlueprintProjectId+_0x1fb3cc(0xc89),_0x13cbb3),_0x176a1e=await getDoc(_0x5ad8af);if(_0x176a1e[_0x1fb3cc(0xc63)]()){const _0x217abe=_0x176a1e[_0x1fb3cc(0xafb)]()[_0x1fb3cc(0x7bf)],_0x394d15=document[_0x1fb3cc(0x869)](_0x1fb3cc(0x5f9)),_0x3c92ed=_0x539a2e=>{const _0x38d8b6=_0x1fb3cc;if(!_0x539a2e)return'';return _0x394d15['innerHTML']=_0x539a2e,_0x394d15[_0x38d8b6(0xcd6)]||_0x394d15[_0x38d8b6(0xab8)]||'';},_0x1f02c3=(_0x3c92ed(_0x217abe[_0x1fb3cc(0x93f)])+'\x20'+_0x3c92ed(_0x217abe['memory'])+'\x20'+_0x3c92ed(_0x217abe[_0x1fb3cc(0x788)]))[_0x1fb3cc(0xafd)]();selectProjectAndGenerateBlueprintQuiz(_0x394bbf,_0x1f02c3,_0x13cbb3,![]);}else showMessage(_0x1fb3cc(0xea));}catch(_0x140dd6){console['error'](_0x1fb3cc(0x811),_0x140dd6),showMessage(_0x1fb3cc(0x9a0));}}else{if(_0x55b4c0){const _0x318962=_0x39bdbf(_0x59d325);selectProjectAndGenerateBlueprintQuiz(_0x318962,null,_0x13cbb3,![]);}else{if(_0x4c7e73){const _0x4f0cf9=doc(db,_0x1fb3cc(0x6de)+appId+_0x1fb3cc(0x31d),currentBlueprintProjectId),_0x1ef3b6=await getDoc(_0x4f0cf9);if(_0x1ef3b6[_0x1fb3cc(0xc63)]()){const _0xc5bd66=_0x1ef3b6[_0x1fb3cc(0xafb)](),_0x315d7a=_0xc5bd66[_0x1fb3cc(0x64f)][_0x13cbb3];if(_0x315d7a&&_0x315d7a[_0x1fb3cc(0xfc)]==='generated')try{const _0x1d4f1f=doc(db,_0x1fb3cc(0x6de)+appId+_0x1fb3cc(0xdf4)+currentBlueprintProjectId+_0x1fb3cc(0xc89),_0x13cbb3),_0x4a8b45=await getDoc(_0x1d4f1f);if(_0x4a8b45[_0x1fb3cc(0xc63)]()){const _0x46f183=_0x4a8b45[_0x1fb3cc(0xafb)]()[_0x1fb3cc(0x7bf)];document[_0x1fb3cc(0x773)](_0x1fb3cc(0x8b0))['textContent']=_0x1fb3cc(0xdff)+_0x39bdbf(_0x59d325),document[_0x1fb3cc(0x773)]('pointContent')[_0x1fb3cc(0x8ec)]=_0x46f183[_0x1fb3cc(0x93f)],document['getElementById'](_0x1fb3cc(0x116))[_0x1fb3cc(0x8ec)]=_0x46f183[_0x1fb3cc(0x8e5)],document[_0x1fb3cc(0x773)](_0x1fb3cc(0xbef))[_0x1fb3cc(0x8ec)]=_0x46f183[_0x1fb3cc(0x788)];const _0x5797a9=document['getElementById'](_0x1fb3cc(0x75c));_0x46f183[_0x1fb3cc(0x5fb)]?(currentApplicationData=_0x46f183[_0x1fb3cc(0x5fb)],_0x5797a9['innerHTML']=currentApplicationData[_0x1fb3cc(0x9d3)]((_0x4c075f,_0x1a6bc4)=>_0x1fb3cc(0x49f)+(_0x1a6bc4+0x1)+'.\x20'+marked[_0x1fb3cc(0x367)](_0x4c075f[_0x1fb3cc(0xa9f)])+'</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x1a6bc4+_0x1fb3cc(0x6ac)+_0x4c075f[_0x1fb3cc(0x50b)][_0x1fb3cc(0x9d3)]((_0x1bc837,_0x11051c)=>_0x1fb3cc(0xdf3)+_0x1a6bc4+',\x20'+_0x11051c+_0x1fb3cc(0x47d)+String['fromCharCode'](0x61+_0x11051c)+'.\x20'+marked['parseInline'](_0x1bc837)+_0x1fb3cc(0x58c))[_0x1fb3cc(0x370)]('')+_0x1fb3cc(0x8fe))[_0x1fb3cc(0x370)]('')):(currentApplicationData=[],_0x5797a9[_0x1fb3cc(0x8ec)]=_0x46f183[_0x1fb3cc(0x427)]||_0x46f183['application']),document[_0x1fb3cc(0x773)](_0x1fb3cc(0x8c8))[_0x1fb3cc(0x985)][_0x1fb3cc(0xd0a)]('hidden'),document[_0x1fb3cc(0x773)](_0x1fb3cc(0xd36))[_0x1fb3cc(0x985)]['remove'](_0x1fb3cc(0x806)),document['getElementById'](_0x1fb3cc(0x42d))['classList'][_0x1fb3cc(0xa54)](_0x1fb3cc(0x806)),window[_0x1fb3cc(0x6a1)]&&MathJax[_0x1fb3cc(0x7c9)]([document[_0x1fb3cc(0x773)](_0x1fb3cc(0x57c))]);}else showMessage(_0x1fb3cc(0x615));}catch(_0x2b01e5){console[_0x1fb3cc(0x7bc)]('Error\x20fetching\x20lesson\x20content:',_0x2b01e5),showMessage(_0x1fb3cc(0x416));}else showMessage(_0x1fb3cc(0x124));}}else{if(_0x2dc7bc){const _0x2cc591=_0x39bdbf(_0x59d325),_0x5efbe0=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x412c2a=await getDoc(_0x5efbe0);if(_0x412c2a[_0x1fb3cc(0xc63)]()){const _0x38fc65=_0x412c2a['data']();generateAndSaveLessonForBlueprint(_0x13cbb3,_0x2cc591,_0x38fc65[_0x1fb3cc(0x5ca)]);}}else{if(_0x1cf46f)editTopicInProject(_0x13cbb3);else _0x45d7af&&deleteTopicFromProject(_0x13cbb3);}}}}}}}),document[_0x4086c7(0x773)](_0x4086c7(0x62e))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleFixLessonLatex),document['getElementById'](_0x4086c7(0x123))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleExportLessonToPDF),document['getElementById'](_0x4086c7(0x82e))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x2eab19=_0x4086c7;document['getElementById'](_0x2eab19(0x42d))['classList'][_0x2eab19(0xd0a)]('hidden');});const _0x1a1d13=document[_0x4086c7(0x773)](_0x4086c7(0x6d3)),_0x3076cf=document[_0x4086c7(0x773)](_0x4086c7(0x2f3));_0x1a1d13[_0x4086c7(0x6f7)](_0x4086c7(0x813),()=>{const _0x2120d3=_0x4086c7;_0x3076cf[_0x2120d3(0x985)][_0x2120d3(0xbbd)](_0x2120d3(0x806),!_0x1a1d13[_0x2120d3(0x17e)]);});const _0x5a1e89=document[_0x4086c7(0x773)](_0x4086c7(0x1a5)),_0xd3a6c1=document[_0x4086c7(0x773)](_0x4086c7(0x2d8));_0x5a1e89[_0x4086c7(0x6f7)]('change',()=>{const _0x26d4e0=_0x4086c7;_0xd3a6c1[_0x26d4e0(0x985)]['toggle']('hidden',!_0x5a1e89['checked']);});const _0xccc38b=document['getElementById'](_0x4086c7(0xc48)),_0x210f30=document[_0x4086c7(0x773)](_0x4086c7(0x5f7));_0xccc38b['addEventListener'](_0x4086c7(0x813),()=>{const _0x81f52d=_0x4086c7;_0x210f30[_0x81f52d(0x985)][_0x81f52d(0xbbd)](_0x81f52d(0x806),!_0xccc38b[_0x81f52d(0x17e)]);});const _0x584ebe=document[_0x4086c7(0x773)](_0x4086c7(0x482)),_0x1ecb6e=async _0x56a9b3=>{const _0x5443f3=_0x4086c7,_0x3d2bb8=document[_0x5443f3(0x773)](_0x5443f3(0x482)),_0x388329=_0x3d2bb8[_0x5443f3(0x576)]['currentMode'],_0x2c6a7f=document[_0x5443f3(0x773)](_0x5443f3(0xc1a));_0x3d2bb8['classList'][_0x5443f3(0xd0a)](_0x5443f3(0x806));if(_0x388329===_0x5443f3(0x2b9)){const _0x336ede=_0x2c6a7f[_0x5443f3(0xd9d)],_0x452acf={'answer':_0x336ede,'wasConfident':_0x56a9b3};proceedToNextQuestion(_0x452acf);}else{if(_0x388329===_0x5443f3(0x479)){const _0x302358=_0x2c6a7f[_0x5443f3(0x576)][_0x5443f3(0xd1b)],_0x55ad2b=JSON[_0x5443f3(0xbf7)](_0x2c6a7f[_0x5443f3(0x576)]['question']),_0x4c0716=JSON['parse'](_0x2c6a7f[_0x5443f3(0x576)][_0x5443f3(0xe37)]),_0x1da201=_0x2c6a7f[_0x5443f3(0x576)][_0x5443f3(0xaf2)];handleSyncAnswerSubmit(_0x302358,_0x55ad2b,_0x4c0716,_0x1da201,_0x56a9b3);}}_0x3d2bb8['dataset'][_0x5443f3(0x4e2)]='';};document[_0x4086c7(0x773)](_0x4086c7(0xca3))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>_0x1ecb6e(!![])),document[_0x4086c7(0x773)](_0x4086c7(0xb3d))['addEventListener'](_0x4086c7(0x2af),()=>_0x1ecb6e(![])),liveGameView[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0x3a68a4=>{const _0x53223c=_0x4086c7,_0x2e39c4=_0x3a68a4['target'][_0x53223c(0x2e4)]('.kick-player-btn-sync');if(_0x2e39c4){const _0x1e1f6b=_0x2e39c4[_0x53223c(0x576)][_0x53223c(0xaf2)];_0x1e1f6b&&handleKickPlayerSync(_0x1e1f6b);}});const _0x4c8cc5=document[_0x4086c7(0x773)]('confirm-game-start-btn'),_0x5e2745=document[_0x4086c7(0x773)](_0x4086c7(0x2bc));_0x5e2745['addEventListener'](_0x4086c7(0x2af),()=>{const _0x38de9a=_0x4086c7;document[_0x38de9a(0x773)](_0x38de9a(0xd51))[_0x38de9a(0x985)][_0x38de9a(0xd0a)](_0x38de9a(0x806));}),_0x4c8cc5[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x500fd6=_0x4086c7,_0x47c80f=document[_0x500fd6(0x773)](_0x500fd6(0x26d))['value'],_0x488535=document['getElementById'](_0x500fd6(0x8fd))[_0x500fd6(0xd9d)],_0xa2b047=document[_0x500fd6(0x773)](_0x500fd6(0x70a))[_0x500fd6(0x17e)];document['getElementById']('confirm-game-start-modal')[_0x500fd6(0x985)][_0x500fd6(0xd0a)](_0x500fd6(0x806));switch(_0x488535){case _0x500fd6(0xb6f):handleStartLiveRace(_0x47c80f,_0xa2b047);break;case _0x500fd6(0x61d):handleStartTeamQuiz(_0x47c80f,_0xa2b047);break;case _0x500fd6(0x193):handleStartGroupMode(_0x47c80f,_0xa2b047);break;case _0x500fd6(0x479):const _0x282fca=document[_0x500fd6(0x86f)]('input[name=\x22syncVariant\x22]:checked')[_0x500fd6(0xd9d)]||_0x500fd6(0x486);handleStartSyncMode(_0x47c80f,_0xa2b047,_0x282fca);break;}}),document[_0x4086c7(0x773)]('join-group-activity-btn')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleJoinGroupActivity),liveGameView[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0x154bd4=>{const _0x5323b8=_0x4086c7,_0x283b69=_0x154bd4[_0x5323b8(0x674)][_0x5323b8(0x2e4)](_0x5323b8(0x3d5));document[_0x5323b8(0x4a1)](_0x5323b8(0x83d))[_0x5323b8(0xa25)](_0xa86863=>{const _0x348081=_0x5323b8;(!_0x283b69||_0xa86863['id']!==_0x283b69[_0x348081(0x576)][_0x348081(0x7ed)])&&_0xa86863[_0x348081(0x985)][_0x348081(0xa54)](_0x348081(0x24d));});if(!_0x283b69)return;const _0x103638=_0x283b69[_0x5323b8(0x576)][_0x5323b8(0x7ed)],_0x1f5469=document['getElementById'](_0x103638);_0x1f5469&&_0x1f5469[_0x5323b8(0x985)][_0x5323b8(0xbbd)](_0x5323b8(0x24d));}),liveGameView[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0xf88af9=>{const _0x59c637=_0x4086c7;if(_0xf88af9[_0x59c637(0x674)][_0x59c637(0x985)][_0x59c637(0xc49)](_0x59c637(0x749))){const _0x4f3c63=_0xf88af9[_0x59c637(0x674)]['dataset'][_0x59c637(0xaf2)];_0x4f3c63&&handleKickPlayer(_0x4f3c63);}}),document[_0x4086c7(0x773)]('project-title')['addEventListener'](_0x4086c7(0xc61),()=>document['getElementById'](_0x4086c7(0xe18))['classList'][_0x4086c7(0xa54)](_0x4086c7(0x806))),document[_0x4086c7(0x773)](_0x4086c7(0xe18))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleSaveProjectName),document[_0x4086c7(0x773)]('project-title')[_0x4086c7(0x6f7)](_0x4086c7(0x42b),_0x493425=>{const _0x121c53=_0x4086c7;_0x493425[_0x121c53(0xadc)]===_0x121c53(0xe50)&&(_0x493425[_0x121c53(0x952)](),_0x493425[_0x121c53(0x674)][_0x121c53(0x8ed)](),handleSaveProjectName());}),document['getElementById'](_0x4086c7(0x25a))[_0x4086c7(0x6f7)]('click',()=>{const _0x55c4ad=_0x4086c7;document[_0x55c4ad(0x773)](_0x55c4ad(0x63d))[_0x55c4ad(0x985)][_0x55c4ad(0xa54)](_0x55c4ad(0x806));}),document[_0x4086c7(0x773)](_0x4086c7(0x4af))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x4e8d3b=_0x4086c7;document[_0x4e8d3b(0x773)]('bulk-quiz-settings-modal')[_0x4e8d3b(0x985)]['add'](_0x4e8d3b(0x806));}),document[_0x4086c7(0x773)]('confirm-bulk-quiz-settings-btn')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleBulkUpdateQuizSettings),document[_0x4086c7(0x773)](_0x4086c7(0x491))['addEventListener'](_0x4086c7(0x2af),handleModeSwitch),document[_0x4086c7(0x773)](_0x4086c7(0x6a0))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleUpdateOldQuizzes),document[_0x4086c7(0x773)](_0x4086c7(0x2f1))['addEventListener'](_0x4086c7(0x2af),handleResetProjectOrder),document[_0x4086c7(0x773)](_0x4086c7(0x1ae))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleSaveVisibilitySettings),document[_0x4086c7(0x773)](_0x4086c7(0xb05))[_0x4086c7(0x6f7)]('click',handleAddCustomMathTopic),document[_0x4086c7(0x773)](_0x4086c7(0x303))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleSelectAllTopics),document[_0x4086c7(0x773)](_0x4086c7(0x52d))[_0x4086c7(0x6f7)]('click',handleDeselectAllTopics),document[_0x4086c7(0x773)](_0x4086c7(0xa45))['addEventListener']('click',()=>{const _0x5b36aa=_0x4086c7;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x5b36aa(0x14f));}}),document['getElementById'](_0x4086c7(0x786))['addEventListener'](_0x4086c7(0x2af),()=>{const _0x84b9d2=_0x4086c7;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x84b9d2(0x90c));}}),document['getElementById'](_0x4086c7(0x8c7))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x302650=_0x4086c7;showView(_0x302650(0x14f));}),document[_0x4086c7(0x773)](_0x4086c7(0x8b4))['addEventListener'](_0x4086c7(0x2af),()=>{const _0x4162b9=_0x4086c7;messageModal[_0x4162b9(0x985)][_0x4162b9(0xd0a)](_0x4162b9(0x806)),typeof modalConfirmAction===_0x4162b9(0x568)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x4086c7(0x773)](_0x4086c7(0x918))[_0x4086c7(0x6f7)]('click',()=>createProjectModal[_0x4086c7(0x985)][_0x4086c7(0xa54)](_0x4086c7(0x806))),document['getElementById'](_0x4086c7(0x8c3))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>createProjectModal[_0x4086c7(0x985)]['add'](_0x4086c7(0x806))),document[_0x4086c7(0x773)]('cancel-admin-login-btn')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>adminPasswordModal['classList'][_0x4086c7(0xd0a)](_0x4086c7(0x806))),document[_0x4086c7(0x773)](_0x4086c7(0xc7e))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleAdminLogin),document[_0x4086c7(0x773)](_0x4086c7(0x8bf))[_0x4086c7(0x6f7)]('keyup',_0x3eafba=>{const _0xec2250=_0x4086c7;if(_0x3eafba[_0xec2250(0xadc)]===_0xec2250(0xe50))handleAdminLogin();}),document['getElementById'](_0x4086c7(0x54b))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x1ea76a=_0x4086c7;confirmationModal['classList'][_0x1ea76a(0xd0a)](_0x1ea76a(0x806)),typeof cancelAction===_0x1ea76a(0x568)&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0x4086c7(0x773)](_0x4086c7(0xb75))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x302516=_0x4086c7;confirmAction&&confirmAction(),confirmationModal[_0x302516(0x985)][_0x302516(0xd0a)](_0x302516(0x806)),confirmAction=null,cancelAction=null;}),document[_0x4086c7(0x773)](_0x4086c7(0x242))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>renameQuizModal[_0x4086c7(0x985)][_0x4086c7(0xd0a)]('hidden')),document['getElementById'](_0x4086c7(0x982))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),confirmRenameQuiz),document[_0x4086c7(0x773)]('cancel-move-quiz-btn')['addEventListener'](_0x4086c7(0x2af),()=>moveQuizModal['classList'][_0x4086c7(0xd0a)]('hidden')),document[_0x4086c7(0x773)](_0x4086c7(0x21a))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),confirmMoveQuiz),document[_0x4086c7(0x773)]('cancel-quiz-settings-btn')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>quizSettingsModal[_0x4086c7(0x985)]['add'](_0x4086c7(0x806))),document[_0x4086c7(0x773)](_0x4086c7(0xc65))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),confirmQuizSettings),document[_0x4086c7(0x773)]('cancel-quiz-status-btn')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>quizStatusModal[_0x4086c7(0x985)][_0x4086c7(0xd0a)]('hidden')),document[_0x4086c7(0x773)](_0x4086c7(0x524))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),confirmQuizStatus);const _0xce10f7=document[_0x4086c7(0x773)](_0x4086c7(0xba9));document[_0x4086c7(0x773)]('cancel-export-pdf-btn')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x2df65a=_0x4086c7;_0xce10f7['classList'][_0x2df65a(0xd0a)]('hidden');}),document[_0x4086c7(0x773)]('export-compact-pdf-btn')['addEventListener'](_0x4086c7(0x2af),async()=>{const _0x438ce1=_0x4086c7,_0x56a68c=allQuizzes['find'](_0x12c52d=>_0x12c52d['id']===actionTargetId);_0x56a68c?(currentQuizData=_0x56a68c,exportQuizAsWorksheetPDF()):showMessage(_0x438ce1(0x84a)),_0xce10f7[_0x438ce1(0x985)][_0x438ce1(0xd0a)](_0x438ce1(0x806));}),document[_0x4086c7(0x773)](_0x4086c7(0x84e))['addEventListener'](_0x4086c7(0x2af),async()=>{const _0x3e9277=_0x4086c7,_0x52ca32=allQuizzes['find'](_0x42d230=>_0x42d230['id']===actionTargetId);_0x52ca32?(currentQuizData=_0x52ca32,exportQuizAsTutorPDF()):showMessage(_0x3e9277(0x84a)),_0xce10f7[_0x3e9277(0x985)][_0x3e9277(0xd0a)]('hidden');});const _0x4db161=document[_0x4086c7(0x773)]('open-global-live-btn');_0x4db161[_0x4086c7(0x8ec)]=_0x4086c7(0x7e2),_0x4db161[_0x4086c7(0x6f7)](_0x4086c7(0x2af),openGlobalActivityModal),document[_0x4086c7(0x773)](_0x4086c7(0x4f2))['addEventListener'](_0x4086c7(0x2af),()=>{const _0x427d5e=_0x4086c7;document[_0x427d5e(0x773)]('global-activity-modal')['classList'][_0x427d5e(0xd0a)](_0x427d5e(0x806));}),document[_0x4086c7(0x773)]('global-quiz-search-input')['addEventListener'](_0x4086c7(0xd6b),_0x52dd4e=>{const _0x9d6285=_0x4086c7;renderGlobalActivityList(_0x52dd4e[_0x9d6285(0x674)][_0x9d6285(0xd9d)]);}),document['getElementById'](_0x4086c7(0xe3))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0x52f07a=>{const _0x276327=_0x4086c7,_0x435e75=_0x52f07a[_0x276327(0x674)][_0x276327(0x2e4)](_0x276327(0x69b));if(!_0x435e75)return;const _0x444d37=_0x435e75[_0x276327(0x576)]['id'],_0x23ec7f=_0x435e75['dataset'][_0x276327(0x91a)],_0x128ce5=allQuizzesGlobal[_0x276327(0x15b)](_0x141a99=>_0x141a99['id']===_0x444d37);_0x128ce5&&(document[_0x276327(0x773)](_0x276327(0xc41))[_0x276327(0x985)][_0x276327(0xd0a)](_0x276327(0x806)),_0x23ec7f===_0x276327(0xb6f)?handleStartLiveRace(_0x444d37):showGameStartConfirmationModal(_0x444d37,_0x23ec7f,_0x128ce5[_0x276327(0xa37)]));}),document['getElementById'](_0x4086c7(0x843))['addEventListener']('input',renderProjects),document[_0x4086c7(0x773)]('project-sort-select')[_0x4086c7(0x6f7)](_0x4086c7(0x813),async()=>{const _0x4c26cb=_0x4086c7,_0x3fac63=document[_0x4c26cb(0x773)](_0x4c26cb(0xc0d))[_0x4c26cb(0xd9d)],_0x2e78cd=doc(db,'globalSettings',_0x4c26cb(0xd3b));try{await setDoc(_0x2e78cd,{'projectSort':_0x3fac63},{'merge':!![]});}catch(_0x5830f6){console[_0x4c26cb(0x7bc)](_0x4c26cb(0xa1c),_0x5830f6),showMessage(_0x4c26cb(0xc10));}}),document[_0x4086c7(0x773)]('quiz-search-input')[_0x4086c7(0x6f7)](_0x4086c7(0xd6b),renderQuizzes),document['getElementById'](_0x4086c7(0x943))['addEventListener'](_0x4086c7(0x2af),()=>{const _0x4c5527=_0x4086c7;globalDashboardSettings[_0x4c5527(0xc4f)]=_0x4c5527(0x1e3),saveUserPreference(_0x4c5527(0xc4f),_0x4c5527(0x1e3)),renderProjects();}),document[_0x4086c7(0x773)](_0x4086c7(0xaaa))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x1a4b63=_0x4086c7;globalDashboardSettings[_0x1a4b63(0xc4f)]=_0x1a4b63(0xacb),saveUserPreference('projectView','list'),renderProjects();}),manageTab[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>switchProjectTab(_0x4086c7(0x6cd))),resultsTab[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>switchProjectTab(_0x4086c7(0x2ae))),leaderboardTab[_0x4086c7(0x6f7)]('click',()=>switchProjectTab(_0x4086c7(0x8e4))),document['getElementById'](_0x4086c7(0x809))[_0x4086c7(0x6f7)]('click',()=>switchQuizDetailTab(_0x4086c7(0x740))),document[_0x4086c7(0x773)](_0x4086c7(0x2e8))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>switchQuizDetailTab(_0x4086c7(0x702))),document['getElementById'](_0x4086c7(0xaa6))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>switchQuizDetailTab(_0x4086c7(0x216))),document[_0x4086c7(0x773)]('behavior-log-tab-btn')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>switchQuizDetailTab(_0x4086c7(0x17b))),document[_0x4086c7(0x773)](_0x4086c7(0xd90))[_0x4086c7(0x6f7)]('click',handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x4086c7(0x2af),generateWorksheet);const _0x4b3959=document['getElementById']('link-tab'),_0x3d0493=document[_0x4086c7(0x773)]('link-input-area'),_0x37aae8=document[_0x4086c7(0x773)](_0x4086c7(0x13b)),_0x233450=document[_0x4086c7(0x773)]('blueprint-input-area'),_0xb647ac=document[_0x4086c7(0x773)](_0x4086c7(0x86a)),_0x4ecebb=document[_0x4086c7(0x773)]('parallel-test-input-area');topicTab[_0x4086c7(0x6f7)]('click',()=>{const _0x15595a=_0x4086c7;topicTab[_0x15595a(0x985)][_0x15595a(0xd0a)](_0x15595a(0x4c8)),textTab[_0x15595a(0x985)][_0x15595a(0xa54)](_0x15595a(0x4c8)),fileTab[_0x15595a(0x985)]['remove'](_0x15595a(0x4c8)),worksheetTab['classList'][_0x15595a(0xa54)](_0x15595a(0x4c8));if(_0x4b3959)_0x4b3959[_0x15595a(0x985)]['remove'](_0x15595a(0x4c8));if(_0x37aae8)_0x37aae8[_0x15595a(0x985)][_0x15595a(0xa54)](_0x15595a(0x4c8));if(_0xb647ac)_0xb647ac[_0x15595a(0x985)][_0x15595a(0xa54)](_0x15595a(0x4c8));topicInputArea[_0x15595a(0x985)]['remove']('hidden'),textInputArea[_0x15595a(0x985)][_0x15595a(0xd0a)](_0x15595a(0x806)),fileInputArea[_0x15595a(0x985)]['add'](_0x15595a(0x806)),worksheetInputArea[_0x15595a(0x985)][_0x15595a(0xd0a)]('hidden');if(_0x3d0493)_0x3d0493[_0x15595a(0x985)][_0x15595a(0xd0a)]('hidden');if(_0x233450)_0x233450[_0x15595a(0x985)][_0x15595a(0xd0a)]('hidden');if(_0x4ecebb)_0x4ecebb[_0x15595a(0x985)][_0x15595a(0xd0a)](_0x15595a(0x806));}),textTab[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0xbef2d2=_0x4086c7;textTab[_0xbef2d2(0x985)][_0xbef2d2(0xd0a)]('active'),topicTab[_0xbef2d2(0x985)]['remove'](_0xbef2d2(0x4c8)),fileTab[_0xbef2d2(0x985)][_0xbef2d2(0xa54)](_0xbef2d2(0x4c8)),worksheetTab[_0xbef2d2(0x985)]['remove'](_0xbef2d2(0x4c8));if(_0x4b3959)_0x4b3959[_0xbef2d2(0x985)][_0xbef2d2(0xa54)](_0xbef2d2(0x4c8));if(_0x37aae8)_0x37aae8[_0xbef2d2(0x985)][_0xbef2d2(0xa54)]('active');if(_0xb647ac)_0xb647ac[_0xbef2d2(0x985)][_0xbef2d2(0xa54)](_0xbef2d2(0x4c8));textInputArea[_0xbef2d2(0x985)]['remove'](_0xbef2d2(0x806)),topicInputArea[_0xbef2d2(0x985)][_0xbef2d2(0xd0a)](_0xbef2d2(0x806)),fileInputArea['classList'][_0xbef2d2(0xd0a)](_0xbef2d2(0x806)),worksheetInputArea['classList']['add'](_0xbef2d2(0x806));if(_0x3d0493)_0x3d0493[_0xbef2d2(0x985)][_0xbef2d2(0xd0a)](_0xbef2d2(0x806));if(_0x233450)_0x233450[_0xbef2d2(0x985)][_0xbef2d2(0xd0a)](_0xbef2d2(0x806));if(_0x4ecebb)_0x4ecebb[_0xbef2d2(0x985)][_0xbef2d2(0xd0a)](_0xbef2d2(0x806));}),fileTab[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x199075=_0x4086c7;fileTab[_0x199075(0x985)][_0x199075(0xd0a)]('active'),topicTab[_0x199075(0x985)][_0x199075(0xa54)]('active'),textTab[_0x199075(0x985)][_0x199075(0xa54)](_0x199075(0x4c8)),worksheetTab[_0x199075(0x985)][_0x199075(0xa54)]('active');if(_0x4b3959)_0x4b3959[_0x199075(0x985)][_0x199075(0xa54)](_0x199075(0x4c8));if(_0x37aae8)_0x37aae8[_0x199075(0x985)]['remove'](_0x199075(0x4c8));if(_0xb647ac)_0xb647ac['classList'][_0x199075(0xa54)]('active');fileInputArea['classList'][_0x199075(0xa54)]('hidden'),topicInputArea[_0x199075(0x985)][_0x199075(0xd0a)](_0x199075(0x806)),textInputArea['classList'][_0x199075(0xd0a)](_0x199075(0x806)),worksheetInputArea[_0x199075(0x985)][_0x199075(0xd0a)](_0x199075(0x806));if(_0x3d0493)_0x3d0493['classList'][_0x199075(0xd0a)]('hidden');if(_0x233450)_0x233450[_0x199075(0x985)][_0x199075(0xd0a)](_0x199075(0x806));if(_0x4ecebb)_0x4ecebb[_0x199075(0x985)][_0x199075(0xd0a)](_0x199075(0x806));}),worksheetTab[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x5db581=_0x4086c7;worksheetTab['classList'][_0x5db581(0xd0a)](_0x5db581(0x4c8)),topicTab[_0x5db581(0x985)]['remove'](_0x5db581(0x4c8)),textTab[_0x5db581(0x985)][_0x5db581(0xa54)]('active'),fileTab[_0x5db581(0x985)][_0x5db581(0xa54)](_0x5db581(0x4c8));if(_0x4b3959)_0x4b3959['classList'][_0x5db581(0xa54)]('active');if(_0x37aae8)_0x37aae8[_0x5db581(0x985)][_0x5db581(0xa54)]('active');if(_0xb647ac)_0xb647ac['classList']['remove'](_0x5db581(0x4c8));worksheetInputArea[_0x5db581(0x985)][_0x5db581(0xa54)]('hidden'),topicInputArea['classList'][_0x5db581(0xd0a)](_0x5db581(0x806)),textInputArea[_0x5db581(0x985)]['add'](_0x5db581(0x806)),fileInputArea[_0x5db581(0x985)][_0x5db581(0xd0a)](_0x5db581(0x806));if(_0x3d0493)_0x3d0493[_0x5db581(0x985)][_0x5db581(0xd0a)](_0x5db581(0x806));if(_0x233450)_0x233450['classList'][_0x5db581(0xd0a)]('hidden');if(_0x4ecebb)_0x4ecebb[_0x5db581(0x985)]['add'](_0x5db581(0x806));});const _0x3c71f1=document['getElementById'](_0x4086c7(0x1d6)),_0x2f28ca=document[_0x4086c7(0x773)](_0x4086c7(0x63c));_0x3c71f1&&_0x3c71f1[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x4b2230=_0x4086c7;topicTab[_0x4b2230(0x985)][_0x4b2230(0xa54)](_0x4b2230(0x4c8)),textTab[_0x4b2230(0x985)]['remove']('active'),fileTab[_0x4b2230(0x985)][_0x4b2230(0xa54)](_0x4b2230(0x4c8)),worksheetTab['classList'][_0x4b2230(0xa54)](_0x4b2230(0x4c8));if(_0x4b3959)_0x4b3959['classList'][_0x4b2230(0xa54)]('active');if(_0x37aae8)_0x37aae8[_0x4b2230(0x985)][_0x4b2230(0xa54)](_0x4b2230(0x4c8));if(_0xb647ac)_0xb647ac['classList']['remove'](_0x4b2230(0x4c8));_0x3c71f1[_0x4b2230(0x985)][_0x4b2230(0xd0a)](_0x4b2230(0x4c8)),topicInputArea[_0x4b2230(0x985)]['add'](_0x4b2230(0x806)),textInputArea[_0x4b2230(0x985)][_0x4b2230(0xd0a)]('hidden'),fileInputArea[_0x4b2230(0x985)]['add'](_0x4b2230(0x806)),worksheetInputArea['classList'][_0x4b2230(0xd0a)](_0x4b2230(0x806));if(_0x3d0493)_0x3d0493[_0x4b2230(0x985)][_0x4b2230(0xd0a)](_0x4b2230(0x806));if(_0x233450)_0x233450[_0x4b2230(0x985)][_0x4b2230(0xd0a)]('hidden');if(_0x4ecebb)_0x4ecebb[_0x4b2230(0x985)]['add'](_0x4b2230(0x806));_0x2f28ca[_0x4b2230(0x985)][_0x4b2230(0xa54)](_0x4b2230(0x806)),displayQuestionBank();});_0x4b3959&&(_0x4b3959['addEventListener'](_0x4086c7(0x2af),()=>{const _0x3e271a=_0x4086c7;_0x4b3959['classList'][_0x3e271a(0xd0a)](_0x3e271a(0x4c8)),topicTab[_0x3e271a(0x985)]['remove']('active'),textTab[_0x3e271a(0x985)][_0x3e271a(0xa54)]('active'),fileTab['classList'][_0x3e271a(0xa54)](_0x3e271a(0x4c8)),worksheetTab[_0x3e271a(0x985)][_0x3e271a(0xa54)]('active');if(_0x37aae8)_0x37aae8[_0x3e271a(0x985)][_0x3e271a(0xa54)]('active');if(_0xb647ac)_0xb647ac['classList'][_0x3e271a(0xa54)]('active');_0x3d0493['classList'][_0x3e271a(0xa54)](_0x3e271a(0x806)),topicInputArea[_0x3e271a(0x985)][_0x3e271a(0xd0a)](_0x3e271a(0x806)),textInputArea[_0x3e271a(0x985)][_0x3e271a(0xd0a)](_0x3e271a(0x806)),fileInputArea[_0x3e271a(0x985)][_0x3e271a(0xd0a)](_0x3e271a(0x806)),worksheetInputArea[_0x3e271a(0x985)][_0x3e271a(0xd0a)]('hidden');if(_0x233450)_0x233450[_0x3e271a(0x985)][_0x3e271a(0xd0a)]('hidden');if(_0x4ecebb)_0x4ecebb[_0x3e271a(0x985)][_0x3e271a(0xd0a)](_0x3e271a(0x806));}),document[_0x4086c7(0x773)](_0x4086c7(0x467))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleGenerateFromLink));_0x37aae8&&_0x37aae8['addEventListener'](_0x4086c7(0x2af),()=>{const _0x41b58c=_0x4086c7;_0x37aae8[_0x41b58c(0x985)][_0x41b58c(0xd0a)](_0x41b58c(0x4c8)),topicTab[_0x41b58c(0x985)]['remove'](_0x41b58c(0x4c8)),textTab['classList'][_0x41b58c(0xa54)]('active'),fileTab['classList'][_0x41b58c(0xa54)](_0x41b58c(0x4c8)),worksheetTab[_0x41b58c(0x985)][_0x41b58c(0xa54)](_0x41b58c(0x4c8));if(_0x4b3959)_0x4b3959['classList'][_0x41b58c(0xa54)](_0x41b58c(0x4c8));if(_0x3c71f1)_0x3c71f1[_0x41b58c(0x985)][_0x41b58c(0xa54)](_0x41b58c(0x4c8));if(_0xb647ac)_0xb647ac[_0x41b58c(0x985)][_0x41b58c(0xa54)](_0x41b58c(0x4c8));_0x233450[_0x41b58c(0x985)][_0x41b58c(0xa54)](_0x41b58c(0x806)),topicInputArea[_0x41b58c(0x985)][_0x41b58c(0xd0a)](_0x41b58c(0x806)),textInputArea[_0x41b58c(0x985)][_0x41b58c(0xd0a)]('hidden'),fileInputArea[_0x41b58c(0x985)][_0x41b58c(0xd0a)]('hidden'),worksheetInputArea[_0x41b58c(0x985)][_0x41b58c(0xd0a)](_0x41b58c(0x806));if(_0x3d0493)_0x3d0493[_0x41b58c(0x985)][_0x41b58c(0xd0a)](_0x41b58c(0x806));if(_0x2f28ca)_0x2f28ca[_0x41b58c(0x985)]['add'](_0x41b58c(0x806));if(_0x4ecebb)_0x4ecebb['classList']['add'](_0x41b58c(0x806));});_0xb647ac&&_0xb647ac[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0xdd39df=_0x4086c7;_0xb647ac[_0xdd39df(0x985)]['add'](_0xdd39df(0x4c8)),topicTab['classList'][_0xdd39df(0xa54)](_0xdd39df(0x4c8)),textTab[_0xdd39df(0x985)][_0xdd39df(0xa54)](_0xdd39df(0x4c8)),fileTab[_0xdd39df(0x985)][_0xdd39df(0xa54)](_0xdd39df(0x4c8)),worksheetTab[_0xdd39df(0x985)][_0xdd39df(0xa54)](_0xdd39df(0x4c8));if(_0x4b3959)_0x4b3959[_0xdd39df(0x985)][_0xdd39df(0xa54)](_0xdd39df(0x4c8));if(_0x37aae8)_0x37aae8[_0xdd39df(0x985)]['remove']('active');if(_0x3c71f1)_0x3c71f1[_0xdd39df(0x985)][_0xdd39df(0xa54)]('active');_0x4ecebb[_0xdd39df(0x985)][_0xdd39df(0xa54)](_0xdd39df(0x806)),topicInputArea[_0xdd39df(0x985)][_0xdd39df(0xd0a)](_0xdd39df(0x806)),textInputArea[_0xdd39df(0x985)][_0xdd39df(0xd0a)](_0xdd39df(0x806)),fileInputArea[_0xdd39df(0x985)]['add'](_0xdd39df(0x806)),worksheetInputArea[_0xdd39df(0x985)][_0xdd39df(0xd0a)](_0xdd39df(0x806));if(_0x3d0493)_0x3d0493[_0xdd39df(0x985)]['add'](_0xdd39df(0x806));if(_0x233450)_0x233450[_0xdd39df(0x985)][_0xdd39df(0xd0a)]('hidden');if(_0x2f28ca)_0x2f28ca[_0xdd39df(0x985)][_0xdd39df(0xd0a)]('hidden');});const _0x15e778=document[_0x4086c7(0x773)](_0x4086c7(0x955)),_0x21a8b4=document['getElementById'](_0x4086c7(0xcae));if(_0x15e778){const _0x178a80=document[_0x4086c7(0x773)](_0x4086c7(0x955)),_0x2e7966=document[_0x4086c7(0x773)](_0x4086c7(0xcae)),_0xe63265=document['getElementById'](_0x4086c7(0xc1e)),_0x2f6d0e=document[_0x4086c7(0x773)]('separate-by-content-checkbox'),_0x57da69=document['getElementById']('blueprint-topics-list-container'),_0x48b14b=document['getElementById'](_0x4086c7(0x22b));_0x178a80&&_0x178a80['addEventListener']('change',async _0x14ecde=>{const _0x29758e=_0x4086c7;_0xe63265[_0x29758e(0x985)][_0x29758e(0xd0a)](_0x29758e(0x806)),_0x57da69[_0x29758e(0x985)][_0x29758e(0xd0a)](_0x29758e(0x806)),_0x2f6d0e['checked']=![],_0x2e7966[_0x29758e(0x67a)]=!![];const _0x52910e=_0x14ecde[_0x29758e(0x674)][_0x29758e(0x735)][0x0];if(_0x52910e){_0x2e7966[_0x29758e(0x67a)]=![];try{const _0x3dfe85=await extractTextFromPdf(_0x52910e);await analyzeBlueprintForTopics(_0x3dfe85);}catch(_0x6058d4){showMessage(_0x29758e(0x312)),_0xe63265[_0x29758e(0x985)][_0x29758e(0xd0a)](_0x29758e(0x806));}}}),_0x2f6d0e&&_0x2f6d0e['addEventListener'](_0x4086c7(0x813),_0x319583=>{const _0x2b0b4c=_0x4086c7,_0x518482=_0x319583[_0x2b0b4c(0x674)][_0x2b0b4c(0x17e)];_0x57da69[_0x2b0b4c(0x985)][_0x2b0b4c(0xbbd)](_0x2b0b4c(0x806),!_0x518482),_0x2e7966['disabled']=_0x518482;}),_0x48b14b&&(_0x48b14b&&_0x48b14b[_0x4086c7(0x6f7)]('click',_0x4d8450=>{const _0x4457bd=_0x4086c7,_0x4a02a1=_0x4d8450[_0x4457bd(0x674)]['closest'](_0x4457bd(0x2bf)),_0x1d373c=_0x4d8450[_0x4457bd(0x674)][_0x4457bd(0x2e4)](_0x4457bd(0x505));if(_0x4a02a1){const _0x3e056f=unescape(_0x4a02a1[_0x4457bd(0x576)][_0x4457bd(0xa37)]);generateQuizForSingleTopic(_0x3e056f);}else{if(_0x1d373c){const _0x1be3cd=unescape(_0x1d373c['dataset'][_0x4457bd(0xa37)]);handleGenerateTeachingContent(_0x1be3cd);}}}));}_0x21a8b4&&_0x21a8b4['addEventListener'](_0x4086c7(0x2af),handleGenerateFromBlueprint);const _0x24a10f=document[_0x4086c7(0x773)](_0x4086c7(0x9b7)),_0x4dbd76=document[_0x4086c7(0x773)](_0x4086c7(0xbd4));_0x24a10f&&_0x24a10f[_0x4086c7(0x6f7)]('change',_0x4dbee7=>{const _0x6c420c=_0x4086c7;_0x4dbd76[_0x6c420c(0x67a)]=_0x4dbee7[_0x6c420c(0x674)][_0x6c420c(0x735)][_0x6c420c(0x5df)]===0x0;});_0x4dbd76&&_0x4dbd76[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x4086c7(0x6f7)]('click',handleLoadQuiz),startQuizBtn[_0x4086c7(0x6f7)]('click',async()=>{const _0x3aaf98=_0x4086c7,_0x3b251b=document[_0x3aaf98(0x773)]('student-name-select');currentStudentName=_0x3b251b['value'];if(!currentStudentName){showMessage(_0x3aaf98(0xb9a));return;}try{const _0x6d9498=currentQuizData['id'],_0x3a9d5d=doc(db,_0x3aaf98(0x6de)+appId+_0x3aaf98(0x6b1)+_0x6d9498+'/submissions',currentStudentName),_0x24d49b=await getDoc(_0x3a9d5d);!_0x24d49b[_0x3aaf98(0xc63)]()?await setDoc(_0x3a9d5d,{'studentName':currentStudentName,'startedAt':new Date()[_0x3aaf98(0xd78)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x3a9d5d,{'startedAt':new Date()[_0x3aaf98(0xd78)]()});}catch(_0x5a8bb7){console['error']('Failed\x20to\x20create/update\x20submission\x20record:',_0x5a8bb7),showMessage(_0x3aaf98(0x72d));return;}studentNameSelectionView[_0x3aaf98(0x985)]['add'](_0x3aaf98(0x806)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4086c7(0x773)](_0x4086c7(0x3ac))['addEventListener'](_0x4086c7(0x2af),showJoinGameView),document[_0x4086c7(0x773)]('confirm-join-game-btn')[_0x4086c7(0x6f7)]('click',handleJoinLiveGame),document[_0x4086c7(0x773)](_0x4086c7(0xd82))['addEventListener'](_0x4086c7(0x2af),()=>showView('student'));const _0x3693d0=()=>{const _0x36b4f2=_0x4086c7,_0x7f0e0c=document[_0x36b4f2(0x773)](_0x36b4f2(0x2e5))['textContent'][_0x36b4f2(0xc21)](/[^a-z0-9]/gi,'_')[_0x36b4f2(0xa43)]();return'results_'+(_0x7f0e0c||'quiz');},_0x444dc8=document[_0x4086c7(0x773)](_0x4086c7(0xd8e));_0x444dc8&&_0x444dc8[_0x4086c7(0x6f7)]('input',_0x15c858=>{const _0x50d5e3=_0x4086c7,_0x8bb2fa=_0x15c858['target'][_0x50d5e3(0xd9d)][_0x50d5e3(0xa43)]()[_0x50d5e3(0xafd)](),_0x195910=document[_0x50d5e3(0x773)]('math-topics-checkbox-container'),_0x3ddf13=_0x195910['querySelectorAll'](_0x50d5e3(0x80b));_0x3ddf13[_0x50d5e3(0xa25)](_0x5c7b65=>{const _0x2a5652=_0x50d5e3;let _0x45aa29=![];const _0x26ad44=_0x5c7b65[_0x2a5652(0x4a1)](_0x2a5652(0x889));_0x26ad44[_0x2a5652(0xa25)](_0x263595=>{const _0x57c6cb=_0x2a5652,_0x144eae=_0x263595[_0x57c6cb(0x86f)](_0x57c6cb(0x696))[_0x57c6cb(0xcd6)]['toLowerCase']();_0x144eae[_0x57c6cb(0x1f6)](_0x8bb2fa)?(_0x263595[_0x57c6cb(0x90e)]['display']=_0x57c6cb(0xe4e),_0x45aa29=!![]):_0x263595[_0x57c6cb(0x90e)][_0x57c6cb(0x45d)]=_0x57c6cb(0x264);}),_0x45aa29?_0x5c7b65['style'][_0x2a5652(0x45d)]=_0x2a5652(0x96b):_0x5c7b65[_0x2a5652(0x90e)][_0x2a5652(0x45d)]='none';});});document['getElementById'](_0x4086c7(0x2fb))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>exportTableAsImage(_0x4086c7(0x95a),_0x3693d0())),document[_0x4086c7(0x773)]('export-pdf-btn')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>exportTableAsPDF('results-table',_0x3693d0())),document[_0x4086c7(0x773)](_0x4086c7(0x3ce))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>exportTableAsWord(_0x4086c7(0x95a),_0x3693d0())),document[_0x4086c7(0x773)](_0x4086c7(0x965))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>exportTableAsExcel(_0x4086c7(0xcfa),_0x3693d0()));const _0x304892=()=>{const _0x2f556b=_0x4086c7,_0x21afd2=document[_0x2f556b(0x773)](_0x2f556b(0x2e5))[_0x2f556b(0xcd6)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return'leaderboard_'+(_0x21afd2||_0x2f556b(0x134));};document[_0x4086c7(0x773)](_0x4086c7(0x8fa))['addEventListener'](_0x4086c7(0x2af),()=>exportTableAsImage(_0x4086c7(0xb91),_0x304892())),document['getElementById'](_0x4086c7(0x251))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>exportTableAsPDF(_0x4086c7(0x426),_0x304892())),document[_0x4086c7(0x773)](_0x4086c7(0x1ec))['addEventListener'](_0x4086c7(0x2af),()=>exportTableAsWord(_0x4086c7(0xb91),_0x304892())),document[_0x4086c7(0x773)](_0x4086c7(0x197))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>exportTableAsExcel(_0x4086c7(0x426),_0x304892())),projectQuizzesList[_0x4086c7(0x6f7)](_0x4086c7(0x2af),async _0x499c5a=>{const _0x409a0e=_0x4086c7,_0x535a4b=_0x499c5a[_0x409a0e(0x674)][_0x409a0e(0x2e4)](_0x409a0e(0x24c)),_0x86ca85=_0x499c5a[_0x409a0e(0x674)][_0x409a0e(0x2e4)]('.generate-post-test-btn'),_0x2f6b1a=_0x499c5a['target'][_0x409a0e(0x2e4)](_0x409a0e(0x62d)),_0x8fddd1=_0x499c5a['target'][_0x409a0e(0x2e4)]('.generate-lesson-btn'),_0x4aebbf=_0x499c5a[_0x409a0e(0x674)]['closest'](_0x409a0e(0x531)),_0x528726=_0x499c5a[_0x409a0e(0x674)][_0x409a0e(0x2e4)](_0x409a0e(0xad8)),_0x24f752=_0x499c5a[_0x409a0e(0x674)][_0x409a0e(0x2e4)](_0x409a0e(0x6b8)),_0x411bff=_0x499c5a[_0x409a0e(0x674)][_0x409a0e(0x2e4)]('.quiz-settings-btn'),_0x9c63a5=_0x499c5a[_0x409a0e(0x674)][_0x409a0e(0x2e4)](_0x409a0e(0x58f)),_0x3aa5f7=_0x499c5a[_0x409a0e(0x674)][_0x409a0e(0x2e4)](_0x409a0e(0x561)),_0x415f20=_0x499c5a[_0x409a0e(0x674)][_0x409a0e(0x2e4)](_0x409a0e(0xa74)),_0x100456=_0x499c5a['target'][_0x409a0e(0x2e4)](_0x409a0e(0x240)),_0x1ad8db=_0x499c5a[_0x409a0e(0x674)][_0x409a0e(0x2e4)](_0x409a0e(0x265)),_0xaa45fa=_0x499c5a['target']['closest'](_0x409a0e(0x3d3)),_0x2630eb=_0x499c5a['target'][_0x409a0e(0x2e4)](_0x409a0e(0x11b)),_0x434eae=_0x499c5a[_0x409a0e(0x674)]['closest'](_0x409a0e(0xcc4)),_0x505557=_0x499c5a[_0x409a0e(0x674)]['closest'](_0x409a0e(0x345)),_0xde0da9=_0x499c5a[_0x409a0e(0x674)]['closest'](_0x409a0e(0x660)),_0x252bd7=_0x499c5a[_0x409a0e(0x674)]['closest'](_0x409a0e(0x533)),_0x353498=_0x499c5a[_0x409a0e(0x674)][_0x409a0e(0x2e4)]('.toggle-actions-btn'),_0x154ef2=_0x499c5a[_0x409a0e(0x674)]['closest'](_0x409a0e(0xcfc)),_0x19c6a4=_0x499c5a[_0x409a0e(0x674)][_0x409a0e(0x2e4)](_0x409a0e(0x961)),_0x294f40=_0x499c5a[_0x409a0e(0x674)][_0x409a0e(0x2e4)](_0x409a0e(0x28c));if(_0x19c6a4){const _0xfd46cf=_0x19c6a4['dataset'][_0x409a0e(0x514)],_0x39deed=_0x19c6a4[_0x409a0e(0x576)]['mode'],_0x29b364=allQuizzes['find'](_0x2b06dd=>_0x2b06dd['id']===_0xfd46cf);_0x29b364&&showGameStartConfirmationModal(_0xfd46cf,_0x39deed,_0x29b364['topic']);}else{if(_0x294f40){const _0x51cdf7=_0x294f40[_0x409a0e(0x576)][_0x409a0e(0x514)];handleStartLiveRace(_0x51cdf7);}else{if(_0x353498){const _0x4ac0e0=_0x353498[_0x409a0e(0x576)][_0x409a0e(0x514)],_0x267716=document['getElementById'](_0x409a0e(0x4b6)+_0x4ac0e0);_0x267716&&_0x267716[_0x409a0e(0x985)][_0x409a0e(0xbbd)](_0x409a0e(0x806));}else{if(_0x86ca85){const _0x5885d5=_0x86ca85['dataset'][_0x409a0e(0x514)],_0x1bc9ee=allQuizzes[_0x409a0e(0x15b)](_0x1ce667=>_0x1ce667['id']===_0x5885d5);_0x1bc9ee&&handleGenerateParallelPostTest(_0x1bc9ee);}else{if(_0x2f6b1a)handleCompareResults(_0x2f6b1a[_0x409a0e(0x576)]['quizId'],_0x2f6b1a[_0x409a0e(0x576)][_0x409a0e(0x89c)]);else{if(_0x8fddd1){const _0x25f77f=_0x8fddd1['dataset'][_0x409a0e(0x514)],_0x1ecf1d=allQuizzes[_0x409a0e(0x15b)](_0x208541=>_0x208541['id']===_0x25f77f);_0x1ecf1d&&_0x1ecf1d['lessonPlan']?(displayLessonPlan(_0x1ecf1d[_0x409a0e(0x5cb)],_0x1ecf1d),showConfirmation(_0x409a0e(0x17d),()=>handleGenerateLessonPlan(_0x25f77f)),document[_0x409a0e(0x773)]('confirmation-modal')[_0x409a0e(0x86f)]('h3')[_0x409a0e(0xcd6)]=_0x409a0e(0xa3b),document[_0x409a0e(0x773)](_0x409a0e(0xb75))[_0x409a0e(0xcd6)]=_0x409a0e(0x729)):handleGenerateLessonPlan(_0x25f77f);}else{if(_0x4aebbf)handleToggleStarQuiz(_0x4aebbf[_0x409a0e(0x576)][_0x409a0e(0x514)]);else{if(_0x528726)copyTextToClipboard(_0x528726[_0x409a0e(0x576)]['quizId'],_0x409a0e(0x944));else{if(_0x24f752)handleOpenQuizEditor(_0x24f752[_0x409a0e(0x576)][_0x409a0e(0x514)]);else{if(_0x411bff)handleQuizSettings(_0x411bff['dataset'][_0x409a0e(0x514)]);else{if(_0x9c63a5)handleDuplicateQuiz(_0x9c63a5[_0x409a0e(0x576)][_0x409a0e(0x514)]);else{if(_0x3aa5f7)handleRenameQuiz(_0x3aa5f7[_0x409a0e(0x576)][_0x409a0e(0x514)],_0x3aa5f7[_0x409a0e(0x576)][_0x409a0e(0xa37)]);else{if(_0x415f20){const _0x10451f=_0x415f20['dataset'][_0x409a0e(0x514)],_0x4c6cc2=allQuizzes[_0x409a0e(0x15b)](_0x1289cc=>_0x1289cc['id']===_0x10451f);_0x4c6cc2&&handleGenerateParallelFromBank(_0x4c6cc2);}else{if(_0x100456)handleMoveQuiz(_0x100456[_0x409a0e(0x576)][_0x409a0e(0x514)]);else{if(_0x1ad8db)handleManualQuizPairing(_0x1ad8db['dataset'][_0x409a0e(0x514)]);else{if(_0xaa45fa)handleUnpairQuiz(_0xaa45fa[_0x409a0e(0x576)][_0x409a0e(0x514)]);else{if(_0x2630eb){const _0x58e83a=_0x2630eb[_0x409a0e(0x576)][_0x409a0e(0x514)],_0x15701c=allQuizzes[_0x409a0e(0x15b)](_0x2657e1=>_0x2657e1['id']===_0x58e83a);if(_0x15701c)startPresentation(_0x15701c);}else{if(_0x434eae){const _0x14288a=_0x434eae[_0x409a0e(0x576)][_0x409a0e(0x514)],_0x71ac5f=allQuizzes[_0x409a0e(0x15b)](_0x553cee=>_0x553cee['id']===_0x14288a);_0x71ac5f&&(currentQuizData=_0x71ac5f,startAdminTest());}else{if(_0x505557)actionTargetId=_0x505557[_0x409a0e(0x576)][_0x409a0e(0x514)],document[_0x409a0e(0x773)](_0x409a0e(0xba9))[_0x409a0e(0x985)][_0x409a0e(0xa54)](_0x409a0e(0x806));else{if(_0xde0da9)showConfirmation(_0x409a0e(0xe02)+_0xde0da9[_0x409a0e(0x576)][_0x409a0e(0xa37)]+_0x409a0e(0x3fb),()=>handleDeleteQuiz(_0xde0da9[_0x409a0e(0x576)]['quizId']));else{if(_0x252bd7)handleQuizStatus(_0x252bd7[_0x409a0e(0x576)][_0x409a0e(0x514)]);else{if(_0x154ef2)handleGenerateEasyVersionQuiz(_0x154ef2[_0x409a0e(0x576)][_0x409a0e(0x514)]);else _0x535a4b&&showQuizDetailView(_0x535a4b[_0x409a0e(0x576)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x4086c7(0x773)](_0x4086c7(0x579))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>showView('student')),document[_0x4086c7(0x773)](_0x4086c7(0xde1))['addEventListener'](_0x4086c7(0x2af),confirmAndStartTeamQuiz),document['getElementById']('quiz-leaderboard-table')[_0x4086c7(0x86f)](_0x4086c7(0xdca))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0x4e0e8a=>{const _0xe14782=_0x4086c7,_0x4fb72d=_0x4e0e8a[_0xe14782(0x674)][_0xe14782(0x2e4)](_0xe14782(0x732));if(!_0x4fb72d||!_0x4fb72d[_0xe14782(0x576)][_0xe14782(0xc1c)])return;const _0x5c74b5=_0x4fb72d[_0xe14782(0x576)]['sort'];if(quizLeaderboardSortBy===_0x5c74b5)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0xe14782(0x3fc)?'desc':_0xe14782(0x3fc);else{quizLeaderboardSortBy=_0x5c74b5;const _0x45eb10=[_0xe14782(0xa12)];quizLeaderboardSortOrder=_0x45eb10[_0xe14782(0x1f6)](_0x5c74b5)?_0xe14782(0x3fc):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0xe14782(0xc25));}),document[_0x4086c7(0x773)](_0x4086c7(0xc6a))[_0x4086c7(0x6f7)]('click',closePresentation),document[_0x4086c7(0x773)]('prev-question-btn')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x4086c7(0x773)](_0x4086c7(0x409))['addEventListener'](_0x4086c7(0x2af),()=>{const _0x423bad=_0x4086c7;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x423bad(0xcf9)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x4086c7(0x6f7)](_0x4086c7(0xcb1),()=>{const _0x234c16=_0x4086c7;!document[_0x234c16(0x38a)]&&(presentationModal['style'][_0x234c16(0x45d)]=_0x234c16(0x264));}),document[_0x4086c7(0x773)]('delete-all-students-btn')[_0x4086c7(0x6f7)]('click',handleDeleteAllStudents),studentList[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0x27f41e=>{const _0x10bff3=_0x4086c7,_0x2bb37b=_0x27f41e[_0x10bff3(0x674)]['closest']('.delete-student-btn');if(_0x2bb37b){const _0x3418c6=_0x2bb37b[_0x10bff3(0x576)][_0x10bff3(0xa12)];handleDeleteStudent(_0x3418c6);}}),document[_0x4086c7(0x773)](_0x4086c7(0xadb))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleGenerateFromFileClick),fileUploadInput['addEventListener']('change',_0x34108d=>{const _0xcae124=_0x4086c7,_0x10d55b=_0x34108d[_0xcae124(0x674)][_0xcae124(0x735)][0x0],_0x15fd75=document['getElementById']('generate-from-file-btn'),_0x2ad973=document[_0xcae124(0x773)](_0xcae124(0x8d6)),_0xad4714=document[_0xcae124(0x773)](_0xcae124(0x518));_0x10d55b?(selectedFile=_0x10d55b,_0xad4714[_0xcae124(0x17e)]?(_0x15fd75[_0xcae124(0x67a)]=!![],analyzeFileForTopics(_0x10d55b)):(_0x15fd75[_0xcae124(0x67a)]=![],_0x2ad973[_0xcae124(0x985)][_0xcae124(0xd0a)](_0xcae124(0x806)))):(selectedFile=null,_0x15fd75['disabled']=!![],_0x2ad973[_0xcae124(0x985)][_0xcae124(0xd0a)](_0xcae124(0x806)));}),document[_0x4086c7(0x773)](_0x4086c7(0x518))['addEventListener'](_0x4086c7(0x813),_0x4b8bd1=>{const _0x66e614=_0x4086c7,_0x18fce7=_0x4b8bd1[_0x66e614(0x674)][_0x66e614(0x17e)],_0x100856=document[_0x66e614(0x773)](_0x66e614(0xadb)),_0x5d7c6e=document['getElementById'](_0x66e614(0x8d6));_0x18fce7?(_0x100856[_0x66e614(0x67a)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x5d7c6e[_0x66e614(0x985)]['remove'](_0x66e614(0x806)),document[_0x66e614(0x773)](_0x66e614(0xad1))[_0x66e614(0x8ec)]=_0x66e614(0xa71))):(_0x5d7c6e[_0x66e614(0x985)][_0x66e614(0xd0a)](_0x66e614(0x806)),_0x100856['disabled']=!selectedFile);}),document[_0x4086c7(0x773)]('file-topics-list-container')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0x1b9372=>{const _0x5e3f7b=_0x4086c7,_0x15daa4=_0x1b9372['target'][_0x5e3f7b(0x2e4)](_0x5e3f7b(0x983)),_0x27d92b=_0x1b9372[_0x5e3f7b(0x674)][_0x5e3f7b(0x2e4)]('.generate-content-btn');if(_0x15daa4){const _0x4b20e8=unescape(_0x15daa4['dataset'][_0x5e3f7b(0xa37)]);generateHybridQuizForTopic(_0x4b20e8);}else{if(_0x27d92b){const _0x4e2b64=unescape(_0x27d92b[_0x5e3f7b(0x576)][_0x5e3f7b(0xa37)]),_0x1481e7=document[_0x5e3f7b(0x773)](_0x5e3f7b(0x306))[_0x5e3f7b(0xd9d)];handleGenerateAndShowLesson(_0x4e2b64,_0x1481e7);}}}),document[_0x4086c7(0x773)](_0x4086c7(0xa1e))[_0x4086c7(0x6f7)](_0x4086c7(0x813),_0x5bad05=>{const _0x467dbb=_0x4086c7,_0x1fd431=document[_0x467dbb(0x773)](_0x467dbb(0x1d5)),_0x3fc7e1=document['getElementById'](_0x467dbb(0x3ab)),_0x3ad39d=document[_0x467dbb(0x773)](_0x467dbb(0x598));_0x5bad05[_0x467dbb(0x674)][_0x467dbb(0xd9d)]===_0x467dbb(0x264)?_0x1fd431[_0x467dbb(0x985)][_0x467dbb(0xd0a)]('hidden'):(_0x1fd431['classList']['remove'](_0x467dbb(0x806)),_0x5bad05[_0x467dbb(0x674)]['value']===_0x467dbb(0xd33)?(_0x3fc7e1[_0x467dbb(0xcd6)]=_0x467dbb(0xc9d),_0x3ad39d['value']='10'):(_0x3fc7e1[_0x467dbb(0xcd6)]=_0x467dbb(0xd96),_0x3ad39d[_0x467dbb(0xd9d)]='30'));}),document[_0x4086c7(0x773)](_0x4086c7(0x2e2))['addEventListener'](_0x4086c7(0x813),_0x362e20=>{const _0x19e819=_0x4086c7,_0x466ac5=document[_0x19e819(0x773)](_0x19e819(0x935)),_0x5708bb=_0x362e20[_0x19e819(0x674)][_0x19e819(0xd9d)],_0x12a536=document[_0x19e819(0x86f)]('label[for=\x22num-questions\x22]'),_0x4e63af=document[_0x19e819(0x773)](_0x19e819(0xa4c)),_0xe312e8=document['getElementById'](_0x19e819(0x6c6));_0x5708bb==='matching'?_0x12a536['textContent']='จำนวนคู่:':_0x12a536[_0x19e819(0xcd6)]=_0x19e819(0x516),_0x5708bb===_0x19e819(0xbed)||_0x5708bb==='fill_in_with_choices'||_0x5708bb===_0x19e819(0xbc9)?_0x466ac5[_0x19e819(0x985)]['remove']('hidden'):_0x466ac5[_0x19e819(0x985)][_0x19e819(0xd0a)](_0x19e819(0x806)),_0x4e63af[_0x19e819(0x98d)]=_0xe312e8[_0x19e819(0xd9d)];}),document[_0x4086c7(0x773)]('num-questions')[_0x4086c7(0x6f7)](_0x4086c7(0xd6b),_0x4b1b6a=>{const _0xd8a73=_0x4086c7;document['getElementById'](_0xd8a73(0xa4c))[_0xd8a73(0x98d)]=_0x4b1b6a[_0xd8a73(0x674)]['value'];}),document['getElementById'](_0x4086c7(0xd5))[_0x4086c7(0x6f7)](_0x4086c7(0x813),_0x4490d4=>{const _0x7b1037=_0x4086c7,_0x334fc1=document[_0x7b1037(0x773)](_0x7b1037(0xd31)),_0x207c2f=document['getElementById']('modal-timer-duration-label'),_0x354869=document[_0x7b1037(0x773)](_0x7b1037(0x802));_0x4490d4[_0x7b1037(0x674)]['value']==='none'?_0x334fc1[_0x7b1037(0x985)][_0x7b1037(0xd0a)](_0x7b1037(0x806)):(_0x334fc1[_0x7b1037(0x985)]['remove'](_0x7b1037(0x806)),_0x4490d4['target'][_0x7b1037(0xd9d)]===_0x7b1037(0xd33)?_0x207c2f[_0x7b1037(0xcd6)]=_0x7b1037(0xc9d):_0x207c2f[_0x7b1037(0xcd6)]='ระยะเวลา\x20(วินาที):');}),document[_0x4086c7(0x773)](_0x4086c7(0x2ee))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x9c8a33=_0x4086c7;document[_0x9c8a33(0x773)](_0x9c8a33(0x5dc))[_0x9c8a33(0x985)][_0x9c8a33(0xd0a)](_0x9c8a33(0x806));}),document[_0x4086c7(0x773)](_0x4086c7(0x10c))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x15b6ab=_0x4086c7;document[_0x15b6ab(0x773)](_0x15b6ab(0x5dc))[_0x15b6ab(0x985)][_0x15b6ab(0xd0a)](_0x15b6ab(0x806));}),document[_0x4086c7(0x773)]('verify-answers-editor-btn')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleVerifyAnswersInEditor),document['getElementById'](_0x4086c7(0xc5c))['addEventListener']('click',()=>{const _0x4e298e=_0x4086c7;document[_0x4e298e(0x773)]('quiz-editor-modal')[_0x4e298e(0x985)][_0x4e298e(0xd0a)](_0x4e298e(0x806)),showConfirmation(_0x4e298e(0xd68),handleSaveChanges);}),document[_0x4086c7(0x773)](_0x4086c7(0xcc8))['addEventListener'](_0x4086c7(0x2af),handleAutoFixLatex);const _0xd0a44e=document[_0x4086c7(0x773)]('quiz-editor-questions-container');_0xd0a44e&&_0xd0a44e[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0x48f773=>{const _0x72acad=_0x4086c7,_0x6323d7=_0x48f773['target']['closest']('.regenerate-question-editor-btn');if(_0x6323d7){const _0x4347a9=_0x6323d7['closest'](_0x72acad(0x559)),_0x300f5d=parseInt(_0x4347a9[_0x72acad(0x576)][_0x72acad(0xc30)],0xa);handleRegenerateQuestionInEditor(_0x300f5d);return;}const _0x1e534b=_0x48f773[_0x72acad(0x674)][_0x72acad(0x2e4)](_0x72acad(0x63b));if(_0x1e534b){const _0x41d9e1=_0x1e534b[_0x72acad(0x2e4)](_0x72acad(0x559)),_0x4871cb=parseInt(_0x41d9e1[_0x72acad(0x576)]['qIndex'],0xa);handleDeleteQuestionInEditor(_0x4871cb);return;}const _0x2f37f4=_0x48f773[_0x72acad(0x674)][_0x72acad(0x2e4)]('#add-question-editor-btn');if(_0x2f37f4){handleAddQuestionInEditor();return;}});document[_0x4086c7(0x773)](_0x4086c7(0x85f))[_0x4086c7(0x6f7)]('click',openQuizBankModal),document['getElementById'](_0x4086c7(0xe39))[_0x4086c7(0x6f7)]('click',()=>{const _0x505078=_0x4086c7;document[_0x505078(0x773)](_0x505078(0xe45))[_0x505078(0x985)][_0x505078(0xd0a)](_0x505078(0x806));}),document['getElementById'](_0x4086c7(0x171))[_0x4086c7(0x6f7)](_0x4086c7(0xd6b),_0x5bdc61=>renderQuizBankList(_0x5bdc61[_0x4086c7(0x674)][_0x4086c7(0xd9d)]));const _0x12c152=document['getElementById'](_0x4086c7(0xd47));if(_0x12c152){let _0x49c9e4=null;_0x12c152[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0x38eb1c=>{const _0x506f0e=_0x4086c7,_0x552c38=_0x38eb1c[_0x506f0e(0x674)],_0x35a94c=_0x552c38[_0x506f0e(0x2e4)]('.edit-custom-topic-btn'),_0x4df926=_0x552c38[_0x506f0e(0x2e4)](_0x506f0e(0x787)),_0x5c3c77=_0x552c38['closest'](_0x506f0e(0x324)),_0x13bb55=_0x552c38[_0x506f0e(0x2e4)](_0x506f0e(0x903));if(_0x4df926){_0x38eb1c[_0x506f0e(0x952)]();const _0x252198=_0x4df926[_0x506f0e(0x576)]['id'],_0x21d2bd=_0x4df926['closest'](_0x506f0e(0x65f))[_0x506f0e(0x86f)](_0x506f0e(0x696))[_0x506f0e(0xcd6)];showConfirmation(_0x506f0e(0x43f)+_0x21d2bd+'\x22?',()=>handleDeleteCustomTopic(_0x252198));}else{if(_0x35a94c){_0x38eb1c[_0x506f0e(0x952)]();_0x49c9e4&&toggleTopicEditMode(_0x49c9e4,![]);const _0x4ce583=_0x35a94c['closest'](_0x506f0e(0xa76));_0x49c9e4=_0x4ce583,toggleTopicEditMode(_0x4ce583,!![]);}else{if(_0x5c3c77){_0x38eb1c['preventDefault']();const _0x4129b9=_0x5c3c77['dataset']['id'],_0x183432=_0x5c3c77[_0x506f0e(0x2e4)](_0x506f0e(0xa76)),_0x319274=_0x183432['querySelector'](_0x506f0e(0xb95))[_0x506f0e(0xd9d)];handleUpdateCustomTopic(_0x4129b9,_0x319274),_0x49c9e4=null;}else{if(_0x13bb55){_0x38eb1c[_0x506f0e(0x952)]();const _0x34e703=_0x13bb55[_0x506f0e(0x2e4)](_0x506f0e(0xa76));toggleTopicEditMode(_0x34e703,![]),_0x49c9e4=null;}}}}}),document[_0x4086c7(0x773)](_0x4086c7(0x9e0))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x3c4611=_0x4086c7;document[_0x3c4611(0x773)](_0x3c4611(0xc37))[_0x3c4611(0x985)][_0x3c4611(0xd0a)](_0x3c4611(0x806));}),document[_0x4086c7(0x773)](_0x4086c7(0xc29))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x47d832=_0x4086c7;document[_0x47d832(0x773)](_0x47d832(0xc37))['classList'][_0x47d832(0xd0a)](_0x47d832(0x806));}),document[_0x4086c7(0x773)](_0x4086c7(0x6df))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),handleExportLessonPDF);}document[_0x4086c7(0x773)]('close-comparison-modal-btn')[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x1921f7=_0x4086c7;document[_0x1921f7(0x773)](_0x1921f7(0x513))['classList'][_0x1921f7(0xd0a)]('hidden');}),document[_0x4086c7(0x773)](_0x4086c7(0x64d))['addEventListener']('click',()=>{const _0x56317f=_0x4086c7;document[_0x56317f(0x773)](_0x56317f(0x513))[_0x56317f(0x985)][_0x56317f(0xd0a)]('hidden');}),setupComparisonModalTabs(),document['body'][_0x4086c7(0x6f7)](_0x4086c7(0x2af),function(_0x34b441){const _0x2d96d3=_0x4086c7;if(_0x34b441[_0x2d96d3(0x674)][_0x2d96d3(0x985)][_0x2d96d3(0xc49)](_0x2d96d3(0x92f))){const _0xe435fd=unescape(_0x34b441[_0x2d96d3(0x674)][_0x2d96d3(0x576)][_0x2d96d3(0xa37)]);startSkillPractice(_0xe435fd);}}),document[_0x4086c7(0x773)](_0x4086c7(0xcec))[_0x4086c7(0x6f7)](_0x4086c7(0x2af),_0x9f2c32=>{const _0xd98bda=_0x4086c7,_0x526550=_0x9f2c32[_0xd98bda(0x674)][_0xd98bda(0x2e4)](_0xd98bda(0x466));if(_0x526550){const _0xa16acb=_0x526550[_0xd98bda(0x576)][_0xd98bda(0xa12)];handleDeleteSubmission(_0xa16acb);return;}const _0x36127f=_0x9f2c32[_0xd98bda(0x674)][_0xd98bda(0x2e4)]('.edit-points-btn');if(_0x36127f){const _0x406100=_0x36127f['dataset'][_0xd98bda(0xa12)],_0x21f9d9=_0x36127f[_0xd98bda(0x576)][_0xd98bda(0x831)],_0x407d01=prompt(_0xd98bda(0x7ca)+_0x406100+_0xd98bda(0x1b5),_0x21f9d9);if(_0x407d01!==null&&_0x407d01['trim']()!==''){const _0x583ca0=parseInt(_0x407d01,0xa);!isNaN(_0x583ca0)?handleManualEditPoints(_0x406100,_0x583ca0):alert(_0xd98bda(0xc4a));}}}),document[_0x4086c7(0x773)](_0x4086c7(0x19f))?.[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x1a3923=_0x4086c7;document[_0x1a3923(0x773)](_0x1a3923(0x2dc))[_0x1a3923(0x985)][_0x1a3923(0xd0a)](_0x1a3923(0x806));}),document[_0x4086c7(0x4a1)](_0x4086c7(0xbd2))[_0x4086c7(0xa25)](_0x5cda16=>{const _0x275b69=_0x4086c7;_0x5cda16[_0x275b69(0x6f7)](_0x275b69(0x2af),()=>{const _0x10d31f=_0x275b69;handlePinKeyPress(_0x5cda16[_0x10d31f(0x576)][_0x10d31f(0x351)]);});}),document[_0x4086c7(0x773)](_0x4086c7(0xab5))?.[_0x4086c7(0x6f7)](_0x4086c7(0x2af),()=>{const _0x10c429=_0x4086c7;handlePinKeyPress(_0x10c429(0x51f));});}async function handleStartGroupMode(_0x16bd0f,_0x2f8ba2=![]){const _0x2e53bd=_0x1d7cc9,_0x181ac7=allQuizzes['find'](_0x44c15a=>_0x44c15a['id']===_0x16bd0f)||allQuizzesGlobal[_0x2e53bd(0x15b)](_0x4b99f2=>_0x4b99f2['id']===_0x16bd0f);if(!_0x181ac7){showMessage(_0x2e53bd(0x84a));return;}currentQuizData=getShuffledQuiz(_0x181ac7);const _0x1e1415=Math[_0x2e53bd(0x36b)](0x3e8+Math[_0x2e53bd(0xa75)]()*0x2328)[_0x2e53bd(0x51a)]();try{const _0x2eec10=await addDoc(collection(db,'artifacts/'+appId+_0x2e53bd(0xc95)),{'quizId':_0x181ac7['id'],'projectId':_0x181ac7[_0x2e53bd(0xa1f)],'status':_0x2e53bd(0xe8),'pin':_0x1e1415,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2f8ba2});currentTeamQuizId=_0x2eec10['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x1e1415,_0x181ac7['topic'],_0x2e53bd(0x193)),listenForTeamQuizUpdates();}catch(_0x532785){console[_0x2e53bd(0x7bc)](_0x2e53bd(0x186),_0x532785),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x54ea6d=_0x1d7cc9;studentInitialView[_0x54ea6d(0x985)][_0x54ea6d(0xd0a)](_0x54ea6d(0x806)),document['getElementById'](_0x54ea6d(0xe27))[_0x54ea6d(0x985)][_0x54ea6d(0xa54)](_0x54ea6d(0x806));const _0x1ebd1a=document['getElementById'](_0x54ea6d(0x77a)),_0x3da457=document[_0x54ea6d(0x773)](_0x54ea6d(0x2c1)),_0x12a257=document['getElementById'](_0x54ea6d(0x31a));_0x12a257[_0x54ea6d(0x8ec)]=_0x54ea6d(0x8bd),_0x3da457[_0x54ea6d(0x8ec)]=_0x54ea6d(0x854),_0x3da457[_0x54ea6d(0x67a)]=!![],_0x1ebd1a[_0x54ea6d(0x8ec)]=_0x54ea6d(0x42c);if(allProjects[_0x54ea6d(0x5df)]===0x0){const _0x12e287=collection(db,_0x54ea6d(0x6de)+appId+'/public/data/projects'),_0x3b60af=await getDocs(_0x12e287);allProjects=_0x3b60af[_0x54ea6d(0x79c)]['map'](_0x5c24a7=>({'id':_0x5c24a7['id'],..._0x5c24a7[_0x54ea6d(0xafb)]()}));}const _0x5724ef=allProjects[_0x54ea6d(0x485)](_0x275d7a=>_0x275d7a['settings']?.[_0x54ea6d(0x311)]!==![]);_0x5724ef[_0x54ea6d(0xc1c)]((_0x1e0ad5,_0x1d9ced)=>_0x1e0ad5[_0x54ea6d(0x1c1)][_0x54ea6d(0xbbb)](_0x1d9ced[_0x54ea6d(0x1c1)],'th')),_0x1ebd1a[_0x54ea6d(0x8ec)]=_0x54ea6d(0x981)+_0x5724ef[_0x54ea6d(0x9d3)](_0x514c34=>_0x54ea6d(0xd4d)+_0x514c34['id']+'\x22>'+_0x514c34[_0x54ea6d(0x1c1)]+'</option>')[_0x54ea6d(0x370)](''),_0x1ebd1a[_0x54ea6d(0x74a)]=()=>{const _0xc1de85=_0x54ea6d,_0x1f73c7=_0x3da457[_0xc1de85(0xd9d)],_0x4bc90a=_0x1ebd1a[_0xc1de85(0xd9d)];_0x3da457[_0xc1de85(0x67a)]=!![],_0x3da457[_0xc1de85(0x8ec)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x12a257[_0xc1de85(0x8ec)]=_0xc1de85(0xaec);if(!_0x4bc90a)return;const _0x1f2e7b=allProjects['find'](_0x338d10=>_0x338d10['id']===_0x4bc90a);if(!_0x1f2e7b||!_0x1f2e7b[_0xc1de85(0xb2e)])return;const _0x38519d=()=>{const _0x473523=_0xc1de85;_0x3da457[_0x473523(0x8ec)]=_0x473523(0x854)+_0x1f2e7b['students'][_0x473523(0x9d3)](_0x43e4a1=>_0x473523(0xd4d)+_0x43e4a1+'\x22>'+_0x43e4a1+'</option>')[_0x473523(0x370)](''),_0x3da457[_0x473523(0x67a)]=![];const _0x23e3e1=Array[_0x473523(0xc85)](_0x3da457[_0x473523(0x50b)])[_0x473523(0x9d3)](_0xe8d021=>_0xe8d021['value']);if(_0x1f73c7&&_0x23e3e1[_0x473523(0x1f6)](_0x1f73c7))_0x3da457[_0x473523(0xd9d)]=_0x1f73c7,_0x3da457[_0x473523(0xb84)](new Event('change'));else _0x1f2e7b[_0x473523(0xb2e)]['length']===0x1&&(_0x3da457[_0x473523(0xd9d)]=_0x1f2e7b[_0x473523(0xb2e)][0x0],_0x3da457[_0x473523(0xb84)](new Event(_0x473523(0x813))));};if(_0x1f2e7b['settings']?.[_0xc1de85(0x3c5)]){if(sessionStorage[_0xc1de85(0x3e2)](_0xc1de85(0x60d)+_0x4bc90a)==='true'){_0x38519d();return;}const _0x5484f7=document[_0xc1de85(0x773)](_0xc1de85(0x8d5)),_0x6ed669=document[_0xc1de85(0x773)](_0xc1de85(0x8ce)),_0x1761ec=document['getElementById'](_0xc1de85(0x92e)),_0x174c5a=document[_0xc1de85(0x773)](_0xc1de85(0x433)),_0x57c5c4=document[_0xc1de85(0x773)](_0xc1de85(0x7d2));document[_0xc1de85(0x773)](_0xc1de85(0x234))['textContent']=_0xc1de85(0x7a3)+_0x1f2e7b[_0xc1de85(0x1c1)],_0x174c5a[_0xc1de85(0xd9d)]='',_0x57c5c4[_0xc1de85(0x985)][_0xc1de85(0xd0a)](_0xc1de85(0x806)),_0x5484f7[_0xc1de85(0x985)][_0xc1de85(0xa54)](_0xc1de85(0x806));const _0x57220a=()=>{const _0xbbad97=_0xc1de85,_0x228eec=_0x174c5a[_0xbbad97(0xd9d)][_0xbbad97(0xafd)]();_0x228eec===_0x1f2e7b[_0xbbad97(0xadf)]['passcode']?(sessionStorage[_0xbbad97(0xd41)](_0xbbad97(0x60d)+_0x4bc90a,_0xbbad97(0x9ff)),_0x5484f7['classList'][_0xbbad97(0xd0a)](_0xbbad97(0x806)),_0x38519d(),_0x6ed669['removeEventListener'](_0xbbad97(0x2af),_0x57220a)):_0x57c5c4[_0xbbad97(0x985)][_0xbbad97(0xa54)](_0xbbad97(0x806));};_0x6ed669[_0xc1de85(0xb4f)]=_0x57220a,_0x1761ec[_0xc1de85(0xb4f)]=()=>{const _0x32028e=_0xc1de85;_0x5484f7[_0x32028e(0x985)][_0x32028e(0xd0a)](_0x32028e(0x806)),_0x1ebd1a['value']='',_0x6ed669['removeEventListener'](_0x32028e(0x2af),_0x57220a);};}else _0x38519d();},_0x3da457['onchange']=()=>{const _0xae0c98=_0x54ea6d,_0x2129ac=_0x1ebd1a['value'],_0x5546a4=_0x3da457[_0xae0c98(0xd9d)];_0x2129ac&&_0x5546a4&&renderStudentProgressDashboard(_0x2129ac,_0x5546a4);};}async function confirmAndJoinSyncGame(){const _0x455f11=_0x1d7cc9;lastSeenQuestionIndex=-0x1,sessionStorage[_0x455f11(0xb27)](_0x455f11(0x474)),sessionStorage[_0x455f11(0xb27)](_0x455f11(0x2c3)),Object[_0x455f11(0x203)](sessionStorage)[_0x455f11(0xa25)](_0x12e7f1=>{const _0x316135=_0x455f11;(_0x12e7f1[_0x316135(0x1aa)](_0x316135(0xc04))||_0x12e7f1[_0x316135(0x1aa)]('powerupUsed_q')||_0x12e7f1[_0x316135(0x1aa)](_0x316135(0xd7c)))&&sessionStorage[_0x316135(0xb27)](_0x12e7f1);});const _0x401276=Array['from'](document[_0x455f11(0x4a1)](_0x455f11(0x156)))[_0x455f11(0x9d3)](_0xae42fe=>_0xae42fe[_0x455f11(0xd9d)]);if(_0x401276[_0x455f11(0x5df)]===0x0){showMessage(_0x455f11(0xdfe));return;}localTeamPlayers=_0x401276,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x16a0cb=writeBatch(db),_0x6527ee=serverTimestamp();_0x401276['forEach'](_0x283ee8=>{const _0x3a0825=_0x455f11,_0x2ed886=doc(db,_0x3a0825(0x6de)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x3a0825(0x745),_0x283ee8),_0x5e4be3={'name':_0x283ee8,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0},'answered':![],'status':_0x3a0825(0x4c8),'answers':[],'joinedAt':_0x6527ee,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x16a0cb[_0x3a0825(0x948)](_0x2ed886,_0x5e4be3,{'merge':!![]});}),await _0x16a0cb[_0x455f11(0x3f1)](),showView(_0x455f11(0xc90)),document[_0x455f11(0x773)](_0x455f11(0xce7))['classList'][_0x455f11(0xd0a)](_0x455f11(0x806)),currentStudentName=_0x401276[0x0],listenForSyncGameUpdates();const _0x5e93a3={'gameId':currentLiveGameId,'mode':_0x455f11(0x479),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x455f11(0xd41)](_0x455f11(0xcc6),JSON[_0x455f11(0xbd7)](_0x5e93a3)),currentMode!==_0x455f11(0x511)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x455f11(0xcb1),handleFullscreenChange),document[_0x455f11(0x6f7)](_0x455f11(0x343),handleVisibilityChange),enterFullscreen(),window[_0x455f11(0x6f7)](_0x455f11(0x5a2),resetDimTimer),window[_0x455f11(0x6f7)](_0x455f11(0xe5b),resetDimTimer),window[_0x455f11(0x6f7)](_0x455f11(0xd6e),resetDimTimer),window[_0x455f11(0x6f7)](_0x455f11(0x42b),resetDimTimer),resetDimTimer());}catch(_0x555848){console[_0x455f11(0x7bc)](_0x455f11(0x268),_0x555848),showMessage(_0x455f11(0xfd)+_0x555848[_0x455f11(0xcee)]);}}async function resumeActiveGameSession(){const _0x13cbf9=_0x1d7cc9,_0x38c381=sessionStorage[_0x13cbf9(0x3e2)](_0x13cbf9(0xcc6));if(!_0x38c381)return;const _0x23cdff=JSON[_0x13cbf9(0xbf7)](_0x38c381),{gameId:_0x26e0b3,mode:_0x31fa4d,role:_0x170f32,players:_0x21d79f,turnIndex:_0x1d3eee}=_0x23cdff;try{if(_0x170f32===_0x13cbf9(0x204)&&_0x31fa4d===_0x13cbf9(0x479)){const _0x46ede5=doc(db,_0x13cbf9(0x6de)+appId+_0x13cbf9(0x782),_0x26e0b3),_0x30dc00=await getDoc(_0x46ede5);if(!_0x30dc00[_0x13cbf9(0xc63)]()||_0x30dc00[_0x13cbf9(0xafb)]()[_0x13cbf9(0xfc)]===_0x13cbf9(0x66f)||_0x30dc00['data']()[_0x13cbf9(0xfc)]==='finished'){sessionStorage[_0x13cbf9(0xb27)](_0x13cbf9(0xcc6));return;}console['log'](_0x13cbf9(0x5d4)+_0x26e0b3+')'),currentMode='admin',currentLiveGameId=_0x26e0b3,currentQuizData=_0x30dc00[_0x13cbf9(0xafb)]()[_0x13cbf9(0x142)],showView(_0x13cbf9(0xc90)),listenForSyncGameUpdates();}else{if(_0x31fa4d==='sync'&&_0x21d79f){const _0x49b9b5=doc(db,_0x13cbf9(0x6de)+appId+_0x13cbf9(0x782),_0x26e0b3),_0x383cf0=await getDoc(_0x49b9b5);if(!_0x383cf0[_0x13cbf9(0xc63)]()||_0x383cf0['data']()[_0x13cbf9(0xfc)]===_0x13cbf9(0x66f)||_0x383cf0[_0x13cbf9(0xafb)]()[_0x13cbf9(0xfc)]===_0x13cbf9(0x95b)){sessionStorage['removeItem'](_0x13cbf9(0xcc6));return;}console[_0x13cbf9(0xe59)](_0x13cbf9(0xa28)+_0x26e0b3+')'),currentLiveGameId=_0x26e0b3,currentStudentName=_0x21d79f[0x0],localTeamPlayers=_0x21d79f,showView(_0x13cbf9(0xc90)),listenForSyncGameUpdates();}else{if((_0x31fa4d===_0x13cbf9(0x61d)||_0x31fa4d===_0x13cbf9(0x193))&&_0x21d79f){const _0x5e01a7=doc(db,_0x13cbf9(0x6de)+appId+_0x13cbf9(0xc95),_0x26e0b3),_0x1afb2c=await getDoc(_0x5e01a7);if(!_0x1afb2c['exists']()||_0x1afb2c[_0x13cbf9(0xafb)]()[_0x13cbf9(0xfc)]==='podium'||_0x1afb2c[_0x13cbf9(0xafb)]()[_0x13cbf9(0xfc)]===_0x13cbf9(0x95b)){sessionStorage['removeItem'](_0x13cbf9(0xcc6));return;}console[_0x13cbf9(0xe59)](_0x13cbf9(0x8d3)+_0x31fa4d+'\x20(Player)\x20(ID:\x20'+_0x26e0b3+')'),currentTeamQuizId=_0x26e0b3,localTeamPlayers=_0x21d79f,localQuestionIndex=_0x23cdff[_0x13cbf9(0x550)]||0x0,localPlayerIndex=_0x23cdff[_0x13cbf9(0xd8)]||0x0;const _0x49800d=_0x1afb2c[_0x13cbf9(0xafb)](),_0x1f2a79=doc(db,_0x13cbf9(0x6de)+appId+_0x13cbf9(0xde0),_0x49800d[_0x13cbf9(0x514)]),_0x316d7e=await getDoc(_0x1f2a79);_0x316d7e['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x316d7e['id'],..._0x316d7e[_0x13cbf9(0xafb)]()}),showView('student'),studentInitialView['classList'][_0x13cbf9(0xd0a)](_0x13cbf9(0x806)),_0x31fa4d===_0x13cbf9(0x193)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x527917){console[_0x13cbf9(0x7bc)]('Failed\x20to\x20resume\x20game\x20session:',_0x527917),sessionStorage[_0x13cbf9(0xb27)](_0x13cbf9(0xcc6));}}async function handleUsePowerup(_0x249d28,_0x292077,_0x1dd9d4,_0x36844d,_0x224746){const _0x51ca55=_0x1d7cc9,_0x2f4045=_0x36844d['currentQuestionIndex'],_0x36f637=_0x51ca55(0x51c)+_0x2f4045+'_p'+_0x249d28,_0x4fa720=sessionStorage['getItem'](_0x36f637);if(_0x4fa720&&_0x292077!==_0x51ca55(0x76e)&&_0x292077!==_0x51ca55(0xd05)){showMessage(_0x51ca55(0x556));const _0x5dd7d6=document[_0x51ca55(0x773)](_0x51ca55(0x500)+_0x292077);if(_0x5dd7d6)_0x5dd7d6[_0x51ca55(0x67a)]=![];return;}if(_0x292077===_0x51ca55(0x18f)){sessionStorage['setItem'](_0x36f637,_0x292077),playSystemSound('powerup'),renderStudentSyncQuestionView(_0x36844d);return;}const _0x28f25c=doc(db,_0x51ca55(0x6de)+appId+_0x51ca55(0xb0b)+currentLiveGameId+_0x51ca55(0x745),_0x249d28);try{await runTransaction(db,async _0x49cc56=>{const _0x44423c=_0x51ca55,_0x3b2625=await _0x49cc56[_0x44423c(0xa70)](_0x28f25c);if(!_0x3b2625[_0x44423c(0xc63)]())throw _0x44423c(0x8a7);const _0x1b6838=_0x3b2625['data'](),_0x436de3=_0x1b6838['powerups']||{},_0x3abed3=_0x436de3[_0x292077]||0x0;if(_0x3abed3<=0x0)throw _0x44423c(0x36e);const _0x142d61={};_0x142d61['powerups.'+_0x292077]=increment(-0x1);_0x292077!==_0x44423c(0x18f)&&(_0x142d61[_0x44423c(0x695)]=0x0);if(_0x292077===_0x44423c(0x76e)){const _0x54360b=(_0x36844d['timerDuration']||0xf0)*0x3e8,_0xaeb0e0=_0x54360b*0.25;_0x142d61[_0x44423c(0x97e)]=increment(_0xaeb0e0);}_0x49cc56['update'](_0x28f25c,_0x142d61);}),_0x292077===_0x51ca55(0x2c0)&&sessionStorage['setItem'](_0x51ca55(0x474),_0x51ca55(0x9ff)),_0x292077!==_0x51ca55(0x76e)&&_0x292077!=='strategyScan'&&sessionStorage[_0x51ca55(0xd41)](_0x36f637,_0x292077),playSystemSound(_0x51ca55(0x9bc)),applyPowerupEffect(_0x249d28,_0x292077,_0x1dd9d4,_0x36844d,_0x224746),(_0x292077===_0x51ca55(0xc03)||_0x292077===_0x51ca55(0x9b6)||_0x292077===_0x51ca55(0xdf5)||_0x292077===_0x51ca55(0x9f7))&&renderStudentSyncQuestionView(_0x36844d),_0x292077!==_0x51ca55(0x18f)&&_0x224746[_0x51ca55(0x695)]>0x0&&showMessage(_0x51ca55(0x7c4)+_0x292077+'\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200');}catch(_0x4da481){console[_0x51ca55(0x7bc)](_0x51ca55(0xb57),_0x4da481),showMessage(typeof _0x4da481===_0x51ca55(0xe46)?_0x4da481:_0x51ca55(0x933));const _0x3bc639=document[_0x51ca55(0x773)]('use-powerup-'+_0x292077);if(_0x3bc639)_0x3bc639['disabled']=![];}}async function getCachedOtherPlayers(_0x45a121,_0x22c0e5){const _0x491d22=_0x1d7cc9,_0x309250=_0x45a121['currentQuestionIndex'];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x309250)return console['log'](_0x491d22(0x56a)),cachedOtherPlayersForQuestion;console['log'](_0x491d22(0x968));const _0x36ad8a=collection(db,_0x491d22(0x6de)+appId+_0x491d22(0xb0b)+currentLiveGameId+'/players'),_0x54e939=query(_0x36ad8a,where(_0x491d22(0xfc),'==',_0x491d22(0x4c8))),_0x1214b0=await getDocs(_0x54e939),_0x3ba245=[];return _0x1214b0['forEach'](_0x201ac1=>{const _0x1a6672=_0x491d22,_0x1e71ec=_0x201ac1[_0x1a6672(0xafb)]();_0x3ba245[_0x1a6672(0x65b)](_0x1e71ec);}),cachedOtherPlayersForQuestion=_0x3ba245,cachedQuestionIndexForPlayers=_0x309250,_0x3ba245;}async function applyPowerupEffect(_0x4686dc,_0x2af81c,_0x54eec7,_0x23b7ca,_0x5aeba7){const _0xefc97=_0x1d7cc9,_0x39d936=_0x54eec7,_0x1d1a39=_0x23b7ca[_0xefc97(0x393)];switch(_0x2af81c){case _0xefc97(0x18f):showMessage(_0xefc97(0x929));break;case _0xefc97(0xca6):showMessage(_0xefc97(0xac6));break;case'buyTime':const _0x4c127e=(_0x23b7ca[_0xefc97(0x848)]||0xf0)*0.25;showMessage('⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20'+_0x4c127e+_0xefc97(0xa77));break;case _0xefc97(0xc03):case _0xefc97(0x9b6):const _0x268d69=document[_0xefc97(0x4a1)](_0xefc97(0x36d));if(_0x268d69[_0xefc97(0x5df)]===0x0){showMessage('❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ');return;}const _0x22d256='hiddenOptions_q'+_0x1d1a39+'_p'+_0x4686dc,_0xfd6af3=JSON[_0xefc97(0xbf7)](sessionStorage[_0xefc97(0x3e2)](_0x22d256)||'[]');let _0x1e8921;const _0x39b58e=_0x39d936[_0xefc97(0xa8d)]||_0x23b7ca['shuffledQuiz'][_0xefc97(0xd83)];_0x39b58e===_0xefc97(0xc39)?_0x1e8921=String(_0x39d936['correctAnswer'])[_0xefc97(0xa43)]()===_0xefc97(0x9ff)?0x0:0x1:_0x1e8921=_0x39d936[_0xefc97(0xc68)];const _0x58255a=Array[_0xefc97(0xc85)](_0x268d69)[_0xefc97(0x485)](_0x116721=>parseInt(_0x116721[_0xefc97(0x576)][_0xefc97(0xd9d)])!==_0x1e8921&&!_0xfd6af3[_0xefc97(0x1f6)](_0x116721[_0xefc97(0x576)][_0xefc97(0xd9d)]));if(_0x58255a['length']===0x0){showMessage('ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!');return;}shuffleArray(_0x58255a);const _0x48caf5=_0x2af81c===_0xefc97(0xc03)?0x1:0x2,_0xbde297=[];for(let _0x3017a6=0x0;_0x3017a6<_0x48caf5;_0x3017a6++){_0x58255a[_0x3017a6]&&(_0x58255a[_0x3017a6]['classList'][_0xefc97(0xd0a)]('hidden'),_0xbde297[_0xefc97(0x65b)](_0x58255a[_0x3017a6]['dataset'][_0xefc97(0xd9d)]));}const _0x236b19=[..._0xfd6af3,..._0xbde297];sessionStorage[_0xefc97(0xd41)](_0x22d256,JSON[_0xefc97(0xbd7)](_0x236b19)),showMessage(_0x2af81c===_0xefc97(0xc03)?_0xefc97(0xabe):_0xefc97(0x771));break;default:showMessage('ใช้ไอเทม\x20'+_0x2af81c+_0xefc97(0x8dc));}}async function handleForceConfident(_0x448c92,_0xfdfc3){const _0xc1ae25=_0x1d7cc9;if(!currentLiveGameId||!_0x448c92)return;const _0x48bb14=doc(db,_0xc1ae25(0x6de)+appId+_0xc1ae25(0xb0b)+currentLiveGameId+_0xc1ae25(0x745),_0x448c92);try{await updateDoc(_0x48bb14,{'isForcedConfident':!![]}),showMessage('ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20'+_0xfdfc3+_0xc1ae25(0x643));}catch(_0x4b6dd0){console[_0xc1ae25(0x7bc)]('Failed\x20to\x20apply\x20forceConfident:',_0x4b6dd0),showMessage(_0xc1ae25(0x41c));}}async function handleRefundPowerup(_0x1f2ac3,_0x1f7931){const _0xaffec9=_0x1d7cc9,_0x3c0f68=doc(db,_0xaffec9(0x6de)+appId+_0xaffec9(0xb0b)+currentLiveGameId+_0xaffec9(0x745),_0x1f2ac3);try{const _0x316fbd={};_0x316fbd[_0xaffec9(0xe15)+_0x1f7931]=increment(0x1),await updateDoc(_0x3c0f68,_0x316fbd),console[_0xaffec9(0xe59)]('Refunded\x20'+_0x1f7931+_0xaffec9(0x649)+_0x1f2ac3);}catch(_0x460915){console[_0xaffec9(0x7bc)]('Failed\x20to\x20refund\x20powerup:',_0x460915);}}async function handleApplyJinx(_0x1b16fc,_0x2f38c2){const _0x4be8d4=_0x1d7cc9;if(!currentLiveGameId||!_0x1b16fc)return;const _0x1a26ea=doc(db,_0x4be8d4(0x6de)+appId+_0x4be8d4(0xb0b)+currentLiveGameId+'/players',_0x1b16fc);try{await updateDoc(_0x1a26ea,{'isJinxed':!![]}),showMessage(_0x4be8d4(0xa7a)+_0x2f38c2+_0x4be8d4(0x643));}catch(_0x4e73d1){console[_0x4be8d4(0x7bc)]('Failed\x20to\x20apply\x20jinx:',_0x4e73d1),showMessage(_0x4be8d4(0x41c));}}function activateFileInputAreaWithLoadedFile(){const _0x39601c=_0x1d7cc9,_0x57161f=document['getElementById']('generate-from-file-btn'),_0x47f9bb=document[_0x39601c(0x773)](_0x39601c(0x8d6)),_0x359b5d=document[_0x39601c(0x773)](_0x39601c(0x518));selectedFile?_0x359b5d[_0x39601c(0x17e)]?(_0x57161f[_0x39601c(0x67a)]=!![],analyzeFileForTopics(selectedFile)):(_0x57161f[_0x39601c(0x67a)]=![],_0x47f9bb[_0x39601c(0x985)][_0x39601c(0xd0a)](_0x39601c(0x806))):(_0x57161f['disabled']=!![],_0x47f9bb['classList'][_0x39601c(0xd0a)](_0x39601c(0x806)));}async function handleKickPlayerSync(_0x2bf247){const _0x7a2ee9=_0x1d7cc9;if(!currentLiveGameId||!_0x2bf247)return;const _0x384940=doc(db,'artifacts/'+appId+_0x7a2ee9(0xb0b)+currentLiveGameId+_0x7a2ee9(0x745),_0x2bf247);try{await updateDoc(_0x384940,{'status':_0x7a2ee9(0x36c)});}catch(_0x92ea98){console['error'](_0x7a2ee9(0x1d9)+_0x2bf247+':',_0x92ea98),showMessage(_0x7a2ee9(0x314));}}async function renderStudentProgressDashboard(_0x2dd4e0,_0x2d76bc){const _0x3c74c1=_0x1d7cc9,_0x38073c=document[_0x3c74c1(0x773)]('student-progress-content');_0x38073c[_0x3c74c1(0x8ec)]=_0x3c74c1(0x464);try{const _0x47b733=collection(db,_0x3c74c1(0x6de)+appId+_0x3c74c1(0xde0)),_0x3f9e22=query(_0x47b733,where(_0x3c74c1(0xa1f),'==',_0x2dd4e0)),_0x6b1b09=await getDocs(_0x3f9e22),_0x18fb95=_0x6b1b09['docs'][_0x3c74c1(0x9d3)](_0x2e1f8a=>({'id':_0x2e1f8a['id'],..._0x2e1f8a['data']()})),_0x5a12c4=_0x18fb95['map'](_0x34cb0d=>getDoc(doc(db,'artifacts/'+appId+_0x3c74c1(0x6b1)+_0x34cb0d['id']+_0x3c74c1(0x1cf),_0x2d76bc))),_0x446f9e=await Promise[_0x3c74c1(0x2d2)](_0x5a12c4),_0xcb85e9=_0x446f9e[_0x3c74c1(0x485)](_0x2c3e9b=>_0x2c3e9b['exists']())[_0x3c74c1(0x9d3)](_0x30365e=>({'quizId':_0x30365e[_0x3c74c1(0xbdc)][_0x3c74c1(0xdee)]['parent']['id'],..._0x30365e[_0x3c74c1(0xafb)]()}));if(_0xcb85e9[_0x3c74c1(0x5df)]===0x0){_0x38073c[_0x3c74c1(0x8ec)]=_0x3c74c1(0x2de);return;}let _0x3953ef='<div\x20class=\x22space-y-4\x22>';_0xcb85e9[_0x3c74c1(0xa25)](_0xf5547=>{const _0x345f0a=_0x3c74c1,_0x944405=_0x18fb95[_0x345f0a(0x15b)](_0x4a4b71=>_0x4a4b71['id']===_0xf5547[_0x345f0a(0x514)]),_0x579388=_0x944405[_0x345f0a(0xadf)]?.['resultsDisplay']||'show_results_and_answers',_0x268aff=_0x944405[_0x345f0a(0xadf)]?.[_0x345f0a(0x5db)]??0x0,_0x5d1478=_0xf5547[_0x345f0a(0x43b)]>=_0x268aff;let _0xb0ea92='',_0x59130b='bg-gray-50';switch(_0x579388){case'show_results_and_answers':case _0x345f0a(0x137):_0x59130b=_0x5d1478?_0x345f0a(0x3b2):_0x345f0a(0xd29),_0xb0ea92='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x5d1478?_0x345f0a(0x668):_0x345f0a(0x5ef))+'\x22>'+_0xf5547[_0x345f0a(0x43b)]+_0x345f0a(0x9fa)+_0xf5547[_0x345f0a(0x1a2)]+_0x345f0a(0xb10)+(_0x5d1478?_0x345f0a(0xe48):_0x345f0a(0x30a))+'\x22>'+(_0x5d1478?_0x345f0a(0xdf1):_0x345f0a(0x969))+_0x345f0a(0x81d);break;case _0x345f0a(0x659):_0x59130b=_0x5d1478?_0x345f0a(0x3b2):_0x345f0a(0xd29),_0xb0ea92=_0x345f0a(0x3db)+(_0x5d1478?_0x345f0a(0xe48):_0x345f0a(0x30a))+'\x22>'+(_0x5d1478?_0x345f0a(0xdf1):_0x345f0a(0x969))+_0x345f0a(0x81d);break;case'manual_release':_0x59130b=_0x345f0a(0xc3c),_0xb0ea92=_0x345f0a(0xaac);break;}_0x3953ef+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x59130b+_0x345f0a(0xab0)+_0x944405['topic']+_0x345f0a(0x1ee)+_0xf5547['attempts'][_0x345f0a(0x5df)]+_0x345f0a(0x8d2)+new Date(_0xf5547['latestSubmittedAt'])['toLocaleDateString'](_0x345f0a(0x3d1))+_0x345f0a(0x793)+_0xb0ea92+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3953ef+=_0x3c74c1(0x1b1),_0x38073c[_0x3c74c1(0x8ec)]=_0x3953ef;}catch(_0x313d66){console[_0x3c74c1(0x7bc)](_0x3c74c1(0x877),_0x313d66),_0x38073c['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x2bc392=''){const _0x5a2f9d=_0x1d7cc9,_0x1dbc2e=document['getElementById'](_0x5a2f9d(0xcd7)),_0x10a24d=_0x2bc392[_0x5a2f9d(0xa43)]()[_0x5a2f9d(0xafd)](),_0x1c878b=allQuizzesGlobal[_0x5a2f9d(0x9d3)](_0x550a51=>({..._0x550a51,'projectName':allProjects[_0x5a2f9d(0x15b)](_0x21419b=>_0x21419b['id']===_0x550a51[_0x5a2f9d(0xa1f)])?.[_0x5a2f9d(0x1c1)]||_0x5a2f9d(0x539)}))[_0x5a2f9d(0x485)](_0x34932a=>(_0x34932a[_0x5a2f9d(0xa37)]||'')[_0x5a2f9d(0xa43)]()[_0x5a2f9d(0x1f6)](_0x10a24d)||(_0x34932a[_0x5a2f9d(0x1c1)]||'')[_0x5a2f9d(0xa43)]()[_0x5a2f9d(0x1f6)](_0x10a24d)||_0x34932a['id'][_0x5a2f9d(0x51a)]()[_0x5a2f9d(0x1f6)](_0x10a24d));_0x1dbc2e[_0x5a2f9d(0x8ec)]=_0x1c878b[_0x5a2f9d(0x5df)]?_0x1c878b['map'](_0x6758f2=>_0x5a2f9d(0x53e)+_0x6758f2['id']+_0x5a2f9d(0x2e0)+(_0x6758f2[_0x5a2f9d(0xa37)]||_0x5a2f9d(0xcc9))+_0x5a2f9d(0x13e)+_0x6758f2['projectName']+'\x20|\x20ID:\x20'+_0x6758f2['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')['join'](''):_0x5a2f9d(0xbbe),_0x1dbc2e[_0x5a2f9d(0x74a)]=()=>{const _0x547a6b=_0x5a2f9d,_0x357335=document['querySelector'](_0x547a6b(0x11c));document['getElementById'](_0x547a6b(0x874))[_0x547a6b(0x67a)]=!_0x357335;};}function setupStudentProgressListeners(){const _0x343699=_0x1d7cc9;document['getElementById'](_0x343699(0x4eb))[_0x343699(0x6f7)](_0x343699(0x2af),showStudentProgressView),document[_0x343699(0x773)]('back-to-student-home-btn')[_0x343699(0x6f7)](_0x343699(0x2af),()=>{const _0x1e85a5=_0x343699;document[_0x1e85a5(0x773)](_0x1e85a5(0xe27))[_0x1e85a5(0x985)][_0x1e85a5(0xd0a)]('hidden'),document[_0x1e85a5(0x773)](_0x1e85a5(0x769))[_0x1e85a5(0x985)]['remove'](_0x1e85a5(0x806));});}async function startSkillPractice(_0x2edfb3){const _0x5f5914=_0x1d7cc9;studentResultArea[_0x5f5914(0x985)][_0x5f5914(0xd0a)](_0x5f5914(0x806)),studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x5f5914(0x985)]['remove'](_0x5f5914(0x806));try{const _0x244879=await getStandardizedTopic(_0x2edfb3);console[_0x5f5914(0xe59)](_0x5f5914(0x226)+_0x2edfb3+_0x5f5914(0xa96)+_0x244879+'\x22'),studentQuizArea['querySelector']('p')[_0x5f5914(0xcd6)]=_0x5f5914(0xd9)+_0x244879+_0x5f5914(0xd8f);const _0xbc5aa5=collection(db,_0x5f5914(0x6de)+appId+_0x5f5914(0xd3e)),_0x5f22c8=query(_0xbc5aa5,where('topic','==',_0x244879)),_0x43e076=await getDocs(_0x5f22c8);if(_0x43e076[_0x5f5914(0x79c)][_0x5f5914(0x5df)]>=0x3){console[_0x5f5914(0xe59)](_0x5f5914(0xdd5)+_0x43e076['docs']['length']+_0x5f5914(0xe05)+_0x244879+_0x5f5914(0xbdd));let _0x16e4b5=_0x43e076[_0x5f5914(0x79c)][_0x5f5914(0x9d3)](_0x36ba0a=>_0x36ba0a[_0x5f5914(0xafb)]());shuffleArray(_0x16e4b5);const _0x1c4c84={'topic':_0x244879,'questions':_0x16e4b5[_0x5f5914(0xd66)](0x0,0x3)};displaySkillPracticeDrill(_0x1c4c84);}else{console[_0x5f5914(0xe59)](_0x5f5914(0x6c7)+_0x244879+_0x5f5914(0x6a3));const _0x7a466c=await generatePracticeQuestions(_0x244879);await saveDrillToPracticeBank(_0x7a466c,_0x244879),displaySkillPracticeDrill(_0x7a466c);}}catch(_0xe032e4){console[_0x5f5914(0x7bc)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0xe032e4),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x5f5914(0x985)][_0x5f5914(0xd0a)](_0x5f5914(0x806)),studentResultArea[_0x5f5914(0x985)][_0x5f5914(0xa54)]('hidden');}}async function saveDrillToPracticeBank(_0x5e8b4b,_0xd132a0){const _0x10eee1=_0x1d7cc9,_0x5b016d=collection(db,_0x10eee1(0x6de)+appId+_0x10eee1(0xd3e)),_0x1b1c1b=writeBatch(db);_0x5e8b4b[_0x10eee1(0xcf9)][_0x10eee1(0xa25)](_0x17342f=>{const _0x39bc0e=_0x10eee1,_0x4f655b=doc(_0x5b016d);_0x1b1c1b[_0x39bc0e(0x948)](_0x4f655b,{'topic':_0xd132a0,'questionText':_0x17342f['questionText'],'options':_0x17342f[_0x39bc0e(0x50b)],'correctAnswerIndex':_0x17342f[_0x39bc0e(0xc68)],'explanation':_0x17342f[_0x39bc0e(0x4d2)],'createdAt':serverTimestamp()});});try{await _0x1b1c1b[_0x10eee1(0x3f1)](),console[_0x10eee1(0xe59)](_0x10eee1(0x5a7)+_0x5e8b4b[_0x10eee1(0xcf9)]['length']+_0x10eee1(0x2e1));}catch(_0x28051a){console[_0x10eee1(0x7bc)](_0x10eee1(0x80d),_0x28051a);}}async function getStandardizedTopic(_0x212300){const _0x189d9a=_0x1d7cc9,_0x17be9e=_0x189d9a(0x128)+_0x212300+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x3a5195={'type':'OBJECT','properties':{'standardTopic':{'type':_0x189d9a(0x3a5)}},'required':[_0x189d9a(0x1b4)]};try{const _0x214696=await callAnalysisApi(_0x17be9e,_0x3a5195);return _0x214696[_0x189d9a(0x1b4)];}catch(_0x39cde1){return console[_0x189d9a(0x7bc)](_0x189d9a(0x499),_0x39cde1),_0x212300;}}async function handleGenerateEasyVersionQuiz(_0x3d08f3){const _0x1677e7=_0x1d7cc9,_0x5a7a14=document[_0x1677e7(0x773)]('results-tab-content'),_0x50c9fe=document[_0x1677e7(0x773)]('project-quizzes-list');_0x50c9fe[_0x1677e7(0x985)]['add']('hidden');const _0x2f724d=_0x1677e7(0xcd);_0x5a7a14[_0x1677e7(0x5c1)](_0x1677e7(0xa5d),_0x2f724d);try{const _0x439f97=allQuizzes[_0x1677e7(0x15b)](_0x205efd=>_0x205efd['id']===_0x3d08f3);if(!_0x439f97)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x2164cc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON['stringify'](_0x439f97[_0x1677e7(0xcf9)])+_0x1677e7(0x53b),_0x3f5170={'type':_0x1677e7(0x181),'properties':{'questionText':{'type':_0x1677e7(0x3a5)},'questionType':{'type':'STRING'},'options':{'type':_0x1677e7(0x37c),'items':{'type':_0x1677e7(0x3a5)}},'correctAnswerIndex':{'type':_0x1677e7(0x1b3)},'idealAnswer':{'type':_0x1677e7(0x3a5)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1677e7(0x3a5)}},'required':['questionText',_0x1677e7(0xa8d),_0x1677e7(0x4d2)]},_0x154216={'type':_0x1677e7(0x181),'properties':{'questions':{'type':'ARRAY','items':_0x3f5170}},'required':[_0x1677e7(0xcf9)]},_0x1bab39=await callAnalysisApi(_0x2164cc,_0x154216);_0x1bab39&&_0x1bab39[_0x1677e7(0xcf9)]&&_0x1bab39[_0x1677e7(0xcf9)][_0x1677e7(0xa25)](_0x3bfee7=>{const _0x3eeb43=_0x1677e7;if(_0x3bfee7[_0x3eeb43(0x4a6)](_0x3eeb43(0x52c))){const _0xed8fd7=String(_0x3bfee7['imageCode'])[_0x3eeb43(0xafd)]();(_0xed8fd7===''||_0xed8fd7[_0x3eeb43(0xa43)]()===_0x3eeb43(0xafa)||!_0xed8fd7[_0x3eeb43(0x1aa)](_0x3eeb43(0x9f5)))&&delete _0x3bfee7[_0x3eeb43(0x52c)];}});if(!_0x1bab39||!_0x1bab39[_0x1677e7(0xcf9)]||_0x1bab39[_0x1677e7(0xcf9)]['length']===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x26ca41=_0x1bab39[_0x1677e7(0xcf9)][_0x1677e7(0x9d3)]((_0x1b6439,_0x204c69)=>({..._0x1b6439,'id':'q_'+Date[_0x1677e7(0xdbe)]()+'_'+_0x204c69})),_0x2e76eb={'projectId':_0x439f97[_0x1677e7(0xa1f)],'quizType':_0x439f97[_0x1677e7(0xd83)],'settings':_0x439f97[_0x1677e7(0xadf)],'createdBy':_0x439f97[_0x1677e7(0xa5e)],'status':_0x1677e7(0x4c8),'topic':'(ฉบับง่าย)\x20'+_0x439f97['topic'],'questions':_0x26ca41,'createdAt':new Date()[_0x1677e7(0xd78)](),'quizMode':_0x1677e7(0x9ce),'pairedQuizId':null};let _0x4c7758;while(!![]){_0x4c7758=Math[_0x1677e7(0x36b)](0x3e8+Math['random']()*0x2328)['toString']();const _0x1dcdaf=await getDoc(doc(db,_0x1677e7(0x6de)+appId+_0x1677e7(0xde0),_0x4c7758));if(!_0x1dcdaf[_0x1677e7(0xc63)]())break;}await setDoc(doc(db,_0x1677e7(0x6de)+appId+'/public/data/quizzes',_0x4c7758),_0x2e76eb),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x2f9bce){console[_0x1677e7(0x7bc)](_0x1677e7(0x532),_0x2f9bce),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2f9bce[_0x1677e7(0xcee)]);}finally{const _0x5ed6ab=document[_0x1677e7(0x773)](_0x1677e7(0xe2));_0x5ed6ab&&_0x5ed6ab[_0x1677e7(0xa54)](),_0x50c9fe[_0x1677e7(0x985)][_0x1677e7(0xa54)]('hidden');}}async function generatePracticeQuestions(_0x2009ba){const _0x362c5d=_0x1d7cc9,_0x512889=_0x362c5d(0xa97)+_0x2009ba+_0x362c5d(0x546)+simpleMathPrompt+_0x362c5d(0x5e0),_0x4e9a0b={'type':_0x362c5d(0x181),'properties':{'questionText':{'type':_0x362c5d(0x3a5)},'options':{'type':'ARRAY','items':{'type':_0x362c5d(0x3a5)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x362c5d(0x3a5)}},'required':[_0x362c5d(0xc27),_0x362c5d(0x50b),_0x362c5d(0xc68),_0x362c5d(0x4d2)]},_0x3db764={'type':_0x362c5d(0x181),'properties':{'topic':{'type':_0x362c5d(0x3a5)},'questions':{'type':_0x362c5d(0x37c),'items':_0x4e9a0b}},'required':[_0x362c5d(0xa37),'questions']};return await callAnalysisApi(_0x512889,_0x3db764);}function displayLessonPlan(_0x1d1c20,_0xcc1f33){const _0x2afb4b=_0x1d7cc9,_0x3c8f22=_0x2afb4b(0x980)+_0xcc1f33[_0x2afb4b(0xa37)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x1d1c20[_0x2afb4b(0xdc5)][_0x2afb4b(0x9d3)](_0x3202b8=>_0x2afb4b(0xdd7)+_0x3202b8+'</li>')[_0x2afb4b(0x370)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x1d1c20[_0x2afb4b(0x9b8)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x1d1c20['practiceProblems'][_0x2afb4b(0x9d3)](_0x581da0=>_0x2afb4b(0x7a6)+_0x581da0[_0x2afb4b(0xa9f)]+_0x2afb4b(0x7f6)+_0x581da0[_0x2afb4b(0x57f)]+_0x2afb4b(0x700))[_0x2afb4b(0x370)]('')+_0x2afb4b(0x93e);document[_0x2afb4b(0x773)](_0x2afb4b(0x519))[_0x2afb4b(0xcd6)]=_0x2afb4b(0x7ac)+_0xcc1f33[_0x2afb4b(0xa37)],document['getElementById'](_0x2afb4b(0x864))[_0x2afb4b(0x8ec)]=_0x3c8f22,document[_0x2afb4b(0x773)](_0x2afb4b(0xc37))[_0x2afb4b(0x985)][_0x2afb4b(0xa54)](_0x2afb4b(0x806));if(window[_0x2afb4b(0x6a1)])MathJax[_0x2afb4b(0x7c9)]();}function displaySkillPracticeDrill(_0x7c40b1){const _0x42d5b2=_0x1d7cc9;let _0x40563b=0x0;const _0x4e9aba=_0x7c40b1[_0x42d5b2(0xcf9)],_0x3c1ab8=()=>{const _0x48eb4d=_0x42d5b2,_0x44d82e=_0x4e9aba[_0x40563b],_0xf9274d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x40563b+0x1)+_0x48eb4d(0x9fa)+_0x4e9aba['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x44d82e['questionText']+_0x48eb4d(0x7c8)+_0x44d82e['options'][_0x48eb4d(0x9d3)]((_0x146220,_0x1dada3)=>_0x48eb4d(0x629)+_0x1dada3+_0x48eb4d(0x109)+_0x1dada3+_0x48eb4d(0x165)+_0x1dada3+'\x22>'+_0x146220+_0x48eb4d(0xd39))[_0x48eb4d(0x370)]('')+_0x48eb4d(0x4cd);studentQuizArea['innerHTML']=_0xf9274d;if(window['MathJax'])MathJax[_0x48eb4d(0x7c9)]([studentQuizArea]);document[_0x48eb4d(0x773)]('hint-btn')[_0x48eb4d(0x6f7)](_0x48eb4d(0x2af),async()=>{const _0x347bc4=await getHintForQuestion(_0x44d82e['questionText']);showMessage(_0x347bc4);}),document[_0x48eb4d(0x773)](_0x48eb4d(0x987))[_0x48eb4d(0x6f7)]('click',()=>{const _0x17b1c9=_0x48eb4d,_0x1f55fd=document[_0x17b1c9(0x86f)]('input[name=\x22drill_answer\x22]:checked');if(!_0x1f55fd){showMessage(_0x17b1c9(0x2a1));return;}const _0x482c86=document['getElementById'](_0x17b1c9(0x5bd)),_0x52069a=parseInt(_0x1f55fd['value'])===_0x44d82e[_0x17b1c9(0xc68)];_0x52069a?(_0x482c86[_0x17b1c9(0xbb6)]=_0x17b1c9(0x7ef),_0x482c86[_0x17b1c9(0x8ec)]=_0x17b1c9(0xc22)+_0x44d82e[_0x17b1c9(0x4d2)]):(_0x482c86[_0x17b1c9(0xbb6)]=_0x17b1c9(0xaae),_0x482c86['innerHTML']='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x44d82e[_0x17b1c9(0x4d2)]);_0x482c86[_0x17b1c9(0x985)][_0x17b1c9(0xa54)]('hidden');if(window[_0x17b1c9(0x6a1)])MathJax[_0x17b1c9(0x7c9)]([_0x482c86]);document[_0x17b1c9(0x773)](_0x17b1c9(0x987))[_0x17b1c9(0x985)][_0x17b1c9(0xd0a)](_0x17b1c9(0x806)),document[_0x17b1c9(0x773)](_0x17b1c9(0x2b7))[_0x17b1c9(0x985)][_0x17b1c9(0xd0a)](_0x17b1c9(0x806)),document[_0x17b1c9(0x773)](_0x17b1c9(0x98f))[_0x17b1c9(0x985)][_0x17b1c9(0xa54)](_0x17b1c9(0x806));}),document[_0x48eb4d(0x773)]('next-drill-btn')['addEventListener']('click',()=>{const _0x603bd9=_0x48eb4d;_0x40563b++,_0x40563b<_0x4e9aba[_0x603bd9(0x5df)]?_0x3c1ab8():(studentQuizArea['innerHTML']=_0x603bd9(0x428),document[_0x603bd9(0x773)](_0x603bd9(0x1dc))[_0x603bd9(0x6f7)](_0x603bd9(0x2af),()=>{const _0x5e774b=_0x603bd9;studentQuizArea['classList'][_0x5e774b(0xd0a)](_0x5e774b(0x806)),studentResultArea[_0x5e774b(0x985)][_0x5e774b(0xa54)](_0x5e774b(0x806));}));});};_0x3c1ab8();}async function getHintForQuestion(_0x1b9a38){const _0x1c2c8c=_0x1d7cc9,_0x49a442='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x1b9a38+_0x1c2c8c(0xc9f),_0x16c17a={'type':_0x1c2c8c(0x181),'properties':{'hint':{'type':_0x1c2c8c(0x3a5)}},'required':[_0x1c2c8c(0x3f7)]};try{const _0x560f54=await callAnalysisApi(_0x49a442,_0x16c17a);return _0x560f54[_0x1c2c8c(0x3f7)];}catch(_0x33e045){return console[_0x1c2c8c(0x7bc)](_0x1c2c8c(0x753),_0x33e045),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x6b4ba9){const _0x209c9d=_0x1d7cc9;pdfjsLib['GlobalWorkerOptions'][_0x209c9d(0xce8)]=_0x209c9d(0x3dc);const _0x2fb41b=await _0x6b4ba9[_0x209c9d(0xb46)](),_0xa7839f=await pdfjsLib['getDocument'](_0x2fb41b)['promise'],_0x24d01a=_0xa7839f[_0x209c9d(0x56d)];let _0x59f42e='';for(let _0x98a519=0x1;_0x98a519<=_0x24d01a;_0x98a519++){const _0x3f584b=await _0xa7839f[_0x209c9d(0xb56)](_0x98a519),_0x1e1896=await _0x3f584b[_0x209c9d(0xa14)](),_0x12595f=_0x1e1896[_0x209c9d(0xe1d)][_0x209c9d(0x9d3)](_0x4e8f92=>_0x4e8f92['str'])[_0x209c9d(0x370)]('\x20');_0x59f42e+=_0x12595f+'\x0a\x0a';}return _0x59f42e;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x3fe758){const _0x51062e=_0x1d7cc9,_0x24946d=document['getElementById'](_0x51062e(0xc1e)),_0x25fbb2=document['getElementById'](_0x51062e(0x22b)),_0x58a1f5=document[_0x51062e(0x773)](_0x51062e(0xc9e));_0x24946d[_0x51062e(0x985)][_0x51062e(0xa54)](_0x51062e(0x806)),_0x25fbb2[_0x51062e(0x8ec)]=_0x51062e(0x2cc),_0x58a1f5[_0x51062e(0x985)][_0x51062e(0xd0a)](_0x51062e(0x806));try{const _0x369f49=_0x51062e(0x1ce)+_0x3fe758+_0x51062e(0x33c),_0x2792fa={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x51062e(0x3a5)},'curriculum':{'type':_0x51062e(0x37c),'items':{'type':'OBJECT','properties':{'sara':{'type':'STRING'},'mainTopics':{'type':'ARRAY','items':{'type':_0x51062e(0x181),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x51062e(0x37c),'items':{'type':_0x51062e(0x3a5)}}},'required':['topicName',_0x51062e(0x7d5)]}}},'required':[_0x51062e(0x4c9),'mainTopics']}}},'required':[_0x51062e(0x5ca),_0x51062e(0xd94)]},_0x25135b=await callAnalysisApi(_0x369f49,_0x2792fa);if(_0x25135b&&_0x25135b[_0x51062e(0xd94)])extractedBlueprintData=_0x25135b,renderBlueprintTopics(_0x25135b),_0x58a1f5[_0x51062e(0x985)][_0x51062e(0xa54)]('hidden');else throw new Error(_0x51062e(0x104));}catch(_0x2f07ad){console[_0x51062e(0x7bc)](_0x51062e(0xb4c),_0x2f07ad),_0x25fbb2[_0x51062e(0x8ec)]=_0x51062e(0x959);}}function renderBlueprintTopics(_0x478ac6){const _0x37a6fb=_0x1d7cc9,_0x5c389a=document['getElementById'](_0x37a6fb(0x22b)),_0x8809bd=_0x478ac6[_0x37a6fb(0x5ca)],_0x43e6e3='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0x8809bd+_0x37a6fb(0x886);let _0x429996='';_0x478ac6[_0x37a6fb(0xd94)][_0x37a6fb(0xa25)](_0x4cfdcc=>{const _0x271f4e=_0x37a6fb;_0x429996+=_0x271f4e(0xbaa)+_0x4cfdcc[_0x271f4e(0x4c9)]+_0x271f4e(0x8f2),_0x4cfdcc[_0x271f4e(0x586)]['forEach'](_0x2f41e2=>{const _0x4be946=_0x271f4e;_0x429996+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x2f41e2['topicName']+_0x4be946(0x26e),_0x2f41e2[_0x4be946(0x7d5)][_0x4be946(0xa25)](_0x3d7c8c=>{const _0x371fc5=_0x4be946;_0x429996+=_0x371fc5(0x158)+_0x3d7c8c['replace'](/'/g,'\x5c\x27')+_0x371fc5(0x39f)+_0x8809bd[_0x371fc5(0xc21)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x3d7c8c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x3d7c8c[_0x371fc5(0xc21)](/'/g,'\x5c\x27')+_0x371fc5(0x789);}),_0x429996+=_0x4be946(0x8fe);}),_0x429996+=_0x271f4e(0x1b1);}),_0x5c389a['innerHTML']=_0x43e6e3+_0x429996;}async function handleGenerateTeachingContent(_0xa2c149){const _0x3fbdb3=_0x1d7cc9,_0x4ff5ea=document[_0x3fbdb3(0x773)](_0x3fbdb3(0xc37)),_0x34fbb4=document['getElementById'](_0x3fbdb3(0x864));document['getElementById'](_0x3fbdb3(0x519))[_0x3fbdb3(0xcd6)]=_0x3fbdb3(0x767)+_0xa2c149,_0x34fbb4['innerHTML']=_0x3fbdb3(0xc2c),_0x4ff5ea[_0x3fbdb3(0x985)][_0x3fbdb3(0xa54)](_0x3fbdb3(0x806));try{const _0x50e5ba=_0x3fbdb3(0x91e)+_0xa2c149+_0x3fbdb3(0xa51),_0x4b176e={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x3fbdb3(0x37c),'items':{'type':_0x3fbdb3(0x3a5)}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x3fbdb3(0x3a5)}},'stepByStepExamples':{'type':_0x3fbdb3(0x37c),'items':{'type':_0x3fbdb3(0x181),'properties':{'question':{'type':_0x3fbdb3(0x3a5)},'solution':{'type':_0x3fbdb3(0x3a5)}},'required':[_0x3fbdb3(0xa9f),_0x3fbdb3(0x57f)]}},'teacherTips':{'type':_0x3fbdb3(0x37c),'items':{'type':_0x3fbdb3(0x3a5)}}},'required':[_0x3fbdb3(0x63e),'commonMistakes','stepByStepExamples',_0x3fbdb3(0xa87)]},_0x229ca3=await callAnalysisApi(_0x50e5ba,_0x4b176e);displayTeachingContent(_0x229ca3,_0xa2c149);}catch(_0x4b9235){console[_0x3fbdb3(0x7bc)](_0x3fbdb3(0x95e),_0x4b9235),_0x34fbb4[_0x3fbdb3(0x8ec)]=_0x3fbdb3(0x5ec)+_0x4b9235[_0x3fbdb3(0xcee)]+_0x3fbdb3(0xd28);}}function displayTeachingContent(_0x1be2e2,_0x1ac51b){const _0x347847=_0x1d7cc9,_0x586597=document[_0x347847(0x773)](_0x347847(0x864));document[_0x347847(0x773)](_0x347847(0x519))[_0x347847(0xcd6)]='เนื้อหาสำหรับสอน:\x20'+_0x1ac51b;const _0x3d66a1=_0x347847(0xd93)+_0x1be2e2['keyConcepts']['map'](_0x351ee9=>_0x347847(0xdd7)+_0x351ee9+_0x347847(0xd2a))[_0x347847(0x370)]('')+_0x347847(0x994)+_0x1be2e2['commonMistakes'][_0x347847(0x9d3)](_0x3173a3=>'<li>'+_0x3173a3+_0x347847(0xd2a))[_0x347847(0x370)]('')+_0x347847(0xaa5)+_0x1be2e2['stepByStepExamples'][_0x347847(0x9d3)](_0x2b3862=>_0x347847(0xa95)+_0x2b3862[_0x347847(0xa9f)]+_0x347847(0x2eb)+_0x2b3862[_0x347847(0x57f)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x347847(0x370)]('')+_0x347847(0x884)+_0x1be2e2['teacherTips']['map'](_0x25116f=>_0x347847(0xdd7)+_0x25116f+_0x347847(0xd2a))['join']('')+_0x347847(0xdcb);_0x586597[_0x347847(0x8ec)]=_0x3d66a1;if(window[_0x347847(0x6a1)])MathJax[_0x347847(0x7c9)]([_0x586597]);}async function generateQuizForSingleTopic(_0x46ac51){const _0x4fd638=_0x1d7cc9;console[_0x4fd638(0xe59)](_0x4fd638(0x552)+_0x46ac51+'\x22');const _0x4c3be0=document[_0x4fd638(0x773)](_0x4fd638(0x503)),_0x4bd5a7=_0x4c3be0[_0x4fd638(0x735)][_0x4fd638(0x5df)]>0x0?_0x4c3be0[_0x4fd638(0x735)][0x0]:null;let _0x202ba2=null;if(_0x4bd5a7)try{const _0x5a4e0d=new FileReader();_0x5a4e0d['readAsDataURL'](_0x4bd5a7);const _0x194b19=await new Promise((_0x12ec54,_0x41d970)=>{const _0x3d074e=_0x4fd638;_0x5a4e0d['onload']=()=>_0x12ec54(_0x5a4e0d[_0x3d074e(0xa53)][_0x3d074e(0xa50)](',')[0x1]),_0x5a4e0d[_0x3d074e(0xdaa)]=_0x326302=>_0x41d970(_0x326302);});_0x202ba2=[{'inlineData':{'mimeType':_0x4bd5a7['type'],'data':_0x194b19}}];}catch(_0x45ec00){console[_0x4fd638(0x7bc)](_0x4fd638(0xc9b),_0x45ec00),showMessage(_0x4fd638(0xde4));return;}generateQuiz(_0x46ac51,null,null,_0x202ba2,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x1c3310=null){const _0x11d9f8=_0x1d7cc9,_0x38c7b7=document['getElementById']('loader'),_0x2b9453=document[_0x11d9f8(0x773)](_0x11d9f8(0x815));let _0x57bf36,_0x38ebbd=[];if(_0x1c3310)_0x57bf36=_0x1c3310,_0x38ebbd=_0x57bf36['slice'](0x2);else{const _0x4257a2=document[_0x11d9f8(0x773)](_0x11d9f8(0x955)),_0x567dc0=document[_0x11d9f8(0x773)](_0x11d9f8(0x503)),_0x1e36c1=_0x4257a2[_0x11d9f8(0x735)][0x0];if(!_0x1e36c1){showMessage(_0x11d9f8(0x7c6));return;}_0x2b9453[_0x11d9f8(0xcd6)]=_0x11d9f8(0x72e);const _0x3fc40e=await new Promise((_0x5356be,_0xc5ee9d)=>{const _0x2178e2=_0x11d9f8,_0xcfb95=new FileReader();_0xcfb95[_0x2178e2(0x15f)](_0x1e36c1),_0xcfb95[_0x2178e2(0x4c6)]=()=>_0x5356be(_0xcfb95[_0x2178e2(0xa53)][_0x2178e2(0xa50)](',')[0x1]),_0xcfb95[_0x2178e2(0xdaa)]=_0xc5ee9d;});_0x57bf36=[{'text':_0x11d9f8(0x46d)},{'inlineData':{'mimeType':_0x1e36c1['type'],'data':_0x3fc40e}}];if(_0x567dc0['files'][_0x11d9f8(0x5df)]>0x0){const _0x2cd723=_0x567dc0['files'][0x0];_0x2b9453[_0x11d9f8(0xcd6)]=_0x11d9f8(0x936);const _0x516f87=await new Promise((_0x1cd948,_0x336d8f)=>{const _0x19599e=_0x11d9f8,_0x20d4b6=new FileReader();_0x20d4b6[_0x19599e(0x15f)](_0x2cd723),_0x20d4b6[_0x19599e(0x4c6)]=()=>_0x1cd948(_0x20d4b6[_0x19599e(0xa53)][_0x19599e(0xa50)](',')[0x1]),_0x20d4b6[_0x19599e(0xdaa)]=_0x336d8f;}),_0x470f95={'inlineData':{'mimeType':_0x2cd723[_0x11d9f8(0x900)],'data':_0x516f87}};_0x57bf36['push'](_0x470f95),_0x38ebbd[_0x11d9f8(0x65b)](_0x470f95);}}const _0x3af785=_0x11d9f8(0xa5b),_0xcf27ed='\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20';let _0x954c50='';_0x38ebbd&&_0x38ebbd[_0x11d9f8(0x5df)]>0x0?_0x954c50=_0x3af785:_0x954c50=_0xcf27ed;const _0xa4aca8='\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a'+_0x954c50+_0x11d9f8(0xf6),_0xd1801b={'type':_0x11d9f8(0x181),'properties':{'questionText':{'type':_0x11d9f8(0x3a5)},'questionType':{'type':_0x11d9f8(0x3a5),'enum':['multiple_choice',_0x11d9f8(0x33a),'true_false','matching_item']},'options':{'type':_0x11d9f8(0x37c),'items':{'type':_0x11d9f8(0x3a5)}},'correctAnswerIndex':{'type':_0x11d9f8(0x1b3)},'idealAnswer':{'type':_0x11d9f8(0x3a5)},'correctAnswer':{'type':_0x11d9f8(0xae5)},'explanation':{'type':_0x11d9f8(0x3a5)},'imageCode':{'type':'STRING'}},'required':[_0x11d9f8(0xa8d),_0x11d9f8(0x4d2)]},_0x3d1fad={'type':_0x11d9f8(0x181),'properties':{'topic':{'type':_0x11d9f8(0x3a5)},'questions':{'type':_0x11d9f8(0x37c),'items':_0xd1801b}},'required':[_0x11d9f8(0xa37),_0x11d9f8(0xcf9)]};_0x57bf36[0x0]['text']=_0xa4aca8,await handleApiCall(_0x57bf36,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x3d1fad);}function proceedToNextQuestion(_0x2accbb){const _0x636c07=_0x1d7cc9;studentAnswersPerQuestion[_0x636c07(0x65b)](_0x2accbb),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x636c07(0x5df)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x25de59,_0x4f263e,_0x3ecaa2){const _0x39f7a5=_0x1d7cc9,_0x4b6540=Object['values'](_0x25de59[_0x39f7a5(0x10d)]||{}),_0xd60b2d=_0x4b6540[_0x39f7a5(0x5df)],_0x16bdf5=_0x3ecaa2,_0x3c8dbc=_0x25de59[_0x39f7a5(0x6fa)]||_0x39f7a5(0x486),_0x36e3c1=_0x3c8dbc===_0x39f7a5(0x2b8)||_0x3c8dbc===_0x39f7a5(0x263),_0x2169e1=_0x3c8dbc===_0x39f7a5(0xe65)||_0x3c8dbc===_0x39f7a5(0x263),_0x496376=_0x25de59[_0x39f7a5(0x8cf)]===!![],_0xeea5a6=_0x3c8dbc===_0x39f7a5(0x346),_0x2f813e=_0x25de59['shuffledQuiz']['questions'],_0x146b1c=_0x2f813e[_0x16bdf5],_0x2f0a18=_0xe84bc4=>String['fromCharCode'](0x41+_0xe84bc4),_0x135ce1=_0x4b6540['map'](_0x425aa3=>{const _0xc8bbb8=_0x39f7a5,_0x16e6fb=(_0x425aa3['answers']||[])['filter'](_0x4eb0da=>{const _0x4cd923=_0x5842;if(_0x2169e1)return _0x4eb0da[_0x4cd923(0x550)]<=_0x16bdf5;return!![];});let _0x438c12=0x0,_0x25b93d=0x0;_0x2169e1?(_0x438c12=_0x16e6fb[_0xc8bbb8(0x485)](_0x2d982d=>_0x2d982d[_0xc8bbb8(0x17c)])[_0xc8bbb8(0x5df)],_0x25b93d=_0x16e6fb['reduce']((_0x7c0725,_0x2832da)=>_0x7c0725+(_0x2832da[_0xc8bbb8(0x747)]||0x0),0x0)):(_0x438c12=_0x425aa3[_0xc8bbb8(0x5f8)]||0x0,_0x25b93d=_0x425aa3[_0xc8bbb8(0x7f7)]||0x0);const _0x303445=[..._0x16e6fb][_0xc8bbb8(0xc1c)]((_0x1401bb,_0x12981b)=>_0x1401bb[_0xc8bbb8(0x550)]-_0x12981b[_0xc8bbb8(0x550)]);let _0x303395=0x0;return _0x303445['forEach'](_0x5d30a8=>{const _0x90e338=_0xc8bbb8,_0x10d932=_0x5d30a8[_0x90e338(0x1a3)]&&_0x5d30a8[_0x90e338(0x1a3)]!=='wagerMultiplier'||_0x5d30a8[_0x90e338(0x9ed)];_0x5d30a8['isCorrect']?_0x10d932?_0x303395=0x0:_0x303395++:_0x303395=0x0;}),{..._0x425aa3,'realScore':_0x438c12,'totalPoints':_0x25b93d,'answers':_0x16e6fb,'correctStreak':_0x303395};}),_0x478f93=Math[_0x39f7a5(0x98d)](..._0x135ce1[_0x39f7a5(0x9d3)](_0xde5b45=>_0xde5b45['totalPoints']),-Infinity),_0x346082=Math[_0x39f7a5(0x98d)](..._0x135ce1[_0x39f7a5(0x9d3)](_0x1b6b6e=>_0x1b6b6e[_0x39f7a5(0x930)]),-Infinity),_0x32348a=_0x25de59[_0x39f7a5(0x75d)]===!![],_0x16567e=[..._0x135ce1][_0x39f7a5(0xc1c)]((_0x34bf1f,_0x5f198c)=>{const _0xf208c2=_0x39f7a5;if(_0x32348a){const _0x2c08b5=_0x5f198c[_0xf208c2(0x7f7)]-_0x34bf1f[_0xf208c2(0x7f7)];if(_0x2c08b5!==0x0)return _0x2c08b5;const _0xa75dbc=_0x5f198c['realScore']-_0x34bf1f[_0xf208c2(0x930)];if(_0xa75dbc!==0x0)return _0xa75dbc;return(_0x34bf1f['name']||'')[_0xf208c2(0xbbb)](_0x5f198c[_0xf208c2(0xb30)]||'','th');}else{const _0x2c6dd4=_0x5f198c[_0xf208c2(0x7f7)]-_0x34bf1f['totalPoints'];if(_0x2c6dd4!==0x0)return _0x2c6dd4;const _0x23e017=_0x5f198c[_0xf208c2(0x930)]-_0x34bf1f[_0xf208c2(0x930)];if(_0x23e017!==0x0)return _0x23e017;return(_0x34bf1f['name']||'')[_0xf208c2(0xbbb)](_0x5f198c['name']||'','th');}});let _0x1dbb65='';const _0x39fffb=!_0xeea5a6&&!(_0x36e3c1&&_0x25de59[_0x39f7a5(0x891)]===![]);if(_0x146b1c&&_0x39fffb){let _0x5508fd='',_0x2d7cab='';const _0x4ef158=_0x146b1c[_0x39f7a5(0xa8d)]||_0x25de59['shuffledQuiz']['quizType'];if(_0x4ef158===_0x39f7a5(0xbed)&&_0x146b1c[_0x39f7a5(0x50b)]){const _0x28d50d=_0x146b1c[_0x39f7a5(0xc68)];_0x5508fd=_0x146b1c['options'][_0x28d50d],_0x2d7cab=_0x2f0a18(_0x28d50d)+'.';}else{if(_0x4ef158===_0x39f7a5(0xc39)){const _0x4d36cc=String(_0x146b1c[_0x39f7a5(0x77e)])[_0x39f7a5(0xa43)]()==='true';_0x5508fd=_0x4d36cc?_0x39f7a5(0x1bc):'ไม่ใช่\x20/\x20ผิด',_0x2d7cab=_0x4d36cc?'ก.':'ข.';}else{if(_0x4ef158==='matching_item')_0x5508fd=_0x146b1c[_0x39f7a5(0x8e3)]||'-';else(_0x4ef158===_0x39f7a5(0x33a)||_0x4ef158===_0x39f7a5(0x488))&&(_0x5508fd=_0x146b1c[_0x39f7a5(0x4b9)]||'-');}}_0x5508fd&&(_0x1dbb65='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20'+(_0x16bdf5+0x1)+_0x39f7a5(0x5d5)+_0x2d7cab+'\x20'+_0x5508fd+_0x39f7a5(0xd50));}const _0x5101f2=_0x16567e['map']((_0x4ea7f1,_0x13c7f3)=>{const _0x139166=_0x39f7a5,_0x2cd6f0=_0x4ea7f1[_0x139166(0x930)],_0x12aa5f=_0x4ea7f1['totalPoints'],_0x3e0502=(_0x4ea7f1['answers']||[])[_0x139166(0x15b)](_0x1f1fb3=>_0x1f1fb3['questionIndex']===_0x3ecaa2),_0x50fe74=_0x4ea7f1[_0x139166(0x382)][_0x139166(0x5df)];let _0x42a66d='';if(_0x3e0502){if(_0x3e0502[_0x139166(0x6eb)])_0x42a66d+=_0x139166(0x646);if(_0x3e0502[_0x139166(0xe20)])_0x42a66d+='<span\x20title=\x22โดนคำสาป\x22>😈</span>';if(_0x3e0502[_0x139166(0x9ed)])_0x42a66d+=_0x139166(0xd1a);const _0x2cc0b8=_0x3e0502[_0x139166(0x1a3)];if(_0x2cc0b8){const _0x39a411={'poll':'📊','cutOne':'✂️','insurance':_0x139166(0x898),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x139166(0xc8b)};if(_0x39a411[_0x2cc0b8])_0x42a66d+='<span\x20title=\x22ใช้ไอเทม\x22>'+_0x39a411[_0x2cc0b8]+_0x139166(0xe54);}}let _0x20575f='';const _0x45be60=_0x4ea7f1['correctStreak']||0x0,_0x4e86c5=_0x3e0502&&_0x3e0502[_0x139166(0x9ed)],_0x563599=_0x3e0502&&_0x3e0502[_0x139166(0x1a3)]&&_0x3e0502[_0x139166(0x1a3)]!==_0x139166(0x18f);!_0xeea5a6&&_0x45be60>=0x3&&!_0x4e86c5&&!_0x563599&&(_0x20575f+=_0x139166(0x4d4)+_0x45be60+_0x139166(0xe54));if(!_0xeea5a6&&_0x50fe74>0x0){if(_0x32348a){if(_0x12aa5f===_0x478f93&&_0x478f93>0x0)_0x20575f+=_0x139166(0x59c);if(_0x2cd6f0===_0x346082&&_0x346082>0x0)_0x20575f+=_0x139166(0x92c);}else{const _0x2ef3e2=_0x4ea7f1[_0x139166(0x930)]===_0x3ecaa2+0x1;if(_0x2ef3e2)_0x20575f+=_0x139166(0x18c);}if(_0x20575f===''&&_0x12aa5f<0x0)_0x20575f+='<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>';}let _0x421505=_0x139166(0xc1d),_0x5b080d=![],_0x525e91=![];if(!_0xeea5a6){const _0x4a72fc=(_0x4ea7f1['answers']||[])[_0x139166(0x15b)](_0x1ce70f=>_0x1ce70f[_0x139166(0x550)]===_0x16bdf5);if(_0x4a72fc){const _0x4e389c=_0x4a72fc[_0x139166(0x17c)],_0x14c120=_0x4a72fc[_0x139166(0x456)]===!![]||_0x4a72fc[_0x139166(0x456)]===_0x139166(0x5c9),_0x1e3f54=_0x4a72fc[_0x139166(0x1a3)];if(_0x1e3f54===_0x139166(0x18f))_0x4e389c?(_0x421505=_0x139166(0x70e),_0x5b080d=!![]):(_0x421505=_0x139166(0xdd6),_0x525e91=!![]);else{if(_0x14c120)_0x421505=_0x4e389c?_0x139166(0xc3f):_0x139166(0x819);else _0x4e389c&&(_0x421505='bg-[#DCFCE7]\x20text-green-900');}}}let _0x32a9aa='';const _0x20d906=_0x4ea7f1[_0x139166(0xb30)],_0x5f5a3f=_0x25de59['playerNicknames'][_0x4ea7f1[_0x139166(0xb30)]]||_0x139166(0x1d2),_0xe66f80=_0x139166(0x5bc),_0x59fd1a='word-break:\x20break-all;',_0x13b4a3=_0x5b080d?_0x139166(0x22c):'text-gray-300';let _0x3536ec='';const _0x442d69=_0x12aa5f>=0x0?'(+'+_0x12aa5f[_0x139166(0x990)]()+')':'('+_0x12aa5f[_0x139166(0x990)]()+')',_0x45ff43=_0x139166(0x53d)+_0x2cd6f0+_0x139166(0x41e)+_0x442d69+'</span>';if(_0x4f263e){if(_0x36e3c1&&!_0x496376)_0x525e91?_0x32a9aa=_0x139166(0x750)+_0xe66f80+_0x139166(0xe63)+_0x20d906+'\x20('+_0x5f5a3f+_0x139166(0xbbc)+_0x59fd1a+'\x22>'+_0x20d906+'</span>\x20'+_0x42a66d+'\x20'+_0x20575f+'<span\x20class=\x22block\x20text-sm\x20'+_0x13b4a3+'\x22\x20style=\x22'+_0x59fd1a+_0x139166(0xb2c)+_0x5f5a3f+')</span></div>':_0x32a9aa=_0x139166(0x750)+_0xe66f80+'\x22\x20title=\x22'+_0x5f5a3f+_0x139166(0xe26)+_0x59fd1a+'\x22>'+_0x5f5a3f+'</span>\x20'+_0x42a66d+'\x20'+_0x20575f+_0x139166(0x1b1),_0x3536ec=_0x45ff43;else{if(_0x36e3c1&&_0x496376)_0x32a9aa=_0x139166(0x750)+_0xe66f80+_0x139166(0xe63)+_0x20d906+_0x139166(0xe26)+_0x59fd1a+'\x22>'+_0x20d906+'</span>\x20'+_0x42a66d+'\x20'+_0x20575f+_0x139166(0x256)+_0x13b4a3+_0x139166(0x196)+_0x59fd1a+_0x139166(0xb2c)+_0x5f5a3f+_0x139166(0x5d2),_0x3536ec=_0x45ff43;else _0xeea5a6?(_0x32a9aa=_0x139166(0x750)+_0xe66f80+_0x139166(0xe63)+_0x20d906+_0x139166(0xe26)+_0x59fd1a+'\x22>'+_0x20d906+_0x139166(0xcb0)+_0x42a66d+'\x20'+_0x20575f+_0x139166(0x1b1),_0x3536ec=''):(_0x32a9aa=_0x139166(0x750)+_0xe66f80+_0x139166(0xe63)+_0x20d906+_0x139166(0xe26)+_0x59fd1a+'\x22>'+_0x20d906+_0x139166(0xcb0)+_0x42a66d+'\x20'+_0x20575f+_0x139166(0x1b1),_0x3536ec=_0x45ff43);}}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x421505+_0x139166(0x173)+(_0x13c7f3+0x1)+_0x139166(0x6b5)+_0x32a9aa+_0x139166(0x7f8)+_0x3536ec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x39f7a5(0x370)](''),_0x4646b1=_0x2f813e[_0x39f7a5(0x9d3)]((_0x2d29cf,_0x237940)=>{const _0x5009b3=_0x39f7a5;if(_0x2169e1&&_0x237940>_0x16bdf5||_0xeea5a6)return'';const _0x3c5124=_0x135ce1[_0x5009b3(0x485)](_0x1092c0=>_0x1092c0[_0x5009b3(0x382)]&&_0x1092c0[_0x5009b3(0x382)][_0x5009b3(0x15b)](_0xdeeeb0=>_0xdeeeb0[_0x5009b3(0x550)]===_0x237940&&_0xdeeeb0[_0x5009b3(0x17c)]))[_0x5009b3(0x5df)],_0x2df5a2=_0x237940===_0x16bdf5,_0x2af68e=_0x2df5a2?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x5009b3(0x5eb);return _0x5009b3(0x207)+_0x2af68e+_0x5009b3(0x6ec)+(_0x237940+0x1)+_0x5009b3(0x9bf)+_0x3c5124+_0x5009b3(0x9fa)+_0xd60b2d+_0x5009b3(0x408);})['join']('');let _0x15aa68='',_0x4f996a='';if(_0x4f263e){const _0x527cf5=_0x3c8dbc==='classic'&&_0x25de59[_0x39f7a5(0x393)]>=_0x2f813e[_0x39f7a5(0x5df)]-0x1,_0xfd0474=_0x2169e1&&_0x25de59['reviewQuestionIndex']>=_0x2f813e[_0x39f7a5(0x5df)]-0x1,_0x3123a9=_0x3c8dbc===_0x39f7a5(0x346)&&_0x25de59[_0x39f7a5(0x393)]>=_0x2f813e['length']-0x1,_0x34c243=_0x36e3c1&&!_0x2169e1&&_0x25de59[_0x39f7a5(0x393)]>=_0x2f813e[_0x39f7a5(0x5df)]-0x1;if(_0x2169e1)_0xfd0474?_0x36e3c1&&!_0x496376?_0x15aa68=_0x39f7a5(0x953):_0x15aa68='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>':_0x15aa68=_0x39f7a5(0x126);else _0x527cf5||_0x3123a9||_0x34c243?_0x36e3c1&&!_0x496376?_0x15aa68=_0x39f7a5(0x953):_0x15aa68=_0x39f7a5(0x7f2):_0x15aa68=_0x39f7a5(0x48e);_0x4f996a=_0x39f7a5(0x8d1);}const _0x4f9c33=_0xeea5a6||_0x36e3c1&&!_0x25de59[_0x39f7a5(0x891)]?'':_0x39f7a5(0xcda)+_0x4646b1+_0x39f7a5(0x8fe),_0x26b5b8=_0xeea5a6||_0x36e3c1&&!_0x25de59['showAnswerInAnonymous']?_0x39f7a5(0x97a):'md:col-span-1',_0x464692='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x25de59[_0x39f7a5(0x142)][_0x39f7a5(0xa37)]+_0x39f7a5(0x707)+_0x25de59[_0x39f7a5(0xd22)]+_0x39f7a5(0x9ca)+_0x4f996a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1dbb65+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x26b5b8+'\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x5101f2||_0x39f7a5(0xe3a))+_0x39f7a5(0xb60)+_0x4f9c33+_0x39f7a5(0x139)+(_0x4f263e?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x15aa68+_0x39f7a5(0x1b1):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x39f7a5(0x8ec)]=_0x464692;if(window[_0x39f7a5(0x6a1)]){const _0x69e380=document[_0x39f7a5(0x773)](_0x39f7a5(0xcb5));_0x69e380&&MathJax['typesetPromise']([_0x69e380]);}if(_0x4f263e){const _0x587f14=document[_0x39f7a5(0x773)](_0x39f7a5(0xc9a));_0x587f14&&(_0x587f14[_0x39f7a5(0xb4f)]=async()=>{const _0x43d844=_0x39f7a5,_0x44a15e=doc(db,'artifacts/'+appId+_0x43d844(0x782),currentLiveGameId),_0x548506=_0x25de59[_0x43d844(0x393)]+0x1,_0x1e8a27=_0x25de59['shuffledQuiz'][_0x43d844(0xcf9)]['length'];!_0x2169e1&&_0x548506<_0x1e8a27?await updateDoc(_0x44a15e,{'status':_0x43d844(0xa9f),'currentQuestionIndex':_0x548506,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x44a15e,{'status':_0x43d844(0x66f)});});const _0x21fd68=document[_0x39f7a5(0x773)]('next-review-question-btn');_0x21fd68&&(_0x21fd68[_0x39f7a5(0xb4f)]=async()=>{const _0x148c95=_0x39f7a5,_0x175e16=doc(db,_0x148c95(0x6de)+appId+_0x148c95(0x782),currentLiveGameId);await updateDoc(_0x175e16,{'reviewQuestionIndex':increment(0x1)});});document[_0x39f7a5(0x773)]('reveal-names-btn')?.[_0x39f7a5(0x6f7)](_0x39f7a5(0x2af),async()=>{const _0x123097=_0x39f7a5;await updateDoc(doc(db,_0x123097(0x6de)+appId+_0x123097(0x782),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x5d897d=document[_0x39f7a5(0x773)]('end-sync-game-btn');_0x5d897d&&(_0x5d897d[_0x39f7a5(0xb4f)]=()=>{const _0x413af9=_0x39f7a5;showConfirmation(_0x413af9(0x5c0),async()=>{const _0x102b5d=_0x413af9;await updateDoc(doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),{'status':_0x102b5d(0x66f)});});});}}async function handleGenerateParallelFromBank(_0xef96cb){const _0x2ec935=_0x1d7cc9,_0x2706bc=document[_0x2ec935(0x773)](_0x2ec935(0x37e)),_0x5f23fb=document[_0x2ec935(0x773)](_0x2ec935(0xb9c));_0x5f23fb['classList'][_0x2ec935(0xd0a)](_0x2ec935(0x806));const _0x59696b=_0x2ec935(0x2be)+_0xef96cb[_0x2ec935(0xa37)]+_0x2ec935(0x214);_0x2706bc[_0x2ec935(0x5c1)]('beforeend',_0x59696b);const _0x4ebbd7=document[_0x2ec935(0x773)]('temp-loader-text-results');try{const _0x684ca=_0xef96cb['questions'][_0x2ec935(0x9d3)]((_0x3f4973,_0x56e913)=>{const _0xc6441e=_0x2ec935;let _0x3ca3d1=_0x56e913+0x1+'.\x20'+(_0x3f4973[_0xc6441e(0xc27)]||_0x3f4973[_0xc6441e(0x43c)])+'\x0a';if(_0x3f4973[_0xc6441e(0x50b)])_0x3ca3d1+=_0x3f4973['options'][_0xc6441e(0x9d3)]((_0x415443,_0x4c02e3)=>'\x20\x20\x20-\x20'+(_0x4c02e3===_0x3f4973[_0xc6441e(0xc68)]?'[*]':'')+'\x20'+_0x415443)[_0xc6441e(0x370)]('\x0a');else _0x3f4973[_0xc6441e(0x4b9)]&&(_0x3ca3d1+=_0xc6441e(0x9ba)+_0x3f4973[_0xc6441e(0x4b9)]);return _0x3ca3d1;})[_0x2ec935(0x370)]('\x0a\x0a');_0x4ebbd7['textContent']=_0x2ec935(0xdd8);const _0x3f9cb9=_0x2ec935(0x3ed)+_0xef96cb[_0x2ec935(0xa37)]+_0x2ec935(0xbcf)+_0x684ca+_0x2ec935(0x617)+simpleMathPrompt+_0x2ec935(0x8ca),_0x4ebb8e={'type':_0x2ec935(0x181),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x2ec935(0xbed),'short_answer','true_false','matching_item']},'options':{'type':_0x2ec935(0x37c),'items':{'type':_0x2ec935(0x3a5)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x2ec935(0x3a5)},'correctAnswer':{'type':_0x2ec935(0xae5)},'stem':{'type':_0x2ec935(0x3a5)},'correctResponse':{'type':_0x2ec935(0x3a5)},'allResponses':{'type':_0x2ec935(0x37c),'items':{'type':_0x2ec935(0x3a5)}},'explanation':{'type':_0x2ec935(0x3a5)},'imageCode':{'type':_0x2ec935(0x3a5)}},'required':[_0x2ec935(0xa8d),_0x2ec935(0x4d2)]},_0x421e2d={'type':_0x2ec935(0x181),'properties':{'topic':{'type':_0x2ec935(0x3a5)},'questions':{'type':_0x2ec935(0x37c),'items':_0x4ebb8e}},'required':[_0x2ec935(0xa37),_0x2ec935(0xcf9)]},_0x5eb300=await callAnalysisApi(_0x3f9cb9,_0x421e2d),_0x5d67d6=_0x5eb300[_0x2ec935(0xcf9)][_0x2ec935(0x9d3)]((_0xac46a0,_0x15e2a5)=>({..._0xac46a0,'id':'q_'+Date[_0x2ec935(0xdbe)]()+'_'+_0x15e2a5})),_0x5c0689=_0x2ec935(0x15d)+_0xef96cb[_0x2ec935(0xa37)],_0x4916e2={'topic':_0x5c0689,'questions':_0x5d67d6,'quizType':_0xef96cb[_0x2ec935(0xd83)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2ec935(0xd78)](),'status':_0x2ec935(0x4c8),'settings':_0xef96cb[_0x2ec935(0xadf)],'quizMode':_0x2ec935(0x9ce),'pairedQuizId':null,'lessonPlan':null};let _0x163467;while(!![]){_0x163467=Math[_0x2ec935(0x36b)](0x3e8+Math[_0x2ec935(0xa75)]()*0x2328)['toString']();const _0x11bc1e=await getDoc(doc(db,_0x2ec935(0x6de)+appId+'/public/data/quizzes',_0x163467));if(!_0x11bc1e['exists']())break;}await setDoc(doc(db,_0x2ec935(0x6de)+appId+'/public/data/quizzes',_0x163467),_0x4916e2),showMessage(_0x2ec935(0x7dc));}catch(_0x3601ea){console['error']('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x3601ea),showMessage(_0x2ec935(0x8ae)+_0x3601ea['message']);}finally{const _0x3c533e=document[_0x2ec935(0x773)](_0x2ec935(0xe2));_0x3c533e&&_0x3c533e[_0x2ec935(0xa54)](),_0x5f23fb['classList']['remove'](_0x2ec935(0x806));}}async function handleGenerateParallelPostTest(_0x50ae90){const _0x2a20cc=_0x1d7cc9,_0x328634=document[_0x2a20cc(0x773)](_0x2a20cc(0x37e)),_0x3d5587=document[_0x2a20cc(0x773)](_0x2a20cc(0xb9c));_0x3d5587[_0x2a20cc(0x985)]['add']('hidden');const _0x6ab9d=_0x2a20cc(0xe0);_0x328634[_0x2a20cc(0x5c1)]('beforeend',_0x6ab9d);try{const _0x3e9610=_0x50ae90[_0x2a20cc(0xcf9)][_0x2a20cc(0x9d3)]((_0x468961,_0x354dc0)=>{const _0x3827fc=_0x2a20cc;let _0x253380=_0x354dc0+0x1+'.\x20'+(_0x468961[_0x3827fc(0xc27)]||_0x468961[_0x3827fc(0x43c)]);if(_0x468961[_0x3827fc(0x50b)])_0x253380+=_0x3827fc(0x400)+_0x468961['options'][_0x3827fc(0x370)](',\x20');return _0x253380;})[_0x2a20cc(0x370)]('\x0a\x0a'),_0x5e8d58=_0x2a20cc(0x6d6)+_0x50ae90[_0x2a20cc(0xa37)]+_0x2a20cc(0x5a8)+_0x3e9610+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x2a20cc(0x8ca),_0x572f82={'type':'OBJECT','properties':{'topic':{'type':_0x2a20cc(0x3a5)},'questions':{'type':_0x2a20cc(0x37c),'items':{'type':_0x2a20cc(0x181),'properties':{'questionText':{'type':_0x2a20cc(0x3a5)},'questionType':{'type':_0x2a20cc(0x3a5)},'options':{'type':_0x2a20cc(0x37c),'items':{'type':_0x2a20cc(0x3a5)}},'correctAnswerIndex':{'type':_0x2a20cc(0x1b3)},'idealAnswer':{'type':_0x2a20cc(0x3a5)},'explanation':{'type':_0x2a20cc(0x3a5)}},'required':[_0x2a20cc(0xc27),_0x2a20cc(0x4d2)]}}},'required':[_0x2a20cc(0xa37),_0x2a20cc(0xcf9)]},_0xd312d3=await callAnalysisApi(_0x5e8d58,_0x572f82),_0x5e68de=_0x50ae90[_0x2a20cc(0xa37)]['replace'](_0x2a20cc(0xe44),'')[_0x2a20cc(0xafd)](),_0x4dbb1a='(หลังเรียน)\x20'+_0x5e68de,_0x2109f2={..._0xd312d3,'topic':_0x4dbb1a,'quizType':_0x50ae90['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x2a20cc(0x4c8),'settings':_0x50ae90[_0x2a20cc(0xadf)],'quizMode':_0x2a20cc(0x98a),'pairedQuizId':_0x50ae90['id']};let _0x3d7127;while(!![]){_0x3d7127=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();const _0xf701e3=await getDoc(doc(db,_0x2a20cc(0x6de)+appId+_0x2a20cc(0xde0),_0x3d7127));if(!_0xf701e3[_0x2a20cc(0xc63)]())break;}await setDoc(doc(db,_0x2a20cc(0x6de)+appId+'/public/data/quizzes',_0x3d7127),_0x2109f2);const _0x323933=doc(db,_0x2a20cc(0x6de)+appId+_0x2a20cc(0xde0),_0x50ae90['id']);await updateDoc(_0x323933,{'pairedQuizId':_0x3d7127}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0xb1eb03){console[_0x2a20cc(0x7bc)](_0x2a20cc(0x7c5),_0xb1eb03),showMessage(_0x2a20cc(0x8ae)+_0xb1eb03[_0x2a20cc(0xcee)]);}finally{const _0x1b779f=document['getElementById'](_0x2a20cc(0xe2));if(_0x1b779f)_0x1b779f[_0x2a20cc(0xa54)]();_0x3d5587['classList']['remove'](_0x2a20cc(0x806));}}async function handleGenerateParallelTest(_0x51ddbb=null){const _0x786569=_0x1d7cc9;let _0x211b7d=_0x51ddbb;if(!_0x211b7d){const _0x55861c=document['getElementById'](_0x786569(0x9b7));_0x55861c[_0x786569(0x735)][_0x786569(0x5df)]>0x0&&(_0x211b7d=_0x55861c[_0x786569(0x735)][0x0]);}if(!_0x211b7d){showMessage(_0x786569(0xc4d));return;}const _0x4c463a=document[_0x786569(0x773)](_0x786569(0x388)),_0x18e70e=document[_0x786569(0x773)]('loader-text'),_0x34d615=document[_0x786569(0x773)]('generated-quiz-container'),_0x2530c5=document['getElementById'](_0x786569(0xbd4));_0x2530c5[_0x786569(0x67a)]=!![],document['getElementById'](_0x786569(0x647))[_0x786569(0x985)][_0x786569(0xa54)](_0x786569(0x806)),_0x34d615[_0x786569(0x8ec)]='',_0x4c463a[_0x786569(0x985)][_0x786569(0xa54)](_0x786569(0x806)),_0x18e70e[_0x786569(0xcd6)]=_0x786569(0x239);const _0x3f6f7d=new FileReader();_0x3f6f7d[_0x786569(0x15f)](_0x211b7d),_0x3f6f7d[_0x786569(0x4c6)]=async()=>{const _0x2a96e4=_0x786569;try{const _0x367857=_0x3f6f7d[_0x2a96e4(0xa53)][_0x2a96e4(0xa50)](',')[0x1],_0xa88a42=_0x211b7d[_0x2a96e4(0x900)];_0x18e70e['textContent']=_0x2a96e4(0xdac);const _0x518ff8=document[_0x2a96e4(0x773)](_0x2a96e4(0xaf7))[_0x2a96e4(0x17e)],_0x3b12e2=_0x518ff8?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x32b0aa=_0x2a96e4(0x392),_0x70863c={'type':_0x2a96e4(0x181),'properties':{'questionText':{'type':_0x2a96e4(0x3a5)},'questionType':{'type':_0x2a96e4(0x3a5),'enum':['multiple_choice','short_answer']},'options':{'type':_0x2a96e4(0x37c),'items':{'type':_0x2a96e4(0x3a5)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x2a96e4(0x3a5)},'explanation':{'type':_0x2a96e4(0x3a5)},'imageCode':{'type':_0x2a96e4(0x3a5)}},'required':[_0x2a96e4(0xc27),'questionType',_0x2a96e4(0x4d2)]},_0x2cd1c1={'type':_0x2a96e4(0x181),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2a96e4(0x37c),'items':_0x70863c}},'required':['topic','questions']},_0xa149d8=[{'text':_0x32b0aa},{'inlineData':{'mimeType':_0xa88a42,'data':_0x367857}}];await handleApiCall(_0xa149d8,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x2cd1c1);}catch(_0x38481f){console[_0x2a96e4(0x7bc)](_0x2a96e4(0x931),_0x38481f),showMessage(_0x2a96e4(0x8ae)+_0x38481f['message']),_0x34d615[_0x2a96e4(0x8ec)]=_0x2a96e4(0x61e);}finally{_0x4c463a[_0x2a96e4(0x985)]['add'](_0x2a96e4(0x806)),_0x2530c5[_0x2a96e4(0x67a)]=![];}},_0x3f6f7d[_0x786569(0xdaa)]=_0x3a737f=>{const _0x10e5cd=_0x786569;console[_0x10e5cd(0x7bc)]('FileReader\x20error:',_0x3a737f),showMessage(_0x10e5cd(0x141)),_0x4c463a['classList'][_0x10e5cd(0xd0a)](_0x10e5cd(0x806)),_0x2530c5[_0x10e5cd(0x67a)]=![];};}async function handleRegenerateQuestionInEditor(_0x5e9d54){const _0x317ae9=_0x1d7cc9;if(currentEditingQuizData===null)return;const _0xaa8f04=document[_0x317ae9(0x86f)](_0x317ae9(0x97b)+_0x5e9d54+'\x22]');_0xaa8f04&&(_0xaa8f04[_0x317ae9(0x8ec)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x16257d=currentEditingQuizData[_0x317ae9(0xcf9)][_0x5e9d54],_0x48b2da=currentEditingQuizData[_0x317ae9(0xa37)],_0x435d18=_0x16257d['questionType'],_0x4abe6e={'type':'OBJECT','properties':{'questionText':{'type':_0x317ae9(0x3a5)},'options':{'type':'ARRAY','items':{'type':_0x317ae9(0x3a5)}},'correctAnswerIndex':{'type':_0x317ae9(0x1b3)},'explanation':{'type':'STRING'}},'required':[_0x317ae9(0xc27),'options',_0x317ae9(0xc68),_0x317ae9(0x4d2)]},_0x368400={'type':_0x317ae9(0x181),'properties':{'questionText':{'type':_0x317ae9(0x3a5)},'idealAnswer':{'type':_0x317ae9(0x3a5)},'explanation':{'type':'STRING'}},'required':[_0x317ae9(0xc27),_0x317ae9(0x4b9),'explanation']};let _0x28d02c,_0x187884='';_0x435d18===_0x317ae9(0xbed)?(_0x28d02c=_0x4abe6e,_0x187884='แบบปรนัย\x204\x20ตัวเลือก'):(_0x28d02c=_0x368400,_0x187884='แบบเติมคำตอบ');const _0x24479e='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x48b2da+_0x317ae9(0xc92)+_0x187884+_0x317ae9(0xcca)+(_0x16257d[_0x317ae9(0xc27)]||_0x16257d[_0x317ae9(0x43c)])+_0x317ae9(0xd9f)+simpleMathPrompt;try{const _0x12912b=await callAnalysisApi(_0x24479e,_0x28d02c);currentEditingQuizData[_0x317ae9(0xcf9)][_0x5e9d54]={..._0x16257d,..._0x12912b},renderQuizEditor(currentEditingQuizData);}catch(_0x5cd7b9){console['error'](_0x317ae9(0x3a0),_0x5cd7b9),showMessage(_0x317ae9(0xb37)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x226823=_0x1d7cc9,_0x50b679=document[_0x226823(0x773)](_0x226823(0x491));currentMode==='student'?(currentMode=_0x226823(0x204),_0x50b679['innerHTML']=_0x226823(0x837),_0x50b679[_0x226823(0xdfa)]=_0x226823(0x3d0),showView('admin-dashboard')):(currentMode='student',_0x50b679['innerHTML']=_0x226823(0x772),_0x50b679[_0x226823(0xdfa)]=_0x226823(0x133),showView('student'));}function handleAdminLogin(){const _0x17b6fd=_0x1d7cc9,_0x4e8fd8=document[_0x17b6fd(0x773)](_0x17b6fd(0x8bf)),_0x1c3a95=document[_0x17b6fd(0x773)](_0x17b6fd(0xd1c));if(_0x4e8fd8['value']===_0x17b6fd(0x145)){adminPasswordModal['classList'][_0x17b6fd(0xd0a)](_0x17b6fd(0x806)),_0x4e8fd8[_0x17b6fd(0xd9d)]='',_0x1c3a95['classList'][_0x17b6fd(0xd0a)]('hidden'),currentMode=_0x17b6fd(0x204);const _0x3b7285=document[_0x17b6fd(0x773)](_0x17b6fd(0x491));_0x3b7285[_0x17b6fd(0x8ec)]=_0x17b6fd(0x837),_0x3b7285[_0x17b6fd(0xdfa)]='สลับไปโหมดนักเรียน',showView(_0x17b6fd(0x14f));}else _0x1c3a95['classList']['remove']('hidden'),_0x4e8fd8[_0x17b6fd(0xd9d)]='';}function switchProjectTab(_0x3bb529){const _0xf204d7=_0x1d7cc9;[_0xf204d7(0x6cd),'results','leaderboard'][_0xf204d7(0xa25)](_0x1f15ac=>{const _0x22c37c=_0xf204d7;document[_0x22c37c(0x773)](_0x1f15ac+_0x22c37c(0xcb4))[_0x22c37c(0x985)][_0x22c37c(0xa54)]('active'),document[_0x22c37c(0x773)](_0x1f15ac+_0x22c37c(0x2ff))['classList'][_0x22c37c(0xd0a)]('hidden');}),document[_0xf204d7(0x773)](_0x3bb529+'-tab')[_0xf204d7(0x985)]['add'](_0xf204d7(0x4c8)),document[_0xf204d7(0x773)](_0x3bb529+'-tab-content')[_0xf204d7(0x985)][_0xf204d7(0xa54)](_0xf204d7(0x806));}function switchQuizDetailTab(_0x5d7c77){const _0x69344f=_0x1d7cc9,_0x4b9fbe={'analytics':{'btn':_0x69344f(0x809),'content':_0x69344f(0x6ad)},'scores':{'btn':'scores-tab-btn','content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x69344f(0xaa6),'content':_0x69344f(0x966)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x69344f(0xd8d)}};for(const _0x5c8560 in _0x4b9fbe){document[_0x69344f(0x773)](_0x4b9fbe[_0x5c8560]['btn'])[_0x69344f(0x985)]['remove'](_0x69344f(0x4c8)),document['getElementById'](_0x4b9fbe[_0x5c8560]['content'])[_0x69344f(0x985)][_0x69344f(0xd0a)](_0x69344f(0x806));}document['getElementById'](_0x4b9fbe[_0x5d7c77][_0x69344f(0x699)])[_0x69344f(0x985)][_0x69344f(0xd0a)](_0x69344f(0x4c8)),document[_0x69344f(0x773)](_0x4b9fbe[_0x5d7c77]['content'])[_0x69344f(0x985)][_0x69344f(0xa54)](_0x69344f(0x806));}function showMessage(_0x295015,_0x113435=null){const _0x598fa6=_0x1d7cc9;modalMessage[_0x598fa6(0x8ec)]=_0x295015[_0x598fa6(0xc21)](/\n/g,'<br>'),modalConfirmAction=_0x113435,messageModal[_0x598fa6(0x985)][_0x598fa6(0xa54)]('hidden');}function showConfirmation(_0x32cc17,_0x589090,_0x350769=null){const _0x172fdf=_0x1d7cc9;document[_0x172fdf(0x773)](_0x172fdf(0x429))[_0x172fdf(0xcd6)]=_0x32cc17,document[_0x172fdf(0x773)](_0x172fdf(0x107))[_0x172fdf(0x86f)]('h3')['textContent']='ยืนยันการกระทำ',confirmAction=_0x589090,cancelAction=_0x350769,confirmationModal['classList']['remove'](_0x172fdf(0x806));}function listenForProjects(){const _0x47eda4=_0x1d7cc9,_0x2a2b0a=doc(db,'globalSettings','dashboardConfig');onSnapshot(_0x2a2b0a,_0x2a28e7=>{const _0x467369=_0x5842;if(_0x2a28e7[_0x467369(0xc63)]()){const _0x2ab95a=_0x2a28e7['data']();globalDashboardSettings[_0x467369(0x908)]=_0x2ab95a[_0x467369(0x908)]||_0x467369(0x5b9),globalDashboardSettings['pinnedProjects']=_0x2ab95a[_0x467369(0xe0d)]||[],globalDashboardSettings['projectOrder']=_0x2ab95a[_0x467369(0xad7)]||[];}allProjects[_0x467369(0x5df)]>0x0&&renderProjects();});const _0x15620d=collection(db,_0x47eda4(0x6de)+appId+_0x47eda4(0x45c));unsubscribeProjectsListener=onSnapshot(_0x15620d,_0x49d1a5=>{const _0x4fe81e=_0x47eda4;allProjects=_0x49d1a5[_0x4fe81e(0x79c)][_0x4fe81e(0x9d3)](_0x31c178=>({'id':_0x31c178['id'],..._0x31c178[_0x4fe81e(0xafb)]()})),renderProjects();},_0x3657a6=>{const _0xfc608d=_0x47eda4;console[_0xfc608d(0x7bc)](_0xfc608d(0x9ef),_0x3657a6),showMessage(_0xfc608d(0xb48));});}function showColorPalette(_0x411a4c,_0x3b274f){const _0x5ed75d=_0x1d7cc9;document[_0x5ed75d(0x4a1)]('.color-palette-popup')[_0x5ed75d(0xa25)](_0x618674=>_0x618674[_0x5ed75d(0xa54)]());const _0x1d164e=[_0x5ed75d(0xbb3),_0x5ed75d(0xb79),_0x5ed75d(0x641),'#D1FAE5',_0x5ed75d(0x67e),_0x5ed75d(0xcd0),_0x5ed75d(0x75a),_0x5ed75d(0xcc2),_0x5ed75d(0x997)],_0x30dc4f=document['createElement'](_0x5ed75d(0x5f9));_0x30dc4f[_0x5ed75d(0xbb6)]=_0x5ed75d(0xce1),_0x1d164e['forEach'](_0x2e2dcc=>{const _0x36dc1f=_0x5ed75d,_0x3c811e=document[_0x36dc1f(0x869)](_0x36dc1f(0x5f9));_0x3c811e[_0x36dc1f(0xbb6)]=_0x36dc1f(0xc93),_0x3c811e[_0x36dc1f(0x90e)][_0x36dc1f(0xa67)]=_0x2e2dcc,_0x3c811e[_0x36dc1f(0x6f7)](_0x36dc1f(0x2af),()=>{handleProjectColorChange(_0x3b274f,_0x2e2dcc),_0x30dc4f['remove']();}),_0x30dc4f[_0x36dc1f(0x3d7)](_0x3c811e);}),document['body'][_0x5ed75d(0x3d7)](_0x30dc4f);const _0x77f958=_0x411a4c[_0x5ed75d(0xc57)]();_0x30dc4f[_0x5ed75d(0x90e)]['top']=_0x77f958[_0x5ed75d(0x614)]+window[_0x5ed75d(0x439)]+'px',_0x30dc4f[_0x5ed75d(0x90e)][_0x5ed75d(0xbf2)]=_0x77f958[_0x5ed75d(0xbf2)]+window[_0x5ed75d(0x9e1)]-_0x30dc4f[_0x5ed75d(0xae3)]/0x2+'px';}async function handleProjectColorChange(_0x2fa9f0,_0x3053d4){const _0x9f6c35=_0x1d7cc9,_0x28834b=doc(db,'artifacts/'+appId+_0x9f6c35(0x45c),_0x2fa9f0);try{await updateDoc(_0x28834b,{'color':_0x3053d4});}catch(_0x5af0dc){console['error']('Error\x20updating\x20project\x20color:',_0x5af0dc),showMessage(_0x9f6c35(0x5ba));}}async function renderProjects(){const _0x55db50=_0x1d7cc9,_0x39a6a6=globalDashboardSettings[_0x55db50(0x908)]||'date_desc',_0x43bd42=new Set(globalDashboardSettings[_0x55db50(0xe0d)]||[]),_0x1789b2=globalDashboardSettings[_0x55db50(0xc4f)]||_0x55db50(0x1e3),_0x24ddd6=document[_0x55db50(0x773)](_0x55db50(0x943)),_0x1a3fae=document['getElementById'](_0x55db50(0xaaa));_0x24ddd6[_0x55db50(0x985)][_0x55db50(0xbbd)](_0x55db50(0x4c8),_0x1789b2==='grid'),_0x1a3fae['classList'][_0x55db50(0xbbd)](_0x55db50(0x4c8),_0x1789b2==='list'),document['getElementById'](_0x55db50(0xc0d))['value']=_0x39a6a6;const _0x4fb786=document[_0x55db50(0x773)](_0x55db50(0x843))[_0x55db50(0xd9d)]['toLowerCase']();let _0x19895b=allProjects[_0x55db50(0x485)](_0x198fde=>_0x198fde['projectName'][_0x55db50(0xa43)]()[_0x55db50(0x1f6)](_0x4fb786));const _0x4d5628=_0x19895b[_0x55db50(0x485)](_0x4c1177=>_0x43bd42[_0x55db50(0x2d9)](_0x4c1177['id'])),_0x75f3f2=_0x19895b[_0x55db50(0x485)](_0x55d047=>!_0x43bd42[_0x55db50(0x2d9)](_0x55d047['id'])),_0x1ff3b4=(_0x30d48d,_0x3c18c8)=>{const _0x651ab=_0x55db50;switch(_0x39a6a6){case _0x651ab(0x185):return _0x30d48d[_0x651ab(0x1c1)][_0x651ab(0xbbb)](_0x3c18c8[_0x651ab(0x1c1)],'th');case _0x651ab(0x168):return _0x3c18c8[_0x651ab(0x1c1)][_0x651ab(0xbbb)](_0x30d48d[_0x651ab(0x1c1)],'th');case _0x651ab(0x8b7):return new Date(_0x30d48d[_0x651ab(0x7b4)])-new Date(_0x3c18c8[_0x651ab(0x7b4)]);default:return new Date(_0x3c18c8[_0x651ab(0x7b4)])-new Date(_0x30d48d[_0x651ab(0x7b4)]);}};_0x4d5628[_0x55db50(0xc1c)](_0x1ff3b4),_0x75f3f2[_0x55db50(0xc1c)](_0x1ff3b4);const _0x3e0bd6=[..._0x4d5628,..._0x75f3f2],_0x4c4743=globalDashboardSettings[_0x55db50(0xad7)]||[];_0x4c4743[_0x55db50(0x5df)]>0x0&&_0x1789b2===_0x55db50(0x1e3)&&_0x3e0bd6['sort']((_0x563920,_0x44ad78)=>{const _0x28af99=_0x55db50,_0x14c9e3=_0x4c4743[_0x28af99(0x355)](_0x563920['id']),_0x1afbf2=_0x4c4743['indexOf'](_0x44ad78['id']);if(_0x14c9e3===-0x1)return 0x1;if(_0x1afbf2===-0x1)return-0x1;return _0x14c9e3-_0x1afbf2;});const _0x171e07={};await Promise[_0x55db50(0x2d2)](_0x3e0bd6['map'](async _0xf862e8=>{const _0x408348=_0x55db50,_0x583a7e=query(collection(db,_0x408348(0x6de)+appId+_0x408348(0xde0)),where(_0x408348(0xa1f),'==',_0xf862e8['id'])),_0x5893a9=await getDocs(_0x583a7e);_0x171e07[_0xf862e8['id']]=_0x5893a9[_0x408348(0x619)];}));const _0x26eb62=document['getElementById'](_0x55db50(0x7af));let _0x5ab5b4='';if(_0x1789b2==='grid'){_0x26eb62['className']=_0x55db50(0x4bd);if(starredQuizzes[_0x55db50(0x5df)]>0x0&&_0x4fb786===''){const _0x368d3f=starredQuizzes[_0x55db50(0x9d3)](_0x47fd37=>{const _0x4d0a01=_0x55db50,_0x119718=allProjects['find'](_0xc25bc=>_0xc25bc['id']===_0x47fd37[_0x4d0a01(0xa1f)]);return{..._0x47fd37,'projectName':_0x119718?_0x119718['projectName']:_0x4d0a01(0x539)};});_0x5ab5b4+=_0x55db50(0x52a)+_0x368d3f[_0x55db50(0x9d3)](_0x306501=>_0x55db50(0x9df)+_0x306501[_0x55db50(0xa37)]+'\x22>'+_0x306501[_0x55db50(0xa37)]+_0x55db50(0x875)+_0x306501['projectName']+_0x55db50(0xa22)+_0x306501[_0x55db50(0x1c1)]+_0x55db50(0xb0f))['join']('')+_0x55db50(0xbc8)+starredQuizzes[_0x55db50(0x5df)]+_0x55db50(0xde3);}_0x3e0bd6['forEach'](_0x480b7c=>{const _0x56fef6=_0x55db50,_0x4f731a=_0x171e07[_0x480b7c['id']]??0x0,_0x4ff854=_0x43bd42[_0x56fef6(0x2d9)](_0x480b7c['id']),_0x151db0=_0x480b7c[_0x56fef6(0x61f)]||_0x56fef6(0xbb3),_0x4588a0=parseInt(_0x151db0[_0x56fef6(0xf5)](0x1,0x3),0x10)*0.299+parseInt(_0x151db0[_0x56fef6(0xf5)](0x3,0x5),0x10)*0.587+parseInt(_0x151db0[_0x56fef6(0xf5)](0x5,0x7),0x10)*0.114<0xba,_0x48af27=_0x4588a0?'text-white':'text-indigo-800',_0x93706=_0x4588a0?_0x56fef6(0x410):'text-gray-500';_0x5ab5b4+=_0x56fef6(0xdf0)+(_0x4ff854?_0x56fef6(0xafc):_0x56fef6(0x489))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x151db0+';\x22\x20data-id=\x22'+_0x480b7c['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x480b7c['id']+_0x56fef6(0x6a8)+(_0x4588a0?'text-gray-300\x20hover:text-white':_0x56fef6(0x849))+_0x56fef6(0xbaf)+_0x480b7c['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x4588a0?_0x56fef6(0x9c7):_0x56fef6(0x849))+_0x56fef6(0x881)+(_0x4ff854?_0x4588a0?_0x56fef6(0x7ae):_0x56fef6(0x3bd):'')+_0x56fef6(0x601)+_0x480b7c['id']+_0x56fef6(0x3af)+_0x48af27+_0x56fef6(0x890)+_0x480b7c[_0x56fef6(0x1c1)]+_0x56fef6(0xb19)+_0x93706+_0x56fef6(0x33b)+new Date(_0x480b7c[_0x56fef6(0x7b4)])['toLocaleDateString'](_0x56fef6(0x3d1))+_0x56fef6(0x688)+(_0x4588a0?_0x56fef6(0xab1):'text-gray-700')+_0x56fef6(0x31b)+_0x4f731a+_0x56fef6(0x19a)+_0x480b7c['id']+_0x56fef6(0xc38)+_0x480b7c['projectName']+_0x56fef6(0xd01)+(_0x4588a0?_0x56fef6(0x21b):'text-red-500\x20hover:text-red-700')+_0x56fef6(0x670);});}else _0x26eb62[_0x55db50(0xbb6)]=_0x55db50(0x440),starredQuizzes[_0x55db50(0x5df)]>0x0&&_0x4fb786===''&&(_0x5ab5b4+=_0x55db50(0x55e)+starredQuizzes[_0x55db50(0x5df)]+_0x55db50(0xc86)),_0x5ab5b4+=_0x55db50(0x73a),_0x3e0bd6[_0x55db50(0xa25)](_0x3b4dd7=>{const _0x189ddd=_0x55db50,_0x407b1a=_0x171e07[_0x3b4dd7['id']]??0x0,_0x390658=_0x43bd42[_0x189ddd(0x2d9)](_0x3b4dd7['id']);_0x5ab5b4+=_0x189ddd(0x74d)+(_0x3b4dd7[_0x189ddd(0x61f)]||_0x189ddd(0x997))+_0x189ddd(0xcc0)+_0x3b4dd7['id']+_0x189ddd(0x817)+_0x3b4dd7[_0x189ddd(0x1c1)]+_0x189ddd(0x7bd)+_0x407b1a+_0x189ddd(0xca8)+new Date(_0x3b4dd7[_0x189ddd(0x7b4)])[_0x189ddd(0x990)]('th-TH')+_0x189ddd(0x417)+_0x3b4dd7['id']+_0x189ddd(0x85a)+(_0x390658?_0x189ddd(0x3bd):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3b4dd7['id']+_0x189ddd(0xc38)+_0x3b4dd7[_0x189ddd(0x1c1)]+_0x189ddd(0x49a);});projectList['innerHTML']=_0x5ab5b4,noProjectsMsg['classList'][_0x55db50(0xbbd)]('hidden',_0x5ab5b4['length']>0x0);}document[_0x1d7cc9(0x773)](_0x1d7cc9(0x23c))[_0x1d7cc9(0x6f7)](_0x1d7cc9(0x2af),async()=>{const _0xb1f71=_0x1d7cc9,_0x2cde3d=document['getElementById']('project-name-input'),_0x218748=_0x2cde3d[_0xb1f71(0xd9d)][_0xb1f71(0xafd)]();if(!_0x218748){showMessage(_0xb1f71(0x9c8));return;}try{const _0x17e166=doc(collection(db,_0xb1f71(0x6de)+appId+'/public/data/projects'));await setDoc(_0x17e166,{'projectName':_0x218748,'students':[],'settings':{'resultsDisplay':_0xb1f71(0x7d8),'shuffleSetting':_0xb1f71(0x264),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0xb1f71(0xd78)]()}),_0x2cde3d['value']='',createProjectModal[_0xb1f71(0x985)][_0xb1f71(0xd0a)]('hidden'),showMessage(_0xb1f71(0x2a8));}catch(_0x191269){console[_0xb1f71(0x7bc)]('Error\x20creating\x20project:',_0x191269),showMessage(_0xb1f71(0x9e4));}}),projectList[_0x1d7cc9(0x6f7)]('click',async _0x35816e=>{const _0x364dde=_0x1d7cc9,_0x34dfcc=_0x35816e[_0x364dde(0x674)][_0x364dde(0x2e4)](_0x364dde(0x79a)),_0x2097c1=_0x35816e['target']['closest']('.delete-project-btn'),_0x103823=_0x35816e[_0x364dde(0x674)][_0x364dde(0x2e4)](_0x364dde(0x820)),_0xd9e29b=_0x35816e[_0x364dde(0x674)][_0x364dde(0x2e4)](_0x364dde(0x2a7));if(_0x103823){const _0x5520b9=_0x103823['dataset']['id'],_0x3d2442=doc(db,_0x364dde(0x284),'dashboardConfig'),_0x532cf4=globalDashboardSettings['pinnedProjects'];let _0xc85e90;_0x532cf4['includes'](_0x5520b9)?_0xc85e90=_0x532cf4['filter'](_0x40b895=>_0x40b895!==_0x5520b9):_0xc85e90=[..._0x532cf4,_0x5520b9];try{await setDoc(_0x3d2442,{'pinnedProjects':_0xc85e90},{'merge':!![]});}catch(_0x36bed5){console[_0x364dde(0x7bc)](_0x364dde(0xaba),_0x36bed5),showMessage(_0x364dde(0x8c9));}}else{if(_0xd9e29b){const _0x98b12b=_0xd9e29b[_0x364dde(0x576)]['id'];showColorPalette(_0xd9e29b,_0x98b12b);}else{if(_0x34dfcc){const _0x5d8073=_0x34dfcc[_0x364dde(0x576)]['id'];_0x5d8073===_0x364dde(0x47b)?showStarredProjectView():(currentProjectId=_0x5d8073,await loadProjectDetails(currentProjectId),showView(_0x364dde(0x90c)));}else{if(_0x2097c1){const _0x5d6bee=_0x2097c1[_0x364dde(0x576)]['id'],_0x163b23=_0x2097c1['dataset'][_0x364dde(0xb30)];showConfirmation(_0x364dde(0x224)+_0x163b23+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x5d6bee));}}}}}),projectList[_0x1d7cc9(0x6f7)](_0x1d7cc9(0x1cb),_0x1deffb=>{const _0x5893e4=_0x1d7cc9,_0x432f06=_0x1deffb['target'][_0x5893e4(0x2e4)](_0x5893e4(0x1fe));_0x432f06&&_0x432f06[_0x5893e4(0x985)][_0x5893e4(0xd0a)]('opacity-50');}),projectList[_0x1d7cc9(0x6f7)]('dragend',_0x3256d3=>{const _0x272328=_0x1d7cc9,_0x3e346a=_0x3256d3[_0x272328(0x674)]['closest'](_0x272328(0x1fe));_0x3e346a&&_0x3e346a['classList'][_0x272328(0xa54)](_0x272328(0xd11));}),projectList[_0x1d7cc9(0x6f7)](_0x1d7cc9(0xd99),_0x30dd80=>{const _0x1755aa=_0x1d7cc9;_0x30dd80['preventDefault']();const _0x574804=document[_0x1755aa(0x86f)]('.project-card-container.opacity-50');if(!_0x574804)return;const _0x1bb08c=getDragAfterElement(projectList,_0x30dd80[_0x1755aa(0x9dd)]);_0x1bb08c==null?projectList['appendChild'](_0x574804):projectList[_0x1755aa(0x51d)](_0x574804,_0x1bb08c);}),projectList[_0x1d7cc9(0x6f7)]('drop',_0xb5bd7b=>{const _0x33dab1=_0x1d7cc9;_0xb5bd7b[_0x33dab1(0x952)]();const _0x5bd815=[...projectList[_0x33dab1(0x4a1)](_0x33dab1(0xb98))][_0x33dab1(0x9d3)](_0x2207f0=>_0x2207f0[_0x33dab1(0x576)]['id']);saveProjectOrder(_0x5bd815);});function renderBehaviorLog(_0x36dc5a){const _0x103ff0=_0x1d7cc9,_0x45f441=document[_0x103ff0(0x773)](_0x103ff0(0x208));if(!_0x45f441)return;const _0x34149d=_0x36dc5a[_0x103ff0(0x485)](_0xee055c=>_0xee055c[_0x103ff0(0x1d4)]&&_0xee055c['behaviorLog'][_0x103ff0(0x5df)]>0x0);if(_0x34149d[_0x103ff0(0x5df)]===0x0){_0x45f441[_0x103ff0(0x8ec)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x45edfa='';_0x34149d[_0x103ff0(0xa25)](_0x5582d6=>{const _0x4d791f=_0x103ff0;_0x45edfa+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x5582d6[_0x4d791f(0xa12)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5582d6[_0x4d791f(0x1d4)]['sort']((_0x55b412,_0x1c92e6)=>new Date(_0x1c92e6[_0x4d791f(0xd0)])-new Date(_0x55b412[_0x4d791f(0xd0)]))[_0x4d791f(0xa25)](_0x39a8eb=>{const _0x3f032f=_0x4d791f,_0x432e4c=new Date(_0x39a8eb[_0x3f032f(0xd0)])[_0x3f032f(0x990)]('th-TH',{'dateStyle':'short','timeStyle':_0x3f032f(0x403)});_0x45edfa+=_0x3f032f(0x54d)+_0x39a8eb[_0x3f032f(0x3d8)]+_0x3f032f(0x3dd)+_0x432e4c+_0x3f032f(0x913);}),_0x45edfa+=_0x4d791f(0x37f);}),_0x45f441[_0x103ff0(0x8ec)]=_0x45edfa;}function getDragAfterElement(_0x5bd5e4,_0x23f2a4){const _0x4c9cb7=_0x1d7cc9,_0x4cccc6=[..._0x5bd5e4[_0x4c9cb7(0x4a1)]('.project-card-container:not(.opacity-50)')];return _0x4cccc6[_0x4c9cb7(0x731)]((_0xa70ea4,_0x419bdd)=>{const _0x39f62c=_0x4c9cb7,_0x2896fc=_0x419bdd[_0x39f62c(0xc57)](),_0x165f16=_0x23f2a4-_0x2896fc[_0x39f62c(0x1d7)]-_0x2896fc[_0x39f62c(0x3e4)]/0x2;return _0x165f16<0x0&&_0x165f16>_0xa70ea4[_0x39f62c(0x386)]?{'offset':_0x165f16,'element':_0x419bdd}:_0xa70ea4;},{'offset':Number[_0x4c9cb7(0xd0b)]})[_0x4c9cb7(0x6e8)];}async function saveProjectOrder(_0x397721){const _0x1e417b=_0x1d7cc9,_0x2afe2b=doc(db,'globalSettings',_0x1e417b(0xd3b));try{await setDoc(_0x2afe2b,{'projectOrder':_0x397721},{'merge':!![]});}catch(_0x2b47c7){console[_0x1e417b(0x7bc)](_0x1e417b(0x172),_0x2b47c7),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x3cfcf8,_0x1c9abc={}){const _0x57b194=_0x1d7cc9;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x57b194(0x7a5));return;}const _0x3605c6=doc(db,_0x57b194(0x6de)+appId+_0x57b194(0x6b1)+currentQuizData['id']+_0x57b194(0x1cf),currentStudentName),_0x2c879={'event':_0x3cfcf8,'timestamp':new Date()['toISOString'](),..._0x1c9abc};try{await updateDoc(_0x3605c6,{'behaviorLog':arrayUnion(_0x2c879)}),console['log']('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x57b194(0xc46));}catch(_0x4f4c89){_0x4f4c89[_0x57b194(0x2ed)]===_0x57b194(0x2a6)?console['warn'](_0x57b194(0xd79)+currentStudentName+_0x57b194(0x149)):console['error'](_0x57b194(0xa9b),_0x4f4c89);}}function getScoreTier(_0x417816,_0x4be962){const _0x5b7216=_0x1d7cc9;if(_0x4be962===0x0){if(_0x417816===0x0)return{'text':'(รอคะแนน)','icon':'⏳'};return{'text':_0x5b7216(0x7ee),'icon':'😥'};}const _0x5b7f7e=_0x417816/(_0x4be962===0x0?0x1:_0x4be962);if(_0x5b7f7e===0x1)return{'text':'(นำโด่ง)','icon':'👑'};if(_0x5b7f7e>=0.7)return{'text':_0x5b7216(0x5d7),'icon':'🔥'};if(_0x5b7f7e>=0.4)return{'text':_0x5b7216(0x775),'icon':'🏃'};return{'text':_0x5b7216(0x7ee),'icon':'😥'};}function calculateMeanAndStdDev(_0x274698){const _0x124719=_0x1d7cc9;if(_0x274698[_0x124719(0x5df)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x22eb4c=_0x274698[_0x124719(0x731)]((_0x578b7f,_0x2d411c)=>_0x578b7f+_0x2d411c,0x0)/_0x274698[_0x124719(0x5df)];if(_0x274698[_0x124719(0x5df)]===0x1)return{'mean':_0x22eb4c,'stdDev':0x0};const _0x2f3903=Math[_0x124719(0x87f)](_0x274698[_0x124719(0x9d3)](_0x236dee=>Math[_0x124719(0xcce)](_0x236dee-_0x22eb4c,0x2))[_0x124719(0x731)]((_0x13a6bd,_0x50a3a9)=>_0x13a6bd+_0x50a3a9,0x0)/(_0x274698[_0x124719(0x5df)]-0x1));return{'mean':_0x22eb4c,'stdDev':_0x2f3903};}function calculateZScore(_0x17b0a2,_0x280f83,_0xf99031){if(_0xf99031===0x0)return 0x0;return(_0x17b0a2-_0x280f83)/_0xf99031;}function calculateTScore(_0xf8f705){return 0xa*_0xf8f705+0x32;}function showStarredProjectView(){const _0x2bc991=_0x1d7cc9;currentProjectId=_0x2bc991(0x94e),currentProjectData=null,projectTitle[_0x2bc991(0xcd6)]=_0x2bc991(0xc35),projectIdDisplay[_0x2bc991(0xcd6)]='pinned-items',showView(_0x2bc991(0x90c)),manageTab[_0x2bc991(0x985)][_0x2bc991(0xd0a)]('hidden'),leaderboardTab['classList'][_0x2bc991(0xd0a)]('hidden'),switchProjectTab(_0x2bc991(0x2ae)),renderQuizzes();}async function loadProjectDetails(_0x1eacaa){const _0x27e379=_0x1d7cc9,_0x1d8e08=doc(db,_0x27e379(0x6de)+appId+'/public/data/projects',_0x1eacaa),_0x3d953f=await getDoc(_0x1d8e08);if(_0x3d953f[_0x27e379(0xc63)]()){manageTab[_0x27e379(0x985)][_0x27e379(0xa54)](_0x27e379(0x806)),leaderboardTab[_0x27e379(0x985)][_0x27e379(0xa54)](_0x27e379(0x806)),currentProjectData=_0x3d953f[_0x27e379(0xafb)](),projectTitle[_0x27e379(0xcd6)]=currentProjectData['projectName'],projectIdDisplay[_0x27e379(0xcd6)]=_0x1eacaa;const _0xbdcd69=currentProjectData[_0x27e379(0xadf)]||{};document[_0x27e379(0x773)](_0x27e379(0xbc2))[_0x27e379(0xd9d)]=_0xbdcd69[_0x27e379(0x81b)]||'none';const _0x5977a2=document['getElementById']('show-in-student-dashboard-checkbox');_0x5977a2['checked']=_0xbdcd69[_0x27e379(0x311)]!==![];const _0x4a8f24=document[_0x27e379(0x773)](_0x27e379(0x7b3)),_0x5963ce=document[_0x27e379(0x773)]('passcode-input-container'),_0x2e17dd=document['getElementById'](_0x27e379(0x267)),_0xd697e8=_0xbdcd69[_0x27e379(0x3c5)]||![];_0x4a8f24['checked']=_0xd697e8,_0x2e17dd[_0x27e379(0xd9d)]=_0xbdcd69[_0x27e379(0x281)]||'',_0x5963ce[_0x27e379(0x985)][_0x27e379(0xbbd)]('hidden',!_0xd697e8),_0x4a8f24[_0x27e379(0x74a)]=()=>{const _0x509b25=_0x27e379;_0x5963ce[_0x509b25(0x985)][_0x509b25(0xbbd)](_0x509b25(0x806),!_0x4a8f24[_0x509b25(0x17e)]);},document[_0x27e379(0x773)](_0x27e379(0x1a5))[_0x27e379(0x17e)]=_0xbdcd69[_0x27e379(0x9ec)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x1eacaa),listenForProjectQuizzes(_0x1eacaa),listenForStudentProfiles(_0x1eacaa);}else showMessage(_0x27e379(0x720)),showView(_0x27e379(0x14f));}async function handleResetProjectOrder(){const _0x4b4a42=_0x1d7cc9,_0x2b2cf5=doc(db,_0x4b4a42(0x284),'dashboardConfig');try{await setDoc(_0x2b2cf5,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x4b4a42(0xda6));}catch(_0x4bf304){console[_0x4b4a42(0x7bc)]('Error\x20resetting\x20project\x20order:',_0x4bf304),showMessage(_0x4b4a42(0x3c8));}}async function handleTogglePinProject(_0x1439bf){const _0x1420e1=_0x1d7cc9;if(!_0x1439bf)return;const _0x11a933=doc(db,'artifacts/'+appId+_0x1420e1(0x45c),_0x1439bf);try{const _0x7be262=await getDoc(_0x11a933);if(_0x7be262[_0x1420e1(0xc63)]()){const _0x338498=_0x7be262[_0x1420e1(0xafb)]()[_0x1420e1(0x762)]||![];await updateDoc(_0x11a933,{'isPinned':!_0x338498});}}catch(_0x36f60b){console[_0x1420e1(0x7bc)]('Error\x20toggling\x20pin\x20status:',_0x36f60b),showMessage(_0x1420e1(0x8c9));}}async function handleDeleteProject(_0x35ff52){const _0x20dcdb=_0x1d7cc9;try{const _0x1e781e=writeBatch(db),_0x26cdb6=collection(db,_0x20dcdb(0x6de)+appId+_0x20dcdb(0xde0)),_0x1edf11=query(_0x26cdb6,where('projectId','==',_0x35ff52)),_0x20c37f=await getDocs(_0x1edf11);for(const _0x597745 of _0x20c37f[_0x20dcdb(0x79c)]){const _0x4a7705=collection(db,'artifacts/'+appId+_0x20dcdb(0x6b1)+_0x597745['id']+_0x20dcdb(0x1cf)),_0x32a1e0=await getDocs(_0x4a7705);_0x32a1e0['forEach'](_0x51c5ac=>{const _0x2cc98d=_0x20dcdb;_0x1e781e['delete'](_0x51c5ac[_0x2cc98d(0xbdc)]);}),_0x1e781e[_0x20dcdb(0x2ca)](_0x597745[_0x20dcdb(0xbdc)]);}const _0x44ddbc=collection(db,_0x20dcdb(0x6de)+appId+'/public/data/projects/'+_0x35ff52+_0x20dcdb(0x22e)),_0x21e8fa=await getDocs(_0x44ddbc);_0x21e8fa[_0x20dcdb(0xa25)](_0x53974d=>{const _0x312006=_0x20dcdb;_0x1e781e[_0x312006(0x2ca)](_0x53974d[_0x312006(0xbdc)]);});const _0x33c383=doc(db,_0x20dcdb(0x6de)+appId+_0x20dcdb(0x45c),_0x35ff52);_0x1e781e[_0x20dcdb(0x2ca)](_0x33c383),await _0x1e781e['commit'](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x20dcdb(0x14f));}catch(_0x407883){console['error'](_0x20dcdb(0x201),_0x407883),showMessage(_0x20dcdb(0x834));}}document[_0x1d7cc9(0x773)](_0x1d7cc9(0xb6e))[_0x1d7cc9(0x6f7)](_0x1d7cc9(0x2af),async()=>{const _0x4dda62=_0x1d7cc9;if(!currentProjectId)return;const _0x3017be={'defaultNumQuestions':parseInt(document[_0x4dda62(0x773)](_0x4dda62(0x6c6))[_0x4dda62(0xd9d)]),'defaultNumChoices':parseInt(document[_0x4dda62(0x773)](_0x4dda62(0x12f))[_0x4dda62(0xd9d)]),'defaultPassingScore':parseInt(document[_0x4dda62(0x773)](_0x4dda62(0xa4c))[_0x4dda62(0xd9d)]),'resultsDisplay':document[_0x4dda62(0x773)](_0x4dda62(0x254))[_0x4dda62(0xd9d)],'shuffleSetting':document['getElementById'](_0x4dda62(0xbc2))['value'],'timerMode':document[_0x4dda62(0x773)](_0x4dda62(0xa1e))['value'],'timerDuration':parseInt(document[_0x4dda62(0x773)]('timer-duration-input')[_0x4dda62(0xd9d)]),'isConfidenceScoringEnabled':document['getElementById']('confidence-scoring-checkbox')['checked'],'confidenceMode':document[_0x4dda62(0x773)]('confidence-mode-select')[_0x4dda62(0xd9d)]};try{const _0x2f6397=doc(db,_0x4dda62(0x6de)+appId+_0x4dda62(0x45c),currentProjectId);await updateDoc(_0x2f6397,{'settings':_0x3017be}),showMessage(_0x4dda62(0x3b1));}catch(_0x43f016){console[_0x4dda62(0x7bc)](_0x4dda62(0x591),_0x43f016),showMessage(_0x4dda62(0xd43));}});function listenForStudents(_0x1b0076){const _0x563067=_0x1d7cc9,_0x545aaa=doc(db,_0x563067(0x6de)+appId+_0x563067(0x45c),_0x1b0076);unsubscribeStudentsListener=onSnapshot(_0x545aaa,_0x5b4295=>{const _0x36db32=_0x563067;if(_0x5b4295[_0x36db32(0xc63)]()){const _0xf3626=_0x5b4295[_0x36db32(0xafb)]();currentProjectData=_0xf3626,renderStudentList(_0xf3626[_0x36db32(0xb2e)]||[]);}});}function renderStudentList(_0x4165aa){const _0x255ec4=_0x1d7cc9,_0x44bc59=document[_0x255ec4(0x773)](_0x255ec4(0xf4));_0x4165aa[_0x255ec4(0x5df)]===0x0?(studentList[_0x255ec4(0x8ec)]=_0x255ec4(0x45b),_0x44bc59[_0x255ec4(0x985)][_0x255ec4(0xd0a)]('hidden')):(studentList['innerHTML']=_0x4165aa[_0x255ec4(0x9d3)](_0x5ad8f3=>_0x255ec4(0xd7f)+_0x5ad8f3+_0x255ec4(0x179)+_0x5ad8f3+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x255ec4(0x370)](''),_0x44bc59['classList'][_0x255ec4(0xa54)]('hidden'));}document[_0x1d7cc9(0x773)]('add-student-btn')[_0x1d7cc9(0x6f7)](_0x1d7cc9(0x2af),async()=>{const _0x3f481f=_0x1d7cc9;if(!currentProjectId)return;const _0xbbeab1=document[_0x3f481f(0x773)](_0x3f481f(0x8b1)),_0x5a11c5=_0xbbeab1['value'][_0x3f481f(0xafd)]();if(!_0x5a11c5){showMessage(_0x3f481f(0x573));return;}const _0x2b59c5=_0x5a11c5[_0x3f481f(0xa50)]('\x0a')[_0x3f481f(0x9d3)](_0xdf9dc4=>_0xdf9dc4['trim']())[_0x3f481f(0x485)](_0x9f4108=>_0x9f4108);if(_0x2b59c5['length']===0x0)return;try{const _0x1742bc=doc(db,'artifacts/'+appId+_0x3f481f(0x45c),currentProjectId),_0x55d70=await getDoc(_0x1742bc);if(_0x55d70['exists']()){const _0x513d1f=_0x55d70['data']()['students']||[],_0x382574=[...new Set([..._0x513d1f,..._0x2b59c5])];await updateDoc(_0x1742bc,{'students':_0x382574}),_0xbbeab1[_0x3f481f(0xd9d)]='';}}catch(_0x251157){console[_0x3f481f(0x7bc)](_0x3f481f(0x545),_0x251157),showMessage(_0x3f481f(0x8f7));}});async function handleManualQuizPairing(_0x350511){const _0x669c15=_0x1d7cc9,_0x1bbd4f=document[_0x669c15(0x773)](_0x669c15(0x912)),_0x138f7e=document[_0x669c15(0x773)](_0x669c15(0x904)),_0x4e8aa6=_0x1bbd4f[_0x669c15(0x86f)]('h3'),_0x30cb38=document['getElementById']('confirm-move-quiz-btn'),_0x2fc7f4=document[_0x669c15(0x773)](_0x669c15(0x7b1));_0x4e8aa6[_0x669c15(0xcd6)]='จับคู่เพื่อเปรียบเทียบผล',_0x138f7e[_0x669c15(0x8ec)]=_0x669c15(0xda4),_0x30cb38[_0x669c15(0xcd6)]=_0x669c15(0x692),_0x1bbd4f['classList']['remove'](_0x669c15(0x806));const _0x219805=allQuizzes[_0x669c15(0x485)](_0x599ee1=>_0x599ee1['id']!==_0x350511);_0x219805[_0x669c15(0x5df)]===0x0?(_0x138f7e['innerHTML']=_0x669c15(0x418),_0x30cb38['disabled']=!![]):(_0x138f7e[_0x669c15(0x8ec)]=_0x669c15(0xd38)+_0x219805[_0x669c15(0x9d3)](_0x12b676=>_0x669c15(0xd4d)+_0x12b676['id']+'\x22>'+_0x12b676[_0x669c15(0xa37)]+_0x669c15(0x6da))[_0x669c15(0x370)](''),_0x30cb38[_0x669c15(0x67a)]=![]);const _0x211db2=async()=>{const _0xa84504=_0x669c15,_0x460377=_0x138f7e[_0xa84504(0xd9d)];if(!_0x460377){showMessage(_0xa84504(0x540));return;}_0x30cb38[_0xa84504(0x67a)]=!![],_0x30cb38[_0xa84504(0xcd6)]=_0xa84504(0xa82);try{const _0x56e220=doc(db,'artifacts/'+appId+_0xa84504(0xde0),_0x350511),_0x5199e1=doc(db,'artifacts/'+appId+_0xa84504(0xde0),_0x460377),_0x17ecb2=writeBatch(db);_0x17ecb2[_0xa84504(0x7c3)](_0x56e220,{'pairedQuizId':_0x460377}),_0x17ecb2[_0xa84504(0x7c3)](_0x5199e1,{'pairedQuizId':_0x350511}),await _0x17ecb2['commit'](),showMessage(_0xa84504(0x676)),_0x1bbd4f[_0xa84504(0x985)][_0xa84504(0xd0a)]('hidden');}catch(_0xab2068){console[_0xa84504(0x7bc)](_0xa84504(0xa03),_0xab2068),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x4e8aa6[_0xa84504(0xcd6)]=_0xa84504(0xc34),_0x30cb38[_0xa84504(0xcd6)]=_0xa84504(0x3fa),_0x30cb38[_0xa84504(0x67a)]=![],_0x30cb38[_0xa84504(0x755)](_0xa84504(0x2af),_0x211db2),_0x2fc7f4['removeEventListener'](_0xa84504(0x2af),_0x191409);}},_0x191409=()=>{const _0x3b1245=_0x669c15;_0x1bbd4f['classList'][_0x3b1245(0xd0a)]('hidden'),_0x4e8aa6[_0x3b1245(0xcd6)]=_0x3b1245(0xc34),_0x30cb38[_0x3b1245(0xcd6)]=_0x3b1245(0x3fa),_0x30cb38[_0x3b1245(0x755)]('click',_0x211db2),_0x2fc7f4[_0x3b1245(0x755)](_0x3b1245(0x2af),_0x191409);};_0x30cb38[_0x669c15(0x6f7)](_0x669c15(0x2af),_0x211db2),_0x2fc7f4[_0x669c15(0x6f7)]('click',_0x191409);}function handleDeleteStudent(_0x31074a){const _0x39ee4b=_0x1d7cc9;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x31074a+_0x39ee4b(0x6a5),async()=>{const _0x559264=_0x39ee4b;if(!currentProjectId||!currentProjectData)return;const _0x436770=currentProjectData['students'][_0x559264(0x485)](_0x569e22=>_0x569e22!==_0x31074a);try{const _0x35c204=doc(db,_0x559264(0x6de)+appId+'/public/data/projects',currentProjectId),_0x59acd1=doc(db,_0x559264(0x6de)+appId+_0x559264(0x846)+currentProjectId+'/studentProfiles',_0x31074a),_0x5e607c=writeBatch(db);_0x5e607c['update'](_0x35c204,{'students':_0x436770}),_0x5e607c[_0x559264(0x2ca)](_0x59acd1),await _0x5e607c['commit']();}catch(_0x175da5){console[_0x559264(0x7bc)](_0x559264(0x85d),_0x175da5),showMessage(_0x559264(0xb29));}});}function handleDeleteAllStudents(){const _0x153d2c=_0x1d7cc9;showConfirmation(_0x153d2c(0x317),async()=>{const _0x34c2a7=_0x153d2c;if(!currentProjectId)return;try{const _0x9fc316=doc(db,_0x34c2a7(0x6de)+appId+'/public/data/projects',currentProjectId),_0x24ba40=collection(db,_0x34c2a7(0x6de)+appId+_0x34c2a7(0x846)+currentProjectId+_0x34c2a7(0x22e)),_0x32af23=await getDocs(_0x24ba40),_0x34ae90=writeBatch(db);_0x34ae90['update'](_0x9fc316,{'students':[]}),_0x32af23[_0x34c2a7(0xa25)](_0x23189e=>_0x34ae90[_0x34c2a7(0x2ca)](_0x23189e[_0x34c2a7(0xbdc)])),await _0x34ae90[_0x34c2a7(0x3f1)]();}catch(_0x52d2ec){console[_0x34c2a7(0x7bc)](_0x34c2a7(0x395),_0x52d2ec),showMessage(_0x34c2a7(0x710));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x5dffcd){const _0xe9fde6=_0x1d7cc9,_0x26eafd=document[_0xe9fde6(0x773)]('file-topics-list-container'),_0x253bf1=document[_0xe9fde6(0x773)](_0xe9fde6(0xad1));_0x26eafd[_0xe9fde6(0x985)][_0xe9fde6(0xa54)](_0xe9fde6(0x806)),_0x253bf1[_0xe9fde6(0x8ec)]=_0xe9fde6(0xceb);try{const _0x5a7ef2=new FileReader();_0x5a7ef2['readAsDataURL'](_0x5dffcd),await new Promise((_0x1177d4,_0x2ecb9b)=>{const _0x5b9749=_0xe9fde6;_0x5a7ef2[_0x5b9749(0x4c6)]=()=>{const _0x2fc7ab=_0x5b9749;fileDataBase64=_0x5a7ef2['result']['split'](',')[0x1],fileMimeType=_0x5dffcd[_0x2fc7ab(0x900)],_0x1177d4();},_0x5a7ef2[_0x5b9749(0xdaa)]=_0x141738=>_0x2ecb9b(_0x141738);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0xe88174=_0xe9fde6(0x655),_0x1bd888={'type':_0xe9fde6(0x181),'properties':{'topics':{'type':'ARRAY','items':{'type':_0xe9fde6(0x3a5)}}},'required':[_0xe9fde6(0x64f)]},_0x1eb911=[{'text':_0xe88174},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x19e2a3=await handleApiCall(_0x1eb911,_0xe9fde6(0x2c9),_0x1bd888,null,![]);if(_0x19e2a3&&_0x19e2a3[_0xe9fde6(0x64f)])extractedFileTopics=_0x19e2a3[_0xe9fde6(0x64f)],renderFileTopics();else throw new Error(_0xe9fde6(0x49c));}catch(_0x3a9475){console[_0xe9fde6(0x7bc)](_0xe9fde6(0x951),_0x3a9475),_0x253bf1['innerHTML']=_0xe9fde6(0x468)+_0x3a9475[_0xe9fde6(0xcee)]+'</p>';}}function renderFileTopics(){const _0x1d3126=_0x1d7cc9,_0x439bde=document[_0x1d3126(0x773)](_0x1d3126(0xad1));if(extractedFileTopics[_0x1d3126(0x5df)]===0x0){_0x439bde[_0x1d3126(0x8ec)]=_0x1d3126(0xa79);return;}_0x439bde['innerHTML']=extractedFileTopics[_0x1d3126(0x9d3)](_0x1c5ad8=>_0x1d3126(0x397)+_0x1c5ad8+_0x1d3126(0xcfd)+escape(_0x1c5ad8)+_0x1d3126(0xfa)+escape(_0x1c5ad8)+_0x1d3126(0x7d6))[_0x1d3126(0x370)]('');}async function generateHybridQuizForTopic(_0x412506){const _0x1246f3=_0x1d7cc9,_0x474a14=parseInt(document[_0x1246f3(0x773)](_0x1246f3(0x6c6))[_0x1246f3(0xd9d)],0xa),_0xec1ebb=document[_0x1246f3(0x773)](_0x1246f3(0x2e2))[_0x1246f3(0xd9d)],_0x1bd092=document[_0x1246f3(0x773)](_0x1246f3(0x12f))[_0x1246f3(0xd9d)],_0x374971=document[_0x1246f3(0x773)](_0x1246f3(0xaf7))['checked'],_0x39aab0=_0x374971?_0x1246f3(0xd7):_0x1246f3(0xde);let _0x16d38b='',_0x3e4a04;const _0x29783f={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1246f3(0x37c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1246f3(0x1b3)},'explanation':{'type':_0x1246f3(0x3a5)},'imageCode':{'type':_0x1246f3(0x3a5)}},'required':[_0x1246f3(0xc27),_0x1246f3(0x50b),_0x1246f3(0xc68),_0x1246f3(0x4d2)]},_0x2a58c5={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x1246f3(0xae5)},'explanation':{'type':_0x1246f3(0x3a5)},'imageCode':{'type':'STRING'}},'required':[_0x1246f3(0xc27),_0x1246f3(0x77e),_0x1246f3(0x4d2)]},_0xe9cec3={'type':_0x1246f3(0x181),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1246f3(0x3a5)}},'required':['questionText',_0x1246f3(0x4b9),_0x1246f3(0x4d2)]},_0x42589b={'type':_0x1246f3(0x181),'properties':{'questionType':{'type':_0x1246f3(0x3a5),'enum':[_0x1246f3(0xe52)]},'stem':{'type':_0x1246f3(0x3a5)},'correctResponse':{'type':_0x1246f3(0x3a5)},'allResponses':{'type':'ARRAY','items':{'type':_0x1246f3(0x3a5)}},'explanation':{'type':_0x1246f3(0x3a5)},'imageCode':{'type':_0x1246f3(0x3a5)}},'required':[_0x1246f3(0xa8d),'stem','correctResponse',_0x1246f3(0x59d),_0x1246f3(0x4d2)]};switch(_0xec1ebb){case _0x1246f3(0xbed):const _0x149c01=_0x1246f3(0xd34);prompt=_0x1246f3(0x570)+subjectPrefix+'\x20'+settings[_0x1246f3(0x6e2)]+_0x1246f3(0x96f)+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+'.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20'+settings['numChoices']+_0x1246f3(0x44c)+_0x149c01+_0x1246f3(0x6d4)+_0x39aab0+'\x20'+simpleMathPrompt,schema=_0x29783f;break;case _0x1246f3(0xc39):_0x16d38b=_0x1246f3(0xd2),_0x3e4a04=_0x2a58c5;break;case _0x1246f3(0x488):_0x16d38b=_0x1246f3(0x414),_0x3e4a04=_0xe9cec3;break;case'matching':_0x16d38b=_0x1246f3(0xab2),_0x3e4a04=_0x42589b;break;case _0x1246f3(0xc55):_0x16d38b='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x1bd092+_0x1246f3(0x673),_0x3e4a04=_0x29783f;break;default:_0x16d38b=_0x1246f3(0x562)+_0x1bd092+_0x1246f3(0x673),_0x3e4a04=_0x29783f;break;}const _0x37e2e8='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x2b0d72=document[_0x1246f3(0x773)]('loader'),_0x2f96ff=document[_0x1246f3(0x773)](_0x1246f3(0x815)),_0x101056=document[_0x1246f3(0x773)]('generated-quiz-container');document[_0x1246f3(0x773)](_0x1246f3(0x647))[_0x1246f3(0x985)][_0x1246f3(0xa54)](_0x1246f3(0x806)),_0x101056[_0x1246f3(0x8ec)]='',_0x2b0d72[_0x1246f3(0x985)]['remove'](_0x1246f3(0x806)),_0x2f96ff['textContent']=_0x1246f3(0x404)+_0x412506+'\x22\x20จำนวน\x20'+_0x474a14+_0x1246f3(0x6f9);try{const _0x560bea='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0xd195dc=_0x1246f3(0x5cf)+_0x412506+_0x1246f3(0x5ae)+_0x474a14+_0x1246f3(0x25b)+_0x412506+_0x1246f3(0x4fd)+_0x474a14+_0x1246f3(0x766)+_0x39aab0+_0x1246f3(0x6f5)+_0x16d38b+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x37e2e8+_0x1246f3(0x4d0)+_0x560bea+_0x1246f3(0xdef)+simpleMathPrompt+_0x1246f3(0x8ca),_0x54dbba={'type':_0x1246f3(0x181),'properties':{'topic':{'type':_0x1246f3(0x3a5)},'questions':{'type':_0x1246f3(0x37c),'items':_0x3e4a04}},'required':[_0x1246f3(0xa37),_0x1246f3(0xcf9)]},_0x594a9c=[{'text':_0xd195dc},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x594a9c,'กำลังสร้างแบบทดสอบ\x20\x22'+_0x412506+_0x1246f3(0xd8f),_0x54dbba);}catch(_0x332084){console[_0x1246f3(0x7bc)](_0x1246f3(0x5be),_0x332084),showMessage(_0x1246f3(0x8ae)+_0x332084[_0x1246f3(0xcee)]),_0x101056[_0x1246f3(0x8ec)]=_0x1246f3(0x66a);}finally{_0x2b0d72[_0x1246f3(0x985)][_0x1246f3(0xd0a)](_0x1246f3(0x806));}}async function handleGenerateFromFileClick(){const _0xa8d167=_0x1d7cc9;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x4ec6ff=document[_0xa8d167(0x773)](_0xa8d167(0x388)),_0x20247b=document[_0xa8d167(0x773)]('loader-text'),_0x40bcfa=document['getElementById'](_0xa8d167(0x689)),_0x1aa672=document[_0xa8d167(0x773)](_0xa8d167(0xadb));_0x1aa672['disabled']=!![],document[_0xa8d167(0x773)](_0xa8d167(0x647))['classList'][_0xa8d167(0xa54)]('hidden'),_0x40bcfa['innerHTML']='',_0x4ec6ff[_0xa8d167(0x985)][_0xa8d167(0xa54)]('hidden'),_0x20247b[_0xa8d167(0xcd6)]=_0xa8d167(0x83e);try{const _0x1125b4=await new Promise((_0x4d913a,_0x146b90)=>{const _0x5d9903=_0xa8d167,_0x34f0f2=new FileReader();_0x34f0f2[_0x5d9903(0x15f)](selectedFile),_0x34f0f2[_0x5d9903(0x4c6)]=()=>_0x4d913a(_0x34f0f2[_0x5d9903(0xa53)][_0x5d9903(0xa50)](',')[0x1]),_0x34f0f2['onerror']=_0x8f3aed=>_0x146b90(_0x8f3aed);});await generateQuizFromFile(selectedFile[_0xa8d167(0x900)],_0x1125b4);}catch(_0x287964){console[_0xa8d167(0x7bc)](_0xa8d167(0x8f4),_0x287964),showMessage(_0xa8d167(0x359)+_0x287964['message']),_0x4ec6ff[_0xa8d167(0x985)][_0xa8d167(0xd0a)]('hidden'),_0x1aa672[_0xa8d167(0x67a)]=![];}}function autoFormatMath(_0x68b396){const _0xb95060=_0x1d7cc9;if(typeof _0x68b396!=='string'||!_0x68b396)return _0x68b396;const _0x54f383=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x3460b3=_0x68b396[_0xb95060(0xc21)](_0x54f383,_0x267526=>{const _0x7ff61=_0xb95060;return'$'+_0x267526[_0x7ff61(0xafd)]()+'$';});return _0x3460b3;}function sanitizeQuizData(_0x5e4e42){const _0x3ad06d=_0x1d7cc9;if(!_0x5e4e42||!_0x5e4e42[_0x3ad06d(0xcf9)])return _0x5e4e42;const _0x57715a=_0x46907d=>{const _0x1e4206=_0x3ad06d;if(typeof _0x46907d!=='string')return _0x46907d;let _0x45e5c2=_0x46907d;_0x45e5c2=_0x45e5c2[_0x1e4206(0xc21)](/\\\(/g,'$')[_0x1e4206(0xc21)](/\\\)/g,'$'),_0x45e5c2=_0x45e5c2[_0x1e4206(0xc21)](/\\\[/g,'$$')[_0x1e4206(0xc21)](/\\\]/g,'$$'),_0x45e5c2=_0x45e5c2['replace'](/\\?imes\b/g,_0x1e4206(0x1e7));const _0x2a8888=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x45e5c2=_0x45e5c2[_0x1e4206(0xc21)](_0x2a8888,_0x54f924=>{return'$'+_0x54f924['trim']()+'$';}),_0x45e5c2;};return _0x5e4e42[_0x3ad06d(0xa37)]&&(_0x5e4e42['topic']=_0x57715a(_0x5e4e42[_0x3ad06d(0xa37)])),_0x5e4e42['questions']['forEach'](_0x10f4da=>{const _0x5b794d=_0x3ad06d;_0x10f4da['questionText']=_0x57715a(_0x10f4da['questionText']),_0x10f4da[_0x5b794d(0x43c)]=_0x57715a(_0x10f4da[_0x5b794d(0x43c)]),_0x10f4da[_0x5b794d(0x50b)]&&(_0x10f4da[_0x5b794d(0x50b)]=_0x10f4da[_0x5b794d(0x50b)][_0x5b794d(0x9d3)](_0x146ac1=>_0x57715a(_0x146ac1))),_0x10f4da[_0x5b794d(0x4d2)]&&(_0x10f4da[_0x5b794d(0x4d2)]=_0x57715a(_0x10f4da[_0x5b794d(0x4d2)])),_0x10f4da[_0x5b794d(0x8e3)]&&(_0x10f4da[_0x5b794d(0x8e3)]=_0x57715a(_0x10f4da[_0x5b794d(0x8e3)])),_0x10f4da[_0x5b794d(0x59d)]&&(_0x10f4da[_0x5b794d(0x59d)]=_0x10f4da['allResponses']['map'](_0x39a179=>_0x57715a(_0x39a179))),_0x10f4da['idealAnswer']&&(_0x10f4da[_0x5b794d(0x4b9)]=_0x57715a(_0x10f4da[_0x5b794d(0x4b9)]));}),_0x5e4e42;}const simpleMathPrompt=_0x1d7cc9(0x4df);async function handleGenerateFromLink(){const _0x4a1ecd=_0x1d7cc9,_0x8981db=document[_0x4a1ecd(0x773)]('link-url-input'),_0x3dd819=document[_0x4a1ecd(0x773)](_0x4a1ecd(0xa35)),_0xaf6b74=_0x8981db[_0x4a1ecd(0xd9d)]['trim'](),_0x2774c7=_0x3dd819[_0x4a1ecd(0xd9d)][_0x4a1ecd(0xafd)]();if(!_0xaf6b74){showMessage(_0x4a1ecd(0xa42));return;}const _0x31db87=document[_0x4a1ecd(0x773)](_0x4a1ecd(0x388)),_0x2cfaaa=document[_0x4a1ecd(0x773)](_0x4a1ecd(0x815)),_0x450aef=document[_0x4a1ecd(0x773)](_0x4a1ecd(0x689)),_0x869834=document[_0x4a1ecd(0x773)](_0x4a1ecd(0x467));document['getElementById'](_0x4a1ecd(0x647))[_0x4a1ecd(0x985)][_0x4a1ecd(0xa54)]('hidden'),_0x450aef['innerHTML']='',_0x31db87[_0x4a1ecd(0x985)][_0x4a1ecd(0xa54)]('hidden'),_0x2cfaaa['textContent']=_0x4a1ecd(0x52e),_0x869834[_0x4a1ecd(0x67a)]=!![];try{const _0x339b98='https://corsproxy.io/?'+encodeURIComponent(_0xaf6b74),_0x185b92=await fetch(_0x339b98);if(!_0x185b92['ok'])throw new Error(_0x4a1ecd(0x6b4)+_0x185b92['status']+')');const _0x394307=await _0x185b92['text'](),_0x35274d=extractTextFromHtml(_0x394307);if(!_0x35274d||_0x35274d['length']<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x2774c7,_0x35274d);}catch(_0x450356){console[_0x4a1ecd(0x7bc)](_0x4a1ecd(0xbc6),_0x450356),showMessage('เกิดข้อผิดพลาด:\x20'+_0x450356['message']),_0x450aef[_0x4a1ecd(0x8ec)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x31db87['classList'][_0x4a1ecd(0xd0a)](_0x4a1ecd(0x806)),_0x869834[_0x4a1ecd(0x67a)]=![];}}function extractTextFromHtml(_0x50f073){const _0x8c338=_0x1d7cc9,_0x5763d0=new DOMParser()[_0x8c338(0x298)](_0x50f073,_0x8c338(0x422));return _0x5763d0[_0x8c338(0x4a1)](_0x8c338(0x5fd))[_0x8c338(0xa25)](_0x46d64c=>_0x46d64c['remove']()),_0x5763d0[_0x8c338(0xb31)][_0x8c338(0xcd6)]||'';}document[_0x1d7cc9(0x773)]('generate-from-topic-btn')[_0x1d7cc9(0x6f7)](_0x1d7cc9(0x2af),()=>{const _0x5dc58e=_0x1d7cc9,_0x1b964c=document[_0x5dc58e(0x773)](_0x5dc58e(0x273))[_0x5dc58e(0xd9d)][_0x5dc58e(0xafd)]();generateQuiz(_0x1b964c,null);}),document[_0x1d7cc9(0x773)]('generate-from-text-btn')[_0x1d7cc9(0x6f7)](_0x1d7cc9(0x2af),()=>{const _0x69692f=_0x1d7cc9,_0xa9d8a6=document[_0x69692f(0x773)](_0x69692f(0x11d))[_0x69692f(0xd9d)][_0x69692f(0xafd)]();if(!_0xa9d8a6){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0xa8c540=document[_0x69692f(0x773)]('topic-input')[_0x69692f(0xd9d)][_0x69692f(0xafd)]();generateQuiz(_0xa8c540,_0xa9d8a6);});async function generateQuiz(_0xd07786,_0x43451a,_0x53b4e9=null,_0x5aec91=null,_0x64a4d5=![],_0x366a30=null,_0x27a62e=null,_0x574cf2=![]){const _0x4a1f6a=_0x1d7cc9;let _0x13b376={};if(_0x64a4d5&&blueprintPageSettings)_0x13b376=blueprintPageSettings;else{const _0x47f864=document['querySelectorAll'](_0x4a1f6a(0x78c));_0x13b376={'quizType':document[_0x4a1f6a(0x773)](_0x4a1f6a(0x2e2))[_0x4a1f6a(0xd9d)],'numQuestions':document[_0x4a1f6a(0x773)](_0x4a1f6a(0x6c6))['value'],'numChoices':document[_0x4a1f6a(0x773)]('num-choices')[_0x4a1f6a(0xd9d)],'includeImages':document[_0x4a1f6a(0x773)](_0x4a1f6a(0xaf7))[_0x4a1f6a(0x17e)],'isNormalTopic':document['getElementById'](_0x4a1f6a(0xc50))[_0x4a1f6a(0x17e)],'difficultyValue':document[_0x4a1f6a(0x773)]('difficulty-level-select')[_0x4a1f6a(0xd9d)],'complexityValue':document[_0x4a1f6a(0x773)](_0x4a1f6a(0x180))[_0x4a1f6a(0xd9d)],'selectedTopicNames':Array[_0x4a1f6a(0xc85)](_0x47f864)['map'](_0x50ae79=>_0x50ae79['value'])};}const _0x1ca454=_0x13b376[_0x4a1f6a(0xd76)]?'':_0x4a1f6a(0x331),_0x5e9338=_0x13b376['difficultyValue']!==_0x4a1f6a(0x832)?_0x4a1f6a(0x920)+_0x13b376[_0x4a1f6a(0x321)]+'\x22':'',_0xa1d7f3=_0x13b376[_0x4a1f6a(0x510)]!==_0x4a1f6a(0xbc9)?_0x4a1f6a(0xbe5)+_0x13b376[_0x4a1f6a(0x510)]+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy':'';let _0x5e81fd='';_0x13b376[_0x4a1f6a(0xe1)]&&_0x13b376[_0x4a1f6a(0xe1)][_0x4a1f6a(0x5df)]>0x0&&(_0x5e81fd=_0x4a1f6a(0x3ee)+_0x13b376['selectedTopicNames'][_0x4a1f6a(0x370)](',\x20')+'.');let _0xdd6053='';_0x5aec91&&(_0xdd6053='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x4000ff='',_0x455a14='',_0x1e25b5,_0xe99b1d='เกี่ยวกับหัวข้อ\x20\x22'+_0xd07786+'\x22';if(!_0xd07786&&_0x43451a)_0xe99b1d=_0x4a1f6a(0xa31);else!_0xd07786&&!_0x43451a&&(_0xe99b1d='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x568865={'type':_0x4a1f6a(0x181),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x4a1f6a(0x37c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4a1f6a(0x1b3)},'explanation':{'type':_0x4a1f6a(0x3a5)},'imageCode':{'type':_0x4a1f6a(0x3a5)}},'required':['questionText',_0x4a1f6a(0x50b),_0x4a1f6a(0xc68),'explanation']},_0x20fec2={'type':_0x4a1f6a(0x181),'properties':{'questionText':{'type':_0x4a1f6a(0x3a5)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4a1f6a(0x3a5)}},'required':[_0x4a1f6a(0xc27),_0x4a1f6a(0x4b9),_0x4a1f6a(0x4d2)]},_0x548604={'type':_0x4a1f6a(0x181),'properties':{'questionText':{'type':_0x4a1f6a(0x3a5)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x4a1f6a(0x33a)]},'options':{'type':'ARRAY','items':{'type':_0x4a1f6a(0x3a5)}},'correctAnswerIndex':{'type':_0x4a1f6a(0x1b3)},'idealAnswer':{'type':_0x4a1f6a(0x3a5)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4a1f6a(0x3a5)}},'required':['questionText',_0x4a1f6a(0xa8d),'explanation']},_0x5e812e={'type':'OBJECT','properties':{'questionText':{'type':_0x4a1f6a(0x3a5)},'correctAnswer':{'type':_0x4a1f6a(0xae5)},'explanation':{'type':_0x4a1f6a(0x3a5)},'imageCode':{'type':_0x4a1f6a(0x3a5)}},'required':[_0x4a1f6a(0xc27),'correctAnswer',_0x4a1f6a(0x4d2)]},_0x362e24={'type':_0x4a1f6a(0x181),'properties':{'questionType':{'type':_0x4a1f6a(0x3a5),'enum':[_0x4a1f6a(0xe52)]},'stem':{'type':_0x4a1f6a(0x3a5)},'correctResponse':{'type':_0x4a1f6a(0x3a5)},'allResponses':{'type':_0x4a1f6a(0x37c),'items':{'type':'STRING'}},'explanation':{'type':_0x4a1f6a(0x3a5)},'imageCode':{'type':_0x4a1f6a(0x3a5)}},'required':['questionType',_0x4a1f6a(0x43c),_0x4a1f6a(0x8e3),'allResponses',_0x4a1f6a(0x4d2)]};let _0x5c6b6e;if(_0x53b4e9!==null){const _0x5d4a1f=currentQuizData[_0x4a1f6a(0xcf9)][_0x53b4e9][_0x4a1f6a(0xa8d)],_0x39c35b=_0x13b376[_0x4a1f6a(0xe29)]?_0x4a1f6a(0xb3b):'';_0x4000ff=_0x4a1f6a(0x792)+_0xe99b1d+'\x20'+_0x5e81fd+'\x20'+_0x5e9338+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x39c35b+'\x20'+simpleMathPrompt;if(_0x5d4a1f===_0x4a1f6a(0xbed))_0x1e25b5=_0x568865;else{if(_0x5d4a1f===_0x4a1f6a(0xe52))_0x1e25b5={'type':_0x4a1f6a(0x181),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x4a1f6a(0x3a5)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x4a1f6a(0x3a5)},'imageCode':{'type':'STRING'}},'required':[_0x4a1f6a(0xa8d),_0x4a1f6a(0x43c),_0x4a1f6a(0x8e3),_0x4a1f6a(0x4d2)]};else _0x1e25b5=_0x20fec2;}_0x5c6b6e=_0x1e25b5;}else{const _0x18ab53=_0x13b376['includeImages']?_0x4a1f6a(0xc6):'';switch(_0x13b376[_0x4a1f6a(0xd83)]){case _0x4a1f6a(0xbed):const _0x401fbe=_0x4a1f6a(0xd34);_0x4000ff=_0x4a1f6a(0x570)+_0x1ca454+'\x20'+_0x13b376[_0x4a1f6a(0x6e2)]+_0x4a1f6a(0x96f)+_0xe99b1d+'\x20'+_0x5e81fd+'\x20'+_0x5e9338+'\x20'+_0xa1d7f3+'\x20'+_0xdd6053+_0x4a1f6a(0x72b)+_0x13b376[_0x4a1f6a(0xe01)]+_0x4a1f6a(0x44c)+_0x401fbe+_0x4a1f6a(0x6d4)+_0x18ab53+'\x20'+simpleMathPrompt,_0x1e25b5=_0x568865;break;case _0x4a1f6a(0xc55):_0x4000ff=_0x4a1f6a(0xce5)+_0x1ca454+'\x20'+_0x13b376[_0x4a1f6a(0x6e2)]+_0x4a1f6a(0x96f)+_0xe99b1d+'\x20'+_0x5e81fd+'\x20'+_0x5e9338+'\x20'+_0xa1d7f3+'\x20'+_0xdd6053+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x13b376[_0x4a1f6a(0xe01)]+_0x4a1f6a(0x33e)+_0x18ab53+'\x20'+simpleMathPrompt,_0x1e25b5=_0x568865;break;case'fill_in_no_choices':_0x4000ff='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x1ca454+'\x20'+_0x13b376[_0x4a1f6a(0x6e2)]+'\x20ข้อ\x20'+_0xe99b1d+'\x20'+_0x5e81fd+'\x20'+_0x5e9338+'\x20'+_0xa1d7f3+'\x20'+_0xdd6053+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x18ab53+'\x20'+simpleMathPrompt,_0x1e25b5=_0x20fec2;break;case _0x4a1f6a(0xbc9):_0x4000ff=_0x4a1f6a(0x114)+_0x1ca454+'\x20'+_0x13b376['numQuestions']+_0x4a1f6a(0x96f)+_0xe99b1d+'\x20'+_0x5e81fd+'\x20'+_0x5e9338+'\x20'+_0xa1d7f3+'\x20'+_0xdd6053+_0x4a1f6a(0x698)+_0x13b376[_0x4a1f6a(0xe01)]+_0x4a1f6a(0x4f4)+_0x18ab53+'\x20'+simpleMathPrompt+'.',_0x1e25b5=_0x548604;break;case _0x4a1f6a(0xc39):_0x4000ff=_0x4a1f6a(0xe4c)+_0x1ca454+'\x20'+_0x13b376[_0x4a1f6a(0x6e2)]+_0x4a1f6a(0x96f)+_0xe99b1d+'\x20'+_0x5e81fd+'\x20'+_0x5e9338+'\x20'+_0xa1d7f3+'\x20'+_0xdd6053+_0x4a1f6a(0xd04)+_0x18ab53+'\x20'+simpleMathPrompt,_0x1e25b5=_0x5e812e;break;case'matching':_0x4000ff='สร้างชุดคำถามจับคู่'+_0x1ca454+'\x20'+_0x13b376[_0x4a1f6a(0x6e2)]+_0x4a1f6a(0x5a1)+_0xe99b1d+'\x20'+_0x5e81fd+'\x20'+_0x5e9338+'\x20'+_0xa1d7f3+'\x20'+_0xdd6053+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x18ab53+'\x20'+simpleMathPrompt,_0x1e25b5=_0x362e24;break;}_0x5c6b6e={'type':_0x4a1f6a(0x181),'properties':{'topic':{'type':_0x4a1f6a(0x3a5)},'questions':{'type':'ARRAY','items':_0x1e25b5}},'required':[_0x4a1f6a(0xa37),_0x4a1f6a(0xcf9)]};}const _0x38aebf=_0x4a1f6a(0x96c);_0x43451a?(_0x574cf2?_0x4000ff='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x43451a+_0x4a1f6a(0x851)+_0x4000ff+_0x38aebf:_0x4000ff=_0x4a1f6a(0x4f5)+_0x43451a+_0x4a1f6a(0x851)+_0x4000ff,_0x455a14=_0x4a1f6a(0x3b7)):(_0x574cf2&&(_0x4000ff+=_0x38aebf),_0x455a14=_0x4a1f6a(0x8b5));let _0x5502b6;return _0x5aec91?(_0x5502b6=[{'text':_0x4000ff},..._0x5aec91],_0x455a14=_0x4a1f6a(0xe5a)):_0x5502b6=_0x4000ff,handleApiCall(_0x5502b6,_0x455a14,_0x5c6b6e,_0x53b4e9,!![],_0x366a30,_0x27a62e);}async function generateQuizFromFile(_0x39809e,_0x2e4ed4){const _0x464710=_0x1d7cc9,_0x297274=document[_0x464710(0x773)](_0x464710(0x736))[_0x464710(0xd9d)][_0x464710(0xafd)](),_0x4abff2=document[_0x464710(0x773)](_0x464710(0x2e2))[_0x464710(0xd9d)],_0x1d3dea=document[_0x464710(0x773)](_0x464710(0x6c6))['value'],_0xed4fd=document[_0x464710(0x773)](_0x464710(0x12f))[_0x464710(0xd9d)],_0x3caad7=document['getElementById'](_0x464710(0xaf7))['checked'],_0x141665=document[_0x464710(0x773)](_0x464710(0xc50))[_0x464710(0x17e)],_0x10479d=_0x141665?'':_0x464710(0x331),_0xe34e04=document['getElementById'](_0x464710(0x528))[_0x464710(0x17e)];let _0x4fe3c4='',_0x30bcf5;const _0x3258e4=_0x3caad7?_0x464710(0xc6):'';if(_0xe34e04)_0x4fe3c4=_0x464710(0x477)+_0x3258e4+'\x0a'+simpleMathPrompt+'\x0a',_0x30bcf5={'type':_0x464710(0x181),'properties':{'questionText':{'type':_0x464710(0x3a5)},'questionType':{'type':_0x464710(0x3a5),'enum':[_0x464710(0xbed),_0x464710(0x33a),_0x464710(0xc39),_0x464710(0xe52)]},'options':{'type':'ARRAY','items':{'type':_0x464710(0x3a5)}},'correctAnswerIndex':{'type':_0x464710(0x1b3)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x464710(0xae5)},'stem':{'type':_0x464710(0x3a5)},'correctResponse':{'type':_0x464710(0x3a5)},'allResponses':{'type':_0x464710(0x37c),'items':{'type':'STRING'}},'explanation':{'type':_0x464710(0x3a5)},'imageCode':{'type':_0x464710(0x3a5)}},'required':[_0x464710(0xa8d),'explanation']};else{let _0x2aea8f=_0x464710(0x9b0)+_0x297274+'\x22';!_0x297274&&(_0x2aea8f=_0x464710(0x964));switch(_0x4abff2){case _0x464710(0xbed):const _0x1a2043=_0x464710(0x6c5);_0x4fe3c4=_0x464710(0x570)+_0x10479d+'\x20'+_0x1d3dea+'\x20ข้อ\x20'+_0x2aea8f+_0x464710(0x4fb)+_0xed4fd+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20'+_0x1a2043+'\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20'+_0x3258e4+'\x20'+simpleMathPrompt,_0x30bcf5={'type':'OBJECT','properties':{'questionText':{'type':_0x464710(0x3a5)},'options':{'type':_0x464710(0x37c),'items':{'type':_0x464710(0x3a5)}},'correctAnswerIndex':{'type':_0x464710(0x1b3)},'explanation':{'type':_0x464710(0x3a5)},'imageCode':{'type':'STRING'}},'required':[_0x464710(0xc27),'options','correctAnswerIndex','explanation']};break;case'fill_in_with_choices':_0x4fe3c4=_0x464710(0xce5)+_0x10479d+'\x20'+_0x1d3dea+_0x464710(0x96f)+_0x2aea8f+_0x464710(0x54a)+_0xed4fd+_0x464710(0x33e)+_0x3258e4+'\x20'+simpleMathPrompt,_0x30bcf5={'type':_0x464710(0x181),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x464710(0x37c),'items':{'type':_0x464710(0x3a5)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x464710(0x3a5)},'imageCode':{'type':_0x464710(0x3a5)}},'required':[_0x464710(0xc27),_0x464710(0x50b),'correctAnswerIndex',_0x464710(0x4d2)]};break;case _0x464710(0x488):_0x4fe3c4=_0x464710(0xce5)+_0x10479d+'\x20'+_0x1d3dea+'\x20ข้อ\x20'+_0x2aea8f+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x3258e4+'\x20'+simpleMathPrompt,_0x30bcf5={'type':_0x464710(0x181),'properties':{'questionText':{'type':_0x464710(0x3a5)},'idealAnswer':{'type':_0x464710(0x3a5)},'explanation':{'type':_0x464710(0x3a5)},'imageCode':{'type':_0x464710(0x3a5)}},'required':[_0x464710(0xc27),_0x464710(0x4b9),_0x464710(0x4d2)]};break;case _0x464710(0xbc9):_0x4fe3c4=_0x464710(0x114)+_0x10479d+'\x20'+_0x1d3dea+_0x464710(0x96f)+_0x2aea8f+_0x464710(0x3e9)+_0xed4fd+_0x464710(0xa40)+_0x3258e4+'\x20'+simpleMathPrompt+_0x464710(0xd08),_0x30bcf5={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x464710(0x3a5),'enum':[_0x464710(0xbed),_0x464710(0x33a)]},'options':{'type':_0x464710(0x37c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x464710(0x1b3)},'idealAnswer':{'type':_0x464710(0x3a5)},'explanation':{'type':_0x464710(0x3a5)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x464710(0xa8d),_0x464710(0x4d2)]};break;case _0x464710(0xc39):_0x4fe3c4='สร้างคำถามแบบใช่/ไม่ใช่'+_0x10479d+'\x20'+_0x1d3dea+_0x464710(0x96f)+_0x2aea8f+_0x464710(0x1b7)+_0x3258e4+'\x20'+simpleMathPrompt,_0x30bcf5={'type':_0x464710(0x181),'properties':{'questionText':{'type':_0x464710(0x3a5)},'correctAnswer':{'type':_0x464710(0xae5)},'explanation':{'type':_0x464710(0x3a5)},'imageCode':{'type':_0x464710(0x3a5)}},'required':[_0x464710(0xc27),_0x464710(0x77e),_0x464710(0x4d2)]};break;case _0x464710(0xdc3):_0x4fe3c4='สร้างชุดคำถามจับคู่'+_0x10479d+'\x20'+_0x1d3dea+'\x20คู่\x20'+_0x2aea8f+_0x464710(0x369)+_0x1d3dea+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x3258e4+'\x20'+simpleMathPrompt,_0x30bcf5={'type':_0x464710(0x181),'properties':{'questionType':{'type':_0x464710(0x3a5),'enum':[_0x464710(0xe52)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x464710(0x3a5)},'allResponses':{'type':_0x464710(0x37c),'items':{'type':_0x464710(0x3a5)}},'explanation':{'type':_0x464710(0x3a5)},'imageCode':{'type':'STRING'}},'required':[_0x464710(0xa8d),_0x464710(0x43c),'correctResponse','allResponses',_0x464710(0x4d2)]};break;}}const _0x13f7e8={'type':'OBJECT','properties':{'topic':{'type':_0x464710(0x3a5)},'questions':{'type':_0x464710(0x37c),'items':_0x30bcf5}},'required':[_0x464710(0xa37),_0x464710(0xcf9)]},_0x54cac4=_0x464710(0x607)+_0x4fe3c4,_0x18ccd3={'contents':[{'parts':[{'text':_0x54cac4},{'inlineData':{'mimeType':_0x39809e,'data':_0x2e4ed4}}]}],'generationConfig':{'responseMimeType':_0x464710(0x988),'responseSchema':_0x13f7e8}};return handleApiCall(_0x18ccd3['contents'][0x0]['parts'],_0x464710(0xcf6),_0x13f7e8);}async function handleApiCall(_0x28151c,_0x26f84b,_0x1d7dd8,_0x496961=null,_0x260c66=!![],_0x326e41=null,_0x1600d6=null){const _0xef00f2=_0x1d7cc9,_0x13e793=document[_0xef00f2(0x773)](_0xef00f2(0x647)),_0x58535a=document[_0xef00f2(0x773)](_0xef00f2(0x388)),_0xb1088=document[_0xef00f2(0x773)]('loader-text'),_0x56ce46=document['getElementById']('generated-quiz-container');_0x13e793[_0xef00f2(0x985)][_0xef00f2(0xa54)](_0xef00f2(0x806));_0x496961===null&&_0x260c66&&(_0x56ce46['innerHTML']='');_0x58535a[_0xef00f2(0x985)][_0xef00f2(0xa54)](_0xef00f2(0x806)),_0xb1088['textContent']=_0x26f84b,document[_0xef00f2(0x773)](_0xef00f2(0x30c))['disabled']=!![],document[_0xef00f2(0x773)]('generate-from-text-btn')['disabled']=!![],document[_0xef00f2(0x773)](_0xef00f2(0x467))['disabled']=!![];const _0x2e22be=document['getElementById']('generate-from-file-btn');if(_0x2e22be)_0x2e22be[_0xef00f2(0x67a)]=!![];const _0x1e778e=document[_0xef00f2(0x773)](_0xef00f2(0xcae));if(_0x1e778e)_0x1e778e[_0xef00f2(0x67a)]=!![];const _0x4ff124=document['getElementById'](_0xef00f2(0xbd4));if(_0x4ff124)_0x4ff124['disabled']=!![];try{const _0x5838c0=Array[_0xef00f2(0x29c)](_0x28151c)?_0x28151c:[{'text':_0x28151c}],_0x2c1644={'contents':[{'role':_0xef00f2(0x33d),'parts':_0x5838c0}]};_0x1d7dd8&&(_0x2c1644[_0xef00f2(0x701)]={'responseMimeType':_0xef00f2(0x988),'responseSchema':_0x1d7dd8});const _0x160ffd=_0xef00f2(0x300),_0x3c0c65=_0xef00f2(0xa4d)+_0x160ffd,_0x57d3f7=await fetch(_0x3c0c65,{'method':_0xef00f2(0x621),'headers':{'Content-Type':_0xef00f2(0x988)},'body':JSON[_0xef00f2(0xbd7)](_0x2c1644)});if(!_0x57d3f7['ok']){const _0xcc536a=await _0x57d3f7['text']();console[_0xef00f2(0x7bc)](_0xef00f2(0xf2),_0xcc536a);throw new Error(_0xef00f2(0x66d)+_0x57d3f7[_0xef00f2(0xfc)]);}const _0x4415d0=await _0x57d3f7[_0xef00f2(0x487)]();if(!_0x4415d0[_0xef00f2(0x9e3)]||_0x4415d0[_0xef00f2(0x9e3)][_0xef00f2(0x5df)]===0x0){let _0x110361=_0xef00f2(0xbad);return _0x4415d0[_0xef00f2(0x797)]?.['blockReason']&&(_0x110361=_0xef00f2(0x121)+_0x4415d0['promptFeedback'][_0xef00f2(0x9bd)]+'.'),console[_0xef00f2(0x7bc)](_0x110361,JSON[_0xef00f2(0xbd7)](_0x4415d0)),null;}const _0x356c47=_0x4415d0[_0xef00f2(0x9e3)][0x0][_0xef00f2(0x7bf)][_0xef00f2(0x1a9)][0x0][_0xef00f2(0xab4)];if(_0x1d7dd8){let _0x3213a2=_0x356c47;if(_0x3213a2['startsWith'](_0xef00f2(0x5c7)))_0x3213a2=_0x3213a2[_0xef00f2(0xf5)](0x7,_0x3213a2['length']-0x3)[_0xef00f2(0xafd)]();else _0x3213a2[_0xef00f2(0x1aa)](_0xef00f2(0xbf5))&&(_0x3213a2=_0x3213a2[_0xef00f2(0xf5)](0x3,_0x3213a2['length']-0x3)[_0xef00f2(0xafd)]());let _0x2039b3=JSON[_0xef00f2(0xbf7)](_0x3213a2);if(_0x2039b3['questions']&&Array[_0xef00f2(0x29c)](_0x2039b3[_0xef00f2(0xcf9)])){const _0x215a33=_0x2039b3['questions']['filter'](_0x25a6b6=>_0x25a6b6[_0xef00f2(0xa8d)]==='matching_item');if(_0x215a33[_0xef00f2(0x5df)]>0x1){const _0x560c5e=_0x215a33['map'](_0x1daed6=>_0x1daed6[_0xef00f2(0x8e3)])[_0xef00f2(0x485)](_0x46e94c=>_0x46e94c&&_0x46e94c['trim']()!=='');shuffleArray(_0x560c5e),_0x215a33[_0xef00f2(0xa25)](_0x4d400b=>{const _0x3d884d=_0xef00f2;_0x4d400b[_0x3d884d(0x59d)]=[..._0x560c5e];}),console[_0xef00f2(0xe59)](_0xef00f2(0x946),_0x560c5e);}}if(_0x260c66){if(_0x496961!==null){if(currentEditingQuizData&&currentEditingQuizData[_0xef00f2(0xcf9)]){}}else currentQuizData=_0x2039b3,displayGeneratedQuiz(currentQuizData,_0x326e41,_0x1600d6);}return _0x2039b3;}else return _0x356c47;}catch(_0xa7cfe0){console[_0xef00f2(0x7bc)]('Error\x20in\x20handleApiCall:',_0xa7cfe0),showMessage(_0xef00f2(0x502)+_0xa7cfe0[_0xef00f2(0xcee)]);_0x260c66&&(_0x56ce46[_0xef00f2(0x8ec)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>');throw _0xa7cfe0;}finally{_0x58535a['classList'][_0xef00f2(0xd0a)]('hidden'),document['getElementById']('generate-from-topic-btn')[_0xef00f2(0x67a)]=![],document['getElementById'](_0xef00f2(0x5b4))[_0xef00f2(0x67a)]=![],document[_0xef00f2(0x773)](_0xef00f2(0x467))[_0xef00f2(0x67a)]=![];if(_0x2e22be)_0x2e22be[_0xef00f2(0x67a)]=![];if(_0x1e778e)_0x1e778e[_0xef00f2(0x67a)]=![];if(_0x4ff124)_0x4ff124[_0xef00f2(0x67a)]=![];}}function exitFullscreen(){const _0x3b419f=_0x1d7cc9;if(document[_0x3b419f(0x131)])document[_0x3b419f(0x131)]()[_0x3b419f(0x222)](_0x45dac3=>console['error'](_0x45dac3));else{if(document[_0x3b419f(0xa39)])document[_0x3b419f(0xa39)]();else document['msExitFullscreen']&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x2898c9=_0x1d7cc9,_0x1aff73=document[_0x2898c9(0x136)];if(_0x1aff73[_0x2898c9(0xa61)])_0x1aff73['requestFullscreen']()[_0x2898c9(0x222)](_0x35e4e7=>{const _0x46c703=_0x2898c9;console[_0x46c703(0x7bc)]('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x35e4e7[_0x46c703(0xcee)]+'\x20('+_0x35e4e7[_0x46c703(0xb30)]+')');});else{if(_0x1aff73[_0x2898c9(0x612)])_0x1aff73[_0x2898c9(0x612)]();else _0x1aff73[_0x2898c9(0xd3c)]&&_0x1aff73[_0x2898c9(0xd3c)]();}}function handleCheatingEvent(){const _0x6ebe65=_0x1d7cc9;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x6ebe65(0xe64),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x6ebe65(0x8b8)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x6ebe65(0x773)](_0x6ebe65(0x804))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x6ebe65(0x343),handleVisibilityChange),document['removeEventListener']('fullscreenchange',handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x6ebe65(0xab3),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x493ee7=_0x1d7cc9;if(currentMode===_0x493ee7(0x511)||!isQuizActive)return;if(document[_0x493ee7(0x6e3)]===_0x493ee7(0x806))handleCheatingEvent();else document[_0x493ee7(0x6e3)]===_0x493ee7(0x24d)&&(console[_0x493ee7(0xe59)](_0x493ee7(0x5b5)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x48bb6f=_0x1d7cc9;if(currentMode===_0x48bb6f(0x511)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x2518a5,_0x20028c=null,_0x55d061=null){const _0x50c2b5=_0x1d7cc9,_0x8a8458=document[_0x50c2b5(0x773)](_0x50c2b5(0x689));let _0x4232a6=_0x50c2b5(0xd55)+_0x2518a5[_0x50c2b5(0xa37)]+_0x50c2b5(0x886);_0x2518a5[_0x50c2b5(0xcf9)]['forEach']((_0xdbafa5,_0x424c55)=>{const _0x557e8d=_0x50c2b5;!_0xdbafa5['id']&&(_0xdbafa5['id']='q_'+Date[_0x557e8d(0xdbe)]()+'_'+_0x424c55);const _0x1d75b1=_0xdbafa5[_0x557e8d(0xa8d)]||_0x2518a5[_0x557e8d(0xd83)];_0x4232a6+=_0x557e8d(0x3da)+_0x424c55+_0x557e8d(0x761)+_0x424c55+_0x557e8d(0x4a5)+_0x424c55+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x1d75b1===_0x557e8d(0xe52)?_0x4232a6+=_0x557e8d(0x722)+_0x424c55+'\x22>'+(_0x424c55+0x1)+'.\x20'+_0xdbafa5[_0x557e8d(0x43c)]+_0x557e8d(0xd28):_0x4232a6+=_0x557e8d(0x722)+_0x424c55+'\x22>'+(_0x424c55+0x1)+'.\x20'+_0xdbafa5[_0x557e8d(0xc27)]+'</p>';_0xdbafa5[_0x557e8d(0x52c)]&&(_0x4232a6+=_0x557e8d(0x71a)+_0x424c55+_0x557e8d(0xd6c)+_0xdbafa5['imageCode']+_0x557e8d(0x1b1));if(_0xdbafa5[_0x557e8d(0x50b)]&&Array['isArray'](_0xdbafa5[_0x557e8d(0x50b)])&&_0xdbafa5[_0x557e8d(0x50b)][_0x557e8d(0x5df)]>0x0)_0x4232a6+=_0x557e8d(0xb5e)+_0x424c55+_0x557e8d(0x4ef)+_0xdbafa5['options'][_0x557e8d(0x9d3)]((_0x2e889c,_0x5f0477)=>_0x557e8d(0xc91)+(_0x5f0477===_0xdbafa5[_0x557e8d(0xc68)]?_0x557e8d(0x902):'')+'\x22>'+_0x2e889c+'</li>')[_0x557e8d(0x370)]('')+_0x557e8d(0x310);else{if(_0x1d75b1==='matching_item'||_0xdbafa5[_0x557e8d(0x8e3)])_0x4232a6+=_0x557e8d(0x7cf)+_0x424c55+'\x22>'+_0xdbafa5['correctResponse']+_0x557e8d(0x6ed);else{if(_0x1d75b1==='true_false'||typeof _0xdbafa5['correctAnswer']===_0x557e8d(0xa38))_0x4232a6+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0xdbafa5['correctAnswer']===!![]?_0x557e8d(0x902):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0xdbafa5[_0x557e8d(0x77e)]===![]?_0x557e8d(0x902):'')+_0x557e8d(0x7bb);else _0xdbafa5[_0x557e8d(0x4b9)]?_0x4232a6+=_0x557e8d(0xe23)+_0x424c55+'\x22>'+_0xdbafa5[_0x557e8d(0x4b9)]+_0x557e8d(0x6ed):_0x4232a6+='<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>';}}_0x4232a6+=_0x557e8d(0x383)+_0x424c55+'\x22>'+_0xdbafa5[_0x557e8d(0x4d2)]+_0x557e8d(0x6ed),_0x4232a6+=_0x557e8d(0x1b1);}),_0x4232a6+=_0x50c2b5(0x616),_0x8a8458[_0x50c2b5(0x8ec)]=_0x4232a6,document[_0x50c2b5(0x4a1)](_0x50c2b5(0x899))['forEach'](_0x2a814f=>_0x2a814f[_0x50c2b5(0x6f7)](_0x50c2b5(0x2af),handleEditQuestion)),document[_0x50c2b5(0x4a1)](_0x50c2b5(0x652))[_0x50c2b5(0xa25)](_0x3d7c74=>_0x3d7c74[_0x50c2b5(0x6f7)](_0x50c2b5(0x2af),handleRegenerateQuestion)),document[_0x50c2b5(0x773)](_0x50c2b5(0x3b9))['addEventListener'](_0x50c2b5(0x2af),exportQuizAsWorksheetPDF),document['getElementById'](_0x50c2b5(0x940))['addEventListener'](_0x50c2b5(0x2af),handleVerifyAnswers);const _0x516f40=document['getElementById'](_0x50c2b5(0x227));if(_0x516f40){const _0x3037a4=_0x20028c||currentProjectId;_0x516f40[_0x50c2b5(0x6f7)](_0x50c2b5(0x2af),()=>saveQuiz(_0x3037a4,_0x55d061));}if(window['MathJax'])window[_0x50c2b5(0x6a1)][_0x50c2b5(0x7c9)]([_0x8a8458]);}function handleRegenerateQuestion(_0x3da047){const _0xec5b20=_0x1d7cc9,_0x5d8998=_0x3da047[_0xec5b20(0x236)][_0xec5b20(0x576)]['index'],_0x5ce086=currentQuizData['topic'];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x5d8998)+0x1)+_0xec5b20(0x833)),generateQuiz(_0x5ce086,null,parseInt(_0x5d8998));}function getPointerPosition(_0x12d4a4,_0x362e08){const _0x1afaa9=_0x1d7cc9,_0x5b7da2=_0x12d4a4[_0x1afaa9(0x67d)]();let _0x59b442,_0x14c465;return _0x362e08[_0x1afaa9(0x3aa)]&&_0x362e08[_0x1afaa9(0x3aa)][_0x1afaa9(0x5df)]>0x0?(_0x59b442=_0x362e08['touches'][0x0][_0x1afaa9(0xd86)],_0x14c465=_0x362e08[_0x1afaa9(0x3aa)][0x0][_0x1afaa9(0x9dd)]):(_0x59b442=_0x362e08[_0x1afaa9(0xd86)],_0x14c465=_0x362e08['clientY']),{'x':(_0x59b442-_0x5b7da2['e'])/_0x5b7da2['a'],'y':(_0x14c465-_0x5b7da2['f'])/_0x5b7da2['d']};}function startDrag(_0x33e6e2){const _0x1c4470=_0x1d7cc9;_0x33e6e2['type']==='touchstart'&&_0x33e6e2[_0x1c4470(0x952)]();const _0x3e6e79=_0x33e6e2[_0x1c4470(0x674)][_0x1c4470(0x2e4)](_0x1c4470(0xe41));if(_0x3e6e79){draggedSvgElement=_0x3e6e79;const _0x1d526f=draggedSvgElement[_0x1c4470(0x6c4)],_0x3a1a10=getPointerPosition(_0x1d526f,_0x33e6e2);svgOffset['x']=_0x3a1a10['x']-parseFloat(draggedSvgElement[_0x1c4470(0xa7f)](null,'x')),svgOffset['y']=_0x3a1a10['y']-parseFloat(draggedSvgElement[_0x1c4470(0xa7f)](null,'y'));}}function calculateItemAnalysis(_0x294117,_0x1984f9){const _0x4b5cb4=_0x1d7cc9,_0x5cb1d1={};if(_0x1984f9['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x4487c7=[..._0x1984f9][_0x4b5cb4(0xc1c)]((_0x2f5573,_0x23d39d)=>{const _0x3f1dda=_0x4b5cb4,_0x27ebb5=_0x23d39d[_0x3f1dda(0x1ea)]-_0x2f5573[_0x3f1dda(0x1ea)];if(_0x27ebb5!==0x0)return _0x27ebb5;const _0x256b50=_0x2f5573[_0x3f1dda(0x672)]?.[_0x3f1dda(0x5df)]||0x1,_0x47d57e=_0x23d39d['attempts']?.['length']||0x1,_0x5dc404=_0x256b50-_0x47d57e;if(_0x5dc404!==0x0)return _0x5dc404;const _0xf23608=new Date(_0x2f5573[_0x3f1dda(0xcbd)]),_0x1c4af6=new Date(_0x23d39d['latestSubmittedAt']),_0x780acc=_0xf23608-_0x1c4af6;if(_0x780acc!==0x0)return _0x780acc;return _0x2f5573[_0x3f1dda(0xa12)][_0x3f1dda(0xbbb)](_0x23d39d[_0x3f1dda(0xa12)],'th');}),_0x9d1008=_0x4487c7[_0x4b5cb4(0x5df)],_0x2c5557=Math[_0x4b5cb4(0x98d)](0x1,Math[_0x4b5cb4(0x36b)](_0x9d1008*0.33));if(_0x2c5557===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x570cf6=_0x4487c7[_0x4b5cb4(0xd66)](0x0,_0x2c5557),_0x1b92e0=_0x4487c7[_0x4b5cb4(0xd66)](-_0x2c5557),_0x292cb5=_0x570cf6[_0x4b5cb4(0x9d3)](_0x117316=>_0x117316[_0x4b5cb4(0xa12)]),_0x35cdeb=_0x1b92e0[_0x4b5cb4(0x9d3)](_0x191768=>_0x191768[_0x4b5cb4(0xa12)]);return _0x294117['questions']['forEach']((_0x289315,_0x218da7)=>{const _0x1124ff=_0x4b5cb4,_0x4599ad=_0x289315[_0x1124ff(0x43c)]||_0x289315[_0x1124ff(0xc27)];let _0x59b56c=0x0,_0x2ad5b7=0x0,_0x224d47=0x0;const _0x23dcff=[],_0x3b9bf5=[];_0x570cf6[_0x1124ff(0xa25)](_0x3fb6c0=>{const _0x5af29a=_0x1124ff,_0x27d301=_0x3fb6c0[_0x5af29a(0x672)][_0x3fb6c0[_0x5af29a(0x672)][_0x5af29a(0x5df)]-0x1],_0x30446c=_0x27d301[_0x5af29a(0x382)][_0x5af29a(0x15b)](_0x173ac2=>_0x173ac2[_0x5af29a(0xb6d)]===_0x4599ad);_0x23dcff[_0x5af29a(0x65b)]({'name':_0x3fb6c0['studentName'],'isCorrect':_0x30446c?_0x30446c[_0x5af29a(0x17c)]:![]}),_0x30446c&&_0x30446c['isCorrect']&&_0x2ad5b7++;}),_0x1b92e0[_0x1124ff(0xa25)](_0x31ba9c=>{const _0x332624=_0x1124ff,_0x2d2d0a=_0x31ba9c[_0x332624(0x672)][_0x31ba9c[_0x332624(0x672)][_0x332624(0x5df)]-0x1],_0x577083=_0x2d2d0a['answers'][_0x332624(0x15b)](_0x4204bf=>_0x4204bf[_0x332624(0xb6d)]===_0x4599ad);_0x3b9bf5[_0x332624(0x65b)]({'name':_0x31ba9c[_0x332624(0xa12)],'isCorrect':_0x577083?_0x577083[_0x332624(0x17c)]:![]}),_0x577083&&_0x577083['isCorrect']&&_0x224d47++;}),_0x1984f9[_0x1124ff(0xa25)](_0x351483=>{const _0x510e2d=_0x1124ff,_0xf04079=_0x351483[_0x510e2d(0x672)][_0x351483[_0x510e2d(0x672)][_0x510e2d(0x5df)]-0x1],_0x8b23c6=_0xf04079['answers']['find'](_0x3ea30c=>_0x3ea30c['originalQuestionText']===_0x4599ad);_0x8b23c6&&_0x8b23c6[_0x510e2d(0x17c)]&&_0x59b56c++;});const _0x5ce0e7=_0x9d1008>0x0?_0x59b56c/_0x9d1008:0x0,_0x166974=_0x2c5557>0x0?_0x2ad5b7/_0x2c5557-_0x224d47/_0x2c5557:0x0;_0x5cb1d1[_0x218da7]={'p':_0x5ce0e7,'r':_0x166974,'upperGroupResponders':_0x23dcff,'lowerGroupResponders':_0x3b9bf5};}),{'perQuestionStats':_0x5cb1d1,'overallGroups':{'upperGroupNames':_0x292cb5,'lowerGroupNames':_0x35cdeb}};}function drag(_0x33b3af){const _0x996cc9=_0x1d7cc9;if(draggedSvgElement){_0x33b3af['preventDefault']();const _0x6b38e7=draggedSvgElement['ownerSVGElement'],_0xd1a6f7=getPointerPosition(_0x6b38e7,_0x33b3af),_0x2fe36e=_0x6b38e7[_0x996cc9(0x70d)][_0x996cc9(0xd62)];let _0x368067=_0xd1a6f7['x']-svgOffset['x'],_0x31f141=_0xd1a6f7['y']-svgOffset['y'];const _0x3b4746=draggedSvgElement[_0x996cc9(0x8dd)]();_0x368067=Math[_0x996cc9(0x98d)](_0x2fe36e['x'],Math['min'](_0x368067,_0x2fe36e['x']+_0x2fe36e[_0x996cc9(0x2f0)]-_0x3b4746[_0x996cc9(0x2f0)])),_0x31f141=Math['max'](_0x2fe36e['y'],Math[_0x996cc9(0x20e)](_0x31f141,_0x2fe36e['y']+_0x2fe36e[_0x996cc9(0x3e4)]-_0x3b4746['height'])),draggedSvgElement[_0x996cc9(0xd6a)](null,'x',_0x368067),draggedSvgElement[_0x996cc9(0xd6a)](null,'y',_0x31f141);}}function endDrag(_0x1c5925){draggedSvgElement=null;}function handleSvgEditClick(_0x5f0667){const _0x449003=_0x1d7cc9;if(_0x5f0667[_0x449003(0x674)][_0x449003(0x985)]['contains'](_0x449003(0x9db))){const _0x5b0e99=_0x5f0667['target'][_0x449003(0x576)]['targetId'],_0x3c5fc9=_0x5f0667['currentTarget'],_0x3a0c61=_0x3c5fc9['querySelector']('#'+_0x5b0e99);_0x3a0c61&&_0x3a0c61[_0x449003(0xa54)](),_0x5f0667[_0x449003(0x674)]['remove']();}}function handleEditQuestion(_0x42f999){const _0x40ff9e=_0x1d7cc9,_0x298205=_0x42f999[_0x40ff9e(0x236)],_0x14da44=_0x298205['dataset']['index'],_0x4a3bbe=currentQuizData[_0x40ff9e(0xcf9)][_0x14da44],_0x3c14e2=document['getElementById']('q-text-'+_0x14da44),_0x2307ae=document[_0x40ff9e(0x773)](_0x40ff9e(0x80c)+_0x14da44),_0x564ff6=document[_0x40ff9e(0x773)](_0x40ff9e(0xa47)+_0x14da44);if(_0x298205[_0x40ff9e(0x8ec)]['includes']('fa-pen')){_0x298205[_0x40ff9e(0x8ec)]=_0x40ff9e(0x81f),_0x298205[_0x40ff9e(0xdfa)]='บันทึกการแก้ไข';if(_0x3c14e2)_0x3c14e2[_0x40ff9e(0x4e7)]=!![];if(_0x2307ae)_0x2307ae[_0x40ff9e(0x4e7)]=!![];if(_0x564ff6){const _0x1d822d=_0x564ff6[_0x40ff9e(0x86f)]('svg');if(_0x1d822d){const _0x1e2920=_0x1d822d[_0x40ff9e(0x4a1)]('text');_0x1e2920['forEach']((_0xdf2b91,_0x260421)=>{const _0x22ecf6=_0x40ff9e,_0x8e9808=_0x22ecf6(0x2e6)+_0x14da44+'-'+_0x260421;_0xdf2b91['id']=_0x8e9808,_0xdf2b91[_0x22ecf6(0x985)]['add'](_0x22ecf6(0xac8)),_0xdf2b91['style']['cursor']=_0x22ecf6(0x4db);const _0x263b18=document[_0x22ecf6(0xdc6)](_0x22ecf6(0x4fa),_0x22ecf6(0xd48)),_0x4e38ae=_0xdf2b91[_0x22ecf6(0x8dd)]();_0x263b18[_0x22ecf6(0x554)]('cx',String(_0x4e38ae['x']+_0x4e38ae[_0x22ecf6(0x2f0)]+0x5)),_0x263b18['setAttribute']('cy',String(_0x4e38ae['y']+_0x4e38ae['height']/0x2-0x5)),_0x263b18['setAttribute']('r','5'),_0x263b18[_0x22ecf6(0x554)]('fill','red'),_0x263b18[_0x22ecf6(0x554)](_0x22ecf6(0xb89),_0x22ecf6(0x9db)),_0x263b18[_0x22ecf6(0x576)][_0x22ecf6(0x694)]=_0x8e9808,_0xdf2b91['after'](_0x263b18);}),_0x1d822d[_0x40ff9e(0x6f7)](_0x40ff9e(0xe5b),startDrag),_0x1d822d[_0x40ff9e(0x6f7)](_0x40ff9e(0x5a2),drag),_0x1d822d[_0x40ff9e(0x6f7)](_0x40ff9e(0x57b),endDrag),_0x1d822d[_0x40ff9e(0x6f7)](_0x40ff9e(0x88b),endDrag),_0x1d822d['addEventListener'](_0x40ff9e(0xd6e),startDrag,{'passive':![]}),_0x1d822d[_0x40ff9e(0x6f7)](_0x40ff9e(0xbd1),drag,{'passive':![]}),_0x1d822d[_0x40ff9e(0x6f7)](_0x40ff9e(0xba5),endDrag),_0x1d822d[_0x40ff9e(0x6f7)](_0x40ff9e(0x82f),endDrag),_0x1d822d[_0x40ff9e(0x6f7)](_0x40ff9e(0x2af),handleSvgEditClick);}}if(_0x3c14e2)_0x3c14e2[_0x40ff9e(0xc61)]();}else{_0x298205[_0x40ff9e(0x8ec)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x298205[_0x40ff9e(0xdfa)]='แก้ไขข้อนี้';if(_0x3c14e2){_0x3c14e2['contentEditable']=![];const _0x2c4a55=_0x4a3bbe[_0x40ff9e(0xa8d)]||currentQuizData[_0x40ff9e(0xd83)];_0x2c4a55==='matching_item'?_0x4a3bbe[_0x40ff9e(0x43c)]=_0x3c14e2[_0x40ff9e(0xab8)][_0x40ff9e(0xf5)](_0x3c14e2[_0x40ff9e(0xab8)]['indexOf']('.')+0x2)['trim']():_0x4a3bbe[_0x40ff9e(0xc27)]=_0x3c14e2['innerText'][_0x40ff9e(0xf5)](_0x3c14e2[_0x40ff9e(0xab8)]['indexOf']('.')+0x2)[_0x40ff9e(0xafd)]();}_0x2307ae&&(_0x2307ae['contentEditable']=![],_0x4a3bbe[_0x40ff9e(0x4d2)]=_0x2307ae[_0x40ff9e(0xab8)]);if(_0x564ff6){const _0xfda1f9=_0x564ff6['querySelector']('svg');if(_0xfda1f9){const _0x3eebbb=_0xfda1f9[_0x40ff9e(0xaa2)](!![]);_0x3eebbb['querySelectorAll'](_0x40ff9e(0x28e))[_0x40ff9e(0xa25)](_0x105516=>_0x105516['remove']()),_0x3eebbb[_0x40ff9e(0x4a1)](_0x40ff9e(0xe41))[_0x40ff9e(0xa25)](_0x1d9553=>{const _0x1f7fb0=_0x40ff9e;_0x1d9553['classList'][_0x1f7fb0(0xa54)](_0x1f7fb0(0xac8)),_0x1d9553[_0x1f7fb0(0x90e)]['cursor']=_0x1f7fb0(0x32e),_0x1d9553['removeAttribute']('id');}),_0x4a3bbe[_0x40ff9e(0x52c)]=_0x3eebbb[_0x40ff9e(0xc16)],_0xfda1f9[_0x40ff9e(0x755)](_0x40ff9e(0xe5b),startDrag),_0xfda1f9[_0x40ff9e(0x755)]('mousemove',drag),_0xfda1f9[_0x40ff9e(0x755)]('mouseup',endDrag),_0xfda1f9[_0x40ff9e(0x755)]('mouseleave',endDrag),_0xfda1f9[_0x40ff9e(0x755)](_0x40ff9e(0xd6e),startDrag),_0xfda1f9[_0x40ff9e(0x755)](_0x40ff9e(0xbd1),drag),_0xfda1f9[_0x40ff9e(0x755)](_0x40ff9e(0xba5),endDrag),_0xfda1f9[_0x40ff9e(0x755)](_0x40ff9e(0x82f),endDrag),_0xfda1f9['removeEventListener'](_0x40ff9e(0x2af),handleSvgEditClick),_0xfda1f9[_0x40ff9e(0x4a1)](_0x40ff9e(0x28e))[_0x40ff9e(0xa25)](_0x356f35=>_0x356f35['remove']()),_0xfda1f9[_0x40ff9e(0x4a1)](_0x40ff9e(0xe41))[_0x40ff9e(0xa25)](_0x52a16a=>{const _0xf9330d=_0x40ff9e;_0x52a16a[_0xf9330d(0x985)][_0xf9330d(0xa54)](_0xf9330d(0xac8)),_0x52a16a[_0xf9330d(0x90e)]['cursor']='default';});}}}}function _0x5842(_0x3cf3b9,_0x26051e){const _0x49b409=_0x49b4();return _0x5842=function(_0x58428f,_0x251e99){_0x58428f=_0x58428f-0xc6;let _0x432358=_0x49b409[_0x58428f];return _0x432358;},_0x5842(_0x3cf3b9,_0x26051e);}let currentEditingQuizData=null;function _0x49b4(){const _0x514128=['editor-quiz-topic','learningGaps','createElementNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','td,\x20th','รูปหลายเหลี่ยมและมุมภายใน','thead','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.quiz-bank-present-btn','ตั้งเวลา\x20(เปิด)','scratchpad-close-btn','ไฟล์ลัด\x201','splice','numeric','💰\x20โหมดเดิมพันทำงานอยู่!','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','presentation-explanation','พบข้อสอบ\x20','bg-red-700\x20text-white\x20font-bold','<li>','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถาม...','</th>','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','ข้อที่\x20','file-input-area','หน่วยเวลาและการคำนวณเวลา','/public/data/quizzes','confirm-team-players-btn','desc','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','application/pdf','ตอบถูกทุกข้อในแบบทดสอบนี้','onkeydown','กองดอง','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','lastIndexOf','.bp-delete-topic-btn','admin-password-modal','Error\x20calculating\x20final\x20scores:','parent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','ผ่าน','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','/public/data/blueprintProjects/','insurance','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','save-file-shortcut-btn','topic-bank-list','shortcut-reference-url-input','title','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x22\x20value=\x22false\x22\x20','</span></p>','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','บทเรียนเรื่อง:\x20','not_generated','numChoices','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','sync-player-management','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption(','Error\x20saving\x20file\x20shortcut\x20config:','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.verification-result-editor','ภูเขา','pinnedProjects','timerMode','คะแนนเต็ม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','.file-shortcut-btn[data-id=\x22','div[data-question-index=\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','powerups.','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','save-project-name-btn','download','transformOrigin','_opt0\x22>ใช่</label></div>','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','items','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','wasJinxed','uid','start-live-race-generated-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','wager-modal','ปริมาตรรูปทรงสามมิติ','\x22><span\x20style=\x22','student-progress-view','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','includeImages','<span\x20title=\x22โดนบังคับ\x22>👻</span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','selected-answer-index-hidden-wager','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','pen','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','team-student-list','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','gameData','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','cancel-quiz-bank-btn','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','.edit-file-shortcut-btn','การแปลงรูปอัตลักษณ์','reveal-answer-btn','\x22\x20data-topic=\x22','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','.draggable-text','back-to-dashboard-from-bp-btn','ค่าคลาดเคลื่อนของการวัด','(ก่อนเรียน)','quiz-bank-modal','string','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','bg-green-200\x20text-green-800','close-additional-shortcuts-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','สร้างคำถามแบบใช่/ไม่ใช่','สถานะไม่ชัดเจน','flex','referenceFileUrl','Enter','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','matching_item','moveTo','</span>','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','Buy\x20Item\x20failed:\x20','doughnut','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','log','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','mousedown','restore','STOP','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.quiz-bank-settings-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>',';\x22\x20data-tooltip-target=\x22tooltip-','โลมาบิน','\x22\x20title=\x22','screen_exit','reveal_at_end','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','open-blueprint-projects-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','Error\x20updating\x20project\x20name:','student-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','show-in-student-dashboard-checkbox','prod','timestamp','undefined','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','Error\x20clearing\x20linked\x20quiz:','เพิ่มปุ่มลัดจากไฟล์ใหม่','modal-timer-mode-select','_opt1\x22\x20name=\x22question','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','playerIndex','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','student-quiz-leaderboard-content','.bp-present-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ai-quiz-app-aefee.firebasestorage.app','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','file-default-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','selectedTopicNames','temp-loader-results','global-activity-quiz-list','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.linkedQuizId','submit-team-answer-btn','.remove-parallel-shortcut-from-tab-btn','lobby','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','ราชาคัมแบ็ก','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','ลำดับเรขาคณิต\x20(GP)','isLooping','Team\x20Quiz','API\x20Error\x20Response:','pop','delete-all-students-btn','substring','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','กรุณากรอกข้อมูลให้ครบทุกช่อง','.live-answer-btn,\x20#sync-submit-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','status','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','confidence-input-','cancel-test-btn','border-gray-300','fix\x20the\x20option','ชื่อหัวข้อห้ามว่าง','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','disabled\x20bg-gray-400\x20cursor-not-allowed','เกิดข้อผิดพลาดในการบันทึกโปรเจค','confirmation-modal','isAdaptive','\x22\x20name=\x22drill_answer\x22\x20value=\x22','274192258111','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','cancel-quiz-edits-btn-footer','players','submissions','ยังไม่มีนักเรียนส่งงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-additional-parallel-shortcuts-btn','ป่าไม้','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','สร้างแบบทดสอบ','ทฤษฎีบทพื้นฐานของแคลคูลัส','memoryContent','Error\x20submitting\x20group\x20answer:','ข้อ\x20','แผนภาพเวนน์','.live-answer-btn,\x20#live-submit-short-answer-btn','.start-presentation-list-btn','.quiz-bank-checkbox:checked','text-content-input','file-shortcut-id-input','answered','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','submit-group-answer-btn','export-lesson-to-pdf-btn','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','แอบชอบ','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','modal-confidence-mode-select','connect','⏳\x20ซื้อเวลา','binom','shortcuts','ON_FIRE','num-choices','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22','exitFullscreen','bp-reference-file-url','สลับไปโหมดผู้ควบคุม','quiz','#confidence-input-','documentElement','show_results_only','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-tab','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','ดอกเบี้ยอย่างง่าย','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','เกิดข้อผิดพลาดในการอ่านไฟล์','shuffledQuiz','แคลคูลัสเบื้องต้น','\x20ข้อแล้ว!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20text-white/90\x20mt-1\x20font-normal\x20bg-black/10\x20rounded\x20px-2\x20py-0.5\x20inline-block\x22>⚠️\x20การใช้ตัวช่วย\x20(ยกเว้นเดิมพัน)\x20จะรีเซ็ต\x20Combo\x20เป็น\x200</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','27411472','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','หมูกระทะจะเยียวยาทุกสิ่ง','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','ผู้ไม่ยอมแพ้','pointsLastQuestion','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','normal','anon-show-answer-toggle','admin-dashboard','ความเป็นอิสระของเหตุการณ์','ก่อนเรียน','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','เงินงวด\x20(อนุกรมเงินงวด)','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','leaderboard-tab','input[name=\x22team_player\x22]:checked','number','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter','find','พีชคณิตและฟังก์ชัน','(คู่ขนาน)\x20','slide-counter','readAsDataURL','student-team-join','worksheet-input-area','ไม่พบข้อมูลเกม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','การลบทศนิยม','.delete-parallel-shortcut-btn','name_desc','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','เพิ่ม\x20','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','perfect_score','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','scratchpad-clear-btn','bank-quiz-search-input','Error\x20saving\x20project\x20order:','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>','สิงโตยิ้ม','upper_group_count','answer-counter','shortcutId','_opt0\x22\x20name=\x22question','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','เกิดข้อผิดพลาดในการแก้ไข','behavior-log','isCorrect','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','checked','camera-crop-btn','question-complexity-select','OBJECT','.score','นักเขียน','#open-additional-file-shortcuts-btn','name_asc','Error\x20starting\x20group\x20quiz:','หยุดระบบจับเวลาหรี่หน้าจอ','Error\x20updating\x20quiz\x20settings:','สายลมแห่งโชคชะตา','pre-test','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','Error\x20during\x20deep\x20delete:','ทำคะแนนได้เกินครึ่ง','wagerMultiplier','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-bank-subtopic-name','เพิ่มหัวข้อ\x20\x22','group','คำตอบที่ถูกต้อง','dataIndex','\x22\x20style=\x22','export-leaderboard-excel-btn','กรุณาพิมพ์คำตอบ','then','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','members','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','close-pin-modal-btn','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','.move-parallel-shortcut-item','totalQuestions','powerupUsed','เพิ่มรายการที่เลือก','confidence-scoring-checkbox','scheduled_pending','total','topicId','parts','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','generated','Failed\x20to\x20generate\x20practice\x20test:','save-visibility-settings-btn','input[type=\x22text\x22]','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22','</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','NUMBER','standardTopic','\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','เกิดข้อผิดพลาดในการส่งคำตอบ','#ffffff','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','z-index:\x20','ใช่\x20/\x20ถูก','resultsSaved','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','ร้อยละประยุกต์','.doc','projectName','#e21b3c','resultsDisplay','selected-topics-count','ondragend','Error\x20in\x20generating\x20from\x20files:','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','ตลาดมืด\x20(-1\x20P)','<p\x20class=\x22','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dragstart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','/submissions','bp-modal-num-choices','[data-topic-id]','???','ดอกเบี้ยทบต้น','behaviorLog','timer-duration-container','bank-tab','top','Sync\x20Mode','Failed\x20to\x20kick\x20player\x20','overallGroups','.delete-hidden-parallel-shortcut-btn','back-to-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200','shortcut-id-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','grid','พื้นที่สามเหลี่ยม','comparison-individual-tab','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','\x5ctimes','topic-tab','\x27Sarabun\x27,\x20sans-serif','latestScore','การยืนยันตัวตนล้มเหลว','export-leaderboard-word-btn','blueprint-project-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','.bp-try-btn','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','text-blue-800','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20(','lastAnswerCorrect','includes','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','ค่าเสื่อมราคา','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','rename-quiz-modal','raw','bg-green-500\x20hover:bg-green-600\x20text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','.project-card-container','newOptions',':</span><span>','Error\x20deleting\x20project:','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','keys','admin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','behavior-log-container','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',',\x20r=','countdown-display','Error\x20deleting\x20topic:','min','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','AI\x20Fix\x20Error:','_blank','ระบบอสมการ','<div\x20class=\x22space-y-2\x22>','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ปริมาตร/ความจุและการแปลง','leaderboard-quiz','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','.file-shortcut-tab-btn','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','confirm-move-quiz-btn','text-red-300\x20hover:text-red-100','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','market-current-points','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การลบเศษส่วน','catch','Error\x20saving\x20visibility\x20settings:','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','<button\x20data-tab-id=\x22','คำถามดิบ:\x20\x22','save-quiz-btn','cursor','border-red-300\x20bg-red-50','.group\x5c/dropdown-file','blueprint-topics-list','text-yellow-800','bp-modal-num-questions','/studentProfiles','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','values','buy-time-quantity-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','passcode-prompt-message','modal-adaptive-quiz-checkbox','currentTarget','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','bulk-loop-until-pass-checkbox','สัญกรณ์วิทยาศาสตร์','confirm-create-project-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','กฎบวกและกฎคูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-quiz-btn','overline','cancel-rename-quiz-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','start','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','\x22>ใช่</p>','100%','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','.quiz-result-card','visible','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-pdf-btn','parallel-shortcut-modal-title','Error\x20submitting\x20answer:','results-display-select','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','<span\x20class=\x22block\x20text-sm\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','บันทึกผลการเรียนของนักเรียน\x20','bulk-quiz-settings-btn','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','.edit-shortcut-btn','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','<div\x20class=\x22answer-space\x22></div>','<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','marginBottom','anonymous_reveal_end','none','.pair-quiz-btn','ยืนยันและอัปเดตทั้งหมด','project-passcode-input','Error\x20joining\x20sync\x20game:','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','คุณแน่ใจว่าต้องการลบแท็บนี้?','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','textarea[name=\x22team_answer\x22]','game-start-quiz-id','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','Error\x20saving\x20game\x20results:','สมมาตร\x20(แกน/จุด)','responseSchema','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','per-question-options','.custom-math-dropdown','close-student-rankings-btn','confirm-join-game-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นักเดินทาง','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','เกิดข้อผิดพลาดในการลบหัวข้อ','presentation-short-answer-input','confidence-scoring-description','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','passcode','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ตัวเลือก\x20ง','globalSettings','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','groups.','ไม่สามารถโหลดข้อมูลอันดับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','file-default-1','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','.start-live-race-btn','parallel-shortcut-tabs-nav','.delete-svg-btn','ออฟฟิศซินโดรม','shortcutIds','ต้นฉบับ\x201','Error\x20saving\x20blueprint\x20project:','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','---\x20[คำถามใหม่]\x20---','parseFromString','scale-125','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer','isArray','bp-modal-question-complexity-select','<span\x20class=\x22sort-indicator\x20ml-2\x22>','grabbing','endTime','กรุณาเลือกคำตอบก่อนครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','reference_onet.pdf','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','กิจกรรมสิ้นสุดลงแล้ว','not-found','.color-palette-btn','สร้างโปรเจคสำเร็จ!','text-blue-700\x20bg-blue-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','0\x20(รอโบนัส)','setFont','Re-grade\x20process\x20failed:','results','click','ค่าเฉลี่ย','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','input[type=\x22radio\x22]:checked','button[type=\x22submit\x22]','execCommand','\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','hint-btn','anonymous','timed','fas\x20fa-bookmark','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','cancel-game-start-btn','มังกรกินจุ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','.topic-selection-btn','poll','progress-student-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onSecondChance','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x','\x22\x20data-quiz-id=\x22','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','both','กำลังวิเคราะห์หัวข้อ...','delete','label','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','fontWeight','ฮัลค์','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x22\x20data-target-tab-id=\x22','all','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','close','confidence-mode-container','has','strength-weakness-analysis-container','perfect_score_status','pin-entry-modal','comeback_king','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','.ai-content\x20h3','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','quiz-type-select','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','closest','results-quiz-title','editable-text-','canvas','scores-tab-btn','.bp-view-analysis-btn','กฎของไซน์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','.tab-name-display','code','cancel-quiz-edits-btn','tGain','width','reset-project-order-btn','เปิดใช้งาน','bulk-confidence-mode-container','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','camera-input','</tbody></table>','border-green-300\x20bg-green-50','open','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','export-image-btn','sync-timer-countdown','description','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','-tab-content','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรวจทานเฉลยเสร็จสิ้น!','select-all-topics-btn','\x22\x20name=\x22confidence','bg-blue-100\x20text-blue-800','difficulty-level-select','Error\x20unpairing\x20quizzes:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มี','bg-red-200\x20text-red-800','การจัดหมู่\x20(Combination)','generate-from-topic-btn','highlighter-size-slider','ห.ร.ม.\x20(GCD)','shortcutOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','showInStudentDashboard','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1','เกิดข้อผิดพลาดในการนำผู้เล่นออก','add-parallel-shortcut-tab-btn','<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','parallel-shortcuts-loading-msg','playerNicknames','student-progress-content','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','/public/data/blueprintProjects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fromCharCode','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','difficultyValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','ส่วนเบี่ยงเบนเฉลี่ย','.save-custom-topic-btn','คู่คำตอบ...','ข้อต่อไป','.move-parallel-shortcut-dropdown','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-question-timed-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','กาแฟขม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','default','enable-black-market-checkbox','sync-timer-duration-container','คณิตศาสตร์','ไอติมทอด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','toBlob','คะแนนยังไม่ถึงครึ่ง','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','shortcut-tabs-nav','blueprint-shortcut-container','short_answer','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','user','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','badges','.option-input','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','visibilitychange','.ai-content\x20li','.export-pdf-list-btn','competition','loop-until-pass-checkbox','แก้ไขหัวข้อสำเร็จ','ค่าสัมบูรณ์','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','<div\x20class=\x22p-2\x20rounded-md\x20','bg-red-500','docChanges','manual-bp-grade-level','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','val','/public/data/liveGames','เกิดข้อผิดพลาดในการซื้อ','ชนิดของข้อมูลและการเก็บข้อมูล','indexOf','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','isForcedConfident','สเกลและแผนที่','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22','showImproveButton','additional-file-shortcuts-list','student-name-select','ผู้พิชิตดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','start-quiz-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','CEOพันล้าน','parseInline','Error\x20adding\x20custom\x20topic:','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','.edit-hidden-file-shortcut-btn','floor','inactive','.live-answer-btn','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','.pdf','join','quiz-editor-questions-container','https://corsproxy.io/?','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>','ปวดหลัง','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','Error\x20saving\x20parallel\x20shortcut:','warn','student-project-leaderboard-table-body','ไม่ได้ตอบ','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','maxHeight','ARRAY','false','results-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answers','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','offset','topic-quiz-bank-modal','loader','black-market-settings-container','fullscreenElement','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','แบบทดสอบนี้ปิดใช้งานอยู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','file-shortcuts-loading-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentQuestionIndex','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','Error\x20deleting\x20all\x20students:','scoresCalculated','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','option','new-question-type-select','เกมสิ้นสุดลงแล้ว','frac','isSyncGame','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','ดอทโปรดักต์\x20(dot)','\x27,\x20\x27','Error\x20regenerating\x20question\x20in\x20editor:','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','file-shortcut-container','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','category','STRING','questionId','กรุณาเลือกโปรเจคที่ต้องการบันทึก','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','use-powerup-fiftyFifty','touches','timer-duration-label','join-live-game-btn','ลบแบบทดสอบสำเร็จแล้ว','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','บันทึกการตั้งค่าแล้ว','bg-green-50','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','width\x2060s\x20linear','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','พบ\x20Sync\x20Game!','export-worksheet-pdf-btn','อุณหภูมิและการแปลง','message-modal','\x22\x20สำเร็จ!','text-indigo-600','manual-blueprint-modal','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลโปรเจค','bg-green-200\x20text-green-900\x20font-bold','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','projectSortOrder','.ai-content\x20td','isPasscodeEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20','topicName','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','analytics-summary-cards','textarea','student-name-selection-view','\x20ทำงานอยู่!</div>','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','export-word-btn','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','สลับไปโหมดนักเรียน','th-TH','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.unpair-quiz-btn','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','.summary-bar-item','Error\x20during\x20class\x20analysis:','appendChild','attemptNumber','qType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','Error\x20starting\x20live\x20race:','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','ฟังก์ชันแบบชิ้นส่วน','getItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','height','player-list-lobby','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','sync-timer-bar','nextElementSibling',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','transition','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x20|\x20','.pin-digit-box','commit','confidence_single','isFinished','px)\x20scale(','stroke','classStrengths','hint','มือปราบสายรุ้ง','โจรสลัดอวกาศ','ย้าย','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','asc','confirm-bulk-quiz-settings-btn','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-','medium','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','src','28px','AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','next-question-btn','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','%PDF','fontSize','\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-200','การหารเศษส่วน','<button\x20data-value=\x22','OCR\x20Error:','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','checkAnswer','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','Error\x20fetching\x20project\x20quizzes:','\x5cle','.bp-edit-topic-btn','เกิดข้อผิดพลาดในการใช้ไอเทม','</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20คะแนน\x20','checkbox','Error\x20processing\x20parallel\x20shortcut\x20click:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','text/html','เกิดข้อผิดพลาดในการติดดาว','Error\x20committing\x20score\x20updates:','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','quiz-leaderboard-table','applicationHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-message','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','keydown','<option\x20value=\x22\x22>กำลังโหลด...</option>','lesson-view-modal','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','fa-bolt\x20text-blue-500','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-passcode-input','parentElement','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','.file-shortcut-btn','scrollY','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','bestScore','stem','เกิดข้อผิดพลาดในการลบ','.eraser-size-btn','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','flex\x20flex-col\x20gap-2','choices_only','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','แบบทดสอบนี้หมดเวลาแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','ฟังก์ชันกำลังสองและกราฟ','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','fixed','แบบทดสอบ:\x20','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','unshift','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','bg-green-400\x20text-white\x20font-bold','index','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','classWeaknesses','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','rgba(79,\x2070,\x20229,\x201)','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','wasConfident','\x20ชิ้น)','input[name=\x22question_single\x22]:checked','การเรียงสับเปลี่ยน\x20(Permutation)','match','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','/public/data/projects','display','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','linearRampToValueAtTime','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','<div\x20class=\x22loader\x20mx-auto\x22></div>','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','.delete-submission-btn','generate-from-link-btn','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','Error\x20saving\x20manual\x20blueprint\x20project:','fileShortcutOrder','สอบซ่อม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','PROMPT_PLACEHOLDER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','wager-slider','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','bg-teal-500\x20hover:bg-teal-600\x20text-white','pollUsedThisTurn','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','ปุ่มลัดทั้งหมด','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','1439070znWunH','sync','กราฟแท่ง\x20กราฟเส้น','starred-project','fa-dumbbell\x20text-gray-700',')\x22>','teacherSuggestions','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','ondragover','ความสัมพันธ์ของมุม','confidence-modal','Error\x20verifying\x20answers\x20in\x20editor:','.bp-game-btn','filter','classic','json','fill_in_no_choices','border-gray-200','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่เต็มนะ','added','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mode-switcher-btn','รายการนี้','อัปเดตแบบทดสอบเก่า\x20','เทพทรู','นกฮูกกลางวัน','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','input-','eraser-tools-group','Failed\x20to\x20get\x20standardized\x20topic:','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','modified','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','scratchpad-header','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','hasOwnProperty','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบ','loopUntilPass','.delete-file-shortcut-btn','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','.answers','.ai-content\x20p','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','cancel-bulk-quiz-settings-btn','state','bg-[#DCFCE7]\x20text-green-900','image/png','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setValueAtTime','อัตราและอัตราหน่วย','actions-container-','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x20รายการ...','idealAnswer','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-add-topic-btn','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','กรุณาเลือกสถานะ','Test\x20Blueprint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20joining\x20activity:','ondragstart','Error\x20saving\x20parallel\x20shortcut\x20config:','Auto-linking\x20new\x20quiz\x20','onload','.bp-create-content-quiz-btn','active','sara','ไม่พบข้อมูลผู้ใช้','student-rankings-modal','</strong></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','global-quiz-count','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','prev-question-btn','explanation','บทเรียน','\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x','รอเปิด','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','มุมพิเศษ\x2030°-60°-90°','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move','5qfhMgA','นักกีฬา','pointerType','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','แผนภาพกล่อง\x20(box\x20plot)','comparison-individual-content','currentMode','pointermove','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','contentEditable','isJinxed','ตลาดมืด\x20(','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','view-my-progress-btn','sync-matching-select','zIndex','save-bp-settings-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','กำลังอ่านไฟล์อ้างอิง...','cancel-global-activity-btn','additional-shortcuts-modal','\x20ตัวเลือก.\x20','จากเนื้อหาต่อไปนี้:\x20\x22','Error\x20renaming\x20quiz:','Error\x20updating\x20old\x20quizzes:','บันทึกแบบทดสอบสำเร็จแล้ว!','.bp-create-onet-quiz-btn','http://www.w3.org/2000/svg','.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20','pointerup','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','.parallel-shortcut-tab-btn','use-powerup-','สรุปผลการวิเคราะห์:\x5cn','เกิดข้อผิดพลาดในการสร้าง:\x20','reference-pdf-upload','.answeredCurrentQuestion','.generate-content-btn','เน็ตช้า','resize','.remove-file-shortcut-from-tab-btn','student-view','findIndex','options','results_','ความต่อเนื่อง','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','pre-test-checkbox','complexityValue','admin-testing','.sort-indicator','comparison-modal','quizId','\x0a\x20\x20\x20\x20\x20\x20</div>','จำนวนข้อ:','บันทึกโปรเจค\x20\x22','separate-by-content-from-file-checkbox','lesson-plan-title','toString','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','powerupUsed_q','insertBefore','.bp-open-topic-bank-btn','backspace','Error\x20deleting\x20quiz:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cos','leaderboard-tab-content','confirm-quiz-status-btn','จำนวนเต็มบวก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','original-mode-checkbox','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20quiz\x20for\x20student:','imageCode','deselect-all-topics-btn','กำลังดึงข้อมูลจากลิงก์...','Failed\x20to\x20end\x20group\x20mode\x20game:','.pen-color-btn','.star-quiz-btn','Error\x20generating\x20easy\x20version\x20quiz:','.quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','finishReason','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i><span>ON\x20FIRE!\x20คะแนน\x20x2</span><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-100\x22>ตอบถูกต่อเนื่อง\x20','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','N/A','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','postScore','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.lastAnswerCorrect','Error\x20adding\x20students:','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','cancel-delete-btn','wager-amount-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','bg-white','questionIndex','ความชันและเส้นตรง','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','bg-red-100\x20text-red-800','font-bold\x20text-green-700','.question-editor-item','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','confirm-manual-bp-btn','ครูใหญ่','<span\x20title=\x22ใช้\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','ย้ายแบบทดสอบสำเร็จ','#F59E0B','.rename-quiz-btn','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','isScored','_opt','entries','bp-quiz-settings-btn','สอบปกติ','function','เกิดข้อผิดพลาดในการเข้าร่วมเกม','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','input[name=\x22status-option\x22]:checked','numPages','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','.parallel-shortcut-btn','สร้างแบบทดสอบปรนัย','กรุณาเลือกโปรเจคก่อน','การกระจายและการจัดหมู่','กรุณาใส่ชื่อนักเรียน','print','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','dataset','autoTable','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-team-selection-btn','bg-gray-500','mouseup','lesson-view-content','cancel-file-shortcut-edit-btn','adaptive-quiz-checkbox','solution','submittedAt','submission','decode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','mainTopics','\x20รายการสำเร็จ!','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','ที่พิมพ์ได้\x20จำนวน\x20','on_fire','</button>','นอนไม่พอ','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','.duplicate-quiz-btn','ดาวTikTok','Error\x20saving\x20settings:','ค.ร.น.\x20(LCM)','scratchpad-options','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20saving\x20file\x20shortcut:','timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','allResponses','publicLeaderboard','Successfully\x20removed\x20','<option>กำลังโหลดโปรเจค...</option>','\x20คู่\x20','mousemove','รหัสไม่ถูกต้อง','quiz-results-view','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','บันทึกคำถามใหม่\x20','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xl\x22>','cancel-bp-settings-btn','คำถามถัดไป','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','use-powerup-wagerMultiplier','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','<textarea\x20name=\x22question','/public/data/customMathTopics','</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>','.use-hidden-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','generate-from-text-btn','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','</span><button\x20data-player-name=\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','date_desc','เกิดข้อผิดพลาดในการเปลี่ยนสี','โหลดนาน','line-height:\x201.3;\x20min-width:\x200;','drill-feedback','Error\x20generating\x20hybrid\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','insertAdjacentHTML','<span\x20title=\x22ใช้เวลา\x22>⏳</span>','answerText','โดเมนและเรนจ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','```json','pointer-events-none','confident','gradeLevel','lessonPlan','student-reading-area','isStarred','manage-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','rgba(79,\x2070,\x20229,\x200.8)','rows',')</span></div>','ม้าดีดกะโหลก','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','(ตามมาติดๆ)','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x5cfrac{$1}{$2}','bg-indigo-600\x20hover:bg-indigo-700','passingScore','quiz-editor-modal','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','test','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','Error\x20processing\x20file\x20shortcut\x20click:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','ข้าวมันไก่พิเศษ','เลือกโปรเจคเพื่อบันทึก','destination-out','quick_thinker','p-2\x20bg-black/10\x20rounded-md','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','tabId','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','text-red-700','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','bg-green-500','bg-red-100','นักล่าฝัน','times','modal-confidence-mode-container','score','div','แก้ไข\x20Points\x20ของ\x20','applicationData','กราฟฟังก์ชันตรีโกณ','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x20ชุดสำเร็จ!','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','\x5cneq','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','\x20<span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20ml-auto\x22>คุณ</span></div>','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','globalCompositeOperation','select','จากไฟล์ที่แนบมานี้,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20to\x20blueprint\x20topic\x20','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','authed_project_','add-from-global-bank-btn','parallelShortcutTabs',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.png','webkitRequestFullscreen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bottom','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20quizzes\x20into\x20global\x20cache.','size','<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>','closePath','source_document.txt','team','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','color','lowerGroupResponders','POST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','การนับ','QUICK_THINKER','ตัวเลือก\x20ก','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','PERFECT_SCORE','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','เส้นรอบรูป','.compare-results-btn','fix-lesson-latex-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','รายงานผลคะแนน','.verification-result','300','end-game-btn','ซื้อ\x20\x22','<h1></h1>','bg-gray-400','\x5csum','<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.delete-question-editor-btn','bank-input-area','bulk-quiz-settings-modal','keyConcepts','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','#FEF3C7','สายตาสั้น','\x20สำเร็จ!','getElementsByTagName','instructions','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','quiz-generation-area','isDefault','\x20to\x20','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','อสมการค่าสัมบูรณ์','bulk-shuffle-select','close-comparison-modal-footer-btn','lesson-loader-text','topics','เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)','Blueprint\x202','.regenerate-question-btn','</a>','project-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฐานนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-indigo-200\x20mt-2\x22>(นักเรียนต้องใช้ไอเทม\x20\x22เผยตัวเลือก\x22\x20จึงจะเห็นปุ่ม)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','✂️\x20ตัด\x201\x20ตัวเลือก','show_pass_fail_only','input[type=\x22checkbox\x22]:checked','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','badgesCount','.group','.delete-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Group\x20Mode','reset-view-btn','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ไม่ใช่</p>','ฟังก์ชันค่าสัมบูรณ์','lowerGroupNames','text-green-700','\x20ครั้ง)</span></td>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','การแจกแจงปกติและ\x20z-score','bg-yellow-200','API\x20call\x20failed\x20with\x20status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','podium','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','rename-quiz-input','attempts','\x20ตัวเลือก)','target','data:application/vnd.ms-word;charset=utf-8,','จับคู่แบบทดสอบสำเร็จ!','ปลาทูคะนอง','fileShortcutsConfig','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','disabled','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','getScreenCTM','#DBEAFE','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','Could\x20not\x20fetch\x20reference\x20file:','แปลงร่าง','hasPerfectScoreBonus','พาราโบลา','เลือกและเริ่มสร้าง','All\x20groups\x20have\x20finished.\x20Ending\x20game.','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','generated-quiz-container','url','เส้นตรง:\x20รูปแบบสมการ','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ','$1\x5c%','parallel-shortcut-id-input','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','ยืนยันการจับคู่','จันทร์เจ้า','targetId','correctStreak','.topic-name-display','blueprint-projects-modal',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','btn','end-sync-game-btn','.game-start-btn','quiz-id-input','AI\x20Formula\x20Fix\x20Error:','live-options-container','shadowColor','update-old-quizzes-btn','MathJax','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','suspended','<p><strong>คำตอบของคุณ:</strong>\x20','\x22\x20class=\x22color-palette-btn\x20','parallel-default-2','newCorrectIndex','newOptionsPayload','-options\x22>','analytics-tab-content','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','open-sync-scratchpad-btn','startedAt','/public/data/quizzes/','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','bp-modal-difficulty-level-select','.edit-quiz-btn','.space-y-1.pl-4','Copy\x20command\x20failed','shortcut_','pairedQuizId','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','firstScore','game-start-modal-title','#26890c','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','bg-green-100\x20text-green-800','ownerSVGElement','\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','num-questions','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','upperGroupResponders','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','Error\x20updating\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','manage','.linkedQuizIds','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','text-green-700\x20bg-green-100','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','bulk-confidence-scoring-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','substr','ปล่อยพลัง','<p><strong>คำตอบที่แนะนำ:</strong>\x20','</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','use-powerup-buyTime','.ai-fix-formula-btn','artifacts/','export-lesson-pdf-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','numQuestions','visibilityState','scan-text-image-input','pointercancel','\x22\x20x','.buy-item-btn','element','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','wasForced','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','</span></div>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.delete-hidden-file-shortcut-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.open-bp-project-btn','ai-quiz-generator-v3','ใช่','live-player-management','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','addEventListener','Error\x20comparing\x20results:','\x20ข้อ...','gameVariant','dimmed','manual-create-blueprint-btn','การบวกเศษส่วน','Error\x20fetching\x20student\x20rankings:','ยกเลิกการจับคู่สำเร็จ','</p></div>','generationConfig','scores','strokeStyle','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','ศูนย์','<span\x20title=\x22ใช้ไอเทม\x22>','save-game-results-checkbox','อสมการเชิงเส้น','quiz-start-time','viewBox','bg-yellow-300\x20text-yellow-900\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','Error\x20saving\x20quiz\x20edits:','bp-project-title','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.submittedAt','bg-green-100','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mr-1\x22>','ฟังก์ชันยกกำลัง','cancel-shortcut-edit-btn','\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<div\x20id=\x22q-image-container-','confirm-wager-btn','สมการค่าสัมบูรณ์','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','lineWidth','scratchpad-controls','ไม่พบโปรเจค','.lastAnswerIndex','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','ฟังก์ชันราก\x20(root)','ดูผลสรุปสุดท้าย','pen-tools-group','text-green-800','start-game-btn','.delete-shortcut-tab-btn','สร้างใหม่','กำลังอัปเดตแบบทดสอบ\x20','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','scheduled','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','กำลังเตรียมไฟล์...','anon-settings-container','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','reduce','.sortable-header','parallel-shortcut-url-input','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','files','file-topic-input','ช่างภาพ','อยู่ในสาระการเรียนรู้ใด:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','dropdown-list-','.correct-response-input','ไฟล์ทั้งหมด','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','.pen-size-btn','analytics','Error\x20deleting\x20shortcut:','.isScored','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','/players','กระต่ายตื่นตูม','pointsAwarded','\x22\x20สำเร็จ','kick-player-btn','onchange','powerups','เริ่มกิจกรรม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','table','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','<div\x20style=\x22','พอใช้','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20get\x20hint:','duration-300','removeEventListener','select[name=\x22question_single\x22]','กำลังสแกนหาแบบทดสอบเก่า...','empty','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','#F3E8FF','round','applicationContent','isBlackMarketEnabled','confidence-scoring-toggle','leq','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','isPinned','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','1490541OTHTsH','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','กำลังสร้างเนื้อหา:\x20','live-player-list','student-initial-view','Error\x20during\x20blueprint\x20link\x20cleanup:','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา','ก้อนเมฆ','student-quiz-area','buyTime','.edit-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','(กำลังไล่ตาม)','scrollIntoView','เกมเมอร์','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','progress-project-select','reviewQuestionIndex','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','price','correctAnswer','Error\x20displaying\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/syncGames','👁️\x20เผยตัวเลือก','.use-hidden-shortcut-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-project-btn','.delete-custom-topic-btn','summary','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','#math-topics-checkbox-container\x20input:checked','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','blueprintUrl','$$$1$','\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สร้างคำถามใหม่\x201\x20ข้อ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','generate-worksheet-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','promptFeedback','เรขาคณิตวิเคราะห์','stopPropagation','.project-card-content','team-quiz-topic','docs','หน่วยความยาวและการแปลง','รักแรกพบ','request','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','practiceProblems','สำหรับโปรเจค:\x20','.animate-pulse','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','P/อัน)','fas\x20fa-user-edit','half_mark_status','สรุปผลสุดท้าย','แผนการสอน:\x20','toFixed','text-yellow-300','project-list','แก้ไขปุ่มลัดจากไฟล์','cancel-move-quiz-btn','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','enable-passcode-checkbox','createdAt','show-results-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','team-player-status-grid','\x20mb-2\x22>','🌗\x2050:50','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','error','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','dblclick','content','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','update','คุณใช้ตัวช่วย\x20\x22','Error\x20generating\x20parallel\x20post-test:','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','responses','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','typesetPromise','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','bg-white\x20text-gray-800','mandatory','Error\x20processing\x20shortcut\x20click:','ฟังก์ชันลอการิทึม','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','copy','จำนวนนักเรียน','passcode-error-msg','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','subTopics','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','gain','show_results_and_answers','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','คะแนนเต็ม','.txt','results-quiz-id-display','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','bp-modal-shuffle-setting-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','ตัวเลือก\x20ค','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','text/csv;charset=utf-8;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','live-submit-short-answer-btn','scrollHeight','4469068CrurpR','tooltipTarget','(พยายามอยู่)','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','open-scratchpad-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','Invalid\x20response\x20structure\x20from\x20AI.','fileShortcutTabs','</p><p><strong>เฉลย:</strong>\x20','totalPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>','close-game-final-btn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','ปริพันธ์จำกัด','bp-modal-quiz-type-select','additional-shortcuts-list','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สามเหลี่ยม\x20(ชนิด/สมบัติ)','modal-timer-duration-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','quiz-form','53331520kNMQDn','hidden','sync-short-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','analytics-tab-btn','fill_in_the_blank','.topic-category','q-explanation-','Error\x20saving\x20questions\x20to\x20practice\x20bank:','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','placeholder','input[name=\x22syncVariant\x22]','Error\x20preparing\x20content\x20quiz:','\x22><i\x20class=\x22fas\x20','change','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','loader-text','\x20คน\x20เรียบร้อยแล้ว!','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','dfrac','bg-[#EF4444]\x20text-white\x20font-bold','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','shuffleSetting','Error\x20verifying\x20answers:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','<i\x20class=\x22fas\x20fa-save\x22></i>','.pin-project-btn','เศรษฐีดูไบ','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','modal-shuffle-select','.bp-live-btn','(เลือกแล้ว\x20','.quiz-bank-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/questionBank','points','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','input[type=\x22checkbox\x22]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ควรปรับปรุง','close-lesson-view-btn','touchcancel','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','currentPoints','auto','\x20ใหม่...','เกิดข้อผิดพลาดในการลบโปรเจค','quiz-end-time','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','กรุณาป้อนรหัสแบบทดสอบ','บันทึกการตั้งค่าการแสดงผลสำเร็จ','translate(','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','.live-summary-tooltip.visible','กำลังอ่านและเตรียมไฟล์...','fontFamily','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','lineCap','project-search-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','start-presentation-btn','/public/data/projects/','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','timerDuration','text-gray-400\x20hover:text-indigo-600','ไม่พบข้อมูลแบบทดสอบ','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','groups','icon','export-tutor-pdf-btn','\x20(\x22','404\x20Not\x20Found','\x22,\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','student-join-game-view','destination','confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','.topic-actions-edit','</p><div>','Error\x20deleting\x20student:','ซามูไรสายเดี่ยว','open-quiz-bank-btn','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','questionStatus','\x20(p=','.answered','lesson-plan-content','เรขาคณิต','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','correct','createElement','parallel-test-tab','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','removeChild','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','ไม่พบข้อมูลข้อสอบหลังเรียน','เส้นตรง:\x20ขนาน/ตั้งฉาก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','confirm-link-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20rendering\x20student\x20progress:','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','#view-rankings-btn','Market\x20entry\x20payment\x20failed:','reference.pdf','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','sqrt','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','[data-topic-id=\x22','\x20เป็น\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','ลิมิต','</h3>','20px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','.topic-row','DOMContentLoaded','mouseleave','หนอนหนังสือ','ดาวสภา','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','กำลังอ่านไฟล์\x20Test\x20Blueprint...','\x20pointer-events-none\x22>','showAnswerInAnonymous','\x22><p\x20class=\x22font-semibold\x22>','เลือกและบันทึก','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','transform','2-digit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','🛡️','.edit-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','.use-hidden-parallel-shortcut-btn','preTestId','\x22\x20name=\x22team_answer\x22\x20value=\x22','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','bg-gray-200\x20text-gray-700','.presentation-option','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','ทฤษฎีบทพีทาโกรัสและการประยุกต์','จำนวนเชิงซ้อน\x20(เสริม)','.csv','ไม่พบข้อมูลผู้เล่น','<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>','ความคล้ายของรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','order','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20','Error\x20deleting\x20submission:','lesson-view-title','student-name-input','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','student-progress','modal-close-btn','กำลังสร้างแบบทดสอบจากหัวข้อ...','กรุณาเลือกคำตอบของกลุ่ม','date_asc','ตรวจพบการออกจากหน้าจอครบ\x20','แบบทดสอบจากคลังส่วนตัว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','handleGenerateQuizFromBlueprintTopic','การหารทศนิยม','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','admin-password-input','preScore','Error\x20unlinking\x20quiz:','.delete-parallel-shortcut-tab-btn','cancel-create-project-btn','topics.','file-shortcut-name-input','Error\x20saving\x20lesson\x20to\x20project:','back-to-dashboard-from-results-btn','lesson-loader','เกิดข้อผิดพลาดในการปักหมุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','suggestedAnswer','linkedQuizIds','confirm-passcode-btn','isAnonymousRevealed','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','กำลังกลับเข้าสู่เกม\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-passcode-modal','file-topics-list-container','rgba(59,\x20130,\x20246,\x200.7)','text-emerald-900','%</span>','quiz-settings-modal','.move-shortcut-dropdown','\x20แล้ว!','getBBox','#open-additional-parallel-shortcuts-btn','topic-input-area','Failed\x20to\x20generate\x20lesson:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','blob','correctResponse','leaderboard','memory','ตัวแปรและนิพจน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','fadeStartTime','ผลรวมอนุกรม\x20(Σ)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','innerHTML','blur','ไอรอนแมน','ส่งแล้ว','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','</h4>','generated-quiz-actions','Error\x20processing\x20file\x20for\x20AI:','bar','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','ไม่สามารถเพิ่มนักเรียนได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','toggleMathDropdown','export-leaderboard-image-btn','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','</span></td>','game-start-mode','</div></div>','#retake-for-improvement-btn','type','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','text-green-600\x20font-bold','.cancel-edit-topic-btn','move-quiz-project-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>','market-timer-bar','highlighter-tool-btn','projectSort','\x5ccdot','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','project-detail','.quiz-bank-try-btn','style','highlighter-tools-group','AI\x20grading\x20failed:','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','move-quiz-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','🔁\x20โอกาสครั้งที่สอง','create-project-btn','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','mode','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','summary_chart','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','isRemedial','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','bg-gray-50','Error\x20submitting\x20team\x20answer:','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กุ้งเต้นแร้งกา','ความเท่ากันทุกประการของสามเหลี่ยม','.question-editor-item:last-of-type','\x0a\x20\x20\x20\x20','\x22.\x20Ideal\x20Answer:\x20\x22','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','cdot','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','lastAnswerIndex','cancel-passcode-btn','practice-topic-btn','realScore','Error\x20generating\x20from\x20parallel\x20test\x20file:','FIRST_TRY_ACE','เกิดข้อผิดพลาดในการใช้ตัวช่วย','sync-submit-btn','num-choices-container','กำลังเตรียมไฟล์อ้างอิง...','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.move-file-shortcut-dropdown','Error\x20listening\x20for\x20starred\x20quizzes:','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','point','verify-answers-btn','<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x','Error\x20loading\x20blueprint\x20projects:','grid-view-btn','คัดลอกรหัสแล้ว!','Blueprint\x201','Matching\x20options\x20synced:','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','set','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','starred','score-distribution-chart','Error\x20calling\x20Gemini\x20API:','Error\x20analyzing\x20file\x20for\x20topics:','preventDefault','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','input[type=\x22radio\x22][value=\x22','blueprint-upload-input','<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>','</div></div></div>','font-bold\x20text-red-700\x20line-through','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','results-table-container','finished','font-bold','\x20คะแนน</span></div>','Error\x20generating\x20teaching\x20content:','some','<div\x20class=\x22','.start-game-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','Leaderboard\x20update\x20transaction\x20failed:\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','export-excel-btn','leaderboard-quiz-tab-content','.buy-time-confirm-btn','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','ไม่ผ่าน','0\x200','block','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x20ข้อ\x20','shortcut-editor-modal','.application-options\x20button','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','.bp-generate-lesson-btn','rgba(239,\x2068,\x2068,\x200.9)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','คัดลอกไม่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','-9999px','md:col-span-3','.question-editor-item[data-q-index=\x22','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22','หัวข้อหลักใหม่','timeBonusThisQuestion','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','confirm-rename-quiz-btn','.file-topic-selection-btn','\x20หัวข้อ)','classList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','check-answer-btn','application/json','Error\x20toggling\x20star\x20status:','post-test','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','tab_','max','เมทริกซ์:\x20บวก/คูณ','next-drill-btn','toLocaleString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','file-default-','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','presentation-modal','#E5E7EB','\x22\x20name=\x22question','/users/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','px,\x20','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','[data-field=\x22subTopic\x22]','comparison','อัตราส่วนและสัดส่วน','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','pointerdown','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ออกจากคลังนี้?','ลาเต้ไม่หวาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','per_question','ondrop','\x27\x20ในหัวข้อ\x20\x27','ไม่พบข้อมูลหัวข้อที่จะบันทึก','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','fixedData','additional-parallel-shortcuts-modal','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','เกี่ยวกับหัวข้อ\x20\x22','blueprint.pdf','button','comparison-overall-tab','black-market-modal','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','fiftyFifty','parallel-test-upload-input','teachingContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x20\x20\x20-\x20คำตอบ:\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','powerup','blockReason','Error\x20joining\x20live\x20game:',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','bg-emerald-100','<br>','ตลาดมืด\x20(0\x20P)','บักแตงโม','เต่าสายฟ้า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-gray-300\x20hover:text-white','กรุณาใส่ชื่อโปรเจค','trail','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','padStart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','standard','answering','ชื่อโปรเจคห้ามว่าง','add-parallel-shortcut-btn','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','map','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','Error\x20confirming\x20players:','parallel-shortcut-editor-modal','แบบทดสอบซ่อมเสริม','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','custom-math-topic-input','delete-svg-btn','\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','clientY','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','close-lesson-plan-modal-btn','scrollX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','candidates','ไม่สามารถสร้างโปรเจคได้','no-projects-msg','#6366F1','ซื้อ\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','use-powerup-revealOptions','not_confident','subTopic','isConfidenceScoringEnabled','usedBuyTime','default-2','Error\x20listening\x20for\x20projects:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','bg-yellow-100','quiz-status-modal','file-shortcut_',')</button>','<svg','bg-black/10','revealOptions','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','ดีมาก','\x20/\x20','.mb-6.p-4','\x22\x20data-pre-test-id=\x22','#parallel-shortcut-tabs-nav\x20.tab-name-input','text-gray-500','true','\x5cpm','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shouldSaveResults','Error\x20pairing\x20quizzes:','สุดยอด!\x20ตอบถูกทุกข้อ','text-input-area','student-result-area','.hidden-option-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x20ชุด)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','shortcut-blueprint-url-input','...\x22)?','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','ระบบสมการเชิงเส้นสองตัวแปร','file-shortcut-url-input','\x20(สำหรับ\x20','</tbody></table></div>','studentName','กลุ่มของคุณ','getTextContent','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','ฟังก์ชันสัมพัทธ์\x20(rational)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','beginPath','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','Error\x20updating\x20sort\x20preference:','line-through\x20text-red-700','timer-mode-select','projectId','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','\x22>จาก:\x20','afterend','results-tab','forEach','devicePixelRatio','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','...','href','confidenceMode','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20w-8\x20inline-block\x20text-center\x22>','startTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','parallel-test-input-area','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','currentTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','link-topic-input','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','topic','boolean','webkitExitFullscreen','bg-gray-100\x20opacity-70','แผนการสอน','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','คำอธิบาย...','<span\x20title=\x22โดนคำสาป\x22>😈</span>','สมการราก\x20(radical)','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','กรุณาวาง\x20URL\x20ของบทความก่อน','toLowerCase','อนุพันธ์:\x20กฎพื้นฐาน','back-to-dashboard-btn','shadowBlur','q-image-container-','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่สามารถโหลดรายการโปรเจคได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>','passing-score-input','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','rgba(255,\x20255,\x200,\x200.5)','.auto-resize-textarea','split','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','doc','result','remove','AI\x20กำลังสแกนข้อความ...','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','หมีขั้วโลกใต้','student-project-leaderboard-content','อัศวินรัตติกาล','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a','<span\x20class=\x22font-bold\x20','beforeend','createdBy','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','ปิดใช้งาน','requestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เซียนสมองไว','ตัวเลือก\x20ข','lower_group_count','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','backgroundColor','Error\x20saving\x20shortcut:','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','ครัวซองต์','<button\x20data-shortcut-id=\x22','Error\x20clearing\x20all\x20links:','default-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชาไข่มุก','get','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','Error\x20displaying\x20blueprint\x20project:','neq','.parallel-quiz-btn','random','[data-topic-container-id]','\x20วินาที','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','ใช้\x20\x22คำสาป\x22\x20กับ\x20','เกิดข้อผิดพลาดในการอัปเดตสถานะ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','.delete-hidden-shortcut-btn','getAttributeNS','<div\x20class=\x22my-2\x22>','blueprint-input-area','กำลังจับคู่...','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','<button\x20data-quiz-id=\x22','\x20จาก\x20','release','teacherTips','shuffle','earned-badges-container','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','blueprint-settings-modal','questionType','เกิดข้อผิดพลาดในการสร้างรูปภาพ','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','.group\x5c/dropdown-parallel','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','ระยะทางและจุดกึ่งกลาง','getTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20quiz\x20settings:','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','พิมพ์ตอบ','question','question-analytics-container','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','cloneNode','สถิติและความน่าจะเป็น','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','leaderboard-quiz-tab-btn','กัปตัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','list-view-btn','parallel-shortcut-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perQuestionStats','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','text-gray-100','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','text','pin-backspace-btn','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','.move-parallel-shortcut-menu-btn','innerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20updating\x20pin\x20status:','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','การแจกแจงทวินาม\x20(พื้นฐาน)','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x5cge','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','[id^=\x22dropdown-list-\x22]','project-dashboard-view','กรุณาใส่ชื่อใหม่','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','draggable-text','manual-bp-content','ธอร์ค้อนบิน','list','กรุณาตั้งชื่อแท็บใหม่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','parallelTestShortcutsConfig','ถูก','itemId','file-topics-list','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x22\x20value=\x22','toDataURL','projectOrder','.copy-quiz-id-list-btn','quiz-results','Original\x20quiz\x20not\x20found','generate-from-file-btn','key','save','bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','settings','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','ไม่มีผู้ตอบตัวเลือกนี้','pointContent','offsetWidth','showRankings','BOOLEAN','create-from-bank-btn','จำนวนเต็มลบ','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','อนุพันธ์:\x20กฎลูกโซ่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','):\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','instantWager','พิสัย','แท็บใหม่','playerName','เพื่อนสนิท','ลบโปรเจค\x20\x22','presentation-scratchpad-btn','previousElementSibling','include-images-checkbox','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','smooth','null','data','border-indigo-400\x20ring-2\x20ring-indigo-200','trim','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','additional-file-shortcuts-modal','\x20link(s)\x20for\x20quiz\x20ID:\x20','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','pointsLastRound','opacity','วงกลม:\x20สมการและสมบัติ','add-custom-math-topic-btn','gamePin','ไม่พบแบบทดสอบในระบบเลย','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','ผู้เชี่ยวชาญ','-options','/public/data/syncGames/','pathname','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','ตอบถูก\x203\x20ข้อติดต่อกัน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','close-market-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-size-value','เกิดข้อผิดพลาดในการลบผลสอบ','Error\x20listening\x20for\x20custom\x20math\x20topics:','Error\x20saving\x20to\x20question\x20bank:','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','save-bp-reference-btn','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','globalAlpha','referenceUrl','cancel-crop-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','stdDev','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','รากที่สองและที่สาม','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','save-shortcut-btn','removeItem','G-V90KRM0L63','เกิดข้อผิดพลาดในการลบนักเรียน','คะแนนเฉลี่ย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','\x22>(','.move-shortcut-menu-btn','students','Error\x20joining\x20team\x20quiz:','name','body','text-indigo-700','ส่งคำตอบ','check-presentation-answer-btn','หัวข้อที่สร้างเอง','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','ปริพันธ์ไม่จำกัด','bg-blue-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','ceil','confirm-not-confident','เสือซ่อนเล็บ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','text-red-600','สมการยกกำลัง','API\x20call\x20failed','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','blueprint-project-manager-view','arrayBuffer','topic_','เกิดข้อผิดพลาดในการโหลดโปรเจค','เปลี่ยนชื่อโปรเจคสำเร็จ','คณิตการเงิน/บูรณาการ','file-shortcut-editor-modal','Error\x20analyzing\x20blueprint\x20topics:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','onclick','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','นักประดิษฐ์','กรุณาสร้างบทเรียนก่อน','leaderboard-table-body','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','justification','getPage','Powerup\x20use\x20failed:','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','specialist','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','Error\x20fetching\x20projects\x20for\x20move:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ติดซีรีส์','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','schedule','><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','interesting-stats-wrapper','ไม่ใช่\x20/\x20ผิด','Attempting\x20to\x20save\x20game\x20results...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อยู่ในหัวข้อหลักใด:','.shortcut-list-item','originalQuestionText','save-settings-btn','live-race','9384130uMhWLx','undo-btn','\x5cdiv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-delete-btn','อนุพันธ์:\x20ผลคูณ/ผลหาร','#results-table','pdf','#FEE2E2','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizMode','https://drive.google.com/uc?export=download&id=','แฟนทิพย์','transition-transform','.ai-content\x20blockquote','ลำดับเลขคณิต\x20(AP)','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','#student-project-leaderboard-content\x20thead','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','dispatchEvent','ไม่พบแบบทดสอบสำหรับรหัสนี้','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','use-powerup-secondChance','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown(','class','\x20mr-2\x22></i>','ไม่พบตารางสำหรับ\x20Export','toDate','.ideal-answer-input','ยูทูปเบอร์ฝึกหัด','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-container','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','.text-indigo-200','tool','.topic-name-input','เหมียวขี้เซา','ผู้เล่น\x20','.project-card-container[data-id]','submission-status-chart','กรุณาเลือกชื่อของคุณ','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','project-quizzes-list','.shortcut-list-item:not(.opacity-50)','ระบบเลขและค่าประจำหลัก','sync-timer-duration-input','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','</body></html>','</span>:\x20','.ideal-answer-input,\x20.correct-response-input','\x20mx-1\x20text-lg\x22></i></span>','touchend','ร้อยละพื้นฐาน','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','quiz-results-table-body','export-pdf-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','add-shortcut-btn','end-team-quiz-btn','AI\x20did\x20not\x20return\x20any\x20content.','Error\x20generating\x20worksheet:','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','รูปแบบการให้เหตุผล','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','#FFFFFF','ตรวจคะแนนใหม่\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','className','replaceChild','comparison-overall-content','ยอดเยี่ยม!','PERSEVERANCE','localeCompare',')\x22><span\x20style=\x22','toggle','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','.bp-create-topic-quiz-btn','shuffle-setting-select','<div\x20class=\x22flex-1\x22></div>','แบบทดสอบฝึกฝนเรื่อง:\x20','stop','Error\x20generating\x20from\x20link:','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','mixed','modal-loop-until-pass-checkbox','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คาถาแยกเงาพันร่าง','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','touchmove','.pin-key','การวัด','generate-from-parallel-test-btn','หมดเวลา!\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','stringify','ความแปรปรวน','จิงโจ้สโลว์ไลฟ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','parentNode','ref','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-100\x20text-red-900','AI\x20request\x20was\x20blocked.\x20Reason:\x20','file-shortcut-modal-title','1145310KqpTSo','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','text-red-800','พิซซ่าหน้าทุเรียน','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','เพนกวินไฟ','🚀\x20คุณเดิมพันหมดหน้าตัก!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','การคูณเศษส่วน','multiple_choice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','summaryContent','ตารางความถี่','ดาบพิฆาตอสูร','left','COMEBACK_KING','Auto-cleanup\x20failed:','```','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','parse','</form>','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','ผิด','ondblclick','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','dragend','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','.ai-fix-question-btn','bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','มัธยฐาน','cutOne','freeMarketEntryUsed_q','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textAlign','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','Error\x20duplicating\x20quiz:','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','presentation-ai-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปลี่ยนชื่อแบบทดสอบสำเร็จ','project-sort-select','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','close-additional-file-shortcuts-btn','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','comparison-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','geq','<tr><td\x20colspan=\x22','student-quiz-leaderboard-table-body','outerHTML','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','text-emerald-800','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','selected-answer-index-hidden','ชีสเค้ก','sort','bg-black/20','blueprint-options-container','sync-manage-players-btn','exponentialRampToValueAtTime','replace','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','ไม่มีคำอธิบาย','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','quiz-leaderboard-table-body','sin','questionText','\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','close-lesson-plan-modal-footer-btn','wheel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','องค์ประกอบของฟังก์ชัน','qIndex','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','เกิดข้อผิดพลาดในการเข้าตลาดมืด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','แบบทดสอบที่ติดดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','lesson-plan-modal','\x22\x20data-name=\x22','true_false','(^|[^\x5c\x5c])\x5cb','approx','bg-yellow-50','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parallel-default-1','bg-[#4ADE80]\x20text-green-900\x20font-bold','AI\x20แก้ไขคำถามสำเร็จ!','global-activity-modal','<span\x20class=\x22text-yellow-200\x20font-bold\x22>','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','\x20สำเร็จ','fill','modal-confidence-scoring-checkbox','contains','กรุณากรอกเป็นตัวเลขเท่านั้น','New\x20question\x20detected.\x20Cleaning\x20up.','fa-rocket\x20text-purple-500','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','player-count','projectView','force-math-checkbox','position','copy-quiz-id-btn','เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_with_choices','border-indigo-500','getBoundingClientRect','answeredCurrentQuestion','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprintShortcuts','sync-timer-enable-checkbox','save-quiz-edits-btn','bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1','มุมพิเศษ\x2045°-45°-90°','กำลังค้นหากิจกรรม...','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','focus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exists','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','confirm-quiz-settings-btn','กรุณาเลือกคำตอบ','Error\x20updating\x20quiz\x20status:','correctAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-presentation-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','selected-text-','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','แบตหมด','มุมและการวัดมุม','พื้นที่วงกลม/ส่วนของวงกลม','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20team\x20quiz:','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','onblur','พื้นที่สี่เหลี่ยม','ยังไม่สร้าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','bg-blue-500\x20hover:bg-blue-600\x20text-white','Loaded\x20','ฮิสโตแกรม','confirm-admin-login-btn','market-item-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','from','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','/lessons','first_try_ace','👁️','ความน่าจะเป็นแบบมีเงื่อนไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ตรีโกณมิติ','worksheet-topic-input','live-game','<li\x20class=\x22','\x22\x20ให้เป็นคำถามประเภท\x20\x22','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','center','/public/data/teamQuizzes','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fa-user-astronaut\x20text-blue-700','text-red-700\x20bg-red-100','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','next-sync-question-btn','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','</strong></p>','ระยะเวลา\x20(นาที):','save-blueprint-as-project-btn','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','manual-bp-project-name','confirm-confident','text-red-900','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','secondChance','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','close-topic-bank-btn','manual_release','preTScore','fa-fire\x20text-orange-500','generate-from-blueprint-btn','แมวเก้าชีวิต','</span>\x20','fullscreenchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สายลับจับบ้านเล็ก','-tab','main-correct-answer-display','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','พลังคลื่นเต่า','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','mjx-container','.tab-name-input','shortcut-name-input','latestSubmittedAt','ตัวแทนแห่งดวงจันทร์','project-title','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','\x22\x20data-index=\x22','#FCE7F3','use-powerup-insurance','.admin-try-quiz-list-btn','กรุณาพิมพ์คำตอบของกลุ่ม','activeGameSession','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','auto-fix-latex-btn','(ไม่มีชื่อ)','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','<tr>','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นักวิทยาศาสตร์','pow','.status','#E0E7FF','student','text-gray-300','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','ความคาดหมาย\x20(Expected\x20value)','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','textContent','bank-quiz-list','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','กำลังโหลดคลังข้อสอบทั้งหมด...','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','scratchpad-modal','<button\x20id=\x22','รูปสแควร์รูท\x20(surd)','modal-passing-score-input','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','text/plain','default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','สร้างคำถามแบบเติมคำในช่องว่าง','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','student-team-selection-view','workerSrc','ดีเทอร์มิแนนต์','word-break:\x20break-all;','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','scores-tab-content','.shortcut-tab-btn','message','หมาป่าเดียวดาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','เกิดข้อผิดพลาดในการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','incorrect','handleGeneratePracticeTest','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','questions','results-table','powerupUsedThisTurn','.generate-easy-version-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','destroy','student-back-to-home-btn','\x22\x20class=\x22delete-project-btn\x20','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','strategyScan','text-green-600','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','1000px','add','NEGATIVE_INFINITY','ไม่ใช่','ฟังก์ชันผกผัน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','คะแนน','เน็ตไอดอล','opacity-50','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','quadraticCurveTo','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','การประยุกต์เวกเตอร์พื้นฐาน','verify-answers-editor-btn','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','answerValue','password-error-msg','Game\x20results\x20already\x20saved.\x20Skipping.','rgba(239,\x2068,\x2068,\x200.7)','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','cropped_image.png','show-final-results-btn','pin','<button\x20data-id=\x22','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','3173763JBdJri','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...','responses.','</p>','bg-red-50','</li>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','วงรี','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','trail-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','modal-timer-duration-container','submit','whole_quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','/3</span></div>','lesson-sections-container','แก้ไขปุ่มลัด','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','dashboardConfig','msRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','/public/data/practiceBank','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','จุด\x20เส้น\x20ระนาบ','setItem','_opt1\x22>ไม่ใช่</label></div>','ไม่สามารถบันทึกการตั้งค่าได้','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','document','eraser','math-topics-checkbox-container','circle','ลำดับการดำเนินการ\x20(PEMDAS)','Error\x20saving\x20submission:','.remove-shortcut-from-tab-btn','00:00','<option\x20value=\x22','mouse','wakeLock','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-game-start-modal','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</select>','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','</label></div>','additional-parallel-shortcuts-list','admin-view','frequency','questionDisplayedAt','รอผู้ควบคุมไปข้อต่อไป...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','กำลังสร้างรูปภาพ...','baseVal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','.delete-bp-project-btn','.subTopic','slice','firstElementChild','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setAttributeNS','input','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','Error\x20editing\x20topic:','touchstart','right','Error\x20updating\x20points:','mean','MathJax\x20typeset\x20error\x20(analytics):','resume','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20quiz:','isNormalTopic','redo-btn','toISOString','ไม่พบเอกสารการส่งงานของ\x20','players.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','hiddenOptions_q','Blueprint\x20O-NET\x20ป.6','จำนวนและการดำเนินการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้','back-to-student-initial-btn','quizType','Invalid\x20response\x20structure\x20from\x20API.','bp-modal-include-images-checkbox','clientX','</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','ท้องฟ้า','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','helvetica','behavior-log-tab-content','math-topic-search-input','\x22...','analyze-strengths-btn','reference.txt','แก้ไขชื่อหัวข้อย่อย:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','curriculum','getContext','ระยะเวลา\x20(วินาที):','สาระที่\x201','คนคุย','dragover','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ท็อปฟอร์ม','พื้นที่ผิวรูปทรงสามมิติ','value','ลบหัวข้อสำเร็จ','\x22.\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','รีเซ็ตลำดับโปรเจคแล้ว','game-pin-input','scan-text-image-btn','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','onerror','text-white','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20user\x20preference:','ถูกต้อง!','\x22\x5cn','border-indigo-500\x20text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','upperGroupNames','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','วงกลม:\x20คอร์ดและเส้นสัมผัส','wager-max-points','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','bp-topic-list-container','bg-red-500\x20text-white\x20font-bold','Error\x20linking\x20quizzes:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','jspdf','now','write','far\x20fa-star','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','matching'];_0x49b4=function(){return _0x514128;};return _0x49b4();}async function handleOpenQuizEditor(_0x5ad4b1){const _0x311d41=_0x1d7cc9,_0x5c2576=document[_0x311d41(0x773)](_0x311d41(0x5dc)),_0x43b664=document[_0x311d41(0x773)]('quiz-editor-questions-container');_0x43b664[_0x311d41(0x8ec)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x5c2576[_0x311d41(0x985)][_0x311d41(0xa54)](_0x311d41(0x806));try{const _0x3f9c56=doc(db,_0x311d41(0x6de)+appId+_0x311d41(0xde0),_0x5ad4b1),_0x261351=await getDoc(_0x3f9c56);if(!_0x261351[_0x311d41(0xc63)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x5ad4b1,..._0x261351[_0x311d41(0xafb)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x3275c4){console[_0x311d41(0x7bc)]('Error\x20opening\x20quiz\x20editor:',_0x3275c4),showMessage(_0x311d41(0xa98)),_0x5c2576[_0x311d41(0x985)][_0x311d41(0xd0a)](_0x311d41(0x806));}}function renderQuizEditor(_0x21210a){const _0x156bf6=_0x1d7cc9;document[_0x156bf6(0x773)](_0x156bf6(0xdc4))[_0x156bf6(0xd9d)]=_0x21210a[_0x156bf6(0xa37)];const _0x3a58c1=document[_0x156bf6(0x773)](_0x156bf6(0x371));let _0x47a0d2=_0x21210a[_0x156bf6(0xcf9)][_0x156bf6(0x9d3)]((_0x2a372d,_0x373d55)=>{const _0xde90b=_0x156bf6;let _0x217d8a='';const _0xa86a35=_0x2a372d[_0xde90b(0xa8d)]||_0x21210a[_0xde90b(0xd83)],_0x3a59d0=(_0xa86a35===_0xde90b(0x33a)||_0xa86a35===_0xde90b(0x488))&&_0x2a372d[_0xde90b(0x50b)]&&_0x2a372d[_0xde90b(0x50b)]['length']>0x0;switch(_0xa86a35){case _0xde90b(0xbed):const _0x4f76db=(_0x2a372d[_0xde90b(0x50b)]||[])['map']((_0x2e2562,_0x1ee801)=>_0xde90b(0xbda)+_0x373d55+'\x22\x20value=\x22'+_0x1ee801+'\x22\x20'+(_0x1ee801===_0x2a372d[_0xde90b(0xc68)]?'checked':'')+_0xde90b(0x320)+_0x2e2562+_0xde90b(0xdd9))[_0xde90b(0x370)]('');_0x217d8a=_0xde90b(0xd56)+_0x4f76db+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xde90b(0x488):case'short_answer':_0x217d8a=_0xde90b(0xc36)+(_0x2a372d[_0xde90b(0x4b9)]||'')+_0xde90b(0x4d7);if(_0x3a59d0){const _0x51eefa=(_0x2a372d[_0xde90b(0x50b)]||[])['map']((_0x309d7f,_0x30f56c)=>_0xde90b(0x38d)+_0x373d55+_0xde90b(0xad5)+_0x30f56c+'\x22\x20'+(_0x30f56c===_0x2a372d[_0xde90b(0xc68)]?_0xde90b(0x17e):'')+_0xde90b(0x719)+_0x309d7f+'\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');_0x217d8a+=_0xde90b(0xa4b)+_0x51eefa+_0xde90b(0x548);}break;case'true_false':_0x217d8a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x373d55+'\x22\x20value=\x22true\x22\x20'+(_0x2a372d['correctAnswer']===!![]?'checked':'')+_0xde90b(0xae8)+_0x373d55+_0xde90b(0xdfc)+(_0x2a372d['correctAnswer']===![]?_0xde90b(0x17e):'')+_0xde90b(0x4a7);break;case _0xde90b(0xe52):_0x217d8a=_0xde90b(0x4a4)+(_0x2a372d[_0xde90b(0x8e3)]||'')+_0xde90b(0x329);break;}let _0x41f054=_0x2a372d[_0xde90b(0xc27)]||_0x2a372d[_0xde90b(0x43c)]||'';_0x41f054=_0x41f054[_0xde90b(0xc21)](/<br\s*\/?>/gi,'\x0a');let _0xffe8ad='';if(_0xa86a35===_0xde90b(0xbed))_0xffe8ad=_0xde90b(0x7d4);else _0x3a59d0&&(_0xffe8ad='<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>');return _0xde90b(0xc01)+_0x373d55+'\x22\x20data-q-type=\x22'+_0xa86a35+_0xde90b(0x790)+_0xffe8ad+_0xde90b(0xc28)+(_0x373d55+0x1)+'\x20('+_0xa86a35+'):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>'+_0x41f054+_0xde90b(0x4b7)+_0x217d8a+_0xde90b(0x328);})[_0x156bf6(0x370)]('');_0x3a58c1[_0x156bf6(0x8ec)]=_0x47a0d2;const _0x161641=_0x156bf6(0x63a);_0x3a58c1['insertAdjacentHTML'](_0x156bf6(0xa5d),_0x161641),_0x3a58c1[_0x156bf6(0x4a1)](_0x156bf6(0xa4f))['forEach'](_0x49b1a3=>{const _0x2f397f=_0x156bf6;_0x49b1a3[_0x2f397f(0x90e)]['overflowY']=_0x2f397f(0x806),_0x49b1a3[_0x2f397f(0x90e)]['minHeight']='100px',_0x49b1a3['rows']=0x4;const _0x47ffd4=()=>{const _0x5da708=_0x2f397f;_0x49b1a3['style'][_0x5da708(0x3e4)]=_0x5da708(0x832),_0x49b1a3['style'][_0x5da708(0x3e4)]=_0x49b1a3[_0x5da708(0x7eb)]+'px';};_0x49b1a3['addEventListener'](_0x2f397f(0xd6b),_0x47ffd4),_0x47ffd4();}),_0x3a58c1[_0x156bf6(0x4a1)](_0x156bf6(0xbff))[_0x156bf6(0xa25)](_0x439314=>{_0x439314['addEventListener']('click',handleAiFixQuestion);}),_0x3a58c1[_0x156bf6(0x4a1)](_0x156bf6(0x6dd))[_0x156bf6(0xa25)](_0x2f230b=>{const _0x28e7ea=_0x156bf6;_0x2f230b[_0x28e7ea(0x6f7)](_0x28e7ea(0x2af),_0x250e5f=>{const _0xc2f6f8=_0x28e7ea,_0x385dd6=parseInt(_0x250e5f[_0xc2f6f8(0x236)][_0xc2f6f8(0x2e4)]('.question-editor-item')[_0xc2f6f8(0x576)][_0xc2f6f8(0xc30)],0xa);handleAiFixFormula(_0x385dd6);});}),_0x3a58c1[_0x156bf6(0x4a1)]('.toggle-hidden-options-btn')[_0x156bf6(0xa25)](_0x592dc2=>{const _0x53dee8=_0x156bf6;_0x592dc2[_0x53dee8(0x6f7)]('click',_0x4f4c50=>{const _0x461712=_0x53dee8,_0x4b8db0=parseInt(_0x4f4c50[_0x461712(0x236)][_0x461712(0x2e4)](_0x461712(0x559))[_0x461712(0x576)][_0x461712(0xc30)],0xa);handleToggleHiddenOptions(_0x4b8db0);});});}function handleToggleHiddenOptions(_0x89054){const _0x17c4ad=_0x1d7cc9;if(!currentEditingQuizData||!currentEditingQuizData[_0x17c4ad(0xcf9)][_0x89054])return;const _0x2a359a=currentEditingQuizData[_0x17c4ad(0xcf9)][_0x89054],_0x54276a=_0x2a359a[_0x17c4ad(0xa8d)]||_0x17c4ad(0xbed),_0x38c5e5=document[_0x17c4ad(0x86f)](_0x17c4ad(0x97b)+_0x89054+'\x22]');if(_0x38c5e5){_0x2a359a[_0x17c4ad(0xc27)]=_0x38c5e5[_0x17c4ad(0x86f)](_0x17c4ad(0x3ca))[_0x17c4ad(0xd9d)];if(_0x54276a==='multiple_choice'){const _0x19caad=_0x38c5e5[_0x17c4ad(0x4a1)](_0x17c4ad(0x341));_0x2a359a[_0x17c4ad(0x50b)]=Array[_0x17c4ad(0xc85)](_0x19caad)['map'](_0x4aefc0=>_0x4aefc0[_0x17c4ad(0xd9d)]);const _0x3ff503=_0x38c5e5[_0x17c4ad(0x86f)](_0x17c4ad(0x2b3));if(_0x3ff503)_0x2a359a[_0x17c4ad(0xc68)]=parseInt(_0x3ff503[_0x17c4ad(0xd9d)]);}else{if(_0x54276a===_0x17c4ad(0x33a)||_0x54276a===_0x17c4ad(0x488)){const _0x33e316=_0x38c5e5[_0x17c4ad(0x86f)](_0x17c4ad(0xb8d));if(_0x33e316)_0x2a359a[_0x17c4ad(0x4b9)]=_0x33e316['value'];const _0x23330b=_0x38c5e5['querySelectorAll'](_0x17c4ad(0xa07));_0x23330b[_0x17c4ad(0x5df)]>0x0&&(_0x2a359a['options']=Array['from'](_0x23330b)['map'](_0x2d4f1b=>_0x2d4f1b[_0x17c4ad(0xd9d)]));}}}_0x54276a===_0x17c4ad(0xbed)?(_0x2a359a[_0x17c4ad(0xa8d)]=_0x17c4ad(0x33a),_0x2a359a[_0x17c4ad(0x50b)]&&_0x2a359a[_0x17c4ad(0xc68)]!==undefined&&(_0x2a359a[_0x17c4ad(0x4b9)]=_0x2a359a['options'][_0x2a359a[_0x17c4ad(0xc68)]]||'')):_0x2a359a[_0x17c4ad(0xa8d)]=_0x17c4ad(0xbed),renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x38526a){const _0x1e5b29=_0x1d7cc9;if(!currentEditingQuizData||!currentEditingQuizData['questions'][_0x38526a])return;const _0xba72fe=currentEditingQuizData['questions'][_0x38526a][_0x1e5b29(0xc27)]||currentEditingQuizData[_0x1e5b29(0xcf9)][_0x38526a]['stem'];showConfirmation(_0x1e5b29(0x68d)+(_0x38526a+0x1)+_0x1e5b29(0x84f)+_0xba72fe[_0x1e5b29(0xf5)](0x0,0x14)+_0x1e5b29(0xa0c),()=>{const _0x5d907c=_0x1e5b29;currentEditingQuizData[_0x5d907c(0xcf9)][_0x5d907c(0xdd0)](_0x38526a,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x5d907c(0x19e));});}function handleAddQuestionInEditor(){const _0x9f6bc4=_0x1d7cc9;if(!currentEditingQuizData)return;const _0x513800=document[_0x9f6bc4(0x773)](_0x9f6bc4(0x399)),_0x3b2b34=_0x513800?_0x513800['value']:_0x9f6bc4(0xbed);let _0x432ee1={'id':'q_'+Date[_0x9f6bc4(0xdbe)]()+'_new','questionType':_0x3b2b34,'questionText':_0x9f6bc4(0x297),'explanation':_0x9f6bc4(0xa3d)};switch(_0x3b2b34){case'multiple_choice':_0x432ee1[_0x9f6bc4(0x50b)]=[_0x9f6bc4(0x625),_0x9f6bc4(0xa64),_0x9f6bc4(0x7e5),_0x9f6bc4(0x283)],_0x432ee1['correctAnswerIndex']=0x0;break;case _0x9f6bc4(0x33a):case _0x9f6bc4(0x488):_0x432ee1[_0x9f6bc4(0x4b9)]=_0x9f6bc4(0x194);break;case _0x9f6bc4(0xc39):_0x432ee1['correctAnswer']=!![];break;case _0x9f6bc4(0xe52):_0x432ee1['stem']=_0x9f6bc4(0xdda),_0x432ee1['correctResponse']=_0x9f6bc4(0x325),_0x432ee1[_0x9f6bc4(0xc27)]=_0x9f6bc4(0xdda);break;}currentEditingQuizData[_0x9f6bc4(0xcf9)][_0x9f6bc4(0x65b)](_0x432ee1),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0x3fa7b3=_0x9f6bc4,_0x378bd0=document[_0x3fa7b3(0x86f)](_0x3fa7b3(0x926));if(_0x378bd0){_0x378bd0[_0x3fa7b3(0x776)]({'behavior':_0x3fa7b3(0xaf9),'block':_0x3fa7b3(0xc94)});const _0x1b68e0=_0x378bd0[_0x3fa7b3(0x86f)](_0x3fa7b3(0x3ca));if(_0x1b68e0)_0x1b68e0[_0x3fa7b3(0xc61)]();}},0x64);}async function handleAiFixQuestion(_0x1f967d){const _0x13f522=_0x1d7cc9,_0x5a1b21=_0x1f967d[_0x13f522(0x236)],_0x14b249=_0x5a1b21[_0x13f522(0x2e4)](_0x13f522(0x559));if(!_0x14b249)return;const _0x1a73b5=parseInt(_0x14b249['dataset'][_0x13f522(0xc30)],0xa);if(isNaN(_0x1a73b5)||!currentEditingQuizData[_0x13f522(0xcf9)][_0x1a73b5]){showMessage(_0x13f522(0x6e1));return;}const _0x1728af=currentEditingQuizData[_0x13f522(0xcf9)][_0x1a73b5];_0x5a1b21[_0x13f522(0x8ec)]=_0x13f522(0x23d),_0x5a1b21[_0x13f522(0x67a)]=!![];const _0x3c1951='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON[_0x13f522(0xbd7)](_0x1728af)+_0x13f522(0xcc7);let _0xa8541a;const _0x5a687e=_0x1728af[_0x13f522(0xa8d)]||currentEditingQuizData[_0x13f522(0xd83)];switch(_0x5a687e){case _0x13f522(0x33a):_0xa8541a={'type':'OBJECT','properties':{'questionText':{'type':_0x13f522(0x3a5)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x13f522(0x3a5)},'imageCode':{'type':_0x13f522(0x3a5)}},'required':[_0x13f522(0xc27),'idealAnswer',_0x13f522(0x4d2)]};break;case _0x13f522(0xbed):default:_0xa8541a={'type':'OBJECT','properties':{'questionText':{'type':_0x13f522(0x3a5)},'options':{'type':_0x13f522(0x37c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x13f522(0x3a5)},'imageCode':{'type':'STRING'}},'required':[_0x13f522(0xc27),_0x13f522(0x50b),_0x13f522(0xc68),_0x13f522(0x4d2)]};break;}try{let _0x859d1f=await callAnalysisApi(_0x3c1951,_0xa8541a);_0x859d1f[_0x13f522(0x50b)]&&Array[_0x13f522(0x29c)](_0x859d1f[_0x13f522(0x50b)])&&(_0x859d1f['options']=_0x859d1f['options'][_0x13f522(0x9d3)](_0x57b85f=>typeof _0x57b85f===_0x13f522(0xe46)?_0x57b85f[_0x13f522(0xc21)](/S(\s*[\d_]+?\s*)S/g,_0x13f522(0x78f)):_0x57b85f)),_0x1728af[_0x13f522(0x52c)]&&_0x1728af[_0x13f522(0x52c)][_0x13f522(0x1f6)](_0x13f522(0x102))&&(_0x859d1f[_0x13f522(0x52c)]=''),currentEditingQuizData[_0x13f522(0xcf9)][_0x1a73b5]={..._0x1728af,..._0x859d1f},renderQuizEditor(currentEditingQuizData),showMessage(_0x13f522(0xc40));}catch(_0x29d7d3){console[_0x13f522(0x7bc)](_0x13f522(0x210),_0x29d7d3),showMessage(_0x13f522(0x16f)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x156922=_0x1d7cc9,_0x27febd=document[_0x156922(0x773)]('save-quiz-edits-btn');_0x27febd[_0x156922(0x67a)]=!![],_0x27febd['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x3cfbf0=document[_0x156922(0x773)](_0x156922(0xdc4))['value'],_0x4e72e5=document[_0x156922(0x4a1)](_0x156922(0x559));let _0x6bdf08=[];const _0x1dcda8=Array[_0x156922(0xc85)](_0x4e72e5)[_0x156922(0x9d3)]((_0xcc5a12,_0x2487cd)=>{const _0x3433a4=_0x156922,_0x1fbde9=_0xcc5a12[_0x3433a4(0x576)][_0x3433a4(0x3d9)],_0x2f45cf=_0xcc5a12[_0x3433a4(0x86f)](_0x3433a4(0x3ca))[_0x3433a4(0xd9d)][_0x3433a4(0xc21)](/\n/g,_0x3433a4(0x9c2));let _0x309600={'questionType':_0x1fbde9};const _0x247dc5=currentEditingQuizData[_0x3433a4(0xcf9)][_0x2487cd]||{};switch(_0x1fbde9){case'multiple_choice':_0x309600[_0x3433a4(0xc27)]=_0x2f45cf;const _0x48c1c0=_0xcc5a12['querySelectorAll'](_0x3433a4(0x341));_0x309600[_0x3433a4(0x50b)]=Array['from'](_0x48c1c0)['map'](_0xbc5097=>_0xbc5097['value']);const _0x4295c1=_0xcc5a12[_0x3433a4(0x86f)](_0x3433a4(0x2b3));_0x309600[_0x3433a4(0xc68)]=_0x4295c1?parseInt(_0x4295c1[_0x3433a4(0xd9d)]):0x0;break;case _0x3433a4(0x488):case _0x3433a4(0x33a):_0x309600[_0x3433a4(0xc27)]=_0x2f45cf,_0x309600['idealAnswer']=_0xcc5a12['querySelector']('.ideal-answer-input')[_0x3433a4(0xd9d)];const _0x55590c=_0xcc5a12[_0x3433a4(0x4a1)](_0x3433a4(0xa07));_0x55590c[_0x3433a4(0x5df)]>0x0?(_0x309600[_0x3433a4(0x50b)]=Array[_0x3433a4(0xc85)](_0x55590c)[_0x3433a4(0x9d3)](_0x584ef2=>_0x584ef2['value']),_0x247dc5['correctAnswerIndex']!==undefined?_0x309600[_0x3433a4(0xc68)]=_0x247dc5['correctAnswerIndex']:_0x309600[_0x3433a4(0xc68)]=0x0):(delete _0x309600['options'],delete _0x309600[_0x3433a4(0xc68)]);break;case _0x3433a4(0xc39):_0x309600['questionText']=_0x2f45cf;const _0x5a8197=_0xcc5a12[_0x3433a4(0x86f)](_0x3433a4(0x2b3));_0x309600[_0x3433a4(0x77e)]=_0x5a8197?_0x5a8197[_0x3433a4(0xd9d)]===_0x3433a4(0x9ff):!![];break;case _0x3433a4(0xe52):_0x309600[_0x3433a4(0x43c)]=_0x2f45cf;const _0x281abf=_0xcc5a12[_0x3433a4(0x86f)](_0x3433a4(0x73c));_0x309600['correctResponse']=_0x281abf?_0x281abf['value']:'',_0x6bdf08[_0x3433a4(0x65b)](_0x309600[_0x3433a4(0x8e3)]);break;default:_0x309600[_0x3433a4(0xc27)]=_0x2f45cf;break;}return{..._0x247dc5,..._0x309600};});_0x6bdf08[_0x156922(0x5df)]>0x0&&_0x1dcda8[_0x156922(0xa25)](_0x60aca2=>{const _0x2a5439=_0x156922;_0x60aca2[_0x2a5439(0xa8d)]===_0x2a5439(0xe52)&&(_0x60aca2[_0x2a5439(0x59d)]=_0x6bdf08);});const _0xed1b15=currentEditingQuizData['id'],_0x2a818b=doc(db,_0x156922(0x6de)+appId+_0x156922(0xde0),_0xed1b15);await updateDoc(_0x2a818b,{'topic':_0x3cfbf0,'questions':_0x1dcda8}),document[_0x156922(0x773)](_0x156922(0x5dc))[_0x156922(0x985)][_0x156922(0xd0a)](_0x156922(0x806)),showMessage(_0x156922(0x822),()=>initiateReGradeProcess(_0xed1b15));}catch(_0x5581b7){console[_0x156922(0x7bc)](_0x156922(0x711),_0x5581b7),showMessage(_0x156922(0xcf2));}finally{_0x27febd[_0x156922(0x67a)]=![],_0x27febd[_0x156922(0x8ec)]=_0x156922(0x9d4);}}async function initiateReGradeProcess(_0xaaf9b9){const _0x37e336=_0x1d7cc9;showMessage(_0x37e336(0xe17));try{const _0xcb8cf3=doc(db,_0x37e336(0x6de)+appId+_0x37e336(0xde0),_0xaaf9b9),_0x504793=await getDoc(_0xcb8cf3);if(!_0x504793['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x436a28={'id':_0xaaf9b9,..._0x504793[_0x37e336(0xafb)]()},_0x50fc73=collection(db,_0x37e336(0x6de)+appId+_0x37e336(0xde0),_0xaaf9b9,_0x37e336(0x10e)),_0x2e06e8=await getDocs(_0x50fc73);if(_0x2e06e8[_0x37e336(0x758)]){showMessage(_0x37e336(0x68c));return;}const _0x204631=_0x2e06e8[_0x37e336(0x79c)][_0x37e336(0x9d3)](_0x1454a5=>reGradeSingleSubmission(_0x1454a5,_0x436a28));await Promise['all'](_0x204631);if(_0x436a28[_0x37e336(0xa1f)]){const _0x9aa905=doc(db,'artifacts/'+appId+'/public/data/projects',_0x436a28[_0x37e336(0xa1f)]),_0x125dd3=await getDoc(_0x9aa905);if(_0x125dd3[_0x37e336(0xc63)]()&&_0x125dd3[_0x37e336(0xafb)]()[_0x37e336(0xb2e)]){const _0x4d056c=_0x125dd3['data']()[_0x37e336(0xb2e)]['map'](_0x2ee6f8=>updateStudentProfile(_0x436a28['projectId'],_0x2ee6f8));await Promise[_0x37e336(0x2d2)](_0x4d056c);}}showMessage(_0x37e336(0xbb4)+_0x2e06e8[_0x37e336(0x619)]+_0x37e336(0xb58));}catch(_0x447b3f){console['error'](_0x37e336(0x2ad),_0x447b3f),showMessage(_0x37e336(0xd3a)+_0x447b3f['message']);}}async function reGradeSingleSubmission(_0x113ac9,_0x9a319e){const _0x1bafac=_0x1d7cc9,_0x49d47b=_0x113ac9['data'](),_0x4b568b=_0x49d47b[_0x1bafac(0xa12)],_0x30e476=_0x49d47b[_0x1bafac(0x672)]||[],_0x1df51f=[];for(const _0x4dc011 of _0x30e476){let _0x45bea9=0x0,_0xa181d0=[],_0x5e97bb=0x0;const _0x1b9f4f=[];for(const _0x113ebb of _0x4dc011[_0x1bafac(0x382)]){let _0x10a546;_0x113ebb['questionId']&&(_0x10a546=_0x9a319e[_0x1bafac(0xcf9)][_0x1bafac(0x15b)](_0x351ef3=>_0x351ef3['id']===_0x113ebb[_0x1bafac(0x3a6)]));!_0x10a546&&_0x113ebb[_0x1bafac(0xb6d)]&&(_0x10a546=_0x9a319e[_0x1bafac(0xcf9)]['find'](_0x23e420=>(_0x23e420['stem']||_0x23e420[_0x1bafac(0xc27)])===_0x113ebb['originalQuestionText']));let _0x2b3dd7=![];if(_0x10a546){const _0xa8d373=_0x10a546[_0x1bafac(0xa8d)]||_0x9a319e[_0x1bafac(0xd83)];switch(_0xa8d373){case _0x1bafac(0xbed):if(_0x10a546['options']&&_0x10a546['correctAnswerIndex']<_0x10a546[_0x1bafac(0x50b)][_0x1bafac(0x5df)]){const _0xbf72fc=_0x10a546[_0x1bafac(0x50b)][_0x10a546[_0x1bafac(0xc68)]];_0x2b3dd7=_0x113ebb[_0x1bafac(0x5c3)]===_0xbf72fc;}break;case _0x1bafac(0xc39):const _0x55902b=_0x113ebb[_0x1bafac(0x29b)]===!![]||_0x113ebb[_0x1bafac(0x29b)]===_0x1bafac(0x9ff);_0x2b3dd7=_0x55902b===_0x10a546[_0x1bafac(0x77e)];break;case'matching_item':_0x2b3dd7=_0x113ebb[_0x1bafac(0x29b)]===_0x10a546[_0x1bafac(0x8e3)];break;case _0x1bafac(0x33a):_0x2b3dd7=await gradeShortAnswer(_0x113ebb[_0x1bafac(0x29b)],_0x10a546);break;default:_0x2b3dd7=_0x113ebb[_0x1bafac(0x17c)];break;}}if(_0x2b3dd7){_0x45bea9++,_0x5e97bb++;if(_0x5e97bb===0x3)_0xa181d0['push'](BADGES[_0x1bafac(0x12e)]['id']);}else _0x5e97bb=0x0;_0x1b9f4f['push']({..._0x113ebb,'isCorrect':_0x2b3dd7});}let _0x25eb01=0x0;const _0x5812f8=_0x4dc011[_0x1bafac(0x39c)]===!![]||_0x4dc011['points']>_0x9a319e[_0x1bafac(0xcf9)][_0x1bafac(0x5df)]*0x14;_0x5812f8?_0x25eb01=_0x4dc011[_0x1bafac(0x829)]:(_0x25eb01=_0x45bea9*0xa,_0x45bea9===_0x9a319e['questions'][_0x1bafac(0x5df)]&&(_0x25eb01+=0x32,_0xa181d0[_0x1bafac(0x65b)](BADGES[_0x1bafac(0x627)]['id']))),_0x1df51f[_0x1bafac(0x65b)]({..._0x4dc011,'score':_0x45bea9,'points':_0x25eb01,'badges':Array[_0x1bafac(0xc85)](new Set(_0xa181d0)),'answers':_0x1b9f4f});}const _0x49136a=_0x1df51f[_0x1bafac(0x5df)]>0x0?_0x1df51f[0x0][_0x1bafac(0x5f8)]:0x0,_0x58652c=Math['max'](..._0x1df51f[_0x1bafac(0x9d3)](_0x445025=>_0x445025[_0x1bafac(0x5f8)])),_0x32fd9a=_0x1df51f[_0x1bafac(0x5df)]>0x0?_0x1df51f[_0x1df51f['length']-0x1][_0x1bafac(0x5f8)]:0x0,_0x5866b1=_0x1df51f[_0x1bafac(0x5df)]>0x0?_0x1df51f[_0x1df51f[_0x1bafac(0x5df)]-0x1][_0x1bafac(0x829)]:0x0,_0x1a94db=doc(db,_0x1bafac(0x6de)+appId+_0x1bafac(0x6b1)+_0x9a319e['id']+_0x1bafac(0x1cf),_0x4b568b);await updateDoc(_0x1a94db,{'attempts':_0x1df51f,'firstScore':_0x49136a,'bestScore':_0x58652c,'latestScore':_0x32fd9a,'points':_0x5866b1});}function cleanupQuizOptions(_0x5a7049){const _0x678473=_0x1d7cc9,_0x12f917=(_0x1fa7cb,_0x1af64e)=>_0x1af64e===0x0?_0x1fa7cb:_0x12f917(_0x1af64e,_0x1fa7cb%_0x1af64e),_0x2f985c=_0x114fae=>{const _0x3c9f66=_0x5842;if(typeof _0x114fae!==_0x3c9f66(0xe46))return null;_0x114fae=_0x114fae[_0x3c9f66(0xafd)]();const _0xeb6f87=_0x114fae[_0x3c9f66(0xa50)](/[ /]/)['filter'](_0x2fa943=>_0x2fa943!=='');if(_0xeb6f87[_0x3c9f66(0x5df)]===0x3)return parseInt(_0xeb6f87[0x0])+parseInt(_0xeb6f87[0x1])/parseInt(_0xeb6f87[0x2]);else{if(_0xeb6f87[_0x3c9f66(0x5df)]===0x2)return parseInt(_0xeb6f87[0x0])/parseInt(_0xeb6f87[0x1]);else{if(_0xeb6f87[_0x3c9f66(0x5df)]===0x1&&!isNaN(_0xeb6f87[0x0]))return parseFloat(_0xeb6f87[0x0]);}}return null;},_0x23c014=_0x23b378=>{const _0x91d006=_0x5842;if(typeof _0x23b378!==_0x91d006(0xe46))return _0x23b378;const _0x53cf66=_0x23b378[_0x91d006(0x45a)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x53cf66){const _0x34472f=parseInt(_0x53cf66[0x1]);let _0x2d5c42=parseInt(_0x53cf66[0x2]),_0x4bb1ea=parseInt(_0x53cf66[0x3]);const _0x13700e=_0x12f917(_0x2d5c42,_0x4bb1ea);_0x2d5c42/=_0x13700e,_0x4bb1ea/=_0x13700e;if(_0x4bb1ea===0x1)return(_0x34472f+_0x2d5c42)['toString']();return _0x34472f+'\x20'+_0x2d5c42+'/'+_0x4bb1ea;}return _0x23b378;};return _0x5a7049&&_0x5a7049['questions']&&_0x5a7049[_0x678473(0xcf9)][_0x678473(0xa25)](_0x2eff3b=>{const _0x4c9000=_0x678473;if(_0x2eff3b[_0x4c9000(0xa8d)]===_0x4c9000(0xbed)&&_0x2eff3b['options']){const _0x42edf6=new Map(),_0x409a6a=_0x2eff3b[_0x4c9000(0x50b)][_0x2eff3b[_0x4c9000(0xc68)]];_0x2eff3b[_0x4c9000(0x50b)][_0x4c9000(0xa25)](_0x597bd9=>{const _0x47c62c=_0x4c9000,_0x3e20a0=_0x23c014(_0x597bd9),_0x413988=_0x2f985c(_0x3e20a0);_0x413988!==null&&!_0x42edf6[_0x47c62c(0x2d9)](_0x413988)&&_0x42edf6[_0x47c62c(0x948)](_0x413988,_0x3e20a0);}),_0x2eff3b[_0x4c9000(0x50b)]=Array[_0x4c9000(0xc85)](_0x42edf6['values']());const _0x2c0d63=_0x2eff3b[_0x4c9000(0x50b)]['findIndex'](_0x7ec4b9=>_0x7ec4b9===_0x23c014(_0x409a6a));_0x2eff3b[_0x4c9000(0xc68)]=_0x2c0d63!==-0x1?_0x2c0d63:0x0;}}),_0x5a7049;}function showGameStartConfirmationModal(_0x21058a,_0x41d997,_0x34fbc8){const _0x42d916=_0x1d7cc9,_0x25ca4b=document['getElementById']('confirm-game-start-modal');document['getElementById'](_0x42d916(0x6bf))[_0x42d916(0xcd6)]=_0x42d916(0x74c)+_0x34fbc8,document[_0x42d916(0x773)](_0x42d916(0x26d))[_0x42d916(0xd9d)]=_0x21058a,document[_0x42d916(0x773)](_0x42d916(0x8fd))['value']=_0x41d997,document[_0x42d916(0x773)]('save-game-results-checkbox')[_0x42d916(0x17e)]=!![];const _0x4e7c6d=document['getElementById']('sync-variant-selector'),_0x3dfe05=document[_0x42d916(0x773)]('sync-timer-enable-checkbox'),_0x274542=document[_0x42d916(0x773)](_0x42d916(0x330)),_0x506035=document[_0x42d916(0x773)](_0x42d916(0x389)),_0x2cdb12=document[_0x42d916(0x773)]('anon-settings-container');if(_0x41d997===_0x42d916(0x479)){_0x4e7c6d[_0x42d916(0x985)][_0x42d916(0xa54)](_0x42d916(0x806));const _0x27c899='anonymous';document[_0x42d916(0x86f)]('input[name=\x22syncVariant\x22][value=\x22'+_0x27c899+'\x22]')[_0x42d916(0x17e)]=!![];if(_0x2cdb12)_0x2cdb12[_0x42d916(0x985)][_0x42d916(0xa54)]('hidden');_0x3dfe05['checked']=!![],_0x274542[_0x42d916(0x985)][_0x42d916(0xa54)](_0x42d916(0x806)),document[_0x42d916(0x773)](_0x42d916(0xb9f))['value']=_0x42d916(0x632),_0x506035[_0x42d916(0x985)][_0x42d916(0xa54)]('hidden'),document[_0x42d916(0x773)](_0x42d916(0x32f))['checked']=!![];}else{_0x4e7c6d[_0x42d916(0x985)]['add'](_0x42d916(0x806));if(_0x2cdb12)_0x2cdb12[_0x42d916(0x985)][_0x42d916(0xd0a)](_0x42d916(0x806));_0x3dfe05[_0x42d916(0x17e)]=![],_0x274542['classList'][_0x42d916(0xd0a)](_0x42d916(0x806)),_0x506035[_0x42d916(0x985)]['add'](_0x42d916(0x806));}_0x25ca4b[_0x42d916(0x985)][_0x42d916(0xa54)](_0x42d916(0x806));}async function saveGameResultsAsSubmissions(_0x3f925c){const _0x2ba948=_0x1d7cc9;if(_0x3f925c['resultsSaved']){console[_0x2ba948(0xe59)](_0x2ba948(0xd1d));return;}console[_0x2ba948(0xe59)](_0x2ba948(0xb69),_0x3f925c);const _0x4bb841=_0x3f925c[_0x2ba948(0x514)];let _0x1ad2b8=[];if(_0x3f925c[_0x2ba948(0x10d)])_0x1ad2b8=Object[_0x2ba948(0x565)](_0x3f925c['players'])[_0x2ba948(0x9d3)](([_0x25d5c4,_0x27688c])=>({'name':_0x25d5c4,..._0x27688c}));else{if(_0x3f925c[_0x2ba948(0x84c)])Object[_0x2ba948(0x230)](_0x3f925c[_0x2ba948(0x84c)])['forEach'](_0x4ea48a=>{const _0x14685d=_0x2ba948;_0x4ea48a['members'][_0x14685d(0xa25)](_0x5e0c59=>{const _0x26c345=_0x14685d;_0x1ad2b8[_0x26c345(0x65b)]({'name':_0x5e0c59,'score':_0x4ea48a[_0x26c345(0x5f8)],'answers':_0x4ea48a[_0x26c345(0x382)]});});});else _0x3f925c['responses']&&Object[_0x2ba948(0x565)](_0x3f925c[_0x2ba948(0x7c7)])['forEach'](([_0x2115a6,_0x14bc7a])=>{const _0x261eb5=_0x2ba948;_0x1ad2b8[_0x261eb5(0x65b)]({'name':_0x2115a6,..._0x14bc7a});});}if(_0x1ad2b8[_0x2ba948(0x5df)]===0x0){console['warn']('No\x20players\x20data\x20found\x20to\x20save\x20yet.');return;}const _0x317d55=_0x3f925c[_0x2ba948(0x142)]?.[_0x2ba948(0xcf9)][_0x2ba948(0x5df)]||currentQuizData[_0x2ba948(0xcf9)][_0x2ba948(0x5df)],_0x230a27=writeBatch(db);for(const _0x39a070 of _0x1ad2b8){const _0x4a6409=doc(db,'artifacts/'+appId+_0x2ba948(0x6b1)+_0x4bb841+_0x2ba948(0x1cf),_0x39a070[_0x2ba948(0xb30)]),_0x3f5026=(_0x39a070[_0x2ba948(0x382)]||[])['filter'](_0x1edefa=>_0x1edefa[_0x2ba948(0x17c)])[_0x2ba948(0x5df)];let _0x32f932=_0x39a070[_0x2ba948(0x7f7)]!==undefined?_0x39a070[_0x2ba948(0x7f7)]:_0x3f5026,_0x560f69=_0x39a070[_0x2ba948(0x340)]||[];_0x3f5026===_0x317d55&&_0x317d55>0x0&&(!_0x560f69[_0x2ba948(0x1f6)]('perfect_score')&&_0x560f69[_0x2ba948(0x65b)](_0x2ba948(0x16e)));const _0x52129b={'score':_0x3f5026,'points':_0x32f932,'badges':_0x560f69,'submittedAt':new Date()[_0x2ba948(0xd78)](),'isSyncGame':!![],'answers':(_0x39a070[_0x2ba948(0x382)]||[])[_0x2ba948(0x9d3)](_0x4365a8=>({'questionId':_0x4365a8['questionId'],'answer':_0x4365a8[_0x2ba948(0x29b)],'answerText':_0x4365a8['answerText'],'isCorrect':_0x4365a8[_0x2ba948(0x17c)],'originalQuestionText':_0x4365a8[_0x2ba948(0xb6d)],'wasConfident':_0x4365a8[_0x2ba948(0x456)],'powerupUsed':_0x4365a8[_0x2ba948(0x1a3)]||null}))},_0x598acc=await getDoc(_0x4a6409),_0xcf593e=_0x598acc[_0x2ba948(0xc63)]()?_0x598acc[_0x2ba948(0xafb)]():{},_0x261547=_0xcf593e['bestScore']||0x0,_0x24511d=_0xcf593e[_0x2ba948(0x672)]||[];_0x24511d[_0x2ba948(0x5df)]===0x0&&_0x3f5026===_0x317d55&&_0x317d55>0x0&&(!_0x52129b[_0x2ba948(0x340)][_0x2ba948(0x1f6)](_0x2ba948(0xc8a))&&_0x52129b[_0x2ba948(0x340)]['push']('first_try_ace'));const _0x28c09b={'studentName':_0x39a070[_0x2ba948(0xb30)],'totalQuestions':_0x317d55,'attempts':arrayUnion(_0x52129b),'latestScore':_0x3f5026,'points':_0x32f932,'latestSubmittedAt':_0x52129b[_0x2ba948(0x580)],'bestScore':Math[_0x2ba948(0x98d)](_0x261547,_0x3f5026),'firstScore':_0x24511d[_0x2ba948(0x5df)]===0x0?_0x3f5026:_0xcf593e[_0x2ba948(0x6be)]||0x0};_0x230a27[_0x2ba948(0x948)](_0x4a6409,_0x28c09b,{'merge':!![]});}try{if(currentLiveGameId){const _0x585505=doc(db,_0x2ba948(0x6de)+appId+_0x2ba948(0x782),currentLiveGameId);_0x230a27['update'](_0x585505,{'resultsSaved':!![]});}await _0x230a27['commit'](),showMessage(_0x2ba948(0x259)+_0x1ad2b8['length']+_0x2ba948(0x816));const _0x4ac537=_0x3f925c['shuffledQuiz']?.[_0x2ba948(0xa1f)]||currentQuizData?.[_0x2ba948(0xa1f)]||currentProjectId;if(_0x4ac537){const _0x40c7fd=[...new Set(_0x1ad2b8[_0x2ba948(0x9d3)](_0x4c4dc2=>_0x4c4dc2[_0x2ba948(0xb30)]))];for(const _0x426e72 of _0x40c7fd){await updateStudentProfile(_0x4ac537,_0x426e72);}}}catch(_0x3529c7){console[_0x2ba948(0x7bc)](_0x2ba948(0x26f),_0x3529c7),showMessage(_0x2ba948(0xa8b));}}async function saveQuiz(_0x34f193=null,_0x2b1e6a=null){const _0xb029ef=_0x1d7cc9,_0x36adc6=_0x34f193||currentProjectId;if(!_0x36adc6){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0xb029ef(0xbfe));return;}const _0x469cc0=document[_0xb029ef(0x773)](_0xb029ef(0x227));_0x469cc0[_0xb029ef(0x67a)]=!![],_0x469cc0[_0xb029ef(0x8ec)]=_0xb029ef(0xe30);const _0x32f8f4=document['getElementById'](_0xb029ef(0x50f))[_0xb029ef(0x17e)];let _0x26e12b=document[_0xb029ef(0x773)]('editable-quiz-topic')['innerText'][_0xb029ef(0xafd)]();_0x32f8f4&&!_0x26e12b[_0xb029ef(0x1aa)]('(ก่อนเรียน)')&&(_0x26e12b='(ก่อนเรียน)\x20'+_0x26e12b);try{const _0x12b46a={'resultsDisplay':document['getElementById'](_0xb029ef(0x254))[_0xb029ef(0xd9d)],'shuffle':document[_0xb029ef(0x773)]('shuffle-setting-select')[_0xb029ef(0xd9d)],'timerMode':document[_0xb029ef(0x773)]('timer-mode-select')['value'],'timerDuration':parseInt(document['getElementById'](_0xb029ef(0x598))[_0xb029ef(0xd9d)])||0xa,'passingScore':parseInt(document['getElementById']('passing-score-input')[_0xb029ef(0xd9d)])||0x0,'isAdaptive':document[_0xb029ef(0x773)](_0xb029ef(0x57e))[_0xb029ef(0x17e)],'loopUntilPass':document[_0xb029ef(0x773)](_0xb029ef(0x347))['checked']},_0x170185=(currentQuizData[_0xb029ef(0xcf9)]||[])[_0xb029ef(0x9d3)]((_0xee02ff,_0x5b04fd)=>{const _0x399897=_0xb029ef,_0x5cf8c3=document[_0x399897(0x773)](_0x399897(0x2e2))[_0x399897(0xd9d)],_0x433c13={'id':'q_'+Date[_0x399897(0xdbe)]()+'_'+_0x5b04fd,'questionText':_0xee02ff['questionText']||'','explanation':_0xee02ff[_0x399897(0x4d2)]||_0x399897(0xc23),'questionType':_0xee02ff['questionType']||_0x5cf8c3,'imageCode':_0xee02ff[_0x399897(0x52c)]||null};return(_0x433c13['questionType']===_0x399897(0xbed)||_0x433c13[_0x399897(0xa8d)]===_0x399897(0xc55)||_0x433c13[_0x399897(0xa8d)]==='mixed'&&_0xee02ff[_0x399897(0x50b)])&&(_0x433c13[_0x399897(0x50b)]=_0xee02ff['options']||[],_0x433c13['correctAnswerIndex']=_0xee02ff[_0x399897(0xc68)]!==undefined?_0xee02ff[_0x399897(0xc68)]:0x0),(_0x433c13[_0x399897(0xa8d)]===_0x399897(0x33a)||_0x433c13[_0x399897(0xa8d)]===_0x399897(0x488)||_0x433c13[_0x399897(0xa8d)]===_0x399897(0xbc9)&&_0xee02ff[_0x399897(0x4b9)])&&(_0x433c13[_0x399897(0x4b9)]=_0xee02ff[_0x399897(0x4b9)]||''),_0x433c13['questionType']===_0x399897(0xc39)&&(_0x433c13[_0x399897(0x77e)]=_0xee02ff['correctAnswer']===!![]),_0x433c13[_0x399897(0xa8d)]==='matching_item'&&(_0x433c13['stem']=_0xee02ff[_0x399897(0x43c)]||'',_0x433c13[_0x399897(0x8e3)]=_0xee02ff['correctResponse']||'',_0x433c13[_0x399897(0x59d)]=_0xee02ff[_0x399897(0x59d)]||[]),_0x433c13;}),_0x21ca93={'topic':_0x26e12b,'quizType':currentQuizData[_0xb029ef(0xd83)]||_0xb029ef(0xbed),'questions':_0x170185,'projectId':_0x36adc6,'createdBy':userId,'createdAt':new Date()[_0xb029ef(0xd78)](),'status':_0xb029ef(0x4c8),'settings':_0x12b46a,'quizMode':_0x32f8f4?_0xb029ef(0x18a):'standard','pairedQuizId':null,'lessonPlan':null};let _0x141ab9;while(!![]){_0x141ab9=Math[_0xb029ef(0x36b)](0x3e8+Math[_0xb029ef(0xa75)]()*0x2328)['toString']();const _0x44515e=await getDoc(doc(db,_0xb029ef(0x6de)+appId+_0xb029ef(0xde0),_0x141ab9));if(!_0x44515e[_0xb029ef(0xc63)]())break;}await setDoc(doc(db,_0xb029ef(0x6de)+appId+_0xb029ef(0xde0),_0x141ab9),_0x21ca93);if(_0x2b1e6a&&currentBlueprintProjectId){console[_0xb029ef(0xe59)](_0xb029ef(0x4c5)+_0x141ab9+_0xb029ef(0x60b)+_0x2b1e6a);try{const _0x42a33f=doc(db,_0xb029ef(0x6de)+appId+_0xb029ef(0x31d),currentBlueprintProjectId);await updateDoc(_0x42a33f,{[_0xb029ef(0x8c4)+_0x2b1e6a+'.linkedQuizIds']:arrayUnion(_0x141ab9)});}catch(_0x5a47d9){console[_0xb029ef(0x7bc)](_0xb029ef(0x3b3),_0x5a47d9);}}currentQuizData[_0xb029ef(0xadf)]=_0x12b46a,currentQuizData['id']=_0x141ab9;const _0x386b34=document[_0xb029ef(0x773)](_0xb029ef(0x8f3));_0x386b34[_0xb029ef(0x8ec)]=_0xb029ef(0x232)+_0x141ab9+_0xb029ef(0x363),document[_0xb029ef(0x773)](_0xb029ef(0xc52))['addEventListener']('click',()=>copyTextToClipboard(_0x141ab9,_0xb029ef(0x944))),document['getElementById'](_0xb029ef(0xe22))[_0xb029ef(0x6f7)]('click',()=>handleStartLiveRace(_0x141ab9)),document[_0xb029ef(0x773)](_0xb029ef(0x845))[_0xb029ef(0x6f7)](_0xb029ef(0x2af),()=>startPresentation(currentQuizData)),document[_0xb029ef(0x773)]('admin-try-quiz-btn')[_0xb029ef(0x6f7)]('click',startAdminTest),showMessage(_0xb029ef(0x4f8));}catch(_0x5cf9ab){console[_0xb029ef(0x7bc)](_0xb029ef(0xd75),_0x5cf9ab),showMessage(_0xb029ef(0x4e4));}finally{_0x469cc0[_0xb029ef(0x67a)]=![],_0x469cc0[_0xb029ef(0x8ec)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x32b884=_0x1d7cc9,_0x2135dc=document['getElementById'](_0x32b884(0x912)),_0x5a07ab=document[_0x32b884(0x773)](_0x32b884(0x904)),_0x3dd2f9=_0x2135dc[_0x32b884(0x86f)]('h3'),_0x1c6524=document['getElementById'](_0x32b884(0x21a));_0x3dd2f9[_0x32b884(0xcd6)]=_0x32b884(0x5e8),_0x1c6524['textContent']=_0x32b884(0x893);allProjects[_0x32b884(0x5df)]===0x0?(_0x5a07ab['innerHTML']=_0x32b884(0xc19),_0x1c6524[_0x32b884(0x67a)]=!![]):(_0x5a07ab[_0x32b884(0x8ec)]=allProjects[_0x32b884(0x9d3)](_0x25fac5=>_0x32b884(0xd4d)+_0x25fac5['id']+'\x22>'+_0x25fac5[_0x32b884(0x1c1)]+_0x32b884(0x6da))[_0x32b884(0x370)](''),_0x1c6524[_0x32b884(0x67a)]=![]);_0x2135dc[_0x32b884(0x985)][_0x32b884(0xa54)](_0x32b884(0x806));const _0x20275e=()=>{const _0x22af9e=_0x32b884,_0xc0b9b7=_0x5a07ab[_0x22af9e(0xd9d)];_0xc0b9b7?(currentProjectId=_0xc0b9b7,_0x2135dc[_0x22af9e(0x985)]['add']('hidden'),saveQuiz(),_0x3dd2f9[_0x22af9e(0xcd6)]=_0x22af9e(0xc34),_0x1c6524[_0x22af9e(0xcd6)]=_0x22af9e(0x3fa),_0x1c6524[_0x22af9e(0x755)]('click',_0x20275e),_0x1c6524[_0x22af9e(0x6f7)]('click',confirmMoveQuiz)):showMessage(_0x22af9e(0x3a7));};_0x1c6524['removeEventListener'](_0x32b884(0x2af),confirmMoveQuiz),_0x1c6524[_0x32b884(0x6f7)](_0x32b884(0x2af),_0x20275e);}function copyTextToClipboard(_0x128747,_0x35e386){const _0x5be564=_0x1d7cc9,_0x3602b7=document[_0x5be564(0x869)](_0x5be564(0x3ca));_0x3602b7['value']=_0x128747,_0x3602b7[_0x5be564(0x90e)][_0x5be564(0xc51)]=_0x5be564(0x44a),_0x3602b7[_0x5be564(0x90e)]['opacity']='0',document['body'][_0x5be564(0x3d7)](_0x3602b7),_0x3602b7[_0x5be564(0xc61)](),_0x3602b7[_0x5be564(0x606)]();try{const _0x300455=document[_0x5be564(0x2b5)](_0x5be564(0x7d0));showMessage(_0x300455?_0x35e386:'คัดลอกไม่สำเร็จ');}catch(_0x262ea3){showMessage(_0x5be564(0x977)),console[_0x5be564(0x7bc)](_0x5be564(0x6ba),_0x262ea3);}document[_0x5be564(0xb31)][_0x5be564(0x86c)](_0x3602b7);}function listenForProjectQuizzes(_0x140bcf){const _0xe88955=_0x1d7cc9,_0x2b49de=collection(db,_0xe88955(0x6de)+appId+_0xe88955(0xde0)),_0x3abe32=query(_0x2b49de,where(_0xe88955(0xa1f),'==',_0x140bcf));unsubscribeQuizzesListener=onSnapshot(_0x3abe32,async _0x5bb13e=>{const _0x225054=_0xe88955;allQuizzes=_0x5bb13e[_0x225054(0x79c)][_0x225054(0x9d3)](_0x4a21f3=>({'id':_0x4a21f3['id'],..._0x4a21f3['data']()})),renderQuizzes();},_0xd07679=>{const _0x761bad=_0xe88955;console[_0x761bad(0x7bc)](_0x761bad(0x419),_0xd07679),document[_0x761bad(0x773)](_0x761bad(0xb9c))['innerHTML']=_0x761bad(0xcd5);});}async function renderQuizzes(){const _0x38dc5b=_0x1d7cc9,_0xf9cbba=document[_0x38dc5b(0x773)](_0x38dc5b(0xb9c)),_0x41223a=document[_0x38dc5b(0x773)]('quiz-search-input')['value']['toLowerCase']();let _0x50b389;currentProjectId===_0x38dc5b(0x94e)?_0x50b389=starredQuizzes:_0x50b389=allQuizzes;let _0x5473d0=_0x50b389[_0x38dc5b(0x485)](_0x26f6a2=>_0x26f6a2['topic'][_0x38dc5b(0xa43)]()[_0x38dc5b(0x1f6)](_0x41223a));_0x5473d0[_0x38dc5b(0xc1c)]((_0x5b9f0b,_0x1fcbb2)=>new Date(_0x1fcbb2[_0x38dc5b(0x7b4)])-new Date(_0x5b9f0b[_0x38dc5b(0x7b4)]));if(_0x5473d0[_0x38dc5b(0x5df)]===0x0){_0xf9cbba[_0x38dc5b(0x8ec)]=_0x38dc5b(0xda9);return;}const _0x5e4839={},_0x517d28=_0x5473d0[_0x38dc5b(0x9d3)](async _0x2c111e=>{const _0x26e1a8=_0x38dc5b,_0x2a5775=collection(db,_0x26e1a8(0x6de)+appId+_0x26e1a8(0x6b1)+_0x2c111e['id']+_0x26e1a8(0x1cf)),_0x2b961e=await getDocs(_0x2a5775);_0x5e4839[_0x2c111e['id']]=_0x2b961e[_0x26e1a8(0x619)];});await Promise[_0x38dc5b(0x2d2)](_0x517d28);let _0x110d70='';_0x5473d0[_0x38dc5b(0xa25)](_0x2741e3=>{const _0x20c4d3=_0x38dc5b,_0x329fbb=_0x5e4839[_0x2741e3['id']]||0x0,_0xf8bc37=_0x2741e3[_0x20c4d3(0xfc)]||'active',_0x37dcf9=_0x2741e3[_0x20c4d3(0xadf)]?.['timerMode']||_0x20c4d3(0x264);let _0x1161bb='',_0x5615ea='';const _0x31f98b=new Date();let _0x4aeb3a=_0xf8bc37;if(_0xf8bc37==='scheduled'){const _0x478083=_0x2741e3[_0x20c4d3(0xa2d)]?new Date(_0x2741e3[_0x20c4d3(0xa2d)]):null,_0x167bd6=_0x2741e3[_0x20c4d3(0x2a0)]?new Date(_0x2741e3[_0x20c4d3(0x2a0)]):null;if(_0x167bd6&&_0x31f98b>_0x167bd6)_0x4aeb3a='inactive';else _0x478083&&_0x31f98b<_0x478083?_0x4aeb3a=_0x20c4d3(0x1a6):_0x4aeb3a='active';}switch(_0x4aeb3a){case'inactive':_0x1161bb=_0x20c4d3(0xa60),_0x5615ea=_0x20c4d3(0xc98);break;case _0x20c4d3(0x1a6):_0x1161bb=_0x20c4d3(0x4d5),_0x5615ea=_0x20c4d3(0x2a9);break;case _0x20c4d3(0x4c8):_0x1161bb=_0x37dcf9!==_0x20c4d3(0x264)?'เปิด\x20(จับเวลา)':_0x20c4d3(0x2f2),_0x5615ea=_0x20c4d3(0x6d1);break;default:_0x1161bb=_0x20c4d3(0xdcd),_0x5615ea=_0x20c4d3(0x6d1);break;}let _0x5985d6='';const _0x1f3e9d={'day':'2-digit','month':_0x20c4d3(0x896),'year':_0x20c4d3(0xdd1),'hour':_0x20c4d3(0x896),'minute':_0x20c4d3(0x896),'hour12':![]};if(_0xf8bc37===_0x20c4d3(0x72c)){if(_0x2741e3[_0x20c4d3(0xa2d)])_0x5985d6+=_0x20c4d3(0x5f2)+new Date(_0x2741e3[_0x20c4d3(0xa2d)])[_0x20c4d3(0x990)](_0x20c4d3(0x3d1),_0x1f3e9d)+_0x20c4d3(0xd28);if(_0x2741e3[_0x20c4d3(0x2a0)])_0x5985d6+=_0x20c4d3(0x43a)+new Date(_0x2741e3[_0x20c4d3(0x2a0)])['toLocaleString']('th-TH',_0x1f3e9d)+_0x20c4d3(0xd28);}let _0x3e29de='';if(_0x2741e3['pairedQuizId']){const _0x15935a=allQuizzes[_0x20c4d3(0x15b)](_0x4cec2d=>_0x4cec2d['id']===_0x2741e3[_0x20c4d3(0x6bc)]);if(_0x15935a){let _0x148dc4,_0x6d6fdc;new Date(_0x2741e3[_0x20c4d3(0x7b4)])<new Date(_0x15935a[_0x20c4d3(0x7b4)])?(_0x148dc4=_0x2741e3['id'],_0x6d6fdc=_0x15935a['id']):(_0x148dc4=_0x15935a['id'],_0x6d6fdc=_0x2741e3['id']),_0x3e29de+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x6d6fdc+_0x20c4d3(0x9fc)+_0x148dc4+_0x20c4d3(0x578);}}else _0x2741e3[_0x20c4d3(0xb7b)]===_0x20c4d3(0x18a)&&(_0x3e29de+=_0x20c4d3(0x897)+_0x2741e3['id']+_0x20c4d3(0xdad));if(_0x2741e3['quizMode']==='pre-test'&&_0x329fbb>0x0)_0x3e29de+=_0x20c4d3(0x897)+_0x2741e3['id']+_0x20c4d3(0x1ca);else!_0x2741e3['pairedQuizId']&&_0x2741e3[_0x20c4d3(0xb7b)]!==_0x20c4d3(0x18a)&&_0x329fbb>0x0&&(_0x3e29de+=_0x20c4d3(0x897)+_0x2741e3['id']+_0x20c4d3(0xc05));let _0xa56d46='';_0x2741e3[_0x20c4d3(0x6bc)]?_0xa56d46=_0x20c4d3(0xa84)+_0x2741e3['id']+_0x20c4d3(0xd3f):_0xa56d46=_0x20c4d3(0xa84)+_0x2741e3['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>';const _0x1a9e0e=_0x20c4d3(0xe14)+_0x2741e3['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x110d70+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x2741e3['id']+_0x20c4d3(0x255)+_0x2741e3[_0x20c4d3(0xa37)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x2741e3['questions']['length']+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x2741e3[_0x20c4d3(0x7b4)])[_0x20c4d3(0x990)]('th-TH')+_0x20c4d3(0xe34)+_0x329fbb+_0x20c4d3(0x77c)+_0x5985d6+_0x20c4d3(0xc64)+_0x5615ea+'\x22>'+_0x1161bb+_0x20c4d3(0x527)+_0x2741e3['id']+_0x20c4d3(0xc82)+_0x2741e3['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x2741e3[_0x20c4d3(0x5cd)]?'fas\x20fa-star\x20text-yellow-500':_0x20c4d3(0xdc0))+_0x20c4d3(0x713)+_0x3e29de+_0x20c4d3(0x159)+_0x1a9e0e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2741e3['id']+_0x20c4d3(0x3d4)+_0x2741e3['id']+_0x20c4d3(0x60c)+_0x2741e3['id']+_0x20c4d3(0xb5c)+_0x2741e3['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2741e3['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2741e3['id']+_0x20c4d3(0x706)+_0x2741e3['id']+_0x20c4d3(0xe3e)+_0x2741e3[_0x20c4d3(0xa37)]+_0x20c4d3(0xd8b)+_0x2741e3['id']+_0x20c4d3(0x3d2)+_0x2741e3['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa56d46+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2741e3['id']+_0x20c4d3(0x282)+_0x2741e3['id']+_0x20c4d3(0x99c)+_0x2741e3['id']+_0x20c4d3(0xc99)+_0x2741e3['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2741e3['id']+_0x20c4d3(0xe3e)+_0x2741e3[_0x20c4d3(0xa37)]+_0x20c4d3(0xb1b)+_0x2741e3['id']+_0x20c4d3(0x91b);}),_0xf9cbba[_0x38dc5b(0x8ec)]=_0x110d70,document[_0x38dc5b(0x4a1)](_0x38dc5b(0x24c))[_0x38dc5b(0xa25)](_0x38c2d5=>{const _0xf7a03c=_0x38dc5b;_0x38c2d5[_0xf7a03c(0x6f7)](_0xf7a03c(0x2af),()=>{const _0x389b15=_0xf7a03c,_0x58faa4=_0x38c2d5[_0x389b15(0x576)][_0x389b15(0x514)];showQuizDetailView(_0x58faa4);});});}async function handleUnpairQuiz(_0x175ed3){const _0x408dd3=_0x1d7cc9,_0x31db28=allQuizzes['find'](_0x4fedb0=>_0x4fedb0['id']===_0x175ed3);if(!_0x31db28||!_0x31db28[_0x408dd3(0x6bc)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x408dd3(0xbfc),async()=>{const _0x45c7b3=_0x408dd3;try{const _0xecf6ea=doc(db,_0x45c7b3(0x6de)+appId+'/public/data/quizzes',_0x175ed3),_0x731bc=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x31db28[_0x45c7b3(0x6bc)]),_0x474887=writeBatch(db);_0x474887[_0x45c7b3(0x7c3)](_0xecf6ea,{'pairedQuizId':null}),_0x474887[_0x45c7b3(0x7c3)](_0x731bc,{'pairedQuizId':null}),await _0x474887[_0x45c7b3(0x3f1)](),showMessage(_0x45c7b3(0x6ff));}catch(_0x4fe9b8){console[_0x45c7b3(0x7bc)](_0x45c7b3(0x307),_0x4fe9b8),showMessage(_0x45c7b3(0x295));}});}function formatAndPrintLessonPlan(_0x3bdf16,_0x201655){const _0x2eace5=_0x1d7cc9,_0x26b88b=window[_0x2eace5(0x2f8)]('',_0x2eace5(0x211)),_0x50221b=_0x2eace5(0x2b2)+_0x201655['topic']+_0x2eace5(0xc31)+_0x201655[_0x2eace5(0xa37)]+_0x2eace5(0xa01)+_0x3bdf16[_0x2eace5(0xdc5)][_0x2eace5(0x9d3)](_0x377ec2=>'<li>'+_0x377ec2+_0x2eace5(0xd2a))[_0x2eace5(0x370)]('')+_0x2eace5(0xdc1)+_0x3bdf16[_0x2eace5(0x9b8)]+_0x2eace5(0x613)+_0x3bdf16[_0x2eace5(0x7a2)][_0x2eace5(0x9d3)](_0x9b906e=>_0x2eace5(0x120)+_0x9b906e[_0x2eace5(0xa9f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x9b906e[_0x2eace5(0x57f)]+_0x2eace5(0x190))[_0x2eace5(0x370)]('')+_0x2eace5(0x661);_0x26b88b[_0x2eace5(0xd45)][_0x2eace5(0xdbf)](_0x50221b),_0x26b88b[_0x2eace5(0xd45)]['close'](),_0x26b88b[_0x2eace5(0x4c6)]=function(){setTimeout(()=>{const _0x477c8a=_0x5842;_0x26b88b[_0x477c8a(0x574)]();},0x3e8);};}async function handleAiFixFormula(_0x346eed){const _0x554548=_0x1d7cc9,_0xbeb29b=document[_0x554548(0x86f)](_0x554548(0x97b)+_0x346eed+'\x22]');if(!_0xbeb29b)return;const _0x8a5283=_0xbeb29b['dataset'][_0x554548(0x3d9)],_0x7ae8a3=_0xbeb29b[_0x554548(0x86f)](_0x554548(0x6dd));let _0x362569={'question':_0xbeb29b[_0x554548(0x86f)]('textarea')[_0x554548(0xd9d)]};switch(_0x8a5283){case _0x554548(0xbed):_0x362569[_0x554548(0x50b)]=Array['from'](_0xbeb29b[_0x554548(0x4a1)]('input[type=\x22text\x22]'))[_0x554548(0x9d3)](_0x316086=>_0x316086[_0x554548(0xd9d)]);break;case _0x554548(0x488):case _0x554548(0x33a):_0x362569[_0x554548(0x4b9)]=_0xbeb29b[_0x554548(0x86f)](_0x554548(0xb8d))[_0x554548(0xd9d)];break;case'matching_item':_0x362569[_0x554548(0x8e3)]=_0xbeb29b['querySelector'](_0x554548(0x73c))[_0x554548(0xd9d)];break;}_0x7ae8a3[_0x554548(0x8ec)]=_0x554548(0x23d),_0x7ae8a3[_0x554548(0x67a)]=!![];try{const _0xab709a=_0x554548(0x6ea)+JSON[_0x554548(0xbd7)](_0x362569)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3b3b10={'type':'OBJECT','properties':{'fixedData':{'type':_0x554548(0x181),'properties':{'question':{'type':_0x554548(0x3a5)},'options':{'type':_0x554548(0x37c),'items':{'type':_0x554548(0x3a5)}},'idealAnswer':{'type':_0x554548(0x3a5)},'correctResponse':{'type':_0x554548(0x3a5)}},'required':[_0x554548(0xa9f)]}},'required':[_0x554548(0x9ad)]},_0x15860b=await callAnalysisApi(_0xab709a,_0x3b3b10);if(_0x15860b&&_0x15860b[_0x554548(0x9ad)]){const _0x3503a3=_0x15860b[_0x554548(0x9ad)];_0xbeb29b[_0x554548(0x86f)]('textarea')[_0x554548(0xd9d)]=_0x3503a3[_0x554548(0xa9f)]||_0x362569[_0x554548(0xa9f)];switch(_0x8a5283){case _0x554548(0xbed):_0x3503a3[_0x554548(0x50b)]&&_0x3503a3[_0x554548(0x50b)][_0x554548(0x5df)]>0x0&&_0xbeb29b['querySelectorAll']('input[type=\x22text\x22]')[_0x554548(0xa25)]((_0x460672,_0x35128e)=>{const _0x2efdfe=_0x554548;_0x460672[_0x2efdfe(0xd9d)]=_0x3503a3[_0x2efdfe(0x50b)][_0x35128e]||_0x362569[_0x2efdfe(0x50b)][_0x35128e];});break;case'fill_in_no_choices':case _0x554548(0x33a):_0xbeb29b[_0x554548(0x86f)](_0x554548(0xb8d))[_0x554548(0xd9d)]=_0x3503a3[_0x554548(0x4b9)]||_0x362569['idealAnswer'];break;case _0x554548(0xe52):_0xbeb29b[_0x554548(0x86f)]('.correct-response-input')[_0x554548(0xd9d)]=_0x3503a3[_0x554548(0x8e3)]||_0x362569[_0x554548(0x8e3)];break;}showMessage(_0x554548(0xbf9));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x2838d8){console[_0x554548(0x7bc)](_0x554548(0x69d),_0x2838d8),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x7ae8a3[_0x554548(0x8ec)]=_0x554548(0x638),_0x7ae8a3[_0x554548(0x67a)]=![];}}async function handleGenerateLessonPlan(_0x445502){const _0x517f2c=_0x1d7cc9;showMessage(_0x517f2c(0xa1b));try{const _0x3927f1=doc(db,_0x517f2c(0x6de)+appId+_0x517f2c(0xde0),_0x445502),_0x1fe9d0=await getDoc(_0x3927f1);if(!_0x1fe9d0[_0x517f2c(0xc63)]())throw new Error(_0x517f2c(0x84a));const _0x3bba9e={'id':_0x445502,..._0x1fe9d0[_0x517f2c(0xafb)]()},_0x1f7afe=collection(db,_0x517f2c(0x6de)+appId+_0x517f2c(0xde0),_0x445502,_0x517f2c(0x10e)),_0x3cee84=await getDocs(_0x1f7afe),_0x3392d8=_0x3cee84[_0x517f2c(0x79c)][_0x517f2c(0x9d3)](_0x527816=>_0x527816['data']());if(_0x3392d8['length']===0x0)throw new Error(_0x517f2c(0x10f));const _0x1c7fca=calculateItemAnalysis(_0x3bba9e,_0x3392d8)['perQuestionStats'],_0xc39dad=calculateDistractorAnalysis(_0x3bba9e,_0x3392d8),_0x877f68=_0x549c8d=>{const _0x1eb5dd=_0x517f2c;if(!_0x549c8d)return'';return _0x549c8d[_0x1eb5dd(0xc21)](/\\/g,'\x5c\x5c')[_0x1eb5dd(0xc21)](/"/g,'\x5c\x22')[_0x1eb5dd(0xc21)](/\n/g,'\x5cn');};let _0x595d17=_0x517f2c(0x501);_0x3bba9e['questions'][_0x517f2c(0xa25)]((_0x2632db,_0xdfbc1e)=>{const _0x2853b6=_0x517f2c,_0x3a45cf=_0x1c7fca[_0xdfbc1e]?.['p'][_0x2853b6(0x7ad)](0x2)||'N/A',_0x318cb3=_0x1c7fca[_0xdfbc1e]?.['r']['toFixed'](0x2)||_0x2853b6(0x539),_0x4ba7af=_0x877f68(_0x2632db[_0x2853b6(0xc27)]||_0x2632db[_0x2853b6(0x43c)]);_0x595d17+='-\x20ข้อ\x20'+(_0xdfbc1e+0x1)+_0x2853b6(0x862)+_0x3a45cf+_0x2853b6(0x20b)+_0x318cb3+_0x2853b6(0xaed)+_0x4ba7af+'\x5cn';if(_0x2632db['questionType']===_0x2853b6(0xbed)&&_0xc39dad[_0xdfbc1e]){const _0x5e412b=_0xc39dad[_0xdfbc1e],_0x23e6bd=Object[_0x2853b6(0x203)](_0x5e412b)[_0x2853b6(0x485)](_0xf4a19d=>parseInt(_0xf4a19d)!==_0x2632db[_0x2853b6(0xc68)])['sort']((_0x37e546,_0x3e5c91)=>_0x5e412b[_0x3e5c91][_0x2853b6(0x1a7)]-_0x5e412b[_0x37e546][_0x2853b6(0x1a7)])[0x0];if(_0x23e6bd&&_0x5e412b[_0x23e6bd]['total']>0x0){const _0x24a21b=_0x877f68(_0x5e412b[_0x23e6bd][_0x2853b6(0xab4)]);_0x595d17+=_0x2853b6(0x272)+_0x24a21b+_0x2853b6(0xdb0);}}});const _0x25459a=_0x517f2c(0x7e4)+_0x3bba9e['topic']+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x595d17+_0x517f2c(0x2a2),_0x314783={'type':_0x517f2c(0x181),'properties':{'learningGaps':{'type':_0x517f2c(0x37c),'items':{'type':_0x517f2c(0x3a5)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':'ARRAY','items':{'type':_0x517f2c(0x181),'properties':{'question':{'type':_0x517f2c(0x3a5)},'solution':{'type':_0x517f2c(0x3a5)}}}}},'required':[_0x517f2c(0xdc5),_0x517f2c(0x9b8),'practiceProblems']},_0x1f6909=await callAnalysisApi(_0x25459a,_0x314783);await updateDoc(_0x3927f1,{'lessonPlan':_0x1f6909});const _0x216f4e=_0x517f2c(0x9e8)+_0x3bba9e[_0x517f2c(0xa37)]+_0x517f2c(0x995)+_0x1f6909['learningGaps'][_0x517f2c(0x9d3)](_0x37cc52=>_0x517f2c(0xdd7)+_0x37cc52+_0x517f2c(0xd2a))[_0x517f2c(0x370)]('')+_0x517f2c(0xd16)+_0x1f6909['teachingContent']+_0x517f2c(0x9af)+_0x1f6909['practiceProblems']['map'](_0x4b24e7=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x4b24e7[_0x517f2c(0xa9f)]+_0x517f2c(0x7f6)+_0x4b24e7[_0x517f2c(0x57f)]+_0x517f2c(0x700))[_0x517f2c(0x370)]('')+_0x517f2c(0x243);document[_0x517f2c(0x773)]('lesson-plan-title')['textContent']=_0x517f2c(0x7ac)+_0x3bba9e[_0x517f2c(0xa37)],document[_0x517f2c(0x773)](_0x517f2c(0x864))['innerHTML']=_0x216f4e,document[_0x517f2c(0x773)](_0x517f2c(0xc37))[_0x517f2c(0x985)][_0x517f2c(0xa54)](_0x517f2c(0x806));if(window[_0x517f2c(0x6a1)])MathJax['typesetPromise']();messageModal[_0x517f2c(0x985)][_0x517f2c(0xd0a)](_0x517f2c(0x806));}catch(_0x50a49e){console[_0x517f2c(0x7bc)]('Error\x20generating\x20lesson\x20plan:',_0x50a49e),showMessage(_0x517f2c(0x8ae)+_0x50a49e[_0x517f2c(0xcee)]);}}async function handleDuplicateQuiz(_0x9a3c57){const _0x33bc96=_0x1d7cc9;try{const _0x4baf6e=doc(db,_0x33bc96(0x6de)+appId+'/public/data/quizzes',_0x9a3c57),_0x495076=await getDoc(_0x4baf6e);if(_0x495076[_0x33bc96(0xc63)]()){const _0x29414f=_0x495076[_0x33bc96(0xafb)]();let _0x392d1a='',_0x5f0fd8=_0x33bc96(0x9ce),_0x15f6f9=null;if(_0x29414f[_0x33bc96(0xb7b)]===_0x33bc96(0x18a)){let _0x4838dd=_0x29414f['topic'][_0x33bc96(0xc21)](_0x33bc96(0xe44),'')[_0x33bc96(0xafd)]();_0x392d1a='(หลังเรียน)\x20'+_0x4838dd,_0x5f0fd8=_0x33bc96(0x98a),_0x15f6f9=_0x9a3c57;}else _0x392d1a='(คัดลอก)\x20'+_0x29414f[_0x33bc96(0xa37)];const _0xd63089={..._0x29414f,'topic':_0x392d1a,'createdAt':new Date()[_0x33bc96(0xd78)](),'quizMode':_0x5f0fd8,'pairedQuizId':_0x15f6f9};let _0x490931;while(!![]){_0x490931=Math[_0x33bc96(0x36b)](0x3e8+Math[_0x33bc96(0xa75)]()*0x2328)[_0x33bc96(0x51a)]();const _0x5ed18a=await getDoc(doc(db,_0x33bc96(0x6de)+appId+'/public/data/quizzes',_0x490931));if(!_0x5ed18a[_0x33bc96(0xc63)]())break;}const _0x56d9ca=doc(db,_0x33bc96(0x6de)+appId+_0x33bc96(0xde0),_0x490931);await setDoc(_0x56d9ca,_0xd63089),_0xd63089[_0x33bc96(0xb7b)]===_0x33bc96(0x98a)&&await updateDoc(_0x4baf6e,{'pairedQuizId':_0x490931}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x33bc96(0xada));}catch(_0x51cd6b){console[_0x33bc96(0x7bc)](_0x33bc96(0xc08),_0x51cd6b),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x290bb8,_0x3fcfe9=!![]){const _0x50592a=_0x1d7cc9;try{const _0x32d07a=writeBatch(db),_0x32b12f=collection(db,_0x50592a(0x6de)+appId+'/public/data/quizzes/'+_0x290bb8+'/submissions'),_0x616737=await getDocs(_0x32b12f);_0x616737['forEach'](_0x36fef7=>{const _0x45d699=_0x50592a;_0x32d07a[_0x45d699(0x2ca)](doc(_0x32b12f,_0x36fef7['id']));});const _0x273f7f=doc(db,_0x50592a(0x6de)+appId+'/public/data/quizzes',_0x290bb8);_0x32d07a['delete'](_0x273f7f),await _0x32d07a[_0x50592a(0x3f1)]();try{console['log'](_0x50592a(0x56e)+_0x290bb8+'\x20in\x20all\x20blueprint\x20projects.');const _0x124353=collection(db,_0x50592a(0x6de)+appId+_0x50592a(0x31d)),_0xbd9b9d=await getDocs(_0x124353),_0x4b2394=[];_0xbd9b9d[_0x50592a(0xa25)](_0x1ee38c=>{const _0x444670=_0x50592a,_0x51f7a8=_0x1ee38c['data'](),_0x5149e0=_0x51f7a8[_0x444670(0x64f)]||{};let _0x2e9bdf=![];for(const _0x4b6f32 in _0x5149e0){const _0x4a1df3=_0x5149e0[_0x4b6f32];if(_0x4a1df3[_0x444670(0x8cd)]&&_0x4a1df3[_0x444670(0x8cd)][_0x444670(0x1f6)](_0x290bb8)){_0x2e9bdf=!![];const _0x15005b=doc(db,_0x444670(0x6de)+appId+_0x444670(0x31d),_0x1ee38c['id']),_0x2c318c=updateDoc(_0x15005b,{[_0x444670(0x8c4)+_0x4b6f32+'.linkedQuizIds']:arrayRemove(_0x290bb8)});_0x4b2394[_0x444670(0x65b)](_0x2c318c);}}}),_0x4b2394['length']>0x0&&(await Promise[_0x50592a(0x2d2)](_0x4b2394),console[_0x50592a(0xe59)](_0x50592a(0x59f)+_0x4b2394['length']+_0x50592a(0xb00)+_0x290bb8+'.'));}catch(_0x59255e){console[_0x50592a(0x7bc)](_0x50592a(0x76a),_0x59255e);}_0x3fcfe9&&showMessage(_0x50592a(0x3ad));}catch(_0x168e49){console[_0x50592a(0x7bc)](_0x50592a(0x520),_0x168e49),_0x3fcfe9&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x165b91){const _0x37bb25=_0x1d7cc9;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x37bb25(0x740));try{const _0x51d26c=doc(db,_0x37bb25(0x6de)+appId+_0x37bb25(0xde0),_0x165b91),_0x1e2cba=await getDoc(_0x51d26c);if(!_0x1e2cba['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x30075a={'id':_0x1e2cba['id'],..._0x1e2cba[_0x37bb25(0xafb)]()};currentQuizData=_0x30075a;const _0x8c45=doc(db,_0x37bb25(0x6de)+appId+_0x37bb25(0x45c),_0x30075a[_0x37bb25(0xa1f)]),_0x2e2d6f=await getDoc(_0x8c45);_0x2e2d6f[_0x37bb25(0xc63)]()?(currentProjectData=_0x2e2d6f[_0x37bb25(0xafb)](),currentProjectId=_0x30075a[_0x37bb25(0xa1f)]):(currentProjectData={'students':[]},currentProjectId=_0x30075a['projectId']);document[_0x37bb25(0x773)](_0x37bb25(0x2e5))[_0x37bb25(0xcd6)]=_0x30075a[_0x37bb25(0xa37)],document[_0x37bb25(0x773)](_0x37bb25(0x7e1))['textContent']=_0x165b91;const _0x46fa26=collection(db,_0x37bb25(0x6de)+appId+'/public/data/quizzes',_0x165b91,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x46fa26,_0x55fe68=>{const _0x475285=_0x37bb25,_0x4aacf6=_0x55fe68[_0x475285(0x79c)]['map'](_0x389f6b=>({'id':_0x389f6b['id'],..._0x389f6b['data']()}));currentSubmissions=_0x4aacf6;const _0x481ce2=_0x4aacf6[_0x475285(0x485)](_0x44e630=>_0x44e630['attempts']&&_0x44e630[_0x475285(0x672)][_0x475285(0x5df)]>0x0);renderBehaviorLog(_0x4aacf6),renderAnswerGrid(currentProjectData[_0x475285(0xb2e)],_0x481ce2,_0x30075a),renderAnalytics(_0x30075a,_0x481ce2),renderQuizResultsTable(currentProjectData[_0x475285(0xb2e)],_0x4aacf6,_0x30075a),renderQuizLeaderboard(_0x481ce2,_0x30075a,_0x475285(0xc25));}),showView(_0x37bb25(0xad9));}catch(_0x54c59a){console[_0x37bb25(0x7bc)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x54c59a),showMessage(_0x37bb25(0x2fa));}}function renderAnswerGrid(_0x4b24de,_0x41d854,_0x376ac0){const _0x42d239=_0x1d7cc9,_0x5bf655=document[_0x42d239(0x773)]('answer-grid-container');if(!_0x5bf655)return;if(!_0x4b24de||_0x4b24de['length']===0x0){_0x5bf655[_0x42d239(0x8ec)]=_0x42d239(0x973);return;}const _0xc160ac=_0x376ac0[_0x42d239(0xcf9)],_0x15c66a=_0x41d854[_0x42d239(0x731)]((_0x38206b,_0x1c948f)=>{return _0x38206b[_0x1c948f['studentName']]=_0x1c948f,_0x38206b;},{}),_0x35823f=_0x2eed89=>String[_0x42d239(0x31f)](0x41+_0x2eed89),_0x5911ef=_0x458d58=>{const _0xc7629f=_0x42d239,_0x5e760d=_0x458d58[_0xc7629f(0xa8d)]||_0x376ac0[_0xc7629f(0xd83)];switch(_0x5e760d){case _0xc7629f(0xbed):return _0x458d58[_0xc7629f(0x50b)]&&_0x458d58['options']['length']>_0x458d58[_0xc7629f(0xc68)]?_0x35823f(_0x458d58[_0xc7629f(0xc68)]):'-';case'true_false':const _0x141c0f=_0x458d58[_0xc7629f(0x77e)]===!![]||String(_0x458d58['correctAnswer'])['toLowerCase']()===_0xc7629f(0x9ff);return _0x141c0f?_0xc7629f(0x6f3):_0xc7629f(0xd0c);case'matching_item':return _0x458d58['correctResponse']||'-';case'short_answer':return _0xc7629f(0xa9e);default:return'-';}},_0x1ed1b2=(_0x2643af,_0x3b741c)=>{const _0x5b76e6=_0x42d239;if(_0x3b741c[_0x5b76e6(0x29b)]===null||_0x3b741c[_0x5b76e6(0x29b)]===undefined)return'-';const _0x16f2cc=_0x2643af['questionType']||_0x376ac0[_0x5b76e6(0xd83)];switch(_0x16f2cc){case'multiple_choice':const _0xa56dee=_0x2643af['options'][_0x5b76e6(0x50a)](_0x58861c=>_0x58861c===_0x3b741c['answerText']);return _0xa56dee!==-0x1?_0x35823f(_0xa56dee):_0x3b741c[_0x5b76e6(0x5c3)]||'-';case _0x5b76e6(0xc39):if(_0x3b741c['answer']=='0'||_0x3b741c[_0x5b76e6(0x29b)]===!![]||_0x3b741c['answer']===_0x5b76e6(0x9ff))return _0x5b76e6(0x6f3);return _0x5b76e6(0xd0c);default:return _0x3b741c[_0x5b76e6(0x29b)];}};let _0x34cb2a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc160ac['map']((_0x223ddf,_0x3bde38)=>_0x42d239(0x841)+(_0x3bde38+0x1)+_0x42d239(0xddb))['join']('')+_0x42d239(0x164)+_0xc160ac[_0x42d239(0x9d3)](_0xa0ad17=>_0x42d239(0x34b)+_0x5911ef(_0xa0ad17)+'</td>')[_0x42d239(0x370)]('')+_0x42d239(0x808);_0x4b24de[_0x42d239(0xa25)](_0x30fc28=>{const _0x638ee3=_0x42d239;_0x34cb2a+=_0x638ee3(0xccb),_0x34cb2a+=_0x638ee3(0x83c)+_0x30fc28+'</td>';const _0x5255ac=_0x15c66a[_0x30fc28];if(_0x5255ac){const _0xf3a2bd=_0x5255ac[_0x638ee3(0x672)][_0x5255ac[_0x638ee3(0x672)][_0x638ee3(0x5df)]-0x1];_0xc160ac['forEach']((_0x1bc390,_0x5792ea)=>{const _0x30e8d4=_0x638ee3,_0x2ea85e=_0xf3a2bd[_0x30e8d4(0x382)][_0x30e8d4(0x15b)](_0x374410=>_0x374410[_0x30e8d4(0x3a6)]===_0x1bc390['id']);if(_0x2ea85e){let _0x4ee62f='';const _0x28eca3=_0x2ea85e['isCorrect']===!![],_0x150a6f=_0x2ea85e['wasConfident']===!![]||_0x2ea85e[_0x30e8d4(0x456)]===_0x30e8d4(0x5c9),_0x500e8b=_0x2ea85e[_0x30e8d4(0x1a3)];if(_0x500e8b==='wagerMultiplier')_0x28eca3?_0x4ee62f=_0x30e8d4(0x70e):_0x4ee62f=_0x30e8d4(0xdd6);else _0x150a6f?_0x4ee62f=_0x28eca3?_0x30e8d4(0x44f):_0x30e8d4(0xdba):_0x4ee62f=_0x28eca3?_0x30e8d4(0x6c3):'bg-red-100\x20text-red-800';_0x34cb2a+=_0x30e8d4(0xbbf)+_0x4ee62f+'\x22>'+_0x1ed1b2(_0x1bc390,_0x2ea85e)+'</td>';}else _0x34cb2a+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x34cb2a+=_0xc160ac['map'](()=>_0x638ee3(0x425))['join']('');_0x34cb2a+='</tr>';}),_0x34cb2a+=_0x42d239(0x2f6),_0x5bf655[_0x42d239(0x8ec)]=_0x34cb2a;}function renderQuizResultsTable(_0x5906ee,_0x46f407,_0x375a21){const _0x3cc5e1=_0x1d7cc9,_0x147661=_0x46f407[_0x3cc5e1(0x731)]((_0x26ba28,_0x35dcf6)=>{return _0x26ba28[_0x35dcf6['studentName']]=_0x35dcf6,_0x26ba28;},{}),_0x1bca0e=document['querySelector']('#results-table\x20thead\x20tr');_0x1bca0e&&!_0x1bca0e[_0x3cc5e1(0x8ec)][_0x3cc5e1(0x1f6)]('จัดการ')&&(_0x1bca0e[_0x3cc5e1(0x8ec)]+=_0x3cc5e1(0x67c));const _0x3e03d2=document[_0x3cc5e1(0x773)](_0x3cc5e1(0xba8));if(!_0x5906ee||_0x5906ee[_0x3cc5e1(0x5df)]===0x0){_0x3e03d2['innerHTML']='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x32b0b6=_0x375a21[_0x3cc5e1(0x91f)]===!![],_0xec498c=_0x375a21[_0x3cc5e1(0xadf)]?.[_0x3cc5e1(0x5db)]??-0x1;let _0x5d2392='';_0x5906ee['forEach'](_0x14f7ef=>{const _0x546933=_0x3cc5e1,_0x3899a0=_0x147661[_0x14f7ef];let _0x2b994f=_0x546933(0x687)+(_0x32b0b6?'bg-amber-100\x20text-amber-800':_0x546933(0x305))+'\x22>'+(_0x32b0b6?_0x546933(0x46b):_0x546933(0x567))+_0x546933(0x8fc);if(_0x3899a0){if(_0x3899a0[_0x546933(0x672)]&&_0x3899a0[_0x546933(0x672)][_0x546933(0x5df)]>0x0){let _0x4c64fb=_0x32b0b6?_0x3899a0[_0x546933(0x43b)]===_0x3899a0['totalQuestions']:_0xec498c!==-0x1&&_0x3899a0[_0x546933(0x43b)]>=_0xec498c;const _0x5b3bca=_0x4c64fb?_0x546933(0x6c3):_0x546933(0x557),_0xdf40a2=_0x4c64fb?_0x546933(0xdf1):_0x546933(0x969),_0x106e50=_0x546933(0xce6)+_0x5b3bca+'\x22>'+_0xdf40a2+_0x546933(0x8fc),_0x466b64=_0x546933(0x796)+(_0x3899a0[_0x546933(0x672)]?.[_0x546933(0x5df)]||0x1)+_0x546933(0x669),_0x337962=_0x546933(0xe10)+(_0x3899a0['points']||0x0)[_0x546933(0x990)]()+_0x546933(0x847)+_0x14f7ef+_0x546933(0x1b0)+(_0x3899a0[_0x546933(0x829)]||0x0)+_0x546933(0x734);_0x5d2392+=_0x546933(0x4d8)+_0x14f7ef+_0x546933(0xc07)+_0x3899a0[_0x546933(0x43b)]+_0x546933(0x9fa)+_0x3899a0[_0x546933(0x1a2)]+_0x546933(0xc59)+_0x106e50+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2b994f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x3899a0[_0x546933(0x6be)]+_0x546933(0x9fa)+_0x3899a0[_0x546933(0x1a2)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x3899a0[_0x546933(0x1ea)]+_0x546933(0x9fa)+_0x3899a0['totalQuestions']+_0x546933(0xb54)+_0x337962+_0x546933(0xc59)+_0x466b64+_0x546933(0x21d)+new Date(_0x3899a0[_0x546933(0xcbd)])[_0x546933(0x990)](_0x546933(0x3d1))+_0x546933(0x90b)+_0x14f7ef+_0x546933(0x3a8);}else{const _0x3ec59d='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x5d2392+=_0x546933(0x992)+_0x14f7ef+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2b994f+_0x546933(0xc62)+_0x3ec59d+_0x546933(0x21d)+new Date(_0x3899a0[_0x546933(0x6b0)])['toLocaleString'](_0x546933(0x3d1))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x14f7ef+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x26b779='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x5d2392+=_0x546933(0x739)+_0x14f7ef+_0x546933(0xb7a)+_0x2b994f+_0x546933(0xa33)+_0x26b779+_0x546933(0x3ec);}}),_0x3e03d2[_0x3cc5e1(0x8ec)]=_0x5d2392;}async function confirmRenameQuiz(){const _0x489f2b=_0x1d7cc9,_0x147b05=document['getElementById'](_0x489f2b(0x671))['value']['trim']();if(!_0x147b05){showMessage(_0x489f2b(0xac5));return;}if(!actionTargetId)return;const _0x3588ea=doc(db,_0x489f2b(0x6de)+appId+_0x489f2b(0xde0),actionTargetId);try{await updateDoc(_0x3588ea,{'topic':_0x147b05}),showMessage(_0x489f2b(0xc0c)),renameQuizModal[_0x489f2b(0x985)][_0x489f2b(0xd0a)](_0x489f2b(0x806)),actionTargetId=null;}catch(_0xf2e980){console[_0x489f2b(0x7bc)](_0x489f2b(0x4f6),_0xf2e980),showMessage(_0x489f2b(0xa83));}}async function handleMoveQuiz(_0x178150){const _0x37ade6=_0x1d7cc9;actionTargetId=_0x178150;const _0x534d43=document[_0x37ade6(0x773)](_0x37ade6(0x904));_0x534d43['innerHTML']=_0x37ade6(0x5a0),moveQuizModal['classList'][_0x37ade6(0xa54)]('hidden');try{const _0x477497=collection(db,'artifacts/'+appId+_0x37ade6(0x45c)),_0x1531c0=await getDocs(_0x477497),_0x29bd5c=_0x1531c0[_0x37ade6(0x79c)][_0x37ade6(0x9d3)](_0x4b4f17=>({'id':_0x4b4f17['id'],..._0x4b4f17[_0x37ade6(0xafb)]()})),_0x310f1f=_0x29bd5c[_0x37ade6(0x485)](_0x20f476=>_0x20f476['id']!==currentProjectId);if(_0x310f1f[_0x37ade6(0x5df)]===0x0){_0x534d43[_0x37ade6(0x8ec)]=_0x37ade6(0x9d5),document[_0x37ade6(0x773)](_0x37ade6(0x21a))[_0x37ade6(0x67a)]=!![];return;}_0x534d43[_0x37ade6(0x8ec)]=_0x310f1f[_0x37ade6(0x9d3)](_0x419840=>'<option\x20value=\x22'+_0x419840['id']+'\x22>'+_0x419840[_0x37ade6(0x1c1)]+'</option>')[_0x37ade6(0x370)](''),document[_0x37ade6(0x773)](_0x37ade6(0x21a))[_0x37ade6(0x67a)]=![];}catch(_0x30baa8){console[_0x37ade6(0x7bc)](_0x37ade6(0xb5f),_0x30baa8),showMessage(_0x37ade6(0xa49)),moveQuizModal[_0x37ade6(0x985)][_0x37ade6(0xd0a)](_0x37ade6(0x806));}}async function confirmMoveQuiz(){const _0x53bee9=_0x1d7cc9,_0x540b72=document['getElementById'](_0x53bee9(0x904))[_0x53bee9(0xd9d)];if(!_0x540b72){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x400524=doc(db,_0x53bee9(0x6de)+appId+_0x53bee9(0xde0),actionTargetId);try{await updateDoc(_0x400524,{'projectId':_0x540b72}),showMessage(_0x53bee9(0x55f)),moveQuizModal[_0x53bee9(0x985)]['add'](_0x53bee9(0x806)),actionTargetId=null;}catch(_0x1f986a){console[_0x53bee9(0x7bc)]('Error\x20moving\x20quiz:',_0x1f986a),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x1b2d66){const _0x37946d=_0x1d7cc9;actionTargetId=_0x1b2d66;const _0x3c3829=doc(db,_0x37946d(0x6de)+appId+_0x37946d(0xde0),_0x1b2d66);try{const _0x395ae5=await getDoc(_0x3c3829);if(_0x395ae5[_0x37946d(0xc63)]()){const _0x52eb55=_0x395ae5[_0x37946d(0xafb)](),_0x1d329c=_0x52eb55[_0x37946d(0xadf)]||{},_0x45ba14=_0x52eb55[_0x37946d(0xcf9)][_0x37946d(0x5df)];document['getElementById'](_0x37946d(0x823))['value']=_0x1d329c[_0x37946d(0xa88)]||_0x37946d(0x264),document[_0x37946d(0x773)]('modal-results-display-select')[_0x37946d(0xd9d)]=_0x1d329c[_0x37946d(0x1c3)]||'show_results_and_answers',document[_0x37946d(0x773)]('modal-timer-mode-select')[_0x37946d(0xd9d)]=_0x1d329c['timerMode']||_0x37946d(0x264),document[_0x37946d(0x773)](_0x37946d(0x802))[_0x37946d(0xd9d)]=_0x1d329c['timerDuration']||0xa,document['getElementById'](_0x37946d(0xcdf))[_0x37946d(0xd9d)]=_0x1d329c[_0x37946d(0x5db)]||Math[_0x37946d(0x36b)](_0x45ba14/0x2),document[_0x37946d(0x773)]('modal-passing-score-input')[_0x37946d(0x98d)]=_0x45ba14,document[_0x37946d(0x773)](_0x37946d(0x235))['checked']=_0x1d329c['isAdaptive']||![],document['getElementById'](_0x37946d(0xbca))[_0x37946d(0x17e)]=_0x1d329c[_0x37946d(0x4a9)]||![];const _0x330a49=_0x1d329c['isConfidenceScoringEnabled']||![];document['getElementById'](_0x37946d(0xc48))['checked']=_0x330a49,document[_0x37946d(0x773)](_0x37946d(0x129))[_0x37946d(0xd9d)]=_0x1d329c[_0x37946d(0xa2b)]||_0x37946d(0x41f);const _0xe6643c=document[_0x37946d(0x773)](_0x37946d(0x5f7));_0xe6643c['classList'][_0x37946d(0xbbd)](_0x37946d(0x806),!_0x330a49),document[_0x37946d(0x773)](_0x37946d(0xd5))[_0x37946d(0xb84)](new Event(_0x37946d(0x813))),quizSettingsModal[_0x37946d(0x985)][_0x37946d(0xa54)](_0x37946d(0x806));}else showMessage(_0x37946d(0x84a));}catch(_0x43379e){console[_0x37946d(0x7bc)](_0x37946d(0xa9a),_0x43379e),showMessage(_0x37946d(0xe28));}}async function confirmQuizSettings(){const _0x55ea2f=_0x1d7cc9;if(!actionTargetId)return;const _0x1f8fac=doc(db,_0x55ea2f(0x6de)+appId+_0x55ea2f(0xde0),actionTargetId),_0x49747a={'shuffle':document['getElementById'](_0x55ea2f(0x823))[_0x55ea2f(0xd9d)],'resultsDisplay':document[_0x55ea2f(0x773)]('modal-results-display-select')[_0x55ea2f(0xd9d)],'timerMode':document[_0x55ea2f(0x773)](_0x55ea2f(0xd5))[_0x55ea2f(0xd9d)],'timerDuration':parseInt(document[_0x55ea2f(0x773)]('modal-timer-duration-input')[_0x55ea2f(0xd9d)])||0xa,'passingScore':parseInt(document[_0x55ea2f(0x773)]('modal-passing-score-input')[_0x55ea2f(0xd9d)])||0x0,'isAdaptive':document['getElementById'](_0x55ea2f(0x235))['checked'],'loopUntilPass':document['getElementById']('modal-loop-until-pass-checkbox')[_0x55ea2f(0x17e)],'isConfidenceScoringEnabled':document[_0x55ea2f(0x773)](_0x55ea2f(0xc48))['checked'],'confidenceMode':document['getElementById'](_0x55ea2f(0x129))[_0x55ea2f(0xd9d)]};try{await updateDoc(_0x1f8fac,{'settings':_0x49747a}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x55ea2f(0x985)][_0x55ea2f(0xd0a)](_0x55ea2f(0x806)),actionTargetId=null;}catch(_0x548ad8){console[_0x55ea2f(0x7bc)](_0x55ea2f(0x188),_0x548ad8),showMessage(_0x55ea2f(0xcf2));}}async function confirmQuizStatus(){const _0x21780e=_0x1d7cc9;if(!actionTargetId)return;const _0x4b0810=doc(db,_0x21780e(0x6de)+appId+'/public/data/quizzes',actionTargetId),_0x192c57=document[_0x21780e(0x86f)](_0x21780e(0x56c));if(!_0x192c57){showMessage(_0x21780e(0x4bf));return;}const _0x3074fd=_0x192c57['value'];let _0x392e41={};if(_0x3074fd===_0x21780e(0x4c8)||_0x3074fd==='inactive')_0x392e41={'status':_0x3074fd,'startTime':null,'endTime':null};else{if(_0x3074fd===_0x21780e(0xb64)){const _0x36dce9=document[_0x21780e(0x773)](_0x21780e(0x70c))[_0x21780e(0xd9d)],_0xc91d30=document[_0x21780e(0x773)](_0x21780e(0x835))['value'];if(!_0x36dce9&&!_0xc91d30){showMessage(_0x21780e(0x22f));return;}_0x392e41={'status':'scheduled','startTime':_0x36dce9?new Date(_0x36dce9)[_0x21780e(0xd78)]():null,'endTime':_0xc91d30?new Date(_0xc91d30)['toISOString']():null};}}try{await updateDoc(_0x4b0810,_0x392e41),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x21780e(0x985)][_0x21780e(0xd0a)](_0x21780e(0x806)),actionTargetId=null;}catch(_0xc9af92){console['error'](_0x21780e(0xc67),_0xc9af92),showMessage(_0x21780e(0xa7b));}}function listenForStudentProfiles(_0x4294a2){const _0x42c968=_0x1d7cc9,_0x45275c=collection(db,_0x42c968(0x6de)+appId+_0x42c968(0x846)+_0x4294a2+_0x42c968(0x22e));unsubscribeStudentProfilesListener=onSnapshot(_0x45275c,_0x2e4c25=>{const _0x24c12a=_0x42c968,_0x3d52e3=_0x2e4c25[_0x24c12a(0x79c)][_0x24c12a(0x9d3)](_0x2def76=>_0x2def76[_0x24c12a(0xafb)]());renderLeaderboard(_0x3d52e3,_0x24c12a(0xb53));},_0x35623d=>{const _0x28e7b4=_0x42c968;console[_0x28e7b4(0x7bc)]('Error\x20listening\x20for\x20student\x20profiles:',_0x35623d),document['getElementById'](_0x28e7b4(0xb53))[_0x28e7b4(0x8ec)]=_0x28e7b4(0x2bb);});}function renderLeaderboard(_0x24ec95,_0x157b46){const _0x2ad984=_0x1d7cc9,_0x5380cf=document[_0x2ad984(0x773)](_0x157b46);if(!_0x24ec95||_0x24ec95[_0x2ad984(0x5df)]===0x0){_0x5380cf[_0x2ad984(0x8ec)]=_0x2ad984(0x759);return;}_0x24ec95[_0x2ad984(0xc1c)]((_0x326fe1,_0x2ce90c)=>{const _0x2364e2=_0x2ad984,_0x2b2f49=(_0x2ce90c['totalPoints']||0x0)-(_0x326fe1[_0x2364e2(0x7f7)]||0x0);if(_0x2b2f49!==0x0)return _0x2b2f49;const _0x4ba86d=(_0x2ce90c[_0x2364e2(0x65e)]?.[_0x2364e2(0xb5d)]||0x0)-(_0x326fe1[_0x2364e2(0x65e)]?.[_0x2364e2(0xb5d)]||0x0);if(_0x4ba86d!==0x0)return _0x4ba86d;const _0xf0458=(_0x2ce90c[_0x2364e2(0x65e)]?.[_0x2364e2(0xc8a)]||0x0)-(_0x326fe1[_0x2364e2(0x65e)]?.[_0x2364e2(0xc8a)]||0x0);if(_0xf0458!==0x0)return _0xf0458;const _0x15cb50=(_0x2ce90c[_0x2364e2(0x65e)]?.[_0x2364e2(0x16e)]||0x0)-(_0x326fe1[_0x2364e2(0x65e)]?.[_0x2364e2(0x16e)]||0x0);if(_0x15cb50!==0x0)return _0x15cb50;const _0x5e674b=(_0x2ce90c[_0x2364e2(0x65e)]?.[_0x2364e2(0x5ea)]||0x0)-(_0x326fe1[_0x2364e2(0x65e)]?.[_0x2364e2(0x5ea)]||0x0);if(_0x5e674b!==0x0)return _0x5e674b;return _0x326fe1['studentName'][_0x2364e2(0xbbb)](_0x2ce90c[_0x2364e2(0xa12)],'th');});let _0x5bf187='';_0x24ec95['forEach']((_0xdfc288,_0x46dd0c)=>{const _0x1b76ab=_0x2ad984,_0x5bfa0d=_0x46dd0c+0x1,_0x16727c=_0xdfc288[_0x1b76ab(0x65e)]||{};let _0x44aaf7='';const _0xeb0f5b=[_0x1b76ab(0xb5d),_0x1b76ab(0x16e),'first_try_ace',_0x1b76ab(0x5ea)];_0xeb0f5b[_0x1b76ab(0xa25)](_0x79404c=>{const _0x343580=_0x1b76ab;if(_0x16727c[_0x79404c]>0x0){const _0x5f2b50=Object['values'](BADGES)['find'](_0x22066d=>_0x22066d['id']===_0x79404c);_0x5f2b50&&(_0x79404c==='specialist'?_0x44aaf7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x5f2b50[_0x343580(0xb30)]+_0x343580(0xad2)+_0x5f2b50['icon']+_0x343580(0x45e):_0x44aaf7+=_0x343580(0xc88)+_0x5f2b50['name']+'\x20('+_0x16727c[_0x79404c]+_0x343580(0x154)+_0x5f2b50[_0x343580(0x84d)]+_0x343580(0x6d0)+_0x16727c[_0x79404c]+_0x343580(0xaee));}}),_0x5bf187+=_0x1b76ab(0xcb7)+_0x5bfa0d+_0x1b76ab(0xb54)+_0xdfc288[_0x1b76ab(0xa12)]+_0x1b76ab(0x962)+(_0xdfc288[_0x1b76ab(0x7f7)]||0x0)[_0x1b76ab(0x990)]()+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x44aaf7||'-')+_0x1b76ab(0x4cf);}),_0x5380cf[_0x2ad984(0x8ec)]=_0x5bf187;}function displayLoopScreen(_0x3c04fb,_0x1fec8d,_0x1b20b9){const _0x41575a=_0x1d7cc9;let _0x13ee29='';_0x1b20b9!==_0x41575a(0x659)&&(_0x13ee29=_0x41575a(0x65d)+_0x3c04fb+_0x41575a(0x9fa)+_0x1fec8d+_0x41575a(0xc9c));const _0x19e5dc=_0x41575a(0x781)+_0x13ee29+_0x41575a(0x294);studentResultArea[_0x41575a(0x8ec)]=_0x19e5dc,studentResultArea[_0x41575a(0x985)]['remove'](_0x41575a(0x806)),studentQuizArea[_0x41575a(0x985)]['add']('hidden'),document[_0x41575a(0x773)]('retake-quiz-loop-btn')[_0x41575a(0x6f7)](_0x41575a(0x2af),()=>{const _0x49ed05=_0x41575a;studentResultArea[_0x49ed05(0x985)][_0x49ed05(0xd0a)](_0x49ed05(0x806)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x169017,_0x562cb2,_0x2fd7b2){const _0x4dcd54=_0x1d7cc9,_0x1c6f5c=document[_0x4dcd54(0x773)](_0x2fd7b2),_0x383ec9=_0x2fd7b2===_0x4dcd54(0xc15),_0x267a86=_0x562cb2[_0x4dcd54(0xcf9)][_0x4dcd54(0x5df)],_0x578d8b=document[_0x4dcd54(0x773)](_0x2fd7b2)[_0x4dcd54(0x2e4)](_0x4dcd54(0x74e));if(_0x578d8b&&!_0x383ec9){const _0x4ab4e4=_0x578d8b['querySelector'](_0x4dcd54(0xdca));_0x4ab4e4[_0x4dcd54(0x8ec)]=_0x4dcd54(0x986);}if(!_0x169017||_0x169017['length']===0x0){_0x1c6f5c['innerHTML']=_0x4dcd54(0xc14)+(_0x383ec9?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x545acd=[..._0x169017];_0x545acd[_0x4dcd54(0xc1c)]((_0x5e32ce,_0x53f9e4)=>{const _0x27ea29=_0x4dcd54;let _0x1afb5a,_0x97726;switch(quizLeaderboardSortBy){case _0x27ea29(0xa12):_0x1afb5a=_0x5e32ce[_0x27ea29(0xa12)]||'',_0x97726=_0x53f9e4[_0x27ea29(0xa12)]||'';return quizLeaderboardSortOrder===_0x27ea29(0x3fc)?_0x1afb5a[_0x27ea29(0xbbb)](_0x97726,'th'):_0x97726['localeCompare'](_0x1afb5a,'th');case _0x27ea29(0x829):_0x1afb5a=_0x5e32ce[_0x27ea29(0x829)]||0x0,_0x97726=_0x53f9e4[_0x27ea29(0x829)]||0x0;break;case'attempts':_0x1afb5a=_0x5e32ce[_0x27ea29(0x672)]?.[_0x27ea29(0x5df)]||0x1,_0x97726=_0x53f9e4[_0x27ea29(0x672)]?.[_0x27ea29(0x5df)]||0x1;break;case _0x27ea29(0xcbd):_0x1afb5a=new Date(_0x5e32ce[_0x27ea29(0xcbd)]),_0x97726=new Date(_0x53f9e4[_0x27ea29(0xcbd)]);break;case _0x27ea29(0x43b):default:_0x1afb5a=_0x5e32ce[_0x27ea29(0x43b)],_0x97726=_0x53f9e4[_0x27ea29(0x43b)];break;}if(_0x1afb5a<_0x97726)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x1afb5a>_0x97726)return quizLeaderboardSortOrder===_0x27ea29(0x3fc)?0x1:-0x1;return 0x0;});const _0x2eb45b=_0x562cb2[_0x4dcd54(0x91f)]===!![],_0x50978d=_0x562cb2['settings']?.[_0x4dcd54(0x5db)]??-0x1;let _0x243010='';_0x545acd[_0x4dcd54(0xa25)]((_0x41a3ca,_0x4e1261)=>{const _0x2be9f4=_0x4dcd54,_0x35bd7a=_0x4e1261+0x1;let _0x54f704='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x2eb45b||_0x50978d!==-0x1){let _0x106bdd=_0x2eb45b?_0x41a3ca[_0x2be9f4(0x43b)]===_0x267a86:_0x41a3ca[_0x2be9f4(0x43b)]>=_0x50978d;const _0x3b7da7=_0x106bdd?_0x2be9f4(0x6c3):_0x2be9f4(0x557),_0xb7405=_0x106bdd?_0x2be9f4(0xdf1):_0x2be9f4(0x969);_0x54f704='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x3b7da7+'\x22>'+_0xb7405+'</span></td>';}const _0x2d6bbf=_0x41a3ca[_0x2be9f4(0x672)][_0x41a3ca[_0x2be9f4(0x672)][_0x2be9f4(0x5df)]-0x1],_0xd417f7=(_0x2d6bbf[_0x2be9f4(0x340)]||[])[_0x2be9f4(0x9d3)](_0x2d6a34=>{const _0x499fd7=_0x2be9f4,_0x5448da=Object[_0x499fd7(0x230)](BADGES)[_0x499fd7(0x15b)](_0x588b65=>_0x588b65['id']===_0x2d6a34);return _0x5448da?'<span\x20title=\x22'+_0x5448da[_0x499fd7(0xb30)]+_0x499fd7(0x812)+_0x5448da[_0x499fd7(0x84d)]+_0x499fd7(0xba4):'';})[_0x2be9f4(0x370)]('');_0x243010+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x35bd7a+_0x2be9f4(0x7e7)+_0x41a3ca[_0x2be9f4(0xa12)]+_0x2be9f4(0x28a)+_0x41a3ca[_0x2be9f4(0x43b)]+'\x20/\x20'+_0x267a86+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54f704+_0x2be9f4(0xd57)+(_0x41a3ca[_0x2be9f4(0x829)]||0x0)[_0x2be9f4(0x990)]()+_0x2be9f4(0x490)+(_0x383ec9?'':_0x2be9f4(0xc71)+(_0x41a3ca['attempts']?.['length']||0x1)+_0x2be9f4(0xd87))+_0x2be9f4(0x5de)+(_0x383ec9?'':_0x2be9f4(0x247)+new Date(_0x41a3ca['latestSubmittedAt'])['toLocaleString']('th-TH')+_0x2be9f4(0xd87))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0xd417f7||'-')+_0x2be9f4(0x220);}),_0x1c6f5c[_0x4dcd54(0x8ec)]=_0x243010,_0x578d8b&&!_0x383ec9&&_0x578d8b[_0x4dcd54(0x4a1)]('thead\x20.sortable-header')[_0x4dcd54(0xa25)](_0x5c9605=>{const _0x215679=_0x4dcd54,_0x2fca59=_0x5c9605[_0x215679(0x86f)](_0x215679(0x512));if(_0x2fca59)_0x2fca59[_0x215679(0xa54)]();_0x5c9605[_0x215679(0x576)][_0x215679(0xc1c)]===quizLeaderboardSortBy&&(_0x5c9605[_0x215679(0x8ec)]+=_0x215679(0x29e)+(quizLeaderboardSortOrder===_0x215679(0x3fc)?'▲':'▼')+_0x215679(0xe54));});}async function handleDeleteSubmission(_0x5496f1){const _0x2ece32=_0x1d7cc9;if(!currentQuizData||!currentQuizData['id']||!_0x5496f1){showMessage(_0x2ece32(0x3a1));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x5496f1+_0x2ece32(0x94d),async()=>{const _0x36302b=_0x2ece32,_0x40ace0=currentQuizData['id'],_0x32df16=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x40ace0+_0x36302b(0x1cf),_0x5496f1);try{await deleteDoc(_0x32df16),showMessage('ลบผลสอบของ\x20'+_0x5496f1+_0x36302b(0xc46));}catch(_0x25ec0b){console[_0x36302b(0x7bc)](_0x36302b(0x8af),_0x25ec0b),showMessage(_0x36302b(0xb15));}});}async function handleLoadQuiz(){const _0x82d894=_0x1d7cc9,_0x4378b7=document[_0x82d894(0x773)]('quiz-id-input'),_0x3f389c=_0x4378b7[_0x82d894(0xd9d)][_0x82d894(0xafd)]();if(!_0x3f389c){showMessage(_0x82d894(0x838));return;}loadQuizBtn[_0x82d894(0x67a)]=!![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x119044=doc(db,_0x82d894(0x6de)+appId+_0x82d894(0xde0),_0x3f389c),_0x4653c0=await getDoc(_0x119044);if(!_0x4653c0[_0x82d894(0xc63)]()){showMessage(_0x82d894(0xb85));return;}currentQuizData={'id':_0x4653c0['id'],..._0x4653c0[_0x82d894(0xafb)]()};const _0x12f083=currentQuizData[_0x82d894(0xfc)]||'active',_0x54cb4f=new Date();if(_0x12f083===_0x82d894(0x36c)){showMessage(_0x82d894(0x38c));return;}if(_0x12f083==='scheduled'){const _0x281f83=currentQuizData['startTime']?new Date(currentQuizData[_0x82d894(0xa2d)]):null,_0x7081e5=currentQuizData[_0x82d894(0x2a0)]?new Date(currentQuizData[_0x82d894(0x2a0)]):null;if(_0x281f83&&_0x54cb4f<_0x281f83){showMessage(_0x82d894(0xd52)+_0x281f83[_0x82d894(0x990)](_0x82d894(0x3d1),{'hour12':![]}));return;}if(_0x7081e5&&_0x54cb4f>_0x7081e5){showMessage(_0x82d894(0x445));return;}}const _0x28097c=currentQuizData['projectId'];currentProjectId=_0x28097c;const _0x421666=doc(db,_0x82d894(0x6de)+appId+_0x82d894(0x45c),_0x28097c),_0x4e84bb=await getDoc(_0x421666);if(!_0x4e84bb['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x29f418=_0x4e84bb[_0x82d894(0xafb)]();currentStudentProjectData=_0x29f418,displayStudentNameSelector(_0x29f418[_0x82d894(0xb2e)],currentQuizData[_0x82d894(0xa37)]);}catch(_0x26c308){console[_0x82d894(0x7bc)](_0x82d894(0x52b),_0x26c308),showMessage(_0x82d894(0xa91));}finally{loadQuizBtn[_0x82d894(0x67a)]=![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleManualEditPoints(_0x250819,_0x7d3651){const _0x4ec18a=_0x1d7cc9;if(!currentQuizData||!currentQuizData['id'])return;const _0x3d51a=currentQuizData['id'],_0x3f186e=doc(db,_0x4ec18a(0x6de)+appId+_0x4ec18a(0x6b1)+_0x3d51a+'/submissions',_0x250819);try{const _0x264496=await getDoc(_0x3f186e);if(!_0x264496[_0x4ec18a(0xc63)]())return;const _0x3ac9c3=_0x264496[_0x4ec18a(0xafb)](),_0x282339=_0x3ac9c3[_0x4ec18a(0x672)]||[];_0x282339[_0x4ec18a(0x5df)]>0x0&&(_0x282339[_0x282339[_0x4ec18a(0x5df)]-0x1]['points']=_0x7d3651,_0x282339[_0x282339[_0x4ec18a(0x5df)]-0x1][_0x4ec18a(0x39c)]=!![]),await updateDoc(_0x3f186e,{'points':_0x7d3651,'attempts':_0x282339}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x250819),showMessage(_0x4ec18a(0x5fa)+_0x250819+_0x4ec18a(0x883)+_0x7d3651+_0x4ec18a(0x643));}catch(_0x21f6ed){console[_0x4ec18a(0x7bc)](_0x4ec18a(0xd70),_0x21f6ed),showMessage('เกิดข้อผิดพลาดในการบันทึกคะแนน');}}async function handleJoinLiveGame(){const _0x143d0f=_0x1d7cc9,_0x377d6f=document[_0x143d0f(0x773)](_0x143d0f(0xda7)),_0x227f00=document[_0x143d0f(0x773)]('nickname-input'),_0x2f5fdc=document[_0x143d0f(0x773)](_0x143d0f(0x279)),_0x162d2d=_0x377d6f[_0x143d0f(0xd9d)][_0x143d0f(0xafd)](),_0x3ae303=_0x227f00[_0x143d0f(0xd9d)]['trim']();if(!_0x162d2d||!_0x3ae303){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x2f5fdc[_0x143d0f(0x67a)]=!![],_0x2f5fdc[_0x143d0f(0x8ec)]=_0x143d0f(0x82a);try{const _0x4b5449=collection(db,'artifacts/'+appId+_0x143d0f(0x352)),_0xce7f7d=query(_0x4b5449,where(_0x143d0f(0xb06),'==',_0x162d2d),where(_0x143d0f(0xfc),'in',[_0x143d0f(0xe8),'question'])),_0x157dd6=await getDocs(_0xce7f7d);if(_0x157dd6[_0x143d0f(0x758)]){showMessage(_0x143d0f(0x92b));return;}const _0x48d66c=_0x157dd6[_0x143d0f(0x79c)][0x0],_0x519f84=_0x48d66c[_0x143d0f(0xafb)]();currentLiveGameId=_0x48d66c['id'];const _0xc81ce8=_0x519f84[_0x143d0f(0x514)],_0x4c4014=doc(db,_0x143d0f(0x6de)+appId+_0x143d0f(0xde0),_0xc81ce8),_0x5860d2=await getDoc(_0x4c4014);if(!_0x5860d2[_0x143d0f(0xc63)]()){showMessage(_0x143d0f(0xe4b));return;}currentQuizData={'id':_0x5860d2['id'],..._0x5860d2[_0x143d0f(0xafb)]()};if(_0x519f84[_0x143d0f(0x10d)]&&_0x519f84[_0x143d0f(0x10d)][_0x3ae303]){const _0x2e529f=_0x519f84[_0x143d0f(0x10d)][_0x3ae303];if(_0x2e529f[_0x143d0f(0xfc)]===_0x143d0f(0x36c)){_0x2f5fdc['innerHTML']=_0x143d0f(0xb86);const _0x46d479={};_0x46d479[_0x143d0f(0xd7a)+_0x3ae303+'.status']=_0x143d0f(0x4c8),await updateDoc(doc(db,'artifacts/'+appId+_0x143d0f(0x352),currentLiveGameId),_0x46d479),showView(_0x143d0f(0xc90)),currentStudentName=_0x3ae303,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0x519f84['status']!==_0x143d0f(0xe8)){showMessage(_0x143d0f(0xd02));return;}_0x2f5fdc[_0x143d0f(0x8ec)]=_0x143d0f(0x94a);const _0x379524={};_0x379524[_0x143d0f(0xd7a)+_0x3ae303]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x143d0f(0x4c8)},await updateDoc(doc(db,_0x143d0f(0x6de)+appId+'/public/data/liveGames',currentLiveGameId),_0x379524),currentStudentName=_0x3ae303,listenForLiveGameUpdates();}catch(_0x423605){console['error'](_0x143d0f(0x9be),_0x423605),showMessage(_0x143d0f(0x569));}finally{_0x2f5fdc['disabled']=![],_0x2f5fdc[_0x143d0f(0x8ec)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x131134,_0x350222){const _0x1d3ad7=_0x1d7cc9,_0x3e23ac=document[_0x1d3ad7(0x773)](_0x1d3ad7(0x360));document['getElementById'](_0x1d3ad7(0xcc))[_0x1d3ad7(0xcd6)]=_0x1d3ad7(0x44b)+_0x350222,!_0x131134||_0x131134[_0x1d3ad7(0x5df)]===0x0?(_0x3e23ac['innerHTML']=_0x1d3ad7(0xd2e),startQuizBtn['disabled']=!![]):(_0x3e23ac['innerHTML']=_0x1d3ad7(0x81e),_0x131134[_0x1d3ad7(0xa25)](_0x3a657c=>{const _0x32e217=_0x1d3ad7,_0xb1b66a=document[_0x32e217(0x869)](_0x32e217(0x398));_0xb1b66a[_0x32e217(0xd9d)]=_0x3a657c,_0xb1b66a[_0x32e217(0xcd6)]=_0x3a657c,_0x3e23ac[_0x32e217(0x3d7)](_0xb1b66a);}),startQuizBtn[_0x1d3ad7(0x67a)]=![]),studentInitialView[_0x1d3ad7(0x985)][_0x1d3ad7(0xd0a)](_0x1d3ad7(0x806)),studentNameSelectionView['classList'][_0x1d3ad7(0xa54)](_0x1d3ad7(0x806));}function shuffleArray(_0x50b9bd){const _0x179ddd=_0x1d7cc9;for(let _0x369d3d=_0x50b9bd[_0x179ddd(0x5df)]-0x1;_0x369d3d>0x0;_0x369d3d--){const _0x1010dd=Math[_0x179ddd(0x36b)](Math[_0x179ddd(0xa75)]()*(_0x369d3d+0x1));[_0x50b9bd[_0x369d3d],_0x50b9bd[_0x1010dd]]=[_0x50b9bd[_0x1010dd],_0x50b9bd[_0x369d3d]];}}function getShuffledQuiz(_0x15932e){const _0x1ce1f8=_0x1d7cc9;let _0x5d801b=JSON[_0x1ce1f8(0xbf7)](JSON[_0x1ce1f8(0xbd7)](_0x15932e));const _0x29f6e8=_0x5d801b[_0x1ce1f8(0xadf)]?.[_0x1ce1f8(0xa88)]||_0x1ce1f8(0x264);if(_0x29f6e8===_0x1ce1f8(0x264))return _0x5d801b;return(_0x29f6e8==='questions_only'||_0x29f6e8==='both')&&shuffleArray(_0x5d801b[_0x1ce1f8(0xcf9)]),(_0x29f6e8===_0x1ce1f8(0x441)||_0x29f6e8===_0x1ce1f8(0x2c8))&&_0x5d801b[_0x1ce1f8(0xcf9)][_0x1ce1f8(0xa25)](_0x16f7b3=>{const _0x4e6aca=_0x1ce1f8,_0x5865c0=_0x16f7b3[_0x4e6aca(0xa8d)]||_0x5d801b[_0x4e6aca(0xd83)];if(_0x16f7b3[_0x4e6aca(0x50b)]){let _0xe8c4fa=_0x16f7b3[_0x4e6aca(0x50b)]['map']((_0x5c95bc,_0x26448e)=>({'text':_0x5c95bc,'isCorrect':_0x26448e===_0x16f7b3[_0x4e6aca(0xc68)]}));shuffleArray(_0xe8c4fa),_0x16f7b3[_0x4e6aca(0x50b)]=_0xe8c4fa[_0x4e6aca(0x9d3)](_0x4a8bb3=>_0x4a8bb3['text']),_0x16f7b3['correctAnswerIndex']=_0xe8c4fa[_0x4e6aca(0x50a)](_0x5244a2=>_0x5244a2['isCorrect']);}_0x5865c0===_0x4e6aca(0xe52)&&_0x16f7b3[_0x4e6aca(0x59d)]&&shuffleArray(_0x16f7b3[_0x4e6aca(0x59d)]);}),_0x5d801b;}function displayQuizForStudent(_0x101fc1){const _0x1a7eb5=_0x1d7cc9;studentQuizArea[_0x1a7eb5(0x985)]['remove'](_0x1a7eb5(0x806)),currentDisplayedQuiz=getShuffledQuiz(_0x101fc1);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x1a7eb5(0x6f7)](_0x1a7eb5(0xcb1),handleFullscreenChange),document['addEventListener'](_0x1a7eb5(0x343),handleVisibilityChange),enterFullscreen(),window[_0x1a7eb5(0x6f7)](_0x1a7eb5(0x5a2),resetDimTimer),window[_0x1a7eb5(0x6f7)](_0x1a7eb5(0xe5b),resetDimTimer),window[_0x1a7eb5(0x6f7)](_0x1a7eb5(0xd6e),resetDimTimer),window['addEventListener'](_0x1a7eb5(0x42b),resetDimTimer),resetDimTimer());const _0xecb670=currentDisplayedQuiz[_0x1a7eb5(0xadf)]?.['timerMode']||_0x1a7eb5(0x264);if(_0xecb670===_0x1a7eb5(0xd33))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x1a7eb5(0xadf)][_0x1a7eb5(0x848)]);else _0xecb670===_0x1a7eb5(0x9a8)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window[_0x1d7cc9(0x8f9)]=function(_0x20efa3){const _0x5def3e=_0x1d7cc9,_0x29fff4=document['getElementById'](_0x5def3e(0x73b)+_0x20efa3),_0x4aafe2=document[_0x5def3e(0x4a1)](_0x5def3e(0xac3));_0x4aafe2[_0x5def3e(0xa25)](_0x323287=>{const _0x3f8b23=_0x5def3e;if(_0x323287['id']!==_0x3f8b23(0x73b)+_0x20efa3)_0x323287[_0x3f8b23(0x985)][_0x3f8b23(0xd0a)]('hidden');});if(_0x29fff4)_0x29fff4[_0x5def3e(0x985)][_0x5def3e(0xbbd)](_0x5def3e(0x806));},window['selectMathOption']=function(_0x805cd,_0xb1f55a){const _0x3cbc3d=_0x1d7cc9,_0x28449c=currentDisplayedQuiz;if(!_0x28449c)return;const _0x2be40d=_0x28449c[_0x3cbc3d(0xcf9)][_0x805cd],_0x4b3528=_0x2be40d[_0x3cbc3d(0x59d)][_0xb1f55a],_0x3764c4=document[_0x3cbc3d(0x773)](_0x3cbc3d(0x497)+_0x805cd);if(_0x3764c4)_0x3764c4[_0x3cbc3d(0xd9d)]=_0x4b3528;const _0x4fd6b8=document[_0x3cbc3d(0x773)](_0x3cbc3d(0xc6c)+_0x805cd);if(_0x4fd6b8){_0x4fd6b8[_0x3cbc3d(0x8ec)]=_0x4b3528;if(window[_0x3cbc3d(0x6a1)])MathJax[_0x3cbc3d(0x7c9)]([_0x4fd6b8]);_0x4fd6b8[_0x3cbc3d(0x985)]['add'](_0x3cbc3d(0xb32),_0x3cbc3d(0x95c));}const _0x2feede=document[_0x3cbc3d(0x773)](_0x3cbc3d(0x73b)+_0x805cd);if(_0x2feede)_0x2feede[_0x3cbc3d(0x985)][_0x3cbc3d(0xd0a)](_0x3cbc3d(0x806));},document[_0x1d7cc9(0x6f7)](_0x1d7cc9(0x2af),_0x50165e=>{const _0x21a6da=_0x1d7cc9;!_0x50165e[_0x21a6da(0x674)]['closest'](_0x21a6da(0x277))&&document['querySelectorAll']('[id^=\x22dropdown-list-\x22]')[_0x21a6da(0xa25)](_0x57ac20=>_0x57ac20[_0x21a6da(0x985)][_0x21a6da(0xd0a)](_0x21a6da(0x806)));});function renderFullQuizForm(){const _0x1fcfec=_0x1d7cc9,_0x55a1a3=currentDisplayedQuiz[_0x1fcfec(0xadf)]?.[_0x1fcfec(0x9ec)]===!![],_0x323151=currentDisplayedQuiz['settings']?.[_0x1fcfec(0xa2b)]||_0x1fcfec(0x41f);let _0x1da2f2=![],_0x3e900e=_0x1fcfec(0x873)+currentDisplayedQuiz['topic']+_0x1fcfec(0xe9)+(currentMode===_0x1fcfec(0x511)?_0x1fcfec(0x6c9):'')+_0x1fcfec(0x534);currentDisplayedQuiz[_0x1fcfec(0xcf9)][_0x1fcfec(0xa25)]((_0x1ae1e6,_0x370644)=>{const _0x5c85d1=_0x1fcfec,_0x112781=_0x1ae1e6[_0x5c85d1(0xa8d)]||currentDisplayedQuiz[_0x5c85d1(0xd83)],_0x165e75=_0x5c85d1(0x1bb)+(0x64-_0x370644)+';';_0x112781===_0x5c85d1(0xe52)&&!_0x1da2f2&&(_0x3e900e+=_0x5c85d1(0x362),_0x1da2f2=!![]);_0x3e900e+=_0x5c85d1(0x316)+_0x165e75+'\x22>';_0x112781!==_0x5c85d1(0xe52)&&(_0x3e900e+=_0x5c85d1(0x1ab)+(_0x370644+0x1)+'.\x20'+(_0x1ae1e6[_0x5c85d1(0x645)]||_0x1ae1e6[_0x5c85d1(0xc27)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1ae1e6[_0x5c85d1(0x52c)]?_0x5c85d1(0x40a)+_0x1ae1e6['imageCode']+_0x5c85d1(0x1b1):'')+_0x5c85d1(0x1cd));_0x3e900e+=_0x5c85d1(0x213);if(_0x112781===_0x5c85d1(0xe52)&&_0x1ae1e6[_0x5c85d1(0x59d)])_0x3e900e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>'+(_0x370644+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>'+_0x1ae1e6['stem']+_0x5c85d1(0xda1)+_0x370644+'\x22\x20id=\x22input-'+_0x370644+_0x5c85d1(0xb88)+_0x370644+_0x5c85d1(0x402)+_0x370644+_0x5c85d1(0x40e)+_0x370644+_0x5c85d1(0x4da)+_0x1ae1e6['allResponses'][_0x5c85d1(0x9d3)]((_0x39b0b1,_0x5b719a)=>_0x5c85d1(0xe07)+_0x370644+',\x20'+_0x5b719a+_0x5c85d1(0x610)+_0x39b0b1+_0x5c85d1(0x9a4))[_0x5c85d1(0x370)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else{if(_0x112781===_0x5c85d1(0xc39))_0x3e900e+=_0x5c85d1(0x78a)+_0x370644+_0x5c85d1(0x178)+_0x370644+_0x5c85d1(0xa3c)+_0x370644+_0x5c85d1(0xe1b),_0x3e900e+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x370644+_0x5c85d1(0xd6)+_0x370644+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x370644+_0x5c85d1(0xd42);else _0x1ae1e6[_0x5c85d1(0x50b)]&&Array[_0x5c85d1(0x29c)](_0x1ae1e6[_0x5c85d1(0x50b)])&&_0x1ae1e6[_0x5c85d1(0x50b)]['length']>0x0?_0x3e900e+=_0x1ae1e6[_0x5c85d1(0x50b)]['map']((_0x3e2895,_0x54e0fc)=>_0x5c85d1(0x444)+_0x370644+_0x5c85d1(0x564)+_0x54e0fc+_0x5c85d1(0x998)+_0x370644+_0x5c85d1(0xad5)+_0x54e0fc+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x370644+_0x5c85d1(0x564)+_0x54e0fc+'\x22>'+_0x3e2895+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5c85d1(0x370)](''):_0x3e900e+=_0x5c85d1(0x5af)+_0x370644+_0x5c85d1(0xbe4);}_0x3e900e+='</div>',_0x55a1a3&&(_0x3e900e+=_0x5c85d1(0x5e6),_0x323151===_0x5c85d1(0x7cc)?_0x3e900e+=_0x5c85d1(0x470)+_0x370644+'\x22\x20name=\x22confidence'+_0x370644+_0x5c85d1(0x9dc)+_0x370644+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x370644+_0x5c85d1(0x250):_0x3e900e+=_0x5c85d1(0x24f)+_0x370644+_0x5c85d1(0x304)+_0x370644+_0x5c85d1(0x3cf)+_0x370644+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3e900e+='</div>'),_0x3e900e+=_0x5c85d1(0x1b1);}),_0x3e900e+=_0x1fcfec(0x25d),_0x3e900e+=_0x1fcfec(0xbf8),studentQuizArea[_0x1fcfec(0x8ec)]=_0x3e900e;if(currentMode===_0x1fcfec(0x511)){const _0x23d970=document[_0x1fcfec(0x773)](_0x1fcfec(0x100));if(_0x23d970)_0x23d970[_0x1fcfec(0x6f7)](_0x1fcfec(0x2af),cancelAdminTest);}const _0x2c9988=document[_0x1fcfec(0x773)](_0x1fcfec(0x804));_0x2c9988&&(_0x2c9988[_0x1fcfec(0x6f7)](_0x1fcfec(0xd32),handleSubmitQuiz),_0x2c9988[_0x1fcfec(0x6f7)](_0x1fcfec(0x2af),_0x56fa9a=>{const _0x38d6c4=_0x1fcfec;if(_0x56fa9a[_0x38d6c4(0x674)][_0x38d6c4(0x985)]['contains']('confidence-choice-btn')){const _0x1437d0=_0x56fa9a['target'],_0x5c030d=_0x1437d0[_0x38d6c4(0x576)][_0x38d6c4(0x550)],_0x568ce4=_0x1437d0[_0x38d6c4(0x576)][_0x38d6c4(0xd9d)];document[_0x38d6c4(0x773)](_0x38d6c4(0xff)+_0x5c030d)[_0x38d6c4(0xd9d)]=_0x568ce4;const _0x5b4b21=_0x1437d0[_0x38d6c4(0x434)];_0x5b4b21[_0x38d6c4(0x4a1)]('.confidence-choice-btn')[_0x38d6c4(0xa25)](_0x30e9a5=>_0x30e9a5[_0x38d6c4(0x985)][_0x38d6c4(0xa54)](_0x38d6c4(0x4c8))),_0x1437d0[_0x38d6c4(0x985)][_0x38d6c4(0xd0a)](_0x38d6c4(0x4c8));}})),window[_0x1fcfec(0x6a1)]&&setTimeout(()=>{const _0x5444a6=_0x1fcfec;window['MathJax'][_0x5444a6(0x7c9)]([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0x1649ae){const _0x1ed8c0=_0x1d7cc9;if(_0x1649ae)_0x1649ae[_0x1ed8c0(0x952)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x5eab3d=document[_0x1ed8c0(0x773)](_0x1ed8c0(0x804));if(!_0x5eab3d)return;const _0x2b8be2=currentDisplayedQuiz[_0x1ed8c0(0xadf)]?.[_0x1ed8c0(0x9ec)]===!![],_0x3dae4a=currentDisplayedQuiz[_0x1ed8c0(0xadf)]?.[_0x1ed8c0(0xa2b)]||_0x1ed8c0(0x41f);if(_0x2b8be2&&_0x3dae4a===_0x1ed8c0(0x7cc)){let _0x2ee6d4=!![];for(let _0x5e81e5=0x0;_0x5e81e5<currentDisplayedQuiz['questions']['length'];_0x5e81e5++){const _0x88a9e4=_0x5eab3d['querySelector'](_0x1ed8c0(0x135)+_0x5e81e5);if(!_0x88a9e4||_0x88a9e4[_0x1ed8c0(0xd9d)]===''){_0x2ee6d4=![];break;}}if(!_0x2ee6d4){showMessage(_0x1ed8c0(0x80e));return;}}const _0x2efd2e=_0x5eab3d[_0x1ed8c0(0x86f)](_0x1ed8c0(0x2b4)),_0x10204a=currentDisplayedQuiz['questions'][_0x1ed8c0(0x95f)](_0x533cf0=>_0x533cf0[_0x1ed8c0(0xa8d)]==='short_answer');_0x2efd2e&&(_0x2efd2e[_0x1ed8c0(0x67a)]=!![],_0x2efd2e['innerHTML']=_0x10204a?_0x1ed8c0(0xc9):'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x3c84b7=new FormData(_0x5eab3d),_0x4c325c=currentDisplayedQuiz[_0x1ed8c0(0xcf9)][_0x1ed8c0(0x9d3)]((_0x3258ba,_0x5cb7de)=>{const _0x554915=_0x1ed8c0,_0x5bdde4=_0x3c84b7[_0x554915(0xa70)]('question'+_0x5cb7de);let _0x5226dc;_0x3dae4a===_0x554915(0x7cc)?_0x5226dc=_0x3c84b7[_0x554915(0xa70)](_0x554915(0x857)+_0x5cb7de):_0x5226dc=_0x3c84b7[_0x554915(0xa70)](_0x554915(0x857)+_0x5cb7de)==='on';let _0x3e245c=null;if(_0x5bdde4!==null&&_0x5bdde4!==undefined){const _0x417fb6=_0x3258ba[_0x554915(0xa8d)]||currentDisplayedQuiz[_0x554915(0xd83)];_0x417fb6===_0x554915(0xbed)||_0x417fb6==='fill_in_the_blank'?_0x3e245c=parseInt(_0x5bdde4):_0x3e245c=_0x5bdde4;}return{'answer':_0x3e245c,'wasConfident':_0x5226dc};}),_0x5da453=currentQuizData['id'],_0x1d18fd=doc(db,_0x1ed8c0(0x6de)+appId+'/public/data/quizzes/'+_0x5da453+_0x1ed8c0(0x1cf),currentStudentName),_0x1861ab=await getDoc(_0x1d18fd),_0x50e4ca=_0x1861ab['exists']()?_0x1861ab[_0x1ed8c0(0xafb)]():{},_0x46e036=_0x50e4ca[_0x1ed8c0(0x672)]||[];await processAndSubmitAnswers(_0x4c325c,_0x46e036);}async function gradeShortAnswerWithAI(_0x2bad65,_0x27c88a){const _0x2e1e77=_0x1d7cc9;if(!_0x2bad65||!_0x27c88a)return![];try{const _0x5c1e65='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x2bad65+_0x2e1e77(0x928)+_0x27c88a+_0x2e1e77(0xbd0),_0x3f17a6={'contents':[{'role':_0x2e1e77(0x33d),'parts':[{'text':_0x5c1e65}]}]},_0x42df9b=_0x2e1e77(0x300),_0x417af9=_0x2e1e77(0xa4d)+_0x42df9b,_0x5ad0dd=await fetch(_0x417af9,{'method':_0x2e1e77(0x621),'headers':{'Content-Type':_0x2e1e77(0x988)},'body':JSON['stringify'](_0x3f17a6)});if(!_0x5ad0dd['ok'])throw new Error(_0x2e1e77(0xb43));const _0x2c44cc=await _0x5ad0dd[_0x2e1e77(0x487)](),_0x67239e=_0x2c44cc[_0x2e1e77(0x9e3)][0x0]['content']['parts'][0x0][_0x2e1e77(0xab4)][_0x2e1e77(0xafd)]()['toLowerCase']();return _0x67239e===_0x2e1e77(0x9ff);}catch(_0x2e6e30){return console['error'](_0x2e1e77(0x910),_0x2e6e30),![];}}async function processAndSubmitAnswers(_0x2fa175,_0x281950){const _0x5d8fd5=_0x1d7cc9;releaseWakeLock(),stopDimTimer();try{document[_0x5d8fd5(0x38a)]&&await document[_0x5d8fd5(0x131)]();}catch(_0x25b0d1){console[_0x5d8fd5(0x377)]('Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):',_0x25b0d1);}isQuizActive=![],document[_0x5d8fd5(0x755)](_0x5d8fd5(0xcb1),handleFullscreenChange),document[_0x5d8fd5(0x755)](_0x5d8fd5(0x343),handleVisibilityChange);let _0x3af04d=0x0;const _0x3c19c2=[],_0x5bf9ae=currentDisplayedQuiz[_0x5d8fd5(0xcf9)][_0x5d8fd5(0x5df)];let _0x280ec0=0x0,_0x1c3976=[];const _0x5f3ac9=currentDisplayedQuiz['questions'];for(let _0x3a9da0=0x0;_0x3a9da0<_0x5f3ac9[_0x5d8fd5(0x5df)];_0x3a9da0++){const _0x3936ff=_0x5f3ac9[_0x3a9da0],_0x1efc37=_0x2fa175[_0x3a9da0],_0x22de22=_0x1efc37?_0x1efc37[_0x5d8fd5(0x29b)]:null,_0x1836af=_0x1efc37?_0x1efc37[_0x5d8fd5(0x456)]:null;let _0x5436c1=![],_0x6e0437=0x0;if(_0x22de22!==null&&_0x22de22!==''){const _0x411ec7=_0x3936ff[_0x5d8fd5(0xa8d)]||currentDisplayedQuiz['quizType'];switch(_0x411ec7){case _0x5d8fd5(0xe52):_0x5436c1=_0x22de22===_0x3936ff[_0x5d8fd5(0x8e3)];break;case _0x5d8fd5(0xc39):const _0x53eff2=_0x22de22===!![]||_0x22de22===_0x5d8fd5(0x9ff);_0x5436c1=_0x53eff2===_0x3936ff[_0x5d8fd5(0x77e)];break;case _0x5d8fd5(0x488):case _0x5d8fd5(0x33a):_0x5436c1=await gradeShortAnswer(_0x22de22,_0x3936ff);break;case _0x5d8fd5(0xbed):case'fill_in_with_choices':default:_0x5436c1=Number(_0x22de22)===_0x3936ff[_0x5d8fd5(0xc68)];break;}}if(currentDisplayedQuiz['settings']?.[_0x5d8fd5(0x9ec)]){const _0x199562=_0x1efc37?_0x1efc37['wasConfident']:null;if(_0x5436c1&&(_0x199562===!![]||_0x199562===_0x5d8fd5(0x5c9)))_0x6e0437=0x2;else{if(_0x5436c1)_0x6e0437=0x1;else{if(!_0x5436c1&&(_0x199562===![]||_0x199562===_0x5d8fd5(0x9ea)||_0x199562===null))_0x6e0437=0x0;else!_0x5436c1&&(_0x199562===!![]||_0x199562===_0x5d8fd5(0x5c9))&&(_0x6e0437=-0x1);}}}else _0x6e0437=_0x5436c1?0x1:0x0;_0x3af04d+=_0x6e0437;if(_0x5436c1){_0x280ec0++;if(_0x280ec0===0x3)_0x1c3976[_0x5d8fd5(0x65b)](BADGES[_0x5d8fd5(0x12e)]['id']);}else _0x280ec0=0x0;let _0x1d9d74=null;_0x3936ff[_0x5d8fd5(0x50b)]&&(_0x3936ff[_0x5d8fd5(0xa8d)]===_0x5d8fd5(0xbed)||_0x3936ff[_0x5d8fd5(0xa8d)]===_0x5d8fd5(0xc55))&&_0x22de22!==null?_0x1d9d74=_0x3936ff[_0x5d8fd5(0x50b)][_0x22de22]:_0x1d9d74=_0x22de22,_0x3c19c2[_0x5d8fd5(0x65b)]({'questionId':_0x3936ff['id'],'answer':_0x22de22,'answerText':_0x1d9d74,'isCorrect':_0x5436c1,'wasConfident':_0x1836af,'pointsAwarded':_0x6e0437,'originalQuestionText':_0x3936ff[_0x5d8fd5(0x43c)]||_0x3936ff['questionText']});}const _0x96a8e=_0x3c19c2[_0x5d8fd5(0x485)](_0x3aed28=>_0x3aed28[_0x5d8fd5(0x17c)])[_0x5d8fd5(0x5df)],_0x5f169b=currentDisplayedQuiz['settings']?.[_0x5d8fd5(0x5db)]??Math[_0x5d8fd5(0x36b)](_0x5bf9ae/0x2);_0x96a8e===_0x5bf9ae&&_0x5bf9ae>0x0&&!currentDisplayedQuiz[_0x5d8fd5(0x91f)]&&_0x1c3976[_0x5d8fd5(0x65b)](BADGES[_0x5d8fd5(0x627)]['id']);const _0x670094=currentDisplayedQuiz[_0x5d8fd5(0xadf)]?.[_0x5d8fd5(0xe0e)];if(_0x670094===_0x5d8fd5(0xd33)&&quizStartTime){const _0x28c4ce=(new Date()-quizStartTime)/0x3e8,_0x24cd45=currentDisplayedQuiz[_0x5d8fd5(0xadf)]['timerDuration']*0x3c;_0x96a8e>=_0x5f169b&&_0x28c4ce<_0x24cd45/0x2&&_0x1c3976['push'](BADGES[_0x5d8fd5(0x624)]['id']);}_0x281950[_0x5d8fd5(0x5df)]===0x0&&_0x96a8e===_0x5bf9ae&&_0x5bf9ae>0x0&&_0x1c3976[_0x5d8fd5(0x65b)](BADGES[_0x5d8fd5(0x932)]['id']);if(_0x281950[_0x5d8fd5(0x5df)]>0x0){const _0x25875=_0x281950[0x0][_0x5d8fd5(0x5f8)];if(_0x25875<_0x5f169b&&_0x96a8e>=_0x5f169b){const _0x2e15be=_0x281950[_0x5d8fd5(0x95f)](_0x2310f8=>(_0x2310f8[_0x5d8fd5(0x340)]||[])[_0x5d8fd5(0x1f6)](BADGES[_0x5d8fd5(0xbf3)]['id']));!_0x2e15be&&_0x1c3976[_0x5d8fd5(0x65b)](BADGES['COMEBACK_KING']['id']);}}_0x281950[_0x5d8fd5(0x5df)]===0x4&&_0x1c3976[_0x5d8fd5(0x65b)](BADGES[_0x5d8fd5(0xbba)]['id']);const _0x50a396=currentDisplayedQuiz[_0x5d8fd5(0xadf)][_0x5d8fd5(0x1c3)];if(currentMode===_0x5d8fd5(0x511)){handleResultDisplay(_0x50a396,_0x96a8e,_0x3af04d,_0x1c3976,_0x3c19c2,_0x5bf9ae);return;}const _0x561125=currentQuizData['id'],_0x14bfb0=doc(db,_0x5d8fd5(0x6de)+appId+'/public/data/quizzes/'+_0x561125+'/submissions',currentStudentName);try{const _0x38bf2b=[..._0x281950],_0x4a4b88={'score':_0x96a8e,'points':_0x3af04d,'badges':Array['from'](new Set(_0x1c3976)),'submittedAt':new Date()[_0x5d8fd5(0xd78)](),'answers':_0x3c19c2};_0x38bf2b[_0x5d8fd5(0x65b)](_0x4a4b88);const _0x57392b=_0x281950[_0x5d8fd5(0x5df)]===0x0?_0x96a8e:_0x281950[0x0][_0x5d8fd5(0x5f8)]||0x0,_0x46b68c=Math[_0x5d8fd5(0x98d)](..._0x38bf2b[_0x5d8fd5(0x9d3)](_0x31769e=>_0x31769e[_0x5d8fd5(0x5f8)]));await setDoc(_0x14bfb0,{'studentName':currentStudentName,'totalQuestions':_0x5bf9ae,'attempts':_0x38bf2b,'firstScore':_0x57392b,'bestScore':_0x46b68c,'latestScore':_0x96a8e,'points':_0x3af04d,'latestSubmittedAt':_0x4a4b88['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x50a396,_0x96a8e,_0x3af04d,_0x1c3976,_0x3c19c2,_0x5bf9ae);}catch(_0x374ec4){console[_0x5d8fd5(0x7bc)](_0x5d8fd5(0xd4a),_0x374ec4),showMessage(_0x5d8fd5(0x19b));}}async function updateStudentProfile(_0x44bec5,_0x23cebf){const _0x10303a=_0x1d7cc9,_0x5d536d=doc(db,_0x10303a(0x6de)+appId+_0x10303a(0x846)+_0x44bec5+_0x10303a(0x22e),_0x23cebf);try{const _0x1635b7=query(collection(db,'artifacts/'+appId+_0x10303a(0xde0)),where('projectId','==',_0x44bec5)),_0x2e3c13=await getDocs(_0x1635b7),_0x4eefc9=new Map(_0x2e3c13[_0x10303a(0x79c)]['map'](_0x12ccb5=>[_0x12ccb5['id'],_0x12ccb5['data']()])),_0x9ebc9b=Array[_0x10303a(0xc85)](_0x4eefc9[_0x10303a(0x203)]());await runTransaction(db,async _0x2ef21a=>{const _0x3b0bf2=_0x10303a;let _0x382cbd=0x0;const _0x5e039f={};let _0x4bce6f=!![],_0x1ba2bd=0x0,_0x30fd13=0x0;for(const _0x589199 of _0x9ebc9b){const _0x20f819=_0x4eefc9[_0x3b0bf2(0xa70)](_0x589199),_0x5c0afc=doc(db,'artifacts/'+appId+_0x3b0bf2(0x6b1)+_0x589199+_0x3b0bf2(0x1cf),_0x23cebf),_0x5d4d0b=await _0x2ef21a[_0x3b0bf2(0xa70)](_0x5c0afc);if(_0x5d4d0b[_0x3b0bf2(0xc63)]()){const _0x14fd4f=_0x5d4d0b['data'](),_0x4d1877=_0x14fd4f['attempts']||[];if(_0x4d1877['length']>0x0){const _0x12bb55=_0x4d1877['reduce']((_0x4c64c2,_0x449a0a)=>{const _0x18cf64=_0x3b0bf2;if(_0x449a0a[_0x18cf64(0x5f8)]>_0x4c64c2[_0x18cf64(0x5f8)])return _0x449a0a;if(_0x449a0a['score']===_0x4c64c2['score'])return(_0x449a0a[_0x18cf64(0x829)]||0x0)>(_0x4c64c2[_0x18cf64(0x829)]||0x0)?_0x449a0a:_0x4c64c2;return _0x4c64c2;},{'score':-0x1,'points':-0x1});_0x12bb55[_0x3b0bf2(0x5f8)]>-0x1&&(_0x382cbd+=_0x12bb55['points']||0x0,(_0x12bb55[_0x3b0bf2(0x340)]||[])[_0x3b0bf2(0xa25)](_0x2c57b2=>{_0x5e039f[_0x2c57b2]=(_0x5e039f[_0x2c57b2]||0x0)+0x1;}));}}if(_0x20f819[_0x3b0bf2(0xa37)]!==_0x3b0bf2(0x9d8)){_0x30fd13++;if(_0x5d4d0b[_0x3b0bf2(0xc63)]()){_0x1ba2bd++;const _0x31b4a5=_0x5d4d0b[_0x3b0bf2(0xafb)]();_0x31b4a5[_0x3b0bf2(0x43b)]!==_0x31b4a5['totalQuestions']&&(_0x4bce6f=![]);}else _0x4bce6f=![];}}_0x30fd13>0x0&&_0x1ba2bd===_0x30fd13&&_0x4bce6f?_0x5e039f[_0x3b0bf2(0xb5d)]=0x1:_0x5e039f['specialist']=0x0,_0x2ef21a['set'](_0x5d536d,{'studentName':_0x23cebf,'totalPoints':_0x382cbd,'unlockedBadges':Object[_0x3b0bf2(0x203)](_0x5e039f)[_0x3b0bf2(0x485)](_0x5ef37c=>_0x5e039f[_0x5ef37c]>0x0),'badgesCount':_0x5e039f},{'merge':!![]});});}catch(_0x4ed534){console[_0x10303a(0x7bc)](_0x10303a(0x963),_0x4ed534),showMessage(_0x10303a(0x138));}}function startAdminTest(){const _0x4e4a12=_0x1d7cc9;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x371424=JSON[_0x4e4a12(0xbf7)](JSON['stringify'](currentQuizData));currentMode=_0x4e4a12(0x511),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x4e4a12(0x985)][_0x4e4a12(0xd0a)](_0x4e4a12(0x806)),studentView[_0x4e4a12(0x985)][_0x4e4a12(0xa54)](_0x4e4a12(0x806)),studentInitialView[_0x4e4a12(0x985)][_0x4e4a12(0xd0a)]('hidden'),studentNameSelectionView[_0x4e4a12(0x985)][_0x4e4a12(0xd0a)](_0x4e4a12(0x806)),studentResultArea[_0x4e4a12(0x985)][_0x4e4a12(0xd0a)](_0x4e4a12(0x806)),studentQuizArea[_0x4e4a12(0x985)][_0x4e4a12(0xa54)](_0x4e4a12(0x806)),quizStartTime=new Date(),displayQuizForStudent(_0x371424);}function handleResultDisplay(_0x10d2e7,_0x5da82d,_0x393786,_0x3fc7c0,_0x3b5a92,_0x5baa38){const _0x5d508f=_0x1d7cc9;if(_0x10d2e7===_0x5d508f(0xcab)){displaySubmissionConfirmation();return;}const _0x218621=currentDisplayedQuiz[_0x5d508f(0xadf)]?.['passingScore']??Math[_0x5d508f(0x36b)](_0x5baa38/0x2),_0x1b4fb6=currentDisplayedQuiz[_0x5d508f(0xadf)]?.[_0x5d508f(0x108)]??![],_0x29b72a=currentDisplayedQuiz['settings']?.[_0x5d508f(0x4a9)]===!![],_0x124b2a=_0x5da82d<_0x218621,_0x5c2a81=_0x10d2e7===_0x5d508f(0x7aa)||_0x10d2e7===_0x5d508f(0x2db);if(_0x29b72a&&_0x124b2a&&!_0x5c2a81){_0x10d2e7==='show_results_and_answers'?displayResultsWithAnswers(_0x5da82d,_0x393786,_0x3fc7c0,_0x3b5a92,_0x5baa38,!![]):displayLoopScreen(_0x5da82d,_0x5baa38,_0x10d2e7);return;}if(_0x1b4fb6&&_0x124b2a){startAdaptiveFlow(_0x3b5a92,_0x5da82d,_0x5baa38);return;}switch(_0x10d2e7){case _0x5d508f(0x7d8):displayResultsWithAnswers(_0x5da82d,_0x393786,_0x3fc7c0,_0x3b5a92,_0x5baa38);break;case'show_results_only':displayResultsScoreOnly(_0x5da82d,_0x393786,_0x3fc7c0,_0x5baa38);break;case'show_pass_fail_only':displayPassFailOnly(_0x5da82d,_0x5baa38);break;case'half_mark_status':displayHalfMarkResult(_0x5da82d,_0x5baa38);break;case _0x5d508f(0x2db):displayPerfectScoreResult(_0x5da82d,_0x5baa38);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x295d3c){const _0x556577=_0x1d7cc9;studentReadingArea[_0x556577(0x8ec)]=_0x556577(0xaea);const _0x520af6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x295d3c+_0x556577(0x626)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x3aa630={'type':'OBJECT','properties':{'questionText':{'type':_0x556577(0x3a5)},'options':{'type':_0x556577(0x37c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x556577(0x1b3)},'explanation':{'type':'STRING'}},'required':[_0x556577(0xc27),_0x556577(0x50b),_0x556577(0xc68),_0x556577(0x4d2)]},_0x2aa447={'type':_0x556577(0x181),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x556577(0x37c),'items':_0x3aa630}},'required':[_0x556577(0xa37),_0x556577(0xcf9)]};try{const _0x12dd47=await callAnalysisApi(_0x520af6,_0x2aa447);_0x12dd47[_0x556577(0x91f)]=!![],studentReadingArea['classList'][_0x556577(0xd0a)](_0x556577(0x806));const _0x6065a8={...currentDisplayedQuiz[_0x556577(0xadf)],'isAdaptive':![],'resultsDisplay':_0x556577(0x7d8)};_0x12dd47[_0x556577(0xadf)]=_0x6065a8,displayQuizForStudent(_0x12dd47);}catch(_0x5cb00a){console[_0x556577(0x7bc)]('Remedial\x20quiz\x20generation\x20failed:',_0x5cb00a),showMessage(_0x556577(0xce0)),showView('student');}}function displayPassFailOnly(_0x9791b8,_0x4a5b37){const _0x3092dd=_0x1d7cc9,_0x109b15=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x425240=currentDisplayedQuiz[_0x3092dd(0x91f)]===!![];let _0xbc6426='',_0x492939=![];if(_0x425240||_0x109b15!==-0x1){_0x492939=_0x425240?_0x9791b8===_0x4a5b37:_0x9791b8>=_0x109b15;const _0x21e82d=_0x492939?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x41061a=_0x492939?'ผ่าน':_0x3092dd(0x969);_0xbc6426=_0x3092dd(0x146)+_0x21e82d+'\x22>'+_0x41061a+'</span></div>';}else _0xbc6426=_0x3092dd(0x6ae);let _0x421fe6=_0x3092dd(0x4fe)+currentStudentName+_0x3092dd(0x549)+_0xbc6426+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3092dd(0x8ec)]=_0x421fe6,studentResultArea[_0x3092dd(0x985)][_0x3092dd(0xa54)](_0x3092dd(0x806)),studentQuizArea[_0x3092dd(0x985)][_0x3092dd(0xd0a)](_0x3092dd(0x806)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x492939});}function cancelAdminTest(){const _0x4ae1ad=_0x1d7cc9;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x4ae1ad(0x755)](_0x4ae1ad(0xcb1),handleFullscreenChange),document[_0x4ae1ad(0x755)]('visibilitychange',handleVisibilityChange),currentMode=_0x4ae1ad(0x204),studentView['classList'][_0x4ae1ad(0xd0a)](_0x4ae1ad(0x806)),adminView[_0x4ae1ad(0x985)][_0x4ae1ad(0xa54)](_0x4ae1ad(0x806)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x4ae1ad(0x90c));}function setupResultScreenBackButton(_0x3d8e5a){const _0xbaaedc=_0x1d7cc9,_0x978889={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x3d8e5a};if(_0x978889[_0xbaaedc(0xf0)]){const _0x33ab9c=_0xbaaedc(0xd5f);studentResultArea['insertAdjacentHTML'](_0xbaaedc(0xa5d),_0x33ab9c),document['getElementById']('retake-quiz-loop-btn')[_0xbaaedc(0x6f7)](_0xbaaedc(0x2af),()=>{const _0x379f66=_0xbaaedc;studentResultArea[_0x379f66(0x985)]['add'](_0x379f66(0x806)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x1f69d9='back-from-results-btn',_0xb02b8c=currentMode===_0xbaaedc(0x511),_0x2f28f5=_0xb02b8c?_0xbaaedc(0x763):_0xbaaedc(0x915);let _0x444dd7='';_0x978889[_0xbaaedc(0xae4)]&&(_0x444dd7+=_0xbaaedc(0x1f0));let _0x3a4fb9=_0x978889[_0xbaaedc(0x35e)];_0x3a4fb9===undefined&&(_0x3a4fb9=_0x978889[_0xbaaedc(0x5f8)]<_0x978889[_0xbaaedc(0x1a2)]);_0x3a4fb9&&(_0x444dd7+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x444dd7+=_0xbaaedc(0xcdd)+_0x1f69d9+_0xbaaedc(0x384)+_0x2f28f5+_0xbaaedc(0x58c);const _0x3b7f7a='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x444dd7+_0xbaaedc(0x1b1);studentResultArea[_0xbaaedc(0x5c1)](_0xbaaedc(0xa5d),_0x3b7f7a),studentResultArea[_0xbaaedc(0x86f)](_0xbaaedc(0x87a))?.[_0xbaaedc(0x6f7)]('click',handleShowStudentRankings);const _0x5d4212=studentResultArea[_0xbaaedc(0x86f)](_0xbaaedc(0x8ff));_0x5d4212&&_0x5d4212['addEventListener'](_0xbaaedc(0x2af),()=>{const _0x4cfd4a=_0xbaaedc;studentResultArea[_0x4cfd4a(0x985)][_0x4cfd4a(0xd0a)](_0x4cfd4a(0x806)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0xbaaedc(0x773)](_0x1f69d9)['addEventListener'](_0xbaaedc(0x2af),()=>{const _0xb64f4f=_0xbaaedc;_0xb02b8c?(currentMode=_0xb64f4f(0x204),studentView['classList'][_0xb64f4f(0xd0a)]('hidden'),adminView[_0xb64f4f(0x985)][_0xb64f4f(0xa54)](_0xb64f4f(0x806)),showView(_0xb64f4f(0x90c))):(showView(_0xb64f4f(0xcd1)),document[_0xb64f4f(0x773)](_0xb64f4f(0x69c))[_0xb64f4f(0xd9d)]='');});}function displayResultsWithAnswers(_0x26de22,_0x264f0b,_0x35aba5,_0x58154d,_0x3a08a5,_0x23051e=![]){const _0x55b41f=_0x1d7cc9,_0x150472=_0x3a08a5>0x0?_0x26de22/_0x3a08a5*0x64:0x0,_0x4b8821=currentDisplayedQuiz[_0x55b41f(0xadf)]?.[_0x55b41f(0x5db)]??-0x1,_0x43a5f1=currentDisplayedQuiz[_0x55b41f(0x91f)]===!![];let _0x2e30c4='';if(_0x43a5f1||_0x4b8821!==-0x1){let _0x428ffd=_0x43a5f1?_0x26de22===_0x3a08a5:_0x26de22>=_0x4b8821;const _0x4556d6=_0x428ffd?_0x55b41f(0x6c3):_0x55b41f(0x557),_0xf53dcd=_0x428ffd?_0x55b41f(0xdf1):_0x55b41f(0x969);_0x2e30c4='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x4556d6+'\x22>'+_0xf53dcd+_0x55b41f(0xd28);}let _0xde5c22=_0x55b41f(0x87e)+currentStudentName+_0x55b41f(0x37a)+_0x26de22+_0x55b41f(0xda5)+_0x3a08a5+_0x55b41f(0x432)+_0x2e30c4+_0x55b41f(0xd2b)+_0x264f0b+_0x55b41f(0x78b)+_0x150472['toFixed'](0x0)+_0x55b41f(0x6e0);currentDisplayedQuiz['questions'][_0x55b41f(0xa25)]((_0x15342a,_0x14b9fb)=>{const _0x2514d2=_0x55b41f,_0xf34ee8=_0x58154d[_0x14b9fb],_0x4e7017=_0xf34ee8[_0x2514d2(0x29b)],_0x595f7e=_0xf34ee8['isCorrect'],_0x992a79=_0x15342a[_0x2514d2(0xa8d)]||currentDisplayedQuiz[_0x2514d2(0xd83)];_0xde5c22+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x595f7e?_0x2514d2(0x2f7):_0x2514d2(0x229))+_0x2514d2(0x892)+(_0x14b9fb+0x1)+'.\x20'+(_0x15342a[_0x2514d2(0x43c)]||_0x15342a[_0x2514d2(0xc27)])+_0x2514d2(0x9d9);switch(_0x992a79){case _0x2514d2(0xe52):const _0x1b03ee=_0x4e7017||'ไม่ได้ตอบ',_0x2c5880=_0x15342a[_0x2514d2(0x8e3)];_0xde5c22+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x595f7e?_0x2514d2(0xa1d):'')+'\x22>'+_0x1b03ee+_0x2514d2(0xdfd);!_0x595f7e&&(_0xde5c22+=_0x2514d2(0xbb2)+_0x2c5880+_0x2514d2(0xd28));break;case _0x2514d2(0x488):case'short_answer':_0xde5c22+=_0x2514d2(0x6a7)+(_0x4e7017||_0x2514d2(0x379))+_0x2514d2(0xd28),_0xde5c22+=_0x2514d2(0xb9b)+_0x15342a['idealAnswer']+'</p>';break;case'true_false':_0xde5c22+=_0x2514d2(0x1c9)+(_0x15342a[_0x2514d2(0x77e)]===!![]?_0x2514d2(0x558):'')+'\x20'+(_0x4e7017===_0x2514d2(0x9ff)&&!_0x595f7e?_0x2514d2(0xa1d):'')+_0x2514d2(0x249),_0xde5c22+=_0x2514d2(0x1c9)+(_0x15342a['correctAnswer']===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x4e7017===_0x2514d2(0x37d)&&!_0x595f7e?_0x2514d2(0xa1d):'')+_0x2514d2(0x665);break;case'multiple_choice':case'fill_in_with_choices':default:if(_0x15342a[_0x2514d2(0x50b)]&&Array['isArray'](_0x15342a[_0x2514d2(0x50b)]))_0xde5c22+=_0x15342a['options'][_0x2514d2(0x9d3)]((_0x55582e,_0x196df1)=>{const _0x34b1c0=_0x2514d2;let _0x4a46fa='',_0x1e4986='';if(_0x196df1===_0x15342a[_0x34b1c0(0xc68)])_0x4a46fa=_0x34b1c0(0x558),_0x1e4986='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x196df1===_0x4e7017&&(_0x4a46fa=_0x34b1c0(0x958),_0x1e4986=_0x34b1c0(0x455));return _0x34b1c0(0x960)+_0x4a46fa+'\x22>'+_0x1e4986+_0x55582e+_0x34b1c0(0x1b1);})[_0x2514d2(0x370)]('');else{_0xde5c22+=_0x2514d2(0x6a7)+(_0x4e7017||'ไม่ได้ตอบ')+_0x2514d2(0xd28);if(!_0x595f7e)_0xde5c22+=_0x2514d2(0x8a8);}break;}_0xde5c22+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x15342a[_0x2514d2(0x4d2)]||_0x2514d2(0xc23))+_0x2514d2(0x1b1);if(!_0x595f7e){const _0x35366e=_0x15342a['stem']||_0x15342a[_0x2514d2(0xc27)];_0xde5c22+=_0x2514d2(0x275)+escape(_0x35366e)+_0x2514d2(0x38f);}_0xde5c22+=_0x2514d2(0x1b1);}),studentResultArea[_0x55b41f(0x8ec)]=_0xde5c22,renderEarnedBadges(_0x35aba5,_0x55b41f(0xa89)),studentResultArea[_0x55b41f(0x985)][_0x55b41f(0xa54)](_0x55b41f(0x806)),studentQuizArea['classList'][_0x55b41f(0xd0a)](_0x55b41f(0x806)),setupResultScreenBackButton({'isLooping':_0x23051e,'score':_0x26de22,'totalQuestions':_0x3a08a5,'showRankings':!![]});if(window[_0x55b41f(0x6a1)])window[_0x55b41f(0x6a1)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x4d00c8,_0x36f4cb,_0x52c425,_0x5952c6){const _0x3d9b12=_0x1d7cc9,_0xb30e95=_0x5952c6>0x0?_0x4d00c8/_0x5952c6*0x64:0x0,_0x266722=currentDisplayedQuiz['settings']?.[_0x3d9b12(0x5db)]??-0x1,_0x4031ab=currentDisplayedQuiz[_0x3d9b12(0x91f)]===!![];let _0x34d375='';if(_0x4031ab||_0x266722!==-0x1){let _0x3016ae=_0x4031ab?_0x4d00c8===_0x5952c6:_0x4d00c8>=_0x266722;const _0x1b4c38=_0x3016ae?_0x3d9b12(0x6c3):_0x3d9b12(0x557),_0x2f4752=_0x3016ae?'ผ่าน':_0x3d9b12(0x969);_0x34d375=_0x3d9b12(0x628)+_0x1b4c38+'\x22>'+_0x2f4752+_0x3d9b12(0xd28);}let _0x14874e=_0x3d9b12(0x4fe)+currentStudentName+_0x3d9b12(0x588)+_0x4d00c8+_0x3d9b12(0x2d3)+_0x5952c6+_0x3d9b12(0x432)+_0x34d375+_0x3d9b12(0xd2b)+_0x36f4cb+_0x3d9b12(0xbcb)+_0xb30e95[_0x3d9b12(0x7ad)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3d9b12(0x8ec)]=_0x14874e,renderEarnedBadges(_0x52c425,_0x3d9b12(0xa89)),studentResultArea['classList']['remove']('hidden'),studentQuizArea[_0x3d9b12(0x985)]['add'](_0x3d9b12(0x806)),setupResultScreenBackButton({'score':_0x4d00c8,'totalQuestions':_0x5952c6,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x3482e4=_0x1d7cc9;let _0x4d489e=_0x3482e4(0x3e3)+currentStudentName+_0x3482e4(0xdb5);studentResultArea[_0x3482e4(0x8ec)]=_0x4d489e,studentResultArea[_0x3482e4(0x985)][_0x3482e4(0xa54)](_0x3482e4(0x806)),studentQuizArea['classList'][_0x3482e4(0xd0a)](_0x3482e4(0x806)),document[_0x3482e4(0x773)]('back-to-home-manual-release')[_0x3482e4(0x6f7)]('click',()=>{const _0x49c6a3=_0x3482e4;showView('student'),document[_0x49c6a3(0x773)]('quiz-id-input')[_0x49c6a3(0xd9d)]='';});}function renderEarnedBadges(_0x28fd2f,_0x5afc90){const _0x50f0f5=_0x1d7cc9,_0x54f1d5=document[_0x50f0f5(0x773)](_0x5afc90);if(!_0x54f1d5||!_0x28fd2f||_0x28fd2f[_0x50f0f5(0x5df)]===0x0)return;let _0x260c45='';_0x28fd2f[_0x50f0f5(0xa25)]((_0x4dc282,_0x3d3c3c)=>{const _0x2fe633=_0x50f0f5,_0x5cabfd=Object[_0x2fe633(0x230)](BADGES)[_0x2fe633(0x15b)](_0x4c1129=>_0x4c1129['id']===_0x4dc282);_0x5cabfd&&(_0x260c45+=_0x2fe633(0x401)+_0x3d3c3c*0.2+'s;\x22\x20title=\x22'+_0x5cabfd[_0x2fe633(0x2fd)]+_0x2fe633(0xd7b)+_0x5cabfd[_0x2fe633(0x84d)]+_0x2fe633(0xb44)+_0x5cabfd[_0x2fe633(0xb30)]+_0x2fe633(0x82c));}),_0x54f1d5[_0x50f0f5(0x8ec)]=_0x260c45;}function startPresentation(_0x2f3cbe){const _0x5d1535=_0x1d7cc9;currentQuizData=getShuffledQuiz(_0x2f3cbe),currentPresentationSlide=0x0,presentationModal[_0x5d1535(0x90e)][_0x5d1535(0x45d)]=_0x5d1535(0xe4e),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x3bd94b=_0x1d7cc9;document[_0x3bd94b(0x38a)]&&document[_0x3bd94b(0x131)](),presentationModal[_0x3bd94b(0x90e)][_0x3bd94b(0x45d)]='none';}function renderPresentationSlide(_0x1a94a5){const _0x55fce7=_0x1d7cc9,_0x2fdfe7=document[_0x55fce7(0x773)]('presentation-slide-container');if(!currentQuizData||!currentQuizData['questions']||!currentQuizData['questions'][_0x1a94a5]){_0x2fdfe7['innerHTML']=_0x55fce7(0x744);return;}const _0x3925eb=currentQuizData[_0x55fce7(0xcf9)][_0x1a94a5],_0x4f899a=_0x3925eb[_0x55fce7(0xa8d)]||currentQuizData['quizType'];_0x2fdfe7[_0x55fce7(0x8ec)]='';let _0x8910f7=_0x55fce7(0x1cc)+(_0x3925eb[_0x55fce7(0x52c)]?_0x55fce7(0x40a)+_0x3925eb['imageCode']+_0x55fce7(0x1b1):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x1a94a5+0x1)+'.\x20'+(_0x3925eb[_0x55fce7(0x43c)]||_0x3925eb[_0x55fce7(0xc27)])+_0x55fce7(0xd2d);switch(_0x4f899a){case _0x55fce7(0xe52):_0x8910f7+=_0x3925eb[_0x55fce7(0x59d)]['map'](_0x274b4d=>_0x55fce7(0x301)+_0x274b4d+_0x55fce7(0x65c))['join']('');break;case _0x55fce7(0xc39):_0x8910f7+=_0x55fce7(0xc44),_0x8910f7+=_0x55fce7(0x8a3);break;case _0x55fce7(0x488):case _0x55fce7(0x33a):_0x8910f7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x55fce7(0x80a):case _0x55fce7(0xbed):default:_0x8910f7+=_0x3925eb['options']['map']((_0x500b22,_0x4f61b5)=>_0x55fce7(0xbee)+_0x4f61b5+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x500b22+_0x55fce7(0x65c))[_0x55fce7(0x370)]('');break;}_0x8910f7+=_0x55fce7(0x322)+(_0x3925eb[_0x55fce7(0x4d2)]||'ไม่มีคำอธิบาย')+_0x55fce7(0xdc7),_0x2fdfe7[_0x55fce7(0x8ec)]=_0x8910f7;if(window[_0x55fce7(0x6a1)])window['MathJax'][_0x55fce7(0x7c9)]([_0x2fdfe7]);let _0x345d6e=[];switch(_0x4f899a){case _0x55fce7(0xe52):_0x345d6e=_0x3925eb['allResponses']||[];break;case _0x55fce7(0xc39):_0x345d6e=['ใช่',_0x55fce7(0xd0c)];break;default:_0x345d6e=_0x3925eb[_0x55fce7(0x50b)]||[];break;}const _0x9e4208=document[_0x55fce7(0x773)](_0x55fce7(0xaf5));_0x9e4208&&(_0x9e4208['onclick']=()=>{openScratchpad(_0x3925eb,_0x345d6e);});document['querySelectorAll']('.presentation-option')[_0x55fce7(0xa25)](_0x3d0713=>{const _0x59ace6=_0x55fce7;_0x3d0713[_0x59ace6(0x6f7)](_0x59ace6(0x2af),_0x3877ab=>revealAnswerForPresentation(_0x1a94a5,_0x3877ab[_0x59ace6(0x236)]));});const _0x1108db=document[_0x55fce7(0x773)](_0x55fce7(0xb34));_0x1108db&&_0x1108db[_0x55fce7(0x6f7)]('click',()=>checkShortAnswerForPresentation(_0x1a94a5)),document[_0x55fce7(0x773)](_0x55fce7(0x15e))[_0x55fce7(0xcd6)]=_0x55fce7(0xddd)+(_0x1a94a5+0x1)+_0x55fce7(0x9fa)+currentQuizData[_0x55fce7(0xcf9)][_0x55fce7(0x5df)],document[_0x55fce7(0x773)](_0x55fce7(0x4d1))[_0x55fce7(0x67a)]=_0x1a94a5===0x0,document['getElementById']('next-question-btn')[_0x55fce7(0x67a)]=_0x1a94a5===currentQuizData[_0x55fce7(0xcf9)][_0x55fce7(0x5df)]-0x1;}async function checkShortAnswerForPresentation(_0x3737b2){const _0x7c69d8=_0x1d7cc9,_0x58e6d2=currentQuizData[_0x7c69d8(0xcf9)][_0x3737b2],_0x4f907d=document['getElementById'](_0x7c69d8(0x27e)),_0x2b6f6f=document['getElementById'](_0x7c69d8(0xb34)),_0x5d1c54=document[_0x7c69d8(0x773)](_0x7c69d8(0xc0a)),_0x3b0153=document[_0x7c69d8(0x773)](_0x7c69d8(0xdd4));if(!_0x4f907d||!_0x2b6f6f||!_0x5d1c54||!_0x3b0153)return;const _0x5e8ae4=_0x4f907d[_0x7c69d8(0xd9d)][_0x7c69d8(0xafd)]();if(_0x5e8ae4==='')return;_0x2b6f6f[_0x7c69d8(0x67a)]=!![],_0x2b6f6f[_0x7c69d8(0x8ec)]=_0x7c69d8(0x342),_0x4f907d[_0x7c69d8(0x67a)]=!![];const _0x5daa87=await gradeShortAnswer(_0x5e8ae4,_0x58e6d2);_0x5daa87?_0x5d1c54[_0x7c69d8(0x8ec)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x5d1c54[_0x7c69d8(0x8ec)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x58e6d2[_0x7c69d8(0x4b9)]+')',_0x5d1c54[_0x7c69d8(0x985)]['remove']('hidden'),_0x3b0153[_0x7c69d8(0x985)][_0x7c69d8(0xa54)](_0x7c69d8(0x806)),_0x2b6f6f[_0x7c69d8(0x985)]['add'](_0x7c69d8(0x806));}function revealAnswerForPresentation(_0x28b983,_0x534049){const _0x4d23ba=_0x1d7cc9,_0x5ab86b=currentQuizData[_0x4d23ba(0xcf9)][_0x28b983],_0x40218f=_0x5ab86b[_0x4d23ba(0xa8d)]||currentQuizData[_0x4d23ba(0xd83)];document[_0x4d23ba(0x4a1)](_0x4d23ba(0x8a1))[_0x4d23ba(0xa25)](_0x11ceb6=>{const _0x1cdbba=_0x4d23ba;_0x11ceb6['disabled']=!![],_0x11ceb6[_0x1cdbba(0x985)]['remove']('hover:bg-indigo-100');let _0x2e585=![];if(_0x40218f===_0x1cdbba(0xbed)||_0x40218f===_0x1cdbba(0x80a)){const _0x3a47c4=parseInt(_0x11ceb6[_0x1cdbba(0x576)][_0x1cdbba(0x450)]);_0x2e585=_0x3a47c4===_0x5ab86b[_0x1cdbba(0xc68)];}else{if(_0x40218f===_0x1cdbba(0xc39)){const _0x123118=_0x11ceb6['dataset'][_0x1cdbba(0x29b)]===_0x1cdbba(0x9ff);_0x2e585=_0x123118===_0x5ab86b[_0x1cdbba(0x77e)];}else _0x40218f==='matching_item'&&(_0x2e585=_0x11ceb6[_0x1cdbba(0xcd6)][_0x1cdbba(0xafd)]()===_0x5ab86b[_0x1cdbba(0x8e3)]);}_0x2e585?_0x11ceb6[_0x1cdbba(0x985)][_0x1cdbba(0xd0a)]('bg-green-500',_0x1cdbba(0xdab),'border-green-700'):_0x11ceb6[_0x1cdbba(0x985)][_0x1cdbba(0xd0a)](_0x1cdbba(0xd11));}),_0x534049[_0x4d23ba(0x985)][_0x4d23ba(0xa54)]('opacity-50');let _0x1ae3ae=![];if(_0x40218f===_0x4d23ba(0xbed))_0x1ae3ae=parseInt(_0x534049['dataset']['index'])===_0x5ab86b['correctAnswerIndex'];else{if(_0x40218f==='true_false')_0x1ae3ae=_0x534049['dataset']['answer']===_0x4d23ba(0x9ff)===_0x5ab86b['correctAnswer'];else _0x40218f===_0x4d23ba(0xe52)&&(_0x1ae3ae=_0x534049[_0x4d23ba(0xcd6)]['trim']()===_0x5ab86b[_0x4d23ba(0x8e3)]);}!_0x1ae3ae&&_0x534049[_0x4d23ba(0x985)]['add'](_0x4d23ba(0x34d),_0x4d23ba(0xdab),'border-red-700'),document[_0x4d23ba(0x773)](_0x4d23ba(0xdd4))[_0x4d23ba(0x985)]['remove'](_0x4d23ba(0x806));}function startWholeQuizTimer(_0x29a9ce){const _0x5c786b=_0x1d7cc9,_0x252033=document[_0x5c786b(0x773)]('timer-container');if(!_0x252033)return;const _0x29d688=Date[_0x5c786b(0xdbe)]()+_0x29a9ce*0x3c*0x3e8;_0x252033[_0x5c786b(0x8ec)]=_0x5c786b(0xa4a);const _0x3be109=document[_0x5c786b(0x773)](_0x5c786b(0x20c));quizTimerInterval=setInterval(()=>{const _0x5f5bf9=_0x5c786b,_0x2c4bb=_0x29d688-Date[_0x5f5bf9(0xdbe)]();if(_0x2c4bb<=0x0)clearInterval(quizTimerInterval),_0x3be109[_0x5f5bf9(0xcd6)]=_0x5f5bf9(0xd4c),showMessage(_0x5f5bf9(0xbd5)),handleSubmitQuiz(null);else{const _0x4aefba=Math[_0x5f5bf9(0x36b)](_0x2c4bb/0x3e8/0x3c%0x3c)[_0x5f5bf9(0x51a)]()[_0x5f5bf9(0x9cb)](0x2,'0'),_0x4d7112=Math['floor'](_0x2c4bb/0x3e8%0x3c)['toString']()[_0x5f5bf9(0x9cb)](0x2,'0');_0x3be109[_0x5f5bf9(0xcd6)]=_0x4aefba+':'+_0x4d7112;}},0x3e8);}function renderPerQuestionView(){const _0x414821=_0x1d7cc9;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x100348=currentDisplayedQuiz[_0x414821(0xcf9)][currentQuestionIndex],_0x413ffd=_0x100348[_0x414821(0xa8d)]||currentDisplayedQuiz['quizType'],_0x49206f=currentDisplayedQuiz[_0x414821(0xadf)]?.[_0x414821(0x9ec)]===!![];let _0x13a47=_0x414821(0xaa9)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz['questions']['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x414821(0x622)+currentDisplayedQuiz[_0x414821(0xa37)]+_0x414821(0x521);studentQuizArea[_0x414821(0x8ec)]=_0x13a47;let _0x26dcea=_0x100348[_0x414821(0x43c)]||_0x100348[_0x414821(0xc27)];_0x100348[_0x414821(0x52c)]&&(_0x26dcea+=_0x414821(0x40a)+_0x100348[_0x414821(0x52c)]+_0x414821(0x1b1));let _0x4bb876='';switch(_0x413ffd){case _0x414821(0x33a):case _0x414821(0x488):_0x4bb876=_0x414821(0x1f2);break;case _0x414821(0xc39):_0x4bb876='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case _0x414821(0xe52):_0x4bb876=_0x414821(0xe4)+(_0x100348[_0x414821(0x59d)]||[])[_0x414821(0x9d3)](_0x2b10c6=>'<option\x20value=\x22'+_0x2b10c6+'\x22>'+_0x2b10c6+_0x414821(0x6da))[_0x414821(0x370)]('')+_0x414821(0x96e);break;default:_0x100348[_0x414821(0x50b)]&&(_0x4bb876=_0x100348[_0x414821(0x50b)][_0x414821(0x9d3)]((_0x410ad4,_0x246d5f)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x246d5f+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x246d5f+_0x414821(0x248)+_0x246d5f+'\x22>'+_0x410ad4+'</label></div>')[_0x414821(0x370)](''));break;}document['getElementById']('per-question-text')[_0x414821(0x8ec)]=_0x26dcea,document[_0x414821(0x773)](_0x414821(0x276))['innerHTML']=_0x4bb876;const _0x3060fc=currentDisplayedQuiz[_0x414821(0xadf)]?.[_0x414821(0x9ec)]===!![],_0x49a991=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x414821(0x41f);if(_0x3060fc&&_0x49a991===_0x414821(0x41f)){const _0x59e611=_0x414821(0x827);studentQuizArea[_0x414821(0x86f)](_0x414821(0x9fb))[_0x414821(0x5c1)](_0x414821(0xa5d),_0x59e611);}studentQuizArea[_0x414821(0x5c1)](_0x414821(0xa5d),_0x414821(0x599)+(currentQuestionIndex===currentDisplayedQuiz[_0x414821(0xcf9)][_0x414821(0x5df)]-0x1?_0x414821(0xb33):_0x414821(0x5ab))+_0x414821(0x6c2));currentMode===_0x414821(0x511)&&document[_0x414821(0x773)](_0x414821(0x100))?.[_0x414821(0x6f7)](_0x414821(0x2af),cancelAdminTest);document[_0x414821(0x773)](_0x414821(0x32a))['addEventListener'](_0x414821(0x2af),()=>handleNextQuestionInTimedMode(![]));if(window[_0x414821(0x6a1)])window[_0x414821(0x6a1)][_0x414821(0x7c9)]([studentQuizArea]);currentDisplayedQuiz[_0x414821(0xadf)]?.['timerMode']===_0x414821(0x9a8)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x3f8acc=_0x1d7cc9,_0x12db67=currentDisplayedQuiz['settings'][_0x3f8acc(0x848)],_0x597e39=document[_0x3f8acc(0x773)]('per-question-timer-container');if(!_0x597e39)return;let _0x275a74=_0x12db67;_0x597e39[_0x3f8acc(0x8ec)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x275a74+_0x3f8acc(0x48b);const _0x3aa489=document['getElementById']('timer-bar'),_0x6ef5b3=document[_0x3f8acc(0x773)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x28637f=_0x3f8acc;_0x275a74--;const _0x2b2dfe=_0x275a74/_0x12db67*0x64;_0x3aa489['style'][_0x28637f(0x2f0)]=_0x2b2dfe+'%',_0x6ef5b3[_0x28637f(0xcd6)]=_0x275a74,_0x275a74<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x1f59fc=![]){const _0x4dfbb3=_0x1d7cc9;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x4843fa=null,_0x17d7a7=![];if(!_0x1f59fc){const _0x588dc4=currentDisplayedQuiz[_0x4dfbb3(0xcf9)][currentQuestionIndex],_0x38ee0d=_0x588dc4[_0x4dfbb3(0xa8d)]||currentDisplayedQuiz[_0x4dfbb3(0xd83)];if(_0x38ee0d==='short_answer'||_0x38ee0d==='fill_in_no_choices')_0x4843fa=document[_0x4dfbb3(0x86f)]('textarea[name=\x22question_single\x22]')?.[_0x4dfbb3(0xd9d)][_0x4dfbb3(0xafd)]()??'';else{if(_0x38ee0d===_0x4dfbb3(0xe52))_0x4843fa=document[_0x4dfbb3(0x86f)](_0x4dfbb3(0x756))?.[_0x4dfbb3(0xd9d)]??'';else{const _0x31fdb1=document[_0x4dfbb3(0x86f)](_0x4dfbb3(0x458));_0x31fdb1&&(_0x4843fa=_0x31fdb1[_0x4dfbb3(0xd9d)]);}}if(_0x4843fa===null||_0x4843fa===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x19d784=currentDisplayedQuiz[_0x4dfbb3(0xadf)]?.[_0x4dfbb3(0x9ec)]===!![],_0xcb0bc3=currentDisplayedQuiz[_0x4dfbb3(0xadf)]?.[_0x4dfbb3(0xa2b)]||'checkbox';if(_0x19d784&&_0xcb0bc3===_0x4dfbb3(0x7cc)){document[_0x4dfbb3(0x773)](_0x4dfbb3(0x482))[_0x4dfbb3(0x576)]['currentMode']=_0x4dfbb3(0x2b9),document[_0x4dfbb3(0x773)](_0x4dfbb3(0xc1a))['value']=_0x4843fa,document[_0x4dfbb3(0x773)](_0x4dfbb3(0x482))[_0x4dfbb3(0x985)][_0x4dfbb3(0xa54)](_0x4dfbb3(0x806));return;}const _0x168522=document[_0x4dfbb3(0x773)](_0x4dfbb3(0x3f2));_0x168522&&(_0x17d7a7=_0x168522[_0x4dfbb3(0x17e)]);}const _0x3fabbb={'answer':_0x4843fa,'wasConfident':_0x17d7a7};proceedToNextQuestion(_0x3fabbb);}async function finalizePerQuestionQuiz(){const _0xbcc6aa=_0x1d7cc9,_0x356e28=currentDisplayedQuiz['questions'][_0xbcc6aa(0x95f)](_0x118f2c=>_0x118f2c[_0xbcc6aa(0xa8d)]===_0xbcc6aa(0x33a));_0x356e28?showMessage(_0xbcc6aa(0xc0e)):showMessage(_0xbcc6aa(0x1e6));const _0x24b939=currentQuizData['id'],_0x3c414f=doc(db,_0xbcc6aa(0x6de)+appId+_0xbcc6aa(0x6b1)+_0x24b939+_0xbcc6aa(0x1cf),currentStudentName),_0x312e5a=await getDoc(_0x3c414f),_0x5c058d=_0x312e5a[_0xbcc6aa(0xc63)]()?_0x312e5a['data']():{},_0x10ed9d=_0x5c058d['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x10ed9d);}function getResultsFilename(){const _0x570ecb=_0x1d7cc9,_0x356ca7=document[_0x570ecb(0x773)](_0x570ecb(0x2e5))[_0x570ecb(0xcd6)][_0x570ecb(0xc21)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x570ecb(0x50c)+(_0x356ca7||_0x570ecb(0x134));}function exportResultsAsImage(){const _0x62d740=_0x1d7cc9,_0x4fd5ad=document[_0x62d740(0x773)](_0x62d740(0x95a));showMessage(_0x62d740(0xd61)),html2canvas(_0x4fd5ad)[_0x62d740(0x199)](_0x2c66e9=>{const _0x2271e9=_0x62d740,_0x298d3e=document['createElement']('a');_0x298d3e['download']=getResultsFilename()+'.png',_0x298d3e[_0x2271e9(0xa2a)]=_0x2c66e9[_0x2271e9(0xad6)](_0x2271e9(0x4b2)),_0x298d3e['click'](),messageModal[_0x2271e9(0x985)][_0x2271e9(0xd0a)](_0x2271e9(0x806));});}function exportResultsAsPDF(){const _0x3b4ee1=_0x1d7cc9,{jsPDF:_0x5d2948}=window[_0x3b4ee1(0xdbd)],_0x4ad88a=new _0x5d2948();_0x4ad88a[_0x3b4ee1(0x2ac)]('helvetica',_0x3b4ee1(0x14d)),_0x4ad88a['autoTable']({'html':_0x3b4ee1(0xb77)}),_0x4ad88a['save'](getResultsFilename()+_0x3b4ee1(0x36f));}function exportResultsAsWord(){const _0x480aec=_0x1d7cc9,_0x199231=_0x480aec(0xc43)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x480aec(0x879)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x1d57e8=_0x480aec(0xba1),_0x312b46=_0x199231+document[_0x480aec(0x773)](_0x480aec(0x95a))[_0x480aec(0x8ec)]+_0x1d57e8,_0x233f19=_0x480aec(0x675)+encodeURIComponent(_0x312b46),_0x393e49=document[_0x480aec(0x869)]('a');document[_0x480aec(0xb31)]['appendChild'](_0x393e49),_0x393e49[_0x480aec(0xa2a)]=_0x233f19,_0x393e49[_0x480aec(0xe19)]=getResultsFilename()+_0x480aec(0x1c0),_0x393e49['click'](),document[_0x480aec(0xb31)][_0x480aec(0x86c)](_0x393e49);}function exportResultsAsExcel(){const _0x87a5be=_0x1d7cc9,_0x36f358=document[_0x87a5be(0x773)](_0x87a5be(0xcfa));let _0x33b20e=[];for(let _0x3545b6=0x0;_0x3545b6<_0x36f358[_0x87a5be(0x5d1)][_0x87a5be(0x5df)];_0x3545b6++){let _0x1eb27a=[],_0x40be31=_0x36f358['rows'][_0x3545b6][_0x87a5be(0x4a1)](_0x87a5be(0xdc8));for(let _0x125ab7=0x0;_0x125ab7<_0x40be31[_0x87a5be(0x5df)];_0x125ab7++){_0x1eb27a['push']('\x22'+_0x40be31[_0x125ab7][_0x87a5be(0xab8)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x33b20e[_0x87a5be(0x65b)](_0x1eb27a[_0x87a5be(0x370)](','));}const _0x3f9ffe=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x33b20e[_0x87a5be(0x370)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x1d58b1=document[_0x87a5be(0x869)]('a');_0x1d58b1[_0x87a5be(0xa2a)]=URL['createObjectURL'](_0x3f9ffe),_0x1d58b1[_0x87a5be(0xe19)]=getResultsFilename()+_0x87a5be(0x8a6),_0x1d58b1[_0x87a5be(0x2af)]();}function exportTableAsImage(_0x216e8f,_0x369481){const _0x58c257=_0x1d7cc9,_0x460c01=document[_0x58c257(0x773)](_0x216e8f),_0x10c872=document[_0x58c257(0x773)]('results-quiz-title');if(!_0x460c01){showMessage(_0x58c257(0xb8b));return;}showMessage('กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...');const _0x48a9d3=document['createElement'](_0x58c257(0x5f9));_0x48a9d3[_0x58c257(0x90e)][_0x58c257(0xa67)]=_0x58c257(0x1b9),_0x48a9d3['style']['padding']='30px',_0x48a9d3[_0x58c257(0x90e)]['width']=_0x58c257(0xd09),_0x48a9d3[_0x58c257(0x90e)]['position']=_0x58c257(0x44a),_0x48a9d3[_0x58c257(0x90e)][_0x58c257(0xbf2)]=_0x58c257(0x979),_0x48a9d3[_0x58c257(0x90e)][_0x58c257(0x1d7)]='0',_0x48a9d3[_0x58c257(0x90e)][_0x58c257(0x4ed)]='-1';const _0x330bc3=document['createElement']('h1');_0x330bc3['innerText']=_0x10c872?_0x10c872['innerText']:_0x58c257(0x630),_0x330bc3[_0x58c257(0x90e)][_0x58c257(0xc06)]=_0x58c257(0xc94),_0x330bc3[_0x58c257(0x90e)][_0x58c257(0x83f)]=_0x58c257(0x1e9),_0x330bc3['style'][_0x58c257(0x40d)]=_0x58c257(0x406),_0x330bc3['style'][_0x58c257(0x2ce)]=_0x58c257(0xc00),_0x330bc3[_0x58c257(0x90e)][_0x58c257(0x61f)]='#4338ca',_0x330bc3['style'][_0x58c257(0x262)]=_0x58c257(0x887);const _0x6f2d54=_0x460c01[_0x58c257(0xaa2)](!![]);_0x6f2d54[_0x58c257(0x90e)][_0x58c257(0x37b)]=_0x58c257(0x264),_0x6f2d54[_0x58c257(0x90e)]['overflow']='visible';const _0x552a4f=_0x6f2d54[_0x58c257(0x4a1)]('th');let _0x381999=-0x1;_0x552a4f['forEach']((_0x5b7f09,_0x4cfc9b)=>{const _0x4a3638=_0x58c257;_0x5b7f09['textContent']['trim']()==='ผล'&&(_0x5b7f09['style']['display']=_0x4a3638(0x264),_0x381999=_0x4cfc9b);});if(_0x381999!==-0x1){const _0x333c53=_0x6f2d54[_0x58c257(0x4a1)]('tr');_0x333c53['forEach'](_0x22fb05=>{const _0x309430=_0x58c257,_0x1fa734=_0x22fb05['querySelectorAll']('td');_0x1fa734[_0x309430(0x5df)]>_0x381999&&(_0x1fa734[_0x381999][_0x309430(0x90e)][_0x309430(0x45d)]=_0x309430(0x264));});}_0x48a9d3[_0x58c257(0x3d7)](_0x330bc3),_0x48a9d3[_0x58c257(0x3d7)](_0x6f2d54),document[_0x58c257(0xb31)][_0x58c257(0x3d7)](_0x48a9d3),html2canvas(_0x48a9d3,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x58c257(0x1b9)})[_0x58c257(0x199)](_0x5d5b70=>{const _0xf8fa53=_0x58c257,_0x2eb8fb=document[_0xf8fa53(0x869)]('a');_0x2eb8fb[_0xf8fa53(0xe19)]=_0x369481+_0xf8fa53(0x611),_0x2eb8fb[_0xf8fa53(0xa2a)]=_0x5d5b70[_0xf8fa53(0xad6)]('image/png'),_0x2eb8fb[_0xf8fa53(0x2af)](),document[_0xf8fa53(0xb31)][_0xf8fa53(0x86c)](_0x48a9d3),messageModal[_0xf8fa53(0x985)][_0xf8fa53(0xd0a)]('hidden');})['catch'](_0x173415=>{const _0x5d1aeb=_0x58c257;console[_0x5d1aeb(0x7bc)]('Export\x20Image\x20Error:',_0x173415),document[_0x5d1aeb(0xb31)][_0x5d1aeb(0x86c)](_0x48a9d3),showMessage(_0x5d1aeb(0xa8e));});}function exportTableAsPDF(_0x2f6d80,_0x4e43dd){const _0x513b26=_0x1d7cc9,{jsPDF:_0x50469c}=window['jspdf'],_0x516610=new _0x50469c();_0x516610[_0x513b26(0x2ac)](_0x513b26(0xd8c),'normal'),_0x516610[_0x513b26(0x577)]({'html':'#'+_0x2f6d80}),_0x516610['save'](_0x4e43dd+_0x513b26(0x36f));}function exportTableAsWord(_0x28922f,_0x46c217){const _0x586065=_0x1d7cc9,_0x19a56e=document[_0x586065(0x773)](_0x28922f);if(!_0x19a56e){showMessage(_0x586065(0xb8b));return;}const _0x208ea7=_0x586065(0xc43)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x586065(0xd8a),_0x281fcd=_0x586065(0xba1),_0xc69078=_0x208ea7+_0x19a56e[_0x586065(0x8ec)]+_0x281fcd,_0x125302=_0x586065(0x675)+encodeURIComponent(_0xc69078),_0x28a922=document[_0x586065(0x869)]('a');document[_0x586065(0xb31)][_0x586065(0x3d7)](_0x28a922),_0x28a922[_0x586065(0xa2a)]=_0x125302,_0x28a922[_0x586065(0xe19)]=_0x46c217+_0x586065(0x1c0),_0x28a922['click'](),document[_0x586065(0xb31)][_0x586065(0x86c)](_0x28a922);}function exportTableAsExcel(_0x2bc682,_0x5e685b){const _0x3b9810=_0x1d7cc9,_0x342eca=document[_0x3b9810(0x773)](_0x2bc682);if(!_0x342eca){showMessage(_0x3b9810(0xb8b));return;}let _0x5ab035=[];for(let _0x5b0593=0x0;_0x5b0593<_0x342eca[_0x3b9810(0x5d1)]['length'];_0x5b0593++){let _0x25d93e=[],_0x6990bd=_0x342eca[_0x3b9810(0x5d1)][_0x5b0593][_0x3b9810(0x4a1)](_0x3b9810(0xdc8));for(let _0x5af3bd=0x0;_0x5af3bd<_0x6990bd['length'];_0x5af3bd++){_0x25d93e[_0x3b9810(0x65b)]('\x22'+_0x6990bd[_0x5af3bd][_0x3b9810(0xab8)][_0x3b9810(0xc21)](/"/g,'\x22\x22')+'\x22');}_0x5ab035[_0x3b9810(0x65b)](_0x25d93e[_0x3b9810(0x370)](','));}const _0x287eb8=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5ab035[_0x3b9810(0x370)]('\x0a')],{'type':_0x3b9810(0x7e8)}),_0xd62f2c=document[_0x3b9810(0x869)]('a');_0xd62f2c[_0x3b9810(0xa2a)]=URL['createObjectURL'](_0x287eb8),_0xd62f2c[_0x3b9810(0xe19)]=_0x5e685b+_0x3b9810(0x8a6),_0xd62f2c[_0x3b9810(0x2af)]();}function renderAnalytics(_0x57803d,_0x56b072){const _0x317cf9=_0x1d7cc9,_0x19971f=_0x56b072['filter'](_0x157deb=>_0x157deb['latestScore']!==undefined),_0x303082=currentProjectData[_0x317cf9(0xb2e)][_0x317cf9(0x5df)],_0x59a61f=_0x19971f[_0x317cf9(0x5df)],_0xbb5d0=_0x303082-_0x59a61f,_0x3d11fa=_0x303082>0x0?_0x59a61f/_0x303082*0x64:0x0,_0x4eaf41=_0x19971f[_0x317cf9(0x9d3)](_0x5c7b13=>_0x5c7b13[_0x317cf9(0x1ea)]),_0x3cb44d=_0x4eaf41[_0x317cf9(0x5df)]>0x0?_0x4eaf41[_0x317cf9(0x731)]((_0x282235,_0x5153d6)=>_0x282235+_0x5153d6,0x0)/_0x4eaf41[_0x317cf9(0x5df)]:0x0,_0x1cf738=_0x57803d[_0x317cf9(0xcf9)][_0x317cf9(0x5df)],_0x31b59d=_0x1cf738>0x0?_0x3cb44d/_0x1cf738*0x64:0x0,_0x273186=calculateItemAnalysis(_0x57803d,_0x19971f),_0x37fb31=calculateReliabilityKR20(_0x57803d,_0x19971f,_0x273186[_0x317cf9(0xaad)]);let _0x313b7c='';if(_0x37fb31!==null){let _0x1638ee='';if(_0x37fb31>=0.9)_0x1638ee='ยอดเยี่ยม';else{if(_0x37fb31>=0.8)_0x1638ee=_0x317cf9(0x9f9);else{if(_0x37fb31>=0.7)_0x1638ee='ดี';else{if(_0x37fb31>=0.6)_0x1638ee=_0x317cf9(0x751);else _0x1638ee=_0x317cf9(0x82d);}}}_0x313b7c=_0x317cf9(0x288)+_0x37fb31[_0x317cf9(0x7ad)](0x2)+_0x317cf9(0x583)+_0x1638ee+_0x317cf9(0x876);}const _0x1d7b11=document[_0x317cf9(0x773)](_0x317cf9(0x3c9));_0x1d7b11[_0x317cf9(0x8ec)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x3d11fa[_0x317cf9(0x7ad)](0x0)+_0x317cf9(0x336)+_0x59a61f+'/'+_0x303082+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x3cb44d[_0x317cf9(0x7ad)](0x2)+_0x317cf9(0xe58)+_0x31b59d[_0x317cf9(0x7ad)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x4eaf41[_0x317cf9(0x5df)]>0x0?Math[_0x317cf9(0x98d)](..._0x4eaf41):'N/A')+_0x317cf9(0x436)+(_0x4eaf41[_0x317cf9(0x5df)]>0x0?Math['min'](..._0x4eaf41):_0x317cf9(0x539))+_0x317cf9(0xc33)+_0x313b7c+_0x317cf9(0x927);const _0x19275a=document['getElementById'](_0x317cf9(0xb67));_0x19275a&&_0x19275a[_0x317cf9(0xa54)]();const _0x1ac9d3=_0x317cf9(0xcb2);_0x1d7b11[_0x317cf9(0x5c1)](_0x317cf9(0xa23),_0x1ac9d3);const _0x54b834=currentProjectData['students']||[];renderSubmissionChart(_0x59a61f,_0xbb5d0,_0x19971f,_0x54b834),renderScoreDistributionChart(_0x19971f,_0x1cf738),renderQuestionAnalytics(_0x57803d,_0x19971f,_0x54b834),renderInterestingStats(_0x57803d,_0x19971f);}async function handleExportLessonPDF(){const _0x514a35=_0x1d7cc9,_0x518b9d=document[_0x514a35(0x773)](_0x514a35(0x864)),_0x3e0bdc=document['getElementById'](_0x514a35(0x519))[_0x514a35(0xcd6)],_0x490897=window['open']('',_0x514a35(0x211)),_0x40aec8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x3e0bdc+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x518b9d[_0x514a35(0x8ec)]+_0x514a35(0x2e3);_0x490897[_0x514a35(0xd45)][_0x514a35(0xdbf)](_0x40aec8),_0x490897['document'][_0x514a35(0x2d7)](),_0x490897[_0x514a35(0x4c6)]=function(){setTimeout(()=>{const _0x4c3547=_0x5842;_0x490897[_0x4c3547(0x574)]();},0x5dc);};}function renderInterestingStats(_0x2055e8,_0x18a8b9){const _0x50ce8c=_0x1d7cc9,_0xb93606=document[_0x50ce8c(0x773)]('interesting-stats-container');if(!_0xb93606)return;if(_0x18a8b9['length']===0x0){_0xb93606[_0x50ce8c(0x8ec)]=_0x50ce8c(0x6b6);return;}const _0x50ac71=_0x2055e8[_0x50ce8c(0xcf9)][_0x50ce8c(0x9d3)]((_0x4b6ae5,_0x2b0342)=>({'index':_0x2b0342+0x1,'text':_0x4b6ae5['questionText']||_0x4b6ae5[_0x50ce8c(0x43c)],'correct':0x0}));_0x18a8b9['forEach'](_0x2a4045=>{const _0x4fc946=_0x50ce8c,_0x495b26=_0x2a4045[_0x4fc946(0x672)][_0x2a4045['attempts'][_0x4fc946(0x5df)]-0x1];_0x495b26&&_0x495b26['answers']&&_0x495b26[_0x4fc946(0x382)][_0x4fc946(0xa25)](_0x171397=>{const _0x2e2796=_0x4fc946,_0x22142e=_0x50ac71[_0x2e2796(0x15b)](_0x73977f=>_0x73977f[_0x2e2796(0xab4)]===_0x171397[_0x2e2796(0xb6d)]);_0x171397[_0x2e2796(0x17c)]&&_0x22142e&&_0x22142e[_0x2e2796(0x868)]++;});});const _0x44bd6f=_0x18a8b9[_0x50ce8c(0x5df)],_0x1a684b=Math['max'](..._0x50ac71[_0x50ce8c(0x9d3)](_0x3a097c=>_0x3a097c['correct'])),_0x5567ab=Math[_0x50ce8c(0x20e)](..._0x50ac71[_0x50ce8c(0x9d3)](_0x5a0810=>_0x5a0810[_0x50ce8c(0x868)])),_0x3b8a14=_0x50ac71[_0x50ce8c(0x485)](_0x11e053=>_0x11e053[_0x50ce8c(0x868)]===_0x1a684b)[_0x50ce8c(0x9d3)](_0x492e2b=>'ข้อ\x20'+_0x492e2b[_0x50ce8c(0x450)]),_0x2b2845=_0x50ac71[_0x50ce8c(0x485)](_0xd1c645=>_0xd1c645[_0x50ce8c(0x868)]===_0x5567ab)['map'](_0x9408d5=>_0x50ce8c(0x118)+_0x9408d5[_0x50ce8c(0x450)]),_0x325433=_0x18a8b9['sort']((_0x5eac9b,_0x5f4aef)=>_0x5f4aef[_0x50ce8c(0x1ea)]-_0x5eac9b[_0x50ce8c(0x1ea)])[_0x50ce8c(0x485)]((_0x2aa098,_0x482fc8,_0x32bbd4)=>_0x2aa098[_0x50ce8c(0x1ea)]===_0x32bbd4[0x0]['latestScore']),_0x15e470=_0x18a8b9[_0x50ce8c(0xc1c)]((_0xba576f,_0x5e2486)=>_0xba576f['latestScore']-_0x5e2486['latestScore'])[_0x50ce8c(0x485)]((_0x43a0f1,_0x14469f,_0x4f8160)=>_0x43a0f1['latestScore']===_0x4f8160[0x0]['latestScore']),_0x21f371=_0x50ce8c(0x9f0)+_0x3b8a14[_0x50ce8c(0x370)](',\x20')+_0x50ce8c(0xcf7)+_0x1a684b+_0x50ce8c(0x9fa)+_0x44bd6f+_0x50ce8c(0x3ae)+_0x2b2845[_0x50ce8c(0x370)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x44bd6f-_0x5567ab)+'\x20/\x20'+_0x44bd6f+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x325433[_0x50ce8c(0x9d3)](_0x5e9081=>_0x5e9081[_0x50ce8c(0xa12)])[_0x50ce8c(0x370)](',\x20')+_0x50ce8c(0xbc0)+_0x325433[0x0]['latestScore']+_0x50ce8c(0xa8a)+_0x15e470[_0x50ce8c(0x9d3)](_0x1f7c45=>_0x1f7c45[_0x50ce8c(0xa12)])[_0x50ce8c(0x370)](',\x20')+_0x50ce8c(0xbc0)+_0x15e470[0x0][_0x50ce8c(0x1ea)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0xb93606[_0x50ce8c(0x8ec)]=_0x21f371;}function renderSubmissionChart(_0x2fb674,_0x2b9d79,_0x4ae1dd,_0x50f540){const _0x2091c1=_0x1d7cc9,_0x5de92f=document[_0x2091c1(0x773)](_0x2091c1(0xb99))['getContext']('2d'),_0x4fa697=_0x4ae1dd['map'](_0x141d8b=>_0x141d8b['studentName']),_0x478bf9=_0x50f540[_0x2091c1(0x485)](_0x4f3841=>!_0x4fa697['includes'](_0x4f3841));chartInstances[_0x2091c1(0x581)]&&chartInstances[_0x2091c1(0x581)][_0x2091c1(0xcff)](),chartInstances[_0x2091c1(0x581)]=new Chart(_0x5de92f,{'type':_0x2091c1(0xe57),'data':{'labels':[_0x2091c1(0x8ef),'ยังไม่ส่ง'],'datasets':[{'data':[_0x2fb674,_0x2b9d79],'backgroundColor':['#10B981',_0x2091c1(0x560)],'borderColor':[_0x2091c1(0x1b9),_0x2091c1(0x1b9)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x2091c1(0x614)},'tooltip':{'callbacks':{'label':function(_0x383fcb){const _0x55233e=_0x2091c1;let _0xc5a438=_0x383fcb[_0x55233e(0x2cb)]||'';return _0xc5a438&&(_0xc5a438+=':\x20'),_0xc5a438+=_0x383fcb[_0x55233e(0x1fb)],_0xc5a438;},'afterLabel':function(_0x2da893){const _0x4e2eca=_0x2091c1;let _0x3bb584;return _0x2da893[_0x4e2eca(0x195)]===0x0?_0x3bb584=_0x4fa697:_0x3bb584=_0x478bf9,_0x3bb584[_0x4e2eca(0x5df)]>0x0?_0x3bb584[_0x4e2eca(0x370)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x26de26,_0x53d8c1){const _0x4498e0=_0x1d7cc9,_0x5360f0=document[_0x4498e0(0x773)](_0x4498e0(0x94f))[_0x4498e0(0xd95)]('2d'),_0x3e4e10={};for(let _0x2bb000=0x0;_0x2bb000<=_0x53d8c1;_0x2bb000++){_0x3e4e10[_0x2bb000]=0x0;}_0x26de26['forEach'](_0x43e099=>{const _0x5794b1=_0x4498e0;_0x3e4e10[_0x43e099['latestScore']]!==undefined&&_0x3e4e10[_0x43e099[_0x5794b1(0x1ea)]]++;}),chartInstances[_0x4498e0(0x5f8)]&&chartInstances['score'][_0x4498e0(0xcff)](),chartInstances[_0x4498e0(0x5f8)]=new Chart(_0x5360f0,{'type':_0x4498e0(0x8f5),'data':{'labels':Object[_0x4498e0(0x203)](_0x3e4e10),'datasets':[{'label':_0x4498e0(0x7d1),'data':Object['values'](_0x3e4e10),'backgroundColor':_0x4498e0(0x5d0),'borderColor':_0x4498e0(0x454),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x4498e0(0xd0f)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x13b7c7){const _0x1330c4=_0x4498e0,_0x468e74=_0x13b7c7[_0x1330c4(0x2cb)],_0x10d569=_0x26de26[_0x1330c4(0x485)](_0x1e91ec=>_0x1e91ec[_0x1330c4(0x1ea)]==_0x468e74)[_0x1330c4(0x9d3)](_0x20396f=>_0x20396f[_0x1330c4(0xa12)]);return _0x10d569[_0x1330c4(0x5df)]>0x0?_0x10d569[_0x1330c4(0x370)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x5f4bff,_0x397fe7,_0x344df8){const _0x27526c=_0x1d7cc9,_0x1f9489=document['getElementById'](_0x27526c(0xaa0));if(_0x344df8[_0x27526c(0x5df)]===0x0){_0x1f9489[_0x27526c(0x8ec)]=_0x27526c(0xb24);return;}const _0xb9d958=calculateItemAnalysis(_0x5f4bff,_0x397fe7),_0x54811f=calculateDistractorAnalysis(_0x5f4bff,_0x397fe7);let _0x409d3f='';_0xb9d958['overallGroups']&&(_0x409d3f=_0x27526c(0xd30)+_0xb9d958[_0x27526c(0x1da)][_0x27526c(0xdb4)][_0x27526c(0x5df)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb9d958[_0x27526c(0x1da)]['upperGroupNames'][_0x27526c(0x9d3)](_0x5b4adf=>_0x27526c(0xdd7)+_0x5b4adf+_0x27526c(0xd2a))[_0x27526c(0x370)]('')+_0x27526c(0x978)+_0xb9d958[_0x27526c(0x1da)][_0x27526c(0x667)]['length']+_0x27526c(0x6a2)+_0xb9d958[_0x27526c(0x1da)][_0x27526c(0x667)][_0x27526c(0x9d3)](_0x37f16c=>_0x27526c(0xdd7)+_0x37f16c+_0x27526c(0xd2a))[_0x27526c(0x370)]('')+_0x27526c(0x46e));let _0x4b5f4f='';const _0x290fc5=_0x397fe7['map'](_0x4e34c5=>_0x4e34c5[_0x27526c(0xa12)]),_0xffb3e4=_0x24da0a=>{const _0xdd40ce=_0x27526c;if(_0x24da0a>=0.8)return _0xdd40ce(0x8cb);if(_0x24da0a>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x24da0a>=0.4)return _0xdd40ce(0x1f7);if(_0x24da0a>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x143fb9=_0x4cda30=>{const _0x50ff83=_0x27526c;if(_0x4cda30<0x0)return _0x50ff83(0x860);if(_0x4cda30>=0.4)return _0x50ff83(0xa0d);if(_0x4cda30>=0.3)return _0x50ff83(0x24e);if(_0x4cda30>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x50ff83(0xab6);},_0x219964=_0x4ed86c=>{const _0x5031e8=_0x27526c,_0x2c8c58=_0x4ed86c[_0x5031e8(0x7ad)](0x0);if(parseFloat(_0x2c8c58)===0x64)return _0x5031e8(0x2f4)+_0x2c8c58+_0x5031e8(0x8d9);if(_0x4ed86c>=0x32)return _0x5031e8(0xca)+_0x2c8c58+_0x5031e8(0x8d9);return _0x5031e8(0x9ac)+_0x2c8c58+_0x5031e8(0x8d9);};_0x5f4bff[_0x27526c(0xcf9)][_0x27526c(0xa25)]((_0x5da83a,_0x49714b)=>{const _0x50529d=_0x27526c,_0xd553d4=_0xb9d958['perQuestionStats'][_0x49714b],_0x26cf8a=_0x54811f[_0x49714b],_0x3085cd=_0x5da83a[_0x50529d(0x43c)]||_0x5da83a[_0x50529d(0xc27)]||_0x5da83a[_0x50529d(0x645)];let _0x4c6f73=0x0;const _0x3a6d6d=[],_0x27d3df=[];_0x397fe7['forEach'](_0x40e5d5=>{const _0x3cbbf1=_0x50529d,_0x36f183=_0x40e5d5[_0x3cbbf1(0x672)][_0x40e5d5[_0x3cbbf1(0x672)]['length']-0x1];if(_0x36f183&&_0x36f183[_0x3cbbf1(0x382)]){const _0x125571=_0x36f183[_0x3cbbf1(0x382)][_0x3cbbf1(0x15b)](_0x3b9edc=>_0x3b9edc['originalQuestionText']===_0x3085cd)??_0x36f183[_0x3cbbf1(0x382)][_0x49714b]??null;_0x125571&&(_0x125571[_0x3cbbf1(0x17c)]?(_0x4c6f73++,_0x3a6d6d[_0x3cbbf1(0x65b)](_0x40e5d5['studentName'])):_0x27d3df[_0x3cbbf1(0x65b)](_0x40e5d5[_0x3cbbf1(0xa12)]));}});const _0xd597c4=_0x397fe7[_0x50529d(0x5df)]>0x0?_0x4c6f73/_0x397fe7[_0x50529d(0x5df)]*0x64:0x0,_0x579dc1=_0x344df8[_0x50529d(0x485)](_0x26a79a=>!_0x290fc5['includes'](_0x26a79a)),_0x49db1f=_0xd553d4?_0x50529d(0x40b)+_0xd553d4['p'][_0x50529d(0x7ad)](0x2)+_0x50529d(0x85c)+_0xffb3e4(_0xd553d4['p'])+_0x50529d(0x1be)+_0xd553d4['r'][_0x50529d(0x7ad)](0x2)+_0x50529d(0x85c)+_0x143fb9(_0xd553d4['r'])+_0x50529d(0x765)+_0x219964(_0xd597c4)+_0x50529d(0x5d6):'';let _0x292fd1='';_0x26cf8a&&(_0x292fd1=_0x50529d(0xcf1)+Object[_0x50529d(0x203)](_0x26cf8a)[_0x50529d(0x9d3)](_0xfbfe36=>{const _0x4357b8=_0x50529d,_0x364b26=_0x26cf8a[_0xfbfe36],_0x3d1f84=parseInt(_0xfbfe36)===_0x5da83a[_0x4357b8(0xc68)],_0x593442=!_0x3d1f84&&_0x364b26[_0x4357b8(0xa65)]>_0x364b26[_0x4357b8(0x175)];return'<tr\x20class=\x22'+(_0x3d1f84?'bg-green-100\x20font-bold':'')+_0x4357b8(0xca5)+(_0x3d1f84?'✔\x20':'')+_0x364b26[_0x4357b8(0xab4)]+_0x4357b8(0x86b)+_0x364b26['upper_group_count']+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x364b26['lower_group_count']+'\x20'+(_0x593442?'👍':'')+_0x4357b8(0x86b)+_0x364b26[_0x4357b8(0x1a7)]+'</td></tr>';})[_0x50529d(0x370)]('')+_0x50529d(0x608));let _0x13b2fe='';_0xd553d4&&_0xd553d4[_0x50529d(0x6c8)]&&(_0x13b2fe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0xd553d4[_0x50529d(0x6c8)][_0x50529d(0x5df)]+_0x50529d(0x8e8)+_0xd553d4[_0x50529d(0x6c8)][_0x50529d(0x9d3)](_0x5fa153=>_0x50529d(0xdd7)+(_0x5fa153[_0x50529d(0x17c)]?_0x50529d(0x10b):_0x50529d(0xc6d))+'\x20'+_0x5fa153[_0x50529d(0xb30)]+_0x50529d(0xd2a))['join']('')+_0x50529d(0x31c)+_0xd553d4[_0x50529d(0x620)][_0x50529d(0x5df)]+_0x50529d(0x8e8)+_0xd553d4[_0x50529d(0x620)][_0x50529d(0x9d3)](_0x4d11f0=>_0x50529d(0xdd7)+(_0x4d11f0[_0x50529d(0x17c)]?_0x50529d(0x10b):_0x50529d(0xc6d))+'\x20'+_0x4d11f0[_0x50529d(0xb30)]+_0x50529d(0xd2a))[_0x50529d(0x370)]('')+_0x50529d(0xcb9)),_0x4b5f4f+=_0x50529d(0x16a)+(_0x49714b+0x1)+':\x20'+_0x3085cd+_0x50529d(0xb2b)+_0x49db1f+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x3085cd+_0x50529d(0xd07)+_0x4c6f73+_0x50529d(0xa85)+_0x397fe7[_0x50529d(0x5df)]+_0x50529d(0xa34)+_0xd597c4[_0x50529d(0x7ad)](0x0)+_0x50529d(0x93d)+_0x3a6d6d[_0x50529d(0x5df)]+_0x50529d(0x140)+(_0x3a6d6d['length']>0x0?_0x3a6d6d[_0x50529d(0x370)](',\x20'):_0x50529d(0x309))+_0x50529d(0x42e)+_0x27d3df[_0x50529d(0x5df)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x27d3df['length']>0x0?_0x27d3df[_0x50529d(0x370)](',\x20'):_0x50529d(0x309))+_0x50529d(0x7f0)+_0x579dc1[_0x50529d(0x5df)]+_0x50529d(0x140)+(_0x579dc1[_0x50529d(0x5df)]>0x0?_0x579dc1[_0x50529d(0x370)](',\x20'):_0x50529d(0x309))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x292fd1+_0x50529d(0xa99)+_0x13b2fe+_0x50529d(0x584);}),_0x1f9489[_0x27526c(0x8ec)]=_0x409d3f+_0x4b5f4f;try{window[_0x27526c(0x6a1)]&&MathJax[_0x27526c(0x7c9)]&&MathJax[_0x27526c(0x7c9)]([_0x1f9489]);}catch(_0x3d1123){console[_0x27526c(0x7bc)](_0x27526c(0xd72),_0x3d1123);}}function calculateDistractorAnalysis(_0x9f3d75,_0x7fd4cd){const _0x204e47=_0x1d7cc9,_0x46afcf={};if(_0x7fd4cd[_0x204e47(0x5df)]<0x2)return _0x46afcf;const _0x370754=[..._0x7fd4cd][_0x204e47(0xc1c)]((_0x1f6545,_0x211094)=>{const _0x3eb2b4=_0x204e47,_0x10cd41=_0x211094['latestScore']-_0x1f6545[_0x3eb2b4(0x1ea)];if(_0x10cd41!==0x0)return _0x10cd41;const _0x4bedca=_0x1f6545[_0x3eb2b4(0x672)]?.['length']||0x1,_0x3d296b=_0x211094[_0x3eb2b4(0x672)]?.['length']||0x1,_0x2c992f=_0x4bedca-_0x3d296b;if(_0x2c992f!==0x0)return _0x2c992f;const _0x10b571=new Date(_0x1f6545[_0x3eb2b4(0xcbd)]),_0x3a7977=new Date(_0x211094['latestSubmittedAt']),_0x45e0b8=_0x10b571-_0x3a7977;if(_0x45e0b8!==0x0)return _0x45e0b8;return _0x1f6545[_0x3eb2b4(0xa12)][_0x3eb2b4(0xbbb)](_0x211094['studentName'],'th');}),_0xf6f6c8=_0x370754['length'],_0xbdc969=Math[_0x204e47(0x98d)](0x1,Math[_0x204e47(0x36b)](_0xf6f6c8*0.33)),_0x4d36b7=_0x370754['slice'](0x0,_0xbdc969),_0x4d3ee9=_0x370754[_0x204e47(0xd66)](-_0xbdc969);return _0x9f3d75['questions'][_0x204e47(0xa25)]((_0x418b22,_0x34000c)=>{const _0x111c6e=_0x204e47;if(_0x418b22['questionType']!==_0x111c6e(0xbed)||!_0x418b22['options'])return;const _0x5d3f88=_0x418b22['questionText'],_0xeecbed={};_0x418b22[_0x111c6e(0x50b)][_0x111c6e(0xa25)]((_0x2c2fed,_0xbb232e)=>{_0xeecbed[_0xbb232e]={'text':_0x2c2fed,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x370754['forEach'](_0x3d66ee=>{const _0x423d50=_0x111c6e,_0x5ec666=_0x3d66ee[_0x423d50(0x672)][_0x3d66ee['attempts'][_0x423d50(0x5df)]-0x1],_0x398145=_0x5ec666[_0x423d50(0x382)][_0x423d50(0x15b)](_0x4ed499=>_0x4ed499['originalQuestionText']===_0x5d3f88);if(_0x398145&&_0x398145[_0x423d50(0x29b)]!==null){const _0x12b071=_0x418b22['options'][_0x423d50(0x50a)](_0x32f0bf=>_0x32f0bf===_0x398145[_0x423d50(0x5c3)]);_0x12b071!==-0x1&&_0xeecbed[_0x12b071]&&(_0xeecbed[_0x12b071][_0x423d50(0x1a7)]++,_0x4d36b7[_0x423d50(0x1f6)](_0x3d66ee)&&_0xeecbed[_0x12b071][_0x423d50(0x175)]++,_0x4d3ee9[_0x423d50(0x1f6)](_0x3d66ee)&&_0xeecbed[_0x12b071]['lower_group_count']++);}}),_0x46afcf[_0x34000c]=_0xeecbed;}),_0x46afcf;}function calculateReliabilityKR20(_0x1be969,_0x25249d,_0x24ca8c){const _0x37e222=_0x1d7cc9,_0xd5ac5=_0x1be969[_0x37e222(0xcf9)]['length'];if(_0xd5ac5<0x2||_0x25249d[_0x37e222(0x5df)]<0x2)return null;const _0xeca078=_0x25249d[_0x37e222(0x9d3)](_0xd1ddd4=>_0xd1ddd4['latestScore']),_0x275654=_0xeca078[_0x37e222(0x731)]((_0x2736bd,_0x52df8e)=>_0x2736bd+_0x52df8e,0x0)/_0xeca078[_0x37e222(0x5df)],_0x4b0a18=_0xeca078[_0x37e222(0x9d3)](_0xca304c=>Math[_0x37e222(0xcce)](_0xca304c-_0x275654,0x2))['reduce']((_0x497ec4,_0x5903dc)=>_0x497ec4+_0x5903dc,0x0)/_0xeca078[_0x37e222(0x5df)];if(_0x4b0a18===0x0)return null;let _0x2ea571=0x0;for(let _0x1bc2a8=0x0;_0x1bc2a8<_0xd5ac5;_0x1bc2a8++){const _0x11a18b=_0x24ca8c[_0x1bc2a8]?.['p'];if(_0x11a18b===undefined)continue;const _0x1d7a61=0x1-_0x11a18b;_0x2ea571+=_0x11a18b*_0x1d7a61;}if(_0x2ea571===0x0)return null;const _0x417924=_0xd5ac5/(_0xd5ac5-0x1)*(0x1-_0x2ea571/_0x4b0a18);if(_0x417924>0x1)return null;return _0x417924;}async function handleAnalyzeClass(){const _0x582570=_0x1d7cc9;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0xe92ed6=collection(db,'artifacts/'+appId+_0x582570(0x6b1)+currentQuizData['id']+_0x582570(0x1cf)),_0x16db4d=await getDocs(_0xe92ed6),_0x168891=_0x16db4d[_0x582570(0x79c)][_0x582570(0x9d3)](_0x1ce059=>_0x1ce059['data']());if(_0x168891[_0x582570(0x5df)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x1f1940=document[_0x582570(0x773)](_0x582570(0x2da));_0x1f1940[_0x582570(0x8ec)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x582570(0x773)](_0x582570(0xd90))[_0x582570(0x67a)]=!![];const _0x2fa13a=_0x168891['map']((_0x509fdd,_0xa2bbf)=>{const _0x4c3e31=_0x582570,_0x210e80=_0x509fdd[_0x4c3e31(0x672)][_0x509fdd[_0x4c3e31(0x672)]['length']-0x1];if(!_0x210e80)return'';return _0x4c3e31(0x9e2)+(_0xa2bbf+0x1)+'\x20('+_0x509fdd['studentName']+_0x4c3e31(0x27c)+_0x210e80[_0x4c3e31(0x5f8)]+'/'+_0x509fdd['totalQuestions']+_0x4c3e31(0x385)+JSON[_0x4c3e31(0xbd7)](_0x210e80[_0x4c3e31(0x382)])+_0x4c3e31(0x8ca);})['join']('\x0a---\x0a'),_0x238d9a=_0x582570(0x774)+currentQuizData[_0x582570(0xa37)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON['stringify'](currentQuizData[_0x582570(0xcf9)])+_0x582570(0xdf6)+_0x2fa13a+_0x582570(0x32b),_0x44f4fe={'type':'OBJECT','properties':{'classStrengths':{'type':_0x582570(0x37c),'items':{'type':_0x582570(0x3a5)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x582570(0x3a5)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x582570(0x3a5)}}},'required':[_0x582570(0x3f6),_0x582570(0x452),'teacherSuggestions']};try{const _0x1a72bc=await callAnalysisApi(_0x238d9a,_0x44f4fe);displayClassAnalysis(_0x1a72bc);}catch(_0x449b4e){console[_0x582570(0x7bc)](_0x582570(0x3d6),_0x449b4e),_0x1f1940['innerHTML']=_0x582570(0x48a)+_0x449b4e['message']+_0x582570(0x700);}finally{document[_0x582570(0x773)](_0x582570(0xd90))['disabled']=![];}}function displayClassAnalysis(_0x4f9cdb){const _0xf7146b=_0x1d7cc9,_0x230b69=document[_0xf7146b(0x773)]('strength-weakness-analysis-container');if(!_0x4f9cdb){_0x230b69[_0xf7146b(0x8ec)]=_0xf7146b(0x5ac);return;}_0x230b69[_0xf7146b(0x8ec)]=_0xf7146b(0x7a0)+_0x4f9cdb['classStrengths'][_0xf7146b(0x9d3)](_0x2a773c=>_0xf7146b(0xdd7)+_0x2a773c+_0xf7146b(0xd2a))[_0xf7146b(0x370)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f9cdb[_0xf7146b(0x452)][_0xf7146b(0x9d3)](_0x369c84=>_0xf7146b(0xdd7)+_0x369c84+_0xf7146b(0xd2a))[_0xf7146b(0x370)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f9cdb[_0xf7146b(0x47e)]['map'](_0x9badf2=>'<li>'+_0x9badf2+'</li>')[_0xf7146b(0x370)]('')+_0xf7146b(0x9c6);}function formatAndPrintWorksheet(_0x1a4bc3,_0x59963e){const _0x10353a=_0x1d7cc9,_0x5be776=_0x10353a(0x7db)+_0x1a4bc3[_0x10353a(0xa37)]+_0x10353a(0x852)+_0x1a4bc3[_0x10353a(0xa37)]+_0x10353a(0x2f9)+_0x1a4bc3[_0x10353a(0xcf9)][_0x10353a(0x9d3)]((_0x127c6a,_0x27413a)=>_0x10353a(0x5b3)+(_0x27413a+0x1)+'.\x20'+_0x127c6a[_0x10353a(0xc27)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x127c6a[_0x10353a(0x52c)]?_0x10353a(0x447)+_0x127c6a[_0x10353a(0x52c)]+_0x10353a(0x1b1):'')+_0x10353a(0xc0b))[_0x10353a(0x370)]('')+_0x10353a(0x8e7);_0x59963e[_0x10353a(0xd45)][_0x10353a(0xdbf)](_0x5be776),_0x59963e['document'][_0x10353a(0x2d7)](),_0x59963e['onload']=function(){setTimeout(()=>{const _0x5d8f93=_0x5842;_0x59963e[_0x5d8f93(0x574)]();},0x3e8);};}async function generateWorksheet(){const _0xeae092=_0x1d7cc9,_0x56b63b=document[_0xeae092(0x773)](_0xeae092(0xc8f))[_0xeae092(0xd9d)][_0xeae092(0xafd)]();if(!_0x56b63b){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x208123=document[_0xeae092(0x773)](_0xeae092(0xc50))['checked'],_0x28cd8b=_0x208123?'':_0xeae092(0x331),_0x2efe62=window[_0xeae092(0x2f8)]('','_blank');_0x2efe62[_0xeae092(0xd45)][_0xeae092(0xdbf)](_0xeae092(0x635));const _0x2c804d=parseInt(document['getElementById'](_0xeae092(0x6c6))['value']),_0x6e38d=document[_0xeae092(0x773)]('include-images-checkbox')[_0xeae092(0x17e)],_0x29b21e=_0x6e38d?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x48e6ee=_0xeae092(0x914)+_0x28cd8b+_0xeae092(0x58a)+_0x2c804d+_0xeae092(0x219)+_0x56b63b+_0xeae092(0xb83)+_0x29b21e+_0xeae092(0x880)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x1bc466={'type':_0xeae092(0x181),'properties':{'topic':{'type':_0xeae092(0x3a5)},'questions':{'type':_0xeae092(0x37c),'items':{'type':_0xeae092(0x181),'properties':{'questionText':{'type':_0xeae092(0x3a5)},'imageCode':{'type':_0xeae092(0x3a5)}},'required':['questionText']}}},'required':[_0xeae092(0xa37),_0xeae092(0xcf9)]};document['getElementById'](_0xeae092(0x815))[_0xeae092(0xcd6)]='',document[_0xeae092(0x773)](_0xeae092(0x388))['classList']['remove'](_0xeae092(0x806)),document['getElementById'](_0xeae092(0x647))[_0xeae092(0x985)][_0xeae092(0xa54)](_0xeae092(0x806)),generateWorksheetBtn[_0xeae092(0x67a)]=!![];try{const _0x3fab3f=await callAnalysisApi(_0x48e6ee,_0x1bc466);formatAndPrintWorksheet(_0x3fab3f,_0x2efe62);}catch(_0xb80000){console[_0xeae092(0x7bc)](_0xeae092(0xbae),_0xb80000);if(_0x2efe62)_0x2efe62[_0xeae092(0x2d7)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0xeae092(0x773)]('loader')[_0xeae092(0x985)][_0xeae092(0xd0a)](_0xeae092(0x806)),document['getElementById'](_0xeae092(0x647))[_0xeae092(0x985)]['add'](_0xeae092(0x806)),generateWorksheetBtn[_0xeae092(0x67a)]=![];}}async function callAnalysisApi(_0x24dab2,_0x4e278b){const _0x43e00f=_0x1d7cc9,_0x18d2ae={'contents':[{'role':'user','parts':[{'text':_0x24dab2}]}],'generationConfig':{'responseMimeType':_0x43e00f(0x988),'responseSchema':_0x4e278b}},_0x37872d=_0x43e00f(0x300),_0x559dda='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x37872d,_0x3f3971=await fetch(_0x559dda,{'method':_0x43e00f(0x621),'headers':{'Content-Type':_0x43e00f(0x988)},'body':JSON[_0x43e00f(0xbd7)](_0x18d2ae)});if(!_0x3f3971['ok'])throw new Error(_0x43e00f(0x66d)+_0x3f3971[_0x43e00f(0xfc)]);const _0x301d06=await _0x3f3971[_0x43e00f(0x487)]();if(_0x301d06[_0x43e00f(0x9e3)]?.[0x0]?.[_0x43e00f(0x7bf)]?.[_0x43e00f(0x1a9)]?.[0x0])return JSON[_0x43e00f(0xbf7)](_0x301d06[_0x43e00f(0x9e3)][0x0][_0x43e00f(0x7bf)][_0x43e00f(0x1a9)][0x0]['text']);else{let _0x53f83e=_0x43e00f(0x7f4);if(_0x301d06[_0x43e00f(0x797)]?.['blockReason'])_0x53f83e=_0x43e00f(0xbe0)+_0x301d06[_0x43e00f(0x797)][_0x43e00f(0x9bd)]+'.';else _0x301d06[_0x43e00f(0x9e3)]?.[0x0]?.['finishReason']&&_0x301d06[_0x43e00f(0x9e3)][0x0][_0x43e00f(0x535)]!==_0x43e00f(0xe5d)&&(_0x53f83e=_0x43e00f(0xee)+_0x301d06[_0x43e00f(0x9e3)][0x0][_0x43e00f(0x535)]+'.');console[_0x43e00f(0x7bc)](_0x53f83e,JSON['stringify'](_0x301d06));throw new Error(_0x53f83e);}}async function handleStartSyncMode(_0xe02a75,_0x3f878f=![],_0x1a2226='classic'){const _0x527459=_0x1d7cc9,_0x15d3ab=allQuizzes[_0x527459(0x15b)](_0x540e0f=>_0x540e0f['id']===_0xe02a75)||allQuizzesGlobal['find'](_0x2d356c=>_0x2d356c['id']===_0xe02a75);if(!_0x15d3ab){showMessage(_0x527459(0x84a));return;}currentQuizData=getShuffledQuiz(_0x15d3ab);const _0x535dec=Math[_0x527459(0x36b)](0x3e8+Math['random']()*0x2328)[_0x527459(0x51a)](),_0x3fff04=doc(db,_0x527459(0x6de)+appId+_0x527459(0x45c),_0x15d3ab[_0x527459(0xa1f)]),_0x521349=await getDoc(_0x3fff04);if(!_0x521349[_0x527459(0xc63)]()){showMessage(_0x527459(0x7da));return;}const _0x2ad6cf=_0x521349[_0x527459(0xafb)]()[_0x527459(0xb2e)]||[],_0x5ad204={};if(_0x1a2226===_0x527459(0x2b8)||_0x1a2226===_0x527459(0x263)){const _0x3de4e6=[...ANONYMOUS_NAMES][_0x527459(0xc1c)](()=>0.5-Math[_0x527459(0xa75)]());_0x2ad6cf[_0x527459(0xa25)]((_0x4ca45d,_0x23da50)=>{const _0x1306f2=_0x527459;_0x5ad204[_0x4ca45d]=_0x3de4e6[_0x23da50]||_0x1306f2(0xb97)+(_0x23da50+0x1);});}const _0xed9c64=document[_0x527459(0x773)](_0x527459(0xc5b))['checked'],_0x1a511f=parseInt(document['getElementById'](_0x527459(0xb9f))[_0x527459(0xd9d)],0xa);let _0x11b29c={'timerMode':_0x527459(0x264),'timerDuration':0x0};_0xed9c64&&(_0x11b29c[_0x527459(0xe0e)]=_0x527459(0x9a8),_0x11b29c['timerDuration']=_0x1a511f||0xf0);const _0x535c52=document[_0x527459(0x773)](_0x527459(0x14e))[_0x527459(0x17e)],_0x5a3352=document['getElementById'](_0x527459(0x32f))['checked'];try{const _0x7991ed=await addDoc(collection(db,_0x527459(0x6de)+appId+_0x527459(0x782)),{'quizId':_0x15d3ab['id'],'pin':_0x535dec,'status':_0x527459(0xe8),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3f878f,'players':{},'gameVariant':_0x1a2226,'reviewQuestionIndex':0x0,'playerNicknames':_0x5ad204,'isAnonymousRevealed':![],..._0x11b29c,'showAnswerInAnonymous':_0x535c52,'isBlackMarketEnabled':_0x5a3352});currentLiveGameId=_0x7991ed['id'],showView('live-game'),renderSyncLobbyView(_0x535dec,_0x15d3ab[_0x527459(0xa37)]),listenForSyncGameUpdates();const _0x492b27={'gameId':currentLiveGameId,'mode':_0x527459(0x479),'role':'admin'};sessionStorage[_0x527459(0xd41)](_0x527459(0xcc6),JSON['stringify'](_0x492b27));}catch(_0x6477f4){console[_0x527459(0x7bc)]('Error\x20starting\x20sync\x20game:',_0x6477f4),showMessage(_0x527459(0xd60));}}function calculateFinalPodiumScores(_0x2db930){const _0x3f794a=_0x1d7cc9;if(!_0x2db930||!_0x2db930['shuffledQuiz']||!_0x2db930[_0x3f794a(0x10d)])return _0x2db930[_0x3f794a(0x10d)]||{};const _0x27181e=_0x2db930[_0x3f794a(0x142)][_0x3f794a(0xcf9)][_0x3f794a(0x5df)],_0x33827b=JSON['parse'](JSON[_0x3f794a(0xbd7)](_0x2db930[_0x3f794a(0x10d)]));return Object[_0x3f794a(0x230)](_0x33827b)[_0x3f794a(0xa25)](_0x891506=>{const _0x45003b=_0x3f794a,_0x488736=_0x891506[_0x45003b(0x5f8)]||0x0,_0x349272=_0x891506[_0x45003b(0x7f7)]||0x0;_0x27181e>0x0&&_0x488736===_0x27181e?_0x891506[_0x45003b(0x683)]=!![]:_0x891506[_0x45003b(0x683)]=![],_0x891506[_0x45003b(0x930)]=_0x488736,_0x891506['totalPoints']=_0x349272;}),_0x33827b;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x1d30b9=_0x1d7cc9;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x100053=doc(db,_0x1d30b9(0x6de)+appId+_0x1d30b9(0x782),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x100053,_0xc842e2=>{const _0x5df123=_0x1d30b9;if(!_0xc842e2[_0x5df123(0xc63)]()){sessionStorage[_0x5df123(0xb27)](_0x5df123(0xcc6)),showMessage(_0x5df123(0x2a5));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x5df123(0x90c)):showView(_0x5df123(0xcd1));return;}cachedGameData=_0xc842e2[_0x5df123(0xafb)](),cachedGameData[_0x5df123(0x142)]&&(currentQuizData=cachedGameData[_0x5df123(0x142)]),syncDataAndRender();});const _0x2121b7=collection(db,_0x1d30b9(0x6de)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x1d30b9(0x745));if(currentMode===_0x1d30b9(0x204))unsubscribePlayersCollectionListener=onSnapshot(_0x2121b7,_0x3639f3=>{const _0xd0b236=_0x1d30b9;_0x3639f3[_0xd0b236(0x34e)]()[_0xd0b236(0xa25)](_0x5704a1=>{const _0x317aa9=_0xd0b236;if(_0x5704a1[_0x317aa9(0x900)]===_0x317aa9(0x48d)||_0x5704a1['type']===_0x317aa9(0x49e))cachedPlayerData[_0x5704a1[_0x317aa9(0xa52)]['id']]=_0x5704a1[_0x317aa9(0xa52)]['data']();else _0x5704a1[_0x317aa9(0x900)]==='removed'&&delete cachedPlayerData[_0x5704a1[_0x317aa9(0xa52)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x1d30b9(0x5df)]>0x0){const _0x126018=query(_0x2121b7,where(_0x1d30b9(0xb30),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x126018,_0x2dd160=>{const _0x382580=_0x1d30b9;_0x2dd160['docChanges']()[_0x382580(0xa25)](_0x201f98=>{const _0x3af7a9=_0x382580;(_0x201f98[_0x3af7a9(0x900)]===_0x3af7a9(0x48d)||_0x201f98[_0x3af7a9(0x900)]===_0x3af7a9(0x49e))&&(cachedPlayerData[_0x201f98['doc']['id']]=_0x201f98[_0x3af7a9(0xa52)]['data']());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x10d8a2=_0x1d7cc9;if(!cachedGameData)return;const _0x25663f={},_0x36e9ca=cachedGameData[_0x10d8a2(0x393)];Object[_0x10d8a2(0x203)](cachedPlayerData)[_0x10d8a2(0xa25)](_0x520e61=>{const _0x12377d=_0x10d8a2,_0x5de702=cachedPlayerData[_0x520e61],_0x461e65=_0x5de702[_0x12377d(0x382)]&&_0x5de702[_0x12377d(0x382)][_0x12377d(0x95f)](_0x107b05=>_0x107b05[_0x12377d(0x550)]===_0x36e9ca);_0x25663f[_0x520e61]={..._0x5de702,'answered':_0x461e65};});const _0x2d72c7={...cachedGameData,'players':_0x25663f};currentMode==='admin'?updateAdminSyncView(_0x2d72c7):updateStudentSyncView(_0x2d72c7);}function renderSyncLobbyView(_0x1bb786,_0x5d2ee1){const _0x284160=_0x1d7cc9;liveGameView[_0x284160(0x8ec)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x5d2ee1+_0x284160(0x640)+_0x1bb786+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x9382b6=document[_0x284160(0x773)](_0x284160(0x75e)),_0x50d5d5=document[_0x284160(0x773)](_0x284160(0x27f));_0x9382b6[_0x284160(0x6f7)](_0x284160(0x813),()=>{const _0x18dea9=_0x284160;_0x50d5d5[_0x18dea9(0x90e)][_0x18dea9(0x45d)]=_0x9382b6[_0x18dea9(0x17e)]?'block':_0x18dea9(0x264);}),document[_0x284160(0x773)]('start-sync-game-btn')[_0x284160(0x6f7)](_0x284160(0x2af),async()=>{const _0x5af9d9=_0x284160,_0x5ac71d=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x23e1dd=document[_0x5af9d9(0x773)](_0x5af9d9(0x75e))[_0x5af9d9(0x17e)];await updateDoc(_0x5ac71d,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x23e1dd});});}function updateAdminSyncView(_0x23d0cb){const _0x2f52a7=_0x1d7cc9;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x23d0cb[_0x2f52a7(0xfc)]){case _0x2f52a7(0xe8):renderSyncLobbyView(_0x23d0cb[_0x2f52a7(0xd22)],_0x23d0cb[_0x2f52a7(0x142)][_0x2f52a7(0xa37)]);const _0x8e7666=Object['entries'](_0x23d0cb[_0x2f52a7(0x10d)]||{})[_0x2f52a7(0x485)](([_0x360722,_0x2e607f])=>_0x2e607f['status']!==_0x2f52a7(0x36c));document[_0x2f52a7(0x773)](_0x2f52a7(0xc4e))[_0x2f52a7(0xcd6)]=_0x8e7666[_0x2f52a7(0x5df)],document[_0x2f52a7(0x773)](_0x2f52a7(0x3e5))[_0x2f52a7(0x8ec)]=_0x8e7666[_0x2f52a7(0x9d3)](([_0x180f64,_0x388ef4])=>_0x2f52a7(0xaa8)+_0x180f64+_0x2f52a7(0xcfe)+_0x180f64+_0x2f52a7(0xc72))['join']('')||_0x2f52a7(0xa27),document[_0x2f52a7(0x773)]('start-sync-game-btn')[_0x2f52a7(0x67a)]=_0x8e7666['length']===0x0;break;case _0x2f52a7(0xa9f):const _0x2a47e8=Object[_0x2f52a7(0x230)](_0x23d0cb[_0x2f52a7(0x10d)]||{})[_0x2f52a7(0x485)](_0x28f34a=>_0x28f34a['status']!=='inactive'),_0x423bd1=_0x2a47e8['filter'](_0x288130=>_0x288130[_0x2f52a7(0x11f)])['length'],_0x3ffff9=_0x423bd1===_0x2a47e8[_0x2f52a7(0x5df)]&&_0x2a47e8[_0x2f52a7(0x5df)]>0x0;if(_0x3ffff9&&_0x23d0cb[_0x2f52a7(0xfc)]==='question'){const _0x43f693=doc(db,_0x2f52a7(0x6de)+appId+_0x2f52a7(0x782),currentLiveGameId);updateDoc(_0x43f693,{'status':_0x2f52a7(0x788)});return;}if(document['getElementById']('sync-player-management')===null)renderAdminSyncQuestionView(_0x23d0cb);else{const _0x266c2b=document[_0x2f52a7(0x773)]('answer-counter');_0x266c2b&&(_0x266c2b['textContent']=_0x423bd1+'/'+_0x2a47e8[_0x2f52a7(0x5df)]);const _0x539c2a=document[_0x2f52a7(0x773)]('sync-player-list');_0x539c2a&&(_0x539c2a[_0x2f52a7(0x8ec)]=_0x2a47e8[_0x2f52a7(0x9d3)](_0x20b110=>{const _0x275dce=_0x2f52a7,_0x99d40d=_0x20b110[_0x275dce(0x11f)]?'bg-green-500':_0x275dce(0x57a),_0x1330ee=_0x20b110['answered']?_0x275dce(0xb01):_0x275dce(0x50e);return _0x275dce(0xbe8)+_0x99d40d+'\x22>'+_0x1330ee+_0x275dce(0x460)+_0x20b110[_0x275dce(0xb30)]+_0x275dce(0x5b6)+_0x20b110['name']+_0x275dce(0x285);})['join'](''));}const _0x1c60f7=_0x23d0cb[_0x2f52a7(0xe0e)]===_0x2f52a7(0x9a8)&&_0x23d0cb[_0x2f52a7(0xd5d)];if(_0x1c60f7){const _0x4255cf=_0x23d0cb['questionDisplayedAt'][_0x2f52a7(0xb8c)]()[_0x2f52a7(0xa94)](),_0x37b721=_0x23d0cb['timerDuration']*0x3e8,_0x1b12ad=_0x4255cf+_0x37b721,_0x5a143b=document[_0x2f52a7(0x773)](_0x2f52a7(0x3e7)),_0x303e02=document[_0x2f52a7(0x773)](_0x2f52a7(0x2fc));syncQuestionTimerInterval=setInterval(()=>{const _0xac9379=_0x2f52a7,_0x444f9e=Date[_0xac9379(0xdbe)](),_0x4cb73d=_0x2a47e8[_0xac9379(0x5df)]>0x0&&_0x2a47e8['every'](_0x1ec4e3=>{const _0x1f2e4f=_0xac9379;if(_0x1ec4e3[_0x1f2e4f(0x11f)])return!![];const _0x161ae9=_0x1ec4e3[_0x1f2e4f(0x97e)]||0x0;return _0x444f9e>=_0x4255cf+_0x37b721+_0x161ae9;});if(_0x4cb73d){clearInterval(syncQuestionTimerInterval);const _0x1ad419=doc(db,_0xac9379(0x6de)+appId+_0xac9379(0x782),currentLiveGameId);updateDoc(_0x1ad419,{'status':_0xac9379(0x788)});return;}const _0x52b755=_0x1b12ad-_0x444f9e;if(_0x52b755<=0x0){if(_0x5a143b)_0x5a143b['style'][_0xac9379(0x2f0)]='0%';if(_0x303e02)_0x303e02['textContent']=_0xac9379(0x2ab);}else{if(_0x5a143b&&_0x303e02){const _0x5ecc3b=_0x52b755/_0x37b721*0x64;_0x5a143b[_0xac9379(0x90e)][_0xac9379(0x2f0)]=_0x5ecc3b+'%',_0x303e02[_0xac9379(0xcd6)]=Math[_0xac9379(0xb3c)](_0x52b755/0x3e8);}}},0x1f4);}break;case _0x2f52a7(0x788):const _0x13930c=_0x23d0cb[_0x2f52a7(0x393)],_0x50a9a8=_0x23d0cb[_0x2f52a7(0x142)][_0x2f52a7(0xcf9)][_0x13930c];renderSyncSummaryView(_0x23d0cb,_0x50a9a8,!![]);break;case'results':const _0x54901a=_0x23d0cb[_0x2f52a7(0x6fa)]||_0x2f52a7(0x486);_0x54901a===_0x2f52a7(0xe65)||_0x54901a===_0x2f52a7(0x263)?renderAdminSyncDashboard(_0x23d0cb,!![],_0x23d0cb['reviewQuestionIndex']):(_0x23d0cb[_0x2f52a7(0xfc)]===_0x2f52a7(0x2ae)&&!_0x23d0cb[_0x2f52a7(0x396)]&&((async()=>{const _0x86e63c=_0x2f52a7;try{const _0x563a9a=doc(db,'artifacts/'+appId+_0x86e63c(0x782),currentLiveGameId);await updateDoc(_0x563a9a,{'scoresCalculated':!![]});const _0x26e2a4=cachedPlayerData||{},_0x1b14f0=_0x23d0cb[_0x86e63c(0x142)]['questions'][_0x86e63c(0x5df)],_0x1aaf14={};Object[_0x86e63c(0x230)](_0x26e2a4)[_0x86e63c(0xa25)](_0x3f2c1a=>{const _0x5eb4ff=_0x86e63c;if(_0x3f2c1a[_0x5eb4ff(0xfc)]!==_0x5eb4ff(0x36c)){const _0x1cec0d=_0x3f2c1a[_0x5eb4ff(0xb30)],_0x4cfea7=_0x3f2c1a['score']||0x0,_0x4a7ff6=_0x3f2c1a['totalPoints']||0x0;let _0x3026d1=_0x4a7ff6;_0x1b14f0>0x0&&_0x4cfea7===_0x1b14f0&&(_0x3026d1+=0x1),_0x1aaf14['players.'+_0x1cec0d+'.score']=_0x4cfea7,_0x1aaf14[_0x5eb4ff(0xd7a)+_0x1cec0d+'.totalPoints']=_0x3026d1,_0x1aaf14[_0x5eb4ff(0xd7a)+_0x1cec0d+'.pointsLastRound']=_0x3026d1;}}),await updateDoc(_0x563a9a,{..._0x1aaf14});}catch(_0x20b348){console['error'](_0x86e63c(0xded),_0x20b348);}})()),renderAdminSyncDashboard(_0x23d0cb,!![],_0x23d0cb['currentQuestionIndex']));break;case _0x2f52a7(0x66f):const _0x1fb153=Object[_0x2f52a7(0x203)](_0x23d0cb[_0x2f52a7(0x10d)]||{})['length']>0x0,_0x5b3ab0=_0x23d0cb[_0x2f52a7(0x1bd)]===!![],_0x4251ef=_0x23d0cb[_0x2f52a7(0xa02)]===!![];_0x4251ef&&!_0x5b3ab0&&_0x1fb153&&saveGameResultsAsSubmissions(_0x23d0cb);sessionStorage['removeItem'](_0x2f52a7(0xcc6));const _0xda8e67=calculateFinalPodiumScores(_0x23d0cb);showPodiumView(_0xda8e67,_0x2f52a7(0x479),_0x23d0cb);break;}}function renderAdminSyncQuestionView(_0x18fdab){const _0x463a28=_0x1d7cc9,_0x36668a=_0x18fdab[_0x463a28(0x393)],_0x2bc887=_0x18fdab[_0x463a28(0x142)][_0x463a28(0xcf9)][_0x36668a],_0x1da451=_0x18fdab[_0x463a28(0x142)][_0x463a28(0xcf9)][_0x463a28(0x5df)],_0x6d8c6d=Object['values'](_0x18fdab['players']||{})['filter'](_0x1866a1=>_0x1866a1['status']!==_0x463a28(0x36c)),_0x361768=_0x6d8c6d[_0x463a28(0x485)](_0x16cede=>_0x16cede[_0x463a28(0x11f)])[_0x463a28(0x5df)],_0x589a13=_0x361768===_0x6d8c6d[_0x463a28(0x5df)]&&_0x6d8c6d[_0x463a28(0x5df)]>0x0,_0x530052=_0x2bc887[_0x463a28(0xa8d)]||_0x18fdab['shuffledQuiz'][_0x463a28(0xd83)],_0x2850b7=(_0x530052===_0x463a28(0x33a)||_0x530052==='fill_in_no_choices')&&_0x2bc887['options']&&_0x2bc887[_0x463a28(0x50b)][_0x463a28(0x5df)]>0x0;let _0x22b219='';_0x2850b7?_0x22b219=_0x463a28(0x657):_0x22b219=(_0x2bc887[_0x463a28(0x50b)]||[])[_0x463a28(0x9d3)](_0x303d68=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x303d68+'</div>')['join']('');let _0x4814b0='';_0x18fdab[_0x463a28(0xe0e)]===_0x463a28(0x9a8)&&(_0x4814b0=_0x463a28(0x6cc)+_0x18fdab['timerDuration']+'</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');liveGameView[_0x463a28(0x8ec)]=_0x463a28(0xa18)+(_0x36668a+0x1)+'\x20/\x20'+_0x1da451+_0x463a28(0x365)+_0x18fdab[_0x463a28(0xd22)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x361768+'/'+_0x6d8c6d['length']+_0x463a28(0xa7c)+_0x4814b0+_0x463a28(0x6f6)+(_0x2bc887['questionText']||_0x2bc887[_0x463a28(0x43c)])+_0x463a28(0x430)+_0x22b219+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x589a13?_0x463a28(0x67a):'')+_0x463a28(0xc7);if(window[_0x463a28(0x6a1)])MathJax[_0x463a28(0x7c9)]();const _0x4ebcd8=doc(db,'artifacts/'+appId+_0x463a28(0x782),currentLiveGameId);document[_0x463a28(0x773)](_0x463a28(0x7b5))[_0x463a28(0x6f7)](_0x463a28(0x2af),async()=>{const _0x356754=_0x463a28;await updateDoc(_0x4ebcd8,{'status':_0x356754(0x788)});}),document[_0x463a28(0x773)](_0x463a28(0x6af))[_0x463a28(0xb4f)]=()=>{const _0x284bcb=_0x463a28;openScratchpad(_0x2bc887,_0x2bc887[_0x284bcb(0x50b)]||[]);},document[_0x463a28(0x773)](_0x463a28(0xc1f))['addEventListener']('click',()=>{const _0x4cb396=_0x463a28;document[_0x4cb396(0x773)](_0x4cb396(0xe06))['classList']['toggle'](_0x4cb396(0x806));});const _0x14dbaf=document[_0x463a28(0x773)](_0x463a28(0x69a));_0x14dbaf&&(_0x14dbaf[_0x463a28(0xb4f)]=()=>{const _0x47e1ff=_0x463a28;showConfirmation(_0x47e1ff(0x5c0),async()=>{const _0x2d1ed4=_0x47e1ff;await updateDoc(_0x4ebcd8,{'status':_0x2d1ed4(0x66f)});});});}function renderSyncLeaderboardView(_0x5bbca5,_0x386e73){const _0x472a5e=_0x1d7cc9,_0x415d19=Object[_0x472a5e(0x230)](_0x5bbca5[_0x472a5e(0x10d)]||{});_0x415d19['sort']((_0x6ba8f7,_0x3cb34b)=>_0x3cb34b[_0x472a5e(0x5f8)]-_0x6ba8f7[_0x472a5e(0x5f8)]);const _0x5ba52f=_0x415d19[_0x472a5e(0xd66)](0x0,0x5);let _0x29d1b1='';if(_0x386e73){const _0x170508=_0x5bbca5[_0x472a5e(0x393)]>=_0x5bbca5[_0x472a5e(0x142)][_0x472a5e(0xcf9)][_0x472a5e(0x5df)]-0x1;_0x29d1b1=_0x472a5e(0xa9c)+(_0x170508?_0x472a5e(0x724):_0x472a5e(0x326))+_0x472a5e(0x5e2);}else _0x29d1b1=_0x472a5e(0xca9);liveGameView[_0x472a5e(0x8ec)]=_0x472a5e(0x391)+_0x5ba52f[_0x472a5e(0x9d3)]((_0x21eb95,_0x247e1e)=>_0x472a5e(0x35a)+(_0x247e1e+0x1)+'.\x20'+_0x21eb95[_0x472a5e(0xb30)]+'</span><span\x20class=\x22font-bold\x22>'+_0x21eb95[_0x472a5e(0x5f8)]+'</span></div>')[_0x472a5e(0x370)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29d1b1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x386e73&&document[_0x472a5e(0x773)](_0x472a5e(0xc9a))['addEventListener']('click',async()=>{const _0x589e07=_0x472a5e,_0x27faac=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x367093=_0x5bbca5['currentQuestionIndex']+0x1;if(_0x367093<_0x5bbca5[_0x589e07(0x142)][_0x589e07(0xcf9)][_0x589e07(0x5df)]){const _0x1795fe={};Object[_0x589e07(0x203)](_0x5bbca5[_0x589e07(0x10d)])['forEach'](_0x3731cb=>{const _0xb11146=_0x589e07;_0x1795fe[_0xb11146(0xd7a)+_0x3731cb+_0xb11146(0x863)]=![];}),await updateDoc(_0x27faac,{'status':_0x589e07(0xa9f),'currentQuestionIndex':_0x367093,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x27faac,{'status':_0x589e07(0x66f)});});}async function handleJoinSyncGame(){const _0x59bee5=_0x1d7cc9,_0x18e076=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x18e076||_0x18e076[_0x59bee5(0xafd)]()[_0x59bee5(0x5df)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x54ed30=collection(db,_0x59bee5(0x6de)+appId+_0x59bee5(0x782)),_0x2ddde1=query(_0x54ed30,where(_0x59bee5(0xd22),'==',_0x18e076[_0x59bee5(0xafd)]()),where(_0x59bee5(0xfc),'==',_0x59bee5(0xe8))),_0x289985=await getDocs(_0x2ddde1);if(_0x289985[_0x59bee5(0x758)]){showMessage(_0x59bee5(0x594));return;}const _0x4c6e09=_0x289985[_0x59bee5(0x79c)][0x0];currentLiveGameId=_0x4c6e09['id'];const _0x2c0f80=_0x4c6e09[_0x59bee5(0xafb)](),_0xd8f9c3=doc(db,_0x59bee5(0x6de)+appId+_0x59bee5(0xde0),_0x2c0f80[_0x59bee5(0x514)]),_0x206b7c=await getDoc(_0xd8f9c3);if(!_0x206b7c[_0x59bee5(0xc63)]())throw new Error(_0x59bee5(0x38b));const _0x55009e=_0x206b7c[_0x59bee5(0xafb)](),_0x44d939=doc(db,_0x59bee5(0x6de)+appId+_0x59bee5(0x45c),_0x55009e[_0x59bee5(0xa1f)]),_0xa87772=await getDoc(_0x44d939);if(!_0xa87772[_0x59bee5(0xc63)]())throw new Error(_0x59bee5(0x3c0));currentQuizData=_0x2c0f80[_0x59bee5(0x142)];const _0x336b31=_0xa87772['data']();showView(_0x59bee5(0x160)),showTeamPlayerSelection(_0x336b31[_0x59bee5(0xb2e)],_0x55009e[_0x59bee5(0xa37)]);const _0x50b8e0=document[_0x59bee5(0x773)](_0x59bee5(0xde1));_0x50b8e0[_0x59bee5(0xb4f)]=confirmAndJoinSyncGame;}catch(_0x148ef7){console[_0x59bee5(0x7bc)](_0x59bee5(0x268),_0x148ef7),showMessage(_0x59bee5(0x8ae)+_0x148ef7[_0x59bee5(0xcee)]);}}function updateStudentSyncView(_0x566451){const _0x2d1032=_0x1d7cc9,_0x48b0dd=localTeamPlayers[0x0],_0x7b2d26=_0x566451[_0x2d1032(0x10d)][_0x48b0dd]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x566451[_0x2d1032(0xfc)]){case _0x2d1032(0xe8):showView(_0x2d1032(0xc90)),liveGameView['innerHTML']=_0x2d1032(0x472);break;case _0x2d1032(0xa9f):if(_0x566451[_0x2d1032(0x393)]!==lastSeenQuestionIndex){console[_0x2d1032(0xe59)](_0x2d1032(0xc4b)),sessionStorage[_0x2d1032(0xb27)](_0x2d1032(0xcfb)),sessionStorage[_0x2d1032(0xb27)]('onSecondChance'),sessionStorage[_0x2d1032(0xb27)](_0x2d1032(0x474));const _0x50fdd9='freeMarketEntryUsed_q'+lastSeenQuestionIndex,_0x2e368d=_0x2d1032(0x51c)+lastSeenQuestionIndex,_0x4f6ab6='hiddenOptions_q'+lastSeenQuestionIndex;Object['keys'](sessionStorage)[_0x2d1032(0xa25)](_0x3ce267=>{const _0x26d7b2=_0x2d1032;(_0x3ce267[_0x26d7b2(0x1aa)](_0x50fdd9)||_0x3ce267[_0x26d7b2(0x1aa)](_0x2e368d)||_0x3ce267[_0x26d7b2(0x1aa)](_0x4f6ab6))&&sessionStorage[_0x26d7b2(0xb27)](_0x3ce267);});if(_0x7b2d26[_0x2d1032(0x4e8)]||_0x7b2d26[_0x2d1032(0x35b)]||(_0x7b2d26[_0x2d1032(0x97e)]||0x0)>0x0){const _0x16139d=doc(db,_0x2d1032(0x6de)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x2d1032(0x745),_0x48b0dd);updateDoc(_0x16139d,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})['catch'](_0x95868b=>console[_0x2d1032(0x7bc)](_0x2d1032(0xbf4),_0x95868b));}lastSeenQuestionIndex=_0x566451[_0x2d1032(0x393)];}localPlayerTurnIndex=0x0;const _0x2067c9=localTeamPlayers['every'](_0x31ee27=>_0x566451[_0x2d1032(0x10d)][_0x31ee27]?.[_0x2d1032(0x11f)]===!![]);if(_0x2067c9)liveGameView[_0x2d1032(0x8ec)]=_0x2d1032(0x233);else{renderStudentSyncQuestionView(_0x566451);if(_0x566451[_0x2d1032(0xe0e)]===_0x2d1032(0x9a8)){if(!_0x566451[_0x2d1032(0xd5d)]){console['log'](_0x2d1032(0x18b));return;}const _0x5d3462=_0x566451['questionDisplayedAt']['toDate']()[_0x2d1032(0xa94)](),_0x1e14bf=_0x566451[_0x2d1032(0x848)]*0x3e8,_0x52343a=localTeamPlayers[_0x2d1032(0x9d3)](_0x2e870e=>_0x566451['players'][_0x2e870e]?.[_0x2d1032(0x97e)]||0x0),_0x1703ad=Math[_0x2d1032(0x98d)](..._0x52343a,0x0),_0x196269=_0x5d3462+_0x1e14bf+_0x1703ad;syncQuestionTimerInterval=setInterval(()=>{const _0x1fd5d1=_0x2d1032,_0xd058ce=_0x196269-Date['now'](),_0xfb91ae=document[_0x1fd5d1(0x773)](_0x1fd5d1(0x3e7)),_0x444882=document[_0x1fd5d1(0x773)](_0x1fd5d1(0x2fc));if(_0xd058ce<=0x0){clearInterval(syncQuestionTimerInterval);if(_0xfb91ae)_0xfb91ae[_0x1fd5d1(0x90e)][_0x1fd5d1(0x2f0)]='0%';if(_0x444882)_0x444882[_0x1fd5d1(0xcd6)]='0';liveGameView[_0x1fd5d1(0x8ec)]=_0x1fd5d1(0xc54);}else{if(_0xfb91ae&&_0x444882){const _0x40ca27=_0x1e14bf+_0x1703ad,_0x21468f=_0x40ca27>0x0?_0xd058ce/_0x40ca27*0x64:0x0;_0xfb91ae[_0x1fd5d1(0x90e)][_0x1fd5d1(0x2f0)]=_0x21468f+'%',_0x444882[_0x1fd5d1(0xcd6)]=Math[_0x1fd5d1(0xb3c)](_0xd058ce/0x3e8);}}},0x1f4);}}break;case _0x2d1032(0x788):liveGameView[_0x2d1032(0x8ec)]=_0x2d1032(0x770);break;case _0x2d1032(0x2ae):localPlayerTurnIndex=0x0;const _0x57d46d=_0x566451['gameVariant']||_0x2d1032(0x486);if(_0x57d46d===_0x2d1032(0x2b8)||_0x57d46d===_0x2d1032(0x263))renderStudentAnonymousResultsView(_0x566451,_0x566451[_0x2d1032(0x393)]);else _0x57d46d==='competition'?renderStudentCompetitionResultsView(_0x566451,_0x566451[_0x2d1032(0x393)]):renderStudentSyncResultsView(_0x566451);break;case _0x2d1032(0x66f):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x2d1032(0x755)](_0x2d1032(0xcb1),handleFullscreenChange),document[_0x2d1032(0x755)](_0x2d1032(0x343),handleVisibilityChange),sessionStorage[_0x2d1032(0xb27)](_0x2d1032(0xcc6));const _0x53677f=_0x566451[_0x2d1032(0x6fa)]||_0x2d1032(0x486),_0x347125=_0x566451['shuffledQuiz'][_0x2d1032(0xcf9)][_0x2d1032(0x5df)]-0x1;if(_0x53677f==='anonymous'||_0x53677f===_0x2d1032(0x263))renderStudentAnonymousResultsView(_0x566451,_0x347125);else _0x53677f==='competition'?renderStudentCompetitionResultsView(_0x566451,_0x347125):renderStudentSyncResultsView(_0x566451);const _0x86dd4b=liveGameView[_0x2d1032(0x86f)](_0x2d1032(0x7a4));_0x86dd4b&&(_0x86dd4b[_0x2d1032(0x90e)]['display']=_0x2d1032(0x264));const _0x55103e=liveGameView[_0x2d1032(0x86f)](_0x2d1032(0xb93));_0x55103e&&(_0x55103e[_0x2d1032(0x90e)][_0x2d1032(0x45d)]=_0x2d1032(0x264));const _0x4e0572=_0x2d1032(0xa62);liveGameView[_0x2d1032(0xd67)]?liveGameView['firstElementChild'][_0x2d1032(0x5c1)]('beforeend',_0x4e0572):liveGameView[_0x2d1032(0x5c1)](_0x2d1032(0xa5d),_0x4e0572);break;}}function renderStudentSyncResultsView(_0x2d7baf){const _0x30b914=_0x1d7cc9;let _0x2f888a=[];_0x2d7baf['publicLeaderboard']&&Array[_0x30b914(0x29c)](_0x2d7baf[_0x30b914(0x59e)])&&_0x2d7baf[_0x30b914(0x59e)][_0x30b914(0x5df)]>0x0?_0x2f888a=_0x2d7baf[_0x30b914(0x59e)]:_0x2f888a=Object[_0x30b914(0x230)](_0x2d7baf[_0x30b914(0x10d)]||{});const _0x3f0b67=_0x2d7baf['gameVariant']||'classic',_0x42be20=_0x3f0b67===_0x30b914(0xe65)||_0x3f0b67===_0x30b914(0x263),_0x207331=_0x2d7baf[_0x30b914(0x142)]['questions'],_0x5183a9=_0x42be20&&_0x2d7baf[_0x30b914(0x77b)]!==undefined?_0x2d7baf['reviewQuestionIndex']:_0x2d7baf[_0x30b914(0x393)],_0x21a8bc=_0x42be20?_0x2d7baf['reviewQuestionIndex']:_0x2d7baf[_0x30b914(0x393)],_0x993051=_0x2f888a[_0x30b914(0x9d3)](_0x55fb1f=>{const _0x44fdd2=_0x30b914,_0x22988d=(_0x55fb1f[_0x44fdd2(0x382)]||[])[_0x44fdd2(0x485)](_0x22f8a8=>_0x22f8a8[_0x44fdd2(0x550)]<=_0x5183a9);let _0x207ac5=0x0,_0x37140d=0x0;_0x42be20?(_0x207ac5=_0x22988d[_0x44fdd2(0x485)](_0x5312fa=>_0x5312fa['isCorrect'])[_0x44fdd2(0x5df)],_0x37140d=_0x22988d[_0x44fdd2(0x731)]((_0xe4d90d,_0x352d76)=>_0xe4d90d+(_0x352d76['pointsAwarded']||0x0),0x0)):(_0x207ac5=_0x55fb1f[_0x44fdd2(0x5f8)]||0x0,_0x37140d=_0x55fb1f[_0x44fdd2(0x7f7)]||0x0);const _0x395cef=[..._0x22988d][_0x44fdd2(0xc1c)]((_0x1aa5e7,_0x3e836c)=>_0x1aa5e7[_0x44fdd2(0x550)]-_0x3e836c[_0x44fdd2(0x550)]);let _0x57ee2c=0x0;return _0x395cef[_0x44fdd2(0xa25)](_0x22faa1=>{const _0x376ca3=_0x44fdd2,_0x5b3aed=_0x22faa1[_0x376ca3(0x1a3)]&&_0x22faa1[_0x376ca3(0x1a3)]!=='wagerMultiplier'||_0x22faa1[_0x376ca3(0x9ed)];_0x22faa1['isCorrect']?_0x57ee2c=_0x5b3aed?0x0:_0x57ee2c+0x1:_0x57ee2c=0x0;}),{..._0x55fb1f,'realScore':_0x207ac5,'totalPoints':_0x37140d,'answers':_0x55fb1f['answers'],'correctStreak':_0x57ee2c};}),_0x151cd9=Math[_0x30b914(0x98d)](..._0x993051[_0x30b914(0x9d3)](_0x128486=>_0x128486[_0x30b914(0x7f7)]),-Infinity),_0x1b8aff=Math[_0x30b914(0x98d)](..._0x993051['map'](_0x269048=>_0x269048[_0x30b914(0x930)]),-Infinity),_0xe21734=_0x2d7baf[_0x30b914(0x75d)]===!![];let _0x39eff8=_0x993051[_0x30b914(0x485)](_0x2406d6=>localTeamPlayers[_0x30b914(0x1f6)](_0x2406d6['name']));_0x39eff8[_0x30b914(0xc1c)]((_0x945458,_0x47c8e4)=>(_0x47c8e4[_0x30b914(0x7f7)]||0x0)-(_0x945458[_0x30b914(0x7f7)]||0x0));let _0x24003d='';const _0x1f8e05=_0x42be20?_0x5183a9>=_0x207331[_0x30b914(0x5df)]-0x1:_0x2d7baf['currentQuestionIndex']>=_0x207331[_0x30b914(0x5df)]-0x1;if(_0x2d7baf['status']===_0x30b914(0x66f))_0x24003d='';else _0x1f8e05?_0x24003d=_0x30b914(0x8fb):_0x24003d='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x322e59='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39eff8[_0x30b914(0x9d3)]((_0x21f5b9,_0x8a8289)=>{const _0x5864d7=_0x30b914;let _0x2f7e57=_0x5864d7(0x7cb);const _0x22ab16=(_0x21f5b9[_0x5864d7(0x382)]||[])[_0x5864d7(0x15b)](_0x732b12=>_0x732b12['questionIndex']===_0x21a8bc);let _0x4f7eb1='';if(_0x22ab16){if(_0x22ab16['wasForced'])_0x4f7eb1+=_0x5864d7(0xe2a);if(_0x22ab16[_0x5864d7(0xe20)])_0x4f7eb1+=_0x5864d7(0xa3e);if(_0x22ab16[_0x5864d7(0x9ed)])_0x4f7eb1+=_0x5864d7(0x5c2);const _0x5aa371=_0x22ab16[_0x5864d7(0x1a3)];if(_0x5aa371){const _0x3b36a5={'poll':'📊','cutOne':'✂️','insurance':_0x5864d7(0x898),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x5864d7(0xc8b)};if(_0x3b36a5[_0x5aa371])_0x4f7eb1+=_0x5864d7(0x55d)+_0x5aa371+'\x22>'+_0x3b36a5[_0x5aa371]+_0x5864d7(0xe54);}}if(_0x22ab16){const _0x262781=_0x22ab16['isCorrect'],_0x218e5=_0x22ab16[_0x5864d7(0x456)]===!![]||_0x22ab16['wasConfident']===_0x5864d7(0x5c9),_0x37623b=_0x22ab16['powerupUsed'];if(_0x37623b===_0x5864d7(0x18f))_0x2f7e57=_0x262781?_0x5864d7(0x70e):_0x5864d7(0xdd6);else{if(_0x218e5)_0x2f7e57=_0x262781?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x5864d7(0x819);else _0x262781?_0x2f7e57='bg-[#DCFCE7]\x20text-green-900':_0x2f7e57=_0x5864d7(0xbdf);}}let _0x456fee='';_0x22ab16&&_0x22ab16[_0x5864d7(0x1a3)]===_0x5864d7(0x18f)&&!_0x22ab16[_0x5864d7(0x17c)]&&(_0x456fee=_0x5864d7(0x8aa));const _0x4bb66a=_0x21f5b9[_0x5864d7(0x7f7)]>=0x0?'(+'+_0x21f5b9[_0x5864d7(0x7f7)]['toLocaleString']()+')':'('+_0x21f5b9['totalPoints'][_0x5864d7(0x990)]()+')';let _0x38efc1='';const _0x598bd3=_0x21f5b9['answers']['length'],_0x2d9e13=_0x5183a9+0x1;if(_0x598bd3>0x0){_0xe21734?(_0x21f5b9[_0x5864d7(0x7f7)]===_0x151cd9&&_0x151cd9>0x0&&(_0x38efc1+=_0x5864d7(0x5a6)),_0x21f5b9[_0x5864d7(0x930)]===_0x1b8aff&&_0x1b8aff>0x0&&(_0x38efc1+=_0x5864d7(0x3b0))):_0x21f5b9[_0x5864d7(0x930)]===_0x2d9e13&&(_0x38efc1+=_0x5864d7(0x956));const _0x354700=_0x38efc1[_0x5864d7(0x1f6)]('👑')||_0x38efc1[_0x5864d7(0x1f6)]('🎓')||_0x38efc1[_0x5864d7(0x1f6)]('⭐');!_0x354700&&_0x21f5b9[_0x5864d7(0x7f7)]<0x0&&(_0x38efc1+='<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>');}let _0x343ff6='';const _0x5ea43c=_0x22ab16&&_0x22ab16[_0x5864d7(0x9ed)],_0x5a2ed6=_0x22ab16&&_0x22ab16[_0x5864d7(0x1a3)]&&_0x22ab16[_0x5864d7(0x1a3)]!==_0x5864d7(0x18f);if(!_0x5ea43c&&!_0x5a2ed6){const _0x407c37=_0x21f5b9[_0x5864d7(0x695)]||0x0;_0x407c37>=0x3&&(_0x343ff6=_0x5864d7(0x941)+_0x407c37+_0x5864d7(0xe54));}return _0x5864d7(0x888)+_0x2f7e57+_0x5864d7(0xa2c)+(_0x8a8289+0x1)+_0x5864d7(0x716)+_0x21f5b9[_0x5864d7(0xb30)]+_0x5864d7(0xb13)+_0x4f7eb1+'\x20'+_0x38efc1+'\x20'+_0x343ff6+_0x5864d7(0x94b)+_0x21f5b9[_0x5864d7(0x930)]+_0x5864d7(0x41e)+_0x4bb66a+_0x5864d7(0xabf)+_0x456fee+_0x5864d7(0xb3a);})[_0x30b914(0x370)]('')+_0x30b914(0x780)+_0x24003d+_0x30b914(0x949);liveGameView[_0x30b914(0x8ec)]=_0x322e59;}function renderStudentAnonymousResultsView(_0x39d188,_0x2461e9){const _0x2469a2=_0x1d7cc9;let _0x3323db=[];_0x39d188[_0x2469a2(0x59e)]?_0x3323db=_0x39d188[_0x2469a2(0x59e)]:_0x3323db=Object['values'](_0x39d188[_0x2469a2(0x10d)]||{});const _0x2bc9f0=_0x39d188[_0x2469a2(0x6fa)]||_0x2469a2(0x486),_0x40cde4=_0x2bc9f0===_0x2469a2(0xe65)||_0x2bc9f0===_0x2469a2(0x263),_0x13b636=_0x39d188['isAnonymousRevealed']===!![],_0x2a9336=_0x39d188[_0x2469a2(0x142)]['questions'],_0x1af36d=_0x40cde4&&_0x39d188[_0x2469a2(0x77b)]!==undefined?_0x39d188[_0x2469a2(0x77b)]:_0x2461e9,_0x3b1d74=_0x3323db[_0x2469a2(0x9d3)](_0x52fdd7=>{const _0x277823=_0x2469a2,_0x3a379e=(_0x52fdd7[_0x277823(0x382)]||[])[_0x277823(0x485)](_0x595489=>_0x595489[_0x277823(0x550)]<=_0x1af36d);let _0x2b2213=0x0,_0x4fa583=0x0;_0x40cde4?(_0x2b2213=_0x3a379e['filter'](_0x526514=>_0x526514[_0x277823(0x17c)])[_0x277823(0x5df)],_0x4fa583=_0x3a379e['reduce']((_0x36c593,_0x27b5af)=>_0x36c593+(_0x27b5af['pointsAwarded']||0x0),0x0)):(_0x2b2213=_0x52fdd7[_0x277823(0x5f8)]||0x0,_0x4fa583=_0x52fdd7['totalPoints']||0x0);const _0x121abf=[..._0x3a379e]['sort']((_0x25f3dc,_0x4a04bf)=>_0x25f3dc[_0x277823(0x550)]-_0x4a04bf[_0x277823(0x550)]);let _0x578a31=0x0;return _0x121abf[_0x277823(0xa25)](_0x18f5ea=>{const _0x50d9f0=_0x277823,_0x366473=_0x18f5ea[_0x50d9f0(0x1a3)]&&_0x18f5ea['powerupUsed']!==_0x50d9f0(0x18f)||_0x18f5ea['usedBuyTime'];_0x18f5ea['isCorrect']?_0x366473?_0x578a31=0x0:_0x578a31++:_0x578a31=0x0;}),{..._0x52fdd7,'realScore':_0x2b2213,'totalPoints':_0x4fa583,'answers':_0x52fdd7[_0x277823(0x382)],'correctStreak':_0x578a31};}),_0x59ad29=Math[_0x2469a2(0x98d)](..._0x3b1d74['map'](_0xd4d35a=>_0xd4d35a['totalPoints']),-Infinity),_0x3585d0=Math[_0x2469a2(0x98d)](..._0x3b1d74['map'](_0x2ed994=>_0x2ed994[_0x2469a2(0x930)]),-Infinity),_0x1d7489=_0x39d188[_0x2469a2(0x75d)]===!![],_0x36ae05=[..._0x3b1d74]['sort']((_0x301e86,_0x24658c)=>{const _0x14e964=_0x2469a2;if(_0x1d7489){if(_0x24658c[_0x14e964(0x7f7)]!==_0x301e86[_0x14e964(0x7f7)])return _0x24658c['totalPoints']-_0x301e86[_0x14e964(0x7f7)];if(_0x24658c[_0x14e964(0x930)]!==_0x301e86['realScore'])return _0x24658c[_0x14e964(0x930)]-_0x301e86[_0x14e964(0x930)];}else{if(_0x24658c[_0x14e964(0x7f7)]!==_0x301e86[_0x14e964(0x7f7)])return _0x24658c[_0x14e964(0x7f7)]-_0x301e86['totalPoints'];if(_0x24658c[_0x14e964(0x930)]!==_0x301e86[_0x14e964(0x930)])return _0x24658c['realScore']-_0x301e86[_0x14e964(0x930)];}return(_0x301e86[_0x14e964(0xb30)]||'')[_0x14e964(0xbbb)](_0x24658c[_0x14e964(0xb30)]||'','th');});let _0x4c990f=null;const _0x2cc8e4=_0x3b1d74['filter'](_0x244b11=>localTeamPlayers[_0x2469a2(0x1f6)](_0x244b11[_0x2469a2(0xb30)]));_0x4c990f=_0x2cc8e4[_0x2469a2(0x5df)]>0x0?_0x2cc8e4['sort']((_0x2fa3fa,_0x23445e)=>_0x23445e['totalPoints']-_0x2fa3fa[_0x2469a2(0x7f7)])[0x0]:null;if(!_0x4c990f){liveGameView[_0x2469a2(0x8ec)]=_0x2469a2(0x8b2);return;}const _0x253be1=_0x1d7489?_0x4c990f[_0x2469a2(0x7f7)]:_0x4c990f[_0x2469a2(0x7f7)],_0x927ac5=_0x1af36d+0x1,_0x4903a4=_0x36ae05['map']((_0x5bd39a,_0x4ae654)=>{const _0x995637=_0x2469a2,_0x2ce93a=_0x5bd39a[_0x995637(0x930)],_0x346907=_0x5bd39a['totalPoints'],_0x547704=(_0x5bd39a[_0x995637(0x382)]||[])[_0x995637(0x15b)](_0x3842d2=>_0x3842d2['questionIndex']===_0x1af36d);let _0x5010e3='';if(_0x547704){if(_0x547704[_0x995637(0x6eb)])_0x5010e3+='<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>';if(_0x547704[_0x995637(0xe20)])_0x5010e3+=_0x995637(0xcf8);if(_0x547704['usedBuyTime'])_0x5010e3+=_0x995637(0xd1a);const _0x447133=_0x547704[_0x995637(0x1a3)];if(_0x447133){const _0x115a86={'poll':'📊','cutOne':'✂️','insurance':_0x995637(0x898),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':_0x995637(0xc8b)};if(_0x115a86[_0x447133])_0x5010e3+=_0x995637(0x709)+_0x115a86[_0x447133]+'</span>';}}let _0x51b415='';if(_0x927ac5>0x0){if(_0x1d7489){if(_0x346907===_0x59ad29&&_0x59ad29>0x0)_0x51b415+='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>';if(_0x2ce93a===_0x3585d0&&_0x3585d0>0x0)_0x51b415+=_0x995637(0x92c);}else{const _0x109138=_0x5bd39a[_0x995637(0x930)]===_0x927ac5&&_0x927ac5>0x0;if(_0x109138)_0x51b415=_0x995637(0x18c);}if(_0x51b415===''&&_0x346907<0x0)_0x51b415=_0x995637(0xa92);}let _0x40468a='';const _0x326b98=_0x547704&&_0x547704[_0x995637(0x9ed)],_0x59c668=_0x547704&&_0x547704[_0x995637(0x1a3)]&&_0x547704['powerupUsed']!==_0x995637(0x18f);if(!_0x326b98&&!_0x59c668){const _0x53533c=_0x5bd39a[_0x995637(0x695)]||0x0;_0x53533c>=0x3&&(_0x40468a=_0x995637(0x2c5)+_0x53533c+_0x995637(0xe54));}let _0x1338e1=_0x995637(0xc1d),_0x3c8ee4=![];if(_0x547704){const _0x517688=_0x547704[_0x995637(0x17c)],_0x4a8ef3=_0x547704[_0x995637(0x456)]===!![]||_0x547704[_0x995637(0x456)]===_0x995637(0x5c9),_0x2a87eb=_0x547704[_0x995637(0x1a3)];if(_0x2a87eb==='wagerMultiplier')_0x517688?(_0x1338e1='bg-yellow-300\x20text-yellow-900\x20font-bold',_0x3c8ee4=!![]):_0x1338e1=_0x995637(0xdd6);else{if(_0x4a8ef3)_0x1338e1=_0x517688?_0x995637(0xc3f):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x517688&&(_0x1338e1=_0x995637(0x4b1));}}let _0x51f978='';const _0x4ec448=_0x5bd39a['name'],_0x1194b9=_0x39d188['playerNicknames'][_0x5bd39a[_0x995637(0xb30)]]||_0x995637(0x1d2),_0x15868e=_0x995637(0x5bc),_0x50cac0=_0x995637(0xcea),_0x1cb62f=localTeamPlayers[_0x995637(0x1f6)](_0x4ec448),_0x5d54bd=_0x3c8ee4?_0x995637(0x22c):_0x995637(0xcd2),_0x128d1f=_0x1d7489?_0x5bd39a[_0x995637(0x7f7)]:_0x5bd39a[_0x995637(0x7f7)],_0x4418ab=_0x13b636||_0x1cb62f||_0x253be1>_0x128d1f;_0x4418ab?_0x51f978=_0x995637(0x750)+_0x15868e+_0x995637(0xe63)+_0x4ec448+'\x20('+_0x1194b9+_0x995637(0xbbc)+_0x50cac0+'\x22>'+_0x4ec448+_0x995637(0xcb0)+_0x5010e3+'\x20'+_0x51b415+'\x20'+_0x40468a+_0x995637(0x256)+_0x5d54bd+'\x22\x20style=\x22'+_0x50cac0+'\x22>('+_0x1194b9+_0x995637(0x5d2):_0x51f978=_0x995637(0x750)+_0x15868e+_0x995637(0xe63)+_0x1194b9+_0x995637(0xe26)+_0x50cac0+'\x22>'+_0x1194b9+_0x995637(0xcb0)+_0x5010e3+'\x20'+_0x51b415+'\x20'+_0x40468a+_0x995637(0x1b1);_0x1cb62f&&(_0x51f978='<div\x20class=\x22flex\x20items-center\x20gap-2\x22>'+_0x51f978+_0x995637(0x602));const _0x471f75=_0x346907>=0x0?'(+'+_0x346907[_0x995637(0x990)]()+')':'('+_0x346907[_0x995637(0x990)]()+')',_0x3fcc29=_0x995637(0x53d)+_0x2ce93a+'\x20คะแนน\x20'+_0x471f75+'</span>';return _0x995637(0xacd)+_0x1338e1+_0x995637(0x604)+(_0x4ae654+0x1)+_0x995637(0x209)+_0x51f978+_0x995637(0x308)+_0x3fcc29+_0x995637(0x8f8);})['join']('');let _0x4793fd='';const _0x339cb5=_0x40cde4?_0x1af36d>=_0x2a9336[_0x2469a2(0x5df)]-0x1:_0x39d188[_0x2469a2(0x393)]>=_0x2a9336[_0x2469a2(0x5df)]-0x1;if(_0x39d188[_0x2469a2(0xfc)]===_0x2469a2(0x66f))_0x4793fd='';else _0x339cb5?_0x4793fd='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x4793fd=_0x2469a2(0xa41);const _0x4b6631=_0x2469a2(0x589)+_0x4903a4+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4793fd+_0x2469a2(0xb20);liveGameView[_0x2469a2(0x8ec)]=_0x4b6631;}function renderStudentCompetitionResultsView(_0x3de290,_0x34968c){const _0x2e08ec=_0x1d7cc9,_0x572a26=Object[_0x2e08ec(0x230)](_0x3de290['players']||{}),_0x122e97=_0x34968c,_0x461a0f=_0x3de290[_0x2e08ec(0x6fa)]||_0x2e08ec(0x486),_0x2e8b05=_0x3de290['shuffledQuiz'][_0x2e08ec(0xcf9)],_0x53ff9c=_0x572a26['map'](_0x3c7ec5=>{const _0x40eef3=_0x2e08ec,_0x1d32ae=_0x3c7ec5['score']||0x0,_0x583b83=_0x3c7ec5['totalPoints']||0x0,_0x1ac2a6=(_0x3c7ec5[_0x40eef3(0x382)]||[])['filter'](_0x5a5baf=>_0x461a0f==='reveal_at_end'?_0x5a5baf[_0x40eef3(0x550)]<=_0x122e97:!![]);return{..._0x3c7ec5,'realScore':_0x1d32ae,'totalPoints':_0x583b83,'answers':_0x1ac2a6};}),_0x4c28af=_0x3de290['isBlackMarketEnabled']===!![],_0x1a0b95=[..._0x53ff9c][_0x2e08ec(0xc1c)]((_0x53cbb9,_0x465f4d)=>{const _0x4e9c6a=_0x2e08ec;if(_0x4c28af){const _0xf21d27=_0x465f4d[_0x4e9c6a(0x930)]-_0x53cbb9[_0x4e9c6a(0x930)];if(_0xf21d27!==0x0)return _0xf21d27;const _0xa03b77=_0x465f4d[_0x4e9c6a(0x7f7)]-_0x53cbb9[_0x4e9c6a(0x7f7)];if(_0xa03b77!==0x0)return _0xa03b77;return(_0x53cbb9[_0x4e9c6a(0xb30)]||'')[_0x4e9c6a(0xbbb)](_0x465f4d[_0x4e9c6a(0xb30)]||'','th');}else{const _0x3bd93b=_0x465f4d[_0x4e9c6a(0x7f7)]-_0x53cbb9[_0x4e9c6a(0x7f7)];if(_0x3bd93b!==0x0)return _0x3bd93b;const _0x759daf=_0x465f4d[_0x4e9c6a(0x930)]-_0x53cbb9[_0x4e9c6a(0x930)];if(_0x759daf!==0x0)return _0x759daf;return(_0x53cbb9[_0x4e9c6a(0xb30)]||'')[_0x4e9c6a(0xbbb)](_0x465f4d[_0x4e9c6a(0xb30)]||'','th');}}),_0xe7a6e4=_0x1a0b95[_0x2e08ec(0x9d3)]((_0x151d15,_0x4e6f7d)=>{const _0xfc848a=_0x2e08ec,_0x11a3bc='';let _0x516298=_0xfc848a(0xc1d);const _0x1fcd92=_0x151d15[_0xfc848a(0xb30)],_0x52e2ae=_0xfc848a(0x5bc),_0x3a6825=_0xfc848a(0xcea),_0x46c8c3='<div\x20style=\x22'+_0x52e2ae+_0xfc848a(0xe63)+_0x1fcd92+'\x22><span\x20style=\x22'+_0x3a6825+'\x22>'+_0x1fcd92+'</span>'+_0x11a3bc+_0xfc848a(0x1b1),_0x4ed0a3='';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20'+_0x516298+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>'+(_0x4e6f7d+0x1)+_0xfc848a(0x209)+_0x46c8c3+_0xfc848a(0x308)+_0x4ed0a3+_0xfc848a(0x8f8);})[_0x2e08ec(0x370)]('');let _0x4fa76e='';const _0x1f9247=_0x461a0f===_0x2e08ec(0xe65)?_0x3de290[_0x2e08ec(0x77b)]>=_0x2e8b05[_0x2e08ec(0x5df)]-0x1:_0x3de290[_0x2e08ec(0x393)]>=_0x2e8b05[_0x2e08ec(0x5df)]-0x1;_0x1f9247?_0x4fa76e=_0x2e08ec(0x8fb):_0x4fa76e=_0x2e08ec(0xa41);const _0x3e80fe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe7a6e4+_0x2e08ec(0x139)+_0x4fa76e+_0x2e08ec(0xb20);liveGameView[_0x2e08ec(0x8ec)]=_0x3e80fe;}function renderStudentSyncQuestionView(_0x31473d){const _0x355d63=_0x1d7cc9;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x31473d[_0x355d63(0x10d)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x355d63(0x11f)]===!![]){localPlayerTurnIndex++;}const _0x115076=localTeamPlayers[localPlayerTurnIndex];if(!_0x115076)return;const _0x56408a=_0x31473d['players'][_0x115076],_0x4c2c00=_0x31473d[_0x355d63(0x393)],_0x169dde=_0x31473d[_0x355d63(0x142)][_0x355d63(0xcf9)]['length'],_0x4a93de=_0x31473d['shuffledQuiz'][_0x355d63(0xcf9)][_0x4c2c00],_0xdeb186=_0x4a93de['questionType']||_0x31473d[_0x355d63(0x142)][_0x355d63(0xd83)];let _0x338de2='',_0x22138d=![];const _0x3f3914=_0x355d63(0x51c)+_0x4c2c00+'_p'+_0x115076,_0x519e6e=sessionStorage[_0x355d63(0x3e2)](_0x3f3914),_0x24dea5=_0x519e6e===_0x355d63(0x9f7),_0x474e93=_0x355d63(0xd7c)+_0x4c2c00+'_p'+_0x115076,_0x1a29b7=JSON[_0x355d63(0xbf7)](sessionStorage[_0x355d63(0x3e2)](_0x474e93)||'[]')['map'](String);if((_0xdeb186==='short_answer'||_0xdeb186===_0x355d63(0x488))&&_0x24dea5&&_0x4a93de[_0x355d63(0x50b)]&&_0x4a93de['options'][_0x355d63(0x5df)]>0x0)_0x338de2=_0x4a93de[_0x355d63(0x50b)][_0x355d63(0x9d3)]((_0x22eb61,_0x51fbf5)=>{const _0x35fd75=_0x355d63;if(_0x1a29b7[_0x35fd75(0x1f6)](String(_0x51fbf5)))return'';return _0x35fd75(0x412)+_0x22eb61+_0x35fd75(0xcc1)+_0x51fbf5+_0x35fd75(0xe33)+_0x22eb61+_0x35fd75(0x58c);})[_0x355d63(0x370)]('');else{if(_0xdeb186===_0x355d63(0x33a)||_0xdeb186===_0x355d63(0x488))_0x22138d=!![],_0x338de2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else switch(_0xdeb186){case _0x355d63(0xc39):const _0x15b002=_0x1a29b7['includes']('0')?'':_0x355d63(0x337),_0x364253=_0x1a29b7[_0x355d63(0x1f6)]('1')?'':_0x355d63(0xbc7);_0x338de2=_0x15b002+_0x364253;break;case'matching_item':_0x22138d=!![],_0x338de2=_0x355d63(0x238)+(_0x4a93de[_0x355d63(0x59d)]||[])[_0x355d63(0x9d3)](_0x47aa1f=>_0x355d63(0xd4d)+_0x47aa1f+'\x22>'+_0x47aa1f+'</option>')['join']('')+_0x355d63(0x41d);break;case'multiple_choice':default:_0x338de2=(_0x4a93de[_0x355d63(0x50b)]||[])[_0x355d63(0x9d3)]((_0x223c4a,_0x5bbddc)=>{const _0x1e69bf=_0x355d63;if(_0x1a29b7[_0x1e69bf(0x1f6)](String(_0x5bbddc)))return'';return'<button\x20data-value=\x22'+_0x5bbddc+'\x22\x20data-index=\x22'+_0x5bbddc+_0x1e69bf(0xe13)+_0x223c4a+_0x1e69bf(0x58c);})[_0x355d63(0x370)]('');break;}}let _0x28ccb2='';_0x31473d[_0x355d63(0xe0e)]===_0x355d63(0x9a8)&&(_0x28ccb2=_0x355d63(0x2d5)+_0x31473d[_0x355d63(0x848)]+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');let _0x13a7ea='';const _0x2b5dfd=_0x31473d['gameVariant']||_0x355d63(0x486),_0xa6ef1c=[_0x355d63(0xe65),_0x355d63(0x263),'competition']['includes'](_0x2b5dfd);if(_0x31473d[_0x355d63(0x75d)]===!![]){if(_0xa6ef1c)!_0x519e6e&&(_0x13a7ea='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');else{const _0xd353e4=_0x56408a[_0x355d63(0x7f7)]||0x0,_0x22ddb5=_0x56408a[_0x355d63(0x74b)]||{},_0x3e3edb=[_0x22ddb5[_0x355d63(0x76e)]>0x0?_0x355d63(0xb66)+_0x22ddb5[_0x355d63(0x76e)]+_0x355d63(0x9f4):'',_0x22ddb5['revealOptions']>0x0?_0x355d63(0x1f4)+_0x22ddb5[_0x355d63(0x9f7)]+_0x355d63(0x9f4):'',_0x22ddb5[_0x355d63(0xc03)]>0x0?'<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20('+_0x22ddb5['cutOne']+')</button>':'',_0x22ddb5['insurance']>0x0?_0x355d63(0x356)+_0x22ddb5[_0x355d63(0xdf5)]+_0x355d63(0x9f4):'',_0x22ddb5[_0x355d63(0x9b6)]>0x0?_0x355d63(0x859)+_0x22ddb5[_0x355d63(0x9b6)]+')</button>':'',_0x22ddb5[_0x355d63(0xca6)]>0x0?_0x355d63(0x431)+_0x22ddb5[_0x355d63(0xca6)]+_0x355d63(0x9f4):'']['filter'](Boolean)[_0x355d63(0x370)]('\x20'),_0x104ed8=_0x355d63(0xc04)+_0x4c2c00+'_p'+_0x115076,_0x153f0f=sessionStorage[_0x355d63(0x3e2)](_0x104ed8)===_0x355d63(0x9ff),_0x34e630=_0xd353e4>0x0&&(!_0x153f0f||_0xd353e4>=0x1),_0x3f2b98=_0xd353e4===0x0?_0x355d63(0x9c3):_0x153f0f?_0x355d63(0x1c8):_0x355d63(0x4e9)+_0xd353e4+'\x20P)',_0x321364=_0x34e630?'bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md':_0x355d63(0x63f),_0x261840=_0x34e630?'':'disabled';let _0x2cbcfe='<button\x20id=\x22open-market-btn\x22\x20class=\x22'+_0x321364+_0x355d63(0xabd)+_0x261840+_0x355d63(0xb65)+_0x3f2b98+'</button>';if(!_0x519e6e){const _0x30ef9d=_0xd353e4>0x0,_0x3cac1b=_0x30ef9d?_0x355d63(0xc5d):_0x355d63(0xade),_0x350de3=_0x30ef9d?_0x355d63(0x313):_0x355d63(0x730),_0x20c3ef=_0x30ef9d?'':_0x355d63(0x67a);_0x2cbcfe+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22'+_0x3cac1b+_0x355d63(0x93b)+_0x20c3ef+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22'+_0x350de3+_0x355d63(0x93b)+_0x20c3ef+_0x355d63(0xbde);}_0x13a7ea=_0x355d63(0x61a)+_0x2cbcfe+_0x355d63(0x5b1)+(_0x3e3edb||'')+_0x355d63(0x8fe);}}let _0x283015='';_0x56408a['isJinxed']&&(_0x283015+=_0x355d63(0x1dd));_0x56408a[_0x355d63(0x35b)]&&(_0x283015+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');(_0x56408a[_0x355d63(0x97e)]||0x0)>0x0&&(_0x283015+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i>\x20<span>เวลาโบนัสทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');if(_0x519e6e){if(_0x519e6e===_0x355d63(0x18f)){const _0x5dfa15=_0xa6ef1c?_0x355d63(0xbea):_0x355d63(0xdd2);_0x283015+=_0x355d63(0x2c2)+_0x5dfa15+_0x355d63(0x2b6);}else{if(_0x519e6e===_0x355d63(0xc03))_0x283015+=_0x355d63(0x60a);else{if(_0x519e6e===_0x355d63(0x9b6))_0x283015+=_0x355d63(0xc2d);else{if(_0x519e6e===_0x355d63(0xca6))_0x283015+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{if(_0x519e6e==='revealOptions')_0x283015+=_0x355d63(0x791);else _0x519e6e===_0x355d63(0xdf5)?_0x283015+=_0x355d63(0x547):_0x283015+=_0x355d63(0x7fa)+_0x519e6e+_0x355d63(0x3cc);}}}}}let _0x5e7521='';if(!_0xa6ef1c){const _0x1eab5f=_0x56408a['correctStreak']||0x0;if(_0x1eab5f>=0x3)_0x5e7521=_0x355d63(0x537)+_0x1eab5f+_0x355d63(0x144);else _0x1eab5f>0x0&&(_0x5e7521=_0x355d63(0x25f)+_0x1eab5f+_0x355d63(0xd35));}liveGameView[_0x355d63(0x8ec)]=_0x355d63(0xf7)+(_0x4c2c00+0x1)+'\x20/\x20'+_0x169dde+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x115076+_0x355d63(0xda2)+_0x5e7521+'\x20'+_0x28ccb2+'\x20'+_0x13a7ea+_0x355d63(0xd9a)+_0x283015+_0x355d63(0x421)+(_0x4a93de[_0x355d63(0xc27)]||_0x4a93de[_0x355d63(0x43c)])+_0x355d63(0x430)+_0x338de2+_0x355d63(0xa48);if(window[_0x355d63(0x6a1)])MathJax[_0x355d63(0x7c9)]();function _0x41f220(_0x22afcc,_0xd913af,_0x404234,_0x30abb2){const _0x494d14=_0x355d63,_0x2658c7=_0x404234[_0x494d14(0x9ec)]===!![],_0x5cbc58=_0x404234[_0x494d14(0x393)],_0x4399bf=_0x494d14(0x51c)+_0x5cbc58+'_p'+_0x30abb2,_0xce07a3=sessionStorage[_0x494d14(0x3e2)](_0x4399bf),_0x5324d6=_0xce07a3===_0x494d14(0x18f),_0x924629=_0x404234['players'][_0x30abb2];if(_0x5324d6){const _0x90c353=sessionStorage[_0x494d14(0x3e2)](_0x494d14(0xaef))===_0x494d14(0x9ff);if(_0xa6ef1c||_0x90c353){const _0x57345d=_0x924629[_0x494d14(0x7f7)]||0x0;sessionStorage[_0x494d14(0xb27)](_0x494d14(0xaef)),handleSyncAnswerSubmit(_0x22afcc,_0xd913af,_0x404234,_0x30abb2,![],_0x57345d);}else{const _0x496ebe=document[_0x494d14(0x773)](_0x494d14(0xe24)),_0x3110a1=document[_0x494d14(0x773)](_0x494d14(0x46f)),_0x350b7a=document['getElementById'](_0x494d14(0x54c)),_0x42af01=document[_0x494d14(0x773)](_0x494d14(0xdb7)),_0x1963aa=_0x924629[_0x494d14(0x7f7)]||0x0;_0x3110a1[_0x494d14(0x98d)]=_0x1963aa,_0x3110a1[_0x494d14(0xd9d)]=_0x1963aa,_0x350b7a[_0x494d14(0xcd6)]=_0x1963aa,_0x42af01[_0x494d14(0xcd6)]=_0x1963aa,_0x3110a1['oninput']=()=>{const _0x58d116=_0x494d14;_0x350b7a['textContent']=_0x3110a1[_0x58d116(0xd9d)];};const _0x412413=document['getElementById'](_0x494d14(0xe2d));_0x412413[_0x494d14(0x576)][_0x494d14(0xd1b)]=_0x22afcc,_0x412413[_0x494d14(0x576)][_0x494d14(0xa9f)]=JSON[_0x494d14(0xbd7)](_0xd913af),_0x412413[_0x494d14(0x576)]['gameData']=JSON[_0x494d14(0xbd7)](_0x404234),_0x412413[_0x494d14(0x576)][_0x494d14(0xaf2)]=_0x30abb2,_0x496ebe[_0x494d14(0x985)][_0x494d14(0xa54)]('hidden');}}else{if(_0x2658c7){document[_0x494d14(0x773)](_0x494d14(0x482))[_0x494d14(0x576)][_0x494d14(0x4e2)]='sync';const _0x1f1b19=document[_0x494d14(0x773)]('selected-answer-index-hidden');_0x1f1b19['dataset'][_0x494d14(0xd1b)]=_0x22afcc,_0x1f1b19[_0x494d14(0x576)]['question']=JSON['stringify'](_0xd913af),_0x1f1b19['dataset'][_0x494d14(0xe37)]=JSON[_0x494d14(0xbd7)](_0x404234),_0x1f1b19[_0x494d14(0x576)][_0x494d14(0xaf2)]=_0x30abb2,document[_0x494d14(0x773)](_0x494d14(0x482))[_0x494d14(0x985)][_0x494d14(0xa54)]('hidden');}else handleSyncAnswerSubmit(_0x22afcc,_0xd913af,_0x404234,_0x30abb2,![],0x0);}}_0x22138d?document[_0x355d63(0x773)](_0x355d63(0x934))[_0x355d63(0x6f7)](_0x355d63(0x2af),()=>{const _0xe06b93=_0x355d63,_0x49ee3d=document['getElementById'](_0xe06b93(0x807))||document[_0xe06b93(0x773)](_0xe06b93(0x4ec));if(_0x49ee3d[_0xe06b93(0xd9d)][_0xe06b93(0xafd)]()===''){showMessage(_0xe06b93(0xd03));return;}_0x41f220(_0x49ee3d[_0xe06b93(0xd9d)],_0x4a93de,_0x31473d,_0x115076);}):document[_0x355d63(0x4a1)](_0x355d63(0x36d))[_0x355d63(0xa25)](_0x3eb07d=>{const _0x24cc71=_0x355d63;_0x3eb07d[_0x24cc71(0x6f7)](_0x24cc71(0x2af),()=>{const _0x21c9bc=_0x24cc71;_0x41f220(_0x3eb07d[_0x21c9bc(0x576)][_0x21c9bc(0xd9d)],_0x4a93de,_0x31473d,_0x115076);});});if(_0x31473d[_0x355d63(0x75d)]===!![]){if(!_0xa6ef1c){const _0x1ce721=document[_0x355d63(0x773)]('open-market-btn');_0x1ce721&&_0x1ce721['addEventListener'](_0x355d63(0x2af),()=>{const _0x14e530=_0x355d63,_0xe71b4='freeMarketEntryUsed_q'+_0x4c2c00+'_p'+_0x115076,_0x44ccc2=sessionStorage[_0x14e530(0x3e2)](_0xe71b4)==='true';if(!_0x44ccc2)openBlackMarket(_0x31473d,_0x56408a),sessionStorage['setItem'](_0xe71b4,_0x14e530(0x9ff)),renderStudentSyncQuestionView(_0x31473d);else{if(_0x56408a[_0x14e530(0x7f7)]<0x1){showMessage(_0x14e530(0xc74));return;}showConfirmation('เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?',()=>{handlePayForMarketEntry(_0x115076,_0x31473d,_0x56408a);});}}),document[_0x355d63(0x773)](_0x355d63(0x6dc))?.[_0x355d63(0x6f7)](_0x355d63(0x2af),_0x9d91c5=>{const _0x29ffbc=_0x355d63;_0x9d91c5[_0x29ffbc(0x674)][_0x29ffbc(0x67a)]=!![],handleUsePowerup(_0x115076,'buyTime',_0x4a93de,_0x31473d,_0x56408a);}),document[_0x355d63(0x773)]('use-powerup-cutOne')?.[_0x355d63(0x6f7)]('click',_0x10c301=>{const _0x543942=_0x355d63;_0x10c301[_0x543942(0x674)][_0x543942(0x67a)]=!![],handleUsePowerup(_0x115076,'cutOne',_0x4a93de,_0x31473d,_0x56408a);}),document[_0x355d63(0x773)](_0x355d63(0xcc3))?.['addEventListener'](_0x355d63(0x2af),_0x497e1f=>{_0x497e1f['target']['disabled']=!![],handleUsePowerup(_0x115076,'insurance',_0x4a93de,_0x31473d,_0x56408a);}),document[_0x355d63(0x773)](_0x355d63(0x3a9))?.['addEventListener'](_0x355d63(0x2af),_0x361718=>{const _0x7545df=_0x355d63;_0x361718[_0x7545df(0x674)][_0x7545df(0x67a)]=!![],handleUsePowerup(_0x115076,_0x7545df(0x9b6),_0x4a93de,_0x31473d,_0x56408a);}),document[_0x355d63(0x773)](_0x355d63(0xb87))?.['addEventListener']('click',_0x7e0b91=>{const _0x253efe=_0x355d63;_0x7e0b91[_0x253efe(0x674)][_0x253efe(0x67a)]=!![],handleUsePowerup(_0x115076,_0x253efe(0xca6),_0x4a93de,_0x31473d,_0x56408a);}),document[_0x355d63(0x773)](_0x355d63(0x9e9))?.['addEventListener'](_0x355d63(0x2af),_0x554165=>{const _0x5d126b=_0x355d63;_0x554165[_0x5d126b(0x674)][_0x5d126b(0x67a)]=!![],handleUsePowerup(_0x115076,_0x5d126b(0x9f7),_0x4a93de,_0x31473d,_0x56408a);}),document[_0x355d63(0x773)](_0x355d63(0x5ad))?.[_0x355d63(0x6f7)]('click',_0x58739a=>{const _0x1fe703=_0x355d63;_0x58739a[_0x1fe703(0x674)]['disabled']=!![],sessionStorage[_0x1fe703(0xd41)]('instantWager',_0x1fe703(0x37d)),handleUsePowerup(_0x115076,_0x1fe703(0x18f),_0x4a93de,_0x31473d,_0x56408a);});}document[_0x355d63(0x773)]('use-powerup-wagerMultiplier-instant')?.[_0x355d63(0x6f7)](_0x355d63(0x2af),_0x407eb6=>{const _0x547bdf=_0x355d63;_0x407eb6[_0x547bdf(0x674)][_0x547bdf(0x67a)]=!![],sessionStorage[_0x547bdf(0xd41)]('instantWager',_0x547bdf(0x9ff)),handleUsePowerup(_0x115076,_0x547bdf(0x18f),_0x4a93de,_0x31473d,_0x56408a);});}}async function handleSyncAnswerSubmit(_0x204024,_0x3a241a,_0xa66935,_0x366cbf,_0x1da16d,_0x47fb24=0x0){const _0x2de52f=_0x1d7cc9;document[_0x2de52f(0x4a1)](_0x2de52f(0xf9))['forEach'](_0x10d4fe=>_0x10d4fe[_0x2de52f(0x67a)]=!![]);const _0x16c9ac=_0xa66935[_0x2de52f(0x393)],_0x1b660e=_0x2de52f(0x51c)+_0x16c9ac+'_p'+_0x366cbf,_0x4a3449=sessionStorage[_0x2de52f(0x3e2)](_0x1b660e),_0x3199d8=_0xa66935[_0x2de52f(0x10d)][_0x366cbf]||{},_0x9fa49b=_0x3199d8[_0x2de52f(0x35b)]===!![],_0x2089e2=sessionStorage[_0x2de52f(0x3e2)]('onSecondChance')===_0x2de52f(0x9ff);let _0x10f63e=_0x3199d8['correctStreak']||0x0;_0x4a3449&&_0x4a3449!==_0x2de52f(0x18f)&&(_0x10f63e=0x0);const _0x4811b1=_0x10f63e>=0x3,_0x4c8848=_0x3a241a[_0x2de52f(0xa8d)]||_0xa66935[_0x2de52f(0x142)]['quizType'];let _0x557446=![],_0x6a9adb=_0x204024;switch(_0x4c8848){case _0x2de52f(0xc39):const _0x2f91de=parseInt(_0x204024),_0x1c0dcb=_0x3a241a[_0x2de52f(0x77e)]===!![]||String(_0x3a241a[_0x2de52f(0x77e)])[_0x2de52f(0xa43)]()===_0x2de52f(0x9ff);_0x557446=_0x2f91de===0x0&&_0x1c0dcb||_0x2f91de===0x1&&!_0x1c0dcb,_0x6a9adb=_0x2f91de===0x0?_0x2de52f(0x1bc):_0x2de52f(0xb68);break;case'short_answer':case _0x2de52f(0x488):_0x557446=await gradeShortAnswer(_0x204024,_0x3a241a);break;case _0x2de52f(0xe52):_0x557446=_0x204024===_0x3a241a[_0x2de52f(0x8e3)];break;case _0x2de52f(0xbed):default:const _0x2e458f=parseInt(_0x204024);_0x557446=_0x2e458f===_0x3a241a[_0x2de52f(0xc68)];_0x3a241a['options']&&_0x3a241a[_0x2de52f(0x50b)][_0x2e458f]&&(_0x6a9adb=_0x3a241a[_0x2de52f(0x50b)][_0x2e458f]);break;}if(!_0x557446&&_0x4a3449==='secondChance'&&!_0x2089e2){sessionStorage[_0x2de52f(0xb27)](_0x1b660e),sessionStorage[_0x2de52f(0xd41)](_0x2de52f(0x2c3),_0x2de52f(0x9ff)),showMessage(_0x2de52f(0xa36)),document['querySelectorAll'](_0x2de52f(0xf9))[_0x2de52f(0xa25)](_0x30b9c6=>{const _0x9329c2=_0x2de52f;if(!_0x30b9c6[_0x9329c2(0x985)][_0x9329c2(0xc49)](_0x9329c2(0x806)))_0x30b9c6[_0x9329c2(0x67a)]=![];});return;}let _0x837a9=0x0;const _0x199daf=_0x4a3449===_0x2de52f(0x18f),_0x5c3441=_0x4a3449===_0x2de52f(0xdf5),_0xeab149=sessionStorage[_0x2de52f(0x3e2)](_0x2de52f(0x474))===_0x2de52f(0x9ff),_0x2a49d=_0x3199d8[_0x2de52f(0x4e8)]===!![];if(_0x199daf){const _0x54a7ca=parseInt(_0x47fb24,0xa)||0x0;_0x837a9=_0x557446?_0x54a7ca*0x2:-_0x54a7ca;}else{if(_0xeab149&&!_0x557446)_0x837a9=_0x1da16d===!![]||_0x1da16d===_0x2de52f(0x5c9)||_0x9fa49b?-0x4:-0x2;else{if(_0x9fa49b)_0x837a9=_0x557446?0x2:-0x1;else{if(_0xa66935[_0x2de52f(0x9ec)]){if(_0x557446&&(_0x1da16d===!![]||_0x1da16d===_0x2de52f(0x5c9)))_0x837a9=0x2;else{if(_0x557446)_0x837a9=0x1;else{if(!_0x557446&&(_0x1da16d===![]||_0x1da16d===_0x2de52f(0x9ea)||_0x1da16d===null))_0x837a9=0x0;else{if(!_0x557446&&(_0x1da16d===!![]||_0x1da16d===_0x2de52f(0x5c9)))_0x837a9=-0x1;}}}}else _0x837a9=_0x557446?0x1:0x0;}}}_0x4811b1&&_0x837a9>0x0&&(_0x837a9*=0x2);if(_0x2a49d&&!_0x557446&&_0x837a9<0x0)_0x837a9*=0x2;if(!_0x557446&&_0x5c3441)_0x837a9=0x0;const _0x336288=(_0x3199d8[_0x2de52f(0x97e)]||0x0)>0x0,_0x29569d=_0x4a3449&&_0x4a3449!==_0x2de52f(0x18f);let _0xecb55=0x0;_0x557446&&(_0xecb55=_0x29569d?0x0:_0x10f63e+0x1);const _0x1464c3={'questionIndex':_0xa66935[_0x2de52f(0x393)],'questionId':_0x3a241a['id'],'answer':_0x204024,'answerText':_0x6a9adb,'isCorrect':_0x557446,'originalQuestionText':_0x3a241a[_0x2de52f(0xc27)]||_0x3a241a[_0x2de52f(0x43c)],'wasConfident':_0x9fa49b?_0x2de52f(0x5c9):_0x1da16d||![],'pointsAwarded':_0x837a9,'powerupUsed':_0x4a3449||null,'wasJinxed':_0x2a49d||![],'wasForced':_0x9fa49b||![],'usedPoll':_0xeab149||![],'usedBuyTime':_0x336288,'streakActive':_0x4811b1},_0x2ef8e1=doc(db,_0x2de52f(0x6de)+appId+_0x2de52f(0xb0b)+currentLiveGameId+_0x2de52f(0x745),_0x366cbf),_0x34e9fe=_0x3199d8[_0x2de52f(0x382)]||[],_0x2280f7=_0x34e9fe['filter'](_0x21d4f5=>_0x21d4f5[_0x2de52f(0x550)]!==_0xa66935['currentQuestionIndex']),_0xb82453=[..._0x2280f7,_0x1464c3],_0x5464b9=_0xb82453[_0x2de52f(0x485)](_0x12ebea=>_0x12ebea['isCorrect'])['length'],_0x59f4b0={'answers':_0xb82453,'score':_0x5464b9,'totalPoints':increment(_0x837a9),'answered':!![],'lastAnswerIndex':_0x4c8848==='multiple_choice'||_0x4c8848===_0x2de52f(0xc39)?parseInt(_0x204024):null,'lastAnswerValue':_0x6a9adb,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0xecb55};if(_0x2089e2)sessionStorage[_0x2de52f(0xb27)](_0x2de52f(0x2c3));try{await updateDoc(_0x2ef8e1,_0x59f4b0);}catch(_0x34b995){console[_0x2de52f(0x7bc)](_0x2de52f(0x253),_0x34b995),showMessage(_0x2de52f(0xa1a)),document[_0x2de52f(0x4a1)](_0x2de52f(0xf9))['forEach'](_0x23fe47=>_0x23fe47['disabled']=![]);}}const allMarketItems=[{'id':_0x1d7cc9(0x76e),'name':_0x1d7cc9(0x12b),'price':0x1,'desc':'เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)'},{'id':_0x1d7cc9(0xc03),'name':_0x1d7cc9(0x658),'price':0x2,'desc':_0x1d7cc9(0xc45)},{'id':_0x1d7cc9(0x9b6),'name':_0x1d7cc9(0x7b9),'price':0x5,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)'},{'id':_0x1d7cc9(0xca6),'name':_0x1d7cc9(0x917),'price':0x7,'desc':_0x1d7cc9(0xd24)},{'id':_0x1d7cc9(0x9f7),'name':_0x1d7cc9(0x783),'price':0xc,'desc':_0x1d7cc9(0x650)}];function openBlackMarket(_0x5453a7,_0x235f7d){const _0x5ba8f7=_0x1d7cc9;let _0x4d1ca9=null;const _0x3c2883=document[_0x5ba8f7(0x773)](_0x5ba8f7(0x9b4)),_0x2b0bea=document[_0x5ba8f7(0x773)](_0x5ba8f7(0xc7f)),_0x13e2be=document[_0x5ba8f7(0x773)](_0x5ba8f7(0x21e)),_0x16e33f=document[_0x5ba8f7(0x773)](_0x5ba8f7(0x906)),_0x37002a=_0x235f7d['totalPoints']||0x0;_0x13e2be[_0x5ba8f7(0xcd6)]=_0x37002a;const _0x6a4cae=_0x5453a7[_0x5ba8f7(0x393)],_0x34ce58=_0x5453a7[_0x5ba8f7(0x142)]['questions'][_0x6a4cae],_0x1e9f6e=_0x34ce58['questionType']||_0x5453a7[_0x5ba8f7(0x142)][_0x5ba8f7(0xd83)],_0x4f7b8d=_0x5453a7[_0x5ba8f7(0xe0e)]==='per_question',_0x5e01d9=allMarketItems;_0x2b0bea['innerHTML']=_0x5e01d9[_0x5ba8f7(0x9d3)](_0x18d316=>{const _0x53232a=_0x5ba8f7,_0x23514a=_0x37002a>=_0x18d316[_0x53232a(0x77d)];if(_0x18d316['id']==='buyTime'){const _0x5b5b31=_0x23514a?Math[_0x53232a(0x36b)](_0x37002a/_0x18d316['price']):0x0,_0x3bdec9=_0x23514a&&_0x4f7b8d;let _0x24ec14='ซื้อ\x20('+_0x18d316['price']+_0x53232a(0x7a8),_0x23dca4=_0x3bdec9?_0x53232a(0x5da):_0x53232a(0x636);return!_0x4f7b8d&&(_0x24ec14=_0x53232a(0x76b),_0x23dca4=_0x53232a(0x9c0)),_0x53232a(0x7dd)+(!_0x3bdec9?'bg-gray-100\x20opacity-70':_0x53232a(0x54f))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0x18d316[_0x53232a(0xb30)]+_0x53232a(0x8ac)+_0x18d316[_0x53232a(0xde2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22'+_0x5b5b31+'\x22\x20'+(!_0x3bdec9?_0x53232a(0x67a):'')+_0x53232a(0x59b)+_0x23dca4+_0x53232a(0x778)+_0x18d316['id']+_0x53232a(0x4ae)+_0x18d316['price']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3bdec9?_0x53232a(0x67a):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24ec14+_0x53232a(0x70f);}else{let _0x1a999d=!_0x23514a,_0x3ad153=_0x23514a?'bg-indigo-600\x20hover:bg-indigo-700':_0x53232a(0x636),_0x579a2e=_0x53232a(0x9e7)+_0x18d316[_0x53232a(0x77d)]+'P)';if(_0x18d316['id']===_0x53232a(0x9f7)){const _0x1530f4=_0x34ce58[_0x53232a(0x50b)]&&_0x34ce58[_0x53232a(0x50b)]['length']>0x0,_0x313d67=_0x1e9f6e==='short_answer'||_0x1e9f6e==='fill_in_no_choices';(!_0x1530f4||!_0x313d67)&&(_0x1a999d=!![],_0x3ad153=_0x53232a(0x9c0),_0x579a2e=_0x53232a(0xd81));}if(_0x18d316['id']===_0x53232a(0xc03)||_0x18d316['id']===_0x53232a(0x9b6)){const _0x4ef490=_0x1e9f6e===_0x53232a(0x33a)||_0x1e9f6e===_0x53232a(0x488),_0x27dae3=_0x34ce58[_0x53232a(0x50b)]&&_0x34ce58[_0x53232a(0x50b)][_0x53232a(0x5df)]>0x0;(_0x4ef490||!_0x27dae3)&&(_0x1a999d=!![],_0x3ad153=_0x53232a(0x9c0),_0x579a2e='<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก');}return _0x53232a(0x7dd)+(_0x1a999d?_0x53232a(0xa3a):_0x53232a(0x54f))+_0x53232a(0xb8f)+_0x18d316[_0x53232a(0xb30)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x18d316[_0x53232a(0xde2)]+_0x53232a(0xe51)+_0x3ad153+_0x53232a(0x449)+_0x18d316['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22'+_0x18d316[_0x53232a(0x77d)]+_0x53232a(0x237)+(_0x1a999d?'disabled':'')+_0x53232a(0xcb6)+_0x579a2e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}})[_0x5ba8f7(0x370)](''),_0x3c2883[_0x5ba8f7(0x985)][_0x5ba8f7(0xa54)](_0x5ba8f7(0x806)),_0x16e33f['style'][_0x5ba8f7(0x3ea)]='none',_0x16e33f[_0x5ba8f7(0x90e)][_0x5ba8f7(0x2f0)]=_0x5ba8f7(0x24a),setTimeout(()=>{const _0x5dca35=_0x5ba8f7;_0x16e33f['style'][_0x5dca35(0x3ea)]=_0x5dca35(0x3b5),_0x16e33f[_0x5dca35(0x90e)][_0x5dca35(0x2f0)]='0%';},0x32),_0x4d1ca9=setTimeout(()=>{const _0x373698=_0x5ba8f7;_0x3c2883[_0x373698(0x985)][_0x373698(0xd0a)](_0x373698(0x806));},0xea60),document[_0x5ba8f7(0x773)](_0x5ba8f7(0xb12))[_0x5ba8f7(0xb4f)]=()=>{const _0x2224c7=_0x5ba8f7;clearTimeout(_0x4d1ca9),_0x3c2883[_0x2224c7(0x985)]['add'](_0x2224c7(0x806));},_0x2b0bea['querySelectorAll'](_0x5ba8f7(0x6e7))[_0x5ba8f7(0xa25)](_0x299d20=>{_0x299d20['onclick']=_0xa3d65c=>{const _0x32948b=_0x5842,_0x3140fc=_0xa3d65c[_0x32948b(0x674)]['dataset'][_0x32948b(0xad0)],_0x457a72=parseInt(_0xa3d65c[_0x32948b(0x674)][_0x32948b(0x576)][_0x32948b(0x77d)],0xa);clearTimeout(_0x4d1ca9),_0x3c2883[_0x32948b(0x985)][_0x32948b(0xd0a)](_0x32948b(0x806)),handleBuyItem(_0x235f7d[_0x32948b(0xb30)],_0x3140fc,_0x457a72,0x1);};}),_0x2b0bea[_0x5ba8f7(0x4a1)](_0x5ba8f7(0x967))[_0x5ba8f7(0xa25)](_0x1caa14=>{const _0x38328d=_0x5ba8f7;_0x1caa14[_0x38328d(0xb4f)]=_0x3cbd12=>{const _0x206b65=_0x38328d,_0x22751e=_0x3cbd12[_0x206b65(0x674)]['dataset']['itemId'],_0x4bebcb=parseInt(_0x3cbd12[_0x206b65(0x674)][_0x206b65(0x576)][_0x206b65(0x77d)],0xa),_0x25af8d=document[_0x206b65(0x773)](_0x206b65(0x231)),_0x4e0c28=parseInt(_0x25af8d['value'],0xa),_0x1fa6d3=parseInt(_0x25af8d[_0x206b65(0x98d)],0xa);if(!_0x4e0c28||_0x4e0c28<0x1){showMessage('กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)');return;}if(_0x4e0c28>_0x1fa6d3){showMessage(_0x206b65(0xc09)+_0x1fa6d3+_0x206b65(0x457));return;}clearTimeout(_0x4d1ca9),_0x3c2883[_0x206b65(0x985)][_0x206b65(0xd0a)]('hidden'),handleBuyItem(_0x235f7d[_0x206b65(0xb30)],_0x22751e,_0x4bebcb,_0x4e0c28);};});}async function handleBuyItem(_0x422e6a,_0x1b919e,_0x38be72,_0x28d37c=0x1){const _0x513fdb=_0x1d7cc9,_0x12d4fc=doc(db,_0x513fdb(0x6de)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x422e6a);try{await runTransaction(db,async _0x5418fc=>{const _0xac8d7d=_0x513fdb,_0x29dfda=await _0x5418fc['get'](_0x12d4fc);if(!_0x29dfda[_0xac8d7d(0xc63)]())throw _0xac8d7d(0x8a7);const _0x3a0b2a=_0x29dfda[_0xac8d7d(0xafb)]()[_0xac8d7d(0x7f7)]||0x0,_0x317782=_0x38be72*_0x28d37c;if(_0x3a0b2a<_0x317782)throw'มี\x20Points\x20ไม่เพียงพอ';const _0x1eda1f={};_0x1eda1f[_0xac8d7d(0x7f7)]=increment(-_0x317782),_0x1eda1f[_0xac8d7d(0xe15)+_0x1b919e]=increment(_0x28d37c),_0x5418fc[_0xac8d7d(0x7c3)](_0x12d4fc,_0x1eda1f);}),showMessage(_0x513fdb(0x634)+_0x1b919e+_0x513fdb(0x6e6)+_0x28d37c+_0x513fdb(0x643));}catch(_0x5dbb94){console[_0x513fdb(0x7bc)](_0x513fdb(0xe56),_0x5dbb94),showMessage(typeof _0x5dbb94==='string'?_0x5dbb94:_0x513fdb(0x353));}}async function handlePayForMarketEntry(_0xd96e98,_0x3c64dd,_0x30a5cd){const _0x481e8e=_0x1d7cc9,_0x400a44=doc(db,_0x481e8e(0x6de)+appId+_0x481e8e(0xb0b)+currentLiveGameId+'/players',_0xd96e98);try{await runTransaction(db,async _0x2ad575=>{const _0x3bd9ff=_0x481e8e,_0x2aab71=await _0x2ad575[_0x3bd9ff(0xa70)](_0x400a44);if(!_0x2aab71['exists']())throw _0x3bd9ff(0x8a7);const _0x43d61b=_0x2aab71[_0x3bd9ff(0xafb)]()['totalPoints']||0x0;if(_0x43d61b<0x1)throw'มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)';const _0x5b6640={};_0x5b6640[_0x3bd9ff(0x7f7)]=increment(-0x1),_0x2ad575['update'](_0x400a44,_0x5b6640);});const _0x27cd7f={..._0x30a5cd,'totalPoints':(_0x30a5cd[_0x481e8e(0x7f7)]||0x0)-0x1};openBlackMarket(_0x3c64dd,_0x27cd7f);}catch(_0x2153f2){console[_0x481e8e(0x7bc)](_0x481e8e(0x87b),_0x2153f2),showMessage(typeof _0x2153f2===_0x481e8e(0xe46)?_0x2153f2:_0x481e8e(0xc32));}}const audioCtx=new(window['AudioContext']||window['webkitAudioContext'])();function playSystemSound(_0x3228f2){const _0x3b5255=_0x1d7cc9;if(audioCtx[_0x3b5255(0x4b0)]===_0x3b5255(0x6a6))audioCtx[_0x3b5255(0xd73)]();const _0x3a05c0=audioCtx['createOscillator'](),_0x559670=audioCtx['createGain']();_0x3a05c0[_0x3b5255(0x12a)](_0x559670),_0x559670[_0x3b5255(0x12a)](audioCtx[_0x3b5255(0x856)]);const _0x435638=audioCtx[_0x3b5255(0xa32)];if(_0x3228f2==='correct')_0x3a05c0[_0x3b5255(0x900)]='sine',_0x3a05c0['frequency']['setValueAtTime'](0x258,_0x435638),_0x3a05c0[_0x3b5255(0xd5c)][_0x3b5255(0xc20)](0x4b0,_0x435638+0.1),_0x559670[_0x3b5255(0x7d7)][_0x3b5255(0x4b4)](0.1,_0x435638),_0x559670['gain'][_0x3b5255(0xc20)](0.01,_0x435638+0.5),_0x3a05c0[_0x3b5255(0x246)](_0x435638),_0x3a05c0[_0x3b5255(0xbc5)](_0x435638+0.5);else{if(_0x3228f2===_0x3b5255(0xcf4))_0x3a05c0[_0x3b5255(0x900)]='sawtooth',_0x3a05c0[_0x3b5255(0xd5c)][_0x3b5255(0x4b4)](0x96,_0x435638),_0x3a05c0['frequency'][_0x3b5255(0xc20)](0x64,_0x435638+0.2),_0x559670[_0x3b5255(0x7d7)]['setValueAtTime'](0.1,_0x435638),_0x559670[_0x3b5255(0x7d7)][_0x3b5255(0xc20)](0.01,_0x435638+0.3),_0x3a05c0['start'](_0x435638),_0x3a05c0[_0x3b5255(0xbc5)](_0x435638+0.3);else _0x3228f2===_0x3b5255(0x9bc)&&(_0x3a05c0[_0x3b5255(0x900)]='triangle',_0x3a05c0[_0x3b5255(0xd5c)][_0x3b5255(0x4b4)](0x12c,_0x435638),_0x3a05c0[_0x3b5255(0xd5c)][_0x3b5255(0x462)](0x258,_0x435638+0.1),_0x559670[_0x3b5255(0x7d7)][_0x3b5255(0x4b4)](0.1,_0x435638),_0x559670[_0x3b5255(0x7d7)]['linearRampToValueAtTime'](0.01,_0x435638+0.3),_0x3a05c0['start'](_0x435638),_0x3a05c0['stop'](_0x435638+0.3));}}initialize();
