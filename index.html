<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Quiz Generator By Kru Amorn</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Libraries for Exporting & Charts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Libraries for File Reading -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.4.18/mammoth.browser.min.js"></script>
	
	<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- MathJax for rendering math formulas -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
	
	/* ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå A.html ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô <style> */
.ai-content h1, .ai-content h2, .ai-content h3, .ai-content h4 { font-weight: 700; color: #1e3a8a; margin-top: 1.5rem; margin-bottom: 0.75rem; }
.ai-content h1 { font-size: 1.8rem; } .ai-content h2 { font-size: 1.5rem; } .ai-content h3 { font-size: 1.25rem; }
.ai-content p { margin-bottom: 1rem; line-height: 1.7; }
.ai-content ul, .ai-content ol { margin-left: 1.5rem; margin-bottom: 1rem; list-style-position: outside; }
.ai-content li { margin-bottom: 0.5rem; }
.ai-content blockquote { background-color: #eff6ff; border-left: 4px solid #3b82f6; padding: 0.75rem 1rem; margin: 1rem 0; border-radius: 0.25rem; color: #1e40af; }
.ai-content table { width: 100%; border-collapse: collapse; margin: 1.5rem 0; }
.ai-content th, .ai-content td { border: 1px solid #e2e8f0; padding: 0.75rem 1rem; text-align: left; }
.ai-content th { background-color: #fefce8; font-weight: 600; }
.ai-content code { background-color: #f1f5f9; color: #475569; padding: 0.2em 0.4em; border-radius: 3px; }
.ai-content svg { max-width: 100%; height: auto; margin: 1rem auto; display: block; }
.section-header { display: flex; align-items: center; font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; color: #1e3a8a; border-bottom: 2px solid #dbeafe; padding-bottom: 0.5rem; }
.section-header i { margin-right: 0.75rem; color: #3b82f6; }
	
        body {
            font-family: 'Sarabun', sans-serif;
        }
		#message-modal { z-index: 60; } /* <-- ‡∏ß‡∏≤‡∏á‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ */
		
		.correct {
    background-color: #dcfce7 !important;
    border-color: #22c55e !important;
    color: #166534;
    font-weight: bold;
}

.incorrect {
    background-color: #fee2e2 !important;
    border-color: #ef4444 !important;
    color: #991b1b;
}
		
        .main-tab.active {
            border-color: #4f46e5;
            color: #4f46e5;
            background-color: #eef2ff;
        }
        .generation-tab.active {
            border-color: #4f46e5;
            color: #4f46e5;
        }
		
		        .view-btn.active {
            background-color: white;
            color: #4f46e5; /* indigo-600 */
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
        }
		
        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #4f46e5;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Presentation Mode Styles */
        .presentation-option {
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        #presentation-modal:fullscreen {
            background-color: #1f2937; /* bg-gray-800 */
        }
        /* Timer Bar */
        #timer-bar-container {
            height: 8px;
            background-color: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }
        #timer-bar {
            height: 100%;
            background-color: #4f46e5;
            transition: width 1s linear;
        }
        [contenteditable="true"] {
            outline: 2px dashed #4f46e5;
            background-color: #eef2ff;
            padding: 2px;
        }
        .details-marker {
            transition: transform 0.2s;
        }
        details[open] .details-marker {
            transform: rotate(90deg);
        }
        .badge-icon {
            animation: popIn 0.5s ease-out forwards;
            transform: scale(0);
        }
        @keyframes popIn {
            0% { transform: scale(0); }
            80% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        .delete-svg-btn {
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s;
        }
        .delete-svg-btn:hover {
            opacity: 1;
        }
        /* Live Game Styles */
        .live-game-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .podium-step {
            transition: transform 0.5s ease-out;
        }
        .podium-step:hover {
            transform: translateY(-10px);
        }
		
		.live-summary-tooltip {
    /* ‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô */
    opacity: 0;
    pointer-events: none; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏∞‡∏•‡∏∏‡πÑ‡∏î‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà */
    transition: opacity 0.2s ease-in-out;
}

.live-summary-tooltip.visible {
    /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏•‡∏¥‡∏Å‡πÑ‡∏î‡πâ */
    opacity: 1;
    pointer-events: auto;
}

.pen-color-btn {
    box-shadow: 0 0 0 2px white; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏≠‡∏ö‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏µ‡πÄ‡∏ó‡∏≤ */
}
.pen-color-btn.active {
    border-color: #3b82f6; /* border-blue-500 */
    box-shadow: 0 0 0 2px #3b82f6;
}

.tool-btn.active {
    background-color: #3b82f6; /* bg-blue-500 */
    color: white;
    border-color: #1d4ed8; /* border-blue-700 */
}

/* ‚ñº‚ñº‚ñº ‡∏ß‡∏≤‡∏á‡∏ó‡∏±‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î #scratchpad-controls ‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏î‡πâ‡∏ß‡∏¢‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ ‚ñº‚ñº‚ñº */
#scratchpad-controls {
    display: flex;
    flex-wrap: wrap; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ö‡∏ô‡∏à‡∏≠‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
    align-items: center;
    gap: 0.5rem; /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏° */
    background-color: #f3f4f6; /* bg-gray-100 */
    padding: 0.5rem 0.75rem;
    border-bottom: 1px solid #e5e7eb; /* border-gray-200 */
    z-index: 30;
}

/* ‚ñº‚ñº‚ñº ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏õ‡∏∏‡πà‡∏° ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡πà‡∏á ‚ñº‚ñº‚ñº */
.tool-group {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}
.separator {
    width: 1px;
    height: 1.5rem; /* 24px */
    background-color: #d1d5db; /* bg-gray-300 */
    margin: 0 0.5rem; /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏ß‡∏≤ */
}
/* ‚ñ≤‚ñ≤‚ñ≤ ‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° ‚ñ≤‚ñ≤‚ñ≤ */


/* ‚ñº‚ñº‚ñº ‡∏ß‡∏≤‡∏á‡∏ó‡∏±‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î .scratchpad-content-wrapper ‡πÄ‡∏î‡∏¥‡∏°‡∏î‡πâ‡∏ß‡∏¢‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ ‚ñº‚ñº‚ñº */
.scratchpad-content-wrapper {
    position: relative;
    overflow: hidden;
    flex-grow: 1; /* ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏ï‡πá‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠ */
}

/* ‚ñº‚ñº‚ñº ‡∏ß‡∏≤‡∏á‡∏ó‡∏±‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î #scratchpad-canvas ‡πÄ‡∏î‡∏¥‡∏°‡∏î‡πâ‡∏ß‡∏¢‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ ‚ñº‚ñº‚ñº */
#scratchpad-canvas {
    position: absolute;
    inset: 0;
    z-index: 10;
}

/* ‚ñº‚ñº‚ñº ‡∏ß‡∏≤‡∏á‡∏ó‡∏±‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î #scratchpad-header ‡πÄ‡∏î‡∏¥‡∏°‡∏î‡πâ‡∏ß‡∏¢‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ (‡∏•‡∏ö padding-right ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡πÅ‡∏Å‡πâ‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ) ‚ñº‚ñº‚ñº */
#scratchpad-header {
    position: relative;
    z-index: 20;
    pointer-events: none;
    
}
		
		/* --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô <style> --- */

#dim-overlay {
    position: fixed; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏¢‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á */
    inset: 0; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠ (top:0, right:0, bottom:0, left:0) */
    background-color: rgba(0, 0, 0, 1); /* ‡∏™‡∏µ‡∏î‡∏≥‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÅ‡∏™‡∏á 100% */
    z-index: 9998; /* ‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏ö‡∏ô‡∏™‡∏∏‡∏î */
    display: none; /* ‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô */
    justify-content: center;
    align-items: center;
    color: white;
    font-size: 1.5rem;
    cursor: pointer;
}

/* ‡πÄ‡∏°‡∏∑‡πà‡∏≠ body ‡∏°‡∏µ‡∏Ñ‡∏•‡∏≤‡∏™ .dimmed ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ overlay ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• */
body.dimmed #dim-overlay {
    display: flex;
}

.pen-size-btn.active {
    background-color: #3b82f6; /* bg-blue-500 */
    color: white;
    border-color: #1d4ed8; /* border-blue-700 */
}

.confidence-choice-btn {
    background-color: #f3f4f6; /* bg-gray-100 */
    color: #4b5563; /* text-gray-600 */
    border: 1px solid #d1d5db; /* border-gray-300 */
    transition: all 0.2s;
}
.confidence-choice-btn.active.confident {
    background-color: #10b981; /* bg-emerald-500 */
    color: white;
    border-color: #059669; /* border-emerald-700 */
}
.confidence-choice-btn.active.not-confident {
    background-color: #6b7280; /* bg-gray-500 */
    color: white;
    border-color: #4b5563; /* border-gray-600 */
}
		
    </style>
</head>

<body class="bg-gray-100 text-gray-800">

<div id="dim-overlay">‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠</div>

    <div class="container mx-auto p-4 md:p-8 max-w-6xl relative">
        <!-- Admin Mode Toggle Button -->
        <button id="mode-switcher-btn" class="absolute top-4 right-4 text-gray-500 hover:text-indigo-600 transition-colors duration-300 z-10 p-3 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700" title="‡∏™‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°">
            <i class="fas fa-user-shield fa-lg"></i>
        </button>

        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-indigo-600">
                <i class="fas fa-brain mr-2"></i>AI Quiz Generator
            </h1>
            <p class="text-lg text-gray-600 mt-1">By Kru Amorn</p>
            <p class="text-gray-500 mt-2">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö ‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
        </header>

        <!-- Main Content -->
        <main id="main-content" class="bg-white p-6 rounded-2xl shadow-lg min-h-[400px]">
            <!-- Admin View -->
            <div id="admin-view" class="hidden fade-in">
                <!-- Project Dashboard (Default Admin View) -->
                <div id="project-dashboard-view">
                    <!-- NEW: Starred Quizzes Section -->
                    <div class="flex flex-col md:flex-row justify-between items-center mb-4 gap-4">
                        <h2 class="text-2xl font-bold text-indigo-700">‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
                         <div class="flex items-center gap-2 w-full md:w-auto flex-wrap md:justify-end">
						 
						         <div id="view-switcher" class="flex items-center p-1 bg-gray-100 rounded-lg mr-2">
            <button id="grid-view-btn" class="px-3 py-1 rounded-md text-gray-700 view-btn" title="‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á">
                <i class="fas fa-th-large pointer-events-none"></i>
            </button>
            <button id="list-view-btn" class="px-3 py-1 rounded-md text-gray-500 view-btn" title="‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£">
                <i class="fas fa-list pointer-events-none"></i>
            </button>
        </div>
						 
                           <input type="text" id="project-search-input" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ..." class="w-full md:w-auto p-2 border border-gray-300 rounded-lg">
                           <select id="project-sort-select" class="p-2 border border-gray-300 rounded-lg">
                               <option value="date_desc">‡πÉ‡∏´‡∏°‡πà‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</option>
                               <option value="date_asc">‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</option>
                               <option value="name_asc">‡∏ä‡∏∑‡πà‡∏≠ (‡∏Å-‡∏Æ)</option>
                               <option value="name_desc">‡∏ä‡∏∑‡πà‡∏≠ (‡∏Æ-‡∏Å)</option>
                           </select>
                           <button id="reset-project-order-btn" class="text-sm text-gray-500 hover:underline" title="‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏Å‡∏ß‡∏≤‡∏á">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏•‡∏≥‡∏î‡∏±‡∏ö</button>
                           <button id="create-project-btn" class="bg-indigo-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-indigo-700 transition-all duration-300 flex items-center shrink-0">
                               <i class="fas fa-plus-circle mr-2"></i>‡∏™‡∏£‡πâ‡∏≤‡∏á
                           </button>
						   <button id="open-global-live-btn"
  class="bg-purple-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-purple-700 transition-all duration-300 flex items-center shrink-0">
  <i class="fas fa-bolt mr-2"></i>Live Game
</button>
<button id="open-quiz-bank-btn"
  class="bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-all duration-300 flex items-center shrink-0">
  <i class="fas fa-book mr-2"></i>‡∏Ñ‡∏•‡∏±‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö
</button>

<button id="open-blueprint-projects-btn" class="bg-teal-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-teal-700 transition-all duration-300 flex items-center shrink-0">
    <i class="fas fa-sitemap mr-2"></i>‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ Blueprint
</button>

<button id="update-old-quizzes-btn"
  class="bg-yellow-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-yellow-700 transition-all duration-300 flex items-center shrink-0">
  <i class="fas fa-wrench mr-2"></i>‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤
</button>

                        </div>
                    </div>
                    <div id="project-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4">
                        <!-- Project cards will be inserted here -->
                        <p id="no-projects-msg" class="text-gray-500 col-span-full text-center py-8">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ... ‡∏Ñ‡∏•‡∏¥‡∏Å '‡∏™‡∏£‡πâ‡∏≤‡∏á' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</p>
                    </div>
                </div>

                <!-- Project Detail View -->
                <div id="project-detail-view" class="hidden">
                    <button id="back-to-dashboard-btn" class="mb-4 text-indigo-600 hover:underline"><i class="fas fa-arrow-left mr-2"></i>‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Dashboard</button>
                    <div class="flex items-center gap-3 mb-2">
    <h2 id="project-title" 
        contenteditable="true" 
        class="text-3xl font-bold text-indigo-700 outline-none focus:ring-2 focus:ring-indigo-300 focus:bg-indigo-50 rounded-md px-2 py-1 transition-all"
        title="‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ä‡∏∑‡πà‡∏≠">
    </h2>
    <button id="save-project-name-btn" class="hidden bg-green-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-green-700 transition-all text-sm">
        <i class="fas fa-save mr-2"></i>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
    </button>
</div>
                    <p class="text-sm text-gray-500 mb-6">Project ID: <span id="project-id-display" class="font-mono"></span></p>
                    
                    <!-- Project Tabs -->
                    <div class="border-b border-gray-200 mb-6">
                        <nav class="-mb-px flex space-x-6">
                            <button id="manage-tab" class="main-tab active whitespace-nowrap py-3 px-1 border-b-2 font-medium text-lg">
                                <i class="fas fa-sliders-h mr-2"></i>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
                            </button>
                            <button id="results-tab" class="main-tab whitespace-nowrap py-3 px-1 border-b-2 font-medium text-lg text-gray-500 hover:text-gray-700">
                                <i class="fas fa-poll mr-2"></i>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
                            </button>
                            <button id="leaderboard-tab" class="main-tab whitespace-nowrap py-3 px-1 border-b-2 font-medium text-lg text-gray-500 hover:text-gray-700">
                                <i class="fas fa-trophy mr-2"></i>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ú‡∏π‡πâ‡∏ô‡∏≥
                            </button>
                        </nav>
                    </div>

                    <!-- Manage Tab Content -->
                    <div id="manage-tab-content">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <!-- Left Column: Settings & Students -->
                            <div class="space-y-6">
                                <!-- Quiz Settings -->
                                <div>
                                    <h3 class="text-xl font-semibold mb-3 border-b pb-2">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà)</h3>
<div class="space-y-4 p-4 bg-gray-50 rounded-lg">
    <div>
        <label for="quiz-type-select" class="block text-sm font-medium text-gray-700">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°:</label>
        <select id="quiz-type-select" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
            <optgroup label="‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ">
                <option value="multiple_choice">‡πÅ‡∏ö‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≠‡∏ö (‡∏Å, ‡∏Ç, ‡∏Ñ, ‡∏á)</option>
                <option value="matching">‡πÅ‡∏ö‡∏ö‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà (‡πÅ‡∏¢‡∏Å‡∏Ç‡πâ‡∏≠)</option>
                <option value="true_false">‡πÅ‡∏ö‡∏ö‡∏ñ‡∏π‡∏Å/‡∏ú‡∏¥‡∏î</option>
            </optgroup>
            <optgroup label="‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏≥">
                <option value="fill_in_with_choices">‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏≥ (‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏´‡πâ)</option>
                <option value="fill_in_no_choices">‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏≥ (‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ï‡∏≠‡∏ö‡πÄ‡∏≠‡∏á)</option>
                <option value="mixed">‡πÅ‡∏ö‡∏ö‡∏ú‡∏™‡∏° (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏≥)</option>
            </optgroup>
        </select>
    </div>

    <div>
        <label for="difficulty-level-select" class="block text-sm font-medium text-gray-700">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å:</label>
        <select id="difficulty-level-select" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
            <option value="auto" selected>‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏ï‡∏≤‡∏°‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠)</option>
            
            <optgroup label="üßí ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏ê‡∏°‡∏ß‡∏±‡∏¢">
                <option value="‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 1">‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 1 (K1)</option>
                <option value="‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 2">‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 2 (K2)</option>
                <option value="‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3">‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3 (K3)</option>
            </optgroup>

            <optgroup label="üìó ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤">
                <option value="‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1 (‡∏õ.1)</option>
                <option value="‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 2">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 2 (‡∏õ.2)</option>
                <option value="‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 3">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 3 (‡∏õ.3)</option>
                <option value="‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 4">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 4 (‡∏õ.4)</option>
                <option value="‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 5">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 5 (‡∏õ.5)</option>
                <option value="‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 6">‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 6 (‡∏õ.6)</option>
            </optgroup>
            
            <optgroup label="üìò ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤">
                <option value="‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1">‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1 (‡∏°.1)</option>
                <option value="‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 2">‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 2 (‡∏°.2)</option>
                <option value="‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 3">‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 3 (‡∏°.3)</option>
                <option value="‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 4">‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 4 (‡∏°.4)</option>
                <option value="‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 5">‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 5 (‡∏°.5)</option>
                <option value="‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 6">‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 6 (‡∏°.6)</option>
            </optgroup>

            <optgroup label="üéì ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏≠‡∏∏‡∏î‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤">
                <option value="‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ">‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ</option>
                <option value="‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÇ‡∏ó">‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÇ‡∏ó</option>
                <option value="‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÄ‡∏≠‡∏Å">‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÄ‡∏≠‡∏Å</option>
            </optgroup>
        </select>
    </div>

    <div>
        <label for="question-complexity-select" class="block text-sm font-medium text-gray-700">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° (Bloom's Taxonomy):</label>
        <select id="question-complexity-select" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
            <option value="mixed" selected>‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏•‡∏∞ (‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)</option>
            <option value="remembering">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≥ (Remembering)</option>
            <option value="understanding">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à (Understanding)</option>
            <option value="applying">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ (Applying)</option>
            <option value="analyzing">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå (Analyzing)</option>
            <option value="evaluating">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡πà‡∏≤ (Evaluating)</option>
            <option value="creating">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå (Creating)</option>
        </select>
    </div>

    <div>
        <label class="block text-sm font-medium text-gray-700">‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠):</label>
        <details class="mt-1 border border-gray-300 rounded-lg bg-white">
            <summary class="p-2 cursor-pointer text-gray-500">
                ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠... <span id="selected-topics-count" class="font-bold text-indigo-600"></span>
            </summary>
            
            <div class="sticky top-0 bg-white p-2 border-b border-gray-200 flex justify-between items-center gap-4">
                <input type="text" id="math-topic-search-input" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠..." class="w-full p-2 border border-gray-300 rounded-lg text-sm">
                <div class="flex items-center gap-3 shrink-0">
                    <button id="select-all-topics-btn" class="text-xs font-semibold text-blue-600 hover:underline">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                    <button id="deselect-all-topics-btn" class="text-xs font-semibold text-gray-500 hover:underline">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                </div>
            </div>
            <div id="math-topics-checkbox-container" class="p-3 max-h-60 overflow-y-auto">
                <p class="text-gray-400">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£...</p>
            </div>
        </details>
    </div>

    <div class="mt-3 p-3 bg-gray-100 rounded-lg">
        <label for="custom-math-topic-input" class="block text-sm font-medium text-gray-700 mb-1">
            ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á:
        </label>
        <div class="flex items-center gap-2">
            <input type="text" id="custom-math-topic-input" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ö‡∏ó‡πÄ‡∏®‡∏©‡πÄ‡∏´‡∏•‡∏∑‡∏≠..." class="w-full p-2 border border-gray-300 rounded-lg text-sm">
            <button id="add-custom-math-topic-btn" class="bg-blue-600 text-white py-2 px-3 rounded-lg font-semibold hover:bg-blue-700 text-sm shrink-0">
                <i class="fas fa-plus"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°
            </button>
        </div>
    </div>								

    <div class="grid grid-cols-2 gap-4">
        <div>
            <label for="num-questions" class="block text-sm font-medium text-gray-700">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠:</label>
            <input type="number" id="num-questions" value="5" min="1" max="20" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
        </div>
        <div>
            <label for="passing-score-input" class="block text-sm font-medium text-gray-700">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô:</label>
            <input type="number" id="passing-score-input" value="3" min="0" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
        </div>
    </div>
    <div id="num-choices-container">
        <label for="num-choices" class="block text-sm font-medium text-gray-700">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:</label>
        <input type="number" id="num-choices" value="4" min="2" max="6" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
    </div>
    <div>
        <label for="shuffle-setting-select" class="block text-sm font-medium text-gray-700">‡∏Å‡∏≤‡∏£‡∏™‡∏•‡∏±‡∏ö‡∏Ç‡πâ‡∏≠/‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:</label>
        <select id="shuffle-setting-select" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
            <option value="none">‡πÑ‡∏°‡πà‡∏™‡∏•‡∏±‡∏ö</option>
            <option value="questions_only">‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠</option>
            <option value="choices_only">‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
            <option value="both">‡∏™‡∏•‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏Ç‡πâ‡∏≠‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
        </select>
    </div>
    <div>
        <label for="results-display-select" class="block text-sm font-medium text-gray-700">‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏´‡πâ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:</label>
        <select id="results-display-select" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
            <option value="show_results_and_answers">‡∏ó‡∏£‡∏≤‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏â‡∏•‡∏¢‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</option>
            <option value="show_results_only">‡∏ó‡∏£‡∏≤‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏â‡∏•‡∏¢)</option>
            <option value="show_pass_fail_only">‡∏ó‡∏£‡∏≤‡∏ö‡∏ú‡∏•‡∏ú‡πà‡∏≤‡∏ô/‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</option>
            <option value="manual_release">‡∏£‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏•</option>
            <optgroup label="‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡πÉ‡∏´‡∏°‡πà)">
                <option value="half_mark_status">‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏£‡∏∂‡πà‡∏á/‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ñ‡∏£‡∏∂‡πà‡∏á</option>
                <option value="perfect_score_status">‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏°/‡πÑ‡∏°‡πà‡πÄ‡∏ï‡πá‡∏°</option>
            </optgroup>
        </select>
    </div>
    <div class="flex items-center mt-2">
        <input id="adaptive-quiz-checkbox" type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
        <label for="adaptive-quiz-checkbox" class="ml-2 block text-sm font-medium text-gray-900">
            ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏õ‡∏£‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô
        </label>
    </div>
    
    <div class="flex items-center mt-2">
        <input id="loop-until-pass-checkbox" type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
        <label for="loop-until-pass-checkbox" class="ml-2 block text-sm font-medium text-gray-900">
            ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡∏ô‡∏•‡∏π‡∏õ (‡∏™‡∏≠‡∏ö‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ú‡πà‡∏≤‡∏ô)
        </label>
    </div>

    <div class="flex items-center mt-2">
        <input id="force-math-checkbox" type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
        <label for="force-math-checkbox" class="ml-2 block text-sm font-medium text-gray-900">
            ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ï‡∏≤‡∏°‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏õ‡∏Å‡∏ï‡∏¥ (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå)
        </label>
    </div>
    <div class="flex items-center mt-2">
        <input id="include-images-checkbox" type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
        <label for="include-images-checkbox" class="ml-2 block text-sm font-medium text-gray-900">
            ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏Ç‡∏≤‡∏Ñ‡∏ì‡∏¥‡∏ï, ‡∏Å‡∏£‡∏≤‡∏ü, ‡∏Ø‡∏•‡∏Ø)
        </label>
    </div>
    <div class="p-3 border-t border-gray-200 mt-2 space-y-2 bg-indigo-50 rounded-lg">
        <div class="flex items-center">
            <input id="confidence-scoring-checkbox" type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
            <label for="confidence-scoring-checkbox" class="ml-2 block text-sm font-medium text-gray-900">
                ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à
            </label>
        </div>
        <div id="confidence-mode-container" class="hidden pl-6">
            <label for="confidence-mode-select" class="block text-xs font-medium text-gray-600">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö:</label>
            <select id="confidence-mode-select" class="mt-1 w-full p-1 text-sm border border-gray-300 rounded-lg">
                <option value="checkbox">‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (‡∏ï‡∏¥‡πä‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏Å‡πá‡πÑ‡∏î‡πâ)</option>
                <option value="mandatory">‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à/‡πÑ‡∏°‡πà‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à)</option>
            </select>
        </div>
    </div>
    <div class="border-t pt-4 mt-2">
        <label for="timer-mode-select" class="block text-sm font-medium text-gray-700">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤:</label>
        <select id="timer-mode-select" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
            <option value="none">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤</option>
            <option value="whole_quiz">‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏±‡πâ‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö (‡∏ô‡∏≤‡∏ó‡∏µ)</option>
            <option value="per_question">‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠ (‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)</option>
        </select>
        <div id="timer-duration-container" class="mt-2 hidden">
            <label for="timer-duration-input" id="timer-duration-label" class="block text-sm font-medium text-gray-700">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤:</label>
            <input type="number" id="timer-duration-input" value="10" min="1" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
        </div>
    </div>
    <button id="save-settings-btn" class="w-full bg-teal-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-teal-700 transition-colors text-sm">
        <i class="fas fa-save mr-2"></i>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
    </button>
</div>
                                </div>
								
								       <div id="project-visibility-settings">
    <h3 class="text-xl font-semibold mb-3 border-b pb-2">‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ</h3>
    <div class="p-4 bg-gray-50 rounded-lg">
        <div class="flex items-center">
            <input id="show-in-student-dashboard-checkbox" type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
            <label for="show-in-student-dashboard-checkbox" class="ml-3 block text-sm font-medium text-gray-800">
                ‡πÅ‡∏™‡∏î‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ "‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô" ‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
            </label>
        </div>
        <p class="text-xs text-gray-500 mt-2">
            ‡∏´‡∏≤‡∏Å‡∏õ‡∏¥‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ô‡∏µ‡πâ ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ô‡∏µ‡πâ‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏Ç‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ (‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏ó‡∏≥‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥)
        </p>

        <div class="mt-4 pt-4 border-t">
            <div class="flex items-center mb-2">
                <input id="enable-passcode-checkbox" type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                <label for="enable-passcode-checkbox" class="ml-3 block text-sm font-medium text-gray-800">
                    ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ô‡∏µ‡πâ
                </label>
            </div>
            <div id="passcode-input-container" class="hidden">
                <label for="project-passcode-input" class="block text-sm font-medium text-gray-700 mb-1">‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (4-8 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£):</label>
                <input type="text" id="project-passcode-input" class="w-full p-2 border border-gray-300 rounded-lg" maxlength="8">
            </div>
            <p class="text-xs text-red-500 mt-1">‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô: ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡∏π‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</p>
        </div>
        <button id="save-visibility-settings-btn" class="mt-4 w-full bg-teal-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-teal-700 transition-colors text-sm">
            <i class="fas fa-save mr-2"></i>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
        </button>
    </div>
</div>
								
                                <!-- Student Management -->
                                <div>
								
                                    <h3 class="text-xl font-semibold mb-3 border-b pb-2">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h3>
                                    <div class="p-4 bg-gray-50 rounded-lg">
                                        <div class="flex flex-col gap-2 mb-3">
                                            <label for="student-name-input" class="text-sm font-medium text-gray-700">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πà‡∏≠‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î):</label>
                                            <textarea id="student-name-input" rows="3" class="w-full p-2 border border-gray-300 rounded-lg" placeholder="‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ&#10;‡∏™‡∏°‡∏®‡∏£‡∏µ ‡∏°‡∏µ‡∏™‡∏∏‡∏Ç"></textarea>
                                            <button id="add-student-btn" class="bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700 self-end"><i class="fas fa-user-plus mr-2"></i>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠</button>
                                        </div>
                                        <div class="flex justify-between items-center mb-2">
                                            <h4 class="font-semibold text-sm">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô:</h4>
                                            <button id="delete-all-students-btn" class="text-red-600 hover:text-red-800 text-xs font-semibold py-1 px-2 rounded-md bg-red-100 hover:bg-red-200 transition-colors hidden"><i class="fas fa-trash-alt mr-1"></i>‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                                        </div>
                                        <div id="student-list" class="max-h-40 overflow-y-auto space-y-1 text-sm p-2 bg-white border rounded-md">
                                            <!-- Student names will be here -->
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Right Column: Quiz Generation -->
                            <div>
                                <h3 class="text-xl font-semibold mb-3 border-b pb-2">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà</h3>
                                <div id="quiz-generation-container" class="p-4 bg-gray-50 rounded-lg">
                                    <!-- Generation Tabs -->
                                    <div class="flex border-b mb-4 flex-wrap">
                                        <button id="topic-tab" class="generation-tab py-2 px-4 font-semibold active"><i class="fas fa-lightbulb mr-2"></i>‡∏à‡∏≤‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠</button>
                                        <button id="text-tab" class="generation-tab py-2 px-4 font-semibold text-gray-500"><i class="fas fa-file-alt mr-2"></i>‡∏à‡∏≤‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤</button>
                                        <button id="file-tab" class="generation-tab py-2 px-4 font-semibold text-gray-500"><i class="fas fa-file-upload mr-2"></i>‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå</button>
                                        <button id="link-tab" class="generation-tab py-2 px-4 font-semibold text-gray-500"><i class="fas fa-link mr-2"></i>‡∏à‡∏≤‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå</button>
										<button id="blueprint-tab" class="generation-tab py-2 px-4 font-semibold text-gray-500"><i class="fas fa-map-marked-alt mr-2"></i>‡∏à‡∏≤‡∏Å Test Blueprint</button>
										<button id="parallel-test-tab" class="generation-tab py-2 px-4 font-semibold text-gray-500"><i class="fas fa-clone mr-2"></i>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡∏Ñ‡∏π‡πà‡∏Ç‡∏ô‡∏≤‡∏ô</button>
                                        <button id="worksheet-tab" class="generation-tab py-2 px-4 font-semibold text-gray-500"><i class="fas fa-print mr-2"></i>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ö‡∏á‡∏≤‡∏ô</button>
                                    </div>

<div id="blueprint-input-area" class="hidden space-y-4">

    <label class="block text-sm font-medium text-gray-700">‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏±‡∏î (Blueprint Shortcuts):</label>
    <div id="blueprint-shortcut-container" class="grid grid-cols-2 sm:grid-cols-4 gap-4">
        <p id="shortcuts-loading-msg" class="col-span-full text-center text-gray-500 py-4">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
    </div>
    <div class="flex justify-between items-center mt-2">
        <button id="add-shortcut-btn" class="text-sm text-blue-600 font-semibold hover:underline">
            <i class="fas fa-plus-circle mr-1"></i>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏≤‡∏á‡∏•‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà
        </button>
        <label for="blueprint-upload-input" class="text-sm text-gray-600 font-semibold hover:underline cursor-pointer">
            <i class="fas fa-upload mr-1"></i>‡∏´‡∏£‡∏∑‡∏≠ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á
        </label>
        <input type="file" id="blueprint-upload-input" class="hidden" accept=".pdf">
    </div>
    <div id="blueprint-options-container" class="hidden mt-4 pt-4 border-t border-gray-200 space-y-3">
        <button id="save-blueprint-as-project-btn" class="hidden w-full bg-green-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-green-700 mb-4 items-center justify-center">
            <i class="fas fa-save mr-2"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏õ‡πá‡∏ô Project
        </button>
        <div class="flex items-center p-3 bg-indigo-50 rounded-lg">
            <input id="separate-by-content-checkbox" type="checkbox" class="h-5 w-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
            <label for="separate-by-content-checkbox" class="ml-3 block font-medium text-gray-800">
                ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏¥‡∏ß‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á)
            </label>
        </div>
        <div id="blueprint-topics-list-container" class="hidden p-3 border rounded-md bg-white">
            <p class="text-sm font-semibold mb-2 text-gray-700">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö:</p>
            <div id="blueprint-topics-list" class="space-y-2">
                <p class="text-gray-400">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠...</p>
            </div>
            <p class="text-xs text-gray-500 mt-3">*‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏à‡∏∞‡∏≠‡∏¥‡∏á‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏à‡∏≤‡∏Å Blueprint</p>
        </div>
    </div>

    <div class="mt-4 pt-4 border-t">
        <label for="reference-pdf-upload" class="block text-sm font-medium text-gray-700">
            (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡∏£‡∏¥‡∏°) ‡πÅ‡∏ô‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å (.pdf, .txt):
        </label>
        <input type="file" id="reference-pdf-upload" class="w-full p-2 border border-gray-300 rounded-lg file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-gray-50 file:text-gray-700 hover:file:bg-gray-100" accept=".pdf,.txt">
        <p class="text-xs text-gray-500 mt-1">
            AI ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡∏ä‡∏∏‡∏î‡πÉ‡∏´‡∏°‡πà ‡πÅ‡∏ï‡πà‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏°‡∏≤‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
        </p>
    </div>

    <button id="generate-from-blueprint-btn" class="w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 flex items-center justify-center disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
        <i class="fas fa-cogs mr-2"></i>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ï‡∏≤‡∏° Blueprint (‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î)
    </button>
</div>

<div id="parallel-test-input-area" class="hidden space-y-4">
<div class="mt-4 pt-4 border-t">
    <label class="block text-sm font-medium text-gray-700">‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö (Source Shortcuts):</label>
    <div id="parallel-shortcut-container" class="grid grid-cols-2 sm:grid-cols-4 gap-4 mt-2">
        <p id="parallel-shortcuts-loading-msg" class="col-span-full text-center text-gray-500 py-4">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
    </div>
    <div class="flex justify-between items-center mt-2">
        <button id="add-parallel-shortcut-btn" class="text-sm text-blue-600 font-semibold hover:underline">
            <i class="fas fa-plus-circle mr-1"></i>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏≤‡∏á‡∏•‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà
        </button>
    </div>
</div>
    <label for="parallel-test-upload-input" class="block text-sm font-medium text-gray-700">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö (.pdf, .txt):</label>
    <input type="file" id="parallel-test-upload-input" class="w-full p-2 border border-gray-300 rounded-lg file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100" accept=".pdf,.txt">
    <p class="text-xs text-gray-500">AI ‡∏à‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡∏∏‡∏î‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î‡∏ú‡∏•‡πÉ‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÅ‡∏ï‡πà‡πÉ‡∏ä‡πâ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ñ‡∏ô‡∏•‡∏∞‡∏ä‡∏∏‡∏î</p>

    <button id="generate-from-parallel-test-btn" class="w-full bg-teal-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-teal-700 flex items-center justify-center disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
        <i class="fas fa-cogs mr-2"></i>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏π‡πà‡∏Ç‡∏ô‡∏≤‡∏ô
    </button>
</div>
                                    <!-- Topic Input -->
                                    <div id="topic-input-area" class="space-y-4">
                                        <input type="text" id="topic-input" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ö‡∏ó‡∏û‡∏µ‡∏ó‡∏≤‡πÇ‡∏Å‡∏£‡∏±‡∏™">
                                        <button id="generate-from-topic-btn" class="w-full bg-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-indigo-700 flex items-center justify-center"><i class="fas fa-cogs mr-2"></i>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</button>
                                    </div>
                                    <!-- Text Input -->
                                    <div id="text-input-area" class="hidden space-y-4">
                                        <textarea id="text-content-input" rows="6" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="‡∏ß‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..."></textarea>
                                        <button id="generate-from-text-btn" class="w-full bg-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-indigo-700 flex items-center justify-center"><i class="fas fa-cogs mr-2"></i>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</button>
                                    </div>
                                    <!-- File Input -->
                                    <div id="file-input-area" class="hidden space-y-4">
									<div class="mt-4 pt-4 border-t">
    <label class="block text-sm font-medium text-gray-700">‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏±‡∏î‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå (File Shortcuts):</label>
    <div id="file-shortcut-container" class="grid grid-cols-2 sm:grid-cols-4 gap-4 mt-2">
        <p id="file-shortcuts-loading-msg" class="col-span-full text-center text-gray-500 py-4">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
    </div>
    <div class="flex justify-between items-center mt-2">
        <button id="add-file-shortcut-btn" class="text-sm text-blue-600 font-semibold hover:underline">
            <i class="fas fa-plus-circle mr-1"></i>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏≤‡∏á‡∏•‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà
        </button>
    </div>
</div>
    <label for="file-upload-input" class="block text-sm font-medium text-gray-700">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå PDF, Word (.docx), ‡∏´‡∏£‡∏∑‡∏≠ Text (.txt):</label>
    <input type="file" id="file-upload-input" class="w-full p-2 border border-gray-300 rounded-lg file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100" accept=".pdf,.docx,.txt">
	
	<div class="flex items-center my-3 p-3 bg-indigo-50 rounded-lg">
    <input id="separate-by-content-from-file-checkbox" type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
    <label for="separate-by-content-from-file-checkbox" class="ml-3 block text-sm font-medium text-gray-800">
        ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏¥‡∏ß‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á)
        <p class="text-xs text-gray-500">AI ‡∏à‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</p>
    </label>
</div>

<div id="file-topics-list-container" class="hidden p-3 mt-4 border rounded-md bg-white">
    <p class="text-sm font-semibold mb-2 text-gray-700">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö:</p>
    <div id="file-topics-list" class="space-y-2">
        <p class="text-gray-400">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå...</p>
    </div>
</div>
	
	    <div class="flex items-center my-3 p-3 bg-indigo-50 rounded-lg">
        <input id="original-mode-checkbox" type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
        <label for="original-mode-checkbox" class="ml-3 block text-sm font-medium text-gray-800">
            ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö (Original Mode)
            <p class="text-xs text-gray-500">AI ‡∏à‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ï‡∏≤‡∏°‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
        </label>
    </div>
	
    <input type="text" id="file-topic-input" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥)...">
    <p class="text-xs text-gray-500">‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå</p>

    <button id="generate-from-file-btn" class="w-full bg-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-indigo-700 flex items-center justify-center disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
        <i class="fas fa-cogs mr-2"></i>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö
    </button>
</div>

<div id="file-shortcut-editor-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 p-4">
    <div class="bg-white p-6 rounded-lg shadow-xl max-w-lg w-full">
        <h3 id="file-shortcut-modal-title" class="text-xl font-bold mb-4">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏±‡∏î‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå</h3>
        <div class="space-y-4">
            <div>
                <label for="file-shortcut-name-input" class="block text-sm font-medium text-gray-700">‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏±‡∏î:</label>
                <input type="text" id="file-shortcut-name-input" class="mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡∏Å‡∏•‡∏≤‡∏á‡∏†‡∏≤‡∏Ñ .pdf">
            </div>
            <div>
                <label for="file-shortcut-url-input" class="block text-sm font-medium text-gray-700">‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏ü‡∏•‡πå (.pdf, .txt ‡∏à‡∏≤‡∏Å Google Drive):</label>
                <input type="url" id="file-shortcut-url-input" class="mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="‡∏ß‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏ä‡∏£‡πå‡πÅ‡∏ö‡∏ö '‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏•‡∏¥‡∏á‡∏Å‡πå' ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà">
            </div>
        </div>
        <div class="flex justify-end gap-3 mt-6">
            <input type="hidden" id="file-shortcut-id-input">
            <button id="cancel-file-shortcut-edit-btn" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button id="save-file-shortcut-btn" class="bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        </div>
    </div>
</div>

<div id="additional-file-shortcuts-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
<div class="bg-white p-6 rounded-lg shadow-xl max-w-2xl w-full flex flex-col h-[80vh]">
    <div class="flex justify-between items-center mb-4">
        <h3 class="text-xl font-bold text-gray-700">‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏±‡∏î‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
        <button id="close-additional-file-shortcuts-btn" class="text-gray-500 hover:text-red-600 text-2xl">&times;</button>
    </div>

    <div class="flex items-center border-b border-gray-200 mb-3 flex-shrink-0">
        <nav id="file-shortcut-tabs-nav" class="flex-grow -mb-px flex space-x-4 overflow-x-auto" aria-label="Tabs">
            </nav>
        <button id="add-file-shortcut-tab-btn" class="ml-4 text-blue-600 hover:text-blue-800 font-semibold text-sm whitespace-nowrap py-3" title="‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ó‡πá‡∏ö‡πÉ‡∏´‡∏°‡πà">
            <i class="fas fa-plus-circle"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ó‡πá‡∏ö
        </button>
    </div>

    <div id="additional-file-shortcuts-list" class="flex-grow overflow-y-auto border rounded-md">
        </div>
</div>
</div>

<div id="parallel-shortcut-editor-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 p-4">
    <div class="bg-white p-6 rounded-lg shadow-xl max-w-lg w-full">
        <h3 id="parallel-shortcut-modal-title" class="text-xl font-bold mb-4">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö</h3>
        <div class="space-y-4">
            <div>
                <label for="parallel-shortcut-name-input" class="block text-sm font-medium text-gray-700">‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏±‡∏î:</label>
                <input type="text" id="parallel-shortcut-name-input" class="mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="‡πÄ‡∏ä‡πà‡∏ô O-NET ‡∏õ.6 ‡∏õ‡∏µ 65">
            </div>
            <div>
                <label for="parallel-shortcut-url-input" class="block text-sm font-medium text-gray-700">‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö (.pdf, .txt ‡∏à‡∏≤‡∏Å Google Drive):</label>
                <input type="url" id="parallel-shortcut-url-input" class="mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="‡∏ß‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏ä‡∏£‡πå‡πÅ‡∏ö‡∏ö '‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏•‡∏¥‡∏á‡∏Å‡πå' ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà">
            </div>
        </div>
        <div class="flex justify-end gap-3 mt-6">
            <input type="hidden" id="parallel-shortcut-id-input">
            <button id="cancel-parallel-shortcut-edit-btn" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button id="save-parallel-shortcut-btn" class="bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        </div>
    </div>
</div>

<div id="additional-parallel-shortcuts-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
<div class="bg-white p-6 rounded-lg shadow-xl max-w-2xl w-full flex flex-col h-[80vh]">
    <div class="flex justify-between items-center mb-4">
        <h3 class="text-xl font-bold text-gray-700">‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
        <button id="close-additional-parallel-shortcuts-btn" class="text-gray-500 hover:text-red-600 text-2xl">&times;</button>
    </div>

    <div class="flex items-center border-b border-gray-200 mb-3 flex-shrink-0">
        <nav id="parallel-shortcut-tabs-nav" class="flex-grow -mb-px flex space-x-4 overflow-x-auto" aria-label="Tabs">
            </nav>
        <button id="add-parallel-shortcut-tab-btn" class="ml-4 text-blue-600 hover:text-blue-800 font-semibold text-sm whitespace-nowrap py-3" title="‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ó‡πá‡∏ö‡πÉ‡∏´‡∏°‡πà">
            <i class="fas fa-plus-circle"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ó‡πá‡∏ö
        </button>
    </div>

    <div id="additional-parallel-shortcuts-list" class="flex-grow overflow-y-auto border rounded-md">
        </div>
</div>
</div>

                                    <!-- Link Input -->
                                    <div id="link-input-area" class="hidden space-y-4">
                                        <input type="url" id="link-url-input" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="‡∏ß‡∏≤‡∏á URL ‡∏Ç‡∏≠‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà...">
                                        <input type="text" id="link-topic-input" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥)...">
                                        <button id="generate-from-link-btn" class="w-full bg-cyan-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-cyan-700 flex items-center justify-center">
                                            <i class="fas fa-cogs mr-2"></i>‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö
                                        </button>
                                    </div>
                                    <!-- Worksheet Input -->
                                    <div id="worksheet-input-area" class="hidden space-y-4">
                                        <input type="text" id="worksheet-topic-input" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ö‡∏á‡∏≤‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏≤‡∏£‡∏ö‡∏ß‡∏Å‡πÄ‡∏•‡∏Ç‡∏™‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å">
                                        <button id="generate-worksheet-btn" class="w-full bg-emerald-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-emerald-700 flex items-center justify-center"><i class="fas fa-file-alt mr-2"></i>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ö‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏¥‡∏°‡∏û‡πå</button>
                                    </div>
                                </div>
                                <!-- Generation Result Area -->
                                <div id="quiz-generation-area" class="mt-6 hidden">
                                    <div id="loader" class="flex flex-col items-center justify-center hidden">
                                        <div class="loader"></div>
                                        <p id="loader-text" class="mt-3 text-gray-600">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á...</p>
                                    </div>
                                    <div id="generated-quiz-container"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Results Tab Content -->
                    <div id="results-tab-content" class="hidden">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-xl font-semibold">‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ô‡∏µ‡πâ</h3>
                             <input type="text" id="quiz-search-input" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö..." class="w-full md:w-auto p-2 border border-gray-300 rounded-lg">
                        </div>
                        <div id="project-quizzes-list" class="space-y-3">
                            <p class="text-gray-500">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö...</p>
                        </div>
                    </div>

                    <!-- Leaderboard Tab Content -->
                    <div id="leaderboard-tab-content" class="hidden">
                        <h3 class="text-xl font-semibold mb-4">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ (‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°)</h3>
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white border border-gray-200">
                                <thead class="bg-gray-100">
                                    <tr>
                                        <th class="py-2 px-4 border-b text-center w-16">‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</th>
                                        <th class="py-2 px-4 border-b text-left">‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</th>
                                        <th class="py-2 px-4 border-b text-center">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏° (Points)</th>
                                        <th class="py-2 px-4 border-b text-left">‡∏õ‡πâ‡∏≤‡∏¢‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö</th>
                                    </tr>
                                </thead>
                                <tbody id="leaderboard-table-body">
                                    <!-- Leaderboard rows will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Quiz Detail/Results View -->
                <div id="quiz-results-view" class="hidden">
<div class="flex items-center gap-4 mb-4">
        <button id="back-to-project-btn" class="text-indigo-600 hover:underline"><i class="fas fa-arrow-left mr-2"></i>‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ</button>

        <!-- --- ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤ --- -->
        <button id="back-to-dashboard-from-results-btn" class="text-gray-500 hover:underline text-sm"><i class="fas fa-th-large mr-2"></i>‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Dashboard</button>
    </div>

    <h2 id="results-quiz-title" class="text-3xl font-bold text-indigo-700 mb-2"></h2>
    <p class="text-sm text-gray-500 mb-4">Quiz ID: <span id="results-quiz-id-display" class="font-mono"></span></p>

                    

                       <!-- Quiz Detail Tabs -->
                    <div class="border-b border-gray-200 mb-6">
                        <nav class="-mb-px flex space-x-6">
                            <button id="analytics-tab-btn" class="main-tab active whitespace-nowrap py-3 px-1 border-b-2 font-medium text-lg">
                                <i class="fas fa-chart-line mr-2"></i>‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏•
                            </button>
                            <button id="scores-tab-btn" class="main-tab whitespace-nowrap py-3 px-1 border-b-2 font-medium text-lg text-gray-500 hover:text-gray-700">
                                <i class="fas fa-users mr-2"></i>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
                            </button>
                            <!-- NEW: Quiz Leaderboard Tab Button -->
                            <button id="leaderboard-quiz-tab-btn" class="main-tab whitespace-nowrap py-3 px-1 border-b-2 font-medium text-lg text-gray-500 hover:text-gray-700">
                                <i class="fas fa-trophy mr-2"></i>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ú‡∏π‡πâ‡∏ô‡∏≥
                            </button>
							
							        <button id="behavior-log-tab-btn" class="main-tab whitespace-nowrap py-3 px-1 border-b-2 font-medium text-lg text-gray-500 hover:text-gray-700">
            <i class="fas fa-user-clock mr-2"></i>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°
        </button>
							
                        </nav>
                    </div>

                    <!-- Analytics Tab -->
                    <div id="analytics-tab-content">
                        <!-- Summary Cards -->
                        <div id="analytics-summary-cards" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                            <!-- Cards will be injected here -->
                        </div>
                        <!-- Charts -->
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h4 class="font-semibold mb-2 text-center">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô</h4>
                                <canvas id="submission-status-chart"></canvas>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h4 class="font-semibold mb-2 text-center">‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h4>
                                <canvas id="score-distribution-chart"></canvas>
                            </div>
                        </div>

                        <!-- NEW: AI Strength/Weakness Analysis Section -->
                        <div class="mt-8">
                            <h3 class="text-xl font-semibold mb-3 border-b pb-2">AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°</h3>
                            <div class="flex justify-center">
                                <button id="analyze-strengths-btn" class="bg-indigo-600 text-white py-2 px-5 rounded-lg font-semibold hover:bg-indigo-700 transition-all duration-300 flex items-center gap-2">
                                    <i class="fas fa-magic"></i>‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏à‡∏∏‡∏î‡πÅ‡∏Ç‡πá‡∏á-‡∏à‡∏∏‡∏î‡∏≠‡πà‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á
                                </button>
                            </div>
                            <div id="strength-weakness-analysis-container" class="mt-4">
                                <!-- Analysis results will be displayed here -->
                            </div>
                        </div>

                        <!-- Per-Question Analysis -->
                        <div class="mt-8">
                             <h3 class="text-xl font-semibold mb-3 border-b pb-2">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠</h3>
                             <div id="question-analytics-container" class="space-y-4">
                                 <!-- Accordions will be injected here -->
                             </div>
                        </div>
                    </div>

                    <!-- Scores Tab -->
                    <div id="scores-tab-content" class="hidden">
                        <!-- Export Buttons -->
                        <div class="mb-4 flex flex-wrap gap-2">
                            <span class="self-center font-semibold mr-2">Export ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:</span>
                            <button id="export-image-btn" class="bg-gray-600 text-white py-1 px-3 rounded-md hover:bg-gray-700 text-sm flex items-center gap-2"><i class="fas fa-file-image"></i>Image</button>
                            <button id="export-pdf-btn" class="bg-red-600 text-white py-1 px-3 rounded-md hover:bg-red-700 text-sm flex items-center gap-2"><i class="fas fa-file-pdf"></i>PDF</button>
                            <button id="export-word-btn" class="bg-blue-600 text-white py-1 px-3 rounded-md hover:bg-blue-700 text-sm flex items-center gap-2"><i class="fas fa-file-word"></i>Word</button>
                            <button id="export-excel-btn" class="bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 text-sm flex items-center gap-2"><i class="fas fa-file-excel"></i>Excel</button>
                        </div>
						
						                        <h3 class="text-xl font-semibold mb-2 mt-4">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏£‡∏≤‡∏¢‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</h3>
                        <p class="text-sm text-gray-500 mb-2">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</p>
                        <div id="answer-grid-container" class="overflow-x-auto mb-8 border border-gray-200 rounded-lg">
                            </div>
						
                        <div class="overflow-x-auto" id="results-table-container">
                            <table class="min-w-full bg-white border border-gray-200" id="results-table">
                                <thead class="bg-gray-100">
                                    <tr>
                                        <th class="py-2 px-4 border-b text-left">‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</th>
                                        <th class="py-2 px-4 border-b text-left">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</th>
                                        <th class="py-2 px-4 border-b text-left">‡∏ú‡∏•</th>
                                        <th class="py-2 px-4 border-b text-left">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                                        <th class="py-2 px-4 border-b text-left">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å</th>
                                        <th class="py-2 px-4 border-b text-left">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</th>
                                        <th class="py-2 px-4 border-b text-left">Points</th>
                                        <th class="py-2 px-4 border-b text-left">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                        <th class="py-2 px-4 border-b text-left">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</th>
                                    </tr>
                                </thead>
                                <tbody id="quiz-results-table-body">
                                    <!-- Results will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- NEW: Quiz Leaderboard Tab Content -->
                    <div id="leaderboard-quiz-tab-content" class="hidden">
    <h3 class="text-xl font-semibold mb-4">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ú‡∏π‡πâ‡∏ô‡∏≥ (‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ô‡∏µ‡πâ)</h3>

    <div class="mb-4 flex flex-wrap gap-2">
        <span class="self-center font-semibold mr-2">Export ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:</span>
        <button id="export-leaderboard-image-btn" class="bg-gray-600 text-white py-1 px-3 rounded-md hover:bg-gray-700 text-sm flex items-center gap-2"><i class="fas fa-file-image"></i>Image</button>
        <button id="export-leaderboard-pdf-btn" class="bg-red-600 text-white py-1 px-3 rounded-md hover:bg-red-700 text-sm flex items-center gap-2"><i class="fas fa-file-pdf"></i>PDF</button>
        <button id="export-leaderboard-word-btn" class="bg-blue-600 text-white py-1 px-3 rounded-md hover:bg-blue-700 text-sm flex items-center gap-2"><i class="fas fa-file-word"></i>Word</button>
        <button id="export-leaderboard-excel-btn" class="bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 text-sm flex items-center gap-2"><i class="fas fa-file-excel"></i>Excel</button>
    </div>
    <div class="overflow-x-auto" id="quiz-leaderboard-table-container">
        <table class="min-w-full bg-white border border-gray-200" id="quiz-leaderboard-table">
            <thead class="bg-gray-100">
                <tr>
                    <th class="py-2 px-4 border-b text-center w-16">‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</th>
                    <th class="py-2 px-4 border-b text-left">‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</th>
                    <th class="py-2 px-4 border-b text-center">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</th>
                    <th class="py-2 px-4 border-b text-center">‡∏ú‡∏•</th>
                    <th class="py-2 px-4 border-b text-center">Points (‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î)</th>
                    <th class="py-2 px-4 border-b text-center">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥</th>
                    <th class="py-2 px-4 border-b text-left">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</th>
                    <th class="py-2 px-4 border-b text-left">‡∏õ‡πâ‡∏≤‡∏¢‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</th>
                </tr>
            </thead>
            <tbody id="quiz-leaderboard-table-body">
                </tbody>
        </table>
    </div>
</div>

<div id="behavior-log-tab-content" class="hidden">
    <h3 class="text-xl font-semibold mb-4">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h3>
    <div id="behavior-log-container" class="space-y-4">
        </div>
</div>

                </div>
				
<div id="blueprint-project-manager-view" class="hidden fade-in">
    <button id="back-to-dashboard-from-bp-btn" class="mb-4 text-indigo-600 hover:underline">
        <i class="fas fa-arrow-left mr-2"></i>‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Dashboard
    </button>

    <div class="flex justify-between items-center mb-4">
        <h2 id="bp-project-title" class="text-3xl font-bold text-teal-700"></h2>
        <button id="bp-quiz-settings-btn" class="bg-orange-500 text-white py-2 px-4 rounded-lg font-semibold hover:bg-orange-600 flex items-center gap-2">
            <i class="fas fa-cog"></i> ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö
        </button>
    </div>

<div class="mt-4 p-4 bg-yellow-50 border-l-4 border-yellow-400 rounded-r-lg">
    <label for="bp-reference-file-url" class="block text-sm font-medium text-yellow-800 mb-1">
        <i class="fas fa-link mr-1"></i> ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö O-NET ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô):
    </label>
    <div class="flex items-center gap-2">
        <input type="url" id="bp-reference-file-url" 
               class="w-full p-2 border border-yellow-300 rounded-lg text-sm" 
               placeholder="‡∏ß‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏ü‡∏•‡πå .pdf ‡∏´‡∏£‡∏∑‡∏≠ .txt ‡∏ó‡∏µ‡πà‡πÅ‡∏ä‡∏£‡πå‡πÅ‡∏ö‡∏ö '‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏•‡∏¥‡∏á‡∏Å‡πå' ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà">
        <button id="save-bp-reference-btn" 
                class="bg-yellow-600 text-white py-2 px-3 rounded-lg font-semibold hover:bg-yellow-700 text-sm shrink-0">
            <i class="fas fa-save"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
        </button>
    </div>
    <p class="text-xs text-yellow-700 mt-1">
        AI ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô "‡∏ï‡πâ‡∏ô‡πÅ‡∏ö‡∏ö" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏Ç‡∏≠‡∏á‡πÇ‡∏à‡∏ó‡∏¢‡πå O-NET ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠
    </p>
</div>

    <div class="bg-gray-50 p-4 rounded-lg">
        <h3 class="font-semibold mb-2">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ:</h3>
        
        <div id="bp-topic-list-container" class="space-y-2">
            </div>
        
        <div class="mt-4 pt-4 border-t">
            <button id="bp-add-topic-btn" class="bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700 text-sm">
                <i class="fas fa-plus mr-2"></i>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà
            </button>
        </div>
    </div>
</div>
				
            </div>

            <!-- Student View -->
            <div id="student-view" class="fade-in">
                <div id="student-initial-view">
                    <h2 class="text-2xl font-bold mb-4 text-indigo-700 text-center">‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h2>
                    <div id="student-entry-area" class="space-y-4 max-w-md mx-auto">
                        <div>
                            <label for="quiz-id-input" class="block text-sm font-medium text-gray-700 mb-1">‡∏õ‡πâ‡∏≠‡∏ô‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö:</label>
                            <input type="text" id="quiz-id-input" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="‡∏ß‡∏≤‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°">
                        </div>
                        <button id="load-quiz-btn" class="w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 flex items-center justify-center">
                            <i class="fas fa-search mr-2"></i>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö
                        </button>
                        <div class="relative flex py-3 items-center">
                            <div class="flex-grow border-t border-gray-300"></div>
                            <span class="flex-shrink mx-4 text-gray-500">‡∏´‡∏£‡∏∑‡∏≠</span>
                            <div class="flex-grow border-t border-gray-300"></div>
                        </div>
						
						<button id="view-my-progress-btn" class="w-full bg-teal-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-teal-700 flex items-center justify-center">
    <i class="fas fa-chart-line mr-2"></i>‡∏î‡∏π‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô
</button>
						
                        <button id="join-live-game-btn" class="w-full bg-purple-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-purple-700 flex items-center justify-center">
                            <i class="fas fa-flag-checkered mr-2"></i>‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏Å‡∏°‡∏™‡∏î
                        </button>
						<button id="join-group-activity-btn" class="w-full bg-cyan-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-cyan-700 flex items-center justify-center">
    <i class="fas fa-users mr-2"></i>‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°/‡∏ó‡∏µ‡∏°
</button>
                    </div>
                </div>

                <!-- NEW: Student Join Live Game View -->
                <div id="student-join-game-view" class="hidden max-w-md mx-auto">
                     <h2 class="text-2xl font-bold mb-4 text-indigo-700 text-center">‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏Å‡∏°‡∏™‡∏î</h2>
                     <div class="space-y-4">
                         <div>
                             <label for="game-pin-input" class="block text-sm font-medium text-gray-700 mb-1">‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° (Game PIN):</label>
                             <input type="number" id="game-pin-input" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° (2 ‡∏´‡∏•‡∏±‡∏Å)" maxlength="2">
                         </div>
                         <div>
                             <label for="nickname-input" class="block text-sm font-medium text-gray-700 mb-1">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô:</label>
                             <input type="text" id="nickname-input" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô">
                         </div>
                         <button id="confirm-join-game-btn" class="w-full bg-green-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-green-700">
                             <i class="fas fa-sign-in-alt mr-2"></i>‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°
                         </button>
                         <button id="back-to-student-initial-btn" class="w-full mt-2 bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300">
                             ‡∏Å‡∏•‡∏±‡∏ö
                         </button>
                     </div>
                </div>
                
                <div id="student-name-selection-view" class="hidden max-w-md mx-auto">
                    <h2 id="student-quiz-topic" class="text-2xl font-bold mb-4 text-indigo-700 text-center"></h2>
                    <label for="student-name-select" class="block text-sm font-medium text-gray-700 mb-1">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:</label>
                    <select id="student-name-select" class="w-full p-3 border border-gray-300 rounded-lg"></select>
                    <button id="start-quiz-btn" class="w-full mt-4 bg-green-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-green-700">
                        <i class="fas fa-play-circle mr-2"></i>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö
                    </button>
                </div>
				
				<div id="student-team-selection-view" class="hidden max-w-md mx-auto">
    <h2 id="team-quiz-topic" class="text-2xl font-bold mb-4 text-cyan-700 text-center"></h2>
    <label class="block text-sm font-medium text-gray-700 mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ:</label>
    <div id="team-student-list" class="space-y-2 p-3 border rounded-lg max-h-60 overflow-y-auto bg-gray-50">
        </div>
    <div class="flex gap-2 mt-4">
        <button id="cancel-team-selection-btn" class="w-1/3 bg-gray-200 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-300">
            ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
        </button>
        <button id="confirm-team-players-btn" class="w-2/3 bg-green-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-green-700">
            <i class="fas fa-play-circle mr-2"></i>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°
        </button>
    </div>
</div>
				
				<div id="student-progress-view" class="hidden max-w-4xl mx-auto">
    <button id="back-to-student-home-btn" class="mb-4 text-indigo-600 hover:underline"><i class="fas fa-arrow-left mr-2"></i>‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
    <h2 class="text-2xl font-bold mb-4 text-teal-700 text-center">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h2>

    <div class="flex flex-col md:flex-row gap-4 mb-6 p-4 bg-gray-100 rounded-lg">
        <div class="flex-1">
            <label for="progress-project-select" class="block text-sm font-medium text-gray-700 mb-1">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ:</label>
            <select id="progress-project-select" class="w-full p-2 border border-gray-300 rounded-lg"></select>
        </div>
        <div class="flex-1">
            <label for="progress-student-select" class="block text-sm font-medium text-gray-700 mb-1">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:</label>
            <select id="progress-student-select" class="w-full p-2 border border-gray-300 rounded-lg" disabled></select>
        </div>
    </div>

    <div id="student-progress-content">
        <p class="text-center text-gray-500">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÅ‡∏•‡∏∞‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
    </div>
</div>
				
                <div id="student-quiz-area" class="mt-6 hidden"></div>
                <div id="student-result-area" class="mt-6 hidden"></div>
                <div id="student-reading-area" class="mt-6 hidden"></div>
            </div>

            <!-- NEW: Live Game View (Covers the whole main content area) -->
            <div id="live-game-view" class="hidden fade-in">
                <!-- Content will be injected by JS -->
            </div>

        </main>
        
        <div id="user-info" class="text-center mt-6 text-xs text-gray-400">
            User ID: <span id="user-id-display">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span>
        </div>
    </div>
    
    <!-- Modals -->
    <div id="message-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white p-6 rounded-lg shadow-xl max-w-sm w-full text-center">
            <p id="modal-message" class="text-lg mb-4"></p>
            <button id="modal-close-btn" class="bg-indigo-600 text-white py-2 px-6 rounded-lg hover:bg-indigo-700">‡∏ï‡∏Å‡∏•‡∏á</button>
        </div>
    </div>
	
	<div id="export-pdf-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
    <div class="bg-white p-8 rounded-lg shadow-xl max-w-md w-full">
        <h3 class="text-xl font-bold mb-6 text-center">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£ Export PDF</h3>
        <div class="space-y-4">
            <button id="export-compact-pdf-btn" class="w-full flex items-center justify-center gap-3 bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-all">
                <i class="fas fa-columns fa-lg"></i>
                <div>
                    <p>‡πÅ‡∏ö‡∏ö‡∏Å‡∏£‡∏∞‡∏ä‡∏±‡∏ö (2 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå)</p>
                    <p class="text-xs font-normal">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏¥‡∏°‡∏û‡πå‡πÅ‡∏à‡∏Å‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô, ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©</p>
                </div>
            </button>
            <button id="export-tutor-pdf-btn" class="w-full flex items-center justify-center gap-3 bg-teal-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-teal-700 transition-all">
                <i class="fas fa-chalkboard-teacher fa-lg"></i>
                <div>
                    <p>‡πÅ‡∏ö‡∏ö‡∏ï‡∏¥‡∏ß‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö (‡∏Ç‡πâ‡∏≠‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤)</p>
                    <p class="text-xs font-normal">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏ä‡πâ‡∏™‡∏≠‡∏ô, ‡∏°‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</p>
                </div>
            </button>
        </div>
        <div class="flex justify-end mt-8">
            <button id="cancel-export-pdf-btn" class="bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        </div>
    </div>
</div>
	
	<div id="comparison-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50 p-4">
    <div class="bg-white p-6 rounded-lg shadow-xl max-w-5xl w-full h-[90vh] flex flex-col">
        <div class="flex justify-between items-center mb-2">
            <h3 id="comparison-title" class="text-2xl font-bold text-indigo-700">‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</h3>
            <button id="close-comparison-modal-btn" class="text-gray-500 hover:text-red-600 text-3xl">&times;</button>
        </div>

        <div class="border-b border-gray-200">
            <nav class="-mb-px flex space-x-6">
                <button id="comparison-overall-tab" class="main-tab active whitespace-nowrap py-3 px-1 border-b-2 font-medium text-lg">
                    <i class="fas fa-chart-pie mr-2"></i>‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°
                </button>
                <button id="comparison-individual-tab" class="main-tab whitespace-nowrap py-3 px-1 border-b-2 font-medium text-lg text-gray-500 hover:text-gray-700">
                    <i class="fas fa-user-friends mr-2"></i>‡∏£‡∏≤‡∏¢‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•
                </button>
            </nav>
        </div>
        
        <div class="flex-grow overflow-y-auto pt-4 bg-gray-50 p-2 md:p-6">
            <div id="comparison-overall-content">
                </div>
            <div id="comparison-individual-content" class="hidden">
                </div>
        </div>

        <div class="mt-4 pt-4 border-t flex justify-end">
            <button id="close-comparison-modal-footer-btn" class="bg-gray-200 text-gray-800 py-2 px-6 rounded-lg hover:bg-gray-300">‡∏õ‡∏¥‡∏î</button>
        </div>
    </div>
</div>

<div id="lesson-view-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 z-50 p-4 flex items-center justify-center">
    <div class="bg-white w-full max-w-5xl h-[95vh] rounded-lg shadow-xl flex flex-col">
 <div class="flex justify-between items-center p-4 border-b">
    <h3 id="lesson-view-title" class="text-2xl font-bold text-indigo-700"></h3>
    <div class="flex items-center gap-4">
        <button id="fix-lesson-latex-btn" class="bg-yellow-500 text-white py-2 px-4 rounded-lg font-semibold hover:bg-yellow-600 transition-colors text-sm flex items-center gap-2">
            <i class="fas fa-magic-wand-sparkles"></i> ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏π‡∏ï‡∏£
        </button>
        <button id="export-lesson-to-pdf-btn" class="bg-red-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-red-700 transition-colors text-sm flex items-center gap-2">
            <i class="fas fa-file-pdf"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô PDF
        </button>
        <button id="close-lesson-view-btn" class="text-gray-500 hover:text-red-600 text-3xl">&times;</button>
    </div>
</div>
        <div id="lesson-view-content" class="flex-grow overflow-y-auto p-6 bg-gray-50">
            <div id="lesson-loader" class="hidden text-center py-16">
                <div class="loader mx-auto"></div>
                <p id="lesson-loader-text" class="mt-4 text-gray-600">AI ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô... ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà</p>
            </div>
            <div id="lesson-sections-container" class="hidden space-y-6 ai-content">
                <div class="p-6 bg-white rounded-lg shadow-sm border"><h3 class="section-header"><i class="fas fa-bullseye"></i>POINT ‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏î‡∏µ</h3><div id="pointContent"></div></div>
                <div class="p-6 bg-white rounded-lg shadow-sm border"><h3 class="section-header"><i class="fas fa-sd-card"></i>MEMORY ‡∏°‡∏µ‡∏™‡∏π‡∏ï‡∏£‡∏à‡∏≥</h3><div id="memoryContent"></div></div>
                <div class="p-6 bg-white rounded-lg shadow-sm border"><h3 class="section-header"><i class="fas fa-pencil-alt"></i>APPLICATION ‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ</h3><div id="applicationContent"></div></div>
                <div class="p-6 bg-white rounded-lg shadow-sm border"><h3 class="section-header"><i class="fas fa-file-alt"></i>ONE-PAGE SUMMARY ‡πÑ‡∏ß‡πâ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</h3><div id="summaryContent"></div></div>
            </div>
        </div>
    </div>
</div>

    <div id="create-project-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white p-8 rounded-lg shadow-xl max-w-md w-full">
            <h3 class="text-xl font-bold mb-4">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÉ‡∏´‡∏°‡πà</h3>
            <label for="project-name-input" class="block text-sm font-medium text-gray-700 mb-1">‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ:</label>
            <input type="text" id="project-name-input" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‡∏°.1 ‡πÄ‡∏ó‡∏≠‡∏° 2">
            <div class="flex justify-end gap-3 mt-6">
                <button id="cancel-create-project-btn" class="bg-gray-300 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-400">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button id="confirm-create-project-btn" class="bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ</button>
            </div>
        </div>
    </div>

    <div id="admin-password-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white p-8 rounded-lg shadow-xl max-w-sm w-full">
            <h3 class="text-xl font-bold mb-4 text-center">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°</h3>
            <p class="text-center text-gray-600 mb-4">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏õ‡πâ‡∏≠‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á</p>
            <input type="password" id="admin-password-input" class="w-full p-3 border border-gray-300 rounded-lg text-center" placeholder="******">
            <p id="password-error-msg" class="text-red-500 text-sm text-center mt-2 hidden">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
            <div class="flex justify-end gap-3 mt-6">
                <button id="cancel-admin-login-btn" class="bg-gray-300 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-400">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button id="confirm-admin-login-btn" class="bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
            </div>
        </div>
    </div>

    <div id="confirmation-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-[60]">
        <div class="bg-white p-8 rounded-lg shadow-xl max-w-sm w-full text-center">
            <i class="fas fa-exclamation-triangle text-4xl text-yellow-500 mb-4"></i>
            <h3 class="text-xl font-bold mb-2">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥</h3>
            <p id="confirmation-message" class="text-gray-600 mb-6"></p>
            <div class="flex justify-center gap-4">
                <button id="cancel-delete-btn" class="bg-gray-300 text-gray-800 py-2 px-6 rounded-lg hover:bg-gray-400">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button id="confirm-delete-btn" class="bg-red-600 text-white py-2 px-6 rounded-lg hover:bg-red-700">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
            </div>
        </div>
    </div>
	
	<div id="lesson-plan-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50 p-4">
    <div class="bg-white p-6 rounded-lg shadow-xl max-w-4xl w-full h-[90vh] flex flex-col">
        <div class="flex justify-between items-center mb-4 border-b pb-3">
            <h3 id="lesson-plan-title" class="text-2xl font-bold text-indigo-700">‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏ó‡∏µ‡πà AI ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h3>
            <button id="close-lesson-plan-modal-btn" class="text-gray-500 hover:text-red-600 text-3xl">&times;</button>
        </div>
        
        <div id="lesson-plan-content" class="flex-grow overflow-y-auto bg-gray-50 p-8">
            </div>

        <div class="mt-6 pt-4 border-t flex justify-end gap-3">
            <button id="close-lesson-plan-modal-footer-btn" class="bg-gray-200 text-gray-800 py-2 px-6 rounded-lg hover:bg-gray-300">‡∏õ‡∏¥‡∏î</button>
            <button id="export-lesson-pdf-btn" class="bg-red-600 text-white py-2 px-6 rounded-lg hover:bg-red-700 flex items-center gap-2">
                <i class="fas fa-file-pdf"></i> Export ‡πÄ‡∏õ‡πá‡∏ô PDF
            </button>
        </div>
    </div>
</div>

    <div id="rename-quiz-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white p-8 rounded-lg shadow-xl max-w-md w-full">
            <h3 class="text-xl font-bold mb-4">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h3>
            <label for="rename-quiz-input" class="block text-sm font-medium text-gray-700 mb-1">‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà:</label>
            <input type="text" id="rename-quiz-input" class="w-full p-3 border border-gray-300 rounded-lg">
            <div class="flex justify-end gap-3 mt-6">
                <button id="cancel-rename-quiz-btn" class="bg-gray-300 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-400">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button id="confirm-rename-quiz-btn" class="bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </div>
        </div>
    </div>

    <div id="move-quiz-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white p-8 rounded-lg shadow-xl max-w-md w-full">
            <h3 class="text-xl font-bold mb-4">‡∏¢‡πâ‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÑ‡∏õ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏≠‡∏∑‡πà‡∏ô</h3>
            <label for="move-quiz-project-select" class="block text-sm font-medium text-gray-700 mb-1">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á:</label>
            <select id="move-quiz-project-select" class="w-full p-3 border border-gray-300 rounded-lg">
                <!-- Project options will be populated here -->
            </select>
            <div class="flex justify-end gap-3 mt-6">
                <button id="cancel-move-quiz-btn" class="bg-gray-300 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-400">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button id="confirm-move-quiz-btn" class="bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700">‡∏¢‡πâ‡∏≤‡∏¢</button>
            </div>
        </div>
    </div>
	
	<div id="blueprint-projects-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
  <div class="bg-white p-6 rounded-lg shadow-xl max-w-xl w-full flex flex-col">
<div class="flex justify-between items-center mb-4">
    <h3 class="text-xl font-bold text-teal-700">‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ Blueprint ‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ</h3>
    <div class="flex items-center gap-4">
        <button id="manual-create-blueprint-btn" class="bg-blue-600 text-white py-1 px-3 rounded-lg font-semibold hover:bg-blue-700 flex items-center text-sm">
            <i class="fas fa-plus mr-2"></i>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÄ‡∏≠‡∏á
        </button>
        <button id="cancel-blueprint-projects-btn" class="text-gray-500 hover:text-red-600 text-2xl">&times;</button>
    </div>
</div>
    <div id="blueprint-project-list" class="max-h-96 overflow-y-auto border rounded-md">
        <p class="p-4 text-center text-gray-500">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
    </div>
  </div>
</div>

<div id="manual-blueprint-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
  <div class="bg-white p-6 rounded-lg shadow-xl max-w-2xl w-full flex flex-col">
    <h3 class="text-xl font-bold text-blue-700 mb-4">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ Blueprint ‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</h3>

    <div class="space-y-4">
        <div>
            <label for="manual-bp-project-name" class="block text-sm font-medium text-gray-700">‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ:</label>
            <input type="text" id="manual-bp-project-name" class="mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="‡πÄ‡∏ä‡πà‡∏ô O-NET ‡∏õ.6 (‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏á)">
        </div>
        <div>
            <label for="manual-bp-grade-level" class="block text-sm font-medium text-gray-700">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô:</label>
            <input type="text" id="manual-bp-grade-level" class="mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 6">
        </div>
        <div>
            <label for="manual-bp-content" class="block text-sm font-medium text-gray-700">
                ‡∏ß‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ (‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤):
            </label>
            <textarea id="manual-bp-content" rows="10" class="mt-1 w-full p-2 border border-gray-300 rounded-lg font-mono text-sm" placeholder="‡∏™‡∏≤‡∏£‡∏∞‡∏ó‡∏µ‡πà 1: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡∏û‡∏µ‡∏ä‡∏Ñ‡∏ì‡∏¥‡∏ï
    ‡∏Å‡∏≤‡∏£‡∏ö‡∏ß‡∏Å ‡∏•‡∏ö ‡∏Ñ‡∏π‡∏ì ‡∏´‡∏≤‡∏£‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏ö
        ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏õ‡∏±‡∏ç‡∏´‡∏≤
‡∏™‡∏≤‡∏£‡∏∞‡∏ó‡∏µ‡πà 2: ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏Ç‡∏≤‡∏Ñ‡∏ì‡∏¥‡∏ï
    ‡πÄ‡∏ß‡∏•‡∏≤
        ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤"></textarea>
            <p class="text-xs text-gray-500 mt-1">
                <b>‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö:</b><br>
                ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÑ‡∏°‡πà‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤ = ‡∏™‡∏≤‡∏£‡∏∞ (Sara)<br>
                ‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤ 1 ‡∏£‡∏∞‡∏î‡∏±‡∏ö = ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏´‡∏•‡∏±‡∏Å (Main Topic)<br>
                ‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤ 2 ‡∏£‡∏∞‡∏î‡∏±‡∏ö = ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏¢‡πà‡∏≠‡∏¢ (Sub Topic)
            </p>
        </div>
    </div>

    <div class="flex justify-end gap-3 mt-6">
      <button id="cancel-manual-bp-btn" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300">
        ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
      </button>
      <button id="confirm-manual-bp-btn" class="bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700">
        ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
      </button>
    </div>
  </div>
</div>
	
<div id="global-activity-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 p-4">
  <div class="bg-white p-6 rounded-lg shadow-xl max-w-2xl w-full flex flex-col h-[80vh]">
    <div class="flex justify-between items-center mb-4 flex-shrink-0">
        <h3 class="text-xl font-bold text-gray-700">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° (‡∏ó‡∏∏‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ)
            <span id="global-quiz-count" class="text-base font-normal text-gray-500 ml-2"></span>
        </h3>
        <button id="cancel-global-activity-btn" class="text-gray-500 hover:text-red-600 text-2xl">&times;</button>
    </div>

    <input id="global-quiz-search-input" type="text"
           class="w-full p-2 border border-gray-300 rounded-lg mb-3 flex-shrink-0"
           placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ...">

    <div id="global-activity-quiz-list" class="flex-grow overflow-y-auto border rounded-md">
      </div>

    </div>
</div>

<div id="quiz-bank-modal"
     class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
  <div class="bg-white p-6 rounded-lg shadow-xl max-w-xl w-full flex flex-col">
    <div class="flex justify-between items-center mb-4">
    <h3 class="text-xl font-bold">‡∏Ñ‡∏•‡∏±‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        <span id="quiz-bank-count" class="text-base font-normal text-gray-500 ml-2"></span>
    </h3>
    <div class="flex items-center gap-4">
        <button id="bulk-quiz-settings-btn" class="bg-orange-500 text-white py-2 px-3 rounded-lg font-semibold hover:bg-orange-600 text-sm flex items-center gap-2">
            <i class="fas fa-cogs"></i> ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        </button>
        <button id="cancel-quiz-bank-btn" class="text-gray-500 hover:text-red-600 text-2xl">&times;</button>
    </div>
</div>

    <input id="bank-quiz-search-input" type="text"
           class="w-full p-2 border border-gray-300 rounded-lg mb-3"
           placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö, ‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ, ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö...">

    <div id="bank-quiz-list"
         class="max-h-96 overflow-y-auto border rounded-md">
      </div>

  </div>
</div>

<div id="topic-quiz-bank-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
    <div class="bg-white p-6 rounded-lg shadow-xl max-w-2xl w-full flex flex-col h-[90vh]">
        <div class="flex justify-between items-center mb-4 border-b pb-3">
            <div>
                <h3 class="text-xl font-bold text-gray-800">‡∏Ñ‡∏•‡∏±‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠</h3>
                <p id="topic-bank-subtopic-name" class="text-sm text-gray-500"></p>
            </div>
            <button id="close-topic-bank-btn" class="text-gray-500 hover:text-red-600 text-2xl">&times;</button>
        </div>
        
        <div id="topic-bank-list" class="flex-grow overflow-y-auto border rounded-md">
            </div>

        <div class="mt-4 pt-4 border-t flex justify-between items-center">
            <p class="text-xs text-gray-500">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞</p>
			<button id="clear-all-links-btn" class="hidden bg-red-100 text-red-700 py-2 px-4 rounded-lg font-semibold hover:bg-red-200 text-sm">
                <i class="fas fa-eraser mr-2"></i>‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
            </button>
            <button id="add-from-global-bank-btn" class="bg-purple-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-purple-700">
                <i class="fas fa-plus-circle mr-2"></i>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Ñ‡∏•‡∏±‡∏á‡∏£‡∏ß‡∏°
            </button>
        </div>
    </div>
</div>

    <div id="quiz-settings-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white p-8 rounded-lg shadow-xl max-w-lg w-full">
            <h3 class="text-xl font-bold mb-4">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h3>
            <div class="space-y-4">
                <div>
                    <label for="modal-shuffle-select" class="block text-sm font-medium text-gray-700">‡∏Å‡∏≤‡∏£‡∏™‡∏•‡∏±‡∏ö‡∏Ç‡πâ‡∏≠/‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:</label>
                    <select id="modal-shuffle-select" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
                        <option value="none">‡πÑ‡∏°‡πà‡∏™‡∏•‡∏±‡∏ö</option>
                        <option value="questions_only">‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠</option>
                        <option value="choices_only">‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
                        <option value="both">‡∏™‡∏•‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏Ç‡πâ‡∏≠‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
                    </select>
                </div>
                 <div>
    <label for="modal-results-display-select" class="block text-sm font-medium text-gray-700">‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏´‡πâ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:</label>
<select id="modal-results-display-select" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
    <option value="show_results_and_answers">‡∏ó‡∏£‡∏≤‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏â‡∏•‡∏¢‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</option>
    <option value="show_results_only">‡∏ó‡∏£‡∏≤‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏â‡∏•‡∏¢)</option>
    <option value="show_pass_fail_only">‡∏ó‡∏£‡∏≤‡∏ö‡∏ú‡∏•‡∏ú‡πà‡∏≤‡∏ô/‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</option>
    <option value="manual_release">‡∏£‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏•</option>

    <optgroup label="‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡πÉ‡∏´‡∏°‡πà)">
        <option value="half_mark_status">‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏£‡∏∂‡πà‡∏á/‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ñ‡∏£‡∏∂‡πà‡∏á</option>
        <option value="perfect_score_status">‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏°/‡πÑ‡∏°‡πà‡πÄ‡∏ï‡πá‡∏°</option>
    </optgroup>
    </select>
</div>
                 <div class="flex items-center mt-2">
    <input id="modal-adaptive-quiz-checkbox" type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
    <label for="modal-adaptive-quiz-checkbox" class="ml-2 block text-sm font-medium text-gray-900">
        ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏õ‡∏£‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô
    </label>
</div>

<div class="flex items-center mt-2">
    <input id="modal-loop-until-pass-checkbox" type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
    <label for="modal-loop-until-pass-checkbox" class="ml-2 block text-sm font-medium text-gray-900">
        ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡∏ô‡∏•‡∏π‡∏õ (‡∏™‡∏≠‡∏ö‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ú‡πà‡∏≤‡∏ô)
    </label>
</div>
<div class="p-3 border rounded-lg bg-indigo-50 space-y-2">
    <div class="flex items-center">
        <input id="modal-confidence-scoring-checkbox" type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
        <label for="modal-confidence-scoring-checkbox" class="ml-2 block text-sm font-medium text-gray-900">
            ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à
        </label>
    </div>
    <div id="modal-confidence-mode-container" class="hidden pl-6">
        <label for="modal-confidence-mode-select" class="block text-xs font-medium text-gray-600">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö:</label>
        <select id="modal-confidence-mode-select" class="mt-1 w-full p-1 text-sm border border-gray-300 rounded-lg">
            <option value="checkbox">‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (‡∏ï‡∏¥‡πä‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏Å‡πá‡πÑ‡∏î‡πâ)</option>
            <option value="mandatory">‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à/‡πÑ‡∏°‡πà‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à)</option>
        </select>
    </div>
</div>
                <div class="border-t pt-4">
                    <label for="modal-timer-mode-select" class="block text-sm font-medium text-gray-700">‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤:</label>
                    <select id="modal-timer-mode-select" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
                        <option value="none">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤</option>
                        <option value="whole_quiz">‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏±‡πâ‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö (‡∏ô‡∏≤‡∏ó‡∏µ)</option>
                        <option value="per_question">‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠ (‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)</option>
                    </select>
                </div>
                <div id="modal-timer-duration-container" class="hidden">
                    <label for="modal-timer-duration-input" id="modal-timer-duration-label" class="block text-sm font-medium text-gray-700">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤:</label>
                    <input type="number" id="modal-timer-duration-input" value="10" min="1" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
                </div>
                <!-- NEW: Passing Score in Modal -->
                <div class="border-t pt-4">
                    <label for="modal-passing-score-input" class="block text-sm font-medium text-gray-700">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô:</label>
                    <input type="number" id="modal-passing-score-input" value="5" min="0" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
                </div>
            </div>
            <div class="flex justify-end gap-3 mt-6">
                <button id="cancel-quiz-settings-btn" class="bg-gray-300 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-400">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button id="confirm-quiz-settings-btn" class="bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </div>
        </div>
    </div>
	
	<div id="blueprint-settings-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
    <div class="bg-white p-8 rounded-lg shadow-xl max-w-lg w-full flex flex-col">
        <h3 class="text-xl font-bold mb-4">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ)</h3>
        
        <div class="space-y-4 max-h-[70vh] overflow-y-auto pr-4">
            
            <div>
                <label for="bp-modal-quiz-type-select" class="block text-sm font-medium text-gray-700">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°:</label>
                <select id="bp-modal-quiz-type-select" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
                    <optgroup label="‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ">
                        <option value="multiple_choice">‡πÅ‡∏ö‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≠‡∏ö (‡∏Å, ‡∏Ç, ‡∏Ñ, ‡∏á)</option>
                        <option value="matching">‡πÅ‡∏ö‡∏ö‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà (‡πÅ‡∏¢‡∏Å‡∏Ç‡πâ‡∏≠)</option>
                        <option value="true_false">‡πÅ‡∏ö‡∏ö‡∏ñ‡∏π‡∏Å/‡∏ú‡∏¥‡∏î</option>
                    </optgroup>
                    <optgroup label="‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏≥">
                        <option value="fill_in_with_choices">‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏≥ (‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏´‡πâ)</option>
                        <option value="fill_in_no_choices">‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏≥ (‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ï‡∏≠‡∏ö‡πÄ‡∏≠‡∏á)</option>
                        <option value="mixed">‡πÅ‡∏ö‡∏ö‡∏ú‡∏™‡∏° (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏≥)</option>
                    </optgroup>
                </select>
            </div>

            <div>
                <label for="bp-modal-difficulty-level-select" class="block text-sm font-medium text-gray-700">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å:</label>
                <select id="bp-modal-difficulty-level-select" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
                     </select>
            </div>

            <div>
                <label for="bp-modal-question-complexity-select" class="block text-sm font-medium text-gray-700">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°:</label>
                <select id="bp-modal-question-complexity-select" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
                    </select>
            </div>
            
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label for="bp-modal-num-questions" class="block text-sm font-medium text-gray-700">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠:</label>
                    <input type="number" id="bp-modal-num-questions" value="5" min="1" max="20" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
                </div>
                <div>
                    <label for="bp-modal-passing-score-input" class="block text-sm font-medium text-gray-700">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô:</label>
                    <input type="number" id="bp-modal-passing-score-input" value="3" min="0" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
                </div>
            </div>
            
            <div id="bp-modal-num-choices-container">
                <label for="bp-modal-num-choices" class="block text-sm font-medium text-gray-700">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:</label>
                <input type="number" id="bp-modal-num-choices" value="4" min="2" max="6" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
            </div>

            <div>
                <label for="bp-modal-shuffle-setting-select" class="block text-sm font-medium text-gray-700">‡∏Å‡∏≤‡∏£‡∏™‡∏•‡∏±‡∏ö‡∏Ç‡πâ‡∏≠/‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:</label>
                <select id="bp-modal-shuffle-setting-select" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
                    <option value="none">‡πÑ‡∏°‡πà‡∏™‡∏•‡∏±‡∏ö</option>
                    <option value="questions_only">‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠</option>
                    <option value="choices_only">‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
                    <option value="both">‡∏™‡∏•‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏Ç‡πâ‡∏≠‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
                </select>
            </div>
            
            <div class="flex items-center mt-2">
                <input id="bp-modal-include-images-checkbox" type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                <label for="bp-modal-include-images-checkbox" class="ml-2 block text-sm font-medium text-gray-900">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</label>
            </div>

        </div>
        
        <div class="flex justify-end gap-3 mt-6">
            <button id="cancel-bp-settings-btn" class="bg-gray-300 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-400">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button id="save-bp-settings-btn" class="bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</button>
        </div>
    </div>
</div>
    
    <div id="quiz-status-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white p-8 rounded-lg shadow-xl max-w-md w-full">
            <h3 class="text-xl font-bold mb-4">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h3>
            <div class="space-y-4">
                <div class="space-y-2" id="quiz-status-options">
                    <!-- Radio buttons will be dynamically inserted here -->
                </div>
                <div id="quiz-schedule-end-container" class="hidden space-y-2 border-t pt-3">
                    <label for="quiz-end-time" class="block text-sm font-medium text-gray-700">‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏¥‡∏î:</label>
                    <input type="datetime-local" id="quiz-end-time" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
                </div>
                <div id="quiz-schedule-start-container" class="hidden space-y-2 border-t pt-3">
                    <label for="quiz-start-time" class="block text-sm font-medium text-gray-700">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏õ‡∏¥‡∏î:</label>
                    <input type="datetime-local" id="quiz-start-time" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
                </div>
            </div>
            <div class="flex justify-end gap-3 mt-6">
                <button id="cancel-quiz-status-btn" class="bg-gray-300 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-400">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button id="confirm-quiz-status-btn" class="bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </div>
        </div>
    </div>
	
	<div id="bulk-quiz-settings-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
    <div class="bg-white p-8 rounded-lg shadow-xl max-w-lg w-full">
        <h3 class="text-xl font-bold mb-4">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡∏Ñ‡∏•‡∏±‡∏á</h3>
        <p class="text-sm text-red-600 mb-4">‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô: ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö **‡∏ó‡∏∏‡∏Å‡∏ä‡∏∏‡∏î** ‡πÉ‡∏ô‡∏Ñ‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
<div class="space-y-4">
    <div>
        <label for="bulk-shuffle-select" class="block text-sm font-medium text-gray-700">‡∏Å‡∏≤‡∏£‡∏™‡∏•‡∏±‡∏ö‡∏Ç‡πâ‡∏≠/‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:</label>
        <select id="bulk-shuffle-select" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
            <option value="none">‡πÑ‡∏°‡πà‡∏™‡∏•‡∏±‡∏ö</option>
            <option value="questions_only">‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠</option>
            <option value="choices_only">‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
            <option value="both">‡∏™‡∏•‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏Ç‡πâ‡∏≠‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
        </select>
    </div>
    <div>
        <label for="bulk-results-display-select" class="block text-sm font-medium text-gray-700">‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏´‡πâ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:</label>
        <select id="bulk-results-display-select" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
            <option value="show_results_and_answers">‡∏ó‡∏£‡∏≤‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏â‡∏•‡∏¢‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</option>
            <option value="show_results_only">‡∏ó‡∏£‡∏≤‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏â‡∏•‡∏¢)</option>
            <option value="show_pass_fail_only">‡∏ó‡∏£‡∏≤‡∏ö‡∏ú‡∏•‡∏ú‡πà‡∏≤‡∏ô/‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</option>
            <option value="manual_release">‡∏£‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏•</option>
        </select>
    </div>
    <div class="flex items-center mt-2">
        <input id="bulk-loop-until-pass-checkbox" type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
        <label for="bulk-loop-until-pass-checkbox" class="ml-2 block text-sm font-medium text-gray-900">
            ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡∏ô‡∏•‡∏π‡∏õ (‡∏™‡∏≠‡∏ö‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ú‡πà‡∏≤‡∏ô)
        </label>
    </div>

    <div class="p-3 border-t border-gray-200 mt-2 space-y-2 bg-indigo-50 rounded-lg">
        <div class="flex items-center">
            <input id="bulk-confidence-scoring-checkbox" type="checkbox" class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
            <label for="bulk-confidence-scoring-checkbox" class="ml-2 block text-sm font-medium text-gray-900">
                ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à
            </label>
        </div>
        <div id="bulk-confidence-mode-container" class="hidden pl-6">
            <label for="bulk-confidence-mode-select" class="block text-xs font-medium text-gray-600">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö:</label>
            <select id="bulk-confidence-mode-select" class="mt-1 w-full p-1 text-sm border border-gray-300 rounded-lg">
                <option value="checkbox">‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (‡∏ï‡∏¥‡πä‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏Å‡πá‡πÑ‡∏î‡πâ)</option>
                <option value="mandatory">‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à/‡πÑ‡∏°‡πà‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à)</option>
            </select>
        </div>
    </div>
    </div>
        <div class="flex justify-end gap-3 mt-6">
            <button id="cancel-bulk-quiz-settings-btn" class="bg-gray-300 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-400">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button id="confirm-bulk-quiz-settings-btn" class="bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
        </div>
    </div>
</div>

<div id="quiz-editor-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center hidden z-50 p-4">
        <div class="bg-white p-6 rounded-lg shadow-xl max-w-4xl w-full h-[90vh] flex flex-col">
            <div class="flex justify-between items-center mb-4 border-b pb-3">
                <h3 class="text-2xl font-bold text-indigo-700">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h3>
                <button id="cancel-quiz-edits-btn" class="text-gray-500 hover:text-red-600 text-3xl">&times;</button>
            </div>
            <div class="flex-grow overflow-y-auto pr-2">
                <div class="mb-4">
                    <label for="editor-quiz-topic" class="block text-sm font-medium text-gray-700 mb-1">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö:</label>
                    <input type="text" id="editor-quiz-topic" class="w-full p-2 border border-gray-300 rounded-lg text-lg font-semibold">
                </div>
                <div id="quiz-editor-questions-container" class="space-y-6">
                    </div>
            </div>
          <div class="mt-6 pt-4 border-t flex flex-col sm:flex-row sm:justify-end gap-3">
    <button id="auto-fix-latex-btn" class="bg-yellow-500 text-white py-2 px-6 rounded-lg hover:bg-yellow-600 flex items-center justify-center gap-2 w-full sm:w-auto">
        <i class="fas fa-magic-wand-sparkles"></i> ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏π‡∏ï‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    </button>
    <button id="verify-answers-editor-btn" class="bg-blue-600 text-white py-2 px-6 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 w-full sm:w-auto">
        <i class="fas fa-check-double"></i> ‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡∏≤‡∏ô‡πÄ‡∏â‡∏•‡∏¢ (AI)
    </button>
    <button id="cancel-quiz-edits-btn-footer" class="bg-gray-200 text-gray-800 py-2 px-6 rounded-lg hover:bg-gray-300 w-full sm:w-auto justify-center">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
    <button id="save-quiz-edits-btn" class="bg-green-600 text-white py-2 px-6 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2 w-full sm:w-auto">
        <i class="fas fa-save"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
    </button>
</div>
			
        </div>
    </div>
	
	<div id="confirm-game-start-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
    <div class="bg-white p-8 rounded-lg shadow-xl max-w-md w-full">
        <h3 id="game-start-modal-title" class="text-xl font-bold mb-4">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h3>
        <p class="text-gray-600 mb-6">‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</p>

        <div class="my-4">
            <label for="save-game-results-checkbox" class="flex items-center cursor-pointer">
                <input id="save-game-results-checkbox" type="checkbox" checked class="h-5 w-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500">
                <span class="ml-3 text-gray-700">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ô‡∏µ‡πâ‡∏•‡∏á‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</span>
            </label>
            <p class="text-xs text-gray-500 mt-1 pl-8">‡∏´‡∏≤‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ô‡∏µ‡πâ ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏à‡∏≤‡∏Å‡πÄ‡∏Å‡∏°‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ô‡∏≥‡πÑ‡∏õ‡∏£‡∏ß‡∏°‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÅ‡∏•‡∏∞‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ú‡∏π‡πâ‡∏ô‡∏≥</p>
        </div>
		
		<div id="sync-variant-selector" class="my-4 text-left hidden">
        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏â‡∏•‡∏¢ (Sync Mode):</label>
        <div class="space-y-2">
            <label class="flex items-center p-2 border rounded-lg cursor-pointer has-[:checked]:bg-blue-50 has-[:checked]:border-blue-400">
                <input type="radio" name="syncVariant" value="classic" class="mr-3" checked>
                <div>
                    <p class="font-semibold">‡πÄ‡∏â‡∏•‡∏¢‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠ (Classic)</p>
                    <p class="text-xs text-gray-500">‡∏´‡∏•‡∏±‡∏á‡∏à‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ç‡πâ‡∏≠ ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏â‡∏•‡∏¢‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>
                </div>
            </label>
            <label class="flex items-center p-2 border rounded-lg cursor-pointer has-[:checked]:bg-blue-50 has-[:checked]:border-blue-400">
                <input type="radio" name="syncVariant" value="reveal_at_end" class="mr-3">
                <div>
                    <p class="font-semibold">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏ï‡∏≠‡∏ô‡∏ó‡πâ‡∏≤‡∏¢ (Reveal at End)</p>
                    <p class="text-xs text-gray-500">‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡∏™‡∏£‡∏∏‡∏õ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏ö‡∏Ç‡πâ‡∏≠ ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡∏ï‡πà‡∏≠‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (‡πÄ‡∏â‡∏•‡∏¢‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏ï‡∏≠‡∏ô‡∏ó‡πâ‡∏≤‡∏¢‡πÄ‡∏Å‡∏°)</p>
                </div>
            </label>
        </div>
    </div>

        <input type="hidden" id="game-start-quiz-id">
        <input type="hidden" id="game-start-mode">
        
        <div class="flex justify-end gap-3 mt-8">
            <button id="cancel-game-start-btn" class="bg-gray-300 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-400">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button id="confirm-game-start-btn" class="bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°</button>
        </div>
    </div>
</div>

<div id="shortcut-editor-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 p-4">
    <div class="bg-white p-6 rounded-lg shadow-xl max-w-lg w-full">
        <h3 id="shortcut-modal-title" class="text-xl font-bold mb-4">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏±‡∏î</h3>
        <div class="space-y-4">
            <div>
                <label for="shortcut-name-input" class="block text-sm font-medium text-gray-700">‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏±‡∏î:</label>
                <input type="text" id="shortcut-name-input" class="mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="‡πÄ‡∏ä‡πà‡∏ô Blueprint O-NET ‡∏õ.6">
            </div>
            <div>
                <label for="shortcut-blueprint-url-input" class="block text-sm font-medium text-gray-700">‡∏•‡∏¥‡∏á‡∏Å‡πå Test Blueprint (‡∏à‡∏≤‡∏Å Google Drive):</label>
                <input type="url" id="shortcut-blueprint-url-input" class="mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="‡∏ß‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏ä‡∏£‡πå‡πÅ‡∏ö‡∏ö '‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏•‡∏¥‡∏á‡∏Å‡πå' ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà">
            </div>
            <div>
                <label for="shortcut-reference-url-input" class="block text-sm font-medium text-gray-700">‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏ü‡∏•‡πå‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡∏£‡∏¥‡∏°):</label>
                <input type="url" id="shortcut-reference-url-input" class="mt-1 w-full p-2 border border-gray-300 rounded-lg" placeholder="‡∏ß‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏ü‡∏•‡πå PDF ‡∏´‡∏£‡∏∑‡∏≠ TXT">
            </div>
        </div>
        <div class="flex justify-end gap-3 mt-6">
            <input type="hidden" id="shortcut-id-input">
            <button id="cancel-shortcut-edit-btn" class="bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button id="save-shortcut-btn" class="bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        </div>
    </div>
</div>

<div id="additional-shortcuts-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
<div class="bg-white p-6 rounded-lg shadow-xl max-w-2xl w-full flex flex-col h-[80vh]">
    <div class="flex justify-between items-center mb-4">
        <h3 id="shortcut-modal-main-title" class="text-xl font-bold text-gray-700">‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏±‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
        <button id="close-additional-shortcuts-btn" class="text-gray-500 hover:text-red-600 text-2xl">&times;</button>
    </div>

    <div class="flex items-center border-b border-gray-200 mb-3 flex-shrink-0">
        <nav id="shortcut-tabs-nav" class="flex-grow -mb-px flex space-x-4 overflow-x-auto" aria-label="Tabs">
            </nav>
        <button id="add-shortcut-tab-btn" class="ml-4 text-blue-600 hover:text-blue-800 font-semibold text-sm whitespace-nowrap py-3" title="‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ó‡πá‡∏ö‡πÉ‡∏´‡∏°‡πà">
            <i class="fas fa-plus-circle"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ó‡πá‡∏ö
        </button>
    </div>
    <div id="additional-shortcuts-list" class="flex-grow overflow-y-auto border rounded-md">
        </div>
</div>
</div>

    <!-- Presentation Mode Container -->
    <div id="presentation-modal" class="fixed inset-0 bg-gray-800 text-white flex-col items-center justify-center hidden z-50 p-4">
        <button id="close-presentation-btn" class="absolute top-4 right-6 text-4xl hover:text-gray-300">&times;</button>
        <div id="presentation-slide-container" class="w-full max-w-5xl h-full flex flex-col items-center justify-center">
            <!-- Slide content will be injected here -->
        </div>
<div class="absolute bottom-4 w-full flex justify-between items-center px-8 max-w-5xl mx-auto left-0 right-0">
            <button id="prev-question-btn" class="bg-indigo-600 py-2 px-5 rounded-lg hover:bg-indigo-700 disabled:bg-gray-500 disabled:cursor-not-allowed"><i class="fas fa-arrow-left mr-2"></i>‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>
            
            <div class="flex-grow flex justify-center items-center gap-8">
                <div id="slide-counter" class="text-lg font-semibold"></div>
                <button id="presentation-scratchpad-btn" class="bg-white/20 hover:bg-white/40 text-white font-bold py-2 px-5 rounded-lg text-lg flex items-center gap-2" title="‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡∏ó‡∏î‡πÄ‡∏•‡∏Ç">
                    <i class="fas fa-pencil-alt"></i> ‡∏ó‡∏î‡πÄ‡∏•‡∏Ç
                </button>
            </div>
            
            <button id="next-question-btn" class="bg-indigo-600 py-2 px-5 rounded-lg hover:bg-indigo-700 disabled:bg-gray-500 disabled:cursor-not-allowed">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ<i class="fas fa-arrow-right ml-2"></i></button>
        </div>
    </div>
    <!-- NEW: Student Rankings Modal -->
    <div id="student-rankings-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50 p-4">
        <div class="bg-white p-6 rounded-lg shadow-xl max-w-3xl w-full h-[90vh] flex flex-col">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold text-indigo-700">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ú‡∏π‡πâ‡∏ô‡∏≥</h3>
                <button id="close-student-rankings-btn" class="text-gray-500 hover:text-red-600 text-2xl">&times;</button>
            </div>
            <!-- Tabs -->
            <div class="border-b border-gray-200">
                <nav class="-mb-px flex space-x-6">
                    <button id="student-quiz-leaderboard-tab" class="main-tab active whitespace-nowrap py-3 px-1 border-b-2 font-medium text-lg">
                        <i class="fas fa-list-ol mr-2"></i>‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡πÉ‡∏ô‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡∏ô‡∏µ‡πâ
                    </button>
                    <button id="student-project-leaderboard-tab" class="main-tab whitespace-nowrap py-3 px-1 border-b-2 font-medium text-lg text-gray-500">
                        <i class="fas fa-trophy mr-2"></i>‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
                    </button>
                </nav>
            </div>
            <!-- Content -->
            <div class="flex-grow overflow-y-auto mt-4">
                <div id="student-quiz-leaderboard-content">
                    <table class="min-w-full bg-white">
                        <thead class="bg-gray-100 sticky top-0">
                            <!-- Header for Quiz Leaderboard -->
                        </thead>
                        <tbody id="student-quiz-leaderboard-table-body"></tbody>
                    </table>
                </div>
                <div id="student-project-leaderboard-content" class="hidden">
                     <table class="min-w-full bg-white">
                        <thead class="bg-gray-100 sticky top-0">
                           <!-- Header for Project Leaderboard -->
                        </thead>
                        <tbody id="student-project-leaderboard-table-body"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
	
	<div id="project-passcode-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50">
    <div class="bg-white p-8 rounded-lg shadow-xl max-w-sm w-full">
        <h3 class="text-xl font-bold mb-2 text-center">‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</h3>
        <p id="passcode-prompt-message" class="text-center text-gray-600 mb-4"></p>
        <input type="text" id="student-passcode-input" class="w-full p-3 border border-gray-300 rounded-lg text-center" placeholder="‡∏õ‡πâ‡∏≠‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô">
        <p id="passcode-error-msg" class="text-red-500 text-sm text-center mt-2 hidden">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
        <div class="flex justify-end gap-3 mt-6">
            <button id="cancel-passcode-btn" class="bg-gray-300 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-400">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button id="confirm-passcode-btn" class="bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
        </div>
    </div>
</div>

<div id="confidence-modal" data-current-mode="" class="hidden fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-lg shadow-xl p-8 text-center max-w-sm w-full">
        <p class="text-xl font-semibold text-gray-800 mb-6">‡∏Ñ‡∏∏‡∏ì‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡πÉ‡∏ô‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ô‡∏µ‡πâ‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô?</p>
 <div class="flex justify-center gap-4">
    <button id="confirm-confident" class="flex-1 bg-green-600 text-white py-3 px-6 rounded-lg text-lg font-bold hover:bg-green-700 transition-transform hover:scale-105">
        <i class="far fa-smile-beam mr-2"></i>‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à
    </button>
    <button id="confirm-not-confident" class="flex-1 bg-gray-500 text-white py-3 px-6 rounded-lg text-lg font-bold hover:bg-gray-600 transition-transform hover:scale-105">
        <i class="far fa-meh mr-2"></i>‡πÑ‡∏°‡πà‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à
    </button>
</div>
        <input type="hidden" id="selected-answer-index-hidden">
    </div>
</div>
<!-- ‚ñº‚ñº‚ñº 3.1 ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà <div id="scratchpad-modal"> ‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏î‡πâ‡∏ß‡∏¢‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ ‚ñº‚ñº‚ñº -->
<div id="scratchpad-modal" class="hidden fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 sm:p-6 md:p-8">
    <div class="bg-white w-full h-full rounded-lg shadow-xl flex flex-col overflow-hidden">
        
        <div id="scratchpad-controls" class="flex-shrink-0">
             </div>

        <div class="scratchpad-content-wrapper flex-grow relative">
            <canvas id="scratchpad-canvas" class="absolute inset-0 z-10"></canvas>
            <div id="scratchpad-header" class="p-4 sm:p-6 relative z-20 pointer-events-none">
                <h3 id="scratchpad-question" class="text-xl sm:text-2xl font-bold text-gray-800"></h3>
                <div id="scratchpad-options" class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 mt-3 text-gray-700">
                </div>
            </div>
        </div>
    </div>
</div>

    <script type="module" src="script.min.js"></script>
	
</body>
</html>
